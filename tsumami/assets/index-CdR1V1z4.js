(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var ex={exports:{}},Wi={};var Md;function sh(){if(Md)return Wi;Md=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:u,type:i,key:m,ref:o!==void 0?o:null,props:f}}return Wi.Fragment=r,Wi.jsx=a,Wi.jsxs=a,Wi}var zd;function oh(){return zd||(zd=1,ex.exports=sh()),ex.exports}var x=oh(),tx={exports:{}},we={};var Dd;function fh(){if(Dd)return we;Dd=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),z=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=z&&N[z]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(N,R,Y){this.props=N,this.context=R,this.refs=S,this.updater=Y||D}T.prototype.isReactComponent={},T.prototype.setState=function(N,R){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,R,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=T.prototype;function L(N,R,Y){this.props=N,this.context=R,this.refs=S,this.updater=Y||D}var q=L.prototype=new G;q.constructor=L,w(q,T.prototype),q.isPureReactComponent=!0;var O=Array.isArray;function V(){}var Z={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function F(N,R,Y){var K=Y.ref;return{$$typeof:u,type:N,key:R,ref:K!==void 0?K:null,props:Y}}function Q(N,R){return F(N.type,R,N.props)}function W(N){return typeof N=="object"&&N!==null&&N.$$typeof===u}function _(N){var R={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(Y){return R[Y]})}var C=/\/+/g;function A(N,R){return typeof N=="object"&&N!==null&&N.key!=null?_(""+N.key):R.toString(36)}function M(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(V,V):(N.status="pending",N.then(function(R){N.status==="pending"&&(N.status="fulfilled",N.value=R)},function(R){N.status==="pending"&&(N.status="rejected",N.reason=R)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function j(N,R,Y,K,le){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case u:case r:fe=!0;break;case g:return fe=N._init,j(fe(N._payload),R,Y,K,le)}}if(fe)return le=le(N),fe=K===""?"."+A(N,0):K,O(le)?(Y="",fe!=null&&(Y=fe.replace(C,"$&/")+"/"),j(le,R,Y,"",function(je){return je})):le!=null&&(W(le)&&(le=Q(le,Y+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+fe)),R.push(le)),1;fe=0;var oe=K===""?".":K+":";if(O(N))for(var ge=0;ge<N.length;ge++)K=N[ge],se=oe+A(K,ge),fe+=j(K,R,Y,se,le);else if(ge=b(N),typeof ge=="function")for(N=ge.call(N),ge=0;!(K=N.next()).done;)K=K.value,se=oe+A(K,ge++),fe+=j(K,R,Y,se,le);else if(se==="object"){if(typeof N.then=="function")return j(M(N),R,Y,K,le);throw R=String(N),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return fe}function B(N,R,Y){if(N==null)return N;var K=[],le=0;return j(N,K,"","",function(se){return R.call(Y,se,le++)}),K}function I(N){if(N._status===-1){var R=N._result;R=R(),R.then(function(Y){(N._status===0||N._status===-1)&&(N._status=1,N._result=Y)},function(Y){(N._status===0||N._status===-1)&&(N._status=2,N._result=Y)}),N._status===-1&&(N._status=0,N._result=R)}if(N._status===1)return N._result.default;throw N._result}var H=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},k={map:B,forEach:function(N,R,Y){B(N,function(){R.apply(this,arguments)},Y)},count:function(N){var R=0;return B(N,function(){R++}),R},toArray:function(N){return B(N,function(R){return R})||[]},only:function(N){if(!W(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return we.Activity=v,we.Children=k,we.Component=T,we.Fragment=a,we.Profiler=o,we.PureComponent=L,we.StrictMode=i,we.Suspense=d,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Z.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(N,R,Y){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=w({},N.props),le=N.key;if(R!=null)for(se in R.key!==void 0&&(le=""+R.key),R)!J.call(R,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&R.ref===void 0||(K[se]=R[se]);var se=arguments.length-2;if(se===1)K.children=Y;else if(1<se){for(var fe=Array(se),oe=0;oe<se;oe++)fe[oe]=arguments[oe+2];K.children=fe}return F(N.type,le,K)},we.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},we.createElement=function(N,R,Y){var K,le={},se=null;if(R!=null)for(K in R.key!==void 0&&(se=""+R.key),R)J.call(R,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(le[K]=R[K]);var fe=arguments.length-2;if(fe===1)le.children=Y;else if(1<fe){for(var oe=Array(fe),ge=0;ge<fe;ge++)oe[ge]=arguments[ge+2];le.children=oe}if(N&&N.defaultProps)for(K in fe=N.defaultProps,fe)le[K]===void 0&&(le[K]=fe[K]);return F(N,se,le)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:y,render:N}},we.isValidElement=W,we.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:I}},we.memo=function(N,R){return{$$typeof:h,type:N,compare:R===void 0?null:R}},we.startTransition=function(N){var R=Z.T,Y={};Z.T=Y;try{var K=N(),le=Z.S;le!==null&&le(Y,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(V,H)}catch(se){H(se)}finally{R!==null&&Y.types!==null&&(R.types=Y.types),Z.T=R}},we.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},we.use=function(N){return Z.H.use(N)},we.useActionState=function(N,R,Y){return Z.H.useActionState(N,R,Y)},we.useCallback=function(N,R){return Z.H.useCallback(N,R)},we.useContext=function(N){return Z.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,R){return Z.H.useDeferredValue(N,R)},we.useEffect=function(N,R){return Z.H.useEffect(N,R)},we.useEffectEvent=function(N){return Z.H.useEffectEvent(N)},we.useId=function(){return Z.H.useId()},we.useImperativeHandle=function(N,R,Y){return Z.H.useImperativeHandle(N,R,Y)},we.useInsertionEffect=function(N,R){return Z.H.useInsertionEffect(N,R)},we.useLayoutEffect=function(N,R){return Z.H.useLayoutEffect(N,R)},we.useMemo=function(N,R){return Z.H.useMemo(N,R)},we.useOptimistic=function(N,R){return Z.H.useOptimistic(N,R)},we.useReducer=function(N,R,Y){return Z.H.useReducer(N,R,Y)},we.useRef=function(N){return Z.H.useRef(N)},we.useState=function(N){return Z.H.useState(N)},we.useSyncExternalStore=function(N,R,Y){return Z.H.useSyncExternalStore(N,R,Y)},we.useTransition=function(){return Z.H.useTransition()},we.version="19.2.3",we}var Nd;function Tx(){return Nd||(Nd=1,tx.exports=fh()),tx.exports}var $=Tx(),nx={exports:{}},Qi={},lx={exports:{}},ax={};var Ad;function dh(){return Ad||(Ad=1,(function(u){function r(j,B){var I=j.length;j.push(B);e:for(;0<I;){var H=I-1>>>1,k=j[H];if(0<o(k,B))j[H]=B,j[I]=k,I=H;else break e}}function a(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var B=j[0],I=j.pop();if(I!==B){j[0]=I;e:for(var H=0,k=j.length,N=k>>>1;H<N;){var R=2*(H+1)-1,Y=j[R],K=R+1,le=j[K];if(0>o(Y,I))K<k&&0>o(le,Y)?(j[H]=le,j[K]=I,H=K):(j[H]=Y,j[R]=I,H=R);else if(K<k&&0>o(le,I))j[H]=le,j[K]=I,H=K;else break e}}return B}function o(j,B){var I=j.sortIndex-B.sortIndex;return I!==0?I:j.id-B.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();u.unstable_now=function(){return m.now()-y}}var d=[],h=[],g=1,v=null,z=3,b=!1,D=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(j){for(var B=a(h);B!==null;){if(B.callback===null)i(h);else if(B.startTime<=j)i(h),B.sortIndex=B.expirationTime,r(d,B);else break;B=a(h)}}function O(j){if(w=!1,q(j),!D)if(a(d)!==null)D=!0,V||(V=!0,_());else{var B=a(h);B!==null&&M(O,B.startTime-j)}}var V=!1,Z=-1,J=5,F=-1;function Q(){return S?!0:!(u.unstable_now()-F<J)}function W(){if(S=!1,V){var j=u.unstable_now();F=j;var B=!0;try{e:{D=!1,w&&(w=!1,G(Z),Z=-1),b=!0;var I=z;try{t:{for(q(j),v=a(d);v!==null&&!(v.expirationTime>j&&Q());){var H=v.callback;if(typeof H=="function"){v.callback=null,z=v.priorityLevel;var k=H(v.expirationTime<=j);if(j=u.unstable_now(),typeof k=="function"){v.callback=k,q(j),B=!0;break t}v===a(d)&&i(d),q(j)}else i(d);v=a(d)}if(v!==null)B=!0;else{var N=a(h);N!==null&&M(O,N.startTime-j),B=!1}}break e}finally{v=null,z=I,b=!1}B=void 0}}finally{B?_():V=!1}}}var _;if(typeof L=="function")_=function(){L(W)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,A=C.port2;C.port1.onmessage=W,_=function(){A.postMessage(null)}}else _=function(){T(W,0)};function M(j,B){Z=T(function(){j(u.unstable_now())},B)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return z},u.unstable_next=function(j){switch(z){case 1:case 2:case 3:var B=3;break;default:B=z}var I=z;z=B;try{return j()}finally{z=I}},u.unstable_requestPaint=function(){S=!0},u.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var I=z;z=j;try{return B()}finally{z=I}},u.unstable_scheduleCallback=function(j,B,I){var H=u.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?H+I:H):I=H,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=I+k,j={id:g++,callback:B,priorityLevel:j,startTime:I,expirationTime:k,sortIndex:-1},I>H?(j.sortIndex=I,r(h,j),a(d)===null&&j===a(h)&&(w?(G(Z),Z=-1):w=!0,M(O,I-H))):(j.sortIndex=k,r(d,j),D||b||(D=!0,V||(V=!0,_()))),j},u.unstable_shouldYield=Q,u.unstable_wrapCallback=function(j){var B=z;return function(){var I=z;z=B;try{return j.apply(this,arguments)}finally{z=I}}}})(ax)),ax}var Ed;function hh(){return Ed||(Ed=1,lx.exports=dh()),lx.exports}var ix={exports:{}},Ht={};var Ld;function mh(){if(Ld)return Ht;Ld=1;var u=Tx();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(d,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:h,implementation:g}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ht.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return f(d,h,null,g)},Ht.flushSync=function(d){var h=m.T,g=i.p;try{if(m.T=null,i.p=2,d)return d()}finally{m.T=h,i.p=g,i.d.f()}},Ht.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Ht.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ht.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,v=y(g,h.crossOrigin),z=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:z,fetchPriority:b}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:z,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ht.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=y(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Ht.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=y(g,h.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ht.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=y(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Ht.requestFormReset=function(d){i.d.r(d)},Ht.unstable_batchedUpdates=function(d,h){return d(h)},Ht.useFormState=function(d,h,g){return m.H.useFormState(d,h,g)},Ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ht.version="19.2.3",Ht}var Td;function bh(){if(Td)return ix.exports;Td=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),ix.exports=mh(),ix.exports}var Bd;function gh(){if(Bd)return Qi;Bd=1;var u=hh(),r=Tx(),a=bh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(f(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return d(c),e;if(s===l)return d(c),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=s;else{for(var p=!1,E=c.child;E;){if(E===n){p=!0,n=c,l=s;break}if(E===l){p=!0,l=c,n=s;break}E=E.sibling}if(!p){for(E=s.child;E;){if(E===n){p=!0,n=s,l=c;break}if(E===l){p=!0,l=s,n=c;break}E=E.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,z=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case V:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case L:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var M=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},H=[],k=-1;function N(e){return{current:e}}function R(e){0>k||(e.current=H[k],H[k]=null,k--)}function Y(e,t){k++,H[k]=e.current,e.current=t}var K=N(null),le=N(null),se=N(null),fe=N(null);function oe(e,t){switch(Y(se,t),Y(le,e),Y(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wf(t),e=Qf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(K),Y(K,e)}function ge(){R(K),R(le),R(se)}function je(e){e.memoizedState!==null&&Y(fe,e);var t=K.current,n=Qf(t,e.type);t!==n&&(Y(le,e),Y(K,n))}function he(e){le.current===e&&(R(K),R(le)),fe.current===e&&(R(fe),Ki._currentValue=I)}var Re,et;function it(e){if(Re===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Re=t&&t[1]||"",et=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+e+et}var $e=!1;function zt(e,t){if(!e||$e)return"";$e=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ne=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),p=s[0],E=s[1];if(p&&E){var U=p.split(`
`),te=E.split(`
`);for(c=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;if(l===U.length||c===te.length)for(l=U.length-1,c=te.length-1;1<=l&&0<=c&&U[l]!==te[c];)c--;for(;1<=l&&0<=c;l--,c--)if(U[l]!==te[c]){if(l!==1||c!==1)do if(l--,c--,0>c||U[l]!==te[c]){var ie=`
`+U[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{$e=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function Et(e,t){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return e.child!==t&&t!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return zt(e.type,!1);case 11:return zt(e.type.render,!1);case 1:return zt(e.type,!0);case 31:return it("Activity");default:return""}}function Ct(e){try{var t="",n=null;do t+=Et(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Kt=u.unstable_scheduleCallback,Tn=u.unstable_cancelCallback,Qn=u.unstable_shouldYield,Pn=u.unstable_requestPaint,He=u.unstable_now,un=u.unstable_getCurrentPriorityLevel,vl=u.unstable_ImmediatePriority,Kl=u.unstable_UserBlockingPriority,Bn=u.unstable_NormalPriority,ha=u.unstable_LowPriority,qn=u.unstable_IdlePriority,ai=u.log,Xl=u.unstable_setDisableYieldValue,Fn=null,Lt=null;function Ze(e){if(typeof ai=="function"&&Xl(e),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(Fn,e)}catch{}}var ue=Math.clz32?Math.clz32:Ne,De=Math.log,Oe=Math.LN2;function Ne(e){return e>>>=0,e===0?32:31-(De(e)/Oe|0)|0}var Ce=256,lt=262144,Ge=4194304;function Se(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function st(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~s,l!==0?c=Se(l):(p&=E,p!==0?c=Se(p):n||(n=E&~e,n!==0&&(c=Se(n))))):(E=l&~s,E!==0?c=Se(E):p!==0?c=Se(p):n||(n=l&~e,n!==0&&(c=Se(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ot(){var e=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),e}function Xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dt(e,t,n,l,c,s){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,U=e.expirationTimes,te=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-ue(n),ce=1<<ie;E[ie]=0,U[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ce}l!==0&&Ae(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(p&~t))}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ue(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ue(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function gt(e,t){var n=t&-t;return n=(n&42)!==0?1:ct(n),(n&(e.suspendedLanes|t))!==0?0:n}function ct(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:yd(e.type))}function cr(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}var Zn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Zn,Ut="__reactProps$"+Zn,de="__reactContainer$"+Zn,ve="__reactEvents$"+Zn,Ye="__reactListeners$"+Zn,Wt="__reactHandles$"+Zn,vt="__reactResources$"+Zn,xn="__reactMarker$"+Zn;function ri(e){delete e[wt],delete e[Ut],delete e[ve],delete e[Ye],delete e[Wt]}function ma(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[wt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function ba(e){if(e=e[wt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ga(e){var t=e[vt];return t||(t=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[xn]=!0}var qx=new Set,Gx={};function Jl(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(Gx[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rx={},kx={};function n1(e){return mt.call(kx,e)?!0:mt.call(Rx,e)?!1:t1.test(e)?kx[e]=!0:(Rx[e]=!0,!1)}function ur(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function $n(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ox(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,s.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function J0(e){if(!e._valueTracker){var t=Ox(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ox(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function _n(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function V0(e,t,n,l,c,s,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?W0(e,p,pn(t)):n!=null?W0(e,p,pn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+pn(E):e.removeAttribute("name")}function Ix(e,t,n,l,c,s,p,E){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){J0(e);return}n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),J0(e)}function W0(e,t,n){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ya(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ux(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function Hx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(M(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),J0(e)}function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Zx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Zx(e,s,t[s])}function Q0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function el(){}var P0=null;function F0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Sa=null;function Xx(e){var t=ba(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(V0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ut]||null;if(!c)throw Error(i(90));V0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Yx(l)}break e;case"textarea":Ux(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ya(e,!!n.multiple,t,!1)}}}var $0=!1;function Jx(e,t,n){if($0)return e(t,n);$0=!0;try{var l=e(t);return l}finally{if($0=!1,(_a!==null||Sa!==null)&&(Fr(),_a&&(t=_a,e=Sa,Sa=_a=null,Xx(t),e)))for(t=0;t<e.length;t++)Xx(e[t])}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var tl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(tl)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){ec=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{ec=!1}var yl=null,tc=null,fr=null;function Vx(){if(fr)return fr;var e,t=tc,n=t.length,l,c="value"in yl?yl.value:yl.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===c[s-l];l++);return fr=c.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Wx(){return!1}function Qt(e){function t(n,l,c,s,p){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(s):s[E]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hr:Wx,this.isPropagationStopped=Wx,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Qt(Vl),si=v({},Vl,{view:0,detail:0}),u1=Qt(si),nc,lc,oi,br=v({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(nc=e.screenX-oi.screenX,lc=e.screenY-oi.screenY):lc=nc=0,oi=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),Qx=Qt(br),x1=v({},br,{dataTransfer:0}),s1=Qt(x1),o1=v({},si,{relatedTarget:0}),ac=Qt(o1),f1=v({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Qt(f1),h1=v({},Vl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Qt(h1),b1=v({},Vl,{data:0}),Px=Qt(b1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function ic(){return p1}var _1=v({},si,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Qt(_1),C1=v({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=Qt(C1),w1=v({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),j1=Qt(w1),M1=v({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Qt(M1),D1=v({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Qt(D1),A1=v({},Vl,{newState:0,oldState:0}),E1=Qt(A1),L1=[9,13,27,32],rc=tl&&"CompositionEvent"in window,fi=null;tl&&"documentMode"in document&&(fi=document.documentMode);var T1=tl&&"TextEvent"in window&&!fi,$x=tl&&(!rc||fi&&8<fi&&11>=fi),es=" ",ts=!1;function ns(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ls(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function B1(e,t){switch(e){case"compositionend":return ls(t);case"keypress":return t.which!==32?null:(ts=!0,es);case"textInput":return e=t.data,e===es&&ts?null:e;default:return null}}function q1(e,t){if(Ca)return e==="compositionend"||!rc&&ns(e,t)?(e=Vx(),fr=tc=yl=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $x&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function as(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function is(e,t,n,l){_a?Sa?Sa.push(l):Sa=[l]:_a=l,t=i0(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var di=null,hi=null;function R1(e){Hf(e,0)}function gr(e){var t=ci(e);if(Yx(t))return e}function rs(e,t){if(e==="change")return t}var cs=!1;if(tl){var cc;if(tl){var uc="oninput"in document;if(!uc){var us=document.createElement("div");us.setAttribute("oninput","return;"),uc=typeof us.oninput=="function"}cc=uc}else cc=!1;cs=cc&&(!document.documentMode||9<document.documentMode)}function xs(){di&&(di.detachEvent("onpropertychange",ss),hi=di=null)}function ss(e){if(e.propertyName==="value"&&gr(hi)){var t=[];is(t,hi,e,F0(e)),Jx(R1,t)}}function k1(e,t,n){e==="focusin"?(xs(),di=t,hi=n,di.attachEvent("onpropertychange",ss)):e==="focusout"&&xs()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(hi)}function Y1(e,t){if(e==="click")return gr(t)}function I1(e,t){if(e==="input"||e==="change")return gr(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:U1;function mi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!mt.call(t,c)||!sn(e[c],t[c]))return!1}return!0}function os(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fs(e,t){var n=os(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=os(n)}}function ds(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ds(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sr(e.document)}return t}function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H1=tl&&"documentMode"in document&&11>=document.documentMode,wa=null,sc=null,bi=null,oc=!1;function ms(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oc||wa==null||wa!==sr(l)||(l=wa,"selectionStart"in l&&xc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bi&&mi(bi,l)||(bi=l,l=i0(sc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=wa)))}function Wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionrun:Wl("Transition","TransitionRun"),transitionstart:Wl("Transition","TransitionStart"),transitioncancel:Wl("Transition","TransitionCancel"),transitionend:Wl("Transition","TransitionEnd")},fc={},bs={};tl&&(bs=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Ql(e){if(fc[e])return fc[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bs)return fc[e]=t[n];return e}var gs=Ql("animationend"),vs=Ql("animationiteration"),ys=Ql("animationstart"),Z1=Ql("transitionrun"),K1=Ql("transitionstart"),X1=Ql("transitioncancel"),ps=Ql("transitionend"),_s=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Rn(e,t){_s.set(e,t),Jl(t,[e])}var vr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],Ma=0,hc=0;function yr(){for(var e=Ma,t=hc=Ma=0;t<e;){var n=Sn[t];Sn[t++]=null;var l=Sn[t];Sn[t++]=null;var c=Sn[t];Sn[t++]=null;var s=Sn[t];if(Sn[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}s!==0&&Ss(n,c,s)}}function pr(e,t,n,l){Sn[Ma++]=e,Sn[Ma++]=t,Sn[Ma++]=n,Sn[Ma++]=l,hc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mc(e,t,n,l){return pr(e,t,n,l),_r(e)}function Pl(e,t){return pr(e,null,null,t),_r(e)}function Ss(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-ue(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function _r(e){if(50<ki)throw ki=0,wu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,l){return new J1(e,t,n,l)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,c,s){var p=0;if(l=e,typeof e=="function")bc(e)&&(p=1);else if(typeof e=="string")p=F2(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=on(31,n,t,c),e.elementType=F,e.lanes=s,e;case w:return Fl(n.children,c,s,t);case S:p=8,c|=24;break;case T:return e=on(12,n,t,c|2),e.elementType=T,e.lanes=s,e;case O:return e=on(13,n,t,c),e.elementType=O,e.lanes=s,e;case V:return e=on(19,n,t,c),e.elementType=V,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:p=10;break e;case G:p=9;break e;case q:p=11;break e;case Z:p=14;break e;case J:p=16,l=null;break e}p=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=on(p,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function Fl(e,t,n,l){return e=on(7,e,l,t),e.lanes=n,e}function gc(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function ws(e){var t=on(18,null,null,0);return t.stateNode=e,t}function vc(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var js=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=js.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ct(t)},js.set(e,t),t)}return{value:e,source:t,stack:Ct(t)}}var Da=[],Na=0,Cr=null,gi=0,wn=[],jn=0,pl=null,Kn=1,Xn="";function ll(e,t){Da[Na++]=gi,Da[Na++]=Cr,Cr=e,gi=t}function Ms(e,t,n){wn[jn++]=Kn,wn[jn++]=Xn,wn[jn++]=pl,pl=e;var l=Kn;e=Xn;var c=32-ue(l)-1;l&=~(1<<c),n+=1;var s=32-ue(t)+c;if(30<s){var p=c-c%5;s=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Kn=1<<32-ue(t)+c|n<<c|l,Xn=s+e}else Kn=1<<s|n<<c|l,Xn=e}function yc(e){e.return!==null&&(ll(e,1),Ms(e,1,0))}function pc(e){for(;e===Cr;)Cr=Da[--Na],Da[Na]=null,gi=Da[--Na],Da[Na]=null;for(;e===pl;)pl=wn[--jn],wn[jn]=null,Xn=wn[--jn],wn[jn]=null,Kn=wn[--jn],wn[jn]=null}function zs(e,t){wn[jn++]=Kn,wn[jn++]=Xn,wn[jn++]=pl,Kn=t.id,Xn=t.overflow,pl=e}var Bt=null,tt=null,qe=!1,_l=null,Mn=!1,_c=Error(i(519));function Sl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vi(Cn(t,e)),_c}function Ds(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[wt]=e,t[Ut]=l,n){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(n=0;n<Yi.length;n++)Le(Yi[n],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),Ix(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),Hx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Jf(t.textContent,n)?(l.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),l.onScroll!=null&&Le("scroll",t),l.onScrollEnd!=null&&Le("scrollend",t),l.onClick!=null&&(t.onclick=el),t=!0):t=!1,t||Sl(e,!0)}function Ns(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Aa(e){if(e!==Bt)return!1;if(!qe)return Ns(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&tt&&Sl(e),Ns(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));tt=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));tt=nd(e)}else t===27?(t=tt,Gl(e.type)?(e=Zu,Zu=null,tt=e):tt=t):tt=Bt?Dn(e.stateNode.nextSibling):null;return!0}function $l(){tt=Bt=null,qe=!1}function Sc(){var e=_l;return e!==null&&(en===null?en=e:en.push.apply(en,e),_l=null),e}function vi(e){_l===null?_l=[e]:_l.push(e)}var Cc=N(null),ea=null,al=null;function Cl(e,t,n){Y(Cc,t._currentValue),t._currentValue=n}function il(e){e._currentValue=Cc.current,R(Cc)}function wc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var p=c.child;s=s.firstContext;e:for(;s!==null;){var E=s;s=c;for(var U=0;U<t.length;U++)if(E.context===t[U]){s.lanes|=n,E=s.alternate,E!==null&&(E.lanes|=n),wc(s.return,n,e),l||(p=null);break e}s=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(i(341));p.lanes|=n,s=p.alternate,s!==null&&(s.lanes|=n),wc(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ea(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var E=c.type;sn(c.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(c===fe.current){if(p=c.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ki):e=[Ki])}c=c.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){ea=e,al=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return As(ea,e)}function jr(e,t){return ea===null&&ta(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},al===null){if(e===null)throw Error(i(308));al=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else al=al.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W1=u.unstable_scheduleCallback,Q1=u.unstable_NormalPriority,yt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new V1,data:new Map,refCount:0}}function yi(e){e.refCount--,e.refCount===0&&W1(Q1,function(){e.controller.abort()})}var pi=null,zc=0,La=0,Ta=null;function P1(e,t){if(pi===null){var n=pi=[];zc=0,La=Au(),Ta={status:"pending",value:void 0,then:function(l){n.push(l)}}}return zc++,t.then(Es,Es),t}function Es(){if(--zc===0&&pi!==null){Ta!==null&&(Ta.status="fulfilled");var e=pi;pi=null,La=0,Ta=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Ls=j.S;j.S=function(e,t){gf=He(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Ls!==null&&Ls(e,t)};var na=N(null);function Dc(){var e=na.current;return e!==null?e:Fe.pooledCache}function Mr(e,t){t===null?Y(na,na.current):Y(na,t.pool)}function Ts(){var e=Dc();return e===null?null:{parent:yt._currentValue,pool:e}}var Ba=Error(i(460)),Nc=Error(i(474)),zr=Error(i(542)),Dr={then:function(){}};function Bs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(el,el),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rs(e),e;default:if(typeof t.status=="string")t.then(el,el);else{if(e=Fe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Rs(e),e}throw aa=t,Ba}}function la(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,Ba):n}}var aa=null;function Gs(){if(aa===null)throw Error(i(459));var e=aa;return aa=null,e}function Rs(e){if(e===Ba||e===zr)throw Error(i(483))}var qa=null,_i=0;function Nr(e){var t=_i;return _i+=1,qa===null&&(qa=[]),qs(qa,e,t)}function Si(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===z?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ks(e){function t(P,X){if(e){var ee=P.deletions;ee===null?(P.deletions=[X],P.flags|=16):ee.push(X)}}function n(P,X){if(!e)return null;for(;X!==null;)t(P,X),X=X.sibling;return null}function l(P){for(var X=new Map;P!==null;)P.key!==null?X.set(P.key,P):X.set(P.index,P),P=P.sibling;return X}function c(P,X){return P=nl(P,X),P.index=0,P.sibling=null,P}function s(P,X,ee){return P.index=ee,e?(ee=P.alternate,ee!==null?(ee=ee.index,ee<X?(P.flags|=67108866,X):ee):(P.flags|=67108866,X)):(P.flags|=1048576,X)}function p(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,X,ee,re){return X===null||X.tag!==6?(X=gc(ee,P.mode,re),X.return=P,X):(X=c(X,ee),X.return=P,X)}function U(P,X,ee,re){var ye=ee.type;return ye===w?ie(P,X,ee.props.children,re,ee.key):X!==null&&(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&la(ye)===X.type)?(X=c(X,ee.props),Si(X,ee),X.return=P,X):(X=Sr(ee.type,ee.key,ee.props,null,P.mode,re),Si(X,ee),X.return=P,X)}function te(P,X,ee,re){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=vc(ee,P.mode,re),X.return=P,X):(X=c(X,ee.children||[]),X.return=P,X)}function ie(P,X,ee,re,ye){return X===null||X.tag!==7?(X=Fl(ee,P.mode,re,ye),X.return=P,X):(X=c(X,ee),X.return=P,X)}function ce(P,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=gc(""+X,P.mode,ee),X.return=P,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ee=Sr(X.type,X.key,X.props,null,P.mode,ee),Si(ee,X),ee.return=P,ee;case D:return X=vc(X,P.mode,ee),X.return=P,X;case J:return X=la(X),ce(P,X,ee)}if(M(X)||_(X))return X=Fl(X,P.mode,ee,null),X.return=P,X;if(typeof X.then=="function")return ce(P,Nr(X),ee);if(X.$$typeof===L)return ce(P,jr(P,X),ee);Ar(P,X)}return null}function ne(P,X,ee,re){var ye=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ye!==null?null:E(P,X,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===ye?U(P,X,ee,re):null;case D:return ee.key===ye?te(P,X,ee,re):null;case J:return ee=la(ee),ne(P,X,ee,re)}if(M(ee)||_(ee))return ye!==null?null:ie(P,X,ee,re,null);if(typeof ee.then=="function")return ne(P,X,Nr(ee),re);if(ee.$$typeof===L)return ne(P,X,jr(P,ee),re);Ar(P,ee)}return null}function ae(P,X,ee,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return P=P.get(ee)||null,E(X,P,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return P=P.get(re.key===null?ee:re.key)||null,U(X,P,re,ye);case D:return P=P.get(re.key===null?ee:re.key)||null,te(X,P,re,ye);case J:return re=la(re),ae(P,X,ee,re,ye)}if(M(re)||_(re))return P=P.get(ee)||null,ie(X,P,re,ye,null);if(typeof re.then=="function")return ae(P,X,ee,Nr(re),ye);if(re.$$typeof===L)return ae(P,X,ee,jr(X,re),ye);Ar(X,re)}return null}function me(P,X,ee,re){for(var ye=null,Ie=null,be=X,ze=X=0,Be=null;be!==null&&ze<ee.length;ze++){be.index>ze?(Be=be,be=null):Be=be.sibling;var Ue=ne(P,be,ee[ze],re);if(Ue===null){be===null&&(be=Be);break}e&&be&&Ue.alternate===null&&t(P,be),X=s(Ue,X,ze),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue,be=Be}if(ze===ee.length)return n(P,be),qe&&ll(P,ze),ye;if(be===null){for(;ze<ee.length;ze++)be=ce(P,ee[ze],re),be!==null&&(X=s(be,X,ze),Ie===null?ye=be:Ie.sibling=be,Ie=be);return qe&&ll(P,ze),ye}for(be=l(be);ze<ee.length;ze++)Be=ae(be,P,ze,ee[ze],re),Be!==null&&(e&&Be.alternate!==null&&be.delete(Be.key===null?ze:Be.key),X=s(Be,X,ze),Ie===null?ye=Be:Ie.sibling=Be,Ie=Be);return e&&be.forEach(function(Il){return t(P,Il)}),qe&&ll(P,ze),ye}function pe(P,X,ee,re){if(ee==null)throw Error(i(151));for(var ye=null,Ie=null,be=X,ze=X=0,Be=null,Ue=ee.next();be!==null&&!Ue.done;ze++,Ue=ee.next()){be.index>ze?(Be=be,be=null):Be=be.sibling;var Il=ne(P,be,Ue.value,re);if(Il===null){be===null&&(be=Be);break}e&&be&&Il.alternate===null&&t(P,be),X=s(Il,X,ze),Ie===null?ye=Il:Ie.sibling=Il,Ie=Il,be=Be}if(Ue.done)return n(P,be),qe&&ll(P,ze),ye;if(be===null){for(;!Ue.done;ze++,Ue=ee.next())Ue=ce(P,Ue.value,re),Ue!==null&&(X=s(Ue,X,ze),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue);return qe&&ll(P,ze),ye}for(be=l(be);!Ue.done;ze++,Ue=ee.next())Ue=ae(be,P,ze,Ue.value,re),Ue!==null&&(e&&Ue.alternate!==null&&be.delete(Ue.key===null?ze:Ue.key),X=s(Ue,X,ze),Ie===null?ye=Ue:Ie.sibling=Ue,Ie=Ue);return e&&be.forEach(function(xh){return t(P,xh)}),qe&&ll(P,ze),ye}function Pe(P,X,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===w&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var ye=ee.key;X!==null;){if(X.key===ye){if(ye=ee.type,ye===w){if(X.tag===7){n(P,X.sibling),re=c(X,ee.props.children),re.return=P,P=re;break e}}else if(X.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&la(ye)===X.type){n(P,X.sibling),re=c(X,ee.props),Si(re,ee),re.return=P,P=re;break e}n(P,X);break}else t(P,X);X=X.sibling}ee.type===w?(re=Fl(ee.props.children,P.mode,re,ee.key),re.return=P,P=re):(re=Sr(ee.type,ee.key,ee.props,null,P.mode,re),Si(re,ee),re.return=P,P=re)}return p(P);case D:e:{for(ye=ee.key;X!==null;){if(X.key===ye)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){n(P,X.sibling),re=c(X,ee.children||[]),re.return=P,P=re;break e}else{n(P,X);break}else t(P,X);X=X.sibling}re=vc(ee,P.mode,re),re.return=P,P=re}return p(P);case J:return ee=la(ee),Pe(P,X,ee,re)}if(M(ee))return me(P,X,ee,re);if(_(ee)){if(ye=_(ee),typeof ye!="function")throw Error(i(150));return ee=ye.call(ee),pe(P,X,ee,re)}if(typeof ee.then=="function")return Pe(P,X,Nr(ee),re);if(ee.$$typeof===L)return Pe(P,X,jr(P,ee),re);Ar(P,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,X!==null&&X.tag===6?(n(P,X.sibling),re=c(X,ee),re.return=P,P=re):(n(P,X),re=gc(ee,P.mode,re),re.return=P,P=re),p(P)):n(P,X)}return function(P,X,ee,re){try{_i=0;var ye=Pe(P,X,ee,re);return qa=null,ye}catch(be){if(be===Ba||be===zr)throw be;var Ie=on(29,be,null,P.mode);return Ie.lanes=re,Ie.return=P,Ie}}}var ia=ks(!0),Os=ks(!1),wl=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function jl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=_r(e),Ss(e,null,n),t}return pr(e,l,t,n),_r(e)}function Ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}function Lc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=p:s=s.next=p,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tc=!1;function wi(){if(Tc){var e=Ta;if(e!==null)throw e}}function ji(e,t,n,l){Tc=!1;var c=e.updateQueue;wl=!1;var s=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var U=E,te=U.next;U.next=null,p===null?s=te:p.next=te,p=U;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,E=ie.lastBaseUpdate,E!==p&&(E===null?ie.firstBaseUpdate=te:E.next=te,ie.lastBaseUpdate=U))}if(s!==null){var ce=c.baseState;p=0,ie=te=U=null,E=s;do{var ne=E.lane&-536870913,ae=ne!==E.lane;if(ae?(Te&ne)===ne:(l&ne)===ne){ne!==0&&ne===La&&(Tc=!0),ie!==null&&(ie=ie.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=e,pe=E;ne=t;var Pe=n;switch(pe.tag){case 1:if(me=pe.payload,typeof me=="function"){ce=me.call(Pe,ce,ne);break e}ce=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=pe.payload,ne=typeof me=="function"?me.call(Pe,ce,ne):me,ne==null)break e;ce=v({},ce,ne);break e;case 2:wl=!0}}ne=E.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ie===null?(te=ie=ae,U=ce):ie=ie.next=ae,p|=ne;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;ae=E,E=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(U=ce),c.baseState=U,c.firstBaseUpdate=te,c.lastBaseUpdate=ie,s===null&&(c.shared.lanes=0),El|=p,e.lanes=p,e.memoizedState=ce}}function Ys(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Is(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ys(n[e],t)}var Ga=N(null),Er=N(0);function Us(e,t){e=hl,Y(Er,e),Y(Ga,t),hl=e|t.baseLanes}function Bc(){Y(Er,hl),Y(Ga,Ga.current)}function qc(){hl=Er.current,R(Ga),R(Er)}var fn=N(null),zn=null;function zl(e){var t=e.alternate;Y(ft,ft.current&1),Y(fn,e),zn===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(zn=e)}function Gc(e){Y(ft,ft.current),Y(fn,e),zn===null&&(zn=e)}function Hs(e){e.tag===22?(Y(ft,ft.current),Y(fn,e),zn===null&&(zn=e)):Dl()}function Dl(){Y(ft,ft.current),Y(fn,fn.current)}function dn(e){R(fn),zn===e&&(zn=null),R(ft)}var ft=N(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uu(n)||Hu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=0,Me=null,We=null,pt=null,Tr=!1,Ra=!1,ra=!1,Br=0,Mi=0,ka=null,$1=0;function ut(){throw Error(i(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function kc(e,t,n,l,c,s){return rl=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?zo:$c,ra=!1,s=n(l,c),ra=!1,Ra&&(s=Ks(t,n,l,c)),Zs(e),s}function Zs(e){j.H=Ni;var t=We!==null&&We.next!==null;if(rl=0,pt=We=Me=null,Tr=!1,Mi=0,ka=null,t)throw Error(i(300));e===null||_t||(e=e.dependencies,e!==null&&wr(e)&&(_t=!0))}function Ks(e,t,n,l){Me=e;var c=0;do{if(Ra&&(ka=null),Mi=0,Ra=!1,25<=c)throw Error(i(301));if(c+=1,pt=We=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}j.H=Do,s=t(n,l)}while(Ra);return s}function e2(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?zi(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Me.flags|=1024),t}function Oc(){var e=Br!==0;return Br=0,e}function Yc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ic(e){if(Tr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tr=!1}rl=0,pt=We=Me=null,Ra=!1,Mi=Br=0,ka=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Me.memoizedState=pt=e:pt=pt.next=e,pt}function dt(){if(We===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=pt===null?Me.memoizedState:pt.next;if(t!==null)pt=t,We=e;else{if(e===null)throw Me.alternate===null?Error(i(467)):Error(i(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},pt===null?Me.memoizedState=pt=e:pt=pt.next=e}return pt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zi(e){var t=Mi;return Mi+=1,ka===null&&(ka=[]),e=qs(ka,e,t),t=Me,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?zo:$c),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zi(e);if(e.$$typeof===L)return qt(e)}throw Error(i(438,String(e)))}function Uc(e){var t=null,n=Me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function cl(e,t){return typeof t=="function"?t(e):t}function Rr(e){var t=dt();return Hc(t,We,e)}function Hc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var p=c.next;c.next=s.next,s.next=p}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var E=p=null,U=null,te=t,ie=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(Te&ce)===ce:(rl&ce)===ce){var ne=te.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===La&&(ie=!0);else if((rl&ne)===ne){te=te.next,ne===La&&(ie=!0);continue}else ce={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(E=U=ce,p=s):U=U.next=ce,Me.lanes|=ne,El|=ne;ce=te.action,ra&&n(s,ce),s=te.hasEagerState?te.eagerState:n(s,ce)}else ne={lane:ce,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(E=U=ne,p=s):U=U.next=ne,Me.lanes|=ce,El|=ce;te=te.next}while(te!==null&&te!==t);if(U===null?p=s:U.next=E,!sn(s,e.memoizedState)&&(_t=!0,ie&&(n=Ta,n!==null)))throw n;e.memoizedState=s,e.baseState=p,e.baseQueue=U,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zc(e){var t=dt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do s=e(s,p.action),p=p.next;while(p!==c);sn(s,t.memoizedState)||(_t=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Xs(e,t,n){var l=Me,c=dt(),s=qe;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var p=!sn((We||c).memoizedState,n);if(p&&(c.memoizedState=n,_t=!0),c=c.queue,Jc(Ws.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},Vs.bind(null,l,c,n,t),null),Fe===null)throw Error(i(349));s||(rl&127)!==0||Js(l,t,n)}return n}function Js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t=qr(),Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vs(e,t,n,l){t.value=n,t.getSnapshot=l,Qs(t)&&Ps(e)}function Ws(e,t,n){return n(function(){Qs(t)&&Ps(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function Ps(e){var t=Pl(e,2);t!==null&&tn(t,e,2)}function Kc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),ra){Ze(!0);try{n()}finally{Ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t}function Fs(e,t,n,l){return e.baseState=n,Hc(e,We,typeof l=="function"?l:cl)}function t2(e,t,n,l,c){if(Yr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){s.listeners.push(p)}};j.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,$s(t,s)):(s.next=n.next,t.pending=n.next=s)}}function $s(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=j.T,p={};j.T=p;try{var E=n(c,l),U=j.S;U!==null&&U(p,E),eo(e,t,E)}catch(te){Xc(e,t,te)}finally{s!==null&&p.types!==null&&(s.types=p.types),j.T=s}}else try{s=n(c,l),eo(e,t,s)}catch(te){Xc(e,t,te)}}function eo(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){to(e,t,l)},function(l){return Xc(e,t,l)}):to(e,t,n)}function to(e,t,n){t.status="fulfilled",t.value=n,no(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$s(e,n)))}function Xc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,no(t),t=t.next;while(t!==l)}e.action=null}function no(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function ao(e,t){if(qe){var n=Fe.formState;if(n!==null){e:{var l=Me;if(qe){if(tt){t:{for(var c=tt,s=Mn;c.nodeType!==8;){if(!s){c=null;break t}if(c=Dn(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){tt=Dn(c.nextSibling),l=c.data==="F!";break e}}Sl(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=l,n=wo.bind(null,Me,l),l.dispatch=n,l=Kc(!1),s=Fc.bind(null,Me,!1,l.queue),l=Xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=t2.bind(null,Me,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function io(e){var t=dt();return ro(t,We,e)}function ro(e,t,n){if(t=Hc(e,t,lo)[0],e=Rr(cl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=zi(t)}catch(p){throw p===Ba?zr:p}else l=t;t=dt();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Me.flags|=2048,Oa(9,{destroy:void 0},n2.bind(null,c,n),null)),[l,s,e]}function n2(e,t){e.action=t}function co(e){var t=dt(),n=We;if(n!==null)return ro(t,n,e);dt(),t=t.memoizedState,n=dt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Oa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Me.updateQueue,t===null&&(t=qr(),Me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return dt().memoizedState}function kr(e,t,n,l){var c=Xt();Me.flags|=e,c.memoizedState=Oa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Or(e,t,n,l){var c=dt();l=l===void 0?null:l;var s=c.memoizedState.inst;We!==null&&l!==null&&Rc(l,We.memoizedState.deps)?c.memoizedState=Oa(t,s,n,l):(Me.flags|=e,c.memoizedState=Oa(1|t,s,n,l))}function xo(e,t){kr(8390656,8,e,t)}function Jc(e,t){Or(2048,8,e,t)}function l2(e){Me.flags|=4;var t=Me.updateQueue;if(t===null)t=qr(),Me.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function so(e){var t=dt().memoizedState;return l2({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function oo(e,t){return Or(4,2,e,t)}function fo(e,t){return Or(4,4,e,t)}function ho(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mo(e,t,n){n=n!=null?n.concat([e]):null,Or(4,4,ho.bind(null,t,e),n)}function Vc(){}function bo(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Rc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=dt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Rc(t,l[1]))return l[0];if(l=e(),ra){Ze(!0);try{e()}finally{Ze(!1)}}return n.memoizedState=[l,t],l}function Wc(e,t,n){return n===void 0||(rl&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=yf(),Me.lanes|=e,El|=e,n)}function vo(e,t,n,l){return sn(n,t)?n:Ga.current!==null?(e=Wc(e,n,l),sn(e,t)||(_t=!0),e):(rl&42)===0||(rl&1073741824)!==0&&(Te&261930)===0?(_t=!0,e.memoizedState=n):(e=yf(),Me.lanes|=e,El|=e,t)}function yo(e,t,n,l,c){var s=B.p;B.p=s!==0&&8>s?s:8;var p=j.T,E={};j.T=E,Fc(e,!1,t,n);try{var U=c(),te=j.S;if(te!==null&&te(E,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=F1(U,l);Di(e,t,ie,bn(e))}else Di(e,t,l,bn(e))}catch(ce){Di(e,t,{then:function(){},status:"rejected",reason:ce},bn())}finally{B.p=s,p!==null&&E.types!==null&&(p.types=E.types),j.T=p}}function a2(){}function Qc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var c=po(e).queue;yo(e,c,t,I,n===null?a2:function(){return _o(e),n(l)})}function po(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _o(e){var t=po(e);t.next===null&&(t=e.alternate.memoizedState),Di(e,t.next.queue,{},bn())}function Pc(){return qt(Ki)}function So(){return dt().memoizedState}function Co(){return dt().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=jl(n);var l=Ml(t,e,n);l!==null&&(tn(l,t,n),Ci(l,t,n)),t={cache:Mc()},e.payload=t;return}t=t.return}}function r2(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e)?jo(t,n):(n=mc(e,t,n,l),n!==null&&(tn(n,e,l),Mo(n,t,l)))}function wo(e,t,n){var l=bn();Di(e,t,n,l)}function Di(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))jo(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var p=t.lastRenderedState,E=s(p,n);if(c.hasEagerState=!0,c.eagerState=E,sn(E,p))return pr(e,t,c,0),Fe===null&&yr(),!1}catch{}if(n=mc(e,t,c,l),n!==null)return tn(n,e,l),Mo(n,t,l),!0}return!1}function Fc(e,t,n,l){if(l={lane:2,revertLane:Au(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yr(e)){if(t)throw Error(i(479))}else t=mc(e,n,l,2),t!==null&&tn(t,e,2)}function Yr(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function jo(e,t){Ra=Tr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Tt(e,n)}}var Ni={readContext:qt,use:Gr,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Ni.useEffectEvent=ut;var zo={readContext:qt,use:Gr,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:xo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,kr(4194308,4,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(ra){Ze(!0);try{e()}finally{Ze(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var c=n(t);if(ra){Ze(!0);try{n(t)}finally{Ze(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=r2.bind(null,Me,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Kc(e);var t=e.queue,n=wo.bind(null,Me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vc,useDeferredValue:function(e,t){var n=Xt();return Wc(n,e,t)},useTransition:function(){var e=Kc(!1);return e=yo.bind(null,Me,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Me,c=Xt();if(qe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Fe===null)throw Error(i(349));(Te&127)!==0||Js(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,xo(Ws.bind(null,l,s,e),[e]),l.flags|=2048,Oa(9,{destroy:void 0},Vs.bind(null,l,s,n,t),null),n},useId:function(){var e=Xt(),t=Fe.identifierPrefix;if(qe){var n=Xn,l=Kn;n=(l&~(1<<32-ue(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pc,useFormState:ao,useActionState:ao,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fc.bind(null,Me,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uc,useCacheRefresh:function(){return Xt().memoizedState=i2.bind(null,Me)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((Ke&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},$c={readContext:qt,use:Gr,useCallback:bo,useContext:qt,useEffect:Jc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:go,useReducer:Rr,useRef:uo,useState:function(){return Rr(cl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=dt();return vo(n,We.memoizedState,e,t)},useTransition:function(){var e=Rr(cl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Pc,useFormState:io,useActionState:io,useOptimistic:function(e,t){var n=dt();return Fs(n,We,e,t)},useMemoCache:Uc,useCacheRefresh:Co};$c.useEffectEvent=so;var Do={readContext:qt,use:Gr,useCallback:bo,useContext:qt,useEffect:Jc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:go,useReducer:Zc,useRef:uo,useState:function(){return Zc(cl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=dt();return We===null?Wc(n,e,t):vo(n,We.memoizedState,e,t)},useTransition:function(){var e=Zc(cl)[0],t=dt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Pc,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=dt();return We!==null?Fs(n,We,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:Co};Do.useEffectEvent=so;function eu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),c=jl(l);c.payload=t,n!=null&&(c.callback=n),t=Ml(e,c,l),t!==null&&(tn(t,e,l),Ci(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),c=jl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ml(e,c,l),t!==null&&(tn(t,e,l),Ci(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=jl(n);l.tag=2,t!=null&&(l.callback=t),t=Ml(e,l,n),t!==null&&(tn(t,e,n),Ci(t,e,n))}};function No(e,t,n,l,c,s,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,p):t.prototype&&t.prototype.isPureReactComponent?!mi(n,l)||!mi(c,s):!0}function Ao(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function ca(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Eo(e){vr(e)}function Lo(e){console.error(e)}function To(e){vr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nu(e,t,n){return n=jl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function qo(e){return e=jl(e),e.tag=3,e}function Go(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){Bo(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Bo(t,n,l),typeof c!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function c2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ea(t,n,c,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return zn===null?$r():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),zu(e,l,c)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),zu(e,l,c)),!1}throw Error(i(435,n.tag))}return zu(e,l,c),$r(),!1}if(qe)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==_c&&(e=Error(i(422),{cause:l}),vi(Cn(e,n)))):(l!==_c&&(t=Error(i(423),{cause:l}),vi(Cn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Cn(l,n),c=nu(e.stateNode,l,c),Lc(e,c),xt!==4&&(xt=2)),!1;var s=Error(i(520),{cause:l});if(s=Cn(s,n),Ri===null?Ri=[s]:Ri.push(s),xt!==4&&(xt=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=nu(n.stateNode,l,e),Lc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ll===null||!Ll.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=qo(c),Go(c,e,n,l),Lc(n,c),!1}n=n.return}while(n!==null);return!1}var lu=Error(i(461)),_t=!1;function Gt(e,t,n,l){t.child=e===null?Os(t,null,n,l):ia(t,e.child,n,l)}function Ro(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return ta(t),l=kc(e,t,n,p,s,c),E=Oc(),e!==null&&!_t?(Yc(e,t,c),ul(e,t,c)):(qe&&E&&yc(t),t.flags|=1,Gt(e,t,l,c),t.child)}function ko(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!bc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Oo(e,t,s,l,c)):(e=Sr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ou(e,c)){var p=s.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(p,l)&&e.ref===t.ref)return ul(e,t,c)}return t.flags|=1,e=nl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(mi(s,l)&&e.ref===t.ref)if(_t=!1,t.pendingProps=l=s,ou(e,c))(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,ul(e,t,c)}return au(e,t,n,l,c)}function Yo(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Io(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,s!==null?s.cachePool:null),s!==null?Us(t,s):Bc(),Hs(t);else return l=t.lanes=536870912,Io(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Mr(t,s.cachePool),Us(t,s),Dl(),t.memoizedState=null):(e!==null&&Mr(t,null),Bc(),Dl());return Gt(e,t,c,n),t.child}function Ai(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,n,l,c){var s=Dc();return s=s===null?null:{parent:yt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Mr(t,null),Bc(),Hs(t),e!==null&&Ea(e,t,l,!0),t.childLanes=c,null}function Ur(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return ia(t,e.child,null,n),e=Ur(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function u2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(qe){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ai(null,e);if(Gc(t),(e=tt)?(e=td(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pl!==null?{id:Kn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Bt=t,tt=null)):e=null,e===null)throw Sl(t);return t.lanes=536870912,null}return Ur(t,l)}var s=e.memoizedState;if(s!==null){var p=s.dehydrated;if(Gc(t),c)if(t.flags&256)t.flags&=-257,t=Uo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(_t||Ea(e,t,n,!1),c=(n&e.childLanes)!==0,_t||c){if(l=Fe,l!==null&&(p=gt(l,n),p!==0&&p!==s.retryLane))throw s.retryLane=p,Pl(e,p),tn(l,e,p),lu;$r(),t=Uo(e,t,n)}else e=s.treeContext,tt=Dn(p.nextSibling),Bt=t,qe=!0,_l=null,Mn=!1,e!==null&&zs(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=nl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function au(e,t,n,l,c){return ta(t),n=kc(e,t,n,l,void 0,c),l=Oc(),e!==null&&!_t?(Yc(e,t,c),ul(e,t,c)):(qe&&l&&yc(t),t.flags|=1,Gt(e,t,n,c),t.child)}function Ho(e,t,n,l,c,s){return ta(t),t.updateQueue=null,n=Ks(t,l,n,c),Zs(e),l=Oc(),e!==null&&!_t?(Yc(e,t,s),ul(e,t,s)):(qe&&l&&yc(t),t.flags|=1,Gt(e,t,n,s),t.child)}function Zo(e,t,n,l,c){if(ta(t),t.stateNode===null){var s=za,p=n.contextType;typeof p=="object"&&p!==null&&(s=qt(p)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=tu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Ac(t),p=n.contextType,s.context=typeof p=="object"&&p!==null?qt(p):za,s.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(eu(t,n,p,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(p=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),p!==s.state&&tu.enqueueReplaceState(s,s.state,null),ji(t,l,s,c),wi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var E=t.memoizedProps,U=ca(n,E);s.props=U;var te=s.context,ie=n.contextType;p=za,typeof ie=="object"&&ie!==null&&(p=qt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(E||te!==p)&&Ao(t,s,l,p),wl=!1;var ne=t.memoizedState;s.state=ne,ji(t,l,s,c),wi(),te=t.memoizedState,E||ne!==te||wl?(typeof ce=="function"&&(eu(t,n,ce,l),te=t.memoizedState),(U=wl||No(t,n,U,l,ne,te,p))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),s.props=l,s.state=te,s.context=p,l=U):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Ec(e,t),p=t.memoizedProps,ie=ca(n,p),s.props=ie,ce=t.pendingProps,ne=s.context,te=n.contextType,U=za,typeof te=="object"&&te!==null&&(U=qt(te)),E=n.getDerivedStateFromProps,(te=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p!==ce||ne!==U)&&Ao(t,s,l,U),wl=!1,ne=t.memoizedState,s.state=ne,ji(t,l,s,c),wi();var ae=t.memoizedState;p!==ce||ne!==ae||wl||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof E=="function"&&(eu(t,n,E,l),ae=t.memoizedState),(ie=wl||No(t,n,ie,l,ne,ae,U)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(te||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ae,U),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ae,U)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),s.props=l,s.state=ae,s.context=U,l=ie):(typeof s.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Hr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ia(t,e.child,null,c),t.child=ia(t,null,n,c)):Gt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=ul(e,t,c),e}function Ko(e,t,n,l){return $l(),t.flags|=256,Gt(e,t,n,l),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:Ts()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Xo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,p;if((p=s)||(p=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(c?zl(t):Dl(),(e=tt)?(e=td(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:pl!==null?{id:Kn,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=ws(e),n.return=t,t.child=n,Bt=t,tt=null)):e=null,e===null)throw Sl(t);return Hu(e)?t.lanes=32:t.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Dl(),c=t.mode,E=Zr({mode:"hidden",children:E},c),l=Fl(l,c,n,null),E.return=t,l.return=t,E.sibling=l,t.child=E,l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,p,n),t.memoizedState=iu,Ai(null,l)):(zl(t),uu(t,E))}var U=e.memoizedState;if(U!==null&&(E=U.dehydrated,E!==null)){if(s)t.flags&256?(zl(t),t.flags&=-257,t=xu(e,t,n)):t.memoizedState!==null?(Dl(),t.child=e.child,t.flags|=128,t=null):(Dl(),E=l.fallback,c=t.mode,l=Zr({mode:"visible",children:l.children},c),E=Fl(E,c,n,null),E.flags|=2,l.return=t,E.return=t,l.sibling=E,t.child=l,ia(t,e.child,null,n),l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,p,n),t.memoizedState=iu,t=Ai(null,l));else if(zl(t),Hu(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var te=p.dgst;p=te,l=Error(i(419)),l.stack="",l.digest=p,vi({value:l,source:null,stack:null}),t=xu(e,t,n)}else if(_t||Ea(e,t,n,!1),p=(n&e.childLanes)!==0,_t||p){if(p=Fe,p!==null&&(l=gt(p,n),l!==0&&l!==U.retryLane))throw U.retryLane=l,Pl(e,l),tn(p,e,l),lu;Uu(E)||$r(),t=xu(e,t,n)}else Uu(E)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,tt=Dn(E.nextSibling),Bt=t,qe=!0,_l=null,Mn=!1,e!==null&&zs(t,e),t=uu(t,l.children),t.flags|=4096);return t}return c?(Dl(),E=l.fallback,c=t.mode,U=e.child,te=U.sibling,l=nl(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,te!==null?E=nl(te,E):(E=Fl(E,c,n,null),E.flags|=2),E.return=t,l.return=t,l.sibling=E,t.child=l,Ai(null,l),l=t.child,E=e.child.memoizedState,E===null?E=ru(n):(c=E.cachePool,c!==null?(U=yt._currentValue,c=c.parent!==U?{parent:U,pool:U}:c):c=Ts(),E={baseLanes:E.baseLanes|n,cachePool:c}),l.memoizedState=E,l.childLanes=cu(e,p,n),t.memoizedState=iu,Ai(e.child,l)):(zl(t),n=e.child,e=n.sibling,n=nl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function uu(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=on(22,e,null,t),e.lanes=0,e}function xu(e,t,n){return ia(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,n)}function su(e,t,n,l,c,s){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=c,p.treeForkCount=s)}function Vo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var p=ft.current,E=(p&2)!==0;if(E?(p=p&1|2,t.flags|=128):p&=1,Y(ft,p),Gt(e,t,l,n),l=qe?gi:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jo(e,n,t);else if(e.tag===19)Jo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),su(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Lr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}su(t,!0,n,null,s,l);break;case"together":su(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ul(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),El|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ea(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function x2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Cl(t,yt,e.memoizedState.cache),$l();break;case 27:case 5:je(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Cl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(zl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Xo(e,t,n):(zl(t),e=ul(e,t,n),e!==null?e.sibling:null);zl(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ea(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Vo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Y(ft,ft.current),l)break;return null;case 22:return t.lanes=0,Yo(e,t,n,t.pendingProps);case 24:Cl(t,yt,e.memoizedState.cache)}return ul(e,t,n)}function Wo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)_t=!0;else{if(!ou(e,n)&&(t.flags&128)===0)return _t=!1,x2(e,t,n);_t=(e.flags&131072)!==0}else _t=!1,qe&&(t.flags&1048576)!==0&&Ms(t,gi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=la(t.elementType),t.type=e,typeof e=="function")bc(e)?(l=ca(e,l),t.tag=1,t=Zo(null,t,e,l,n)):(t.tag=0,t=au(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===q){t.tag=11,t=Ro(null,t,e,l,n);break e}else if(c===Z){t.tag=14,t=ko(null,t,e,l,n);break e}}throw t=A(e)||e,Error(i(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=ca(l,t.pendingProps),Zo(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,Ec(e,t),ji(t,l,null,n);var p=t.memoizedState;if(l=p.cache,Cl(t,yt,l),l!==s.cache&&jc(t,[yt],n,!0),wi(),l=p.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Ko(e,t,l,n);break e}else if(l!==c){c=Cn(Error(i(424)),t),vi(c),t=Ko(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,tt=Dn(e.firstChild),Bt=t,qe=!0,_l=null,Mn=!0,n=Os(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),l===c){t=ul(e,t,n);break e}Gt(e,t,l,n)}t=t.child}return t;case 26:return Hr(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,l=r0(se.current).createElement(n),l[wt]=t,l[Ut]=e,Rt(l,n,e),Nt(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&qe&&(l=t.stateNode=ad(t.type,t.pendingProps,se.current),Bt=t,Mn=!0,c=tt,Gl(t.type)?(Zu=c,tt=Dn(l.firstChild)):tt=c),Gt(e,t,t.pendingProps.children,n),Hr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((c=l=tt)&&(l=O2(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,Bt=t,tt=Dn(l.firstChild),Mn=!1,c=!0):c=!1),c||Sl(t)),je(t),c=t.type,s=t.pendingProps,p=e!==null?e.memoizedProps:null,l=s.children,Ou(c,s)?l=null:p!==null&&Ou(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=kc(e,t,e2,null,null,n),Ki._currentValue=c),Hr(e,t),Gt(e,t,l,n),t.child;case 6:return e===null&&qe&&((e=n=tt)&&(n=Y2(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,Bt=t,tt=null,e=!0):e=!1),e||Sl(t)),null;case 13:return Xo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ia(t,null,l,n):Gt(e,t,l,n),t.child;case 11:return Ro(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Cl(t,t.type,l.value),Gt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ta(t),c=qt(c),l=l(c),t.flags|=1,Gt(e,t,l,n),t.child;case 14:return ko(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Vo(e,t,n);case 31:return u2(e,t,n);case 22:return Yo(e,t,n,t.pendingProps);case 24:return ta(t),l=qt(yt),e===null?(c=Dc(),c===null&&(c=Fe,s=Mc(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Ac(t),Cl(t,yt,c)):((e.lanes&n)!==0&&(Ec(e,t),ji(t,null,null,n),wi()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Cl(t,yt,l)):(l=s.cache,Cl(t,yt,l),l!==c.cache&&jc(t,[yt],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function xl(e){e.flags|=4}function fu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw aa=Dr,Nc}else e.flags&=-16777217}function Qo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw aa=Dr,Nc}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ot():536870912,e.lanes|=t,Ha|=t)}function Ei(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function s2(e,t,n){var l=t.pendingProps;switch(pc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),il(yt),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?xl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sc())),nt(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(xl(t),s!==null?(nt(t),Qo(t,s)):(nt(t),fu(t,c,null,l,n))):s?s!==e.memoizedState?(xl(t),nt(t),Qo(t,s)):(nt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&xl(t),nt(t),fu(t,c,e,l,n)),null;case 27:if(he(t),n=se.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return nt(t),null}e=K.current,Aa(t)?Ds(t):(e=ad(c,l,n),t.stateNode=e,xl(t))}return nt(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return nt(t),null}if(s=K.current,Aa(t))Ds(t);else{var p=r0(se.current);switch(s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}s[wt]=t,s[Ut]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=s;e:switch(Rt(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xl(t)}}return nt(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=se.current,Aa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[wt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Jf(e.nodeValue,n)),e||Sl(t,!0)}else e=r0(e).createTextNode(l),e[wt]=t,t.stateNode=e}return nt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Aa(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[wt]=t}else $l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),e=!1}else n=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return nt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Aa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[wt]=t}else $l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),c=!1}else c=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),nt(t),null);case 4:return ge(),e===null&&Bu(t.stateNode.containerInfo),nt(t),null;case 10:return il(t.type),nt(t),null;case 19:if(R(ft),l=t.memoizedState,l===null)return nt(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)Ei(l,!1);else{if(xt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Lr(e),s!==null){for(t.flags|=128,Ei(l,!1),e=s.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cs(n,e),n=n.sibling;return Y(ft,ft.current&1|2),qe&&ll(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&He()>Qr&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304)}else{if(!c)if(e=Lr(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!qe)return nt(t),null}else 2*He()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,n=ft.current,Y(ft,c?n&1|2:n&1),qe&&ll(t,l.treeForkCount),e):(nt(t),null);case 22:case 23:return dn(t),qc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&R(na),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),il(yt),nt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function o2(e,t){switch(pc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(yt),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(ft),null;case 4:return ge(),null;case 10:return il(t.type),null;case 22:case 23:return dn(t),qc(),e!==null&&R(na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return il(yt),null;case 25:return null;default:return null}}function Po(e,t){switch(pc(t),t.tag){case 3:il(yt),ge();break;case 26:case 27:case 5:he(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:R(ft);break;case 10:il(t.type);break;case 22:case 23:dn(t),qc(),e!==null&&R(na);break;case 24:il(yt)}}function Li(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,p=n.inst;l=s(),p.destroy=l}n=n.next}while(n!==c)}}catch(E){Ve(t,t.return,E)}}function Nl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=t;var U=n,te=E;try{te()}catch(ie){Ve(c,U,ie)}}}l=l.next}while(l!==s)}}catch(ie){Ve(t,t.return,ie)}}function Fo(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Is(t,n)}catch(l){Ve(e,e.return,l)}}}function $o(e,t,n){n.props=ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ve(e,t,l)}}function Ti(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){Ve(e,t,c)}}function Jn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){Ve(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ve(e,t,c)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){Ve(e,e.return,c)}}function du(e,t,n){try{var l=e.stateNode;T2(l,e.type,n,t),l[Ut]=t}catch(c){Ve(e,e.return,c)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gl(e.type)||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=el));else if(l!==4&&(l===27&&Gl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,n),e=e.sibling;e!==null;)mu(e,t,n),e=e.sibling}function Xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Gl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xr(e,t,n),e=e.sibling;e!==null;)Xr(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Rt(t,l,n),t[wt]=e,t[Ut]=n}catch(s){Ve(e,e.return,s)}}var sl=!1,St=!1,bu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,At=null;function f2(e,t){if(e=e.containerInfo,Ru=d0,e=hs(e),xc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var p=0,E=-1,U=-1,te=0,ie=0,ce=e,ne=null;t:for(;;){for(var ae;ce!==n||c!==0&&ce.nodeType!==3||(E=p+c),ce!==s||l!==0&&ce.nodeType!==3||(U=p+l),ce.nodeType===3&&(p+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ne=ce,ce=ae;for(;;){if(ce===e)break t;if(ne===n&&++te===c&&(E=p),ne===s&&++ie===l&&(U=p),(ae=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=ae}n=E===-1||U===-1?null:{start:E,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},d0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var me=ca(n.type,c);e=l.getSnapshotBeforeUpdate(me,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Ve(n,n.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Iu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function af(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),l&4&&Li(5,n);break;case 1:if(fl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){Ve(n,n.return,p)}else{var c=ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ve(n,n.return,p)}}l&64&&Fo(n),l&512&&Ti(n,n.return);break;case 3:if(fl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Is(e,t)}catch(p){Ve(n,n.return,p)}}break;case 27:t===null&&l&4&&nf(n);case 26:case 5:fl(e,n),t===null&&l&4&&ef(n),l&512&&Ti(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),l&4&&uf(e,n);break;case 13:fl(e,n),l&4&&xf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_2.bind(null,n),I2(e,n))));break;case 22:if(l=n.memoizedState!==null||sl,!l){t=t!==null&&t.memoizedState!==null||St,c=sl;var s=St;sl=l,(St=t)&&!s?dl(e,n,(n.subtreeFlags&8772)!==0):fl(e,n),sl=c,St=s}break;case 30:break;default:fl(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ri(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Pt=!1;function ol(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Fn,n)}catch{}switch(n.tag){case 26:St||Jn(n,t),ol(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:St||Jn(n,t);var l=at,c=Pt;Gl(n.type)&&(at=n.stateNode,Pt=!1),ol(e,t,n),Ui(n.stateNode),at=l,Pt=c;break;case 5:St||Jn(n,t);case 6:if(l=at,c=Pt,at=null,ol(e,t,n),at=l,Pt=c,at!==null)if(Pt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(s){Ve(n,t,s)}else try{at.removeChild(n.stateNode)}catch(s){Ve(n,t,s)}break;case 18:at!==null&&(Pt?(e=at,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pa(e)):$f(at,n.stateNode));break;case 4:l=at,c=Pt,at=n.stateNode.containerInfo,Pt=!0,ol(e,t,n),at=l,Pt=c;break;case 0:case 11:case 14:case 15:Nl(2,n,t),St||Nl(4,n,t),ol(e,t,n);break;case 1:St||(Jn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$o(n,t,l)),ol(e,t,n);break;case 21:ol(e,t,n);break;case 22:St=(l=St)||n.memoizedState!==null,ol(e,t,n),St=l;break;default:ol(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(n){Ve(t,t.return,n)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(n){Ve(t,t.return,n)}}function d2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(i(435,e.tag))}}function Jr(e,t){var n=d2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=S2.bind(null,e,l);l.then(c,c)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,p=t,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Gl(E.type)){at=E.stateNode,Pt=!1;break e}break;case 5:at=E.stateNode,Pt=!1;break e;case 3:case 4:at=E.stateNode.containerInfo,Pt=!0;break e}E=E.return}if(at===null)throw Error(i(160));cf(s,p,c),at=null,Pt=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var kn=null;function sf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(Nl(3,e,e.return),Li(3,e),Nl(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(St||n===null||Jn(n,n.return)),l&64&&sl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=kn;if(Ft(t,e),$t(e),l&512&&(St||n===null||Jn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[xn]||s[wt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),Rt(s,l,n),s[wt]=e,Nt(s),l=s;break e;case"link":var p=sd("link","href",c).get(l+(n.href||""));if(p){for(var E=0;E<p.length;E++)if(s=p[E],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(E,1);break t}}s=c.createElement(l),Rt(s,l,n),c.head.appendChild(s);break;case"meta":if(p=sd("meta","content",c).get(l+(n.content||""))){for(E=0;E<p.length;E++)if(s=p[E],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(E,1);break t}}s=c.createElement(l),Rt(s,l,n),c.head.appendChild(s);break;default:throw Error(i(468,l))}s[wt]=e,Nt(s),l=s}e.stateNode=l}else od(c,e.type,e.stateNode);else e.stateNode=xd(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?od(c,e.type,e.stateNode):xd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&du(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(St||n===null||Jn(n,n.return)),n!==null&&l&4&&du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(St||n===null||Jn(n,n.return)),e.flags&32){c=e.stateNode;try{pa(c,"")}catch(me){Ve(e,e.return,me)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,du(e,c,n!==null?n.memoizedProps:c)),l&1024&&(bu=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){Ve(e,e.return,me)}}break;case 3:if(x0=null,c=kn,kn=c0(t.containerInfo),Ft(t,e),kn=c,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(me){Ve(e,e.return,me)}bu&&(bu=!1,of(e));break;case 4:l=kn,kn=c0(e.stateNode.containerInfo),Ft(t,e),$t(e),kn=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wr=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 22:c=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,te=sl,ie=St;if(sl=te||c,St=ie||U,Ft(t,e),St=ie,sl=te,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||U||sl||St||ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(s=U.stateNode,c)p=s.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=U.stateNode;var ce=U.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;E.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){Ve(U,U.return,me)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=c?"":U.memoizedProps}catch(me){Ve(U,U.return,me)}}}else if(t.tag===18){if(n===null){U=t;try{var ae=U.stateNode;c?ed(ae,!0):ed(U.stateNode,!1)}catch(me){Ve(U,U.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Jr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(tf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var c=n.stateNode,s=hu(e);Xr(e,s,c);break;case 5:var p=n.stateNode;n.flags&32&&(pa(p,""),n.flags&=-33);var E=hu(e);Xr(e,E,p);break;case 3:case 4:var U=n.stateNode.containerInfo,te=hu(e);mu(e,te,U);break;default:throw Error(i(161))}}catch(ie){Ve(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nl(4,t,t.return),ua(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$o(t,t.return,n),ua(t);break;case 27:Ui(t.stateNode);case 26:case 5:Jn(t,t.return),ua(t);break;case 22:t.memoizedState===null&&ua(t);break;case 30:ua(t);break;default:ua(t)}e=e.sibling}}function dl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,p=s.flags;switch(s.tag){case 0:case 11:case 15:dl(c,s,n),Li(4,s);break;case 1:if(dl(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(te){Ve(l,l.return,te)}if(l=s,c=l.updateQueue,c!==null){var E=l.stateNode;try{var U=c.shared.hiddenCallbacks;if(U!==null)for(c.shared.hiddenCallbacks=null,c=0;c<U.length;c++)Ys(U[c],E)}catch(te){Ve(l,l.return,te)}}n&&p&64&&Fo(s),Ti(s,s.return);break;case 27:nf(s);case 26:case 5:dl(c,s,n),n&&l===null&&p&4&&ef(s),Ti(s,s.return);break;case 12:dl(c,s,n);break;case 31:dl(c,s,n),n&&p&4&&uf(c,s);break;case 13:dl(c,s,n),n&&p&4&&xf(c,s);break;case 22:s.memoizedState===null&&dl(c,s,n),Ti(s,s.return);break;case 30:break;default:dl(c,s,n)}t=t.sibling}}function gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yi(n))}function vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e))}function On(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,l),t=t.sibling}function ff(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:On(e,t,n,l),c&2048&&Li(9,t);break;case 1:On(e,t,n,l);break;case 3:On(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e)));break;case 12:if(c&2048){On(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,p=s.id,E=s.onPostCommit;typeof E=="function"&&E(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Ve(t,t.return,U)}}else On(e,t,n,l);break;case 31:On(e,t,n,l);break;case 13:On(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,p=t.alternate,t.memoizedState!==null?s._visibility&2?On(e,t,n,l):Bi(e,t):s._visibility&2?On(e,t,n,l):(s._visibility|=2,Ya(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&gu(p,t);break;case 24:On(e,t,n,l),c&2048&&vu(t.alternate,t);break;default:On(e,t,n,l)}}function Ya(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,p=t,E=n,U=l,te=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(s,p,E,U,c),Li(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Ya(s,p,E,U,c):Bi(s,p):(ie._visibility|=2,Ya(s,p,E,U,c)),c&&te&2048&&gu(p.alternate,p);break;case 24:Ya(s,p,E,U,c),c&&te&2048&&vu(p.alternate,p);break;default:Ya(s,p,E,U,c)}t=t.sibling}}function Bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Bi(n,l),c&2048&&gu(l.alternate,l);break;case 24:Bi(n,l),c&2048&&vu(l.alternate,l);break;default:Bi(n,l)}t=t.sibling}}var qi=8192;function Ia(e,t,n){if(e.subtreeFlags&qi)for(e=e.child;e!==null;)df(e,t,n),e=e.sibling}function df(e,t,n){switch(e.tag){case 26:Ia(e,t,n),e.flags&qi&&e.memoizedState!==null&&$2(n,kn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,n);break;case 3:case 4:var l=kn;kn=c0(e.stateNode.containerInfo),Ia(e,t,n),kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=qi,qi=16777216,Ia(e,t,n),qi=l):Ia(e,t,n));break;default:Ia(e,t,n)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,bf(l,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Nl(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Gi(e);break;default:Gi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,bf(l,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nl(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function bf(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:Nl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,At=l;else e:for(n=e;At!==null;){l=At;var c=l.sibling,s=l.return;if(rf(l),l===n){At=null;break e}if(c!==null){c.return=s,At=c;break e}At=s}}}var h2={getCacheForType:function(e){var t=qt(yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qt(yt).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,Ke=0,Fe=null,Ee=null,Te=0,Je=0,hn=null,Al=!1,Ua=!1,yu=!1,hl=0,xt=0,El=0,xa=0,pu=0,mn=0,Ha=0,Ri=null,en=null,_u=!1,Wr=0,gf=0,Qr=1/0,Pr=null,Ll=null,jt=0,Tl=null,Za=null,ml=0,Su=0,Cu=null,vf=null,ki=0,wu=null;function bn(){return(Ke&2)!==0&&Te!==0?Te&-Te:j.T!==null?Au():rr()}function yf(){if(mn===0)if((Te&536870912)===0||qe){var e=lt;lt<<=1,(lt&3932160)===0&&(lt=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function tn(e,t,n){(e===Fe&&(Je===2||Je===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Bl(e,Te,mn,!1)),Gn(e,n),((Ke&2)===0||e!==Fe)&&(e===Fe&&((Ke&2)===0&&(xa|=n),xt===4&&Bl(e,Te,mn,!1)),Vn(e))}function pf(e,t,n){if((Ke&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||rt(e,t),c=l?v2(e,t):Mu(e,t,!0),s=l;do{if(c===0){Ua&&!l&&Bl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!b2(n)){c=Mu(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var E=e;c=Ri;var U=E.current.memoizedState.isDehydrated;if(U&&(Ka(E,p).flags|=256),p=Mu(E,p,!1),p!==2){if(yu&&!U){E.errorRecoveryDisabledLanes|=s,xa|=s,c=4;break e}s=en,en=c,s!==null&&(en===null?en=s:en.push.apply(en,s))}c=p}if(s=!1,c!==2)continue}}if(c===1){Ka(e,0),Bl(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Bl(l,t,mn,!Al);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Wr+300-He(),10<c)){if(Bl(l,t,mn,!Al),st(l,0,!0)!==0)break e;ml=t,l.timeoutHandle=Pf(_f.bind(null,l,n,en,Pr,_u,t,mn,xa,Ha,Al,s,"Throttled",-0,0),c);break e}_f(l,n,en,Pr,_u,t,mn,xa,Ha,Al,s,null,-0,0)}}break}while(!0);Vn(e)}function _f(e,t,n,l,c,s,p,E,U,te,ie,ce,ne,ae){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:el},df(t,s,ce);var me=(s&62914560)===s?Wr-He():(s&4194048)===s?gf-He():0;if(me=eh(ce,me),me!==null){ml=s,e.cancelPendingCommit=me(Nf.bind(null,e,t,s,n,l,c,p,E,U,ie,ce,null,ne,ae)),Bl(e,s,p,!te);return}}Nf(e,t,s,n,l,c,p,E,U)}function b2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!sn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bl(e,t,n,l){t&=~pu,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-ue(c),p=1<<s;l[s]=-1,c&=~p}n!==0&&Ae(e,n,t)}function Fr(){return(Ke&6)===0?(Oi(0),!1):!0}function ju(){if(Ee!==null){if(Je===0)var e=Ee.return;else e=Ee,al=ea=null,Ic(e),qa=null,_i=0,e=Ee;for(;e!==null;)Po(e.alternate,e),e=e.return;Ee=null}}function Ka(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,G2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ml=0,ju(),Fe=e,Ee=n=nl(e.current,null),Te=t,Je=0,hn=null,Al=!1,Ua=rt(e,t),yu=!1,Ha=mn=pu=xa=El=xt=0,en=Ri=null,_u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-ue(l),s=1<<c;t|=e[c],l&=~s}return hl=t,yr(),n}function Sf(e,t){Me=null,j.H=Ni,t===Ba||t===zr?(t=Gs(),Je=3):t===Nc?(t=Gs(),Je=4):Je=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Ee===null&&(xt=1,Ir(e,Cn(t,e.current)))}function Cf(){var e=fn.current;return e===null?!0:(Te&4194048)===Te?zn===null:(Te&62914560)===Te||(Te&536870912)!==0?e===zn:!1}function wf(){var e=j.H;return j.H=Ni,e===null?Ni:e}function jf(){var e=j.A;return j.A=h2,e}function $r(){xt=4,Al||(Te&4194048)!==Te&&fn.current!==null||(Ua=!0),(El&134217727)===0&&(xa&134217727)===0||Fe===null||Bl(Fe,Te,mn,!1)}function Mu(e,t,n){var l=Ke;Ke|=2;var c=wf(),s=jf();(Fe!==e||Te!==t)&&(Pr=null,Ka(e,t)),t=!1;var p=xt;e:do try{if(Je!==0&&Ee!==null){var E=Ee,U=hn;switch(Je){case 8:ju(),p=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var te=Je;if(Je=0,hn=null,Xa(e,E,U,te),n&&Ua){p=0;break e}break;default:te=Je,Je=0,hn=null,Xa(e,E,U,te)}}g2(),p=xt;break}catch(ie){Sf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,al=ea=null,Ke=l,j.H=c,j.A=s,Ee===null&&(Fe=null,Te=0,yr()),p}function g2(){for(;Ee!==null;)Mf(Ee)}function v2(e,t){var n=Ke;Ke|=2;var l=wf(),c=jf();Fe!==e||Te!==t?(Pr=null,Qr=He()+500,Ka(e,t)):Ua=rt(e,t);e:do try{if(Je!==0&&Ee!==null){t=Ee;var s=hn;t:switch(Je){case 1:Je=0,hn=null,Xa(e,t,s,1);break;case 2:case 9:if(Bs(s)){Je=0,hn=null,zf(t);break}t=function(){Je!==2&&Je!==9||Fe!==e||(Je=7),Vn(e)},s.then(t,t);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Bs(s)?(Je=0,hn=null,zf(t)):(Je=0,hn=null,Xa(e,t,s,7));break;case 5:var p=null;switch(Ee.tag){case 26:p=Ee.memoizedState;case 5:case 27:var E=Ee;if(p?fd(p):E.stateNode.complete){Je=0,hn=null;var U=E.sibling;if(U!==null)Ee=U;else{var te=E.return;te!==null?(Ee=te,e0(te)):Ee=null}break t}}Je=0,hn=null,Xa(e,t,s,5);break;case 6:Je=0,hn=null,Xa(e,t,s,6);break;case 8:ju(),xt=6;break e;default:throw Error(i(462))}}y2();break}catch(ie){Sf(e,ie)}while(!0);return al=ea=null,j.H=l,j.A=c,Ke=n,Ee!==null?0:(Fe=null,Te=0,yr(),xt)}function y2(){for(;Ee!==null&&!Qn();)Mf(Ee)}function Mf(e){var t=Wo(e.alternate,e,hl);e.memoizedProps=e.pendingProps,t===null?e0(e):Ee=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ho(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Ho(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Ic(t);default:Po(n,t),t=Ee=Cs(t,hl),t=Wo(n,t,hl)}e.memoizedProps=e.pendingProps,t===null?e0(e):Ee=t}function Xa(e,t,n,l){al=ea=null,Ic(t),qa=null,_i=0;var c=t.return;try{if(c2(e,c,t,n,Te)){xt=1,Ir(e,Cn(n,e.current)),Ee=null;return}}catch(s){if(c!==null)throw Ee=c,s;xt=1,Ir(e,Cn(n,e.current)),Ee=null;return}t.flags&32768?(qe||l===1?e=!0:Ua||(Te&536870912)!==0?e=!1:(Al=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):e0(t)}function e0(e){var t=e;do{if((t.flags&32768)!==0){Df(t,Al);return}e=t.return;var n=s2(t.alternate,t,hl);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);xt===0&&(xt=5)}function Df(e,t){do{var n=o2(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);xt=6,Ee=null}function Nf(e,t,n,l,c,s,p,E,U){e.cancelPendingCommit=null;do t0();while(jt!==0);if((Ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=hc,Dt(e,n,s,p,E,U),e===Fe&&(Ee=Fe=null,Te=0),Za=t,Tl=e,ml=n,Su=s,Cu=c,vf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C2(Bn,function(){return Bf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=B.p,B.p=2,p=Ke,Ke|=4;try{f2(e,t,n)}finally{Ke=p,B.p=c,j.T=l}}jt=1,Af(),Ef(),Lf()}}function Af(){if(jt===1){jt=0;var e=Tl,t=Za,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=B.p;B.p=2;var c=Ke;Ke|=4;try{sf(t,e);var s=ku,p=hs(e.containerInfo),E=s.focusedElem,U=s.selectionRange;if(p!==E&&E&&E.ownerDocument&&ds(E.ownerDocument.documentElement,E)){if(U!==null&&xc(E)){var te=U.start,ie=U.end;if(ie===void 0&&(ie=te),"selectionStart"in E)E.selectionStart=te,E.selectionEnd=Math.min(ie,E.value.length);else{var ce=E.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=E.textContent.length,pe=Math.min(U.start,me),Pe=U.end===void 0?pe:Math.min(U.end,me);!ae.extend&&pe>Pe&&(p=Pe,Pe=pe,pe=p);var P=fs(E,pe),X=fs(E,Pe);if(P&&X&&(ae.rangeCount!==1||ae.anchorNode!==P.node||ae.anchorOffset!==P.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var ee=ce.createRange();ee.setStart(P.node,P.offset),ae.removeAllRanges(),pe>Pe?(ae.addRange(ee),ae.extend(X.node,X.offset)):(ee.setEnd(X.node,X.offset),ae.addRange(ee))}}}}for(ce=[],ae=E;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ce.length;E++){var re=ce[E];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}d0=!!Ru,ku=Ru=null}finally{Ke=c,B.p=l,j.T=n}}e.current=t,jt=2}}function Ef(){if(jt===2){jt=0;var e=Tl,t=Za,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=B.p;B.p=2;var c=Ke;Ke|=4;try{af(e,t.alternate,t)}finally{Ke=c,B.p=l,j.T=n}}jt=3}}function Lf(){if(jt===4||jt===3){jt=0,Pn();var e=Tl,t=Za,n=ml,l=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?jt=5:(jt=0,Za=Tl=null,Tf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ll=null),ii(n),t=t.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Fn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=B.p,B.p=2,j.T=null;try{for(var s=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];s(E.value,{componentStack:E.stack})}}finally{j.T=t,B.p=c}}(ml&3)!==0&&t0(),Vn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===wu?ki++:(ki=0,wu=e):ki=0,Oi(0)}}function Tf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yi(t)))}function t0(){return Af(),Ef(),Lf(),Bf()}function Bf(){if(jt!==5)return!1;var e=Tl,t=Su;Su=0;var n=ii(ml),l=j.T,c=B.p;try{B.p=32>n?32:n,j.T=null,n=Cu,Cu=null;var s=Tl,p=ml;if(jt=0,Za=Tl=null,ml=0,(Ke&6)!==0)throw Error(i(331));var E=Ke;if(Ke|=4,mf(s.current),ff(s,s.current,p,n),Ke=E,Oi(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Fn,s)}catch{}return!0}finally{B.p=c,j.T=l,Tf(e,t)}}function qf(e,t,n){t=Cn(n,t),t=nu(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(Gn(e,2),Vn(e))}function Ve(e,t,n){if(e.tag===3)qf(e,e,n);else for(;t!==null;){if(t.tag===3){qf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ll===null||!Ll.has(l))){e=Cn(n,e),n=qo(2),l=Ml(t,n,2),l!==null&&(Go(n,l,t,e),Gn(l,2),Vn(l));break}}t=t.return}}function zu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new m2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(yu=!0,c.add(n),e=p2.bind(null,e,t,n),t.then(e,e))}function p2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Fe===e&&(Te&n)===n&&(xt===4||xt===3&&(Te&62914560)===Te&&300>He()-Wr?(Ke&2)===0&&Ka(e,0):pu|=n,Ha===Te&&(Ha=0)),Vn(e)}function Gf(e,t){t===0&&(t=ot()),e=Pl(e,t),e!==null&&(Gn(e,t),Vn(e))}function _2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function S2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Gf(e,n)}function C2(e,t){return Kt(e,t)}var n0=null,Ja=null,Du=!1,l0=!1,Nu=!1,ql=0;function Vn(e){e!==Ja&&e.next===null&&(Ja===null?n0=Ja=e:Ja=Ja.next=e),l0=!0,Du||(Du=!0,j2())}function Oi(e,t){if(!Nu&&l0){Nu=!0;do for(var n=!1,l=n0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var p=l.suspendedLanes,E=l.pingedLanes;s=(1<<31-ue(42|e)+1)-1,s&=c&~(p&~E),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Yf(l,s))}else s=Te,s=st(l,l===Fe?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||rt(l,s)||(n=!0,Yf(l,s));l=l.next}while(n);Nu=!1}}function w2(){Rf()}function Rf(){l0=Du=!1;var e=0;ql!==0&&q2()&&(e=ql);for(var t=He(),n=null,l=n0;l!==null;){var c=l.next,s=kf(l,t);s===0?(l.next=null,n===null?n0=c:n.next=c,c===null&&(Ja=n)):(n=l,(e!==0||(s&3)!==0)&&(l0=!0)),l=c}jt!==0&&jt!==5||Oi(e),ql!==0&&(ql=0)}function kf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var p=31-ue(s),E=1<<p,U=c[p];U===-1?((E&n)===0||(E&l)!==0)&&(c[p]=bt(E,t)):U<=t&&(e.expiredLanes|=E),s&=~E}if(t=Fe,n=Te,n=st(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Je===2||Je===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Tn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||rt(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Tn(l),ii(n)){case 2:case 8:n=Kl;break;case 32:n=Bn;break;case 268435456:n=qn;break;default:n=Bn}return l=Of.bind(null,e),n=Kt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Tn(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var l=Te;return l=st(e,e===Fe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pf(e,l,t),kf(e,He()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Yf(e,t){if(t0())return null;pf(e,t,!0)}function j2(){R2(function(){(Ke&6)!==0?Kt(vl,w2):Rf()})}function Au(){if(ql===0){var e=La;e===0&&(e=Ce,Ce<<=1,(Ce&261888)===0&&(Ce=256)),ql=e}return ql}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function M2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=If((c[Ut]||null).action),p=l.submitter;p&&(t=(t=p[Ut]||null)?If(t.formAction):p.getAttribute("formAction"),t!==null&&(s=t,p=null));var E=new mr("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ql!==0){var U=p?Uf(c,p):new FormData(c);Qc(n,{pending:!0,data:U,method:c.method,action:s},null,U)}}else typeof s=="function"&&(E.preventDefault(),U=p?Uf(c,p):new FormData(c),Qc(n,{pending:!0,data:U,method:c.method,action:s},s,U))},currentTarget:c}]})}}for(var Eu=0;Eu<dc.length;Eu++){var Lu=dc[Eu],z2=Lu.toLowerCase(),D2=Lu[0].toUpperCase()+Lu.slice(1);Rn(z2,"on"+D2)}Rn(gs,"onAnimationEnd"),Rn(vs,"onAnimationIteration"),Rn(ys,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Z1,"onTransitionRun"),Rn(K1,"onTransitionStart"),Rn(X1,"onTransitionCancel"),Rn(ps,"onTransitionEnd"),va("onMouseEnter",["mouseout","mouseover"]),va("onMouseLeave",["mouseout","mouseover"]),va("onPointerEnter",["pointerout","pointerover"]),va("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yi));function Hf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var p=l.length-1;0<=p;p--){var E=l[p],U=E.instance,te=E.currentTarget;if(E=E.listener,U!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=te;try{s(c)}catch(ie){vr(ie)}c.currentTarget=null,s=U}else for(p=0;p<l.length;p++){if(E=l[p],U=E.instance,te=E.currentTarget,E=E.listener,U!==s&&c.isPropagationStopped())break e;s=E,c.currentTarget=te;try{s(c)}catch(ie){vr(ie)}c.currentTarget=null,s=U}}}}function Le(e,t){var n=t[ve];n===void 0&&(n=t[ve]=new Set);var l=e+"__bubble";n.has(l)||(Zf(t,e,2,!1),n.add(l))}function Tu(e,t,n){var l=0;t&&(l|=4),Zf(n,e,l,t)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[a0]){e[a0]=!0,qx.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||Tu(n,!1,e),Tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a0]||(t[a0]=!0,Tu("selectionchange",!1,t))}}function Zf(e,t,n,l){switch(yd(t)){case 2:var c=lh;break;case 8:c=ah;break;default:c=Wu}n=c.bind(null,t,n,e),c=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function qu(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=l.return;p!==null;){var U=p.tag;if((U===3||U===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=ma(E),p===null)return;if(U=p.tag,U===5||U===6||U===26||U===27){l=s=p;continue e}E=E.parentNode}}l=l.return}Jx(function(){var te=s,ie=F0(n),ce=[];e:{var ne=_s.get(e);if(ne!==void 0){var ae=mr,me=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":ae=S1;break;case"focusin":me="focus",ae=ac;break;case"focusout":me="blur",ae=ac;break;case"beforeblur":case"afterblur":ae=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=s1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=j1;break;case gs:case vs:case ys:ae=d1;break;case ps:ae=z1;break;case"scroll":case"scrollend":ae=u1;break;case"wheel":ae=N1;break;case"copy":case"cut":case"paste":ae=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Fx;break;case"toggle":case"beforetoggle":ae=E1}var pe=(t&4)!==0,Pe=!pe&&(e==="scroll"||e==="scrollend"),P=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var X=te,ee;X!==null;){var re=X;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||P===null||(re=ui(X,P),re!=null&&pe.push(Ii(X,re,ee))),Pe)break;X=X.return}0<pe.length&&(ne=new ae(ne,me,null,n,ie),ce.push({event:ne,listeners:pe}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==P0&&(me=n.relatedTarget||n.fromElement)&&(ma(me)||me[de]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=n.relatedTarget||n.toElement,ae=te,me=me?ma(me):null,me!==null&&(Pe=f(me),pe=me.tag,me!==Pe||pe!==5&&pe!==27&&pe!==6)&&(me=null)):(ae=null,me=te),ae!==me)){if(pe=Qx,re="onMouseLeave",P="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Fx,re="onPointerLeave",P="onPointerEnter",X="pointer"),Pe=ae==null?ne:ci(ae),ee=me==null?ne:ci(me),ne=new pe(re,X+"leave",ae,n,ie),ne.target=Pe,ne.relatedTarget=ee,re=null,ma(ie)===te&&(pe=new pe(P,X+"enter",me,n,ie),pe.target=ee,pe.relatedTarget=Pe,re=pe),Pe=re,ae&&me)t:{for(pe=A2,P=ae,X=me,ee=0,re=P;re;re=pe(re))ee++;re=0;for(var ye=X;ye;ye=pe(ye))re++;for(;0<ee-re;)P=pe(P),ee--;for(;0<re-ee;)X=pe(X),re--;for(;ee--;){if(P===X||X!==null&&P===X.alternate){pe=P;break t}P=pe(P),X=pe(X)}pe=null}else pe=null;ae!==null&&Kf(ce,ne,ae,pe,!1),me!==null&&Pe!==null&&Kf(ce,Pe,me,pe,!0)}}e:{if(ne=te?ci(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ie=rs;else if(as(ne))if(cs)Ie=I1;else{Ie=O1;var be=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Q0(te.elementType)&&(Ie=rs):Ie=Y1;if(Ie&&(Ie=Ie(e,te))){is(ce,Ie,n,ie);break e}be&&be(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&W0(ne,"number",ne.value)}switch(be=te?ci(te):window,e){case"focusin":(as(be)||be.contentEditable==="true")&&(wa=be,sc=te,bi=null);break;case"focusout":bi=sc=wa=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,ms(ce,n,ie);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":ms(ce,n,ie)}var ze;if(rc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ca?ns(e,n)&&(Be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Be="onCompositionStart");Be&&($x&&n.locale!=="ko"&&(Ca||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ca&&(ze=Vx()):(yl=ie,tc="value"in yl?yl.value:yl.textContent,Ca=!0)),be=i0(te,Be),0<be.length&&(Be=new Px(Be,e,null,n,ie),ce.push({event:Be,listeners:be}),ze?Be.data=ze:(ze=ls(n),ze!==null&&(Be.data=ze)))),(ze=T1?B1(e,n):q1(e,n))&&(Be=i0(te,"onBeforeInput"),0<Be.length&&(be=new Px("onBeforeInput","beforeinput",null,n,ie),ce.push({event:be,listeners:Be}),be.data=ze)),M2(ce,e,te,n,ie)}Hf(ce,t)})}function Ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=ui(e,n),c!=null&&l.unshift(Ii(e,c,s)),c=ui(e,t),c!=null&&l.push(Ii(e,c,s))),e.tag===3)return l;e=e.return}return[]}function A2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,t,n,l,c){for(var s=t._reactName,p=[];n!==null&&n!==l;){var E=n,U=E.alternate,te=E.stateNode;if(E=E.tag,U!==null&&U===l)break;E!==5&&E!==26&&E!==27||te===null||(U=te,c?(te=ui(n,s),te!=null&&p.unshift(Ii(n,te,U))):c||(te=ui(n,s),te!=null&&p.push(Ii(n,te,U)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var E2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(L2,"")}function Jf(e,t){return t=Xf(t),Xf(e)===t}function Qe(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||pa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&pa(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Kx(e,l,s);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Qe(e,t,"name",c.name,c,null),Qe(e,t,"formEncType",c.formEncType,c,null),Qe(e,t,"formMethod",c.formMethod,c,null),Qe(e,t,"formTarget",c.formTarget,c,null)):(Qe(e,t,"encType",c.encType,c,null),Qe(e,t,"method",c.method,c,null),Qe(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=el);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Le("beforetoggle",e),Le("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":$n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,ur(e,n,l))}}function Gu(e,t,n,l,c,s){switch(n){case"style":Kx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?pa(e,l):(typeof l=="number"||typeof l=="bigint")&&pa(e,""+l);break;case"onScroll":l!=null&&Le("scroll",e);break;case"onScrollEnd":l!=null&&Le("scrollend",e);break;case"onClick":l!=null&&(e.onclick=el);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Ut]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var p=n[s];if(p!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,s,p,n,null)}}c&&Qe(e,t,"srcSet",n.srcSet,n,null),l&&Qe(e,t,"src",n.src,n,null);return;case"input":Le("invalid",e);var E=s=p=c=null,U=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":p=ie;break;case"checked":U=ie;break;case"defaultChecked":te=ie;break;case"value":s=ie;break;case"defaultValue":E=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:Qe(e,t,l,ie,n,null)}}Ix(e,s,E,U,te,p,c,!1);return;case"select":Le("invalid",e),l=p=s=null;for(c in n)if(n.hasOwnProperty(c)&&(E=n[c],E!=null))switch(c){case"value":s=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Qe(e,t,c,E,n,null)}t=s,n=p,e.multiple=!!l,t!=null?ya(e,!!l,t,!1):n!=null&&ya(e,!!l,n,!0);return;case"textarea":Le("invalid",e),s=c=l=null;for(p in n)if(n.hasOwnProperty(p)&&(E=n[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":s=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Qe(e,t,p,E,n,null)}Hx(e,l,c,s);return;case"option":for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!=null)&&(U==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Qe(e,t,U,l,n,null));return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(l=0;l<Yi.length;l++)Le(Yi[l],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,te,l,n,null)}return;default:if(Q0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Gu(e,t,ie,l,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null&&Qe(e,t,E,l,n,null))}function T2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,p=null,E=null,U=null,te=null,ie=null;for(ae in n){var ce=n[ae];if(n.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=ce;default:l.hasOwnProperty(ae)||Qe(e,t,ae,null,l,ce)}}for(var ne in l){var ae=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ce!=null))switch(ne){case"type":s=ae;break;case"name":c=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":E=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ce&&Qe(e,t,ne,ae,l,ce)}}V0(e,p,E,U,te,ie,s,c);return;case"select":ae=p=E=ne=null;for(s in n)if(U=n[s],n.hasOwnProperty(s)&&U!=null)switch(s){case"value":break;case"multiple":ae=U;default:l.hasOwnProperty(s)||Qe(e,t,s,null,l,U)}for(c in l)if(s=l[c],U=n[c],l.hasOwnProperty(c)&&(s!=null||U!=null))switch(c){case"value":ne=s;break;case"defaultValue":E=s;break;case"multiple":p=s;default:s!==U&&Qe(e,t,c,s,l,U)}t=E,n=p,l=ae,ne!=null?ya(e,!!n,ne,!1):!!l!=!!n&&(t!=null?ya(e,!!n,t,!0):ya(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(E in n)if(c=n[E],n.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qe(e,t,E,null,l,c)}for(p in l)if(c=l[p],s=n[p],l.hasOwnProperty(p)&&(c!=null||s!=null))switch(p){case"value":ne=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==s&&Qe(e,t,p,c,l,s)}Ux(e,ne,ae);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:Qe(e,t,me,null,l,ne));for(U in l)ne=l[U],ae=n[U],l.hasOwnProperty(U)&&ne!==ae&&(ne!=null||ae!=null)&&(U==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":Qe(e,t,U,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in n)ne=n[pe],n.hasOwnProperty(pe)&&ne!=null&&!l.hasOwnProperty(pe)&&Qe(e,t,pe,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:Qe(e,t,te,ne,l,ae)}return;default:if(Q0(t)){for(var Pe in n)ne=n[Pe],n.hasOwnProperty(Pe)&&ne!==void 0&&!l.hasOwnProperty(Pe)&&Gu(e,t,Pe,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Gu(e,t,ie,ne,l,ae);return}}for(var P in n)ne=n[P],n.hasOwnProperty(P)&&ne!=null&&!l.hasOwnProperty(P)&&Qe(e,t,P,null,l,ne);for(ce in l)ne=l[ce],ae=n[ce],!l.hasOwnProperty(ce)||ne===ae||ne==null&&ae==null||Qe(e,t,ce,ne,l,ae)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,p=c.initiatorType,E=c.duration;if(s&&E&&Vf(p)){for(p=0,E=c.responseEnd,l+=1;l<n.length;l++){var U=n[l],te=U.startTime;if(te>E)break;var ie=U.transferSize,ce=U.initiatorType;ie&&Vf(ce)&&(U=U.responseEnd,p+=ie*(U<E?1:(E-te)/(U-te)))}if(--l,t+=8*(s+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ru=null,ku=null;function r0(e){return e.nodeType===9?e:e.ownerDocument}function Wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function q2(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(k2)}:Pf;function k2(e){setTimeout(function(){throw e})}function Gl(e){return e==="head"}function $f(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),Pa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ui(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ui(n);for(var s=n.firstChild;s;){var p=s.nextSibling,E=s.nodeName;s[xn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=p}}else n==="body"&&Ui(e.ownerDocument.body);n=c}while(n);Pa(t)}function ed(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Iu(n),ri(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function Y2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Dn(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ad(e,t,n){switch(t=r0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ri(e)}var Nn=new Map,id=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bl=B.d;B.d={f:U2,r:H2,D:Z2,C:K2,L:X2,m:J2,X:W2,S:V2,M:Q2};function U2(){var e=bl.f(),t=Fr();return e||t}function H2(e){var t=ba(e);t!==null&&t.tag===5&&t.type==="form"?_o(t):bl.r(e)}var Va=typeof document>"u"?null:document;function rd(e,t,n){var l=Va;if(l&&typeof t=="string"&&t){var c=_n(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),id.has(c)||(id.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Rt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function Z2(e){bl.D(e),rd("dns-prefetch",e,null)}function K2(e,t){bl.C(e,t),rd("preconnect",e,t)}function X2(e,t,n){bl.L(e,t,n);var l=Va;if(l&&e&&t){var c='link[rel="preload"][as="'+_n(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+_n(n.imageSizes)+'"]')):c+='[href="'+_n(e)+'"]';var s=c;switch(t){case"style":s=Wa(e);break;case"script":s=Qa(e)}Nn.has(s)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Hi(s))||t==="script"&&l.querySelector(Zi(s))||(t=l.createElement("link"),Rt(t,"link",e),Nt(t),l.head.appendChild(t)))}}function J2(e,t){bl.m(e,t);var n=Va;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qa(e)}if(!Nn.has(s)&&(e=v({rel:"modulepreload",href:e},t),Nn.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zi(s)))return}l=n.createElement("link"),Rt(l,"link",e),Nt(l),n.head.appendChild(l)}}}function V2(e,t,n){bl.S(e,t,n);var l=Va;if(l&&e){var c=ga(l).hoistableStyles,s=Wa(e);t=t||"default";var p=c.get(s);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Hi(s)))E.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(s))&&Ku(e,n);var U=p=l.createElement("link");Nt(U),Rt(U,"link",e),U._p=new Promise(function(te,ie){U.onload=te,U.onerror=ie}),U.addEventListener("load",function(){E.loading|=1}),U.addEventListener("error",function(){E.loading|=2}),E.loading|=4,u0(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(s,p)}}}function W2(e,t){bl.X(e,t);var n=Va;if(n&&e){var l=ga(n).hoistableScripts,c=Qa(e),s=l.get(c);s||(s=n.querySelector(Zi(c)),s||(e=v({src:e,async:!0},t),(t=Nn.get(c))&&Xu(e,t),s=n.createElement("script"),Nt(s),Rt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function Q2(e,t){bl.M(e,t);var n=Va;if(n&&e){var l=ga(n).hoistableScripts,c=Qa(e),s=l.get(c);s||(s=n.querySelector(Zi(c)),s||(e=v({src:e,async:!0,type:"module"},t),(t=Nn.get(c))&&Xu(e,t),s=n.createElement("script"),Nt(s),Rt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function cd(e,t,n,l){var c=(c=se.current)?c0(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wa(n.href),n=ga(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wa(n.href);var s=ga(c).hoistableStyles,p=s.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,p),(s=c.querySelector(Hi(e)))&&!s._p&&(p.instance=s,p.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),s||P2(c,e,n,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qa(n),n=ga(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wa(e){return'href="'+_n(e)+'"'}function Hi(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function P2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),Nt(t),e.head.appendChild(t))}function Qa(e){return'[src="'+_n(e)+'"]'}function Zi(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+_n(n.href)+'"]');if(l)return t.instance=l,Nt(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Nt(l),Rt(l,"style",c),u0(l,n.precedence,e),t.instance=l;case"stylesheet":c=Wa(n.href);var s=e.querySelector(Hi(c));if(s)return t.state.loading|=4,t.instance=s,Nt(s),s;l=ud(n),(c=Nn.get(c))&&Ku(l,c),s=(e.ownerDocument||e).createElement("link"),Nt(s);var p=s;return p._p=new Promise(function(E,U){p.onload=E,p.onerror=U}),Rt(s,"link",l),t.state.loading|=4,u0(s,n.precedence,e),t.instance=s;case"script":return s=Qa(n.src),(c=e.querySelector(Zi(s)))?(t.instance=c,Nt(c),c):(l=n,(c=Nn.get(s))&&(l=v({},n),Xu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Nt(c),Rt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===t)s=E;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var x0=null;function sd(e,t,n){if(x0===null){var l=new Map,c=x0=new Map;c.set(n,l)}else c=x0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[xn]||s[wt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var p=s.getAttribute(t)||"";p=e+p;var E=l.get(p);E?E.push(s):l.set(p,[s])}}return l}function od(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function F2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Wa(l.href),s=t.querySelector(Hi(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=s0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Nt(s);return}s=t.ownerDocument||t,l=ud(l),(c=Nn.get(c))&&Ku(l,c),s=s.createElement("link"),Nt(s);var p=s;p._p=new Promise(function(E,U){p.onload=E,p.onerror=U}),Rt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=s0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ju=0;function eh(e,t){return e.stylesheets&&e.count===0&&f0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Ju===0&&(Ju=62500*B2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Ju?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function s0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var o0=null;function f0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,o0=new Map,t.forEach(th,e),o0=null,s0.call(e))}function th(e,t){if(!(t.state.loading&4)){var n=o0.get(e);if(n)var l=n.get(null);else{n=new Map,o0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var p=c[s];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),s=n.get(p)||l,s===l&&n.set(null,c),n.set(p,c),this.count++,l=s0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ki={$$typeof:L,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function nh(e,t,n,l,c,s,p,E,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function dd(e,t,n,l,c,s,p,E,U,te,ie,ce){return e=new nh(e,t,n,p,U,te,ie,ce,E),t=1,s===!0&&(t|=24),s=on(3,null,null,t),e.current=s,s.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Ac(s),e}function hd(e){return e?(e=za,e):za}function md(e,t,n,l,c,s){c=hd(c),l.context===null?l.context=c:l.pendingContext=c,l=jl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Ml(e,l,t),n!==null&&(tn(n,e,t),Ci(n,e,t))}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=Pl(e,67108864);t!==null&&tn(t,e,67108864),Vu(e,67108864)}}function vd(e){if(e.tag===13||e.tag===31){var t=bn();t=ct(t);var n=Pl(e,t);n!==null&&tn(n,e,t),Vu(e,t)}}var d0=!0;function lh(e,t,n,l){var c=j.T;j.T=null;var s=B.p;try{B.p=2,Wu(e,t,n,l)}finally{B.p=s,j.T=c}}function ah(e,t,n,l){var c=j.T;j.T=null;var s=B.p;try{B.p=8,Wu(e,t,n,l)}finally{B.p=s,j.T=c}}function Wu(e,t,n,l){if(d0){var c=Qu(l);if(c===null)qu(e,t,l,h0,n),pd(e,l);else if(rh(c,e,t,n,l))l.stopPropagation();else if(pd(e,l),t&4&&-1<ih.indexOf(e)){for(;c!==null;){var s=ba(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var p=Se(s.pendingLanes);if(p!==0){var E=s;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var U=1<<31-ue(p);E.entanglements[1]|=U,p&=~U}Vn(s),(Ke&6)===0&&(Qr=He()+500,Oi(0))}}break;case 31:case 13:E=Pl(s,2),E!==null&&tn(E,s,2),Fr(),Vu(s,2)}if(s=Qu(l),s===null&&qu(e,t,l,h0,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else qu(e,t,l,null,n)}}function Qu(e){return e=F0(e),Pu(e)}var h0=null;function Pu(e){if(h0=null,e=ma(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return h0=e,null}function yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case vl:return 2;case Kl:return 8;case Bn:case ha:return 32;case qn:return 268435456;default:return 32}default:return 32}}var Fu=!1,Rl=null,kl=null,Ol=null,Xi=new Map,Ji=new Map,Yl=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":kl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function Vi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=ba(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function rh(e,t,n,l,c){switch(t){case"focusin":return Rl=Vi(Rl,e,t,n,l,c),!0;case"dragenter":return kl=Vi(kl,e,t,n,l,c),!0;case"mouseover":return Ol=Vi(Ol,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Xi.set(s,Vi(Xi.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Ji.set(s,Vi(Ji.get(s)||null,e,t,n,l,c)),!0}return!1}function _d(e){var t=ma(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,cr(e.priority,function(){vd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,cr(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);P0=l,n.target.dispatchEvent(l),P0=null}else return t=ba(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){m0(e)&&n.delete(t)}function ch(){Fu=!1,Rl!==null&&m0(Rl)&&(Rl=null),kl!==null&&m0(kl)&&(kl=null),Ol!==null&&m0(Ol)&&(Ol=null),Xi.forEach(Sd),Ji.forEach(Sd)}function b0(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,ch)))}var g0=null;function Cd(e){g0!==e&&(g0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){g0===e&&(g0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Pu(l||n)===null)continue;break}var s=ba(n);s!==null&&(e.splice(t,3),t-=3,Qc(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function Pa(e){function t(U){return b0(U,e)}Rl!==null&&b0(Rl,e),kl!==null&&b0(kl,e),Ol!==null&&b0(Ol,e),Xi.forEach(t),Ji.forEach(t);for(var n=0;n<Yl.length;n++){var l=Yl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Yl.length&&(n=Yl[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Yl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],p=c[Ut]||null;if(typeof s=="function")p||Cd(n);else if(p){var E=null;if(s&&s.hasAttribute("formAction")){if(c=s,p=s[Ut]||null)E=p.formAction;else if(Pu(c)!==null)continue}else E=p.action;typeof E=="function"?n[l+1]=E:(n.splice(l,3),l-=3),Cd(n)}}}function wd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function $u(e){this._internalRoot=e}v0.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();md(n,l,e,t,null,null)},v0.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),Fr(),t[de]=null}};function v0(e){this._internalRoot=e}v0.prototype.unstable_scheduleHydration=function(e){if(e){var t=rr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yl.length&&t!==0&&t<Yl[n].priority;n++);Yl.splice(n,0,e),n===0&&_d(e)}};var jd=r.version;if(jd!=="19.2.3")throw Error(i(527,jd,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{Fn=y0.inject(uh),Lt=y0}catch{}}return Qi.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",c=Eo,s=Lo,p=To;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=dd(e,1,!1,null,null,n,l,null,c,s,p,wd),e[de]=t.current,Bu(e),new $u(t)},Qi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,c="",s=Eo,p=Lo,E=To,U=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(U=n.formState)),t=dd(e,1,!0,t,n??null,l,c,U,s,p,E,wd),t.context=hd(null),n=t.current,l=bn(),l=ct(l),c=jl(l),c.callback=null,Ml(n,c,l),n=l,t.current.lanes=n,Gn(t,n),Vn(t),e[de]=t.current,Bu(e),new v0(t)},Qi.version="19.2.3",Qi}var qd;function vh(){if(qd)return nx.exports;qd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),nx.exports=gh(),nx.exports}var yh=vh();const ti=Yn;(function(u,r){const a=Yn,i=u();for(;;)try{if(parseInt(a(464))/1*(-parseInt(a(469))/2)+parseInt(a(487))/3*(parseInt(a(474))/4)+parseInt(a(467))/5*(-parseInt(a(482))/6)+-parseInt(a(473))/7+-parseInt(a(476))/8*(-parseInt(a(465))/9)+-parseInt(a(486))/10+parseInt(a(468))/11*(parseInt(a(483))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(w0,358134);const ph=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),ux=ph(void 0,function(){const u=Yn;return ux[u(484)]().search(u(478))[u(484)]().constructor(ux).search("(((.+)+)+)+$")});ux();const C0=()=>new Date().toISOString(),Yt=u=>u+"_"+Math[ti(471)]()[ti(484)](36).slice(2,10),_e=(u,r,a)=>Math[ti(466)](r,Math.min(a,u)),Ul=u=>{const r=ti;return{HwiJU:function(i,o){return i===o}}[r(477)](u,void 0)||u===null?u:JSON[r(480)](JSON[r(475)](u))},Fi=u=>Math.floor(u*.7/5)*5;function w0(){const u=["CgfYC2u","uKvYChO","nZeYmMzhEKPhtW","mti5nJm1mtz6CxrqEwq","Dg9tDhjPBMC","zMLSDgvY","nJeYmJm2meLJA0Plvq","mZyWmJrNqxLTC3e","BwfW","zMLUza","BgvHzKLKCW","mwfMyvPVCG","mtK3ndz1rgTkvM0","Bwf4","mte3nxblqM1Yza","mtfctgLswKy","mZq0nJyYsKPOr1vb","BgvUz3rO","CMfUzg9T","BvPuuMW","mtaZnZy3m2PwyMz0Dq","ntjYAgLjENu","C3rYAw5NAwz5","mtiXnKnJvKvuvW","shDPsLu","kcGOlISPkYKRksSK","CMvKDwnL"];return w0=function(){return u},w0()}function fa(u,r){return u.groups?u.groups.find(a=>a.flowerIds.includes(r))??null:null}function _h(u,r){const a=fa(u,r);return a?a.flowerIds:[r]}function K0(u,r){return u.leafGroups?u.leafGroups.find(a=>a.leafIds.includes(r))??null:null}function Sh(u,r){const a=ti,i={jccES:function(d,h){return d===h},mZTRl:function(d,h){return d/h},AikSR:function(d,h){return d/h}},o=(u.leafGroups??[]).find(d=>d.id===r);if(!o||i.jccES(o.leafIds.length,0))return{x:0,y:0};const f=o.leafIds[a(488)](d=>(u.leaves??[])[a(462)](h=>h.id===d))[a(485)](d=>!!d);if(i.jccES(f.length,0))return{x:0,y:0};const m=f.reduce((d,h)=>d+h.position.x,0),y=f[a(479)]((d,h)=>d+h.position.y,0);return{x:i[a(472)](m,f.length),y:i.AikSR(y,f[a(470)])}}function Yn(u,r){u=u-462;const a=w0();let i=a[u];if(Yn.mhIfIl===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Yn.IqJlSO=o,Yn.WpyUqF={},Yn.mhIfIl=!0}const f=a[0],m=u+f,y=Yn.WpyUqF[m];if(y)i=y;else{const d=function(h){this.Gjcfel=h,this.oUKYJn=[1,0,0],this.UIUTpO=function(){return"newState"},this.OlvPne="\\w+ *\\(\\) *{\\w+ *",this.IroHFH=`['|"].+['|"];? *}`};d.prototype.CxZxgC=function(){const h=new RegExp(this.OlvPne+this.IroHFH),g=h.test(this.UIUTpO.toString())?--this.oUKYJn[1]:--this.oUKYJn[0];return this.TDoPdl(g)},d.prototype.TDoPdl=function(h){return~h?this.FeBqIg(this.Gjcfel):h},d.prototype.FeBqIg=function(h){for(let g=0,v=this.oUKYJn.length;g<v;g++)this.oUKYJn.push(Math.round(Math.random())),v=this.oUKYJn.length;return h(this.oUKYJn[0])},new d(Yn).CxZxgC(),i=Yn.IqJlSO(i),Yn.WpyUqF[m]=i}return i}function Ch(u,r){const a=ti,i={RErpz:function(f,m,y){return f(m,y)}},o=i[a(481)](K0,u,r);return o?o[a(463)]:[r]}function An(u,r){u=u-105;const a=j0();let i=a[u];if(An.Yurcxs===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};An.rjdHfO=o,An.pmUCTQ={},An.Yurcxs=!0}const f=a[0],m=u+f,y=An.pmUCTQ[m];if(y)i=y;else{const d=function(h){this.iFuQTF=h,this.jFbHjO=[1,0,0],this.eKtIJZ=function(){return"newState"},this.ogOEcI="\\w+ *\\(\\) *{\\w+ *",this.aUGbRm=`['|"].+['|"];? *}`};d.prototype.ciDkED=function(){const h=new RegExp(this.ogOEcI+this.aUGbRm),g=h.test(this.eKtIJZ.toString())?--this.jFbHjO[1]:--this.jFbHjO[0];return this.MsmmVw(g)},d.prototype.MsmmVw=function(h){return~h?this.vQYjns(this.iFuQTF):h},d.prototype.vQYjns=function(h){for(let g=0,v=this.jFbHjO.length;g<v;g++)this.jFbHjO.push(Math.round(Math.random())),v=this.jFbHjO.length;return h(this.jFbHjO[0])},new d(An).ciDkED(),i=An.rjdHfO(i),An.pmUCTQ[m]=i}return i}const ni=An;function j0(){const u=["mJG3mJq1zLvysuXK","mte4nZi5ndbPsNjzrg4","C2L6zvn0zxbnBq","Bwf4","CM91BMq","zefjv2u","C09QzfO","kcGOlISPkYKRksSK","mte1mtG0nePqzuf0qq","mtGWrK5Xz0jK","DvvWwNC","EhPptgK","ndK2mJaWC1vHsvL5","mZu0otu0BhnVsePQ","rfPfAuO","C2LU","BwLU","nuHJy1z0sa","Dg9tDhjPBMC","AvjVAxe","mJu0mdHjzM53q3i","uMrUEMO","r3D5CMe","ww9KB2K","EKLMsM8","rwThwhy","C0LPsu0","Dw5PzM9YBq","AMPAC1y","DKLZyLC","Avj3twu","mtjzDwvwufq","u1fsvdi","ChvZAa","odCXmdq0ueH2reTz","tNjpwuK","Aff0svG","z3jHzhvHBa","vxrtBe0","zgnODwK","Bw1xy0q","zensC2q","venrthG","DgDfsxO","vvPPthe","DwDurg4","D3D6tgi","C2vHCMnO","CuL0DvO","vwDuDum","DfjWyMC","vwn4zKK","zgvbqKS","Eu5wqvi","ANb0B04","zhLRCwK","CK5lv0C"];return j0=function(){return u},j0()}(function(u,r){const a=An,i=u();for(;;)try{if(parseInt(a(148))/1+parseInt(a(113))/2+parseInt(a(149))/3*(parseInt(a(110))/4)+-parseInt(a(153))/5*(-parseInt(a(144))/6)+-parseInt(a(136))/7+-parseInt(a(156))/8*(-parseInt(a(145))/9)+-parseInt(a(137))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(j0,313841);const wh=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),xx=wh(void 0,function(){const u=An,r={iRoiq:"(((.+)+)+)+$"};return xx[u(154)]()[u(126)](u(143)).toString().constructor(xx).search(r[u(155)])});xx();const ei=2/3,Gd=.6,jh=.25,Mh=.75;function Zl(u,r,a){const i=An,o={hQtIX:function(L,q){return L/q},zIfJo:function(L,q){return L*q},jptoN:function(L,q){return L/q},vIsbW:function(L,q){return L/q},DZEiJ:function(L,q){return L/q},yNVAR:function(L,q){return L<=q},ecUId:"uniform",Gwyra:function(L,q){return L-q},enWTz:function(L,q){return L/q},OhFyj:function(L,q){return L===q},RZPbl:function(L,q){return L-q},dchui:function(L,q){return L/q},dvqyg:function(L,q){return L*q},VgccD:function(L,q){return L+q},dykqi:function(L,q){return L*q},deABK:function(L,q){return L/q},TCQLx:function(L,q){return L+q},vGtNW:function(L,q){return L<q},zSqRI:function(L,q){return L!==q},iRwMe:function(L,q){return L===q},qItuZ:i(116),rNKWG:function(L,q){return L*q},aMpWM:function(L,q){return L/q},dCRsd:function(L,q){return L*q}},f=o[i(108)](u,2),m=o[i(150)](r*Math.SQRT2,2);if(o[i(132)](m,0)||f<=0)return{diameter:u,layerCount:1};const y=a?.sizeMode??o.ecUId,d=a?.[i(138)]??0,h=m*o[i(158)](1,ei),g=Math.PI*f/2,v=a?.layerCount??Math[i(139)](1,Math.round(o.enWTz(g,h))),z=o.OhFyj(y,"gradual")?r+o.RZPbl(v,1)*d:r,b=o[i(118)](o.dvqyg(z,Math.SQRT2),2),D=o.VgccD(o.dykqi(m,jh),b*Mh);if(v===1){const L=Math[i(152)](o[i(131)](Math.PI,2),o.enWTz(b*ei,f)),q=o[i(160)](f,Math.sin(L)),O=o[i(160)](b,Gd)*Math[i(151)](L);return{diameter:Math[i(140)](Math.max(u,2*o[i(121)](q,O))),layerCount:v}}let w=o.zIfJo(m,ei)/f;for(let L=1;o.vGtNW(L,v);L++)if(o.zSqRI(i(157),"Rdnzj")){const q=o[i(115)](o.zIfJo(_0x4d98ea,_0x3d1ed9+2),3);return _0x54d6b5[i(139)](1,_0x43d292[i(140)](o[i(133)](_0x1b1945,q)))}else{const q=o[i(109)](y,o[i(127)])?r+L*d:r,O=o[i(134)](q,Math[i(111)])/2;w+=o[i(135)](O,1-ei)/f}w=Math[i(152)](w,o.aMpWM(Math.PI,2));const S=o[i(134)](o.TCQLx(f,D*Gd),Math[i(151)](w)),T=Math[i(139)](0,S-f);return{diameter:Math[i(140)](u+o[i(120)](2,T)),layerCount:v}}function tr(u,r,a=ni(106),i=0){const o=ni,f={OPhVS:function(d,h){return d<=h},wwzLb:"gradual",hBpfV:function(d,h){return d+h},EkGXv:function(d,h){return d<h}};if(r<=0||f.OPhVS(u,0))return 0;const m=[];for(let d=0;d<r;d++){const h=a===f[o(125)]?f.hBpfV(u,d*i):u;m[o(112)](h*Math[o(111)]/2)}let y=m[0];for(let d=1;f[o(161)](d,r);d++)y+=m[d]/3;return Math.round(y*2)}function zh(u,r,a=ni(106),i=0){const o=ni,f={sIiIM:function(v,z){return v<=z},jjZsV:function(v,z){return v<=z},sOjdZ:function(v,z){return v/z},UZiLq:function(v,z){return v===z},bQLPp:o(106),mcoSy:function(v,z){return v===z},UcxfI:function(v,z){return v*z}};if(f[o(105)](r,0)||f[o(107)](u,0))return 0;const m=f[o(142)](u,2),y=f[o(142)](Math[o(111)],2),d=r;if(f[o(123)](a,f.bQLPp)||f.mcoSy(i,0)){const v=y*(d+2)/3;return Math[o(139)](1,Math.round(f[o(142)](m,v)))}const h=f[o(142)](f[o(130)](i,d-1)*d,6),g=(m/y-h)*3/(d+2);return Math[o(139)](1,Math.round(g))}function Dh(u,r,a){const i=ni,o={UtSlM:function(y,d){return y<d},xzOLi:function(y,d){return y/d},NrOYI:function(y,d){return y+d},Yodoi:function(y,d,h,g){return y(d,h,g)}};if(u<=r)return 1;let f=1,m=80;for(let y=0;o.UtSlM(y,30);y++){const d=o[i(147)](o[i(114)](f,m),2),{diameter:h}=o[i(159)](Zl,r,d,a);o[i(117)](h,u)?f=d:m=d}return Math.max(1,Math.round((f+m)/2))}function Nh(u,r,a){const i=ni,o={tgEIz:function(z,b){return z/b},dAIWe:function(z,b){return z/b},tRpbg:function(z,b){return z*b},cmZiE:function(z,b){return z<=b},ZNPbn:function(z,b){return z<=b},mmWcD:i(106),ugTDn:function(z,b){return z<b},uUpZw:function(z,b){return z+b},UgTuC:function(z,b){return z*b}},f=o[i(122)](u,2),m=o[i(141)](o[i(129)](r,Math.SQRT2),2);if(o.cmZiE(m,0)||o.ZNPbn(f,0))return 1;const y=a?.sizeMode??"uniform",d=a?.sizeStepMm??0,h=o[i(122)](Math.PI,2);if(y===o[i(119)]||d===0){const z=m/3,b=Math.PI*f/2;return Math[i(139)](1,Math[i(140)](o.tgEIz(b,z)))}let g=o[i(122)](m*ei,f);if(g>=h)return 1;let v=1;for(let z=1;o[i(124)](z,100);z++){const b=o[i(146)](r,z*d),D=o.tgEIz(o[i(128)](b,Math[i(111)]),2),w=D*(1-ei)/f;if(g+=w,g>h+w/2)break;v=o.uUpZw(z,1)}return Math[i(139)](1,v)}const yn=En;(function(u,r){const a=En,i=u();for(;;)try{if(-parseInt(a(192))/1*(-parseInt(a(212))/2)+parseInt(a(175))/3+-parseInt(a(259))/4*(-parseInt(a(241))/5)+parseInt(a(236))/6*(parseInt(a(182))/7)+-parseInt(a(250))/8*(-parseInt(a(205))/9)+parseInt(a(232))/10*(parseInt(a(233))/11)+-parseInt(a(177))/12*(parseInt(a(240))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(M0,662102);const Ah=(function(){let u=!0;return function(r,a){const i=u?function(){const o=En;if(a){const f=a[o(195)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),sx=Ah(void 0,function(){const u=En,r={vyHjU:"(((.+)+)+)+$"};return sx[u(213)]().search(r.vyHjU).toString()[u(251)](sx)[u(218)](r[u(215)])});sx();const ar=.28,Rd={:yn(210),:yn(199)};function ox(u){const r=yn,a={DuNtc:r(187),ltosd:""};return u===""?Rd[a.DuNtc]:Rd[a[r(183)]]}function da(u){const r=yn,a={yywvs:function(i,o){return i/o},xJIBW:function(i,o){return i*o}};return a[r(256)](a.xJIBW(u,Math.PI),180)}const cn=2.7;function It(u){const r=yn,a={EgSsp:function(m,y){return m*y},XliVZ:function(m,y){return m/y}},i=a.EgSsp(u,Math[r(239)])/2,o=i*cn,f=a[r(174)](o,2);return{length:o,width:f}}function Eh(u){return{nFTQS:function(i,o){return i*o}}[yn(248)](u,cn)/2}function $i(u,r,a){const i=yn,o={BKFni:function(h,g){return h(g)},MWbYw:function(h,g){return h*g},lToKh:function(h,g){return h/g},Nyvwm:function(h,g){return h*g}},{length:f}=o[i(204)](It,a),m=o[i(188)](f,r),y=Math.max(0,u-m*ar),d=y+m;return o.lToKh(o[i(258)](d,2),cn)}function Lh(u,r,a){const i=yn,o={IyuMT:function(d,h){return d(h)},BnxYk:function(d,h){return d*h},ViXca:function(d,h){return d-h}},{length:f}=o.IyuMT(It,a),m=o.BnxYk(f,r),y=o.BnxYk(u,cn)/2;return Math[i(219)](2,y-o.BnxYk(m,o[i(203)](1,ar)))}function M0(){const u=["mJaYnJG0otjmzMTxCwq","DvnoyKq","5y2k44gp44gz","Dg9gAxHLza","tLz4BNe","n0vztfvRrG","BhrVC2q","ywjZ","q3boAhu","y29Z","5yMJ44gK44g+44g/","tvDIwxC","ywT1wum","DuHXy2C","uun2Agy","mtuZody1D1j4rwzd","ExfQAvC","C29YDa","yxbWBhK","ChvZAa","vuzjzeK","C2LU","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","BgvUz3rO","BMPsqwm","CvjYrM0","vMLyy2e","qKTgBMK","mtq3nLjjyMrXtG","vgLOsvy","vK9xq2O","r25mvuK","AxPoCue","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","sLroEKi","ofjby3fNsW","Dg9tDhjPBMC","C2nHBgu","DNLiALu","r05sEMG","wgvsqKy","C2vHCMnO","Bwf4","CM91BMq","tMf4q1G","u3HrsNa","zwzPC1i","qvrMsLO","zMXVB3i","CNDUvKm","AKLwCLK","Aw9ACey","wg9sze0","BwLU","sLLRqxy","mJe5mefKv3rlDa","mZuWoxnjDhnmAG","quDiDKS","tK5fq24","mJG2mdi1nffyzenwBq","ENfPAxC","sxbTs28","u1fsvdi","mtnIq2H5CNm","mtiYotq1vvHgseTj","t0HTrxy","t2L4qMS","CunAD3i","zwfrAwW","s1vPwLy","qMz1zwi","BKzuuvm","vM5KAw8","ntqXnKfnrfjfAG","y29UC3rYDwn0B3i","vLDZEKu","CMfKAxvZ","B3jKzxi","wLz0vvi","ExL3DNm","AM9PBG","tNL2D20","mtaWA3DoqLPf","wgXPvLO","mtm5mda4meLOEg14zG","Ce5zBg8"];return M0=function(){return u},M0()}function Wn(u,r,a){const i=yn,o={yqjiW:function(g,v){return g+v},NNECn:function(g,v){return g*v},UayWI:function(g,v){return g/v},UcUVB:function(g,v){return g%v},uSNbD:function(g,v){return g%v},hUBIc:function(g,v){return g*v},Fcnfd:function(g,v){return g-v},CukRL:function(g,v){return g<v},ATfJZ:function(g,v){return g<=v},ysGxG:function(g,v){return g??v},NVxnq:function(g,v){return g%v},efisR:function(g,v){return g+v},OixBk:"sRpYy",NYanF:function(g,v){return g+v},njRAc:function(g,v){return g+v},TihIV:function(g,v){return g*v},IpmKo:function(g,v){return g-v},JYkAv:function(g,v){return g>v}};if(!u||u<=0||!a||o[i(224)](a,0))return o.ysGxG(r,0);const f=360/u,m=o.UayWI(360,a),y=[];for(let g=0;g<u;g++)y[i(196)](o[i(181)](o[i(178)](o[i(223)](r,g*f),360)+360,360));let d=r+f/2,h=-1;for(let g=0;g<u;g++)if(o[i(243)]!=="sRpYy"){const v=o.yqjiW(o[i(193)](_0x4f7369,o.NNECn(_0x54b7f4,_0xeade72)),o.UayWI(_0xf0f511,2));let z=_0x221096;for(let b=0;b<_0x5e07ff;b++){const D=o.UcUVB(o[i(178)](v+o.hUBIc(b,_0xe2706a),360)+360,360);for(const w of _0x258f26){let S=_0x297380[i(184)](o.Fcnfd(D,w));S>180&&(S=360-S),o.CukRL(S,z)&&(z=S)}}z>_0xbccacb&&(_0x15edf2=z,_0x5ca03b=v)}else{const v=o.NYanF(r,o[i(235)](g,f))+o.UayWI(f,2);let z=1/0;for(let b=0;b<a;b++){const D=o[i(201)]((v+o[i(206)](b,m))%360,360)%360;for(const w of y){let S=Math[i(184)](D-w);S>180&&(S=o[i(238)](360,S)),S<z&&(z=S)}}o[i(231)](z,h)&&(h=z,d=v)}return Math[i(220)](d*10)/10}function X0(u,r,a){const i=yn,o={nCkug:function(b,D){return b===D},Vndio:function(b,D){return b-D},rwnVC:function(b,D){return b/D},FXSph:function(b,D){return b*D},akuYC:function(b,D){return b/D},dKMnF:function(b,D){return b!==D},qRrFm:i(242),ZVtUR:function(b,D){return b/D},dorEK:function(b,D){return b*D},AGHvK:function(b,D){return b*D},UFIdI:function(b,D,w){return b(D,w)}};if(o.nCkug(u[i(200)],0))return;const{length:f}=It(r),m=u[0],y=m.scale??1,d=f*y,h=Math[i(219)](0,o[i(249)](m.radius,d*ar)),g=h+d;if(g<=0)return;const v=o[i(226)](o.FXSph(a,cn),2),z=o[i(189)](v,g);for(const b of u)o.dKMnF("OHmEv",o[i(202)])?_0x5887d1[i(253)]=_0x23bdc7:(b.radius=Math[i(219)](2,o[i(255)](Math.round(o.dorEK(o[i(234)](b.radius,z),10)),10)),b[i(214)]=o[i(226)](Math[i(220)](o.dorEK((b.scale??1)*z,100)),100));o[i(197)](fx,u,r)}function fx(u,r){const a=yn,i={WIrul:function(d,h){return d===h},izNqA:function(d,h){return d(h)},VWszE:function(d,h){return d*h},gmtCI:function(d,h){return d/h},pNYlo:function(d,h){return d>h}};if(i.WIrul(u[a(200)],0))return;const o=u[u.length-1],{length:f}=i[a(209)](It,r),m=i.VWszE(f,o[a(214)]??1),y=i.gmtCI(Math.floor(i[a(252)](m,ar)*10),10);i[a(176)](o[a(253)],y)&&(o[a(253)]=y)}function Th(u,r,a,i){const o=yn,f={VOWCj:function(z,b){return z/b},WcYmf:function(z,b){return z*b},GNRzh:function(z,b){return z===b},QWdHZ:function(z,b){return z<b},XoRdM:function(z,b){return z-b},qCZwr:function(z,b){return z*b},CpNhu:o(179),ioZpF:function(z,b){return z*b},XeRBF:function(z,b){return z>b},KUiZV:function(z,b){return z*b},QCvhf:function(z,b){return z*b},AcLKq:function(z,b){return z+b}};if(f[o(216)](u.length,0))return;const m=[...u].sort((z,b)=>b.order-z[o(254)]),{length:y}=It(r),d=m.length,h=m[0][o(214)]??1,g=y*h;m[0].radius=Math[o(225)](f.WcYmf(g,ar)*10)/10;for(let z=1;f.QWdHZ(z,d);z++){const b=m[f.XoRdM(z,1)],D=f[o(244)](y,b[o(214)]??1);let w;if(a===f[o(185)]){const T=f.VOWCj(f[o(228)](70,Math.PI),180),G=f[o(217)](d,1)?f[o(246)](z/f[o(229)](d,1),T):0;w=f[o(191)](D*(30/100),Math.cos(G))}else w=D/3;m[z][o(253)]=Math.round(f.WcYmf(f.AcLKq(b.radius,w),10))/10}const v=[...u][o(194)]((z,b)=>z.order-b[o(254)]);X0(v,r,i);for(const z of v)if(o(211)===o(211)){const b=u.find(D=>D.id===z.id);b&&(b.radius=z.radius,b.scale=z[o(214)])}else return rqvUAh[o(207)](rqvUAh.WcYmf(_0x2090e1,_0x23b7b7),2)}function En(u,r){u=u-174;const a=M0();let i=a[u];if(En.ASbYxs===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};En.Fpajll=o,En.CXkaib={},En.ASbYxs=!0}const f=a[0],m=u+f,y=En.CXkaib[m];if(y)i=y;else{const d=function(h){this.rhgxJw=h,this.OFGOuc=[1,0,0],this.WFyINV=function(){return"newState"},this.yYfanU="\\w+ *\\(\\) *{\\w+ *",this.FMGqAu=`['|"].+['|"];? *}`};d.prototype.ndGKBD=function(){const h=new RegExp(this.yYfanU+this.FMGqAu),g=h.test(this.WFyINV.toString())?--this.OFGOuc[1]:--this.OFGOuc[0];return this.MVLCTm(g)},d.prototype.MVLCTm=function(h){return~h?this.nEVAGp(this.rhgxJw):h},d.prototype.nEVAGp=function(h){for(let g=0,v=this.OFGOuc.length;g<v;g++)this.OFGOuc.push(Math.round(Math.random())),v=this.OFGOuc.length;return h(this.OFGOuc[0])},new d(En).ndGKBD(),i=En.Fpajll(i),En.CXkaib[m]=i}return i}function li(u){const r=yn,a={Bfueb:function(d,h){return d/h},uHqcg:function(d,h){return d(h)},eaQil:function(d,h){return d*h}},i=a.Bfueb(360,u),o=Math.sin(a[r(190)](da,i/2))*2,f=.96,m=1.2,y=o*m/f;return a[r(247)](Math.round(a[r(245)](Math[r(219)](.3,Math[r(230)](3,y)),100)),100)}(function(u,r){const a=Jt,i=u();for(;;)try{if(-parseInt(a(265))/1*(parseInt(a(246))/2)+parseInt(a(301))/3+-parseInt(a(276))/4*(-parseInt(a(321))/5)+parseInt(a(334))/6*(-parseInt(a(249))/7)+-parseInt(a(272))/8+parseInt(a(288))/9+parseInt(a(298))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(z0,343620);const Bh=(function(){const u=Jt,r={HmyUF:u(304),xnqlt:function(i,o){return i(o)},UVBlH:function(i,o){return i+o},ArUdB:u(313)};let a=!0;return function(i,o){const f=u,m={PtKNc:function(y,d){return r.xnqlt(y,d)},MhEmk:function(y,d){return r[Jt(267)](y,d)},Ytimd:function(y,d){return r.UVBlH(y,d)}};if(r.ArUdB===f(339)){const y=_0x2600ab.find(d=>d.id===_0x3aac41.id);y&&(y.radius=_0x2f1a43.radius,y[f(281)]=_0x4878a2[f(281)])}else{const y=a?function(){const d=f;if(o)if(r.HmyUF===d(248)){const h=m[d(338)](_0x1ea15b,_0x3e90b9);h.id=m.MhEmk(_0x51e782,d(266)),h.name=_0x3292f2[d(311)]+d(295);const g=_0x38a785?.x??12,v=_0x2bac9f?.y??12;return h[d(333)]={x:m[d(314)](_0xcd0524[d(333)]?.x??0,g),y:(_0x39da17[d(333)]?.y??0)+v},h[d(289)]=(h.layers||[]).map(z=>({...z,id:_0x1d2de3(d(273)),petalOverrides:z.petalOverrides?z[d(261)][d(284)](b=>({...b})):void 0})),h}else{const h=o[d(286)](i,arguments);return o=null,h}}:function(){};return a=!1,y}}})(),dx=Bh(void 0,function(){const u=Jt;return dx[u(331)]()[u(247)](u(332)).toString().constructor(dx).search("(((.+)+)+)+$")});function z0(){const u=["sKnnrM4","tNHjzui","ChjVAG","mtm2ndm2ohPYwhH2Eq","Bgf5","y29Sx3bPBMS","y29Sx2DVBgq","mtm3otjNr3fjAwK","B2zMC2v0qw5NBgu","ywHQuNG","BLH1yMu","BgXLtee","C2nHBgu","i0q0qtG0mW","i0y1rtzdqW","BwfW","Cgv0ywXdB3vUDa","yxbWBhK","y29Sx2rHCMTNCMvLBG","mtm3mZK3nMH0ELrLrq","Bgf5zxjZ","y29Sx2jYB3DU","yMTxrKi","tgX6CfK","i0yWoeeZqG","qxPjyKO","ienVChK","B1j2uNi","5lI444gK44g+44g/","ndu2otC2mejlvfnwDG","wgznC1a","i0m4qtjena","ndq3mJCZzfHUtgTP","rxz6reS","txnpz0y","wMfhtfy","y29Sx2nVCMfS","BNPWvuC","B3jKzxi","Aw16wNy","Cfv3EMK","iZLcntLcnG","BMfTzq","qKTrtK0","C3LxD2S","wxrPBwq","Cg5SuLy","zMLUza","y29Sx2XHDMvUzgvY","t2XdqKK","5y2k44gp44gz","Eu5QvMm","nJb3BwDpAeu","wePTEha","iZHcnuuZqW","tfnyAMG","C29YDa","EMvosxC","yKrPyu8","y29Sx2jSywnR","y29Sx3b1CNbSzq","y29Sx2DYzwvU","Dg9tDhjPBMC","kcGOlISPkYKRksSK","Cg9ZAxrPB24","mtiYodq5nfbQD3b1sW","shDpzKu","tK9eBLi","rMXVD2vYide","uhrltMm","rMnerNO","u3nmswu","Bhbqr1e","sw5Uzxi","iZmZmZmZmW","mJCWnJrQv3n0yw0","C2vHCMnO","CgfzALm","n1vqvuDvEq","BhPbuK0","tgnMCNC","y29Sx29Yyw5Nzq","5yMJ44gK44g+44g/","i0zerJvdoq","CMfKAxvZ","zhr0Aui","q2vUDgvY","i0mWqZbdma","ruTesM8","rMLZu24","Cgv0ywXpDMvYCMLKzxm","iZncn0reoa","y29Sx2HVDhbPBMS","iZDfqZHfmW","nMTTt295yG","zMX3","Eg5XBhq","vurusM4"];return z0=function(){return u},z0()}dx();function Jt(u,r){u=u-243;const a=z0();let i=a[u];if(Jt.RoJPZL===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Jt.GnVLEr=o,Jt.dkMZcs={},Jt.RoJPZL=!0}const f=a[0],m=u+f,y=Jt.dkMZcs[m];if(y)i=y;else{const d=function(h){this.YvcvWo=h,this.TmSKPQ=[1,0,0],this.peDIVw=function(){return"newState"},this.uBMwEy="\\w+ *\\(\\) *{\\w+ *",this.AtkIhR=`['|"].+['|"];? *}`};d.prototype.XaRyqF=function(){const h=new RegExp(this.uBMwEy+this.AtkIhR),g=h.test(this.peDIVw.toString())?--this.TmSKPQ[1]:--this.TmSKPQ[0];return this.RTduqc(g)},d.prototype.RTduqc=function(h){return~h?this.opbfHm(this.YvcvWo):h},d.prototype.opbfHm=function(h){for(let g=0,v=this.TmSKPQ.length;g<v;g++)this.TmSKPQ.push(Math.round(Math.random())),v=this.TmSKPQ.length;return h(this.TmSKPQ[0])},new d(Jt).XaRyqF(),i=Jt.GnVLEr(i),Jt.dkMZcs[m]=i}return i}function Hd(){const u=Jt,r={ncCkO:"col_white",DCbpf:u(274),MsOgF:"#E0457B",lleLA:u(252),FisSn:"col_yellow",cbwRs:"#F2D04B",bmYoA:u(330),OlCBI:"#2FBF4A",lgdEm:u(287),UDTJn:u(310),oSMQi:u(300),BKQNM:u(275),lpPGQ:u(258),xGcBH:"col_cream",lzARM:u(283),xGNmS:u(328),xVZzH:u(245),tNegP:"#F08080"};return[{id:r.ncCkO,name:"",hex:"#F5F5F5"},{id:"col_red",name:"",hex:"#E34850"},{id:r.DCbpf,name:"",hex:"#F08CB6"},{id:u(263),name:"",hex:r[u(303)]},{id:r[u(280)],name:"",hex:u(293)},{id:r[u(260)],name:"",hex:r.cbwRs},{id:"col_lightyellow",name:"",hex:u(254)},{id:r.bmYoA,name:"",hex:r[u(318)]},{id:r.lgdEm,name:"",hex:"#1A7A3A"},{id:"col_lightblue",name:"",hex:u(264)},{id:"col_blue",name:"",hex:u(262)},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:u(329),name:"",hex:r[u(268)]},{id:u(317),name:"",hex:r.oSMQi},{id:r[u(312)],name:"",hex:u(282)},{id:"col_silver",name:"",hex:r[u(243)]},{id:r.xGcBH,name:"",hex:r[u(250)]},{id:u(290),name:"",hex:u(323)},{id:r.xGNmS,name:"",hex:r.xVZzH},{id:u(305),name:"",hex:r.tNegP}]}function qh({title:u,fabricSquareSize:r,baseDiameter:a}={}){const i=Jt,o={dttiB:function(y){return y()},JCMFn:function(y,d){return y(d)},wJzAt:"prj",edfnB:"",OPXBd:function(y,d){return y??d}},f=C0(),m=o[i(256)](Hd);return oa({id:o[i(269)](Yt,o.wJzAt),title:u??o.edfnB,unit:"mm",fabricSquareSize:o.OPXBd(r,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function Gh(u,r){const a=Jt,i={foazt:function(y,d){return y(d)},XJmxp:function(y,d){return y(d)},RTeeO:"flw"},o=i.foazt(Ul,u);o.id=i[a(322)](Yt,i.RTeeO),o[a(311)]=u.name+" Copy";const f=r?.x??12,m=r?.y??12;return o.position={x:(u.position?.x??0)+f,y:(u.position?.y??0)+m},o.layers=(o[a(289)]||[])[a(284)](y=>({...y,id:Yt("lay"),petalOverrides:y.petalOverrides?y.petalOverrides[a(284)](d=>({...d})):void 0})),o}(function(u,r){const a=nn,i=u();for(;;)try{if(-parseInt(a(391))/1*(-parseInt(a(475))/2)+parseInt(a(449))/3+parseInt(a(405))/4*(-parseInt(a(471))/5)+-parseInt(a(500))/6*(parseInt(a(483))/7)+-parseInt(a(395))/8*(-parseInt(a(400))/9)+parseInt(a(477))/10*(parseInt(a(437))/11)+-parseInt(a(387))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,728051);const Rh=(function(){const u=nn,r={EyaOe:u(385)};let a=!0;return function(i,o){const f={UgbRb:r.EyaOe},m=a?function(){const y=nn;if(o)if(f.UgbRb!=="kLbuD")delete _0x16774a[y(498)];else{const d=o.apply(i,arguments);return o=null,d}}:function(){};return a=!1,m}})(),hx=Rh(void 0,function(){const u=nn,r={xzHUS:u(457)};return hx.toString().search(r.xzHUS)[u(401)]().constructor(hx)[u(396)](r[u(486)])});function nn(u,r){u=u-384;const a=D0();let i=a[u];if(nn.OHgpqJ===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};nn.huEzmb=o,nn.rkPoDj={},nn.OHgpqJ=!0}const f=a[0],m=u+f,y=nn.rkPoDj[m];if(y)i=y;else{const d=function(h){this.mcUzZD=h,this.fLuwxn=[1,0,0],this.sIpDHz=function(){return"newState"},this.pdWYWL="\\w+ *\\(\\) *{\\w+ *",this.DpKfrR=`['|"].+['|"];? *}`};d.prototype.nGGgoY=function(){const h=new RegExp(this.pdWYWL+this.DpKfrR),g=h.test(this.sIpDHz.toString())?--this.fLuwxn[1]:--this.fLuwxn[0];return this.qIxRkh(g)},d.prototype.qIxRkh=function(h){return~h?this.FhPIqA(this.mcUzZD):h},d.prototype.FhPIqA=function(h){for(let g=0,v=this.fLuwxn.length;g<v;g++)this.fLuwxn.push(Math.round(Math.random())),v=this.fLuwxn.length;return h(this.fLuwxn[0])},new d(nn).nGGgoY(),i=nn.huEzmb(i),nn.rkPoDj[m]=i}return i}hx();function rx(u){const r=nn,a={fkNFH:r(384),NeDBX:function(i,o){return i===o},LQeQL:r(398),RjAMj:"",YZezb:function(i,o){return i===o}};return u==="maru"?a.fkNFH:a.NeDBX(u,a.LQeQL)?a.RjAMj:u===""||a.YZezb(u,a.RjAMj)?u:a.fkNFH}function oa(u){const r=nn,a={QFfFH:function(f,m,y,d){return f(m,y,d)},JNeUH:function(f,m){return f(m)},hJaYG:"grp",LSzev:r(492),jEShW:function(f,m){return f<=m},JinBK:function(f,m){return f(m)},mUgfB:function(f,m){return f!==m},kxLHI:function(f,m){return f!=m},qNTHL:"exeTc",rTTnx:"string",QIgRy:function(f,m){return f!==m},NTRch:r(431),jvVQb:function(f,m){return f!=m},TqJnn:function(f,m){return f==m},qzhwt:function(f,m){return f!=m},RNbFi:function(f,m){return f!==m},jFDcp:r(453),GBDUD:function(f,m){return f!=m},vXqiu:function(f,m){return f!=m},vIFdY:"",VGXVw:r(425),wQlvF:r(389),BUeik:function(f,m,y,d){return f(m,y,d)},eLRiX:r(445),ETKvw:"zoRhH",BFPBf:function(f,m){return f===m},UWrfz:r(424),gDtnA:function(f){return f()},ZhtMh:function(f,m){return f(m)},cLtAN:r(460),bnbOH:"Leaf",TuxTF:r(463),przGE:"boolean",POcSC:function(f,m){return f!==m},qrEts:function(f,m){return f===m},rFrTj:function(f,m){return f===m},tOuQx:"WUYgD",gxULg:"zUOWZ",IXoaE:function(f,m){return f!==m},wUqnh:"crhYZ",viDdF:function(f,m){return f!==m},hfuUM:r(416),ZKquO:"right",ttRmX:r(485),rUJTv:r(432)},i=Ul(u||{});Array.isArray(i[r(406)])||(i.flowers=[]);for(const f of i[r(406)]){f.id||(f.id=Yt(r(488))),(a.mUgfB(typeof f.name,r(479))||!f[r(493)])&&(f[r(493)]="Flower"),(!f.position||!Number[r(489)](f[r(468)].x)||!Number.isFinite(f.position.y))&&(a.mUgfB(a.qNTHL,a[r(451)])?delete _0x22cd06.center[r(459)]:f[r(468)]={x:260,y:260}),Array.isArray(f.layers)||(f[r(497)]=[]);for(const m of f[r(497)]){if(m.id||(m.id=Yt("lay")),(typeof m[r(455)]!==a[r(480)]||!m.colorId)&&(m[r(455)]=i[r(411)]?.[0]?.id??"col_white"),m[r(491)]=rx(m[r(491)]),m.petalCount=a.QFfFH(_e,Number(m.petalCount||0),5,24),Number[r(489)](m.scale)||(m[r(443)]=1),Number.isFinite(m.widthScale)||(m.widthScale=1),Number[r(489)](m.radius)||(m[r(390)]=28),Number[r(489)](m.offsetAngle)||(m.offsetAngle=0),delete m._doublePetalCache,m[r(428)])if(a.QIgRy(typeof m.doublePetal,a.NTRch)||m.doublePetal===null)delete m.doublePetal;else{if(a[r(394)](m.doublePetal.innerScale,null)&&a[r(462)](m.doublePetal.innerSizeReduction,null)){const y=f[r(393)]??i[r(393)]??20;m[r(428)][r(498)]=Math[r(434)](y*(1-m[r(428)][r(435)]))}delete m[r(428)][r(435)],Number[r(489)](m.doublePetal.innerSizeReduction)||(m[r(428)][r(498)]=2),m[r(428)].innerSizeReduction=_e(m[r(428)].innerSizeReduction,1,30),delete m[r(428)][r(444)],a[r(482)](m.doublePetal.innerColorId,null)&&a.RNbFi(typeof m[r(428)].innerColorId,r(479))&&delete m.doublePetal[r(438)]}if(Array[r(436)](m.petalOverrides))if(a.jFDcp==="cUcre")for(const y of m.petalOverrides)y&&a[r(495)](y[r(491)],null)&&(y.petalType=rx(y.petalType)),y&&delete y[r(444)],y&&y.innerColorId!=null&&typeof y.innerColorId!==a[r(480)]&&delete y[r(438)],y&&a.vXqiu(y[r(498)],null)&&(Number.isFinite(y[r(498)])?y.innerSizeReduction=_e(y.innerSizeReduction,1,30):delete y.innerSizeReduction);else _0x370c0f.isFinite(_0x1686f7.innerSizeReduction)?_0x5b9196[r(498)]=a.QFfFH(_0x2322ce,_0x5600b6.innerSizeReduction,1,30):delete _0x59004b.innerSizeReduction}if((!Number[r(489)](f[r(465)])||f[r(465)]<=0)&&(f[r(465)]=60),f.center&&(f.center[r(402)]===a[r(403)]&&(f[r(490)].type=""),[r(389),"",a[r(447)]].includes(f.center[r(402)])||(f[r(490)].type=a.wQlvF),Number[r(489)](f.center.size)||(f[r(490)][r(412)]=6),f.center[r(412)]=a[r(430)](_e,f[r(490)][r(412)],1,30),(typeof f[r(490)].color!==a[r(480)]||!f[r(490)].color)&&(f.center[r(456)]=i.palette?.[0]?.id??a.eLRiX),f[r(490)][r(402)]===a.VGXVw&&(r(440)===a.ETKvw?(_0x3466ce&&_0x38d9df.petalType!=null&&(_0xf36073.petalType=a.JNeUH(_0x2fe98f,_0x398155[r(491)])),_0x3cb690&&delete _0x352ea5[r(444)],_0x32dd38&&_0xa40410.innerColorId!=null&&typeof _0x1a0de1[r(438)]!==r(479)&&delete _0x249b8e[r(438)],_0x3d6d32&&_0x19cf76[r(498)]!=null&&(_0x25a204.isFinite(_0x130a09.innerSizeReduction)?_0x5e2ddc[r(498)]=a.QFfFH(_0x31e028,_0x45d65d[r(498)],1,30):delete _0x394149[r(498)])):(Number.isFinite(f.center[r(421)])||(f.center.pepCount=12),f.center[r(421)]=_e(f[r(490)].pepCount,4,30))),f.center.type!==""))if(a.BFPBf(r(424),a.UWrfz))delete f[r(490)].color2;else{const y=new _0x246c59(_0x42fb25[r(406)].map(d=>d.id));for(const d of _0x39ffb3.groups)_0x15817d.isArray(d[r(478)])||(d.flowerIds=[]),d[r(478)]=d.flowerIds.filter(h=>y[r(442)](h)),d.id||(d.id=_0x17ba96(a.hJaYG)),(typeof d[r(493)]!==r(479)||!d[r(493)])&&(d[r(493)]=r(446));_0x48ebea.groups=_0x51b72b[r(420)].filter(d=>d.flowerIds&&d.flowerIds[r(415)]>0)}f.placementMode!==""&&f.placementMode!==""&&(f.placementMode=""),a.mUgfB(f.baseDiameter,void 0)&&(!Number.isFinite(f.baseDiameter)||f.baseDiameter<=0)&&delete f.baseDiameter}Array[r(436)](i.palette)||(i.palette=[]);const o=new Set(i.palette[r(458)](f=>f.id));for(const f of a[r(423)](Hd))o[r(442)](f.id)||i[r(411)][r(450)](f);i.createdAt||(i[r(441)]=a.gDtnA(C0)),i.updatedAt||(i[r(469)]=i.createdAt),i.id||(i.id=Yt(r(419))),i[r(429)]||(i.title=r(499)),i.unit="mm",Number[r(489)](i.fabricSquareSize)||(i[r(393)]=20),(!Number[r(489)](i.baseDiameter)||a[r(476)](i.baseDiameter,0))&&(i.baseDiameter=30),typeof i.notes!="string"&&(i[r(472)]=""),Array.isArray(i.groups)||(i.groups=[]);{const f=new Set(i[r(406)].map(m=>m.id));for(const m of i[r(420)])Array.isArray(m[r(478)])||(m[r(478)]=[]),m[r(478)]=m[r(478)][r(404)](y=>f.has(y)),m.id||(m.id=a.ZhtMh(Yt,"grp")),(typeof m[r(493)]!="string"||!m[r(493)])&&(m.name=r(446));i[r(420)]=i[r(420)][r(404)](m=>m[r(478)]&&m[r(478)].length>0)}Array[r(436)](i[r(496)])||(i.leaves=[]);for(const f of i[r(496)]){if(f.id||(f.id=Yt(a[r(399)])),(a[r(452)](typeof f[r(493)],a.rTTnx)||!f[r(493)])&&(f.name=a[r(426)]),!f[r(468)]||!Number[r(489)](f.position.x)||!Number[r(489)](f.position.y)){if(a.BFPBf("WFZYN",a[r(417)]))return _0x215415.toString().search("(((.+)+)+)+$")[r(401)]()[r(414)](_0x384c69)[r(396)](r(457));f[r(468)]={x:675,y:675}}Number[r(489)](f.rotation)||(f.rotation=0),f.petalType=a[r(407)](rx,f.petalType),(typeof f[r(455)]!==a[r(480)]||!f[r(455)])&&(r(467)!==r(467)?delete _0x52ce79[r(428)].innerColorId:f[r(455)]=i.palette?.[0]?.id??"col_green"),Number[r(489)](f[r(443)])||(f[r(443)]=1),Number.isFinite(f[r(427)])||(f.widthScale=1),typeof f[r(484)]!==a.przGE&&(f.visible=!0),a[r(408)](typeof f.locked,a.przGE)&&(f.locked=!1),delete f[r(481)],f[r(428)]&&(typeof f[r(428)]!="object"||a[r(494)](f.doublePetal,null)?a[r(448)](a[r(409)],a[r(473)])?_0x9a70e4.placementMode=a.LSzev:delete f[r(428)]:(Number.isFinite(f.doublePetal.innerSizeReduction)||(f.doublePetal[r(498)]=2),f.doublePetal.innerSizeReduction=_e(f[r(428)].innerSizeReduction,1,30),f.doublePetal.innerColorId!=null&&a.IXoaE(typeof f.doublePetal.innerColorId,a.rTTnx)&&(a[r(461)]==="crhYZ"?delete f[r(428)].innerColorId:(!_0x398742[r(489)](_0x2196e6[r(474)])||a[r(476)](_0xc9ab93[r(474)],0))&&delete _0x4905af.baseDiameter)))}Array[r(436)](i.leafGroups)||(i.leafGroups=[]);{const f=new Set(i[r(496)].map(m=>m.id));for(const m of i.leafGroups)m.id||(m.id=Yt("lg")),(a[r(470)](typeof m[r(493)],"string")||!m[r(493)])&&(m[r(493)]=r(439)),Array[r(436)](m[r(397)])||(m[r(397)]=[]),m.leafIds=m.leafIds.filter(y=>f[r(442)](y)),Number[r(489)](m.rotation)||(m.rotation=0),m.linkedFlowerGroupId!=null&&((i.groups??[]).some(d=>d.id===m[r(487)])||delete m.linkedFlowerGroupId);i[r(386)]=i.leafGroups.filter(m=>m.leafIds&&m.leafIds.length>0)}if(Array.isArray(i[r(422)]))if(a.hfuUM==="osRHR"){const f=[r(464),"child"],m=[a[r(433)],a[r(418)],a.rUJTv];i[r(422)]=i.stencils.filter(y=>y&&typeof y.id=="string"&&f.includes(y[r(466)])&&m[r(392)](y[r(388)])&&y.position&&Number.isFinite(y[r(468)].x)&&Number.isFinite(y[r(468)].y))}else{const f=new _0x4c7659(_0x551df4.leaves.map(m=>m.id));for(const m of _0x53173d[r(386)])m.id||(m.id=a[r(407)](_0x226521,"lg")),(a.mUgfB(typeof m.name,r(479))||!m[r(493)])&&(m[r(493)]=""),_0x11bb1a[r(436)](m.leafIds)||(m[r(397)]=[]),m.leafIds=m[r(397)].filter(y=>f.has(y)),_0x2127cf[r(489)](m.rotation)||(m[r(410)]=0),a.kxLHI(m.linkedFlowerGroupId,null)&&((_0x24f1c9[r(420)]??[])[r(454)](d=>d.id===m[r(487)])||delete m.linkedFlowerGroupId);_0x4d9b69.leafGroups=_0x417da5[r(386)][r(404)](m=>m.leafIds&&m[r(397)].length>0)}return Number[r(489)](i[r(413)])||(i[r(413)]=1),i}function D0(){const u=["BgvHzG","D1vXBMG","vhfkBM4","wej3zuO","ywr1Bhq","zMXVD2vYrgLHBwv0zxi","DMfYAwfUDa","rNH0vM4","Cg9ZAxrPB24","DxbKyxrLzef0","DMLezey","nxDiEuHJta","BM90zxm","z3HvtgC","yMfZzurPyw1LDgvY","nJu3ogLWBfPZzW","AKvtAfC","ntuWndGXmg5NuffJwG","zMXVD2vYswrZ","C3rYAw5N","CLruBNG","x2rVDwjSzvbLDgfSq2fJAgu","CxPOD3q","nZm3ndiYyMftEwvy","DMLZAwjSzq","BgvMDa","EhPivvm","BgLUA2vKrMXVD2vYr3jVDxbjza","zMX3","AxngAw5PDgu","y2vUDgvY","Cgv0ywXuExbL","5y2k44gp44gz","BMfTzq","CxjfDhm","r0jevuq","BgvHDMvZ","Bgf5zxjZ","Aw5UzxjtAxPLuMvKDwn0Aw9U","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","nLbTEfrUwq","5lI444gK44g+44g/","A0XIDuq","BgvHzKDYB3vWCW","mtq5ndG5mtzQrLzVqLi","Cg9Zzq","44or44o844oR","CMfKAxvZ","mJe1DvbJv3fS","Aw5JBhvKzxm","zMfICMLJu3f1yxjLu2L6zq","ANzwuwi","nZmYotuYDM1Or1zN","C2vHCMnO","BgvHzKLKCW","A2vU","y0X0qu4","mta4v2ryyLHb","Dg9tDhjPBMC","DhLWzq","DKLgzfK","zMLSDgvY","mJuYotmXnKDpz3PwCq","zMXVD2vYCW","sMLUqKS","ue9Ju0m","De91uxG","CM90yxrPB24","CgfSzxr0zq","C2L6zq","DMvYC2LVBG","y29UC3rYDwn0B3i","BgvUz3rO","B3nssfi","vhv4vey","DhrsBvG","ChjVAG","z3jVDxbZ","CgvWq291BNq","C3rLBMnPBhm","z0r0BKe","z1zez1u","44oA44od44ox","yM5It0G","D2LKDgHty2fSzq","zg91yMXLugv0ywW","DgL0Bgu","qLvLAwS","B2jQzwn0","yMfJAW","wKTXDu8","CM91BMq","Aw5Uzxjty2fSzq","AxnbCNjHEq","mtfRBu1vzeG","Aw5UzxjdB2XVCKLK","6jgj44kW44oR44o844ox","ve5vy1K","y3jLyxrLzef0","AgfZ","C2nHBgu","Aw5UzxjqzxrHBfr5Cgu","y29Sx3DOAxrL","44kW44oR44o844ox","vKDyvNC","CKzYvgO","mta2mZi3nxHmte1iua","ChvZAa","Cu5useW","uuLNuNK","y1vJCMu","C29Tzq","y29SB3jjza","y29SB3i","kcGOlISPkYKRksSK","BwfW","y29SB3iY"];return D0=function(){return u},D0()}function In(u,r){u=u-289;const a=A0();let i=a[u];if(In.qRbJen===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};In.ISFtcp=o,In.WlVNap={},In.qRbJen=!0}const f=a[0],m=u+f,y=In.WlVNap[m];if(y)i=y;else{const d=function(h){this.BIUSwS=h,this.AZiPcN=[1,0,0],this.ELGbQu=function(){return"newState"},this.WUSkCv="\\w+ *\\(\\) *{\\w+ *",this.JmjeUe=`['|"].+['|"];? *}`};d.prototype.LhwXeS=function(){const h=new RegExp(this.WUSkCv+this.JmjeUe),g=h.test(this.ELGbQu.toString())?--this.AZiPcN[1]:--this.AZiPcN[0];return this.YOpOey(g)},d.prototype.YOpOey=function(h){return~h?this.prQPdq(this.BIUSwS):h},d.prototype.prQPdq=function(h){for(let g=0,v=this.AZiPcN.length;g<v;g++)this.AZiPcN.push(Math.round(Math.random())),v=this.AZiPcN.length;return h(this.AZiPcN[0])},new d(In).LhwXeS(),i=In.ISFtcp(i),In.WlVNap[m]=i}return i}const N0=In;(function(u,r){const a=In,i=u();for(;;)try{if(parseInt(a(296))/1+parseInt(a(306))/2*(-parseInt(a(290))/3)+parseInt(a(294))/4*(parseInt(a(293))/5)+-parseInt(a(300))/6+parseInt(a(297))/7*(-parseInt(a(307))/8)+parseInt(a(292))/9*(-parseInt(a(298))/10)+parseInt(a(301))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,701483);const kh=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),mx=kh(void 0,function(){const u=In,r={JzbMK:u(295)};return mx.toString()[u(302)]("(((.+)+)+)+$").toString()[u(305)](mx)[u(302)](r[u(304)])});mx();const Zd=N0(303),gl=[N0(291),N0(299)],Oh=["","",""],Kd=["",N0(289)];function A0(){const u=["mJm3nZbRCK1yuLG","nta4C0DMs1r2","kcGOlISPkYKRksSK","nZuXmJC5qxPvyMrM","mJf5v0z3qK0","mZbRBujXsfy","5yMJ44gK44g+44g/","nJq0mte1nNPwAMnpCa","mJy5nJi2odn1zw95Exa","C2vHCMnO","Dhn1BwfTAv9WCM9Qzwn0C192mq","sNPItuS","y29UC3rYDwn0B3i","mtmZodyWmKvcA0vSzW","mJu5mduYmfDsvLzoAG","5y2k44gp44gz","m2P2ww1zEa","5lI444gK44g+44g/","mte3mtmWnxrIwevdza"];return A0=function(){return u},A0()}(function(u,r){const a=ln,i=u();for(;;)try{if(-parseInt(a(423))/1*(parseInt(a(421))/2)+-parseInt(a(422))/3*(-parseInt(a(419))/4)+parseInt(a(424))/5*(-parseInt(a(425))/6)+-parseInt(a(427))/7+parseInt(a(415))/8*(parseInt(a(413))/9)+parseInt(a(406))/10+-parseInt(a(404))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,205829);const Yh=(function(){let u=!0;return function(r,a){const i=u?function(){const o=ln;if(a){const f=a[o(409)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),bx=Yh(void 0,function(){const u=ln,r={TTPkK:u(417)};return bx.toString().search(r.TTPkK)[u(407)]().constructor(bx).search(r[u(411)])});bx();function ln(u,r){u=u-402;const a=E0();let i=a[u];if(ln.lklHJG===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};ln.IfXuJw=o,ln.XRzZIe={},ln.lklHJG=!0}const f=a[0],m=u+f,y=ln.XRzZIe[m];if(y)i=y;else{const d=function(h){this.mWEujh=h,this.dIiZVy=[1,0,0],this.aZQZks=function(){return"newState"},this.XDMCOV="\\w+ *\\(\\) *{\\w+ *",this.dyVfek=`['|"].+['|"];? *}`};d.prototype.rGZRHJ=function(){const h=new RegExp(this.XDMCOV+this.dyVfek),g=h.test(this.aZQZks.toString())?--this.dIiZVy[1]:--this.dIiZVy[0];return this.ehrtzl(g)},d.prototype.ehrtzl=function(h){return~h?this.QaMHqr(this.mWEujh):h},d.prototype.QaMHqr=function(h){for(let g=0,v=this.dIiZVy.length;g<v;g++)this.dIiZVy.push(Math.round(Math.random())),v=this.dIiZVy.length;return h(this.dIiZVy[0])},new d(ln).rGZRHJ(),i=ln.IfXuJw(i),ln.XRzZIe[m]=i}return i}function E0(){const u=["mJa2nJi1mgztCfvvuG","Dg9tDhjPBMC","zMLSDgvY","yxbWBhK","C2v0sxrLBq","vfrqA0S","ChjVAMvJDa","mZzbuNrAs3O","Ee94vfO","mJC2mdK2EgjQvvjq","CgfYC2u","kcGOlISPkYKRksSK","zMLUzeLUzgv4","mtqWmZCZmNfvzu9cra","C2XPy2u","nLnQBMHvsW","m3jgA3nWBG","nteWnZLHuhDpD28","ntvOqNfTveW","mZC3ndbjq3Pdzva","DxbKyxrLzef0","mtCZmZeZn2DTrLnNra","CLDwEvK","DgL0Bgu","mJe3mZq5ugrvweTP","tLnrz0O"];return E0=function(){return u},E0()}function er(){const u=ln,r={AUOJv:function(a,i){return a(i)}};try{const a=localStorage.getItem(Zd);if(!a)return[];const i=JSON[u(416)](a);return Array.isArray(i)?i.map(o=>{const f=u;try{const m=o?.project?r.AUOJv(oa,o[f(412)]):null;return m?{id:o.id??m.id,title:o.title??m.title,updatedAt:o[f(426)]??m.updatedAt,project:m}:null}catch{if(f(402)!==f(402)){const m=_0x27aba1?.[f(412)]?_0x40c774(_0x32230d.project):null;return m?{id:_0x2ae45e.id??m.id,title:_0x4a215e[f(403)]??m.title,updatedAt:_0x386f97[f(426)]??m.updatedAt,project:m}:null}else return null}})[u(408)](o=>o!=null):[]}catch{return[]}}function Xd(u){const r=ln,a={LyrUv:r(405)};try{return localStorage[r(410)](Zd,JSON.stringify(u)),!0}catch{if(a.LyrUv===r(405))return!1;try{const i=_0x12168a?.project?BFVODJ[r(414)](_0x2d88c7,_0x366ddd.project):null;return i?{id:_0x4b14d9.id??i.id,title:_0x2af326.title??i.title,updatedAt:_0x30146c.updatedAt??i.updatedAt,project:i}:null}catch{return null}}}function Ih(u){const r=ln,a={LiXDe:function(y,d){return y>=d},bwsSR:function(y,d){return y(d)}},i=er(),o=i[r(418)](y=>y.id===u.id),f={id:u.id,title:u.title,updatedAt:u[r(426)],project:u},m=a.LiXDe(o,0)?[...i.slice(0,o),f,...i[r(420)](o+1)]:[f,...i];return m.sort((y,d)=>y.updatedAt<d[r(426)]?1:-1),a.bwsSR(Xd,m)}function Uh(u){const r={epeqE:function(i,o){return i(o)}},a=er().filter(i=>i.id!==u);return r.epeqE(Xd,a)}(function(u,r){const a=Ln,i=u();for(;;)try{if(-parseInt(a(314))/1*(parseInt(a(353))/2)+-parseInt(a(362))/3+parseInt(a(317))/4*(-parseInt(a(344))/5)+parseInt(a(364))/6*(-parseInt(a(318))/7)+parseInt(a(319))/8*(-parseInt(a(343))/9)+-parseInt(a(355))/10+-parseInt(a(348))/11*(-parseInt(a(329))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,452595);const Hh=(function(){const u={xtlHO:"nbAmc"};let r=!0;return function(a,i){const o=Ln;if(o(320)!==u[o(361)]){const f=r?function(){if(i){const m=i.apply(a,arguments);return i=null,m}}:function(){};return r=!1,f}else _0x50b809[o(339)][o(338)]({fabricSizeMm:_0x4c3608,count:_0x573286})}})(),gx=Hh(void 0,function(){const u=Ln;return gx.toString().search("(((.+)+)+)+$").toString()[u(331)](gx)[u(358)]("(((.+)+)+)+$")});gx();function L0(){const u=["u2n6Awu","EhrSse8","mtKZnduXn0jovvvSEq","5y2k44gp44gz","ody0nZG2rgjLDwDp","A0nruwq","serZCvC","BfLZtum","ELLUvKC","mKnOzK5swq","y291BNq","DMLZAwjSzq","mtzpueTSww0","n21zwhPKzW","mtzmqLjtCg4","z29tCLa","Agv4","zg91yMXLugv0ywW","CM91BMq","z2v0","CMvKDwnL","EfLoCxm","yMfZzurPyw1LDgvYtw0","Eu5KAu8","mtjcv1DVBMC","rw5fBhq","y29UC3rYDwn0B3i","C3fYDa","C29YDa","CgfSzxr0zq","zMfICMLJu2L6zu1T","q01Vt28","Bw9Kzq","ChvZAa","zw50CMLLCW","BMfTzq","DMfSDwvZ","r2TtDLC","mJi3oduYmxvUsu1Isa","odKXotq1yKHbuuDN","y29SB3jjza","zMfICMLJu3f1yxjLu2L6zq","C2nHBgu","mZm1odqWndv3vM5vtKK","zNjVBq","Dg90ywXdB3vUDa","zMLUza","Cgv0ywXdB3vUDa","nZG2odzhrff3sNC","C2v0","nteYotuWmhjytM95AG","Aw5UzxjdB2XVCKLK","CfzRDxa","C2vHCMnO","Aw5UzxjtAxPLuMvKDwn0Aw9U"];return L0=function(){return u},L0()}function Ln(u,r){u=u-314;const a=L0();let i=a[u];if(Ln.WmvBtL===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ln.spxFSG=o,Ln.oSgeDr={},Ln.WmvBtL=!0}const f=a[0],m=u+f,y=Ln.oSgeDr[m];if(y)i=y;else{const d=function(h){this.IPjoXe=h,this.vPJvJX=[1,0,0],this.SuLRBW=function(){return"newState"},this.EUwKfA="\\w+ *\\(\\) *{\\w+ *",this.OKoXNQ=`['|"].+['|"];? *}`};d.prototype.kiOVRf=function(){const h=new RegExp(this.EUwKfA+this.OKoXNQ),g=h.test(this.SuLRBW.toString())?--this.vPJvJX[1]:--this.vPJvJX[0];return this.BwzzPN(g)},d.prototype.BwzzPN=function(h){return~h?this.MRHwUo(this.IPjoXe):h},d.prototype.MRHwUo=function(h){for(let g=0,v=this.vPJvJX.length;g<v;g++)this.vPJvJX.push(Math.round(Math.random())),v=this.vPJvJX.length;return h(this.vPJvJX[0])},new d(Ln).kiOVRf(),i=Ln.spxFSG(i),Ln.oSgeDr[m]=i}return i}function Zh(u){const r=Ln,a={BNqOZ:function(g,v){return g/v},lYsMC:function(g,v){return g/v},IkSsA:function(g,v){return g*v},Sczie:r(363),HDsqW:function(g,v){return g+v},CMoOo:function(g,v){return g*v},dnAsN:"#999999",kCQQd:function(g,v){return g!==v},yNdiO:function(g,v){return g===v},xYNqs:"sfDPs",myyMB:"igtFT",pVkup:function(g,v){return g-v},XaVlA:function(g,v){return g===v},zYnVG:function(g,v){return g(v)},pXoiA:r(330)},i=new Map((u[r(334)]||[]).map(g=>[g.id,g])),o=new Map,f=(g,v)=>g?.petalOverrides?.[r(351)](z=>z.index===v)??null,m=new Map;for(const g of u.flowers||[])if(a[r(326)]===a.myyMB){const v={GkSvW:function(T,G){return a.BNqOZ(T,G)},QUcWE:function(T,G){return T+G}},z=_0x2647c7.get(_0x25530d),b=_0x1f4711[r(333)]((T,G)=>G[r(335)]-T[r(335)]),D=b[r(325)]((T,G)=>T+G[r(315)],0),w=a[r(367)](_0x333d32.round(a.IkSsA(b[r(325)]((T,G)=>{const L=r,q=v[L(342)](G[L(335)],10);return v.QUcWE(T,G[L(315)]*q*q)},0),100)),100),S=a[r(367)](_0x42d4a3.round(_0x492f20.sqrt(w)*10),10);return{colorId:_0x3c97fb,colorName:z?.[r(340)]??_0x54f2d5,hex:z?.hex??"#999999",sizes:b,totalCount:D,totalAreaCm2:w,squareSideCm:S}}else{const v=g[r(346)]??u[r(346)];for(const S of g.layers||[]){if(!S[r(316)])continue;const T=Math.round(v*(S[r(347)]??1));for(let G=0;G<S[r(352)];G++){const L=f(S,G),q=L?.[r(345)]??S.colorId,O=q+"|"+T,V=o.get(O);if(V?V[r(315)]+=1:o.set(O,{colorId:q,fabricSizeMm:T,count:1}),S.doublePetal){const Z=S.doublePetal,J=L?.innerColorId??Z.innerColorId??q,F=L?.[r(359)]??Z[r(359)]??2,Q=Math.max(3,Math[r(323)](a[r(357)](T,F))),W=J+"|"+Q,_=o[r(324)](W);_?_[r(315)]+=1:o[r(354)](W,{colorId:J,fabricSizeMm:Q,count:1})}}}const z=g.placementMode??a.Sczie,b=a.XaVlA(z,"")?a[r(368)](Fi,g.flowerDiameter):g.baseDiameter??u.baseDiameter,D=z+"|"+b,w=m[r(324)](D);w?w.count+=1:m[r(354)](D,{mode:z,baseDiameterMm:b,count:1})}for(const g of u.leaves??[])if(a.pXoiA!==a.pXoiA)_0x4344f9.count+=1;else{if(!g[r(316)])continue;const v=g[r(346)]??u.fabricSquareSize,z=Math[r(323)](a[r(336)](v,g.scale??1)),b=g[r(345)],D=b+"|"+z,w=o[r(324)](D);if(w?w.count+=1:o.set(D,{colorId:b,fabricSizeMm:z,count:1}),g.doublePetal){const S=g[r(322)],T=S[r(356)]??b,G=Math.max(3,Math.round(z-(S[r(359)]??2))),L=T+"|"+G,q=o.get(L);q?q.count+=1:o.set(L,{colorId:T,fabricSizeMm:G,count:1})}}const y=new Map;for(const{colorId:g,fabricSizeMm:v,count:z}of o.values()){const b=y.get(g);b?b.entries[r(338)]({fabricSizeMm:v,count:z}):y[r(354)](g,{colorId:g,entries:[{fabricSizeMm:v,count:z}]})}const d=Array.from(y.values()).map(({colorId:g,entries:v})=>{const z=r,b=i.get(g),D=v[z(333)]((G,L)=>L[z(335)]-G[z(335)]),w=D[z(325)]((G,L)=>G+L.count,0),S=Math.round(a[z(336)](D.reduce((G,L)=>{const q=z,O=a.lYsMC(L[q(335)],10);return a[q(366)](G,L[q(315)]*O*O)},0),100))/100,T=Math[z(323)](Math[z(332)](S)*10)/10;return{colorId:g,colorName:b?.name??g,hex:b?.[z(321)]??a.dnAsN,sizes:D,totalCount:w,totalAreaCm2:S,squareSideCm:T}}).sort((g,v)=>v[r(350)]-g.totalCount),h=Array[r(349)](m[r(341)]()).sort((g,v)=>{const z=r;return a[z(365)](g.mode,v[z(337)])?a[z(328)](g[z(337)],z(363))?-1:1:v[z(327)]-g[z(327)]});return{colors:d,bases:h}}function T0(){const u=["AwXXsLG","lNrZDw1HBwKTz3jVDxaTzgfZAa","nJq4nJy0mfvRDLfjBW","rK9uyLq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","w2rHDgeTz3jPzf0","zw5KC1DPDgG","C2vYAwfSAxPLvg9tDhjPBMC","sgjRDvy","zMLSBa","CMvTB3zLq2HPBgq","AgvPz2H0","CMv2B2TLt2jQzwn0vvjm","CgnwwKW","y3nTu2O","odm0CvvKCeTo","Dg9cBg9I","C3r5Bgu","y3jLyxrLt2jQzwn0vvjm","CMvTB3zL","CgXHvfa","mti5mZC0nM9VBLHmvW","rhzeCg4","zM9YrwfJAa","ndKXodLYr1b4BMK","wxPTBhK","DMLLD0jVEa","zg93BMXVywq","odi4nda0z1DAz3Ly","lNbUzW","Aw1Hz2uVCg5N","z2v0qxr0CMLIDxrL","y3jLyxrLrwXLBwvUDe5t","we1NDLe","A1DcDgq","BMzXzKG","BwfW","CxzgDvm","CKviu0S","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","Ahr5yxi","y2XVBMvoB2rL","yM9KEq","D2HPDgu","A09oAvy","zgf0ys10zxn0Awq","zKHbCvy","lNn2zW","yuv3sKe","rM94tei","sxPNqve","yxbWBhK","DNDrC3O","y2fUDMfZ","Cvjly1y","y2XPy2S","C2v0qxr0CMLIDxrL","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","D2LKDgG","zhjHD0LTywDL","D1nwu1m","rerns2y","mcaWidiWmcaYmda","nJq0ody3mKXLt1DRDa","zMLSBfn0EwXL","C2vHCMnO","C0T6vwq","w2rHDgeTBwfYCxvLzv0","CMvTB3zLqxr0CMLIDxrL","mZmZntu1mg9Jt2T0CG","zMLSBfjLy3q","rvzhrwS","sKr0qM0","mZu1mdK0EuXXBgnH","A1zLteW","C3bSAxq","Aw5Zzxj0qMvMB3jL","CxvLCNLtzwXLy3rVCKfSBa","qvLOAw0","y29UC3rYDwn0B3i","B25SB2fK","zMLYC3rdAgLSza","vxDdsMO","z2v0q29UDgv4Da","D2Twqvq","w2rHDgeTDgvZDgLKxq","Eg1SBNm"];return T0=function(){return u},T0()}(function(u,r){const a=an,i=u();for(;;)try{if(-parseInt(a(327))/1+parseInt(a(362))/2+-parseInt(a(323))/3+parseInt(a(369))/4+parseInt(a(343))/5+-parseInt(a(356))/6*(-parseInt(a(365))/7)+-parseInt(a(317))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,855027);const Kh=(function(){const u=an,r={IzgAQ:function(i,o){return i??o},DaXtM:"xmlns",HbkuV:"100%",efsYz:"fill",kWBtd:".tsumami-group-dash",OjQkV:function(i,o,f){return i(o,f)},WiElt:u(376)};let a=!0;return function(i,o){const f=u,m={reLma:f(339),qvFuS:"style",NEeHy:function(y,d){return r[f(304)](y,d)},yQqIE:function(y,d){return y(d)},IjKPt:r.DaXtM,AYhim:f(293),VOhrS:"width",FoxLB:"height",ilqJX:r[f(349)],kKYoq:r.efsYz,csmSj:".tsumami-sel-dash",CeZSg:r[f(375)],LaWZw:f(311),jTujw:function(y,d,h){return r.OjQkV(y,d,h)}};if(r.WiElt===r.WiElt){const y=a?function(){const d=f;if(o){const h=o[d(305)](i,arguments);return o=null,h}}:function(){};return a=!1,y}else{const y=_0x5840bf[f(295)](!0);y[f(331)](m.reLma)[f(364)](S=>S[f(322)](f(299))),y.removeAttribute(m[f(378)]);const d=_0x2e5024[f(372)](f(367));d&&y[f(310)](f(367),d);const h=m.NEeHy(d,f(316))[f(329)](/[\s,]+/).map(_0x2d3c60),g=h[2]??200,v=h[3]??200;y.setAttribute("width",m.yQqIE(_0x332120,g)),y.setAttribute("height",_0x45b97f(v)),y[f(310)](m.IjKPt,m[f(332)]);const z=_0x1b2cfb[f(373)](m.AYhim,"rect");z[f(310)](m.VOhrS,"100%"),z[f(310)](m[f(303)],m[f(341)]),z[f(310)](m.kKYoq,"white"),y.insertBefore(z,y.firstChild),y[f(331)]("[data-grid]").forEach(S=>S.remove()),y[f(331)](m[f(355)])[f(364)](S=>S[f(360)]()),y[f(331)](m.CeZSg)[f(364)](S=>S.remove()),y.querySelectorAll("[data-marquee]")[f(364)](S=>S.remove());const b=new _0x59d025,D=m.LaWZw+b[f(348)](y),w=new _0x7842be([D],{type:f(345)});m.jTujw(_0x1dd1f6,w,_0x146d65[f(347)](".svg")?_0x3482b8:_0x3f3fa4+f(301))}}})(),vx=Kh(void 0,function(){const u=an,r={rEHSK:"(((.+)+)+)+$"};return vx.toString()[u(319)]("(((.+)+)+)+$").toString()[u(333)](vx).search(r[u(379)])});function an(u,r){u=u-293;const a=T0();let i=a[u];if(an.RlppSq===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};an.UfVFNu=o,an.KGSGCF={},an.RlppSq=!0}const f=a[0],m=u+f,y=an.KGSGCF[m];if(y)i=y;else{const d=function(h){this.mvWdQL=h,this.fMlhJw=[1,0,0],this.ZcoOyO=function(){return"newState"},this.oycQsR="\\w+ *\\(\\) *{\\w+ *",this.mnFKcI=`['|"].+['|"];? *}`};d.prototype.CHzGBG=function(){const h=new RegExp(this.oycQsR+this.mnFKcI),g=h.test(this.ZcoOyO.toString())?--this.fMlhJw[1]:--this.fMlhJw[0];return this.lGfNms(g)},d.prototype.lGfNms=function(h){return~h?this.rtAeTf(this.mvWdQL):h},d.prototype.rtAeTf=function(h){for(let g=0,v=this.fMlhJw.length;g<v;g++)this.fMlhJw.push(Math.round(Math.random())),v=this.fMlhJw.length;return h(this.fMlhJw[0])},new d(an).CHzGBG(),i=an.UfVFNu(i),an.KGSGCF[m]=i}return i}vx();function Xh(u,r){const a=an,i={kVeLL:a(367),FOTbT:"0 0 200 200",JDtBm:a(352),APAJN:a(340),sKzUd:a(293),DvDpn:"rect",SaPHA:"width",zAgBE:"100%",qRKcV:".tsumami-sel-dash",eLcSd:a(342),cfTaX:"image/svg+xml;charset=utf-8",fHAqV:".svg"},o=u.cloneNode(!0);o[a(331)]("[data-testid]").forEach(b=>b[a(322)](a(299))),o.removeAttribute("style");const f=u.getAttribute(i[a(328)]);f&&o[a(310)](i[a(328)],f);const m=(f??i[a(344)])[a(329)](/[\s,]+/).map(Number),y=m[2]??200,d=m[3]??200;o[a(310)](a(312),String(y)),o[a(310)](i[a(326)],String(d)),o.setAttribute(i.APAJN,i[a(320)]);const h=document[a(373)](i[a(320)],i[a(363)]);h[a(310)](i.SaPHA,"100%"),h.setAttribute("height",i.zAgBE),h[a(310)](a(350),a(297)),o[a(330)](h,o[a(335)]),o.querySelectorAll(a(346))[a(364)](b=>b.remove()),o[a(331)](i[a(308)])[a(364)](b=>b.remove()),o.querySelectorAll(i.eLcSd)[a(364)](b=>b[a(360)]()),o[a(331)](a(321)).forEach(b=>b[a(360)]());const g=new XMLSerializer,v=`<?xml version="1.0" encoding="UTF-8"?>
`+g[a(348)](o),z=new Blob([v],{type:i.cfTaX});Jd(z,r.endsWith(i[a(300)])?r:r+a(301))}function Jh(u,r,a=2){const i=an,o={pcVZL:function(w,S){return w!==S},wSVSS:function(w,S){return w*S},plaTP:"white",wkVAT:"image/png",EVGEk:i(342),Yzmly:"viewBox",DDMKf:function(w,S){return w??S},aEwJA:function(w,S){return w??S},RrwBh:"width",vwQsz:i(352),BoFRU:i(340),htyar:i(293),XMgvQ:"image/svg+xml;charset=utf-8"},f=u[i(295)](!0);f.querySelectorAll(i(339))[i(364)](w=>w[i(322)]("data-testid")),f[i(322)](i(358)),f[i(331)](i(346))[i(364)](w=>w[i(360)]()),f[i(331)](".tsumami-sel-dash")[i(364)](w=>w[i(360)]()),f.querySelectorAll(o[i(325)]).forEach(w=>w.remove()),f[i(331)](i(321))[i(364)](w=>w[i(360)]());const m=u.getAttribute(o[i(366)]),y=o[i(315)](m,"0 0 200 200")[i(329)](/[\s,]+/)[i(377)](Number),d=y[2]??200,h=y[3]??200;f.setAttribute("viewBox",o[i(302)](m,"0 0 200 200")),f.setAttribute(o.RrwBh,String(d)),f.setAttribute(o[i(306)],String(h)),f.setAttribute(o.BoFRU,o[i(294)]);const g=new XMLSerializer,v=g[i(348)](f),z=new Blob([v],{type:o[i(374)]}),b=URL[i(359)](z),D=new Image;D[i(334)]=()=>{const w=i,S=document.createElement(w(307));S[w(312)]=o[w(314)](d,a),S.height=h*a;const T=S[w(337)]("2d");if(!T){URL.revokeObjectURL(b);return}T.fillStyle=o[w(361)],T.fillRect(0,0,S.width,S[w(352)]),T[w(313)](D,0,0,S.width,S.height),S[w(357)](G=>{const L=w;if(L(371),o[L(354)](L(336),L(336))){const q=_0x2e5624.createElement(L(307));q[L(312)]=_0x18789c*_0x5b798c,q[L(352)]=LLJWCu[L(298)](_0xf0c531,_0x13f67b);const O=q.getContext("2d");if(!O){_0x3197fb[L(353)](_0x2f230d);return}O[L(318)]=L(297),O[L(324)](0,0,q.width,q.height),O[L(313)](_0x26ca93,0,0,q.width,q.height),q.toBlob(V=>{const Z=L;V&&_0x156184(V,_0x4589b1.endsWith(Z(370))?_0xa1f092:_0x3525f8+".png"),_0x316999.revokeObjectURL(_0x19f840)},LLJWCu.XrLgb)}else G&&Jd(G,r.endsWith(L(370))?r:r+L(370)),URL[L(353)](b)},o[w(338)])},D.onerror=()=>{URL[i(353)](b)},D.src=b}function Jd(u,r){const a=an,i=URL.createObjectURL(u),o=document.createElement("a");o.href=i,o[a(368)]=r,document.body.appendChild(o),o[a(309)](),document[a(296)][a(351)](o),URL.revokeObjectURL(i)}function p0({active:u,disabled:r,onClick:a,children:i,...o}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const Vh="v0.1.0-dev";function Wh(u){const{view:r,onNavigate:a,project:i}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(p0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(p0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(p0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(p0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qh(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function yx({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Ph(u){const[r,a]=$.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(yx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(u,r){const a=Vt,i=u();for(;;)try{if(parseInt(a(371))/1*(-parseInt(a(329))/2)+parseInt(a(340))/3+-parseInt(a(322))/4*(parseInt(a(327))/5)+parseInt(a(328))/6*(-parseInt(a(332))/7)+parseInt(a(350))/8+parseInt(a(390))/9+-parseInt(a(347))/10*(-parseInt(a(348))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,313062);const Fh=(function(){const u={HrmjO:function(a,i){return a!==i},BMBCT:"nfzCS"};let r=!0;return function(a,i){const o=Vt,f={xKQLw:function(m,y,d){return m(y,d)}};if(u[o(315)](u[o(319)],u.BMBCT)){if(!_0xb099ab[o(354)])return;f[o(379)](_0x2574a8,()=>{},!0),_0x1618ed[o(354)]&&(_0x2348d7[o(354)].style[o(364)]=""),_0x3b8fd5[o(354)]=null}else{const m=r?function(){if(i){const y=i.apply(a,arguments);return i=null,y}}:function(){};return r=!1,m}}})(),px=Fh(void 0,function(){const u=Vt;return px[u(338)]()[u(374)]("(((.+)+)+)+$")[u(338)]()[u(362)](px).search("(((.+)+)+)+$")});function Vt(u,r){u=u-314;const a=B0();let i=a[u];if(Vt.AVOzZa===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Vt.UyEtIA=o,Vt.lOWPWA={},Vt.AVOzZa=!0}const f=a[0],m=u+f,y=Vt.lOWPWA[m];if(y)i=y;else{const d=function(h){this.GvJWBf=h,this.AZURLd=[1,0,0],this.GchWlt=function(){return"newState"},this.uqfPwa="\\w+ *\\(\\) *{\\w+ *",this.DutZRk=`['|"].+['|"];? *}`};d.prototype.MleGwF=function(){const h=new RegExp(this.uqfPwa+this.DutZRk),g=h.test(this.GchWlt.toString())?--this.AZURLd[1]:--this.AZURLd[0];return this.rEgWDH(g)},d.prototype.rEgWDH=function(h){return~h?this.eONYEO(this.GvJWBf):h},d.prototype.eONYEO=function(h){for(let g=0,v=this.AZURLd.length;g<v;g++)this.AZURLd.push(Math.round(Math.random())),v=this.AZURLd.length;return h(this.AZURLd[0])},new d(Vt).MleGwF(),i=Vt.UyEtIA(i),Vt.lOWPWA[m]=i}return i}px();function B0(){const u=["D2LKDgHty2fSzq","r1LRCve","Cg9PBNrLCKLK","wKrStK4","C3rHCNreAwfT","y3vYCMvUDfrHCMDLDa","mJe2wfrjrM1k","qxfnBgW","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","C2vHCMnO","Bgf5zxjjza","BePutLK","vK1xv0q","zMXVD2vYCW","EeTrthC","B2LVtLy","Bwf4","Cgv0ywXbBMDSzq","zMXVD2vY","C2v0ug9PBNrLCKnHChr1CMu","zMLSDgvY","C3r5Bgu","EerXAKu","AhLWB3q","z3bTvhG","nteXnJC3owrMtxjlEa","BePpyuu","ywjZ","zMXVD2vYrgLHBwv0zxi","yxrHBJi","CxPMu2G","AufHu3K","B2zMC2v0qw5NBgu","Bgf5zxi","shjTAK8","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","sgfxDvO","EMTmCMW","qK1cq1q","z3bRueW","DxjSkci","oty4uKr3yunc","C2nHBgu","wvvIzLy","s0HxswO","A05gELy","mtiWmJvMDLbftfa","mtaYsfzbtxLO","mta4mMXRBw5mtG","zMXVD2vYswq","sxf5rge","ndy2nJLHs0XTCwe","CM90yxrPB24","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","ChjLDMvUDerLzMf1Bhq","zMLUza","Bgf5zxjZ","Dg9tDhjPBMC","Cg9ZAxrPB24","mtG2mdbTCePryKm","Cgv0ywXjBMrLEa","Eu5rB2K","u1DwC1K","Bw9Kzq","r2XPv0e","thvjCfO","mtyWmJbLvhLou2S","mtK1oeTJwMHPtG","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","mJeYmZa0mhfiDgnArW","vhH1ue8","C3rHCNrsB3rHDgLVBG","C2LU","y3vYCMvUDa","C3rHCNreAxn0","wMzQtgS","l3rZDw1HBwKV","zvHtCuG","AgjAA1G","CMfKAxvZ","swjsAfu","y29UC3rYDwn0B3i","Bfj3rLG","y3vYC29Y"];return B0=function(){return u},B0()}function $h(u){const r=Vt,a={ZDlNN:"/tsumami/",lRwFX:r(314),MHhyr:function(Z,J){return Z-J},EBRXP:function(Z,J){return Z-J},hbZkX:function(Z,J){return Z(J)},MbEwy:function(Z,J,F){return Z(J,F)},lJOaE:function(Z,J){return Z===J},GliWA:r(383),IqyDa:function(Z,J){return Z-J},GHbYZ:function(Z,J){return Z-J},oioNV:function(Z,J,F,Q){return Z(J,F,Q)},SWVsY:function(Z,J){return Z/J},pxJDb:function(Z,J,F,Q){return Z(J,F,Q)},GYkqQ:function(Z,J){return Z*J},xDtaj:function(Z,J){return Z!==J},XfWyZ:"xzCFv",XemJh:function(Z,J){return Z===J},qzfSh:function(Z,J,F){return Z(J,F)},Odzqr:r(317),KHWIj:function(Z,J){return Z-J},kNFzV:function(Z,J){return Z<J},eEEpS:function(Z,J){return Z+J},iAaSy:function(Z,J,F){return Z(J,F)},qzcSU:function(Z,J){return Z!==J},qNsgN:r(356),XBxnU:"VHvQo",fQqDP:function(Z,J){return Z+J},hXuoi:function(Z,J){return Z+J},SOGiv:"eXSqH",IbRhU:function(Z,J){return Z*J},mcUjI:function(Z,J){return Z/J},xDqjE:function(Z,J){return Z!==J},XAZSF:function(Z,J){return Z-J},AoKeZ:function(Z,J,F){return Z(J,F)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=u,y=$.useRef(null),d=(Z,J,F,Q)=>{const W=r;F[W(335)](),F.currentTarget?.setPointerCapture?.(F[W(367)]),f.current&&(f[W(354)].style[W(364)]='url("'+a[W(368)]+W(334));const _=i.flowers.find(I=>I.id===J);if(!_)return;const C=Z===a[W(363)]&&Q?.layerId?_[W(337)][W(385)](I=>I.id===Q.layerId).map(I=>({layerId:I.id,scale:I.scale??1,radius:I.radius??10})):_[W(337)].map(I=>({layerId:I.id,scale:I.scale??1,radius:I[W(360)]??10})),A=m(F),M=_[W(339)].x,j=_.position.y,B=Math.hypot(a.MHhyr(A.x,M),a.EBRXP(A.y,j));y[W(354)]={mode:Z,flowerId:J,layerId:Q?.layerId,startScales:C,startDiam:_.flowerDiameter||60,startDist:B}},h=Z=>{const J=r,F={LRanS:function(j,B){return a[Vt(359)](j,B)},ZsOWe:function(j,B,I){return a.MbEwy(j,B,I)},lMyHo:function(j,B){return a[Vt(391)](j,B)},RQDcW:a[J(345)],TxuPO:function(j,B){return j!==B},lJTNY:"uKxiH",hgnZB:function(j,B){return j*B},VMWWD:function(j,B){return j===B},eowgq:function(j,B,I,H){return j(B,I,H)}},Q=y.current;if(!Q)return;const W=i.flowers.find(j=>j.id===Q[J(330)]);if(!W)return;const _=a[J(359)](m,Z),C=Math[J(388)](a.IqyDa(_.x,W.position.x),a.GHbYZ(_.y,W.position.y)),A=Math[J(381)](1,Q[J(355)]??1),M=a[J(380)](_e,a.SWVsY(C,A),.3,3);o(j=>{const B=J,I={ndEpW:function(k,N){return F.LRanS(k,N)},nnKgg:function(k,N){return k-N},LuIpZ:function(k,N){return k-N},yNQoi:function(k,N,R,Y){return k(N,R,Y)},gpkPL:function(k,N,R){return F.ZsOWe(k,N,R)}},H=j[B(378)].find(k=>k.id===Q.flowerId);if(H){for(const k of Q.startScales){const N=H[B(337)][B(336)](R=>R.id===k[B(375)]);if(N&&(N.scale=_e(k[B(323)]*M,.3,3),F.lMyHo(Q.mode,F.RQDcW)))if(F[B(351)](F[B(376)],B(324)))N[B(360)]=_e(F.hgnZB(k.radius,M),2,120);else{const R=_0x2a4259.current;if(!R)return;const Y=_0x3439fe[B(378)][B(336)](oe=>oe.id===R[B(330)]);if(!Y)return;const K=I.ndEpW(_0x540a4a,_0x17428f),le=_0x25758a[B(388)](I.nnKgg(K.x,Y.position.x),I[B(346)](K.y,Y.position.y)),se=I.LuIpZ(le,R[B(355)]),fe=I[B(342)](_0x5767cc,R.startRadius+se,5,100);I[B(320)](_0xc1cd40,oe=>{const ge=B,je=oe.flowers.find(Re=>Re.id===R[ge(330)]);if(!je)return;const he=je.layers[ge(336)](Re=>Re.id===R[ge(375)]);he&&(he.radius=fe)},!1)}}F[B(377)](Q[B(344)],B(383))&&(H.flowerDiameter=F.eowgq(_e,Q[B(369)]*M,10,200))}},!1)},g=()=>{const Z=r;y.current&&(o(()=>{},!0),f[Z(354)]&&(f[Z(354)].style.cursor=""),y[Z(354)]=null)},v=$.useRef(null),z=(Z,J,F,Q)=>{const W=r;if(a.xDtaj(W(389),a.XfWyZ)){F[W(335)](),F[W(370)]?.setPointerCapture?.(F.pointerId),f.current&&(f[W(354)][W(386)][W(364)]='url("'+W(357)+W(373));const _=i.flowers.find(j=>j.id===J);if(!_)return;const C=m(F),A=Math[W(394)](C.y-_.position.y,C.x-_[W(339)].x)*a.SWVsY(180,Math.PI),M=a.XemJh(Z,a.lRwFX)&&Q?.[W(375)]?_[W(337)].find(j=>j.id===Q.layerId)?.[W(397)]??0:_.rotation??0;v.current={mode:Z,flowerId:J,layerId:Q?.[W(375)],startAngle:A,startRotation:M}}else _0x37c836[W(393)]=a.pxJDb(_0x4ce379,a[W(366)](_0x3de9ee.startDiam,_0x4428cc),10,200)},b=Z=>{const J=r,F={tEGeq:function(j,B,I){return a[Vt(395)](j,B,I)},YQYWi:a.lRwFX,JEehq:a.Odzqr},Q=v.current;if(!Q)return;const W=i.flowers.find(j=>j.id===Q.flowerId);if(!W)return;const _=m(Z);let A=a[J(366)](Math.atan2(a[J(325)](_.y,W[J(339)].y),_.x-W.position.x),a.SWVsY(180,Math.PI))-Q.startAngle;for(;A>180;)A-=360;for(;a[J(326)](A,-180);)A+=360;const M=a.eEEpS(Q[J(352)],A);a[J(396)](o,j=>{const B=J,I=j[B(378)].find(H=>H.id===Q[B(330)]);if(I)if(Q[B(344)]===F.YQYWi&&Q[B(375)])if(F.JEehq==="HaWuZ"){const H=I[B(337)].find(k=>k.id===Q.layerId);H&&(H.offsetAngle=M)}else{if(!_0xade92e[B(354)])return;F.tEGeq(_0x398c10,()=>{},!0),_0x3f66ee.current&&(_0x3b7e19.current.style[B(364)]=""),_0x7d31c4[B(354)]=null}else I[B(333)]=M},!1)},D=()=>{const Z=r;v.current&&(o(()=>{},!0),f.current&&(f[Z(354)][Z(386)][Z(364)]=""),v.current=null)},w=a.hbZkX($.useRef,null),S=(Z,J,F,Q)=>{const W=r;if(a.qzcSU(a.qNsgN,a.XBxnU)){F.preventDefault(),F[W(370)]?.[W(384)]?.(F[W(367)]),f.current&&(f.current[W(386)][W(364)]=W(321)+a.ZDlNN+W(349));const _=i[W(378)].find(le=>le.id===J);if(!_)return;const C=Q?.[W(375)]?_[W(337)].find(le=>le.id===Q.layerId):null;if(!C)return;const A=m(F),M=_.position.x,j=_.position.y,B=Q?.[W(341)]??0,I=360/Math[W(381)](1,C.petalCount),H=a.fQqDP(a.hXuoi(C.offsetAngle,a.GYkqQ(B,I)),_.rotation)*a[W(343)](Math.PI,180),k=a[W(331)](A.x,M),N=A.y-j,R=-Math[W(353)](H),Y=Math.cos(H),K=Math[W(392)](a[W(366)](k,R)+N*Y);w[W(354)]={mode:Z,flowerId:J,layerId:Q?.layerId,petalAngle:H,startDist:Math.max(1,K),startWidthScale:C[W(365)]??1}}else{const _=_0x56c1b5[W(337)].find(C=>C.id===_0x1876db.layerId);_&&(_.offsetAngle=_0x380c6c)}},T=Z=>{const J=r,F={AqMll:a.SOGiv},Q=w.current;if(!Q)return;const W=i.flowers[J(336)](k=>k.id===Q[J(330)]);if(!W)return;const _=m(Z),C=_.x-W[J(339)].x,A=_.y-W[J(339)].y,M=-Math[J(353)](Q[J(382)]),j=Math.cos(Q[J(382)]),B=Math[J(392)](a.hXuoi(a.IbRhU(C,M),a[J(361)](A,j))),I=a[J(380)](_e,a.mcUjI(B,Q.startDist),.3,3),H=a.pxJDb(_e,a[J(361)](Q.startWidthScale,I),.3,3);a.MbEwy(o,k=>{const N=J;if(N(358)!==F[N(372)])_0x527fba[N(333)]=_0x319dae;else{const R=k.flowers[N(336)](K=>K.id===Q.flowerId);if(!R)return;const Y=R.layers.find(K=>K.id===Q.layerId);Y&&(Y.widthScale=H)}},!1)},G=()=>{const Z=r;w[Z(354)]&&(a.iAaSy(o,()=>{},!0),f[Z(354)]&&(f.current[Z(386)][Z(364)]=""),w[Z(354)]=null)},L=$.useRef(null);return{scaleDragRef:y,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:g,rotationDragRef:v,beginRotationDrag:z,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:w,beginWidthScaleDrag:S,updateWidthScaleDrag:T,endWidthScaleDrag:G,radiusDragRef:L,beginRadiusDrag:(Z,J,F,Q)=>{const W=r;if(a[W(387)](W(318),"FPBMp")){F[W(335)](),F[W(370)]?.[W(384)]?.(F.pointerId),f.current&&(f[W(354)].style.cursor=W(321)+a[W(368)]+W(316));const _=i.flowers.find(j=>j.id===J);if(!_)return;const C=Q?.layerId?_[W(337)].find(j=>j.id===Q.layerId):null;if(!C)return;const A=m(F),M=Math[W(388)](A.x-_[W(339)].x,a.EBRXP(A.y,_.position.y));L[W(354)]={mode:Z,flowerId:J,layerId:Q?.[W(375)],startDist:Math.max(1,M),startRadius:C.radius??28}}else{const _=_0x3551db[W(378)].find(A=>A.id===_0x4fd602.flowerId);if(!_)return;const C=_.layers.find(A=>A.id===_0x34e510[W(375)]);C&&(C[W(365)]=_0x2405ed)}},updateRadiusDrag:Z=>{const J=r,F=L[J(354)];if(!F)return;const Q=i[J(378)][J(336)](M=>M.id===F[J(330)]);if(!Q)return;const W=m(Z),_=Math[J(388)](W.x-Q.position.x,a.MHhyr(W.y,Q.position.y)),C=a.XAZSF(_,F[J(355)]),A=_e(F.startRadius+C,5,100);a.AoKeZ(o,M=>{const j=J,B=M[j(378)][j(336)](H=>H.id===F[j(330)]);if(!B)return;const I=B.layers[j(336)](H=>H.id===F[j(375)]);I&&(I.radius=A)},!1)},endRadiusDrag:()=>{const Z=r;L[Z(354)]&&(o(()=>{},!0),f[Z(354)]&&(f[Z(354)][Z(386)][Z(364)]=""),L.current=null)}}}(function(u,r){const a=ht,i=u();for(;;)try{if(-parseInt(a(553))/1+-parseInt(a(567))/2+-parseInt(a(526))/3*(parseInt(a(536))/4)+parseInt(a(554))/5+parseInt(a(528))/6*(parseInt(a(527))/7)+-parseInt(a(507))/8+parseInt(a(521))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,545731);const em=(function(){const u=ht,r={pNxIk:u(545)};let a=!0;return function(i,o){const f={nKfJo:"center"},m=a?function(){const y=ht;if(o)if(r.pNxIk===r.pNxIk){const d=o.apply(i,arguments);return o=null,d}else return{zone:f[y(509)]}}:function(){};return a=!1,m}})(),_x=em(void 0,function(){const u=ht;return _x[u(541)]().search(u(557)).toString()[u(530)](_x)[u(542)]("(((.+)+)+)+$")});_x();function $a(u,r,a,i,o){const f=ht,m={mwcgi:function(O,V){return O(V)},Ugbxf:function(O,V){return O*V},OUxLR:function(O,V){return O-V},tSISh:function(O,V){return O*V},qrnII:function(O,V){return O<=V},WUtRo:function(O,V){return O-V},ZPSUV:function(O,V){return O+V},kmMpa:function(O,V){return O*V},Bvsiw:f(558),jSrwN:function(O,V){return O*V},nEsnr:function(O,V){return O/V},qqqtb:function(O,V){return O*V},yBZGd:function(O,V){return O-V},UCUMe:function(O,V){return O*V},lwAYU:function(O,V){return O*V},bZnjM:function(O,V){return O/V},YXdry:function(O,V){return O<V},hCxXh:function(O,V){return O-V},EAILN:"width",gXFyg:f(508),BLgQY:f(564),yUjgC:"BQEkb",HeSef:f(563),FATXW:function(O,V){return O===V},Qyely:function(O,V){return O-V}},{length:y}=m[f(559)](It,a[f(492)]??i[f(492)]),d=u-a[f(510)].x,h=r-a.position.y,g=Math.hypot(d,h);let v=1/0;for(const O of a.layers){if(!O[f(540)])continue;const V=O.scale??1,Z=m.Ugbxf(y,V),J=.28,F=Math.max(0,m[f(532)](O.radius,Z*J));F<v&&(v=F)}m.mwcgi(isFinite,v)||(v=0);const z=Math.max(m[f(489)](v,.9),8);if(m[f(552)](g,z))return{zone:f(512)};const b=da(-(a[f(516)]??0)),D=m.WUtRo(m[f(493)](d,Math[f(561)](b)),m.tSISh(h,Math[f(566)](b))),w=m[f(497)](d*Math.sin(b),m.kmMpa(h,Math[f(561)](b))),S=o.kind===m.Bvsiw?a[f(515)][f(556)](O=>O.id===o[f(495)]&&O[f(540)]):a.layers[f(556)](O=>O.visible);let T="none",G,L,q=1/0;for(const O of S){const V=O[f(564)]??1,Z=y*V,J=O.widthScale??1,F=m[f(535)](m[f(503)](y,2),J)*V,Q=.28,W=Math[f(570)](0,O[f(546)]-m[f(524)](Z,Q)),_=360/Math[f(570)](1,O[f(543)]);for(let C=0;C<O.petalCount;C++){const A=O.offsetAngle+C*_,M=da(A),j=Math.cos(M)*W,B=Math[f(566)](M)*W,I=D-j,H=m.yBZGd(w,B),k=Math[f(561)](-M),N=Math[f(566)](-M),R=m.OUxLR(m[f(537)](I,k),m[f(533)](H,N)),Y=I*N+H*k,K=m[f(522)](R,Z),le=m.nEsnr(Y,F);if(m[f(547)](K,-.05)||K>1.08||Math.abs(le)>.75)continue;const se=Math.hypot(m[f(529)](K,.5),le);if(!(se>=q))if(q=se,G=O.id,L=C,Math.abs(le)>.45)T=m[f(490)];else if(K>.75)T=m[f(501)];else if(K>.3)T=m.BLgQY;else if(m.yUjgC===m[f(548)])T=m[f(549)];else return f(525)+_0x34c39d+f(518)}}if(m.FATXW(T,"none")){let O=12;for(const J of a.layers){if(!J[f(540)])continue;const F=J.scale??1,Q=m[f(493)](y,F),W=.28,_=Math.max(0,J.radius-m[f(539)](Q,W));O=Math[f(570)](O,_+Q)}if(Math.abs(m[f(520)](g,O))<=8)return{zone:"scale"}}return{zone:T,layerId:G,petalIndex:L}}function q0(){const u=["A21nCge","DMLZAwjSzq","Dg9tDhjPBMC","C2vHCMnO","Cgv0ywXdB3vUDa","yw9lBuW","uuPQwe4","CMfKAxvZ","wvHKCNK","EvvQz0m","sgvtzwy","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","CxjUsuK","nty4odq2De5mr3j1","mty5mdqYmg1Lq3DqAq","z3jHyG","zMLSDgvY","kcGOlISPkYKRksSK","Bgf5zxi","BxDJz2K","t3nuC0y","y29Z","t0vIww8","Bw92zq","C2nHBgu","z0nSDge","C2LU","nJC0mtu0zMDpDw5c","DfnuDvO","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","Bwf4","ywjZ","Dfnju2G","rufjte4","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","zMfICMLJu3f1yxjLu2L6zq","vwDIEgy","Cenvz0S","Bgf5zxjjza","y0LcDe0","wLbtvvy","uMTcBxe","BM9Uzq","zMXVD2vY","z1HgEwC","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","BKvZBNi","sLbsEwK","ywrlEMe","y0zOB00","nJm4mtm3nK92zhL0sW","CM90yxrL","BKTMsM8","Cg9ZAxrPB24","A2nQCKe","y2vUDgvY","txzKD3C","r0X5t04","Bgf5zxjZ","CM90yxrPB24","Bg9Zs3u","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","uxLLBhK","mtaXmJuWodfRB2fmCeC","yLPUAK0","qNLUse4","CxfXDgi","DxjSkci","mtGZmda5t3nvB2z1","mtK4mufuBxftra","mJmXmZzWuxPHtKS","Aen4wgG","y29UC3rYDwn0B3i","C2nIBvG","t1v4tfi","BhDbwvu","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","ALnYD04","mJbxDwP1vxm","vunvtwu","tM5Nu2i"];return q0=function(){return u},q0()}function S0(u,r,a){const i=ht,o={scbmX:"scale",gClta:function(f,m){return f===m},Mvdww:i(563),yztio:function(f,m){return f===m},pCUgK:i(508),JbrcF:function(f,m){return f!=m},NngSb:function(f,m){return f===m},BynHN:"AZfmC",OEbYo:i(496),losKu:function(f,m){return f*m},hJREv:function(f,m){return f-m},uXgri:function(f,m){return f>m},tSTuZ:function(f,m){return f===m},HGeBu:"petals"};if(u===i(512))return"center";if(u==="none")return i(499);switch(r){case i(500):{if(o[i(565)](u,o[i(513)]))return"move";if(u==="scale")return"scale";if(o.yztio(u,o[i(494)])&&a?.hitLayerId&&a.flower&&o.JbrcF(a.length,null)){if(o[i(538)](o[i(523)],o[i(562)]))return{zone:KvNHCA[i(531)]};{let f,m=-1/0;for(const y of a.flower[i(515)]){if(!y[i(540)])continue;const d=y.scale??1,h=o[i(517)](a.length,d),g=.28,v=Math[i(570)](0,o.hJREv(y.radius,h*g)),z=v+h;o.uXgri(z,m)&&(m=z,f=y.id)}return o[i(568)](a.hitLayerId,f)?o.pCUgK:o[i(513)]}}return i(563)}case"layer":return u;case"petal":case o.HGeBu:return o.Mvdww;default:return o[i(513)]}}function tm(u,r,a,i){const o=ht,f={OsTsF:function(L,q){return L-q},WOIyK:function(L,q){return L(q)},YUYLd:function(L,q){return L*q},oOJKe:function(L,q){return L/q},JPRyi:function(L,q){return L<q},aoKmL:function(L,q){return L>q},jvyCU:"width",TCLTd:function(L,q){return L>q},RkBmq:"scale"},m=a.fabricSquareSize??i[o(492)],{length:y,width:d}=It(m),h=a[o(564)]??1,g=y*h,v=d*(a.widthScale??1)*h,z=f[o(560)](u,a[o(510)].x),b=r-a[o(510)].y,D=f.WOIyK(da,-(a[o(516)]??0)),w=z*Math[o(561)](D)-b*Math[o(566)](D),S=z*Math.sin(D)+f.YUYLd(b,Math[o(561)](D)),T=f.oOJKe(w,g),G=f.oOJKe(S,v);return f[o(504)](T,-.05)||T>1.08?o(499):Math[o(488)](G)>.75?"none":f[o(544)](Math.abs(G),.45)?f.jvyCU:f.TCLTd(T,.75)?o(508):T>.3?f[o(498)]:o(563)}function Vd(u,r){const a=ht,i={hRuHq:a(508),adKza:"width",GLyON:a(563),cmUrr:function(o,f){return o(f)}};switch(u){case i.hRuHq:return a(525)+r+a(551);case a(564):return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(505)]:return'url("'+r+a(491);case i[a(514)]:return i.cmUrr(nr,r);default:return a(555)}}function kd(u,r){const a=ht,i={ukwgF:a(512),kcjrA:"pointer",vwQsq:"width",cFhoM:function(o,f){return o(f)},exqzu:a(499)};switch(u){case i.ukwgF:return i[a(511)];case"rotate":return a(525)+r+a(551);case"scale":return a(525)+r+a(519);case i.vwQsq:return'url("'+r+a(491);case"radius":return'url("'+r+a(502);case"move":return i[a(506)](nr,r);case i.exqzu:default:return a(555)}}function nr(u){const r=ht;return'url("'+u+r(534)}function Hl(u){const r=ht;return'url("'+u+r(518)}function nm(u){const r=ht;return'url("'+u+r(550)}function ht(u,r){u=u-488;const a=q0();let i=a[u];if(ht.JmzOdA===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};ht.lswybd=o,ht.UshnYP={},ht.JmzOdA=!0}const f=a[0],m=u+f,y=ht.UshnYP[m];if(y)i=y;else{const d=function(h){this.JBUzEv=h,this.haZeRY=[1,0,0],this.avAxQn=function(){return"newState"},this.oegczX="\\w+ *\\(\\) *{\\w+ *",this.JKmzwg=`['|"].+['|"];? *}`};d.prototype.nCtFEQ=function(){const h=new RegExp(this.oegczX+this.JKmzwg),g=h.test(this.avAxQn.toString())?--this.haZeRY[1]:--this.haZeRY[0];return this.xxqzWD(g)},d.prototype.xxqzWD=function(h){return~h?this.vrPRYx(this.JBUzEv):h},d.prototype.vrPRYx=function(h){for(let g=0,v=this.haZeRY.length;g<v;g++)this.haZeRY.push(Math.round(Math.random())),v=this.haZeRY.length;return h(this.haZeRY[0])},new d(ht).nCtFEQ(),i=ht.lswybd(i),ht.UshnYP[m]=i}return i}function lm(u){return ht(525)+u+'move_stencil_active_32.png") 16 16, grabbing'}(function(u,r){const a=gn,i=u();for(;;)try{if(parseInt(a(215))/1*(parseInt(a(254))/2)+parseInt(a(239))/3*(-parseInt(a(260))/4)+-parseInt(a(262))/5*(-parseInt(a(188))/6)+parseInt(a(237))/7+-parseInt(a(217))/8*(-parseInt(a(238))/9)+parseInt(a(271))/10*(-parseInt(a(183))/11)+-parseInt(a(218))/12*(parseInt(a(225))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,180557);const am=(function(){let u=!0;return function(r,a){const i=u?function(){const o=gn;if(a){const f=a[o(269)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),Sx=am(void 0,function(){const u=gn;return Sx.toString().search(u(210)).toString()[u(256)](Sx).search("(((.+)+)+)+$")});Sx();function gn(u,r){u=u-182;const a=G0();let i=a[u];if(gn.nvIoxJ===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};gn.ZIxkWg=o,gn.sRjtzN={},gn.nvIoxJ=!0}const f=a[0],m=u+f,y=gn.sRjtzN[m];if(y)i=y;else{const d=function(h){this.CLnPXW=h,this.AzwdZA=[1,0,0],this.zpgevB=function(){return"newState"},this.QrIcTU="\\w+ *\\(\\) *{\\w+ *",this.jSzEMc=`['|"].+['|"];? *}`};d.prototype.AIejsp=function(){const h=new RegExp(this.QrIcTU+this.jSzEMc),g=h.test(this.zpgevB.toString())?--this.AzwdZA[1]:--this.AzwdZA[0];return this.aNFdqg(g)},d.prototype.aNFdqg=function(h){return~h?this.ASqlOf(this.CLnPXW):h},d.prototype.ASqlOf=function(h){for(let g=0,v=this.AzwdZA.length;g<v;g++)this.AzwdZA.push(Math.round(Math.random())),v=this.AzwdZA.length;return h(this.AzwdZA[0])},new d(gn).AIejsp(),i=gn.ZIxkWg(i),gn.sRjtzN[m]=i}return i}function G0(){const u=["zMXVD2vYswq","C3rHCNrdBgLLBNq","AvD1Ewe","zMXVD2vYswrZ","BgvHzG","Aur2thK","AhLWB3q","Cg9ZAxrPB24","AxPhreu","yxHVwLK","y3vYCMvUDfrHCMDLDa","A2LUza","C3rHCNrtDMC","zePxBhC","zMLUza","Bw92zwq","ENfZALu","Cg9PBNrLCKLK","y2XPzw50wa","uKfWq1q","kcGOlISPkYKRksSK","swnTBxK","u0DuyuO","ChjLDMvUDerLzMf1Bhq","zMXVD2vYCW","mti0nJu0CwXRq3bL","zLDzyMK","mtuWmtzAwxfXuNi","mZi0qwT5zufd","DgfSse0","BxvSDgLtDgfYDfbVC2L0Aw9UCW","DxbKyxrLuM90yxrPB25eCMfN","y2XPy2TqzxrHBa","BKruvfC","zw5Ku2nHBgveCMfN","mtC4nJG1CezMsgzK","uufkzuy","yMvNAw5sB3rHDgLVBKrYywC","DLLuzvO","EMzuuhm","BvrcvwW","ywLPAxm","zw5Kv2LKDgHty2fSzurYywC","vMTYEee","C2HPzNrlzxK","wKH2Ehq","zMXVD2vY","mteWotC0nvHwBhj5Ca","nJnYEujHCfi","odfprwjjuvK","C3rHCNrAB29T","yMvNAw5xAwr0AfnJywXLrhjHzW","CK5fqKu","qNLoveq","EevXz1u","BwLU","C3rHCNrqB3m","DxbKyxrLu2nHBgveCMfN","BK1Utuu","zw5KuMfKAxvZrhjHzW","q1nkquO","y3vYCMvUDfn2zW","y3vYCMvUDa","BMrcD08","mNnrzg1wEq","sgrSD3i","y29UC3rYDwn0B3i","ChjVAMvJDa","B2rLD2G","CMvxv1O","mtm5ndHZz3bZEKW","BgvUz3rO","mZu0mdeWve5UAfjV","EfbIwuu","ywjZ","z2DQs0G","Aw5KzxG","u2L5CMq","vLfQr1m","yxbWBhK","CgfUma","mtb0C3b4y1m","BgvHDMvZ","DxbKyxrLv2LKDgHty2fSzurYywC","wKf0zgO","C2v0ug9PBNrLCKnHChr1CMu","BwfW","uLHAsNq","ndK2odD6BLLSu3i","ChvZAa","rhf6Du0","zxbvDu8","y2XPzw50wq","mZbwrMHoDuW","C3rHCNq"];return G0=function(){return u},G0()}const _0=500*cn;function im(u){const r=gn,a={OvrNG:function(_,C){return _-C},YYWrZ:function(_,C){return _+C},axoZY:function(_,C){return _(C)},CSJAJ:function(_,C){return _-C},iDvLy:function(_,C,A){return _(C,A)},epUuO:function(_,C){return _(C)},RXZJt:"project",HNsjy:function(_,C){return _(C)},LFJqW:r(231),SGTaJ:function(_,C){return _(C)},zfTPs:function(_,C){return _-C},vzeZY:r(235),RApCT:function(_,C){return _(C)},ZAtdj:function(_,C){return _-C},PnDak:function(_,C){return _<=C},ndBwO:function(_,C){return _<=C},nDTTW:function(_,C){return _+C},talHM:function(_,C){return _>=C},rGFyP:function(_,C){return _>C},reWWZ:function(_,C){return _===C},fWYbi:function(_,C){return _(C)},izGDE:function(_,C){return _>C},VQjGS:"ugGSm",uKAsD:function(_,C){return _(C)},jKqrv:r(272),rNEBE:function(_,C){return _===C},iWuya:"bkyOO",VkrxA:"QVzLI",vYTeZ:function(_,C){return _-C},IxavB:function(_,C){return _+C},ByNTD:"cuKUH",LPGXi:"flowers",QAJeF:function(_,C){return _??C},Icmmy:"kctdj",nMnME:function(_,C,A,M){return _(C,A,M)},mTBUl:function(_,C){return _/C},FBOUY:function(_,C){return _>C},odewh:"petal",Siyrd:"flower",Yztkt:function(_,C){return _===C},DBwEf:function(_,C){return _!==C},mkQDf:function(_,C){return _(C)},JEHwF:function(_,C,A){return _(C,A)},maOAe:function(_,C){return _(C)}},{project:i,selection:o,setSelection:f,applyUpdate:m,dragRef:y,zoom:d,pan:h,setPan:g,stageRef:v,clientToSvgPoint:z,togglePetalSelection:b}=u,D=$h({project:i,applyUpdate:m,stageRef:v,clientToSvgPoint:z}),w=$.useRef(null),S=_=>{const C=r;_[C(213)](),_.currentTarget?.[C(275)]?.(_.pointerId),w[C(252)]={start:{x:_[C(208)],y:_.clientY},pan0:{...h}}},T=_=>{const C=r;if(!w[C(252)])return;const A=_.clientX-w[C(252)][C(189)].x,M=a.OvrNG(_[C(187)],w.current[C(189)].y);g({x:a.YYWrZ(w.current[C(270)].x,A),y:w.current[C(270)].y+M})},G=()=>{w.current=null},L=a.maOAe($.useRef,null),[q,O]=$.useState(null);return{beginPan:S,updatePan:T,endPan:G,marqueeRef:L,marqueeRect:q,beginMarquee:_=>{const C=r;_[C(213)](),_[C(200)]?.setPointerCapture?.(_.pointerId);const A=a[C(199)](z,_);L.current={startSvg:A,currentSvg:A},O(null)},updateMarquee:_=>{const C=r;if(!L[C(252)])return;const A=z(_);L[C(252)][C(251)]=A;const M=L[C(252)][C(202)],j=Math.min(M.x,A.x),B=Math.min(M.y,A.y),I=Math.abs(A.x-M.x),H=Math[C(264)](a[C(250)](A.y,M.y));O({x:j,y:B,w:I,h:H})},endMarquee:()=>{const _=r,C={Hdlwr:function(K,le){return K(le)},QMpIp:a[_(182)],ggjKH:function(K,le){return a.HNsjy(K,le)}},A=L.current;if(L.current=null,!A)if(a.LFJqW!=="QzDXg"){a[_(212)](O,null);return}else _0x4f592c[_(184)](_0x347ee1.id);const M=A[_(202)],j=A.currentSvg;if(Math[_(196)](a[_(229)](j.x,M.x),a[_(250)](j.y,M.y))<3)if(a.vzeZY==="ZHvxt"){a[_(212)](f,{kind:a.RXZJt}),a[_(209)](O,null);return}else{C[_(255)](_0x2f9892,{kind:C.QMpIp}),C.Hdlwr(_0x19c710,null);return}const I=Math[_(245)](M.x,j.x),H=Math.min(M.y,j.y),k=Math.abs(a[_(274)](j.x,M.x)),N=Math[_(264)](j.y-M.y),R=[];for(const K of i[_(214)])K.position.x>=I&&a.PnDak(K[_(197)].x,I+k)&&K.position.y>=H&&a.ndBwO(K.position.y,a.YYWrZ(H,N))&&R.push(K.id);const Y=[];for(const K of i.leaves??[])K[_(197)].x>=I&&a[_(253)](K[_(197)].x,a.nDTTW(I,k))&&a[_(219)](K.position.y,H)&&K.position.y<=H+N&&Y.push(K.id);if(a.rGFyP(R[_(261)],0))if(a[_(259)]("ThMIR","ThMIR"))R[_(261)]===1?a[_(216)](f,{kind:_(236),flowerId:R[0]}):f({kind:"flowers",flowerIds:R});else{const K=a.iDvLy(_0x50849a,_0x5ee698,_0x493aaf);K[_(261)]>1&&(_0x174dd1=K[_(276)](le=>{const se=_,fe=_0x918dcf.flowers[se(204)](oe=>oe.id===le);return{id:le,x:fe?.[se(197)].x??0,y:fe?.[se(197)].y??0}}))}else a[_(198)](Y[_(261)],0)?Y[_(261)]===1?a.VQjGS===a[_(268)]?a.uKAsD(f,{kind:_(194),leafId:Y[0]}):_0x872eb5.length===1?C[_(265)](_0x17e7a6,{kind:_(194),leafId:_0x34428a[0]}):_0x1f26e3({kind:"leaves",leafIds:_0x4efb87}):a[_(186)](f,{kind:a.jKqrv,leafIds:Y}):a[_(242)](a[_(192)],a[_(233)])?a[_(186)](_0xba9b1c,{kind:a.RXZJt}):f({kind:_(257)});O(null)},beginFlowerDrag:(_,C,A)=>{const M=r,j={DqzuM:function(H,k){return a[gn(228)](H,k)},xPbYE:function(H,k){return a.IxavB(H,k)},dJWlw:a[M(243)]};C[M(213)](),C.currentTarget?.setPointerCapture?.(C[M(207)]);const B=i.flowers[M(204)](H=>H.id===_);if(!B)return;let I=null;if(o[M(201)]===a.LPGXi&&o[M(193)].includes(_))I=o[M(193)][M(276)](H=>{const k=M,N=i[k(214)].find(R=>R.id===H);return{id:H,x:N?.position.x??0,y:N?.[k(197)].y??0}});else{const H=a.iDvLy(_h,i,_);a[M(198)](H[M(261)],1)&&(I=H[M(276)](k=>{const N=M;if(j[N(203)]===j.dJWlw){const R=i.flowers.find(Y=>Y.id===k);return{id:k,x:R?.[N(197)].x??0,y:R?.[N(197)].y??0}}else{if(!_0x408626[N(252)])return;const R=ysMFiq[N(244)](_0x6d1eff.clientX,_0x2953a6[N(252)][N(189)].x),Y=_0x14d7b0.clientY-_0x171117[N(252)][N(189)].y;ysMFiq[N(206)](_0x4156d8,{x:_0x2f3c45.current.pan0.x+R,y:ysMFiq.KsxCV(_0x2f0d77[N(252)][N(270)].y,Y)})}}))}y[M(252)]={flowerId:_,startClient:{x:C.clientX,y:C[M(187)]},startPos:{...B[M(197)]},moved:!1,clickPetal:a[M(226)](A,null),isShiftPressed:C[M(234)]||!1,multiStartPositions:I,startZoom:d}},updateFlowerDrag:_=>{const C=r,A=y.current;if(!A)return;const M=a[C(230)](a.vYTeZ(_.clientX,A[C(191)].x),A[C(240)]),j=(_[C(187)]-A.startClient.y)/A.startZoom,B=_[C(208)]-A[C(191)].x,I=_[C(187)]-A.startClient.y;a.FBOUY(a[C(223)](Math[C(264)](B),Math.abs(I)),4)&&(A[C(205)]=!0),a[C(195)](m,H=>{const k=C;if(A[k(220)])for(const N of A[k(220)])if(a[k(211)]!==a[k(211)])_0x36f9a2=_0x57a9c8[k(193)].map(R=>{const Y=k,K=_0x544347[Y(214)].find(le=>le.id===R);return{id:R,x:K?.position.x??0,y:K?.position.y??0}});else{const R=H[k(214)].find(Y=>Y.id===N.id);if(!R)continue;R[k(197)].x=a[k(248)](_e,N.x+M,0,_0),R[k(197)].y=_e(a.IxavB(N.y,j),0,_0)}else{const N=H.flowers[k(204)](R=>R.id===A.flowerId);if(!N)return;N.position.x=_e(A[k(246)].x+M,0,_0),N.position.y=a.nMnME(_e,A.startPos.y+j,0,_0)}},!1)},endFlowerDrag:()=>{const _=r,C=y[_(252)];C&&(!C[_(205)]&&C.clickPetal?C.isShiftPressed?b(C[_(190)],C.clickPetal.layerId,C.clickPetal.index,!0):f({kind:a[_(258)],flowerId:C[_(190)],layerId:C.clickPetal.layerId,index:C[_(222)][_(266)]}):C.moved&&((o[_(201)]===a.RXZJt||a[_(242)](o.kind,a[_(267)])&&o.flowerId!==C[_(190)]||a.Yztkt(o[_(201)],"layer")&&a.DBwEf(o.flowerId,C.flowerId)||o.kind==="petal"&&o.flowerId!==C.flowerId)&&a.mkQDf(f,{kind:_(236),flowerId:C.flowerId}),a.JEHwF(m,()=>{},!0)),y[_(252)]=null)},scaleDragRef:D.scaleDragRef,beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[r(247)],endScaleDrag:D[r(224)],rotationDragRef:D.rotationDragRef,beginRotationDrag:D[r(227)],updateRotationDrag:D[r(221)],endRotationDrag:D.endRotationDrag,widthScaleDragRef:D.widthScaleDragRef,beginWidthScaleDrag:D[r(241)],updateWidthScaleDrag:D[r(273)],endWidthScaleDrag:D[r(232)],radiusDragRef:D.radiusDragRef,beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D[r(249)]}}function rm({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function sa(u){const r=!!u.selected,a=!!u.muted,i=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:y=>{u.onDoubleClick&&(y.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(rm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function cm(u){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:y,addFlower:d,deleteSelected:h,addOuterLayer:g,deleteOuterLayer:v,deleteFlowerById:z,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:w}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:D,"data-testid":"layer-tree",children:[x.jsx(sa,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),(()=>{const S=u.groups,T=new Set(S.flatMap(q=>q.flowerIds)),G=r.flowers.filter(q=>!T.has(q.id)),L=(q,O)=>{const V=a.kind==="flower"&&a.flowerId===q.id,Z=a.kind==="flowers"&&a.flowerIds.includes(q.id),J=V||Z,F="",Q=o(q.id),W=q.layers&&q.layers.length>0,_=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:C=>{C.stopPropagation(),g(q.id)},"aria-label":"Add outer layer",children:"+"}),W&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:C=>{C.stopPropagation(),v(q.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":q.id,"data-testid":`tree-flower-${q.id}`,style:{paddingLeft:O},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:Q?"Collapse layers":"Expand layers",onClick:C=>{C.stopPropagation(),f(q.id)},"aria-label":Q?"collapse":"expand","data-tree-toggle":!0,children:Q?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(sa,{label:q.name,marker:F,selected:J,showTrash:V,onTrash:()=>z(q.id),rightActions:_,onClick:()=>m(q.id),onDoubleClick:()=>y(q.id),level:0,leftOffset:-18})})]}),Q&&q.layers.slice().sort((C,A)=>A.order-C.order).map(C=>{const A=(a.kind==="layer"||a.kind==="petal")&&a.layerId===C.id;return x.jsx(sa,{label:`${C.order}. ${C.name}`,marker:"",selected:A,showTrash:A,onTrash:()=>b(q.id,C.id),onClick:()=>{i({kind:"layer",flowerId:q.id,layerId:C.id}),w(M=>({...M,[q.id]:!0}))},level:0,leftOffset:10,muted:!C.visible},C.id)})]},q.id)};return x.jsxs(x.Fragment,{children:[[...S].reverse().map(q=>{const O=a.kind==="group"&&a.groupId===q.id,V="",Z=u.isGroupExpanded(q.id);return x.jsxs("div",{"data-group-id":q.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Z?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Z?"":"",onClick:J=>{J.stopPropagation(),u.toggleGroupExpanded(q.id)},"aria-label":Z?"collapse group":"expand group",children:Z?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(sa,{label:` ${q.name}`,marker:V,selected:O,onClick:()=>u.onSelectGroup(q.id),level:0,leftOffset:-18})})]}),Z&&q.flowerIds.map(J=>{const F=r.flowers.find(Q=>Q.id===J);return F?L(F,12):null})]},q.id)}),[...G].reverse().map(q=>L(q,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const S=u.leafGroups,T=new Set(S.flatMap(L=>L.leafIds)),G=u.leaves.filter(L=>!T.has(L.id));return x.jsxs(x.Fragment,{children:[S.map(L=>{const q=a.kind==="leafGroup"&&a.leafGroupId===L.id;return x.jsxs("div",{children:[x.jsx(sa,{label:` ${L.name}`,selected:q,onClick:()=>u.onSelectLeafGroup(L.id),level:0,leftOffset:0}),L.leafIds.map(O=>{const V=u.leaves.find(J=>J.id===O);if(!V)return null;const Z=a.kind==="leaf"&&a.leafId===V.id;return x.jsx(sa,{label:V.name,selected:Z,showTrash:Z,onTrash:()=>u.onDeleteLeaf(V.id),onClick:()=>u.onSelectLeaf(V.id),level:0,leftOffset:12,muted:!V.visible},V.id)})]},L.id)}),[...G].reverse().map(L=>{const q=a.kind==="leaf"&&a.leafId===L.id;return x.jsx(sa,{label:L.name,selected:q,showTrash:q,onTrash:()=>u.onDeleteLeaf(L.id),onClick:()=>u.onSelectLeaf(L.id),level:0,leftOffset:0,muted:!L.visible},L.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=vn;(function(u,r){const a=vn,i=u();for(;;)try{if(parseInt(a(271))/1+parseInt(a(190))/2*(parseInt(a(181))/3)+-parseInt(a(205))/4*(parseInt(a(268))/5)+-parseInt(a(184))/6*(parseInt(a(280))/7)+-parseInt(a(253))/8*(parseInt(a(244))/9)+parseInt(a(179))/10*(-parseInt(a(274))/11)+-parseInt(a(247))/12*(-parseInt(a(256))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,517083);const um=(function(){const u={VkMbA:function(a,i){return a!==i}};let r=!0;return function(a,i){const o=vn,f={VrOHV:"(((.+)+)+)+$",QtFim:function(y,d){return u[vn(194)](y,d)},tOtde:o(279)},m=r?function(){const y=o;if(i)if(f.QtFim("VPpsJ",f.tOtde)){const d=i.apply(a,arguments);return i=null,d}else return _0x73b92f.toString()[y(248)](f.VrOHV).toString()[y(258)](_0x136896).search("(((.+)+)+)+$")}:function(){};return r=!1,m}})(),Cx=um(void 0,function(){const u=vn,r={wTjeV:u(210)};return Cx.toString()[u(248)](r[u(260)])[u(201)]().constructor(Cx)[u(248)](u(210))});Cx();const Wd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Qd={adult:"",child:""},Pd={right:xe(239),left:xe(198),back:""},xm=[xe(172),xe(175),"C 65 12, 72 26, 76 42",xe(168),xe(221),xe(254),xe(251),xe(222),xe(224),"C 75 112, 74 115, 72 118",xe(236),xe(259),xe(207),xe(246),xe(214),"C -17 249, -25 259, -33 269",xe(245),xe(262),xe(211),xe(232),xe(197),"C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"][xe(264)](" "),sm=["M 0 0","C 20 0, 44 6, 58 20",xe(206),"C 82 74, 83 86, 82 98",xe(225),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162",xe(270),xe(238),"C 58 240, 74 258, 92 280","L -92 280",xe(204),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162",xe(189),xe(199),xe(234),"C -83 86, -82 74, -80 62",xe(276),xe(188),"Z","M 0 70","C 16 66, 34 70, 42 82",xe(243),xe(241),"C 20 148, 10 150, 0 150",xe(278),xe(218),xe(200),xe(255),"Z"].join(" "),om=[xe(172),xe(174),xe(193),"C 64 44, 64 50, 63 56",xe(186),xe(169),xe(185),xe(195),xe(282),xe(183),xe(219),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221","L -30 240",xe(235),"C -86 218, -72 200, -58 186",xe(250),xe(281),"C -48 126, -56 116, -62 106",xe(223),"C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),fm=["M 0 0",xe(177),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",xe(178),xe(231),xe(191),xe(230),"L -70 240",xe(252),xe(187),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94",xe(242),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",xe(226),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32",xe(180),"C -66 68, -56 70, -48 66",xe(265),"C -43 32, -44 28, -46 26","Z"].join(" "),dm=[xe(172),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",xe(216),"C -30 54, -48 48, -62 44",xe(228),xe(275),xe(170),"Z","M -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",xe(182),xe(227),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126","L -40 142","Z"][xe(264)](" "),hm=[xe(172),xe(229),xe(206),xe(283),xe(225),"C 84 122, 82 128, 78 134",xe(209),"C 8 160, -8 160, -20 158",xe(192),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",xe(276),"C -44 6, -20 0, 0 0","Z","M 0 70",xe(217),"C 48 90, 50 104, 48 116",xe(241),"C 20 148, 10 150, 0 150",xe(278),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"][xe(264)](" "),mm=[xe(172),xe(174),xe(193),"C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",xe(261),"Z",xe(233),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74",xe(269),"C -46 52, -42 64, -40 78",xe(212),"L -40 134","Z"].join(" "),bm=["M 0 0",xe(177),"C 60 38, 64 52, 64 68",xe(240),xe(178),"C 46 118, 26 124, 12 126",xe(277),xe(272),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",xe(226),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",xe(171),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",xe(265),"C -43 32, -44 28, -46 26","Z"][xe(264)](" ");function gm(u,r){const a=xe,i={KJDHT:a(273),qZeIl:function(f,m){return f===m},LpFYj:function(f,m){return f===m},QRbXn:a(284),YoAtv:function(f,m){return f!==m}},o=r==="right"||i.LpFYj(r,i[a(167)]);if(u===a(173)){if(i.YoAtv("yYwqT",a(202)))return o?xm:sm;{const f=_0x3e4d62===i.KJDHT||i.qZeIl(_0x1582c6,"left");return i.LpFYj(_0x320a3b,a(173))?f?_0x541953:_0x161e9f:f?_0x4389d9:_0x5d8d94}}return o?om:fm}function vn(u,r){u=u-167;const a=R0();let i=a[u];if(vn.DNHBbx===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};vn.hOWYxw=o,vn.aQhZZI={},vn.DNHBbx=!0}const f=a[0],m=u+f,y=vn.aQhZZI[m];if(y)i=y;else{const d=function(h){this.dyesyV=h,this.qsyXhe=[1,0,0],this.gWcOBZ=function(){return"newState"},this.yZsXmx="\\w+ *\\(\\) *{\\w+ *",this.NbRnTz=`['|"].+['|"];? *}`};d.prototype.rwVcFA=function(){const h=new RegExp(this.yZsXmx+this.NbRnTz),g=h.test(this.gWcOBZ.toString())?--this.qsyXhe[1]:--this.qsyXhe[0];return this.wCOGMg(g)},d.prototype.wCOGMg=function(h){return~h?this.DBAmjX(this.dyesyV):h},d.prototype.DBAmjX=function(h){for(let g=0,v=this.qsyXhe.length;g<v;g++)this.qsyXhe.push(Math.round(Math.random())),v=this.qsyXhe.length;return h(this.qsyXhe[0])},new d(vn).rwVcFA(),i=vn.hOWYxw(i),vn.aQhZZI[m]=i}return i}function vm(u,r){const a=xe,i={WpYMm:function(f,m){return f===m},ZPWyC:"right",ZViBT:function(f,m){return f===m},uTVFM:a(284),BxpBc:function(f,m){return f===m}},o=i.WpYMm(r,i[a(220)])||i.ZViBT(r,i[a(176)]);return u==="adult"?i.BxpBc(a(215),"EZdFZ")?o?dm:hm:_0x4d4249?_0x32be6f:_0x3d5641:o?mm:bm}function R0(){const u=["qYa2nsa4msWGnJyGodmSidy2idG1","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTndqGnIWGltiWidaSidaGma","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","nZa4mKDpCuLSuG","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYa1nsaXmcWGnJaGmJiSidyZidm2","vMTnyKe","qYa2nIa4nIWGnJiGodGSidu4idKW","renzCxy","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","5BEM5zcr44gn","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","Dg9tDhjPBMC","wgn5tMW","l3rZDw1HBwKV","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","ohHPDhHtvq","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","D2LKDgG","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","kcGOlISPkYKRksSK","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","C0j4C04","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","rvPKrLO","qYa0oca3ncWGmJaGnJqSic04idu4","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","wLbxEum","qYa3mIa2osWGnJKGnZiSidy2idC2","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaTnJGGotySic03mca4ncWGlty2idC0","qYa3mcaXmdySidCWideWocWGnZmGmteW","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaYmcaWlca0nca2lca1ocaYma","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","tsaTndaGmtm0","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","tcaTmtaWidi0ma","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","C2LKzq","qYaYocaXotGSidm0idiXmIWGndGGmJi4","5y+Z5zcr44gn","qYa2nca3ocWGnJyGodySidy2idK0","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa0oca5mcWGntaGmta0lca0ocaXmty","nte4nZa2qwjXwhjL","tcaTmZyGmJGW","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","mtqWnJrbA2nvrKy","C2vHCMnO","zuXkCum","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYa3oca5mYWGodiGotySidGZidK5","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","ndHcte92BeS","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","mJu5odDRvNLPwvq","AgvPz2H0","y29UC3rYDwn0B3i","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","D1rQzvy","qYaTmJiGnIWGlteWideSidaGma","tcaTmti1idi4ma","q3bRrM0","AM9PBG","qYaTndiGnJiSic00mca1mcWGltqYidm4","v1LLzgS","yMfJAW","mtG3ode1nuL0zwHPza","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","mZiWnti3BxLys1j4","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","CMLNAhq","mteWywnOwMXu","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tw11ywe","mtq1mdm3ovbJC0XHva","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa1nYa5msWGntCGotmSidu5idK1","qYa4mIa3ncWGodmGodySidGYidK4","BgvMDa","uvjIwg4","qYa3oca1mIWGnZCGnJaSidC0idy2","qYa1nYa3msWGntKGnZuSidyZidC5","qYaTncaTmsWGlteGlteSidaGma","tsaTndyGmJy","tsaWida","ywr1Bhq","qYaXncaTncWGmZyGltqSidq4idq","qYaXnsaTmIWGmZGGltuSidu1idu","DvrwrK0","qYaXocaXlca0mcaXmcWGntiGmJy","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","nZi4nJaWuKHMv0fw","qYaTnZGGndaSic03oca1ncWGltCYidyY","mJu1tLvSt1rL","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","mtHkBLb2vg0"];return R0=function(){return u},R0()}const ym={right:xe(203)+"stencils/adult_right.png",left:"/tsumami/stencils/adult_left.png",back:"/tsumami/stencils/adult_back.png"},pm={right:xe(203)+"stencils/child_right.png",left:"/tsumami/stencils/child_left.png",back:xe(203)+"stencils/child_back.png"},_m={adult:ym,child:pm};function Sm(u,r){const a=xe,i={CpkFm:function(y,d){return y===d},sBxsN:"right",jEUmc:function(y,d){return y===d},DCYqv:"left",ZqzHU:"back"},o=i.CpkFm(r,i[a(213)])||i.jEUmc(r,i[a(196)])?"side":i.ZqzHU,f=Wd[u][o],m=_m[u]?.[r]??null;return{path:gm(u,r),hairPath:vm(u,r),scaleX:i[a(263)](r,i[a(196)])?-1:1,imageUrl:m,imageWidthMm:f[a(208)],imageHeightMm:f[a(257)]}}function k0(){const u=["wMfds2u","yvPyAg8","v3Dsse8","Aw5PDgLHBfbHBG","qvfrwLO","Aw5PDgLHBenLBNrLCG","yML2vNa","EfvlChO","C3bSAxq","mtiZotm2nLjpruTMAq","v3fqDfy","uxbfy20","AgvPz2H0","D3zsANO","ywrKrxzLBNrmAxn0zw5LCG","ywHJD2G","shzqvvi","vxHfuKe","BgvUz3rO","kcGOlISPkYKRksSK","rg1OAvy","ExbZEe8","zgvSDgfz","BgvMDa","nurXt3jXqW","rKfzqNa","AeLwt0K","we9cEMW","z0jmshi","EM9VBuXLDMvS","DNDcvgK","y3vYCMvUDa","mte2mfvfyLzZCW","DunwBvi","vKjxAMq","mtiWDLL2shLs","Ae9XDwO","C2vHCMnO","D2LKDgG","s2nozuO","y2XPzw50wa","Aw5PDgLHBfPVB20","wgj0uMS","mtKYufjPDwnf","teHOChi","s2vMvvO","sMjtsui","qKvnyNO","tuvuqMG","wK56DgS","rxDzBu0","CLvpCMy","mtbUv1bMqwy","AK9vsha","txrpwLO","vg11rwW","EwLKuM4","y2XPzw50wq","z2v0qM91BMrPBMDdBgLLBNrszwn0","zNfPBNO","AxzWr2i","s2PdwwW","mtbtA3Dsy2q","Dg9tDhjPBMC","mta3mtfus3LSEe4","nJC5rvnpvvzP","ndq2nJK5mgvwwxLTCq","AhLWB3q","Aw5PDgLHBerPC3q","Dg91y2HLCW","q1ztA3G","Dg91y2HZDgfYDa","EMTwDNa","rMvxCgC","runZA2q","tNLjBwe","nhWXFdj8m3WW","yNjrsfG","ChjLDMvUDerLzMf1Bhq","zxHW","mJy2mtC1uhfOvK1H","ntiYneHfD0zrDG","CMvTB3zLrxzLBNrmAxn0zw5LCG","uuj2rvG","CuHizMS","Ahfxt2S","wwPerwO","Dg9W","EM9VBq","mte0mdC2m1Psq0nHEa","mNW0Fdn8mxWW","Bwf4","y29UC3rYDwn0B3i"];return k0=function(){return u},k0()}(function(u,r){const a=kt,i=u();for(;;)try{if(parseInt(a(361))/1*(parseInt(a(349))/2)+parseInt(a(340))/3*(-parseInt(a(378))/4)+parseInt(a(414))/5*(-parseInt(a(399))/6)+-parseInt(a(362))/7*(-parseInt(a(422))/8)+parseInt(a(377))/9*(parseInt(a(359))/10)+-parseInt(a(363))/11+parseInt(a(332))/12*(parseInt(a(386))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,278470);const Cm=(function(){const u=kt,r={sWxar:function(i,o,f,m){return i(o,f,m)},WwRHO:function(i,o){return i-o},ypsxO:function(i,o){return i(o)},ZaCKe:function(i,o,f,m,y,d,h,g){return i(o,f,m,y,d,h,g)},LHhpr:u(409),lXXxu:function(i,o){return i+o},gELap:function(i,o){return i-o},CVSkx:function(i,o){return i/o},sGWSE:u(382)};let a=!0;return function(i,o){const f=u,m={JBYyH:r[f(341)],fXsLF:function(y,d){return y+d},XbtRk:function(y,d){return r[f(392)](y,d)},Lvcun:function(y,d){return r.lXXxu(y,d)},WqPtV:function(y,d){return y!==d},FAYBp:function(y,d){return r.gELap(y,d)},TqQMy:function(y,d){return y-d},krdDT:function(y,d){return r[f(367)](y,d)},hOquj:function(y,d){return y*d},KcNeJ:r.sGWSE,DedpR:"qjpkW"};if(f(420)!=="ZXtGa"){const y=a?function(){const d=f,h={acOTd:function(g,v){return g/v},iReFq:function(g,v){return g/v},CZJAi:function(g,v){return m.fXsLF(g,v)},zkVvp:function(g,v){return m[kt(339)](g,v)},DZcRc:function(g,v,z,b){return g(v,z,b)},uCVmR:function(g,v){return g(v)},gHHdG:function(g,v){return m.XbtRk(g,v)},eGiCO:function(g,v){return m.Lvcun(g,v)},MtOZZ:function(g,v){return m[kt(400)](g,v)},METBh:function(g,v){return m[kt(415)](g,v)},ECskd:function(g,v){return g/v},naGGC:function(g,v){return g*v},ceHpo:function(g,v){return m.TqQMy(g,v)},rUOrf:function(g,v){return m.krdDT(g,v)},VBWjd:function(g,v){return g+v},qHHfk:function(g,v){return m[kt(333)](g,v)},XOBzl:function(g,v){return g(v)}};if(m.WqPtV(d(382),m[d(336)])){_0x5d37c1[d(375)]();const g=_0x5ab779.touches[0],v=_0x2092d0.touches[1],z=h.acOTd(g[d(337)]+v.clientX,2),b=h.iReFq(h.CZJAi(g[d(354)],v[d(354)]),2),D=_0x123564.hypot(h[d(369)](v[d(337)],g[d(337)]),v[d(354)]-g.clientY),w=_0x56c3b5[d(421)],S=h.iReFq(D,_0x8d2a3.max(1,w.initialDist)),T=h.DZcRc(_0x2df579,h.uCVmR(_0x5f4532,(w[d(338)]*S).toFixed(3)),_0x2b4c72[0],_0x2b6d1c[h.zkVvp(_0x5498a8.length,1)]),G=w[d(338)],L=z-w.initialCenter.x,q=h.gHHdG(b,w.initialCenter.y);let O=h.eGiCO(w[d(393)].x,L),V=w.initialPan.y+q;const Z=_0x144a34.current;if(Z&&h[d(351)](G,T)){const F=Z[d(355)](),Q=h.iReFq(w.initialCenter.x-F.left,F.width),W=h[d(345)](w[d(395)].y,F[d(384)])/F[d(402)],_=h[d(371)](F.width,F.height),C=_0x1c8d9b,A=C*_,M=h.naGGC(h.ceHpo(h[d(348)](T,G),1),h[d(331)](-w.initialPan.x,Q*A)),j=(T/G-1)*(-w[d(393)].y+h[d(381)](W,C));O-=M,V-=j}const J={x:O,y:V};_0x1676d3[d(421)]=T,_0x24ae07[d(421)]=J,h[d(417)](_0x58e077,J),h[d(330)](_0x262f1a,T)}else if(o){if(m.DedpR!=="qjpkW")return _0x10f4c6[d(360)]().search("(((.+)+)+)+$")[d(360)]()[d(389)](_0x1516d3).search(m.JBYyH);{const g=o.apply(i,arguments);return o=null,g}}}:function(){};return a=!1,y}else{const y=_0x2486ef.current,d=r.sWxar(_0xd24e8,y+_0xd87fea,0,r[f(392)](_0x3ccfe2[f(408)],1));if(d===y)return;const h=_0x49cffa.current,g=_0x32d046[d],v=_0x3a7b8a[f(421)];if(!v){r[f(411)](_0x56adc7,d);return}const z=v[f(355)](),b=z.width/z[f(402)],D=_0x687e26,w=D*b,S=r[f(390)](_0x661e59,.5,.5,h,g,w,D,_0x3fce13[f(421)]);_0x83d24b.current=g,_0x327cfe.current=d,_0x250538.current=S,_0x47af69(d),_0x5de13b(S)}}})(),wx=Cm(void 0,function(){const u=kt;return wx.toString().search(u(409)).toString()[u(389)](wx)[u(334)]("(((.+)+)+)+$")});wx();const cx=520;function Od(u,r,a,i,o,f,m){const y=kt,d={ZNztk:function(g,v){return g-v},EwYmM:function(g,v){return g*v}},h=i/a-1;return{x:d[y(346)](m.x,d[y(347)](h,-m.x+d.EwYmM(u,o))),y:m.y-h*(-m.y+r*f)}}function kt(u,r){u=u-330;const a=k0();let i=a[u];if(kt.sQELry===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};kt.SSucEN=o,kt.MZbgpL={},kt.sQELry=!0}const f=a[0],m=u+f,y=kt.MZbgpL[m];if(y)i=y;else{const d=function(h){this.FdcQra=h,this.wDuaCp=[1,0,0],this.mNmpLS=function(){return"newState"},this.njMDOM="\\w+ *\\(\\) *{\\w+ *",this.QqgBZX=`['|"].+['|"];? *}`};d.prototype.fVAtpV=function(){const h=new RegExp(this.njMDOM+this.QqgBZX),g=h.test(this.mNmpLS.toString())?--this.wDuaCp[1]:--this.wDuaCp[0];return this.dlrqqA(g)},d.prototype.dlrqqA=function(h){return~h?this.EOkyaD(this.FdcQra):h},d.prototype.EOkyaD=function(h){for(let g=0,v=this.wDuaCp.length;g<v;g++)this.wDuaCp.push(Math.round(Math.random())),v=this.wDuaCp.length;return h(this.wDuaCp[0])},new d(kt).fVAtpV(),i=kt.SSucEN(i),kt.MZbgpL[m]=i}return i}function wm(u){const r=kt,a={BEMbz:function(A,M){return A(M)},jOUHp:function(A,M){return A===M},KjCYl:function(A,M){return A!==M},lsYJn:r(407),JIYsv:function(A){return A()},AXETp:function(A){return A()},DmhiV:function(A,M){return A+M},wvRjz:function(A,M){return A/M},tPTfx:function(A,M){return A-M},GVVAe:function(A,M){return A/M},vYaDM:function(A,M,j,B){return A(M,j,B)},yidRn:function(A,M){return A-M},RwkSj:"tCXiB",QHlpd:function(A,M){return A-M},uCFry:function(A,M){return A/M},HvPUR:function(A,M){return A*M},GFmGL:function(A,M){return A*M},xUKpz:function(A,M){return A*M},FeWpg:function(A,M){return A-M},ExKOi:function(A,M){return A*M},QBvEX:function(A,M){return A(M)},gyhCz:"JSKKW",aZXho:function(A,M){return A<M},TmuEl:function(A,M){return A/M},NyIma:"touchmove",VjFuI:"wheel",ivpGb:function(A,M){return A+M},PPueP:function(A,M,j,B,I,H,k,N){return A(M,j,B,I,H,k,N)},xwJgk:r(373),NIohb:function(A,M){return A(M)},bivVp:function(A,M){return A!==M},AQQZZ:r(401),KefUZ:function(A,M){return A(M)},EuKev:function(A,M){return A(M)},JbSIB:function(A,M,j){return A(M,j)},GclJh:function(A,M,j){return A(M,j)},hIVOI:function(A,M,j){return A(M,j)},ahcwh:function(A,M,j){return A(M,j)},YjDEj:function(A,M,j){return A(M,j)},gBLHr:function(A,M,j){return A(M,j)},brQHX:function(A,M,j){return A(M,j)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:y,endPan:d,endFlowerDrag:h,endMarquee:g,endRotationDrag:v,endScaleDrag:z,endWidthScaleDrag:b,endRadiusDrag:D}=u,w=a.NIohb($.useRef,null),S=a[r(342)]($.useRef,u.pan),T=a.EuKev($.useRef,u[r(385)]);a[r(343)]($.useEffect,()=>{const A=r;S[A(421)]=u.pan},[u.pan]),a.GclJh($.useEffect,()=>{T.current=u.zoom},[u[r(385)]]);const G=a[r(342)]($.useRef,u.zoomLevel);a.hIVOI($.useEffect,()=>{const A=r;G[A(421)]=u[A(419)]},[u[r(419)]]);const L=a[r(344)]($.useRef,null),q=$.useRef(null),O=$.useCallback(A=>{const M=r;if(a.jOUHp(A[M(366)][M(408)],2))if(a[M(358)](M(356),a.lsYJn)){A[M(375)](),d(),h(),g(),v(),a.JIYsv(z),a.JIYsv(b),a.AXETp(D),L[M(421)]=null,q.current=null;const j=A[M(366)][0],B=A[M(366)][1],I=(j[M(337)]+B[M(337)])/2,H=a[M(410)](j.clientY,B[M(354)])/2,k=Math[M(364)](B[M(337)]-j[M(337)],B[M(354)]-j.clientY);w.current={initialCenter:{x:I,y:H},initialDist:k,initialPan:{...S.current},initialZoom:T[M(421)]}}else{const j=M(387).split("|");let B=0;for(;;){switch(j[B++]){case"0":a[M(344)](_0x446ff3,{x:0,y:0});continue;case"1":a[M(344)](_0x54587d,_0x5efb3e);continue;case"2":_0x284bad[M(421)]=_0x162801;continue;case"3":_0x59ed5a[M(421)]={x:0,y:0};continue;case"4":_0x5863e3.current=_0xae87ac;continue}break}}},[d,h,g,v,z,b,D]),V=$.useCallback(A=>{const M=r;if(a.jOUHp(A[M(366)].length,2)&&w.current){A[M(375)]();const j=A[M(366)][0],B=A[M(366)][1],I=(j.clientX+B.clientX)/2,H=a[M(403)](j[M(354)]+B[M(354)],2),k=Math[M(364)](B[M(337)]-j[M(337)],a.tPTfx(B[M(354)],j.clientY)),N=w.current,R=a.GVVAe(k,Math[M(388)](1,N[M(365)])),Y=a.vYaDM(_e,Number((N.initialZoom*R).toFixed(3)),m[0],m[m.length-1]),K=N[M(338)],le=I-N[M(395)].x,se=a[M(353)](H,N.initialCenter.y);let fe=N[M(393)].x+le,oe=a[M(410)](N.initialPan.y,se);const ge=y[M(421)];if(ge&&a[M(358)](K,Y))if(a[M(358)]("tCXiB",a.RwkSj)){_0x133aff(_0x598875);return}else{const he=ge.getBoundingClientRect(),Re=a.QHlpd(N[M(395)].x,he[M(413)])/he.width,et=a.wvRjz(N[M(395)].y-he[M(384)],he[M(402)]),it=a.uCFry(he[M(335)],he.height),$e=cx,zt=a[M(406)]($e,it),Et=a.GFmGL(a.tPTfx(Y/K,1),-N[M(393)].x+Re*zt),Ct=a[M(397)](a[M(370)](Y/K,1),-N[M(393)].y+a.ExKOi(et,$e));fe-=Et,oe-=Ct}const je={x:fe,y:oe};T[M(421)]=Y,S.current=je,a[M(380)](o,je),i(Y)}},[o,i,y,m]),Z=a[r(416)]($.useCallback,A=>{const M=r;a[M(350)](a.gyhCz,"sleiX")?_0x298b11.current=_0x362a7e.zoomLevel:a[M(391)](A.touches[M(408)],2)&&(w[M(421)]=null)},[]),J=.003,F=a.GclJh($.useCallback,A=>{const M=r;A[M(375)]();const j=y.current;if(!j)return;const B=T.current,I=a.GFmGL(B,Math[M(376)](-A[M(412)]*J)),H=_e(I,m[0],m[m.length-1]);if(a[M(391)](Math.abs(a.tPTfx(H,B)),1e-6))return;const k=j[M(355)](),N=a[M(352)](A.clientX-k[M(413)],k[M(335)]),R=(A[M(354)]-k[M(384)])/k.height,Y=a[M(352)](k[M(335)],k.height),K=cx,le=K*Y,se=Od(N,R,B,H,le,K,S.current);T[M(421)]=H,S.current=se,a.BEMbz(i,H),o(se)},[i,o,y,m]);a[r(405)]($.useEffect,()=>{const A=r,M={YNwpM:a[A(372)]},j=y[A(421)];if(j)return j[A(404)](A(368),O,{passive:!1}),j.addEventListener(a.NyIma,V,{passive:!1}),j.addEventListener("touchend",Z),j[A(404)](a.VjFuI,F,{passive:!1}),()=>{const B=A;j.removeEventListener("touchstart",O),j.removeEventListener(M.YNwpM,V),j[B(379)]("touchend",Z),j[B(379)]("wheel",F)}},[y,O,V,Z,F]);const Q=a[r(383)]($.useCallback,A=>{const M=r,j=G[M(421)],B=_e(a[M(357)](j,A),0,m[M(408)]-1);if(B===j)return;const I=T[M(421)],H=m[B],k=y.current;if(!k){f(B);return}const N=k.getBoundingClientRect(),R=N.width/N[M(402)],Y=cx,K=Y*R,le=a.PPueP(Od,.5,.5,I,H,K,Y,S.current);T[M(421)]=H,G.current=B,S[M(421)]=le,f(B),a[M(380)](o,le)},[f,o,y,m]),W=$.useCallback((A,M)=>{const j=r,B=a.xwJgk[j(398)]("|");let I=0;for(;;){switch(B[I++]){case"0":a.QBvEX(o,{x:0,y:0});continue;case"1":T.current=M;continue;case"2":S.current={x:0,y:0};continue;case"3":a.NIohb(f,A);continue;case"4":G[j(421)]=A;continue}break}},[f,o]),_=a[r(418)]($.useCallback,A=>{const M=r;a[M(396)](a[M(394)],a[M(394)])?_0x32d9f7.touches.length<2&&(_0x1694c[M(421)]=null):L[M(421)]=A},[]),C=a[r(374)]($.useCallback,A=>{q.current=A},[]);return{multiTouchRef:w,touchBgStartRef:L,mouseBgStartRef:q,zoomAtCenter:Q,resetView:W,setTouchBgStart:_,setMouseBgStart:C}}function Fa(u,r){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),i=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return u;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function jm(u){const{flower:r,project:a,paletteMap:i}=u,o=$.useRef(null),f=$.useRef(!1),m=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const y=$.useMemo(()=>[...r.layers||[]].sort((G,L)=>G.order-L.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:g}=It(d),{flowerOuterR:v,centerHitR:z}=$.useMemo(()=>{let G=12,L=1/0;for(const O of y){if(!O.visible)continue;const V=O.scale??1,Z=h*V,F=Math.max(0,O.radius-Z*.28),Q=F+Z;G=Math.max(G,Q),F<L&&(L=F)}isFinite(L)||(L=0);const q=Math.max(L*.9,8);return{flowerOuterR:G,centerHitR:q}},[y,h]),b=(G,L)=>G?.petalOverrides?.find(q=>q.index===L)??null,D="pointer",w=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,S=u.zoneCursorValue??"grab",T=G=>{if(G.stopPropagation(),G.button===0){if(G.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(G)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:G=>{G.stopPropagation(),u.onDoubleClick?.()},style:{cursor:w?S:nr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,v),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(G=>{if(!G.visible)return null;const q=i.get(G.colorId)?.hex??"#999",O=360/Math.max(1,G.petalCount),V=G.scale??1,Z=h*V,F=g*(G.widthScale??1)*V,W=Math.max(0,G.radius-Z*.28),_=ox(""),C=ox(""),A=W+Z,M=u.isSelected&&u.selectedLayerId===G.id,j=u.isSelected&&(u.selectedPetal?.layerId===G.id||(u.selectedPetals?.some(B=>B.layerId===G.id)??!1));return x.jsxs("g",{children:[Array.from({length:G.petalCount}).map((B,I)=>{const H=b(G,I),N=(H?.petalType??G.petalType)===""?_:C,R=i.get(H?.colorId??G.colorId)?.hex??q,Y=G.offsetAngle+I*O,K=da(Y),le=Math.cos(K)*W,se=Math.sin(K)*W,fe=u.isSelected&&u.selectedPetal?.layerId===G.id&&u.selectedPetal?.index===I,oe=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===G.id&&he.index===I)??!1),ge=fe||oe,je=w?S:nr("/tsumami/");return x.jsxs("g",{transform:`translate(${le} ${se}) rotate(${Y})`,children:[x.jsx("path",{d:N,transform:`scale(${Z} ${F})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,style:{cursor:je},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Re=he.shiftKey,et=he.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Re&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(G.id,I,!0);return}if(et&&u.onTogglePetalSelection){m.current={x:he.clientX,y:he.clientY};const Et=G.id,Ct=I;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(Et,Ct,!0),navigator.vibrate?.(30)},500)}const it=u.isSelected&&u.selectedLayerId!=null,$e=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||it||$e){u.onBeginDragFromLayerPetal(G.id,I,he);return}u.onBeginDragFromLayerPetal(G.id,I,he)},onPointerMove:he=>{if(o.current&&m.current){const Re=he.clientX-m.current.x,et=he.clientY-m.current.y;Math.hypot(Re,et)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(G.id)}}),G.doublePetal&&(()=>{const he=G.doublePetal,Re=H?.innerSizeReduction??he.innerSizeReduction??2,et=d*(V||1);if(et<=0)return null;const $e=Math.max(et*.3,et-Re)/et,zt=N,Et=H?.innerColorId??he.innerColorId??H?.colorId??G.colorId,Ct=i.get(Et)?.hex??R,mt=Z*$e,Kt=F*$e;return x.jsx("path",{d:zt,transform:`scale(${mt} ${Kt})`,fill:Ct,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:G.locked?.55:.95,pointerEvents:"none"})})(),(ge||M||u.isFlowerSelected)&&x.jsx("path",{d:N,transform:`scale(${Z} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${G.id}-${I}`)]},I)}),M&&!j&&x.jsx("circle",{r:A,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},G.id)}),u.isFlowerSelected&&x.jsx("circle",{r:v,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const G=r.center,L=Eh(G.size),q=i.get(G.color)?.hex??"#D4A843",O=G.color2?i.get(G.color2)?.hex??"#C0C0C0":"#D4A843",V=Math.max(L,z);switch(G.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:L,fill:q,stroke:Fa(q,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:T})]});case"":{const J=L*.42,F=L,Q=L*.12,W=L*.13,_=L*.45,C=O,A=q;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,j)=>{const B=j/10*360,I=da(B),H=Math.cos(I)*F,k=Math.sin(I)*F,N=-Math.sin(I)*Q,R=Math.cos(I)*Q,Y=Math.cos(I)*J,K=Math.sin(I)*J;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Y+N).toFixed(2)} ${(K+R).toFixed(2)} L ${H.toFixed(2)} ${k.toFixed(2)} L ${(Y-N).toFixed(2)} ${(K-R).toFixed(2)} Z`,fill:C,stroke:Fa(C,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:H,cy:k,r:W,fill:C,stroke:Fa(C,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),x.jsx("circle",{r:J,fill:C,stroke:Fa(C,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:_,fill:A,stroke:Fa(A,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}case"":{const Z=G.pepCount??12,J=L*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:Z}).map((F,Q)=>{const W=Q/Z*360,_=da(W),C=Math.cos(_)*L,A=Math.sin(_)*L;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:C,y2:A,stroke:q,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:C,cy:A,r:Math.max(J,1),fill:q,stroke:Fa(q,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:z,fill:"transparent",style:{cursor:D},onPointerDown:T})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:z,fill:"transparent",style:{cursor:D},onPointerDown:T})]}),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,v+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Mm(u){const{leaf:r,project:a,paletteMap:i}=u,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=It(o),y=r.scale??1,d=f*y,h=m*(r.widthScale??1)*y,g=ox(r.petalType),v=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":u.cursor??nr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:z=>{if(z.stopPropagation(),z.button===0&&!r.locked){if(z.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(z)}},children:[x.jsx("path",{d:g,transform:`scale(${d} ${h})`,fill:v,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const z=r.doublePetal,b=z.innerSizeReduction??2,D=o*(y||1);if(D<=0)return null;const S=Math.max(D*.3,D-b)/D,T=z.innerColorId??r.colorId,G=i.get(T)?.hex??v,L=d*S,q=h*S;return x.jsx("path",{d:g,transform:`scale(${L} ${q})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&x.jsx("path",{d:g,transform:`scale(${d} ${h})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${r.id}`)]})}const O0=1350;function zm(u){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:y,onSelectStencil:d}=u,h=$.useRef(null);$.useEffect(()=>()=>{h.current?.()},[]);const g=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(v=>{const z=Sm(v.variant,v.pose),b=a===v.id,D=cn,w=z.imageUrl?1:z.scaleX,S=g||!!v.locked;return x.jsx("g",{transform:`translate(${v.position.x} ${v.position.y}) scale(${D*w} ${D})`,style:{cursor:g?"default":v.locked?"pointer":nm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${v.id}`,onPointerDown:T=>{if(T.button!==0)return;if(S){d(v.id);return}if(T.stopPropagation(),d(v.id),!o.current)return;y.current=!0,o.current&&(o.current.style.cursor=lm("/tsumami/"));const L=m.current(T),q={...v.position},O=v.id;let V=q.x,Z=q.y;const J=Q=>{const W=m.current(Q),_=W.x-L.x,C=W.y-L.y;V=_e(q.x+_,0,O0),Z=_e(q.y+C,0,O0),f.current(A=>{const M=(A.stencils??[]).find(j=>j.id===O);M&&(M.position.x=V,M.position.y=Z)},!1)},F=()=>{y.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F),h.current=null,f.current(Q=>{const W=(Q.stencils??[]).find(_=>_.id===O);W&&(W.position.x=V,W.position.y=Z)},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",F),h.current=()=>{y.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",F)}},children:z.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:z.imageUrl,x:-z.imageWidthMm/2,y:0,width:z.imageWidthMm,height:z.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-z.imageWidthMm/2,y:0,width:z.imageWidthMm,height:z.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:z.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:z.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:z.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},v.id)})})}function Dm(u){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:y,stageRef:d,multiTouchRef:h,clientToSvgPoint:g,togglePetalSelection:v,handleShiftFlowerSelect:z,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:w,beginRotationDrag:S,beginWidthScaleDrag:T,beginRadiusDrag:G,clickOriginRef:L,zoneActivatedRef:q,setZoneCursorValue:O,setTouchZoneIndicator:V,hoverZoneRef:Z,hoverHitLayerIdRef:J,hoverHitPetalIndexRef:F}=u;return x.jsx(x.Fragment,{children:r.flowers.map(Q=>x.jsx(jm,{flower:Q,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const W=fa(r,Q.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:W.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:W=>i({kind:"layer",flowerId:Q.id,layerId:W}),onSelectPetal:(W,_)=>i({kind:"petal",flowerId:Q.id,layerId:W,index:_}),onTogglePetalSelection:(W,_,C)=>v(Q.id,W,_,C),onShiftSelect:()=>z(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(W,_,C)=>{if(h.current)return;const A=fa(r,Q.id);if(A&&!(a.kind==="group"&&a.groupId===A.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&A.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:A.id}),D(Q.id,C);return}const M=g(C),j=C.pointerType==="touch",B=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(j&&B){const{zone:H,layerId:k,petalIndex:N}=$a(M.x,M.y,Q,r,a),{length:R}=It(Q.fabricSquareSize??r.fabricSquareSize),Y=S0(H,a.kind,{hitLayerId:k,flower:Q,length:R});if(Y!=="none"&&Y!=="center"&&Y!=="move"){V({x:M.x,y:M.y,zone:Y});const K=a.kind==="layer"?"layer":"flower",le=a.kind==="layer"?a.layerId:W;switch(Y){case"rotate":S(K,Q.id,C,{layerId:le});return;case"scale":w(K,Q.id,C,{layerId:le});return;case"width":T(K,Q.id,C,{layerId:le,petalIndex:N});return;case"radius":G(K,Q.id,C,{layerId:le});return}}D(Q.id,C,{layerId:W,index:_});return}const I=q.current;if(L.current={x:M.x,y:M.y},q.current=!1,B&&I){const H=Z.current,k=J.current,N=F.current,R=a.kind==="layer"?"layer":"flower",Y=a.kind==="layer"?a.layerId:k??W;switch(H){case"rotate":S(R,Q.id,C,{layerId:Y});return;case"scale":w(R,Q.id,C,{layerId:Y});return;case"width":T(R,Q.id,C,{layerId:Y,petalIndex:N});return;case"radius":G(R,Q.id,C,{layerId:Y});return;default:O(Hl("/tsumami/")),d.current&&(d.current.style.cursor=Hl("/tsumami/")),D(Q.id,C,{layerId:W,index:_});return}}O(Hl("/tsumami/")),d.current&&(d.current.style.cursor=Hl("/tsumami/")),D(Q.id,C,{layerId:W,index:_})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:W=>{if(h.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),z(Q.id);return}const _=fa(r,Q.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:_.id}),D(Q.id,W);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const A=g(W);L.current={x:A.x,y:A.y},q.current=!1,O(Hl("/tsumami/")),d.current&&(d.current.style.cursor=Hl("/tsumami/")),D(Q.id,W)},dashSyncToken:y},Q.id))})}function Nm(u){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:y,zoneCursorValue:d,stageRef:h,applyUpdateRef:g,clientToSvgPointRef:v,leafDraggingRef:z,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:w,onSelectLeaf:S,onShiftSelectLeaf:T,hoverLeafZoneRef:G}=u,L=$.useRef(null);$.useEffect(()=>()=>{L.current?.()},[]);const q=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:r.map(O=>{if(!O.visible)return null;const V=o.kind==="leaf"&&o.leafId===O.id,Z=o.kind==="leaves"&&o.leafIds?.includes(O.id),J=y.has(O.id),F=K0({leafGroups:a},O.id),Q=F?.rotation??0;let W=O;if(F&&Q!==0){const _=Sh({leaves:r,leafGroups:a},F.id),C=Q*Math.PI/180,A=O.position.x-_.x,M=O.position.y-_.y;W={...O,position:{x:_.x+A*Math.cos(C)-M*Math.sin(C),y:_.y+A*Math.sin(C)+M*Math.cos(C)},rotation:O.rotation+Q}}return x.jsx(Mm,{leaf:W,project:i,paletteMap:f,isSelected:V||Z,isLeafGroupHighlighted:J,dashSyncToken:m,cursor:V?d:void 0,onPointerDown:_=>{if(O.locked||q)return;_.stopPropagation();const C=v.current(_),A=V&&D.current;S(O.id),b.current={x:C.x,y:C.y},D.current=!1,w(Hl("/tsumami/")),h.current&&(h.current.style.cursor=Hl("/tsumami/"));const M=A?G.current:"move";if(M!=="move"){const j=Vd(M,"/tsumami/");w(j),h.current&&(h.current.style.cursor=j)}if(z.current=!0,M==="rotate"){const j=W.position,B=O.rotation,I=Math.atan2(C.y-j.y,C.x-j.x)*180/Math.PI;let H=!1;const k=R=>{const Y=v.current(R),le=Math.atan2(Y.y-j.y,Y.x-j.x)*180/Math.PI-I;Math.abs(le)>.5&&(H=!0),g.current(se=>{const fe=(se.leaves??[]).find(oe=>oe.id===O.id);fe&&(fe.rotation=((B+le)%360+360)%360)},!1)},N=()=>{L.current=null,z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N),H&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",N),L.current=()=>{z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N)}}else if(M==="scale"){const j=W.position,B=O.scale??1,I=Math.max(1,Math.hypot(C.x-j.x,C.y-j.y));let H=!1;const k=R=>{const Y=v.current(R),le=Math.hypot(Y.x-j.x,Y.y-j.y)/I;Math.abs(le-1)>.01&&(H=!0),g.current(se=>{const fe=(se.leaves??[]).find(oe=>oe.id===O.id);fe&&(fe.scale=_e(B*le,.3,3))},!1)},N=()=>{L.current=null,z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N),H&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",N),L.current=()=>{z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N)}}else if(M==="width"){const j=W.position,B=O.rotation*Math.PI/180,I=-Math.sin(B),H=Math.cos(B),k=O.widthScale??1,N=Math.abs((C.x-j.x)*I+(C.y-j.y)*H),R=Math.max(1,N);let Y=!1;const K=se=>{const fe=v.current(se),ge=Math.abs((fe.x-j.x)*I+(fe.y-j.y)*H)/R;Math.abs(ge-1)>.01&&(Y=!0),g.current(je=>{const he=(je.leaves??[]).find(Re=>Re.id===O.id);he&&(he.widthScale=_e(k*ge,.3,3))},!1)},le=()=>{L.current=null,z.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",le),Y&&g.current(()=>{},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",le),L.current=()=>{z.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",le)}}else{const j=C,B=Ch({leaves:r,leafGroups:a},O.id),I=new Map;for(const R of B){const Y=r.find(K=>K.id===R);Y&&I.set(R,{...Y.position})}let H=!1;const k=R=>{const Y=v.current(R),K=Y.x-j.x,le=Y.y-j.y;Math.abs(K)+Math.abs(le)>1&&(H=!0),g.current(se=>{for(const[fe,oe]of I){const ge=(se.leaves??[]).find(je=>je.id===fe);ge&&(ge.position.x=_e(oe.x+K,0,O0),ge.position.y=_e(oe.y+le,0,O0))}},!1)},N=()=>{L.current=null,z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N),H&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",N),L.current=()=>{z.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",N)}}},onShiftSelect:()=>T(O.id)},O.id)})})}function Am({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Em({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Pi=1350;function Lm(u){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:h,setPan:g,showGrid:v,setShowGrid:z,setShowHelp:b,stageRef:D,viewBox:w,dashDelay:S,dashSyncToken:T,beginPan:G,updatePan:L,endPan:q,beginMarquee:O,updateMarquee:V,endMarquee:Z,marqueeRef:J,marqueeRect:F,beginFlowerDrag:Q,updateFlowerDrag:W,endFlowerDrag:_,scaleDragRef:C,updateScaleDrag:A,endScaleDrag:M,rotationDragRef:j,updateRotationDrag:B,endRotationDrag:I,widthScaleDragRef:H,updateWidthScaleDrag:k,endWidthScaleDrag:N,radiusDragRef:R,updateRadiusDrag:Y,endRadiusDrag:K,beginScaleDrag:le,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:ge,clientToSvgPoint:je}=u,he=$.useRef(!1),Re=$.useRef(!1),et=$.useRef(u.applyUpdate),it=$.useRef(je);$.useEffect(()=>{et.current=u.applyUpdate},[u.applyUpdate]),$.useEffect(()=>{it.current=je},[je]);const[$e,zt]=$.useState(!1),Et=$.useRef(null);$.useEffect(()=>{if(!$e)return;const ue=De=>{Et.current&&!Et.current.contains(De.target)&&zt(!1)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[$e]);const[Ct,mt]=$.useState("grab"),Kt=$.useRef("none"),Tn=$.useRef("none"),Qn=$.useRef(void 0),Pn=$.useRef(void 0),He=$.useRef(null),un=$.useRef(!0),vl=5,Kl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Kl.current&&(Kl.current=a.kind,un.current=!1,He.current=null)},[a.kind]);const[Bn,ha]=$.useState(!1),qn=$.useRef(!1),[ai,Xl]=$.useState(null),Fn=5,Lt=10,Ze=wm({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:g,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:D,endPan:q,endFlowerDrag:_,endMarquee:Z,endRotationDrag:I,endScaleDrag:M,endWidthScaleDrag:N,endRadiusDrag:K});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ze.zoomAtCenter(1),disabled:y>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Ze.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>z(ue=>!ue),title:"","aria-label":"","aria-pressed":v,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Ze.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:Et,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${$e?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>zt(ue=>!ue),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),$e&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(ue=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[ue]}),["right","left","back"].map(De=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(ue,De),zt(!1)},"data-testid":`stencil-add-${ue}-${De}`,children:Pd[De]},`${ue}-${De}`))]},ue)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),zt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:v?"24px 1fr":"1fr",gridTemplateRows:v?"20px 1fr":"1fr"},children:[v&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),v&&(()=>{const[ue,,De,Oe]=w.split(/\s+/).map(Number),Ne=cn,Ce=Math.max(De,Oe)/Ne,Ge=[10,20,50,100,200,500,1e3].find(Xe=>Ce/Xe<=15)??1e3,Se=Ge<=10?1:Ge<=50?5:Ge<=100?10:Ge<=500?50:100,st=Ge<=10?5:Ge/2,rt=Math.floor(ue/Ne/Se)*Se-Se,bt=Math.ceil((ue+De)/Ne/Se)*Se+Se,ot=[];for(let Xe=rt;Xe<=bt;Xe+=Se){const Dt=(Xe*Ne-ue)/De*100;if(Dt<-2||Dt>102)continue;const Ae=Math.abs(Xe),Tt=Ae%Ge===0,gt=Ae%st===0,ct=Tt?10:gt?6:3;ot.push(x.jsx("line",{x1:`${Dt}%`,y1:20-ct,x2:`${Dt}%`,y2:20,stroke:"#999",strokeWidth:Tt?.8:.4},Xe)),Tt&&ot.push(x.jsx("text",{x:`${Dt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Xe},`t${Xe}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:ot})})(),v&&(()=>{const[,ue,De,Oe]=w.split(/\s+/).map(Number),Ne=cn,Ce=Math.max(De,Oe)/Ne,Ge=[10,20,50,100,200,500,1e3].find(Xe=>Ce/Xe<=15)??1e3,Se=Ge<=10?1:Ge<=50?5:Ge<=100?10:Ge<=500?50:100,st=Ge<=10?5:Ge/2,rt=Math.floor(ue/Ne/Se)*Se-Se,bt=Math.ceil((ue+Oe)/Ne/Se)*Se+Se,ot=[];for(let Xe=rt;Xe<=bt;Xe+=Se){const Dt=(Xe*Ne-ue)/Oe*100;if(Dt<-2||Dt>102)continue;const Ae=Math.abs(Xe),Tt=Ae%Ge===0,gt=Ae%st===0,ct=Tt?10:gt?6:3;ot.push(x.jsx("line",{x1:24-ct,y1:`${Dt}%`,x2:24,y2:`${Dt}%`,stroke:"#999",strokeWidth:Tt?.8:.4},Xe)),Tt&&ot.push(x.jsx("text",{x:12,y:`${Dt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Xe},`t${Xe}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:ot})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:w,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":S,cursor:Bn?"crosshair":"grab"},onDoubleClick:ue=>{ue.target===ue.currentTarget&&(ha(De=>!De),i({kind:"project"}))},onPointerDown:ue=>{if(Ze.multiTouchRef.current)return;if(ue.button===1){qn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(ue);return}if(ue.button!==0)return;const De=ue.pointerType==="touch";if(De&&ue.target===ue.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ne=r.flowers.find(Ce=>Ce.id===f);if(Ne){const Ce=je(ue),{zone:lt,layerId:Ge,petalIndex:Se}=$a(Ce.x,Ce.y,Ne,r,a),{length:st}=It(Ne.fabricSquareSize??r.fabricSquareSize),rt=S0(lt,a.kind,{hitLayerId:Ge,flower:Ne,length:st});if(rt!=="none"&&rt!=="center"){Xl({x:Ce.x,y:Ce.y,zone:rt});const bt=a.kind==="layer"?"layer":"flower",ot=a.kind==="layer"?a.layerId:Ge;switch(rt){case"rotate":se(bt,f,ue,{layerId:ot});return;case"scale":le(bt,f,ue,{layerId:ot});return;case"width":fe(bt,f,ue,{layerId:ot,petalIndex:Se});return;case"radius":oe(bt,f,ue,{layerId:ot});return;case"move":Q(f,ue);return}}}}Ze.setTouchBgStart({x:ue.clientX,y:ue.clientY}),G(ue);return}if(ue.target===ue.currentTarget&&f&&un.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ne=Kt.current;if(Ne!=="none"){const Ce=a.kind==="layer"?"layer":"flower",lt=a.kind==="layer"?a.layerId:Qn.current;switch(Ne){case"rotate":se(Ce,f,ue,{layerId:lt});return;case"scale":le(Ce,f,ue,{layerId:lt});return;case"width":fe(Ce,f,ue,{layerId:lt,petalIndex:Pn.current});return;case"radius":oe(Ce,f,ue,{layerId:lt});return;case"move":Q(f,ue);return}}}if(ue.target===ue.currentTarget){De?(Ze.setTouchBgStart({x:ue.clientX,y:ue.clientY}),G(ue)):Bn?O(ue):(Ze.setMouseBgStart({x:ue.clientX,y:ue.clientY}),qn.current=!0,D.current&&(D.current.style.cursor="grabbing"),G(ue));return}},onPointerMove:ue=>{if(he.current||Re.current)return;if(J.current){V(ue);return}if(j.current){B(ue);return}if(C.current){A(ue);return}if(H.current){k(ue);return}if(R.current){Y(ue);return}W(ue),L(ue);const De=!!u.dragRef?.current||!!J.current||!!j.current||!!C.current||!!H.current||!!R.current||qn.current,Oe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!De&&Oe){const Ne=r.flowers.find(Ce=>Ce.id===f);if(Ne){const Ce=je(ue);if(He.current&&!un.current){if(Math.hypot(Ce.x-He.current.x,Ce.y-He.current.y)<vl){const{zone:Xe}=$a(Ce.x,Ce.y,Ne,r,a);Xe==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}un.current=!0,He.current=null}const{zone:lt,layerId:Ge,petalIndex:Se}=$a(Ce.x,Ce.y,Ne,r,a),{length:st}=It(Ne.fabricSquareSize??r.fabricSquareSize),rt=S0(lt,a.kind,{hitLayerId:Ge,flower:Ne,length:st});Kt.current=rt,Qn.current=Ge,Pn.current=Se;const bt=kd(rt,"/tsumami/");mt(bt),D.current&&(D.current.style.cursor=bt)}}if(!De&&a.kind==="leaf"&&u.selectedLeafId){const Ne=u.leaves.find(Ce=>Ce.id===u.selectedLeafId);if(Ne){const Ce=je(ue);if(He.current&&!un.current){if(Math.hypot(Ce.x-He.current.x,Ce.y-He.current.y)<vl)return;un.current=!0,He.current=null}const lt=tm(Ce.x,Ce.y,Ne,r);Tn.current=lt;const Ge=Vd(lt,"/tsumami/");mt(Ge),D.current&&(D.current.style.cursor=Ge)}}},onPointerUp:ue=>{if(!he.current&&!Re.current){if(Xl(null),J.current&&Bn&&ha(!1),Z(),I(),M(),N(),K(),_(),q(),qn.current&&(qn.current=!1,D.current&&(D.current.style.cursor=Bn?"crosshair":"grab")),Ze.touchBgStartRef.current&&ue.pointerType==="touch"){const De=ue.clientX-Ze.touchBgStartRef.current.x,Oe=ue.clientY-Ze.touchBgStartRef.current.y;Math.hypot(De,Oe)<Lt&&i({kind:"project"}),Ze.setTouchBgStart(null);return}if(Ze.setTouchBgStart(null),Ze.mouseBgStartRef.current&&ue.pointerType==="mouse"){const De=ue.clientX-Ze.mouseBgStartRef.current.x,Oe=ue.clientY-Ze.mouseBgStartRef.current.y;if(Ze.setMouseBgStart(null),Math.hypot(De,Oe)<Fn){i({kind:"project"});return}}if(Ze.setMouseBgStart(null),f){const De=r.flowers.find(Oe=>Oe.id===f);if(De){const Oe=je(ue);if(He.current&&Math.hypot(Oe.x-He.current.x,Oe.y-He.current.y)<vl){const{zone:bt}=$a(Oe.x,Oe.y,De,r,a);bt==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Ne,layerId:Ce,petalIndex:lt}=$a(Oe.x,Oe.y,De,r,a),{length:Ge}=It(De.fabricSquareSize??r.fabricSquareSize),Se=S0(Ne,a.kind,{hitLayerId:Ce,flower:De,length:Ge});Kt.current=Se,Qn.current=Ce,Pn.current=lt;const st=kd(Se,"/tsumami/");mt(st),D.current&&(D.current.style.cursor=st)}}}},onPointerLeave:()=>{Z(),I(),M(),N(),K(),_(),q(),qn.current=!1,Ze.setTouchBgStart(null),Ze.setMouseBgStart(null),mt("grab"),He.current=null,un.current=!0,Kt.current="none",Tn.current="none",Qn.current=void 0,Pn.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[ue,De,Oe,Ne]=w.split(/\s+/).map(Number),Ce=Pi;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:ue,y:De,width:Oe,height:Ne,fill:"white"}),x.jsx("rect",{x:0,y:0,width:Ce,height:Ce,fill:"black"})]})}),x.jsx("rect",{x:ue,y:De,width:Oe,height:Ne,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Pi,height:Pi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Pi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Pi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),v&&(()=>{const ue=cn,[De,Oe,Ne,Ce]=w.split(/\s+/).map(Number),lt=Math.max(Ne,Ce)/ue,Se=[10,20,50,100,200,500,1e3].find(gt=>lt/gt<=15)??1e3,st=Math.floor(De/ue/Se)*Se-Se,rt=Math.ceil((De+Ne)/ue/Se)*Se+Se,bt=Math.floor(Oe/ue/Se)*Se-Se,ot=Math.ceil((Oe+Ce)/ue/Se)*Se+Se,Xe=bt*ue,Gn=ot*ue,Dt=st*ue,Ae=rt*ue,Tt=[];for(let gt=st;gt<=rt;gt+=Se){const ct=gt*ue;Tt.push(x.jsx("line",{x1:ct,y1:Xe,x2:ct,y2:Gn,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${gt}`))}for(let gt=bt;gt<=ot;gt+=Se){const ct=gt*ue;Tt.push(x.jsx("line",{x1:Dt,y1:ct,x2:Ae,y2:ct,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${gt}`))}return x.jsx("g",{children:Tt})})(),x.jsx(zm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:et,clientToSvgPointRef:it,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),x.jsx(Dm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Ct,dashSyncToken:T,stageRef:D,multiTouchRef:Ze.multiTouchRef,clientToSvgPoint:je,togglePetalSelection:ge,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:le,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:He,zoneActivatedRef:un,setZoneCursorValue:mt,setTouchZoneIndicator:Xl,hoverZoneRef:Kt,hoverHitLayerIdRef:Qn,hoverHitPetalIndexRef:Pn}),x.jsx(Nm,{leaves:u.leaves,leafGroups:u.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:T,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Ct,stageRef:D,applyUpdateRef:et,clientToSvgPointRef:it,leafDraggingRef:Re,clickOriginRef:He,zoneActivatedRef:un,setZoneCursorValue:mt,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:Tn}),x.jsx(Am,{rect:F}),x.jsx(Em,{indicator:ai})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Yd(u,r,a){return Math.min(a,Math.max(r,u))}function ke({value:u,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...m}){const[y,d]=$.useState(null),h=$.useRef(null),g=$.useCallback(b=>{const D=Number(b);isNaN(D)||r(Yd(D,a,i)),d(null)},[r,a,i]),v=$.useCallback(()=>{d(null)},[]),z=$.useCallback(b=>{const D=o??1,S=(Number(y??u)||0)+D*b,T=Yd(S,a,i),G=String(D).includes(".")?String(D).split(".")[1].length:0,L=Number(T.toFixed(G));d(String(L)),r(L)},[y,u,o,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(u),onChange:b=>d(b.target.value),onFocus:b=>{d(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{y!==null&&g(y)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),y!==null&&g(y),h.current?.blur()):b.key==="Escape"?(b.preventDefault(),v(),h.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),z(b.key==="ArrowUp"?1:-1))},...m}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),z(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),z(-1)},children:""})]})]})}function ir({title:u,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Tm({flower:u,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=$.useMemo(()=>{const S=[...u.layers||[]].sort((F,Q)=>F.order-Q.order);if(S.length<2)return{mode:"uniform",step:2};const T=S.map(F=>F.scale??1);if(T.every(F=>Math.abs(F-T[0])<.001))return{mode:"uniform",step:2};const L=S[0],q=S[S.length-1],O=(q.order??1)-(L.order??1);if(O<=0)return{mode:"gradual",step:2};const Z=((L.scale??1)-(q.scale??1))/O,J=Math.round(Z*r*2)/2;return{mode:"gradual",step:_e(J,0,10)}},[u.id]),[m,y]=$.useState(f.mode),[d,h]=$.useState(f.step),[g,v]=$.useState(0);$.useEffect(()=>{y(f.mode),h(f.step),v(0)},[f]);const z=$.useMemo(()=>[...u.layers||[]].sort((S,T)=>S.order-T.order),[u.layers]),b=z[0],D=b?b.order:0,w=$.useMemo(()=>{if(!b)return[];const S=b.scale??1,T=b.radius,G=new Map;for(const F of z){const Q=F.order-D;if(Q===0)G.set(F.id,S);else if(m==="uniform")G.set(F.id,S);else{const W=d/r;G.set(F.id,_e(S-Q*W,.3,3))}}const{length:L}=It(r),q=z.length,O=70*Math.PI/180,V=new Map;let Z=T;V.set(b.id,T);for(let F=1;F<q;F++){const Q=z[F-1],W=G.get(Q.id)??1,_=L*W;let C;if(a===""){const A=q-1-F,M=q>1?A/(q-1)*O:0;C=_*(30/100)*Math.cos(M)}else C=_/3;Z=Z-C,V.set(z[F].id,Math.max(2,Z))}const J=z.map(F=>{const Q=G.get(F.id)??1,W=Math.round((V.get(F.id)??T)*10)/10,_=Math.round(r*Q*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:Q,effFabricSize:_,effRadius:W}});if(J.length>0){const F=J[J.length-1],Q=L*F.effScale,W=Math.floor(Q*.28*10)/10;F.effRadius>W&&(F.effRadius=W)}return J},[z,b,D,m,d,30,r,a]);return $.useEffect(()=>{g!==0&&(!b||w.length===0||i(S=>{const T=S.flowers.find(L=>L.id===u.id);if(!T)return;for(const L of w){const q=T.layers.find(O=>O.id===L.id);q&&(q.scale=_e(L.effScale,.3,3),q.radius=_e(L.effRadius,2,120))}const G=[...T.layers].sort((L,q)=>q.order-L.order);for(let L=1;L<G.length;L++){const q=G[L-1],O=G[L];O.offsetAngle=Wn(q.petalCount,q.offsetAngle,O.petalCount)}}))},[g]),z.length<2?null:x.jsxs(ir,{title:"",children:[x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:S=>{y(S.target.value),v(T=>T+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:S=>{h(S),v(T=>T+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),w.map(S=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:S.name}),x.jsxs("span",{children:[" ",S.effFabricSize,"mm /  ",Math.round($i(S.effRadius,S.effScale,r)),"mm"]})]},S.id))]})]})}const Fd="tsumami_recent_colors_v1",Bx=10;function Bm(u){const r=new Set;for(const a of u.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function jx(){try{const u=localStorage.getItem(Fd);if(u){const r=JSON.parse(u);if(Array.isArray(r))return r.slice(0,Bx)}}catch{}return[]}function qm(u){try{localStorage.setItem(Fd,JSON.stringify(u.slice(0,Bx)))}catch{}}function Gm(u){const r=jx(),a=[u,...r.filter(i=>i!==u)].slice(0,Bx);qm(a)}function Hn({palette:u,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,m]=$.useState(!1),y=$.useRef(null),[d,h]=$.useState(jx);$.useEffect(()=>{if(!f)return;const w=S=>{y.current&&!y.current.contains(S.target)&&m(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[f]);const g=$.useMemo(()=>Bm(r),[r]),v=$.useMemo(()=>{const w=new Set;w.add(a);for(const S of g)w.add(S);for(const S of d)w.add(S);return u.filter(S=>w.has(S.id))},[u,a,g,d]),z=$.useCallback(w=>{Gm(w),h(jx()),i(w)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",D=f?u:v;return x.jsx("div",{ref:y,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(w=>x.jsx("button",{className:`${b} rounded border-2 ${a===w.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:w.hex},title:w.name,"aria-label":`: ${w.name}`,onClick:()=>z(w.id)},w.id)),u.length>v.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(w=>!w),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Rm({project:u,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(i=>{const o=a.layers.every(f=>f.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Kd.map(i=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;m.placementMode=i;const y=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=Fi(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),Th(m.layers,y,i,m.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(ke,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Fi(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(d=>d.id===a.id);if(!f)return;const m=li(i);for(const d of f.layers)d.petalCount=i,d.widthScale=m;const y=[...f.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<y.length;d++)y[d].offsetAngle=Wn(y[d-1].petalCount,y[d-1].offsetAngle,y[d].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(y=>y.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=Fi(i));const m=[...f.layers].sort((y,d)=>y.order-d.order);X0(m,f.fabricSquareSize??o.fabricSquareSize,i);for(const y of m){const d=f.layers.find(h=>h.id===y.id);d&&(d.radius=y.radius,d.scale=y.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const y=m._doublePetalCache;m.doublePetal=y??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],m=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:y=>r(d=>{const h=d.flowers.find(g=>g.id===a.id);if(h)for(const g of h.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=_e(y,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:y=>r(d=>{const h=d.flowers.find(g=>g.id===a.id);if(h)for(const g of h.layers)g.doublePetal&&(y===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=y)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Tm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function km({project:u,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const y=a,d=[...new Set(y.flatMap(v=>v.layers.map(z=>z.petalType)))],h=d.length===1?d[0]:null,g=v=>{r(z=>{for(const b of y){const D=z.flowers.find(w=>w.id===b.id);D&&v(D)}},!0)};return x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(z=>{for(const b of z.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:gl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(z=>{for(const b of z.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const z=li(v);g(b=>{for(const w of b.layers)w.petalCount=v,w.widthScale=z;const D=[...b.layers].sort((w,S)=>S.order-w.order);for(let w=1;w<D.length;w++)D[w].offsetAngle=Wn(D[w-1].petalCount,D[w-1].offsetAngle,D[w].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),(()=>{const v=y.map(S=>fa(u,S.id)),z=y.filter(S=>!fa(u,S.id)).map(S=>S.id),b=[...new Set(v.filter(Boolean).map(S=>S.id))],D=z.length===y.length,w=b.length===1&&v.every(S=>S!=null);return x.jsxs(x.Fragment,{children:[D&&y.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(y.map(S=>S.id)),children:""}),w&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&z.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],z),children:[" (+",z.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,z),children:[" (",b.length,"",z.length>0?` +${z.length}`:"",")"]})]})})()]})}function Om({project:u,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const m=i.find(v=>v.id===o);if(!m)return null;const y=a,d=[...new Set(y.flatMap(v=>v.layers.map(z=>z.petalType)))],h=d.length===1?d[0]:null,g=v=>{r(z=>{for(const b of y){const D=z.flowers.find(w=>w.id===b.id);D&&v(D)}},!0)};return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:v=>r(z=>{const b=(z.groups??[]).find(D=>D.id===m.id);b&&(b.name=v.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(z=>{for(const b of z.layers)b.colorId=v.id})},v.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:gl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(z=>{for(const b of z.layers)b.petalType=v}),children:v},v))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const z=li(v);g(b=>{for(const w of b.layers)w.petalCount=v,w.widthScale=z;const D=[...b.layers].sort((w,S)=>S.order-w.order);for(let w=1;w<D.length;w++)D[w].offsetAngle=Wn(D[w-1].petalCount,D[w-1].offsetAngle,D[w].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(v=>x.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Ym({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);if(y){y.petalCount=o,y.widthScale=li(o);const d=[...m.layers].sort((h,g)=>g.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=Wn(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:1,max:200,step:.5,value:Math.round($i(i.radius,i.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.radius=_e(Lh(o,y.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const m=f.flowers.find(v=>v.id===a.id);if(!m)return;const y=m.layers.find(v=>v.id===i.id);if(!y)return;const d=m.fabricSquareSize??f.fabricSquareSize;y.scale=_e(Math.round(o/d*100)/100,.3,3);const h=[...m.layers].sort((v,z)=>v.order-z.order),g=h.findIndex(v=>v.id===y.id);if(g>=0)for(let v=g-1;v>=0;v--){const z=h[v],b=h[v+1],w=It(d).length*(b.scale??1)/3;z.radius=Math.round((b.radius+w)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);if(y)if(o.target.checked){const d=y._doublePetalCache;y.doublePetal=d??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=_e(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y?.doublePetal&&(o===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const m=f.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.locked=o.target.checked)})}),""]})]})]})]})}function Im({project:u,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(S=>{const T=a.layers.find(G=>G.id===S.layerId);return{...S,layer:T}}).filter(S=>S.layer!=null),m=(S,T)=>{const G=a.layers.find(q=>q.id===S);return G?(G?.petalOverrides?.find(q=>q.index===T)??null)?.colorId??G.colorId:null},y=(S,T)=>{const G=a.layers.find(q=>q.id===S);return G?(G?.petalOverrides?.find(q=>q.index===T)??null)?.petalType??G.petalType:null},d=f.map(S=>m(S.layerId,S.index)),h=f.map(S=>y(S.layerId,S.index)),g=d.length>0&&d.every(S=>S===d[0]),z=h.length>0&&h.every(S=>S===h[0])?h[0]:null,b=S=>{r(T=>{const G=T.flowers.find(L=>L.id===a.id);if(G)for(const L of o){const q=G.layers.find(V=>V.id===L.layerId);if(!q)continue;q.petalOverrides||(q.petalOverrides=[]);const O=q.petalOverrides.find(V=>V.index===L.index);if(O)S.colorId!==void 0&&(S.colorId===q.colorId?delete O.colorId:O.colorId=S.colorId),S.petalType!==void 0&&(S.petalType===q.petalType?delete O.petalType:O.petalType=S.petalType),!O.colorId&&!O.petalType&&(q.petalOverrides=q.petalOverrides.filter(V=>V.index!==L.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const V={index:L.index};S.colorId!==void 0&&S.colorId!==q.colorId&&(V.colorId=S.colorId),S.petalType!==void 0&&S.petalType!==q.petalType&&(V.petalType=S.petalType),(V.colorId!==void 0||V.petalType!==void 0)&&q.petalOverrides.push(V)}}},!0)},D=()=>{r(S=>{const T=S.flowers.find(G=>G.id===a.id);if(T)for(const G of o){const L=T.layers.find(q=>q.id===G.layerId);!L||!L.petalOverrides||(L.petalOverrides=L.petalOverrides.filter(q=>q.index!==G.index),L.petalOverrides.length===0&&(L.petalOverrides=void 0))}},!0)},w=f.some(S=>S.layer?.petalOverrides?.find(T=>T.index===S.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",w&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(S=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&d[0]===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>b({colorId:S.id})},S.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${z===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:S}),children:S},S))})]}),w&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Um({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(v=>v.index===o)??null,m=f?.colorId??i.colorId,y=f?.petalType??i.petalType,d=f!=null,h=v=>{r(z=>{const b=z.flowers.find(S=>S.id===a.id);if(!b)return;const D=b.layers.find(S=>S.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const w=D.petalOverrides.find(S=>S.index===o);if(w)v.colorId!==void 0&&(w.colorId=v.colorId),v.petalType!==void 0&&(w.petalType=v.petalType),v.innerColorId!==void 0&&(w.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(w.innerSizeReduction=v.innerSizeReduction),w.colorId!==void 0||w.petalType!==void 0||w.innerColorId!==void 0||w.innerSizeReduction!==void 0?(w.colorId===void 0&&delete w.colorId,w.petalType===void 0&&delete w.petalType,w.innerColorId===void 0&&delete w.innerColorId,w.innerSizeReduction===void 0&&delete w.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(T=>T.index!==o),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const S={index:o};v.colorId!==void 0&&(S.colorId=v.colorId),v.petalType!==void 0&&(S.petalType=v.petalType),v.innerColorId!==void 0&&(S.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(S.innerSizeReduction=v.innerSizeReduction),(S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0)&&D.petalOverrides.push(S)}},!0)},g=()=>{r(v=>{const z=v.flowers.find(D=>D.id===a.id);if(!z)return;const b=z.layers.find(D=>D.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,d&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:m,onChange:v=>{v===i.colorId?h({colorId:void 0}):h({colorId:v})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{v===i.petalType?h({petalType:void 0}):h({petalType:v})},children:v},v))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:v=>r(z=>{const b=z.flowers.find(w=>w.id===a.id);if(!b)return;const D=b.layers.find(w=>w.id===i.id);if(D)if(v.target.checked){const w=D._doublePetalCache;D.doublePetal=w??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const v=i.doublePetal,z=f?.innerSizeReduction??v.innerSizeReduction,b=f?.innerColorId??v.innerColorId??m;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(ke,{min:1,max:30,step:1,value:z,onChange:D=>{const w=_e(D,1,30);w===v.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:w})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:D=>{const w=v.innerColorId??i.colorId;h(D===w?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Hm({project:u,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=m=>{r(y=>{const d=(y.stencils??[]).find(h=>h.id===o.id);d&&Object.assign(d,m)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>x.jsx("option",{value:m,children:Qd[m]},m))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>x.jsx("option",{value:m,children:Pd[m]},m))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:u,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const y=a,d=g=>{r(v=>{const z=(v.leaves??[]).find(b=>b.id===y.id);z&&g(z)},!0)},h=K0(u,y.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:g=>d(v=>{v.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(v=>{v.petalType=g}),children:g},g))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:y.colorId,onChange:g=>d(v=>{v.colorId=g})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(ke,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??u.fabricSquareSize)*(y.scale??1)*10)/10,onChange:g=>d(v=>{const z=v.fabricSquareSize??u.fabricSquareSize;v.scale=_e(Math.round(g/z*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:g=>d(v=>{v.scale=g})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(ke,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:g=>d(v=>{v.widthScale=g})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(ke,{value:Number(y.rotation).toFixed(1),onChange:g=>d(v=>{v.rotation=g})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:g=>d(v=>{if(g.target.checked){const z=v._doublePetalCache;v.doublePetal=z??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:g=>d(v=>{v.doublePetal&&(v.doublePetal.innerSizeReduction=_e(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:g=>d(v=>{v.doublePetal&&(g===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=g)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:g=>d(v=>{v.visible=g.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:g=>d(v=>{v.locked=g.target.checked})}),""]})]}),h?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(y.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(y.id,g.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(g=>x.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(y.id),children:""})]})]})}function Km({project:u,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const o=(u.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Hn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>r(m=>{for(const y of a){const d=(m.leaves??[]).find(h=>h.id===y);d&&(d.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:gl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const y of a){const d=(m.leaves??[]).find(h=>h.id===y);d&&(d.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Xm({project:u,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(u.leaves??[]).filter(m=>o.leafIds.includes(m.id));return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===o.id);d&&(d.name=m.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(ke,{value:Number(o.rotation).toFixed(1),onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===o.id);d&&(d.rotation=m)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===o.id);d&&(m.target.value?d.linkedFlowerGroupId=m.target.value:delete d.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(u.groups??[]).map(m=>x.jsx("option",{value:m.id,children:m.name},m.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>x.jsx("div",{children:m.name},m.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Jm(u){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:y,selectedPetals:d}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(g=>g.title=h.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(g=>g.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(ke,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(g=>g.baseDiameter=h),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Zl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Zl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(g=>g.notes=h.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(Rm,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(km,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Om,{project:r,applyUpdate:i,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&m&&x.jsx(Ym,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&d.length>0&&x.jsx(Im,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:d}),a.kind==="petal"&&o&&m&&y!==null&&x.jsx(Um,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m,selectedPetalIndex:y}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Hm,{project:r,applyUpdate:i,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Zm,{project:r,applyUpdate:i,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Km,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&x.jsx(Xm,{project:r,applyUpdate:i,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Vm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Zl(u.baseDiameter,u.fabricSquareSize,r).diameter:tr(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Wm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Dh(u.flowerDiameter,u.baseDiameter,r):zh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Qm({palette:u,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=d=>{a(h=>{const g={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Vm(g),g})},m=d=>{a(h=>{const g={...h,flowerDiameter:d};return g.fabricSquareSize=Wm(g),g})},y=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&y.push("");const d=Nh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&y.push(`${d}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Kd.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:d}),children:d},d))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>f({fabricSquareSize:d})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>f({layerCount:d})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>f({baseDiameter:d})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),y.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((d,h)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:gl.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>f({sizeStepMm:d})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(u,r){const a=Ot,i=u();for(;;)try{if(-parseInt(a(452))/1*(-parseInt(a(458))/2)+-parseInt(a(451))/3*(-parseInt(a(429))/4)+-parseInt(a(478))/5+parseInt(a(492))/6*(parseInt(a(471))/7)+-parseInt(a(435))/8+parseInt(a(472))/9+parseInt(a(457))/10*(-parseInt(a(432))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,481566);const Pm=(function(){const u={MjxeZ:function(a,i){return a-i},irYvA:function(a,i){return a(i)}};let r=!0;return function(a,i){const o={eixVb:function(m,y){return u[Ot(480)](m,y)},plqcH:function(m,y){return u.irYvA(m,y)}},f=r?function(){const m=Ot;if(i)if(m(481)===m(481)){const y=i.apply(a,arguments);return i=null,y}else{const y=_0x4c9ce9[m(482)].left+_0x1109cf,d=o[m(463)](100-_0x3df2ca.startWidths.right,_0x3df2f9);o.plqcH(_0x5eccbd,_0xcee62(_0x7d05fa.min(y,d),_0x52873f.startWidths.right))}}:function(){};return r=!1,f}})(),Mx=Pm(void 0,function(){const u=Ot,r={bVojb:"(((.+)+)+)+$"};return Mx.toString().search(r[u(459)]).toString()[u(466)](Mx).search("(((.+)+)+)+$")});Mx();function Y0(){const u=["B09Xr0m","uvHrEfm","wgvWCeK","yNDiuxC","CMLNAhq","mZe3mJmWu0LevePg","wwjOrNG","twP4zvO","BMPmrNu","C3rHCNrxAwr0Ahm","Bwf4","CMvTB3zLrxzLBNrmAxn0zw5LCG","ug1xvKW","vgXPCKu","y2XPzw50wa","kg1PBI13Awr0AdOGnZy4ChGP","v0zMvuu","kcGOlISPkYKRksSK","rKnyruC","mJruruL0ANa","ywrKrxzLBNrmAxn0zw5LCG","mJK1ndm2wxDgCMDI","qxjovxi","BgvMDa","ndC1ndmYmuT0yvDHyW","rfr6qNO","CM91BMq","mtGYndq4oe1qALfqCa","BNvTyMvY","yM9KEq","sK9erLG","C2LKzq","Bwf0y2HLCW","BM9Uzq","tNzUEvq","q3DkwuO","vxD6ELu","C2v0sxrLBq","BMT2ww4","C3r5Bgu","s2TUuvm","CgfYC2u","y2HHBMDL","mtvTwe1bz1i","nJqWm1vbA0XfuW","vuvZy2O","CMLRsfK","uenXweG","y3vYCMvUDa","mtbMv3vzvKu","nZrVy2D1wuu","yLzVAMi","D2LKDgG","AwTouuq","y25pv0m","zwL4vMi","BwLU","Cg9PBNrLCNvW","y29UC3rYDwn0B3i","sNLMsw0","y3vYC29Y","Cg9PBNrLCM1VDMu","Dw5KzwzPBMvK","nJuXndi3q21YzKLU","mJa0mtuWnKXrC1LlwG"];return Y0=function(){return u},Y0()}function Ot(u,r){u=u-429;const a=Y0();let i=a[u];if(Ot.VraSxm===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ot.yszzVu=o,Ot.KJspYt={},Ot.VraSxm=!0}const f=a[0],m=u+f,y=Ot.KJspYt[m];if(y)i=y;else{const d=function(h){this.cIqfnK=h,this.xmDFMc=[1,0,0],this.tHqzxq=function(){return"newState"},this.TgNDMz="\\w+ *\\(\\) *{\\w+ *",this.Adejlx=`['|"].+['|"];? *}`};d.prototype.DBgsoV=function(){const h=new RegExp(this.TgNDMz+this.Adejlx),g=h.test(this.tHqzxq.toString())?--this.xmDFMc[1]:--this.xmDFMc[0];return this.gZpvUT(g)},d.prototype.gZpvUT=function(h){return~h?this.PLWYnB(this.cIqfnK):h},d.prototype.PLWYnB=function(h){for(let g=0,v=this.xmDFMc.length;g<v;g++)this.xmDFMc.push(Math.round(Math.random())),v=this.xmDFMc.length;return h(this.xmDFMc[0])},new d(Ot).DBgsoV(),i=Ot.yszzVu(i),Ot.KJspYt[m]=i}return i}const $d="tsumami-panel-widths",e1={left:25,right:25},zx=15,Dx=15,lr=30;function Fm(){const u=Ot,r={JODFX:function(a,i){return a-i},qZbAq:function(a,i){return a-i},RQNma:function(a,i){return a(i)},OFKdR:"number",YbhFx:function(a,i){return a>=i},aLNvm:function(a,i){return a-i},eoRXJ:function(a,i){return a!==i},nkvYn:u(491)};try{const a=localStorage.getItem($d);if(a){const i=JSON.parse(a);if(typeof i[u(431)]===u(436)&&typeof i[u(477)]===r.OFKdR&&r[u(479)](i.left,zx)&&i.right>=Dx&&r.qZbAq(r.aLNvm(100,i.left),i.right)>=lr){if(r.eoRXJ("aKkMG",r[u(446)]))return i;{const o=r[u(438)](_0x2a41ff.startWidths[u(477)],_0xa60357),f=r.qZbAq(r.qZbAq(100,_0x1aad06[u(482)].left),_0x3da226);r.RQNma(_0x39cc55,_0x590c67(_0x3f8f73.startWidths.left,_0xff0ac3[u(464)](o,f)))}}}}catch{}return e1}function Id(u,r){const a=Ot,i={eFCYH:function(y,d){return y<d},bwHQw:function(y,d){return y/d}};let o=Math[a(483)](zx,u),f=Math[a(483)](Dx,r);const m=100-o-f;if(i.eFCYH(m,lr)){const y=lr-m;o-=i[a(476)](y,2),f-=i[a(476)](y,2),o=Math[a(483)](zx,o),f=Math.max(Dx,f)}return{left:Math[a(434)](o*100)/100,right:Math.round(f*100)/100}}function $m(){const u=Ot,r={ikNQD:"(min-width: 768px)",JyfIm:u(450),rikHY:u(490),bafdf:"number",NvnyT:function(D,w){return D>=w},XeppI:function(D,w){return D-w},sdhbv:function(D,w){return D===w},AsSRM:u(469),DTzBz:function(D,w){return D(w)},UEscj:function(D,w){return D-w},kdVBi:"pointerup",ArNUr:function(D,w,S){return D(w,S)},WFfUE:function(D,w,S){return D(w,S)}},[a,i]=$.useState(Fm),o=$.useRef(null),f=r[u(433)]($.useRef,null),[m,y]=$.useState(!1),[d,h]=$.useState(()=>typeof window!==u(470)?window.matchMedia(u(488)).matches:!0);r[u(430)]($.useEffect,()=>{const D=u,w=window.matchMedia(r[D(461)]),S=T=>h(T[D(440)]);return w[D(493)](r[D(467)],S),()=>w[D(484)](D(450),S)},[]),r.ArNUr($.useEffect,()=>{const D=u;localStorage[D(445)]($d,JSON.stringify(a))},[a]);const g=$.useRef(a);r[u(489)]($.useEffect,()=>{const D=u;g[D(456)]=a},[a]);const v=r[u(489)]($.useCallback,(D,w)=>{const S=u,T={oOqGC:function(G,L){return r[Ot(475)](G,L)},CwJYJ:function(G,L){return G/L},DZQhr:function(G,L){return G===L},bYwEI:function(G,L){return G+L},JnMOJ:function(G,L){return r.DTzBz(G,L)},eCseP:function(G,L){return r[Ot(453)](G,L)},jVvlH:function(G,L){return r.DTzBz(G,L)},QXQxS:S(465)};if(S(462)===S(444))return _0x80c0b7.toString().search(WlxblP[S(454)]).toString()[S(466)](_0x37c800).search("(((.+)+)+)+$");{w.preventDefault();const G=o[S(456)];if(!G)return;f[S(456)]={side:D,startX:w[S(487)],startWidths:{...g.current}},y(!0),document[S(437)].style.cursor="col-resize",document[S(437)].style.userSelect=S(441);const L=O=>{const V=S,Z=f.current;if(!Z)return;const J=G.getBoundingClientRect()[V(460)];if(J===0)return;const F=T[V(473)](O[V(487)],Z.startX),Q=T[V(443)](F,J)*100;if(T.DZQhr(Z[V(439)],V(431)))if(V(485)!=="PmWVL")_0x1ad3de.current?.();else{const W=T.bYwEI(Z.startWidths[V(431)],Q),_=T.oOqGC(100-Z.startWidths.right,lr);T.JnMOJ(i,Id(Math[V(464)](W,_),Z.startWidths[V(477)]))}else{const W=T.oOqGC(Z.startWidths.right,Q),_=T.eCseP(100-Z.startWidths[V(431)],lr);i(Id(Z.startWidths.left,Math[V(464)](W,_)))}},q=()=>{const O=S;f.current=null,T.jVvlH(y,!1),document[O(437)][O(447)].cursor="",document[O(437)][O(447)].userSelect="",window[O(484)]("pointermove",L),window.removeEventListener(T[O(474)],q)};window.addEventListener(S(469),L),window.addEventListener(r.kdVBi,q),z.current=()=>{const O=S;if(r.bafdf,r.sdhbv("HyspR",O(455))){const V=_0x42cadf[O(449)](_0x57fa6e);if(WMeYBk.zTZlt(typeof V.left,WMeYBk[O(448)])&&WMeYBk.zTZlt(typeof V[O(477)],O(436))&&WMeYBk[O(486)](V[O(431)],_0xf482a7)&&WMeYBk.DzLmL(V.right,_0x2f1982)&&WMeYBk.tczkF(WMeYBk.LYPMk(100,V[O(431)]),V.right)>=_0x26bac5)return V}else window[O(484)](r.AsSRM,L),window.removeEventListener(O(465),q),f.current=null,r[O(433)](y,!1),document.body.style[O(468)]="",document[O(437)][O(447)].userSelect=""}}},[]),z=$.useRef(null);$.useEffect(()=>()=>{z.current?.()},[]);const b=$.useCallback(()=>{i(e1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:v,onDividerDoubleClick:b,isDragging:m,isDesktop:d}}function Ud({side:u,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}function Zt(u,r){u=u-357;const a=I0();let i=a[u];if(Zt.epIbcR===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Zt.EsRqrq=o,Zt.Drfwhl={},Zt.epIbcR=!0}const f=a[0],m=u+f,y=Zt.Drfwhl[m];if(y)i=y;else{const d=function(h){this.nPhhuO=h,this.EViBGe=[1,0,0],this.DiyNTK=function(){return"newState"},this.xpsvau="\\w+ *\\(\\) *{\\w+ *",this.UrmPbF=`['|"].+['|"];? *}`};d.prototype.opnyoO=function(){const h=new RegExp(this.xpsvau+this.UrmPbF),g=h.test(this.DiyNTK.toString())?--this.EViBGe[1]:--this.EViBGe[0];return this.VjqoVi(g)},d.prototype.VjqoVi=function(h){return~h?this.AqgHZd(this.nPhhuO):h},d.prototype.AqgHZd=function(h){for(let g=0,v=this.EViBGe.length;g<v;g++)this.EViBGe.push(Math.round(Math.random())),v=this.EViBGe.length;return h(this.EViBGe[0])},new d(Zt).opnyoO(),i=Zt.EsRqrq(i),Zt.Drfwhl[m]=i}return i}(function(u,r){const a=Zt,i=u();for(;;)try{if(parseInt(a(380))/1+-parseInt(a(413))/2*(-parseInt(a(363))/3)+-parseInt(a(370))/4+parseInt(a(467))/5+parseInt(a(448))/6*(parseInt(a(436))/7)+-parseInt(a(393))/8*(-parseInt(a(437))/9)+-parseInt(a(417))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,400046);const eb=(function(){let u=!0;return function(r,a){const i=u?function(){const o=Zt;if(a){const f=a[o(456)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),Nx=eb(void 0,function(){const u=Zt,r={EOhre:u(458)};return Nx[u(430)]().search(r[u(457)]).toString()[u(470)](Nx).search(r.EOhre)});Nx();function I0(){const u=["Cgv0ywXdB3vUDa","D2Tcv2e","qu5gtK4","zMLUza","C3rLBMnPBeLK","yMfZzurPyw1LDgvY","z3jW","BgvUz3rO","wvz1yLe","wgvfzhm","wvP0Cfa","ExLnvKm","vwzWA1q","z3jVDxa","EfnjuKu","tvfWB1a","u2TwD2u","shDsBNG","mJy4ndrwueP1rhm","CM91BMq","BgvHzKDYB3vWCW","y29Z","yNrfq3G","twziDeq","C2nHBgu","mti3nJuWohfWzMPxwa","BgjkEgG","Aw5JBhvKzxm","D1D0DKu","zM9YrwfJAa","wxn4qvK","AhrmAgu","yKLnuge","tg9oyvK","Bgf5zxjZ","ntmZotu2Bxzbr3PH","CgXHy2vTzw50tw9Kzq","B3jKzxi","BwfW","CMH5ANC","BgHnsMy","DxbhENe","BgvHzKLKCW","seLsDe8","rMfpzei","C3rLBMnPBhm","zMXVD2vYswrZ","Bgf5zxjjza","nZy4mdCYDhvbBxPt","C2XPy2u","BKnduw8","tgXuAvK","EMzUEMe","B2zMC2v0qw5NBgu","q2zmtu0","CMv2zxjZzq","A2LUza","t3v0zxiR","sefrv1O","CMfKAxvZ","DwHxEKq","ChjVAMvJDa","tvHPvg8","wxr2wLi","C29Tzq","5lI444gK44g+44g/","z3jVDxbZ","s3rOr3e","ohzXwNboqG","rfrAvwq","rgrwAKu","ANz2uMu","mta0ntu0ndb0Dwz2qKu","z3jVDxbjza","BgvHDMvZ","v1LluLK","zMXVD2vYswq","wMXdwMO","uhfuuKC","tMrKtNq","BgvHzKDYB3vWswq","t3fYwfy","vfflvhG","Cg10CfK","EvLUEfe","Dg9tDhjPBMC","s0HqCeS","r2nrruq","BMfRBum","BfjIrve","swjxvw4","nZbhtvvvzem","mJDuCunptK4","zLHKrLC","r2Pvt20","Dhr5vhi","zMXVD2vY","vurvzNq","Cfz0vwi","wKzyyNG","Cgv0ywW","rwP2vu8","BMfTzq","mtuYndmWEw1dtu9t","rvnoAKm","ENPbCxi","rLrMreS","ChvZAa","BfLhD28","zMLSDgvY","Dw5PzM9YBq","yxbWBhK","ru9OCMu","kcGOlISPkYKRksSK","C3rLBMnPBa","uLnsDNi","Ae5SBhi","qvvUAeO","B1zsyu8","BgvHzKDYB3vW","yuXkC28","zKP4qxK","mZi2ndq2mgz5z1rzBW","DNDvy00","Aw5KzxG","y29UC3rYDwn0B3i","yvzvEgG","C29YDa","tLjpEgO","qMf3tgW","DhHLz0i","CLrSzKK","BKfhA2K","BufhqMu","BevYEMq","zMXVD2vYCW","ChzUtuy","C1zzEvC","Bgf5zxi","zMfICMLJu3f1yxjLu2L6zq","AefRC2i","BLP4ALi","zMXVD2vYrgLHBwv0zxi","qxvvs2y"];return I0=function(){return u},I0()}function tb({project:u,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:y,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:g,ungroupLeaves:v}){const z=Zt,b={ANFNN:function(_,C){return _(C)},NROxj:function(_,C){return _===C},KHPpK:function(_,C){return _/C},SkVwe:function(_,C){return _*C},GSVhp:function(_,C){return _+C},FTfDK:function(_,C){return _||C},xSIRE:function(_,C){return _!==C},yyMVC:z(485),nCCQo:function(_,C,A){return _(C,A)},EjvUO:function(_,C){return _-C},IbWUn:function(_,C){return _>C},txegB:function(_,C){return _/C},BawLl:function(_,C){return _+C},ysGgX:function(_,C,A,M){return _(C,A,M)},gnTFg:function(_,C,A,M){return _(C,A,M)},wWtvE:function(_,C){return _<C},DdVjE:function(_,C,A,M){return _(C,A,M)},EDmif:"liLrK",UDUft:function(_,C,A,M){return _(C,A,M)},URfCE:function(_,C){return _-C},DnZKb:function(_,C){return _>C},CCdgu:function(_,C,A,M){return _(C,A,M)},YtvZR:function(_,C){return _(C)},XFhJZ:"lay",uhWzD:z(402),nAGki:"col_green",fXdFW:z(378),GjUOm:function(_,C){return _(C)},mfSLw:function(_,C){return _<=C},zfnza:z(483),kdYYv:"cUiRs",NddNt:z(441),zzAqr:function(_,C,A){return _(C,A)},MfHtD:"group",bVJUg:z(429),ZlCZj:"EGQLn",cXBfF:z(455),HwRnx:"mQDCr",whQqI:"tUAzR",ElEQq:function(_,C){return _===C},DTZUd:z(406),KaheE:"leaf",lRbEQ:function(_,C){return _===C},mAGBe:z(476),upGzq:function(_,C){return _(C)},FaOdB:z(419),ttyTr:function(_,C){return _===C},MXiTo:"stencil",aLJso:function(_,C){return _===C},woBvZ:z(490),hjfZA:function(_,C){return _===C},CfLMM:function(_,C){return _===C},hNllr:"petal",ESNjC:function(_,C){return _===C},EVAUN:function(_,C,A){return _(C,A)},jvvRe:function(_,C){return _>C},MQpoP:z(495),khEUx:function(_,C){return _===C},bTXlj:function(_,C){return _(C)},HqyDn:z(396),bIMPa:function(_,C){return _/C},lErzd:function(_,C){return _===C},nGQhR:function(_,C){return _-C},sVYyW:function(_,C){return _(C)},KthGq:function(_,C,A){return _(C,A)},YZtpP:function(_,C){return _(C)},RSRvr:z(427),Vsvuk:function(_,C){return _===C},ZFXbx:z(480),YVubQ:function(_,C){return _(C)},pvnMF:"nZxjR",uQlpQ:function(_,C){return _===C},WghIW:function(_,C){return _(C)},XeEds:function(_,C){return _(C)},pVtUb:z(420),HAQWZ:z(357),HIRtO:function(_,C){return _===C},AuUKf:"petals",NVfBo:function(_,C){return _(C)},yseWm:function(_,C){return _(C)},nakmC:function(_,C,A){return _(C,A)},JFnXC:function(_,C,A){return _(C,A)}},D=_=>{const C=z,A=[..._.layers][C(472)]((k,N)=>k.order-N[C(382)]),M=A[0];if(!M)return 28;const j=_.fabricSquareSize??u[C(484)],{length:B}=b.ANFNN(It,j),I=B*(M[C(369)]??1);let H;if(b[C(473)](_[C(381)],""))H=b[C(431)](I,3);else{const N=b.SkVwe(70,Math.PI)/180,R=b.GSVhp(A[C(496)],1),Y=R-1,K=R>1?b[C(361)](Y/(R-1),N):0;H=b.SkVwe(I*(30/100),Math[C(366)](K))}return Math[C(364)](((M.radius??28)+H)*10)/10},w=_=>{const C=z,A={IDrjC:function(M,j){return M!==j},YqpJj:function(M,j){return b[Zt(451)](M,j)}};r(M=>{const j=Zt;if(M[j(480)]=(M.flowers||[])[j(454)](B=>B.id!==_),M[j(411)]){for(const B of M[j(411)])B.flowerIds=B[j(391)].filter(I=>I!==_);M[j(411)]=M.groups[j(454)](B=>B[j(391)].length>0)}},!0),i({kind:C(406)}),o(M=>{const j=C;if(A.IDrjC("PgIIE","PgIIE")){if(_0x409ad8.flowers=(_0x66c5f0[j(480)]||[])[j(454)](B=>B.id!==_0x5914d6),_0x34e9a5.groups){for(const B of _0x12f5af.groups)B[j(391)]=B.flowerIds[j(454)](I=>I!==_0x34b8f8);_0x4d7192[j(411)]=_0x35b1c7.groups.filter(B=>B[j(391)][j(496)]>0)}}else{const B={...A.YqpJj(M,{})};return delete B[_],B}})},S=(_,C)=>{const A=z;if(b[A(359)](b[A(500)],b.yyMVC)){const j=AnkKwZ[A(426)](AnkKwZ.lEKIl(70,_0x8756d4.PI),180),B=AnkKwZ.yycVn(_0x349f1c[A(496)],1),I=B-1,H=B>1?I/(B-1)*j:0;_0x593ad6=_0x290dbf*AnkKwZ[A(375)](30,100)*_0x47322a.cos(H)}else{const M=u.flowers[A(492)](j=>j.id===_);if(M&&(M.layers||[])[A(496)]<=1){b.ANFNN(w,_);return}b[A(395)](r,j=>{const B=A,I=(j.flowers||[]).find(H=>H.id===_);I&&(I.layers=(I[B(379)]||[]).filter(H=>H.id!==C),I.layers.slice().sort((H,k)=>H.order-k.order)[B(374)]((H,k)=>H.order=k+1))},!0),b.ANFNN(i,{kind:"flower",flowerId:_})}},T=_=>{const C=z;if(b.EDmif==="liLrK"){const A=u[C(480)].find(Y=>Y.id===_);if(!A)return;const M=[...A.layers].sort((Y,K)=>Y[C(382)]-K[C(382)]),j=M[0],B=b[C(442)](_e,j?.[C(489)]??6,5,24),I=M[C(383)](Y=>Y.scale??1),H=I[C(496)]<2||I.every(Y=>Math.abs(Y-I[0])<.001);let k=j?.scale??1;if(!H&&M.length>=2){const Y=M[M.length-1],K=b.URfCE(Y[C(382)]??1,j.order??1);if(b.DnZKb(K,0)){const le=((j.scale??1)-(Y.scale??1))/K;k=b.CCdgu(_e,b[C(474)](j.scale??1,le),.3,3)}}const N=b.YtvZR(D,A),R={id:b.YtvZR(Yt,b.XFhJZ),name:b[C(405)],order:1,petalType:j?.petalType??C(410),petalCount:B,radius:N,scale:k,widthScale:li(B),offsetAngle:j?.offsetAngle??0,colorId:j?.colorId??u.palette?.[0]?.id??b[C(477)],visible:!0,locked:!1};if(j)if(b.xSIRE(b[C(438)],b[C(438)])){const Y=_0x3605e4[b[C(446)](_0x445efb[C(496)],1)],K=b[C(446)](Y.order??1,_0x248678.order??1);if(b[C(435)](K,0)){const le=b.txegB((_0x427f03.scale??1)-(Y.scale??1),K);_0x3e8157=_0x5dd42e(b.BawLl(_0x2f6a0b.scale??1,le),.3,3)}}else R.offsetAngle=Wn(j[C(489)],j[C(398)]??0,B);b[C(395)](r,Y=>{const K=C,le=Y[K(480)].find(he=>he.id===_);if(!le)return;le.layers[K(374)](he=>he[K(382)]+=1),le[K(379)].unshift(R);const se=Math[K(364)](b.ysGgX($i,R.radius,R.scale,le[K(484)]??Y.fabricSquareSize)),fe=le[K(484)]??Y.fabricSquareSize,oe=b.NROxj(le[K(381)],"")?tr(fe,le[K(379)].length,K(455),0):b.gnTFg(Zl,le.baseDiameter??Y[K(494)],fe,{layerCount:le.layers.length}).diameter;le.flowerDiameter=Math.max(le[K(487)]||oe,se);const ge=[...le.layers][K(472)]((he,Re)=>he[K(382)]-Re.order),je=ge[K(400)]();for(let he=1;b.wWtvE(he,je.length);he++){const Re=je[he-1],et=je[he];et[K(398)]=b[K(415)](Wn,Re[K(489)],Re.offsetAngle,et[K(489)])}},!0),b.YtvZR(i,{kind:C(483),flowerId:_,layerId:R.id}),b[C(439)](o,Y=>({...Y,[_]:!0}))}else{for(const A of _0x574803[C(411)])A.flowerIds=A[C(391)].filter(M=>!_0x504ca2[C(372)](M));_0x51c1e4.groups=_0x37428e[C(411)][C(454)](A=>A[C(391)].length>0)}},G=_=>{const C=z,A={SjslQ:function(I,H,k){return b.nCCQo(I,H,k)}},M=u[C(480)].find(I=>I.id===_);if(!M||!M[C(379)]||M.layers[C(496)]===0)return;if(b.mfSLw(M.layers.length,1)){w(_);return}const j=[...M[C(379)]][C(472)]((I,H)=>I.order-H[C(382)]),B=j[0];B&&(r(I=>{const H=C,k=I.flowers.find(Y=>Y.id===_);if(!k)return;k.layers=k.layers.filter(Y=>Y.id!==B.id),k[H(379)].slice()[H(472)]((Y,K)=>Y.order-K.order).forEach((Y,K)=>Y.order=K+1);const N=[...k.layers][H(472)]((Y,K)=>Y.order-K[H(382)]),R=k[H(484)]??I[H(484)];if(N.length>0){A.SjslQ(fx,N,R);for(const le of N){const se=k.layers.find(fe=>fe.id===le.id);se&&(se.radius=le[H(404)])}const Y=N[0];k[H(487)]=Math[H(364)]($i(Y[H(404)],Y[H(369)]??1,R));const K=[...N][H(400)]();for(let le=1;le<K[H(496)];le++){const se=K[le-1],fe=K[le];fe.offsetAngle=Wn(se.petalCount,se[H(398)],fe.petalCount)}}},!0),a[C(401)]===b[C(397)]&&a[C(392)]===B.id?b.kdYYv!=="cUiRs"?_0x43c347.flowerIds[C(372)](_0x29d049)||_0x124c33[C(391)].push(_0x4bb9ca):i({kind:b.NddNt,flowerId:_}):a.kind===C(445)&&a[C(392)]===B.id&&i({kind:b[C(424)],flowerId:_}))},L=()=>{const _=z,C={shvdq:function(A,M){return A/M},rhyjw:function(A,M){return A-M},btECx:function(A,M){return A+M},vwUcM:b.bVJUg,fJxAy:b[_(422)],htLhe:b.cXBfF,GcQED:b[_(362)],oVRaO:function(A,M){return b[_(373)](A,M)},lYGwo:b.whQqI};if(!b.ElEQq(a.kind,b[_(414)])){if(a.kind===b.KaheE){g(a.leafId);return}if(b.lRbEQ(a[_(401)],_(464)))if(b.mAGBe!==b[_(478)]){if(!_0x5b96c2[_(411)])return;_0x2a6a08[_(411)]=_0x1d2807[_(411)][_(454)](A=>A.id!==_0x47d254.groupId)}else{b[_(386)](v,a[_(425)]);return}if(b.ElEQq(a[_(401)],b[_(389)])){const A=a.leafIds;r(M=>{const j=_;if(M.leaves=(M[j(419)]??[])[j(454)](B=>!A.includes(B.id)),M[j(365)]){for(const B of M.leafGroups)if(C[j(468)]!==C[j(466)])B.leafIds=B.leafIds.filter(I=>!A[j(372)](I));else{const I=JMyEPB.shvdq(JMyEPB.rhyjw(_0x4f46a2.scale??1,_0x5b2282.scale??1),_0x166712);_0x3938ce=_0x3dd42b(JMyEPB[j(367)](_0x178d59[j(369)]??1,I),.3,3)}M.leafGroups=M.leafGroups[j(454)](B=>B[j(387)].length>0)}},!0),i({kind:b.DTZUd});return}if(b[_(440)](a[_(401)],"flowers")){const A=a[_(391)];b[_(450)](r,M=>{const j=_;if(M[j(480)]=M.flowers.filter(B=>!A.includes(B.id)),M.groups){for(const B of M.groups)B[j(391)]=B[j(391)][j(454)](I=>!A.includes(I));M.groups=M.groups.filter(B=>B[j(391)].length>0)}},!0),i({kind:b.DTZUd});return}if(a.kind===b[_(368)]){b[_(450)](r,A=>{const M=_;{if(!A[M(411)])return;A[M(411)]=A[M(411)][M(454)](j=>j.id!==a[M(418)])}},!0),i({kind:b.DTZUd});return}if(a[_(401)]===b[_(407)])if(b[_(465)]("wkBWa",b.woBvZ)){b.zzAqr(r,A=>{const M=_;A.stencils=(A.stencils??[])[M(454)](j=>j.id!==a[M(493)])},!0),b[_(491)](i,{kind:b.DTZUd});return}else{const A={cDeQS:function(j,B,I){return b[_(395)](j,B,I)}},M=_0x9bfde("grp");_0x33c3bf(j=>{const B=_;j.groups||(j.groups=[]);const I=j[B(411)].map(k=>{const N=B,R=k[N(447)].match(/^ (\d+)$/);return R?A.cDeQS(_0x31517c,R[1],10):0}),H=I.length>0?_0x5eee4c.max(...I)+1:1;j.groups.push({id:M,name:" "+H,flowerIds:[..._0x36452e]})},!0),_0xa03ca8({kind:b[_(368)],groupId:M}),_0x4d6ac7(j=>({...j,[M]:!0}))}if(b.hjfZA(a[_(401)],"petals")){i({kind:"flower",flowerId:a[_(421)]});return}if(a.kind===b[_(424)]){r(A=>{const M=_;if(A[M(480)]=A[M(480)].filter(j=>j.id!==a.flowerId),A.groups){for(const j of A.groups)j[M(391)]=j[M(391)][M(454)](B=>B!==a[M(421)]);A.groups=A[M(411)].filter(j=>j[M(391)].length>0)}},!0),i({kind:b.DTZUd});return}if(a[_(401)]==="layer"||b[_(399)](a[_(401)],b.hNllr)){const A=u[_(480)][_(492)](j=>j.id===a.flowerId),M=A?b.ESNjC([...A.layers][_(472)]((j,B)=>j[_(382)]-B[_(382)])[0]?.id,a[_(392)]):!1;b.EVAUN(r,j=>{const B=_,I={PSSvI:function(k,N,R,Y,K){return k(N,R,Y,K)},aVUxh:C.htLhe},H=j.flowers.find(k=>k.id===a.flowerId);if(H&&(H[B(379)]=H[B(379)].filter(k=>k.id!==a[B(392)]),H.layers[B(394)]()[B(472)]((k,N)=>k.order-N[B(382)]).forEach((k,N)=>k[B(382)]=N+1),H[B(379)].length>0)){const k=[...H[B(379)]].sort((Y,K)=>Y[B(382)]-K.order),N=H[B(484)]??j[B(484)];fx(k,N);for(const Y of k){const K=H.layers[B(492)](le=>le.id===Y.id);K&&(K[B(404)]=Y.radius)}if(M){const Y=k[0];H[B(487)]=Math[B(364)]($i(Y[B(404)],Y.scale??1,N))}else{const Y=H.placementMode===""?tr(N,H[B(379)][B(496)],C[B(376)],0):Zl(H[B(494)]??j.baseDiameter,N,{layerCount:H.layers.length}).diameter;X0(k,N,H[B(487)]||Y);for(const K of k)if(C.GcQED===C[B(432)]){const le=H.layers.find(se=>se.id===K.id);le&&(le.radius=K.radius,le.scale=K.scale)}else{const le=_0x485177[B(381)]===""?I.PSSvI(_0x5a81e5,_0x43de4a,_0x501ca4[B(379)].length,I[B(471)],0):_0x19230a(_0x4adcc4.baseDiameter??_0x4e3879[B(494)],_0x1bf7cd,{layerCount:_0x3eb929.layers.length}).diameter;_0x377c63(_0x1fa3ae,_0x4ee7e0,_0x486d29[B(487)]||le);for(const se of _0x5f5c32){const fe=_0x489d1c[B(379)][B(492)](oe=>oe.id===se.id);fe&&(fe.radius=se.radius,fe.scale=se.scale)}}}const R=[...k].reverse();for(let Y=1;C[B(463)](Y,R.length);Y++)if(B(371)!==C[B(453)]){const K=R[C[B(384)](Y,1)],le=R[Y];le[B(398)]=Wn(K.petalCount,K.offsetAngle,le[B(489)])}else{if(!_0x544bb2[B(411)])return;_0xe3456c.groups=_0x294b54.groups.filter(K=>K.id!==_0xd1d3e8)}}},!0),i({kind:b[_(424)],flowerId:a[_(421)]})}}},q=$.useCallback(_=>{const C=z,A=Yt(b[C(360)]);r(M=>{const j=C;M.groups||(M[j(411)]=[]);const B=M[j(411)][j(383)](H=>{const k=H.name.match(/^ (\d+)$/);return k?parseInt(k[1],10):0}),I=b[j(416)](B[j(496)],0)?Math.max(...B)+1:1;M[j(411)].push({id:A,name:" "+I,flowerIds:[..._]})},!0),b[C(491)](i,{kind:"group",groupId:A}),f(M=>({...M,[A]:!0}))},[r,i,f]),O=$.useCallback(_=>{const C=z;r(A=>{const M=Zt;A[M(411)]&&(A[M(411)]=A.groups.filter(j=>j.id!==_))},!0),b[C(408)](i,{kind:b[C(414)]})},[r,i]),V=b[z(433)]($.useCallback,(_,C)=>{const A=z;b[A(450)](r,M=>{const j=A,B=(M.groups??[])[j(492)](I=>I.id===_);if(B)for(const I of C)B[j(391)][j(372)](I)||B[j(391)][j(452)](I)},!0),b[A(386)](i,{kind:A(358),groupId:_})},[r,i]),Z=b[z(433)]($.useCallback,(_,C)=>{const A=z,M={XmWMU:function(I,H){return b.khEUx(I,H)},HlfKi:function(I,H){return b.bTXlj(I,H)},pPMSz:b.HqyDn},j=_[0],B=_[A(394)](1);r(I=>{const H=A;if(!I.groups)return;const k=I.groups.find(N=>N.id===j);if(k){for(const N of B)if(M.pPMSz!=="LlTiY"){const R=_0x27f0f8.filter(Y=>Y!==_0x1d0a51);M.XmWMU(R[H(496)],0)?M.HlfKi(_0x2716c6,{kind:H(406)}):M.XmWMU(R[H(496)],1)?M.HlfKi(_0x532ff7,{kind:H(441),flowerId:R[0]}):M.HlfKi(_0x234eb9,{kind:H(480),flowerIds:R})}else{const R=I.groups[H(492)](Y=>Y.id===N);if(!R)continue;for(const Y of R.flowerIds)k[H(391)][H(372)](Y)||k[H(391)].push(Y)}for(const N of C)k.flowerIds[H(372)](N)||k.flowerIds[H(452)](N);I.groups=I[H(411)].filter(N=>!B.includes(N.id))}},!0),i({kind:b.MfHtD,groupId:j}),f(I=>({...I,[j]:!0}))},[r,i,f]),J=(_,C)=>{const A=z,M=b.KHPpK(d.w,d.h),j=520/m,B=j*M,I=b[A(475)](-y.x,m),H=b.bIMPa(-y.y,m),k=I+b[A(377)](B,2),N=b.GSVhp(H,b[A(431)](j,2)),R=b[A(479)](C,"back")?"back":"side",Y=b.SkVwe(Wd[_][R].height,cn),K=_e(k,0,h),le=_e(b.nGQhR(N,b[A(431)](Y,2)),0,h),se={id:b[A(482)](Yt,"stl"),variant:_,pose:C,position:{x:K,y:le}};b[A(412)](r,fe=>{const oe=A;fe.stencils||(fe[oe(390)]=[]),fe[oe(390)][oe(452)](se)},!0),b[A(499)](i,{kind:A(459),stencilId:se.id})},F=_=>{const C=z;r(A=>{const M=Zt;b.hjfZA(b[M(460)],"RuWWN")||(A.stencils=(A[M(390)]??[]).filter(j=>j.id!==_))},!0),b[C(434)](a[C(401)],b.MXiTo)&&a[C(493)]===_&&b.YZtpP(i,{kind:b[C(414)]})},Q=b.JFnXC($.useCallback,_=>{const C=z;if(b.Vsvuk(a.kind,b[C(444)]))if(C(423)!=="PqTRG"){for(const A of _0x88146d.groups)A.flowerIds=A[C(391)].filter(M=>M!==_0x3ecf8d);_0x1430af[C(411)]=_0x4297f0.groups[C(454)](A=>A[C(391)].length>0)}else{const A=a[C(391)];if(A.includes(_)){const M=A[C(454)](j=>j!==_);b[C(449)](M.length,0)?b[C(497)](i,{kind:"project"}):M[C(496)]===1?i({kind:"flower",flowerId:M[0]}):i({kind:b.ZFXbx,flowerIds:M})}else if(b[C(481)]!==C(486)){_0x5d7fc7(_0x537ad8);return}else i({kind:b[C(444)],flowerIds:[...A,_]})}else if(b.lRbEQ(a.kind,"flower")){if(b.uQlpQ(a.flowerId,_))return;b.upGzq(i,{kind:b[C(444)],flowerIds:[a.flowerId,_]})}else i({kind:C(480),flowerIds:[_]})},[a,i]);return{deleteFlowerById:w,deleteLayerById:S,computeNewOuterRadius:D,addOuterLayer:T,deleteOuterLayer:G,deleteSelected:L,groupSelectedFlowers:q,ungroupFlowers:O,addToGroup:V,mergeGroups:Z,addStencil:J,deleteStencil:F,handleShiftFlowerSelect:Q,togglePetalSelection:(_,C,A,M)=>{const j=z;if(!M)if(b[j(443)]!==b[j(403)]){i({kind:j(445),flowerId:_,layerId:C,index:A});return}else{const I=_0x18db8a[j(391)];_0x538622(H=>{const k=j;if(H[k(480)]=H.flowers.filter(N=>!I[k(372)](N.id)),H[k(411)]){for(const N of H.groups)N[k(391)]=N[k(391)][k(454)](R=>!I.includes(R));H.groups=H[k(411)].filter(N=>N[k(391)][k(496)]>0)}},!0),b.WghIW(_0x567bfc,{kind:"project"});return}const B=C+":"+A;if(b[j(388)](a.kind,b[j(488)])&&a[j(421)]===_){const I=a.petals||[];if(I[j(409)](k=>k.layerId+":"+k.index===B)){const k=I.filter(N=>N.layerId+":"+N.index!==B);k.length===0?i({kind:"flower",flowerId:_}):k.length===1?i({kind:b[j(461)],flowerId:_,layerId:k[0][j(392)],index:k[0].index}):b[j(497)](i,{kind:b.AuUKf,flowerId:_,petals:k})}else j(385)!=="smKOw"?b.NVfBo(i,{kind:"petals",flowerId:_,petals:[...I,{layerId:C,index:A}]}):GmBqts[j(428)](_0x5b44a1,{kind:"flower",flowerId:_0x55cbd6[0]})}else if(b[j(399)](a[j(401)],b.hNllr)&&b.khEUx(a.flowerId,_)){const I={layerId:a.layerId,index:a[j(469)]},H={layerId:C,index:A};if(I.layerId+":"+I.index===B)return;i({kind:b[j(488)],flowerId:_,petals:[I,H]})}else b.yseWm(i,{kind:b.AuUKf,flowerId:_,petals:[{layerId:C,index:A}]})}}}(function(u,r){const a=Mt,i=u();for(;;)try{if(parseInt(a(283))/1*(parseInt(a(267))/2)+parseInt(a(272))/3*(-parseInt(a(304))/4)+-parseInt(a(265))/5+parseInt(a(274))/6+parseInt(a(296))/7+parseInt(a(307))/8+-parseInt(a(264))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,192808);function U0(){const u=["rKXMrem","vuzgDKW","Dg9tDhjPBMC","Cg9ZAxrPB24","s294yMG","BgvUz3rO","tuvKDKS","ngfrqvrgtq","zMLUza","yvLrz2G","mZa0odqWBeX6v3LR","y29Sx2DYzwvU","BgvHzKDYB3vWCW","u2vjB0G","ChjVAMvJDa","BgvHzKLK","zMLSDgvY","qMftALy","BuD5Chu","y0DlAu8","rwnjy2O","mtq4odK1mwLjr21xrW","odm2ndbiB1DJq0q","Aw5JBhvKzxm","mJaYmJjqseLqwKu","qvPttwy","6jgj44kW44oR44o844oxia","ChvZAa","t1jhyxq","ndu0nduYEMLiB2Hu","vKPMt3y","mtKXodyYmgPYs3zwza","BgvHzKDYB3vW","BgvHDMvZ","5yMJ44gK44g+44g/","kcGOlISPkYKRksSK","zu9QB3u","CgfSzxr0zq","C29Tzq","ywjZ","m0zev2XjrG","suz3EuO","wKzls1y","z0nLrui","ENLzvMK","A2LUza","AKzODMG","vNPzvxO","BgvHzKLKCW","sLbmuK0","BgvHzG","y29Sx2rHCMTNCMvLBG","z25rD0u","oty3nZu3tM1eD0nf"];return U0=function(){return u},U0()}const nb=(function(){const u={ZFKKV:function(a,i){return a(i)},bggbU:"leaves",JqbuA:function(a,i){return a===i},DATNZ:"CKlck"};let r=!0;return function(a,i){const o=Mt,f={jFhvh:function(m,y){return m===y},ugSVA:function(m,y){return u[Mt(285)](m,y)}};if(u.JqbuA("CKlck",u.DATNZ)){const m=r?function(){const y=Mt;if(y(301)!=="GEgmY"){if(i){const d=i.apply(a,arguments);return i=null,d}}else{const d=_0x24864b.filter(h=>h!==_0x3de5ed);f[y(289)](d[y(302)],0)?f.ugSVA(_0x4dc5ca,{kind:y(311)}):d[y(302)]===1?_0x57c426({kind:y(293),leafId:d[0]}):_0x39d1e8({kind:"leaves",leafIds:d})}}:function(){};return r=!1,m}else u[o(285)](_0x593986,{kind:u.bggbU,leafIds:_0x3ffbf4})}})(),Ax=nb(void 0,function(){const u=Mt,r={eOjou:u(278)};return Ax[u(299)]().search(r.eOjou).toString().constructor(Ax).search(r[u(279)])});Ax();function Mt(u,r){u=u-261;const a=U0();let i=a[u];if(Mt.yaCWnV===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Mt.heGqXJ=o,Mt.xbIDGU={},Mt.yaCWnV=!0}const f=a[0],m=u+f,y=Mt.xbIDGU[m];if(y)i=y;else{const d=function(h){this.NOXnxC=h,this.HHAjwq=[1,0,0],this.pLcFef=function(){return"newState"},this.dvnmCt="\\w+ *\\(\\) *{\\w+ *",this.LdbDTD=`['|"].+['|"];? *}`};d.prototype.BIxPsZ=function(){const h=new RegExp(this.dvnmCt+this.LdbDTD),g=h.test(this.pLcFef.toString())?--this.HHAjwq[1]:--this.HHAjwq[0];return this.EdunyN(g)},d.prototype.EdunyN=function(h){return~h?this.JRqXXV(this.NOXnxC):h},d.prototype.JRqXXV=function(h){for(let g=0,v=this.HHAjwq.length;g<v;g++)this.HHAjwq.push(Math.round(Math.random())),v=this.HHAjwq.length;return h(this.HHAjwq[0])},new d(Mt).BIxPsZ(),i=Mt.heGqXJ(i),Mt.xbIDGU[m]=i}return i}function lb({project:u,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const d=Mt,h={aYQgh:function(T,G){return T(G)},cFgxl:function(T,G){return T!==G},HGXmq:"iqYyR",EcIcj:function(T,G){return T*G},gnQwE:function(T,G){return T+G},PYecP:function(T,G){return T/G},JKNna:function(T,G){return T<G},QYcsj:"2|0|1|3|4",AZSMf:function(T,G,L,q){return T(G,L,q)},XwwlM:"leaf",NvrkF:d(277),gCeEB:function(T,G,L){return T(G,L)},JPLRM:"UFFvL",NtLgP:function(T,G){return T(G)},VzYUz:function(T,G){return T(G)},tovJD:function(T,G){return T===G},MEdvK:d(271),mGypu:function(T,G){return T===G},AXIsE:"wZZcy",SXDVg:function(T,G){return T(G)},zyYVi:"leaves",EcYle:function(T,G){return T===G},FLfDC:function(T,G){return T(G)},IFwyJ:function(T,G){return T(G)},FsNMi:function(T,G,L){return T(G,L)},bUvHq:function(T,G,L){return T(G,L)},Hksji:function(T,G,L){return T(G,L)}},g=()=>{const T=d,G={VJfOv:function(_,C){return h[Mt(306)](_,C)},tuYBh:"leaves",sqpjz:function(_,C){return h.cFgxl(_,C)},hZNZU:h.HGXmq},L=m.w/m.h,q=520/o,O=h[T(263)](q,L),V=-f.x/o,Z=-f.y/o;let J=V+O/2,F=h[T(295)](Z,h.PYecP(q,2)),Q=0;for(;h.JKNna(Q,50)&&(u.leaves??[])[T(281)](_=>Math.abs(_[T(300)].x-J)<5&&Math[T(282)](_.position.y-F)<5);){const _=h.QYcsj.split("|");let C=0;for(;;){switch(_[C++]){case"0":F+=25;continue;case"1":J=h[T(268)](_e,J,0,y);continue;case"2":J+=25;continue;case"3":F=h[T(268)](_e,F,0,y);continue;case"4":Q++;continue}break}}const W={id:Yt(h.XwwlM),name:"Leaf "+((u[T(276)]??[])[T(302)]+1),position:{x:J,y:F},rotation:135,petalType:h.NvrkF,colorId:u[T(280)]?.find(_=>_.id===T(308)||_.id===T(294))?.id??u[T(280)]?.[0]?.id??T(308),scale:1,widthScale:1,visible:!0,locked:!1};h[T(286)](r,_=>{const C=T;G.sqpjz(G.hZNZU,C(310))?(_.leaves||(_[C(276)]=[]),_.leaves.push(W)):G[C(273)](_0x26970e,{kind:G.tuYBh,leafIds:[_0x3d2a70]})},!0),i({kind:T(293),leafId:W.id})},v=T=>{const G=d;r(L=>{const q=Mt;if(h.cFgxl(q(298),h[q(292)]))_0x5c815d[q(291)]=_0x2acd17[q(291)].filter(O=>O!==_0x5eb0d0);else if(L[q(276)]=(L[q(276)]??[]).filter(O=>O.id!==T),L.leafGroups){for(const O of L[q(309)])O.leafIds=O[q(291)].filter(V=>V!==T);L[q(309)]=L.leafGroups.filter(O=>O[q(291)][q(302)]>0)}},!0),h.NtLgP(i,{kind:G(311)})},z=h.FsNMi($.useCallback,T=>{const G=d;if(a[G(288)]==="leaves"){const L=a[G(291)];if(L.includes(T))if(h.tovJD(h[G(303)],"muZUZ")){for(const q of _0x10123c.leafGroups)q[G(291)]=q.leafIds.filter(O=>O!==_0x4e6a58);_0xd03937.leafGroups=_0x17d6ed.leafGroups.filter(q=>q[G(291)][G(302)]>0)}else{const q=L[G(313)](O=>O!==T);q[G(302)]===0?h.mGypu(h.AXIsE,"HNbHQ")?_0x579807[G(291)]=_0x29f306[G(291)][G(313)](O=>O!==_0x4a8cdc):i({kind:"project"}):q.length===1?i({kind:G(293),leafId:q[0]}):h.SXDVg(i,{kind:"leaves",leafIds:q})}else i({kind:h[G(287)],leafIds:[...L,T]})}else if(h.EcYle(a.kind,h.XwwlM))if(G(262)===G(262)){if(h[G(261)](a[G(312)],T))return;h[G(290)](i,{kind:G(276),leafIds:[a[G(312)],T]})}else{if(_0x16c652.leafId===_0x3fbfd3)return;h[G(290)](_0xe0b5e,{kind:G(276),leafIds:[_0x3be1f9[G(312)],_0x12eb2b]})}else h[G(297)](i,{kind:"leaves",leafIds:[T]})},[a,i]),b=$.useCallback(T=>{const G=d,L=Yt("lg"),q=G(269)+((u[G(309)]??[])[G(302)]+1);h[G(286)](r,O=>{const V=G;V(314)!=="fqgrf"?(O.leafGroups||(O.leafGroups=[]),O.leafGroups[V(270)]({id:L,name:q,leafIds:[...T],rotation:0})):_0x1e7290(Z=>{const J=V,F=(Z.leafGroups??[])[J(305)](Q=>Q.id===_0x17ae90);F&&!F[J(291)][J(266)](_0x1d94df)&&F[J(291)].push(_0x5cca9f)},!0)},!0),i({kind:G(275),leafGroupId:L})},[u.leafGroups,r,i]),D=$.useCallback(T=>{const G=d;r(L=>{const q=Mt;L[q(309)]&&(L.leafGroups=L[q(309)][q(313)](O=>O.id!==T))},!0),h[G(284)](i,{kind:G(311)})},[r,i]),w=h.bUvHq($.useCallback,(T,G)=>{r(L=>{const q=Mt,O=(L[q(309)]??[])[q(305)](V=>V.id===G);O&&!O.leafIds.includes(T)&&O[q(291)].push(T)},!0)},[r]),S=h.Hksji($.useCallback,T=>{h.gCeEB(r,G=>{const L=Mt;if(G.leafGroups){for(const q of G.leafGroups)q.leafIds=q[L(291)].filter(O=>O!==T);G.leafGroups=G.leafGroups.filter(q=>q[L(291)].length>0)}},!0)},[r]);return{addLeaf:g,deleteLeafById:v,handleShiftLeafSelect:z,groupSelectedLeaves:b,ungroupLeaves:D,addLeafToGroup:w,removeLeafFromGroup:S}}(function(u,r){const a=rn,i=u();for(;;)try{if(parseInt(a(348))/1+parseInt(a(313))/2*(parseInt(a(342))/3)+parseInt(a(381))/4*(parseInt(a(364))/5)+-parseInt(a(356))/6*(-parseInt(a(363))/7)+-parseInt(a(317))/8+parseInt(a(306))/9+parseInt(a(370))/10*(-parseInt(a(329))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,522036);const ab=(function(){const u=rn,r={NmPYu:function(i,o){return i!==o},VAQhB:function(i,o){return i===o},rsxXB:u(369)};let a=!0;return function(i,o){const f=u,m={pksQE:r[f(327)],orJFS:function(d,h,g,v){return d(h,g,v)},mvhrU:function(d,h){return d(h)}},y=a?function(){const d=f;if(r.NmPYu("UfOxB","ImtAN")){if(o)if(r.VAQhB("CfJxn","CfJxn")){const h=o[d(337)](i,arguments);return o=null,h}else _0x5e22d7=_0x354790/3}else{const h={ecGqr:m[d(344)],EjDpi:function(z,b,D,w){return m[d(355)](z,b,D,w)}},g=_0x1b8e21.fabricSquareSize,v=_0x57c921.baseDiameter;_0x540794(z=>{const b=d,D={...z,fabricSquareSize:g,baseDiameter:v};return D.placementMode===h.ecGqr?D[b(376)]=h.EjDpi(_0x3fcccd,v,g,{layerCount:D.layerCount,sizeMode:D.sizeMode,sizeStepMm:D[b(316)]}).diameter:D[b(376)]=_0x592999(g,D.layerCount,D[b(320)],D[b(316)]),D}),m.mvhrU(_0x2f72aa,!0)}}:function(){};return a=!1,y}})(),Ex=ab(void 0,function(){const u=rn,r={enZSz:u(334)};return Ex[u(321)]().search(r[u(322)])[u(321)]().constructor(Ex).search(r.enZSz)});Ex();function rn(u,r){u=u-304;const a=H0();let i=a[u];if(rn.mocBGv===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};rn.hgPGuI=o,rn.XaCzlQ={},rn.mocBGv=!0}const f=a[0],m=u+f,y=rn.XaCzlQ[m];if(y)i=y;else{const d=function(h){this.XeZjii=h,this.IJbQQp=[1,0,0],this.VrFFzD=function(){return"newState"},this.UFTUtR="\\w+ *\\(\\) *{\\w+ *",this.gBwiHc=`['|"].+['|"];? *}`};d.prototype.oilcqG=function(){const h=new RegExp(this.UFTUtR+this.gBwiHc),g=h.test(this.VrFFzD.toString())?--this.IJbQQp[1]:--this.IJbQQp[0];return this.GtgVwj(g)},d.prototype.GtgVwj=function(h){return~h?this.tLPNwc(this.XeZjii):h},d.prototype.tLPNwc=function(h){for(let g=0,v=this.IJbQQp.length;g<v;g++)this.IJbQQp.push(Math.round(Math.random())),v=this.IJbQQp.length;return h(this.IJbQQp[0])},new d(rn).oilcqG(),i=rn.hgPGuI(i),rn.XaCzlQ[m]=i}return i}function H0(){const u=["uxzbELC","q2vUDgvY","nJyZmZC2nuPeDvvYza","t0n1CuK","quDbBgC","tM5Wvw4","DKfiBfe","Eg5WuNu","EujbCu0","mJq3nLjrBfPdAW","CgffBee","Bgf5zxjdB3vUDa","C2L6zvn0zxbnBq","ntuZndq3mKXnuu5ivG","CM91BMq","tgf5zxi","C2L6zu1Vzgu","Dg9tDhjPBMC","zw5Au3O","CwfmrwG","wxDqBgu","yMfZzurPyw1LDgvY","ANjiwu4","CNn4wei","whPfvgW","nZGYmwjkvuLeDG","qNr3wwi","t3v0zxiR","D01LvgK","y29Sx3DOAxrL","kcGOlISPkYKRksSK","q2zTBeC","zwvZDvO","yxbWBhK","CxbUD3C","twLKzgXL","CgfSzxr0zq","CMfKAxvZ","odC5DwzOBhvl","quTqvwS","CgTZuuu","zMLUza","zMXVD2vY","ywjZ","mZiZmJe4ruLWsfju","rMXmwu0","zMXVD2vYCW","C2nHBgu","yNPWqKK","B3jKzxi","DKH5tKG","B3jkrLm","mtmWmdjWBfP2t3e","z3jHzhvHBa","rMXVD2vYia","EKHkCgO","q1bttLO","sw5Uzxi","CgXHy2vTzw50tw9Kzq","mJKZm1HxruTYsq","mJKWs3zgDNfq","zMfICMLJu3f1yxjLu2L6zq","CMXiqwq","Dw5PzM9YBq","ChvZAa","5y2k44gp44gz","mty0otberKXLzuW","y3DHsfq","tgf5zxiG","Cg9ZAxrPB24","Bgf5","y0rjyvG","zMXVD2vYrgLHBwv0zxi","C29YDa","yKDVBKq","z1ncCfm","vK1NChm","mZGXmKL3z2fvvG","zgLHBwv0zxi"];return H0=function(){return u},H0()}function ib({project:u,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const d=rn,h={AKPUk:function(S,T){return S>T},gSBpS:function(S,T){return S/T},CPSNZ:function(S,T){return S!==T},vAHlQ:function(S,T){return S(T)},cDIaX:function(S,T){return S(T)},VMgps:function(S,T){return S*T},zHJpj:d(361),eYGXf:d(339),vHyNH:"Outer",YErZd:d(331),GvmDy:function(S,T){return S<T},bzpBI:"vBcYs",xnpRu:function(S,T){return S/T},QvAzW:function(S,T){return S===T},RtBLs:d(357),qpnww:function(S,T){return S+T},egkYh:function(S,T){return S*T},CfmlG:function(S,T){return S-T},eesuZ:d(312),wYldE:function(S,T){return S*T},OUBLP:function(S,T){return S/T},RbiZJ:function(S,T){return S===T},DWIWK:"YgNGc",ZmWEn:"nzwoS",EMgcw:function(S,T){return S+T},XSSfV:function(S,T){return S===T},paElA:d(319),rlHAd:function(S,T){return S===T},BtwYb:function(S,T){return S+T},YwPle:d(374),qaLEh:function(S,T){return S-T},axntC:function(S,T){return S===T},qUjhq:function(S,T,G,L,q){return S(T,G,L,q)},kiOMH:function(S,T,G,L){return S(T,G,L)},FlLYM:function(S,T){return S/T},jrHYN:function(S,T){return S+T},vwYiM:function(S,T,G,L){return S(T,G,L)},wMeTi:"",AGAlg:function(S,T){return S===T},wccMK:d(346),DlcaM:function(S,T){return S(T)},OCuqI:""},[g,v]=h.DlcaM($.useState,!1),[z,b]=$.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u[d(325)],layerCount:1,petalCount:6,petalType:h[d(307)],sizeMode:d(367),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:v,addFlowerOpts:z,setAddFlowerOpts:b,addFlower:()=>{const S=d,T={bGonD:function(q,O){return q*O},umjRf:function(q,O){return h[rn(343)](q,O)},gMrTm:function(q,O){return h[rn(379)](q,O)},cwaHT:function(q,O){return h.CPSNZ(q,O)}},G=u[S(365)],L=u.baseDiameter;h[S(310)](b,q=>{const O=S,V={...q,fabricSquareSize:G,baseDiameter:L};if(V[O(362)]==="")if(T[O(371)](O(328),O(309)))V.flowerDiameter=Zl(L,G,{layerCount:V[O(315)],sizeMode:V[O(320)],sizeStepMm:V[O(316)]}).diameter;else{const J=T.bGonD(70,_0x22a748.PI)/180,F=T.umjRf(_0x1b52f1,1)?T[O(378)](_0x3cd6bf/(_0x33b041-1),J):0,Q=_0x55c664.cos(F);_0x5e06f9=_0x19681d*T.gMrTm(30,100)*Q}else V[O(376)]=tr(G,V.layerCount,V[O(320)],V.sizeStepMm);return V}),h[S(310)](v,!0)},confirmAddFlower:()=>{const S=d,{placementMode:T,layerCount:G,petalCount:L,petalType:q,sizeMode:O,sizeStepMm:V}=z,Z=z.fabricSquareSize,{length:J}=h.cDIaX(It,Z),F=.28,Q=Math.round(h[S(380)](h.VMgps(J,F),10))/10,W=[],_=[S(305),h[S(359)],h.eYGXf,h[S(354)],h.YErZd];let C=Q,A=0;for(let oe=0;h.GvmDy(oe,G);oe++)if(h[S(352)]===h[S(352)]){const ge=oe,je=1;let he;if(O==="uniform")he=je;else{const $e=h[S(311)](V,Z);he=_e(je+ge*$e,.3,3)}let Re;if(h[S(304)](oe,0))Re=Q;else if(h[S(360)]("omEsV","omEsV"))_0x25613e=S(319);else{const $e=h.QvAzW(O,h.RtBLs)?_e(h[S(338)](1,h.egkYh(h[S(335)](oe,1),V)/Z),.3,3):1,zt=h[S(380)](J,$e);let Et;if(h[S(304)](T,""))if(S(312)===h[S(336)]){const mt=h.wYldE(70,Math.PI)/180,Kt=G>1?h.egkYh(h[S(311)](oe,h[S(335)](G,1)),mt):0,Tn=Math.cos(Kt);Et=h.VMgps(zt*h.OUBLP(30,100),Tn)}else _0xa67dea.flowerDiameter=_0x546f0b(_0x58eae8,_0x14f908,{layerCount:_0x13a60b[S(315)],sizeMode:_0x1df142[S(320)],sizeStepMm:_0x2587e8.sizeStepMm}).diameter;else if(h.RbiZJ(h.DWIWK,h.ZmWEn)){const Ct=_0x54c987[S(345)](mt=>mt.id===_0x8a740c.id);Ct&&(Ct.radius=_0x23164b.radius,Ct[S(351)]=_0x2574d2.scale)}else Et=zt/3;C=h.EMgcw(C,Et),Re=h.OUBLP(Math[S(318)](h.wYldE(C,10)),10)}const et=h.XSSfV(oe,0)?0:Wn(L,A,L);A=et;let it;if(G===1)it=h[S(314)];else if(G<=5){const $e=h[S(304)](G,2)?[0,3]:G===3?[0,1,3]:h[S(366)](G,4)?[0,1,2,3]:[0,1,2,3,4];it=_[$e[oe]]??S(372)+h.BtwYb(oe,1)}else it="Layer "+h[S(330)](oe,1);W.push({id:h.cDIaX(Yt,h[S(324)]),name:it,order:h[S(323)](G,oe),petalType:q,petalCount:L,radius:Re,scale:he,widthScale:h[S(375)](li,L),offsetAngle:et,colorId:z.colorId||(u[S(340)]?.[0]?.id??S(333)),visible:!0,locked:!1})}else _0x41460c[S(341)]=_0x324c65[S(341)],_0x5503ab.scale=_0x166c82.scale;W.reverse();const M=[...W][S(377)]((oe,ge)=>oe[S(353)]-ge.order),j=h.axntC(T,S(369))?Zl(z[S(325)],Z,{layerCount:G,sizeMode:O,sizeStepMm:V})[S(382)]:h.qUjhq(tr,Z,G,O,V);h.kiOMH(X0,M,Z,z[S(376)]||j);for(const oe of M){const ge=W[S(345)](je=>je.id===oe.id);ge&&(ge[S(341)]=oe.radius,ge[S(351)]=oe[S(351)])}const B=h[S(349)](m.w,m.h),I=h.xnpRu(520,o),H=h.egkYh(I,B),k=h[S(379)](-f.x,o),N=-f.y/o;let R=k+h.FlLYM(H,2),Y=h[S(326)](N,I/2);const K=25;let le=0;for(;h.GvmDy(le,50)&&u[S(350)].some(oe=>Math[S(347)](oe[S(373)].x-R)<5&&Math[S(347)](oe.position.y-Y)<5);)R+=K,Y+=K,R=h.kiOMH(_e,R,0,y),Y=h.vwYiM(_e,Y,0,y),le++;const se=z[S(376)]||j,fe={id:Yt("flw"),name:S(358)+(u.flowers.length+1),position:{x:R,y:Y},flowerDiameter:se,rotation:0,layers:W,center:{type:h[S(332)],size:6,color:"col_white"},fabricSquareSize:Z,placementMode:T,baseDiameter:h[S(308)](T,"")?z.baseDiameter:h[S(310)](Fi,se)};r(oe=>{const ge=S;oe.flowers[ge(368)](fe)},!0),a({kind:h.wccMK,flowerId:fe.id}),i(oe=>({...oe,[fe.id]:!0})),v(!1)}}}(function(u,r){const a=Un,i=u();for(;;)try{if(-parseInt(a(311))/1*(parseInt(a(333))/2)+-parseInt(a(314))/3+parseInt(a(318))/4*(parseInt(a(297))/5)+parseInt(a(304))/6*(parseInt(a(335))/7)+parseInt(a(326))/8*(parseInt(a(341))/9)+-parseInt(a(299))/10+parseInt(a(296))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,668117);function Un(u,r){u=u-296;const a=Z0();let i=a[u];if(Un.pPIkas===void 0){var o=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",z=g+o;for(let b=0,D,w,S=0;w=d.charAt(S++);~w&&(D=b%4?D*64+w:w,b++%4)?g+=z.charCodeAt(S+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)w=h.indexOf(w);for(let b=0,D=g.length;b<D;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Un.RgiTjc=o,Un.ApRJPu={},Un.pPIkas=!0}const f=a[0],m=u+f,y=Un.ApRJPu[m];if(y)i=y;else{const d=function(h){this.jQvfmp=h,this.nbMNsa=[1,0,0],this.QebUkE=function(){return"newState"},this.qtYNvb="\\w+ *\\(\\) *{\\w+ *",this.SIarZA=`['|"].+['|"];? *}`};d.prototype.trAxpx=function(){const h=new RegExp(this.qtYNvb+this.SIarZA),g=h.test(this.QebUkE.toString())?--this.nbMNsa[1]:--this.nbMNsa[0];return this.onVHce(g)},d.prototype.onVHce=function(h){return~h?this.ohVtzy(this.jQvfmp):h},d.prototype.ohVtzy=function(h){for(let g=0,v=this.nbMNsa.length;g<v;g++)this.nbMNsa.push(Math.round(Math.random())),v=this.nbMNsa.length;return h(this.nbMNsa[0])},new d(Un).trAxpx(),i=Un.RgiTjc(i),Un.ApRJPu[m]=i}return i}const rb=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Lx=rb(void 0,function(){return Lx[Un(338)]().search("(((.+)+)+)+$").toString().constructor(Lx).search("(((.+)+)+)+$")});Lx();function Z0(){const u=["zMXVD2vY","mtuWnKPoDNHfAq","zMLUza","C3rLBMnPBhm","Cgv0ywXZ","BgvHzKDYB3vW","vK1yDhq","A2LUza","nJa0odeXCePkA21X","z3jVDxbZ","AgXTrvy","mZG5ntm4mgjeu1PxqW","zMXVD2vYCW","zMXVD2vYswq","Bgf5zxjjza","nePfuLjfBa","BgvHzKLK","z3jVDxa","Aw5JBhvKzxm","C0LysuS","BgvHzKDYB3vWCW","vMPjEKG","BgvHzKLKCW","ntiYodqWuxngswXe","BLHrELK","zMLSDgvY","BgvHzKDYB3vWswq","BgvHDMvZ","C3rLBMnPBa","A2zguNK","nhvxz1P6ua","y3rXAve","mZy3mtvfvwnrDgq","v2HSBM0","zMXVD2vYswrZ","Dg9tDhjPBMC","t2D5DLe","Bgf5zxjZ","mte3DMLlvu1t","Bgf5zxi","mtu3mdm5mZbQr2v1wwe","ndqZnJyWCu1OAhrP","DxrsBwi","nta2mJCZmgPHq1jWuG","EwTfB3u","AvjwCMC","wLj1vKK"];return Z0=function(){return u},Z0()}function cb(u,r){const a=Un,i={kfFRy:function(w,S){return w===S},sIXIK:a(342),ekteQ:function(w,S){return w===S},ykEou:a(339),hlmEV:"fzgcY",MiNnZ:a(320),hQOPI:a(298),GUGpJ:"leafGroup",nXQzY:"petal",lSonE:function(w,S){return w!==S},jsrzW:a(309),iTVAE:function(w,S){return w===S},ZRuVI:"flowers",lmMRh:function(w,S){return w===S},iRVrg:a(307),CJOfD:a(303),ctqiQ:function(w,S,T){return w(S,T)},WoIpj:function(w,S,T){return w(S,T)},zeuii:a(331),Whlnm:function(w,S){return w===S}},o=i[a(334)]($.useMemo,()=>{const w=a;if(i[w(332)](r[w(310)],w(303))||i.kfFRy(r.kind,i[w(322)])||i[w(332)](r[w(310)],"petal")||i.ekteQ(r.kind,"petals"))if(i[w(300)]===i[w(313)]){const S=_0x540f74(_0x3499ca,_0x1a6dc7.leafId);if(S)return new _0x4352e3(S[w(325)].filter(T=>T!==_0x3b1016[w(319)]))}else return u.flowers[w(305)](S=>S.id===r.flowerId)??null;return null},[u.flowers,r]),f=$.useMemo(()=>{const w=a;if(r[w(310)]===w(315))return u[w(315)][w(328)](S=>r[w(337)].includes(S.id));if(r.kind===i.MiNnZ){const S=(u[w(312)]??[])[w(305)](T=>T.id===r.groupId);if(S)return u[w(315)][w(328)](T=>S.flowerIds[w(321)](T.id))}return[]},[u.flowers,u[a(312)],r]),m=i[a(334)]($.useMemo,()=>{const w=a;return r.kind==="leaf"?i.hQOPI!==i.hQOPI?_0x3cf40a.kind==="leaf"?(_0x30c5f0[w(330)]??[])[w(305)](S=>S.id===_0xce322e[w(319)])??null:null:(u[w(330)]??[])[w(305)](S=>S.id===r.leafId)??null:null},[u.leaves,r]),y=$.useMemo(()=>r[a(310)]===i.GUGpJ?(u.leafGroups??[]).find(S=>S.id===r.leafGroupId)??null:null,[u.leafGroups,r]),d=i.WoIpj($.useMemo,()=>{const w=a;return o&&(r[w(310)]==="layer"||r[w(310)]===i[w(327)])?o[w(340)][w(305)](S=>S.id===r[w(317)])??null:null},[o,r]),h=r.kind==="petal"?r.index:null,g=r.kind===i[a(301)]?r.petals:[],v=i.iTVAE(r[a(310)],i.zeuii)?(u[a(306)]??[]).find(w=>w.id===r.stencilId)??null:null,z=i.ekteQ(r[a(310)],"flower")||r.kind===i.sIXIK||r[a(310)]===i[a(327)]||i[a(336)](r.kind,i[a(301)])?r.flowerId:null,b=i[a(334)]($.useMemo,()=>{const w=a;if(i.ekteQ(r[w(310)],"group")){if(i.lSonE(i.jsrzW,w(309)))return _0x34e63f[w(315)][w(305)](S=>S.id===_0x54f2bc.flowerId)??null;{const S=(u[w(312)]??[]).find(T=>T.id===r.groupId);if(S)return new Set(S[w(337)])}}if(i.iTVAE(r[w(310)],i[w(302)]))return new Set(r[w(337)]);if(i.lmMRh(r.kind,"flower")||r.kind==="layer"||r[w(310)]===i[w(327)]||r[w(310)]===i[w(301)]){const S=fa(u,r.flowerId);if(S)return r.kind===i.CJOfD?new Set(S[w(337)][w(328)](T=>T!==r[w(316)])):new Set(S.flowerIds)}return new Set},[r,u]),D=$.useMemo(()=>{const w=a;if(i.ekteQ("Ykxxr",w(324)))return _0x588284.layers.find(S=>S.id===_0x200cbc[w(317)])??null;if(r.kind===w(308)){const S=(u[w(323)]??[]).find(T=>T.id===r[w(329)]);if(S)return new Set(S[w(325)])}if(r.kind==="leaf"){const S=K0(u,r.leafId);if(S)return new Set(S.leafIds[w(328)](T=>T!==r[w(319)]))}return new Set},[r,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:y,selectedLayer:d,selectedPetalIndex:h,selectedPetals:g,selectedStencil:v,selectedFlowerId:z,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function ub(u){const{project:r,selection:a,setSelection:i,applyUpdate:o}=u,f=$.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:m,containerRef:y,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:g,isDesktop:v}=$m(),z=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,D]=$.useState({});$.useEffect(()=>{try{const ve=localStorage.getItem(z);if(ve){const Ye=JSON.parse(ve);if(Ye&&typeof Ye=="object"){D(Ye);return}}}catch{}const de=r.flowers?.[0];de&&D({[de.id]:!0})},[z]),$.useEffect(()=>{try{localStorage.setItem(z,JSON.stringify(b))}catch{}},[z,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;D(ve=>ve?.[de]?ve:{...ve,[de]:!0})}a.kind==="flowers"&&D(de=>{const ve={...de};for(const Ye of a.flowerIds)ve[Ye]=!0;return ve})},[a]);const w=de=>b?.[de]??!1,S=de=>D(ve=>({...ve,[de]:!(ve?.[de]??!1)})),T=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[G,L]=$.useState({});$.useEffect(()=>{try{const ve=localStorage.getItem(T);if(ve){const Ye=JSON.parse(ve);if(Ye&&typeof Ye=="object"){L(Ye);return}}}catch{}const de=r.groups??[];if(de.length>0){const ve={};for(const Ye of de)ve[Ye.id]=!0;L(ve)}},[T]),$.useEffect(()=>{try{localStorage.setItem(T,JSON.stringify(G))}catch{}},[T,G]);const q=de=>G?.[de]??!0,O=de=>L(ve=>({...ve,[de]:!(ve?.[de]??!0)})),V=$.useRef({flowerId:null,timer:null}),Z=de=>{const ve=V.current.timer;ve&&window.clearTimeout(ve),V.current.flowerId=de,V.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),D(Ye=>({...Ye,[de]:!0})),V.current.timer=null,V.current.flowerId=null},200)},J=de=>{const ve=V.current.timer;ve&&V.current.flowerId===de&&window.clearTimeout(ve),V.current.timer=null,V.current.flowerId=null,i({kind:"flower",flowerId:de}),S(de)},F=$.useRef(null),[Q,W]=$.useState({w:520,h:520});$.useEffect(()=>{const de=F.current;if(!de)return;const ve=new ResizeObserver(Ye=>{for(const Wt of Ye){const{width:vt,height:xn}=Wt.contentRect;vt>0&&xn>0&&W({w:vt,h:xn})}});return ve.observe(de),()=>ve.disconnect()},[]);const _=de=>{const ve=F.current;if(!ve)return{x:0,y:0};const Ye=ve.createSVGPoint();Ye.x=de.clientX,Ye.y=de.clientY;const Wt=ve.getScreenCTM();if(!Wt)return{x:0,y:0};const vt=Ye.matrixTransform(Wt.inverse());return{x:vt.x,y:vt.y}},C=500*cn,A=-300*cn,M=800*cn,j=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[B,I]=$.useState(6),[H,k]=$.useState(j[6]),N=$.useCallback(de=>{I(ve=>{const Ye=typeof de=="function"?de(ve):de;return k(j[Ye]),Ye})},[j]),R=$.useCallback(de=>{const ve=_e(de,j[0],j[j.length-1]);k(ve);let Ye=0,Wt=Math.abs(j[0]-ve);for(let vt=1;vt<j.length;vt++){const xn=Math.abs(j[vt]-ve);xn<Wt&&(Ye=vt,Wt=xn)}I(Ye)},[j]),[Y,K]=$.useState({x:0,y:0}),[le,se]=$.useState(!0),[fe,oe]=$.useState(!1),ge=$.useRef(null),je=$.useMemo(()=>{const de=Q.w/Q.h,ve=520,Ye=ve*de;return(Wt,vt=H)=>{const xn=_e(Wt.x,-(M*vt-Ye),-A*vt),ri=_e(Wt.y,-(M*vt-ve),-A*vt);return{x:xn,y:ri}}},[Q,H,A,M]),he=$.useMemo(()=>je(Y),[Y,je]),Re=$.useCallback(de=>K(de),[]),et=$.useMemo(()=>{const de=Q.w/Q.h,ve=520,Ye=ve*de,Wt=-he.x/H,vt=-he.y/H;return`${Wt} ${vt} ${Ye/H} ${ve/H}`},[H,he,Q]),{addLeaf:it,deleteLeafById:$e,handleShiftLeafSelect:zt,groupSelectedLeaves:Et,ungroupLeaves:Ct,addLeafToGroup:mt,removeLeafFromGroup:Kt}=lb({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:H,pan:he,stageSize:Q,CANVAS_MAX_SVG:C}),{showAddFlowerDialog:Tn,setShowAddFlowerDialog:Qn,addFlowerOpts:Pn,setAddFlowerOpts:He,addFlower:un,confirmAddFlower:vl}=ib({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:D,zoom:H,pan:he,stageSize:Q,CANVAS_MAX_SVG:C}),{selectedFlower:Kl,selectedFlowers:Bn,selectedLeaf:ha,selectedLeafGroup:qn,selectedLayer:ai,selectedPetalIndex:Xl,selectedPetals:Fn,selectedStencil:Lt,selectedFlowerId:Ze,groupHighlightedFlowerIds:ue,leafGroupHighlightedLeafIds:De}=cb(r,a),{deleteFlowerById:Oe,deleteLayerById:Ne,addOuterLayer:Ce,deleteOuterLayer:lt,deleteSelected:Ge,groupSelectedFlowers:Se,ungroupFlowers:st,addToGroup:rt,mergeGroups:bt,addStencil:ot,deleteStencil:Xe,handleShiftFlowerSelect:Gn,togglePetalSelection:Dt}=tb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:L,zoom:H,pan:he,stageSize:Q,CANVAS_MAX_SVG:C,deleteLeafById:$e,ungroupLeaves:Ct}),Ae=im({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:u.dragRef,zoom:H,pan:he,setPan:Re,stageRef:F,clientToSvgPoint:_,togglePetalSelection:Dt}),[Tt,gt]=$.useState(0),ct=a.kind,ii=ct==="flower"?a.flowerId:null,rr=ct==="flowers"?a.flowerIds?.join(","):null,cr=ct==="layer"||ct==="petal"?a.layerId:null,Zn=ct==="petal"?a.index:null,wt=ct==="petals"?a.petals?.length:null;$.useEffect(()=>{ct!=="project"&&gt(Date.now())},[ct,ii,rr,cr,Zn,wt]),$.useEffect(()=>{if(!ge.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ve=ge.current.querySelector(`[data-flower-id="${de}"]`);ve&&ve.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ut=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Tt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.left}%`}:void 0,children:x.jsx(cm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:D,isExpanded:w,toggleExpanded:S,scheduleFlowerRowClick:Z,handleFlowerRowDoubleClick:J,addFlower:un,deleteSelected:Ge,addOuterLayer:Ce,deleteOuterLayer:lt,deleteFlowerById:Oe,deleteLayerById:Ne,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:ge,groups:r.groups??[],expandedGroups:G,isGroupExpanded:q,toggleGroupExpanded:O,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:st,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>i({kind:"leafGroup",leafGroupId:de}),onAddLeaf:it,onDeleteLeaf:$e})}),x.jsx(Ud,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:g}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Lm,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Ze,zoom:H,setZoom:R,zoomLevel:B,setZoomLevel:N,ZOOM_LEVELS:j,pan:he,panRaw:Y,setPan:Re,showGrid:le,setShowGrid:se,showHelp:fe,setShowHelp:oe,stageRef:F,viewBox:et,dashSyncToken:Tt,dashDelay:Ut,beginPan:Ae.beginPan,updatePan:Ae.updatePan,endPan:Ae.endPan,beginMarquee:Ae.beginMarquee,updateMarquee:Ae.updateMarquee,endMarquee:Ae.endMarquee,marqueeRef:Ae.marqueeRef,marqueeRect:Ae.marqueeRect,beginFlowerDrag:Ae.beginFlowerDrag,updateFlowerDrag:Ae.updateFlowerDrag,endFlowerDrag:Ae.endFlowerDrag,scaleDragRef:Ae.scaleDragRef,beginScaleDrag:Ae.beginScaleDrag,updateScaleDrag:Ae.updateScaleDrag,endScaleDrag:Ae.endScaleDrag,rotationDragRef:Ae.rotationDragRef,beginRotationDrag:Ae.beginRotationDrag,updateRotationDrag:Ae.updateRotationDrag,endRotationDrag:Ae.endRotationDrag,widthScaleDragRef:Ae.widthScaleDragRef,beginWidthScaleDrag:Ae.beginWidthScaleDrag,updateWidthScaleDrag:Ae.updateWidthScaleDrag,endWidthScaleDrag:Ae.endWidthScaleDrag,radiusDragRef:Ae.radiusDragRef,beginRadiusDrag:Ae.beginRadiusDrag,updateRadiusDrag:Ae.updateRadiusDrag,endRadiusDrag:Ae.endRadiusDrag,togglePetalSelection:Dt,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:ot,onDeleteStencil:Xe,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:Gn,groupHighlightedFlowerIds:ue,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:De,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onShiftSelectLeaf:zt})}),x.jsx(Ud,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:g}),x.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.right}%`}:void 0,children:x.jsx(Jm,{project:r,selection:a,applyUpdate:o,selectedFlower:Kl,selectedFlowers:Bn,selectedLayer:ai,selectedPetalIndex:Xl,selectedPetals:Fn,selectedStencil:Lt,onDeleteStencil:Xe,groups:r.groups??[],onGroupFlowers:Se,onUngroupFlowers:st,onAddToGroup:rt,onMergeGroups:bt,selectedLeaf:ha,selectedLeafGroup:qn,leafGroups:r.leafGroups??[],onDeleteLeaf:$e,onGroupLeaves:Et,onUngroupLeaves:Ct,onAddLeafToGroup:mt,onRemoveLeafFromGroup:Kt})})]}),Tn&&x.jsx(Qm,{palette:r.palette,addFlowerOpts:Pn,setAddFlowerOpts:He,onConfirm:vl,onCancel:()=>Qn(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ve])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:ve})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function xb({cg:u}){const[r,a]=$.useState("w"),[i,o]=$.useState(""),f=u.totalAreaCm2,m=parseFloat(i),d=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(h=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>o(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>o(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function sb(u){const{recipe:r}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(xb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function ob(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[u,r]=$.useState("home"),[a,i]=$.useState([]),[o,f]=$.useState(null),[m,y]=$.useState({kind:"project"}),[d,h]=$.useState([]),[g,v]=$.useState(0),z=$.useRef(o),b=$.useRef(d),D=$.useRef(g);$.useEffect(()=>{z.current=o},[o]),$.useEffect(()=>{b.current=d},[d]),$.useEffect(()=>{D.current=g},[g]);const w=$.useRef(null),S=$.useRef(null),T=$.useRef(null),G=$.useRef(null),[L,q]=$.useState(null);$.useEffect(()=>{const k=L?window.setTimeout(()=>q(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[L]),$.useEffect(()=>{i(er())},[]);function O(k){const N=JSON.stringify(k);h([N]),v(0)}function V(k,N=!0){if(!N){f(je=>{if(!je)return je;const he=Ul(je);return k(he),he.updatedAt=C0(),he});return}const R=z.current;if(!R)return;const Y=Ul(R);k(Y),Y.updatedAt=C0(),f(Y);const K=b.current,le=D.current;if(K.length===0){O(Y);return}const se=JSON.stringify(Y);let oe=[...K.slice(0,le+1),se];const ge=50;oe.length>ge&&(oe=oe.slice(oe.length-ge)),h(oe),v(oe.length-1)}function Z(){v(k=>{if(k<=0)return k;const N=k-1,R=b.current[N];return R&&f(oa(JSON.parse(R))),q("Undo"),N})}function J(){v(k=>{if(k>=b.current.length-1)return k;const N=k+1,R=b.current[N];return R&&f(oa(JSON.parse(R))),q("Redo"),N})}function F(){if(!o)return;const k=Ih(o);i(er()),q(k?"Saved":" ")}function Q(){if(!o)return;const k=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),N=URL.createObjectURL(k),R=document.createElement("a");R.href=N,R.download=`${o.title||"tsumami"}.json`,R.click(),URL.revokeObjectURL(N),q("JSON exported")}function W(k){const N=new FileReader;N.onload=()=>{try{const R=JSON.parse(String(N.result??""));if(!R||typeof R!="object"||!Array.isArray(R.flowers))throw new Error("Invalid JSON");const Y=oa(R);f(Y),y({kind:"project"}),O(Y),r("editor"),q("Imported")}catch{q("Import failed")}},N.readAsText(k)}function _(k){const N=oa(k);f(N),y({kind:"project"}),O(N),r("editor")}function C(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function A(){if(!o)return;const k=C(m);if(!k)return;const N=o.flowers.find(R=>R.id===k);N&&(S.current=Ul(N),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:N},null,2)).catch(()=>{}),q("Flower copied"))}function M(){if(!o||m.kind!=="leaf")return;const k=(o.leaves??[]).find(N=>N.id===m.leafId);k&&(T.current=Ul(k),q("Leaf copied"))}function j(){if(!o)return;const k=S.current;if(!k){q("Nothing to paste");return}const N=Gh(k,{x:12+Math.random()*10,y:12+Math.random()*10});V(R=>{R.flowers.push(N)},!0),y({kind:"flower",flowerId:N.id}),q("Flower pasted")}function B(){if(!o)return;const k=T.current;if(!k)return;const N=Yt("leaf"),R={...Ul(k),id:N,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};V(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(R)},!0),y({kind:"leaf",leafId:R.id}),q("Leaf pasted")}function I(k){if(!o)return;const N=C(m);N&&(V(R=>{const Y=R.flowers.findIndex(fe=>fe.id===N);if(Y<0)return;const K=R.flowers,le=K[Y];if(!le)return;if(K.splice(Y,1),k==="front"){K.push(le);return}if(k==="back"){K.unshift(le);return}if(k==="forward"){if(Y>=K.length){K.push(le);return}K.splice(Y+1,0,le);return}const se=_e(Y-1,0,K.length);K.splice(se,0,le)},!0),q(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function k(R){const Y=R;if(!Y)return!1;const K=String(Y.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!Y.isContentEditable}function N(R){if(!(k(R.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?R.metaKey:R.ctrlKey))){if(u==="editor"){if(R.key.toLowerCase()==="c"){R.preventDefault(),m.kind==="leaf"?M():A();return}if(R.key.toLowerCase()==="v"){R.preventDefault(),T.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!S.current)?B():j();return}}R.key.toLowerCase()==="z"&&(R.preventDefault(),R.shiftKey?J():Z()),R.key.toLowerCase()==="s"&&(R.preventDefault(),F())}}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,d,g,m,u]);const H=$.useMemo(()=>o?Zh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Wh,{view:u,onNavigate:r,project:o,onSave:F,onLoad:()=>r("home"),onImportJson:()=>G.current?.click(),onExportJson:Q,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&o&&Xh(k,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&o&&Jh(k,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:G,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const N=k.target.files?.[0];N&&W(N),k.currentTarget.value=""}}),L&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:L}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(Qh,{saved:a,onNew:()=>r("new"),onOpen:k=>{const N=oa(Ul(k));f(N),y({kind:"project"}),O(N),r("editor")},onDelete:k=>{Uh(k),i(er()),q("Deleted")}}),u==="new"&&x.jsx(Ph,{onBack:()=>r("home"),onCreate:k=>{const N=qh({title:k});_(N)}}),u==="editor"&&o&&x.jsx(ub,{project:o,selection:m,setSelection:y,applyUpdate:V,onGoRecipe:()=>r("recipe"),onImport:W,dragRef:w,onCopyFlower:A,onPasteFlower:j,onArrangeFlower:I,canPasteFlower:!!S.current,onUndo:Z,onRedo:J,canUndo:g>0,canRedo:g<d.length-1}),u==="recipe"&&o&&H&&x.jsx(sb,{project:o,recipe:H,onBack:()=>r("editor"),onExportJson:Q}),u==="terms"&&x.jsx(ob,{onBack:()=>r("home")}),u==="privacy"&&x.jsx(fb,{onBack:()=>r("home")}),(u==="editor"||u==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(db,{onNavigate:r})]})}class mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}yh.createRoot(document.getElementById("root")).render(x.jsx($.StrictMode,{children:x.jsx(mb,{children:x.jsx(hb,{})})}));

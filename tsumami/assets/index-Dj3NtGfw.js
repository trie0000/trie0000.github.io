(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var tx={exports:{}},Fi={};var Dd;function oh(){if(Dd)return Fi;Dd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:u,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Fi.Fragment=i,Fi.jsx=a,Fi.jsxs=a,Fi}var Nd;function fh(){return Nd||(Nd=1,tx.exports=oh()),tx.exports}var x=fh(),nx={exports:{}},Ne={};var Ad;function dh(){if(Ad)return Ne;Ad=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),N=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function q(z,E,Y){this.props=z,this.context=E,this.refs=w,this.updater=Y||A}q.prototype.isReactComponent={},q.prototype.setState=function(z,E){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,E,"setState")},q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=q.prototype;function k(z,E,Y){this.props=z,this.context=E,this.refs=w,this.updater=Y||A}var I=k.prototype=new O;I.constructor=k,C(I,q.prototype),I.isPureReactComponent=!0;var U=Array.isArray;function Q(){}var B={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function le(z,E,Y){var K=Y.ref;return{$$typeof:u,type:z,key:E,ref:K!==void 0?K:null,props:Y}}function V(z,E){return le(z.type,E,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function v(z){var E={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Y){return E[Y]})}var j=/\/+/g;function D(z,E){return typeof z=="object"&&z!==null&&z.key!=null?v(""+z.key):E.toString(36)}function M(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(E){z.status==="pending"&&(z.status="fulfilled",z.value=E)},function(E){z.status==="pending"&&(z.status="rejected",z.reason=E)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function S(z,E,Y,K,te){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(ue){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case u:case i:fe=!0;break;case _:return fe=z._init,S(fe(z._payload),E,Y,K,te)}}if(fe)return te=te(z),fe=K===""?"."+D(z,0):K,U(te)?(Y="",fe!=null&&(Y=fe.replace(j,"$&/")+"/"),S(te,E,Y,"",function(Ce){return Ce})):te!=null&&(W(te)&&(te=V(te,Y+(te.key==null||z&&z.key===te.key?"":(""+te.key).replace(j,"$&/")+"/")+fe)),E.push(te)),1;fe=0;var oe=K===""?".":K+":";if(U(z))for(var ve=0;ve<z.length;ve++)K=z[ve],ue=oe+D(K,ve),fe+=S(K,E,Y,ue,te);else if(ve=b(z),typeof ve=="function")for(z=ve.call(z),ve=0;!(K=z.next()).done;)K=K.value,ue=oe+D(K,ve++),fe+=S(K,E,Y,ue,te);else if(ue==="object"){if(typeof z.then=="function")return S(M(z),E,Y,K,te);throw E=String(z),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return fe}function L(z,E,Y){if(z==null)return z;var K=[],te=0;return S(z,K,"","",function(ue){return E.call(Y,ue,te++)}),K}function G(z){if(z._status===-1){var E=z._result;E=E(),E.then(function(Y){(z._status===0||z._status===-1)&&(z._status=1,z._result=Y)},function(Y){(z._status===0||z._status===-1)&&(z._status=2,z._result=Y)}),z._status===-1&&(z._status=0,z._result=E)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},R={map:L,forEach:function(z,E,Y){L(z,function(){E.apply(this,arguments)},Y)},count:function(z){var E=0;return L(z,function(){E++}),E},toArray:function(z){return L(z,function(E){return E})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ne.Activity=g,Ne.Children=R,Ne.Component=q,Ne.Fragment=a,Ne.Profiler=o,Ne.PureComponent=k,Ne.StrictMode=r,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return B.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(z,E,Y){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var K=C({},z.props),te=z.key;if(E!=null)for(ue in E.key!==void 0&&(te=""+E.key),E)!X.call(E,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&E.ref===void 0||(K[ue]=E[ue]);var ue=arguments.length-2;if(ue===1)K.children=Y;else if(1<ue){for(var fe=Array(ue),oe=0;oe<ue;oe++)fe[oe]=arguments[oe+2];K.children=fe}return le(z.type,te,K)},Ne.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:f,_context:z},z},Ne.createElement=function(z,E,Y){var K,te={},ue=null;if(E!=null)for(K in E.key!==void 0&&(ue=""+E.key),E)X.call(E,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(te[K]=E[K]);var fe=arguments.length-2;if(fe===1)te.children=Y;else if(1<fe){for(var oe=Array(fe),ve=0;ve<fe;ve++)oe[ve]=arguments[ve+2];te.children=oe}if(z&&z.defaultProps)for(K in fe=z.defaultProps,fe)te[K]===void 0&&(te[K]=fe[K]);return le(z,ue,te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:y,render:z}},Ne.isValidElement=W,Ne.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:G}},Ne.memo=function(z,E){return{$$typeof:d,type:z,compare:E===void 0?null:E}},Ne.startTransition=function(z){var E=B.T,Y={};B.T=Y;try{var K=z(),te=B.S;te!==null&&te(Y,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Q,Z)}catch(ue){Z(ue)}finally{E!==null&&Y.types!==null&&(E.types=Y.types),B.T=E}},Ne.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ne.use=function(z){return B.H.use(z)},Ne.useActionState=function(z,E,Y){return B.H.useActionState(z,E,Y)},Ne.useCallback=function(z,E){return B.H.useCallback(z,E)},Ne.useContext=function(z){return B.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,E){return B.H.useDeferredValue(z,E)},Ne.useEffect=function(z,E){return B.H.useEffect(z,E)},Ne.useEffectEvent=function(z){return B.H.useEffectEvent(z)},Ne.useId=function(){return B.H.useId()},Ne.useImperativeHandle=function(z,E,Y){return B.H.useImperativeHandle(z,E,Y)},Ne.useInsertionEffect=function(z,E){return B.H.useInsertionEffect(z,E)},Ne.useLayoutEffect=function(z,E){return B.H.useLayoutEffect(z,E)},Ne.useMemo=function(z,E){return B.H.useMemo(z,E)},Ne.useOptimistic=function(z,E){return B.H.useOptimistic(z,E)},Ne.useReducer=function(z,E,Y){return B.H.useReducer(z,E,Y)},Ne.useRef=function(z){return B.H.useRef(z)},Ne.useState=function(z){return B.H.useState(z)},Ne.useSyncExternalStore=function(z,E,Y){return B.H.useSyncExternalStore(z,E,Y)},Ne.useTransition=function(){return B.H.useTransition()},Ne.version="19.2.3",Ne}var Ld;function Bx(){return Ld||(Ld=1,nx.exports=dh()),nx.exports}var F=Bx(),lx={exports:{}},$i={},ax={exports:{}},ix={};var Td;function hh(){return Td||(Td=1,(function(u){function i(S,L){var G=S.length;S.push(L);e:for(;0<G;){var Z=G-1>>>1,R=S[Z];if(0<o(R,L))S[Z]=L,S[G]=R,G=Z;else break e}}function a(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var L=S[0],G=S.pop();if(G!==L){S[0]=G;e:for(var Z=0,R=S.length,z=R>>>1;Z<z;){var E=2*(Z+1)-1,Y=S[E],K=E+1,te=S[K];if(0>o(Y,G))K<R&&0>o(te,Y)?(S[Z]=te,S[K]=G,Z=K):(S[Z]=Y,S[E]=G,Z=E);else if(K<R&&0>o(te,G))S[Z]=te,S[K]=G,Z=K;else break e}}return L}function o(S,L){var G=S.sortIndex-L.sortIndex;return G!==0?G:S.id-L.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();u.unstable_now=function(){return h.now()-y}}var m=[],d=[],_=1,g=null,N=3,b=!1,A=!1,C=!1,w=!1,q=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function I(S){for(var L=a(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=S)r(d),L.sortIndex=L.expirationTime,i(m,L);else break;L=a(d)}}function U(S){if(C=!1,I(S),!A)if(a(m)!==null)A=!0,Q||(Q=!0,v());else{var L=a(d);L!==null&&M(U,L.startTime-S)}}var Q=!1,B=-1,X=5,le=-1;function V(){return w?!0:!(u.unstable_now()-le<X)}function W(){if(w=!1,Q){var S=u.unstable_now();le=S;var L=!0;try{e:{A=!1,C&&(C=!1,O(B),B=-1),b=!0;var G=N;try{t:{for(I(S),g=a(m);g!==null&&!(g.expirationTime>S&&V());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,N=g.priorityLevel;var R=Z(g.expirationTime<=S);if(S=u.unstable_now(),typeof R=="function"){g.callback=R,I(S),L=!0;break t}g===a(m)&&r(m),I(S)}else r(m);g=a(m)}if(g!==null)L=!0;else{var z=a(d);z!==null&&M(U,z.startTime-S),L=!1}}break e}finally{g=null,N=G,b=!1}L=void 0}}finally{L?v():Q=!1}}}var v;if(typeof k=="function")v=function(){k(W)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=W,v=function(){D.postMessage(null)}}else v=function(){q(W,0)};function M(S,L){B=q(function(){S(u.unstable_now())},L)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(S){S.callback=null},u.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<S?Math.floor(1e3/S):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(S){switch(N){case 1:case 2:case 3:var L=3;break;default:L=N}var G=N;N=L;try{return S()}finally{N=G}},u.unstable_requestPaint=function(){w=!0},u.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var G=N;N=S;try{return L()}finally{N=G}},u.unstable_scheduleCallback=function(S,L,G){var Z=u.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,S){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=G+R,S={id:_++,callback:L,priorityLevel:S,startTime:G,expirationTime:R,sortIndex:-1},G>Z?(S.sortIndex=G,i(d,S),a(m)===null&&S===a(d)&&(C?(O(B),B=-1):C=!0,M(U,G-Z))):(S.sortIndex=R,i(m,S),A||b||(A=!0,Q||(Q=!0,v()))),S},u.unstable_shouldYield=V,u.unstable_wrapCallback=function(S){var L=N;return function(){var G=N;N=L;try{return S.apply(this,arguments)}finally{N=G}}}})(ix)),ix}var Ed;function mh(){return Ed||(Ed=1,ax.exports=hh()),ax.exports}var rx={exports:{}},Ut={};var Bd;function bh(){if(Bd)return Ut;Bd=1;var u=Bx();function i(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,d,_){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:m,containerInfo:d,implementation:_}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(m,d){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(m,d,null,_)},Ut.flushSync=function(m){var d=h.T,_=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=d,r.p=_,r.d.f()}},Ut.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Ut.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ut.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var _=d.as,g=y(_,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;_==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:N,fetchPriority:b}):_==="script"&&r.d.X(m,{crossOrigin:g,integrity:N,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ut.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var _=y(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Ut.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var _=d.as,g=y(_,d.crossOrigin);r.d.L(m,_,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ut.preloadModule=function(m,d){if(typeof m=="string")if(d){var _=y(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Ut.requestFormReset=function(m){r.d.r(m)},Ut.unstable_batchedUpdates=function(m,d){return m(d)},Ut.useFormState=function(m,d,_){return h.H.useFormState(m,d,_)},Ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var qd;function vh(){if(qd)return rx.exports;qd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),rx.exports=bh(),rx.exports}var Gd;function gh(){if(Gd)return $i;Gd=1;var u=mh(),i=Bx(),a=vh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var s=c.alternate;if(s===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===s.child){for(s=c.child;s;){if(s===n)return m(c),e;if(s===l)return m(c),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=s;else{for(var p=!1,T=c.child;T;){if(T===n){p=!0,n=c,l=s;break}if(T===l){p=!0,l=c,n=s;break}T=T.sibling}if(!p){for(T=s.child;T;){if(T===n){p=!0,n=s,l=c;break}if(T===l){p=!0,l=s,n=c;break}T=T.sibling}if(!p)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function v(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function D(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case q:return"Profiler";case w:return"StrictMode";case U:return"Suspense";case Q:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case k:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:D(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return D(e(t))}catch{}}return null}var M=Array.isArray,S=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Z=[],R=-1;function z(e){return{current:e}}function E(e){0>R||(e.current=Z[R],Z[R]=null,R--)}function Y(e,t){R++,Z[R]=e.current,e.current=t}var K=z(null),te=z(null),ue=z(null),fe=z(null);function oe(e,t){switch(Y(ue,t),Y(te,e),Y(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Pf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Pf(t),e=Ff(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}E(K),Y(K,e)}function ve(){E(K),E(te),E(ue)}function Ce(e){e.memoizedState!==null&&Y(fe,e);var t=K.current,n=Ff(t,e.type);t!==n&&(Y(te,e),Y(K,n))}function he(e){te.current===e&&(E(K),E(te)),fe.current===e&&(E(fe),Ji._currentValue=G)}var ze,Je;function Ke(e){if(ze===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Je=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Je}var He=!1;function ut(e,t){if(!e||He)return"";He=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ne=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),p=s[0],T=s[1];if(p&&T){var H=p.split(`
`),ee=T.split(`
`);for(c=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;c<ee.length&&!ee[c].includes("DetermineComponentFrameRoot");)c++;if(l===H.length||c===ee.length)for(l=H.length-1,c=ee.length-1;1<=l&&0<=c&&H[l]!==ee[c];)c--;for(;1<=l&&0<=c;l--,c--)if(H[l]!==ee[c]){if(l!==1||c!==1)do if(l--,c--,0>c||H[l]!==ee[c]){var ie=`
`+H[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{He=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ke(n):""}function bt(e,t){switch(e.tag){case 26:case 27:case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return e.child!==t&&t!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return ut(e.type,!1);case 11:return ut(e.type.render,!1);case 1:return ut(e.type,!0);case 31:return Ke("Activity");default:return""}}function Lt(e){try{var t="",n=null;do t+=bt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,Bt=u.unstable_scheduleCallback,Wt=u.unstable_cancelCallback,Fn=u.unstable_shouldYield,$n=u.unstable_requestPaint,Ve=u.unstable_now,yn=u.unstable_getCurrentPriorityLevel,_l=u.unstable_ImmediatePriority,Wl=u.unstable_UserBlockingPriority,In=u.unstable_NormalPriority,ga=u.unstable_LowPriority,On=u.unstable_IdlePriority,ci=u.log,Jl=u.unstable_setDisableYieldValue,el=null,qt=null;function Qe(e){if(typeof ci=="function"&&Jl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(el,e)}catch{}}var se=Math.clz32?Math.clz32:Se,Be=Math.log,qe=Math.LN2;function Se(e){return e>>>=0,e===0?32:31-(Be(e)/qe|0)|0}var ye=256,Ae=262144,De=4194304;function ge(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,s=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~s,l!==0?c=ge(l):(p&=T,p!==0?c=ge(p):n||(n=T&~e,n!==0&&(c=ge(n))))):(T=l&~s,T!==0?c=ge(T):p!==0?c=ge(p):n||(n=l&~e,n!==0&&(c=ge(n)))),c===0?0:t!==0&&t!==c&&(t&s)===0&&(s=c&-c,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:c}function Oe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tt(e,t,n,l,c,s){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,H=e.expirationTimes,ee=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-se(n),ce=1<<ie;T[ie]=0,H[ie]=-1;var ne=ee[ie];if(ne!==null)for(ee[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ce}l!==0&&je(e,l,0),s!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=s&~(p&~t))}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-se(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-se(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function lt(e,t){var n=t&-t;return n=(n&42)!==0?1:at(n),(n&(e.suspendedLanes|t))!==0?0:n}function at(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:_d(e.type))}function Vl(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var _n=Math.random().toString(36).slice(2),Dt="__reactFiber$"+_n,Ht="__reactProps$"+_n,de="__reactContainer$"+_n,pe="__reactEvents$"+_n,Ze="__reactListeners$"+_n,Jt="__reactHandles$"+_n,Ct="__reactResources$"+_n,un="__reactMarker$"+_n;function xi(e){delete e[Dt],delete e[Ht],delete e[pe],delete e[Ze],delete e[Jt]}function pa(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=id(e);e!==null;){if(n=e[Dt])return n;e=id(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Dt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[Ct];return t||(t=e[Ct]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[un]=!0}var Rx=new Set,kx={};function Ql(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(kx[e]=t,e=0;e<t.length;e++)Rx.add(t[e])}var n1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ix={},Ox={};function l1(e){return ht.call(Ox,e)?!0:ht.call(Ix,e)?!1:n1.test(e)?Ox[e]=!0:(Ix[e]=!0,!1)}function x0(e,t,n){if(l1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function s0(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function a1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,s.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){if(!e._valueTracker){var t=Yx(e)?"checked":"value";e._valueTracker=a1(e,t,""+e[t])}}function Hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Yx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function o0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var i1=/[\n"\\]/g;function Cn(e){return e.replace(i1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vr(e,t,n,l,c,s,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Qr(e,p,Sn(t)):n!=null?Qr(e,p,Sn(n)):l!=null&&e.removeAttribute("value"),c==null&&s!=null&&(e.defaultChecked=!!s),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Sn(T):e.removeAttribute("name")}function Ux(e,t,n,l,c,s,p,T){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Jr(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jr(e)}function Qr(e,t,n){t==="number"&&o0(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Kx(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Zx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Jr(e)}function Ma(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var r1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||r1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Xx(e,c,l)}else for(var s in t)t.hasOwnProperty(s)&&Xx(e,s,t[s])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function f0(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var Fr=null;function $r(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ja=null,za=null;function Jx(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ht]||null;if(!c)throw Error(r(90));Vr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hx(l)}break e;case"textarea":Kx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var eu=!1;function Vx(e,t,n){if(eu)return e(t,n);eu=!0;try{var l=e(t);return l}finally{if(eu=!1,(ja!==null||za!==null)&&($0(),ja&&(t=ja,e=za,za=ja=null,Jx(t),e)))for(t=0;t<e.length;t++)Jx(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ht]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(ll)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){tu=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{tu=!1}var Sl=null,nu=null,d0=null;function Qx(){if(d0)return d0;var e,t=nu,n=t.length,l,c="value"in Sl?Sl.value:Sl.textContent,s=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===c[s-l];l++);return d0=c.slice(e,1<l?1-l:void 0)}function h0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m0(){return!0}function Px(){return!1}function Vt(e){function t(n,l,c,s,p){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=s,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(s):s[T]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m0:Px,this.isPropagationStopped=Px,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},b0=Vt(Pl),di=g({},Pl,{view:0,detail:0}),x1=Vt(di),lu,au,hi,v0=g({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(lu=e.screenX-hi.screenX,au=e.screenY-hi.screenY):au=lu=0,hi=e),lu)},movementY:function(e){return"movementY"in e?e.movementY:au}}),Fx=Vt(v0),s1=g({},v0,{dataTransfer:0}),o1=Vt(s1),f1=g({},di,{relatedTarget:0}),iu=Vt(f1),d1=g({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),h1=Vt(d1),m1=g({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b1=Vt(m1),v1=g({},Pl,{data:0}),$x=Vt(v1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p1[e])?!!t[e]:!1}function ru(){return _1}var S1=g({},di,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=h0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?h0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?h0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C1=Vt(S1),w1=g({},v0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Vt(w1),M1=g({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),j1=Vt(M1),z1=g({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),D1=Vt(z1),N1=g({},v0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=Vt(N1),L1=g({},Pl,{newState:0,oldState:0}),T1=Vt(L1),E1=[9,13,27,32],uu=ll&&"CompositionEvent"in window,mi=null;ll&&"documentMode"in document&&(mi=document.documentMode);var B1=ll&&"TextEvent"in window&&!mi,ts=ll&&(!uu||mi&&8<mi&&11>=mi),ns=" ",ls=!1;function as(e,t){switch(e){case"keyup":return E1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function is(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function q1(e,t){switch(e){case"compositionend":return is(t);case"keypress":return t.which!==32?null:(ls=!0,ns);case"textInput":return e=t.data,e===ns&&ls?null:e;default:return null}}function G1(e,t){if(Da)return e==="compositionend"||!uu&&as(e,t)?(e=Qx(),d0=nu=Sl=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ts&&t.locale!=="ko"?null:t.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R1[e.type]:t==="textarea"}function us(e,t,n,l){ja?za?za.push(l):za=[l]:ja=l,t=rr(t,"onChange"),0<t.length&&(n=new b0("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,vi=null;function k1(e){Zf(e,0)}function g0(e){var t=si(e);if(Hx(t))return e}function cs(e,t){if(e==="change")return t}var xs=!1;if(ll){var cu;if(ll){var xu="oninput"in document;if(!xu){var ss=document.createElement("div");ss.setAttribute("oninput","return;"),xu=typeof ss.oninput=="function"}cu=xu}else cu=!1;xs=cu&&(!document.documentMode||9<document.documentMode)}function os(){bi&&(bi.detachEvent("onpropertychange",fs),vi=bi=null)}function fs(e){if(e.propertyName==="value"&&g0(vi)){var t=[];us(t,vi,e,$r(e)),Vx(k1,t)}}function I1(e,t,n){e==="focusin"?(os(),bi=t,vi=n,bi.attachEvent("onpropertychange",fs)):e==="focusout"&&os()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return g0(vi)}function Y1(e,t){if(e==="click")return g0(t)}function H1(e,t){if(e==="input"||e==="change")return g0(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:U1;function gi(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ht.call(t,c)||!cn(e[c],t[c]))return!1}return!0}function ds(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hs(e,t){var n=ds(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ds(n)}}function ms(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ms(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=o0(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=o0(e.document)}return t}function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var K1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,ou=null,yi=null,fu=!1;function vs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||Na==null||Na!==o0(l)||(l=Na,"selectionStart"in l&&su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&gi(yi,l)||(yi=l,l=rr(ou,"onSelect"),0<l.length&&(t=new b0("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},du={},gs={};ll&&(gs=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function $l(e){if(du[e])return du[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gs)return du[e]=t[n];return e}var ys=$l("animationend"),ps=$l("animationiteration"),_s=$l("animationstart"),Z1=$l("transitionrun"),X1=$l("transitionstart"),W1=$l("transitioncancel"),Ss=$l("transitionend"),Cs=new Map,hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hu.push("scrollEnd");function Yn(e,t){Cs.set(e,t),Ql(t,[e])}var y0=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],La=0,mu=0;function p0(){for(var e=La,t=mu=La=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var s=wn[t];if(wn[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}s!==0&&ws(n,c,s)}}function _0(e,t,n,l){wn[La++]=e,wn[La++]=t,wn[La++]=n,wn[La++]=l,mu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bu(e,t,n,l){return _0(e,t,n,l),S0(e)}function ea(e,t){return _0(e,null,null,t),S0(e)}function ws(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(c=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,c&&t!==null&&(c=31-se(n),e=s.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),s):null}function S0(e){if(50<Yi)throw Yi=0,Mc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new J1(e,t,n,l)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ms(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function C0(e,t,n,l,c,s){var p=0;if(l=e,typeof e=="function")vu(e)&&(p=1);else if(typeof e=="string")p=$2(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=xn(31,n,t,c),e.elementType=le,e.lanes=s,e;case C:return ta(n.children,c,s,t);case w:p=8,c|=24;break;case q:return e=xn(12,n,t,c|2),e.elementType=q,e.lanes=s,e;case U:return e=xn(13,n,t,c),e.elementType=U,e.lanes=s,e;case Q:return e=xn(19,n,t,c),e.elementType=Q,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:p=10;break e;case O:p=9;break e;case I:p=11;break e;case B:p=14;break e;case X:p=16,l=null;break e}p=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=xn(p,n,t,c),t.elementType=e,t.type=l,t.lanes=s,t}function ta(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function gu(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function js(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zs=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=zs.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lt(t)},zs.set(e,t),t)}return{value:e,source:t,stack:Lt(t)}}var Ea=[],Ba=0,w0=null,pi=0,jn=[],zn=0,Cl=null,Xn=1,Wn="";function il(e,t){Ea[Ba++]=pi,Ea[Ba++]=w0,w0=e,pi=t}function Ds(e,t,n){jn[zn++]=Xn,jn[zn++]=Wn,jn[zn++]=Cl,Cl=e;var l=Xn;e=Wn;var c=32-se(l)-1;l&=~(1<<c),n+=1;var s=32-se(t)+c;if(30<s){var p=c-c%5;s=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Xn=1<<32-se(t)+c|n<<c|l,Wn=s+e}else Xn=1<<s|n<<c|l,Wn=e}function pu(e){e.return!==null&&(il(e,1),Ds(e,1,0))}function _u(e){for(;e===w0;)w0=Ea[--Ba],Ea[Ba]=null,pi=Ea[--Ba],Ea[Ba]=null;for(;e===Cl;)Cl=jn[--zn],jn[zn]=null,Wn=jn[--zn],jn[zn]=null,Xn=jn[--zn],jn[zn]=null}function Ns(e,t){jn[zn++]=Xn,jn[zn++]=Wn,jn[zn++]=Cl,Xn=t.id,Wn=t.overflow,Cl=e}var Gt=null,ft=null,Ye=!1,wl=null,Dn=!1,Su=Error(r(519));function Ml(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Mn(t,e)),Su}function As(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Dt]=e,t[Ht]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Ux(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Zx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||Ml(e,!0)}function Ls(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Gt=Gt.return}}function qa(e){if(e!==Gt)return!1;if(!Ye)return Ls(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Oc(e.type,e.memoizedProps)),n=!n),n&&ft&&Ml(e),Ls(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=ad(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=ad(e)}else t===27?(t=ft,Il(e.type)?(e=Zc,Zc=null,ft=e):ft=t):ft=Gt?An(e.stateNode.nextSibling):null;return!0}function na(){ft=Gt=null,Ye=!1}function Cu(){var e=wl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),wl=null),e}function _i(e){wl===null?wl=[e]:wl.push(e)}var wu=z(null),la=null,rl=null;function jl(e,t,n){Y(wu,t._currentValue),t._currentValue=n}function ul(e){e._currentValue=wu.current,E(wu)}function Mu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function ju(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var s=c.dependencies;if(s!==null){var p=c.child;s=s.firstContext;e:for(;s!==null;){var T=s;s=c;for(var H=0;H<t.length;H++)if(T.context===t[H]){s.lanes|=n,T=s.alternate,T!==null&&(T.lanes|=n),Mu(s.return,n,e),l||(p=null);break e}s=T.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(r(341));p.lanes|=n,s=p.alternate,s!==null&&(s.lanes|=n),Mu(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Ga(e,t,n,l){e=null;for(var c=t,s=!1;c!==null;){if(!s){if((c.flags&524288)!==0)s=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var T=c.type;cn(c.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(c===fe.current){if(p=c.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}c=c.return}e!==null&&ju(t,e,n,l),t.flags|=262144}function M0(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Ts(la,e)}function j0(e,t){return la===null&&aa(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(r(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Q1=u.unstable_scheduleCallback,P1=u.unstable_NormalPriority,wt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new V1,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&Q1(P1,function(){e.controller.abort()})}var Ci=null,Du=0,Ra=0,ka=null;function F1(e,t){if(Ci===null){var n=Ci=[];Du=0,Ra=Lc(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Du++,t.then(Es,Es),t}function Es(){if(--Du===0&&Ci!==null){ka!==null&&(ka.status="fulfilled");var e=Ci;Ci=null,Ra=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function $1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Bs=S.S;S.S=function(e,t){yf=Ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&F1(e,t),Bs!==null&&Bs(e,t)};var ia=z(null);function Nu(){var e=ia.current;return e!==null?e:ot.pooledCache}function z0(e,t){t===null?Y(ia,ia.current):Y(ia,t.pool)}function qs(){var e=Nu();return e===null?null:{parent:wt._currentValue,pool:e}}var Ia=Error(r(460)),Au=Error(r(474)),D0=Error(r(542)),N0={then:function(){}};function Gs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Is(e),e}throw ua=t,Ia}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ua=n,Ia):n}}var ua=null;function ks(){if(ua===null)throw Error(r(459));var e=ua;return ua=null,e}function Is(e){if(e===Ia||e===D0)throw Error(r(483))}var Oa=null,wi=0;function A0(e){var t=wi;return wi+=1,Oa===null&&(Oa=[]),Rs(Oa,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function L0(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Os(e){function t(P,J){if(e){var $=P.deletions;$===null?(P.deletions=[J],P.flags|=16):$.push(J)}}function n(P,J){if(!e)return null;for(;J!==null;)t(P,J),J=J.sibling;return null}function l(P){for(var J=new Map;P!==null;)P.key!==null?J.set(P.key,P):J.set(P.index,P),P=P.sibling;return J}function c(P,J){return P=al(P,J),P.index=0,P.sibling=null,P}function s(P,J,$){return P.index=$,e?($=P.alternate,$!==null?($=$.index,$<J?(P.flags|=67108866,J):$):(P.flags|=67108866,J)):(P.flags|=1048576,J)}function p(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,J,$,re){return J===null||J.tag!==6?(J=gu($,P.mode,re),J.return=P,J):(J=c(J,$),J.return=P,J)}function H(P,J,$,re){var _e=$.type;return _e===C?ie(P,J,$.props.children,re,$.key):J!==null&&(J.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===X&&ra(_e)===J.type)?(J=c(J,$.props),Mi(J,$),J.return=P,J):(J=C0($.type,$.key,$.props,null,P.mode,re),Mi(J,$),J.return=P,J)}function ee(P,J,$,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==$.containerInfo||J.stateNode.implementation!==$.implementation?(J=yu($,P.mode,re),J.return=P,J):(J=c(J,$.children||[]),J.return=P,J)}function ie(P,J,$,re,_e){return J===null||J.tag!==7?(J=ta($,P.mode,re,_e),J.return=P,J):(J=c(J,$),J.return=P,J)}function ce(P,J,$){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=gu(""+J,P.mode,$),J.return=P,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return $=C0(J.type,J.key,J.props,null,P.mode,$),Mi($,J),$.return=P,$;case A:return J=yu(J,P.mode,$),J.return=P,J;case X:return J=ra(J),ce(P,J,$)}if(M(J)||v(J))return J=ta(J,P.mode,$,null),J.return=P,J;if(typeof J.then=="function")return ce(P,A0(J),$);if(J.$$typeof===k)return ce(P,j0(P,J),$);L0(P,J)}return null}function ne(P,J,$,re){var _e=J!==null?J.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _e!==null?null:T(P,J,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===_e?H(P,J,$,re):null;case A:return $.key===_e?ee(P,J,$,re):null;case X:return $=ra($),ne(P,J,$,re)}if(M($)||v($))return _e!==null?null:ie(P,J,$,re,null);if(typeof $.then=="function")return ne(P,J,A0($),re);if($.$$typeof===k)return ne(P,J,j0(P,$),re);L0(P,$)}return null}function ae(P,J,$,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return P=P.get($)||null,T(J,P,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return P=P.get(re.key===null?$:re.key)||null,H(J,P,re,_e);case A:return P=P.get(re.key===null?$:re.key)||null,ee(J,P,re,_e);case X:return re=ra(re),ae(P,J,$,re,_e)}if(M(re)||v(re))return P=P.get($)||null,ie(J,P,re,_e,null);if(typeof re.then=="function")return ae(P,J,$,A0(re),_e);if(re.$$typeof===k)return ae(P,J,$,j0(J,re),_e);L0(J,re)}return null}function me(P,J,$,re){for(var _e=null,Xe=null,be=J,Ee=J=0,Ie=null;be!==null&&Ee<$.length;Ee++){be.index>Ee?(Ie=be,be=null):Ie=be.sibling;var We=ne(P,be,$[Ee],re);if(We===null){be===null&&(be=Ie);break}e&&be&&We.alternate===null&&t(P,be),J=s(We,J,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We,be=Ie}if(Ee===$.length)return n(P,be),Ye&&il(P,Ee),_e;if(be===null){for(;Ee<$.length;Ee++)be=ce(P,$[Ee],re),be!==null&&(J=s(be,J,Ee),Xe===null?_e=be:Xe.sibling=be,Xe=be);return Ye&&il(P,Ee),_e}for(be=l(be);Ee<$.length;Ee++)Ie=ae(be,P,Ee,$[Ee],re),Ie!==null&&(e&&Ie.alternate!==null&&be.delete(Ie.key===null?Ee:Ie.key),J=s(Ie,J,Ee),Xe===null?_e=Ie:Xe.sibling=Ie,Xe=Ie);return e&&be.forEach(function(Kl){return t(P,Kl)}),Ye&&il(P,Ee),_e}function we(P,J,$,re){if($==null)throw Error(r(151));for(var _e=null,Xe=null,be=J,Ee=J=0,Ie=null,We=$.next();be!==null&&!We.done;Ee++,We=$.next()){be.index>Ee?(Ie=be,be=null):Ie=be.sibling;var Kl=ne(P,be,We.value,re);if(Kl===null){be===null&&(be=Ie);break}e&&be&&Kl.alternate===null&&t(P,be),J=s(Kl,J,Ee),Xe===null?_e=Kl:Xe.sibling=Kl,Xe=Kl,be=Ie}if(We.done)return n(P,be),Ye&&il(P,Ee),_e;if(be===null){for(;!We.done;Ee++,We=$.next())We=ce(P,We.value,re),We!==null&&(J=s(We,J,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We);return Ye&&il(P,Ee),_e}for(be=l(be);!We.done;Ee++,We=$.next())We=ae(be,P,Ee,We.value,re),We!==null&&(e&&We.alternate!==null&&be.delete(We.key===null?Ee:We.key),J=s(We,J,Ee),Xe===null?_e=We:Xe.sibling=We,Xe=We);return e&&be.forEach(function(sh){return t(P,sh)}),Ye&&il(P,Ee),_e}function st(P,J,$,re){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var _e=$.key;J!==null;){if(J.key===_e){if(_e=$.type,_e===C){if(J.tag===7){n(P,J.sibling),re=c(J,$.props.children),re.return=P,P=re;break e}}else if(J.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===X&&ra(_e)===J.type){n(P,J.sibling),re=c(J,$.props),Mi(re,$),re.return=P,P=re;break e}n(P,J);break}else t(P,J);J=J.sibling}$.type===C?(re=ta($.props.children,P.mode,re,$.key),re.return=P,P=re):(re=C0($.type,$.key,$.props,null,P.mode,re),Mi(re,$),re.return=P,P=re)}return p(P);case A:e:{for(_e=$.key;J!==null;){if(J.key===_e)if(J.tag===4&&J.stateNode.containerInfo===$.containerInfo&&J.stateNode.implementation===$.implementation){n(P,J.sibling),re=c(J,$.children||[]),re.return=P,P=re;break e}else{n(P,J);break}else t(P,J);J=J.sibling}re=yu($,P.mode,re),re.return=P,P=re}return p(P);case X:return $=ra($),st(P,J,$,re)}if(M($))return me(P,J,$,re);if(v($)){if(_e=v($),typeof _e!="function")throw Error(r(150));return $=_e.call($),we(P,J,$,re)}if(typeof $.then=="function")return st(P,J,A0($),re);if($.$$typeof===k)return st(P,J,j0(P,$),re);L0(P,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,J!==null&&J.tag===6?(n(P,J.sibling),re=c(J,$),re.return=P,P=re):(n(P,J),re=gu($,P.mode,re),re.return=P,P=re),p(P)):n(P,J)}return function(P,J,$,re){try{wi=0;var _e=st(P,J,$,re);return Oa=null,_e}catch(be){if(be===Ia||be===D0)throw be;var Xe=xn(29,be,null,P.mode);return Xe.lanes=re,Xe.return=P,Xe}}}var ca=Os(!0),Ys=Os(!1),zl=!1;function Lu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=S0(e),ws(e,null,n),t}return _0(e,l,t,n),S0(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}function Eu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?c=s=p:s=s.next=p,n=n.next}while(n!==null);s===null?c=s=t:s=s.next=t}else c=s=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bu=!1;function zi(){if(Bu){var e=ka;if(e!==null)throw e}}function Di(e,t,n,l){Bu=!1;var c=e.updateQueue;zl=!1;var s=c.firstBaseUpdate,p=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var H=T,ee=H.next;H.next=null,p===null?s=ee:p.next=ee,p=H;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==p&&(T===null?ie.firstBaseUpdate=ee:T.next=ee,ie.lastBaseUpdate=H))}if(s!==null){var ce=c.baseState;p=0,ie=ee=H=null,T=s;do{var ne=T.lane&-536870913,ae=ne!==T.lane;if(ae?(ke&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ra&&(Bu=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=e,we=T;ne=t;var st=n;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ce=me.call(st,ce,ne);break e}ce=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,ne=typeof me=="function"?me.call(st,ce,ne):me,ne==null)break e;ce=g({},ce,ne);break e;case 2:zl=!0}}ne=T.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(ee=ie=ae,H=ce):ie=ie.next=ae,p|=ne;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(H=ce),c.baseState=H,c.firstBaseUpdate=ee,c.lastBaseUpdate=ie,s===null&&(c.shared.lanes=0),Bl|=p,e.lanes=p,e.memoizedState=ce}}function Hs(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Us(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hs(n[e],t)}var Ya=z(null),T0=z(0);function Ks(e,t){e=bl,Y(T0,e),Y(Ya,t),bl=e|t.baseLanes}function qu(){Y(T0,bl),Y(Ya,Ya.current)}function Gu(){bl=T0.current,E(Ya),E(T0)}var sn=z(null),Nn=null;function Al(e){var t=e.alternate;Y(pt,pt.current&1),Y(sn,e),Nn===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(Nn=e)}function Ru(e){Y(pt,pt.current),Y(sn,e),Nn===null&&(Nn=e)}function Zs(e){e.tag===22?(Y(pt,pt.current),Y(sn,e),Nn===null&&(Nn=e)):Ll()}function Ll(){Y(pt,pt.current),Y(sn,sn.current)}function on(e){E(sn),Nn===e&&(Nn=null),E(pt)}var pt=z(0);function E0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uc(n)||Kc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=0,Te=null,ct=null,Mt=null,B0=!1,Ha=!1,xa=!1,q0=0,Ni=0,Ua=null,e2=0;function vt(){throw Error(r(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cn(e[n],t[n]))return!1;return!0}function Iu(e,t,n,l,c,s){return cl=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?No:ec,xa=!1,s=n(l,c),xa=!1,Ha&&(s=Ws(t,n,l,c)),Xs(e),s}function Xs(e){S.H=Ti;var t=ct!==null&&ct.next!==null;if(cl=0,Mt=ct=Te=null,B0=!1,Ni=0,Ua=null,t)throw Error(r(300));e===null||jt||(e=e.dependencies,e!==null&&M0(e)&&(jt=!0))}function Ws(e,t,n,l){Te=e;var c=0;do{if(Ha&&(Ua=null),Ni=0,Ha=!1,25<=c)throw Error(r(301));if(c+=1,Mt=ct=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}S.H=Ao,s=t(n,l)}while(Ha);return s}function t2(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Te.flags|=1024),t}function Ou(){var e=q0!==0;return q0=0,e}function Yu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hu(e){if(B0){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}B0=!1}cl=0,Mt=ct=Te=null,Ha=!1,Ni=q0=0,Ua=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Te.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function _t(){if(ct===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Mt===null?Te.memoizedState:Mt.next;if(t!==null)Mt=t,ct=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Mt===null?Te.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function G0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ni;return Ni+=1,Ua===null&&(Ua=[]),e=Rs(Ua,e,t),t=Te,(Mt===null?t.memoizedState:Mt.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?No:ec),e}function R0(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===k)return Rt(e)}throw Error(r(438,String(e)))}function Uu(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=G0(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=V;return t.index++,n}function xl(e,t){return typeof t=="function"?t(e):t}function k0(e){var t=_t();return Ku(t,ct,e)}function Ku(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,s=l.pending;if(s!==null){if(c!==null){var p=c.next;c.next=s.next,s.next=p}t.baseQueue=c=s,l.pending=null}if(s=e.baseState,c===null)e.memoizedState=s;else{t=c.next;var T=p=null,H=null,ee=t,ie=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(ke&ce)===ce:(cl&ce)===ce){var ne=ee.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Ra&&(ie=!0);else if((cl&ne)===ne){ee=ee.next,ne===Ra&&(ie=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(T=H=ce,p=s):H=H.next=ce,Te.lanes|=ne,Bl|=ne;ce=ee.action,xa&&n(s,ce),s=ee.hasEagerState?ee.eagerState:n(s,ce)}else ne={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(T=H=ne,p=s):H=H.next=ne,Te.lanes|=ce,Bl|=ce;ee=ee.next}while(ee!==null&&ee!==t);if(H===null?p=s:H.next=T,!cn(s,e.memoizedState)&&(jt=!0,ie&&(n=ka,n!==null)))throw n;e.memoizedState=s,e.baseState=p,e.baseQueue=H,l.lastRenderedState=s}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zu(e){var t=_t(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,s=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do s=e(s,p.action),p=p.next;while(p!==c);cn(s,t.memoizedState)||(jt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Js(e,t,n){var l=Te,c=_t(),s=Ye;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var p=!cn((ct||c).memoizedState,n);if(p&&(c.memoizedState=n,jt=!0),c=c.queue,Ju(Ps.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Qs.bind(null,l,c,n,t),null),ot===null)throw Error(r(349));s||(cl&127)!==0||Vs(l,t,n)}return n}function Vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=G0(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qs(e,t,n,l){t.value=n,t.getSnapshot=l,Fs(t)&&$s(e)}function Ps(e,t,n){return n(function(){Fs(t)&&$s(e)})}function Fs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cn(e,n)}catch{return!0}}function $s(e){var t=ea(e,2);t!==null&&en(t,e,2)}function Xu(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),xa){Qe(!0);try{n()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t}function eo(e,t,n,l){return e.baseState=n,Ku(e,ct,typeof l=="function"?l:xl)}function n2(e,t,n,l,c){if(Y0(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){s.listeners.push(p)}};S.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,to(t,s)):(s.next=n.next,t.pending=n.next=s)}}function to(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var s=S.T,p={};S.T=p;try{var T=n(c,l),H=S.S;H!==null&&H(p,T),no(e,t,T)}catch(ee){Wu(e,t,ee)}finally{s!==null&&p.types!==null&&(s.types=p.types),S.T=s}}else try{s=n(c,l),no(e,t,s)}catch(ee){Wu(e,t,ee)}}function no(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){lo(e,t,l)},function(l){return Wu(e,t,l)}):lo(e,t,n)}function lo(e,t,n){t.status="fulfilled",t.value=n,ao(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,to(e,n)))}function Wu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ao(t),t=t.next;while(t!==l)}e.action=null}function ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function io(e,t){return t}function ro(e,t){if(Ye){var n=ot.formState;if(n!==null){e:{var l=Te;if(Ye){if(ft){t:{for(var c=ft,s=Dn;c.nodeType!==8;){if(!s){c=null;break t}if(c=An(c.nextSibling),c===null){c=null;break t}}s=c.data,c=s==="F!"||s==="F"?c:null}if(c){ft=An(c.nextSibling),l=c.data==="F!";break e}}Ml(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:t},n.queue=l,n=jo.bind(null,Te,l),l.dispatch=n,l=Xu(!1),s=$u.bind(null,Te,!1,l.queue),l=Xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=n2.bind(null,Te,c,s,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function uo(e){var t=_t();return co(t,ct,e)}function co(e,t,n){if(t=Ku(e,t,io)[0],e=k0(xl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(p){throw p===Ia?D0:p}else l=t;t=_t();var c=t.queue,s=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ka(9,{destroy:void 0},l2.bind(null,c,n),null)),[l,s,e]}function l2(e,t){e.action=t}function xo(e){var t=_t(),n=ct;if(n!==null)return co(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ka(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=G0(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function so(){return _t().memoizedState}function I0(e,t,n,l){var c=Xt();Te.flags|=e,c.memoizedState=Ka(1|t,{destroy:void 0},n,l===void 0?null:l)}function O0(e,t,n,l){var c=_t();l=l===void 0?null:l;var s=c.memoizedState.inst;ct!==null&&l!==null&&ku(l,ct.memoizedState.deps)?c.memoizedState=Ka(t,s,n,l):(Te.flags|=e,c.memoizedState=Ka(1|t,s,n,l))}function oo(e,t){I0(8390656,8,e,t)}function Ju(e,t){O0(2048,8,e,t)}function a2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=G0(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fo(e){var t=_t().memoizedState;return a2({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function ho(e,t){return O0(4,2,e,t)}function mo(e,t){return O0(4,4,e,t)}function bo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vo(e,t,n){n=n!=null?n.concat([e]):null,O0(4,4,bo.bind(null,t,e),n)}function Vu(){}function go(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&ku(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&ku(t,l[1]))return l[0];if(l=e(),xa){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l}function Qu(e,t,n){return n===void 0||(cl&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=_f(),Te.lanes|=e,Bl|=e,n)}function po(e,t,n,l){return cn(n,t)?n:Ya.current!==null?(e=Qu(e,n,l),cn(e,t)||(jt=!0),e):(cl&42)===0||(cl&1073741824)!==0&&(ke&261930)===0?(jt=!0,e.memoizedState=n):(e=_f(),Te.lanes|=e,Bl|=e,t)}function _o(e,t,n,l,c){var s=L.p;L.p=s!==0&&8>s?s:8;var p=S.T,T={};S.T=T,$u(e,!1,t,n);try{var H=c(),ee=S.S;if(ee!==null&&ee(T,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=$1(H,l);Li(e,t,ie,hn(e))}else Li(e,t,l,hn(e))}catch(ce){Li(e,t,{then:function(){},status:"rejected",reason:ce},hn())}finally{L.p=s,p!==null&&T.types!==null&&(p.types=T.types),S.T=p}}function i2(){}function Pu(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=So(e).queue;_o(e,c,t,G,n===null?i2:function(){return Co(e),n(l)})}function So(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:G},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Co(e){var t=So(e);t.next===null&&(t=e.alternate.memoizedState),Li(e,t.next.queue,{},hn())}function Fu(){return Rt(Ji)}function wo(){return _t().memoizedState}function Mo(){return _t().memoizedState}function r2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Dl(n);var l=Nl(t,e,n);l!==null&&(en(l,t,n),ji(l,t,n)),t={cache:zu()},e.payload=t;return}t=t.return}}function u2(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Y0(e)?zo(t,n):(n=bu(e,t,n,l),n!==null&&(en(n,e,l),Do(n,t,l)))}function jo(e,t,n){var l=hn();Li(e,t,n,l)}function Li(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y0(e))zo(t,c);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var p=t.lastRenderedState,T=s(p,n);if(c.hasEagerState=!0,c.eagerState=T,cn(T,p))return _0(e,t,c,0),ot===null&&p0(),!1}catch{}if(n=bu(e,t,c,l),n!==null)return en(n,e,l),Do(n,t,l),!0}return!1}function $u(e,t,n,l){if(l={lane:2,revertLane:Lc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Y0(e)){if(t)throw Error(r(479))}else t=bu(e,n,l,2),t!==null&&en(t,e,2)}function Y0(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function zo(e,t){Ha=B0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Do(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}var Ti={readContext:Rt,use:R0,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ti.useEffectEvent=vt;var No={readContext:Rt,use:R0,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:oo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,I0(4194308,4,bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return I0(4194308,4,e,t)},useInsertionEffect:function(e,t){I0(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(xa){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var c=n(t);if(xa){Qe(!0);try{n(t)}finally{Qe(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=u2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xu(e);var t=e.queue,n=jo.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vu,useDeferredValue:function(e,t){var n=Xt();return Qu(n,e,t)},useTransition:function(){var e=Xu(!1);return e=_o.bind(null,Te,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Xt();if(Ye){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ot===null)throw Error(r(349));(ke&127)!==0||Vs(l,t,n)}c.memoizedState=n;var s={value:n,getSnapshot:t};return c.queue=s,oo(Ps.bind(null,l,s,e),[e]),l.flags|=2048,Ka(9,{destroy:void 0},Qs.bind(null,l,s,n,t),null),n},useId:function(){var e=Xt(),t=ot.identifierPrefix;if(Ye){var n=Wn,l=Xn;n=(l&~(1<<32-se(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=q0++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=e2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:ro,useActionState:ro,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$u.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return Xt().memoizedState=r2.bind(null,Te)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ec={readContext:Rt,use:R0,useCallback:go,useContext:Rt,useEffect:Ju,useImperativeHandle:vo,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:k0,useRef:so,useState:function(){return k0(xl)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=_t();return po(n,ct.memoizedState,e,t)},useTransition:function(){var e=k0(xl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Js,useId:wo,useHostTransitionStatus:Fu,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){var n=_t();return eo(n,ct,e,t)},useMemoCache:Uu,useCacheRefresh:Mo};ec.useEffectEvent=fo;var Ao={readContext:Rt,use:R0,useCallback:go,useContext:Rt,useEffect:Ju,useImperativeHandle:vo,useInsertionEffect:ho,useLayoutEffect:mo,useMemo:yo,useReducer:Zu,useRef:so,useState:function(){return Zu(xl)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=_t();return ct===null?Qu(n,e,t):po(n,ct.memoizedState,e,t)},useTransition:function(){var e=Zu(xl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Js,useId:wo,useHostTransitionStatus:Fu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=_t();return ct!==null?eo(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:Mo};Ao.useEffectEvent=fo;function tc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),c=Dl(l);c.payload=t,n!=null&&(c.callback=n),t=Nl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),c=Dl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Nl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Dl(n);l.tag=2,t!=null&&(l.callback=t),t=Nl(e,l,n),t!==null&&(en(t,e,n),ji(t,e,n))}};function Lo(e,t,n,l,c,s,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,p):t.prototype&&t.prototype.isPureReactComponent?!gi(n,l)||!gi(c,s):!0}function To(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Eo(e){y0(e)}function Bo(e){console.error(e)}function qo(e){y0(e)}function H0(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Go(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function lc(e,t,n){return n=Dl(n),n.tag=3,n.payload={element:null},n.callback=function(){H0(e,t)},n}function Ro(e){return e=Dl(e),e.tag=3,e}function ko(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var s=l.value;e.payload=function(){return c(s)},e.callback=function(){Go(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Go(t,n,l),typeof c!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function c2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,c,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?er():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===N0?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Dc(e,l,c)),!1;case 22:return n.flags|=65536,l===N0?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Dc(e,l,c)),!1}throw Error(r(435,n.tag))}return Dc(e,l,c),er(),!1}if(Ye)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Su&&(e=Error(r(422),{cause:l}),_i(Mn(e,n)))):(l!==Su&&(t=Error(r(423),{cause:l}),_i(Mn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Mn(l,n),c=lc(e.stateNode,l,c),Eu(e,c),gt!==4&&(gt=2)),!1;var s=Error(r(520),{cause:l});if(s=Mn(s,n),Oi===null?Oi=[s]:Oi.push(s),gt!==4&&(gt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=lc(n.stateNode,l,e),Eu(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ql===null||!ql.has(s))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Ro(c),ko(c,e,n,l),Eu(n,c),!1}n=n.return}while(n!==null);return!1}var ac=Error(r(461)),jt=!1;function kt(e,t,n,l){t.child=e===null?Ys(t,null,n,l):ca(t,e.child,n,l)}function Io(e,t,n,l,c){n=n.render;var s=t.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return aa(t),l=Iu(e,t,n,p,s,c),T=Ou(),e!==null&&!jt?(Yu(e,t,c),sl(e,t,c)):(Ye&&T&&pu(t),t.flags|=1,kt(e,t,l,c),t.child)}function Oo(e,t,n,l,c){if(e===null){var s=n.type;return typeof s=="function"&&!vu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Yo(e,t,s,l,c)):(e=C0(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fc(e,c)){var p=s.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(p,l)&&e.ref===t.ref)return sl(e,t,c)}return t.flags|=1,e=al(s,l),e.ref=t.ref,e.return=t,t.child=e}function Yo(e,t,n,l,c){if(e!==null){var s=e.memoizedProps;if(gi(s,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=s,fc(e,c))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,sl(e,t,c)}return ic(e,t,n,l,c)}function Ho(e,t,n,l){var c=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~s}else l=0,t.child=null;return Uo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&z0(t,s!==null?s.cachePool:null),s!==null?Ks(t,s):qu(),Zs(t);else return l=t.lanes=536870912,Uo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(z0(t,s.cachePool),Ks(t,s),Ll(),t.memoizedState=null):(e!==null&&z0(t,null),qu(),Ll());return kt(e,t,c,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,n,l,c){var s=Nu();return s=s===null?null:{parent:wt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&z0(t,null),qu(),Zs(t),e!==null&&Ga(e,t,l,!0),t.childLanes=c,null}function U0(e,t){return t=Z0({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ko(e,t,n){return ca(t,e.child,null,n),e=U0(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function x2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(l.mode==="hidden")return e=U0(t,l),t.lanes=536870912,Ei(null,e);if(Ru(t),(e=ft)?(e=ld(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Xn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Gt=t,ft=null)):e=null,e===null)throw Ml(t);return t.lanes=536870912,null}return U0(t,l)}var s=e.memoizedState;if(s!==null){var p=s.dehydrated;if(Ru(t),c)if(t.flags&256)t.flags&=-257,t=Ko(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(jt||Ga(e,t,n,!1),c=(n&e.childLanes)!==0,jt||c){if(l=ot,l!==null&&(p=lt(l,n),p!==0&&p!==s.retryLane))throw s.retryLane=p,ea(e,p),en(l,e,p),ac;er(),t=Ko(e,t,n)}else e=s.treeContext,ft=An(p.nextSibling),Gt=t,Ye=!0,wl=null,Dn=!1,e!==null&&Ns(t,e),t=U0(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function K0(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ic(e,t,n,l,c){return aa(t),n=Iu(e,t,n,l,void 0,c),l=Ou(),e!==null&&!jt?(Yu(e,t,c),sl(e,t,c)):(Ye&&l&&pu(t),t.flags|=1,kt(e,t,n,c),t.child)}function Zo(e,t,n,l,c,s){return aa(t),t.updateQueue=null,n=Ws(t,l,n,c),Xs(e),l=Ou(),e!==null&&!jt?(Yu(e,t,s),sl(e,t,s)):(Ye&&l&&pu(t),t.flags|=1,kt(e,t,n,s),t.child)}function Xo(e,t,n,l,c){if(aa(t),t.stateNode===null){var s=Ta,p=n.contextType;typeof p=="object"&&p!==null&&(s=Rt(p)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Lu(t),p=n.contextType,s.context=typeof p=="object"&&p!==null?Rt(p):Ta,s.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(tc(t,n,p,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(p=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),p!==s.state&&nc.enqueueReplaceState(s,s.state,null),Di(t,l,s,c),zi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var T=t.memoizedProps,H=sa(n,T);s.props=H;var ee=s.context,ie=n.contextType;p=Ta,typeof ie=="object"&&ie!==null&&(p=Rt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(T||ee!==p)&&To(t,s,l,p),zl=!1;var ne=t.memoizedState;s.state=ne,Di(t,l,s,c),zi(),ee=t.memoizedState,T||ne!==ee||zl?(typeof ce=="function"&&(tc(t,n,ce,l),ee=t.memoizedState),(H=zl||Lo(t,n,H,l,ne,ee,p))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),s.props=l,s.state=ee,s.context=p,l=H):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Tu(e,t),p=t.memoizedProps,ie=sa(n,p),s.props=ie,ce=t.pendingProps,ne=s.context,ee=n.contextType,H=Ta,typeof ee=="object"&&ee!==null&&(H=Rt(ee)),T=n.getDerivedStateFromProps,(ee=typeof T=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p!==ce||ne!==H)&&To(t,s,l,H),zl=!1,ne=t.memoizedState,s.state=ne,Di(t,l,s,c),zi();var ae=t.memoizedState;p!==ce||ne!==ae||zl||e!==null&&e.dependencies!==null&&M0(e.dependencies)?(typeof T=="function"&&(tc(t,n,T,l),ae=t.memoizedState),(ie=zl||Lo(t,n,ie,l,ne,ae,H)||e!==null&&e.dependencies!==null&&M0(e.dependencies))?(ee||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ae,H),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ae,H)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),s.props=l,s.state=ae,s.context=H,l=ie):(typeof s.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,K0(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ca(t,e.child,null,c),t.child=ca(t,null,n,c)):kt(e,t,n,c),t.memoizedState=s.state,e=t.child):e=sl(e,t,c),e}function Wo(e,t,n,l){return na(),t.flags|=256,kt(e,t,n,l),t.child}var rc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:qs()}}function cc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Jo(e,t,n){var l=t.pendingProps,c=!1,s=(t.flags&128)!==0,p;if((p=s)||(p=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(c?Al(t):Ll(),(e=ft)?(e=ld(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Xn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Gt=t,ft=null)):e=null,e===null)throw Ml(t);return Kc(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,c?(Ll(),c=t.mode,T=Z0({mode:"hidden",children:T},c),l=ta(l,c,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=uc(n),l.childLanes=cc(e,p,n),t.memoizedState=rc,Ei(null,l)):(Al(t),xc(t,T))}var H=e.memoizedState;if(H!==null&&(T=H.dehydrated,T!==null)){if(s)t.flags&256?(Al(t),t.flags&=-257,t=sc(e,t,n)):t.memoizedState!==null?(Ll(),t.child=e.child,t.flags|=128,t=null):(Ll(),T=l.fallback,c=t.mode,l=Z0({mode:"visible",children:l.children},c),T=ta(T,c,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ca(t,e.child,null,n),l=t.child,l.memoizedState=uc(n),l.childLanes=cc(e,p,n),t.memoizedState=rc,t=Ei(null,l));else if(Al(t),Kc(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var ee=p.dgst;p=ee,l=Error(r(419)),l.stack="",l.digest=p,_i({value:l,source:null,stack:null}),t=sc(e,t,n)}else if(jt||Ga(e,t,n,!1),p=(n&e.childLanes)!==0,jt||p){if(p=ot,p!==null&&(l=lt(p,n),l!==0&&l!==H.retryLane))throw H.retryLane=l,ea(e,l),en(p,e,l),ac;Uc(T)||er(),t=sc(e,t,n)}else Uc(T)?(t.flags|=192,t.child=e.child,t=null):(e=H.treeContext,ft=An(T.nextSibling),Gt=t,Ye=!0,wl=null,Dn=!1,e!==null&&Ns(t,e),t=xc(t,l.children),t.flags|=4096);return t}return c?(Ll(),T=l.fallback,c=t.mode,H=e.child,ee=H.sibling,l=al(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,ee!==null?T=al(ee,T):(T=ta(T,c,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ei(null,l),l=t.child,T=e.child.memoizedState,T===null?T=uc(n):(c=T.cachePool,c!==null?(H=wt._currentValue,c=c.parent!==H?{parent:H,pool:H}:c):c=qs(),T={baseLanes:T.baseLanes|n,cachePool:c}),l.memoizedState=T,l.childLanes=cc(e,p,n),t.memoizedState=rc,Ei(e.child,l)):(Al(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function xc(e,t){return t=Z0({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Z0(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function sc(e,t,n){return ca(t,e.child,null,n),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mu(e.return,t,n)}function oc(e,t,n,l,c,s){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:s}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=c,p.treeForkCount=s)}function Qo(e,t,n){var l=t.pendingProps,c=l.revealOrder,s=l.tail;l=l.children;var p=pt.current,T=(p&2)!==0;if(T?(p=p&1|2,t.flags|=128):p&=1,Y(pt,p),kt(e,t,l,n),l=Ye?pi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&E0(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),oc(t,!1,c,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&E0(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}oc(t,!0,n,null,s,l);break;case"together":oc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&M0(e)))}function s2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),jl(t,wt,e.memoizedState.cache),na();break;case 27:case 5:Ce(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:jl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ru(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Al(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(Al(t),e=sl(e,t,n),e!==null?e.sibling:null);Al(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Qo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Y(pt,pt.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:jl(t,wt,e.memoizedState.cache)}return sl(e,t,n)}function Po(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!fc(e,n)&&(t.flags&128)===0)return jt=!1,s2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ye&&(t.flags&1048576)!==0&&Ds(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")vu(e)?(l=sa(e,l),t.tag=1,t=Xo(null,t,e,l,n)):(t.tag=0,t=ic(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===I){t.tag=11,t=Io(null,t,e,l,n);break e}else if(c===B){t.tag=14,t=Oo(null,t,e,l,n);break e}}throw t=D(e)||e,Error(r(306,t,""))}}return t;case 0:return ic(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=sa(l,t.pendingProps),Xo(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;c=s.element,Tu(e,t),Di(t,l,null,n);var p=t.memoizedState;if(l=p.cache,jl(t,wt,l),l!==s.cache&&ju(t,[wt],n,!0),zi(),l=p.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==c){c=Mn(Error(r(424)),t),_i(c),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=An(e.firstChild),Gt=t,Ye=!0,wl=null,Dn=!0,n=Ys(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),l===c){t=sl(e,t,n);break e}kt(e,t,l,n)}t=t.child}return t;case 26:return K0(e,t),e===null?(n=xd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,l=ur(ue.current).createElement(n),l[Dt]=t,l[Ht]=e,It(l,n,e),Tt(l),t.stateNode=l):t.memoizedState=xd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&Ye&&(l=t.stateNode=rd(t.type,t.pendingProps,ue.current),Gt=t,Dn=!0,c=ft,Il(t.type)?(Zc=c,ft=An(l.firstChild)):ft=c),kt(e,t,t.pendingProps.children,n),K0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((c=l=ft)&&(l=O2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Gt=t,ft=An(l.firstChild),Dn=!1,c=!0):c=!1),c||Ml(t)),Ce(t),c=t.type,s=t.pendingProps,p=e!==null?e.memoizedProps:null,l=s.children,Oc(c,s)?l=null:p!==null&&Oc(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Iu(e,t,t2,null,null,n),Ji._currentValue=c),K0(e,t),kt(e,t,l,n),t.child;case 6:return e===null&&Ye&&((e=n=ft)&&(n=Y2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Gt=t,ft=null,e=!0):e=!1),e||Ml(t)),null;case 13:return Jo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ca(t,null,l,n):kt(e,t,l,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,jl(t,t.type,l.value),kt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,aa(t),c=Rt(c),l=l(c),t.flags|=1,kt(e,t,l,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Yo(e,t,t.type,t.pendingProps,n);case 19:return Qo(e,t,n);case 31:return x2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return aa(t),l=Rt(wt),e===null?(c=Nu(),c===null&&(c=ot,s=zu(),c.pooledCache=s,s.refCount++,s!==null&&(c.pooledCacheLanes|=n),c=s),t.memoizedState={parent:l,cache:c},Lu(t),jl(t,wt,c)):((e.lanes&n)!==0&&(Tu(e,t),Di(t,null,null,n),zi()),c=e.memoizedState,s=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),jl(t,wt,l)):(l=s.cache,jl(t,wt,l),l!==c.cache&&ju(t,[wt],n,!0))),kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ol(e){e.flags|=4}function dc(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Mf())e.flags|=8192;else throw ua=N0,Au}else e.flags&=-16777217}function Fo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hd(t))if(Mf())e.flags|=8192;else throw ua=N0,Au}function X0(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$e():536870912,e.lanes|=t,Ja|=t)}function Bi(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function o2(e,t,n){var l=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ul(wt),ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),dt(t),null;case 26:var c=t.type,s=t.memoizedState;return e===null?(ol(t),s!==null?(dt(t),Fo(t,s)):(dt(t),dc(t,c,null,l,n))):s?s!==e.memoizedState?(ol(t),dt(t),Fo(t,s)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),dt(t),dc(t,c,e,l,n)),null;case 27:if(he(t),n=ue.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}e=K.current,qa(t)?As(t):(e=rd(c,l,n),t.stateNode=e,ol(t))}return dt(t),null;case 5:if(he(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}if(s=K.current,qa(t))As(t);else{var p=ur(ue.current);switch(s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}s[Dt]=t,s[Ht]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=s;e:switch(It(s,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return dt(t),dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Gt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||Ml(t,!0)}else e=ur(e).createTextNode(l),e[Dt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(r(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),c=!1}else c=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),X0(t,t.updateQueue),dt(t),null);case 4:return ve(),e===null&&qc(t.stateNode.containerInfo),dt(t),null;case 10:return ul(t.type),dt(t),null;case 19:if(E(pt),l=t.memoizedState,l===null)return dt(t),null;if(c=(t.flags&128)!==0,s=l.rendering,s===null)if(c)Bi(l,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=E0(e),s!==null){for(t.flags|=128,Bi(l,!1),e=s.updateQueue,t.updateQueue=e,X0(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ms(n,e),n=n.sibling;return Y(pt,pt.current&1|2),Ye&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ve()>P0&&(t.flags|=128,c=!0,Bi(l,!1),t.lanes=4194304)}else{if(!c)if(e=E0(s),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,X0(t,e),Bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ye)return dt(t),null}else 2*Ve()-l.renderingStartTime>P0&&n!==536870912&&(t.flags|=128,c=!0,Bi(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ve(),e.sibling=null,n=pt.current,Y(pt,c?n&1|2:n&1),Ye&&il(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return on(t),Gu(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&X0(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&E(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ul(wt),dt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function f2(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(wt),ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return E(pt),null;case 4:return ve(),null;case 10:return ul(t.type),null;case 22:case 23:return on(t),Gu(),e!==null&&E(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ul(wt),null;case 25:return null;default:return null}}function $o(e,t){switch(_u(t),t.tag){case 3:ul(wt),ve();break;case 26:case 27:case 5:he(t);break;case 4:ve();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:E(pt);break;case 10:ul(t.type);break;case 22:case 23:on(t),Gu(),e!==null&&E(ia);break;case 24:ul(wt)}}function qi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var s=n.create,p=n.inst;l=s(),p.destroy=l}n=n.next}while(n!==c)}}catch(T){rt(t,t.return,T)}}function Tl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var s=c.next;l=s;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,c=t;var H=n,ee=T;try{ee()}catch(ie){rt(c,H,ie)}}}l=l.next}while(l!==s)}}catch(ie){rt(t,t.return,ie)}}function ef(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Us(t,n)}catch(l){rt(e,e.return,l)}}}function tf(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){rt(e,t,l)}}function Gi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){rt(e,t,c)}}function Jn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){rt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){rt(e,t,c)}else n.current=null}function nf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){rt(e,e.return,c)}}function hc(e,t,n){try{var l=e.stateNode;B2(l,e.type,n,t),l[Ht]=t}catch(c){rt(e,e.return,c)}}function lf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Il(e.type)||e.tag===4}function mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Il(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&Il(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bc(e,t,n),e=e.sibling;e!==null;)bc(e,t,n),e=e.sibling}function W0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Il(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(W0(e,t,n),e=e.sibling;e!==null;)W0(e,t,n),e=e.sibling}function af(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);It(t,l,n),t[Dt]=e,t[Ht]=n}catch(s){rt(e,e.return,s)}}var fl=!1,zt=!1,vc=!1,rf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function d2(e,t){if(e=e.containerInfo,kc=hr,e=bs(e),su(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var p=0,T=-1,H=-1,ee=0,ie=0,ce=e,ne=null;t:for(;;){for(var ae;ce!==n||c!==0&&ce.nodeType!==3||(T=p+c),ce!==s||l!==0&&ce.nodeType!==3||(H=p+l),ce.nodeType===3&&(p+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ne=ce,ce=ae;for(;;){if(ce===e)break t;if(ne===n&&++ee===c&&(T=p),ne===s&&++ie===l&&(H=p),(ae=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=ae}n=T===-1||H===-1?null:{start:T,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ic={focusedElem:e,selectionRange:n},hr=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,c=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var me=sa(n.type,c);e=l.getSnapshotBeforeUpdate(me,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){rt(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function uf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&qi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){rt(n,n.return,p)}else{var c=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){rt(n,n.return,p)}}l&64&&ef(n),l&512&&Gi(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Us(e,t)}catch(p){rt(n,n.return,p)}}break;case 27:t===null&&l&4&&af(n);case 26:case 5:hl(e,n),t===null&&l&4&&nf(n),l&512&&Gi(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&sf(e,n);break;case 13:hl(e,n),l&4&&of(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=S2.bind(null,n),H2(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||zt,c=fl;var s=zt;fl=l,(zt=t)&&!s?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=c,zt=s}break;case 30:break;default:hl(e,n)}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,Qt=!1;function dl(e,t,n){for(n=n.child;n!==null;)xf(e,t,n),n=n.sibling}function xf(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:zt||Jn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||Jn(n,t);var l=mt,c=Qt;Il(n.type)&&(mt=n.stateNode,Qt=!1),dl(e,t,n),Zi(n.stateNode),mt=l,Qt=c;break;case 5:zt||Jn(n,t);case 6:if(l=mt,c=Qt,mt=null,dl(e,t,n),mt=l,Qt=c,mt!==null)if(Qt)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{mt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:mt!==null&&(Qt?(e=mt,td(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):td(mt,n.stateNode));break;case 4:l=mt,c=Qt,mt=n.stateNode.containerInfo,Qt=!0,dl(e,t,n),mt=l,Qt=c;break;case 0:case 11:case 14:case 15:Tl(2,n,t),zt||Tl(4,n,t),dl(e,t,n);break;case 1:zt||(Jn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&tf(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:zt=(l=zt)||n.memoizedState!==null,dl(e,t,n),zt=l;break;default:dl(e,t,n)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){rt(t,t.return,n)}}}function of(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){rt(t,t.return,n)}}function h2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rf),t;default:throw Error(r(435,e.tag))}}function J0(e,t){var n=h2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=C2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],s=e,p=t,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Il(T.type)){mt=T.stateNode,Qt=!1;break e}break;case 5:mt=T.stateNode,Qt=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,Qt=!0;break e}T=T.return}if(mt===null)throw Error(r(160));xf(s,p,c),mt=null,Qt=!1,s=c.alternate,s!==null&&(s.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}var Hn=null;function ff(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(Tl(3,e,e.return),qi(3,e),Tl(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(zt||n===null||Jn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=Hn;if(Pt(t,e),Ft(e),l&512&&(zt||n===null||Jn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":s=c.getElementsByTagName("title")[0],(!s||s[un]||s[Dt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=c.createElement(l),c.head.insertBefore(s,c.querySelector("head > title"))),It(s,l,n),s[Dt]=e,Tt(s),l=s;break e;case"link":var p=fd("link","href",c).get(l+(n.href||""));if(p){for(var T=0;T<p.length;T++)if(s=p[T],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(T,1);break t}}s=c.createElement(l),It(s,l,n),c.head.appendChild(s);break;case"meta":if(p=fd("meta","content",c).get(l+(n.content||""))){for(T=0;T<p.length;T++)if(s=p[T],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(T,1);break t}}s=c.createElement(l),It(s,l,n),c.head.appendChild(s);break;default:throw Error(r(468,l))}s[Dt]=e,Tt(s),l=s}e.stateNode=l}else dd(c,e.type,e.stateNode);else e.stateNode=od(c,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?dd(c,e.type,e.stateNode):od(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(zt||n===null||Jn(n,n.return)),n!==null&&l&4&&hc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(zt||n===null||Jn(n,n.return)),e.flags&32){c=e.stateNode;try{Ma(c,"")}catch(me){rt(e,e.return,me)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,hc(e,c,n!==null?n.memoizedProps:c)),l&1024&&(vc=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){rt(e,e.return,me)}}break;case 3:if(sr=null,c=Hn,Hn=cr(t.containerInfo),Pt(t,e),Hn=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(me){rt(e,e.return,me)}vc&&(vc=!1,df(e));break;case 4:l=Hn,Hn=cr(e.stateNode.containerInfo),Pt(t,e),Ft(e),Hn=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,J0(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Q0=Ve()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,J0(e,l)));break;case 22:c=e.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,ee=fl,ie=zt;if(fl=ee||c,zt=ie||H,Pt(t,e),zt=ie,fl=ee,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||H||fl||zt||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){H=n=t;try{if(s=H.stateNode,c)p=s.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=H.stateNode;var ce=H.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;T.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){rt(H,H.return,me)}}}else if(t.tag===6){if(n===null){H=t;try{H.stateNode.nodeValue=c?"":H.memoizedProps}catch(me){rt(H,H.return,me)}}}else if(t.tag===18){if(n===null){H=t;try{var ae=H.stateNode;c?nd(ae,!0):nd(H.stateNode,!1)}catch(me){rt(H,H.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,J0(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,J0(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(lf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,s=mc(e);W0(e,s,c);break;case 5:var p=n.stateNode;n.flags&32&&(Ma(p,""),n.flags&=-33);var T=mc(e);W0(e,T,p);break;case 3:case 4:var H=n.stateNode.containerInfo,ee=mc(e);bc(e,ee,H);break;default:throw Error(r(161))}}catch(ie){rt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;df(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uf(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Tl(4,t,t.return),oa(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&tf(t,t.return,n),oa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Jn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,s=t,p=s.flags;switch(s.tag){case 0:case 11:case 15:ml(c,s,n),qi(4,s);break;case 1:if(ml(c,s,n),l=s,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(ee){rt(l,l.return,ee)}if(l=s,c=l.updateQueue,c!==null){var T=l.stateNode;try{var H=c.shared.hiddenCallbacks;if(H!==null)for(c.shared.hiddenCallbacks=null,c=0;c<H.length;c++)Hs(H[c],T)}catch(ee){rt(l,l.return,ee)}}n&&p&64&&ef(s),Gi(s,s.return);break;case 27:af(s);case 26:case 5:ml(c,s,n),n&&l===null&&p&4&&nf(s),Gi(s,s.return);break;case 12:ml(c,s,n);break;case 31:ml(c,s,n),n&&p&4&&sf(c,s);break;case 13:ml(c,s,n),n&&p&4&&of(c,s);break;case 22:s.memoizedState===null&&ml(c,s,n),Gi(s,s.return);break;case 30:break;default:ml(c,s,n)}t=t.sibling}}function gc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function Un(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hf(e,t,n,l),t=t.sibling}function hf(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,l),c&2048&&qi(9,t);break;case 1:Un(e,t,n,l);break;case 3:Un(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(c&2048){Un(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,p=s.id,T=s.onPostCommit;typeof T=="function"&&T(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){rt(t,t.return,H)}}else Un(e,t,n,l);break;case 31:Un(e,t,n,l);break;case 13:Un(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,p=t.alternate,t.memoizedState!==null?s._visibility&2?Un(e,t,n,l):Ri(e,t):s._visibility&2?Un(e,t,n,l):(s._visibility|=2,Za(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&gc(p,t);break;case 24:Un(e,t,n,l),c&2048&&yc(t.alternate,t);break;default:Un(e,t,n,l)}}function Za(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,p=t,T=n,H=l,ee=p.flags;switch(p.tag){case 0:case 11:case 15:Za(s,p,T,H,c),qi(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Za(s,p,T,H,c):Ri(s,p):(ie._visibility|=2,Za(s,p,T,H,c)),c&&ee&2048&&gc(p.alternate,p);break;case 24:Za(s,p,T,H,c),c&&ee&2048&&yc(p.alternate,p);break;default:Za(s,p,T,H,c)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ri(n,l),c&2048&&gc(l.alternate,l);break;case 24:Ri(n,l),c&2048&&yc(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)mf(e,t,n),e=e.sibling}function mf(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&eh(n,Hn,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=Hn;Hn=cr(e.stateNode.containerInfo),Xa(e,t,n),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ii(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,gf(l,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vf(e),e=e.sibling}function vf(e){switch(e.tag){case 0:case 11:case 15:Ii(e),e.flags&2048&&Tl(9,e,e.return);break;case 3:Ii(e);break;case 12:Ii(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,V0(e)):Ii(e);break;default:Ii(e)}}function V0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,gf(l,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Tl(8,t,t.return),V0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,V0(t));break;default:V0(t)}e=e.sibling}}function gf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Tl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var c=l.sibling,s=l.return;if(cf(l),l===n){Et=null;break e}if(c!==null){c.return=s,Et=c;break e}Et=s}}}var m2={getCacheForType:function(e){var t=Rt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(wt).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,Ge=null,ke=0,it=0,fn=null,El=!1,Wa=!1,pc=!1,bl=0,gt=0,Bl=0,fa=0,_c=0,dn=0,Ja=0,Oi=null,$t=null,Sc=!1,Q0=0,yf=0,P0=1/0,F0=null,ql=null,Nt=0,Gl=null,Va=null,vl=0,Cc=0,wc=null,pf=null,Yi=0,Mc=null;function hn(){return(et&2)!==0&&ke!==0?ke&-ke:S.T!==null?Lc():ya()}function _f(){if(dn===0)if((ke&536870912)===0||Ye){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),dn=e}else dn=536870912;return e=sn.current,e!==null&&(e.flags|=32),dn}function en(e,t,n){(e===ot&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Rl(e,ke,dn,!1)),yt(e,n),((et&2)===0||e!==ot)&&(e===ot&&((et&2)===0&&(fa|=n),gt===4&&Rl(e,ke,dn,!1)),Vn(e))}function Sf(e,t,n){if((et&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Oe(e,t),c=l?y2(e,t):zc(e,t,!0),s=l;do{if(c===0){Wa&&!l&&Rl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!v2(n)){c=zc(e,t,!1),s=!1;continue}if(c===2){if(s=t,e.errorRecoveryDisabledLanes&s)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var T=e;c=Oi;var H=T.current.memoizedState.isDehydrated;if(H&&(Qa(T,p).flags|=256),p=zc(T,p,!1),p!==2){if(pc&&!H){T.errorRecoveryDisabledLanes|=s,fa|=s,c=4;break e}s=$t,$t=c,s!==null&&($t===null?$t=s:$t.push.apply($t,s))}c=p}if(s=!1,c!==2)continue}}if(c===1){Qa(e,0),Rl(e,t,0,!0);break}e:{switch(l=e,s=c,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Rl(l,t,dn,!El);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Q0+300-Ve(),10<c)){if(Rl(l,t,dn,!El),Pe(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=$f(Cf.bind(null,l,n,$t,F0,Sc,t,dn,fa,Ja,El,s,"Throttled",-0,0),c);break e}Cf(l,n,$t,F0,Sc,t,dn,fa,Ja,El,s,null,-0,0)}}break}while(!0);Vn(e)}function Cf(e,t,n,l,c,s,p,T,H,ee,ie,ce,ne,ae){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},mf(t,s,ce);var me=(s&62914560)===s?Q0-Ve():(s&4194048)===s?yf-Ve():0;if(me=th(ce,me),me!==null){vl=s,e.cancelPendingCommit=me(Lf.bind(null,e,t,s,n,l,c,p,T,H,ie,ce,null,ne,ae)),Rl(e,s,p,!ee);return}}Lf(e,t,s,n,l,c,p,T,H)}function v2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],s=c.getSnapshot;c=c.value;try{if(!cn(s(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rl(e,t,n,l){t&=~_c,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var s=31-se(c),p=1<<s;l[s]=-1,c&=~p}n!==0&&je(e,n,t)}function $0(){return(et&6)===0?(Hi(0),!1):!0}function jc(){if(Ge!==null){if(it===0)var e=Ge.return;else e=Ge,rl=la=null,Hu(e),Oa=null,wi=0,e=Ge;for(;e!==null;)$o(e.alternate,e),e=e.return;Ge=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,R2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,jc(),ot=e,Ge=n=al(e.current,null),ke=t,it=0,fn=null,El=!1,Wa=Oe(e,t),pc=!1,Ja=dn=_c=fa=Bl=gt=0,$t=Oi=null,Sc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-se(l),s=1<<c;t|=e[c],l&=~s}return bl=t,p0(),n}function wf(e,t){Te=null,S.H=Ti,t===Ia||t===D0?(t=ks(),it=3):t===Au?(t=ks(),it=4):it=t===ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Ge===null&&(gt=1,H0(e,Mn(t,e.current)))}function Mf(){var e=sn.current;return e===null?!0:(ke&4194048)===ke?Nn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Nn:!1}function jf(){var e=S.H;return S.H=Ti,e===null?Ti:e}function zf(){var e=S.A;return S.A=m2,e}function er(){gt=4,El||(ke&4194048)!==ke&&sn.current!==null||(Wa=!0),(Bl&134217727)===0&&(fa&134217727)===0||ot===null||Rl(ot,ke,dn,!1)}function zc(e,t,n){var l=et;et|=2;var c=jf(),s=zf();(ot!==e||ke!==t)&&(F0=null,Qa(e,t)),t=!1;var p=gt;e:do try{if(it!==0&&Ge!==null){var T=Ge,H=fn;switch(it){case 8:jc(),p=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var ee=it;if(it=0,fn=null,Pa(e,T,H,ee),n&&Wa){p=0;break e}break;default:ee=it,it=0,fn=null,Pa(e,T,H,ee)}}g2(),p=gt;break}catch(ie){wf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=la=null,et=l,S.H=c,S.A=s,Ge===null&&(ot=null,ke=0,p0()),p}function g2(){for(;Ge!==null;)Df(Ge)}function y2(e,t){var n=et;et|=2;var l=jf(),c=zf();ot!==e||ke!==t?(F0=null,P0=Ve()+500,Qa(e,t)):Wa=Oe(e,t);e:do try{if(it!==0&&Ge!==null){t=Ge;var s=fn;t:switch(it){case 1:it=0,fn=null,Pa(e,t,s,1);break;case 2:case 9:if(Gs(s)){it=0,fn=null,Nf(t);break}t=function(){it!==2&&it!==9||ot!==e||(it=7),Vn(e)},s.then(t,t);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Gs(s)?(it=0,fn=null,Nf(t)):(it=0,fn=null,Pa(e,t,s,7));break;case 5:var p=null;switch(Ge.tag){case 26:p=Ge.memoizedState;case 5:case 27:var T=Ge;if(p?hd(p):T.stateNode.complete){it=0,fn=null;var H=T.sibling;if(H!==null)Ge=H;else{var ee=T.return;ee!==null?(Ge=ee,tr(ee)):Ge=null}break t}}it=0,fn=null,Pa(e,t,s,5);break;case 6:it=0,fn=null,Pa(e,t,s,6);break;case 8:jc(),gt=6;break e;default:throw Error(r(462))}}p2();break}catch(ie){wf(e,ie)}while(!0);return rl=la=null,S.H=l,S.A=c,et=n,Ge!==null?0:(ot=null,ke=0,p0(),gt)}function p2(){for(;Ge!==null&&!Fn();)Df(Ge)}function Df(e){var t=Po(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?tr(e):Ge=t}function Nf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Hu(t);default:$o(n,t),t=Ge=Ms(t,bl),t=Po(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?tr(e):Ge=t}function Pa(e,t,n,l){rl=la=null,Hu(t),Oa=null,wi=0;var c=t.return;try{if(c2(e,c,t,n,ke)){gt=1,H0(e,Mn(n,e.current)),Ge=null;return}}catch(s){if(c!==null)throw Ge=c,s;gt=1,H0(e,Mn(n,e.current)),Ge=null;return}t.flags&32768?(Ye||l===1?e=!0:Wa||(ke&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Af(t,e)):tr(t)}function tr(e){var t=e;do{if((t.flags&32768)!==0){Af(t,El);return}e=t.return;var n=o2(t.alternate,t,bl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);gt===0&&(gt=5)}function Af(e,t){do{var n=f2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);gt=6,Ge=null}function Lf(e,t,n,l,c,s,p,T,H){e.cancelPendingCommit=null;do nr();while(Nt!==0);if((et&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=mu,tt(e,n,s,p,T,H),e===ot&&(Ge=ot=null,ke=0),Va=t,Gl=e,vl=n,Cc=s,wc=c,pf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w2(In,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=S.T,S.T=null,c=L.p,L.p=2,p=et,et|=4;try{d2(e,t,n)}finally{et=p,L.p=c,S.T=l}}Nt=1,Tf(),Ef(),Bf()}}function Tf(){if(Nt===1){Nt=0;var e=Gl,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=S.T,S.T=null;var l=L.p;L.p=2;var c=et;et|=4;try{ff(t,e);var s=Ic,p=bs(e.containerInfo),T=s.focusedElem,H=s.selectionRange;if(p!==T&&T&&T.ownerDocument&&ms(T.ownerDocument.documentElement,T)){if(H!==null&&su(T)){var ee=H.start,ie=H.end;if(ie===void 0&&(ie=ee),"selectionStart"in T)T.selectionStart=ee,T.selectionEnd=Math.min(ie,T.value.length);else{var ce=T.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),me=T.textContent.length,we=Math.min(H.start,me),st=H.end===void 0?we:Math.min(H.end,me);!ae.extend&&we>st&&(p=st,st=we,we=p);var P=hs(T,we),J=hs(T,st);if(P&&J&&(ae.rangeCount!==1||ae.anchorNode!==P.node||ae.anchorOffset!==P.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var $=ce.createRange();$.setStart(P.node,P.offset),ae.removeAllRanges(),we>st?(ae.addRange($),ae.extend(J.node,J.offset)):($.setEnd(J.node,J.offset),ae.addRange($))}}}}for(ce=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ce.length;T++){var re=ce[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hr=!!kc,Ic=kc=null}finally{et=c,L.p=l,S.T=n}}e.current=t,Nt=2}}function Ef(){if(Nt===2){Nt=0;var e=Gl,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=S.T,S.T=null;var l=L.p;L.p=2;var c=et;et|=4;try{uf(e,t.alternate,t)}finally{et=c,L.p=l,S.T=n}}Nt=3}}function Bf(){if(Nt===4||Nt===3){Nt=0,$n();var e=Gl,t=Va,n=vl,l=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Va=Gl=null,qf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ql=null),pn(n),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=S.T,c=L.p,L.p=2,S.T=null;try{for(var s=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];s(T.value,{componentStack:T.stack})}}finally{S.T=t,L.p=c}}(vl&3)!==0&&nr(),Vn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Mc?Yi++:(Yi=0,Mc=e):Yi=0,Hi(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function nr(){return Tf(),Ef(),Bf(),Gf()}function Gf(){if(Nt!==5)return!1;var e=Gl,t=Cc;Cc=0;var n=pn(vl),l=S.T,c=L.p;try{L.p=32>n?32:n,S.T=null,n=wc,wc=null;var s=Gl,p=vl;if(Nt=0,Va=Gl=null,vl=0,(et&6)!==0)throw Error(r(331));var T=et;if(et|=4,vf(s.current),hf(s,s.current,p,n),et=T,Hi(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(el,s)}catch{}return!0}finally{L.p=c,S.T=l,qf(e,t)}}function Rf(e,t,n){t=Mn(n,t),t=lc(e.stateNode,t,2),e=Nl(e,t,2),e!==null&&(yt(e,2),Vn(e))}function rt(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ql===null||!ql.has(l))){e=Mn(n,e),n=Ro(2),l=Nl(t,n,2),l!==null&&(ko(n,l,t,e),yt(l,2),Vn(l));break}}t=t.return}}function Dc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new b2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(pc=!0,c.add(n),e=_2.bind(null,e,t,n),t.then(e,e))}function _2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(ke&n)===n&&(gt===4||gt===3&&(ke&62914560)===ke&&300>Ve()-Q0?(et&2)===0&&Qa(e,0):_c|=n,Ja===ke&&(Ja=0)),Vn(e)}function kf(e,t){t===0&&(t=$e()),e=ea(e,t),e!==null&&(yt(e,t),Vn(e))}function S2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kf(e,n)}function C2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),kf(e,n)}function w2(e,t){return Bt(e,t)}var lr=null,Fa=null,Nc=!1,ar=!1,Ac=!1,kl=0;function Vn(e){e!==Fa&&e.next===null&&(Fa===null?lr=Fa=e:Fa=Fa.next=e),ar=!0,Nc||(Nc=!0,j2())}function Hi(e,t){if(!Ac&&ar){Ac=!0;do for(var n=!1,l=lr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var s=0;else{var p=l.suspendedLanes,T=l.pingedLanes;s=(1<<31-se(42|e)+1)-1,s&=c&~(p&~T),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Hf(l,s))}else s=ke,s=Pe(l,l===ot?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Oe(l,s)||(n=!0,Hf(l,s));l=l.next}while(n);Ac=!1}}function M2(){If()}function If(){ar=Nc=!1;var e=0;kl!==0&&G2()&&(e=kl);for(var t=Ve(),n=null,l=lr;l!==null;){var c=l.next,s=Of(l,t);s===0?(l.next=null,n===null?lr=c:n.next=c,c===null&&(Fa=n)):(n=l,(e!==0||(s&3)!==0)&&(ar=!0)),l=c}Nt!==0&&Nt!==5||Hi(e),kl!==0&&(kl=0)}function Of(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var p=31-se(s),T=1<<p,H=c[p];H===-1?((T&n)===0||(T&l)!==0)&&(c[p]=Fe(T,t)):H<=t&&(e.expiredLanes|=T),s&=~T}if(t=ot,n=ke,n=Pe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Wt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Oe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Wt(l),pn(n)){case 2:case 8:n=Wl;break;case 32:n=In;break;case 268435456:n=On;break;default:n=In}return l=Yf.bind(null,e),n=Bt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Wt(l),e.callbackPriority=2,e.callbackNode=null,2}function Yf(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var l=ke;return l=Pe(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sf(e,l,t),Of(e,Ve()),e.callbackNode!=null&&e.callbackNode===n?Yf.bind(null,e):null)}function Hf(e,t){if(nr())return null;Sf(e,t,!0)}function j2(){k2(function(){(et&6)!==0?Bt(_l,M2):If()})}function Lc(){if(kl===0){var e=Ra;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),kl=e}return kl}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:f0(""+e)}function Kf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function z2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var s=Uf((c[Ht]||null).action),p=l.submitter;p&&(t=(t=p[Ht]||null)?Uf(t.formAction):p.getAttribute("formAction"),t!==null&&(s=t,p=null));var T=new b0("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kl!==0){var H=p?Kf(c,p):new FormData(c);Pu(n,{pending:!0,data:H,method:c.method,action:s},null,H)}}else typeof s=="function"&&(T.preventDefault(),H=p?Kf(c,p):new FormData(c),Pu(n,{pending:!0,data:H,method:c.method,action:s},s,H))},currentTarget:c}]})}}for(var Tc=0;Tc<hu.length;Tc++){var Ec=hu[Tc],D2=Ec.toLowerCase(),N2=Ec[0].toUpperCase()+Ec.slice(1);Yn(D2,"on"+N2)}Yn(ys,"onAnimationEnd"),Yn(ps,"onAnimationIteration"),Yn(_s,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Z1,"onTransitionRun"),Yn(X1,"onTransitionStart"),Yn(W1,"onTransitionCancel"),Yn(Ss,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var p=l.length-1;0<=p;p--){var T=l[p],H=T.instance,ee=T.currentTarget;if(T=T.listener,H!==s&&c.isPropagationStopped())break e;s=T,c.currentTarget=ee;try{s(c)}catch(ie){y0(ie)}c.currentTarget=null,s=H}else for(p=0;p<l.length;p++){if(T=l[p],H=T.instance,ee=T.currentTarget,T=T.listener,H!==s&&c.isPropagationStopped())break e;s=T,c.currentTarget=ee;try{s(c)}catch(ie){y0(ie)}c.currentTarget=null,s=H}}}}function Re(e,t){var n=t[pe];n===void 0&&(n=t[pe]=new Set);var l=e+"__bubble";n.has(l)||(Xf(t,e,2,!1),n.add(l))}function Bc(e,t,n){var l=0;t&&(l|=4),Xf(n,e,l,t)}var ir="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[ir]){e[ir]=!0,Rx.forEach(function(n){n!=="selectionchange"&&(A2.has(n)||Bc(n,!1,e),Bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ir]||(t[ir]=!0,Bc("selectionchange",!1,t))}}function Xf(e,t,n,l){switch(_d(t)){case 2:var c=ah;break;case 8:c=ih;break;default:c=Qc}n=c.bind(null,t,n,e),c=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Gc(e,t,n,l,c){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===c)break;if(p===4)for(p=l.return;p!==null;){var H=p.tag;if((H===3||H===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;T!==null;){if(p=pa(T),p===null)return;if(H=p.tag,H===5||H===6||H===26||H===27){l=s=p;continue e}T=T.parentNode}}l=l.return}Vx(function(){var ee=s,ie=$r(n),ce=[];e:{var ne=Cs.get(e);if(ne!==void 0){var ae=b0,me=e;switch(e){case"keypress":if(h0(n)===0)break e;case"keydown":case"keyup":ae=C1;break;case"focusin":me="focus",ae=iu;break;case"focusout":me="blur",ae=iu;break;case"beforeblur":case"afterblur":ae=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=j1;break;case ys:case ps:case _s:ae=h1;break;case Ss:ae=D1;break;case"scroll":case"scrollend":ae=x1;break;case"wheel":ae=A1;break;case"copy":case"cut":case"paste":ae=b1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=es;break;case"toggle":case"beforetoggle":ae=T1}var we=(t&4)!==0,st=!we&&(e==="scroll"||e==="scrollend"),P=we?ne!==null?ne+"Capture":null:ne;we=[];for(var J=ee,$;J!==null;){var re=J;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||P===null||(re=oi(J,P),re!=null&&we.push(Ki(J,re,$))),st)break;J=J.return}0<we.length&&(ne=new ae(ne,me,null,n,ie),ce.push({event:ne,listeners:we}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Fr&&(me=n.relatedTarget||n.fromElement)&&(pa(me)||me[de]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(me=n.relatedTarget||n.toElement,ae=ee,me=me?pa(me):null,me!==null&&(st=f(me),we=me.tag,me!==st||we!==5&&we!==27&&we!==6)&&(me=null)):(ae=null,me=ee),ae!==me)){if(we=Fx,re="onMouseLeave",P="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(we=es,re="onPointerLeave",P="onPointerEnter",J="pointer"),st=ae==null?ne:si(ae),$=me==null?ne:si(me),ne=new we(re,J+"leave",ae,n,ie),ne.target=st,ne.relatedTarget=$,re=null,pa(ie)===ee&&(we=new we(P,J+"enter",me,n,ie),we.target=$,we.relatedTarget=st,re=we),st=re,ae&&me)t:{for(we=L2,P=ae,J=me,$=0,re=P;re;re=we(re))$++;re=0;for(var _e=J;_e;_e=we(_e))re++;for(;0<$-re;)P=we(P),$--;for(;0<re-$;)J=we(J),re--;for(;$--;){if(P===J||J!==null&&P===J.alternate){we=P;break t}P=we(P),J=we(J)}we=null}else we=null;ae!==null&&Wf(ce,ne,ae,we,!1),me!==null&&st!==null&&Wf(ce,st,me,we,!0)}}e:{if(ne=ee?si(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Xe=cs;else if(rs(ne))if(xs)Xe=H1;else{Xe=O1;var be=I1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Pr(ee.elementType)&&(Xe=cs):Xe=Y1;if(Xe&&(Xe=Xe(e,ee))){us(ce,Xe,n,ie);break e}be&&be(e,ne,ee),e==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Qr(ne,"number",ne.value)}switch(be=ee?si(ee):window,e){case"focusin":(rs(be)||be.contentEditable==="true")&&(Na=be,ou=ee,yi=null);break;case"focusout":yi=ou=Na=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,vs(ce,n,ie);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":vs(ce,n,ie)}var Ee;if(uu)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Da?as(e,n)&&(Ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ie="onCompositionStart");Ie&&(ts&&n.locale!=="ko"&&(Da||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Da&&(Ee=Qx()):(Sl=ie,nu="value"in Sl?Sl.value:Sl.textContent,Da=!0)),be=rr(ee,Ie),0<be.length&&(Ie=new $x(Ie,e,null,n,ie),ce.push({event:Ie,listeners:be}),Ee?Ie.data=Ee:(Ee=is(n),Ee!==null&&(Ie.data=Ee)))),(Ee=B1?q1(e,n):G1(e,n))&&(Ie=rr(ee,"onBeforeInput"),0<Ie.length&&(be=new $x("onBeforeInput","beforeinput",null,n,ie),ce.push({event:be,listeners:Ie}),be.data=Ee)),z2(ce,e,ee,n,ie)}Zf(ce,t)})}function Ki(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rr(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,s=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||s===null||(c=oi(e,n),c!=null&&l.unshift(Ki(e,c,s)),c=oi(e,t),c!=null&&l.push(Ki(e,c,s))),e.tag===3)return l;e=e.return}return[]}function L2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,c){for(var s=t._reactName,p=[];n!==null&&n!==l;){var T=n,H=T.alternate,ee=T.stateNode;if(T=T.tag,H!==null&&H===l)break;T!==5&&T!==26&&T!==27||ee===null||(H=ee,c?(ee=oi(n,s),ee!=null&&p.unshift(Ki(n,ee,H))):c||(ee=oi(n,s),ee!=null&&p.push(Ki(n,ee,H)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var T2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(T2,`
`).replace(E2,"")}function Vf(e,t){return t=Jf(t),Jf(e)===t}function xt(e,t,n,l,c,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ma(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ma(e,""+l);break;case"className":s0(e,"class",l);break;case"tabIndex":s0(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":s0(e,n,l);break;case"style":Wx(e,l,s);break;case"data":if(t!=="object"){s0(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=f0(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&xt(e,t,"name",c.name,c,null),xt(e,t,"formEncType",c.formEncType,c,null),xt(e,t,"formMethod",c.formMethod,c,null),xt(e,t,"formTarget",c.formTarget,c,null)):(xt(e,t,"encType",c.encType,c,null),xt(e,t,"method",c.method,c,null),xt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=f0(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=f0(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),x0(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":x0(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=u1.get(n)||n,x0(e,n,l))}}function Rc(e,t,n,l,c,s){switch(n){case"style":Wx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ma(e,l):(typeof l=="number"||typeof l=="bigint")&&Ma(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),s=e[Ht]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,c),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):x0(e,n,l)}}}function It(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,s;for(s in n)if(n.hasOwnProperty(s)){var p=n[s];if(p!=null)switch(s){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,s,p,n,null)}}c&&xt(e,t,"srcSet",n.srcSet,n,null),l&&xt(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var T=s=p=c=null,H=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":p=ie;break;case"checked":H=ie;break;case"defaultChecked":ee=ie;break;case"value":s=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:xt(e,t,l,ie,n,null)}}Ux(e,s,T,H,ee,p,c,!1);return;case"select":Re("invalid",e),l=p=s=null;for(c in n)if(n.hasOwnProperty(c)&&(T=n[c],T!=null))switch(c){case"value":s=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:xt(e,t,c,T,n,null)}t=s,n=p,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":Re("invalid",e),s=c=l=null;for(p in n)if(n.hasOwnProperty(p)&&(T=n[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":c=T;break;case"children":s=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:xt(e,t,p,T,n,null)}Zx(e,l,c,s);return;case"option":for(H in n)n.hasOwnProperty(H)&&(l=n[H],l!=null)&&(H==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":xt(e,t,H,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)Re(Ui[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:xt(e,t,ee,l,n,null)}return;default:if(Pr(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Rc(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&xt(e,t,T,l,n,null))}function B2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,s=null,p=null,T=null,H=null,ee=null,ie=null;for(ae in n){var ce=n[ae];if(n.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":H=ce;default:l.hasOwnProperty(ae)||xt(e,t,ae,null,l,ce)}}for(var ne in l){var ae=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ce!=null))switch(ne){case"type":s=ae;break;case"name":c=ae;break;case"checked":ee=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ae!==ce&&xt(e,t,ne,ae,l,ce)}}Vr(e,p,T,H,ee,ie,s,c);return;case"select":ae=p=T=ne=null;for(s in n)if(H=n[s],n.hasOwnProperty(s)&&H!=null)switch(s){case"value":break;case"multiple":ae=H;default:l.hasOwnProperty(s)||xt(e,t,s,null,l,H)}for(c in l)if(s=l[c],H=n[c],l.hasOwnProperty(c)&&(s!=null||H!=null))switch(c){case"value":ne=s;break;case"defaultValue":T=s;break;case"multiple":p=s;default:s!==H&&xt(e,t,c,s,l,H)}t=T,n=p,l=ae,ne!=null?wa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(T in n)if(c=n[T],n.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:xt(e,t,T,null,l,c)}for(p in l)if(c=l[p],s=n[p],l.hasOwnProperty(p)&&(c!=null||s!=null))switch(p){case"value":ne=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==s&&xt(e,t,p,c,l,s)}Kx(e,ne,ae);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:xt(e,t,me,null,l,ne));for(H in l)ne=l[H],ae=n[H],l.hasOwnProperty(H)&&ne!==ae&&(ne!=null||ae!=null)&&(H==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":xt(e,t,H,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)ne=n[we],n.hasOwnProperty(we)&&ne!=null&&!l.hasOwnProperty(we)&&xt(e,t,we,null,l,ne);for(ee in l)if(ne=l[ee],ae=n[ee],l.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:xt(e,t,ee,ne,l,ae)}return;default:if(Pr(t)){for(var st in n)ne=n[st],n.hasOwnProperty(st)&&ne!==void 0&&!l.hasOwnProperty(st)&&Rc(e,t,st,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Rc(e,t,ie,ne,l,ae);return}}for(var P in n)ne=n[P],n.hasOwnProperty(P)&&ne!=null&&!l.hasOwnProperty(P)&&xt(e,t,P,null,l,ne);for(ce in l)ne=l[ce],ae=n[ce],!l.hasOwnProperty(ce)||ne===ae||ne==null&&ae==null||xt(e,t,ce,ne,l,ae)}function Qf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],s=c.transferSize,p=c.initiatorType,T=c.duration;if(s&&T&&Qf(p)){for(p=0,T=c.responseEnd,l+=1;l<n.length;l++){var H=n[l],ee=H.startTime;if(ee>T)break;var ie=H.transferSize,ce=H.initiatorType;ie&&Qf(ce)&&(H=H.responseEnd,p+=ie*(H<T?1:(T-ee)/(H-ee)))}if(--l,t+=8*(s+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var kc=null,Ic=null;function ur(e){return e.nodeType===9?e:e.ownerDocument}function Pf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ff(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===Yc?!1:(Yc=e,!0):(Yc=null,!1)}var $f=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,ed=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof ed<"u"?function(e){return ed.resolve(null).then(e).catch(I2)}:$f;function I2(e){setTimeout(function(){throw e})}function Il(e){return e==="head"}function td(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var s=n.firstChild;s;){var p=s.nextSibling,T=s.nodeName;s[un]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=p}}else n==="body"&&Zi(e.ownerDocument.body);n=c}while(n);ni(t)}function nd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hc(n),xi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[un])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Y2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function ld(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Uc(e){return e.data==="$?"||e.data==="$~"}function Kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zc=null;function ad(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function rd(e,t,n){switch(t=ur(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xi(e)}var Ln=new Map,ud=new Set;function cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=L.d;L.d={f:U2,r:K2,D:Z2,C:X2,L:W2,m:J2,X:Q2,S:V2,M:P2};function U2(){var e=gl.f(),t=$0();return e||t}function K2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?Co(t):gl.r(e)}var $a=typeof document>"u"?null:document;function cd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var c=Cn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),ud.has(c)||(ud.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),It(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Z2(e){gl.D(e),cd("dns-prefetch",e,null)}function X2(e,t){gl.C(e,t),cd("preconnect",e,t)}function W2(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var c='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Cn(n.imageSizes)+'"]')):c+='[href="'+Cn(e)+'"]';var s=c;switch(t){case"style":s=ei(e);break;case"script":s=ti(e)}Ln.has(s)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(s,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Xi(s))||t==="script"&&l.querySelector(Wi(s))||(t=l.createElement("link"),It(t,"link",e),Tt(t),l.head.appendChild(t)))}}function J2(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',s=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ti(e)}if(!Ln.has(s)&&(e=g({rel:"modulepreload",href:e},t),Ln.set(s,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(s)))return}l=n.createElement("link"),It(l,"link",e),Tt(l),n.head.appendChild(l)}}}function V2(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var c=Sa(l).hoistableStyles,s=ei(e);t=t||"default";var p=c.get(s);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Xi(s)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(s))&&Xc(e,n);var H=p=l.createElement("link");Tt(H),It(H,"link",e),H._p=new Promise(function(ee,ie){H.onload=ee,H.onerror=ie}),H.addEventListener("load",function(){T.loading|=1}),H.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xr(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:T},c.set(s,p)}}}function Q2(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),s=l.get(c);s||(s=n.querySelector(Wi(c)),s||(e=g({src:e,async:!0},t),(t=Ln.get(c))&&Wc(e,t),s=n.createElement("script"),Tt(s),It(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function P2(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),s=l.get(c);s||(s=n.querySelector(Wi(c)),s||(e=g({src:e,async:!0,type:"module"},t),(t=Ln.get(c))&&Wc(e,t),s=n.createElement("script"),Tt(s),It(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(c,s))}}function xd(e,t,n,l){var c=(c=ue.current)?cr(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var s=Sa(c).hoistableStyles,p=s.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,p),(s=c.querySelector(Xi(e)))&&!s._p&&(p.instance=s,p.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),s||F2(c,e,n,p.state))),t&&l===null)throw Error(r(528,""));return p}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ei(e){return'href="'+Cn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function sd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function F2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),It(t,"link",n),Tt(t),e.head.appendChild(t))}function ti(e){return'[src="'+Cn(e)+'"]'}function Wi(e){return"script[async]"+e}function od(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Tt(l),l;var c=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),It(l,"style",c),xr(l,n.precedence,e),t.instance=l;case"stylesheet":c=ei(n.href);var s=e.querySelector(Xi(c));if(s)return t.state.loading|=4,t.instance=s,Tt(s),s;l=sd(n),(c=Ln.get(c))&&Xc(l,c),s=(e.ownerDocument||e).createElement("link"),Tt(s);var p=s;return p._p=new Promise(function(T,H){p.onload=T,p.onerror=H}),It(s,"link",l),t.state.loading|=4,xr(s,n.precedence,e),t.instance=s;case"script":return s=ti(n.src),(c=e.querySelector(Wi(s)))?(t.instance=c,Tt(c),c):(l=n,(c=Ln.get(s))&&(l=g({},n),Wc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Tt(c),It(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,xr(l,n.precedence,e));return t.instance}function xr(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,s=c,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===t)s=T;else if(s!==c)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sr=null;function fd(e,t,n){if(sr===null){var l=new Map,c=sr=new Map;c.set(n,l)}else c=sr,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var s=n[c];if(!(s[un]||s[Dt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var p=s.getAttribute(t)||"";p=e+p;var T=l.get(p);T?T.push(s):l.set(p,[s])}}return l}function dd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function $2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ei(l.href),s=t.querySelector(Xi(c));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=or.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Tt(s);return}s=t.ownerDocument||t,l=sd(l),(c=Ln.get(c))&&Xc(l,c),s=s.createElement("link"),Tt(s);var p=s;p._p=new Promise(function(T,H){p.onload=T,p.onerror=H}),It(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=or.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Jc=0;function th(e,t){return e.stylesheets&&e.count===0&&dr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&dr(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Jc===0&&(Jc=62500*q2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dr(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Jc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function or(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fr=null;function dr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fr=new Map,t.forEach(nh,e),fr=null,or.call(e))}function nh(e,t){if(!(t.state.loading&4)){var n=fr.get(e);if(n)var l=n.get(null);else{n=new Map,fr.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<c.length;s++){var p=c[s];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),s=n.get(p)||l,s===l&&n.set(null,c),n.set(p,c),this.count++,l=or.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),s?s.parentNode.insertBefore(c,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ji={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function lh(e,t,n,l,c,s,p,T,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=s,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function md(e,t,n,l,c,s,p,T,H,ee,ie,ce){return e=new lh(e,t,n,p,H,ee,ie,ce,T),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=zu(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Lu(s),e}function bd(e){return e?(e=Ta,e):Ta}function vd(e,t,n,l,c,s){c=bd(c),l.context===null?l.context=c:l.pendingContext=c,l=Dl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Nl(e,l,t),n!==null&&(en(n,e,t),ji(n,e,t))}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vc(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function yd(e){if(e.tag===13||e.tag===31){var t=ea(e,67108864);t!==null&&en(t,e,67108864),Vc(e,67108864)}}function pd(e){if(e.tag===13||e.tag===31){var t=hn();t=at(t);var n=ea(e,t);n!==null&&en(n,e,t),Vc(e,t)}}var hr=!0;function ah(e,t,n,l){var c=S.T;S.T=null;var s=L.p;try{L.p=2,Qc(e,t,n,l)}finally{L.p=s,S.T=c}}function ih(e,t,n,l){var c=S.T;S.T=null;var s=L.p;try{L.p=8,Qc(e,t,n,l)}finally{L.p=s,S.T=c}}function Qc(e,t,n,l){if(hr){var c=Pc(l);if(c===null)Gc(e,t,l,mr,n),Sd(e,l);else if(uh(c,e,t,n,l))l.stopPropagation();else if(Sd(e,l),t&4&&-1<rh.indexOf(e)){for(;c!==null;){var s=_a(c);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var p=ge(s.pendingLanes);if(p!==0){var T=s;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var H=1<<31-se(p);T.entanglements[1]|=H,p&=~H}Vn(s),(et&6)===0&&(P0=Ve()+500,Hi(0))}}break;case 31:case 13:T=ea(s,2),T!==null&&en(T,s,2),$0(),Vc(s,2)}if(s=Pc(l),s===null&&Gc(e,t,l,mr,n),s===c)break;c=s}c!==null&&l.stopPropagation()}else Gc(e,t,l,null,n)}}function Pc(e){return e=$r(e),Fc(e)}var mr=null;function Fc(e){if(mr=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mr=e,null}function _d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case _l:return 2;case Wl:return 8;case In:case ga:return 32;case On:return 268435456;default:return 32}default:return 32}}var $c=!1,Ol=null,Yl=null,Hl=null,Vi=new Map,Qi=new Map,Ul=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sd(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Pi(e,t,n,l,c,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[c]},t!==null&&(t=_a(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function uh(e,t,n,l,c){switch(t){case"focusin":return Ol=Pi(Ol,e,t,n,l,c),!0;case"dragenter":return Yl=Pi(Yl,e,t,n,l,c),!0;case"mouseover":return Hl=Pi(Hl,e,t,n,l,c),!0;case"pointerover":var s=c.pointerId;return Vi.set(s,Pi(Vi.get(s)||null,e,t,n,l,c)),!0;case"gotpointercapture":return s=c.pointerId,Qi.set(s,Pi(Qi.get(s)||null,e,t,n,l,c)),!0}return!1}function Cd(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){pd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){pd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Fr=l,n.target.dispatchEvent(l),Fr=null}else return t=_a(n),t!==null&&yd(t),e.blockedOn=n,!1;t.shift()}return!0}function wd(e,t,n){br(e)&&n.delete(t)}function ch(){$c=!1,Ol!==null&&br(Ol)&&(Ol=null),Yl!==null&&br(Yl)&&(Yl=null),Hl!==null&&br(Hl)&&(Hl=null),Vi.forEach(wd),Qi.forEach(wd)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,$c||($c=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,ch)))}var gr=null;function Md(e){gr!==e&&(gr=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){gr===e&&(gr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Fc(l||n)===null)continue;break}var s=_a(n);s!==null&&(e.splice(t,3),t-=3,Pu(s,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ni(e){function t(H){return vr(H,e)}Ol!==null&&vr(Ol,e),Yl!==null&&vr(Yl,e),Hl!==null&&vr(Hl,e),Vi.forEach(t),Qi.forEach(t);for(var n=0;n<Ul.length;n++){var l=Ul[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ul.length&&(n=Ul[0],n.blockedOn===null);)Cd(n),n.blockedOn===null&&Ul.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],s=n[l+1],p=c[Ht]||null;if(typeof s=="function")p||Md(n);else if(p){var T=null;if(s&&s.hasAttribute("formAction")){if(c=s,p=s[Ht]||null)T=p.formAction;else if(Fc(c)!==null)continue}else T=p.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),Md(n)}}}function jd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function ex(e){this._internalRoot=e}yr.prototype.render=ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=hn();vd(n,l,e,t,null,null)},yr.prototype.unmount=ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vd(e.current,2,null,e,null,null),$0(),t[de]=null}};function yr(e){this._internalRoot=e}yr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ul.length&&t!==0&&t<Ul[n].priority;n++);Ul.splice(n,0,e),n===0&&Cd(e)}};var zd=i.version;if(zd!=="19.2.3")throw Error(r(527,zd,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var xh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{el=pr.inject(xh),qt=pr}catch{}}return $i.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",c=Eo,s=Bo,p=qo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=md(e,1,!1,null,null,n,l,null,c,s,p,jd),e[de]=t.current,qc(e),new ex(t)},$i.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,c="",s=Eo,p=Bo,T=qo,H=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),t=md(e,1,!0,t,n??null,l,c,H,s,p,T,jd),t.context=bd(null),n=t.current,l=hn(),l=at(l),c=Dl(l),c.callback=null,Nl(n,c,l),n=l,t.current.lanes=n,yt(t,n),Vn(t),e[de]=t.current,qc(e),new yr(t)},$i.version="19.2.3",$i}var Rd;function yh(){if(Rd)return lx.exports;Rd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),lx.exports=gh(),lx.exports}var ph=yh();function wr(){const u=["BgvHzKLKCW","ogzMy1bOwa","mtCWqKrkEe1p","BwfW","mJm2BNbuwxLu","zMXVD2vYswrZ","mtCZnZeWtNDQu1jy","Dg9tDhjPBMC","Cg9ZAxrPB24","nJa0mtG5mK9zs05zzq","z3jVDxbZ","EwLhAuu","BgvHDMvZ","mtC0B0X2uefT","C2vHCMnO","BgvHzKDYB3vWCW","nZC5ntm3tKL0rKfW","y29UC3rYDwn0B3i","veTZq0W","zMLUza","mJG2ndC4nxPrqNztuW","CgfYC2u","DwX3Axy","Bwf4","C2XPy2u","BgvUz3rO","CMfUzg9T","mZKXmdeXmNrPz1z3zW","ndyYmZC1sK9fuLHN","uufSwuy"];return wr=function(){return u},wr()}const yl=Kn;function Kn(u,i){u=u-216;const a=wr();let r=a[u];if(Kn.pPgeHR===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Kn.LPhNwo=o,Kn.bNnyqf={},Kn.pPgeHR=!0}const f=a[0],h=u+f,y=Kn.bNnyqf[h];if(y)r=y;else{const m=function(d){this.GyLXAb=d,this.yTwnZt=[1,0,0],this.nXszln=function(){return"newState"},this.XbhUza="\\w+ *\\(\\) *{\\w+ *",this.Ixkqps=`['|"].+['|"];? *}`};m.prototype.hmlavc=function(){const d=new RegExp(this.XbhUza+this.Ixkqps),_=d.test(this.nXszln.toString())?--this.yTwnZt[1]:--this.yTwnZt[0];return this.NVZFQD(_)},m.prototype.NVZFQD=function(d){return~d?this.sqtoTU(this.GyLXAb):d},m.prototype.sqtoTU=function(d){for(let _=0,g=this.yTwnZt.length;_<g;_++)this.yTwnZt.push(Math.round(Math.random())),g=this.yTwnZt.length;return d(this.yTwnZt[0])},new m(Kn).hmlavc(),r=Kn.LPhNwo(r),Kn.bNnyqf[h]=r}return r}(function(u,i){const a=Kn,r=u();for(;;)try{if(-parseInt(a(224))/1+parseInt(a(242))/2*(parseInt(a(221))/3)+parseInt(a(235))/4+-parseInt(a(244))/5+parseInt(a(217))/6+-parseInt(a(228))/7*(-parseInt(a(239))/8)+-parseInt(a(236))/9*(parseInt(a(240))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(wr,712955);const _h=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),xx=_h(void 0,function(){const u=Kn,i={yiGiE:"(((.+)+)+)+$"};return xx[u(245)]()[u(222)](i[u(219)])[u(245)]()[u(225)](xx)[u(222)](i[u(219)])});xx();const Mr=()=>new Date().toISOString(),Ot=u=>u+"_"+Math[yl(234)]()[yl(245)](36)[yl(232)](2,10),Me=(u,i,a)=>Math[yl(231)](i,Math.min(a,u)),Zl=u=>{const i=yl;return{QAlYF:function(r,o){return r===o}}[i(237)](u,void 0)||u===null?u:JSON[i(229)](JSON.stringify(u))},t0=u=>Math.floor(u*.7/5)*5;function ba(u,i){const a=yl;return u.groups?u[a(218)][a(227)](r=>r.flowerIds.includes(i))??null:null}function Sh(u,i){const a=ba(u,i);return a?a.flowerIds:[i]}function Zr(u,i){const a=yl;return u[a(223)]?u[a(223)].find(r=>r.leafIds.includes(i))??null:null}function Ch(u,i){const a=yl,r={ulwiv:function(m,d){return m/d}},o=(u[a(223)]??[])[a(227)](m=>m.id===i);if(!o||o[a(238)][a(233)]===0)return{x:0,y:0};const f=o.leafIds[a(241)](m=>(u[a(220)]??[])[a(227)](d=>d.id===m)).filter(m=>!!m);if(f[a(233)]===0)return{x:0,y:0};const h=f.reduce((m,d)=>m+d.position.x,0),y=f.reduce((m,d)=>m+d[a(216)].y,0);return{x:r[a(230)](h,f.length),y:y/f[a(233)]}}function wh(u,i){const a=yl,r={TKsCL:function(f,h,y){return f(h,y)}},o=r[a(226)](Zr,u,i);return o?o.leafIds:[i]}const ri=Tn;(function(u,i){const a=Tn,r=u();for(;;)try{if(parseInt(a(143))/1*(-parseInt(a(141))/2)+-parseInt(a(119))/3*(-parseInt(a(120))/4)+-parseInt(a(107))/5*(-parseInt(a(133))/6)+-parseInt(a(139))/7+parseInt(a(109))/8*(-parseInt(a(127))/9)+parseInt(a(124))/10*(parseInt(a(157))/11)+parseInt(a(131))/12*(parseInt(a(125))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(jr,208504);const Mh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),sx=Mh(void 0,function(){const u=Tn,i={OfhDo:u(117)};return sx[u(149)]()[u(105)](i[u(121)])[u(149)]().constructor(sx)[u(105)]("(((.+)+)+)+$")});sx();const ii=2/3,kd=.6,jh=.25,zh=.75;function Tn(u,i){u=u-105;const a=jr();let r=a[u];if(Tn.JiAvRg===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Tn.mKoqpz=o,Tn.ORxQaI={},Tn.JiAvRg=!0}const f=a[0],h=u+f,y=Tn.ORxQaI[h];if(y)r=y;else{const m=function(d){this.HYoFmP=d,this.JZBcwo=[1,0,0],this.cKfBTH=function(){return"newState"},this.JLCqnS="\\w+ *\\(\\) *{\\w+ *",this.MNHzTu=`['|"].+['|"];? *}`};m.prototype.QiCpYn=function(){const d=new RegExp(this.JLCqnS+this.MNHzTu),_=d.test(this.cKfBTH.toString())?--this.JZBcwo[1]:--this.JZBcwo[0];return this.SiXtCA(_)},m.prototype.SiXtCA=function(d){return~d?this.chjnbD(this.HYoFmP):d},m.prototype.chjnbD=function(d){for(let _=0,g=this.JZBcwo.length;_<g;_++)this.JZBcwo.push(Math.round(Math.random())),g=this.JZBcwo.length;return d(this.JZBcwo[0])},new m(Tn).QiCpYn(),r=Tn.mKoqpz(r),Tn.ORxQaI[h]=r}return r}function Xl(u,i,a){const r=Tn,o={oOYIF:function(k,I){return k/I},uCsNk:function(k,I){return k*I},yjinq:function(k,I){return k<=I},BZIKw:r(160),Melrb:function(k,I){return k*I},jJXXy:function(k,I){return k/I},dXQaO:r(140),JhtYf:function(k,I){return k+I},recVG:function(k,I){return k*I},nwTfH:function(k,I){return k*I},dqmTy:function(k,I){return k===I},GHoTo:function(k,I){return k===I},ixWZC:function(k,I){return k/I},xXKON:function(k,I){return k+I}},f=o[r(154)](u,2),h=o[r(154)](o[r(146)](i,Math.SQRT2),2);if(h<=0||o.yjinq(f,0))return{diameter:u,layerCount:1};const y=a?.sizeMode??o.BZIKw,m=a?.sizeStepMm??0,d=h*(1-ii),_=o.Melrb(Math.PI,f)/2,g=a?.layerCount??Math[r(129)](1,Math[r(132)](o.jJXXy(_,d))),N=y===o.dXQaO?o[r(137)](i,o.Melrb(g-1,m)):i,b=o.recVG(N,Math.SQRT2)/2,A=o[r(135)](h,jh)+b*zh;if(o[r(106)](g,1)){const k=Math.min(o.jJXXy(Math.PI,2),b*ii/f),I=f*Math.sin(k),U=b*kd*Math[r(128)](k);return{diameter:Math.round(Math[r(129)](u,o.recVG(2,I+U))),layerCount:g}}let C=o[r(156)](h,ii)/f;for(let k=1;k<g;k++){const I=o[r(114)](y,"gradual")?o[r(137)](i,o.recVG(k,m)):i,U=I*Math.SQRT2/2;C+=o[r(154)](o.recVG(U,1-ii),f)}C=Math[r(111)](C,o[r(153)](Math.PI,2));const w=o.xXKON(f,A*kd)*Math[r(128)](C),q=Math[r(129)](0,w-f);return{diameter:Math.round(o.xXKON(u,2*q)),layerCount:g}}function a0(u,i,a=ri(160),r=0){const o=ri,f={qhzlk:function(m,d){return m<=d},CjCBA:function(m,d){return m/d},zjUkH:"uniform",LXxFW:function(m,d){return m/d},QXAlm:function(m,d){return m*d},VkNLo:function(m,d){return m+d},rPJob:function(m,d){return m<d},elQTy:"gradual",WgBbf:function(m,d){return m!==d},LuCrn:o(118),vKdVn:function(m,d){return m/d}};if(i<=0||u<=0)return 0;const h=[];for(let m=0;f.rPJob(m,i);m++){const d=a===f[o(123)]?u+m*r:u;h[o(142)](d*Math[o(144)]/2)}let y=h[0];for(let m=1;m<i;m++)if(f[o(108)]("BdfgE",f.LuCrn))y+=f[o(136)](h[m],3);else{if(f[o(158)](_0x29dc50,0)||_0x47b63f<=0)return 0;const d=f[o(152)](_0x122274,2),_=f[o(152)](_0x50b3cd[o(144)],2),g=_0x55f2dc;if(_0x141891===f.zjUkH||_0x40723d===0){const A=_*(g+2)/3;return _0x52fd4e[o(129)](1,_0x677cf7.round(f.LXxFW(d,A)))}const N=f[o(152)](_0x3ea018*(g-1)*g,6),b=f.LXxFW(f[o(112)](d/_-N,3),f[o(138)](g,2));return _0x13c986[o(129)](1,_0x20ffeb[o(132)](b))}return Math[o(132)](y*2)}function Dh(u,i,a=ri(160),r=0){const o=ri,f={Igduk:function(g,N){return g<=N},QVoYS:function(g,N){return g/N},GQwRY:function(g,N){return g===N},VQrVL:function(g,N){return g/N},XluGx:function(g,N){return g*N},RJTIQ:function(g,N){return g+N},PJFgm:function(g,N){return g/N},fHjXh:function(g,N){return g-N},jyaID:function(g,N){return g/N},yMxPl:function(g,N){return g*N},OGnHV:function(g,N){return g/N}};if(f.Igduk(i,0)||u<=0)return 0;const h=f[o(150)](u,2),y=Math[o(144)]/2,m=i;if(f.GQwRY(a,"uniform")||r===0){const g=f[o(161)](f.XluGx(y,f.RJTIQ(m,2)),3);return Math.max(1,Math[o(132)](f.QVoYS(h,g)))}const d=f.PJFgm(r*f[o(134)](m,1)*m,6),_=f.jyaID(f[o(147)](f.OGnHV(h,y)-d,3),f.RJTIQ(m,2));return Math.max(1,Math.round(_))}function jr(){const u=["vLfYvKW","C2vHCMnO","zhfTvhK","nvz3rwzXrW","v2DcyMy","mtC3otmYmevJs3bvtq","zuzTu2e","BwLU","uvHbBg0","qNfvu2i","r0HVvg8","sfj4wve","DMDADhK","kcGOlISPkYKRksSK","BwTcugC","oty5y2TWvLn1","nty4ALjysKfM","t2zOrg8","BgnWAge","zwXrvhK","mZKWrhflqxbq","mZa1nwzSzLLiCq","s0nVrve","ouXXEfzvvq","C2LU","Bwf4","EMT1C1i","mZi5ntjpuxrouMq","CM91BMq","mtC3ntyZnezwr2rJDG","zKHQwgG","BNDuzKG","DKTKvM4","sMH0wwy","vMTotg8","mJG5ntm3nuDOqLr1yq","z3jHzhvHBa","nJm3mfnHAxvADG","ChvZAa","ndLNyuP4CgS","u1fsvdi","rfPAy2S","DunZtMS","Eu14ugW","vxb6tfm","Dg9tDhjPBMC","uvzVwvm","C2L6zu1Vzgu","q2PdqKe","AxHxwKm","B09zsuy","ug5uuw4","CMvJvKC","mZGWnMzIA2H3wG","CwH6BgS","AKDOA0u","Dw5PzM9YBq"];return jr=function(){return u},jr()}function Nh(u,i,a){const r=ri,o={zkusR:function(y,m){return y<m},iyjlo:function(y,m){return y+m},sfrcS:function(y,m){return y/m}};if(u<=i)return 1;let f=1,h=80;for(let y=0;o[r(130)](y,30);y++){const m=o.iyjlo(f,h)/2,{diameter:d}=Xl(i,m,a);d<u?f=m:h=m}return Math.max(1,Math.round(o.sfrcS(f+h,2)))}function Ah(u,i,a){const r=ri,o={jGhkE:function(N,b){return N+b},BqUSb:function(N,b){return N/b},HRxYQ:function(N,b){return N*b},LghBP:function(N,b){return N/b},Skztw:function(N,b){return N===b},eFmSa:function(N,b){return N/b},PnTQn:function(N,b){return N/b},DZZck:function(N,b){return N/b},KCoEQ:function(N,b){return N>=b},NhYSA:function(N,b){return N===b},sPORX:r(148),yQgRr:function(N,b){return N*b},hDXeQ:function(N,b){return N-b},lcpha:function(N,b){return N>b},vgZty:function(N,b){return N/b}},f=u/2,h=o[r(115)](i,Math[r(144)])/2;if(h<=0||f<=0)return 1;const y=a?.[r(151)]??r(160),m=a?.sizeStepMm??0,d=o.LghBP(Math.PI,2);if(y===r(160)||o.Skztw(m,0)){const N=o[r(110)](h,3),b=o[r(155)](Math.PI*f,2);return Math.max(1,Math[r(132)](b/N))}let _=o[r(145)](h*ii,f);if(o[r(126)](_,d))return 1;let g=1;for(let N=1;N<100;N++)if(o.NhYSA("UpzLS",o.sPORX)){const b=i+o[r(115)](N,m),A=o.PnTQn(o.yQgRr(b,Math[r(144)]),2),C=o.LghBP(A*o.hDXeQ(1,ii),f);if(_+=C,o[r(122)](_,d+o[r(116)](C,2)))break;g=N+1}else{const b=_0x15ca09*QokuKx[r(159)](_0x16a506,2)/3;return _0x647623.max(1,_0x555bd9.round(QokuKx[r(113)](_0x555007,b)))}return Math[r(129)](1,g)}const kn=En;function En(u,i){u=u-305;const a=zr();let r=a[u];if(En.thCiDx===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};En.gkMmGL=o,En.wAqCGX={},En.thCiDx=!0}const f=a[0],h=u+f,y=En.wAqCGX[h];if(y)r=y;else{const m=function(d){this.Arllue=d,this.EkbTRP=[1,0,0],this.YzChGa=function(){return"newState"},this.PzSdkS="\\w+ *\\(\\) *{\\w+ *",this.ssLSYw=`['|"].+['|"];? *}`};m.prototype.qkeGrs=function(){const d=new RegExp(this.PzSdkS+this.ssLSYw),_=d.test(this.YzChGa.toString())?--this.EkbTRP[1]:--this.EkbTRP[0];return this.ThZGla(_)},m.prototype.ThZGla=function(d){return~d?this.UWLixi(this.Arllue):d},m.prototype.UWLixi=function(d){for(let _=0,g=this.EkbTRP.length;_<g;_++)this.EkbTRP.push(Math.round(Math.random())),g=this.EkbTRP.length;return d(this.EkbTRP[0])},new m(En).qkeGrs(),r=En.gkMmGL(r),En.wAqCGX[h]=r}return r}(function(u,i){const a=En,r=u();for(;;)try{if(parseInt(a(347))/1+-parseInt(a(350))/2*(-parseInt(a(360))/3)+parseInt(a(362))/4+parseInt(a(345))/5*(-parseInt(a(327))/6)+parseInt(a(368))/7+parseInt(a(336))/8+-parseInt(a(333))/9*(parseInt(a(313))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(zr,362248);const Lh=(function(){const u={SGtsp:function(a,r){return a/r}};let i=!0;return function(a,r){const o={PhCEx:function(h,y){return u.SGtsp(h,y)}},f=i?function(){const h=En;if(r){if(h(363)!=="szqdX")return o.PhCEx(_0x1264a0*_0x414f58,2);{const y=r[h(341)](a,arguments);return r=null,y}}}:function(){};return i=!1,f}})(),ox=Lh(void 0,function(){const u=En,i={PbJMu:u(321)};return ox.toString()[u(355)](u(321))[u(318)]()[u(311)](ox).search(i[u(353)])});ox();const u0=.28,Id={:kn(334),:kn(356)};function fx(u){const i=kn,a={LAlbD:"",rwZsB:""};return u===""?Id[a[i(366)]]:Id[a[i(319)]]}function va(u){return{CSrDb:function(a,r){return a/r}}.CSrDb(u*Math.PI,180)}const rn=2.7;function Yt(u){const i=kn,a={xBNRu:function(h,y){return h/y},PapmK:function(h,y){return h*y}},r=a[i(348)](u*Math[i(310)],2),o=a[i(305)](r,rn),f=o/2;return{length:o,width:f}}function zr(){const u=["mtiYnte1ufjMEhn3","EejouNu","C2LU","mLrLrxHICW","zwjXDeq","sMTjrfe","ugjktxu","B3jKzxi","C2vHCMnO","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","CMfKAxvZ","5y2k44gp44gz","CM91BMq","nduZnJyWtuTfrhLQ","DvDlrxq","mtm5odu2nhfLsNvWra","C3PXzfG","u3vqDwS","5yMJ44gK44g+44g/","tefSyKq","uKDJvgW","ndK0nJmXouXJC3bVDq","vLvqtgi","zLPAuKS","ugfWBuS","tgPjr3e","DhrTwMO","Dgn2sfO","DNblr3G","u1fsvdi","y29UC3rYDwn0B3i","yvj4yLe","ntCZmff0qvHLAW","yu5nrg8","ChvZAa","BgvUz3rO","rfbpEfq","Dg9tDhjPBMC","CNDAC0i","EfPLBMy","kcGOlISPkYKRksSK","uNPfCgy","swj2vhm","C2nHBgu","A2L4vMy","zxP5B1C","nZHdyxrPDwy","y29Z","zMLUza","uNLluvK","5lI444gK44g+44g/","Bwf4","mtm4ndjlwwjXsgu","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","DLnlwuu","ndG3nZK1mKz6B0rxsq","rMLLv2y","Dg9gAxHLza","AM9PBG","Cg1nrxe","yxbWBhK","svf5wwu","y0rds2y","t0r5z2m","mJy3nZC1shzfCuvM","BwLU"];return zr=function(){return u},zr()}function Th(u){const i=kn,a={cDCKf:function(r,o){return r/o},RyKQY:function(r,o){return r*o}};return a[i(343)](a[i(330)](u,rn),2)}function n0(u,i,a){const r=kn,o={DPOxT:function(d,_){return d*_},tcvHZ:function(d,_){return d*_}},{length:f}=Yt(a),h=f*i,y=Math[r(332)](0,u-o[r(317)](h,u0)),m=y+h;return o[r(308)](m,2)/rn}function Eh(u,i,a){const r=kn,o={Didnl:function(m,d){return m*d},gfUyU:function(m,d){return m/d},kixVf:function(m,d){return m*d},vpKGx:function(m,d){return m*d},DJVYv:function(m,d){return m-d}},{length:f}=Yt(a),h=o.Didnl(f,i),y=o.gfUyU(o[r(325)](u,rn),2);return Math.max(2,y-o[r(309)](h,o.DJVYv(1,u0)))}function Pn(u,i,a){const r=kn,o={GMMsf:function(_,g){return _<=g},GPAmg:function(_,g){return _??g},uWKEt:function(_,g){return _<g},aNMDo:function(_,g){return _+g},sbuQJ:function(_,g){return _*g},ARkCY:function(_,g){return _/g},ezyoW:function(_,g){return _%g},afjNp:function(_,g){return _+g},IiYtO:function(_,g){return _-g},pmMEq:function(_,g){return _<g},TeBXz:function(_,g){return _>g}};if(!u||u<=0||!a||o.GMMsf(a,0))return o.GPAmg(i,0);const f=360/u,h=360/a,y=[];for(let _=0;_<u;_++)y[r(315)](((i+_*f)%360+360)%360);let m=i+f/2,d=-1;for(let _=0;o[r(361)](_,u);_++){const g=o[r(314)](i+o.sbuQJ(_,f),o.ARkCY(f,2));let N=1/0;for(let b=0;o[r(361)](b,a);b++){const A=o.ezyoW(o.afjNp(o[r(326)](g+b*h,360),360),360);for(const C of y){let w=Math.abs(A-C);w>180&&(w=o.IiYtO(360,w)),o[r(340)](w,N)&&(N=w)}}o.TeBXz(N,d)&&(d=N,m=g)}return o.ARkCY(Math[r(359)](m*10),10)}function Xr(u,i,a){const r=kn,o={ebqtD:function(b,A){return b(A)},zaEfU:function(b,A){return b-A},SuPuk:function(b,A){return b*A},aRxbQ:function(b,A){return b+A},LjIGq:function(b,A,C){return b(A,C)}};if(u[r(316)]===0)return;const{length:f}=o[r(351)](Yt,i),h=u[0],y=h[r(324)]??1,m=f*y,d=Math[r(332)](0,o.zaEfU(h[r(357)],o.SuPuk(m,u0))),_=o[r(312)](d,m);if(_<=0)return;const g=a*rn/2,N=g/_;for(const b of u)b.radius=Math[r(332)](2,Math[r(359)](b[r(357)]*N*10)/10),b[r(324)]=Math.round(o[r(364)]((b[r(324)]??1)*N,100))/100;o[r(306)](dx,u,i)}function dx(u,i){const a=kn,r={XIVoi:function(m,d){return m===d},DwHLn:function(m,d){return m*d}};if(r.XIVoi(u[a(316)],0))return;const o=u[u.length-1],{length:f}=Yt(i),h=f*(o.scale??1),y=Math.floor(r.DwHLn(r.DwHLn(h,u0),10))/10;o[a(357)]>y&&(o.radius=y)}function Bh(u,i,a,r){const o=kn,f={LkzDs:o(365),vSKYE:o(331),VUPLb:function(N,b){return N*b},FieWf:function(N,b){return N===b},RzEpf:o(358),wKSkI:function(N,b){return N>b},FVPDA:function(N,b){return N!==b},IbvTs:function(N,b){return N/b},xZenf:function(N,b,A,C){return N(b,A,C)}};if(u.length===0)return;const h=[...u].sort((N,b)=>b[o(354)]-N[o(354)]),{length:y}=Yt(i),m=h.length,d=h[0].scale??1,_=y*d;h[0][o(357)]=Math.floor(f[o(369)](_,u0)*10)/10;for(let N=1;N<m;N++)if(f[o(337)](o(344),"ODygc")){const b=h[N-1],A=f.VUPLb(y,b.scale??1);let C;if(f[o(337)](a,f[o(322)])){const q=f[o(369)](70,Math.PI)/180,O=f.wKSkI(m,1)?f.VUPLb(N/(m-1),q):0;C=A*(30/100)*Math[o(328)](O)}else f.FVPDA("JkIDQ",o(352))?(_0x1a06f7.radius=_0x40ccd0.radius,_0x7523f0.scale=_0x469d9b.scale):C=f[o(323)](A,3);h[N].radius=Math[o(359)]((b.radius+C)*10)/10}else return _0x26f8ed===mhffwB.LkzDs?_0x242834[mhffwB.LkzDs]:_0x11ed5c[mhffwB[o(335)]];const g=[...u].sort((N,b)=>N.order-b[o(354)]);f[o(320)](Xr,g,i,r);for(const N of g){const b=u[o(329)](A=>A.id===N.id);b&&(b.radius=N[o(357)],b[o(324)]=N.scale)}}function ui(u){const i=kn,a={IQyYe:function(m,d){return m/d},cLhHA:function(m,d){return m*d},osxzk:function(m,d){return m/d},DTXUQ:function(m,d){return m*d}},r=360/u,o=Math.sin(va(r/2))*2,f=.96,h=1.2,y=a[i(342)](a.cLhHA(o,h),f);return a.osxzk(Math.round(a.DTXUQ(Math.max(.3,Math[i(346)](3,y)),100)),100)}(function(u,i){const a=tn,r=u();for(;;)try{if(parseInt(a(222))/1+parseInt(a(294))/2*(-parseInt(a(257))/3)+parseInt(a(253))/4+-parseInt(a(304))/5*(-parseInt(a(228))/6)+-parseInt(a(289))/7+parseInt(a(229))/8*(-parseInt(a(236))/9)+parseInt(a(261))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Dr,647647);function Dr(){const u=["AefquxG","D01UsLy","C0D6t1e","ntGWntm5r3PIEMDc","qu5ksge","rM9Vq0K","y29UC3rYDwn0B3i","A0rUA1a","uNfdtMi","nZm2ndGYrNfTAMTr","odHstufuBM8","ELfcwvG","ChLvvuq","i0yYrda0qG","5lI444gK44g+44g/","i0m4qtjena","Dg9tDhjPBMC","ndKXmdy3CLn1vM1Q","zwDhB2u","B1DQugO","CMfKAxvZ","AgjsAuW","y29Sx3LLBgXVDW","Cgv0ywXpDMvYCMLKzxm","uffcrK0","sxHMELq","B3jKzxi","sNLct20","y29Sx3nPBhzLCG","q2vUDgvY","C0nQEuO","i0q0qtG0mW","BNHyAgi","y29Sx2jSywnR","ndiYodrUwMfKyMi","iZHcnuuZqW","rMXVD2vYide","tNvPC0q","ntG3otGYrMzuueTt","AvDzq1O","t3v0zxi","C2nHBgu","nti1mdqXmgLrD3zjqq","y29Sx25HDNK","BwfW","EfbbqKK","y29Sx2rHCMTNCMvLBG","sw5Uzxi","yxbWBhK","A25iqNu","zMLUza","qNjsC20","i0zerJvdoq","i0uZndG1ma","wwzZzui","BMfTzq","y29Sx2XPz2H0EwvSBg93","Bgf5zxjZ","iZDfqZHfmW","B2zMC2v0qw5NBgu","i0uWndu3qG","iZncn0reoa","y29Sx3DOAxrL","q0zSsNm","q3vTDNm","C29YDa","iZjgqKy0qq","y29Sx2XHDMvUzgvY","ChbYr1K","Cg9ZAxrPB24","ndKYnJu1muP2vLD0Dq","5y2k44gp44gz","zu9sCva","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","yxrcs2S","nePnuLzcuq","Bgf5","y29Sx2nVCMfS","y29Sx2DYzwvU","Cgv0ywXdB3vUDa","iZmZmZmZmW","svHStgG","5yMJ44gK44g+44g/","y29Sx3bPBMS","rg1Av00","ntbcwNjiAwW","ru13CKy","Avj6vNO","zMX3"];return Dr=function(){return u},Dr()}const qh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=tn;if(a){const f=a[o(267)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),hx=qh(void 0,function(){const u=tn;return hx[u(235)]().search("(((.+)+)+)+$").toString()[u(225)](hx).search("(((.+)+)+)+$")});hx();function Zd(){const u=tn,i={sGzOQ:"#F5F5F5",CKbzR:"col_red",hbRiL:"#F08CB6",ELWdZ:"col_hotpink",NuisD:"#F08A3B",FooCI:u(232),sCjyJ:u(280),wMnJV:u(286),pyUUD:u(234),KDbeI:u(247),EMwrF:"#C0C0C0",YaXba:"col_cream",REcbl:"col_brown",iqrHz:u(254),kDnkP:u(252),OlMCz:u(299),tnJcJ:"#F08080"};return[{id:u(281),name:"",hex:i[u(221)]},{id:i.CKbzR,name:"",hex:u(272)},{id:u(302),name:"",hex:i[u(240)]},{id:i.ELWdZ,name:"",hex:u(279)},{id:"col_orange",name:"",hex:i[u(256)]},{id:u(241),name:"",hex:i[u(224)]},{id:u(275),name:"",hex:u(271)},{id:u(297),name:"",hex:u(285)},{id:u(265),name:"",hex:"#1A7A3A"},{id:"col_lightblue",name:"",hex:u(277)},{id:"col_blue",name:"",hex:i[u(249)]},{id:u(262),name:"",hex:"#2C3E6B"},{id:"col_purple",name:"",hex:"#9B59B6"},{id:i[u(220)],name:"",hex:i[u(231)]},{id:"col_gold",name:"",hex:u(250)},{id:i.KDbeI,name:"",hex:i[u(305)]},{id:i.YaXba,name:"",hex:"#F5E6CC"},{id:i.REcbl,name:"",hex:i.iqrHz},{id:i[u(226)],name:"",hex:i.OlMCz},{id:u(296),name:"",hex:i.tnJcJ}]}function Gh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,o={oWjPj:function(y){return y()},qrqee:function(y,m){return y(m)},atBKk:"prj",OYvlY:"",YXZXg:function(y,m){return y??m}},f=o[r(238)](Mr),h=Zd();return o.qrqee(ma,{id:Ot(o[r(293)]),title:u??o.OYvlY,unit:"mm",fabricSquareSize:i??20,baseDiameter:o.YXZXg(a,30),notes:"",createdAt:f,updatedAt:f,palette:h,flowers:[]})}function tn(u,i){u=u-217;const a=Dr();let r=a[u];if(tn.uKDPhN===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};tn.yUaKrg=o,tn.QXQByg={},tn.uKDPhN=!0}const f=a[0],h=u+f,y=tn.QXQByg[h];if(y)r=y;else{const m=function(d){this.ZRQjku=d,this.mJCJwV=[1,0,0],this.rJqmRj=function(){return"newState"},this.bbFyel="\\w+ *\\(\\) *{\\w+ *",this.NJvpat=`['|"].+['|"];? *}`};m.prototype.JTTMKN=function(){const d=new RegExp(this.bbFyel+this.NJvpat),_=d.test(this.rJqmRj.toString())?--this.mJCJwV[1]:--this.mJCJwV[0];return this.TYOanW(_)},m.prototype.TYOanW=function(d){return~d?this.YpsnhH(this.ZRQjku):d},m.prototype.YpsnhH=function(d){for(let _=0,g=this.mJCJwV.length;_<g;_++)this.mJCJwV.push(Math.round(Math.random())),g=this.mJCJwV.length;return d(this.mJCJwV[0])},new m(tn).JTTMKN(),r=tn.yUaKrg(r),tn.QXQByg[h]=r}return r}function Rh(u,i){const a=tn,r={bNkMI:"flw",JyBOm:function(y,m){return y+m}},o=Zl(u);o.id=Ot(r.bNkMI),o[a(274)]=u.name+" Copy";const f=i?.x??12,h=i?.y??12;return o[a(288)]={x:r[a(246)](u.position?.x??0,f),y:(u[a(288)]?.y??0)+h},o[a(276)]=(o[a(276)]||[])[a(263)](y=>({...y,id:Ot(a(295)),petalOverrides:y[a(242)]?y.petalOverrides.map(m=>({...m})):void 0})),o}(function(u,i){const a=mn,r=u();for(;;)try{if(parseInt(a(468))/1+parseInt(a(465))/2+parseInt(a(471))/3+-parseInt(a(432))/4+parseInt(a(491))/5+-parseInt(a(480))/6+-parseInt(a(416))/7*(parseInt(a(380))/8)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Nr,685764);const kh=(function(){const u={onKVN:function(a,r){return a===r}};let i=!0;return function(a,r){const o=mn,f={ulPRk:o(385),qEVjV:function(y,m){return u.onKVN(y,m)},bVofF:"xkudY"},h=i?function(){const y=o;if(f[y(418)]("odofR",f[y(391)]))return _0x873e0d[y(433)]().search(y(385))[y(433)]()[y(394)](_0x106701)[y(398)](f.ulPRk);if(r){const m=r.apply(a,arguments);return r=null,m}}:function(){};return i=!1,h}})(),mx=kh(void 0,function(){const u=mn,i={KCyWR:u(385)};return mx[u(433)]().search(i[u(458)]).toString()[u(394)](mx).search(u(385))});mx();function Nr(){const u=["y29SB3jjza","BgvUz3rO","DMfYAwfUDa","ChvZAa","C3rYAw5N","y29Sx2DYzwvU","ogfruurKBW","BgvHDMvZ","qwryrNm","CgfSzxr0zq","BgvHzKDYB3vWCW","kcGOlISPkYKRksSK","zg91yMXLugv0ywW","5y2k44gp44gz","Cgv0ywXuExbL","s1j5uuW","y2fqteO","yLzVzKy","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYswrZ","y29UC3rYDwn0B3i","zMX3","CMLNAhq","sendsxm","C2vHCMnO","u3ztBvi","BKf3yvC","Cg9ZAxrPB24","wurTr3e","z3vevgC","y29SB3iY","B2zMC2v0qw5NBgu","y29SB3i","Aw5UzxjqzxrHBfr5Cgu","EvDcENi","suz0r1a","y3jLyxrLzef0","BgvHzKLKCW","yMfZzurPyw1LDgvY","zMXVD2vYrgLHBwv0zxi","rxvgrNC","qunwCfC","mJq2ndy5m0Ttvef4uG","DvL6wvq","CuvwALy","ugvSuhO","B2jQzwn0","Bgf5zxjZ","wwvOB2S","zKPqvM8","BMfTzq","Aw5JBhvKzxm","C2L6zq","z3jW","DLDOEg8","y2vUDgvY","5yMJ44gK44g+44g/","wKTOAM8","mJu4otG2ohDPvMHNDa","Dg9tDhjPBMC","DgL0Bgu","wenuDxm","C3rLBMnPBhm","EuLXwva","Aw5Uzxjty2fSzq","zMXVD2vYCW","yvvICeu","C29Tzq","AgfZ","B25YCgy","Cg9Zzq","yMfJAW","BgvMDa","AxnbCNjHEq","DvLZzfG","BwfW","AxngAw5PDgu","ELfJvhq","CMfKAxvZ","tezdtNi","ChjVAG","zMLSDgvY","Bg9JA2vK","z3jVDxbZ","s0n5v1i","DNngEMC","AKTJsu8","EK1SyxC","Aw5UzxjtAxPLuMvKDwn0Aw9U","6jgj44kW44oR44o844ox","CM91BMq","ndK3mdm0D2n6D3fJ","CLDmENC","BM90zxm","mZq0mdu2q2rjDfHO","BgLUA2vKrMXVD2vYr3jVDxbjza","yMDrBLe","mZC5mtm1nwz5qM5xvq","CgvWq291BNq","A2vU","zuDIuue","D2LKDgHty2fSzq","Cgv0ywXpDMvYCMLKzxm","uMrfEvm","DMvYC2LVBG","y29Sx3DOAxrL","ntq5mJK0mhDXvgLpBW","EvHMt2u","rK5Atgy","DhLSuvm","AuryuvG","CM90yxrPB24","44or44o844oR77Yl5BQN6yEr","tMrAtMS","zMTsvfe","AuDZtxi","vu5wEhK","mZCYmJmXmfDPu3HoAa","C2nHBgu","DhLWzq","Cgv0ywXdB3vUDa","sKDZDhu","Aw5UzxjdB2XVCKLK"];return Nr=function(){return u},Nr()}function ux(u){const i=mn,a={jKcIO:function(r,o){return r===o},rATOp:"maru",EuFFw:"",dtMnN:i(473),fJPVo:""};return a.jKcIO(u,a.rATOp)?a[i(414)]:u===a.dtMnN?a[i(423)]:a.jKcIO(u,a[i(414)])||a[i(460)](u,i(430))?u:a[i(414)]}function mn(u,i){u=u-376;const a=Nr();let r=a[u];if(mn.WQpYiO===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};mn.wzIMPZ=o,mn.keOELG={},mn.WQpYiO=!0}const f=a[0],h=u+f,y=mn.keOELG[h];if(y)r=y;else{const m=function(d){this.wIChDt=d,this.rzqHin=[1,0,0],this.jqGvpc=function(){return"newState"},this.jRGYYQ="\\w+ *\\(\\) *{\\w+ *",this.nypCGc=`['|"].+['|"];? *}`};m.prototype.tjcQQo=function(){const d=new RegExp(this.jRGYYQ+this.nypCGc),_=d.test(this.jqGvpc.toString())?--this.rzqHin[1]:--this.rzqHin[0];return this.uPIKsT(_)},m.prototype.uPIKsT=function(d){return~d?this.ajassF(this.wIChDt):d},m.prototype.ajassF=function(d){for(let _=0,g=this.rzqHin.length;_<g;_++)this.rzqHin.push(Math.round(Math.random())),g=this.rzqHin.length;return d(this.rzqHin[0])},new m(mn).tjcQQo(),r=mn.wzIMPZ(r),mn.keOELG[h]=r}return r}function ma(u){const i=mn,a={ZKhjo:i(427),rWLzw:i(378),guDTg:function(f,h,y,m){return f(h,y,m)},onrpf:function(f,h){return f!==h},zQcTt:i(463),mLPqA:function(f,h){return f*h},zMlaw:"child",iSztC:i(445),FNZLf:function(f,h){return f!==h},nAwaW:"rESuI",ACVpW:function(f,h){return f!==h},aUbpE:"IFtGP",Yehok:function(f,h){return f(h)},RdEyS:function(f,h){return f!==h},tylQS:function(f,h){return f===h},iGsMr:function(f,h){return f!=h},wmDBh:function(f,h){return f-h},YDmGq:function(f,h){return f!=h},RIAfa:i(389),itgpX:function(f,h){return f(h)},xeaOb:"pNkmn",wEWqe:i(486),KkIOu:"",vsFzg:i(479),UNVxy:function(f,h){return f===h},uYzYT:i(487),uYsdX:"ZxkYc",fqWsL:"ztYrN",PPOzI:i(387),iDXQX:function(f,h){return f!==h},PnKol:function(f){return f()},AdXFs:function(f,h){return f(h)},LFCNr:"",XCTus:function(f,h){return f<=h},NbPDJ:"",caPLJ:"leaf",sOiPS:"Leaf",eGbQA:"mrQYo",iJamI:"DGuCc",SvSmR:i(379),NJFKY:i(420),OjTFU:i(481),yWBzr:i(495),JdMiS:function(f,h,y,m){return f(h,y,m)},bgQnQ:"fkRTQ",PelPz:function(f,h){return f(h)},lYMHc:function(f,h){return f!==h},HCCIs:function(f,h){return f!=h}},r=Zl(u||{});Array.isArray(r[i(439)])||(r.flowers=[]);for(const f of r.flowers)if(a[i(482)](a[i(400)],i(428))){f.id||(f.id=Ot(i(395))),(a[i(415)](typeof f.name,"string")||!f.name)&&(f[i(424)]="Flower"),(!f.position||!Number[i(450)](f[i(401)].x)||!Number[i(450)](f[i(401)].y))&&(a[i(440)]===i(409)?f[i(401)]={x:260,y:260}:(_0x572a9b.isArray(_0x1c03fd.flowerIds)||(_0x290b1c.flowerIds=[]),_0x4d1458.flowerIds=_0xe1aad8.flowerIds[i(455)](h=>_0x372764.has(h)),_0x3b05ea.id||(_0x4d5032.id=_0x441dd4(a[i(431)])),(typeof _0x59b482[i(424)]!==a.rWLzw||!_0x1ba9f2[i(424)])&&(_0x55c0e6.name=""))),Array.isArray(f[i(421)])||(f[i(421)]=[]);for(const h of f.layers){if(h.id||(h.id=Ot("lay")),(typeof h.colorId!==i(378)||!h.colorId)&&(h[i(497)]=r[i(383)]?.[0]?.id??"col_white"),h[i(388)]=a[i(422)](ux,h.petalType),h[i(494)]=Me(Number(h.petalCount||0),5,24),Number[i(450)](h.scale)||(h[i(492)]=1),Number.isFinite(h[i(475)])||(h.widthScale=1),Number[i(450)](h[i(452)])||(h[i(452)]=28),Number[i(450)](h.offsetAngle)||(h[i(405)]=0),delete h._doublePetalCache,h[i(386)])if(a[i(477)](typeof h.doublePetal,i(420))||a[i(483)](h.doublePetal,null))delete h.doublePetal;else{if(a[i(489)](h.doublePetal[i(438)],null)&&h[i(386)][i(462)]==null)if(a.tylQS("IHvDa","QDeIZ"))_0x3c0acb.isFinite(_0x58e9fd.doublePetal[i(462)])||(_0x3f3797[i(386)][i(462)]=2),_0x52cde9.doublePetal[i(462)]=a[i(403)](_0x4cdb32,_0x17cc2a.doublePetal.innerSizeReduction,1,30),_0x4700a.doublePetal.innerColorId!=null&&a[i(443)](typeof _0x497e80.doublePetal.innerColorId,i(378))&&delete _0x4b2a85[i(386)].innerColorId;else{const y=f[i(392)]??r.fabricSquareSize??20;h[i(386)][i(462)]=Math.round(a.mLPqA(y,a.wmDBh(1,h[i(386)][i(438)])))}delete h.doublePetal.innerScale,Number.isFinite(h[i(386)][i(462)])||(h[i(386)][i(462)]=2),h.doublePetal.innerSizeReduction=Me(h[i(386)][i(462)],1,30),delete h.doublePetal[i(407)],a[i(402)](h.doublePetal.innerColorId,null)&&typeof h.doublePetal.innerColorId!==a.rWLzw&&delete h[i(386)][i(496)]}if(Array[i(447)](h[i(476)]))if(a.RIAfa===a.RIAfa)for(const y of h.petalOverrides)y&&y[i(388)]!=null&&(y.petalType=a.itgpX(ux,y.petalType)),y&&delete y[i(407)],y&&y.innerColorId!=null&&typeof y.innerColorId!==i(378)&&delete y[i(496)],y&&a[i(489)](y[i(462)],null)&&(Number[i(450)](y[i(462)])?y[i(462)]=a.guDTg(Me,y[i(462)],1,30):delete y[i(462)]);else _0x30ba3e.has(_0x5287a9.id)||_0x1b0058[i(383)][i(377)](_0x1460e2)}(!Number.isFinite(f.flowerDiameter)||f[i(413)]<=0)&&(a[i(483)](a.xeaOb,"pNkmn")?f[i(413)]=60:delete _0x4f6a95[i(386)][i(496)]),f[i(429)]&&(f.center.type===a.wEWqe&&(f[i(429)].type=""),[a.KkIOu,"",""].includes(f[i(429)][i(493)])||(f[i(429)].type=a.KkIOu),Number[i(450)](f[i(429)].size)||(f[i(429)].size=6),f[i(429)][i(426)]=a.guDTg(Me,f[i(429)].size,1,30),(typeof f[i(429)][i(406)]!==i(378)||!f[i(429)][i(406)])&&(f[i(429)][i(406)]=r.palette?.[0]?.id??a[i(459)]),f[i(429)][i(493)]===""&&(a[i(490)](a[i(417)],a[i(448)])?_0x28b0a0[i(462)]=a.guDTg(_0x413c68,_0x23a487.innerSizeReduction,1,30):(Number[i(450)](f.center.pepCount)||(f.center.pepCount=12),f[i(429)].pepCount=Me(f.center[i(472)],4,30))),a.FNZLf(f[i(429)][i(493)],"")&&delete f.center[i(404)]),f.placementMode!==""&&f.placementMode!==""&&(a.fqWsL!==a.fqWsL?(_0x3776a9.id||(_0x3e3d84.id=_0x16cd66("lg")),(a.onrpf(typeof _0x32cb57[i(424)],a.rWLzw)||!_0xa87957.name)&&(_0x10a880.name=a.zQcTt),_0x327a96[i(447)](_0x376a36.leafIds)||(_0x42f3ce[i(411)]=[]),_0x42967a.leafIds=_0xde3faf[i(411)][i(455)](h=>_0x3ba6d5.has(h)),_0x1b90c7[i(450)](_0x4a5e0c[i(485)])||(_0x31574a.rotation=0),_0x393d6b[i(469)]!=null&&((_0x22afa4.groups??[])[i(441)](y=>y.id===_0xf7bdcc.linkedFlowerGroupId)||delete _0x1a0023.linkedFlowerGroupId)):f.placementMode=a.PPOzI),a[i(484)](f.baseDiameter,void 0)&&(!Number[i(450)](f[i(412)])||f[i(412)]<=0)&&delete f.baseDiameter}else delete _0x5b7009.doublePetal.innerColorId;Array.isArray(r.palette)||(r.palette=[]);const o=new Set(r.palette.map(f=>f.id));for(const f of a.PnKol(Zd))o.has(f.id)||r.palette.push(f);r.createdAt||(r.createdAt=Mr()),r.updatedAt||(r.updatedAt=r[i(410)]),r.id||(r.id=a[i(382)](Ot,i(454))),r[i(434)]||(r[i(434)]=a[i(453)]),r.unit="mm",Number.isFinite(r[i(392)])||(r[i(392)]=20),(!Number.isFinite(r[i(412)])||a[i(435)](r[i(412)],0))&&(r[i(412)]=30),a.ACVpW(typeof r[i(467)],a.rWLzw)&&(r.notes=""),Array[i(447)](r.groups)||(r[i(457)]=[]);{const f=new Set(r.flowers[i(449)](h=>h.id));for(const h of r[i(457)])Array[i(447)](h[i(393)])||(h[i(393)]=[]),h[i(393)]=h.flowerIds.filter(y=>f[i(442)](y)),h.id||(h.id=a.Yehok(Ot,a.ZKhjo)),(a.onrpf(typeof h[i(424)],a.rWLzw)||!h.name)&&(h[i(424)]=a.NbPDJ);r.groups=r.groups.filter(h=>h.flowerIds&&h.flowerIds[i(498)]>0)}Array[i(447)](r[i(381)])||(r[i(381)]=[]);for(const f of r[i(381)])if(f.id||(f.id=Ot(a[i(390)])),(typeof f[i(424)]!==a[i(466)]||!f.name)&&(f[i(424)]=a.sOiPS),(!f.position||!Number[i(450)](f[i(401)].x)||!Number.isFinite(f[i(401)].y))&&(a[i(477)]("blnZO",a[i(474)])?f[i(401)]={x:675,y:675}:(_0x415db7[i(457)]??[]).some(y=>y.id===_0x4ee6ca[i(469)])||delete _0x29d8cc[i(469)]),Number[i(450)](f.rotation)||(f.rotation=0),f.petalType=ux(f.petalType),(typeof f[i(497)]!="string"||!f[i(497)])&&(a.onrpf(i(437),a.iJamI)?f[i(497)]=r.palette?.[0]?.id??a[i(399)]:_0x1b6a88.position={x:260,y:260}),Number.isFinite(f[i(492)])||(f[i(492)]=1),Number[i(450)](f[i(475)])||(f.widthScale=1),typeof f.visible!="boolean"&&(f.visible=!0),typeof f[i(456)]!="boolean"&&(f.locked=!1),delete f._doublePetalCache,f[i(386)]){if(a[i(477)](typeof f[i(386)],a.NJFKY)||a[i(490)](f.doublePetal,null))if(a[i(415)](a.OjTFU,a[i(408)]))delete f[i(386)];else{const h=_0x2c0af7[i(392)]??_0x3f11a2.fabricSquareSize??20;_0xaa038f.doublePetal[i(462)]=_0x1edd05[i(464)](a.mLPqA(h,1-_0x2a0003[i(386)].innerScale))}else if(Number.isFinite(f.doublePetal.innerSizeReduction)||(f.doublePetal.innerSizeReduction=2),f.doublePetal[i(462)]=a.JdMiS(Me,f[i(386)].innerSizeReduction,1,30),f.doublePetal.innerColorId!=null&&typeof f.doublePetal[i(496)]!="string")if(a.onrpf(a[i(470)],i(488))){const h=["adult",a.zMlaw],y=["right",i(446),a.iSztC];_0x59621a[i(436)]=_0x51116f[i(436)][i(455)](m=>m&&typeof m.id===i(378)&&h.includes(m[i(376)])&&y.includes(m[i(444)])&&m[i(401)]&&_0x35f8c9[i(450)](m[i(401)].x)&&_0x288642.isFinite(m[i(401)].y))}else delete f[i(386)].innerColorId}Array.isArray(r.leafGroups)||(r[i(384)]=[]);{const f=new Set(r.leaves[i(449)](h=>h.id));for(const h of r.leafGroups)h.id||(h.id=a[i(419)](Ot,"lg")),(a.lYMHc(typeof h.name,i(378))||!h.name)&&(h[i(424)]=a[i(451)]),Array.isArray(h[i(411)])||(h.leafIds=[]),h[i(411)]=h[i(411)][i(455)](y=>f[i(442)](y)),Number[i(450)](h.rotation)||(h[i(485)]=0),a[i(397)](h.linkedFlowerGroupId,null)&&((r.groups??[])[i(441)](m=>m.id===h.linkedFlowerGroupId)||delete h.linkedFlowerGroupId);r[i(384)]=r.leafGroups.filter(h=>h.leafIds&&h[i(411)][i(498)]>0)}if(Array.isArray(r[i(436)])){const f=["adult",a[i(461)]],h=[i(396),i(446),i(445)];r.stencils=r[i(436)][i(455)](y=>y&&typeof y.id=="string"&&f[i(425)](y[i(376)])&&h[i(425)](y[i(444)])&&y[i(401)]&&Number.isFinite(y[i(401)].x)&&Number[i(450)](y.position.y))}return Number.isFinite(r.version)||(r[i(478)]=1),r}const qx=Bn;function Ar(){const u=["mZy4odu5BeXNDeLW","nZy2mJi4rgTAEgro","Dg9tDhjPBMC","mtyWnde5nKfbAuLerW","mJm4nZeXnuDTzhzosa","mZCZmJeWnMv0Be1VsG","C2vHCMnO","kcGOlISPkYKRksSK","yxbWBhK","mtaWntm4nhfKCNPozq","mZyYr0PnruTU","5lI444gK44g+44g/","44oA44od44ox","5y2k44gp44gz","nZi5nLjztvjdzW"];return Ar=function(){return u},Ar()}(function(u,i){const a=Bn,r=u();for(;;)try{if(parseInt(a(206))/1+-parseInt(a(201))/2*(parseInt(a(205))/3)+parseInt(a(207))/4+-parseInt(a(210))/5+parseInt(a(209))/6+parseInt(a(211))/7+-parseInt(a(200))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Ar,317652);const Ih=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Bn;if(a){const f=a[o(199)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),bx=Ih(void 0,function(){const u=Bn;return bx[u(208)]().search(u(198)).toString().constructor(bx)[u(212)]("(((.+)+)+)+$")});bx();const Xd="tsumami_projects_v1",pl=[qx(202),""];function Bn(u,i){u=u-198;const a=Ar();let r=a[u];if(Bn.iJWfPp===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Bn.asLvqy=o,Bn.KqPrkl={},Bn.iJWfPp=!0}const f=a[0],h=u+f,y=Bn.KqPrkl[h];if(y)r=y;else{const m=function(d){this.IdrCrC=d,this.kUxaLs=[1,0,0],this.bzLLOu=function(){return"newState"},this.tZBXag="\\w+ *\\(\\) *{\\w+ *",this.syMaKZ=`['|"].+['|"];? *}`};m.prototype.BnNioW=function(){const d=new RegExp(this.tZBXag+this.syMaKZ),_=d.test(this.bzLLOu.toString())?--this.kUxaLs[1]:--this.kUxaLs[0];return this.SJrBqR(_)},m.prototype.SJrBqR=function(d){return~d?this.vRevgJ(this.IdrCrC):d},m.prototype.vRevgJ=function(d){for(let _=0,g=this.kUxaLs.length;_<g;_++)this.kUxaLs.push(Math.round(Math.random())),g=this.kUxaLs.length;return d(this.kUxaLs[0])},new m(Bn).BnNioW(),r=Bn.asLvqy(r),Bn.KqPrkl[h]=r}return r}const Oh=["","",qx(203)],Wd=["",qx(204)];(function(u,i){const a=bn,r=u();for(;;)try{if(parseInt(a(247))/1+parseInt(a(249))/2*(-parseInt(a(258))/3)+parseInt(a(272))/4+parseInt(a(246))/5+parseInt(a(273))/6*(-parseInt(a(254))/7)+parseInt(a(256))/8*(-parseInt(a(276))/9)+-parseInt(a(277))/10*(-parseInt(a(255))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Lr,703699);const Yh=(function(){let u=!0;return function(i,a){const r=u?function(){const o=bn;if(a){const f=a[o(248)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),vx=Yh(void 0,function(){const u=bn,i={qCFzR:u(252)};return vx[u(253)]()[u(263)](u(252))[u(253)]().constructor(vx)[u(263)](i[u(250)])});vx();function bn(u,i){u=u-246;const a=Lr();let r=a[u];if(bn.gpQRLF===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};bn.aEpPSa=o,bn.QmaIwf={},bn.gpQRLF=!0}const f=a[0],h=u+f,y=bn.QmaIwf[h];if(y)r=y;else{const m=function(d){this.pNKDDa=d,this.MbNpdf=[1,0,0],this.euXpLf=function(){return"newState"},this.cZLcGM="\\w+ *\\(\\) *{\\w+ *",this.UTNIlL=`['|"].+['|"];? *}`};m.prototype.MTjFmj=function(){const d=new RegExp(this.cZLcGM+this.UTNIlL),_=d.test(this.euXpLf.toString())?--this.MbNpdf[1]:--this.MbNpdf[0];return this.aPhaEI(_)},m.prototype.aPhaEI=function(d){return~d?this.xyDurD(this.pNKDDa):d},m.prototype.xyDurD=function(d){for(let _=0,g=this.MbNpdf.length;_<g;_++)this.MbNpdf.push(Math.round(Math.random())),g=this.MbNpdf.length;return d(this.MbNpdf[0])},new m(bn).MTjFmj(),r=bn.aEpPSa(r),bn.QmaIwf[h]=r}return r}function l0(){const u=bn,i={yrKXo:function(a,r){return a(r)},RLFoC:u(262)};try{const a=localStorage[u(265)](Xd);if(!a)return[];const r=JSON[u(260)](a);return Array[u(269)](r)?r[u(271)](o=>{const f=u;if(i[f(275)]!=="HAriJ")try{const h=o?.[f(264)]?i[f(261)](ma,o.project):null;return h?{id:o.id??h.id,title:o.title??h[f(270)],updatedAt:o[f(267)]??h[f(267)],project:h}:null}catch{return null}else try{const h=_0x31e806?.[f(264)]?i.yrKXo(_0x350fa2,_0x167a77.project):null;return h?{id:_0x869e40.id??h.id,title:_0x320f6f[f(270)]??h[f(270)],updatedAt:_0x1aa30b[f(267)]??h[f(267)],project:h}:null}catch{return null}})[u(257)](o=>o!=null):[]}catch{return[]}}function Lr(){const u=["nda5mdCYoejeA1PcwG","nJG5nta4s2rXvvzl","C2XPy2u","uKXgB0m","nZKYEfvnwwnc","oty4mJi5mgzuDLjXCq","mJe3nJyZnuzzz0zxva","nZu4mJKWC3LsDvnh","yxbWBhK","mZy3otrhshPcwem","CungELi","zMLUzeLUzgv4","kcGOlISPkYKRksSK","Dg9tDhjPBMC","n0nzAenzvW","mtfgy3fvChq","mte2nda4AKHZugzS","zMLSDgvY","mtC3vKvPtLPK","C29YDa","CgfYC2u","Exjlwg8","txnhuLe","C2vHCMnO","ChjVAMvJDa","z2v0sxrLBq","uK1TqLe","DxbKyxrLzef0","tfv6DK4","AxnbCNjHEq","DgL0Bgu","BwfW"];return Lr=function(){return u},Lr()}function Jd(u){try{return localStorage.setItem(Xd,JSON.stringify(u)),!0}catch{return!1}}function Hh(u){const i=bn,a={LUzvN:function(y){return y()},RMmBQ:function(y,m){return y>=m},oRXqi:function(y,m){return y(m)}},r=a[i(268)](l0),o=r[i(251)](y=>y.id===u.id),f={id:u.id,title:u.title,updatedAt:u.updatedAt,project:u},h=a[i(266)](o,0)?[...r.slice(0,o),f,...r[i(274)](o+1)]:[f,...r];return h[i(259)]((y,m)=>y[i(267)]<m[i(267)]?1:-1),a.oRXqi(Jd,h)}function Uh(u){const i={cCyJo:function(r){return r()},YNyEk:function(r,o){return r(o)}},a=i.cCyJo(l0).filter(r=>r.id!==u);return i.YNyEk(Jd,a)}function vn(u,i){u=u-486;const a=Tr();let r=a[u];if(vn.YwAHTq===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};vn.mubqIe=o,vn.lBAYxy={},vn.YwAHTq=!0}const f=a[0],h=u+f,y=vn.lBAYxy[h];if(y)r=y;else{const m=function(d){this.plSHjD=d,this.shpGPe=[1,0,0],this.QdxQQJ=function(){return"newState"},this.HyOZHx="\\w+ *\\(\\) *{\\w+ *",this.dYdgmU=`['|"].+['|"];? *}`};m.prototype.AUdeWv=function(){const d=new RegExp(this.HyOZHx+this.dYdgmU),_=d.test(this.QdxQQJ.toString())?--this.shpGPe[1]:--this.shpGPe[0];return this.sMYXuL(_)},m.prototype.sMYXuL=function(d){return~d?this.hYlwvt(this.plSHjD):d},m.prototype.hYlwvt=function(d){for(let _=0,g=this.shpGPe.length;_<g;_++)this.shpGPe.push(Math.round(Math.random())),g=this.shpGPe.length;return d(this.shpGPe[0])},new m(vn).AUdeWv(),r=vn.mubqIe(r),vn.lBAYxy[h]=r}return r}(function(u,i){const a=vn,r=u();for(;;)try{if(parseInt(a(488))/1*(parseInt(a(542))/2)+parseInt(a(524))/3+parseInt(a(535))/4+parseInt(a(541))/5*(parseInt(a(491))/6)+parseInt(a(543))/7+-parseInt(a(519))/8*(-parseInt(a(505))/9)+-parseInt(a(523))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Tr,508522);const Kh=(function(){const u={uzhni:function(a,r){return a===r}};let i=!0;return function(a,r){const o={ZabZL:function(h,y){return h-y},sIenT:function(h,y){return u[vn(497)](h,y)}},f=i?function(){const h=vn;if(o[h(520)](h(518),h(518))){if(r){const y=r[h(539)](a,arguments);return r=null,y}}else{const y=_0x58284a[h(515)],m=_0x4d81cd?.[h(506)]??y.innerColorId??_0xd04221,d=_0xa0242a?.innerSizeReduction??y.innerSizeReduction??2,_=_0xfade08[h(537)](3,_0xaaa617[h(510)](o[h(538)](_0x2b2c7c,d))),g=m+"|"+_,N=_0x2f69f7.get(g);N?N[h(512)]+=1:_0x6d4009.set(g,{colorId:m,fabricSizeMm:_,count:1})}}:function(){};return i=!1,f}})(),gx=Kh(void 0,function(){const u=vn,i={wtoIp:u(527)};return gx.toString()[u(513)](i.wtoIp).toString()[u(536)](gx).search("(((.+)+)+)+$")});gx();function Tr(){const u=["wNzlDMK","y291BNq","C2vHCMnO","C2nHBgu","zg91yMXLugv0ywW","tu9HufG","uwzpt2S","Dur1y3m","mJrwz0XrDui","C0LLBLq","zMXVD2vYCW","z2v0","mZm3ntm1ntbctwLsC0W","mJG0ntu0nufmtKnRCq","Aw5KzxG","EgX0qxy","kcGOlISPkYKRksSK","tLrJtKu","q0jdqvG","Aw5UzxjtAxPLuMvKDwn0Aw9U","Dg90ywXdB3vUDa","zw50CMLLCW","Agv4","BhHxwxy","mJmZnZmXnMXABwrIsG","y29UC3rYDwn0B3i","Bwf4","wMfIwKW","yxbWBhK","CMvKDwnL","nxH1qMv2yW","mJeXmtmYAM1HCxzK","ntyZmtK2owLcB3Ljsa","C29YDa","Bw9Kzq","zMfICMLJu3f1yxjLu2L6zq","y29SB3jjza","zMXVD2vYrgLHBwv0zxi","nvbsBLvoyq","yvDmDui","DMLZAwjSzq","ntC5mdeZoejqzfHLCq","CgfSzxr0zq","Cgv0ywXdB3vUDa","DMfSDwvZ","B2fmywq","C2v0","DxPOBMK","zNjVBq","v053EKC","BLDqDey","qNnYquu","zMfICMLJu2L6zu1T","C1jnru0","Bgf5zxjZ","mtyWodm5u3nXzhbl","Aw5UzxjdB2XVCKLK","5y2k44gp44gz","yMfZzurPyw1LDgvYtw0","C3fYDa","CM91BMq"];return Tr=function(){return u},Tr()}function Zh(u){const i=vn,a={BpJHL:function(_,g){return _+g},WNwzG:function(_,g){return _*g},ZvKvi:function(_,g){return _/g},QfOOk:function(_,g){return _===g},aWLuB:i(507),sRMEM:function(_,g){return _-g},CBCAX:function(_,g){return _+g},hLVnW:"PVRAQ",WuiNV:function(_,g){return _-g},NTcNE:"hhpis",nWPtF:"pKjxj",pnEuO:function(_,g){return _!==g},oaLad:function(_,g){return _<g},fUYxx:function(_,g){return _===g},TpFsR:"dmrDW"},r=new Map((u[i(492)]||[]).map(_=>[_.id,_])),o=new Map,f=(_,g)=>_?.petalOverrides?.find(N=>N[i(525)]===g)??null,h=new Map;for(const _ of u[i(521)]||[]){const g=_.fabricSquareSize??u.fabricSquareSize;for(const w of _[i(504)]||[]){if(!w[i(490)])continue;const q=Math.round(a[i(499)](g,w[i(514)]??1));for(let O=0;a[i(495)](O,w[i(493)]);O++){const k=f(w,O),I=k?.colorId??w[i(486)],U=I+"|"+q,Q=o.get(U);if(Q?Q[i(512)]+=1:o.set(U,{colorId:I,fabricSizeMm:q,count:1}),w[i(515)])if(i(516)!=="MOaPX")_0x3b7e4a.set(_0x345bae,{colorId:_0x220ac1,fabricSizeMm:_0x580261,count:1});else{const B=w[i(515)],X=k?.[i(506)]??B[i(506)]??I,le=k?.[i(530)]??B[i(530)]??2,V=Math[i(537)](3,Math[i(510)](q-le)),W=X+"|"+V,v=o[i(522)](W);v?v[i(512)]+=1:o[i(496)](W,{colorId:X,fabricSizeMm:V,count:1})}}}const N=_.placementMode??i(507),b=N===""?t0(_[i(487)]):_.baseDiameter??u.baseDiameter,A=N+"|"+b,C=h.get(A);C?C[i(512)]+=1:h[i(496)](A,{mode:N,baseDiameterMm:b,count:1})}for(const _ of u.leaves??[]){if(!_.visible)continue;const g=_.fabricSquareSize??u[i(546)],N=Math.round(a[i(499)](g,_.scale??1)),b=_[i(486)],A=b+"|"+N,C=o[i(522)](A);if(C?C[i(512)]+=1:o.set(A,{colorId:b,fabricSizeMm:N,count:1}),_.doublePetal){const w=_.doublePetal,q=w[i(506)]??b,O=Math[i(537)](3,Math[i(510)](N-(w.innerSizeReduction??2))),k=q+"|"+O,I=o.get(k);I?I[i(512)]+=1:o.set(k,{colorId:q,fabricSizeMm:O,count:1})}}const y=new Map;for(const{colorId:_,fabricSizeMm:g,count:N}of o[i(494)]()){const b=y[i(522)](_);if(b)b[i(532)].push({fabricSizeMm:g,count:N});else{if(a.fUYxx(a.TpFsR,i(526)))return _0x5444c0[i(545)]!==_0x50c117.mode?a[i(517)](_0x4024b9.mode,a[i(489)])?-1:1:a[i(503)](_0x371fe9[i(508)],_0x43432f[i(508)]);y.set(_,{colorId:_,entries:[{fabricSizeMm:g,count:N}]})}}const m=Array.from(y[i(494)]()).map(({colorId:_,entries:g})=>{const N=i;if(N(501)!==a.hLVnW){const b=r.get(_),A=g[N(544)]((O,k)=>k.fabricSizeMm-O[N(502)]),C=A.reduce((O,k)=>O+k.count,0),w=a[N(511)](Math[N(510)](A.reduce((O,k)=>{const I=N,U=k.fabricSizeMm/10;return a[I(529)](O,k[I(512)]*U*U)},0)*100),100),q=Math.round(Math.sqrt(w)*10)/10;return{colorId:_,colorName:b?.name??_,hex:b?.[N(533)]??"#999999",sizes:A,totalCount:C,totalAreaCm2:w,squareSideCm:q}}else _0x5b2cfd.count+=1})[i(544)]((_,g)=>g[i(531)]-_[i(531)]),d=Array[i(498)](h[i(494)]())[i(544)]((_,g)=>{const N=i;if(a[N(528)]!==a[N(500)])return a.pnEuO(_.mode,g[N(545)])?_[N(545)]===a.aWLuB?-1:1:g[N(508)]-_[N(508)];{const b=_0x5a3885[N(515)],A=b[N(506)]??_0x53d0d2,C=_0x3d7e8a[N(537)](3,_0x5ecda5.round(GHdiCn[N(534)](_0x47120a,b.innerSizeReduction??2))),w=A+"|"+C,q=_0x210be2[N(522)](w);q?q[N(512)]+=1:_0x5cfc39[N(496)](w,{colorId:A,fabricSizeMm:C,count:1})}});return{colors:m,bases:d}}function nn(u,i){u=u-301;const a=Er();let r=a[u];if(nn.QaMDNv===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};nn.TmPqiy=o,nn.WEhOfQ={},nn.QaMDNv=!0}const f=a[0],h=u+f,y=nn.WEhOfQ[h];if(y)r=y;else{const m=function(d){this.FfwPXl=d,this.mdwcqm=[1,0,0],this.RIwaJP=function(){return"newState"},this.tNzeXD="\\w+ *\\(\\) *{\\w+ *",this.sBoTwH=`['|"].+['|"];? *}`};m.prototype.OJUwTR=function(){const d=new RegExp(this.tNzeXD+this.sBoTwH),_=d.test(this.RIwaJP.toString())?--this.mdwcqm[1]:--this.mdwcqm[0];return this.wqZSbq(_)},m.prototype.wqZSbq=function(d){return~d?this.uMjkLc(this.FfwPXl):d},m.prototype.uMjkLc=function(d){for(let _=0,g=this.mdwcqm.length;_<g;_++)this.mdwcqm.push(Math.round(Math.random())),g=this.mdwcqm.length;return d(this.mdwcqm[0])},new m(nn).OJUwTR(),r=nn.TmPqiy(r),nn.WEhOfQ[h]=r}return r}(function(u,i){const a=nn,r=u();for(;;)try{if(-parseInt(a(322))/1+-parseInt(a(361))/2*(parseInt(a(302))/3)+-parseInt(a(351))/4+-parseInt(a(324))/5*(parseInt(a(311))/6)+parseInt(a(352))/7*(parseInt(a(338))/8)+parseInt(a(365))/9+-parseInt(a(339))/10*(-parseInt(a(305))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Er,572167);const Xh=(function(){const u=nn,i={ZEzkG:u(306),MDvhz:function(r,o){return r!==o},ucsLT:u(358),RLKaS:u(342)};let a=!0;return function(r,o){const f=u;if(i[f(308)](i.ucsLT,i[f(333)])){const h=a?function(){const y=f;if(o){const m=o[y(363)](r,arguments);return o=null,m}}:function(){};return a=!1,h}else _0x4189cd&&_0x1ffdeb(_0x56a3bc,_0x286b6e.endsWith(i.ZEzkG)?_0x4423eb:_0x57418d+f(306)),_0x520353.revokeObjectURL(_0x2a59d7)}})(),yx=Xh(void 0,function(){const u=nn,i={jfAxW:u(353)};return yx[u(327)]()[u(356)](i[u(326)])[u(327)]()[u(329)](yx)[u(356)]("(((.+)+)+)+$")});yx();function Wh(u,i){const a=nn,r={oYpPb:a(332),ZDeCG:"style",hadqi:a(364),KZXIy:function(b,A){return b??A},fTnVb:a(304),WuKwc:a(359),jyAXA:function(b,A){return b(A)},zVoYT:"xmlns",sJnDh:"http://www.w3.org/2000/svg",cQbSK:"height",xHvdj:a(336),kJcwp:"[data-grid]",cJIAI:a(370),LPJuo:a(330),qcoVl:a(369)},o=u[a(357)](!0);o[a(346)](r[a(331)])[a(317)](b=>b.removeAttribute("data-testid")),o.removeAttribute(r.ZDeCG);const f=u[a(314)](a(364));f&&o[a(315)](r.hadqi,f);const h=r.KZXIy(f,r[a(328)]).split(/[\s,]+/).map(Number),y=h[2]??200,m=h[3]??200;o.setAttribute(r[a(350)],String(y)),o[a(315)]("height",r[a(341)](String,m)),o[a(315)](r[a(325)],r.sJnDh);const d=document[a(319)]("http://www.w3.org/2000/svg","rect");d[a(315)](r[a(350)],a(362)),d.setAttribute(r[a(371)],a(362)),d.setAttribute(a(309),r[a(321)]),o.insertBefore(d,o[a(373)]),o.querySelectorAll(r[a(372)])[a(317)](b=>b.remove()),o.querySelectorAll(r[a(349)])[a(317)](b=>b.remove()),o[a(346)](a(335))[a(317)](b=>b[a(345)]()),o.querySelectorAll(a(343)).forEach(b=>b.remove());const _=new XMLSerializer,g=`<?xml version="1.0" encoding="UTF-8"?>
`+_.serializeToString(o),N=new Blob([g],{type:r[a(337)]});Vd(N,i[a(334)](r[a(301)])?i:i+a(369))}function Jh(u,i,a=2){const r=nn,o={LRSbQ:function(C,w,q){return C(w,q)},vGLfg:".png",joNTC:function(C,w){return C*w},RdLgp:"ihlbn",uwRWy:"white",wfFny:"image/png",Ytunr:r(332),VeAbU:"style",AcouZ:"[data-grid]",biYSO:r(364),ieLHA:"0 0 200 200",UbZcY:function(C,w){return C??w},WBnyp:"height",MroQC:function(C,w){return C(w)},lXgCP:"image/svg+xml;charset=utf-8"},f=u.cloneNode(!0);f.querySelectorAll(o.Ytunr).forEach(C=>C.removeAttribute("data-testid")),f[r(318)](o[r(366)]),f[r(346)](o.AcouZ)[r(317)](C=>C.remove()),f.querySelectorAll(r(370)).forEach(C=>C.remove()),f[r(346)](r(335))[r(317)](C=>C[r(345)]()),f.querySelectorAll(r(343))[r(317)](C=>C[r(345)]());const h=u[r(314)](o.biYSO),y=(h??o.ieLHA).split(/[\s,]+/)[r(368)](Number),m=y[2]??200,d=y[3]??200;f[r(315)]("viewBox",o.UbZcY(h,"0 0 200 200")),f.setAttribute("width",String(m)),f.setAttribute(o.WBnyp,o.MroQC(String,d)),f[r(315)](r(307),"http://www.w3.org/2000/svg");const _=new XMLSerializer,g=_.serializeToString(f),N=new Blob([g],{type:o[r(312)]}),b=URL[r(303)](N),A=new Image;A[r(323)]=()=>{const C=r,w=document.createElement(C(367));w[C(359)]=m*a,w[C(360)]=o.joNTC(d,a);const q=w[C(340)]("2d");if(!q)if(o[C(344)]===C(348)){_0x405e13.revokeObjectURL(_0x356fce);return}else{URL[C(347)](b);return}q[C(320)]=o[C(354)],q.fillRect(0,0,w[C(359)],w[C(360)]),q.drawImage(A,0,0,w.width,w[C(360)]),w.toBlob(O=>{const k=C;O&&o.LRSbQ(Vd,O,i[k(334)](o[k(313)])?i:i+".png"),URL[k(347)](b)},o.wfFny)},A.onerror=()=>{URL[r(347)](b)},A.src=b}function Er(){const u=["mcaWidiWmcaYmda","mtaXmdLWvM9izNK","lNbUzW","Eg1SBNm","tur2AhO","zMLSBa","zg93BMXVywq","nJzoDxPrA1m","BfHNq1a","DKDmzMC","z2v0qxr0CMLIDxrL","C2v0qxr0CMLIDxrL","yM9KEq","zM9YrwfJAa","CMvTB3zLqxr0CMLIDxrL","y3jLyxrLrwXLBwvUDe5t","zMLSBfn0EwXL","EeH2zgO","otG0mJG1sufRtKTk","B25SB2fK","mZy4ndvOBNvYvuu","ELzVwvq","AMzbEfC","Dg9tDhjPBMC","zLrUvMi","y29UC3rYDwn0B3i","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","B1LWugi","w2rHDgeTDgvZDgLKxq","uKXlyvm","zw5KC1DPDgG","lNrZDw1HBwKTz3jVDxaTzgfZAa","D2HPDgu","tfbkDw8","ndbXsgrwwLa","mtG3mtbyzxHnAfy","z2v0q29UDgv4Da","ANLbwee","D0rkv3G","w2rHDgeTBwfYCxvLzv0","uMrmz3a","CMvTB3zL","CxvLCNLtzwXLy3rVCKfSBa","CMv2B2TLt2jQzwn0vvjm","BK1Kzvu","y0PjquK","v3vlD2m","mJu5nJuYnhvjuvbIza","nZCWnJiZwxDyBwvP","kcGOlISPkYKRksSK","DxDsv3K","y3jLyxrLrwXLBwvUDa","C2vHCMnO","y2XVBMvoB2rL","A1PsqMO","D2LKDgG","AgvPz2H0","ng9NBfftDW","mtaWjq","yxbWBhK","DMLLD0jVEa","mtm4mJqWmg5cBg9zwq","vMvbyLu","y2fUDMfZ","BwfW","lNn2zW","lNrZDw1HBwKTC2vSlwrHC2G","y1fIu0S","A0PJD3a","zMLYC3rdAgLSza","CwnVvMW","mJa1mJC4vKrjBKX0","y3jLyxrLt2jQzwn0vvjm"];return Er=function(){return u},Er()}function Vd(u,i){const a=nn,r=URL[a(303)](u),o=document[a(355)]("a");o.href=r,o[a(310)]=i,document.body.appendChild(o),o.click(),document[a(316)].removeChild(o),URL.revokeObjectURL(r)}function _r({active:u,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Vh="v0.1.0-dev";function Qh(u){const{view:i,onNavigate:a,project:r}=u;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(_r,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(_r,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(_r,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(_r,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Ph(u){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function px({children:u}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Fh(u){const[i,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(px,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(u,i){const a=qn,r=u();for(;;)try{if(parseInt(a(157))/1*(-parseInt(a(193))/2)+parseInt(a(155))/3*(parseInt(a(203))/4)+-parseInt(a(213))/5+parseInt(a(173))/6+parseInt(a(186))/7+parseInt(a(174))/8+-parseInt(a(149))/9*(parseInt(a(139))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Br,933991);function Br(){const u=["zMLSDgvY","Bgf5zxjZ","C3rHCNrsywrPDxm","otGXndG0mNzwA21ltW","mtqXmtC2otzmuKDRvhi","ChjLDMvUDerLzMf1Bhq","EffXtvi","B2zMC2v0qw5NBgu","C3rHCNreAwfT","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","vfjwrgK","Eg5NreS","zhPUAgi","zMXVD2vYCW","AK10BLG","wKr3tM8","nZeYnZu4owPuC0LHBq","AhrAufi","Bgf5zxi","C2nHBgu","Cg9PBNrLCKLK","u1bisgG","CM90yxrPB24","mZK1mJzPvMjWsM8","y29UC3rYDwn0B3i","yxrHBJi","vKHytMy","y29Z","y3vYCMvUDfrHCMDLDa","CxDWyKq","tLPRu2y","t2f4ufu","Bgf5zxjjza","ntGZotC2s21Xwe9M","Cg9ZAxrPB24","rKzdsLa","l3rZDw1HBwKV","AgXmywu","DNHmA0y","C2vHCMnO","zMXVD2vYrgLHBwv0zxi","qwDjqK0","zMXVD2vY","mJu3odCXnwvduKTRva","C2LU","ugrWzNu","zMLUza","y3vYCMvUDa","ChDqs2i","vg9rzgi","Cgv0ywXjBMrLEa","tufsBLC","D2LKDgHty2fSzq","CfvruhC","zMXVD2vYswq","tK5jvwC","DxjSkci","mZb1EwDku2W","Cgv0ywXbBMDSzq","C2v0ug9PBNrLCKnHChr1CMu","EM16t1O","D0XPDeK","rMDYCw4","Cgv0ywXdB3vUDa","qKDTDeq","y3vYC29Y","Be1dseO","mti0nty4mtbRyurIvxi","sNL6uve","C3r5Bgu","C3rHCNrbBMDSzq","CMfKAxvZ","rKXRweW","mZb0ugHtu3G","Bw9Kzq","mtrND2zXy08","C3rHCNreAxn0","yLHOCuy","ywjZ","v0LdvhO","AhLWB3q","vxflzxa","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","Bwf4","kcGOlISPkYKRksSK","BvrKEMC","Dg9tDhjPBMC","wwHxvwy"];return Br=function(){return u},Br()}function qn(u,i){u=u-129;const a=Br();let r=a[u];if(qn.sYawFv===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};qn.FQEKDW=o,qn.sVJdla={},qn.sYawFv=!0}const f=a[0],h=u+f,y=qn.sVJdla[h];if(y)r=y;else{const m=function(d){this.DETCFH=d,this.mJHWAK=[1,0,0],this.UxCDWe=function(){return"newState"},this.dAGbiL="\\w+ *\\(\\) *{\\w+ *",this.zbDJtK=`['|"].+['|"];? *}`};m.prototype.ZbxcwG=function(){const d=new RegExp(this.dAGbiL+this.zbDJtK),_=d.test(this.UxCDWe.toString())?--this.mJHWAK[1]:--this.mJHWAK[0];return this.JYAFoX(_)},m.prototype.JYAFoX=function(d){return~d?this.Gudlgg(this.DETCFH):d},m.prototype.Gudlgg=function(d){for(let _=0,g=this.mJHWAK.length;_<g;_++)this.mJHWAK.push(Math.round(Math.random())),g=this.mJHWAK.length;return d(this.mJHWAK[0])},new m(qn).ZbxcwG(),r=qn.FQEKDW(r),qn.sVJdla[h]=r}return r}const $h=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),_x=$h(void 0,function(){const u=qn;return _x.toString()[u(209)](u(166))[u(168)]()[u(194)](_x)[u(209)](u(166))});_x();function em(u){const i=qn,a={SPHHh:i(206),jMtnX:function(B,X){return B===X},VHXNf:function(B,X,le,V){return B(X,le,V)},vxLkF:function(B,X){return B*X},uspCF:i(212),ToQdb:function(B,X){return B(X)},dznhb:function(B,X){return B-X},reNpv:function(B,X){return B/X},dNamq:function(B,X){return B(X)},lMCHJ:function(B,X){return B/X},epkEC:function(B,X){return B*X},Fgrqn:function(B,X){return B+X},JyzQQ:function(B,X){return B*X},YhWUf:function(B,X){return B/X},WICTz:function(B,X){return B-X},ZDwNo:function(B,X){return B!==X},Pdpfu:function(B,X,le){return B(X,le)},MARnW:function(B,X){return B(X)},vJeof:function(B,X){return B<X},TRVDi:function(B,X,le){return B(X,le)},KwlCD:function(B,X){return B*X},dxNiJ:function(B,X){return B+X},IbOlx:function(B,X){return B*X},qwpbD:function(B,X){return B*X},cFmVL:"EOwil",hlLae:"layer",FLkXL:i(201),HfERn:i(211),pUQPw:function(B,X){return B+X},oSIYa:function(B,X){return B*X},MkUug:function(B,X){return B/X},htZPR:function(B,X){return B-X},FSqaz:function(B,X){return B===X},mTdzg:function(B,X){return B-X},xngDK:function(B,X){return B-X},mjIxD:function(B,X){return B(X)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:h}=u,y=F.useRef(null),m=(B,X,le,V)=>{const W=i;le.preventDefault(),le[W(198)]?.[W(141)]?.(le.pointerId),f.current&&(f[W(129)].style[W(147)]='url("'+a[W(191)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const v=r.flowers.find(G=>G.id===X);if(!v)return;const j=a[W(184)](B,W(188))&&V?.layerId?v.layers[W(170)](G=>G.id===V.layerId).map(G=>({layerId:G.id,scale:G.scale??1,radius:G[W(153)]??10})):v[W(171)].map(G=>({layerId:G.id,scale:G.scale??1,radius:G[W(153)]??10})),D=h(le),M=v[W(204)].x,S=v[W(204)].y,L=Math.hypot(D.x-M,D.y-S);y.current={mode:B,flowerId:X,layerId:V?.[W(202)],startScales:j,startDiam:v[W(210)]||60,startDist:L}},d=B=>{const X=i,le={ZbYBA:function(S,L,G,Z){return a[qn(196)](S,L,G,Z)},FFCJP:function(S,L){return a.vxLkF(S,L)},pwPKb:a.uspCF},V=y[X(129)];if(!V)return;const W=r.flowers[X(216)](S=>S.id===V.flowerId);if(!W)return;const v=a[X(131)](h,B),j=Math[X(162)](a.dznhb(v.x,W[X(204)].x),v.y-W[X(204)].y),D=Math.max(1,V[X(158)]??1),M=Me(a.reNpv(j,D),.3,3);o(S=>{const L=X,G=S.flowers[L(216)](Z=>Z.id===V[L(136)]);if(G){for(const Z of V.startScales){const R=G[L(171)][L(216)](z=>z.id===Z[L(202)]);R&&(R[L(189)]=le.ZbYBA(Me,le[L(205)](Z.scale,M),.3,3),V.mode===le[L(130)]&&(R[L(153)]=Me(Z.radius*M,2,120)))}V[L(156)]===L(212)&&(G.flowerDiameter=Me(V[L(178)]*M,10,200))}},!1)},_=()=>{const B=i;if(a[B(185)]("rpPfb",B(163))){if(!y[B(129)])return;a.Pdpfu(o,()=>{},!0),f[B(129)]&&(f.current[B(151)][B(147)]=""),y[B(129)]=null}else{_0x4fd677.preventDefault(),_0x5c90a8.currentTarget?.[B(141)]?.(_0x5d1c63.pointerId),_0x55ab4e.current&&(_0x4fbc83[B(129)].style[B(147)]='url("'+B(206)+'width_cursor_32.png?v=16") 16 16, ew-resize');const X=_0xf0f59[B(183)][B(216)](z=>z.id===_0x562cce);if(!X)return;const le=_0x36262a?.[B(202)]?X[B(171)].find(z=>z.id===_0x4bc6fc[B(202)]):null;if(!le)return;const V=a.dNamq(_0x2d304a,_0x2f1232),W=X[B(204)].x,v=X[B(204)].y,j=_0x13150f?.petalIndex??0,D=a[B(148)](360,_0x13c7b0.max(1,le[B(145)])),M=a.epkEC(a[B(144)](a[B(144)](le.offsetAngle,a[B(150)](j,D)),X.rotation),a.YhWUf(_0x3c370b.PI,180)),S=V.x-W,L=a.WICTz(V.y,v),G=-_0x548135[B(214)](M),Z=_0x10753a.cos(M),R=_0x6baed3[B(160)](S*G+L*Z);_0x4332ad.current={mode:_0x145bd8,flowerId:_0x3b0e70,layerId:_0x184a44?.[B(202)],petalAngle:M,startDist:_0x2d189a.max(1,R),startWidthScale:le.widthScale??1}}},g=a.mjIxD(F.useRef,null),N=(B,X,le,V)=>{const W=i;le.preventDefault(),le.currentTarget?.[W(141)]?.(le.pointerId),f.current&&(f.current[W(151)].cursor=W(138)+a.SPHHh+W(179));const v=r.flowers.find(S=>S.id===X);if(!v)return;const j=a[W(133)](h,le),D=Math[W(195)](j.y-v[W(204)].y,j.x-v[W(204)].x)*a.reNpv(180,Math.PI),M=B===W(188)&&V?.[W(202)]?v[W(171)][W(216)](S=>S.id===V.layerId)?.[W(177)]??0:v[W(192)]??0;g.current={mode:B,flowerId:X,layerId:V?.layerId,startAngle:D,startRotation:M}},b=B=>{const X=i,le={bXhqF:function(S,L){return S===L}},V=g.current;if(!V)return;const W=r[X(183)].find(S=>S.id===V.flowerId);if(!W)return;const v=h(B);let D=Math.atan2(v.y-W[X(204)].y,a[X(161)](v.x,W.position.x))*(180/Math.PI)-V[X(152)];for(;D>180;)D-=360;for(;a.vJeof(D,-180);)D+=360;const M=a[X(144)](V.startRotation,D);a[X(180)](o,S=>{const L=X,G=S.flowers[L(216)](Z=>Z.id===V.flowerId);if(G)if(le[L(159)](V[L(156)],"layer")&&V.layerId){const Z=G[L(171)].find(R=>R.id===V.layerId);Z&&(Z.offsetAngle=M)}else G.rotation=M},!1)},A=()=>{const B=i;g[B(129)]&&(a[B(215)](o,()=>{},!0),f.current&&(f[B(129)].style.cursor=""),g.current=null)},C=a.MARnW(F.useRef,null),w=(B,X,le,V)=>{const W=i;le[W(175)](),le.currentTarget?.setPointerCapture?.(le[W(190)]),f[W(129)]&&(f[W(129)][W(151)][W(147)]=W(138)+"/tsumami/"+W(164));const v=r[W(183)].find(te=>te.id===X);if(!v)return;const j=V?.[W(202)]?v.layers[W(216)](te=>te.id===V[W(202)]):null;if(!j)return;const D=a[W(133)](h,le),M=v.position.x,S=v[W(204)].y,L=V?.[W(132)]??0,G=a[W(169)](360,Math.max(1,j.petalCount)),Z=a.KwlCD(a.dxNiJ(j.offsetAngle+a.IbOlx(L,G),v[W(192)]),Math.PI/180),R=a.dznhb(D.x,M),z=D.y-S,E=-Math[W(214)](Z),Y=Math[W(197)](Z),K=Math.abs(a[W(144)](a[W(199)](R,E),a.IbOlx(z,Y)));C[W(129)]={mode:B,flowerId:X,layerId:V?.layerId,petalAngle:Z,startDist:Math[W(165)](1,K),startWidthScale:j.widthScale??1}},q=B=>{const X=i,le={wLitI:function(V,W){return V===W},FtOVW:a[X(207)],xQqMR:"/tsumami/",NZkSf:function(V,W){return a.MARnW(V,W)}};if(a[X(154)]===a.HfERn){const V=_0x5c4a36.flowers.find(W=>W.id===_0x3d052b.flowerId);if(!V)return;if(hOAmQQ[X(143)](_0x460f09.mode,hOAmQQ.FtOVW)&&_0x3a38f9.layerId){const W=V.layers[X(216)](v=>v.id===_0x1ecd48.layerId);W&&(W[X(177)]=_0x2a63d4)}else V[X(192)]=_0xcb32}else{const V=C.current;if(!V)return;const W=r.flowers[X(216)](R=>R.id===V.flowerId);if(!W)return;const v=h(B),j=v.x-W.position.x,D=v.y-W.position.y,M=-Math.sin(V[X(140)]),S=Math[X(197)](V[X(140)]),L=Math.abs(a[X(135)](a[X(208)](j,M),a.oSIYa(D,S))),G=Me(a.MkUug(L,V.startDist),.3,3),Z=Me(a[X(208)](V.startWidthScale,G),.3,3);o(R=>{const z=X;if(a.cFmVL===z(146)){_0x3620ca[z(175)](),_0x23d06b[z(198)]?.setPointerCapture?.(_0x3edc09.pointerId),_0xf3dec1[z(129)]&&(_0x33c798.current.style.cursor='url("'+le[z(176)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const E=_0x6cc463[z(183)][z(216)](ue=>ue.id===_0x5d42ef);if(!E)return;const Y=_0x560452?.layerId?E.layers[z(216)](ue=>ue.id===_0x582f44.layerId):null;if(!Y)return;const K=le[z(200)](_0x405e86,_0x4715b6),te=_0x3c981f.hypot(K.x-E[z(204)].x,K.y-E.position.y);_0x2d9369[z(129)]={mode:_0x3cf950,flowerId:_0x329dba,layerId:_0x1efdbf?.layerId,startDist:_0x4d8fea.max(1,te),startRadius:Y.radius??28}}else{const E=R.flowers[z(216)](K=>K.id===V.flowerId);if(!E)return;const Y=E[z(171)][z(216)](K=>K.id===V.layerId);Y&&(Y[z(134)]=Z)}},!1)}},O=()=>{const B=i;C.current&&(a.Pdpfu(o,()=>{},!0),f.current&&(f.current[B(151)].cursor=""),C[B(129)]=null)},k=F.useRef(null);return{scaleDragRef:y,beginScaleDrag:m,updateScaleDrag:d,endScaleDrag:_,rotationDragRef:g,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:A,widthScaleDragRef:C,beginWidthScaleDrag:w,updateWidthScaleDrag:q,endWidthScaleDrag:O,radiusDragRef:k,beginRadiusDrag:(B,X,le,V)=>{const W=i;le.preventDefault(),le[W(198)]?.[W(141)]?.(le.pointerId),f.current&&(f.current[W(151)][W(147)]=W(138)+a.SPHHh+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const v=r.flowers[W(216)](S=>S.id===X);if(!v)return;const j=V?.layerId?v.layers.find(S=>S.id===V[W(202)]):null;if(!j)return;const D=h(le),M=Math.hypot(a.WICTz(D.x,v.position.x),a[W(187)](D.y,v.position.y));k[W(129)]={mode:B,flowerId:X,layerId:V?.[W(202)],startDist:Math.max(1,M),startRadius:j.radius??28}},updateRadiusDrag:B=>{const X=i;a.hlLae;const le=k[X(129)];if(!le)return;const V=r[X(183)].find(M=>M.id===le[X(136)]);if(!V)return;const W=h(B),v=Math.hypot(a[X(167)](W.x,V.position.x),a[X(182)](W.y,V[X(204)].y)),j=a[X(181)](v,le[X(158)]),D=Me(le[X(172)]+j,5,100);o(M=>{const S=X;if(a.FSqaz("zmzOZ",S(142))){const L=M[S(183)].find(Z=>Z.id===le[S(136)]);if(!L)return;const G=L.layers[S(216)](Z=>Z.id===le[S(202)]);G&&(G[S(153)]=D)}else{_0x5a6005.preventDefault(),_0x1757f0[S(198)]?.[S(141)]?.(_0x155f9c[S(190)]),_0x1fdcf6.current&&(_0xb0f1f0[S(129)].style.cursor='url("/tsumami/rotate_cursor_active_32.png") 16 16, grabbing');const L=_0x3c2d4e.flowers[S(216)](z=>z.id===_0x204042);if(!L)return;const G=_0x33fcb3(_0x2b554e),Z=_0x245d9c[S(195)](hSEKZr.yznPY(G.y,L[S(204)].y),G.x-L.position.x)*hSEKZr[S(137)](180,_0xc978bb.PI),R=hSEKZr.aiDlC(_0x36e4be,hSEKZr.GstQI)&&_0xc84cd4?.[S(202)]?L[S(171)].find(z=>z.id===_0x4bc172.layerId)?.[S(177)]??0:L.rotation??0;_0x283550.current={mode:_0x3057f4,flowerId:_0x35a207,layerId:_0x4488bb?.[S(202)],startAngle:Z,startRotation:R}}},!1)},endRadiusDrag:()=>{const B=i;k.current&&(o(()=>{},!0),f[B(129)]&&(f.current.style[B(147)]=""),k[B(129)]=null)}}}(function(u,i){const a=At,r=u();for(;;)try{if(parseInt(a(503))/1+-parseInt(a(524))/2*(parseInt(a(500))/3)+parseInt(a(490))/4+parseInt(a(518))/5+parseInt(a(478))/6+parseInt(a(515))/7+-parseInt(a(495))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(qr,314495);const tm=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return u=!1,r}})(),Sx=tm(void 0,function(){const u=At,i={rKapj:"(((.+)+)+)+$"};return Sx.toString()[u(456)](i.rKapj).toString()[u(462)](Sx).search(i[u(505)])});function qr(){const u=["AgTeCue","BM9Uzq","Cg9ZAxrPB24","C2vHCMnO","zeLMv1C","C2nHBgu","DxjSkci","wxbXChK","yw9Msw0","y29UC3rYDwn0B3i","Bwf4","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","s2jRvuq","qxHvzgG","BgvUz3rO","DgT0uKK","D2LKDgG","y29Z","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","Cgv0ywXZ","whnguuq","t2r0sfy","zMLUza","uvv1C1G","mtCYmtiZogntCMrwvq","vwDxC2S","v2rlshq","sLLxsK8","vgDmvhi","Aw94Dhu","A2LUza","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","CM90yxrL","sMXqtwK","Bgf5zxi","Bgf5zxjZ","mtaZodq0mfnovgXTuq","DMvltfC","zfjRqwm","tvrcu2y","vNbIswW","nJm4mtC2vuXHzuPn","DNrmwuG","B2zMC2v0qw5NBgu","Cg9PBNrLCG","y1jWyum","m2vfuvHMrG","qM9oDhK","ANrkr3i","mZiZnJnoq3fIzNO","y2vUDgvY","CKTHCgO","DfbRA0S","CwHzvu4","B3LiyuO","Bgf5zxjjza","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","CKXlsK4","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","ywjZ","vxjfteS","ndK1mZL3BhnLqwq","AhLWB3q","swXZB2K","otCWmJeWufPADNnj","zMXVD2vY","C2LU","CMfKAxvZ","AxDxEva","rerZtvu","nZCXmZK2q2nsC3L3","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","CwnRve8","zMfICMLJu3f1yxjLu2L6zq","z3jHyG","ChnqwwW","Bw92zq","zMLSDgvY","EuLqBwe","uuPxt2C","r0nqv0y","DMLZAwjSzq","A3zbsg0","q0Lzzvi","Affytxe"];return qr=function(){return u},qr()}function At(u,i){u=u-450;const a=qr();let r=a[u];if(At.nTimVT===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};At.Iuvkrn=o,At.daLngr={},At.nTimVT=!0}const f=a[0],h=u+f,y=At.daLngr[h];if(y)r=y;else{const m=function(d){this.OTpieT=d,this.gCoRdv=[1,0,0],this.KlgkOF=function(){return"newState"},this.QLToBr="\\w+ *\\(\\) *{\\w+ *",this.bRKRIj=`['|"].+['|"];? *}`};m.prototype.fbvrVp=function(){const d=new RegExp(this.QLToBr+this.bRKRIj),_=d.test(this.KlgkOF.toString())?--this.gCoRdv[1]:--this.gCoRdv[0];return this.UGzJUd(_)},m.prototype.UGzJUd=function(d){return~d?this.xHqTXM(this.OTpieT):d},m.prototype.xHqTXM=function(d){for(let _=0,g=this.gCoRdv.length;_<g;_++)this.gCoRdv.push(Math.round(Math.random())),g=this.gCoRdv.length;return d(this.gCoRdv[0])},new m(At).fbvrVp(),r=At.Iuvkrn(r),At.daLngr[h]=r}return r}Sx();function ai(u,i,a,r,o){const f=At,h={erJiV:f(458),oyHaJ:"rotate",CxaLB:f(521),FwqKd:"move",tPkkK:function(U,Q){return U(Q)},jtJGr:function(U,Q){return U(Q)},tktRI:function(U,Q){return U-Q},rLKJN:"wRnUD",yIPma:function(U,Q){return U<Q},hQXMq:function(U,Q){return U*Q},XBABm:function(U,Q){return U===Q},GCPWF:f(488),pMNtT:"RaEfD",MTBSf:f(480),vtLYH:function(U,Q){return U*Q},hkDqA:function(U,Q){return U>Q},SSsEG:function(U,Q){return U<=Q},OdtHV:function(U,Q){return U(Q)},DpFWk:function(U,Q){return U*Q},ioxtu:function(U,Q){return U*Q},TgLTr:function(U,Q){return U*Q},uKfew:function(U,Q){return U===Q},FUJeu:f(454),AxUdh:function(U,Q){return U/Q},KbkUD:function(U,Q){return U-Q},dIfWW:function(U,Q){return U/Q},dfMER:function(U,Q){return U*Q},lppkX:function(U,Q){return U*Q},qRprO:function(U,Q){return U*Q},qhYUN:function(U,Q){return U+Q},UrELK:function(U,Q){return U-Q},QJWOg:function(U,Q){return U*Q}},{length:y}=h[f(502)](Yt,a[f(527)]??r.fabricSquareSize),m=h.tktRI(u,a[f(455)].x),d=i-a.position.y,_=Math[f(516)](m,d);let g=1/0;for(const U of a.layers)if(h[f(511)]===h[f(511)]){if(!U.visible)continue;const Q=U[f(458)]??1,B=y*Q,X=.28,le=Math.max(0,U.radius-B*X);h[f(532)](le,g)&&(g=le)}else return{zone:h.erJiV};h[f(506)](isFinite,g)||(g=0);const N=Math[f(463)](h[f(452)](g,.9),8);if(_<=N)return{zone:f(504)};if(h.XBABm(o.kind,h.GCPWF)){const U=a[f(489)][f(476)](Q=>Q.id===o[f(509)]&&Q.visible);if(U)if(h.pMNtT!==h[f(493)]){const Q=U[f(458)]??1,B=h[f(496)](y,Q),X=.28,le=Math.max(0,h.tktRI(U.radius,B*X));if(h[f(453)](le,0)){const W=Math[f(513)](_-le);if(h.SSsEG(W,6))return{zone:f(521),layerId:U.id}}}else switch(_0x4a7bd2){case"center":return f(498);case h[f(508)]:return'url("'+_0x261dca+f(471);case f(458):return'url("'+_0x5ba70c+f(464);case f(469):return'url("'+_0x40a1c0+f(525);case h.CxaLB:return f(459)+_0x5ea629+f(485);case h.FwqKd:return h.tPkkK(_0x16e410,_0x3abf35);default:return f(528)}}const b=h[f(475)](va,-(a.rotation??0)),A=h.DpFWk(m,Math.cos(b))-h[f(483)](d,Math[f(520)](b)),C=h[f(482)](m,Math.sin(b))+d*Math[f(470)](b),w=h.uKfew(o[f(484)],h[f(534)])?a.layers[f(531)](U=>U.id===o[f(509)]&&U[f(535)]):a[f(489)][f(531)](U=>U[f(535)]);let q=h.FUJeu,O,k,I=1/0;for(const U of w){const Q=U.scale??1,B=y*Q,X=U.widthScale??1,le=h[f(466)](y,2)*X*Q,V=.28,W=Math.max(0,h[f(465)](U.radius,h[f(452)](B,V))),v=h.dIfWW(360,Math[f(463)](1,U.petalCount));for(let j=0;h[f(532)](j,U.petalCount);j++){const D=U[f(497)]+h.dfMER(j,v),M=va(D),S=Math.cos(M)*W,L=Math.sin(M)*W,G=A-S,Z=h.KbkUD(C,L),R=Math.cos(-M),z=Math.sin(-M),E=h[f(468)](h.lppkX(G,R),h.qRprO(Z,z)),Y=h[f(507)](G*z,Z*R),K=E/B,te=h[f(457)](Y,le);if(K<-.05||K>1.08||Math.abs(te)>.75)continue;const ue=Math[f(516)](h.tktRI(K,.5),te);ue>=I||(I=ue,O=U.id,k=j,Math.abs(te)>.45?q=f(469):K>.75?q=h.oyHaJ:q=h.erJiV)}}if(q==="none"){let U=12;for(const X of a[f(489)]){if(!X.visible)continue;const le=X[f(458)]??1,V=h.dfMER(y,le),W=.28,v=Math[f(463)](0,h.UrELK(X.radius,h[f(533)](V,W)));U=Math.max(U,v+V)}if(Math[f(513)](h[f(514)](_,U))<=8)return{zone:"scale"}}return{zone:q,layerId:O,petalIndex:k}}function Cr(u,i,a){const r=At,o={vQqrq:function(f,h){return f===h},yccvv:"center",JYWJO:r(454),veKLW:"flower",qckTO:function(f,h){return f===h},QUusX:r(486),YyupI:function(f,h){return f!=h},gVpwT:function(f,h){return f*h},eHTfr:function(f,h){return f-h},JlPMi:function(f,h){return f*h},Gjdmf:function(f,h){return f+h},wUlba:function(f,h){return f>h},PwjNW:function(f,h){return f!==h},iAVKK:"IJLkv",DDsMU:"scale",aofIm:"layer",iZpzf:"petal"};if(o.vQqrq(u,o.yccvv))return o.yccvv;if(u===o.JYWJO)return o[r(481)];switch(i){case o[r(491)]:{if(o[r(526)](u,r(458)))return r(458);if(o[r(526)](u,o[r(477)])&&a?.hitLayerId&&a.flower&&o.YyupI(a[r(467)],null)){let f,h=-1/0;for(const y of a[r(519)][r(489)]){if(!y[r(535)])continue;const m=y.scale??1,d=o.gVpwT(a[r(467)],m),_=.28,g=Math[r(463)](0,o.eHTfr(y[r(521)],o[r(487)](d,_))),N=o.Gjdmf(g,d);if(o.wUlba(N,h)){if(o.PwjNW("IJLkv",o.iAVKK))return r(459)+_0x27f1d9+r(472);h=N,f=y.id}}return o.qckTO(a.hitLayerId,f)?o[r(477)]:o.DDsMU}return o.DDsMU}case o[r(461)]:return u;case o.iZpzf:case r(473):return r(458);default:return o[r(523)]}}function nm(u,i,a,r){const o=At,f={BoNty:function(k,I){return k*I},Ypqpy:function(k,I){return k*I},mgcTJ:function(k,I){return k-I},XsFQD:function(k,I){return k(I)},CIYeR:function(k,I){return k*I},dRkAc:function(k,I){return k>I},Ilsoi:"none",zLHyI:"scale",VpbIl:o(530)},h=a[o(527)]??r.fabricSquareSize,{length:y,width:m}=Yt(h),d=a.scale??1,_=y*d,g=f[o(501)](f[o(460)](m,a.widthScale??1),d),N=u-a[o(455)].x,b=f.mgcTJ(i,a[o(455)].y),A=f[o(474)](va,-(a.rotation??0)),C=N*Math.cos(A)-f[o(501)](b,Math.sin(A)),w=f.Ypqpy(N,Math[o(520)](A))+f[o(451)](b,Math.cos(A)),q=C/_,O=w/g;return q<-.05||f[o(492)](q,1.08)?f[o(517)]:Math.abs(O)>.75?"none":f[o(492)](Math[o(513)](O),.45)?"width":f[o(492)](q,.75)?o(486):q>.3?f.zLHyI:f[o(494)]}function e0(u,i){const a=At,r={cRpaC:a(469),sQbdA:a(530),iwWyP:"none",UgWsk:"grab"};switch(u){case"rotate":return a(459)+i+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+i+a(464);case r[a(499)]:return a(459)+i+a(525);case r.sQbdA:return i0(i);case r[a(522)]:default:return r[a(479)]}}function Od(u,i){const a=At,r={kvAHm:a(458),psPYl:"width",vmIWt:a(521)};switch(u){case a(504):return a(498);case"rotate":return a(459)+i+'rotate_cursor_32.png") 16 16, crosshair';case r[a(450)]:return'url("'+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(529)]:return a(459)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case r.vmIWt:return'url("'+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return i0(i);default:return"grab"}}function i0(u){return At(459)+u+'move_object_cursor_32.png") 16 16, move'}function Qn(u){return At(459)+u+'move_object_active_32.png") 16 16, grabbing'}function lm(u){const i=At;return'url("'+u+i(512)}function am(u){const i=At;return i(459)+u+i(510)}(function(u,i){const a=Kt,r=u();for(;;)try{if(parseInt(a(233))/1*(parseInt(a(231))/2)+parseInt(a(225))/3*(parseInt(a(284))/4)+parseInt(a(189))/5*(parseInt(a(214))/6)+parseInt(a(223))/7+-parseInt(a(193))/8*(parseInt(a(263))/9)+-parseInt(a(222))/10*(-parseInt(a(287))/11)+-parseInt(a(210))/12*(parseInt(a(279))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Gr,514736);const im=(function(){let u=!0;return function(i,a){const r={yTQKU:"rGFRB"},o=u?function(){const f=Kt,h={zGkWx:f(230)};if(a)if(r[f(212)]!=="rGFRB")_0x5a9000({kind:h[f(246)],leafId:_0x105d51[0]});else{const y=a[f(195)](i,arguments);return a=null,y}}:function(){};return u=!1,o}})(),Cx=im(void 0,function(){const u=Kt,i={EMdaZ:"(((.+)+)+)+$"};return Cx[u(194)]()[u(201)](i[u(257)])[u(194)]()[u(216)](Cx).search(i.EMdaZ)});Cx();function Kt(u,i){u=u-178;const a=Gr();let r=a[u];if(Kt.IQujRZ===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Kt.syTuSq=o,Kt.dEKqnd={},Kt.IQujRZ=!0}const f=a[0],h=u+f,y=Kt.dEKqnd[h];if(y)r=y;else{const m=function(d){this.xgNBZc=d,this.PyyBzd=[1,0,0],this.CoFsXx=function(){return"newState"},this.dysZyK="\\w+ *\\(\\) *{\\w+ *",this.BLEosQ=`['|"].+['|"];? *}`};m.prototype.ustYxj=function(){const d=new RegExp(this.dysZyK+this.BLEosQ),_=d.test(this.CoFsXx.toString())?--this.PyyBzd[1]:--this.PyyBzd[0];return this.tJMrpM(_)},m.prototype.tJMrpM=function(d){return~d?this.exhikN(this.xgNBZc):d},m.prototype.exhikN=function(d){for(let _=0,g=this.PyyBzd.length;_<g;_++)this.PyyBzd.push(Math.round(Math.random())),g=this.PyyBzd.length;return d(this.PyyBzd[0])},new m(Kt).ustYxj(),r=Kt.syTuSq(r),Kt.dEKqnd[h]=r}return r}function Gr(){const u=["C3rHCNrqB3m","v0nYwuO","tNHtv2q","rhzjCLG","C3rHCNq","senYywG","mtjIDe1JC1m","yMvNAw5sywrPDxneCMfN","Evrrs1u","v21TqNK","nZjetg9ACeW","vvnmBLG","y29UC3rYDwn0B3i","BwfW","zMLUza","BMnkt1O","Eu5oqvm","C2HPzNrlzxK","ntbbv1nTAfe","ntmZotKYmMDZtLf0uq","z1fiA3G","mJq2ouzIBNHuza","y2XPy2TqzxrHBa","CgfUma","Bgf5zxjjza","zvnqBvm","BgvHzG","nZi3mtrjwvnqD0C","swLIqKC","m0HNEfrArW","ChjLDMvUDerLzMf1Bhq","BxvSDgLtDgfYDfbVC2L0Aw9UCW","ChjVAMvJDa","Cg9xvuS","q1Lqv1K","Cg9ZAxrPB24","zw5KuM90yxrPB25eCMfN","zMXVD2vYswrZ","qK50Ewi","weTTC3u","tw1Pz1m","y2XPzw50wq","EKDRv3G","Bw92zwq","qMLcENy","C2v0ug9PBNrLCKnHChr1CMu","zw5Ku2nHBgveCMfN","ChvZAa","wevHueC","wgfPr0m","Bgf5zxi","AxntAgLMDfbYzxnZzwq","s1nbww4","ru1KyvO","whjwA3m","y3vYCMvUDa","Aw5JBhvKzxm","t29xseu","CMfKAxvZrhjHz1jLzG","ntiYDfLivuLf","y3vYCMvUDfn2zW","y2XPzw50wa","ugrIz2G","rxPjEg8","zMXVD2vY","Cg9PBNrLCKLK","qwn0BhG","z1bprem","y3vYCMvUDfrHCMDLDa","vK9qvMy","BgvUz3rO","AwTXruK","zw5KuMfKAxvZrhjHzW","AxHis3i","vNfbDKq","mJa3mdm4nZHnA1nWvu4","whfTAgi","zw5Xvgq","D2LKDgHty2fSzurYywDszwy","rLvXtxC","mta2nfPjs1vOvW","Aw5KzxG","zeLpD00","mJi1odi0nw9Xy1zctW","DvbbweS","yMvNAw5sB3rHDgLVBKrYywC","DxbKyxrLu2nHBgveCMfN","BgvHDMvZ","zMXVD2vYswq","BMjVBKe","DwnNtLu","BwLU","BxDsqwK","zw5Kv2LKDgHty2fSzurYywC","Cgv0ywW","yxfstKO","ndCZnZb1q2nqAey","ywjZ","Ce9jqMe","C2nHBgveCMfNuMvM","mtCWntzdC21buNi","Dg9tDhjPBMC","yxbWBhK","tMnRwhK","C3rHCNrdBgLLBNq","vNjcA0e","s29kD1a","zMXVD2vYCW","C2vHCMnO","A2LUza","q3Lusw4"];return Gr=function(){return u},Gr()}const Sr=500*rn;function rm(u){const i=Kt,a={MmigS:function(v,j){return v-j},HCrah:function(v,j){return v(j)},XaiGC:function(v,j){return v+j},Actlx:i(200),XrVks:"MJzQE",mwRAi:function(v,j){return v(j)},XEaPG:function(v,j,D){return v(j,D)},otyIc:function(v,j){return v>j},VrBkA:function(v,j){return v!==j},OqAff:i(248),ikqEI:function(v,j){return v(j)},CgHMt:function(v,j){return v-j},aqRNJ:i(236),uPAXK:function(v,j){return v>=j},Pdbgh:function(v,j){return v<=j},NckXy:function(v,j){return v<=j},ucgNU:"nMqsf",WGLaa:function(v,j){return v===j},BNtyb:i(207),Xqmhb:function(v,j){return v(j)},IibBG:i(230),WmmBy:function(v,j){return v(j)},lqdlm:function(v,j){return v!==j},dwLrk:"NBpDK",Kygaq:function(v,j,D,M){return v(j,D,M)},hbOyB:function(v,j){return v+j},vkOEV:function(v,j){return v===j},enqTd:function(v,j){return v!==j},bdttv:function(v,j){return v??j},dIOwM:function(v,j){return v!==j},VOPVf:function(v,j,D,M){return v(j,D,M)},EzIxo:function(v,j){return v+j},KSAYn:function(v,j){return v-j},QzRIY:function(v,j,D){return v(j,D)},EHXqU:function(v,j){return v!==j},WCrYJ:i(187),CyTIn:"flower",USLnX:function(v,j){return v===j},MULQm:i(206),BSCAQ:function(v,j){return v(j)},ncJOZ:function(v,j){return v===j},Mkpsb:function(v,j){return v!==j},ncjtS:i(254),OoWHE:function(v,j){return v!==j},DqIBm:function(v,j,D){return v(j,D)}},{project:r,selection:o,setSelection:f,applyUpdate:h,dragRef:y,zoom:m,pan:d,setPan:_,stageRef:g,clientToSvgPoint:N,togglePetalSelection:b}=u,A=a[i(185)](em,{project:r,applyUpdate:h,stageRef:g,clientToSvgPoint:N}),C=F.useRef(null),w=v=>{const j=i;v[j(234)](),v.currentTarget?.setPointerCapture?.(v.pointerId),C[j(259)]={start:{x:v[j(265)],y:v.clientY},pan0:{...d}}},q=v=>{const j=i;if(!C.current)return;const D=a[j(244)](v.clientX,C[j(259)][j(208)].x),M=v[j(245)]-C[j(259)][j(208)].y;a[j(209)](_,{x:a.XaiGC(C[j(259)].pan0.x,D),y:C[j(259)][j(227)].y+M})},O=()=>{const v=i;v(268),a.Actlx,C[v(259)]=null},k=F.useRef(null),[I,U]=a.mwRAi(F.useState,null);return{beginPan:w,updatePan:q,endPan:O,marqueeRef:k,marqueeRect:I,beginMarquee:v=>{const j=i;if(a.XrVks!==a[j(258)])_0x16587f[j(251)](_0x5b18c0.id);else{v[j(234)](),v.currentTarget?.setPointerCapture?.(v[j(269)]);const D=a.mwRAi(N,v);k.current={startSvg:D,currentSvg:D},a.mwRAi(U,null)}},updateMarquee:v=>{const j=i;if(!k[j(259)])return;const D=a.mwRAi(N,v);k.current[j(264)]=D;const M=k[j(259)].startSvg,S=Math[j(184)](M.x,D.x),L=Math[j(184)](M.y,D.y),G=Math.abs(D.x-M.x),Z=Math[j(190)](D.y-M.y);a.mwRAi(U,{x:S,y:L,w:G,h:Z})},endMarquee:()=>{const v=i,j={BnVWW:function(K,te,ue){return a[Kt(252)](K,te,ue)},VqAvD:function(K,te){return a.otyIc(K,te)}},D=k.current;if(k.current=null,!D)if(a[v(198)](a.OqAff,"eyilm")){a.ikqEI(U,null);return}else _0x1a530b=_0x2b03c2[v(241)].map(K=>{const te=v,ue=_0x4d26fb[te(200)][te(218)](fe=>fe.id===K);return{id:K,x:ue?.position.x??0,y:ue?.position.y??0}});const M=D.startSvg,S=D.currentSvg;if(Math.hypot(a.CgHMt(S.x,M.x),S.y-M.y)<3){f({kind:a[v(188)]}),U(null);return}const G=Math[v(184)](M.x,S.x),Z=Math[v(184)](M.y,S.y),R=Math[v(190)](S.x-M.x),z=Math.abs(a.CgHMt(S.y,M.y)),E=[];for(const K of r.flowers)a[v(288)](K.position.x,G)&&a[v(266)](K.position.x,G+R)&&K.position.y>=Z&&a[v(196)](K[v(239)].y,a[v(253)](Z,z))&&E.push(K.id);const Y=[];for(const K of r[v(180)]??[])if(K[v(239)].x>=G&&K[v(239)].x<=a[v(253)](G,R)&&K.position.y>=Z&&K.position.y<=Z+z)if(v(182)===a[v(183)]){const te=_0x2b0688[v(200)].find(ue=>ue.id===_0x1b38d1);return{id:_0x5a4fc9,x:te?.[v(239)].x??0,y:te?.position.y??0}}else Y[v(251)](K.id);if(E[v(274)]>0)if(a.WGLaa(E.length,1))f({kind:v(268),flowerId:E[0]});else if(v(243)===a[v(242)]){const K=j.BnVWW(_0x52054f,_0x20b01d,_0x48e03f);j[v(278)](K[v(274)],1)&&(_0x466dce=K[v(217)](te=>{const ue=v,fe=_0x485532.flowers.find(oe=>oe.id===te);return{id:te,x:fe?.[ue(239)].x??0,y:fe?.[ue(239)].y??0}}))}else f({kind:a[v(270)],flowerIds:E});else Y[v(274)]>0?Y[v(274)]===1?a[v(280)](f,{kind:a[v(232)],leafId:Y[0]}):f({kind:"leaves",leafIds:Y}):a[v(213)](f,{kind:"project"});a[v(275)](U,null)},beginFlowerDrag:(v,j,D)=>{const M=i,S={pOIBa:function(Z,R,z,E){return a.Kygaq(Z,R,z,E)},kOTzy:function(Z,R){return a.hbOyB(Z,R)}};j[M(234)](),j.currentTarget?.setPointerCapture?.(j.pointerId);const L=r.flowers[M(218)](Z=>Z.id===v);if(!L)return;let G=null;if(a.vkOEV(o.kind,a[M(270)])&&o[M(241)][M(260)](v))G=o[M(241)].map(Z=>{const R=M,z=r.flowers.find(E=>E.id===Z);return{id:Z,x:z?.[R(239)].x??0,y:z?.position.y??0}});else{const Z=Sh(r,v);Z[M(274)]>1&&(a[M(281)](M(271),"gPODC")?(_0x20d95c.preventDefault(),_0xe1ef0e.currentTarget?.[M(249)]?.(_0xb99446.pointerId),_0x2ac6a0[M(259)]={start:{x:_0xb29422[M(265)],y:_0x4fc7b8.clientY},pan0:{..._0x533fdb}}):G=Z[M(217)](R=>{const z=M;if(a.lqdlm(a.dwLrk,"eUshl")){const E=r[z(200)].find(Y=>Y.id===R);return{id:R,x:E?.position.x??0,y:E?.[z(239)].y??0}}else{const E=_0x365f10.flowers.find(Y=>Y.id===_0x500807[z(181)]);if(!E)return;E[z(239)].x=S[z(191)](_0x44d656,S.kOTzy(_0x3e8166.startPos.x,_0x5b4f4a),0,_0x2c9435),E[z(239)].y=_0xabfddc(_0x6a53f5[z(204)].y+_0x1978b8,0,_0x242bd4)}}))}y[M(259)]={flowerId:v,startClient:{x:j.clientX,y:j[M(245)]},startPos:{...L.position},moved:!1,clickPetal:a.bdttv(D,null),isShiftPressed:j[M(221)]||!1,multiStartPositions:G,startZoom:m}},updateFlowerDrag:v=>{const j=i,D={LNCfe:function(R,z){return R(z)},eSPmS:a.IibBG,gQHkx:"leaves",hisVB:function(R,z){return a[Kt(286)](R,z)},Iedms:"xIiXa",CYPWY:function(R,z,E,Y){return a[Kt(273)](R,z,E,Y)},ixHKr:function(R,z){return a[Kt(267)](R,z)},TAgyx:function(R,z){return R+z}},M=y[j(259)];if(!M)return;const S=a[j(256)](v.clientX,M.startClient.x)/M.startZoom,L=(v[j(245)]-M[j(197)].y)/M.startZoom,G=a.CgHMt(v.clientX,M.startClient.x),Z=a.MmigS(v[j(245)],M.startClient.y);Math[j(190)](G)+Math.abs(Z)>4&&(M.moved=!0),a.QzRIY(h,R=>{const z=j;if(z(283)!==z(283)){_0x524071[z(234)](),_0xb3580e[z(272)]?.setPointerCapture?.(_0x2694bc[z(269)]);const E=BMuSZt.LNCfe(_0x3678f0,_0x1a40d2);_0x3f31d4.current={startSvg:E,currentSvg:E},_0x4c1767(null)}else if(M[z(235)])for(const E of M.multiStartPositions)if(D.hisVB(D.Iedms,D.Iedms))_0x4eed5a[z(274)]===1?_0x20f77d({kind:BMuSZt[z(229)],leafId:_0x20bf4a[0]}):_0x28f8f8({kind:BMuSZt[z(224)],leafIds:_0xf24d66});else{const Y=R[z(200)][z(218)](K=>K.id===E.id);if(!Y)continue;Y[z(239)].x=D[z(238)](Me,D.ixHKr(E.x,S),0,Sr),Y[z(239)].y=D[z(238)](Me,D[z(277)](E.y,L),0,Sr)}else{const E=R[z(200)].find(Y=>Y.id===M.flowerId);if(!E)return;E[z(239)].x=Me(M.startPos.x+S,0,Sr),E.position.y=D[z(238)](Me,D.TAgyx(M[z(204)].y,L),0,Sr)}},!1)},endFlowerDrag:()=>{const v=i,j={poWUK:a.WCrYJ};if(a[v(215)](v(206),a.MULQm)){const D=y.current;if(!D)return;!D.moved&&D.clickPetal?D.isShiftPressed?b(D[v(181)],D.clickPetal[v(228)],D.clickPetal.index,!0):a.BSCAQ(f,{kind:a[v(205)],flowerId:D.flowerId,layerId:D.clickPetal.layerId,index:D[v(226)][v(285)]}):D[v(247)]&&(v(220)===v(220)?((a[v(219)](o.kind,v(236))||o[v(202)]==="flower"&&a.Mkpsb(o.flowerId,D.flowerId)||o[v(202)]===a.ncjtS&&o.flowerId!==D[v(181)]||o[v(202)]===v(187)&&a[v(261)](o[v(181)],D[v(181)]))&&f({kind:a[v(203)],flowerId:D[v(181)]}),a.DqIBm(h,()=>{},!0)):_0x158666[v(255)]?_0x30aefe(_0x2dd3e4[v(181)],_0x52c660.clickPetal[v(228)],_0x4f26be[v(226)][v(285)],!0):_0x2da647({kind:j[v(237)],flowerId:_0x418a32.flowerId,layerId:_0x534ca7.clickPetal[v(228)],index:_0x1acb96.clickPetal.index})),y.current=null}else(a.WGLaa(_0x34a049[v(202)],a[v(188)])||_0x2f63fc.kind===v(268)&&_0x4de4f6.flowerId!==_0x43e7c6.flowerId||a.vkOEV(_0x4c836a.kind,"layer")&&a.EHXqU(_0x4f96a9.flowerId,_0x2c65a7[v(181)])||_0x59c858[v(202)]===a[v(205)]&&_0x38f261.flowerId!==_0x5160f1.flowerId)&&_0x574744({kind:a[v(203)],flowerId:_0xae56c6[v(181)]}),_0x304691(()=>{},!0)},scaleDragRef:A[i(192)],beginScaleDrag:A.beginScaleDrag,updateScaleDrag:A[i(179)],endScaleDrag:A[i(250)],rotationDragRef:A.rotationDragRef,beginRotationDrag:A[i(178)],updateRotationDrag:A.updateRotationDrag,endRotationDrag:A[i(240)],widthScaleDragRef:A[i(282)],beginWidthScaleDrag:A.beginWidthScaleDrag,updateWidthScaleDrag:A.updateWidthScaleDrag,endWidthScaleDrag:A[i(186)],radiusDragRef:A[i(262)],beginRadiusDrag:A[i(211)],updateRadiusDrag:A.updateRadiusDrag,endRadiusDrag:A[i(276)]}}function um({className:u}){return x.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function da(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",h="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:y=>{u.onDoubleClick&&(y.stopPropagation(),u.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?x.jsx("button",{type:"button",className:`${h} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(um,{className:"h-4 w-4"})}):x.jsx("div",{className:`${h} shrink-0`,"aria-hidden":!0})]})]})}function cm(u){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:h,handleFlowerRowDoubleClick:y,addFlower:m,deleteSelected:d,addOuterLayer:_,deleteOuterLayer:g,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:A,setExpandedFlowers:C}=u,w=(B,X)=>{const le=a.kind==="flower"&&a.flowerId===B.id,V=a.kind==="flowers"&&a.flowerIds.includes(B.id),W=le||V,v="",j=o(B.id),D=B.layers&&B.layers.length>0,M=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),_(B.id)},"aria-label":"Add outer layer",children:"+"}),D&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),g(B.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":B.id,"data-testid":`tree-flower-${B.id}`,style:{paddingLeft:X},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${j?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:j?"Collapse layers":"Expand layers",onClick:S=>{S.stopPropagation(),f(B.id)},"aria-label":j?"collapse":"expand","data-tree-toggle":!0,children:j?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(da,{label:B.name,marker:v,selected:W,showTrash:le,onTrash:()=>N(B.id),rightActions:M,onClick:()=>h(B.id),onDoubleClick:()=>y(B.id),level:0,leftOffset:-18})})]}),j&&B.layers.slice().sort((S,L)=>L.order-S.order).map(S=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===S.id;return x.jsx(da,{label:`${S.order}. ${S.name}`,marker:"",selected:L,showTrash:L,onTrash:()=>b(B.id,S.id),onClick:()=>{r({kind:"layer",flowerId:B.id,layerId:S.id}),C(G=>({...G,[B.id]:!0}))},level:0,leftOffset:10,muted:!S.visible},S.id)})]},B.id)},q=u.groups,O=new Set(q.flatMap(B=>B.flowerIds)),k=i.flowers.filter(B=>!O.has(B.id)),I=u.leafGroups,U=new Set(I.flatMap(B=>B.leafIds)),Q=u.leaves.filter(B=>!U.has(B.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:A,"data-testid":"layer-tree",children:[x.jsx(da,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),q.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...q].reverse().map(B=>{const X=a.kind==="group"&&a.groupId===B.id,le="",V=u.isGroupExpanded(B.id);return x.jsxs("div",{"data-group-id":B.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${V?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:V?"":"",onClick:W=>{W.stopPropagation(),u.toggleGroupExpanded(B.id)},"aria-label":V?"collapse group":"expand group",children:V?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(da,{label:B.name,marker:le,selected:X,onClick:()=>u.onSelectGroup(B.id),level:0,leftOffset:-18})})]}),V&&B.flowerIds.map(W=>{const v=i.flowers.find(j=>j.id===W);return v?w(v,12):null})]},B.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...k].reverse().map(B=>w(B,0)),k.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[I.map(B=>{const X=a.kind==="leafGroup"&&a.leafGroupId===B.id;return x.jsxs("div",{children:[x.jsx(da,{label:` ${B.name}`,selected:X,onClick:()=>u.onSelectLeafGroup(B.id),level:0,leftOffset:0}),B.leafIds.map(le=>{const V=u.leaves.find(v=>v.id===le);if(!V)return null;const W=a.kind==="leaf"&&a.leafId===V.id;return x.jsx(da,{label:V.name,selected:W,showTrash:W,onTrash:()=>u.onDeleteLeaf(V.id),onClick:()=>u.onSelectLeaf(V.id),level:0,leftOffset:12,muted:!V.visible},V.id)})]},B.id)}),[...Q].reverse().map(B=>{const X=a.kind==="leaf"&&a.leafId===B.id;return x.jsx(da,{label:B.name,selected:X,showTrash:X,onTrash:()=>u.onDeleteLeaf(B.id),onClick:()=>u.onSelectLeaf(B.id),level:0,leftOffset:0,muted:!B.visible},B.id)}),u.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const xe=Gn;(function(u,i){const a=Gn,r=u();for(;;)try{if(-parseInt(a(347))/1*(-parseInt(a(366))/2)+parseInt(a(414))/3*(parseInt(a(424))/4)+parseInt(a(354))/5*(parseInt(a(374))/6)+-parseInt(a(384))/7*(parseInt(a(348))/8)+-parseInt(a(421))/9+-parseInt(a(345))/10+-parseInt(a(416))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Rr,964926);const xm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Gn;if(a){const f=a[o(346)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),wx=xm(void 0,function(){const u=Gn,i={onfzb:"(((.+)+)+)+$"};return wx[u(422)]().search(i[u(392)])[u(422)]()[u(403)](wx).search(u(398))});wx();const Qd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Pd={adult:xe(382),child:""},Fd={right:xe(448),left:xe(340),back:xe(411)},sm=[xe(447),"C 15 -2, 38 -5, 55 5",xe(367),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",xe(406),xe(432),"C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146",xe(390),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239",xe(435),xe(428),"L -125 280",xe(370),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84",xe(420),"C -70 52, -66 48, -62 44",xe(391),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),om=[xe(447),"C 20 0, 44 6, 58 20",xe(410),xe(400),xe(397),xe(358),xe(394),"C 38 172, 32 180, 30 188",xe(372),"C 58 240, 74 258, 92 280",xe(442),xe(430),xe(343),xe(431),"C -60 152, -72 142, -78 134",xe(401),xe(415),xe(339),xe(402),xe(404),"Z","M 0 70",xe(341),xe(405),"C 46 126, 40 136, 30 142",xe(389),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",xe(365),"C -34 70, -16 66, 0 70","Z"].join(" "),fm=["M 0 0","C 14 -4, 36 -4, 48 4",xe(393),"C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79",xe(412),xe(359),xe(363),xe(439),xe(352),xe(426),xe(376),"C -10 195, -18 209, -22 221",xe(357),xe(362),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106",xe(373),xe(368),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),dm=[xe(447),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",xe(418),xe(342),xe(377),"C 30 152, 32 166, 55 202",xe(446),xe(379),"C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140",xe(449),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",xe(443),"C -40 10, -18 1, 0 0","Z",xe(360),"C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",xe(396),xe(423),xe(371),"Z","M -46 26",xe(417),xe(425),xe(353),xe(427),xe(355),"Z"][xe(338)](" "),hm=[xe(447),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42",xe(381),xe(388),xe(440),"C -30 54, -48 48, -62 44",xe(391),xe(386),xe(351),"Z","M -40 142",xe(350),xe(375),"C -88 72, -84 62, -76 56",xe(364),xe(356),"C -46 86, -42 106, -40 126","L -40 142","Z"][xe(338)](" "),mm=[xe(447),xe(413),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",xe(408),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",xe(339),xe(402),"C -44 6, -20 0, 0 0","Z",xe(383),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142",xe(389),xe(349),"C -40 136, -46 126, -48 116",xe(365),xe(378),"Z"][xe(338)](" "),bm=[xe(447),"C 14 -4, 36 -4, 48 4",xe(393),"C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z",xe(380),xe(409),"C -68 96, -70 84, -66 74",xe(368),"C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126",xe(361),"Z"][xe(338)](" "),vm=["M 0 0",xe(429),"C 60 38, 64 52, 64 68",xe(418),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112",xe(369),xe(445),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",xe(360),"C 54 20, 66 22, 72 32",xe(444),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",xe(371),"Z","M -46 26",xe(417),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" ");function Rr(){const u=["oeTmsgX0ua","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTncaTmsWGlteGlteSidaGma","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","mtmYmdvLwvfnCK8","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaTntGGntaSic01nca1ocWGltuWidCW","tcaTmZaGmJqW","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2nIa4nIWGnJiGodGSidu4idKW","tsa0nIaYnG","tcaTndaGmtm0","tcaTmtaWidi0ma","qYa1nYa5msWGntCGotmSidu5idK1","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","mM1cEKXguq","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTnJGGotySic03mca4ncWGlty2idC0","mZuYmKnOvLPwtW","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","tcaTnZaGmJqW","tsaTndaGmtm0","qYa3oca1mIWGnZCGnJaSidC0idy2","5OIq5lQ65AwZ5OcN","tsaWidCW","mJyYmdeYmwvtA2fsza","CMLNAhq","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTntyGmZySic01mcaYnIWGltqYide4","B25MEMi","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa3mIaXndiSidyWide1mIWGndGGmtyY","ELjfvg4","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa4msaXmdqSidG0ideXmcWGodqGmte2","kcGOlISPkYKRksSK","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYa4mIa3ncWGodmGodySidGYidK4","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTnZyGndqSic02ocaZmcWGltu4idiW","y29UC3rYDwn0B3i","qYaTndqGnIWGltiWidaSidaGma","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa2nsa4mcWGnJGGoduSidC0idKW","ywr1Bhq","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYa2ocaZmcWGnZyGndqSidGWidyY","5B6m44kn5zcr44gn","qYa2nsa4msWGnJyGodmSidy2idG1","qYaYmcaWlca0nca2lca1ocaYma","nta0odu4CMnwB012","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","mJu1mJq2mMHAs0HNyW","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYa2nca3ocWGnJyGodySidy2idK0","D2LKDgG","qYaTodGGnZiSic04nca2mIWGltC2idu2","mJi4ndeXt1r5BxPM","Dg9tDhjPBMC","qYa0mIa2mIWGndaGntaSidqYidm4","mJbzAuLvsue","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTndiGnJiSic00mca1mcWGltqYidm4","tcaTmZyGmJGW","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYa3oca5mYWGodiGotySidGZidK5","vePfAeS","zMror2G","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","CKn6CKe","BgvMDa","BvrAr3u","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYa0oca3ncWGmJaGnJqSic04idu4","yMfJAW","tcaTotiGmJGW","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","tsaWida","5y+Z5zcr44gn","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qvnNs1y","l3rZDw1HBwKV","AM9PBG","qYaTodmGodySic04mIa3ncWGltGWidyY","5BEM5zcr44gn","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","EMXnvfm","mtGWnduWnJbeEKvktuq","yxbWBhK","mtaWotq1owL2sMrtyW"];return Rr=function(){return u},Rr()}function gm(u,i){const a=xe,r={mTZGu:"right",TJEhK:function(f,h){return f===h},zlMTS:a(437)},o=i===r[a(438)]||r[a(433)](i,r[a(344)]);return u==="adult"?o?sm:om:o?fm:dm}function ym(u,i){const a=xe,r={fdNGh:function(f,h){return f===h},ASgKV:a(385),VsxjA:a(437)},o=r[a(434)](i,r[a(450)])||i===r.VsxjA;return r.fdNGh(u,a(407))?o?hm:mm:o?bm:vm}const pm={right:"/tsumami/stencils/adult_right.png",left:xe(337)+xe(387),back:xe(337)+"stencils/adult_back.png"},_m={right:xe(337)+"stencils/child_right.png",left:"/tsumami/stencils/child_left.png",back:xe(337)+xe(399)},Sm={adult:pm,child:_m};function Gn(u,i){u=u-337;const a=Rr();let r=a[u];if(Gn.znhEYA===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Gn.DqElgt=o,Gn.nMPdCU={},Gn.znhEYA=!0}const f=a[0],h=u+f,y=Gn.nMPdCU[h];if(y)r=y;else{const m=function(d){this.pGULRC=d,this.JnAush=[1,0,0],this.NqThCr=function(){return"newState"},this.jJoPsY="\\w+ *\\(\\) *{\\w+ *",this.JlPktA=`['|"].+['|"];? *}`};m.prototype.voXTCz=function(){const d=new RegExp(this.jJoPsY+this.JlPktA),_=d.test(this.NqThCr.toString())?--this.JnAush[1]:--this.JnAush[0];return this.boEdLH(_)},m.prototype.boEdLH=function(d){return~d?this.CyUygn(this.pGULRC):d},m.prototype.CyUygn=function(d){for(let _=0,g=this.JnAush.length;_<g;_++)this.JnAush.push(Math.round(Math.random())),g=this.JnAush.length;return d(this.JnAush[0])},new m(Gn).voXTCz(),r=Gn.DqElgt(r),Gn.nMPdCU[h]=r}return r}function Cm(u,i){const a=xe,r={nWSSQ:"right",rCzrA:function(y,m,d){return y(m,d)},zRETn:function(y,m,d){return y(m,d)}},o=i===r.nWSSQ||i==="left"?"side":a(441),f=Qd[u][o],h=Sm[u]?.[i]??null;return{path:r[a(436)](gm,u,i),hairPath:r[a(395)](ym,u,i),scaleX:i==="left"?-1:1,imageUrl:h,imageWidthMm:f[a(419)],imageHeightMm:f.height}}(function(u,i){const a=Zt,r=u();for(;;)try{if(-parseInt(a(426))/1+-parseInt(a(364))/2*(parseInt(a(413))/3)+-parseInt(a(392))/4*(parseInt(a(373))/5)+parseInt(a(436))/6+parseInt(a(371))/7+-parseInt(a(416))/8+parseInt(a(363))/9*(parseInt(a(442))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(kr,904710);const wm=(function(){const u=Zt,i={IPVWD:function(r){return r()},dsOSz:function(r,o){return r+o},xmGBj:u(428)};let a=!0;return function(r,o){const f=a?function(){const h=Zt,y={LkIgC:function(m){return i.IPVWD(m)},QvSMF:function(m){return i[Zt(423)](m)},nrRAj:function(m){return m()},rGdTR:function(m,d){return i[Zt(424)](m,d)},zaYpc:function(m,d){return m+d},LPfRG:function(m,d){return m-d}};if(o)if(i.xmGBj!=="IzKxe"){const m=o.apply(r,arguments);return o=null,m}else{_0x1b560b[h(406)](),_0x6f5eb2(),_0x5b1c09(),y.LkIgC(_0x4b8217),_0x3dd179(),_0x1e5bbb(),y[h(372)](_0x1498bc),y.nrRAj(_0x1213fa),_0x3111c6.current=null,_0x5e73ba.current=null;const m=_0x29ca1a.touches[0],d=_0x2aa626[h(368)][1],_=y.rGdTR(m.clientX,d.clientX)/2,g=y.zaYpc(m[h(375)],d.clientY)/2,N=_0x50687d[h(398)](y.LPfRG(d.clientX,m[h(440)]),y[h(437)](d.clientY,m.clientY));_0xad9cdf.current={initialCenter:{x:_,y:g},initialDist:N,initialPan:{..._0x4fdbd9[h(360)]},initialZoom:_0x25b4b6[h(360)]}}}:function(){};return a=!1,f}})(),Mx=wm(void 0,function(){const u=Zt,i={euHWk:"(((.+)+)+)+$"};return Mx[u(412)]()[u(427)](u(407))[u(412)]()[u(389)](Mx)[u(427)](i.euHWk)});Mx();function Zt(u,i){u=u-357;const a=kr();let r=a[u];if(Zt.VSZour===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Zt.plUzOt=o,Zt.OEolgS={},Zt.VSZour=!0}const f=a[0],h=u+f,y=Zt.OEolgS[h];if(y)r=y;else{const m=function(d){this.VvdzeJ=d,this.twUeyI=[1,0,0],this.kHHFbU=function(){return"newState"},this.JLLESz="\\w+ *\\(\\) *{\\w+ *",this.YNDhmD=`['|"].+['|"];? *}`};m.prototype.WBUXzP=function(){const d=new RegExp(this.JLLESz+this.YNDhmD),_=d.test(this.kHHFbU.toString())?--this.twUeyI[1]:--this.twUeyI[0];return this.LhbwwR(_)},m.prototype.LhbwwR=function(d){return~d?this.pheGja(this.VvdzeJ):d},m.prototype.pheGja=function(d){for(let _=0,g=this.twUeyI.length;_<g;_++)this.twUeyI.push(Math.round(Math.random())),g=this.twUeyI.length;return d(this.twUeyI[0])},new m(Zt).WBUXzP(),r=Zt.plUzOt(r),Zt.OEolgS[h]=r}return r}const cx=520;function Yd(u,i,a,r,o,f,h){const y=Zt,m={YBNqd:function(_,g){return _-g},LVQRT:function(_,g){return _*g},AoGBO:function(_,g){return _+g},zzrmW:function(_,g){return _*g}},d=m[y(402)](r/a,1);return{x:h.x-m.LVQRT(d,m[y(443)](-h.x,u*o)),y:m.YBNqd(h.y,d*(-h.y+m.zzrmW(i,f)))}}function kr(){const u=["ChjLDMvUDerLzMf1Bhq","kcGOlISPkYKRksSK","weDQy1a","vMfet3G","Dg9gAxHLza","DLHPAfu","Dg9tDhjPBMC","mtu5DgrSzuXR","DKrTywC","D2HLzwW","ndG1ntC1mM5lt1vWDq","EM9VBq","z2v0qM91BMrPBMDdBgLLBNrszwn0","Dg91y2HTB3zL","Aw5PDgLHBfPVB20","Dg91y2HZDgfYDa","Cg1xy3a","svbwv0q","zhnpu3O","zgvSDgfz","mtm1mZCYnw5Jr3jOAq","C2vHCMnO","r2rmsK8","AgvPz2H0","BgvUz3rO","EuLQtNq","AKXfzfC","EvP6B1O","z1PHyLa","qvfzDNO","mta2ndi5mZHHsevMrwm","tfbMuKC","Aefbuwi","CLnAzxG","y2XPzw50wa","AMD4v0C","mJbLzuDlzhK","qw9hqK8","CMvTB3zLrxzLBNrmAxn0zw5LCG","vKzrsKG","BK1vC0O","AfruwxK","y3vYCMvUDa","DKDkvva","zwfkEue","mte3nJi4mZHNAxjPwwG","mZK3ndHSBwTtqxi","Dg91y2HLBMq","Aw5PDgLHBerPC3q","uw1ftMq","Dg91y2HLCW","BhDLuMy","Aw5PDgLHBfbHBG","ndK4ntu4mMr1tuXPra","uxzttuy","mZeWody1DM5rvNb4","DeLuDuW","y2XPzw50wq","CgfU","ywrKrxzLBNrmAxn0zw5LCG","BKrxBwW","uKLND1e","uxj0Dfm","BgvMDa","Eu5by1u","CwrPrwK","Bwf4","sKPUs0O","ywjZ","EM9VBuXLDMvS","D0rfthm","y29UC3rYDwn0B3i","y0LMzwi","vujJAMW","nZzeAw95rMu","rgrutwe","D2LKDgG","Aw5PDgLHBenLBNrLCG","yvPuBLi","BKPMDwG","AhLWB3q","qwrNCvq","yu5PrKS","zLLHquG","wujoCwq","Cur0wuK","zwnwuw8","ANrVwfa"];return kr=function(){return u},kr()}function Mm(u){const i=Zt,a={xiPBR:function(D,M){return D/M},jLEdW:function(D,M){return D+M},yNAcU:function(D,M){return D-M},gZabP:function(D,M){return D/M},jtoXP:function(D,M){return D(M)},QrttS:function(D,M){return D*M},pmWcp:function(D,M){return D+M},wDELs:function(D,M){return D!==M},xgvpB:function(D,M){return D-M},GbHtQ:function(D,M){return D/M},Mgzdi:function(D,M){return D*M},RIgwQ:function(D,M){return D+M},vGJUP:function(D,M){return D*M},bYcxq:function(D,M){return D(M)},cIfeb:i(400),DdTMa:function(D,M){return D(M)},yZzoZ:function(D,M){return D===M},VFQJH:function(D,M){return D===M},pKEWT:i(378),nJfuh:i(438),eaJyA:function(D){return D()},tITuL:function(D){return D()},ecVQo:function(D){return D()},iEQAM:function(D,M){return D+M},WnvmL:function(D,M){return D===M},ySWEx:function(D,M){return D+M},yIjNt:function(D,M){return D-M},lweRf:function(D,M){return D(M)},dlVPg:function(D,M){return D/M},XGjcP:function(D,M){return D-M},jgxWG:function(D,M){return D+M},qdiEi:function(D,M){return D*M},AdgqT:function(D,M){return D*M},yJrWG:function(D,M){return D*M},OgZlm:function(D,M){return D-M},qDtYI:function(D,M){return D-M},QmENd:function(D,M){return D/M},scZAe:function(D,M,S,L,G,Z,R,z){return D(M,S,L,G,Z,R,z)},aZTnR:"uPGyw",rSZex:i(419),UBcjl:i(365),vDmag:i(415),TNfSC:function(D,M){return D!==M},KVVOq:"THsUH",fYaAH:function(D,M,S,L){return D(M,S,L)},vXihU:function(D,M){return D/M},KjPpW:function(D,M){return D(M)},AQYvz:function(D,M){return D(M)},hTTYy:function(D,M,S){return D(M,S)},RGXEq:function(D,M){return D(M)},VaDOx:function(D,M,S){return D(M,S)},eVrES:function(D,M,S){return D(M,S)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:h,stageRef:y,endPan:m,endFlowerDrag:d,endMarquee:_,endRotationDrag:g,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:A}=u,C=F.useRef(null),w=F.useRef(u.pan),q=a[i(435)](F.useRef,u.zoom);F.useEffect(()=>{w.current=u.pan},[u[i(376)]]),a[i(359)](F.useEffect,()=>{const D=i;if(a[D(390)]!==a[D(390)]){_0x3017c4.preventDefault();const M=_0x588f4a.touches[0],S=_0x2aa2a5[D(368)][1],L=a.xiPBR(a[D(432)](M[D(440)],S[D(440)]),2),G=(M.clientY+S.clientY)/2,Z=_0x279283.hypot(a[D(382)](S.clientX,M.clientX),a[D(382)](S.clientY,M[D(375)])),R=_0xcbd9cd.current,z=a[D(434)](Z,_0xbd1034.max(1,R[D(366)])),E=_0x177884(a[D(405)](_0x49c931,a[D(380)](R.initialZoom,z).toFixed(3)),_0x26bf23[0],_0x3b9ef5[a[D(382)](_0x368d74.length,1)]),Y=R.initialZoom,K=L-R[D(395)].x,te=G-R[D(395)].y;let ue=a[D(422)](R.initialPan.x,K),fe=R[D(370)].y+te;const oe=_0xeb08f7[D(360)];if(oe&&a[D(388)](Y,E)){const Ce=oe[D(418)](),he=a[D(434)](a.yNAcU(R.initialCenter.x,Ce.left),Ce[D(394)]),ze=a[D(382)](R[D(395)].y,Ce.top)/Ce[D(429)],Je=Ce.width/Ce[D(429)],Ke=_0x4720c1,He=Ke*Je,ut=a.xgvpB(a.GbHtQ(E,Y),1)*a.pmWcp(-R.initialPan.x,a.Mgzdi(he,He)),bt=(E/Y-1)*a[D(379)](-R.initialPan.y,a[D(361)](ze,Ke));ue-=ut,fe-=bt}const ve={x:ue,y:fe};_0x2f0e26.current=E,_0x292540.current=ve,a.bYcxq(_0x5c7275,ve),a[D(405)](_0xd947ea,E)}else q[D(360)]=u[D(417)]},[u[i(417)]]);const O=a.RGXEq(F.useRef,u[i(387)]);a.hTTYy(F.useEffect,()=>{const D=i;O[D(360)]=u[D(387)]},[u[i(387)]]);const k=a[i(369)](F.useRef,null),I=F.useRef(null),U=a[i(359)](F.useCallback,D=>{const M=i;if(a[M(433)](D.touches.length,2))if(a[M(357)](a.pKEWT,a[M(397)]))_0x56ef6f.current=_0x3c35f3,_0x169da0.current=_0x3c8a81,_0x5eefae[M(360)]={x:0,y:0},a[M(393)](_0x10481d,_0x16264a),_0x146c49({x:0,y:0});else{D[M(406)](),a[M(362)](m),d(),_(),g(),a[M(374)](N),a[M(404)](b),A(),k.current=null,I[M(360)]=null;const S=D.touches[0],L=D[M(368)][1],G=a.iEQAM(S[M(440)],L.clientX)/2,Z=a[M(432)](S.clientY,L.clientY)/2,R=Math[M(398)](L[M(440)]-S.clientX,L[M(375)]-S[M(375)]);C[M(360)]={initialCenter:{x:G,y:Z},initialDist:R,initialPan:{...w[M(360)]},initialZoom:q[M(360)]}}},[m,d,_,g,N,b,A]),Q=F.useCallback(D=>{const M=i;if(a.WnvmL(D[M(368)].length,2)&&C.current){D.preventDefault();const S=D[M(368)][0],L=D[M(368)][1],G=a.xiPBR(a.ySWEx(S[M(440)],L.clientX),2),Z=(S[M(375)]+L.clientY)/2,R=Math[M(398)](a[M(431)](L[M(440)],S[M(440)]),L[M(375)]-S[M(375)]),z=C[M(360)],E=R/Math[M(384)](1,z.initialDist),Y=Me(a.lweRf(Number,a.vGJUP(z.initialZoom,E)[M(410)](3)),h[0],h[h.length-1]),K=z[M(420)],te=G-z.initialCenter.x,ue=Z-z[M(395)].y;let fe=z[M(370)].x+te,oe=z[M(370)].y+ue;const ve=y[M(360)];if(ve&&a.wDELs(K,Y)){const he=ve[M(418)](),ze=(z.initialCenter.x-he[M(381)])/he.width,Je=(z.initialCenter.y-he.top)/he[M(429)],Ke=a.dlVPg(he[M(394)],he[M(429)]),He=cx,ut=He*Ke,bt=a[M(408)](Y/K,1)*a[M(441)](-z.initialPan.x,a[M(383)](ze,ut)),Lt=(Y/K-1)*(-z[M(370)].y+a[M(399)](Je,He));fe-=bt,oe-=Lt}const Ce={x:fe,y:oe};q.current=Y,w[M(360)]=Ce,o(Ce),r(Y)}},[o,r,y,h]),B=F.useCallback(D=>{const M=i;D[M(368)].length<2&&(C[M(360)]=null)},[]),X=.003,le=a[i(409)](F.useCallback,D=>{const M=i;D.preventDefault();const S=y.current;if(!S)return;const L=q.current,G=L*Math.exp(a.yJrWG(-D[M(425)],X)),Z=Me(G,h[0],h[a.OgZlm(h.length,1)]);if(Math[M(386)](a.qDtYI(Z,L))<1e-6)return;const R=S.getBoundingClientRect(),z=a[M(367)](a.qDtYI(D[M(440)],R[M(381)]),R.width),E=(D[M(375)]-R.top)/R[M(429)],Y=R[M(394)]/R.height,K=cx,te=K*Y,ue=a.scZAe(Yd,z,E,L,Z,te,K,w[M(360)]);q.current=Z,w[M(360)]=ue,r(Z),a[M(393)](o,ue)},[r,o,y,h]);F.useEffect(()=>{const D=i,M=y.current;if(M)return M.addEventListener(D(421),U,{passive:!1}),M.addEventListener(a[D(439)],Q,{passive:!1}),M[D(377)]("touchend",B),M[D(377)](a[D(414)],le,{passive:!1}),()=>{const S=D;a[S(388)](a[S(396)],"npWAG")?(M[S(444)]("touchstart",U),M[S(444)](a[S(439)],Q),M.removeEventListener(a[S(391)],B),M[S(444)](a.vDmag,le)):_0x273470.current=_0x51a73e}},[y,U,Q,B,le]);const V=F.useCallback(D=>{const M=i;if(a.TNfSC(M(358),a.KVVOq)){const S=O.current,L=a[M(401)](Me,S+D,0,a[M(403)](h[M(430)],1));if(a[M(433)](L,S))return;const G=q[M(360)],Z=h[L],R=y.current;if(!R){a.jtoXP(f,L);return}const z=R[M(418)](),E=a[M(411)](z.width,z[M(429)]),Y=cx,K=Y*E,te=Yd(.5,.5,G,Z,K,Y,w[M(360)]);q.current=Z,O.current=L,w[M(360)]=te,f(L),a[M(393)](o,te)}else if(_0x28febe[M(368)].length===2){_0x9baa51.preventDefault(),_0x55dfc9(),_0x9c1cd1(),_0x107c26(),_0x1dfd7a(),EEsXnk[M(385)](_0x355829),_0x32200f(),EEsXnk.JJnKJ(_0x4b99cb),_0x1ad3fe.current=null,_0x39e5c3.current=null;const S=_0x545cd4[M(368)][0],L=_0x2ca64d.touches[1],G=EEsXnk.KNOew(S.clientX,L.clientX)/2,Z=(S.clientY+L[M(375)])/2,R=_0x3fd8e3[M(398)](L.clientX-S.clientX,L.clientY-S.clientY);_0x59f419[M(360)]={initialCenter:{x:G,y:Z},initialDist:R,initialPan:{..._0x59ca70[M(360)]},initialZoom:_0x38c2ee[M(360)]}}},[f,o,y,h]),W=a[i(359)](F.useCallback,(D,M)=>{const S=i;O[S(360)]=D,q[S(360)]=M,w[S(360)]={x:0,y:0},a.KjPpW(f,D),a[S(435)](o,{x:0,y:0})},[f,o]),v=a.eVrES(F.useCallback,D=>{const M=i;k[M(360)]=D},[]),j=a.VaDOx(F.useCallback,D=>{const M=i;I[M(360)]=D},[]);return{multiTouchRef:C,touchBgStartRef:k,mouseBgStartRef:I,zoomAtCenter:V,resetView:W,setTouchBgStart:v,setMouseBgStart:j}}function li(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function jm(u){const{flower:i,project:a,paletteMap:r}=u,o=F.useRef(null),f=F.useRef(!1),h=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const y=F.useMemo(()=>[...i.layers||[]].sort((O,k)=>O.order-k.order),[i.layers]),m=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:_}=Yt(m),{flowerOuterR:g,centerHitR:N}=F.useMemo(()=>{let O=12,k=1/0;for(const U of y){if(!U.visible)continue;const Q=U.scale??1,B=d*Q,le=Math.max(0,U.radius-B*.28),V=le+B;O=Math.max(O,V),le<k&&(k=le)}isFinite(k)||(k=0);const I=Math.max(k*.9,8);return{flowerOuterR:O,centerHitR:I}},[y,d]),b=(O,k)=>O?.petalOverrides?.find(I=>I.index===k)??null,A="pointer",C=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,w=u.zoneCursorValue??"grab",q=O=>{if(O.stopPropagation(),O.button===0){if(O.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(O)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:O=>{O.stopPropagation(),u.onDoubleClick?.()},style:{cursor:C?w:i0("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,g),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(O=>{if(!O.visible)return null;const I=r.get(O.colorId)?.hex??"#999",U=360/Math.max(1,O.petalCount),Q=O.scale??1,B=d*Q,le=_*(O.widthScale??1)*Q,W=Math.max(0,O.radius-B*.28),v=fx(""),j=fx(""),D=W+B,M=u.isSelected&&u.selectedLayerId===O.id,S=u.isSelected&&(u.selectedPetal?.layerId===O.id||(u.selectedPetals?.some(L=>L.layerId===O.id)??!1));return x.jsxs("g",{children:[Array.from({length:O.petalCount}).map((L,G)=>{const Z=b(O,G),z=(Z?.petalType??O.petalType)===""?v:j,E=r.get(Z?.colorId??O.colorId)?.hex??I,Y=O.offsetAngle+G*U,K=va(Y),te=Math.cos(K)*W,ue=Math.sin(K)*W,fe=u.isSelected&&u.selectedPetal?.layerId===O.id&&u.selectedPetal?.index===G,oe=u.isSelected&&(u.selectedPetals?.some(he=>he.layerId===O.id&&he.index===G)??!1),ve=fe||oe,Ce=C?w:i0("/tsumami/");return x.jsxs("g",{transform:`translate(${te} ${ue}) rotate(${Y})`,children:[x.jsx("path",{d:z,transform:`scale(${B} ${le})`,fill:E,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,style:{cursor:Ce},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const ze=he.shiftKey,Je=he.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,ze&&u.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),u.onTogglePetalSelection(O.id,G,!0);return}if(Je&&u.onTogglePetalSelection){h.current={x:he.clientX,y:he.clientY};const bt=O.id,Lt=G;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(bt,Lt,!0),navigator.vibrate?.(30)},500)}const Ke=u.isSelected&&u.selectedLayerId!=null,He=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||Ke||He){u.onBeginDragFromLayerPetal(O.id,G,he);return}u.onBeginDragFromLayerPetal(O.id,G,he)},onPointerMove:he=>{if(o.current&&h.current){const ze=he.clientX-h.current.x,Je=he.clientY-h.current.y;Math.hypot(ze,Je)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:he=>{he.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(O.id)}}),O.doublePetal&&(()=>{const he=O.doublePetal,ze=Z?.innerSizeReduction??he.innerSizeReduction??2,Je=m*(Q||1);if(Je<=0)return null;const He=Math.max(Je*.3,Je-ze)/Je,ut=z,bt=Z?.innerColorId??he.innerColorId??Z?.colorId??O.colorId,Lt=r.get(bt)?.hex??E,ht=B*He,Bt=le*He;return x.jsx("path",{d:ut,transform:`scale(${ht} ${Bt})`,fill:Lt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,pointerEvents:"none"})})(),(ve||M||u.isFlowerSelected)&&x.jsx("path",{d:z,transform:`scale(${B} ${le})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${O.id}-${G}`)]},G)}),M&&!S&&x.jsx("circle",{r:D,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),M&&!S&&W>0&&x.jsx("circle",{r:W,fill:"none",stroke:"#111",strokeWidth:1.2,strokeDasharray:"3 2",className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.7,vectorEffect:"non-scaling-stroke",pointerEvents:"none"},`inner-dash-${u.dashSyncToken??0}-${O.id}`)]},O.id)}),u.isFlowerSelected&&x.jsx("circle",{r:g,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const O=i.center,k=Th(O.size),I=r.get(O.color)?.hex??"#D4A843",U=O.color2?r.get(O.color2)?.hex??"#C0C0C0":"#D4A843",Q=Math.max(k,N);switch(O.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:k,fill:I,stroke:li(I,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:Q,fill:"transparent",style:{cursor:A},onPointerDown:q})]});case"":{const X=k*.42,le=k,V=k*.12,W=k*.13,v=k*.45,j=U,D=I;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,S)=>{const L=S/10*360,G=va(L),Z=Math.cos(G)*le,R=Math.sin(G)*le,z=-Math.sin(G)*V,E=Math.cos(G)*V,Y=Math.cos(G)*X,K=Math.sin(G)*X;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(Y+z).toFixed(2)} ${(K+E).toFixed(2)} L ${Z.toFixed(2)} ${R.toFixed(2)} L ${(Y-z).toFixed(2)} ${(K-E).toFixed(2)} Z`,fill:j,stroke:li(j,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:Z,cy:R,r:W,fill:j,stroke:li(j,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},S)}),x.jsx("circle",{r:X,fill:j,stroke:li(j,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:v,fill:D,stroke:li(D,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:Q,fill:"transparent",style:{cursor:A},onPointerDown:q})]})}case"":{const B=O.pepCount??12,X=k*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:B}).map((le,V)=>{const W=V/B*360,v=va(W),j=Math.cos(v)*k,D=Math.sin(v)*k;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:j,y2:D,stroke:I,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:j,cy:D,r:Math.max(X,1),fill:I,stroke:li(I,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},V)})}),x.jsx("circle",{r:Q,fill:"transparent",style:{cursor:A},onPointerDown:q})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:N,fill:"transparent",style:{cursor:A},onPointerDown:q})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:N,fill:"transparent",style:{cursor:A},onPointerDown:q})]}),u.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,g+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function zm(u){const{leaf:i,project:a,paletteMap:r}=u,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:h}=Yt(o),y=i.scale??1,m=f*y,d=h*(i.widthScale??1)*y,_=fx(i.petalType),g=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??i0("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!i.locked){if(N.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(N)}},children:[x.jsx("path",{d:_,transform:`scale(${m} ${d})`,fill:g,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const N=i.doublePetal,b=N.innerSizeReduction??2,A=o*(y||1);if(A<=0)return null;const w=Math.max(A*.3,A-b)/A,q=N.innerColorId??i.colorId,O=r.get(q)?.hex??g,k=m*w,I=d*w;return x.jsx("path",{d:_,transform:`scale(${k} ${I})`,fill:O,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&x.jsx("path",{d:_,transform:`scale(${m} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`)]})}const Ir=1350;function Dm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:h,stencilDraggingRef:y,onSelectStencil:m}=u,d=F.useRef(null);F.useEffect(()=>()=>{d.current?.()},[]);const _=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(g=>{const N=Cm(g.variant,g.pose),b=a===g.id,A=rn,C=N.imageUrl?1:N.scaleX,w=_||!!g.locked;return x.jsx("g",{transform:`translate(${g.position.x} ${g.position.y}) scale(${A*C} ${A})`,style:{cursor:_?"default":g.locked?"pointer":lm("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${g.id}`,onPointerDown:q=>{if(q.button!==0)return;if(w){m(g.id);return}if(q.stopPropagation(),m(g.id),!o.current)return;y.current=!0,o.current&&(o.current.style.cursor=am("/tsumami/"));const k=h.current(q),I={...g.position},U=g.id;let Q=I.x,B=I.y;const X=V=>{const W=h.current(V),v=W.x-k.x,j=W.y-k.y;Q=Me(I.x+v,0,Ir),B=Me(I.y+j,0,Ir),f.current(D=>{const M=(D.stencils??[]).find(S=>S.id===U);M&&(M.position.x=Q,M.position.y=B)},!1)},le=()=>{y.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le),d.current=null,f.current(V=>{const W=(V.stencils??[]).find(v=>v.id===U);W&&(W.position.x=Q,W.position.y=B)},!0)};document.addEventListener("pointermove",X),document.addEventListener("pointerup",le),d.current=()=>{y.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le)}},children:N.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},g.id)})})}function Nm(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:h,dashSyncToken:y,stageRef:m,multiTouchRef:d,clientToSvgPoint:_,togglePetalSelection:g,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:A,beginScaleDrag:C,beginRotationDrag:w,beginWidthScaleDrag:q,beginRadiusDrag:O,clickOriginRef:k,zoneActivatedRef:I,setZoneCursorValue:U,setTouchZoneIndicator:Q,hoverZoneRef:B,hoverHitLayerIdRef:X,hoverHitPetalIndexRef:le}=u;return x.jsx(x.Fragment,{children:i.flowers.map(V=>x.jsx(jm,{flower:V,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===V.id?a.petals:null,onSelect:()=>{const W=ba(i,V.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:W.id});return}r({kind:"flower",flowerId:V.id})},onSelectLayer:W=>r({kind:"layer",flowerId:V.id,layerId:W}),onSelectPetal:(W,v)=>r({kind:"petal",flowerId:V.id,layerId:W,index:v}),onTogglePetalSelection:(W,v,j)=>g(V.id,W,v,j),onShiftSelect:()=>N(V.id),isGroupHighlighted:b.has(V.id),zoneCursorValue:h,onBeginDragFromLayerPetal:(W,v,j)=>{if(d.current)return;const D=ba(i,V.id);if(D&&!(a.kind==="group"&&a.groupId===D.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&D.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:D.id}),A(V.id,j);return}const M=_(j),S=j.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="petal"&&a.flowerId===V.id||a.kind==="petals"&&a.flowerId===V.id;if(S&&L){const{zone:R,layerId:z,petalIndex:E}=ai(M.x,M.y,V,i,a),{length:Y}=Yt(V.fabricSquareSize??i.fabricSquareSize),K=Cr(R,a.kind,{hitLayerId:z,flower:V,length:Y});if(K!=="none"&&K!=="center"&&K!=="move"){Q({x:M.x,y:M.y,zone:K});const te=a.kind==="layer"?"layer":"flower",ue=a.kind==="layer"?a.layerId:W;switch(K){case"rotate":w(te,V.id,j,{layerId:ue});return;case"scale":C(te,V.id,j,{layerId:ue});return;case"width":q(te,V.id,j,{layerId:ue,petalIndex:E});return;case"radius":O(te,V.id,j,{layerId:ue});return}}A(V.id,j,{layerId:W,index:v});return}const G=I.current;k.current={x:M.x,y:M.y},I.current=!1;const Z=B.current;if(L&&(G||Z!=="none"&&Z!=="center")){const R=Z,z=X.current,E=le.current,Y=a.kind==="layer"?"layer":"flower",K=a.kind==="layer"?a.layerId:z??W;switch(R){case"rotate":w(Y,V.id,j,{layerId:K});return;case"scale":C(Y,V.id,j,{layerId:K});return;case"width":q(Y,V.id,j,{layerId:K,petalIndex:E});return;case"radius":O(Y,V.id,j,{layerId:K});return;default:U(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),A(V.id,j,{layerId:W,index:v});return}}U(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),A(V.id,j,{layerId:W,index:v})},onDoubleClick:()=>r({kind:"flower",flowerId:V.id}),onPointerDown:W=>{if(d.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),N(V.id);return}const v=ba(i,V.id);if(v&&!(a.kind==="group"&&a.groupId===v.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&v.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:v.id}),A(V.id,W);return}a.kind==="flower"&&a.flowerId===V.id||a.kind==="layer"&&a.flowerId===V.id||a.kind==="flowers"&&a.flowerIds.includes(V.id)||r({kind:"flower",flowerId:V.id});const D=_(W);k.current={x:D.x,y:D.y},I.current=!1,U(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),A(V.id,W)},dashSyncToken:y},V.id))})}function Am(u){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:h,leafGroupHighlightedLeafIds:y,zoneCursorValue:m,stageRef:d,applyUpdateRef:_,clientToSvgPointRef:g,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:A,setZoneCursorValue:C,onSelectLeaf:w,onShiftSelectLeaf:q,hoverLeafZoneRef:O}=u,k=F.useRef(null);return F.useEffect(()=>()=>{k.current?.()},[]),x.jsx(x.Fragment,{children:i.map(I=>{if(!I.visible)return null;const U=o.kind==="leaf"&&o.leafId===I.id,Q=o.kind==="leaves"&&o.leafIds?.includes(I.id),B=y.has(I.id),X=Zr({leaves:i,leafGroups:a},I.id),le=X?.rotation??0;let V=I;if(X&&le!==0){const W=Ch({leaves:i,leafGroups:a},X.id),v=le*Math.PI/180,j=I.position.x-W.x,D=I.position.y-W.y;V={...I,position:{x:W.x+j*Math.cos(v)-D*Math.sin(v),y:W.y+j*Math.sin(v)+D*Math.cos(v)},rotation:I.rotation+le}}return x.jsx(zm,{leaf:V,project:r,paletteMap:f,isSelected:U||Q,isLeafGroupHighlighted:B,dashSyncToken:h,cursor:U?m:void 0,onPointerDown:W=>{if(I.locked)return;W.stopPropagation();const v=g.current(W),j=U&&A.current;w(I.id),b.current={x:v.x,y:v.y},A.current=!1,C(Qn("/tsumami/")),d.current&&(d.current.style.cursor=Qn("/tsumami/"));const D=O.current,M=j||D!=="none"?D:"move";if(M!=="move"){const S=e0(M,"/tsumami/");C(S),d.current&&(d.current.style.cursor=S)}if(N.current=!0,M==="rotate"){const S=V.position,L=I.rotation,G=Math.atan2(v.y-S.y,v.x-S.x)*180/Math.PI;let Z=!1;const R=E=>{const Y=g.current(E),te=Math.atan2(Y.y-S.y,Y.x-S.x)*180/Math.PI-G;Math.abs(te)>.5&&(Z=!0),_.current(ue=>{const fe=(ue.leaves??[]).find(oe=>oe.id===I.id);fe&&(fe.rotation=((L+te)%360+360)%360)},!1)},z=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z),Z&&_.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",z),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z)}}else if(M==="scale"){const S=V.position,L=I.scale??1,G=Math.max(1,Math.hypot(v.x-S.x,v.y-S.y));let Z=!1;const R=E=>{const Y=g.current(E),te=Math.hypot(Y.x-S.x,Y.y-S.y)/G;Math.abs(te-1)>.01&&(Z=!0),_.current(ue=>{const fe=(ue.leaves??[]).find(oe=>oe.id===I.id);fe&&(fe.scale=Me(L*te,.3,3))},!1)},z=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z),Z&&_.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",z),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z)}}else if(M==="width"){const S=V.position,L=I.rotation*Math.PI/180,G=-Math.sin(L),Z=Math.cos(L),R=I.widthScale??1,z=Math.abs((v.x-S.x)*G+(v.y-S.y)*Z),E=Math.max(1,z);let Y=!1;const K=ue=>{const fe=g.current(ue),ve=Math.abs((fe.x-S.x)*G+(fe.y-S.y)*Z)/E;Math.abs(ve-1)>.01&&(Y=!0),_.current(Ce=>{const he=(Ce.leaves??[]).find(ze=>ze.id===I.id);he&&(he.widthScale=Me(R*ve,.3,3))},!1)},te=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",te),Y&&_.current(()=>{},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",te),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",te)}}else{const S=v,L=wh({leaves:i,leafGroups:a},I.id),G=new Map;for(const E of L){const Y=i.find(K=>K.id===E);Y&&G.set(E,{...Y.position})}let Z=!1;const R=E=>{const Y=g.current(E),K=Y.x-S.x,te=Y.y-S.y;Math.abs(K)+Math.abs(te)>1&&(Z=!0),_.current(ue=>{for(const[fe,oe]of G){const ve=(ue.leaves??[]).find(Ce=>Ce.id===fe);ve&&(ve.position.x=Me(oe.x+K,0,Ir),ve.position.y=Me(oe.y+te,0,Ir))}},!1)},z=()=>{k.current=null,N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z),Z&&_.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",z),k.current=()=>{N.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",z)}}},onShiftSelect:()=>q(I.id)},I.id)})})}function Lm({rect:u}){return u?x.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Tm({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?x.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ha=1350;function Em(u){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:h,zoomLevel:y,setZoomLevel:m,ZOOM_LEVELS:d,setPan:_,showGrid:g,setShowGrid:N,setShowHelp:b,stageRef:A,viewBox:C,dashDelay:w,dashSyncToken:q,beginPan:O,updatePan:k,endPan:I,beginMarquee:U,updateMarquee:Q,endMarquee:B,marqueeRef:X,marqueeRect:le,beginFlowerDrag:V,updateFlowerDrag:W,endFlowerDrag:v,scaleDragRef:j,updateScaleDrag:D,endScaleDrag:M,rotationDragRef:S,updateRotationDrag:L,endRotationDrag:G,widthScaleDragRef:Z,updateWidthScaleDrag:R,endWidthScaleDrag:z,radiusDragRef:E,updateRadiusDrag:Y,endRadiusDrag:K,beginScaleDrag:te,beginRotationDrag:ue,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:ve,clientToSvgPoint:Ce}=u,he=F.useRef(!1),ze=F.useRef(!1),Je=F.useRef(u.applyUpdate),Ke=F.useRef(Ce);F.useEffect(()=>{Je.current=u.applyUpdate},[u.applyUpdate]),F.useEffect(()=>{Ke.current=Ce},[Ce]);const[He,ut]=F.useState(!1),bt=F.useRef(null);F.useEffect(()=>{if(!He)return;const se=Be=>{bt.current&&!bt.current.contains(Be.target)&&ut(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[He]);const[Lt,ht]=F.useState("grab"),Bt=F.useRef("none"),Wt=F.useRef("none"),Fn=F.useRef(void 0),$n=F.useRef(void 0),Ve=F.useRef(null),yn=F.useRef(!0),_l=5,Wl=F.useRef(a.kind);F.useEffect(()=>{a.kind!==Wl.current&&(Wl.current=a.kind,yn.current=!1,Ve.current=null)},[a.kind]);const[In,ga]=F.useState(!1),On=F.useRef(!1),[ci,Jl]=F.useState(null),el=5,qt=10,Qe=Mm({zoom:u.zoom,pan:u.pan,setZoom:h,setPan:_,zoomLevel:y,setZoomLevel:m,ZOOM_LEVELS:d,stageRef:A,endPan:I,endFlowerDrag:v,endMarquee:B,endRotationDrag:G,endScaleDrag:M,endWidthScaleDrag:z,endRadiusDrag:K});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(1),disabled:y>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(se=>!se),title:"","aria-label":"","aria-pressed":g,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Qe.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:bt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${He?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ut(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),He&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Pd[se]}),["right","left","back"].map(Be=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(se,Be),ut(!1)},"data-testid":`stencil-add-${se}-${Be}`,children:Fd[Be]},`${se}-${Be}`))]},se)),u.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),ut(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:g?"24px 1fr":"1fr",gridTemplateRows:g?"20px 1fr":"1fr"},children:[g&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),g&&(()=>{const[se,,Be,qe]=C.split(/\s+/).map(Number),Se=rn,ye=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,ge=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Pe=De<=10?5:De/2,Oe=Math.floor(se/Se/ge)*ge-ge,Fe=Math.ceil((se+Be)/Se/ge)*ge+ge,$e=[];for(let Le=Oe;Le<=Fe;Le+=ge){const tt=(Le*Se-se)/Be*100;if(tt<-2||tt>102)continue;const je=Math.abs(Le),nt=je%De===0,lt=je%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:`${tt}%`,y1:20-at,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:nt?.8:.4},Le)),nt&&$e.push(x.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:$e})})(),g&&(()=>{const[,se,Be,qe]=C.split(/\s+/).map(Number),Se=rn,ye=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,ge=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Pe=De<=10?5:De/2,Oe=Math.floor(se/Se/ge)*ge-ge,Fe=Math.ceil((se+qe)/Se/ge)*ge+ge,$e=[];for(let Le=Oe;Le<=Fe;Le+=ge){const tt=(Le*Se-se)/qe*100;if(tt<-2||tt>102)continue;const je=Math.abs(Le),nt=je%De===0,lt=je%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:24-at,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:nt?.8:.4},Le)),nt&&$e.push(x.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:$e})})(),x.jsxs("svg",{ref:A,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":w,cursor:In?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(ga(Be=>!Be),r({kind:"project"}))},onPointerDown:se=>{if(Qe.multiTouchRef.current)return;if(se.button===1){On.current=!0,A.current&&(A.current.style.cursor="grabbing"),O(se);return}if(se.button!==0)return;const Be=se.pointerType==="touch";if(Be&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=i.flowers.find(ye=>ye.id===f);if(Se){const ye=Ce(se),{zone:Ae,layerId:De,petalIndex:ge}=ai(ye.x,ye.y,Se,i,a),{length:Pe}=Yt(Se.fabricSquareSize??i.fabricSquareSize),Oe=Cr(Ae,a.kind,{hitLayerId:De,flower:Se,length:Pe});if(Oe!=="none"&&Oe!=="center"){Jl({x:ye.x,y:ye.y,zone:Oe});const Fe=a.kind==="layer"?"layer":"flower",$e=a.kind==="layer"?a.layerId:De;switch(Oe){case"rotate":ue(Fe,f,se,{layerId:$e});return;case"scale":te(Fe,f,se,{layerId:$e});return;case"width":fe(Fe,f,se,{layerId:$e,petalIndex:ge});return;case"radius":oe(Fe,f,se,{layerId:$e});return;case"move":V(f,se);return}}}}Qe.setTouchBgStart({x:se.clientX,y:se.clientY}),O(se);return}if(se.target===se.currentTarget&&f&&Lt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Bt.current;if(Se!=="none"&&Se!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Fn.current;switch(Se){case"rotate":ue(ye,f,se,{layerId:Ae});return;case"scale":te(ye,f,se,{layerId:Ae});return;case"width":fe(ye,f,se,{layerId:Ae,petalIndex:$n.current});return;case"radius":oe(ye,f,se,{layerId:Ae});return;case"move":V(f,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&Lt!=="grab"){const qe=Wt.current;if(qe!=="none"){const Se=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(Se){se.preventDefault();const ye=Ce(se);if(ze.current=!0,qe==="rotate"){const Ae=Se.position,De=Se.rotation,ge=Math.atan2(ye.y-Ae.y,ye.x-Ae.x)*180/Math.PI,Pe=Se.id,Oe=e0(qe,"/tsumami/");ht(Oe),A.current&&(A.current.style.cursor=Oe);let Fe=!1;const $e=yt=>{const tt=Ce(yt),nt=Math.atan2(tt.y-Ae.y,tt.x-Ae.x)*180/Math.PI-ge;Math.abs(nt)>.5&&(Fe=!0),u.applyUpdate(lt=>{const at=(lt.leaves??[]).find(pn=>pn.id===Pe);at&&(at.rotation=((De+nt)%360+360)%360)},!1)},Le=()=>{ze.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Le),Fe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Le);return}else if(qe==="scale"){const Ae=Se.position,De=Se.scale??1,ge=Math.max(1,Math.hypot(ye.x-Ae.x,ye.y-Ae.y)),Pe=Se.id,Oe=e0(qe,"/tsumami/");ht(Oe),A.current&&(A.current.style.cursor=Oe);let Fe=!1;const $e=yt=>{const tt=Ce(yt),nt=Math.hypot(tt.x-Ae.x,tt.y-Ae.y)/ge;Math.abs(nt-1)>.01&&(Fe=!0),u.applyUpdate(lt=>{const at=(lt.leaves??[]).find(pn=>pn.id===Pe);at&&(at.scale=Math.max(.3,Math.min(3,De*nt)))},!1)},Le=()=>{ze.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Le),Fe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Le);return}else if(qe==="width"){const Ae=Se.position,De=Se.rotation*Math.PI/180,ge=-Math.sin(De),Pe=Math.cos(De),Oe=Se.widthScale??1,Fe=Math.max(1,Math.abs((ye.x-Ae.x)*ge+(ye.y-Ae.y)*Pe)),$e=Se.id,Le=e0(qe,"/tsumami/");ht(Le),A.current&&(A.current.style.cursor=Le);let yt=!1;const tt=nt=>{const lt=Ce(nt),pn=Math.abs((lt.x-Ae.x)*ge+(lt.y-Ae.y)*Pe)/Fe;Math.abs(pn-1)>.01&&(yt=!0),u.applyUpdate(ya=>{const Vl=(ya.leaves??[]).find(_n=>_n.id===$e);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,Oe*pn)))},!1)},je=()=>{ze.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",je),yt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",je);return}else{const Ae=ye,De={...Se.position},ge=Se.id;ht(Qn("/tsumami/")),A.current&&(A.current.style.cursor=Qn("/tsumami/"));let Pe=!1;const Oe=$e=>{const Le=Ce($e),yt=Le.x-Ae.x,tt=Le.y-Ae.y;Math.abs(yt)+Math.abs(tt)>1&&(Pe=!0),u.applyUpdate(je=>{const nt=(je.leaves??[]).find(lt=>lt.id===ge);nt&&(nt.position.x=Math.max(0,Math.min(ha,De.x+yt)),nt.position.y=Math.max(0,Math.min(ha,De.y+tt)))},!1)},Fe=()=>{ze.current=!1,document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Fe),Pe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Fe);return}}}}if(se.target===se.currentTarget){Be?(Qe.setTouchBgStart({x:se.clientX,y:se.clientY}),O(se)):In?U(se):(Qe.setMouseBgStart({x:se.clientX,y:se.clientY}),On.current=!0,A.current&&(A.current.style.cursor="grabbing"),O(se));return}},onPointerMove:se=>{if(he.current||ze.current)return;if(X.current){Q(se);return}if(S.current){L(se);return}if(j.current){D(se);return}if(Z.current){R(se);return}if(E.current){Y(se);return}W(se),k(se);const Be=!!u.dragRef?.current||!!X.current||!!S.current||!!j.current||!!Z.current||!!E.current||On.current,qe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=i.flowers.find(ye=>ye.id===f);if(Se){const ye=Ce(se);if(Ve.current&&!yn.current){if(Math.hypot(ye.x-Ve.current.x,ye.y-Ve.current.y)<_l){const{zone:Le}=ai(ye.x,ye.y,Se,i,a);Le==="center"&&(ht("pointer"),A.current&&(A.current.style.cursor="pointer"));return}yn.current=!0,Ve.current=null}const{zone:Ae,layerId:De,petalIndex:ge}=ai(ye.x,ye.y,Se,i,a),{length:Pe}=Yt(Se.fabricSquareSize??i.fabricSquareSize),Oe=Cr(Ae,a.kind,{hitLayerId:De,flower:Se,length:Pe});Oe!=="none"&&(Bt.current=Oe,Fn.current=De,$n.current=ge);const Fe=Od(Oe,"/tsumami/");ht(Fe),A.current&&(A.current.style.cursor=Fe)}}if(!Be&&a.kind==="leaf"&&u.selectedLeafId){const Se=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(Se){const ye=Ce(se);if(Ve.current&&!yn.current){if(Math.hypot(ye.x-Ve.current.x,ye.y-Ve.current.y)<_l)return;yn.current=!0,Ve.current=null}const Ae=nm(ye.x,ye.y,Se,i);Ae!=="none"&&(Wt.current=Ae);const De=e0(Ae,"/tsumami/");ht(De),A.current&&(A.current.style.cursor=De)}}},onPointerUp:se=>{if(!he.current&&!ze.current){if(Jl(null),X.current&&In&&ga(!1),B(),G(),M(),z(),K(),v(),I(),On.current&&(On.current=!1,A.current&&(A.current.style.cursor=In?"crosshair":"grab")),Qe.touchBgStartRef.current&&se.pointerType==="touch"){const Be=se.clientX-Qe.touchBgStartRef.current.x,qe=se.clientY-Qe.touchBgStartRef.current.y;Math.hypot(Be,qe)<qt&&r({kind:"project"}),Qe.setTouchBgStart(null);return}if(Qe.setTouchBgStart(null),Qe.mouseBgStartRef.current&&se.pointerType==="mouse"){const Be=se.clientX-Qe.mouseBgStartRef.current.x,qe=se.clientY-Qe.mouseBgStartRef.current.y;if(Qe.setMouseBgStart(null),Math.hypot(Be,qe)<el){r({kind:"project"});return}}if(Qe.setMouseBgStart(null),f){const Be=i.flowers.find(qe=>qe.id===f);if(Be){const qe=Ce(se);if(Ve.current&&Math.hypot(qe.x-Ve.current.x,qe.y-Ve.current.y)<_l){const{zone:Fe}=ai(qe.x,qe.y,Be,i,a);Fe==="center"&&(ht("pointer"),A.current&&(A.current.style.cursor="pointer"));return}const{zone:Se,layerId:ye,petalIndex:Ae}=ai(qe.x,qe.y,Be,i,a),{length:De}=Yt(Be.fabricSquareSize??i.fabricSquareSize),ge=Cr(Se,a.kind,{hitLayerId:ye,flower:Be,length:De});ge!=="none"&&(Bt.current=ge,Fn.current=ye,$n.current=Ae);const Pe=Od(ge,"/tsumami/");ht(Pe),A.current&&(A.current.style.cursor=Pe)}}}},onPointerLeave:()=>{B(),G(),M(),z(),K(),v(),I(),On.current=!1,Qe.setTouchBgStart(null),Qe.setMouseBgStart(null),ht("grab"),Ve.current=null,yn.current=!0,Bt.current="none",Wt.current="none",Fn.current=void 0,$n.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Be,qe,Se]=C.split(/\s+/).map(Number),ye=ha;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:se,y:Be,width:qe,height:Se,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),x.jsx("rect",{x:se,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:ha,height:ha,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:ha,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:ha,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),g&&(()=>{const se=rn,[Be,qe,Se,ye]=C.split(/\s+/).map(Number),Ae=Math.max(Se,ye)/se,ge=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Pe=Math.floor(Be/se/ge)*ge-ge,Oe=Math.ceil((Be+Se)/se/ge)*ge+ge,Fe=Math.floor(qe/se/ge)*ge-ge,$e=Math.ceil((qe+ye)/se/ge)*ge+ge,Le=Fe*se,yt=$e*se,tt=Pe*se,je=Oe*se,nt=[];for(let lt=Pe;lt<=Oe;lt+=ge){const at=lt*se;nt.push(x.jsx("line",{x1:at,y1:Le,x2:at,y2:yt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Fe;lt<=$e;lt+=ge){const at=lt*se;nt.push(x.jsx("line",{x1:tt,y1:at,x2:je,y2:at,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:nt})})(),x.jsx(Dm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:A,applyUpdateRef:Je,clientToSvgPointRef:Ke,stencilDraggingRef:he,onSelectStencil:u.onSelectStencil}),x.jsx(Nm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Lt,dashSyncToken:q,stageRef:A,multiTouchRef:Qe.multiTouchRef,clientToSvgPoint:Ce,togglePetalSelection:ve,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:V,beginScaleDrag:te,beginRotationDrag:ue,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:Ve,zoneActivatedRef:yn,setZoneCursorValue:ht,setTouchZoneIndicator:Jl,hoverZoneRef:Bt,hoverHitLayerIdRef:Fn,hoverHitPetalIndexRef:$n}),x.jsx(Am,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:q,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Lt,stageRef:A,applyUpdateRef:Je,clientToSvgPointRef:Ke,leafDraggingRef:ze,clickOriginRef:Ve,zoneActivatedRef:yn,setZoneCursorValue:ht,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:Wt}),x.jsx(Lm,{rect:le}),x.jsx(Tm,{indicator:ci})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(u,i,a){return Math.min(a,Math.max(i,u))}function Ue({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...h}){const[y,m]=F.useState(null),d=F.useRef(null),_=F.useCallback(b=>{const A=Number(b);isNaN(A)||i(Hd(A,a,r)),m(null)},[i,a,r]),g=F.useCallback(()=>{m(null)},[]),N=F.useCallback(b=>{const A=o??1,w=(Number(y??u)||0)+A*b,q=Hd(w,a,r),O=String(A).includes(".")?String(A).split(".")[1].length:0,k=Number(q.toFixed(O));m(String(k)),i(k)},[y,u,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(u),onChange:b=>m(b.target.value),onFocus:b=>{m(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{y!==null&&_(y)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),y!==null&&_(y),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),g(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...h}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function c0({title:u,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),x.jsx("div",{className:"space-y-3",children:a})]})}function Bm({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=F.useMemo(()=>{const w=[...u.layers||[]].sort((le,V)=>le.order-V.order);if(w.length<2)return{mode:"uniform",step:2};const q=w.map(le=>le.scale??1);if(q.every(le=>Math.abs(le-q[0])<.001))return{mode:"uniform",step:2};const k=w[0],I=w[w.length-1],U=(I.order??1)-(k.order??1);if(U<=0)return{mode:"gradual",step:2};const B=((k.scale??1)-(I.scale??1))/U,X=Math.round(B*i*2)/2;return{mode:"gradual",step:Me(X,0,10)}},[u.id]),[h,y]=F.useState(f.mode),[m,d]=F.useState(f.step),[_,g]=F.useState(0);F.useEffect(()=>{y(f.mode),d(f.step),g(0)},[f]);const N=F.useMemo(()=>[...u.layers||[]].sort((w,q)=>w.order-q.order),[u.layers]),b=N[0],A=b?b.order:0,C=F.useMemo(()=>{if(!b)return[];const w=b.scale??1,q=b.radius,O=new Map;for(const le of N){const V=le.order-A;if(V===0)O.set(le.id,w);else if(h==="uniform")O.set(le.id,w);else{const W=m/i;O.set(le.id,Me(w-V*W,.3,3))}}const{length:k}=Yt(i),I=N.length,U=70*Math.PI/180,Q=new Map;let B=q;Q.set(b.id,q);for(let le=1;le<I;le++){const V=N[le-1],W=O.get(V.id)??1,v=k*W;let j;if(a===""){const D=I-1-le,M=I>1?D/(I-1)*U:0;j=v*(30/100)*Math.cos(M)}else j=v/3;B=B-j,Q.set(N[le].id,Math.max(2,B))}const X=N.map(le=>{const V=O.get(le.id)??1,W=Math.round((Q.get(le.id)??q)*10)/10,v=Math.round(i*V*10)/10;return{id:le.id,name:le.name,order:le.order,effScale:V,effFabricSize:v,effRadius:W}});if(X.length>0){const le=X[X.length-1],V=k*le.effScale,W=Math.floor(V*.28*10)/10;le.effRadius>W&&(le.effRadius=W)}return X},[N,b,A,h,m,30,i,a]);return F.useEffect(()=>{_!==0&&(!b||C.length===0||r(w=>{const q=w.flowers.find(k=>k.id===u.id);if(!q)return;for(const k of C){const I=q.layers.find(U=>U.id===k.id);I&&(I.scale=Me(k.effScale,.3,3),I.radius=Me(k.effRadius,2,120))}const O=[...q.layers].sort((k,I)=>I.order-k.order);for(let k=1;k<O.length;k++){const I=O[k-1],U=O[k];U.offsetAngle=Pn(I.petalCount,I.offsetAngle,U.petalCount)}}))},[_]),N.length<2?null:x.jsxs(c0,{title:"",children:[x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:w=>{y(w.target.value),g(q=>q+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:w=>{d(w),g(q=>q+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(w=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:w.name}),x.jsxs("span",{children:[" ",w.effFabricSize,"mm /  ",Math.round(n0(w.effRadius,w.effScale,i)),"mm"]})]},w.id))]})]})}const $d="tsumami_recent_colors_v1",Gx=10;function qm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function jx(){try{const u=localStorage.getItem($d);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,Gx)}}catch{}return[]}function Gm(u){try{localStorage.setItem($d,JSON.stringify(u.slice(0,Gx)))}catch{}}function Rm(u){const i=jx(),a=[u,...i.filter(r=>r!==u)].slice(0,Gx);Gm(a)}function Zn({palette:u,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,h]=F.useState(!1),y=F.useRef(null),[m,d]=F.useState(jx);F.useEffect(()=>{if(!f)return;const C=w=>{y.current&&!y.current.contains(w.target)&&h(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[f]);const _=F.useMemo(()=>qm(i),[i]),g=F.useMemo(()=>{const C=new Set;C.add(a);for(const w of _)C.add(w);for(const w of m)C.add(w);return u.filter(w=>C.has(w.id))},[u,a,_,m]),N=F.useCallback(C=>{Rm(C),d(jx()),r(C)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",A=f?u:g;return x.jsx("div",{ref:y,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[A.map(C=>x.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>N(C.id)},C.id)),u.length>g.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>h(C=>!C),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function km({project:u,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(y=>y.id===a.id);if(h)for(const y of h.layers)y.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Wd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;h.placementMode=r;const y=h.fabricSquareSize??f.fabricSquareSize;r===""?h.baseDiameter=t0(h.flowerDiameter):h.baseDiameter||(h.baseDiameter=f.baseDiameter),Bh(h.layers,y,r,h.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Ue,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[t0(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(!f)return;const h=ui(r);for(const m of f.layers)m.petalCount=r,m.widthScale=h;const y=[...f.layers].sort((m,d)=>d.order-m.order);for(let m=1;m<y.length;m++)y[m].offsetAngle=Pn(y[m-1].petalCount,y[m-1].offsetAngle,y[m].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(y=>y.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=t0(r));const h=[...f.layers].sort((y,m)=>y.order-m.order);Xr(h,f.fabricSquareSize??o.fabricSquareSize,r);for(const y of h){const m=f.layers.find(d=>d.id===y.id);m&&(m.radius=y.radius,m.scale=y.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)if(r.target.checked){if(!h.doublePetal){const y=h._doublePetalCache;h.doublePetal=y??{innerSizeReduction:2},delete h._doublePetalCache}}else h.doublePetal&&(h._doublePetalCache={...h.doublePetal}),delete h.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],h=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:y=>i(m=>{const d=m.flowers.find(_=>_.id===a.id);if(d)for(const _ of d.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=Me(y,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:h??"",onChange:y=>i(m=>{const d=m.flowers.find(_=>_.id===a.id);if(d)for(const _ of d.layers)_.doublePetal&&(y===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=y)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Bm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Im({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:h}){const y=a,m=[...new Set(y.flatMap(g=>g.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,_=g=>{i(N=>{for(const b of y){const A=N.flowers.find(C=>C.id===b.id);A&&g(A)}},!0)};return x.jsxs(c0,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(g=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>_(N=>{for(const b of N.layers)b.colorId=g.id})},g.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(N=>{for(const b of N.layers)b.petalType=g}),children:g},g))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ue,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const N=ui(g);_(b=>{for(const C of b.layers)C.petalCount=g,C.widthScale=N;const A=[...b.layers].sort((C,w)=>w.order-C.order);for(let C=1;C<A.length;C++)A[C].offsetAngle=Pn(A[C-1].petalCount,A[C-1].offsetAngle,A[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(g=>x.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),(()=>{const g=y.map(w=>ba(u,w.id)),N=y.filter(w=>!ba(u,w.id)).map(w=>w.id),b=[...new Set(g.filter(Boolean).map(w=>w.id))],A=N.length===y.length,C=b.length===1&&g.every(w=>w!=null);return x.jsxs(x.Fragment,{children:[A&&y.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(y.map(w=>w.id)),children:""}),C&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&N.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Om({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const h=r.find(g=>g.id===o);if(!h)return null;const y=a,m=[...new Set(y.flatMap(g=>g.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,_=g=>{i(N=>{for(const b of y){const A=N.flowers.find(C=>C.id===b.id);A&&g(A)}},!0)};return x.jsxs(c0,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:h.name,onChange:g=>i(N=>{const b=(N.groups??[]).find(A=>A.id===h.id);b&&(b.name=g.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(g=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>_(N=>{for(const b of N.layers)b.colorId=g.id})},g.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(N=>{for(const b of N.layers)b.petalType=g}),children:g},g))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ue,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const N=ui(g);_(b=>{for(const C of b.layers)C.petalCount=g,C.widthScale=N;const A=[...b.layers].sort((C,w)=>w.order-C.order);for(let C=1;C<A.length;C++)A[C].offsetAngle=Pn(A[C-1].petalCount,A[C-1].offsetAngle,A[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(g=>x.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(h.id),children:""})]})}function Ym({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);if(y){y.petalCount=o,y.widthScale=ui(o);const m=[...h.layers].sort((d,_)=>_.order-d.order);for(let d=1;d<m.length;d++)m[d].offsetAngle=Pn(m[d-1].petalCount,m[d-1].offsetAngle,m[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(n0(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.radius=Me(Eh(o,y.scale??1,h.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const h=f.flowers.find(g=>g.id===a.id);if(!h)return;const y=h.layers.find(g=>g.id===r.id);if(!y)return;const m=h.fabricSquareSize??f.fabricSquareSize;y.scale=Me(Math.round(o/m*100)/100,.3,3);const d=[...h.layers].sort((g,N)=>g.order-N.order),_=d.findIndex(g=>g.id===y.id);if(_>=0)for(let g=_-1;g>=0;g--){const N=d[g],b=d[g+1],C=Yt(m).length*(b.scale??1)/3;N.radius=Math.round((b.radius+C)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);if(y)if(o.target.checked){const m=y._doublePetalCache;y.doublePetal=m??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=Me(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y?.doublePetal&&(o===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const y=h.layers.find(m=>m.id===r.id);y&&(y.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(w=>{const q=a.layers.find(O=>O.id===w.layerId);return{...w,layer:q}}).filter(w=>w.layer!=null),h=(w,q)=>{const O=a.layers.find(I=>I.id===w);return O?(O?.petalOverrides?.find(I=>I.index===q)??null)?.colorId??O.colorId:null},y=(w,q)=>{const O=a.layers.find(I=>I.id===w);return O?(O?.petalOverrides?.find(I=>I.index===q)??null)?.petalType??O.petalType:null},m=f.map(w=>h(w.layerId,w.index)),d=f.map(w=>y(w.layerId,w.index)),_=m.length>0&&m.every(w=>w===m[0]),N=d.length>0&&d.every(w=>w===d[0])?d[0]:null,b=w=>{i(q=>{const O=q.flowers.find(k=>k.id===a.id);if(O)for(const k of o){const I=O.layers.find(Q=>Q.id===k.layerId);if(!I)continue;I.petalOverrides||(I.petalOverrides=[]);const U=I.petalOverrides.find(Q=>Q.index===k.index);if(U)w.colorId!==void 0&&(w.colorId===I.colorId?delete U.colorId:U.colorId=w.colorId),w.petalType!==void 0&&(w.petalType===I.petalType?delete U.petalType:U.petalType=w.petalType),!U.colorId&&!U.petalType&&(I.petalOverrides=I.petalOverrides.filter(Q=>Q.index!==k.index),I.petalOverrides.length===0&&(I.petalOverrides=void 0));else{const Q={index:k.index};w.colorId!==void 0&&w.colorId!==I.colorId&&(Q.colorId=w.colorId),w.petalType!==void 0&&w.petalType!==I.petalType&&(Q.petalType=w.petalType),(Q.colorId!==void 0||Q.petalType!==void 0)&&I.petalOverrides.push(Q)}}},!0)},A=()=>{i(w=>{const q=w.flowers.find(O=>O.id===a.id);if(q)for(const O of o){const k=q.layers.find(I=>I.id===O.layerId);!k||!k.petalOverrides||(k.petalOverrides=k.petalOverrides.filter(I=>I.index!==O.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0))}},!0)},C=f.some(w=>w.layer?.petalOverrides?.find(q=>q.index===w.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",C&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(w=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&m[0]===w.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:w.hex},title:w.name,"aria-label":`: ${w.name}`,onClick:()=>b({colorId:w.id})},w.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:w}),children:w},w))})]}),C&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:A,children:""})]})]})}function Um({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(g=>g.index===o)??null,h=f?.colorId??r.colorId,y=f?.petalType??r.petalType,m=f!=null,d=g=>{i(N=>{const b=N.flowers.find(w=>w.id===a.id);if(!b)return;const A=b.layers.find(w=>w.id===r.id);if(!A)return;A.petalOverrides||(A.petalOverrides=[]);const C=A.petalOverrides.find(w=>w.index===o);if(C)g.colorId!==void 0&&(C.colorId=g.colorId),g.petalType!==void 0&&(C.petalType=g.petalType),g.innerColorId!==void 0&&(C.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(C.innerSizeReduction=g.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(A.petalOverrides=A.petalOverrides.filter(q=>q.index!==o),A.petalOverrides.length===0&&(A.petalOverrides=void 0));else{const w={index:o};g.colorId!==void 0&&(w.colorId=g.colorId),g.petalType!==void 0&&(w.petalType=g.petalType),g.innerColorId!==void 0&&(w.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(w.innerSizeReduction=g.innerSizeReduction),(w.colorId!==void 0||w.petalType!==void 0||w.innerColorId!==void 0||w.innerSizeReduction!==void 0)&&A.petalOverrides.push(w)}},!0)},_=()=>{i(g=>{const N=g.flowers.find(A=>A.id===a.id);if(!N)return;const b=N.layers.find(A=>A.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(A=>A.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,m&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:h,onChange:g=>{g===r.colorId?d({colorId:void 0}):d({colorId:g})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(g=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g===r.petalType?d({petalType:void 0}):d({petalType:g})},children:g},g))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:g=>i(N=>{const b=N.flowers.find(C=>C.id===a.id);if(!b)return;const A=b.layers.find(C=>C.id===r.id);if(A)if(g.target.checked){const C=A._doublePetalCache;A.doublePetal=C??{innerSizeReduction:2},delete A._doublePetalCache}else A.doublePetal&&(A._doublePetalCache={...A.doublePetal}),delete A.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const g=r.doublePetal,N=f?.innerSizeReduction??g.innerSizeReduction,b=f?.innerColorId??g.innerColorId??h;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Ue,{min:1,max:30,step:1,value:N,onChange:A=>{const C=Me(A,1,30);C===g.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:C})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:A=>{const C=g.innerColorId??r.colorId;d(A===C?{innerColorId:void 0}:{innerColorId:A})}})]})]})})(),m&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function Km({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=h=>{i(y=>{const m=(y.stencils??[]).find(d=>d.id===o.id);m&&Object.assign(m,h)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:h=>f({variant:h.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(h=>x.jsx("option",{value:h,children:Pd[h]},h))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:h=>f({pose:h.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(h=>x.jsx("option",{value:h,children:Fd[h]},h))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:h=>f({locked:h.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:h}){const y=a,m=_=>{i(g=>{const N=(g.leaves??[]).find(b=>b.id===y.id);N&&_(N)},!0)},d=Zr(u,y.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:_=>m(g=>{g.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(g=>{g.petalType=_}),children:_},_))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:y.colorId,onChange:_=>m(g=>{g.colorId=_})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??u.fabricSquareSize)*(y.scale??1)*10)/10,onChange:_=>m(g=>{const N=g.fabricSquareSize??u.fabricSquareSize;g.scale=Me(Math.round(_/N*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:_=>m(g=>{g.scale=_})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:_=>m(g=>{g.widthScale=_})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ue,{value:Number(y.rotation).toFixed(1),onChange:_=>m(g=>{g.rotation=_})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:_=>m(g=>{if(_.target.checked){const N=g._doublePetalCache;g.doublePetal=N??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:_=>m(g=>{g.doublePetal&&(g.doublePetal.innerSizeReduction=Me(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:_=>m(g=>{g.doublePetal&&(_===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=_)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:_=>m(g=>{g.visible=_.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:_=>m(g=>{g.locked=_.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>h(y.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&f(y.id,_.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(_=>x.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(y.id),children:""})]})]})}function Xm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(u.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(c0,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Zn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>i(h=>{for(const y of a){const m=(h.leaves??[]).find(d=>d.id===y);m&&(m.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(h=>{for(const y of a){const m=(h.leaves??[]).find(d=>d.id===y);m&&(m.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Wm({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(u.leaves??[]).filter(h=>o.leafIds.includes(h.id));return x.jsxs(c0,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:h=>i(y=>{const m=(y.leafGroups??[]).find(d=>d.id===o.id);m&&(m.name=h.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ue,{value:Number(o.rotation).toFixed(1),onChange:h=>i(y=>{const m=(y.leafGroups??[]).find(d=>d.id===o.id);m&&(m.rotation=h)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:h=>i(y=>{const m=(y.leafGroups??[]).find(d=>d.id===o.id);m&&(h.target.value?m.linkedFlowerGroupId=h.target.value:delete m.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(u.groups??[]).map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(h=>x.jsx("div",{children:h.name},h.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Jm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:h,selectedPetalIndex:y,selectedPetals:m}=u;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(_=>_.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(_=>_.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ue,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(_=>_.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Xl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Xl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(_=>_.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(km,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Im,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Om,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&h&&x.jsx(Ym,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:h}),a.kind==="petals"&&o&&m.length>0&&x.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:m}),a.kind==="petal"&&o&&h&&y!==null&&x.jsx(Um,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:h,selectedPetalIndex:y}),a.kind==="stencil"&&u.selectedStencil&&x.jsx(Km,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&x.jsx(Zm,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Xm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&x.jsx(Wm,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Vm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Xl(u.baseDiameter,u.fabricSquareSize,i).diameter:a0(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Qm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Nh(u.flowerDiameter,u.baseDiameter,i):Dh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Pm({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=m=>{a(d=>{const _={...d,...m};return m.placementMode&&m.placementMode!==d.placementMode&&(m.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=Vm(_),_})},h=m=>{a(d=>{const _={...d,flowerDiameter:m};return _.fabricSquareSize=Qm(_),_})},y=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&y.push("");const m=Ah(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>m&&y.push(`${m}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Wd.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:m}),children:m},m))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:m=>f({fabricSquareSize:m})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:m=>f({layerCount:m})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:m=>f({baseDiameter:m})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:m=>a(d=>({...d,petalCount:m}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:h})]})]}),y.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((m,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:m},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(m=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(d=>({...d,colorId:m.id}))},m.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:m})),children:m},m))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:m=>f({sizeStepMm:m})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}const Wr=ln;(function(u,i){const a=ln,r=u();for(;;)try{if(parseInt(a(528))/1*(parseInt(a(512))/2)+parseInt(a(479))/3+parseInt(a(506))/4+-parseInt(a(519))/5*(parseInt(a(489))/6)+-parseInt(a(485))/7+parseInt(a(518))/8*(-parseInt(a(523))/9)+parseInt(a(529))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Or,684664);const Fm=(function(){let u=!0;return function(i,a){const r=u?function(){const o=ln;if(a){const f=a[o(517)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),zx=Fm(void 0,function(){const u=ln;return zx.toString().search("(((.+)+)+)+$")[u(498)]().constructor(zx).search("(((.+)+)+)+$")});zx();function Or(){const u=["uwTuywq","mJy4mdy1neLms0PstW","y29SlxjLC2L6zq","BNvTyMvY","De9HvxG","Cg9PBNrLCM1VDMu","yxbWBhK","ofriEwzPwG","ndqWDKntD0Ly","uvjyueq","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","C3bSAxq","mta4nJCWodzkyvnkBgS","DgPOuM0","CMvTB3zLrxzLBNrmAxn0zw5LCG","C2LKzq","C3rHCNrxAwr0Ahm","mwL0BNnztq","nZGXodq5me50tfLXrG","Bwf4","mteWoduZmePcENrJzG","wvfoteO","DxnLCLnLBgvJDa","BM9Uzq","CvnzEvO","BwLU","ntm1mZGXr3nPr0D3","EvnnA0y","sev5wwy","v2nnCM8","ndm0nZznuNnLuuW","C3r5Bgu","y3vYC29Y","ywrJqK4","y2XPzw50wa","CMLNAhq","u3DfDLO","wNPNDue","C3rYAw5NAwz5","Dg9tDhjPBMC","Bwf0y2HLCW","Bwf0y2HnzwrPyq","BgvMDa","z2v0qM91BMrPBMDdBgLLBNrszwn0","yM9KEq","Cg9PBNrLCNvW","y3vYCMvUDa","ndu4mJuYve5pCuvc","rM13DKO","CM91BMq","ywrKrxzLBNrmAxn0zw5LCG","DxngBKm"];return Or=function(){return u},Or()}function ln(u,i){u=u-478;const a=Or();let r=a[u];if(ln.EtyrSA===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};ln.BRWCHW=o,ln.xgHSFy={},ln.EtyrSA=!0}const f=a[0],h=u+f,y=ln.xgHSFy[h];if(y)r=y;else{const m=function(d){this.LxJYVS=d,this.BQTYcC=[1,0,0],this.CISbRc=function(){return"newState"},this.ryyiAZ="\\w+ *\\(\\) *{\\w+ *",this.EDBFrx=`['|"].+['|"];? *}`};m.prototype.IgYFLg=function(){const d=new RegExp(this.ryyiAZ+this.EDBFrx),_=d.test(this.CISbRc.toString())?--this.BQTYcC[1]:--this.BQTYcC[0];return this.PlkDMH(_)},m.prototype.PlkDMH=function(d){return~d?this.aZSAPd(this.LxJYVS):d},m.prototype.aZSAPd=function(d){for(let _=0,g=this.BQTYcC.length;_<g;_++)this.BQTYcC.push(Math.round(Math.random())),g=this.BQTYcC.length;return d(this.BQTYcC[0])},new m(ln).IgYFLg(),r=ln.BRWCHW(r),ln.xgHSFy[h]=r}return r}const e1=Wr(521),t1={left:25,right:25},Dx=15,Nx=15,r0=30;function $m(){const u=Wr,i={tjhRm:function(a,r){return a===r},mITAZ:function(a,r){return a===r},ptTbH:u(514),tOaUx:function(a,r){return a>=r},wEYQh:function(a,r){return a-r}};try{const a=localStorage.getItem(e1);if(a){const r=JSON.parse(a);if(i[u(524)](typeof r.left,u(514))&&i.mITAZ(typeof r[u(494)],i.ptTbH)&&r.left>=Dx&&i[u(515)](r.right,Nx)&&i.tOaUx(i.wEYQh(100,r.left)-r.right,r0))return r}}catch{}return t1}function Ud(u,i){const a=Wr,r={cCEvp:function(y,m){return y-m},qSYyZ:function(y,m){return y/m},QxdnC:function(y,m){return y*m},adcBN:function(y,m){return y*m}};let o=Math[a(478)](Dx,u),f=Math[a(478)](Nx,i);const h=r.cCEvp(100-o,f);if(h<r0){const y=r0-h;o-=r[a(483)](y,2),f-=r[a(483)](y,2),o=Math.max(Dx,o),f=Math[a(478)](Nx,f)}return{left:r[a(483)](Math[a(508)](r.QxdnC(o,100)),100),right:Math.round(r[a(492)](f,100))/100}}function eb(){const u=Wr,i={XYiIM:function(A,C){return A(C)},HEyYf:function(A,C){return A(C)},ySMkF:function(A,C,w){return A(C,w)},ZzguA:"2|1|0|3|5|4",WcMro:u(516),MUCEx:u(513),gTEAi:u(482),PhWJt:u(504),gEilo:function(A,C){return A-C},usFnC:function(A,C){return A(C)},aekYY:function(A,C,w){return A(C,w)},YQNLJ:function(A,C,w){return A(C,w)}},[a,r]=F.useState($m),o=i.usFnC(F.useRef,null),f=F.useRef(null),[h,y]=F.useState(!1),[m,d]=i[u(510)](F.useState,()=>typeof window<"u"?window.matchMedia("(min-width: 768px)")[u(499)]:!0);i[u(486)](F.useEffect,()=>{const A=u,C=window[A(500)]("(min-width: 768px)"),w=q=>d(q[A(499)]);return C[A(509)]("change",w),()=>C[A(525)]("change",w)},[]),i.aekYY(F.useEffect,()=>{const A=u;localStorage.setItem(e1,JSON[A(497)](a))},[a]);const _=F.useRef(a);F.useEffect(()=>{_.current=a},[a]);const g=F.useCallback((A,C)=>{const w=u,q={FmwvJ:function(U,Q){return U*Q},QRXPD:function(U,Q){return U-Q},SwEvZ:function(U,Q){return i[ln(487)](U,Q)},xuvGe:function(U,Q,B){return i[ln(486)](U,Q,B)},QkTad:function(U,Q){return U(Q)},vpNKi:i[w(496)],gjaGo:i[w(488)]};C.preventDefault();const O=o[w(505)];if(!O)return;f.current={side:A,startX:C.clientX,startWidths:{..._[w(505)]}},y(!0),document.body[w(490)].cursor=i.MUCEx,document[w(503)][w(490)].userSelect=i.gTEAi;const k=U=>{const Q=w,B=f[Q(505)];if(!B)return;const X=O[Q(502)]().width;if(X===0)return;const le=U[Q(493)]-B.startX,V=q[Q(507)](le/X,100);if(B[Q(526)]==="left"){const W=B.startWidths.left+V,v=q[Q(520)](q.QRXPD(100,B.startWidths[Q(494)]),r0);q[Q(495)](r,q.xuvGe(Ud,Math.min(W,v),B[Q(527)].right))}else{const W=B.startWidths[Q(494)]-V,v=100-B[Q(527)][Q(501)]-r0;q[Q(511)](r,q.xuvGe(Ud,B[Q(527)].left,Math.min(W,v)))}},I=()=>{const U=w;f[U(505)]=null,i.XYiIM(y,!1),document.body[U(490)][U(491)]="",document.body.style[U(481)]="",window[U(525)](U(516),k),window.removeEventListener(U(504),I)};window[w(509)](i[w(488)],k),window[w(509)](i.PhWJt,I),N[w(505)]=()=>{const U=w,Q=q.vpNKi[U(522)]("|");let B=0;for(;;){switch(Q[B++]){case"0":f.current=null;continue;case"1":window.removeEventListener(U(504),I);continue;case"2":window[U(525)](q.gjaGo,k);continue;case"3":y(!1);continue;case"4":document[U(503)].style[U(481)]="";continue;case"5":document[U(503)][U(490)][U(491)]="";continue}break}}},[]),N=i[u(487)](F.useRef,null);F.useEffect(()=>()=>{N.current?.()},[]);const b=i[u(480)](F.useCallback,()=>{i.HEyYf(r,t1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:h,isDesktop:m}}function Kd({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,i){const a=St,r=u();for(;;)try{if(-parseInt(a(258))/1+parseInt(a(283))/2+-parseInt(a(315))/3+parseInt(a(310))/4*(-parseInt(a(303))/5)+parseInt(a(352))/6*(-parseInt(a(222))/7)+-parseInt(a(370))/8+parseInt(a(301))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Yr,647064);function St(u,i){u=u-206;const a=Yr();let r=a[u];if(St.gVoEOS===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};St.pNYEwO=o,St.wVzCPW={},St.gVoEOS=!0}const f=a[0],h=u+f,y=St.wVzCPW[h];if(y)r=y;else{const m=function(d){this.byqlNi=d,this.YSFhCA=[1,0,0],this.AXjCHW=function(){return"newState"},this.HdkyqK="\\w+ *\\(\\) *{\\w+ *",this.CvWCHv=`['|"].+['|"];? *}`};m.prototype.TjudSk=function(){const d=new RegExp(this.HdkyqK+this.CvWCHv),_=d.test(this.AXjCHW.toString())?--this.YSFhCA[1]:--this.YSFhCA[0];return this.HTIOdc(_)},m.prototype.HTIOdc=function(d){return~d?this.lyICTe(this.byqlNi):d},m.prototype.lyICTe=function(d){for(let _=0,g=this.YSFhCA.length;_<g;_++)this.YSFhCA.push(Math.round(Math.random())),g=this.YSFhCA.length;return d(this.YSFhCA[0])},new m(St).TjudSk(),r=St.pNYEwO(r),St.wVzCPW[h]=r}return r}const tb=(function(){const u={CdmEz:function(a,r){return a(r)},UsWyJ:function(a,r){return a!==r},Piyos:"qhYsR"};let i=!0;return function(a,r){const o=St,f={tDrdf:function(h,y,m){return h(y,m)},MAvzb:function(h,y){return u[St(212)](h,y)}};if(u.UsWyJ(u[o(368)],o(333)))f[o(351)](_0x4077d1,h=>{const y=o,m=(h.groups??[]).find(d=>d.id===_0x4b9649);if(m)for(const d of _0x1d59b4)m[y(344)].includes(d)||m.flowerIds.push(d)},!0),f[o(329)](_0x22cc3a,{kind:o(302),groupId:_0x3fdb72});else{const h=i?function(){const y=o;if(r){const m=r[y(294)](a,arguments);return r=null,m}}:function(){};return i=!1,h}}})(),Ax=tb(void 0,function(){const u=St,i={YqqVq:"(((.+)+)+)+$"};return Ax[u(371)]().search(u(245)).toString()[u(209)](Ax)[u(299)](i.YqqVq)});Ax();function Yr(){const u=["mJK0nJuXDfjPCKfX","D1b1DvO","qLnRufu","veHnDuK","s1D6Duu","seHsquW","t3v0zxiR","Bwn5CLm","t1jluve","AwfOs2C","tMHereu","CMfKAxvZ","qwDQyLq","zu1vyKu","BMvWwvO","CM91BMq","sgz3Avq","D2fTzLC","zMXVD2vYCW","B3jKzxi","uLb3vxO","CKHcvu0","tLvLC0q","kcGOlISPkYKRksSK","Dw5ZAgLMDa","C29Tzq","ExLLywm","Aw5JBhvKzxm","q3bSzve","twPeA1m","svn0q2C","A1jVtfi","AgvPz2H0","Bgf5zxjjza","wKD3v2K","EM9isKC","ndK3ndy4AMfKC1jk","sMvWBxO","z1L6DNK","Cgv0ywW","tfr0tgK","BNHHru8","BgvHzG","t05PD1C","sxPzAu8","uKj0ugC","sLHvEw0","wxDsEMK","Ahv1sxK","EhzZAK0","ChjVAMvJDa","Cgv0ywXuExbL","rfHPzei","Egf2r2C","BgvHzKDYB3vWswq","z2H1zMy","qxDiyue","zMXVD2vYrgLHBwv0zxi","zhPqtMy","Bgf5zxjZ","z1jeD0m","mJe3oteZneDlDhbMAa","C3rLBMnPBa","yMfZzurPyw1LDgvY","ChvZAa","y09ZvNO","BgvHDMvZ","BNPTCwe","A2LUza","r3Dezui","z3jW","y3LqwKm","yxbWBhK","thbvEuK","zevWrgO","A2TmuLa","C3nrBNm","C2vHCMnO","ywjZ","nJiYmdq5neHvsKfRwa","z3jVDxa","mJy0nta1BLvxq3Hn","CvjouMO","zwXMv2i","v052Deq","AevlsNm","tKDNBue","u2Disva","mJbqAwvNyvi","CwfoC2W","BfHhv0W","C2nHBgu","zM9YrwfJAa","nZeXmZm5vMTYzvzq","Cgv0ywXZ","Bgf5zxi","BgvHzKLKCW","u3HQzeS","EgvwEvK","vevbtMi","Ew5wCfO","DhHwAeW","BgvHzKDYB3vWCW","s2n1zeq","C25TDu4","zMLUza","CgXHy2vTzw50tw9Kzq","tuf2EMi","Cgv0ywXdB3vUDa","vhn5Bw0","rgDczMG","CwHzC1i","CKPWrui","qLPPsee","C2XPy2u","CMv2zxjZzq","ALHorwG","z0vyBfa","qMDbvuq","Dw5PzM9YBq","C29YDa","rKnksMy","zMXVD2vYswrZ","yMfJAW","BMfTzq","Aw5KzxG","tMLwsvO","rfDkq1i","zgLHBwv0zxi","DerYzgy","nNPyALPvwG","wLnLuMG","qwTLuui","B2zMC2v0qw5NBgu","zxvJEMu","qvfgDwu","yvHkBwS","yLzlwu0","rfzzwKm","whjKvwe","sNznyMi","z3jVDxbZ","ugTXwMu","CgfSzxr0zq","v2voq24","terbC0C","ugL5B3m","C3rLBMnPBhm","nZm5otiWChrbvLjg","Dg9tDhjPBMC","BgvUz3rO","zMLSDgvY","q0f0rwm","zMfICMLJu3f1yxjLu2L6zq","AgLAALi","y29UC3rYDwn0B3i","vLr0Duy","BgvHzKLK","q2rTrxO","DMrLz2m","wKDZDKC","zMXVD2vYswq","zMXVD2vY","AMvxELO","BLHvANi","D3jyseK","quzhueO","weDksNa"];return Yr=function(){return u},Yr()}function nb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:h,pan:y,stageSize:m,CANVAS_MAX_SVG:d,deleteLeafById:_,ungroupLeaves:g}){const N=St,b={AwHaA:function(v,j){return v(j)},WNvtD:function(v,j){return v!==j},BSkPU:N(218),gYzvy:function(v,j){return v/j},wrXHI:function(v,j){return v*j},ZGsvG:function(v,j){return v-j},yfnrA:function(v,j){return v>j},wPuuZ:function(v,j){return v===j},vlRBB:"CpleQ",brKjQ:N(321),Tsymm:function(v,j){return v||j},KzuaT:function(v,j,D){return v(j,D)},LTtLi:"project",JXUym:function(v,j){return v(j)},tHDrq:N(298),wamfW:function(v,j,D){return v(j,D)},Jepmz:N(216),DWJCR:function(v,j){return v===j},NGgmA:function(v,j){return v!==j},nzmqa:N(265),xeVyY:function(v,j){return v<j},iahKg:function(v,j){return v>=j},zoHJG:function(v,j){return v>j},elfWb:function(v,j,D,M){return v(j,D,M)},FCJJf:function(v,j){return v+j},bVKYM:"lay",AFGPJ:N(228),EYsRl:"",xavGg:N(317),GwDeB:function(v,j){return v!==j},VyDnf:N(354),gRDwC:function(v,j){return v===j},aXJmk:function(v,j){return v<=j},DXidB:"iVpKu",lXGWL:function(v,j){return v===j},GDisc:function(v,j){return v(j)},hiZjR:"eucze",txVhL:N(210),XwTGQ:function(v,j){return v!==j},MjDkS:N(236),mcyrS:function(v,j,D,M,S){return v(j,D,M,S)},lcjEK:N(243),dxTYq:function(v,j){return v-j},UisDP:function(v,j,D,M){return v(j,D,M)},huuIy:function(v,j){return v===j},KcudD:function(v,j){return v===j},qRNRj:N(264),BgAUD:function(v,j){return v(j)},vdegc:"leafGroup",HfwiT:"leaves",hEKJs:function(v,j,D){return v(j,D)},AgjbT:"stencil",RBtPg:"petals",ORKQQ:function(v,j){return v(j)},FlWcj:function(v,j){return v===j},kRoLR:function(v,j){return v===j},nkdtA:N(292),WeNCn:function(v,j){return v(j)},guLRG:function(v,j){return v(j)},XRDls:"MGHzM",jeWzZ:function(v,j){return v(j)},eMUbE:function(v,j){return v(j)},DHSCj:N(360),HHRAL:"group",KAMoz:function(v,j){return v+j},KmIWp:function(v,j){return v===j},cOsVz:N(345),WkjfX:"side",ndXne:function(v,j){return v/j},CAtEc:function(v,j){return v(j)},LpUyI:"(((.+)+)+)+$",EYOwL:function(v,j){return v(j)},XrdUa:function(v,j){return v(j)},RPwUz:N(240),AQFue:N(266),hSOHT:function(v,j){return v===j},GBDpq:function(v,j){return v/j},HFbxX:N(334),ZwnfR:function(v,j){return v(j)},XeRBN:"petal",SxjdK:function(v,j){return v===j},vdeUH:N(232),ihAHD:function(v,j){return v(j)},jXNEh:function(v,j){return v===j},KaLXI:function(v,j){return v(j)},eTOYQ:function(v,j){return v===j},omBwl:function(v,j,D){return v(j,D)}},A=v=>{const j=N,D={geEbD:function(z,E){return z/E},XVNwK:function(z,E){return z-E},aQBDl:function(z,E,Y,K){return z(E,Y,K)},PkqZe:function(z,E){return z+E}},M=[...v[j(281)]].sort((z,E)=>z.order-E[j(241)]),S=M[0];if(!S)return 28;const L=v[j(207)]??u.fabricSquareSize,{length:G}=b[j(278)](Yt,L),Z=G*(S[j(313)]??1);let R;if(v.placementMode==="")if(b.WNvtD("htxcv",b[j(224)]))R=b[j(260)](Z,3);else{const z=D.geEbD(D.XVNwK(_0x4d3d96.scale??1,_0x4fa9ad.scale??1),_0x1411c7);_0xda1250=D.aQBDl(_0x360918,D[j(364)](_0x2aa926[j(313)]??1,z),.3,3)}else{const E=b[j(219)](70,Math.PI)/180,Y=M[j(372)]+1,K=b.ZGsvG(Y,1),te=b.yfnrA(Y,1)?K/(Y-1)*E:0;R=Z*b[j(260)](30,100)*Math.cos(te)}return Math[j(237)](b.wrXHI((S[j(233)]??28)+R,10))/10},C=v=>{const j=N,D={NUesD:function(M,S){return b.AwHaA(M,S)},xLhIF:"flower",NiVIZ:function(M,S){return b[St(223)](M,S)},IStCg:function(M,S){return M(S)},GgUon:"petals",dzPNf:j(272),DgBfh:function(M,S){return b[j(331)](M,S)}};b.KzuaT(i,M=>{const S=j;if(b.wPuuZ(S(250),b.vlRBB)){if(M[S(240)]=(M.flowers||[])[S(373)](L=>L.id!==v),M.groups)if(S(293)==="cyPZC"){for(const L of M.groups)if(b.wPuuZ("SyDOD",b.brKjQ)){const G=_0x34e0fa.filter(Z=>Z[S(255)]+":"+Z.index!==_0x460afe);G[S(372)]===0?D[S(244)](_0x1a0404,{kind:D.xLhIF,flowerId:_0x45b90a}):D[S(348)](G.length,1)?_0x2ae0a3({kind:S(261),flowerId:_0x4c2c86,layerId:G[0].layerId,index:G[0].index}):D[S(252)](_0xfac6e7,{kind:D.GgUon,flowerId:_0x1bed91,petals:G})}else L.flowerIds=L.flowerIds.filter(G=>G!==v);M[S(363)]=M.groups[S(373)](L=>L[S(344)].length>0)}else _0x38c647({kind:D[S(280)]})}else _0x2cc7ed[S(344)]=_0x1b3200.flowerIds[S(373)](L=>!_0x270be5.includes(L))},!0),r({kind:b.LTtLi}),b[j(278)](o,M=>{const S=j,L={...D[S(332)](M,{})};return delete L[v],L})},w=(v,j)=>{const D=N,M=u.flowers[D(327)](S=>S.id===v);if(M&&(M[D(281)]||[]).length<=1)if(b.tHDrq==="wPuxZ"){const S=_0xbc2bfb[D(344)];_0x1dcc1a(L=>{const G=D;if(L[G(240)]=L[G(240)][G(373)](Z=>!S.includes(Z.id)),L[G(363)]){for(const Z of L[G(363)])Z[G(344)]=Z.flowerIds[G(373)](R=>!S[G(249)](R));L[G(363)]=L[G(363)].filter(Z=>Z[G(344)][G(372)]>0)}},!0),b[D(268)](_0x1e2911,{kind:"project"});return}else{C(v);return}b.wamfW(i,S=>{const L=D,G=(S.flowers||[])[L(327)](Z=>Z.id===v);G&&(G.layers=(G.layers||[]).filter(Z=>Z.id!==j),G[L(281)][L(336)]().sort((Z,R)=>Z.order-R[L(241)]).forEach((Z,R)=>Z[L(241)]=R+1))},!0),r({kind:b[D(259)],flowerId:v})},q=v=>{const j=N,D={UqwWw:function(M,S){return b.DWJCR(M,S)},kkLRP:function(M,S,L,G,Z){return M(S,L,G,Z)},eXsuL:function(M,S){return M-S},XNxMo:function(M,S,L){return b[St(239)](M,S,L)},ynVpZ:b.LTtLi};if(b[j(308)](j(362),b[j(289)])){const M=u[j(240)].find(K=>K.id===v);if(!M)return;const S=[...M.layers][j(342)]((K,te)=>K[j(241)]-te[j(241)]),L=S[0],G=Me(L?.[j(330)]??6,5,24),Z=S.map(K=>K[j(313)]??1),R=b.xeVyY(Z[j(372)],2)||Z.every(K=>Math[j(300)](K-Z[0])<.001);let z=L?.[j(313)]??1;if(!R&&b[j(231)](S[j(372)],2)){const K=S[S.length-1],te=b[j(214)](K[j(241)]??1,L[j(241)]??1);if(b[j(257)](te,0)){const ue=((L.scale??1)-(K[j(313)]??1))/te;z=b.elfWb(Me,b[j(343)](L[j(313)]??1,ue),.3,3)}}const E=A(M),Y={id:Ot(b[j(359)]),name:b[j(220)],order:1,petalType:L?.[j(273)]??b.EYsRl,petalCount:G,radius:E,scale:z,widthScale:b.AwHaA(ui,G),offsetAngle:L?.[j(355)]??0,colorId:L?.colorId??u[j(365)]?.[0]?.id??"col_green",visible:!0,locked:!1};L&&(Y[j(355)]=b[j(305)](Pn,L.petalCount,L[j(355)]??0,G)),i(K=>{const te=j,ue=K.flowers.find(ze=>ze.id===v);if(!ue)return;ue[te(281)][te(314)](ze=>ze.order+=1),ue[te(281)][te(246)](Y);const fe=Math[te(237)](n0(Y.radius,Y[te(313)],ue.fabricSquareSize??K[te(207)])),oe=ue.fabricSquareSize??K.fabricSquareSize,ve=D.UqwWw(ue.placementMode,"")?D[te(297)](a0,oe,ue.layers[te(372)],te(341),0):Xl(ue[te(285)]??K.baseDiameter,oe,{layerCount:ue.layers[te(372)]})[te(350)];ue.flowerDiameter=Math.max(ue.flowerDiameter||ve,fe);const Ce=[...ue[te(281)]].sort((ze,Je)=>ze[te(241)]-Je.order),he=Ce.reverse();for(let ze=1;ze<he.length;ze++){const Je=he[D.eXsuL(ze,1)],Ke=he[ze];Ke[te(355)]=Pn(Je[te(330)],Je.offsetAngle,Ke.petalCount)}},!0),r({kind:b[j(275)],flowerId:v,layerId:Y.id}),o(K=>({...K,[v]:!0}))}else{D.XNxMo(_0x3d2732,M=>{const S=j;M.stencils=(M[S(369)]??[])[S(373)](L=>L.id!==_0x30d162.stencilId)},!0),_0x1a0d03({kind:D[j(322)]});return}},O=v=>{const j=N;if(b[j(291)]("CmzMw",b.VyDnf)){const D=u[j(240)].find(L=>L.id===v);if(!D||!D[j(281)]||b.gRDwC(D.layers[j(372)],0))return;if(b[j(358)](D.layers[j(372)],1))if(b[j(274)]!==b.DXidB){_0x4eb9f5(_0x27edf2);return}else{C(v);return}const M=[...D.layers][j(342)]((L,G)=>L[j(241)]-G[j(241)]),S=M[0];if(!S)return;i(L=>{const G=j,Z=L[G(240)][G(327)](E=>E.id===v);if(!Z)return;Z.layers=Z[G(281)][G(373)](E=>E.id!==S.id),Z.layers[G(336)]()[G(342)]((E,Y)=>E.order-Y[G(241)])[G(314)]((E,Y)=>E.order=Y+1);const R=[...Z[G(281)]].sort((E,Y)=>E.order-Y.order),z=Z.fabricSquareSize??L[G(207)];if(R.length>0){dx(R,z);for(const K of R){const te=Z[G(281)][G(327)](ue=>ue.id===K.id);te&&(te[G(233)]=K.radius)}const E=R[0];Z[G(279)]=Math.round(b[G(305)](n0,E.radius,E.scale??1,z));const Y=[...R].reverse();for(let K=1;b[G(320)](K,Y.length);K++){const te=Y[K-1],ue=Y[K];ue.offsetAngle=b.elfWb(Pn,te[G(330)],te[G(355)],ue[G(330)])}}},!0),a.kind===j(317)&&a.layerId===S.id?b.DWJCR(j(353),j(353))?r({kind:b.Jepmz,flowerId:v}):_0x348369({kind:b[j(259)],flowerId:_0xfe2eac}):b[j(312)](a.kind,j(261))&&a.layerId===S.id&&b.GDisc(r,{kind:b.Jepmz,flowerId:v})}else _0x574a43=_0x2eb63f/3},k=()=>{const v=N,j={mkQre:function(D,M,S,L,G){return b[St(229)](D,M,S,L,G)},KWzuE:"uniform",Irgaa:v(339),sGWii:function(D,M){return D<M},ZGwWi:function(D,M){return D!==M},THMuI:b.lcjEK,ubuCS:v(296),pKFjN:function(D,M){return b.dxTYq(D,M)},xvsjM:function(D,M,S,L){return b.UisDP(D,M,S,L)}};if(!b.huuIy(a[v(290)],b.LTtLi)){if(b[v(325)](a.kind,b[v(304)])){b.BgAUD(_,a[v(211)]);return}if(a[v(290)]===b[v(213)]){g(a[v(276)]);return}if(a[v(290)]===b[v(238)]){const D=a.leafIds;b[v(307)](i,M=>{const S=v;if(M[S(288)]=(M.leaves??[]).filter(L=>!D.includes(L.id)),M[S(324)])if(b[S(208)]!==S(356))_0x29ad8b[S(318)]=_0x3edc09[S(318)][S(373)](L=>!_0x263520[S(249)](L));else{for(const L of M[S(324)])L.leafIds=L[S(318)].filter(G=>!D.includes(G));M.leafGroups=M.leafGroups[S(373)](L=>L.leafIds[S(372)]>0)}},!0),b.GDisc(r,{kind:v(272)});return}if(b[v(282)](a.kind,v(240))){const D=a[v(344)];i(M=>{const S=v;if(M[S(240)]=M[S(240)].filter(L=>!D[S(249)](L.id)),M.groups){for(const L of M[S(363)])L.flowerIds=L.flowerIds[S(373)](G=>!D[S(249)](G));M[S(363)]=M.groups[S(373)](L=>L.flowerIds.length>0)}},!0),b.JXUym(r,{kind:v(272)});return}if(b[v(349)](a[v(290)],"group")){i(D=>{const M=v;if(b.WNvtD(b[M(323)],"AcwZD")){if(!D[M(363)])return;D[M(363)]=D.groups.filter(S=>S.id!==a.groupId)}else _0x45075b.offsetAngle=_0x4f32b4(_0x5433ea.petalCount,_0x5e36ee.offsetAngle??0,_0x248935)},!0),r({kind:b[v(262)]});return}if(b[v(325)](a[v(290)],b[v(234)])){i(D=>{const M=v;D[M(369)]=(D[M(369)]??[])[M(373)](S=>S.id!==a.stencilId)},!0),r({kind:v(272)});return}if(b[v(325)](a[v(290)],b[v(267)])){b.ORKQQ(r,{kind:v(216),flowerId:a[v(215)]});return}if(a.kind===v(216)){b.wamfW(i,D=>{const M=v;if(b.XwTGQ(b[M(251)],"nepYZ")){if(_0xba255d.leaves=(_0x2085f3.leaves??[])[M(373)](S=>!_0x37ff1f[M(249)](S.id)),_0x5cd0e9[M(324)]){for(const S of _0x2efdf1[M(324)])S.leafIds=S.leafIds.filter(L=>!_0x470c67[M(249)](L));_0x555676.leafGroups=_0x470d14[M(324)][M(373)](S=>S.leafIds.length>0)}}else if(D[M(240)]=D[M(240)][M(373)](S=>S.id!==a.flowerId),D[M(363)]){for(const S of D.groups)S.flowerIds=S[M(344)].filter(L=>L!==a.flowerId);D.groups=D[M(363)][M(373)](S=>S.flowerIds[M(372)]>0)}},!0),r({kind:b[v(262)]});return}if(a[v(290)]===v(317)||b.FlWcj(a.kind,v(261))){const D=u[v(240)][v(327)](S=>S.id===a[v(215)]),M=D?[...D.layers][v(342)]((S,L)=>S[v(241)]-L[v(241)])[0]?.id===a.layerId:!1;i(S=>{const L=v,G=S[L(240)][L(327)](Z=>Z.id===a.flowerId);if(G&&(G[L(281)]=G[L(281)][L(373)](Z=>Z.id!==a.layerId),G[L(281)][L(336)]().sort((Z,R)=>Z[L(241)]-R.order)[L(314)]((Z,R)=>Z.order=R+1),G.layers[L(372)]>0)){const Z=[...G.layers][L(342)]((E,Y)=>E[L(241)]-Y.order),R=G[L(207)]??S.fabricSquareSize;dx(Z,R);for(const E of Z){const Y=G.layers.find(K=>K.id===E.id);Y&&(Y.radius=E[L(233)])}if(M){const E=Z[0];G.flowerDiameter=Math[L(237)](n0(E.radius,E.scale??1,R))}else if(j.Irgaa!=="gEXlP"){const E=_0x47f6a1.placementMode===""?j.mkQre(_0x1eb7c8,_0x59a560,_0x475808.layers.length,j[L(226)],0):_0x3cffdc(_0x332a5d.baseDiameter??_0x365c63[L(285)],_0x79282f,{layerCount:_0x3045c.layers[L(372)]})[L(350)];_0x39c489(_0x1ee2c2,_0x135977,_0x34df24[L(279)]||E);for(const Y of _0x16f68e){const K=_0x478474[L(281)].find(te=>te.id===Y.id);K&&(K[L(233)]=Y[L(233)],K.scale=Y.scale)}}else{const E=G[L(328)]===""?a0(R,G.layers[L(372)],L(341),0):Xl(G[L(285)]??S.baseDiameter,R,{layerCount:G[L(281)].length}).diameter;Xr(Z,R,G[L(279)]||E);for(const Y of Z){const K=G[L(281)][L(327)](te=>te.id===Y.id);K&&(L(248)!=="yyeac"?_0x31db87.flowerIds.includes(_0x22651d)||_0x588730[L(344)][L(286)](_0x3f2f15):(K[L(233)]=Y[L(233)],K[L(313)]=Y[L(313)]))}}const z=[...Z][L(337)]();for(let E=1;j.sGWii(E,z.length);E++)if(j[L(256)](j[L(225)],j.ubuCS)){const Y=z[j.pKFjN(E,1)],K=z[E];K[L(355)]=j[L(271)](Pn,Y.petalCount,Y[L(355)],K.petalCount)}else _0x1c65dd[L(369)]=(_0x5e3b1b[L(369)]??[]).filter(Y=>Y.id!==_0x572d1c)}},!0),r({kind:v(216),flowerId:a.flowerId})}}},I=F.useCallback(v=>{const j=N,D={ghJLg:function(S,L){return S/L},Bzadr:function(S,L){return S*L},UfCIE:function(S,L){return S+L},Chsga:function(S,L){return b[St(343)](S,L)},xtvVq:function(S,L){return b.kRoLR(S,L)},nxaEO:"side",TJrBT:function(S,L,G,Z){return S(L,G,Z)}},M=Ot(b.nkdtA);b[j(239)](i,S=>{const L=j,G={YwRzi:function(z,E){return D.ghJLg(z,E)},GvZtN:function(z,E){return D.Bzadr(z,E)},wofdZ:function(z,E){return D.UfCIE(z,E)},SQfHK:function(z,E){return D.Chsga(z,E)},cwnOP:function(z,E){return D.xtvVq(z,E)},XWnTc:D[L(263)],TAtoV:function(z,E,Y,K){return D.TJrBT(z,E,Y,K)},MpLRd:function(z,E){return z-E},RTXlR:function(z,E){return z(E)},TaGda:"stencil",SgHIP:L(221)};S.groups||(S.groups=[]);const Z=S.groups.map(z=>{const E=L;if(G[E(309)]===G[E(309)]){const Y=z[E(346)].match(/^ (\d+)$/);return Y?parseInt(Y[1],10):0}else{const Y=_0x45ecc1.w/_0x290bec.h,K=G[E(269)](520,_0x224bc1),te=G.GvZtN(K,Y),ue=-_0x134b41.x/_0x372c6a,fe=G.YwRzi(-_0x4637d6.y,_0x4cbc50),oe=G.wofdZ(ue,te/2),ve=G.SQfHK(fe,K/2),Ce=G.cwnOP(_0x34fe22,E(345))?E(345):G.XWnTc,he=_0x2e1308[_0x2db419][Ce][E(254)]*_0x55a29f,ze=_0x5826d6(oe,0,_0x254c65),Je=G.TAtoV(_0x25e38d,G.MpLRd(ve,he/2),0,_0x188635),Ke={id:_0x1762ad("stl"),variant:_0x45050a,pose:_0x33a021,position:{x:ze,y:Je}};_0x32b089(He=>{const ut=E;He[ut(369)]||(He[ut(369)]=[]),He[ut(369)][ut(286)](Ke)},!0),G.RTXlR(_0x542d74,{kind:G.TaGda,stencilId:Ke.id})}}),R=Z.length>0?Math.max(...Z)+1:1;S[L(363)][L(286)]({id:M,name:" "+R,flowerIds:[...v]})},!0),b[j(340)](r,{kind:j(302),groupId:M}),f(S=>({...S,[M]:!0}))},[i,r,f]),U=b.omBwl(F.useCallback,v=>{const j=N;i(D=>{const M=St;D[M(363)]&&(D[M(363)]=D[M(363)][M(373)](S=>S.id!==v))},!0),b[j(366)](r,{kind:b[j(262)]})},[i,r]),Q=b[N(307)](F.useCallback,(v,j)=>{const D=N,M={IujhI:function(S,L){return b[St(223)](S,L)},BZiHA:"QeVzi",AdTea:function(S,L){return b.guLRG(S,L)}};b.XRDls===b.XRDls?(i(S=>{const L=St,G=(S[L(363)]??[])[L(327)](Z=>Z.id===v);if(G)for(const Z of j)if(M.IujhI("NhjKP",M[L(335)])){uAEzbV.GzdmD(_0x115b2f,_0x52202a);return}else G[L(344)].includes(Z)||G.flowerIds[L(286)](Z)},!0),b[D(217)](r,{kind:"group",groupId:v})):M.AdTea(_0x1e1443,{kind:"flowers",flowerIds:[_0x26d374]})},[i,r]),B=F.useCallback((v,j)=>{const D=N;if(b.DHSCj==="iqKzd")b[D(235)](_0x525a01,{kind:D(240),flowerIds:[..._0x2c0f2d,_0x1d227e]});else{const M=v[0],S=v.slice(1);b.wamfW(i,L=>{const G=D;if(!L[G(363)])return;const Z=L.groups[G(327)](R=>R.id===M);if(Z){for(const R of S){const z=L.groups[G(327)](E=>E.id===R);if(z)for(const E of z.flowerIds)Z[G(344)][G(249)](E)||Z.flowerIds.push(E)}for(const R of j)Z.flowerIds.includes(R)||Z.flowerIds.push(R);L[G(363)]=L.groups.filter(R=>!S[G(249)](R.id))}},!0),r({kind:b[D(227)],groupId:M}),f(L=>({...L,[M]:!0}))}},[i,r,f]),X=(v,j)=>{const D=N,M=m.w/m.h,S=b[D(260)](520,h),L=S*M,G=-y.x/h,Z=-y.y/h,R=b.KAMoz(G,L/2),z=b.KAMoz(Z,S/2),E=b.KmIWp(j,b[D(287)])?b[D(287)]:b.WkjfX,Y=Qd[v][E][D(254)]*rn,K=Me(R,0,d),te=Me(z-b.ndXne(Y,2),0,d),ue={id:b[D(206)](Ot,"stl"),variant:v,pose:j,position:{x:K,y:te}};i(fe=>{const oe=D;fe[oe(369)]||(fe.stencils=[]),fe[oe(369)][oe(286)](ue)},!0),r({kind:b.AgjbT,stencilId:ue.id})},le=v=>{const j=N;i(D=>{const M=St;D[M(369)]=(D[M(369)]??[])[M(373)](S=>S.id!==v)},!0),b[j(253)](a[j(290)],j(284))&&a.stencilId===v&&b[j(340)](r,{kind:b.LTtLi})},V=F.useCallback(v=>{const j=N;if(a.kind===j(240)){const D=a.flowerIds;if(D.includes(v)){const M=D.filter(S=>S!==v);b.gRDwC(M[j(372)],0)?b.EYOwL(r,{kind:b[j(262)]}):M[j(372)]===1?b[j(230)](r,{kind:"flower",flowerId:M[0]}):b[j(361)](r,{kind:b.RPwUz,flowerIds:M})}else r({kind:b.RPwUz,flowerIds:[...D,v]})}else if(a[j(290)]===b.Jepmz){if(b[j(357)]!=="IzYiO")return _0x3c3d05.toString().search(psXjrM[j(295)]).toString()[j(209)](_0x5c69ce).search(j(245));if(b[j(270)](a[j(215)],v))return;r({kind:j(240),flowerIds:[a[j(215)],v]})}else if(b.hSOHT(a.kind,b.HHRAL)){const D=(u.groups??[]).find(S=>S.id===a.groupId),M=D?D[j(344)]:[];if(M.includes(v))return;r({kind:j(240),flowerIds:[...M,v]})}else r({kind:b[j(242)],flowerIds:[v]})},[a,r,u[N(363)]]);return{deleteFlowerById:C,deleteLayerById:w,computeNewOuterRadius:A,addOuterLayer:q,deleteOuterLayer:O,deleteSelected:k,groupSelectedFlowers:I,ungroupFlowers:U,addToGroup:Q,mergeGroups:B,addStencil:X,deleteStencil:le,handleShiftFlowerSelect:V,togglePetalSelection:(v,j,D,M)=>{const S=N;if(!M){if(S(334)===b.HFbxX){b.ZwnfR(r,{kind:b.XeRBN,flowerId:v,layerId:j,index:D});return}else if(_0x1b89f9.flowers=_0x1dc0ac.flowers.filter(G=>!_0x5f316c.includes(G.id)),_0xebec6a.groups){for(const G of _0x31ac50[S(363)])G[S(344)]=G[S(344)][S(373)](Z=>!_0x249fef.includes(Z));_0x2b18bd[S(363)]=_0x34d457[S(363)][S(373)](G=>G[S(344)].length>0)}}const L=j+":"+D;if(a[S(290)]===b.RBtPg&&a[S(215)]===v){const G=a[S(316)]||[];if(G[S(247)](R=>R.layerId+":"+R[S(347)]===L)){const R=G[S(373)](z=>z[S(255)]+":"+z[S(347)]!==L);if(b[S(319)](R[S(372)],0))b[S(319)](S(311),b.vdeUH)?_0x115d61[S(344)].includes(_0x5dc126)||_0x2b405f.flowerIds.push(_0x52e1b7):b.ihAHD(r,{kind:S(216),flowerId:v});else if(b[S(338)](R.length,1))if(b[S(306)]("RtGSF",S(326)))r({kind:b.XeRBN,flowerId:v,layerId:R[0][S(255)],index:R[0].index});else{const E=tAwGPa.ghuff(70*_0x41928b.PI,180),Y=tAwGPa[S(367)](_0x389155[S(372)],1),K=Y-1,te=Y>1?K/(Y-1)*E:0;_0x25ced4=_0x48fe02*tAwGPa[S(277)](30,100)*_0x163196.cos(te)}else r({kind:b[S(267)],flowerId:v,petals:R})}else b.KaLXI(r,{kind:S(316),flowerId:v,petals:[...G,{layerId:j,index:D}]})}else if(a[S(290)]===S(261)&&a[S(215)]===v){const G={layerId:a[S(255)],index:a.index},Z={layerId:j,index:D};if(b.eTOYQ(G.layerId+":"+G.index,L))return;r({kind:b[S(267)],flowerId:v,petals:[G,Z]})}else r({kind:S(316),flowerId:v,petals:[{layerId:j,index:D}]})}}}(function(u,i){const a=an,r=u();for(;;)try{if(-parseInt(a(180))/1*(-parseInt(a(158))/2)+parseInt(a(187))/3*(-parseInt(a(147))/4)+parseInt(a(178))/5+-parseInt(a(183))/6*(-parseInt(a(177))/7)+parseInt(a(140))/8*(parseInt(a(142))/9)+-parseInt(a(189))/10+parseInt(a(174))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Hr,507846);function Hr(){const u=["mtzgqvzYAwO","rNbjwNi","mti1mti0m2DPA09ltG","C3Hqs0e","wNb1zNG","rvbYrvC","wuHpCNO","ndq2ndHruMHgy0m","6jgj44kW44oR44o844oxia","Aw5JBhvKzxm","5yMJ44gK44g+44g/","ugHwCxy","ywjZ","v3LSruq","sLLPqvm","rwvwv3K","tLHxzhG","zNvPBee","mLPKwffKAG","BgvHDMvZ","BgvHzKLKCW","ChjVAMvJDa","Cg9ZAxrPB24","BgvUz3rO","D3bXwKq","yxbWBhK","ChvZAa","mNWWFdr8mxWZ","whDcDuG","EwzcExe","BgvHzKDYB3vW","BgvHzKDYB3vWCW","t1rtwhm","zuLXu20","odq3nZyYm0LjrfDRAq","AvPwswC","BgvHzKLK","mZG5mZq3zvzjD1n3","mta2mZa1mevOBu9YDq","zMLSDgvY","mJC5mtm3Ae5bu2vp","y29Sx2DYzwvU","A2LUza","mtjfueLmyM4","u2XAzfK","vLvit2i","tgvHzIa","mZzotLzbvvK","CgfSzxr0zq","mtaWotK0nJbnB1r5v3K","zMLUza","De9ICuG"];return Hr=function(){return u},Hr()}const lb=(function(){const u=an,i={SlZdY:u(144),YMuyL:"aQoNt",BTZiB:"leafGroup"};let a=!0;return function(r,o){const f={NHBdA:function(y,m){return y(m)},XwBuH:function(y,m){return y+m},uciVv:i.BTZiB},h=a?function(){const y=an;if(y(144)!==i[y(184)]){const m=f.NHBdA(_0x29e886,"lg"),d=y(148)+f[y(168)]((_0x1f47ba[y(171)]??[]).length,1);_0x5c5212(_=>{const g=y;_[g(171)]||(_[g(171)]=[]),_.leafGroups[g(166)]({id:m,name:d,leafIds:[..._0xa42f53],rotation:0})},!0),_0x45254a({kind:f.uciVv,leafGroupId:m})}else if(o){const m=o[y(165)](r,arguments);return o=null,m}}:function(){};return a=!1,h}})(),Lx=lb(void 0,function(){return Lx.toString().search("(((.+)+)+)+$").toString().constructor(Lx).search("(((.+)+)+)+$")});Lx();function an(u,i){u=u-140;const a=Hr();let r=a[u];if(an.gevFCn===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};an.NAVkvB=o,an.aGoghY={},an.gevFCn=!0}const f=a[0],h=u+f,y=an.aGoghY[h];if(y)r=y;else{const m=function(d){this.WIzYYd=d,this.bzLYtQ=[1,0,0],this.HnbDgX=function(){return"newState"},this.DaxxUC="\\w+ *\\(\\) *{\\w+ *",this.VMrcHu=`['|"].+['|"];? *}`};m.prototype.fXxwCU=function(){const d=new RegExp(this.DaxxUC+this.VMrcHu),_=d.test(this.HnbDgX.toString())?--this.bzLYtQ[1]:--this.bzLYtQ[0];return this.bRmEkR(_)},m.prototype.bRmEkR=function(d){return~d?this.zIjaGU(this.WIzYYd):d},m.prototype.zIjaGU=function(d){for(let _=0,g=this.bzLYtQ.length;_<g;_++)this.bzLYtQ.push(Math.round(Math.random())),g=this.bzLYtQ.length;return d(this.bzLYtQ[0])},new m(an).fXxwCU(),r=an.NAVkvB(r),an.aGoghY[h]=r}return r}function ab({project:u,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:h,CANVAS_MAX_SVG:y}){const m=an,d={tObqH:function(q,O){return q/O},BZqyI:function(q,O){return q*O},McuDm:function(q,O){return q/O},JYiAS:function(q,O,k,I){return q(O,k,I)},EPrEW:function(q,O){return q(O)},OTSXs:m(150),sxPKA:m(181),VUHOb:m(146),rqFWP:function(q,O,k){return q(O,k)},NXWdx:function(q,O){return q===O},iZVIg:"leaves",WylED:function(q,O){return q===O},EJdIo:"fuilA",wpqZD:"eBeMW",KBqyA:m(170),yfByq:function(q,O){return q(O)},FiyVb:"project",FpIZr:function(q,O){return q!==O},kHyEK:function(q,O,k){return q(O,k)}},_=()=>{const q=m,O=d[q(191)](h.w,h.h),k=520/o,I=d.BZqyI(k,O),U=-f.x/o,Q=d[q(191)](-f.y,o);let B=U+d.McuDm(I,2),X=Q+k/2,le=0;for(;le<50&&(u[q(159)]??[]).some(W=>Math.abs(W.position.x-B)<5&&Math[q(152)](W[q(162)].y-X)<5);){const W=q(167).split("|");let v=0;for(;;){switch(W[v++]){case"0":X+=25;continue;case"1":X=d[q(154)](Me,X,0,y);continue;case"2":B+=25;continue;case"3":le++;continue;case"4":B=Me(B,0,y);continue}break}}const V={id:d[q(145)](Ot,"leaf"),name:q(186)+((u.leaves??[])[q(163)]+1),position:{x:B,y:X},rotation:135,petalType:d[q(172)],colorId:u[q(188)]?.find(W=>W.id===q(181)||W.id==="col_darkgreen")?.id??u[q(188)]?.[0]?.id??d[q(143)],scale:1,widthScale:1,visible:!0,locked:!1};i(W=>{const v=q;W[v(159)]||(W[v(159)]=[]),W.leaves.push(V)},!0),r({kind:"leaf",leafId:V.id})},g=q=>{const O=m,k={PMCXD:"NqQAw",EeVWy:d[O(185)]};d.rqFWP(i,I=>{const U=O;if(I[U(159)]=(I[U(159)]??[]).filter(Q=>Q.id!==q),I.leafGroups){for(const Q of I.leafGroups)if(k.PMCXD!==k[U(155)])Q.leafIds=Q[U(160)].filter(B=>B!==q);else if(_0x3c94af[U(159)]=(_0x318a37[U(159)]??[]).filter(B=>B.id!==_0x13978c),_0x53a8fe.leafGroups){for(const B of _0x380a00.leafGroups)B[U(160)]=B.leafIds.filter(X=>X!==_0x250ecd);_0x167ccf.leafGroups=_0x33931c[U(171)][U(179)](B=>B[U(160)].length>0)}I[U(171)]=I[U(171)].filter(Q=>Q.leafIds[U(163)]>0)}},!0),d[O(145)](r,{kind:O(161)})},N=F.useCallback(q=>{const O=m,k={jmDUX:function(I,U,Q){return I(U,Q)}};if(d[O(156)](a[O(182)],d[O(175)])){const I=a[O(160)];if(I[O(149)](q)){const U=I.filter(Q=>Q!==q);d[O(153)](U[O(163)],0)?r({kind:O(161)}):U.length===1?r({kind:"leaf",leafId:U[0]}):d.EJdIo===O(157)?r({kind:"leaves",leafIds:U}):k.jmDUX(_0x126ce3,Q=>{const B=O,X=(Q[B(171)]??[]).find(le=>le.id===_0x47c090);X&&!X.leafIds[B(149)](_0x19b762)&&X[B(160)][B(166)](_0x491195)},!0)}else r({kind:O(159),leafIds:[...I,q]})}else if(a[O(182)]==="leaf"){if(a.leafId===q)return;d.EPrEW(r,{kind:"leaves",leafIds:[a[O(176)],q]})}else d[O(145)](r,{kind:"leaves",leafIds:[q]})},[a,r]),b=F.useCallback(q=>{const O=m;if(d[O(164)]===d[O(164)]){const k=Ot("lg"),I=O(148)+((u[O(171)]??[]).length+1);i(U=>{U.leafGroups||(U.leafGroups=[]),U.leafGroups.push({id:k,name:I,leafIds:[...q],rotation:0})},!0),r({kind:d.KBqyA,leafGroupId:k})}else _0x2e9662+=25,_0x234c12+=25,_0x32e38c=unibAH[O(151)](_0x1190b4,_0x22ef69,0,_0x3b7ead),_0x2bf2eb=_0x3b25df(_0x2807bf,0,_0x1f2e6e),_0x773da8++},[u[m(171)],i,r]),A=d.rqFWP(F.useCallback,q=>{const O=m;i(k=>{const I=an;k.leafGroups&&(k[I(171)]=k.leafGroups[I(179)](U=>U.id!==q))},!0),d[O(169)](r,{kind:d.FiyVb})},[i,r]),C=d.kHyEK(F.useCallback,(q,O)=>{i(k=>{const I=an,U=(k[I(171)]??[])[I(190)](Q=>Q.id===O);U&&!U[I(160)].includes(q)&&U[I(160)][I(166)](q)},!0)},[i]),w=F.useCallback(q=>{const O=m;d[O(141)](O(173),O(173))?_0x26b74a[O(160)]=_0x465fe3[O(160)][O(179)](k=>k!==_0x316e09):d.rqFWP(i,k=>{const I=O;if(k.leafGroups){for(const U of k[I(171)])U.leafIds=U[I(160)][I(179)](Q=>Q!==q);k.leafGroups=k.leafGroups.filter(U=>U[I(160)].length>0)}},!0)},[i]);return{addLeaf:_,deleteLeafById:g,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:A,addLeafToGroup:C,removeLeafFromGroup:w}}function Ur(){const u=["yvLUB2W","CMv2zxjZzq","BvPOtLe","zMLUza","D0PnrMW","mtaWmdHsDML4vuK","uxPUB0S","nti0B01Tv0fb","nduXnteYnu1Rr0LOtW","tgf5zxiG","CLvSq1e","ndb3vKnouNq","C2L6zu1Vzgu","Cg9ZAxrPB24","CgfSzxr0zq","z3rfzMe","t1zKzhe","u1fPzwm","ANj0yNG","wKLnB04","mhWXFdn8mNW0","tePQu0W","CMfKAxvZ","C2nHBgu","ywzhBg8","CgXHy2vTzw50tw9Kzq","zMX3","Dw5PzM9YBq","5lI444gK44g+44g/","rhHREhi","y1n3sgO","ufjNEfq","t0zcsvu","ywjZ","mJKZnduYzhzTyMPg","wMnpv2q","u0L1tKq","y29Sx3DOAxrL","txnSvey","mZKYodKWnffXuwXrCG","mJaXntuWmeP6CxfbtG","Bu1Isg4","s0njveO","zMXVD2vYrgLHBwv0zxi","y29Z","tMPVwgG","5y2k44gp44gz","DLvwwfe","mZeWoteZmxb1EenQvG","C3bSAxq","zMXVD2vYCW","z3jHzhvHBa","Dg9tDhjPBMC","Chrgsxi","t3v0zxi","CM91BMq","oeLyDgT2Ba","AwjxBKK","44or44o844oR","mJuXnJKWnfP6D2PJEG","zMfICMLJu3f1yxjLu2L6zq","C2vHCMnO","B3jKzxi","twLKzgXL","y29SB3jjza","EuLwEe4","Bgf5zxjdB3vUDa","zgLHBwv0zxi","yvfjDeu","C1j6wMi","yxbWBhK","C2L6zvn0zxbnBq"];return Ur=function(){return u},Ur()}(function(u,i){const a=gn,r=u();for(;;)try{if(-parseInt(a(431))/1+-parseInt(a(404))/2*(-parseInt(a(402))/3)+parseInt(a(437))/4+parseInt(a(405))/5+parseInt(a(384))/6+-parseInt(a(436))/7*(parseInt(a(381))/8)+parseInt(a(373))/9*(-parseInt(a(408))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Ur,463856);const ib=(function(){const u=gn,i={ptFIr:"REuqp",ibWnI:u(435)};let a=!0;return function(r,o){const f=u;if(i[f(378)]===i[f(382)])_0x36f146[f(368)]=_0x297705(_0x1499b7,_0x248887[f(391)],_0x52667b.sizeMode,_0x4909c8.sizeStepMm);else{const h=a?function(){const y=f;if(o){const m=o[y(395)](r,arguments);return o=null,m}}:function(){};return a=!1,h}}})(),Tx=ib(void 0,function(){const u=gn,i={Jbvgt:"(((.+)+)+)+$"};return Tx[u(377)]()[u(386)](i.Jbvgt).toString().constructor(Tx)[u(386)](i.Jbvgt)});Tx();function gn(u,i){u=u-366;const a=Ur();let r=a[u];if(gn.OWJvVV===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};gn.HdShqy=o,gn.CoWsBS={},gn.OWJvVV=!0}const f=a[0],h=u+f,y=gn.CoWsBS[h];if(y)r=y;else{const m=function(d){this.GOXtdE=d,this.OYIkIV=[1,0,0],this.CYpesE=function(){return"newState"},this.gdlFLl="\\w+ *\\(\\) *{\\w+ *",this.amrDmG=`['|"].+['|"];? *}`};m.prototype.XyVMkV=function(){const d=new RegExp(this.gdlFLl+this.amrDmG),_=d.test(this.CYpesE.toString())?--this.OYIkIV[1]:--this.OYIkIV[0];return this.CdsqbS(_)},m.prototype.CdsqbS=function(d){return~d?this.azypCV(this.GOXtdE):d},m.prototype.azypCV=function(d){for(let _=0,g=this.OYIkIV.length;_<g;_++)this.OYIkIV.push(Math.round(Math.random())),g=this.OYIkIV.length;return d(this.OYIkIV[0])},new m(gn).XyVMkV(),r=gn.HdShqy(r),gn.CoWsBS[h]=r}return r}function rb({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:h,CANVAS_MAX_SVG:y}){const m=gn,d={aQItE:function(w,q){return w===q},OVddq:function(w,q,O,k){return w(q,O,k)},fGpbu:"gradual",sRzZb:function(w,q){return w+q},SIuND:function(w,q){return w/q},SQiec:function(w,q){return w-q},LJjSL:function(w,q){return w*q},wJMFl:function(w,q){return w/q},afGlo:function(w,q){return w*q},NjoXh:"Center",ytwQl:m(388),OXqlZ:m(379),ORqGD:"Outer+",OFBIU:function(w,q){return w*q},aYnol:function(w,q,O,k){return w(q,O,k)},vUVXQ:"",mZhNQ:function(w,q){return w*q},xVnXe:function(w,q){return w+q},Dxkxr:function(w,q){return w<=q},tlDQM:m(367),QznoK:function(w,q){return w===q},ZIMoN:function(w,q){return w+q},HHrPM:"lay",TQVBd:function(w,q,O,k){return w(q,O,k)},rUlCQ:function(w,q){return w/q},PPgcX:function(w,q){return w/q},PRgxT:function(w,q){return w/q},cSwHj:function(w,q){return w+q},BvuNt:function(w,q){return w<q},ZcOWd:m(423),bpqlE:m(383),jrtbx:function(w,q){return w(q)},caotB:function(w,q,O){return w(q,O)},mMbHn:m(425),gtEfa:"uniform"},[_,g]=F.useState(!1),[N,b]=d.jrtbx(F.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u.baseDiameter,layerCount:1,petalCount:6,petalType:d[m(366)],sizeMode:d[m(412)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:g,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const w=u.fabricSquareSize,q=u.baseDiameter;b(O=>{const k=gn,I={...O,fabricSquareSize:w,baseDiameter:q};return d[k(393)](I[k(422)],k(371))?I[k(368)]=d.OVddq(Xl,q,w,{layerCount:I.layerCount,sizeMode:I[k(409)],sizeStepMm:I.sizeStepMm})[k(392)]:I.flowerDiameter=a0(w,I[k(391)],I[k(409)],I[k(396)]),I}),g(!0)},confirmAddFlower:()=>{const w=m,{placementMode:q,layerCount:O,petalCount:k,petalType:I,sizeMode:U,sizeStepMm:Q}=N,B=N[w(385)],{length:X}=Yt(B),le=.28,V=Math[w(380)](d.afGlo(X,le)*10)/10,W=[],v=[d[w(370)],"Inner",d.ytwQl,d.OXqlZ,d.ORqGD];let j=V,D=0;for(let oe=0;oe<O;oe++){const ve=oe,Ce=1;let he;if(U===w(424))he=Ce;else{const He=Q/B;he=d.OVddq(Me,Ce+d[w(429)](ve,He),.3,3)}let ze;if(oe===0)ze=V;else{const He=d[w(393)](U,w(376))?d[w(397)](Me,d[w(394)](1,d[w(401)]((oe-1)*Q,B)),.3,3):1,ut=X*He;let bt;if(q===d[w(372)]){const ht=d.LJjSL(70,Math.PI)/180,Bt=O>1?d[w(429)](oe/(O-1),ht):0,Wt=Math[w(369)](Bt);bt=d[w(429)](d[w(399)](ut,30/100),Wt)}else bt=d[w(401)](ut,3);j=d.xVnXe(j,bt),ze=d[w(433)](Math.round(j*10),10)}const Je=oe===0?0:Pn(k,D,k);D=Je;let Ke;if(d[w(393)](O,1))Ke="Layer";else if(d[w(426)](O,5))if(w(390)!==d.tlDQM){const He=d[w(393)](O,2)?[0,3]:O===3?[0,1,3]:d[w(403)](O,4)?[0,1,2,3]:[0,1,2,3,4];Ke=v[He[oe]]??"Layer "+d[w(416)](oe,1)}else{const He=d[w(393)](_0xc5cf9e,d.fGpbu)?_0x8c0a65(d[w(394)](1,d.SIuND(d[w(414)](_0xe46bcc,1)*_0x368200,_0x5c70c3)),.3,3):1,ut=_0x51f67e*He;let bt;if(_0x5987af===w(371)){const ht=70*_0x1f7bcd.PI/180,Bt=_0x26aaa3>1?d[w(418)](_0x1a7cf7/(_0xcbd64d-1),ht):0,Wt=_0x2c3b22[w(369)](Bt);bt=d.LJjSL(d.LJjSL(ut,d.wJMFl(30,100)),Wt)}else bt=ut/3;_0x514e41=_0x33d1a3+bt,_0x592e5e=d.SIuND(_0x2274ee[w(380)](d[w(421)](_0x1de650,10)),10)}else Ke=w(406)+(oe+1);W.push({id:Ot(d.HHrPM),name:Ke,order:O-oe,petalType:I,petalCount:k,radius:ze,scale:he,widthScale:ui(k),offsetAngle:Je,colorId:N[w(389)]||(u[w(411)]?.[0]?.id??w(434)),visible:!0,locked:!1})}W[w(398)]();const M=[...W].sort((oe,ve)=>oe[w(387)]-ve.order),S=d[w(393)](q,"")?d.TQVBd(Xl,N.baseDiameter,B,{layerCount:O,sizeMode:U,sizeStepMm:Q})[w(392)]:a0(B,O,U,Q);d.OVddq(Xr,M,B,N.flowerDiameter||S);for(const oe of M){const ve=W[w(400)](Ce=>Ce.id===oe.id);ve&&(ve.radius=oe[w(419)],ve[w(420)]=oe[w(420)])}const L=d.rUlCQ(h.w,h.h),G=d.PPgcX(520,o),Z=G*L,R=-f.x/o,z=d[w(428)](-f.y,o);let E=d[w(427)](R,d.wJMFl(Z,2)),Y=z+d[w(407)](G,2);const K=25;let te=0;for(;d.BvuNt(te,50)&&u[w(375)].some(oe=>Math[w(430)](oe[w(410)].x-E)<5&&Math[w(430)](oe[w(410)].y-Y)<5);){const oe=w(417)[w(374)]("|");let ve=0;for(;;){switch(oe[ve++]){case"0":E+=K;continue;case"1":Y+=K;continue;case"2":Y=d[w(413)](Me,Y,0,y);continue;case"3":E=d.TQVBd(Me,E,0,y);continue;case"4":te++;continue}break}}const ue=N[w(368)]||S,fe={id:Ot(d[w(432)]),name:"Flower "+d.cSwHj(u.flowers.length,1),position:{x:E,y:Y},flowerDiameter:ue,rotation:0,layers:W,center:{type:d.bpqlE,size:6,color:"col_white"},fabricSquareSize:B,placementMode:q,baseDiameter:q===""?N.baseDiameter:d[w(415)](t0,ue)};d.caotB(i,oe=>{oe.flowers.push(fe)},!0),a({kind:"flower",flowerId:fe.id}),d.jrtbx(r,oe=>({...oe,[fe.id]:!0})),g(!1)}}}(function(u,i){const a=Rn,r=u();for(;;)try{if(parseInt(a(327))/1+-parseInt(a(344))/2*(parseInt(a(334))/3)+parseInt(a(365))/4*(-parseInt(a(355))/5)+-parseInt(a(322))/6+-parseInt(a(349))/7*(parseInt(a(337))/8)+-parseInt(a(329))/9+parseInt(a(325))/10*(parseInt(a(358))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Kr,359787);const ub=(function(){let u=!0;return function(i,a){const r=u?function(){const o=Rn;if(a){const f=a[o(356)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Ex=ub(void 0,function(){const u=Rn,i={TBEqD:u(370)};return Ex.toString()[u(371)](i[u(333)])[u(326)]().constructor(Ex).search(u(370))});Ex();function Rn(u,i){u=u-320;const a=Kr();let r=a[u];if(Rn.szFMPt===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",g="",N=_+o;for(let b=0,A,C,w=0;C=m.charAt(w++);~C&&(A=b%4?A*64+C:C,b++%4)?_+=N.charCodeAt(w+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=_.length;b<A;b++)g+="%"+("00"+_.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Rn.xCRHkz=o,Rn.rPUoiy={},Rn.szFMPt=!0}const f=a[0],h=u+f,y=Rn.rPUoiy[h];if(y)r=y;else{const m=function(d){this.uTYHDQ=d,this.GWtqOi=[1,0,0],this.blCIhP=function(){return"newState"},this.empHKr="\\w+ *\\(\\) *{\\w+ *",this.YopBud=`['|"].+['|"];? *}`};m.prototype.ghqiuZ=function(){const d=new RegExp(this.empHKr+this.YopBud),_=d.test(this.blCIhP.toString())?--this.GWtqOi[1]:--this.GWtqOi[0];return this.DzEIWF(_)},m.prototype.DzEIWF=function(d){return~d?this.YuHucl(this.uTYHDQ):d},m.prototype.YuHucl=function(d){for(let _=0,g=this.GWtqOi.length;_<g;_++)this.GWtqOi.push(Math.round(Math.random())),g=this.GWtqOi.length;return d(this.GWtqOi[0])},new m(Rn).ghqiuZ(),r=Rn.xCRHkz(r),Rn.rPUoiy[h]=r}return r}function Kr(){const u=["BgvHDMvZ","Bgf5zxjZ","nda2txjhy3fK","BgvHzKLK","C3rLBMnPBhm","Aw5KzxG","BgvHzKDYB3vWswq","ywvorfy","mJe1s1jVAvrN","yxbWBhK","whrVEM4","nJG2mtK3nKTQtMDLCa","Cgv0ywW","zMXVD2vYswq","Ahjlv1q","BgvHzKDYB3vW","BgvHzKLKCW","AgHhtgi","mJi4odryEw5tAMS","sKzSCNm","CLLIzfy","yKrAue8","zMXVD2vYCW","kcGOlISPkYKRksSK","C2vHCMnO","z3jVDxbjza","D0jYExC","CKDrD3C","BgvHzKDYB3vWCW","zMLSDgvY","tvD2wLG","ndK4mdy2vvPPENfe","Cgv0ywXZ","Aw5JBhvKzxm","mJbwqMTureG","Dg9tDhjPBMC","nJu5mdK1svnnCMLL","A3nrDNq","ndCXmdq1nLb4Cwf2ua","zMXVD2vYswrZ","Bgf5zxjjza","zezUExG","vejfCuq","odqXnduYDhH2q3fS","tfbNteK","v0rpALO","mtG0mJrcsMDlq1a","z3jVDxbZ","zMLUza","z3jVDxa","Bgf5zxi","vg1nDvK","Bw1oz0C","nfbRr1HgvG","zMXVD2vY","A2LUza"];return Kr=function(){return u},Kr()}function cb(u,i){const a=Rn,r={wBryw:function(C,w){return C===w},lNnzh:a(345),MWvZX:function(C,w){return C===w},ksQvt:a(359),rGQww:a(362),mmNgG:a(335),TmMuY:a(364),hrKWT:function(C,w,q){return C(w,q)},SdDEo:function(C,w){return C!==w},WDOjZ:"yuGTy",aeNDV:function(C,w){return C===w},eoukl:a(323),AabNy:function(C,w){return C===w},MVqDX:"dFnyx",WWwmv:function(C,w,q){return C(w,q)},BZTYF:function(C,w,q){return C(w,q)},BmnwD:function(C,w,q){return C(w,q)},bDZPO:function(C,w){return C===w},JFlrs:"stencil",CzUAS:"layer",SOZeW:function(C,w){return C===w},lWNis:function(C,w,q){return C(w,q)}},o=F.useMemo(()=>{const C=a;return r.wBryw(i[C(346)],r.lNnzh)||i.kind==="layer"||r[C(321)](i.kind,r.ksQvt)||i[C(346)]==="petals"?u.flowers.find(w=>w.id===i.flowerId)??null:null},[u.flowers,i]),f=r.BZTYF(F.useMemo,()=>{const C=a;if(i[C(346)]==="flowers")return u.flowers.filter(w=>i[C(330)].includes(w.id));if(i.kind==="group"){const w=(u.groups??[])[C(339)](q=>q.id===i[C(372)]);if(w)return u[C(369)][C(320)](q=>w.flowerIds[C(324)](q.id))}return[]},[u[a(369)],u[a(338)],i]),h=r.BmnwD(F.useMemo,()=>{const C=a;return r[C(373)](i[C(346)],"leaf")?(u[C(347)]??[]).find(w=>w.id===i[C(350)])??null:null},[u[a(347)],i]),y=r.WWwmv(F.useMemo,()=>{const C=a;if(i.kind===r[C(374)])if(r[C(343)]===r[C(342)]){const w=_0x1b2058(_0x1cbd94,_0xac1b04[C(350)]);if(w)return new _0x463e1d(w[C(363)].filter(q=>q!==_0x347d7c.leafId))}else return(u[C(375)]??[])[C(339)](w=>w.id===i[C(353)])??null;return null},[u[a(375)],i]),m=r.BmnwD(F.useMemo,()=>{const C=a;return o&&(i.kind===C(341)||i.kind===r[C(328)])?o[C(348)].find(w=>w.id===i[C(331)])??null:null},[o,i]),d=i[a(346)]===r.ksQvt?i[a(352)]:null,_=i[a(346)]===a(323)?i.petals:[],g=r[a(368)](i.kind,r[a(366)])?(u[a(351)]??[])[a(339)](C=>C.id===i.stencilId)??null:null,N=r.wBryw(i[a(346)],"flower")||i[a(346)]===r.CzUAS||i[a(346)]==="petal"||r.SOZeW(i[a(346)],"petals")?i[a(360)]:null,b=r.WWwmv(F.useMemo,()=>{const C=a;if(r.ksQvt,r.SdDEo("yuGTy",r[C(336)]))return new _0x46f116(_0x35d932[C(330)][C(320)](w=>w!==_0x2385a5[C(360)]));if(i[C(346)]===C(340))if(C(367)!=="FnAnp"){const w=(u[C(338)]??[]).find(q=>q.id===i.groupId);if(w)return new Set(w.flowerIds)}else{const w=r[C(361)](_0x2c1a17,_0x5b64dd,_0x3e5076.flowerId);if(w)return _0x2e039b.kind===r.lNnzh?new _0x203480(w.flowerIds[C(320)](q=>q!==_0x2a35a6[C(360)])):new _0x1861a4(w.flowerIds)}if(r[C(321)](i[C(346)],C(369)))return new Set(i.flowerIds);if(i.kind===C(345)||r[C(354)](i.kind,C(341))||i[C(346)]===C(359)||i.kind===r.eoukl){const w=r[C(361)](ba,u,i[C(360)]);if(w)return r.AabNy(i[C(346)],"flower")?C(332)===r.MVqDX?new Set(w[C(330)].filter(q=>q!==i[C(360)])):_0x13d61f&&(aNDmEP[C(357)](_0x55e966[C(346)],aNDmEP.TVMjH)||_0x3b9f1d.kind===aNDmEP.YXtQX)?_0x39a09f.layers[C(339)](q=>q.id===_0x43474e[C(331)])??null:null:new Set(w.flowerIds)}return new Set},[i,u]),A=r.lWNis(F.useMemo,()=>{const C=a;if(i[C(346)]===r.rGQww){const w=(u[C(375)]??[]).find(q=>q.id===i[C(353)]);if(w)return new Set(w.leafIds)}if(i.kind==="leaf"){const w=r.WWwmv(Zr,u,i[C(350)]);if(w)return new Set(w.leafIds[C(320)](q=>q!==i.leafId))}return new Set},[i,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:h,selectedLeafGroup:y,selectedLayer:m,selectedPetalIndex:d,selectedPetals:_,selectedStencil:g,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:A}}function xb(u){const{project:i,selection:a,setSelection:r,applyUpdate:o}=u,f=F.useMemo(()=>new Map((i.palette||[]).map(de=>[de.id,de])),[i.palette]),{widths:h,containerRef:y,onDividerPointerDown:m,onDividerDoubleClick:d,isDragging:_,isDesktop:g}=eb(),N=F.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,A]=F.useState({});F.useEffect(()=>{try{const pe=localStorage.getItem(N);if(pe){const Ze=JSON.parse(pe);if(Ze&&typeof Ze=="object"){A(Ze);return}}}catch{}const de=i.flowers?.[0];de&&A({[de.id]:!0})},[N]),F.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;A(pe=>pe?.[de]?pe:{...pe,[de]:!0})}a.kind==="flowers"&&A(de=>{const pe={...de};for(const Ze of a.flowerIds)pe[Ze]=!0;return pe})},[a]);const C=de=>b?.[de]??!1,w=de=>A(pe=>({...pe,[de]:!(pe?.[de]??!1)})),q=F.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[O,k]=F.useState({});F.useEffect(()=>{try{const pe=localStorage.getItem(q);if(pe){const Ze=JSON.parse(pe);if(Ze&&typeof Ze=="object"){k(Ze);return}}}catch{}const de=i.groups??[];if(de.length>0){const pe={};for(const Ze of de)pe[Ze.id]=!0;k(pe)}},[q]),F.useEffect(()=>{try{localStorage.setItem(q,JSON.stringify(O))}catch{}},[q,O]);const I=de=>O?.[de]??!0,U=de=>k(pe=>({...pe,[de]:!(pe?.[de]??!0)})),Q=F.useRef({flowerId:null,timer:null}),B=de=>{const pe=Q.current.timer;pe&&window.clearTimeout(pe),Q.current.flowerId=de,Q.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:de}),A(Ze=>({...Ze,[de]:!0})),Q.current.timer=null,Q.current.flowerId=null},200)},X=de=>{const pe=Q.current.timer;pe&&Q.current.flowerId===de&&window.clearTimeout(pe),Q.current.timer=null,Q.current.flowerId=null,r({kind:"flower",flowerId:de}),w(de)},le=F.useRef(null),[V,W]=F.useState({w:520,h:520});F.useEffect(()=>{const de=le.current;if(!de)return;const pe=new ResizeObserver(Ze=>{for(const Jt of Ze){const{width:Ct,height:un}=Jt.contentRect;Ct>0&&un>0&&W({w:Ct,h:un})}});return pe.observe(de),()=>pe.disconnect()},[]);const v=de=>{const pe=le.current;if(!pe)return{x:0,y:0};const Ze=pe.createSVGPoint();Ze.x=de.clientX,Ze.y=de.clientY;const Jt=pe.getScreenCTM();if(!Jt)return{x:0,y:0};const Ct=Ze.matrixTransform(Jt.inverse());return{x:Ct.x,y:Ct.y}},j=500*rn,D=-300*rn,M=800*rn,S=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,G]=F.useState(6),[Z,R]=F.useState(S[6]),z=F.useCallback(de=>{G(pe=>{const Ze=typeof de=="function"?de(pe):de;return R(S[Ze]),Ze})},[S]),E=F.useCallback(de=>{const pe=Me(de,S[0],S[S.length-1]);R(pe);let Ze=0,Jt=Math.abs(S[0]-pe);for(let Ct=1;Ct<S.length;Ct++){const un=Math.abs(S[Ct]-pe);un<Jt&&(Ze=Ct,Jt=un)}G(Ze)},[S]),[Y,K]=F.useState({x:0,y:0}),[te,ue]=F.useState(!0),[fe,oe]=F.useState(!1),ve=F.useRef(null),Ce=F.useMemo(()=>{const de=V.w/V.h,pe=520,Ze=pe*de;return(Jt,Ct=Z)=>{const un=Me(Jt.x,-(M*Ct-Ze),-D*Ct),xi=Me(Jt.y,-(M*Ct-pe),-D*Ct);return{x:un,y:xi}}},[V,Z,D,M]),he=F.useMemo(()=>Ce(Y),[Y,Ce]),ze=F.useCallback(de=>K(de),[]),Je=F.useMemo(()=>{const de=V.w/V.h,pe=520,Ze=pe*de,Jt=-he.x/Z,Ct=-he.y/Z;return`${Jt} ${Ct} ${Ze/Z} ${pe/Z}`},[Z,he,V]),{addLeaf:Ke,deleteLeafById:He,handleShiftLeafSelect:ut,groupSelectedLeaves:bt,ungroupLeaves:Lt,addLeafToGroup:ht,removeLeafFromGroup:Bt}=ab({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:Z,pan:he,stageSize:V,CANVAS_MAX_SVG:j}),{showAddFlowerDialog:Wt,setShowAddFlowerDialog:Fn,addFlowerOpts:$n,setAddFlowerOpts:Ve,addFlower:yn,confirmAddFlower:_l}=rb({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:A,zoom:Z,pan:he,stageSize:V,CANVAS_MAX_SVG:j}),{selectedFlower:Wl,selectedFlowers:In,selectedLeaf:ga,selectedLeafGroup:On,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:qt,selectedFlowerId:Qe,groupHighlightedFlowerIds:se,leafGroupHighlightedLeafIds:Be}=cb(i,a),{deleteFlowerById:qe,deleteLayerById:Se,addOuterLayer:ye,deleteOuterLayer:Ae,deleteSelected:De,groupSelectedFlowers:ge,ungroupFlowers:Pe,addToGroup:Oe,mergeGroups:Fe,addStencil:$e,deleteStencil:Le,handleShiftFlowerSelect:yt,togglePetalSelection:tt}=nb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:A,setExpandedGroups:k,zoom:Z,pan:he,stageSize:V,CANVAS_MAX_SVG:j,deleteLeafById:He,ungroupLeaves:Lt}),je=rm({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:u.dragRef,zoom:Z,pan:he,setPan:ze,stageRef:le,clientToSvgPoint:v,togglePetalSelection:tt}),[nt,lt]=F.useState(0),at=a.kind,pn=at==="flower"?a.flowerId:null,ya=at==="flowers"?a.flowerIds?.join(","):null,Vl=at==="layer"||at==="petal"?a.layerId:null,_n=at==="petal"?a.index:null,Dt=at==="petals"?a.petals?.length:null;F.useEffect(()=>{at!=="project"&&lt(Date.now())},[at,pn,ya,Vl,_n,Dt]),F.useEffect(()=>{if(!ve.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const pe=ve.current.querySelector(`[data-flower-id="${de}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ht=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[nt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${h.left}%`}:void 0,children:x.jsx(cm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:A,isExpanded:C,toggleExpanded:w,scheduleFlowerRowClick:B,handleFlowerRowDoubleClick:X,addFlower:yn,deleteSelected:De,addOuterLayer:ye,deleteOuterLayer:Ae,deleteFlowerById:qe,deleteLayerById:Se,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:ve,groups:i.groups??[],expandedGroups:O,isGroupExpanded:I,toggleGroupExpanded:U,onSelectGroup:de=>r({kind:"group",groupId:de}),onUngroupFlowers:Pe,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>r({kind:"leafGroup",leafGroupId:de}),onAddLeaf:Ke,onDeleteLeaf:He})}),x.jsx(Kd,{side:"left",onPointerDown:m,onDoubleClick:d,isDragging:_}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Em,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Qe,zoom:Z,setZoom:E,zoomLevel:L,setZoomLevel:z,ZOOM_LEVELS:S,pan:he,panRaw:Y,setPan:ze,showGrid:te,setShowGrid:ue,showHelp:fe,setShowHelp:oe,stageRef:le,viewBox:Je,dashSyncToken:nt,dashDelay:Ht,beginPan:je.beginPan,updatePan:je.updatePan,endPan:je.endPan,beginMarquee:je.beginMarquee,updateMarquee:je.updateMarquee,endMarquee:je.endMarquee,marqueeRef:je.marqueeRef,marqueeRect:je.marqueeRect,beginFlowerDrag:je.beginFlowerDrag,updateFlowerDrag:je.updateFlowerDrag,endFlowerDrag:je.endFlowerDrag,scaleDragRef:je.scaleDragRef,beginScaleDrag:je.beginScaleDrag,updateScaleDrag:je.updateScaleDrag,endScaleDrag:je.endScaleDrag,rotationDragRef:je.rotationDragRef,beginRotationDrag:je.beginRotationDrag,updateRotationDrag:je.updateRotationDrag,endRotationDrag:je.endRotationDrag,widthScaleDragRef:je.widthScaleDragRef,beginWidthScaleDrag:je.beginWidthScaleDrag,updateWidthScaleDrag:je.updateWidthScaleDrag,endWidthScaleDrag:je.endWidthScaleDrag,radiusDragRef:je.radiusDragRef,beginRadiusDrag:je.beginRadiusDrag,updateRadiusDrag:je.updateRadiusDrag,endRadiusDrag:je.endRadiusDrag,togglePetalSelection:tt,clientToSvgPoint:v,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:$e,onDeleteStencil:Le,onSelectStencil:de=>r({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:yt,groupHighlightedFlowerIds:se,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Be,onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onShiftSelectLeaf:ut})}),x.jsx(Kd,{side:"right",onPointerDown:m,onDoubleClick:d,isDragging:_}),x.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${h.right}%`}:void 0,children:x.jsx(Jm,{project:i,selection:a,applyUpdate:o,selectedFlower:Wl,selectedFlowers:In,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:qt,onDeleteStencil:Le,groups:i.groups??[],onGroupFlowers:ge,onUngroupFlowers:Pe,onAddToGroup:Oe,onMergeGroups:Fe,selectedLeaf:ga,selectedLeafGroup:On,leafGroups:i.leafGroups??[],onDeleteLeaf:He,onGroupLeaves:bt,onUngroupLeaves:Lt,onAddLeafToGroup:ht,onRemoveLeafFromGroup:Bt})})]}),Wt&&x.jsx(Pm,{palette:i.palette,addFlowerOpts:$n,setAddFlowerOpts:Ve,onConfirm:_l,onCancel:()=>Fn(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,pe])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:u}){const[i,a]=F.useState("w"),[r,o]=F.useState(""),f=u.totalAreaCm2,h=parseFloat(r),m=r!==""&&Number.isFinite(h)&&h>0?Math.round(f/h*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function ob(u){const{recipe:i}=u;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(sb,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function fb(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function db(u){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function hb(u){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function mb(){const[u,i]=F.useState("home"),[a,r]=F.useState([]),[o,f]=F.useState(null),[h,y]=F.useState({kind:"project"}),[m,d]=F.useState([]),[_,g]=F.useState(0),N=F.useRef(o),b=F.useRef(m),A=F.useRef(_);F.useEffect(()=>{N.current=o},[o]),F.useEffect(()=>{b.current=m},[m]),F.useEffect(()=>{A.current=_},[_]);const C=F.useRef(null),w=F.useRef(null),q=F.useRef(null),O=F.useRef(null),[k,I]=F.useState(null);F.useEffect(()=>{const R=k?window.setTimeout(()=>I(null),2200):null;return()=>{R&&window.clearTimeout(R)}},[k]),F.useEffect(()=>{r(l0())},[]);function U(R){const z=JSON.stringify(R);d([z]),g(0)}function Q(R,z=!0){if(!z){f(Ce=>{if(!Ce)return Ce;const he=Zl(Ce);return R(he),he.updatedAt=Mr(),he});return}const E=N.current;if(!E)return;const Y=Zl(E);R(Y),Y.updatedAt=Mr(),f(Y);const K=b.current,te=A.current;if(K.length===0){U(Y);return}const ue=JSON.stringify(Y);let oe=[...K.slice(0,te+1),ue];const ve=50;oe.length>ve&&(oe=oe.slice(oe.length-ve)),d(oe),g(oe.length-1)}function B(){g(R=>{if(R<=0)return R;const z=R-1,E=b.current[z];return E&&f(ma(JSON.parse(E))),I("Undo"),z})}function X(){g(R=>{if(R>=b.current.length-1)return R;const z=R+1,E=b.current[z];return E&&f(ma(JSON.parse(E))),I("Redo"),z})}function le(){if(!o)return;const R=Hh(o);r(l0()),I(R?"Saved":" ")}function V(){if(!o)return;const R=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),z=URL.createObjectURL(R),E=document.createElement("a");E.href=z,E.download=`${o.title||"tsumami"}.json`,E.click(),URL.revokeObjectURL(z),I("JSON exported")}function W(R){const z=new FileReader;z.onload=()=>{try{const E=JSON.parse(String(z.result??""));if(!E||typeof E!="object"||!Array.isArray(E.flowers))throw new Error("Invalid JSON");const Y=ma(E);f(Y),y({kind:"project"}),U(Y),i("editor"),I("Imported")}catch{I("Import failed")}},z.readAsText(R)}function v(R){const z=ma(R);f(z),y({kind:"project"}),U(z),i("editor")}function j(R){return R&&(R.kind==="flower"||R.kind==="layer"||R.kind==="petal")?R.flowerId:null}function D(){if(!o)return;const R=j(h);if(!R)return;const z=o.flowers.find(E=>E.id===R);z&&(w.current=Zl(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),I("Flower copied"))}function M(){if(!o||h.kind!=="leaf")return;const R=(o.leaves??[]).find(z=>z.id===h.leafId);R&&(q.current=Zl(R),I("Leaf copied"))}function S(){if(!o)return;const R=w.current;if(!R){I("Nothing to paste");return}const z=Rh(R,{x:12+Math.random()*10,y:12+Math.random()*10});Q(E=>{E.flowers.push(z)},!0),y({kind:"flower",flowerId:z.id}),I("Flower pasted")}function L(){if(!o)return;const R=q.current;if(!R)return;const z=Ot("leaf"),E={...Zl(R),id:z,name:R.name+" (copy)",position:{x:R.position.x+30,y:R.position.y+30}};Q(Y=>{Y.leaves||(Y.leaves=[]),Y.leaves.push(E)},!0),y({kind:"leaf",leafId:E.id}),I("Leaf pasted")}function G(R){if(!o)return;const z=j(h);z&&(Q(E=>{const Y=E.flowers.findIndex(fe=>fe.id===z);if(Y<0)return;const K=E.flowers,te=K[Y];if(!te)return;if(K.splice(Y,1),R==="front"){K.push(te);return}if(R==="back"){K.unshift(te);return}if(R==="forward"){if(Y>=K.length){K.push(te);return}K.splice(Y+1,0,te);return}const ue=Me(Y-1,0,K.length);K.splice(ue,0,te)},!0),I(R==="front"?"Brought to front":R==="back"?"Sent to back":R==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function R(E){const Y=E;if(!Y)return!1;const K=String(Y.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!Y.isContentEditable}function z(E){if(!(R(E.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?E.metaKey:E.ctrlKey))){if(u==="editor"){if(E.key.toLowerCase()==="c"){E.preventDefault(),h.kind==="leaf"?M():D();return}if(E.key.toLowerCase()==="v"){E.preventDefault(),q.current&&(h.kind==="leaf"||h.kind==="leaves"||h.kind==="leafGroup"||!w.current)?L():S();return}}E.key.toLowerCase()==="z"&&(E.preventDefault(),E.shiftKey?X():B()),E.key.toLowerCase()==="s"&&(E.preventDefault(),le())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[o,m,_,h,u]);const Z=F.useMemo(()=>o?Zh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Qh,{view:u,onNavigate:i,project:o,onSave:le,onLoad:()=>i("home"),onImportJson:()=>O.current?.click(),onExportJson:V,onExportSvg:()=>{const R=document.querySelector('[data-testid="canvas-svg"]');R&&o&&Wh(R,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const R=document.querySelector('[data-testid="canvas-svg"]');R&&o&&Jh(R,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:R=>{const z=R.target.files?.[0];z&&W(z),R.currentTarget.value=""}}),k&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:k}),x.jsxs("main",{className:"flex-1",children:[u==="home"&&x.jsx(Ph,{saved:a,onNew:()=>i("new"),onOpen:R=>{const z=ma(Zl(R));f(z),y({kind:"project"}),U(z),i("editor")},onDelete:R=>{Uh(R),r(l0()),I("Deleted")}}),u==="new"&&x.jsx(Fh,{onBack:()=>i("home"),onCreate:R=>{const z=Gh({title:R});v(z)}}),u==="editor"&&o&&x.jsx(xb,{project:o,selection:h,setSelection:y,applyUpdate:Q,onGoRecipe:()=>i("recipe"),onImport:W,dragRef:C,onCopyFlower:D,onPasteFlower:S,onArrangeFlower:G,canPasteFlower:!!w.current,onUndo:B,onRedo:X,canUndo:_>0,canRedo:_<m.length-1}),u==="recipe"&&o&&Z&&x.jsx(ob,{project:o,recipe:Z,onBack:()=>i("editor"),onExportJson:V}),u==="terms"&&x.jsx(fb,{onBack:()=>i("home")}),u==="privacy"&&x.jsx(db,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&x.jsx(hb,{onNavigate:i})]})}class bb extends F.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}ph.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(bb,{children:x.jsx(mb,{})})}));

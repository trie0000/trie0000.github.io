(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var rs={exports:{}},nr={};var Ed;function vh(){if(Ed)return nr;Ed=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var v=null;if(o!==void 0&&(v=""+o),f.key!==void 0&&(v=""+f.key),"key"in f){o={};for(var S in f)S!=="key"&&(o[S]=f[S])}else o=f;return f=o.ref,{$$typeof:c,type:i,key:v,ref:f!==void 0?f:null,props:o}}return nr.Fragment=r,nr.jsx=a,nr.jsxs=a,nr}var Td;function ph(){return Td||(Td=1,rs.exports=vh()),rs.exports}var s=ph(),cs={exports:{}},Ne={};var Ld;function yh(){if(Ld)return Ne;Ld=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=C&&_[C]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function L(_,N,O){this.props=_,this.context=N,this.refs=g,this.updater=O||M}L.prototype.isReactComponent={},L.prototype.setState=function(_,N){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,N,"setState")},L.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function H(){}H.prototype=L.prototype;function T(_,N,O){this.props=_,this.context=N,this.refs=g,this.updater=O||M}var G=T.prototype=new H;G.constructor=T,p(G,L.prototype),G.isPureReactComponent=!0;var B=Array.isArray;function Y(){}var k={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function P(_,N,O){var Z=O.ref;return{$$typeof:c,type:_,key:N,ref:Z!==void 0?Z:null,props:O}}function W(_,N){return P(_.type,N,_.props)}function J(_){return typeof _=="object"&&_!==null&&_.$$typeof===c}function R(_){var N={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(O){return N[O]})}var V=/\/+/g;function U(_,N){return typeof _=="object"&&_!==null&&_.key!=null?R(""+_.key):N.toString(36)}function b(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Y,Y):(_.status="pending",_.then(function(N){_.status==="pending"&&(_.status="fulfilled",_.value=N)},function(N){_.status==="pending"&&(_.status="rejected",_.reason=N)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function m(_,N,O,Z,F){var le=typeof _;(le==="undefined"||le==="boolean")&&(_=null);var re=!1;if(_===null)re=!0;else switch(le){case"bigint":case"string":case"number":re=!0;break;case"object":switch(_.$$typeof){case c:case r:re=!0;break;case y:return re=_._init,m(re(_._payload),N,O,Z,F)}}if(re)return F=F(_),re=Z===""?"."+U(_,0):Z,B(F)?(O="",re!=null&&(O=re.replace(V,"$&/")+"/"),m(F,N,O,"",function(me){return me})):F!=null&&(J(F)&&(F=W(F,O+(F.key==null||_&&_.key===F.key?"":(""+F.key).replace(V,"$&/")+"/")+re)),N.push(F)),1;re=0;var se=Z===""?".":Z+":";if(B(_))for(var ce=0;ce<_.length;ce++)Z=_[ce],le=se+U(Z,ce),re+=m(Z,N,O,le,F);else if(ce=j(_),typeof ce=="function")for(_=ce.call(_),ce=0;!(Z=_.next()).done;)Z=Z.value,le=se+U(Z,ce++),re+=m(Z,N,O,le,F);else if(le==="object"){if(typeof _.then=="function")return m(b(_),N,O,Z,F);throw N=String(_),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return re}function A(_,N,O){if(_==null)return _;var Z=[],F=0;return m(_,Z,"","",function(le){return N.call(O,le,F++)}),Z}function I(_){if(_._status===-1){var N=_._result;N=N(),N.then(function(O){(_._status===0||_._status===-1)&&(_._status=1,_._result=O)},function(O){(_._status===0||_._status===-1)&&(_._status=2,_._result=O)}),_._status===-1&&(_._status=0,_._result=N)}if(_._status===1)return _._result.default;throw _._result}var q=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},D={map:A,forEach:function(_,N,O){A(_,function(){N.apply(this,arguments)},O)},count:function(_){var N=0;return A(_,function(){N++}),N},toArray:function(_){return A(_,function(N){return N})||[]},only:function(_){if(!J(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Ne.Activity=w,Ne.Children=D,Ne.Component=L,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=T,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(_){return k.H.useMemoCache(_)}},Ne.cache=function(_){return function(){return _.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(_,N,O){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=p({},_.props),F=_.key;if(N!=null)for(le in N.key!==void 0&&(F=""+N.key),N)!K.call(N,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&N.ref===void 0||(Z[le]=N[le]);var le=arguments.length-2;if(le===1)Z.children=O;else if(1<le){for(var re=Array(le),se=0;se<le;se++)re[se]=arguments[se+2];Z.children=re}return P(_.type,F,Z)},Ne.createContext=function(_){return _={$$typeof:v,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},Ne.createElement=function(_,N,O){var Z,F={},le=null;if(N!=null)for(Z in N.key!==void 0&&(le=""+N.key),N)K.call(N,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=N[Z]);var re=arguments.length-2;if(re===1)F.children=O;else if(1<re){for(var se=Array(re),ce=0;ce<re;ce++)se[ce]=arguments[ce+2];F.children=se}if(_&&_.defaultProps)for(Z in re=_.defaultProps,re)F[Z]===void 0&&(F[Z]=re[Z]);return P(_,le,F)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(_){return{$$typeof:S,render:_}},Ne.isValidElement=J,Ne.lazy=function(_){return{$$typeof:y,_payload:{_status:-1,_result:_},_init:I}},Ne.memo=function(_,N){return{$$typeof:h,type:_,compare:N===void 0?null:N}},Ne.startTransition=function(_){var N=k.T,O={};k.T=O;try{var Z=_(),F=k.S;F!==null&&F(O,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Y,q)}catch(le){q(le)}finally{N!==null&&O.types!==null&&(N.types=O.types),k.T=N}},Ne.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ne.use=function(_){return k.H.use(_)},Ne.useActionState=function(_,N,O){return k.H.useActionState(_,N,O)},Ne.useCallback=function(_,N){return k.H.useCallback(_,N)},Ne.useContext=function(_){return k.H.useContext(_)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(_,N){return k.H.useDeferredValue(_,N)},Ne.useEffect=function(_,N){return k.H.useEffect(_,N)},Ne.useEffectEvent=function(_){return k.H.useEffectEvent(_)},Ne.useId=function(){return k.H.useId()},Ne.useImperativeHandle=function(_,N,O){return k.H.useImperativeHandle(_,N,O)},Ne.useInsertionEffect=function(_,N){return k.H.useInsertionEffect(_,N)},Ne.useLayoutEffect=function(_,N){return k.H.useLayoutEffect(_,N)},Ne.useMemo=function(_,N){return k.H.useMemo(_,N)},Ne.useOptimistic=function(_,N){return k.H.useOptimistic(_,N)},Ne.useReducer=function(_,N,O){return k.H.useReducer(_,N,O)},Ne.useRef=function(_){return k.H.useRef(_)},Ne.useState=function(_){return k.H.useState(_)},Ne.useSyncExternalStore=function(_,N,O){return k.H.useSyncExternalStore(_,N,O)},Ne.useTransition=function(){return k.H.useTransition()},Ne.version="19.2.3",Ne}var Bd;function Rs(){return Bd||(Bd=1,cs.exports=yh()),cs.exports}var ee=Rs(),us={exports:{}},lr={},ss={exports:{}},os={};var kd;function _h(){return kd||(kd=1,(function(c){function r(m,A){var I=m.length;m.push(A);e:for(;0<I;){var q=I-1>>>1,D=m[q];if(0<f(D,A))m[q]=A,m[I]=D,I=q;else break e}}function a(m){return m.length===0?null:m[0]}function i(m){if(m.length===0)return null;var A=m[0],I=m.pop();if(I!==A){m[0]=I;e:for(var q=0,D=m.length,_=D>>>1;q<_;){var N=2*(q+1)-1,O=m[N],Z=N+1,F=m[Z];if(0>f(O,I))Z<D&&0>f(F,O)?(m[q]=F,m[Z]=I,q=Z):(m[q]=O,m[N]=I,q=N);else if(Z<D&&0>f(F,I))m[q]=F,m[Z]=I,q=Z;else break e}}return A}function f(m,A){var I=m.sortIndex-A.sortIndex;return I!==0?I:m.id-A.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var v=Date,S=v.now();c.unstable_now=function(){return v.now()-S}}var d=[],h=[],y=1,w=null,C=3,j=!1,M=!1,p=!1,g=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function G(m){for(var A=a(h);A!==null;){if(A.callback===null)i(h);else if(A.startTime<=m)i(h),A.sortIndex=A.expirationTime,r(d,A);else break;A=a(h)}}function B(m){if(p=!1,G(m),!M)if(a(d)!==null)M=!0,Y||(Y=!0,R());else{var A=a(h);A!==null&&b(B,A.startTime-m)}}var Y=!1,k=-1,K=5,P=-1;function W(){return g?!0:!(c.unstable_now()-P<K)}function J(){if(g=!1,Y){var m=c.unstable_now();P=m;var A=!0;try{e:{M=!1,p&&(p=!1,H(k),k=-1),j=!0;var I=C;try{t:{for(G(m),w=a(d);w!==null&&!(w.expirationTime>m&&W());){var q=w.callback;if(typeof q=="function"){w.callback=null,C=w.priorityLevel;var D=q(w.expirationTime<=m);if(m=c.unstable_now(),typeof D=="function"){w.callback=D,G(m),A=!0;break t}w===a(d)&&i(d),G(m)}else i(d);w=a(d)}if(w!==null)A=!0;else{var _=a(h);_!==null&&b(B,_.startTime-m),A=!1}}break e}finally{w=null,C=I,j=!1}A=void 0}}finally{A?R():Y=!1}}}var R;if(typeof T=="function")R=function(){T(J)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=J,R=function(){U.postMessage(null)}}else R=function(){L(J,0)};function b(m,A){k=L(function(){m(c.unstable_now())},A)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(m){m.callback=null},c.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<m?Math.floor(1e3/m):5},c.unstable_getCurrentPriorityLevel=function(){return C},c.unstable_next=function(m){switch(C){case 1:case 2:case 3:var A=3;break;default:A=C}var I=C;C=A;try{return m()}finally{C=I}},c.unstable_requestPaint=function(){g=!0},c.unstable_runWithPriority=function(m,A){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var I=C;C=m;try{return A()}finally{C=I}},c.unstable_scheduleCallback=function(m,A,I){var q=c.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,m){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=I+D,m={id:y++,callback:A,priorityLevel:m,startTime:I,expirationTime:D,sortIndex:-1},I>q?(m.sortIndex=I,r(h,m),a(d)===null&&m===a(h)&&(p?(H(k),k=-1):p=!0,b(B,I-q))):(m.sortIndex=D,r(d,m),M||j||(M=!0,Y||(Y=!0,R()))),m},c.unstable_shouldYield=W,c.unstable_wrapCallback=function(m){var A=C;return function(){var I=C;C=A;try{return m.apply(this,arguments)}finally{C=I}}}})(os)),os}var Id;function Sh(){return Id||(Id=1,ss.exports=_h()),ss.exports}var xs={exports:{}},Kt={};var qd;function wh(){if(qd)return Kt;qd=1;var c=Rs();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,h,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:w==null?null:""+w,children:d,containerInfo:h,implementation:y}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kt.createPortal=function(d,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return o(d,h,null,y)},Kt.flushSync=function(d){var h=v.T,y=i.p;try{if(v.T=null,i.p=2,d)return d()}finally{v.T=h,i.p=y,i.d.f()}},Kt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Kt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Kt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var y=h.as,w=S(y,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,j=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:j}):y==="script"&&i.d.X(d,{crossOrigin:w,integrity:C,fetchPriority:j,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Kt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=S(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Kt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,w=S(y,h.crossOrigin);i.d.L(d,y,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Kt.preloadModule=function(d,h){if(typeof d=="string")if(h){var y=S(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Kt.requestFormReset=function(d){i.d.r(d)},Kt.unstable_batchedUpdates=function(d,h){return d(h)},Kt.useFormState=function(d,h,y){return v.H.useFormState(d,h,y)},Kt.useFormStatus=function(){return v.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Gd;function Ch(){if(Gd)return xs.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),xs.exports=wh(),xs.exports}var Rd;function jh(){if(Rd)return lr;Rd=1;var c=Sh(),r=Rs(),a=Ch();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return d(u),e;if(x===l)return d(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var z=!1,E=u.child;E;){if(E===n){z=!0,n=u,l=x;break}if(E===l){z=!0,l=u,n=x;break}E=E.sibling}if(!z){for(E=x.child;E;){if(E===n){z=!0,n=x,l=u;break}if(E===l){z=!0,l=x,n=u;break}E=E.sibling}if(!z)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),T=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function R(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case L:return"Profiler";case g:return"StrictMode";case B:return"Suspense";case Y:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case T:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}var b=Array.isArray,m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},q=[],D=-1;function _(e){return{current:e}}function N(e){0>D||(e.current=q[D],q[D]=null,D--)}function O(e,t){D++,q[D]=e.current,e.current=t}var Z=_(null),F=_(null),le=_(null),re=_(null);function se(e,t){switch(O(le,t),O(F,e),O(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(Z),O(Z,e)}function ce(){N(Z),N(F),N(le)}function me(e){e.memoizedState!==null&&O(re,e);var t=Z.current,n=td(t,e.type);t!==n&&(O(F,e),O(Z,n))}function de(e){F.current===e&&(N(Z),N(F)),re.current===e&&(N(re),Fi._currentValue=I)}var Me,nt;function Ue(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",nt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+nt}var Ze=!1;function Re(e,t){if(!e||Ze)return"";Ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var ae=ie}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(ie){ae=ie}e.call(xe.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),z=x[0],E=x[1];if(z&&E){var X=z.split(`
`),ne=E.split(`
`);for(u=l=0;l<X.length&&!X[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(l===X.length||u===ne.length)for(l=X.length-1,u=ne.length-1;1<=l&&0<=u&&X[l]!==ne[u];)u--;for(;1<=l&&0<=u;l--,u--)if(X[l]!==ne[u]){if(l!==1||u!==1)do if(l--,u--,0>u||X[l]!==ne[u]){var ue=`
`+X[l].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=l&&0<=u);break}}}finally{Ze=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ue(n):""}function mt(e,t){switch(e.tag){case 26:case 27:case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return e.child!==t&&t!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return Re(e.type,!1);case 11:return Re(e.type.render,!1);case 1:return Re(e.type,!0);case 31:return Ue("Activity");default:return""}}function dt(e){try{var t="",n=null;do t+=mt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Ut=c.unstable_scheduleCallback,Gn=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Wn=c.unstable_requestPaint,Pe=c.unstable_now,pn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,rl=c.unstable_UserBlockingPriority,cl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,ra=c.unstable_IdlePriority,Vn=c.log,fi=c.unstable_setDisableYieldValue,Rn=null,It=null;function yn(e){if(typeof Vn=="function"&&fi(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Rn,e)}catch{}}var Oe=Math.clz32?Math.clz32:Ie,he=Math.log,ke=Math.LN2;function Ie(e){return e>>>=0,e===0?32:31-(he(e)/ke|0)|0}var Se=256,_e=262144,Ae=4194304;function De(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,z=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~x,l!==0?u=De(l):(z&=E,z!==0?u=De(z):n||(n=E&~e,n!==0&&(u=De(n))))):(E=l&~x,E!==0?u=De(E):z!==0?u=De(z):n||(n=l&~e,n!==0&&(u=De(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,u,x){var z=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,X=e.expirationTimes,ne=e.hiddenUpdates;for(n=z&~n;0<n;){var ue=31-Oe(n),xe=1<<ue;E[ue]=0,X[ue]=-1;var ae=ne[ue];if(ae!==null)for(ne[ue]=null,ue=0;ue<ae.length;ue++){var ie=ae[ue];ie!==null&&(ie.lane&=-536870913)}n&=~xe}l!==0&&et(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(z&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Oe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function On(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function ca(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}var sn=Math.random().toString(36).slice(2),vt="__reactFiber$"+sn,Te="__reactProps$"+sn,ul="__reactContainer$"+sn,di="__reactEvents$"+sn,Jn="__reactListeners$"+sn,F0="__reactHandles$"+sn,hr="__reactResources$"+sn,ua="__reactMarker$"+sn;function hi(e){delete e[vt],delete e[Te],delete e[di],delete e[Jn],delete e[F0]}function Al(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ul]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[vt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function El(e){if(e=e[vt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function be(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ye(e){var t=e[hr];return t||(t=e[hr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ze(e){e[ua]=!0}var Gt=new Set,Ct={};function Xt(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(Ct[e]=t,e=0;e<t.length;e++)Gt.add(t[e])}var s1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ys={},Us={};function o1(e){return bt.call(Us,e)?!0:bt.call(Ys,e)?!1:s1.test(e)?Us[e]=!0:(Ys[e]=!0,!1)}function mr(e,t,n){if(o1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function br(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(z){n=""+z,x.call(this,z)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(z){n=""+z},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $0(e){if(!e._valueTracker){var t=Ks(e)?"checked":"value";e._valueTracker=x1(e,t,""+e[t])}}function Zs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var f1=/[\n"\\]/g;function Sn(e){return e.replace(f1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ec(e,t,n,l,u,x,z,E){e.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.type=z:e.removeAttribute("type"),t!=null?z==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):z!=="submit"&&z!=="reset"||e.removeAttribute("value"),t!=null?tc(e,z,_n(t)):n!=null?tc(e,z,_n(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+_n(E):e.removeAttribute("name")}function Xs(e,t,n,l,u,x,z,E){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){$0(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(e.name=z),$0(e)}function tc(e,t,n){t==="number"&&gr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ws(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Vs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(b(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),$0(e)}function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var d1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||d1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Js(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Js(e,x,t[x])}function nc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(e){return m1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var lc=null;function ac(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Aa=null;function Ps(e){var t=El(e);if(t&&(e=t.stateNode)){var n=e[Te]||null;e:switch(e=t.stateNode,t.type){case"input":if(ec(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Te]||null;if(!u)throw Error(i(90));ec(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Zs(l)}break e;case"textarea":Ws(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var ic=!1;function Fs(e,t,n){if(ic)return e(t,n);ic=!0;try{var l=e(t);return l}finally{if(ic=!1,(Na!==null||Aa!==null)&&(i0(),Na&&(t=Na,e=Aa,Aa=Na=null,Ps(t),e)))for(t=0;t<e.length;t++)Ps(e[t])}}function mi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Te]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=!1;if(xl)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){rc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{rc=!1}var Ll=null,cc=null,pr=null;function $s(){if(pr)return pr;var e,t=cc,n=t.length,l,u="value"in Ll?Ll.value:Ll.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var z=n-e;for(l=1;l<=z&&t[n-l]===u[x-l];l++);return pr=u.slice(e,1<l?1-l:void 0)}function yr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function eo(){return!1}function Pt(e){function t(n,l,u,x,z){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=z,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(x):x[E]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_r:eo,this.isPropagationStopped=eo,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sr=Pt(sa),gi=w({},sa,{view:0,detail:0}),b1=Pt(gi),uc,sc,vi,wr=w({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(uc=e.screenX-vi.screenX,sc=e.screenY-vi.screenY):sc=uc=0,vi=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:sc}}),to=Pt(wr),g1=w({},wr,{dataTransfer:0}),v1=Pt(g1),p1=w({},gi,{relatedTarget:0}),oc=Pt(p1),y1=w({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),_1=Pt(y1),S1=w({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Pt(S1),C1=w({},sa,{data:0}),no=Pt(C1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M1[e])?!!t[e]:!1}function xc(){return D1}var N1=w({},gi,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A1=Pt(N1),E1=w({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Pt(E1),T1=w({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),L1=Pt(T1),B1=w({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=Pt(B1),I1=w({},wr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=Pt(I1),G1=w({},sa,{newState:0,oldState:0}),R1=Pt(G1),O1=[9,13,27,32],fc=xl&&"CompositionEvent"in window,pi=null;xl&&"documentMode"in document&&(pi=document.documentMode);var H1=xl&&"TextEvent"in window&&!pi,ao=xl&&(!fc||pi&&8<pi&&11>=pi),io=" ",ro=!1;function co(e,t){switch(e){case"keyup":return O1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function Y1(e,t){switch(e){case"compositionend":return uo(t);case"keypress":return t.which!==32?null:(ro=!0,io);case"textInput":return e=t.data,e===io&&ro?null:e;default:return null}}function U1(e,t){if(Ea)return e==="compositionend"||!fc&&co(e,t)?(e=$s(),pr=cc=Ll=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K1[e.type]:t==="textarea"}function oo(e,t,n,l){Na?Aa?Aa.push(l):Aa=[l]:Na=l,t=f0(t,"onChange"),0<t.length&&(n=new Sr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var yi=null,_i=null;function Z1(e){Vf(e,0)}function Cr(e){var t=be(e);if(Zs(t))return e}function xo(e,t){if(e==="change")return t}var fo=!1;if(xl){var dc;if(xl){var hc="oninput"in document;if(!hc){var ho=document.createElement("div");ho.setAttribute("oninput","return;"),hc=typeof ho.oninput=="function"}dc=hc}else dc=!1;fo=dc&&(!document.documentMode||9<document.documentMode)}function mo(){yi&&(yi.detachEvent("onpropertychange",bo),_i=yi=null)}function bo(e){if(e.propertyName==="value"&&Cr(_i)){var t=[];oo(t,_i,e,ac(e)),Fs(Z1,t)}}function X1(e,t,n){e==="focusin"?(mo(),yi=t,_i=n,yi.attachEvent("onpropertychange",bo)):e==="focusout"&&mo()}function W1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cr(_i)}function V1(e,t){if(e==="click")return Cr(t)}function J1(e,t){if(e==="input"||e==="change")return Cr(t)}function Q1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:Q1;function Si(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!bt.call(t,u)||!on(e[u],t[u]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vo(e,t){var n=go(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=go(n)}}function po(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?po(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=gr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gr(e.document)}return t}function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P1=xl&&"documentMode"in document&&11>=document.documentMode,Ta=null,bc=null,wi=null,gc=!1;function _o(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gc||Ta==null||Ta!==gr(l)||(l=Ta,"selectionStart"in l&&mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wi&&Si(wi,l)||(wi=l,l=f0(bc,"onSelect"),0<l.length&&(t=new Sr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ta)))}function oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},vc={},So={};xl&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function xa(e){if(vc[e])return vc[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in So)return vc[e]=t[n];return e}var wo=xa("animationend"),Co=xa("animationiteration"),jo=xa("animationstart"),F1=xa("transitionrun"),$1=xa("transitionstart"),e2=xa("transitioncancel"),zo=xa("transitionend"),Mo=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function Hn(e,t){Mo.set(e,t),Xt(t,[e])}var jr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ba=0,yc=0;function zr(){for(var e=Ba,t=yc=Ba=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var u=wn[t];wn[t++]=null;var x=wn[t];if(wn[t++]=null,l!==null&&u!==null){var z=l.pending;z===null?u.next=u:(u.next=z.next,z.next=u),l.pending=u}x!==0&&Do(n,u,x)}}function Mr(e,t,n,l){wn[Ba++]=e,wn[Ba++]=t,wn[Ba++]=n,wn[Ba++]=l,yc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _c(e,t,n,l){return Mr(e,t,n,l),Dr(e)}function fa(e,t){return Mr(e,null,null,t),Dr(e)}function Do(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-Oe(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Dr(e){if(50<Zi)throw Zi=0,Au=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ka={};function t2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new t2(e,t,n,l)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fl(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function No(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Nr(e,t,n,l,u,x){var z=0;if(l=e,typeof e=="function")Sc(e)&&(z=1);else if(typeof e=="string")z=rh(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=xn(31,n,t,u),e.elementType=P,e.lanes=x,e;case p:return da(n.children,u,x,t);case g:z=8,u|=24;break;case L:return e=xn(12,n,t,u|2),e.elementType=L,e.lanes=x,e;case B:return e=xn(13,n,t,u),e.elementType=B,e.lanes=x,e;case Y:return e=xn(19,n,t,u),e.elementType=Y,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:z=10;break e;case H:z=9;break e;case G:z=11;break e;case k:z=14;break e;case K:z=16,l=null;break e}z=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(z,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function da(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function wc(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function Ao(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function Cc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Eo=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=Eo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dt(t)},Eo.set(e,t),t)}return{value:e,source:t,stack:dt(t)}}var Ia=[],qa=0,Ar=null,Ci=0,jn=[],zn=0,Bl=null,Qn=1,Pn="";function dl(e,t){Ia[qa++]=Ci,Ia[qa++]=Ar,Ar=e,Ci=t}function To(e,t,n){jn[zn++]=Qn,jn[zn++]=Pn,jn[zn++]=Bl,Bl=e;var l=Qn;e=Pn;var u=32-Oe(l)-1;l&=~(1<<u),n+=1;var x=32-Oe(t)+u;if(30<x){var z=u-u%5;x=(l&(1<<z)-1).toString(32),l>>=z,u-=z,Qn=1<<32-Oe(t)+u|n<<u|l,Pn=x+e}else Qn=1<<x|n<<u|l,Pn=e}function jc(e){e.return!==null&&(dl(e,1),To(e,1,0))}function zc(e){for(;e===Ar;)Ar=Ia[--qa],Ia[qa]=null,Ci=Ia[--qa],Ia[qa]=null;for(;e===Bl;)Bl=jn[--zn],jn[zn]=null,Pn=jn[--zn],jn[zn]=null,Qn=jn[--zn],jn[zn]=null}function Lo(e,t){jn[zn++]=Qn,jn[zn++]=Pn,jn[zn++]=Bl,Qn=t.id,Pn=t.overflow,Bl=e}var Rt=null,xt=null,Ke=!1,kl=null,Mn=!1,Mc=Error(i(519));function Il(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(Cn(t,e)),Mc}function Bo(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[vt]=e,t[Te]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Wi.length;n++)Ge(Wi[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Xs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Vs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Ff(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||Il(e,!0)}function ko(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Rt=Rt.return}}function Ga(e){if(e!==Rt)return!1;if(!Ke)return ko(e),Ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zu(e.type,e.memoizedProps)),n=!n),n&&xt&&Il(e),ko(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=cd(e)}else t===27?(t=xt,Ql(e.type)?(e=Qu,Qu=null,xt=e):xt=t):xt=Rt?Nn(e.stateNode.nextSibling):null;return!0}function ha(){xt=Rt=null,Ke=!1}function Dc(){var e=kl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),kl=null),e}function ji(e){kl===null?kl=[e]:kl.push(e)}var Nc=_(null),ma=null,hl=null;function ql(e,t,n){O(Nc,t._currentValue),t._currentValue=n}function ml(e){e._currentValue=Nc.current,N(Nc)}function Ac(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ec(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var z=u.child;x=x.firstContext;e:for(;x!==null;){var E=x;x=u;for(var X=0;X<t.length;X++)if(E.context===t[X]){x.lanes|=n,E=x.alternate,E!==null&&(E.lanes|=n),Ac(x.return,n,e),l||(z=null);break e}x=E.next}}else if(u.tag===18){if(z=u.return,z===null)throw Error(i(341));z.lanes|=n,x=z.alternate,x!==null&&(x.lanes|=n),Ac(z,n,e),z=null}else z=u.child;if(z!==null)z.return=u;else for(z=u;z!==null;){if(z===e){z=null;break}if(u=z.sibling,u!==null){u.return=z.return,z=u;break}z=z.return}u=z}}function Ra(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var z=u.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var E=u.type;on(u.pendingProps.value,z.value)||(e!==null?e.push(E):e=[E])}}else if(u===re.current){if(z=u.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Fi):e=[Fi])}u=u.return}e!==null&&Ec(t,e,n,l),t.flags|=262144}function Er(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ba(e){ma=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Io(ma,e)}function Tr(e,t){return ma===null&&ba(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hl===null){if(e===null)throw Error(i(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return n}var n2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},l2=c.unstable_scheduleCallback,a2=c.unstable_NormalPriority,jt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new n2,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&l2(a2,function(){e.controller.abort()})}var Mi=null,Lc=0,Oa=0,Ha=null;function i2(e,t){if(Mi===null){var n=Mi=[];Lc=0,Oa=Iu(),Ha={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Lc++,t.then(qo,qo),t}function qo(){if(--Lc===0&&Mi!==null){Ha!==null&&(Ha.status="fulfilled");var e=Mi;Mi=null,Oa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Go=m.S;m.S=function(e,t){Sf=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i2(e,t),Go!==null&&Go(e,t)};var ga=_(null);function Bc(){var e=ga.current;return e!==null?e:ot.pooledCache}function Lr(e,t){t===null?O(ga,ga.current):O(ga,t.pool)}function Ro(){var e=Bc();return e===null?null:{parent:jt._currentValue,pool:e}}var Ya=Error(i(460)),kc=Error(i(474)),Br=Error(i(542)),kr={then:function(){}};function Oo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ho(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ol,ol),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uo(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uo(e),e}throw pa=t,Ya}}function va(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(pa=n,Ya):n}}var pa=null;function Yo(){if(pa===null)throw Error(i(459));var e=pa;return pa=null,e}function Uo(e){if(e===Ya||e===Br)throw Error(i(483))}var Ua=null,Di=0;function Ir(e){var t=Di;return Di+=1,Ua===null&&(Ua=[]),Ho(Ua,e,t)}function Ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qr(e,t){throw t.$$typeof===C?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ko(e){function t($,Q){if(e){var te=$.deletions;te===null?($.deletions=[Q],$.flags|=16):te.push(Q)}}function n($,Q){if(!e)return null;for(;Q!==null;)t($,Q),Q=Q.sibling;return null}function l($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function u($,Q){return $=fl($,Q),$.index=0,$.sibling=null,$}function x($,Q,te){return $.index=te,e?(te=$.alternate,te!==null?(te=te.index,te<Q?($.flags|=67108866,Q):te):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function z($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,Q,te,oe){return Q===null||Q.tag!==6?(Q=wc(te,$.mode,oe),Q.return=$,Q):(Q=u(Q,te),Q.return=$,Q)}function X($,Q,te,oe){var Ce=te.type;return Ce===p?ue($,Q,te.props.children,oe,te.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&va(Ce)===Q.type)?(Q=u(Q,te.props),Ni(Q,te),Q.return=$,Q):(Q=Nr(te.type,te.key,te.props,null,$.mode,oe),Ni(Q,te),Q.return=$,Q)}function ne($,Q,te,oe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Cc(te,$.mode,oe),Q.return=$,Q):(Q=u(Q,te.children||[]),Q.return=$,Q)}function ue($,Q,te,oe,Ce){return Q===null||Q.tag!==7?(Q=da(te,$.mode,oe,Ce),Q.return=$,Q):(Q=u(Q,te),Q.return=$,Q)}function xe($,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=wc(""+Q,$.mode,te),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return te=Nr(Q.type,Q.key,Q.props,null,$.mode,te),Ni(te,Q),te.return=$,te;case M:return Q=Cc(Q,$.mode,te),Q.return=$,Q;case K:return Q=va(Q),xe($,Q,te)}if(b(Q)||R(Q))return Q=da(Q,$.mode,te,null),Q.return=$,Q;if(typeof Q.then=="function")return xe($,Ir(Q),te);if(Q.$$typeof===T)return xe($,Tr($,Q),te);qr($,Q)}return null}function ae($,Q,te,oe){var Ce=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:E($,Q,""+te,oe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ce?X($,Q,te,oe):null;case M:return te.key===Ce?ne($,Q,te,oe):null;case K:return te=va(te),ae($,Q,te,oe)}if(b(te)||R(te))return Ce!==null?null:ue($,Q,te,oe,null);if(typeof te.then=="function")return ae($,Q,Ir(te),oe);if(te.$$typeof===T)return ae($,Q,Tr($,te),oe);qr($,te)}return null}function ie($,Q,te,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(te)||null,E(Q,$,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return $=$.get(oe.key===null?te:oe.key)||null,X(Q,$,oe,Ce);case M:return $=$.get(oe.key===null?te:oe.key)||null,ne(Q,$,oe,Ce);case K:return oe=va(oe),ie($,Q,te,oe,Ce)}if(b(oe)||R(oe))return $=$.get(te)||null,ue(Q,$,oe,Ce,null);if(typeof oe.then=="function")return ie($,Q,te,Ir(oe),Ce);if(oe.$$typeof===T)return ie($,Q,te,Tr(Q,oe),Ce);qr(Q,oe)}return null}function ge($,Q,te,oe){for(var Ce=null,Je=null,ve=Q,Be=Q=0,Ye=null;ve!==null&&Be<te.length;Be++){ve.index>Be?(Ye=ve,ve=null):Ye=ve.sibling;var Qe=ae($,ve,te[Be],oe);if(Qe===null){ve===null&&(ve=Ye);break}e&&ve&&Qe.alternate===null&&t($,ve),Q=x(Qe,Q,Be),Je===null?Ce=Qe:Je.sibling=Qe,Je=Qe,ve=Ye}if(Be===te.length)return n($,ve),Ke&&dl($,Be),Ce;if(ve===null){for(;Be<te.length;Be++)ve=xe($,te[Be],oe),ve!==null&&(Q=x(ve,Q,Be),Je===null?Ce=ve:Je.sibling=ve,Je=ve);return Ke&&dl($,Be),Ce}for(ve=l(ve);Be<te.length;Be++)Ye=ie(ve,$,Be,te[Be],oe),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Be:Ye.key),Q=x(Ye,Q,Be),Je===null?Ce=Ye:Je.sibling=Ye,Je=Ye);return e&&ve.forEach(function(ta){return t($,ta)}),Ke&&dl($,Be),Ce}function je($,Q,te,oe){if(te==null)throw Error(i(151));for(var Ce=null,Je=null,ve=Q,Be=Q=0,Ye=null,Qe=te.next();ve!==null&&!Qe.done;Be++,Qe=te.next()){ve.index>Be?(Ye=ve,ve=null):Ye=ve.sibling;var ta=ae($,ve,Qe.value,oe);if(ta===null){ve===null&&(ve=Ye);break}e&&ve&&ta.alternate===null&&t($,ve),Q=x(ta,Q,Be),Je===null?Ce=ta:Je.sibling=ta,Je=ta,ve=Ye}if(Qe.done)return n($,ve),Ke&&dl($,Be),Ce;if(ve===null){for(;!Qe.done;Be++,Qe=te.next())Qe=xe($,Qe.value,oe),Qe!==null&&(Q=x(Qe,Q,Be),Je===null?Ce=Qe:Je.sibling=Qe,Je=Qe);return Ke&&dl($,Be),Ce}for(ve=l(ve);!Qe.done;Be++,Qe=te.next())Qe=ie(ve,$,Be,Qe.value,oe),Qe!==null&&(e&&Qe.alternate!==null&&ve.delete(Qe.key===null?Be:Qe.key),Q=x(Qe,Q,Be),Je===null?Ce=Qe:Je.sibling=Qe,Je=Qe);return e&&ve.forEach(function(gh){return t($,gh)}),Ke&&dl($,Be),Ce}function st($,Q,te,oe){if(typeof te=="object"&&te!==null&&te.type===p&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ce=te.key;Q!==null;){if(Q.key===Ce){if(Ce=te.type,Ce===p){if(Q.tag===7){n($,Q.sibling),oe=u(Q,te.props.children),oe.return=$,$=oe;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&va(Ce)===Q.type){n($,Q.sibling),oe=u(Q,te.props),Ni(oe,te),oe.return=$,$=oe;break e}n($,Q);break}else t($,Q);Q=Q.sibling}te.type===p?(oe=da(te.props.children,$.mode,oe,te.key),oe.return=$,$=oe):(oe=Nr(te.type,te.key,te.props,null,$.mode,oe),Ni(oe,te),oe.return=$,$=oe)}return z($);case M:e:{for(Ce=te.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){n($,Q.sibling),oe=u(Q,te.children||[]),oe.return=$,$=oe;break e}else{n($,Q);break}else t($,Q);Q=Q.sibling}oe=Cc(te,$.mode,oe),oe.return=$,$=oe}return z($);case K:return te=va(te),st($,Q,te,oe)}if(b(te))return ge($,Q,te,oe);if(R(te)){if(Ce=R(te),typeof Ce!="function")throw Error(i(150));return te=Ce.call(te),je($,Q,te,oe)}if(typeof te.then=="function")return st($,Q,Ir(te),oe);if(te.$$typeof===T)return st($,Q,Tr($,te),oe);qr($,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(n($,Q.sibling),oe=u(Q,te),oe.return=$,$=oe):(n($,Q),oe=wc(te,$.mode,oe),oe.return=$,$=oe),z($)):n($,Q)}return function($,Q,te,oe){try{Di=0;var Ce=st($,Q,te,oe);return Ua=null,Ce}catch(ve){if(ve===Ya||ve===Br)throw ve;var Je=xn(29,ve,null,$.mode);return Je.lanes=oe,Je.return=$,Je}}}var ya=Ko(!0),Zo=Ko(!1),Gl=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Dr(e),Do(e,null,n),t}return Mr(e,l,t,n),Dr(e)}function Ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}function Gc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var z={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=z:x=x.next=z,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rc=!1;function Ei(){if(Rc){var e=Ha;if(e!==null)throw e}}function Ti(e,t,n,l){Rc=!1;var u=e.updateQueue;Gl=!1;var x=u.firstBaseUpdate,z=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var X=E,ne=X.next;X.next=null,z===null?x=ne:z.next=ne,z=X;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,E=ue.lastBaseUpdate,E!==z&&(E===null?ue.firstBaseUpdate=ne:E.next=ne,ue.lastBaseUpdate=X))}if(x!==null){var xe=u.baseState;z=0,ue=ne=X=null,E=x;do{var ae=E.lane&-536870913,ie=ae!==E.lane;if(ie?(He&ae)===ae:(l&ae)===ae){ae!==0&&ae===Oa&&(Rc=!0),ue!==null&&(ue=ue.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=e,je=E;ae=t;var st=n;switch(je.tag){case 1:if(ge=je.payload,typeof ge=="function"){xe=ge.call(st,xe,ae);break e}xe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=je.payload,ae=typeof ge=="function"?ge.call(st,xe,ae):ge,ae==null)break e;xe=w({},xe,ae);break e;case 2:Gl=!0}}ae=E.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ue===null?(ne=ue=ie,X=xe):ue=ue.next=ie,z|=ae;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;ie=E,E=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ue===null&&(X=xe),u.baseState=X,u.firstBaseUpdate=ne,u.lastBaseUpdate=ue,x===null&&(u.shared.lanes=0),Zl|=z,e.lanes=z,e.memoizedState=xe}}function Xo(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Wo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xo(n[e],t)}var Ka=_(null),Gr=_(0);function Vo(e,t){e=Cl,O(Gr,e),O(Ka,t),Cl=e|t.baseLanes}function Oc(){O(Gr,Cl),O(Ka,Ka.current)}function Hc(){Cl=Gr.current,N(Ka),N(Gr)}var fn=_(null),Dn=null;function Hl(e){var t=e.alternate;O(St,St.current&1),O(fn,e),Dn===null&&(t===null||Ka.current!==null||t.memoizedState!==null)&&(Dn=e)}function Yc(e){O(St,St.current),O(fn,e),Dn===null&&(Dn=e)}function Jo(e){e.tag===22?(O(St,St.current),O(fn,e),Dn===null&&(Dn=e)):Yl()}function Yl(){O(St,St.current),O(fn,fn.current)}function dn(e){N(fn),Dn===e&&(Dn=null),N(St)}var St=_(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Ju(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=0,Le=null,ct=null,zt=null,Or=!1,Za=!1,_a=!1,Hr=0,Li=0,Xa=null,c2=0;function pt(){throw Error(i(321))}function Uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Kc(e,t,n,l,u,x){return bl=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,m.H=e===null||e.memoizedState===null?Tx:iu,_a=!1,x=n(l,u),_a=!1,Za&&(x=Po(t,n,l,u)),Qo(e),x}function Qo(e){m.H=Ii;var t=ct!==null&&ct.next!==null;if(bl=0,zt=ct=Le=null,Or=!1,Li=0,Xa=null,t)throw Error(i(300));e===null||Mt||(e=e.dependencies,e!==null&&Er(e)&&(Mt=!0))}function Po(e,t,n,l){Le=e;var u=0;do{if(Za&&(Xa=null),Li=0,Za=!1,25<=u)throw Error(i(301));if(u+=1,zt=ct=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}m.H=Lx,x=t(n,l)}while(Za);return x}function u2(){var e=m.H,t=e.useState()[0];return t=typeof t.then=="function"?Bi(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Le.flags|=1024),t}function Zc(){var e=Hr!==0;return Hr=0,e}function Xc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Wc(e){if(Or){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Or=!1}bl=0,zt=ct=Le=null,Za=!1,Li=Hr=0,Xa=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=e:zt=zt.next=e,zt}function wt(){if(ct===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=zt===null?Le.memoizedState:zt.next;if(t!==null)zt=t,ct=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Le.memoizedState=zt=e:zt=zt.next=e}return zt}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var t=Li;return Li+=1,Xa===null&&(Xa=[]),e=Ho(Xa,e,t),t=Le,(zt===null?t.memoizedState:zt.next)===null&&(t=t.alternate,m.H=t===null||t.memoizedState===null?Tx:iu),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===T)return Ot(e)}throw Error(i(438,String(e)))}function Vc(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function gl(e,t){return typeof t=="function"?t(e):t}function Kr(e){var t=wt();return Jc(t,ct,e)}function Jc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var z=u.next;u.next=x.next,x.next=z}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var E=z=null,X=null,ne=t,ue=!1;do{var xe=ne.lane&-536870913;if(xe!==ne.lane?(He&xe)===xe:(bl&xe)===xe){var ae=ne.revertLane;if(ae===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),xe===Oa&&(ue=!0);else if((bl&ae)===ae){ne=ne.next,ae===Oa&&(ue=!0);continue}else xe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},X===null?(E=X=xe,z=x):X=X.next=xe,Le.lanes|=ae,Zl|=ae;xe=ne.action,_a&&n(x,xe),x=ne.hasEagerState?ne.eagerState:n(x,xe)}else ae={lane:xe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},X===null?(E=X=ae,z=x):X=X.next=ae,Le.lanes|=xe,Zl|=xe;ne=ne.next}while(ne!==null&&ne!==t);if(X===null?z=x:X.next=E,!on(x,e.memoizedState)&&(Mt=!0,ue&&(n=Ha,n!==null)))throw n;e.memoizedState=x,e.baseState=z,e.baseQueue=X,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qc(e){var t=wt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var z=u=u.next;do x=e(x,z.action),z=z.next;while(z!==u);on(x,t.memoizedState)||(Mt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Fo(e,t,n){var l=Le,u=wt(),x=Ke;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var z=!on((ct||u).memoizedState,n);if(z&&(u.memoizedState=n,Mt=!0),u=u.queue,$c(tx.bind(null,l,u,e),[e]),u.getSnapshot!==t||z||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},ex.bind(null,l,u,n,t),null),ot===null)throw Error(i(349));x||(bl&127)!==0||$o(l,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Yr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ex(e,t,n,l){t.value=n,t.getSnapshot=l,nx(t)&&lx(e)}function tx(e,t,n){return n(function(){nx(t)&&lx(e)})}function nx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function lx(e){var t=fa(e,2);t!==null&&nn(t,e,2)}function Pc(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),_a){yn(!0);try{n()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function ax(e,t,n,l){return e.baseState=n,Jc(e,ct,typeof l=="function"?l:gl)}function s2(e,t,n,l,u){if(Wr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){x.listeners.push(z)}};m.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,ix(t,x)):(x.next=n.next,t.pending=n.next=x)}}function ix(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=m.T,z={};m.T=z;try{var E=n(u,l),X=m.S;X!==null&&X(z,E),rx(e,t,E)}catch(ne){Fc(e,t,ne)}finally{x!==null&&z.types!==null&&(x.types=z.types),m.T=x}}else try{x=n(u,l),rx(e,t,x)}catch(ne){Fc(e,t,ne)}}function rx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){cx(e,t,l)},function(l){return Fc(e,t,l)}):cx(e,t,n)}function cx(e,t,n){t.status="fulfilled",t.value=n,ux(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ix(e,n)))}function Fc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ux(t),t=t.next;while(t!==l)}e.action=null}function ux(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sx(e,t){return t}function ox(e,t){if(Ke){var n=ot.formState;if(n!==null){e:{var l=Le;if(Ke){if(xt){t:{for(var u=xt,x=Mn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Nn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){xt=Nn(u.nextSibling),l=u.data==="F!";break e}}Il(l)}l=!1}l&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:t},n.queue=l,n=Nx.bind(null,Le,l),l.dispatch=n,l=Pc(!1),x=au.bind(null,Le,!1,l.queue),l=Wt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=s2.bind(null,Le,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xx(e){var t=wt();return fx(t,ct,e)}function fx(e,t,n){if(t=Jc(e,t,sx)[0],e=Kr(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Bi(t)}catch(z){throw z===Ya?Br:z}else l=t;t=wt();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Wa(9,{destroy:void 0},o2.bind(null,u,n),null)),[l,x,e]}function o2(e,t){e.action=t}function dx(e){var t=wt(),n=ct;if(n!==null)return fx(t,n,e);wt(),t=t.memoizedState,n=wt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Wa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Yr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function hx(){return wt().memoizedState}function Zr(e,t,n,l){var u=Wt();Le.flags|=e,u.memoizedState=Wa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Xr(e,t,n,l){var u=wt();l=l===void 0?null:l;var x=u.memoizedState.inst;ct!==null&&l!==null&&Uc(l,ct.memoizedState.deps)?u.memoizedState=Wa(t,x,n,l):(Le.flags|=e,u.memoizedState=Wa(1|t,x,n,l))}function mx(e,t){Zr(8390656,8,e,t)}function $c(e,t){Xr(2048,8,e,t)}function x2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Yr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bx(e){var t=wt().memoizedState;return x2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gx(e,t){return Xr(4,2,e,t)}function vx(e,t){return Xr(4,4,e,t)}function px(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yx(e,t,n){n=n!=null?n.concat([e]):null,Xr(4,4,px.bind(null,t,e),n)}function eu(){}function _x(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Sx(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),_a){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l}function tu(e,t,n){return n===void 0||(bl&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Le.lanes|=e,Zl|=e,n)}function wx(e,t,n,l){return on(n,t)?n:Ka.current!==null?(e=tu(e,n,l),on(e,t)||(Mt=!0),e):(bl&42)===0||(bl&1073741824)!==0&&(He&261930)===0?(Mt=!0,e.memoizedState=n):(e=Cf(),Le.lanes|=e,Zl|=e,t)}function Cx(e,t,n,l,u){var x=A.p;A.p=x!==0&&8>x?x:8;var z=m.T,E={};m.T=E,au(e,!1,t,n);try{var X=u(),ne=m.S;if(ne!==null&&ne(E,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=r2(X,l);ki(e,t,ue,bn(e))}else ki(e,t,l,bn(e))}catch(xe){ki(e,t,{then:function(){},status:"rejected",reason:xe},bn())}finally{A.p=x,z!==null&&E.types!==null&&(z.types=E.types),m.T=z}}function f2(){}function nu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=jx(e).queue;Cx(e,u,t,I,n===null?f2:function(){return zx(e),n(l)})}function jx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:I},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zx(e){var t=jx(e);t.next===null&&(t=e.alternate.memoizedState),ki(e,t.next.queue,{},bn())}function lu(){return Ot(Fi)}function Mx(){return wt().memoizedState}function Dx(){return wt().memoizedState}function d2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=Rl(n);var l=Ol(t,e,n);l!==null&&(nn(l,t,n),Ai(l,t,n)),t={cache:Tc()},e.payload=t;return}t=t.return}}function h2(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Wr(e)?Ax(t,n):(n=_c(e,t,n,l),n!==null&&(nn(n,e,l),Ex(n,t,l)))}function Nx(e,t,n){var l=bn();ki(e,t,n,l)}function ki(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wr(e))Ax(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var z=t.lastRenderedState,E=x(z,n);if(u.hasEagerState=!0,u.eagerState=E,on(E,z))return Mr(e,t,u,0),ot===null&&zr(),!1}catch{}if(n=_c(e,t,u,l),n!==null)return nn(n,e,l),Ex(n,t,l),!0}return!1}function au(e,t,n,l){if(l={lane:2,revertLane:Iu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wr(e)){if(t)throw Error(i(479))}else t=_c(e,n,l,2),t!==null&&nn(t,e,2)}function Wr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Ax(e,t){Za=Or=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ex(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}var Ii={readContext:Ot,use:Ur,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ii.useEffectEvent=pt;var Tx={readContext:Ot,use:Ur,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:mx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Zr(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zr(4194308,4,e,t)},useInsertionEffect:function(e,t){Zr(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var l=e();if(_a){yn(!0);try{e()}finally{yn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Wt();if(n!==void 0){var u=n(t);if(_a){yn(!0);try{n(t)}finally{yn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=h2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Pc(e);var t=e.queue,n=Nx.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:eu,useDeferredValue:function(e,t){var n=Wt();return tu(n,e,t)},useTransition:function(){var e=Pc(!1);return e=Cx.bind(null,Le,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Wt();if(Ke){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ot===null)throw Error(i(349));(He&127)!==0||$o(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,mx(tx.bind(null,l,x,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},ex.bind(null,l,x,n,t),null),n},useId:function(){var e=Wt(),t=ot.identifierPrefix;if(Ke){var n=Pn,l=Qn;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=c2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lu,useFormState:ox,useActionState:ox,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=au.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return Wt().memoizedState=d2.bind(null,Le)},useEffectEvent:function(e){var t=Wt(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},iu={readContext:Ot,use:Ur,useCallback:_x,useContext:Ot,useEffect:$c,useImperativeHandle:yx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Kr,useRef:hx,useState:function(){return Kr(gl)},useDebugValue:eu,useDeferredValue:function(e,t){var n=wt();return wx(n,ct.memoizedState,e,t)},useTransition:function(){var e=Kr(gl)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:Fo,useId:Mx,useHostTransitionStatus:lu,useFormState:xx,useActionState:xx,useOptimistic:function(e,t){var n=wt();return ax(n,ct,e,t)},useMemoCache:Vc,useCacheRefresh:Dx};iu.useEffectEvent=bx;var Lx={readContext:Ot,use:Ur,useCallback:_x,useContext:Ot,useEffect:$c,useImperativeHandle:yx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Qc,useRef:hx,useState:function(){return Qc(gl)},useDebugValue:eu,useDeferredValue:function(e,t){var n=wt();return ct===null?tu(n,e,t):wx(n,ct.memoizedState,e,t)},useTransition:function(){var e=Qc(gl)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:Fo,useId:Mx,useHostTransitionStatus:lu,useFormState:dx,useActionState:dx,useOptimistic:function(e,t){var n=wt();return ct!==null?ax(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Dx};Lx.useEffectEvent=bx;function ru(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Rl(l);u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(nn(t,e,l),Ai(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Rl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(nn(t,e,l),Ai(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=Rl(n);l.tag=2,t!=null&&(l.callback=t),t=Ol(e,l,n),t!==null&&(nn(t,e,n),Ai(t,e,n))}};function Bx(e,t,n,l,u,x,z){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,z):t.prototype&&t.prototype.isPureReactComponent?!Si(n,l)||!Si(u,x):!0}function kx(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&cu.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Ix(e){jr(e)}function qx(e){console.error(e)}function Gx(e){jr(e)}function Vr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function uu(e,t,n){return n=Rl(n),n.tag=3,n.payload={element:null},n.callback=function(){Vr(e,t)},n}function Ox(e){return e=Rl(e),e.tag=3,e}function Hx(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){Rx(t,n,l)}}var z=n.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(e.callback=function(){Rx(t,n,l),typeof u!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function m2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?r0():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Lu(e,l,u)),!1;case 22:return n.flags|=65536,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Lu(e,l,u)),!1}throw Error(i(435,n.tag))}return Lu(e,l,u),r0(),!1}if(Ke)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Mc&&(e=Error(i(422),{cause:l}),ji(Cn(e,n)))):(l!==Mc&&(t=Error(i(423),{cause:l}),ji(Cn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Cn(l,n),u=uu(e.stateNode,l,u),Gc(e,u),yt!==4&&(yt=2)),!1;var x=Error(i(520),{cause:l});if(x=Cn(x,n),Ki===null?Ki=[x]:Ki.push(x),yt!==4&&(yt=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=uu(n.stateNode,l,e),Gc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xl===null||!Xl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ox(u),Hx(u,e,n,l),Gc(n,u),!1}n=n.return}while(n!==null);return!1}var su=Error(i(461)),Mt=!1;function Ht(e,t,n,l){t.child=e===null?Zo(t,null,n,l):ya(t,e.child,n,l)}function Yx(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var z={};for(var E in l)E!=="ref"&&(z[E]=l[E])}else z=l;return ba(t),l=Kc(e,t,n,z,x,u),E=Zc(),e!==null&&!Mt?(Xc(e,t,u),vl(e,t,u)):(Ke&&E&&jc(t),t.flags|=1,Ht(e,t,l,u),t.child)}function Ux(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!Sc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Kx(e,t,x,l,u)):(e=Nr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!gu(e,u)){var z=x.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(z,l)&&e.ref===t.ref)return vl(e,t,u)}return t.flags|=1,e=fl(x,l),e.ref=t.ref,e.return=t,t.child=e}function Kx(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(Si(x,l)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=l=x,gu(e,u))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,vl(e,t,u)}return ou(e,t,n,l,u)}function Zx(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Xx(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,x!==null?x.cachePool:null),x!==null?Vo(t,x):Oc(),Jo(t);else return l=t.lanes=536870912,Xx(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Lr(t,x.cachePool),Vo(t,x),Yl(),t.memoizedState=null):(e!==null&&Lr(t,null),Oc(),Yl());return Ht(e,t,u,n),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xx(e,t,n,l,u){var x=Bc();return x=x===null?null:{parent:jt._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Lr(t,null),Oc(),Jo(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Jr(e,t){return t=Pr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wx(e,t,n){return ya(t,e.child,null,n),e=Jr(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function b2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ke){if(l.mode==="hidden")return e=Jr(t,l),t.lanes=536870912,qi(null,e);if(Yc(t),(e=xt)?(e=rd(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,Rt=t,xt=null)):e=null,e===null)throw Il(t);return t.lanes=536870912,null}return Jr(t,l)}var x=e.memoizedState;if(x!==null){var z=x.dehydrated;if(Yc(t),u)if(t.flags&256)t.flags&=-257,t=Wx(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Mt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,Mt||u){if(l=ot,l!==null&&(z=rt(l,n),z!==0&&z!==x.retryLane))throw x.retryLane=z,fa(e,z),nn(l,e,z),su;r0(),t=Wx(e,t,n)}else e=x.treeContext,xt=Nn(z.nextSibling),Rt=t,Ke=!0,kl=null,Mn=!1,e!==null&&Lo(t,e),t=Jr(t,l),t.flags|=4096;return t}return e=fl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ou(e,t,n,l,u){return ba(t),n=Kc(e,t,n,l,void 0,u),l=Zc(),e!==null&&!Mt?(Xc(e,t,u),vl(e,t,u)):(Ke&&l&&jc(t),t.flags|=1,Ht(e,t,n,u),t.child)}function Vx(e,t,n,l,u,x){return ba(t),t.updateQueue=null,n=Po(t,l,n,u),Qo(e),l=Zc(),e!==null&&!Mt?(Xc(e,t,x),vl(e,t,x)):(Ke&&l&&jc(t),t.flags|=1,Ht(e,t,n,x),t.child)}function Jx(e,t,n,l,u){if(ba(t),t.stateNode===null){var x=ka,z=n.contextType;typeof z=="object"&&z!==null&&(x=Ot(z)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=cu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Ic(t),z=n.contextType,x.context=typeof z=="object"&&z!==null?Ot(z):ka,x.state=t.memoizedState,z=n.getDerivedStateFromProps,typeof z=="function"&&(ru(t,n,z,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(z=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),z!==x.state&&cu.enqueueReplaceState(x,x.state,null),Ti(t,l,x,u),Ei(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var E=t.memoizedProps,X=Sa(n,E);x.props=X;var ne=x.context,ue=n.contextType;z=ka,typeof ue=="object"&&ue!==null&&(z=Ot(ue));var xe=n.getDerivedStateFromProps;ue=typeof xe=="function"||typeof x.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ue||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E||ne!==z)&&kx(t,x,l,z),Gl=!1;var ae=t.memoizedState;x.state=ae,Ti(t,l,x,u),Ei(),ne=t.memoizedState,E||ae!==ne||Gl?(typeof xe=="function"&&(ru(t,n,xe,l),ne=t.memoizedState),(X=Gl||Bx(t,n,X,l,ae,ne,z))?(ue||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),x.props=l,x.state=ne,x.context=z,l=X):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,qc(e,t),z=t.memoizedProps,ue=Sa(n,z),x.props=ue,xe=t.pendingProps,ae=x.context,ne=n.contextType,X=ka,typeof ne=="object"&&ne!==null&&(X=Ot(ne)),E=n.getDerivedStateFromProps,(ne=typeof E=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z!==xe||ae!==X)&&kx(t,x,l,X),Gl=!1,ae=t.memoizedState,x.state=ae,Ti(t,l,x,u),Ei();var ie=t.memoizedState;z!==xe||ae!==ie||Gl||e!==null&&e.dependencies!==null&&Er(e.dependencies)?(typeof E=="function"&&(ru(t,n,E,l),ie=t.memoizedState),(ue=Gl||Bx(t,n,ue,l,ae,ie,X)||e!==null&&e.dependencies!==null&&Er(e.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ie,X),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ie,X)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||z===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),x.props=l,x.state=ie,x.context=X,l=ue):(typeof x.componentDidUpdate!="function"||z===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||z===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Qr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ya(t,e.child,null,u),t.child=ya(t,null,n,u)):Ht(e,t,n,u),t.memoizedState=x.state,e=t.child):e=vl(e,t,u),e}function Qx(e,t,n,l){return ha(),t.flags|=256,Ht(e,t,n,l),t.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fu(e){return{baseLanes:e,cachePool:Ro()}}function du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Px(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,z;if((z=x)||(z=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),z&&(u=!0,t.flags&=-129),z=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ke){if(u?Hl(t):Yl(),(e=xt)?(e=rd(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,Rt=t,xt=null)):e=null,e===null)throw Il(t);return Ju(e)?t.lanes=32:t.lanes=536870912,null}var E=l.children;return l=l.fallback,u?(Yl(),u=t.mode,E=Pr({mode:"hidden",children:E},u),l=da(l,u,n,null),E.return=t,l.return=t,E.sibling=l,t.child=E,l=t.child,l.memoizedState=fu(n),l.childLanes=du(e,z,n),t.memoizedState=xu,qi(null,l)):(Hl(t),hu(t,E))}var X=e.memoizedState;if(X!==null&&(E=X.dehydrated,E!==null)){if(x)t.flags&256?(Hl(t),t.flags&=-257,t=mu(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),E=l.fallback,u=t.mode,l=Pr({mode:"visible",children:l.children},u),E=da(E,u,n,null),E.flags|=2,l.return=t,E.return=t,l.sibling=E,t.child=l,ya(t,e.child,null,n),l=t.child,l.memoizedState=fu(n),l.childLanes=du(e,z,n),t.memoizedState=xu,t=qi(null,l));else if(Hl(t),Ju(E)){if(z=E.nextSibling&&E.nextSibling.dataset,z)var ne=z.dgst;z=ne,l=Error(i(419)),l.stack="",l.digest=z,ji({value:l,source:null,stack:null}),t=mu(e,t,n)}else if(Mt||Ra(e,t,n,!1),z=(n&e.childLanes)!==0,Mt||z){if(z=ot,z!==null&&(l=rt(z,n),l!==0&&l!==X.retryLane))throw X.retryLane=l,fa(e,l),nn(z,e,l),su;Vu(E)||r0(),t=mu(e,t,n)}else Vu(E)?(t.flags|=192,t.child=e.child,t=null):(e=X.treeContext,xt=Nn(E.nextSibling),Rt=t,Ke=!0,kl=null,Mn=!1,e!==null&&Lo(t,e),t=hu(t,l.children),t.flags|=4096);return t}return u?(Yl(),E=l.fallback,u=t.mode,X=e.child,ne=X.sibling,l=fl(X,{mode:"hidden",children:l.children}),l.subtreeFlags=X.subtreeFlags&65011712,ne!==null?E=fl(ne,E):(E=da(E,u,n,null),E.flags|=2),E.return=t,l.return=t,l.sibling=E,t.child=l,qi(null,l),l=t.child,E=e.child.memoizedState,E===null?E=fu(n):(u=E.cachePool,u!==null?(X=jt._currentValue,u=u.parent!==X?{parent:X,pool:X}:u):u=Ro(),E={baseLanes:E.baseLanes|n,cachePool:u}),l.memoizedState=E,l.childLanes=du(e,z,n),t.memoizedState=xu,qi(e.child,l)):(Hl(t),n=e.child,e=n.sibling,n=fl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(z=t.deletions,z===null?(t.deletions=[e],t.flags|=16):z.push(e)),t.child=n,t.memoizedState=null,n)}function hu(e,t){return t=Pr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Pr(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function mu(e,t,n){return ya(t,e.child,null,n),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ac(e.return,t,n)}function bu(e,t,n,l,u,x){var z=e.memoizedState;z===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(z.isBackwards=t,z.rendering=null,z.renderingStartTime=0,z.last=l,z.tail=n,z.tailMode=u,z.treeForkCount=x)}function $x(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var z=St.current,E=(z&2)!==0;if(E?(z=z&1|2,t.flags|=128):z&=1,O(St,z),Ht(e,t,l,n),l=Ke?Ci:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fx(e,n,t);else if(e.tag===19)Fx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Rr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),bu(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Rr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}bu(t,!0,n,null,x,l);break;case"together":bu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function vl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Er(e)))}function g2(e,t,n){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),ql(t,jt,e.memoizedState.cache),ha();break;case 27:case 5:me(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:ql(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Hl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Px(e,t,n):(Hl(t),e=vl(e,t,n),e!==null?e.sibling:null);Hl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return $x(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),O(St,St.current),l)break;return null;case 22:return t.lanes=0,Zx(e,t,n,t.pendingProps);case 24:ql(t,jt,e.memoizedState.cache)}return vl(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!gu(e,n)&&(t.flags&128)===0)return Mt=!1,g2(e,t,n);Mt=(e.flags&131072)!==0}else Mt=!1,Ke&&(t.flags&1048576)!==0&&To(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=va(t.elementType),t.type=e,typeof e=="function")Sc(e)?(l=Sa(e,l),t.tag=1,t=Jx(null,t,e,l,n)):(t.tag=0,t=ou(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Yx(null,t,e,l,n);break e}else if(u===k){t.tag=14,t=Ux(null,t,e,l,n);break e}}throw t=U(e)||e,Error(i(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=Sa(l,t.pendingProps),Jx(e,t,l,u,n);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,qc(e,t),Ti(t,l,null,n);var z=t.memoizedState;if(l=z.cache,ql(t,jt,l),l!==x.cache&&Ec(t,[jt],n,!0),Ei(),l=z.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:z.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Qx(e,t,l,n);break e}else if(l!==u){u=Cn(Error(i(424)),t),ji(u),t=Qx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Nn(e.firstChild),Rt=t,Ke=!0,kl=null,Mn=!0,n=Zo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ha(),l===u){t=vl(e,t,n);break e}Ht(e,t,l,n)}t=t.child}return t;case 26:return Qr(e,t),e===null?(n=fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ke||(n=t.type,e=t.pendingProps,l=d0(le.current).createElement(n),l[vt]=t,l[Te]=e,Yt(l,n,e),ze(l),t.stateNode=l):t.memoizedState=fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Ke&&(l=t.stateNode=sd(t.type,t.pendingProps,le.current),Rt=t,Mn=!0,u=xt,Ql(t.type)?(Qu=u,xt=Nn(l.firstChild)):xt=u),Ht(e,t,t.pendingProps.children,n),Qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ke&&((u=l=xt)&&(l=W2(l,t.type,t.pendingProps,Mn),l!==null?(t.stateNode=l,Rt=t,xt=Nn(l.firstChild),Mn=!1,u=!0):u=!1),u||Il(t)),me(t),u=t.type,x=t.pendingProps,z=e!==null?e.memoizedProps:null,l=x.children,Zu(u,x)?l=null:z!==null&&Zu(u,z)&&(t.flags|=32),t.memoizedState!==null&&(u=Kc(e,t,u2,null,null,n),Fi._currentValue=u),Qr(e,t),Ht(e,t,l,n),t.child;case 6:return e===null&&Ke&&((e=n=xt)&&(n=V2(n,t.pendingProps,Mn),n!==null?(t.stateNode=n,Rt=t,xt=null,e=!0):e=!1),e||Il(t)),null;case 13:return Px(e,t,n);case 4:return se(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ya(t,null,l,n):Ht(e,t,l,n),t.child;case 11:return Yx(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,ql(t,t.type,l.value),Ht(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ba(t),u=Ot(u),l=l(u),t.flags|=1,Ht(e,t,l,n),t.child;case 14:return Ux(e,t,t.type,t.pendingProps,n);case 15:return Kx(e,t,t.type,t.pendingProps,n);case 19:return $x(e,t,n);case 31:return b2(e,t,n);case 22:return Zx(e,t,n,t.pendingProps);case 24:return ba(t),l=Ot(jt),e===null?(u=Bc(),u===null&&(u=ot,x=Tc(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Ic(t),ql(t,jt,u)):((e.lanes&n)!==0&&(qc(e,t),Ti(t,null,null,n),Ei()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),ql(t,jt,l)):(l=x.cache,ql(t,jt,l),l!==u.cache&&Ec(t,[jt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function pl(e){e.flags|=4}function vu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw pa=kr,kc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gd(t))if(Df())e.flags|=8192;else throw pa=kr,kc}function Fr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?We():536870912,e.lanes|=t,Pa|=t)}function Gi(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function v2(e,t,n){var l=t.pendingProps;switch(zc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ml(jt),ce(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?pl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),ft(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(pl(t),x!==null?(ft(t),tf(t,x)):(ft(t),vu(t,u,null,l,n))):x?x!==e.memoizedState?(pl(t),ft(t),tf(t,x)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pl(t),ft(t),vu(t,u,e,l,n)),null;case 27:if(de(t),n=le.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}e=Z.current,Ga(t)?Bo(t):(e=sd(u,l,n),t.stateNode=e,pl(t))}return ft(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}if(x=Z.current,Ga(t))Bo(t);else{var z=d0(le.current);switch(x){case 1:x=z.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=z.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=z.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=z.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=z.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?z.createElement("select",{is:l.is}):z.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?z.createElement(u,{is:l.is}):z.createElement(u)}}x[vt]=t,x[Te]=l;e:for(z=t.child;z!==null;){if(z.tag===5||z.tag===6)x.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===t)break e;for(;z.sibling===null;){if(z.return===null||z.return===t)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}t.stateNode=x;e:switch(Yt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pl(t)}}return ft(t),vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[vt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||Il(t,!0)}else e=d0(e).createTextNode(l),e[vt]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ga(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[vt]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ga(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[vt]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fr(t,t.updateQueue),ft(t),null);case 4:return ce(),e===null&&Ou(t.stateNode.containerInfo),ft(t),null;case 10:return ml(t.type),ft(t),null;case 19:if(N(St),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Gi(l,!1);else{if(yt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Rr(e),x!==null){for(t.flags|=128,Gi(l,!1),e=x.updateQueue,t.updateQueue=e,Fr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)No(n,e),n=n.sibling;return O(St,St.current&1|2),Ke&&dl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pe()>l0&&(t.flags|=128,u=!0,Gi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Rr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Fr(t,e),Gi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ke)return ft(t),null}else 2*Pe()-l.renderingStartTime>l0&&n!==536870912&&(t.flags|=128,u=!0,Gi(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,n=St.current,O(St,u?n&1|2:n&1),Ke&&dl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return dn(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Fr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&N(ga),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ml(jt),ft(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function p2(e,t){switch(zc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(jt),ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(St),null;case 4:return ce(),null;case 10:return ml(t.type),null;case 22:case 23:return dn(t),Hc(),e!==null&&N(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(jt),null;case 25:return null;default:return null}}function nf(e,t){switch(zc(t),t.tag){case 3:ml(jt),ce();break;case 26:case 27:case 5:de(t);break;case 4:ce();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:N(St);break;case 10:ml(t.type);break;case 22:case 23:dn(t),Hc(),e!==null&&N(ga);break;case 24:ml(jt)}}function Ri(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,z=n.inst;l=x(),z.destroy=l}n=n.next}while(n!==u)}}catch(E){it(t,t.return,E)}}function Ul(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var z=l.inst,E=z.destroy;if(E!==void 0){z.destroy=void 0,u=t;var X=n,ne=E;try{ne()}catch(ue){it(u,X,ue)}}}l=l.next}while(l!==x)}}catch(ue){it(t,t.return,ue)}}function lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wo(t,n)}catch(l){it(e,e.return,l)}}}function af(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Oi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function rf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function pu(e,t,n){try{var l=e.stateNode;H2(l,e.type,n,t),l[Te]=t}catch(u){it(e,e.return,u)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function $r(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($r(e,t,n),e=e.sibling;e!==null;)$r(e,t,n),e=e.sibling}function uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Yt(t,l,n),t[vt]=e,t[Te]=n}catch(x){it(e,e.return,x)}}var yl=!1,Dt=!1,Su=!1,sf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function y2(e,t){if(e=e.containerInfo,Uu=y0,e=yo(e),mc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var z=0,E=-1,X=-1,ne=0,ue=0,xe=e,ae=null;t:for(;;){for(var ie;xe!==n||u!==0&&xe.nodeType!==3||(E=z+u),xe!==x||l!==0&&xe.nodeType!==3||(X=z+l),xe.nodeType===3&&(z+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)ae=xe,xe=ie;for(;;){if(xe===e)break t;if(ae===n&&++ne===u&&(E=z),ae===x&&++ue===l&&(X=z),(ie=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=ie}n=E===-1||X===-1?null:{start:E,end:X}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},y0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var ge=Sa(n.type,u);e=l.getSnapshotBeforeUpdate(ge,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function of(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),l&4&&Ri(5,n);break;case 1:if(Sl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(z){it(n,n.return,z)}else{var u=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(z){it(n,n.return,z)}}l&64&&lf(n),l&512&&Oi(n,n.return);break;case 3:if(Sl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wo(e,t)}catch(z){it(n,n.return,z)}}break;case 27:t===null&&l&4&&uf(n);case 26:case 5:Sl(e,n),t===null&&l&4&&rf(n),l&512&&Oi(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),l&4&&df(e,n);break;case 13:Sl(e,n),l&4&&hf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=N2.bind(null,n),J2(e,n))));break;case 22:if(l=n.memoizedState!==null||yl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=yl;var x=Dt;yl=l,(Dt=t)&&!x?wl(e,n,(n.subtreeFlags&8772)!==0):Sl(e,n),yl=u,Dt=x}break;case 30:break;default:Sl(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Ft=!1;function _l(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Rn,n)}catch{}switch(n.tag){case 26:Dt||Fn(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||Fn(n,t);var l=ht,u=Ft;Ql(n.type)&&(ht=n.stateNode,Ft=!1),_l(e,t,n),Ji(n.stateNode),ht=l,Ft=u;break;case 5:Dt||Fn(n,t);case 6:if(l=ht,u=Ft,ht=null,_l(e,t,n),ht=l,Ft=u,ht!==null)if(Ft)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(x){it(n,t,x)}else try{ht.removeChild(n.stateNode)}catch(x){it(n,t,x)}break;case 18:ht!==null&&(Ft?(e=ht,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):ad(ht,n.stateNode));break;case 4:l=ht,u=Ft,ht=n.stateNode.containerInfo,Ft=!0,_l(e,t,n),ht=l,Ft=u;break;case 0:case 11:case 14:case 15:Ul(2,n,t),Dt||Ul(4,n,t),_l(e,t,n);break;case 1:Dt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&af(n,t,l)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,_l(e,t,n),Dt=l;break;default:_l(e,t,n)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(n){it(t,t.return,n)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){it(t,t.return,n)}}function _2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(i(435,e.tag))}}function e0(e,t){var n=_2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=A2.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,z=t,E=z;e:for(;E!==null;){switch(E.tag){case 27:if(Ql(E.type)){ht=E.stateNode,Ft=!1;break e}break;case 5:ht=E.stateNode,Ft=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,Ft=!0;break e}E=E.return}if(ht===null)throw Error(i(160));ff(x,z,u),ht=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var Yn=null;function mf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Ul(3,e,e.return),Ri(3,e),Ul(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&64&&yl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Yn;if($t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[ua]||x[vt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),Yt(x,l,n),x[vt]=e,ze(x),l=x;break e;case"link":var z=md("link","href",u).get(l+(n.href||""));if(z){for(var E=0;E<z.length;E++)if(x=z[E],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){z.splice(E,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;case"meta":if(z=md("meta","content",u).get(l+(n.content||""))){for(E=0;E<z.length;E++)if(x=z[E],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){z.splice(E,1);break t}}x=u.createElement(l),Yt(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[vt]=e,ze(x),l=x}e.stateNode=l}else bd(u,e.type,e.stateNode);else e.stateNode=hd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?bd(u,e.type,e.stateNode):hd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),n!==null&&l&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Dt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{Da(u,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,pu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(Su=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(b0=null,u=Yn,Yn=h0(t.containerInfo),$t(t,e),Yn=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(ge){it(e,e.return,ge)}Su&&(Su=!1,bf(e));break;case 4:l=Yn,Yn=h0(e.stateNode.containerInfo),$t(t,e),en(e),Yn=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(n0=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 22:u=e.memoizedState!==null;var X=n!==null&&n.memoizedState!==null,ne=yl,ue=Dt;if(yl=ne||u,Dt=ue||X,$t(t,e),Dt=ue,yl=ne,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||X||yl||Dt||wa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){X=n=t;try{if(x=X.stateNode,u)z=x.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{E=X.stateNode;var xe=X.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;E.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){it(X,X.return,ge)}}}else if(t.tag===6){if(n===null){X=t;try{X.stateNode.nodeValue=u?"":X.memoizedProps}catch(ge){it(X,X.return,ge)}}}else if(t.tag===18){if(n===null){X=t;try{var ie=X.stateNode;u?id(ie,!0):id(X.stateNode,!1)}catch(ge){it(X,X.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,e0(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,e0(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=yu(e);$r(e,x,u);break;case 5:var z=n.stateNode;n.flags&32&&(Da(z,""),n.flags&=-33);var E=yu(e);$r(e,E,z);break;case 3:case 4:var X=n.stateNode.containerInfo,ne=yu(e);_u(e,ne,X);break;default:throw Error(i(161))}}catch(ue){it(e,e.return,ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ul(4,t,t.return),wa(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),wa(t);break;case 27:Ji(t.stateNode);case 26:case 5:Fn(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,z=x.flags;switch(x.tag){case 0:case 11:case 15:wl(u,x,n),Ri(4,x);break;case 1:if(wl(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=x,u=l.updateQueue,u!==null){var E=l.stateNode;try{var X=u.shared.hiddenCallbacks;if(X!==null)for(u.shared.hiddenCallbacks=null,u=0;u<X.length;u++)Xo(X[u],E)}catch(ne){it(l,l.return,ne)}}n&&z&64&&lf(x),Oi(x,x.return);break;case 27:uf(x);case 26:case 5:wl(u,x,n),n&&l===null&&z&4&&rf(x),Oi(x,x.return);break;case 12:wl(u,x,n);break;case 31:wl(u,x,n),n&&z&4&&df(u,x);break;case 13:wl(u,x,n),n&&z&4&&hf(u,x);break;case 22:x.memoizedState===null&&wl(u,x,n),Oi(x,x.return);break;case 30:break;default:wl(u,x,n)}t=t.sibling}}function wu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zi(n))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e))}function Un(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,l),t=t.sibling}function gf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,l),u&2048&&Ri(9,t);break;case 1:Un(e,t,n,l);break;case 3:Un(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e)));break;case 12:if(u&2048){Un(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,z=x.id,E=x.onPostCommit;typeof E=="function"&&E(z,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){it(t,t.return,X)}}else Un(e,t,n,l);break;case 31:Un(e,t,n,l);break;case 13:Un(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,z=t.alternate,t.memoizedState!==null?x._visibility&2?Un(e,t,n,l):Hi(e,t):x._visibility&2?Un(e,t,n,l):(x._visibility|=2,Va(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&wu(z,t);break;case 24:Un(e,t,n,l),u&2048&&Cu(t.alternate,t);break;default:Un(e,t,n,l)}}function Va(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,z=t,E=n,X=l,ne=z.flags;switch(z.tag){case 0:case 11:case 15:Va(x,z,E,X,u),Ri(8,z);break;case 23:break;case 22:var ue=z.stateNode;z.memoizedState!==null?ue._visibility&2?Va(x,z,E,X,u):Hi(x,z):(ue._visibility|=2,Va(x,z,E,X,u)),u&&ne&2048&&wu(z.alternate,z);break;case 24:Va(x,z,E,X,u),u&&ne&2048&&Cu(z.alternate,z);break;default:Va(x,z,E,X,u)}t=t.sibling}}function Hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Hi(n,l),u&2048&&wu(l.alternate,l);break;case 24:Hi(n,l),u&2048&&Cu(l.alternate,l);break;default:Hi(n,l)}t=t.sibling}}var Yi=8192;function Ja(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Ja(e,t,n),e.flags&Yi&&e.memoizedState!==null&&ch(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ja(e,t,n);break;case 3:case 4:var l=Yn;Yn=h0(e.stateNode.containerInfo),Ja(e,t,n),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yi,Yi=16777216,Ja(e,t,n),Yi=l):Ja(e,t,n));break;default:Ja(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,_f(l,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Ul(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,t0(e)):Ui(e);break;default:Ui(e)}}function t0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,_f(l,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ul(8,t,t.return),t0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,t0(t));break;default:t0(t)}e=e.sibling}}function _f(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Ul(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,x=l.return;if(xf(l),l===n){Et=null;break e}if(u!==null){u.return=x,Et=u;break e}Et=x}}}var S2={getCacheForType:function(e){var t=Ot(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(jt).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,tt=0,ot=null,qe=null,He=0,at=0,hn=null,Kl=!1,Qa=!1,ju=!1,Cl=0,yt=0,Zl=0,Ca=0,zu=0,mn=0,Pa=0,Ki=null,tn=null,Mu=!1,n0=0,Sf=0,l0=1/0,a0=null,Xl=null,At=0,Wl=null,Fa=null,jl=0,Du=0,Nu=null,wf=null,Zi=0,Au=null;function bn(){return(tt&2)!==0&&He!==0?He&-He:m.T!==null?Iu():On()}function Cf(){if(mn===0)if((He&536870912)===0||Ke){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function nn(e,t,n){(e===ot&&(at===2||at===9)||e.cancelPendingCommit!==null)&&($a(e,0),Vl(e,He,mn,!1)),Ee(e,n),((tt&2)===0||e!==ot)&&(e===ot&&((tt&2)===0&&(Ca|=n),yt===4&&Vl(e,He,mn,!1)),$n(e))}function jf(e,t,n){if((tt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?z2(e,t):Tu(e,t,!0),x=l;do{if(u===0){Qa&&!l&&Vl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!C2(n)){u=Tu(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var z=0;else z=e.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){t=z;e:{var E=e;u=Ki;var X=E.current.memoizedState.isDehydrated;if(X&&($a(E,z).flags|=256),z=Tu(E,z,!1),z!==2){if(ju&&!X){E.errorRecoveryDisabledLanes|=x,Ca|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=z}if(x=!1,u!==2)continue}}if(u===1){$a(e,0),Vl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Vl(l,t,mn,!Kl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=n0+300-Pe(),10<u)){if(Vl(l,t,mn,!Kl),we(l,0,!0)!==0)break e;jl=t,l.timeoutHandle=nd(zf.bind(null,l,n,tn,a0,Mu,t,mn,Ca,Pa,Kl,x,"Throttled",-0,0),u);break e}zf(l,n,tn,a0,Mu,t,mn,Ca,Pa,Kl,x,null,-0,0)}}break}while(!0);$n(e)}function zf(e,t,n,l,u,x,z,E,X,ne,ue,xe,ae,ie){if(e.timeoutHandle=-1,xe=t.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},vf(t,x,xe);var ge=(x&62914560)===x?n0-Pe():(x&4194048)===x?Sf-Pe():0;if(ge=uh(xe,ge),ge!==null){jl=x,e.cancelPendingCommit=ge(Bf.bind(null,e,t,x,n,l,u,z,E,X,ue,xe,null,ae,ie)),Vl(e,x,z,!ne);return}}Bf(e,t,x,n,l,u,z,E,X)}function C2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!on(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vl(e,t,n,l){t&=~zu,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-Oe(u),z=1<<x;l[x]=-1,u&=~z}n!==0&&et(e,n,t)}function i0(){return(tt&6)===0?(Xi(0),!1):!0}function Eu(){if(qe!==null){if(at===0)var e=qe.return;else e=qe,hl=ma=null,Wc(e),Ua=null,Di=0,e=qe;for(;e!==null;)nf(e.alternate,e),e=e.return;qe=null}}function $a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,K2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jl=0,Eu(),ot=e,qe=n=fl(e.current,null),He=t,at=0,hn=null,Kl=!1,Qa=Fe(e,t),ju=!1,Pa=mn=zu=Ca=Zl=yt=0,tn=Ki=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Oe(l),x=1<<u;t|=e[u],l&=~x}return Cl=t,zr(),n}function Mf(e,t){Le=null,m.H=Ii,t===Ya||t===Br?(t=Yo(),at=3):t===kc?(t=Yo(),at=4):at=t===su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,qe===null&&(yt=1,Vr(e,Cn(t,e.current)))}function Df(){var e=fn.current;return e===null?!0:(He&4194048)===He?Dn===null:(He&62914560)===He||(He&536870912)!==0?e===Dn:!1}function Nf(){var e=m.H;return m.H=Ii,e===null?Ii:e}function Af(){var e=m.A;return m.A=S2,e}function r0(){yt=4,Kl||(He&4194048)!==He&&fn.current!==null||(Qa=!0),(Zl&134217727)===0&&(Ca&134217727)===0||ot===null||Vl(ot,He,mn,!1)}function Tu(e,t,n){var l=tt;tt|=2;var u=Nf(),x=Af();(ot!==e||He!==t)&&(a0=null,$a(e,t)),t=!1;var z=yt;e:do try{if(at!==0&&qe!==null){var E=qe,X=hn;switch(at){case 8:Eu(),z=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var ne=at;if(at=0,hn=null,ei(e,E,X,ne),n&&Qa){z=0;break e}break;default:ne=at,at=0,hn=null,ei(e,E,X,ne)}}j2(),z=yt;break}catch(ue){Mf(e,ue)}while(!0);return t&&e.shellSuspendCounter++,hl=ma=null,tt=l,m.H=u,m.A=x,qe===null&&(ot=null,He=0,zr()),z}function j2(){for(;qe!==null;)Ef(qe)}function z2(e,t){var n=tt;tt|=2;var l=Nf(),u=Af();ot!==e||He!==t?(a0=null,l0=Pe()+500,$a(e,t)):Qa=Fe(e,t);e:do try{if(at!==0&&qe!==null){t=qe;var x=hn;t:switch(at){case 1:at=0,hn=null,ei(e,t,x,1);break;case 2:case 9:if(Oo(x)){at=0,hn=null,Tf(t);break}t=function(){at!==2&&at!==9||ot!==e||(at=7),$n(e)},x.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Oo(x)?(at=0,hn=null,Tf(t)):(at=0,hn=null,ei(e,t,x,7));break;case 5:var z=null;switch(qe.tag){case 26:z=qe.memoizedState;case 5:case 27:var E=qe;if(z?gd(z):E.stateNode.complete){at=0,hn=null;var X=E.sibling;if(X!==null)qe=X;else{var ne=E.return;ne!==null?(qe=ne,c0(ne)):qe=null}break t}}at=0,hn=null,ei(e,t,x,5);break;case 6:at=0,hn=null,ei(e,t,x,6);break;case 8:Eu(),yt=6;break e;default:throw Error(i(462))}}M2();break}catch(ue){Mf(e,ue)}while(!0);return hl=ma=null,m.H=l,m.A=u,tt=n,qe!==null?0:(ot=null,He=0,zr(),yt)}function M2(){for(;qe!==null&&!Xn();)Ef(qe)}function Ef(e){var t=ef(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,t===null?c0(e):qe=t}function Tf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vx(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Vx(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Wc(t);default:nf(n,t),t=qe=No(t,Cl),t=ef(n,t,Cl)}e.memoizedProps=e.pendingProps,t===null?c0(e):qe=t}function ei(e,t,n,l){hl=ma=null,Wc(t),Ua=null,Di=0;var u=t.return;try{if(m2(e,u,t,n,He)){yt=1,Vr(e,Cn(n,e.current)),qe=null;return}}catch(x){if(u!==null)throw qe=u,x;yt=1,Vr(e,Cn(n,e.current)),qe=null;return}t.flags&32768?(Ke||l===1?e=!0:Qa||(He&536870912)!==0?e=!1:(Kl=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lf(t,e)):c0(t)}function c0(e){var t=e;do{if((t.flags&32768)!==0){Lf(t,Kl);return}e=t.return;var n=v2(t.alternate,t,Cl);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);yt===0&&(yt=5)}function Lf(e,t){do{var n=p2(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);yt=6,qe=null}function Bf(e,t,n,l,u,x,z,E,X){e.cancelPendingCommit=null;do u0();while(At!==0);if((tt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=yc,qt(e,n,x,z,E,X),e===ot&&(qe=ot=null,He=0),Fa=t,Wl=e,jl=n,Du=x,Nu=u,wf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E2(cl,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=m.T,m.T=null,u=A.p,A.p=2,z=tt,tt|=4;try{y2(e,t,n)}finally{tt=z,A.p=u,m.T=l}}At=1,kf(),If(),qf()}}function kf(){if(At===1){At=0;var e=Wl,t=Fa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=m.T,m.T=null;var l=A.p;A.p=2;var u=tt;tt|=4;try{mf(t,e);var x=Ku,z=yo(e.containerInfo),E=x.focusedElem,X=x.selectionRange;if(z!==E&&E&&E.ownerDocument&&po(E.ownerDocument.documentElement,E)){if(X!==null&&mc(E)){var ne=X.start,ue=X.end;if(ue===void 0&&(ue=ne),"selectionStart"in E)E.selectionStart=ne,E.selectionEnd=Math.min(ue,E.value.length);else{var xe=E.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ge=E.textContent.length,je=Math.min(X.start,ge),st=X.end===void 0?je:Math.min(X.end,ge);!ie.extend&&je>st&&(z=st,st=je,je=z);var $=vo(E,je),Q=vo(E,st);if($&&Q&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var te=xe.createRange();te.setStart($.node,$.offset),ie.removeAllRanges(),je>st?(ie.addRange(te),ie.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),ie.addRange(te))}}}}for(xe=[],ie=E;ie=ie.parentNode;)ie.nodeType===1&&xe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<xe.length;E++){var oe=xe[E];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}y0=!!Uu,Ku=Uu=null}finally{tt=u,A.p=l,m.T=n}}e.current=t,At=2}}function If(){if(At===2){At=0;var e=Wl,t=Fa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=m.T,m.T=null;var l=A.p;A.p=2;var u=tt;tt|=4;try{of(e,t.alternate,t)}finally{tt=u,A.p=l,m.T=n}}At=3}}function qf(){if(At===4||At===3){At=0,Wn();var e=Wl,t=Fa,n=jl,l=wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Fa=Wl=null,Gf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Xl=null),gt(n),t=t.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=m.T,u=A.p,A.p=2,m.T=null;try{for(var x=e.onRecoverableError,z=0;z<l.length;z++){var E=l[z];x(E.value,{componentStack:E.stack})}}finally{m.T=t,A.p=u}}(jl&3)!==0&&u0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Au?Zi++:(Zi=0,Au=e):Zi=0,Xi(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zi(t)))}function u0(){return kf(),If(),qf(),Rf()}function Rf(){if(At!==5)return!1;var e=Wl,t=Du;Du=0;var n=gt(jl),l=m.T,u=A.p;try{A.p=32>n?32:n,m.T=null,n=Nu,Nu=null;var x=Wl,z=jl;if(At=0,Fa=Wl=null,jl=0,(tt&6)!==0)throw Error(i(331));var E=tt;if(tt|=4,yf(x.current),gf(x,x.current,z,n),tt=E,Xi(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Rn,x)}catch{}return!0}finally{A.p=u,m.T=l,Gf(e,t)}}function Of(e,t,n){t=Cn(n,t),t=uu(e.stateNode,t,2),e=Ol(e,t,2),e!==null&&(Ee(e,2),$n(e))}function it(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xl===null||!Xl.has(l))){e=Cn(n,e),n=Ox(2),l=Ol(t,n,2),l!==null&&(Hx(n,l,t,e),Ee(l,2),$n(l));break}}t=t.return}}function Lu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new w2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(ju=!0,u.add(n),e=D2.bind(null,e,t,n),t.then(e,e))}function D2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(He&n)===n&&(yt===4||yt===3&&(He&62914560)===He&&300>Pe()-n0?(tt&2)===0&&$a(e,0):zu|=n,Pa===He&&(Pa=0)),$n(e)}function Hf(e,t){t===0&&(t=We()),e=fa(e,t),e!==null&&(Ee(e,t),$n(e))}function N2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hf(e,n)}function A2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Hf(e,n)}function E2(e,t){return Ut(e,t)}var s0=null,ti=null,Bu=!1,o0=!1,ku=!1,Jl=0;function $n(e){e!==ti&&e.next===null&&(ti===null?s0=ti=e:ti=ti.next=e),o0=!0,Bu||(Bu=!0,L2())}function Xi(e,t){if(!ku&&o0){ku=!0;do for(var n=!1,l=s0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var z=l.suspendedLanes,E=l.pingedLanes;x=(1<<31-Oe(42|e)+1)-1,x&=u&~(z&~E),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Zf(l,x))}else x=He,x=we(l,l===ot?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Fe(l,x)||(n=!0,Zf(l,x));l=l.next}while(n);ku=!1}}function T2(){Yf()}function Yf(){o0=Bu=!1;var e=0;Jl!==0&&U2()&&(e=Jl);for(var t=Pe(),n=null,l=s0;l!==null;){var u=l.next,x=Uf(l,t);x===0?(l.next=null,n===null?s0=u:n.next=u,u===null&&(ti=n)):(n=l,(e!==0||(x&3)!==0)&&(o0=!0)),l=u}At!==0&&At!==5||Xi(e),Jl!==0&&(Jl=0)}function Uf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var z=31-Oe(x),E=1<<z,X=u[z];X===-1?((E&n)===0||(E&l)!==0)&&(u[z]=$e(E,t)):X<=t&&(e.expiredLanes|=E),x&=~E}if(t=ot,n=He,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Gn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Gn(l),gt(n)){case 2:case 8:n=rl;break;case 32:n=cl;break;case 268435456:n=ra;break;default:n=cl}return l=Kf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Gn(l),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(u0()&&e.callbackNode!==n)return null;var l=He;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jf(e,l,t),Uf(e,Pe()),e.callbackNode!=null&&e.callbackNode===n?Kf.bind(null,e):null)}function Zf(e,t){if(u0())return null;jf(e,t,!0)}function L2(){Z2(function(){(tt&6)!==0?Ut(Dl,T2):Yf()})}function Iu(){if(Jl===0){var e=Oa;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Jl=e}return Jl}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vr(""+e)}function Wf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function B2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Xf((u[Te]||null).action),z=l.submitter;z&&(t=(t=z[Te]||null)?Xf(t.formAction):z.getAttribute("formAction"),t!==null&&(x=t,z=null));var E=new Sr("action","action",null,l,u);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var X=z?Wf(u,z):new FormData(u);nu(n,{pending:!0,data:X,method:u.method,action:x},null,X)}}else typeof x=="function"&&(E.preventDefault(),X=z?Wf(u,z):new FormData(u),nu(n,{pending:!0,data:X,method:u.method,action:x},x,X))},currentTarget:u}]})}}for(var qu=0;qu<pc.length;qu++){var Gu=pc[qu],k2=Gu.toLowerCase(),I2=Gu[0].toUpperCase()+Gu.slice(1);Hn(k2,"on"+I2)}Hn(wo,"onAnimationEnd"),Hn(Co,"onAnimationIteration"),Hn(jo,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(F1,"onTransitionRun"),Hn($1,"onTransitionStart"),Hn(e2,"onTransitionCancel"),Hn(zo,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var z=l.length-1;0<=z;z--){var E=l[z],X=E.instance,ne=E.currentTarget;if(E=E.listener,X!==x&&u.isPropagationStopped())break e;x=E,u.currentTarget=ne;try{x(u)}catch(ue){jr(ue)}u.currentTarget=null,x=X}else for(z=0;z<l.length;z++){if(E=l[z],X=E.instance,ne=E.currentTarget,E=E.listener,X!==x&&u.isPropagationStopped())break e;x=E,u.currentTarget=ne;try{x(u)}catch(ue){jr(ue)}u.currentTarget=null,x=X}}}}function Ge(e,t){var n=t[di];n===void 0&&(n=t[di]=new Set);var l=e+"__bubble";n.has(l)||(Jf(t,e,2,!1),n.add(l))}function Ru(e,t,n){var l=0;t&&(l|=4),Jf(n,e,l,t)}var x0="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[x0]){e[x0]=!0,Gt.forEach(function(n){n!=="selectionchange"&&(q2.has(n)||Ru(n,!1,e),Ru(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x0]||(t[x0]=!0,Ru("selectionchange",!1,t))}}function Jf(e,t,n,l){switch(Cd(t)){case 2:var u=xh;break;case 8:u=fh;break;default:u=ts}n=u.bind(null,t,n,e),u=void 0,!rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Hu(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var z=l.tag;if(z===3||z===4){var E=l.stateNode.containerInfo;if(E===u)break;if(z===4)for(z=l.return;z!==null;){var X=z.tag;if((X===3||X===4)&&z.stateNode.containerInfo===u)return;z=z.return}for(;E!==null;){if(z=Al(E),z===null)return;if(X=z.tag,X===5||X===6||X===26||X===27){l=x=z;continue e}E=E.parentNode}}l=l.return}Fs(function(){var ne=x,ue=ac(n),xe=[];e:{var ae=Mo.get(e);if(ae!==void 0){var ie=Sr,ge=e;switch(e){case"keypress":if(yr(n)===0)break e;case"keydown":case"keyup":ie=A1;break;case"focusin":ge="focus",ie=oc;break;case"focusout":ge="blur",ie=oc;break;case"beforeblur":case"afterblur":ie=oc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=L1;break;case wo:case Co:case jo:ie=_1;break;case zo:ie=k1;break;case"scroll":case"scrollend":ie=b1;break;case"wheel":ie=q1;break;case"copy":case"cut":case"paste":ie=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lo;break;case"toggle":case"beforetoggle":ie=R1}var je=(t&4)!==0,st=!je&&(e==="scroll"||e==="scrollend"),$=je?ae!==null?ae+"Capture":null:ae;je=[];for(var Q=ne,te;Q!==null;){var oe=Q;if(te=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||te===null||$===null||(oe=mi(Q,$),oe!=null&&je.push(Vi(Q,oe,te))),st)break;Q=Q.return}0<je.length&&(ae=new ie(ae,ge,null,n,ue),xe.push({event:ae,listeners:je}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==lc&&(ge=n.relatedTarget||n.fromElement)&&(Al(ge)||ge[ul]))break e;if((ie||ae)&&(ae=ue.window===ue?ue:(ae=ue.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=ne,ge=ge?Al(ge):null,ge!==null&&(st=o(ge),je=ge.tag,ge!==st||je!==5&&je!==27&&je!==6)&&(ge=null)):(ie=null,ge=ne),ie!==ge)){if(je=to,oe="onMouseLeave",$="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=lo,oe="onPointerLeave",$="onPointerEnter",Q="pointer"),st=ie==null?ae:be(ie),te=ge==null?ae:be(ge),ae=new je(oe,Q+"leave",ie,n,ue),ae.target=st,ae.relatedTarget=te,oe=null,Al(ue)===ne&&(je=new je($,Q+"enter",ge,n,ue),je.target=te,je.relatedTarget=st,oe=je),st=oe,ie&&ge)t:{for(je=G2,$=ie,Q=ge,te=0,oe=$;oe;oe=je(oe))te++;oe=0;for(var Ce=Q;Ce;Ce=je(Ce))oe++;for(;0<te-oe;)$=je($),te--;for(;0<oe-te;)Q=je(Q),oe--;for(;te--;){if($===Q||Q!==null&&$===Q.alternate){je=$;break t}$=je($),Q=je(Q)}je=null}else je=null;ie!==null&&Qf(xe,ae,ie,je,!1),ge!==null&&st!==null&&Qf(xe,st,ge,je,!0)}}e:{if(ae=ne?be(ne):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Je=xo;else if(so(ae))if(fo)Je=J1;else{Je=W1;var ve=X1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&nc(ne.elementType)&&(Je=xo):Je=V1;if(Je&&(Je=Je(e,ne))){oo(xe,Je,n,ue);break e}ve&&ve(e,ae,ne),e==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&tc(ae,"number",ae.value)}switch(ve=ne?be(ne):window,e){case"focusin":(so(ve)||ve.contentEditable==="true")&&(Ta=ve,bc=ne,wi=null);break;case"focusout":wi=bc=Ta=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,_o(xe,n,ue);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":_o(xe,n,ue)}var Be;if(fc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ea?co(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ao&&n.locale!=="ko"&&(Ea||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ea&&(Be=$s()):(Ll=ue,cc="value"in Ll?Ll.value:Ll.textContent,Ea=!0)),ve=f0(ne,Ye),0<ve.length&&(Ye=new no(Ye,e,null,n,ue),xe.push({event:Ye,listeners:ve}),Be?Ye.data=Be:(Be=uo(n),Be!==null&&(Ye.data=Be)))),(Be=H1?Y1(e,n):U1(e,n))&&(Ye=f0(ne,"onBeforeInput"),0<Ye.length&&(ve=new no("onBeforeInput","beforeinput",null,n,ue),xe.push({event:ve,listeners:Ye}),ve.data=Be)),B2(xe,e,ne,n,ue)}Vf(xe,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function f0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=mi(e,n),u!=null&&l.unshift(Vi(e,u,x)),u=mi(e,t),u!=null&&l.push(Vi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function G2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,n,l,u){for(var x=t._reactName,z=[];n!==null&&n!==l;){var E=n,X=E.alternate,ne=E.stateNode;if(E=E.tag,X!==null&&X===l)break;E!==5&&E!==26&&E!==27||ne===null||(X=ne,u?(ne=mi(n,x),ne!=null&&z.unshift(Vi(n,ne,X))):u||(ne=mi(n,x),ne!=null&&z.push(Vi(n,ne,X)))),n=n.return}z.length!==0&&e.push({event:t,listeners:z})}var R2=/\r\n?/g,O2=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(R2,`
`).replace(O2,"")}function Ff(e,t){return t=Pf(t),Pf(e)===t}function ut(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Da(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Da(e,""+l);break;case"className":br(e,"class",l);break;case"tabIndex":br(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":br(e,n,l);break;case"style":Qs(e,l,x);break;case"data":if(t!=="object"){br(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=vr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=vr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ol);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=vr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),mr(e,"popover",l);break;case"xlinkActuate":sl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=h1.get(n)||n,mr(e,n,l))}}function Yu(e,t,n,l,u,x){switch(n){case"style":Qs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Da(e,l):(typeof l=="number"||typeof l=="bigint")&&Da(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ct.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Te]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):mr(e,n,l)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var z=n[x];if(z!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,x,z,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var E=x=z=u=null,X=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var ue=n[l];if(ue!=null)switch(l){case"name":u=ue;break;case"type":z=ue;break;case"checked":X=ue;break;case"defaultChecked":ne=ue;break;case"value":x=ue;break;case"defaultValue":E=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,t));break;default:ut(e,t,l,ue,n,null)}}Xs(e,x,E,X,ne,z,u,!1);return;case"select":Ge("invalid",e),l=z=x=null;for(u in n)if(n.hasOwnProperty(u)&&(E=n[u],E!=null))switch(u){case"value":x=E;break;case"defaultValue":z=E;break;case"multiple":l=E;default:ut(e,t,u,E,n,null)}t=x,n=z,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),x=u=l=null;for(z in n)if(n.hasOwnProperty(z)&&(E=n[z],E!=null))switch(z){case"value":l=E;break;case"defaultValue":u=E;break;case"children":x=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ut(e,t,z,E,n,null)}Vs(e,l,u,x);return;case"option":for(X in n)n.hasOwnProperty(X)&&(l=n[X],l!=null)&&(X==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,X,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Wi.length;l++)Ge(Wi[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,ne,l,n,null)}return;default:if(nc(t)){for(ue in n)n.hasOwnProperty(ue)&&(l=n[ue],l!==void 0&&Yu(e,t,ue,l,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null&&ut(e,t,E,l,n,null))}function H2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,z=null,E=null,X=null,ne=null,ue=null;for(ie in n){var xe=n[ie];if(n.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":X=xe;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,xe)}}for(var ae in l){var ie=l[ae];if(xe=n[ae],l.hasOwnProperty(ae)&&(ie!=null||xe!=null))switch(ae){case"type":x=ie;break;case"name":u=ie;break;case"checked":ne=ie;break;case"defaultChecked":ue=ie;break;case"value":z=ie;break;case"defaultValue":E=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==xe&&ut(e,t,ae,ie,l,xe)}}ec(e,z,E,X,ne,ue,x,u);return;case"select":ie=z=E=ae=null;for(x in n)if(X=n[x],n.hasOwnProperty(x)&&X!=null)switch(x){case"value":break;case"multiple":ie=X;default:l.hasOwnProperty(x)||ut(e,t,x,null,l,X)}for(u in l)if(x=l[u],X=n[u],l.hasOwnProperty(u)&&(x!=null||X!=null))switch(u){case"value":ae=x;break;case"defaultValue":E=x;break;case"multiple":z=x;default:x!==X&&ut(e,t,u,x,l,X)}t=E,n=z,l=ie,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(E in n)if(u=n[E],n.hasOwnProperty(E)&&u!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(e,t,E,null,l,u)}for(z in l)if(u=l[z],x=n[z],l.hasOwnProperty(z)&&(u!=null||x!=null))switch(z){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&ut(e,t,z,u,l,x)}Ws(e,ae,ie);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:ut(e,t,ge,null,l,ae));for(X in l)ae=l[X],ie=n[X],l.hasOwnProperty(X)&&ae!==ie&&(ae!=null||ie!=null)&&(X==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,X,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ae=n[je],n.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je)&&ut(e,t,je,null,l,ae);for(ne in l)if(ae=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&ae!==ie&&(ae!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ut(e,t,ne,ae,l,ie)}return;default:if(nc(t)){for(var st in n)ae=n[st],n.hasOwnProperty(st)&&ae!==void 0&&!l.hasOwnProperty(st)&&Yu(e,t,st,void 0,l,ae);for(ue in l)ae=l[ue],ie=n[ue],!l.hasOwnProperty(ue)||ae===ie||ae===void 0&&ie===void 0||Yu(e,t,ue,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&ut(e,t,$,null,l,ae);for(xe in l)ae=l[xe],ie=n[xe],!l.hasOwnProperty(xe)||ae===ie||ae==null&&ie==null||ut(e,t,xe,ae,l,ie)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,z=u.initiatorType,E=u.duration;if(x&&E&&$f(z)){for(z=0,E=u.responseEnd,l+=1;l<n.length;l++){var X=n[l],ne=X.startTime;if(ne>E)break;var ue=X.transferSize,xe=X.initiatorType;ue&&$f(xe)&&(X=X.responseEnd,z+=ue*(X<E?1:(E-ne)/(X-ne)))}if(--l,t+=8*(x+z)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Ku=null;function d0(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===Xu?!1:(Xu=e,!0):(Xu=null,!1)}var nd=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,Z2=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(X2)}:nd;function X2(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function ad(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ii(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ji(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ji(n);for(var x=n.firstChild;x;){var z=x.nextSibling,E=x.nodeName;x[ua]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=z}}else n==="body"&&Ji(e.ownerDocument.body);n=u}while(n);ii(t)}function id(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wu(n),hi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function W2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ua])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Ju(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qu=null;function cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=d0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hi(e)}var An=new Map,od=new Set;function h0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zl=A.d;A.d={f:Q2,r:P2,D:F2,C:$2,L:eh,m:th,X:lh,S:nh,M:ah};function Q2(){var e=zl.f(),t=i0();return e||t}function P2(e){var t=El(e);t!==null&&t.tag===5&&t.type==="form"?zx(t):zl.r(e)}var ni=typeof document>"u"?null:document;function xd(e,t,n){var l=ni;if(l&&typeof t=="string"&&t){var u=Sn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),od.has(u)||(od.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function F2(e){zl.D(e),xd("dns-prefetch",e,null)}function $2(e,t){zl.C(e,t),xd("preconnect",e,t)}function eh(e,t,n){zl.L(e,t,n);var l=ni;if(l&&e&&t){var u='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Sn(n.imageSizes)+'"]')):u+='[href="'+Sn(e)+'"]';var x=u;switch(t){case"style":x=li(e);break;case"script":x=ai(e)}An.has(x)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Qi(x))||t==="script"&&l.querySelector(Pi(x))||(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function th(e,t){zl.m(e,t);var n=ni;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ai(e)}if(!An.has(x)&&(e=w({rel:"modulepreload",href:e},t),An.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pi(x)))return}l=n.createElement("link"),Yt(l,"link",e),ze(l),n.head.appendChild(l)}}}function nh(e,t,n){zl.S(e,t,n);var l=ni;if(l&&e){var u=ye(l).hoistableStyles,x=li(e);t=t||"default";var z=u.get(x);if(!z){var E={loading:0,preload:null};if(z=l.querySelector(Qi(x)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(x))&&Pu(e,n);var X=z=l.createElement("link");ze(X),Yt(X,"link",e),X._p=new Promise(function(ne,ue){X.onload=ne,X.onerror=ue}),X.addEventListener("load",function(){E.loading|=1}),X.addEventListener("error",function(){E.loading|=2}),E.loading|=4,m0(z,t,l)}z={type:"stylesheet",instance:z,count:1,state:E},u.set(x,z)}}}function lh(e,t){zl.X(e,t);var n=ni;if(n&&e){var l=ye(n).hoistableScripts,u=ai(e),x=l.get(u);x||(x=n.querySelector(Pi(u)),x||(e=w({src:e,async:!0},t),(t=An.get(u))&&Fu(e,t),x=n.createElement("script"),ze(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function ah(e,t){zl.M(e,t);var n=ni;if(n&&e){var l=ye(n).hoistableScripts,u=ai(e),x=l.get(u);x||(x=n.querySelector(Pi(u)),x||(e=w({src:e,async:!0,type:"module"},t),(t=An.get(u))&&Fu(e,t),x=n.createElement("script"),ze(x),Yt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function fd(e,t,n,l){var u=(u=le.current)?h0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=ye(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var x=ye(u).hoistableStyles,z=x.get(e);if(z||(u=u.ownerDocument||u,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,z),(x=u.querySelector(Qi(e)))&&!x._p&&(z.instance=x,z.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),x||ih(u,e,n,z.state))),t&&l===null)throw Error(i(528,""));return z}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=ye(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function li(e){return'href="'+Sn(e)+'"'}function Qi(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function ih(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Yt(t,"link",n),ze(t),e.head.appendChild(t))}function ai(e){return'[src="'+Sn(e)+'"]'}function Pi(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,ze(l),l;var u=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ze(l),Yt(l,"style",u),m0(l,n.precedence,e),t.instance=l;case"stylesheet":u=li(n.href);var x=e.querySelector(Qi(u));if(x)return t.state.loading|=4,t.instance=x,ze(x),x;l=dd(n),(u=An.get(u))&&Pu(l,u),x=(e.ownerDocument||e).createElement("link"),ze(x);var z=x;return z._p=new Promise(function(E,X){z.onload=E,z.onerror=X}),Yt(x,"link",l),t.state.loading|=4,m0(x,n.precedence,e),t.instance=x;case"script":return x=ai(n.src),(u=e.querySelector(Pi(x)))?(t.instance=u,ze(u),u):(l=n,(u=An.get(x))&&(l=w({},n),Fu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ze(u),Yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,m0(l,n.precedence,e));return t.instance}function m0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,z=0;z<l.length;z++){var E=l[z];if(E.dataset.precedence===t)x=E;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var b0=null;function md(e,t,n){if(b0===null){var l=new Map,u=b0=new Map;u.set(n,l)}else u=b0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[ua]||x[vt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var z=x.getAttribute(t)||"";z=e+z;var E=l.get(z);E?E.push(x):l.set(z,[x])}}return l}function bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function rh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ch(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(l.href),x=t.querySelector(Qi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=g0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,ze(x);return}x=t.ownerDocument||t,l=dd(l),(u=An.get(u))&&Pu(l,u),x=x.createElement("link"),ze(x);var z=x;z._p=new Promise(function(E,X){z.onload=E,z.onerror=X}),Yt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=g0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $u=0;function uh(e,t){return e.stylesheets&&e.count===0&&p0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&p0(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*Y2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&p0(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function g0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)p0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var v0=null;function p0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,v0=new Map,t.forEach(sh,e),v0=null,g0.call(e))}function sh(e,t){if(!(t.state.loading&4)){var n=v0.get(e);if(n)var l=n.get(null);else{n=new Map,v0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var z=u[x];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(n.set(z.dataset.precedence,z),l=z)}l&&n.set(null,l)}u=t.instance,z=u.getAttribute("data-precedence"),x=n.get(z)||l,x===l&&n.set(null,u),n.set(z,u),this.count++,l=g0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Fi={$$typeof:T,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function oh(e,t,n,l,u,x,z,E,X){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function vd(e,t,n,l,u,x,z,E,X,ne,ue,xe){return e=new oh(e,t,n,z,X,ne,ue,xe,E),t=1,x===!0&&(t|=24),x=xn(3,null,null,t),e.current=x,x.stateNode=e,t=Tc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Ic(x),e}function pd(e){return e?(e=ka,e):ka}function yd(e,t,n,l,u,x){u=pd(u),l.context===null?l.context=u:l.pendingContext=u,l=Rl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ol(e,l,t),n!==null&&(nn(n,e,t),Ai(n,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function es(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Sd(e){if(e.tag===13||e.tag===31){var t=fa(e,67108864);t!==null&&nn(t,e,67108864),es(e,67108864)}}function wd(e){if(e.tag===13||e.tag===31){var t=bn();t=lt(t);var n=fa(e,t);n!==null&&nn(n,e,t),es(e,t)}}var y0=!0;function xh(e,t,n,l){var u=m.T;m.T=null;var x=A.p;try{A.p=2,ts(e,t,n,l)}finally{A.p=x,m.T=u}}function fh(e,t,n,l){var u=m.T;m.T=null;var x=A.p;try{A.p=8,ts(e,t,n,l)}finally{A.p=x,m.T=u}}function ts(e,t,n,l){if(y0){var u=ns(l);if(u===null)Hu(e,t,l,_0,n),jd(e,l);else if(hh(u,e,t,n,l))l.stopPropagation();else if(jd(e,l),t&4&&-1<dh.indexOf(e)){for(;u!==null;){var x=El(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var z=De(x.pendingLanes);if(z!==0){var E=x;for(E.pendingLanes|=2,E.entangledLanes|=2;z;){var X=1<<31-Oe(z);E.entanglements[1]|=X,z&=~X}$n(x),(tt&6)===0&&(l0=Pe()+500,Xi(0))}}break;case 31:case 13:E=fa(x,2),E!==null&&nn(E,x,2),i0(),es(x,2)}if(x=ns(l),x===null&&Hu(e,t,l,_0,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Hu(e,t,l,null,n)}}function ns(e){return e=ac(e),ls(e)}var _0=null;function ls(e){if(_0=null,e=Al(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case Dl:return 2;case rl:return 8;case cl:case Nl:return 32;case ra:return 268435456;default:return 32}default:return 32}}var as=!1,Pl=null,Fl=null,$l=null,$i=new Map,er=new Map,ea=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(t.pointerId)}}function tr(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=El(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function hh(e,t,n,l,u){switch(t){case"focusin":return Pl=tr(Pl,e,t,n,l,u),!0;case"dragenter":return Fl=tr(Fl,e,t,n,l,u),!0;case"mouseover":return $l=tr($l,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return $i.set(x,tr($i.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,er.set(x,tr(er.get(x)||null,e,t,n,l,u)),!0}return!1}function zd(e){var t=Al(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ca(e.priority,function(){wd(n)});return}}else if(t===31){if(t=S(n),t!==null){e.blockedOn=t,ca(e.priority,function(){wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function S0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ns(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);lc=l,n.target.dispatchEvent(l),lc=null}else return t=El(n),t!==null&&Sd(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){S0(e)&&n.delete(t)}function mh(){as=!1,Pl!==null&&S0(Pl)&&(Pl=null),Fl!==null&&S0(Fl)&&(Fl=null),$l!==null&&S0($l)&&($l=null),$i.forEach(Md),er.forEach(Md)}function w0(e,t){e.blockedOn===t&&(e.blockedOn=null,as||(as=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,mh)))}var C0=null;function Dd(e){C0!==e&&(C0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){C0===e&&(C0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(ls(l||n)===null)continue;break}var x=El(n);x!==null&&(e.splice(t,3),t-=3,nu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ii(e){function t(X){return w0(X,e)}Pl!==null&&w0(Pl,e),Fl!==null&&w0(Fl,e),$l!==null&&w0($l,e),$i.forEach(t),er.forEach(t);for(var n=0;n<ea.length;n++){var l=ea[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)zd(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],z=u[Te]||null;if(typeof x=="function")z||Dd(n);else if(z){var E=null;if(x&&x.hasAttribute("formAction")){if(u=x,z=x[Te]||null)E=z.formAction;else if(ls(u)!==null)continue}else E=z.action;typeof E=="function"?n[l+1]=E:(n.splice(l,3),l-=3),Dd(n)}}}function Nd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(z){return u=z})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function is(e){this._internalRoot=e}j0.prototype.render=is.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();yd(n,l,e,t,null,null)},j0.prototype.unmount=is.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yd(e.current,2,null,e,null,null),i0(),t[ul]=null}};function j0(e){this._internalRoot=e}j0.prototype.unstable_scheduleHydration=function(e){if(e){var t=On();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&zd(e)}};var Ad=r.version;if(Ad!=="19.2.3")throw Error(i(527,Ad,"19.2.3"));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:m,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{Rn=z0.inject(bh),It=z0}catch{}}return lr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Ix,x=qx,z=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(z=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,u,x,z,Nd),e[ul]=t.current,Ou(e),new is(t)},lr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",x=Ix,z=qx,E=Gx,X=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(z=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(X=n.formState)),t=vd(e,1,!0,t,n??null,l,u,X,x,z,E,Nd),t.context=pd(null),n=t.current,l=bn(),l=lt(l),u=Rl(l),u.callback=null,Ol(n,u,l),n=l,t.current.lanes=n,Ee(t,n),$n(t),e[ul]=t.current,Ou(e),new j0(t)},lr.version="19.2.3",lr}var Od;function zh(){if(Od)return us.exports;Od=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),us.exports=jh(),us.exports}var Mh=zh();const ia=Kn;(function(c,r){const a=Kn,i=c();for(;;)try{if(-parseInt(a(370))/1+-parseInt(a(371))/2*(parseInt(a(381))/3)+-parseInt(a(366))/4+-parseInt(a(385))/5+-parseInt(a(364))/6*(-parseInt(a(376))/7)+-parseInt(a(365))/8+parseInt(a(372))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,538748);const Dh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),hs=Dh(void 0,function(){const c=Kn,r={bSwzk:"(((.+)+)+)+$"};return hs[c(367)]().search("(((.+)+)+)+$").toString()[c(374)](hs).search(r[c(384)])});hs();const N0=()=>new Date()[ia(383)](),Bt=c=>c+"_"+Math[ia(373)]().toString(36).slice(2,10),pe=(c,r,a)=>Math.max(r,Math.min(a,c));function Kn(c,r){c=c-364;const a=A0();let i=a[c];if(Kn.qOvlUs===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Kn.PZmsSf=f,Kn.EnKwwK={},Kn.qOvlUs=!0}const o=a[0],v=c+o,S=Kn.EnKwwK[v];if(S)i=S;else{const d=function(h){this.DfVdwg=h,this.xSHiEy=[1,0,0],this.RioIkh=function(){return"newState"},this.USmhOy="\\w+ *\\(\\) *{\\w+ *",this.LaxlDj=`['|"].+['|"];? *}`};d.prototype.BkVTzx=function(){const h=new RegExp(this.USmhOy+this.LaxlDj),y=h.test(this.RioIkh.toString())?--this.xSHiEy[1]:--this.xSHiEy[0];return this.tpXIjS(y)},d.prototype.tpXIjS=function(h){return~h?this.cEpdGK(this.DfVdwg):h},d.prototype.cEpdGK=function(h){for(let y=0,w=this.xSHiEy.length;y<w;y++)this.xSHiEy.push(Math.round(Math.random())),w=this.xSHiEy.length;return h(this.xSHiEy[0])},new d(Kn).BkVTzx(),i=Kn.PZmsSf(i),Kn.EnKwwK[v]=i}return i}const na=c=>{const r=ia;return c==null?c:JSON.parse(JSON[r(375)](c))},ir=c=>Math.floor(c*.7/5)*5;function nl(c,r){const a=ia;return c[a(378)]?c.groups[a(386)](i=>i.flowerIds[a(382)](r))??null:null}function Nh(c,r){const a=ia,i={owuns:function(o,v,S){return o(v,S)}},f=i.owuns(nl,c,r);return f?f[a(379)]:[r]}function Ml(c,r){const a=ia;return c.groups?c[a(378)][a(386)](i=>i.leafIds[a(382)](r))??null:null}function A0(){const c=["ChvZAa","mtq3oteXn3LVDfzpyW","Aw5JBhvKzxm","Dg9ju09tDhjPBMC","yLn3EMS","mJq4otG4nu9is2nsyW","zMLUza","nNn0rMLVza","mZGXoty2nenNr0rxyW","mty0otiXmNrHzgLSAq","Dg9tDhjPBMC","Cg9ZAxrPB24","BgvUz3rO","nJC3mdHJqujbCKC","nhntv0vJDW","mJy1ntm1ndzksM5ft3m","CMfUzg9T","y29UC3rYDwn0B3i","C3rYAw5NAwz5","mJa5mtq2BvDHB3Pe","A0Hgwvi","z3jVDxbZ","zMXVD2vYswrZ"];return A0=function(){return c},A0()}function Ah(c,r){const a=ia,i=(c.groups??[]).find(S=>S.id===r);if(!i)return{x:0,y:0};const f=[];for(const S of i.flowerIds){const d=c.flowers[a(386)](h=>h.id===S);d&&f[a(380)](d.position)}for(const S of i.leafIds){const d=(c.leaves??[]).find(h=>h.id===S);d&&f[a(380)](d[a(368)])}if(f.length===0)return{x:0,y:0};const o=f.reduce((S,d)=>S+d.x,0),v=f.reduce((S,d)=>S+d.y,0);return{x:o/f.length,y:v/f[a(369)]}}function Hd(c,r){const a=ia,i={kHFYR:function(o,v,S){return o(v,S)}},f=i[a(377)](Ml,c,r);return f?f.leafIds:[r]}const E0=gn;(function(c,r){const a=gn,i=c();for(;;)try{if(parseInt(a(490))/1+-parseInt(a(512))/2+-parseInt(a(511))/3+-parseInt(a(507))/4+parseInt(a(519))/5+-parseInt(a(492))/6+parseInt(a(530))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,211654);const Eh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ms=Eh(void 0,function(){const c=gn,r={YiPjw:c(491)};return ms[c(494)]().search(r[c(526)])[c(494)]()[c(527)](ms)[c(532)](r.YiPjw)});ms();const oi=2/3,Yd=.6,Th=.25,Lh=.75;function aa(c,r,a){const i=gn,f={Tefxt:function(T,G){return T/G},CECYl:function(T,G){return T/G},zXtkv:function(T,G){return T<=G},KaZJC:function(T,G){return T<=G},GTrsf:function(T,G){return T*G},cnvcx:function(T,G){return T-G},EWKoa:"gradual",lMUof:function(T,G){return T+G},GSgtf:function(T,G){return T*G},OBpFw:"iAoEx",GqzQF:function(T,G){return T*G},QWyxq:function(T,G){return T*G},YSxhk:function(T,G){return T<G},aSXTb:function(T,G){return T===G},fgvpb:function(T,G){return T+G},GfETk:function(T,G){return T*G},pfcrv:function(T,G){return T/G},KgnRu:function(T,G){return T*G},YJOlw:function(T,G){return T+G},FZYlC:function(T,G){return T-G},nTEzF:function(T,G){return T+G}},o=f.CECYl(c,2),v=r*Math.SQRT2/2;if(f.zXtkv(v,0)||f.KaZJC(o,0))return{diameter:c,layerCount:1};const S=a?.[i(497)]??i(510),d=a?.sizeStepMm??0,h=f[i(504)](v,f[i(523)](1,oi)),y=f.CECYl(Math.PI*o,2),w=a?.layerCount??Math[i(498)](1,Math.round(y/h)),C=S===f.EWKoa?f.lMUof(r,(w-1)*d):r,j=C*Math[i(503)]/2,M=f[i(500)](v,Th)+j*Lh;if(w===1)if(f[i(493)]!==i(521))_0x54d5bf+=f[i(533)](_0x4107b3[_0x48b128],3);else{const T=Math[i(528)](Math.PI/2,f[i(500)](j,oi)/o),G=f[i(500)](o,Math[i(513)](T)),B=j*Yd*Math[i(513)](T);return{diameter:Math[i(502)](Math[i(498)](c,f[i(529)](2,G+B))),layerCount:w}}let p=f.QWyxq(v,oi)/o;for(let T=1;f.YSxhk(T,w);T++){const G=f.aSXTb(S,f.EWKoa)?f.fgvpb(r,f[i(534)](T,d)):r,B=f[i(501)](f.KgnRu(G,Math[i(503)]),2);p+=B*(1-oi)/o}p=Math.min(p,Math.PI/2);const g=f.YJOlw(o,M*Yd)*Math.sin(p),L=Math.max(0,f.FZYlC(g,o));return{diameter:Math[i(502)](f.nTEzF(c,f.QWyxq(2,L))),layerCount:w}}function ur(c,r,a="uniform",i=0){const f=gn,o={jMsVa:function(d,h){return d<=h},SOzZH:function(d,h){return d<h},LpPap:f(499),DbraX:function(d,h){return d+h},WbAyk:function(d,h){return d/h},Ffiud:function(d,h){return d<h}};if(r<=0||o[f(515)](c,0))return 0;const v=[];for(let d=0;o[f(495)](d,r);d++){const h=a===o.LpPap?o.DbraX(c,d*i):c;v[f(496)](o.WbAyk(h*Math[f(503)],2))}let S=v[0];for(let d=1;o.Ffiud(d,r);d++)S+=o.WbAyk(v[d],3);return Math.round(S*2)}function Bh(c,r,a=E0(510),i=0){const f=E0,o={kNBST:function(w,C){return w+C},VqNIT:function(w,C,j,M){return w(C,j,M)},UHrab:function(w,C){return w/C},PDUDh:function(w,C){return w===C},LySVZ:function(w,C){return w===C},Hkdpp:function(w,C){return w!==C},mgbXH:function(w,C){return w*C},FAsiR:function(w,C){return w*C},isawh:function(w,C){return w-C},WTrUH:function(w,C){return w+C}};if(r<=0||c<=0)return 0;const v=c/2,S=o.UHrab(Math[f(503)],2),d=r;if(o[f(517)](a,"uniform")||o.LySVZ(i,0))if(o.Hkdpp("nWGJB",f(489))){const w=o.mgbXH(S,d+2)/3;return Math[f(498)](1,Math[f(502)](o[f(508)](v,w)))}else{if(_0x5f4906<=_0x2fb8db)return 1;let w=1,C=80;for(let j=0;j<30;j++){const M=o.kNBST(w,C)/2,{diameter:p}=o.VqNIT(_0x2e6870,_0x2799b1,M,_0x520363);p<_0x430ba4?w=M:C=M}return _0x5e118a.max(1,_0x12df53[f(502)](o.UHrab(w+C,2)))}const h=o[f(508)](o.FAsiR(i,o[f(505)](d,1))*d,6),y=o[f(508)]((v/S-h)*3,o[f(506)](d,2));return Math.max(1,Math.round(y))}function kh(c,r,a){const i=E0,f={IzSnh:function(S,d){return S<=d},QyOna:function(S,d){return S<d},bzGmd:function(S,d,h,y){return S(d,h,y)},pccZh:function(S,d){return S<d},oefCd:function(S,d){return S/d}};if(f[i(516)](c,r))return 1;let o=1,v=80;for(let S=0;f[i(524)](S,30);S++){const d=(o+v)/2,{diameter:h}=f.bzGmd(aa,r,d,a);f.pccZh(h,c)?o=d:v=d}return Math.max(1,Math[i(502)](f[i(520)](o+v,2)))}function T0(){const c=["t0jWrNC","Dg9tDhjPBMC","u096wKG","ChvZAa","C2L6zu1Vzgu","Bwf4","z3jHzhvHBa","r1nNDgy","CgzJCNy","CM91BMq","u1fsvdi","r1rYC2y","AxnHD2G","v1rYvuG","oty0mJCYEhPbu0Dk","vuHYywi","q05uALK","Dw5PzM9YBq","ntyYnZiYB3vPweLk","nty3mZGWCKDRr2D5","C2LU","C2L6zvn0zxbnBq","AK1ZvMe","sxPtBMG","uervrgG","AMT1wuS","ntC2otG1uMP0shPX","B2vMq2q","AufVrxG","C3bWvK8","y252y3G","uxLpBMe","vur2t3a","wwLqANC","y29UC3rYDwn0B3i","BwLU","r3f6uuy","mZy5mJK2ou1SC2LhBa","AgfsB2W","C2vHCMnO","vgvMEhq","r2zfvgS","rfPLv1G","ndaYodKXCKzkwxbo","kcGOlISPkYKRksSK","nZmXmJe0vwLiwvzo"];return T0=function(){return c},T0()}function gn(c,r){c=c-489;const a=T0();let i=a[c];if(gn.canAWc===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};gn.BsQlmM=f,gn.LUvqXY={},gn.canAWc=!0}const o=a[0],v=c+o,S=gn.LUvqXY[v];if(S)i=S;else{const d=function(h){this.nXlUuA=h,this.KcCwTw=[1,0,0],this.GaewBC=function(){return"newState"},this.RgsmYi="\\w+ *\\(\\) *{\\w+ *",this.GmeAHl=`['|"].+['|"];? *}`};d.prototype.Fkfojb=function(){const h=new RegExp(this.RgsmYi+this.GmeAHl),y=h.test(this.GaewBC.toString())?--this.KcCwTw[1]:--this.KcCwTw[0];return this.VZCBTM(y)},d.prototype.VZCBTM=function(h){return~h?this.OCEqhw(this.nXlUuA):h},d.prototype.OCEqhw=function(h){for(let y=0,w=this.KcCwTw.length;y<w;y++)this.KcCwTw.push(Math.round(Math.random())),w=this.KcCwTw.length;return h(this.KcCwTw[0])},new d(gn).Fkfojb(),i=gn.BsQlmM(i),gn.LUvqXY[v]=i}return i}function Ih(c,r,a){const i=E0,f={DsamP:function(C,j){return C/j},ehccs:function(C,j){return C<=j},zjxgg:function(C,j){return C===j},CNTjY:i(510),sppVO:function(C,j){return C*j},jkuYK:function(C,j){return C/j},nyeOS:function(C,j){return C-j},UDvOp:function(C,j){return C>j},haRol:function(C,j){return C+j}},o=c/2,v=f.DsamP(r*Math.SQRT2,2);if(f.ehccs(v,0)||o<=0)return 1;const S=a?.[i(497)]??"uniform",d=a?.[i(514)]??0,h=Math.PI/2;if(f.zjxgg(S,f[i(509)])||d===0){const C=v/3,j=Math.PI*o/2;return Math.max(1,Math.round(j/C))}let y=f.DsamP(f.sppVO(v,oi),o);if(y>=h)return 1;let w=1;for(let C=1;C<100;C++){const j=r+C*d,M=f[i(518)](f.sppVO(j,Math[i(503)]),2),p=f[i(522)](M,f.nyeOS(1,oi))/o;if(y+=p,f[i(525)](y,h+p/2))break;w=f[i(531)](C,1)}return Math[i(498)](1,w)}const al=Vt;(function(c,r){const a=Vt,i=c();for(;;)try{if(-parseInt(a(211))/1*(-parseInt(a(233))/2)+-parseInt(a(220))/3*(parseInt(a(217))/4)+-parseInt(a(252))/5+parseInt(a(201))/6*(-parseInt(a(189))/7)+-parseInt(a(226))/8+-parseInt(a(248))/9*(parseInt(a(198))/10)+parseInt(a(253))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,894906);const qh=(function(){const c={AokNN:function(a,i){return a/i},aSShi:function(a,i){return a===i}};let r=!0;return function(a,i){const f=Vt,o={dStgt:function(S,d){return S+d},FpVyR:function(S,d){return c[Vt(191)](S,d)},AbsLB:function(S,d){return c.aSShi(S,d)},LHYnx:f(242)},v=r?function(){const S=f,d={spFnU:function(h,y){return h*y},hObdL:function(h,y){return o[Vt(229)](h,y)},sXYgK:function(h,y){return o[Vt(250)](h,y)}};if(i)if(o[S(216)](o.LHYnx,"VSEeU")){const{length:h}=_0xb89258(_0x529e33),y=d[S(236)](h,_0x4b9f48),w=_0x32cf11[S(240)](0,_0x5a110e-y*_0x3d78c1),C=d[S(200)](w,y);return d.sXYgK(C*2,_0x1ae3a8)}else{const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,v}})(),bs=qh(void 0,function(){const c=Vt,r={yIxhn:c(213)};return bs[c(203)]()[c(221)](r[c(227)]).toString().constructor(bs)[c(221)](r.yIxhn)});bs();const fr=.28,Ud={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:al(193)};function sr(c){const r=al,a={AyUIj:function(i,f){return i===f},AczJu:r(215),NEroq:r(245)};return a.AyUIj(c,a[r(246)])?Ud[a.AczJu]:Ud[a[r(206)]]}function la(c){const r={HvkqK:function(a,i){return a/i},swIpo:function(a,i){return a*i}};return r.HvkqK(r.swIpo(c,Math.PI),180)}const un=2.7;function kt(c){const r=al,a={cbFFB:function(v,S){return v*S},OdpPL:function(v,S){return v*S}},i=a.cbFFB(c,Math.SQRT2)/2,f=a[r(231)](i,un),o=f/2;return{length:f,width:o}}function Gh(c){return c*un/2}function rr(c,r,a){const i=al,f={bkWAp:function(h,y){return h(y)},tjEfV:function(h,y){return h*y},MJfGw:function(h,y){return h+y},BnZsM:function(h,y){return h/y}},{length:o}=f[i(232)](kt,a),v=f[i(187)](o,r),S=Math.max(0,c-v*fr),d=f[i(225)](S,v);return f.BnZsM(d*2,un)}function Vt(c,r){c=c-187;const a=L0();let i=a[c];if(Vt.SRWGVq===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Vt.iNNhHs=f,Vt.dlDlJV={},Vt.SRWGVq=!0}const o=a[0],v=c+o,S=Vt.dlDlJV[v];if(S)i=S;else{const d=function(h){this.QPsGug=h,this.IJHjpE=[1,0,0],this.ZlqIRJ=function(){return"newState"},this.MxTpdQ="\\w+ *\\(\\) *{\\w+ *",this.IbjQiJ=`['|"].+['|"];? *}`};d.prototype.zUNANZ=function(){const h=new RegExp(this.MxTpdQ+this.IbjQiJ),y=h.test(this.ZlqIRJ.toString())?--this.IJHjpE[1]:--this.IJHjpE[0];return this.aLEkYU(y)},d.prototype.aLEkYU=function(h){return~h?this.ZePwxE(this.QPsGug):h},d.prototype.ZePwxE=function(h){for(let y=0,w=this.IJHjpE.length;y<w;y++)this.IJHjpE.push(Math.round(Math.random())),w=this.IJHjpE.length;return h(this.IJHjpE[0])},new d(Vt).zUNANZ(),i=Vt.iNNhHs(i),Vt.dlDlJV[v]=i}return i}function Rh(c,r,a){const i=al,f={rzdnu:function(d,h){return d-h}},{length:o}=kt(a),v=o*r,S=c*un/2;return Math[i(240)](2,S-v*f.rzdnu(1,fr))}function tl(c,r,a){const i=al,f={qUiDi:function(y,w){return y/w},TVySj:function(y,w){return y%w},XmfhU:function(y,w){return y<w},zdMrK:function(y,w){return y+w},rhPTu:function(y,w){return y+w},flssC:function(y,w){return y*w},kgczQ:function(y,w){return y%w},hlDmL:function(y,w){return y-w},hlHCX:function(y,w){return y>w},ndiaw:function(y,w){return y-w},kecjA:function(y,w){return y<w},diXfj:function(y,w){return y/w}};if(!c||c<=0||!a||a<=0)return r??0;const o=360/c,v=f[i(251)](360,a),S=[];for(let y=0;y<c;y++)S[i(228)]((f[i(190)](r+y*o,360)+360)%360);let d=r+f.qUiDi(o,2),h=-1;for(let y=0;f[i(235)](y,c);y++){const w=f.zdMrK(f[i(224)](r,f.flssC(y,o)),o/2);let C=1/0;for(let j=0;f[i(235)](j,a);j++){const M=f.kgczQ(f[i(190)](w+j*v,360)+360,360);for(const p of S){let g=Math[i(241)](f[i(204)](M,p));f.hlHCX(g,180)&&(g=f.ndiaw(360,g)),f.kecjA(g,C)&&(C=g)}}f.hlHCX(C,h)&&(h=C,d=w)}return f.diXfj(Math[i(192)](d*10),10)}function P0(c,r,a){const i=al,f={kZmHX:function(j,M){return j===M},EzGVO:function(j,M){return j<=M},GTIGv:function(j,M){return j/M},yGyPy:function(j,M){return j*M},vYeCq:function(j,M){return j/M},neoUB:function(j,M){return j*M},GIXBu:function(j,M){return j*M},NLIrS:function(j,M,p){return j(M,p)}};if(f.kZmHX(c[i(214)],0))return;const{length:o}=kt(r),v=c[0],S=v.scale??1,d=o*S,h=Math.max(0,v[i(239)]-d*fr),y=h+d;if(f.EzGVO(y,0))return;const w=f.GTIGv(f.yGyPy(a,un),2),C=w/y;for(const j of c)j.radius=Math.max(2,f[i(205)](Math.round(f[i(249)](j[i(239)],C)*10),10)),j.scale=f.GTIGv(Math.round(f.GIXBu(f.neoUB(j.scale??1,C),100)),100);f.NLIrS(gs,c,r)}function gs(c,r){const a=al,i={NbuyH:function(d,h){return d-h},yHAhF:function(d,h){return d(h)},lymXg:function(d,h){return d*h},AVYme:function(d,h){return d/h}};if(c.length===0)return;const f=c[i[a(210)](c[a(214)],1)],{length:o}=i.yHAhF(kt,r),v=i.lymXg(o,f.scale??1),S=i.AVYme(Math[a(207)](i.lymXg(v*fr,10)),10);f.radius>S&&(f[a(239)]=S)}function Oh(c,r,a,i){const f=al,o={DWcLA:function(C,j){return C*j},qltwH:function(C,j){return C/j},vVkjq:function(C,j){return C*j},nLYgO:function(C,j){return C-j},gSvNZ:function(C,j){return C*j},sLnLy:function(C,j){return C-j},leHaK:function(C,j){return C*j},dhtCz:function(C,j){return C/j},kcCdi:function(C,j){return C*j},WntTr:function(C,j){return C+j}};if(c[f(214)]===0)return;const v=[...c][f(202)]((C,j)=>j.order-C[f(223)]),{length:S}=kt(r),d=v[f(214)],h=v[0][f(194)]??1,y=o.DWcLA(S,h);v[0].radius=o[f(195)](Math.floor(o.DWcLA(o[f(197)](y,fr),10)),10);for(let C=1;C<d;C++){const j=v[o.nLYgO(C,1)],M=o[f(209)](S,j.scale??1);let p;if(a===f(199)){const L=70*Math.PI/180,H=d>1?o.gSvNZ(C/o.sLnLy(d,1),L):0;p=o[f(238)](M,o[f(195)](30,100))*Math[f(247)](H)}else p=o[f(243)](M,3);v[C][f(239)]=Math[f(192)](o.kcCdi(o[f(244)](j[f(239)],p),10))/10}const w=[...c][f(202)]((C,j)=>C[f(223)]-j.order);P0(w,r,i);for(const C of w){const j=c.find(M=>M.id===C.id);j&&(j.radius=C.radius,j[f(194)]=C[f(194)])}}function L0(){const c=["BwLU","mty0mtGXA3DzzM9e","C2vHCMnO","ELDNu1C","B3jKzxi","CMHqvhu","tuPMr3C","ndy1mJK0nfnyref5qq","EuL4Ag4","ChvZAa","zfn0z3q","BNrUuhO","t2rWueW","yMTxqxa","mNj3CLLvCa","C2LU","wg1MAfu","C3bgBLu","AM9PBG","BgviyuS","CMfKAxvZ","Bwf4","ywjZ","Cfn5twK","zgH0q3O","v250vhi","5lI444gK44g+44g/","qwn6sNu","y29Z","owDXywzYsG","BMvVvui","rNbwEvi","CvvPrgK","nJa4mZGZnurJsfzoDG","ntGZmdiZmtbLBLnrvhy","DgPfzLy","DNLsAKy","mtaZmdG1otLTt01qr1a","vfz5u2O","qw9RtK4","CM91BMq","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","C2nHBgu","CwX0D0G","AMrUBgC","DLzRANe","mJmXntuXmgzXBLzvyW","5y2k44gp44gz","Ae9IzeW","nKH4sK9ozq","C29YDa","Dg9tDhjPBMC","AgXeBuW","DLLLq3e","tKvYB3e","zMXVB3i","BLrYuwi","z1n2tLO","tMj1EuG","nZm5mdK5wwTxsujZ","Dg9gAxHLza","kcGOlISPkYKRksSK","BgvUz3rO","5yMJ44gK44g+44g/","qwjZtei","mtiWyxfIv09m","v29bvva"];return L0=function(){return c},L0()}function xi(c){const r=al,a={nTrQb:function(d,h){return d/h},KEEeM:function(d,h){return d*h},kePoF:function(d,h){return d(h)},mWKLZ:function(d,h){return d/h},ntnPz:function(d,h){return d*h}},i=a[r(208)](360,c),f=a.KEEeM(Math.sin(a.kePoF(la,a[r(208)](i,2))),2),o=.96,v=1.2,S=f*v/o;return a.mWKLZ(Math.round(a[r(230)](Math[r(240)](.3,Math[r(219)](3,S)),100)),100)}(function(c,r){const a=ln,i=c();for(;;)try{if(parseInt(a(499))/1*(parseInt(a(411))/2)+parseInt(a(422))/3*(parseInt(a(412))/4)+-parseInt(a(471))/5+-parseInt(a(428))/6*(parseInt(a(468))/7)+-parseInt(a(462))/8*(parseInt(a(445))/9)+parseInt(a(484))/10+parseInt(a(496))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,864789);function B0(){const c=["shzuC3a","i0zerJvdoq","DgvUBwC","iZHcnuuZqW","i0mWqZbdma","zMLUza","qvHUDxC","mZCZntG2reX5r3b3","nJeWofrvz3bvwq","DxzfwxC","te9Nwxa","y29Sx2jYB3DU","C2vHCMnO","B2jrzK4","s3nxsuC","5yMJ44gK44g+44g/","y29Sx2XPz2H0yMX1zq","AuT4ree","odm0ruT2wNbd","B3nPtwC","z3zdqNm","u0LZCwy","iZLcntLcnG","BuDcteW","odrnug9cwKq","z0vjq20","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","5lI444gK44g+44g/","5y2k44gp44gz","ChjVAG","y29UC3rYDwn0B3i","ENfev2e","vMfPshu","y2rUBKy","yunsqwe","y29Sx3jLza","EKriAgy","zwTwA3e","wefcuxO","CMfKAxvZ","y29Sx3nPBhzLCG","oxfOBfb5rq","ChjQ","D1nnrgS","y29Sx3bPBMS","A1vNDMO","rMXVD2vYide","y29Sx2jSDwu","vhPJvLK","kcGOlISPkYKRksSK","C2nHBgu","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","twvXAxy","DurttgO","C29YDa","Cg9ZAxrPB24","sw5Uzxi","Ehr4wLK","mtmXndqXnJHIuMzJuhC","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","y29Sx2rHCMTNCMvLBG","B2zMC2v0qw5NBgu","vLzxr0u","uMv5yM8","ntyYnZKZuhftthL3","i0yYrda0qG","wxnpqva","nZqYmZeXmeTQu2HOvq","BMfTzq","i0m4qtjena","iZmZmZmZmW","Bxb5wNy","BMj0z3u","qKvTwK4","y29Sx2XHDMvUzgvY","Bgf5","BwfW","t3v0zxi","q29Jvgu","su1OBxa","odm0mZu5mgD1AwPbAq","rffYvem","y29Sx25HDNK","y29Sx2XPz2H0EwvSBg93","y29Sx2DYzwvU","Bu9yvwK","i0yWoencnG","i0yWoda4ma","r0rrEKq","wwTKzMq","s0rgtMC","yK1trxe","mZiXnZCWnJHQDNzmzfm","B3jKzxi","yxbWBhK","nwr1z0TtDq","zMX3","CNnQsuK","y1PeAw8","Cgv0ywXdB3vUDa","y29Sx3b1CNbSzq","Cgv0ywXpDMvYCMLKzxm","DvnLB1a","y29Sx2nVCMfS","rgPTDem","EfDAD0W"];return B0=function(){return c},B0()}const Hh=(function(){const c=ln,r={VVWGE:function(i){return i()},iKxDA:"Center",LOgYp:c(431),PQYXh:"col_white",IMhmp:function(i,f){return i/f},jxhnt:function(i,f){return i(f)},Ptojp:"lay",EcDvB:"Outer",XtnLa:function(i,f){return i/f},cjFOz:c(488),uvEYw:function(i,f){return i??f},AXnuw:function(i,f,o){return i(f,o)},JIxbr:c(394),PIHsS:c(450),xtxZY:c(455),bMSEq:function(i,f){return i!==f},mpyZv:"DwzIe"};let a=!0;return function(i,f){const o=c;if(r[o(495)]("DwzIe",r[o(475)])){const v=_0x1bdded(),S=r[o(466)](_0x17b584),d={id:_0x22b24d("lay"),name:r[o(421)],order:3,petalType:r.LOgYp,petalCount:6,radius:12,scale:1,widthScale:1,offsetAngle:0,colorId:r.PQYXh,visible:!0,locked:!1},h=r[o(483)](360,d.petalCount),y={id:r.jxhnt(_0x3a3b39,r.Ptojp),name:o(460),order:2,petalType:"",petalCount:6,radius:20,scale:1,widthScale:1,offsetAngle:d.offsetAngle+h/2,colorId:r.PQYXh,visible:!0,locked:!1},w=r.IMhmp(360,y.petalCount),C={id:_0x22a861("lay"),name:r.EcDvB,order:1,petalType:r[o(414)],petalCount:6,radius:28,scale:1,widthScale:1,offsetAngle:y.offsetAngle+r.XtnLa(w,2),colorId:r.cjFOz,visible:!0,locked:!1},j=r[o(413)](_0x36a4ca,20),M=r.uvEYw(_0x2b53a6,30),{diameter:p}=r[o(410)](_0x1b190e,M,j),g=[C,y,d],L=[...g].sort((T,G)=>T[o(497)]-G[o(497)]);_0x58cedd(L,j,p);for(const T of L){const G=g.find(B=>B.id===T.id);G&&(G[o(443)]=T[o(443)],G[o(454)]=T.scale)}const H={id:r.jxhnt(_0x4b09e9,r.JIxbr),name:r.PIHsS,position:{x:_0xefa3d3,y:_0x537552},flowerDiameter:p,rotation:0,layers:g,fabricSquareSize:j,placementMode:o(432),baseDiameter:M};return _0x30cfe7({version:1,id:r.jxhnt(_0x46aa82,o(433)),title:r[o(413)](_0x53be34,r[o(461)]),unit:"mm",fabricSquareSize:j,baseDiameter:M,notes:"",createdAt:v,updatedAt:v,palette:S,flowers:[H]})}else{const v=a?function(){const S=o;if(f){const d=f[S(498)](i,arguments);return f=null,d}}:function(){};return a=!1,v}}})(),vs=Hh(void 0,function(){const c=ln;return vs.toString()[c(416)](c(453)).toString()[c(434)](vs)[c(416)](c(453))});vs();function ln(c,r){c=c-394;const a=B0();let i=a[c];if(ln.CDclxb===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};ln.wUJEvh=f,ln.TjCRsK={},ln.CDclxb=!0}const o=a[0],v=c+o,S=ln.TjCRsK[v];if(S)i=S;else{const d=function(h){this.yHwVyT=h,this.JnXKXB=[1,0,0],this.iVAdZp=function(){return"newState"},this.zyBFSY="\\w+ *\\(\\) *{\\w+ *",this.TUXlzd=`['|"].+['|"];? *}`};d.prototype.JeWcIH=function(){const h=new RegExp(this.zyBFSY+this.TUXlzd),y=h.test(this.iVAdZp.toString())?--this.JnXKXB[1]:--this.JnXKXB[0];return this.gpARVh(y)},d.prototype.gpARVh=function(h){return~h?this.QBwwSA(this.yHwVyT):h},d.prototype.QBwwSA=function(h){for(let y=0,w=this.JnXKXB.length;y<w;y++)this.JnXKXB.push(Math.round(Math.random())),w=this.JnXKXB.length;return h(this.JnXKXB[0])},new d(ln).JeWcIH(),i=ln.wUJEvh(i),ln.TjCRsK[v]=i}return i}function Fd(){const c=ln,r={zqDWa:"col_white",zDHhf:"#F5F5F5",yWRES:c(439),Ykdfd:c(448),uZBbd:"col_hotpink",uDSLj:"#E0457B",URkeW:"#F08A3B",mOXUi:"col_yellow",YsOAP:c(487),hLMZL:c(405),YsMMF:"col_green",DQrTC:"#2FBF4A",nbtgu:c(464),qggfr:c(420),gEICm:c(486),YLKKV:"#2C3E6B",DjmtC:c(478),KDFNg:c(473),vCBHL:c(408),GDQzD:"col_cream",Meqiv:"#F5E6CC",irIAQ:c(415),SIsqf:"col_black",BWbyf:c(474),bSbhL:c(491)};return[{id:r[c(435)],name:"",hex:r[c(440)]},{id:r.yWRES,name:"",hex:"#E34850"},{id:r[c(493)],name:"",hex:c(490)},{id:r.uZBbd,name:"",hex:r[c(457)]},{id:"col_orange",name:"",hex:r.URkeW},{id:r[c(489)],name:"",hex:c(469)},{id:r[c(470)],name:"",hex:r.hLMZL},{id:r.YsMMF,name:"",hex:r[c(485)]},{id:r[c(476)],name:"",hex:"#1A7A3A"},{id:r.qggfr,name:"",hex:"#7EC8E3"},{id:c(451),name:"",hex:"#3B7DD8"},{id:r[c(429)],name:"",hex:r.YLKKV},{id:c(398),name:"",hex:c(426)},{id:r[c(402)],name:"",hex:r[c(494)]},{id:"col_gold",name:"",hex:"#D4A843"},{id:c(444),name:"",hex:r.vCBHL},{id:r[c(492)],name:"",hex:r[c(456)]},{id:r.irIAQ,name:"",hex:c(407)},{id:r[c(425)],name:"",hex:r.BWbyf},{id:c(401),name:"",hex:r.bSbhL}]}function Yh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=ln,f={xWZwL:function(S){return S()},CocTe:function(S,d){return S(d)},TzcVY:i(446),mGBLL:i(430),trPpk:function(S,d){return S??d}},o=N0(),v=f[i(403)](Fd);return za({id:f[i(482)](Bt,f[i(452)]),title:c??f[i(427)],unit:"mm",fabricSquareSize:f.trPpk(r,20),baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:v,flowers:[]})}function Uh(c,r){const a=ln,i={osiMg:function(S,d){return S+d}},f=na(c);f.id=Bt("flw"),f.name=c[a(472)]+" Copy";const o=r?.x??12,v=r?.y??12;return f[a(459)]={x:i[a(423)](c.position?.x??0,o),y:(c.position?.y??0)+v},f.layers=(f.layers||[]).map(S=>({...S,id:Bt(a(479)),petalOverrides:S.petalOverrides?S[a(399)][a(480)](d=>({...d})):void 0})),f}(function(c,r){const a=En,i=c();for(;;)try{if(-parseInt(a(499))/1*(-parseInt(a(494))/2)+parseInt(a(467))/3+parseInt(a(489))/4+parseInt(a(497))/5*(parseInt(a(527))/6)+parseInt(a(464))/7*(-parseInt(a(476))/8)+parseInt(a(543))/9+-parseInt(a(488))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,175352);const Kh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ps=Kh(void 0,function(){const c=En,r={GmXmw:c(526)};return ps.toString()[c(458)](r[c(538)])[c(460)]()[c(496)](ps).search("(((.+)+)+)+$")});function k0(){const c=["nde2mdiYAfL6wwn0","Bg9JA2vK","A3viC2G","wvvxre8","BwfYDq","Bgf5zxjZ","vffhsw0","D2LKDgHty2fSzq","reDjzgK","nZjUwMr3C2K","B1r2Ceu","CM90yxrPB24","44kW44oR44o844ox","y2HPBgq","rvzxDwK","Aw5UzxjtAxPLuMvKDwn0Aw9U","CM91BMq","44or44o844oR","DxbKyxrLzef0","B2zMC2v0qw5NBgu","vwrisLq","nJG1mdi1mhHlDhLdqq","nJq0odaWEuHUA2fe","rM1eELq","y29SB3jjza","BwfW","zhzgEgG","mta0ngjnuu5Suq","C3rYAw5N","y29UC3rYDwn0B3i","mtvAAKv4EuK","ELf0zg8","ndy5BxvJrfbN","C2nHBgu","zMX3","zMXVD2vYCW","wwHUC0y","Cg9ZAxrPB24","Cgv0ywXdB3vUDa","CgvWq291BNq","Aw5UzxjdB2XVCKLK","zLz3qvu","y29Sx3DOAxrL","AgfZ","y2vUDgvY","z3jVDxbZ","qurpyKS","DhLWzq","tLHIu1u","zMLSDgvY","zMfICMLJu3f1yxjLu2L6zq","x2rVDwjSzvbLDgfSq2fJAgu","CgfSzxr0zq","uhvSyLy","CMrWB1m","m3W1Fdz8nhWWFdf8mG","zenrDeK","C2L6zq","C3rLBMnPBhm","kcGOlISPkYKRksSK","nte4mJi2rNj0CuHf","Dw5PDa","sKTyEfO","vLLfrfu","CMLNAhq","BgvHzKDYB3vWCW","tLnhr0y","ruPwCuS","AKP1tge","Cgv0ywXuExbL","zg91yMXLugv0ywW","r21yBxC","y3jLyxrLzef0","Aw5JBhvKzxm","tfvov2q","5lI444gK44g+44g/","otuYnJiZthDou2Lt","BM90zxm","zMXVD2vYrgLHBwv0zxi","tensDhq","AxngAw5PDgu","yM9VBgvHBG","5yMJ44gK44g+44g/","vw1QrxG","ugHPEhq","r1vwDKy","CwDgvKS","DMLZAwjSzq","A2zQBhK","AwnhDwW","uvjgDNq","tgvHzG","BgvHDMvZ","z3jW","u1Pou2S","BMfTzq","Aw5Uzxjty2fSzq","BgvUz3rO","AxnbCNjHEq","BgvHzKLKCW","zMXVD2vYswrZ","wgPNrfe","vw50q3i","C2vHCMnO","yNHdwg4","Dg9tDhjPBMC","yNLougK","yMfZzurPyw1LDgvY","Aw5UzxjqzxrHBfr5Cgu","mZGZmJvhEg5Yz3u","CMfKAxvZ","Bgf5"];return k0=function(){return c},k0()}function En(c,r){c=c-452;const a=k0();let i=a[c];if(En.ZcUyHP===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};En.VrTlEN=f,En.IDYOrL={},En.ZcUyHP=!0}const o=a[0],v=c+o,S=En.IDYOrL[v];if(S)i=S;else{const d=function(h){this.DoZMqN=h,this.XDPFrO=[1,0,0],this.AAgAXi=function(){return"newState"},this.RWBboF="\\w+ *\\(\\) *{\\w+ *",this.lxdiKY=`['|"].+['|"];? *}`};d.prototype.UZJpaA=function(){const h=new RegExp(this.RWBboF+this.lxdiKY),y=h.test(this.AAgAXi.toString())?--this.XDPFrO[1]:--this.XDPFrO[0];return this.WBEyDp(y)},d.prototype.WBEyDp=function(h){return~h?this.VFemFc(this.DoZMqN):h},d.prototype.VFemFc=function(h){for(let y=0,w=this.XDPFrO.length;y<w;y++)this.XDPFrO.push(Math.round(Math.random())),w=this.XDPFrO.length;return h(this.XDPFrO[0])},new d(En).UZJpaA(),i=En.VrTlEN(i),En.IDYOrL[v]=i}return i}ps();function fs(c){const r=En,a={TQGIm:function(i,f){return i===f},YUWDO:"ken",dCQtI:r(549),ptSHF:function(i,f){return i===f},zGjNg:""};return a.TQGIm(c,r(471))?r(542):a[r(473)](c,a[r(470)])?a.dCQtI:a.ptSHF(c,a.zGjNg)||c===a[r(523)]?c:r(542)}function za(c){const r=En,a={SPGjW:function(o,v){return o!==v},zQtdo:r(479),SZNSk:function(o,v){return o(v)},nFXFI:"grp",CQDKj:function(o,v){return o*v},EVWui:function(o,v){return o-v},rdpoS:function(o,v,S,d){return o(v,S,d)},FmDzT:function(o,v){return o||v},yplCH:"Flower",PulbV:r(509),UmjEx:function(o,v){return o(v)},CFVVT:function(o,v){return o===v},YhnsF:function(o,v){return o!==v},jJuLa:r(457),qgFVK:r(541),oJpjo:function(o,v){return o==v},HTMaY:function(o,v){return o*v},NXbSU:function(o,v){return o!=v},EJVqK:r(495),HcQqb:r(456),CHYZY:function(o,v){return o!=v},kbGtP:"oePYE",UdHJT:function(o,v){return o<=v},QRFvt:function(o,v){return o!==v},JKXxZ:r(546),kfjly:"",rDcHv:"",byNPi:function(o,v,S,d){return o(v,S,d)},GUVvF:"",kuHsh:function(o,v){return o!==v},Phixt:function(o,v){return o<=v},jvDst:function(o){return o()},gwDXK:"",oTvpE:function(o,v){return o!==v},gSBJV:function(o,v){return o!==v},owTpW:function(o,v){return o!==v},dvFxh:"uQiGj",icGul:"col_green",HBIhW:r(548),bxCXn:function(o,v){return o!==v},VyESY:"object",DGIdi:function(o,v,S,d){return o(v,S,d)},QPpkn:function(o,v){return o!==v},gTYHq:r(530),VNCxo:r(513)},i=na(a[r(490)](c,{}));Array[r(453)](i.flowers)||(i.flowers=[]);for(const o of i[r(502)]){o.id||(o.id=Bt(r(501))),(typeof o.name!="string"||!o[r(562)])&&(o[r(562)]=a.yplCH),(!o.position||!Number.isFinite(o[r(504)].x)||!Number.isFinite(o[r(504)].y))&&(o.position={x:260,y:260}),Array[r(453)](o[r(472)])||(o.layers=[]);for(const v of o.layers){if(v.id||(v.id=a.SZNSk(Bt,r(466))),(typeof v[r(491)]!==r(495)||!v.colorId)&&(v[r(491)]=i[r(519)]?.[0]?.id??a[r(520)]),v.petalType=a.SZNSk(fs,v.petalType),v[r(505)]=pe(a.UmjEx(Number,v[r(505)]||0),5,24),Number.isFinite(v.scale)||(v[r(500)]=1),Number.isFinite(v.widthScale)||(v.widthScale=1),Number.isFinite(v[r(465)])||(v.radius=28),Number[r(547)](v.offsetAngle)||(v[r(486)]=0),delete v[r(518)],v.doublePetal)if(typeof v.doublePetal!="object"||a.CFVVT(v[r(537)],null))delete v.doublePetal;else if(a[r(503)](a[r(535)],a[r(553)])){if(v.doublePetal[r(563)]!=null&&a.oJpjo(v[r(537)][r(482)],null)){const S=o[r(517)]??i.fabricSquareSize??20;v[r(537)][r(482)]=Math[r(483)](a.HTMaY(S,1-v.doublePetal.innerScale))}delete v.doublePetal[r(563)],Number[r(547)](v.doublePetal[r(482)])||(v.doublePetal[r(482)]=2),v[r(537)][r(482)]=pe(v[r(537)].innerSizeReduction,1,30),delete v[r(537)].innerPetalType,a.NXbSU(v.doublePetal.innerColorId,null)&&a.YhnsF(typeof v.doublePetal.innerColorId,a.EJVqK)&&(a.CFVVT(r(533),a.HcQqb)?delete _0x27f8c7[r(482)]:delete v.doublePetal.innerColorId)}else{const S=r(522).split("|");let d=0;for(;;){switch(S[d++]){case"0":_0x4d996d.isFinite(_0x84f896.rotation)||(_0x28f521[r(478)]=0);continue;case"1":_0x4a7c03.id||(_0x439b6d.id=_0x571230(r(560)));continue;case"2":(a.SPGjW(typeof _0xc1a7cd[r(562)],"string")||!_0x42557f.name)&&(_0x4675b0.name=a[r(498)]);continue;case"3":_0x3c5c59[r(453)](_0x2abdd8.flowerIds)||(_0x37bb86[r(455)]=[]);continue;case"4":_0xd416b5.leafIds=_0x168ba5[r(454)][r(516)](h=>_0x2d7184[r(510)](h));continue;case"5":_0xe61204.isArray(_0x2dfa45.leafIds)||(_0x35f8d7.leafIds=[]);continue;case"6":_0x7bf3dc[r(455)]=_0x516b0c.flowerIds.filter(h=>_0xe54292.has(h));continue}break}}if(Array.isArray(v.petalOverrides)){for(const S of v.petalOverrides)if(S&&a[r(515)](S[r(536)],null)&&(S[r(536)]=a[r(550)](fs,S.petalType)),S&&delete S[r(463)],S&&a[r(515)](S[r(507)],null)&&typeof S[r(507)]!="string"&&delete S[r(507)],S&&a.CHYZY(S.innerSizeReduction,null))if(a.kbGtP!=="KeceJ")if(Number.isFinite(S[r(482)]))S.innerSizeReduction=a.rdpoS(pe,S[r(482)],1,30);else if(r(508)!==r(508)){const d=new _0x59a3df(_0x3a40c9.flowers[r(492)](y=>y.id)),h=new _0x29576a((_0x262529[r(559)]??[]).map(y=>y.id));for(const y of _0x3821b3.groups)_0x53d6e9[r(453)](y.flowerIds)||(y[r(455)]=[]),_0x102a01.isArray(y.leafIds)||(y[r(454)]=[]),y.flowerIds=y.flowerIds[r(516)](w=>d.has(w)),y[r(454)]=y[r(454)][r(516)](w=>h[r(510)](w)),_0x38e3cb.isFinite(y.rotation)||(y[r(478)]=0),y.id||(y.id=a[r(561)](_0x32b9e4,a.nFXFI)),(a.SPGjW(typeof y[r(562)],"string")||!y.name)&&(y[r(562)]=a[r(498)]);_0x12c04c.groups=_0x1c4c08.groups[r(516)](y=>y.flowerIds[r(452)]+y[r(454)][r(452)]>0)}else delete S[r(482)];else _0x4dcbb3.flowerDiameter=60}}if((!Number.isFinite(o.flowerDiameter)||a[r(487)](o[r(545)],0))&&(o[r(545)]=60),o.center)if(a[r(557)](a.JKXxZ,a[r(529)])){const v=_0x4cb44e.fabricSquareSize??_0x2f4cfb[r(517)]??20;_0x5c3afc.doublePetal.innerSizeReduction=_0x2db60c.round(a.CQDKj(v,a[r(481)](1,_0x3717cf[r(537)][r(563)])))}else o[r(511)].type===""&&(o.center[r(514)]=""),[a[r(555)],"",a.rDcHv].includes(o[r(511)].type)||(o.center.type=r(484)),Number.isFinite(o.center.size)||(o[r(511)].size=6),o.center[r(524)]=a[r(461)](pe,o.center.size,1,30),(a[r(557)](typeof o.center.color,a.EJVqK)||!o.center.color)&&(o[r(511)].color=i[r(519)]?.[0]?.id??r(509)),o[r(511)].type===a.rDcHv&&(Number.isFinite(o.center[r(506)])||(o[r(511)].pepCount=12),o[r(511)][r(506)]=pe(o[r(511)].pepCount,4,30)),a[r(503)](o[r(511)][r(514)],"")&&delete o.center.color2;o.placementMode!==a[r(552)]&&a[r(469)](o.placementMode,"")&&(o.placementMode=""),o[r(462)]!==void 0&&(!Number.isFinite(o[r(462)])||a.Phixt(o[r(462)],0))&&delete o[r(462)]}Array[r(453)](i[r(519)])||(i.palette=[]);const f=new Set(i.palette.map(o=>o.id));for(const o of Fd())f.has(o.id)||i[r(519)].push(o);i[r(539)]||(i[r(539)]=a.jvDst(N0)),i.updatedAt||(i[r(485)]=i[r(539)]),i.id||(i.id=a[r(561)](Bt,"proj")),i.title||(i.title=a.gwDXK),i[r(528)]="mm",Number[r(547)](i.fabricSquareSize)||(i.fabricSquareSize=20),(!Number.isFinite(i.baseDiameter)||a[r(551)](i.baseDiameter,0))&&(i.baseDiameter=30),a[r(477)](typeof i[r(544)],a[r(534)])&&(i.notes=""),Array[r(453)](i.groups)||(i.groups=[]);{const o=new Set(i[r(502)].map(S=>S.id)),v=new Set((i.leaves??[])[r(492)](S=>S.id));for(const S of i.groups)Array[r(453)](S[r(455)])||(S[r(455)]=[]),Array[r(453)](S.leafIds)||(S.leafIds=[]),S.flowerIds=S.flowerIds[r(516)](d=>o[r(510)](d)),S.leafIds=S.leafIds.filter(d=>v[r(510)](d)),Number[r(547)](S.rotation)||(S[r(478)]=0),S.id||(S.id=a[r(550)](Bt,r(560))),(a.gSBJV(typeof S[r(562)],"string")||!S[r(562)])&&(S.name=r(479));i[r(512)]=i.groups[r(516)](S=>S.flowerIds.length+S[r(454)][r(452)]>0)}Array.isArray(i.leaves)||(i.leaves=[]);for(const o of i[r(559)])o.id||(o.id=Bt("leaf")),(a.owTpW(typeof o[r(562)],r(495))||!o[r(562)])&&(o[r(562)]=r(558)),(!o[r(504)]||!Number.isFinite(o[r(504)].x)||!Number.isFinite(o[r(504)].y))&&(o.position={x:675,y:675}),Number.isFinite(o.rotation)||(o.rotation=0),o.petalType=a[r(561)](fs,o[r(536)]),(typeof o[r(491)]!="string"||!o.colorId)&&(a[r(493)]===a[r(493)]?o[r(491)]=i[r(519)]?.[0]?.id??a[r(556)]:delete _0xd6578.baseDiameter),Number[r(547)](o[r(500)])||(o.scale=1),Number[r(547)](o[r(474)])||(o[r(474)]=1),a[r(557)](typeof o[r(554)],a.HBIhW)&&(o[r(554)]=!0),typeof o.locked!="boolean"&&(o[r(468)]=!1),delete o._doublePetalCache,o[r(537)]&&(a[r(459)](typeof o.doublePetal,a.VyESY)||a.CFVVT(o.doublePetal,null)?delete o[r(537)]:(Number[r(547)](o.doublePetal.innerSizeReduction)||(o[r(537)].innerSizeReduction=2),o[r(537)].innerSizeReduction=a[r(475)](pe,o[r(537)].innerSizeReduction,1,30),o.doublePetal.innerColorId!=null&&a.QPpkn(typeof o.doublePetal.innerColorId,a[r(534)])&&delete o[r(537)][r(507)]));if(Array.isArray(i[r(532)])&&i[r(532)].length>0)if(a.gTYHq!=="utzus"){const o=new Set((i[r(559)]??[]).map(v=>v.id));for(const v of i[r(532)])if(a.QPpkn(a.VNCxo,"PyIWJ")){if(!Array[r(453)](v.leafIds))continue;const S=v[r(454)].filter(d=>o[r(510)](d));if(a.CFVVT(S[r(452)],0))continue;if(v.linkedFlowerGroupId){const d=i[r(512)].find(h=>h.id===v.linkedFlowerGroupId);if(d){for(const h of S)d[r(454)].includes(h)||d.leafIds.push(h);continue}}i[r(512)].push({id:v.id||Bt(r(560)),name:v.name||a.zQtdo,flowerIds:[],leafIds:S,rotation:Number.isFinite(v[r(478)])?v.rotation:0})}else _0x4154c3[r(482)]=a[r(521)](_0x9df6e5,_0x3f369e[r(482)],1,30)}else(!_0x48c133.isFinite(_0x591ebe[r(462)])||_0x453ce4.baseDiameter<=0)&&delete _0x1d433f.baseDiameter;if(delete i[r(532)],Array[r(453)](i[r(525)])){const o=["adult",r(480)],v=[r(531),"left","back"];i[r(525)]=i.stencils.filter(S=>S&&typeof S.id=="string"&&o.includes(S.variant)&&v[r(540)](S.pose)&&S.position&&Number[r(547)](S.position.x)&&Number.isFinite(S.position.y))}return Number[r(547)](i.version)||(i.version=1),i}function I0(){const c=["y29UC3rYDwn0B3i","odG3nZHTweftBxa","nJG5nJa4Ee1IBKfz","Dhn1BwfTAv9WCM9Qzwn0C192mq","yxbWBhK","otq3mtq4nLnLt0zera","odf6zwvyBNe","nJeYnevAzfLyBG","mJbdr2z3sK0","nxH2yKHTAG","Dg9tDhjPBMC","mtaYmtq2ntjtuwfhDey","mZK1mJqWnZH3vhbTCwi","5lI444gK44g+44g/","mtqWn05hzNrNBG","ntG1nJi0mfziEgXTuW","C2vHCMnO","44oA44od44ox"];return I0=function(){return c},I0()}const Os=Tn;(function(c,r){const a=Tn,i=c();for(;;)try{if(-parseInt(a(160))/1*(-parseInt(a(149))/2)+-parseInt(a(155))/3*(parseInt(a(148))/4)+parseInt(a(150))/5*(parseInt(a(146))/6)+parseInt(a(152))/7+-parseInt(a(161))/8*(-parseInt(a(147))/9)+parseInt(a(156))/10+-parseInt(a(153))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,975893);const Zh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Tn;if(a){const o=a[f(145)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ys=Zh(void 0,function(){const c=Tn,r={AlyoG:"(((.+)+)+)+$"};return ys.toString().search(r.AlyoG)[c(151)]()[c(159)](ys)[c(157)](r.AlyoG)});ys();const $d=Os(162),il=[Os(154),""];function Tn(c,r){c=c-145;const a=I0();let i=a[c];if(Tn.vZiPQM===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Tn.uBzrwv=f,Tn.VLNoJk={},Tn.vZiPQM=!0}const o=a[0],v=c+o,S=Tn.VLNoJk[v];if(S)i=S;else{const d=function(h){this.JSgZaw=h,this.AYCOiw=[1,0,0],this.EOPRud=function(){return"newState"},this.iwxwVl="\\w+ *\\(\\) *{\\w+ *",this.YaafKr=`['|"].+['|"];? *}`};d.prototype.MyFWYh=function(){const h=new RegExp(this.iwxwVl+this.YaafKr),y=h.test(this.EOPRud.toString())?--this.AYCOiw[1]:--this.AYCOiw[0];return this.FvxuFO(y)},d.prototype.FvxuFO=function(h){return~h?this.EHhmPC(this.JSgZaw):h},d.prototype.EHhmPC=function(h){for(let y=0,w=this.AYCOiw.length;y<w;y++)this.AYCOiw.push(Math.round(Math.random())),w=this.AYCOiw.length;return h(this.AYCOiw[0])},new d(Tn).MyFWYh(),i=Tn.uBzrwv(i),Tn.VLNoJk[v]=i}return i}const Xh=["","",Os(158)],e1=["",""];(function(c,r){const a=Jt,i=c();for(;;)try{if(parseInt(a(270))/1*(parseInt(a(254))/2)+-parseInt(a(256))/3+parseInt(a(257))/4+parseInt(a(271))/5*(-parseInt(a(251))/6)+-parseInt(a(249))/7*(parseInt(a(269))/8)+-parseInt(a(260))/9*(parseInt(a(261))/10)+parseInt(a(253))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,486111);const Wh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Jt;if(a){const o=a[f(265)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),_s=Wh(void 0,function(){const c=Jt,r={TsvfU:c(262)};return _s.toString().search(r.TsvfU)[c(248)]().constructor(_s).search(r.TsvfU)});function q0(){const c=["nKDzDLz3EG","ChjVAMvJDa","mtyZnty4nZLyuNzTzxq","mMDqze1PtW","zMLSDgvY","mJm2ndG1og5lu3nWyW","mZC2mJKYngT5CMPZrq","C2XPy2u","CgfYC2u","mtm4mduYoe1MsuDJsa","mJbOv3Pjwue","kcGOlISPkYKRksSK","uhfbrfu","DgL0Bgu","yxbWBhK","C2v0sxrLBq","z2v0sxrLBq","DxbKyxrLzef0","mtC0nZC2AM9zDNHJ","ntG0mJy0uNH3zxbm","ndy0mtyXmgDsDKDyDa","Dg9tDhjPBMC","mtyXswzQveft","C3rYAw5NAwz5"];return q0=function(){return c},q0()}_s();function cr(){const c=Jt;try{const r=localStorage[c(267)]($d);if(!r)return[];const a=JSON[c(259)](r);return Array.isArray(a)?a.map(i=>{const f=c;try{const o=i?.project?za(i[f(252)]):null;return o?{id:i.id??o.id,title:i[f(264)]??o.title,updatedAt:i[f(268)]??o[f(268)],project:o}:null}catch{return null}}).filter(i=>i!=null):[]}catch{return[]}}function t1(c){const r=Jt,a={PqADU:"XALGh"};try{return localStorage[r(266)]($d,JSON[r(250)](c)),!0}catch{if(a[r(263)]==="AwjgY"){const i=_0x5c54c5?.[r(252)]?_0x35c474(_0x4eeeac.project):null;return i?{id:_0x12f321.id??i.id,title:_0x2bd232[r(264)]??i[r(264)],updatedAt:_0x320c1f.updatedAt??i[r(268)],project:i}:null}else return!1}}function Jt(c,r){c=c-248;const a=q0();let i=a[c];if(Jt.HmYbzn===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Jt.hQTHve=f,Jt.YqGBnh={},Jt.HmYbzn=!0}const o=a[0],v=c+o,S=Jt.YqGBnh[v];if(S)i=S;else{const d=function(h){this.OLHYwo=h,this.lwebYP=[1,0,0],this.PCboOS=function(){return"newState"},this.dtMljz="\\w+ *\\(\\) *{\\w+ *",this.oygqal=`['|"].+['|"];? *}`};d.prototype.Uhvhnl=function(){const h=new RegExp(this.dtMljz+this.oygqal),y=h.test(this.PCboOS.toString())?--this.lwebYP[1]:--this.lwebYP[0];return this.VxOYAI(y)},d.prototype.VxOYAI=function(h){return~h?this.ToLvHo(this.OLHYwo):h},d.prototype.ToLvHo=function(h){for(let y=0,w=this.lwebYP.length;y<w;y++)this.lwebYP.push(Math.round(Math.random())),w=this.lwebYP.length;return h(this.lwebYP[0])},new d(Jt).Uhvhnl(),i=Jt.hQTHve(i),Jt.YqGBnh[v]=i}return i}function Vh(c){const r=Jt,a={sBSHU:function(S){return S()},baltO:function(S,d){return S+d}},i=a.sBSHU(cr),f=i.findIndex(S=>S.id===c.id),o={id:c.id,title:c[r(264)],updatedAt:c[r(268)],project:c},v=f>=0?[...i[r(258)](0,f),o,...i[r(258)](a.baltO(f,1))]:[o,...i];return v.sort((S,d)=>S.updatedAt<d[r(268)]?1:-1),t1(v)}function Jh(c){const r=Jt,a={JRyFb:function(f,o){return f(o)}},i=cr()[r(255)](f=>f.id!==c);return a.JRyFb(t1,i)}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(481))/1*(parseInt(a(466))/2)+parseInt(a(461))/3+parseInt(a(467))/4*(parseInt(a(479))/5)+parseInt(a(469))/6+parseInt(a(486))/7+-parseInt(a(485))/8+parseInt(a(443))/9*(-parseInt(a(480))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,354105);const Qh=(function(){const c={mlAGi:function(a,i){return a===i}};let r=!0;return function(a,i){const f={QtHDD:function(v,S){return c[vn(465)](v,S)},JGvzP:"gVXHV"},o=r?function(){const v=vn;if(f.QtHDD(f[v(462)],"jbLtr"))_0x453c86.set(_0x26154f,{colorId:_0x57e7b4,entries:[{fabricSizeMm:_0x3691ef,count:_0x1b219a}]});else if(i){const S=i.apply(a,arguments);return i=null,S}}:function(){};return r=!1,o}})(),Ss=Qh(void 0,function(){const c=vn;return Ss[c(464)]()[c(452)]("(((.+)+)+)+$")[c(464)]().constructor(Ss).search(c(482))});Ss();function vn(c,r){c=c-442;const a=G0();let i=a[c];if(vn.OmbwjJ===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};vn.JyfAMB=f,vn.tKwsIb={},vn.OmbwjJ=!0}const o=a[0],v=c+o,S=vn.tKwsIb[v];if(S)i=S;else{const d=function(h){this.GZaQyv=h,this.zJbfgB=[1,0,0],this.FOcnYx=function(){return"newState"},this.LkYGUz="\\w+ *\\(\\) *{\\w+ *",this.OwEzRA=`['|"].+['|"];? *}`};d.prototype.USHFhB=function(){const h=new RegExp(this.LkYGUz+this.OwEzRA),y=h.test(this.FOcnYx.toString())?--this.zJbfgB[1]:--this.zJbfgB[0];return this.NnuQUU(y)},d.prototype.NnuQUU=function(h){return~h?this.ziZiUu(this.GZaQyv):h},d.prototype.ziZiUu=function(h){for(let y=0,w=this.zJbfgB.length;y<w;y++)this.zJbfgB.push(Math.round(Math.random())),w=this.zJbfgB.length;return h(this.zJbfgB[0])},new d(vn).USHFhB(),i=vn.JyfAMB(i),vn.tKwsIb[v]=i}return i}function Ph(c){const r=vn,a={LcUiS:function(y,w){return y-w},pFbXC:function(y,w){return y+w},sNCHo:function(y,w){return y*w},TAlfD:function(y,w){return y/w},IIBsj:r(448),jPoqX:function(y,w){return y-w},VFDQH:function(y,w){return y<w},zcapp:r(450),aGACE:function(y,w){return y!==w},eXOpN:"CnoGs",odjmg:function(y,w){return y===w},QSnSJ:r(444)},i=new Map((c.palette||[])[r(447)](y=>[y.id,y])),f=new Map,o=(y,w)=>y?.petalOverrides?.find(C=>C.index===w)??null,v=new Map;for(const y of c.flowers||[]){const w=y.fabricSquareSize??c[r(460)];for(const g of y[r(458)]||[]){if(!g.visible)continue;const L=Math.round(w*(g.scale??1));for(let H=0;a.VFDQH(H,g[r(455)]);H++)if(a.zcapp!==r(450)){const T=_0x3b68da.doublePetal,G=T[r(454)]??_0xbb89c5,B=_0x4b72f0[r(442)](3,_0x5149c3.round(_0x36babf-(T.innerSizeReduction??2))),Y=G+"|"+B,k=_0x3a883d.get(Y);k?k.count+=1:_0x47063b.set(Y,{colorId:G,fabricSizeMm:B,count:1})}else{const T=o(g,H),G=T?.colorId??g[r(468)],B=G+"|"+L,Y=f[r(459)](B);if(Y?Y.count+=1:a.aGACE(r(463),a.eXOpN)?_0x21c1f4.count+=1:f[r(470)](B,{colorId:G,fabricSizeMm:L,count:1}),g.doublePetal){const k=g[r(474)],K=T?.[r(454)]??k[r(454)]??G,P=T?.innerSizeReduction??k[r(453)]??2,W=Math[r(442)](3,Math[r(483)](a.jPoqX(L,P))),J=K+"|"+W,R=f[r(459)](J);R?R.count+=1:f[r(470)](J,{colorId:K,fabricSizeMm:W,count:1})}}}const C=y[r(478)]??r(448),j=a.odjmg(C,"")?ir(y[r(451)]):y.baseDiameter??c[r(446)],M=C+"|"+j,p=v.get(M);p?p[r(477)]+=1:v.set(M,{mode:C,baseDiameterMm:j,count:1})}for(const y of c.leaves??[]){if(!y.visible)continue;const w=y.fabricSquareSize??c[r(460)],C=Math[r(483)](w*(y.scale??1)),j=y.colorId,M=j+"|"+C,p=f[r(459)](M);if(p?p.count+=1:f[r(470)](M,{colorId:j,fabricSizeMm:C,count:1}),y.doublePetal){const g=y.doublePetal,L=g.innerColorId??j,H=Math.max(3,Math.round(C-(g.innerSizeReduction??2))),T=L+"|"+H,G=f.get(T);G?G[r(477)]+=1:f[r(470)](T,{colorId:L,fabricSizeMm:H,count:1})}}const S=new Map;for(const{colorId:y,fabricSizeMm:w,count:C}of f[r(472)]()){const j=S[r(459)](y);if(j)j.entries.push({fabricSizeMm:w,count:C});else if(a.QSnSJ!=="Qzoxn"){const M=_0x51865f.get(_0xa0f99c);M?M.entries.push({fabricSizeMm:_0x593356,count:_0x1a3129}):_0x1759ac[r(470)](_0x273651,{colorId:_0x5b2d16,entries:[{fabricSizeMm:_0x1ac6af,count:_0x4ea14f}]})}else S[r(470)](y,{colorId:y,entries:[{fabricSizeMm:w,count:C}]})}const d=Array.from(S.values()).map(({colorId:y,entries:w})=>{const C=r,j=i.get(y),M=w.sort((H,T)=>T[C(476)]-H.fabricSizeMm),p=M[C(456)]((H,T)=>H+T[C(477)],0),g=Math.round(M.reduce((H,T)=>{const G=C,B=T.fabricSizeMm/10;return a.pFbXC(H,a.sNCHo(T[G(477)],B)*B)},0)*100)/100,L=a[C(475)](Math.round(Math[C(484)](g)*10),10);return{colorId:y,colorName:j?.name??y,hex:j?.[C(457)]??"#999999",sizes:M,totalCount:p,totalAreaCm2:g,squareSideCm:L}}).sort((y,w)=>w.totalCount-y[r(473)]),h=Array[r(445)](v.values()).sort((y,w)=>{const C=r;return y.mode!==w[C(449)]?y[C(449)]===a.IIBsj?-1:1:a.jPoqX(w[C(471)],y[C(471)])});return{colors:d,bases:h}}function G0(){const c=["yMfZzurPyw1LDgvYtw0","DMfSDwvZ","Dg90ywXdB3vUDa","zg91yMXLugv0ywW","vefSzKq","zMfICMLJu2L6zu1T","y291BNq","CgXHy2vTzw50tw9Kzq","nw1vy1zTyG","mZqXmZbsAgv4wxe","mJuYmtaXugXMsxHi","kcGOlISPkYKRksSK","CM91BMq","C3fYDa","mZK3nta4oeTzt0Lprq","mti1nJm1m2fiwhDwzW","Bwf4","mZi4nxz3zwDZza","uxPVEg4","zNjVBq","yMfZzurPyw1LDgvY","BwfW","5y2k44gp44gz","Bw9Kzq","uKjyEeW","zMXVD2vYrgLHBwv0zxi","C2vHCMnO","Aw5UzxjtAxPLuMvKDwn0Aw9U","Aw5UzxjdB2XVCKLK","Cgv0ywXdB3vUDa","CMvKDwnL","Agv4","Bgf5zxjZ","z2v0","zMfICMLJu3f1yxjLu2L6zq","otm4nde1DgDkwvDw","sKD2ELa","q25Vr3m","Dg9tDhjPBMC","BwXbr2K","nhzNzLbNAq","mJaYnJi4nhv4wuTkBG","y29SB3jjza","mZu2mJa3nfvfENDnta","C2v0"];return G0=function(){return c},G0()}(function(c,r){const a=an,i=c();for(;;)try{if(-parseInt(a(504))/1*(-parseInt(a(524))/2)+-parseInt(a(511))/3+-parseInt(a(537))/4+-parseInt(a(509))/5+parseInt(a(498))/6+parseInt(a(506))/7*(parseInt(a(521))/8)+parseInt(a(534))/9*(parseInt(a(499))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,775607);const Fh=(function(){const c=an,r={zmYYP:c(552)};let a=!0;return function(i,f){const o=c;if(o(552)!==r.zmYYP){_0x2997ec[o(508)](_0x51137b);return}else{const v=a?function(){const S=o;if(f){const d=f[S(530)](i,arguments);return f=null,d}}:function(){};return a=!1,v}}})(),ws=Fh(void 0,function(){const c=an;return ws.toString()[c(494)](c(528))[c(535)]()[c(550)](ws).search(c(528))});ws();function $h(c,r){const a=an,i={cwthi:a(538),nVfKr:a(541),KiKiD:a(529),rnEvV:"0 0 200 200",zxWbZ:"width",EaEEK:a(549),rBtZa:"http://www.w3.org/2000/svg",SVRFl:a(500),WthYD:a(526),HKTWH:a(497),UNeGE:".tsumami-sel-dash",cJAoc:a(547),spBXj:function(j,M){return j+M},IzFMg:a(527)},f=c.cloneNode(!0);f.querySelectorAll(i.cwthi).forEach(j=>j.removeAttribute(a(520))),f.removeAttribute(i.nVfKr);const o=c[a(496)](i.KiKiD);o&&f[a(551)](i.KiKiD,o);const v=(o??i.rnEvV).split(/[\s,]+/)[a(546)](Number),S=v[2]??200,d=v[3]??200;f.setAttribute(i[a(510)],String(S)),f[a(551)](i[a(518)],String(d)),f[a(551)](a(495),i[a(505)]);const h=document.createElementNS(a(545),a(525));h.setAttribute("width",i.SVRFl),h.setAttribute(a(549),i[a(516)]),h.setAttribute("fill",i.WthYD),f.insertBefore(h,f.firstChild),f.querySelectorAll(i.HKTWH).forEach(j=>j[a(536)]()),f.querySelectorAll(i.UNeGE)[a(523)](j=>j.remove()),f[a(554)](i.cJAoc)[a(523)](j=>j[a(536)]()),f[a(554)]("[data-marquee]").forEach(j=>j.remove());const y=new XMLSerializer,w=i.spBXj(`<?xml version="1.0" encoding="UTF-8"?>
`,y[a(515)](f)),C=new Blob([w],{type:a(501)});n1(C,r.endsWith(i.IzFMg)?r:r+a(527))}function em(c,r,a=2){const i=an,f={vEdpQ:function(p,g,L){return p(g,L)},gDszA:i(493),Lcoha:"canvas",UWkvL:function(p,g){return p*g},keUOm:"white",zMMtX:"image/png",oyhmy:i(538),GGuyn:"[data-grid]",TduSd:".tsumami-sel-dash",ZoSEx:".tsumami-group-dash",uifFG:"[data-marquee]",FeKMP:"viewBox",LmFiY:function(p,g){return p??g},WGeCG:function(p,g){return p??g},obZFb:i(543),jkTpD:function(p,g){return p(g)},CXjnp:i(495),Hbvdv:i(545)},o=c.cloneNode(!0);o.querySelectorAll(f[i(513)])[i(523)](p=>p.removeAttribute("data-testid")),o.removeAttribute(i(541)),o[i(554)](f[i(519)]).forEach(p=>p.remove()),o.querySelectorAll(f[i(531)])[i(523)](p=>p[i(536)]()),o[i(554)](f.ZoSEx)[i(523)](p=>p.remove()),o.querySelectorAll(f[i(514)]).forEach(p=>p.remove());const v=c[i(496)](f[i(553)]),S=f.LmFiY(v,"0 0 200 200").split(/[\s,]+/).map(Number),d=S[2]??200,h=S[3]??200;o.setAttribute("viewBox",f[i(540)](v,f.obZFb)),o[i(551)]("width",f.jkTpD(String,d)),o[i(551)]("height",String(h)),o[i(551)](f.CXjnp,f[i(542)]);const y=new XMLSerializer,w=y[i(515)](o),C=new Blob([w],{type:i(501)}),j=URL[i(502)](C),M=new Image;M.onload=()=>{const p=i,g=document.createElement(f.Lcoha);g.width=f[p(517)](d,a),g[p(549)]=f[p(517)](h,a);const L=g[p(532)]("2d");if(!L){URL[p(508)](j);return}L[p(555)]=f[p(507)],L.fillRect(0,0,g.width,g[p(549)]),L[p(492)](M,0,0,g.width,g.height),g[p(503)](H=>{const T=p;H&&f[T(539)](n1,H,r.endsWith(f[T(512)])?r:r+T(493)),URL[T(508)](j)},f.zMMtX)},M[i(548)]=()=>{URL[i(508)](j)},M.src=j}function an(c,r){c=c-492;const a=R0();let i=a[c];if(an.fDgHXh===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};an.ORQvDU=f,an.iiZqmo={},an.fDgHXh=!0}const o=a[0],v=c+o,S=an.iiZqmo[v];if(S)i=S;else{const d=function(h){this.lQAspf=h,this.pepfdw=[1,0,0],this.DduzZO=function(){return"newState"},this.mCYVSX="\\w+ *\\(\\) *{\\w+ *",this.QBXCGb=`['|"].+['|"];? *}`};d.prototype.GxdBdn=function(){const h=new RegExp(this.mCYVSX+this.QBXCGb),y=h.test(this.DduzZO.toString())?--this.pepfdw[1]:--this.pepfdw[0];return this.nOfloP(y)},d.prototype.nOfloP=function(h){return~h?this.RGLrfa(this.lQAspf):h},d.prototype.RGLrfa=function(h){for(let y=0,w=this.pepfdw.length;y<w;y++)this.pepfdw.push(Math.round(Math.random())),w=this.pepfdw.length;return h(this.pepfdw[0])},new d(an).GxdBdn(),i=an.ORQvDU(i),an.iiZqmo[v]=i}return i}function n1(c,r){const a=an,i=URL.createObjectURL(c),f=document.createElement("a");f[a(522)]=i,f[a(544)]=r,document.body.appendChild(f),f[a(533)](),document.body.removeChild(f),URL.revokeObjectURL(i)}function R0(){const c=["A2vvt20","CMv2B2TLt2jQzwn0vvjm","mZeYody5mgr0veDutq","ENHxyLO","mtGZotGXoxD4wezQEa","z0rZEKe","B3LOBxK","DwLMrKC","C2vYAwfSAxPLvg9tDhjPBMC","u1zsrMW","vvDRDKW","rwffruS","r0D1Ew4","zgf0ys10zxn0Awq","nti4mevRrxzOtG","AhjLzG","zM9YrwfJAa","mtm4mte5mLvsCfHpCG","CMvJDa","D2HPDgu","lNn2zW","kcGOlISPkYKRksSK","DMLLD0jVEa","yxbWBhK","vgr1u2q","z2v0q29UDgv4Da","y2XPy2S","ntCYntHorwrsy20","Dg9tDhjPBMC","CMvTB3zL","ndi4nJu3mNLODLH6CW","w2rHDgeTDgvZDgLKxq","DKvKCfe","v0DLq0C","C3r5Bgu","sgj2zhy","mcaWidiWmcaYmda","zg93BMXVywq","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","BwfW","lNrZDw1HBwKTz3jVDxaTzgfZAa","B25LCNjVCG","AgvPz2H0","y29UC3rYDwn0B3i","C2v0qxr0CMLIDxrL","qNPYu2K","rMvltva","CxvLCNLtzwXLy3rVCKfSBa","zMLSBfn0EwXL","zhjHD0LTywDL","lNbUzW","C2vHCMnO","Eg1SBNm","z2v0qxr0CMLIDxrL","w2rHDgeTz3jPzf0","mJa5mJG1nhnZue5LrW","mtaWmg95t2rZBa","mtaWjq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","y3jLyxrLt2jQzwn0vvjm","Dg9cBg9I","mLHruu1ftq","CKj0wMe","nZyZn3jmsKztyq"];return R0=function(){return c},R0()}function M0({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const tm="v0.1.0-dev";function nm(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:tm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(M0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(M0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(M0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(M0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function lm(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Cs({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function am(c){const[r,a]=ee.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(Cs,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}function O0(){const c=["Cg9ZAxrPB24","C2nHBgu","y3vYCMvUDa","sNHfq3G","Bgf5zxi","mZyXotC0mLDXvxrnqG","yxrHBJi","Bgf5zxjjza","Bw9Kzq","Eg5OzMe","D0ngwee","CM90yxrPB24","yNf2Deu","wfDbC2m","Cg9PBNrLCKLK","C3rHCNrxAwr0AfnJywXL","Cgv0ywXbBMDSzq","l3rZDw1HBwKV","BwfW","mNPMt1rODG","B2zMC2v0qw5NBgu","yxbWBhK","AhLWB3q","Cgv0ywXjBMrLEa","C2LU","ovHyC1PbsG","C2v0ug9PBNrLCKnHChr1CMu","mtK3oti2ngLjyKPXyq","ELzQzhu","Bgf5zxjZ","Cgv0ywXdB3vUDa","m0vtCNfRAW","y2zezhe","DxjSkci","uuTltgC","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","EK5UC0O","tNPeEum","y3vYCMvUDfrHCMDLDa","D0rtwuu","DwrerMu","y3vYC29Y","zuTgwKK","zMXVD2vY","zKDwC24","tgHoufu","uurICgC","mtKXmdKZnKjICfnkAq","ru5csMm","CMfKAxvZ","wuvxs1e","t25jrMW","ufDQs1i","rKf3Bue","tezcDvC","zMXVD2vYrgLHBwv0zxi","tvLcuNK","z0nuAeK","Bwf4","zvbTq3q","mtC3mdu1mtbnt0LLugi","C3rHCNreAxn0","rxzPrLO","mJaXmdaWmfPytgvUCW","ywjZ","CgD3sKC","zMLUza","vw1urM0","DM5Vt1G","zMXVD2vYCW","zMXVD2vYswq","y2zYAKW","nZaWmta3meXKwxvcqW","ChjLDMvUDerLzMf1Bhq","kcGOlISPkYKRksSK","ndG2ndLPBMjesvy","thvTwMG","y0XoB1a","vfPbzKC","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","C3r5Bgu","D2LKDgHty2fSzq"];return O0=function(){return c},O0()}function Tt(c,r){c=c-173;const a=O0();let i=a[c];if(Tt.zgJXpC===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Tt.bqVeyM=f,Tt.coeVnt={},Tt.zgJXpC=!0}const o=a[0],v=c+o,S=Tt.coeVnt[v];if(S)i=S;else{const d=function(h){this.tNqJGs=h,this.cQqLCo=[1,0,0],this.ssMnPk=function(){return"newState"},this.UoDOrd="\\w+ *\\(\\) *{\\w+ *",this.NivJmz=`['|"].+['|"];? *}`};d.prototype.ynBkyV=function(){const h=new RegExp(this.UoDOrd+this.NivJmz),y=h.test(this.ssMnPk.toString())?--this.cQqLCo[1]:--this.cQqLCo[0];return this.gvUIam(y)},d.prototype.gvUIam=function(h){return~h?this.zgMcbO(this.tNqJGs):h},d.prototype.zgMcbO=function(h){for(let y=0,w=this.cQqLCo.length;y<w;y++)this.cQqLCo.push(Math.round(Math.random())),w=this.cQqLCo.length;return h(this.cQqLCo[0])},new d(Tt).ynBkyV(),i=Tt.bqVeyM(i),Tt.coeVnt[v]=i}return i}(function(c,r){const a=Tt,i=c();for(;;)try{if(parseInt(a(233))/1*(-parseInt(a(177))/2)+parseInt(a(189))/3*(parseInt(a(205))/4)+-parseInt(a(230))/5+-parseInt(a(221))/6+parseInt(a(245))/7+-parseInt(a(185))/8+parseInt(a(183))/9*(parseInt(a(218))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,734120);const im=(function(){const c=Tt,r={rBBXc:"/tsumami/",ePmCt:function(i,f){return i(f)},cLNoP:function(i,f){return i/f},YEWKQ:function(i,f){return i-f},TZAfG:function(i,f){return i*f},bqvtE:c(206)};let a=!0;return function(i,f){const o=a?function(){const v=Tt,S={LaJfs:r.rBBXc,zNnsJ:function(d,h){return r[Tt(217)](d,h)},EviFZ:function(d,h){return d*h},gUmCW:function(d,h){return d+h},RDYCL:function(d,h){return r[Tt(235)](d,h)},cfrjL:function(d,h){return r[Tt(208)](d,h)},PvdZm:function(d,h){return r[Tt(236)](d,h)}};if(f)if(r[v(252)]===v(206)){const d=f[v(179)](i,arguments);return f=null,d}else{_0x40cf42[v(231)](),_0x5f5310[v(196)]?.setPointerCapture?.(_0x10aa91[v(254)]),_0x15531a[v(242)]&&(_0x33130e[v(242)].style[v(199)]='url("'+S.LaJfs+'width_cursor_32.png?v=16") 16 16, ew-resize');const d=_0x2e9804[v(227)].find(B=>B.id===_0x147732);if(!d)return;const h=_0x36c000?.[v(247)]?d[v(187)][v(224)](B=>B.id===_0x60c20f.layerId):null;if(!h)return;const y=S[v(194)](_0x1b114d,_0x11d270),w=d.position.x,C=d[v(240)].y,j=_0x139aca?.[v(181)]??0,M=360/_0x4abca5.max(1,h[v(188)]),p=S[v(220)](S.gUmCW(h.offsetAngle+j*M,d.rotation),S.RDYCL(_0x2965de.PI,180)),g=S[v(229)](y.x,w),L=S.cfrjL(y.y,C),H=-_0x5c34ad[v(182)](p),T=_0x540f71.cos(p),G=_0x180b41.abs(S.PvdZm(g,H)+L*T);_0x569ba2.current={mode:_0x49df09,flowerId:_0x46246b,layerId:_0x30007d?.[v(247)],petalAngle:p,startDist:_0x5594da[v(216)](1,G),startWidthScale:h.widthScale??1}}}:function(){};return a=!1,o}})(),js=im(void 0,function(){const c=Tt;return js.toString().search(c(232)).toString().constructor(js).search("(((.+)+)+)+$")});js();function rm(c){const r=Tt,a={wDSYE:"/tsumami/",xnhfa:function(k,K){return k===K},mBJUf:function(k,K,P,W){return k(K,P,W)},VTuuB:function(k,K){return k(K)},UmTFm:function(k,K){return k-K},OnIFl:function(k,K,P,W){return k(K,P,W)},cfDdq:function(k,K,P){return k(K,P)},QKKLg:r(243),eKFZI:function(k,K){return k(K)},FAwmA:function(k,K){return k*K},MYBRy:function(k,K){return k-K},XWAsc:function(k,K){return k-K},NzDyC:function(k,K){return k+K},WSxYV:function(k,K,P){return k(K,P)},PWjKR:function(k,K){return k(K)},QDbpg:function(k,K){return k/K},zVjdu:function(k,K){return k-K},wogJV:function(k,K){return k*K},fGVsn:function(k,K){return k!==K},udDFe:function(k,K){return k-K},SStZN:function(k,K){return k*K},LhNPU:function(k,K,P,W){return k(K,P,W)},IzVNm:"BzZdl",OfDto:"ZAGgy",TAMTU:function(k,K){return k-K},LFBuW:function(k,K){return k(K)},keWyg:function(k,K){return k(K)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:v}=c,S=ee.useRef(null),d=(k,K,P,W)=>{const J=r;P.preventDefault(),P.currentTarget?.[J(184)]?.(P[J(254)]),o.current&&(o.current.style[J(199)]='url("'+a[J(197)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const R=i[J(227)][J(224)](I=>I.id===K);if(!R)return;const V=a.xnhfa(k,J(244))&&W?.[J(247)]?R[J(187)].filter(I=>I.id===W.layerId)[J(176)](I=>({layerId:I.id,scale:I[J(241)]??1,radius:I.radius??10})):R.layers.map(I=>({layerId:I.id,scale:I[J(241)]??1,radius:I.radius??10})),U=v(P),b=R[J(240)].x,m=R[J(240)].y,A=Math.hypot(U.x-b,U.y-m);S[J(242)]={mode:k,flowerId:K,layerId:W?.layerId,startScales:V,startDiam:R.flowerDiameter||60,startDist:A}},h=k=>{const K=r,P={wmsPI:function(m,A){return m*A},gCThI:function(m,A){return a[Tt(249)](m,A)},kXHKW:function(m,A){return m*A},pgwJG:function(m,A,I,q){return a.mBJUf(m,A,I,q)}},W=S.current;if(!W)return;const J=i.flowers[K(224)](m=>m.id===W[K(228)]);if(!J)return;const R=a.VTuuB(v,k),V=Math[K(180)](a[K(225)](R.x,J.position.x),R.y-J[K(240)].y),U=Math[K(216)](1,W[K(219)]??1),b=a.OnIFl(pe,V/U,.3,3);f(m=>{const A=K,I=m.flowers.find(q=>q.id===W[A(228)]);if(I){for(const q of W.startScales){const D=I.layers.find(_=>_.id===q.layerId);D&&(D[A(241)]=pe(P.wmsPI(q.scale,b),.3,3),P[A(215)](W[A(248)],A(201))&&(D.radius=pe(P.kXHKW(q.radius,b),2,120)))}P.gCThI(W[A(248)],A(201))&&(I[A(213)]=P[A(223)](pe,W.startDiam*b,10,200))}},!1)},y=()=>{const k=r;S[k(242)]&&(a.cfDdq(f,()=>{},!0),o.current&&(o.current[k(238)][k(199)]=""),S[k(242)]=null)},w=ee.useRef(null),C=(k,K,P,W)=>{const J=r;if(P.preventDefault(),P.currentTarget?.setPointerCapture?.(P.pointerId),o[J(242)])if(a[J(192)]!==J(243)){if(!_0x1f2ede[J(242)])return;_0x260db2(()=>{},!0),_0x9d6c32.current&&(_0x434216.current.style[J(199)]=""),_0x133f58.current=null}else o.current[J(238)].cursor=J(191)+'/tsumami/rotate_cursor_active_32.png") 16 16, grabbing';const R=i[J(227)].find(m=>m.id===K);if(!R)return;const V=a.eKFZI(v,P),U=a[J(211)](Math[J(246)](a.UmTFm(V.y,R.position.y),V.x-R[J(240)].x),180/Math.PI),b=k==="layer"&&W?.[J(247)]?R.layers.find(m=>m.id===W[J(247)])?.[J(178)]??0:R[J(251)]??0;w[J(242)]={mode:k,flowerId:K,layerId:W?.[J(247)],startAngle:U,startRotation:b}},j=k=>{const K=r,P={bzHOw:"layer"},W=w[K(242)];if(!W)return;const J=i.flowers.find(m=>m.id===W[K(228)]);if(!J)return;const R=v(k);let U=Math[K(246)](a[K(214)](R.y,J.position.y),a[K(253)](R.x,J[K(240)].x))*(180/Math.PI)-W.startAngle;for(;U>180;)U-=360;for(;U<-180;)U+=360;const b=a.NzDyC(W.startRotation,U);a.WSxYV(f,m=>{const A=K,I=m.flowers.find(q=>q.id===W.flowerId);if(I)if(W[A(248)]===P.bzHOw&&W[A(247)]){const q=I.layers[A(224)](D=>D.id===W.layerId);q&&(q.offsetAngle=b)}else I.rotation=b},!1)},M=()=>{const k=r;w[k(242)]&&(f(()=>{},!0),o[k(242)]&&(o.current.style[k(199)]=""),w[k(242)]=null)},p=a[r(212)](ee.useRef,null),g=(k,K,P,W)=>{const J=r;P.preventDefault(),P.currentTarget?.[J(184)]?.(P.pointerId),o.current&&(o.current.style.cursor=J(191)+a[J(197)]+J(237));const R=i[J(227)][J(224)](F=>F.id===K);if(!R)return;const V=W?.layerId?R[J(187)].find(F=>F.id===W[J(247)]):null;if(!V)return;const U=a[J(210)](v,P),b=R[J(240)].x,m=R[J(240)].y,A=W?.petalIndex??0,I=a.QDbpg(360,Math[J(216)](1,V[J(188)])),q=a[J(195)](V[J(178)]+a.FAwmA(A,I),R[J(251)])*(Math.PI/180),D=a[J(186)](U.x,b),_=U.y-m,N=-Math.sin(q),O=Math.cos(q),Z=Math[J(222)](a[J(195)](a[J(211)](D,N),a.wogJV(_,O)));p[J(242)]={mode:k,flowerId:K,layerId:W?.layerId,petalAngle:q,startDist:Math[J(216)](1,Z),startWidthScale:V.widthScale??1}},L=k=>{const K=r,P={vnoOX:function(D,_){return D===_},wCFXA:function(D,_){return D-_},TSWMm:function(D,_){return a.fGVsn(D,_)}},W=p[K(242)];if(!W)return;const J=i[K(227)][K(224)](D=>D.id===W.flowerId);if(!J)return;const R=v(k),V=a[K(198)](R.x,J.position.x),U=a.UmTFm(R.y,J.position.y),b=-Math.sin(W.petalAngle),m=Math.cos(W[K(174)]),A=Math[K(222)](V*b+a.SStZN(U,m)),I=a[K(209)](pe,a[K(204)](A,W[K(219)]),.3,3),q=a[K(203)](pe,W[K(173)]*I,.3,3);a[K(190)](f,D=>{const _=K;if(P.TSWMm("VOoWn",_(234))){const N=D.flowers.find(Z=>Z.id===W[_(228)]);if(!N)return;const O=N[_(187)].find(Z=>Z.id===W.layerId);O&&(O[_(239)]=q)}else{_0x50af3f.preventDefault(),_0x96a221[_(196)]?.setPointerCapture?.(_0x3e30b1.pointerId),_0x4f6660[_(242)]&&(_0x35169e[_(242)][_(238)][_(199)]=_(191)+_(175)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const N=_0x5d9483.flowers[_(224)](se=>se.id===_0x4ab8b1);if(!N)return;const O=UCZavk[_(226)](_0x1e4d1b,"layer")&&_0xe11192?.[_(247)]?N.layers.filter(se=>se.id===_0xa3184c[_(247)]).map(se=>({layerId:se.id,scale:se[_(241)]??1,radius:se[_(207)]??10})):N.layers[_(176)](se=>({layerId:se.id,scale:se.scale??1,radius:se.radius??10})),Z=_0x7ec799(_0x3e1268),F=N[_(240)].x,le=N.position.y,re=_0x143b5f[_(180)](UCZavk[_(250)](Z.x,F),UCZavk.wCFXA(Z.y,le));_0x1da6d7[_(242)]={mode:_0x5e601d,flowerId:_0x3b2f9a,layerId:_0x72c6bd?.[_(247)],startScales:O,startDiam:N[_(213)]||60,startDist:re}}},!1)},H=()=>{const k=r;if(a[k(202)](a.IzVNm,a.OfDto)){if(!p[k(242)])return;f(()=>{},!0),o.current&&(o[k(242)].style.cursor=""),p[k(242)]=null}else _0xf95a93.current[k(238)][k(199)]=k(191)+"/tsumami/"+k(193)},T=a.keWyg(ee.useRef,null);return{scaleDragRef:S,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:y,rotationDragRef:w,beginRotationDrag:C,updateRotationDrag:j,endRotationDrag:M,widthScaleDragRef:p,beginWidthScaleDrag:g,updateWidthScaleDrag:L,endWidthScaleDrag:H,radiusDragRef:T,beginRadiusDrag:(k,K,P,W)=>{const J=r;P.preventDefault(),P.currentTarget?.[J(184)]?.(P[J(254)]),o.current&&(o.current.style[J(199)]='url("'+a.wDSYE+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const R=i[J(227)][J(224)](m=>m.id===K);if(!R)return;const V=W?.[J(247)]?R[J(187)].find(m=>m.id===W[J(247)]):null;if(!V)return;const U=a[J(200)](v,P),b=Math[J(180)](U.x-R[J(240)].x,U.y-R[J(240)].y);T[J(242)]={mode:k,flowerId:K,layerId:W?.[J(247)],startDist:Math[J(216)](1,b),startRadius:V.radius??28}},updateRadiusDrag:k=>{const K=r,P=T[K(242)];if(!P)return;const W=i[K(227)][K(224)](b=>b.id===P[K(228)]);if(!W)return;const J=a.VTuuB(v,k),R=Math.hypot(a[K(186)](J.x,W[K(240)].x),J.y-W.position.y),V=a.TAMTU(R,P[K(219)]),U=pe(P.startRadius+V,5,100);f(b=>{const m=K,A=b.flowers[m(224)](q=>q.id===P[m(228)]);if(!A)return;const I=A[m(187)][m(224)](q=>q.id===P[m(247)]);I&&(I.radius=U)},!1)},endRadiusDrag:()=>{const k=r;T[k(242)]&&(f(()=>{},!0),o[k(242)]&&(o[k(242)].style.cursor=""),T.current=null)}}}(function(c,r){const a=Lt,i=c();for(;;)try{if(parseInt(a(139))/1*(-parseInt(a(115))/2)+-parseInt(a(168))/3*(-parseInt(a(181))/4)+parseInt(a(129))/5*(-parseInt(a(120))/6)+parseInt(a(116))/7*(parseInt(a(187))/8)+parseInt(a(182))/9+-parseInt(a(105))/10*(parseInt(a(188))/11)+parseInt(a(152))/12*(parseInt(a(184))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,814466);const cm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),zs=cm(void 0,function(){const c=Lt;return zs[c(180)]()[c(190)]("(((.+)+)+)+$")[c(180)]()[c(151)](zs)[c(190)]("(((.+)+)+)+$")});zs();function si(c,r,a,i,f){const o=Lt,v={xWPVK:function(B,Y){return B-Y},JQJzI:function(B,Y){return B!==Y},ToFAN:function(B,Y){return B(Y)},aQCly:"lFSeM",RcfmJ:function(B,Y){return B===Y},xQhdZ:function(B,Y){return B!==Y},umrqe:o(128),UCNgg:function(B,Y){return B*Y},sQeoU:function(B,Y){return B<=Y},XpguH:"radius",oUyrt:function(B,Y){return B(Y)},rihbT:"layer",usvXa:function(B,Y){return B*Y},IGppv:function(B,Y){return B/Y},qroSs:function(B,Y){return B<Y},LQXrW:function(B,Y){return B*Y},pLhfV:function(B,Y){return B+Y},Fcgmj:function(B,Y){return B<Y},WOrCW:function(B,Y){return B-Y},aTMYE:function(B,Y){return B>=Y},ZZdcC:function(B,Y){return B>Y},FttHi:"scale",zaGoe:o(132),VUzXh:function(B,Y){return B*Y}},{length:S}=kt(a.fabricSquareSize??i.fabricSquareSize),d=v[o(141)](c,a.position.x),h=v[o(141)](r,a.position.y),y=Math[o(117)](d,h);let w=1/0;for(const B of a[o(173)]){if(v[o(114)]("Jclax",o(154)))return{zone:o(177)};{if(!B[o(125)])continue;const Y=B[o(177)]??1,k=S*Y,K=.28,P=Math.max(0,v.xWPVK(B[o(158)],k*K));P<w&&(w=P)}}v[o(100)](isFinite,w)||(w=0);const C=Math.max(w*.9,8);if(y<=C)return v[o(122)]===o(111)?{zone:"center"}:o(118)+_0x50652a+o(135);if(v[o(170)](f[o(164)],o(142))){const B=a[o(173)][o(162)](Y=>Y.id===f[o(171)]&&Y[o(125)]);if(B){if(v[o(112)](o(128),v.umrqe))return'url("'+_0x5c6c67+o(137);{const Y=B.scale??1,k=v[o(189)](S,Y),K=.28,P=Math.max(0,v.xWPVK(B.radius,k*K));if(P>0){const J=Math[o(159)](y-P);if(v[o(109)](J,6))return{zone:v[o(157)],layerId:B.id}}}}}const j=v[o(178)](la,-(a[o(123)]??0)),M=v[o(141)](d*Math.cos(j),h*Math.sin(j)),p=d*Math.sin(j)+h*Math[o(121)](j),g=f[o(164)]===v[o(124)]?a.layers.filter(B=>B.id===f.layerId&&B.visible):a[o(173)][o(169)](B=>B[o(125)]);let L=o(132),H,T,G=1/0;for(const B of g){const Y=B[o(177)]??1,k=v[o(189)](S,Y),K=B[o(176)]??1,P=v[o(189)](S/2*K,Y),W=.28,J=Math[o(147)](0,B.radius-v[o(103)](k,W)),R=v.IGppv(360,Math[o(147)](1,B.petalCount));for(let V=0;v.qroSs(V,B.petalCount);V++){const U=B[o(140)]+v[o(189)](V,R),b=v[o(100)](la,U),m=v[o(189)](Math.cos(b),J),A=Math[o(150)](b)*J,I=v[o(141)](M,m),q=v.xWPVK(p,A),D=Math.cos(-b),_=Math.sin(-b),N=I*D-v[o(179)](q,_),O=v.pLhfV(I*_,v[o(103)](q,D)),Z=N/k,F=O/P;if(v.Fcgmj(Z,-.05)||Z>1.08||Math[o(159)](F)>.75)continue;const le=Math.hypot(v[o(130)](Z,.5),F);v[o(106)](le,G)||(G=le,H=B.id,T=V,v.ZZdcC(Math[o(159)](F),.45)?L="width":v.ZZdcC(Z,.75)?L=o(104):L=v.FttHi)}}if(L===v[o(131)]){let B=12;for(const K of a[o(173)]){if(!K[o(125)])continue;const P=K[o(177)]??1,W=v[o(185)](S,P),J=.28,R=Math.max(0,v[o(141)](K.radius,W*J));B=Math[o(147)](B,R+W)}if(Math.abs(y-B)<=8)return{zone:v.FttHi}}return{zone:L,layerId:H,petalIndex:T}}function D0(c,r,a){const i=Lt,f={ilbmF:function(o,v){return o===v},xyQAY:"center",iaRhz:i(132),Bnajh:function(o,v){return o===v},RJniC:function(o,v){return o!=v},wHYIJ:function(o,v){return o+v},qolEc:function(o,v){return o===v},XkxcV:"petal",yrftb:"petals",utNjR:i(177)};if(f[i(160)](c,i(146)))return f.xyQAY;if(c==="none")return f[i(107)];switch(r){case i(110):{if(f.Bnajh(c,i(177)))return i(177);if(c==="rotate"&&a?.[i(138)]&&a.flower&&f.RJniC(a[i(149)],null)){let o,v=-1/0;for(const S of a.flower[i(173)]){if(!S.visible)continue;const d=S.scale??1,h=a.length*d,y=.28,w=Math[i(147)](0,S.radius-h*y),C=f[i(175)](w,h);C>v&&(v=C,o=S.id)}return f[i(167)](a.hitLayerId,o)?i(104):"scale"}return"scale"}case"layer":return c;case f[i(148)]:case f[i(127)]:return f[i(186)];default:return f[i(186)]}}function Lt(c,r){c=c-100;const a=H0();let i=a[c];if(Lt.jGIqtS===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Lt.MYWLwS=f,Lt.ZJPnFZ={},Lt.jGIqtS=!0}const o=a[0],v=c+o,S=Lt.ZJPnFZ[v];if(S)i=S;else{const d=function(h){this.eUAafC=h,this.shnzpE=[1,0,0],this.hSOYtY=function(){return"newState"},this.etjrXm="\\w+ *\\(\\) *{\\w+ *",this.YPjWep=`['|"].+['|"];? *}`};d.prototype.zpwxDP=function(){const h=new RegExp(this.etjrXm+this.YPjWep),y=h.test(this.hSOYtY.toString())?--this.shnzpE[1]:--this.shnzpE[0];return this.XNPWCF(y)},d.prototype.XNPWCF=function(h){return~h?this.ytwulI(this.eUAafC):h},d.prototype.ytwulI=function(h){for(let y=0,w=this.shnzpE.length;y<w;y++)this.shnzpE.push(Math.round(Math.random())),w=this.shnzpE.length;return h(this.shnzpE[0])},new d(Lt).zpwxDP(),i=Lt.MYWLwS(i),Lt.ZJPnFZ[v]=i}return i}function H0(){const c=["y2vUDgvY","Bwf4","wgT4y1y","BgvUz3rO","C2LU","y29UC3rYDwn0B3i","mJaXnLb6uxvlEa","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","sMnSyxG","Cg9PBNrLCG","vw1KtuO","whbNDuG","CMfKAxvZ","ywjZ","AwXIBuy","z3L0uLq","zMLUza","CLHwBwq","A2LUza","CvfureW","qu5gAxa","Cw9Srwm","mte5ndLnuNbgyKS","zMLSDgvY","uMnMBuO","Bgf5zxjjza","uvfMvKu","Bgf5zxjZ","zMfICMLJu3f1yxjLu2L6zq","D0HzsuO","D2LKDgHty2fSzq","C2nHBgu","B1v5CNq","tffyCLC","Dg9tDhjPBMC","mta4nhvZqLzjqq","ndiWmdq4mfPuAxjZvW","D2LKDgG","nZi1mJDQyNLgELC","vLv6wgG","DxroALi","mty4oerlBgP0wG","mJjuqwvsA0W","vunoz2C","C2vHCMnO","vg9gqu4","BeHPAKO","tNr6DgG","Dxn2wge","CM90yxrL","mZC0odKZme5stwXbqG","yvrnwuu","AwfsAhO","t3PVvuG","C1fLB1u","zMXVD2vY","Beztzu0","EffOzfO","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","sLfkEKK","ntzlCLLKvey","mJG2mZDRvfboCxy","AhLWB3q","DxjSkci","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","mtHvwvLVrhm","y29Z","yvfdBhK","CM90yxrPB24","CMLOyLq","DMLZAwjSzq","u25LuwO","ExjMDgi","vKLiA00","mti2odm5mgzLB21bvW","v09Yq1C","EMfhB2u","BM9Uzq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","ywzbEvq","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","zvzsEMK","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","AgL0tgf5zxjjza","mZy0nZvQuwjuChe","B2zMC2v0qw5NBgu","EfDqvKS","Bgf5zxi","Agnfv0G","t3L1yM4","Cg9ZAxrPB24"];return H0=function(){return c},H0()}function um(c,r,a,i){const f=Lt,o={lHijJ:function(T,G){return T(G)},afAyT:function(T,G){return T*G},uxEyX:function(T,G){return T-G},Ntzth:function(T,G){return T(G)},vpWFs:function(T,G){return T*G},rXVmd:function(T,G){return T+G},rdkwh:function(T,G){return T/G},dHmDx:function(T,G){return T>G},OzoUH:function(T,G){return T>G},Ltikh:f(183),hcEWH:function(T,G){return T>G},MVftE:"rotate",QQfVE:"scale",qQTDL:"move"},v=a[f(174)]??i.fabricSquareSize,{length:S,width:d}=o[f(101)](kt,v),h=a[f(177)]??1,y=o.afAyT(S,h),w=o.afAyT(o[f(134)](d,a[f(176)]??1),h),C=o.uxEyX(c,a.position.x),j=r-a[f(145)].y,M=o[f(102)](la,-(a[f(123)]??0)),p=o.uxEyX(o.afAyT(C,Math[f(121)](M)),o.vpWFs(j,Math.sin(M))),g=o[f(163)](C*Math.sin(M),o.vpWFs(j,Math.cos(M))),L=o.rdkwh(p,y),H=g/w;return L<-.05||L>1.08?f(132):o.dHmDx(Math.abs(H),.75)?"none":o[f(108)](Math.abs(H),.45)?o.Ltikh:o[f(143)](L,.75)?o.MVftE:L>.3?o[f(172)]:o[f(165)]}function ar(c,r){const a=Lt,i={OdDeV:"scale",eVRzi:"move",quwKG:function(f,o){return f(o)},UmdMJ:a(132)};switch(c){case"rotate":return a(118)+r+a(133);case i.OdDeV:return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case a(183):return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i[a(136)]:return i.quwKG(or,r);case i[a(156)]:default:return"grab"}}function Kd(c,r){const a=Lt,i={Oyubn:a(146),gytRT:a(155),nelPA:a(183),SneQj:function(f,o){return f(o)},ANFip:"none"};switch(c){case i[a(144)]:return i[a(161)];case"rotate":return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+r+a(113);case i.nelPA:return a(118)+r+a(119);case a(158):return a(118)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return i[a(126)](or,r);case i[a(166)]:default:return"grab"}}function or(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function qn(c){return Lt(118)+c+'move_object_active_32.png") 16 16, grabbing'}function sm(c){return Lt(118)+c+'move_stencil_cursor_32.png") 16 16, move'}function om(c){const r=Lt;return'url("'+c+r(153)}(function(c,r){const a=rn,i=c();for(;;)try{if(-parseInt(a(322))/1+-parseInt(a(300))/2+parseInt(a(333))/3+parseInt(a(275))/4+-parseInt(a(355))/5+-parseInt(a(297))/6+parseInt(a(335))/7*(parseInt(a(312))/8)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,481169);const xm=(function(){const c={DwwUg:function(a,i){return a(i)},tVjhV:function(a,i){return a===i},NphHF:"WNhkv"};let r=!0;return function(a,i){const f=rn,o={rUwrR:function(S,d){return c.DwwUg(S,d)},hCwTn:f(284),NHBcC:function(S,d){return c[f(285)](S,d)},ZJCNO:c[f(304)]},v=r?function(){const S=f,d={HsjID:function(h,y){return o.rUwrR(h,y)},wlaat:o.hCwTn};if(i)if(o.NHBcC(o[S(320)],"xLjuu"))d.HsjID(_0x902956,{kind:d[S(278)],leafId:_0x5971f9[0]});else{const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,v}})(),Ms=xm(void 0,function(){const c=rn,r={BSWNa:c(292)};return Ms[c(307)]().search("(((.+)+)+)+$")[c(307)]().constructor(Ms).search(r.BSWNa)});function rn(c,r){c=c-274;const a=Y0();let i=a[c];if(rn.fYPAEs===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};rn.xmOXfO=f,rn.imiXao={},rn.fYPAEs=!0}const o=a[0],v=c+o,S=rn.imiXao[v];if(S)i=S;else{const d=function(h){this.WqTgFd=h,this.MeDdmK=[1,0,0],this.HdvtTz=function(){return"newState"},this.cXSxAS="\\w+ *\\(\\) *{\\w+ *",this.TKMQAy=`['|"].+['|"];? *}`};d.prototype.DgwCmW=function(){const h=new RegExp(this.cXSxAS+this.TKMQAy),y=h.test(this.HdvtTz.toString())?--this.MeDdmK[1]:--this.MeDdmK[0];return this.Ntgvyi(y)},d.prototype.Ntgvyi=function(h){return~h?this.HjukIr(this.WqTgFd):h},d.prototype.HjukIr=function(h){for(let y=0,w=this.MeDdmK.length;y<w;y++)this.MeDdmK.push(Math.round(Math.random())),w=this.MeDdmK.length;return h(this.MeDdmK[0])},new d(rn).DgwCmW(),i=rn.xmOXfO(i),rn.imiXao[v]=i}return i}function Y0(){const c=["AxntAgLMDfbYzxnZzwq","mteYndy5mgnIyxvnra","zw5Ku2nHBgveCMfN","C3rHCNq","Egzkswy","tNbOsey","s3jft3i","AMjiqxy","Dg9tDhjPBMC","Cgv0ywW","zNvHEuu","CMfKAxvZrhjHz1jLzG","ChjLDMvUDerLzMf1Bhq","mJmWndH6sxjPBM0","Eu5qwhO","Bgf5zxjjza","vKPNEKS","z3f1sgS","zMXVD2vYCW","sg9KB0y","DxbKyxrLuM90yxrPB25eCMfN","wKPdtK8","BgvUz3rO","mti5ote3suDqv1vp","D2LKDgHty2fSzurYywDszwy","vgzHsuC","ywjZ","C3rHCNrqB3m","Bw92zwq","zvrRyNq","BwLU","Bvf1z3e","zMXVD2vYswrZ","zw5KuM90yxrPB25eCMfN","mJaXnZqXm1fQsgn3rW","zMLUza","mZe0m2vjzfzkCq","BgvHzKLKCW","zw5KuMfKAxvZrhjHzW","yKzwz1i","zMXVD2vYswq","y3vYCMvUDa","zhrzseS","Bgf5zxi","AxrhCxu","Cg9ZAxrPB24","ALfzy24","AuvREhi","z2rev0S","BgvHDMvZ","A2LUza","C3rHCNrdBgLLBNq","A29qswW","ChjVAMvJDa","Ee5ou1O","zMXVD2vY","mJGWmZaYnw9zqNjusW","BgvHzLn0yxj0ug9ZAxrPB25Z","y2XPzw50wa","v0Tnr1q","y2XPy2TqzxrHBa","mtC3mduXnMHzvK10tG","Aw5KzxG","AKHSBwG","D2XHyxq","ruvhtNy","C2v0ug9PBNrLCKnHChr1CMu","Cg9PBNrLCKLK","y2XPzw50wq","BwfW","BgvHzG","DfzQAfy","y3vYCMvUDfrHCMDLDa","uvHtq3C","CLfJBuS","CgfUma","q0jzD08","y3vYCMvUDfn2zW","kcGOlISPkYKRksSK","wKrltfy","uKPOwha","uuv2B3G","ChvZAa","nda0nZC5oeDHsKvQEa","vvPnwem"];return Y0=function(){return c},Y0()}Ms();const ri=500*un;function fm(c){const r=rn,a={QXSCw:function(R,V){return R(V)},xVJTL:function(R,V){return R+V},nfGrU:r(353),DDGKU:function(R,V){return R(V)},gquHk:function(R,V){return R(V)},eFLxA:function(R,V){return R-V},WKMGT:function(R,V){return R+V},QEvox:function(R,V){return R<=V},nPFYr:r(347),bFVgR:function(R,V){return R-V},mQugq:function(R,V){return R<V},yNPXz:function(R,V){return R(V)},lmUEz:function(R,V){return R-V},gDbwU:function(R,V){return R<=V},UZMXC:function(R,V){return R<=V},rQcmK:function(R,V){return R<=V},CBYwO:function(R,V){return R===V},TODyO:"OcbHn",jHlmh:function(R,V){return R>V},TfaIG:function(R,V){return R!==V},ZDKLV:function(R,V){return R>V},eTkbt:r(352),jbHAv:r(354),bPXIF:"EEGNv",pPKFj:"flowers",XIfaI:function(R,V,U){return R(V,U)},GqncW:function(R,V,U,b){return R(V,U,b)},ubCbg:function(R,V){return R/V},mnCcu:function(R,V,U){return R(V,U)},XRCpx:r(341),Wmqbq:function(R,V){return R===V},Qspby:"NJGet",cQUAt:"uZndx",vqbuR:function(R,V){return R(V)},xfJIf:r(342),KrEOr:function(R,V,U){return R(V,U)}},{project:i,selection:f,setSelection:o,applyUpdate:v,dragRef:S,zoom:d,pan:h,setPan:y,stageRef:w,clientToSvgPoint:C,togglePetalSelection:j}=c,M=a[r(313)](rm,{project:i,applyUpdate:v,stageRef:w,clientToSvgPoint:C}),p=a.QXSCw(ee.useRef,null),g=R=>{R.preventDefault(),R.currentTarget?.setPointerCapture?.(R.pointerId),p.current={start:{x:R.clientX,y:R.clientY},pan0:{...h}}},L=R=>{const V=r;if(!p.current)return;const U=R[V(357)]-p.current.start.x,b=R.clientY-p[V(340)][V(302)].y;a.QXSCw(y,{x:p.current.pan0.x+U,y:a.xVJTL(p[V(340)][V(289)].y,b)})},H=()=>{p.current=null},T=a[r(287)](ee.useRef,null),[G,B]=a[r(316)](ee.useState,null);return{beginPan:g,updatePan:L,endPan:H,marqueeRef:T,marqueeRect:G,beginMarquee:R=>{R[r(311)](),R.currentTarget?.setPointerCapture?.(R.pointerId);const U=C(R);T.current={startSvg:U,currentSvg:U},B(null)},updateMarquee:R=>{const V=r;if(a.nfGrU==="bhDmd"){const U=_0x26f1a7.flowers[V(334)](b=>b.id===_0x373ce6);return{id:_0x33300e,x:U?.position.x??0,y:U?.position.y??0}}else{if(!T.current)return;const U=a.DDGKU(C,R);T.current[V(291)]=U;const b=T[V(340)].startSvg,m=Math[V(329)](b.x,U.x),A=Math[V(329)](b.y,U.y),I=Math[V(325)](U.x-b.x),q=Math[V(325)](U.y-b.y);a[V(316)](B,{x:m,y:A,w:I,h:q})}},endMarquee:()=>{const R=r,V={iEkxr:function(U,b){return a[rn(295)](U,b)},WcnNr:function(U,b){return U+b}};if(R(351)===a.nPFYr){if(!_0x14630a[R(340)])return;const U=_0x29cede.clientX-_0x31b09b.current[R(302)].x,b=a.eFLxA(_0xc1232e[R(282)],_0x2b2c33[R(340)][R(302)].y);a.DDGKU(_0x59ccf2,{x:a[R(358)](_0x10d0e0.current.pan0.x,U),y:_0x1bf323[R(340)][R(289)].y+b})}else{const U=T.current;if(T.current=null,!U){a.gquHk(B,null);return}const b=U.startSvg,m=U[R(291)],A=Math.hypot(a.bFVgR(m.x,b.x),m.y-b.y);if(a[R(330)](A,3)){o({kind:"project"}),a.yNPXz(B,null);return}const I=Math.min(b.x,m.x),q=Math[R(329)](b.y,m.y),D=Math[R(325)](a.lmUEz(m.x,b.x)),_=Math.abs(m.y-b.y),N=[];for(const Z of i.flowers)Z[R(344)].x>=I&&a.gDbwU(Z.position.x,I+D)&&Z[R(344)].y>=q&&a[R(298)](Z[R(344)].y,q+_)&&N[R(296)](Z.id);const O=[];for(const Z of i.leaves??[])Z[R(344)].x>=I&&a[R(288)](Z[R(344)].x,a.WKMGT(I,D))&&Z.position.y>=q&&a.QEvox(Z[R(344)].y,a.WKMGT(q,_))&&(a[R(290)]("Lohdb",a.TODyO)?_0x1e97a4[R(344)].x>=_0x311eed&&_0x3a736f.position.x<=_0x4db494+_0xc2f4d&&_0x5c4eb1.position.y>=_0x4776a6&&V[R(346)](_0xeb1866.position.y,V.WcnNr(_0x54e4de,_0x25521b))&&_0x9e340b.push(_0x4954eb.id):O.push(Z.id));N[R(321)]>0&&a[R(277)](O[R(321)],0)?a[R(324)]("syUpI",R(318))?o({kind:"mixed",flowerIds:N,leafIds:O}):(_0x2826b1.preventDefault(),_0x1d55ed.currentTarget?.setPointerCapture?.(_0x3426b0.pointerId),_0x52bedc.current={start:{x:_0x21e952[R(357)],y:_0x4d4693[R(282)]},pan0:{..._0xf3a6ea}}):a[R(293)](N[R(321)],0)?a.CBYwO(N.length,1)?o({kind:"flower",flowerId:N[0]}):o({kind:R(317),flowerIds:N}):a.jHlmh(O.length,0)?a[R(290)](O.length,1)?o({kind:"leaf",leafId:O[0]}):a.DDGKU(o,{kind:"leaves",leafIds:O}):o({kind:a.eTkbt}),B(null)}},beginFlowerDrag:(R,V,U)=>{const b=r;if(b(279)!==a.bPXIF)_0x4fe198({kind:a[b(306)],flowerId:_0x4121f8[0]});else{V[b(311)](),V[b(286)]?.[b(280)]?.(V[b(281)]);const m=i.flowers[b(334)](D=>D.id===R);if(!m)return;let A=null,I=null;if(f.kind===a.pPKFj&&f[b(331)].includes(R))A=f.flowerIds[b(283)](D=>{const _=b,N=i.flowers[_(334)](O=>O.id===D);return{id:D,x:N?.[_(344)].x??0,y:N?.[_(344)].y??0}});else{const D=Nh(i,R);D[b(321)]>1&&(A=D[b(283)](_=>{const N=b,O=i.flowers.find(Z=>Z.id===_);return{id:_,x:O?.position.x??0,y:O?.[N(344)].y??0}}))}const q=a.XIfaI(nl,i,R);q&&q[b(336)].length>0&&(I=q.leafIds[b(283)](D=>{const _=b,N=(i[_(348)]??[]).find(O=>O.id===D);return{id:D,x:N?.position.x??0,y:N?.position.y??0}})),S.current={flowerId:R,startClient:{x:V.clientX,y:V.clientY},startPos:{...m.position},moved:!1,clickPetal:U??null,isShiftPressed:V.shiftKey||!1,multiStartPositions:A,leafStartPositions:I,startZoom:d}}},updateFlowerDrag:R=>{const V=r,U={RJhXp:function(D,_,N,O){return D(_,N,O)},PWGgx:function(D,_,N,O){return a.GqncW(D,_,N,O)},itGqu:function(D,_){return a[rn(358)](D,_)},VJgzK:function(D,_,N,O){return D(_,N,O)},jQYcn:function(D,_){return D+_},fuayE:function(D,_,N,O){return D(_,N,O)}},b=S.current;if(!b)return;const m=a.ubCbg(R.clientX-b.startClient.x,b.startZoom),A=(R.clientY-b[V(350)].y)/b.startZoom,I=a[V(338)](R[V(357)],b[V(350)].x),q=R.clientY-b.startClient.y;a.jHlmh(Math[V(325)](I)+Math.abs(q),4)&&(b[V(327)]=!0),a.mnCcu(v,D=>{const _=V;if(b.multiStartPositions)for(const N of b.multiStartPositions){const O=D[_(317)].find(Z=>Z.id===N.id);O&&(O[_(344)].x=pe(N.x+m,0,ri),O[_(344)].y=pe(N.y+A,0,ri))}else{const N=D[_(317)].find(O=>O.id===b[_(339)]);if(!N)return;N[_(344)].x=U[_(294)](pe,b[_(326)].x+m,0,ri),N.position.y=U.PWGgx(pe,U[_(343)](b[_(326)].y,A),0,ri)}if(b[_(356)])for(const N of b[_(356)]){const O=(D[_(348)]??[]).find(Z=>Z.id===N.id);O&&(O.position.x=U[_(315)](pe,U[_(345)](N.x,m),0,ri),O[_(344)].y=U[_(309)](pe,U.itGqu(N.y,A),0,ri))}},!1)},endFlowerDrag:()=>{const R=r;if(R(352),a.XRCpx!=="rQiSM"){const V=S[R(340)];if(!V)return;!V[R(327)]&&V.clickPetal?V[R(299)]?j(V.flowerId,V.clickPetal[R(314)],V[R(274)][R(276)],!0):a.Wmqbq(a.Qspby,a.cQUAt)?iHPuqg.bVMqx(_0x4c0639,{kind:iHPuqg.SqvOc}):a.vqbuR(o,{kind:R(308),flowerId:V[R(339)],layerId:V[R(274)][R(314)],index:V.clickPetal.index}):V[R(327)]&&((a.CBYwO(f.kind,a[R(328)])||a.CBYwO(f[R(349)],"flower")&&f.flowerId!==V.flowerId||a.CBYwO(f[R(349)],a[R(303)])&&f[R(339)]!==V.flowerId||a.Wmqbq(f[R(349)],R(308))&&f[R(339)]!==V.flowerId)&&o({kind:"flower",flowerId:V.flowerId}),a[R(305)](v,()=>{},!0)),S[R(340)]=null}else _0x2a4a89({kind:"flowers",flowerIds:_0x358b16})},scaleDragRef:M.scaleDragRef,beginScaleDrag:M.beginScaleDrag,updateScaleDrag:M.updateScaleDrag,endScaleDrag:M[r(301)],rotationDragRef:M.rotationDragRef,beginRotationDrag:M.beginRotationDrag,updateRotationDrag:M[r(319)],endRotationDrag:M[r(332)],widthScaleDragRef:M[r(323)],beginWidthScaleDrag:M.beginWidthScaleDrag,updateWidthScaleDrag:M.updateWidthScaleDrag,endWidthScaleDrag:M.endWidthScaleDrag,radiusDragRef:M[r(310)],beginRadiusDrag:M.beginRadiusDrag,updateRadiusDrag:M.updateRadiusDrag,endRadiusDrag:M[r(337)]}}function dm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ci(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:S=>{c.onDoubleClick&&(S.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:S=>{S.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(dm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}const ll=12;function Zd({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),s.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function hm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),s.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function mm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${r} 6 6)`},r)),s.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function bm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 3.5 3.5)`},`l-${r}`)),s.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 8.5 4)`},`r-${r}`)),s.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 6 7)`},`f-${r}`)),s.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function gm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M3.5 3C1.8 3 0.5 5 0.8 7.5c.2 1.4 1.1 2.4 2.2 3 .3.1.6.1.8 0 .2-.1.4-.3.5-.5.8-1.5 1-4.5-.8-7z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),s.jsx("path",{d:"M3.5 4v4.5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8",cy:"1.8",rx:"1.5",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 8 4)`},r)),s.jsx("circle",{cx:"8",cy:"4",r:"1.4",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function vm(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:S,addFlower:d,deleteSelected:h,addOuterLayer:y,deleteOuterLayer:w,deleteFlowerById:C,deleteLayerById:j,treeScrollRef:M,setExpandedFlowers:p}=c,g=k=>{const K=k.flowerIds.length>0,P=k.leafIds.length>0;return K&&P?s.jsx(gm,{}):K?s.jsx(bm,{}):""},L=(k,K)=>{const P=a.kind==="flower"&&a.flowerId===k.id,W=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(k.id),J=P||W,R=s.jsx(mm,{}),V=f(k.id),U=k.layers&&k.layers.length>0,b=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),y(k.id)},"aria-label":"Add outer layer",children:"+"}),U&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:m=>{m.stopPropagation(),w(k.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":k.id,"data-testid":`tree-flower-${k.id}`,style:{paddingLeft:K},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${V?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:V?"Collapse layers":"Expand layers",onClick:m=>{m.stopPropagation(),o(k.id)},"aria-label":V?"collapse":"expand","data-tree-toggle":!0,children:V?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:k.name,marker:R,selected:J,showTrash:P,onTrash:()=>C(k.id),rightActions:b,onClick:()=>v(k.id),onDoubleClick:()=>S(k.id),level:0,leftOffset:-18})})]}),V&&k.layers.slice().sort((m,A)=>A.order-m.order).map(m=>{const A=(a.kind==="layer"||a.kind==="petal")&&a.layerId===m.id;return s.jsx(ci,{label:`${m.order}. ${m.name}`,marker:s.jsx(hm,{}),selected:A,showTrash:A,onTrash:()=>j(k.id,m.id),onClick:()=>{i({kind:"layer",flowerId:k.id,layerId:m.id}),p(I=>({...I,[k.id]:!0}))},level:0,leftOffset:10,muted:!m.visible},m.id)})]},k.id)},H=c.groups,T=new Set(H.flatMap(k=>k.flowerIds)),G=r.flowers.filter(k=>!T.has(k.id)),B=new Set(H.flatMap(k=>k.leafIds)),Y=c.leaves.filter(k=>!B.has(k.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto md:flex md:flex-col md:flex-1 md:min-h-0 md:overflow-hidden","data-testid":"panel-layers",children:[s.jsxs("div",{className:"px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap mt-1",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 opacity-40":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsx("img",{src:"icons/icon_delete.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsx("img",{src:"icons/icon_copy.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 opacity-40"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsx("img",{src:"icons/icon_paste.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_bring_forward.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_send_backward.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_bring_to_front.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_send_to_back.png",width:"16",height:"16",alt:""})})]})]}),s.jsxs("div",{className:"mt-1.5 md:flex-1 md:min-h-0 md:overflow-y-auto",ref:M,"data-testid":"layer-tree",children:[s.jsx(ci,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),H.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5",children:[...H].reverse().map(k=>{const K=a.kind==="group"&&a.groupId===k.id,P=g(k),W=c.isGroupExpanded(k.id);return s.jsxs("div",{"data-group-id":k.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:J=>{J.stopPropagation(),c.toggleGroupExpanded(k.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:k.name,marker:P,selected:K,showTrash:K,onTrash:()=>c.onDeleteGroup(k.id),onClick:()=>c.onSelectGroup(k.id),level:0,leftOffset:-18})})]}),W&&k.flowerIds.map(J=>{const R=r.flowers.find(V=>V.id===J);return R?L(R,12):null}),W&&k.leafIds.map(J=>{const R=c.leaves.find(U=>U.id===J);if(!R)return null;const V=a.kind==="leaf"&&a.leafId===R.id||a.kind==="leaves"&&a.leafIds.includes(R.id)||a.kind==="mixed"&&a.leafIds.includes(R.id);return s.jsx(ci,{label:R.name,marker:s.jsx(Zd,{}),selected:V,showTrash:V,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:12,muted:!R.visible},R.id)})]},k.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...G].reverse().map(k=>L(k,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...Y].reverse().map(k=>{const K=a.kind==="leaf"&&a.leafId===k.id||a.kind==="leaves"&&a.leafIds.includes(k.id)||a.kind==="mixed"&&a.leafIds.includes(k.id);return s.jsx(ci,{label:k.name,marker:s.jsx(Zd,{}),selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(k.id),onClick:()=>c.onSelectLeaf(k.id),level:0,leftOffset:0,muted:!k.visible},k.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 shrink-0 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const fe=Ln;(function(c,r){const a=Ln,i=c();for(;;)try{if(-parseInt(a(304))/1*(-parseInt(a(253))/2)+parseInt(a(256))/3+parseInt(a(289))/4+-parseInt(a(235))/5+parseInt(a(271))/6*(-parseInt(a(215))/7)+-parseInt(a(244))/8+-parseInt(a(318))/9*(-parseInt(a(313))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,519219);function Ln(c,r){c=c-213;const a=U0();let i=a[c];if(Ln.jbdjbi===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Ln.Ouykec=f,Ln.YcisSk={},Ln.jbdjbi=!0}const o=a[0],v=c+o,S=Ln.YcisSk[v];if(S)i=S;else{const d=function(h){this.fbaXzA=h,this.ISQroP=[1,0,0],this.ecXuHv=function(){return"newState"},this.SaVZZd="\\w+ *\\(\\) *{\\w+ *",this.LdPHoa=`['|"].+['|"];? *}`};d.prototype.TLeZsP=function(){const h=new RegExp(this.SaVZZd+this.LdPHoa),y=h.test(this.ecXuHv.toString())?--this.ISQroP[1]:--this.ISQroP[0];return this.OyrmSK(y)},d.prototype.OyrmSK=function(h){return~h?this.PavbcB(this.fbaXzA):h},d.prototype.PavbcB=function(h){for(let y=0,w=this.ISQroP.length;y<w;y++)this.ISQroP.push(Math.round(Math.random())),w=this.ISQroP.length;return h(this.ISQroP[0])},new d(Ln).TLeZsP(),i=Ln.Ouykec(i),Ln.YcisSk[v]=i}return i}function U0(){const c=["qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa2nca0ncWGnJqGntaSidyZidu2","s3jJsgi","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","CfLuzKe","DMP3yLy","oty4nZiWsKT1t3HQ","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaTntqGmJaSic02nIaYmIWGltCYidmY","C2vHCMnO","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYa2nca3ocWGnJyGodySidy2idK0","nJqZnJy3mKnguhHurW","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","tsaWidCW","EMfeB2u","qYa2nsa4mcWGnJGGoduSidC0idKW","mtm2mKnkrgLrtW","qYaTodaGmta4lcaTodGGotySic04oca4na","qYa2nIa2ocWGntyGnZaSidq4idy2","mJm1odK1ngXsEMnoqq","qYa1nYa3msWGntKGnZuSidyZidC5","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaYocaXotGSidm0idiXmIWGndGGmJi4","tcaTmti1idi4ma","tsaWida","qYaTndiGnJiSic00mca1mcWGltqYidm4","tcaTotiGmJGW","te1mtwG","tcaTmZyGmJGW","qYa3oca1mIWGnZCGnJaSidC0idy2","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","mtHRwKziDuq","qYaTmJGGndySic00mca0ncWGltuWidq0","CMLNAhq","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYaTmJiGnIWGlteWideSidaGma","qYaTntGGntaSic01nca1ocWGltuWidCW","qYa2nsaXmIWGnZiGmJySidC2idqY","yxbWBhK","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaXnsaTmIWGmZGGltuSidu1idu","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaYmcaWlca0nca2lca1ocaYma","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","tcaTndaGmtm0","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","mJG3otiZmM1LweTZwG","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa2mcaZocWGnJqGntiSidy0idy4","qYaXocaXlca0mcaXmcWGntiGmJy","qYa2nIa4nIWGnJiGodGSidu4idKW","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","AM9PBG","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","kcGOlISPkYKRksSK","ywr1Bhq","BgvMDa","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","5OIq5lQ65AwZ5OcN","ntKZqM5mvhzW","AgvPz2H0","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYa3mIa2osWGnJKGnZiSidy2idC2","mZi0otbXAxDUsMi","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTndaGmtaSic0XocaXlcaWida","C2LKzq","mJDJv2ryBem","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","l3rZDw1HBwKV","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","tsaTndaGmtqY","qYa3mcaXmdySidCWideWocWGnZmGmteW","otm4mZCXu0LjEKn5","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2nsa4msWGnJyGodmSidy2idG1","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTncaTmsWGlteGlteSidaGma"];return U0=function(){return c},U0()}const pm=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Ln;if(a){const o=a[f(278)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ds=pm(void 0,function(){const c=Ln,r={pYTfA:c(298)};return Ds.toString()[c(239)](r[c(233)]).toString().constructor(Ds)[c(239)](c(298))});Ds();const l1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},a1={adult:fe(303),child:""},i1={right:"",left:"",back:""},ym=["M 0 0","C 15 -2, 38 -5, 55 5",fe(277),"C 78 52, 77 60, 74 66",fe(312),fe(252),"C 78 93, 82 96, 83 99",fe(258),fe(214),"C 75 112, 74 115, 72 118",fe(302),fe(286),fe(281),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",fe(265),fe(260),fe(315),"C -68 212, -56 200, -48 190",fe(218),fe(270),fe(221),fe(254),fe(222),"C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18",fe(279),fe(228),"Z"].join(" "),_m=["M 0 0",fe(285),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",fe(241),"C 84 122, 82 128, 78 134",fe(274),fe(240),fe(259),fe(295),fe(263),"C -74 258, -58 240, -48 228","C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162",fe(220),"C -82 128, -84 122, -84 116",fe(294),fe(306),fe(226),"C -44 6, -20 0, 0 0","Z",fe(250),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",fe(307),fe(301),"Z"][fe(296)](" "),Sm=[fe(261),"C 14 -4, 36 -4, 48 4",fe(319),fe(230),fe(225),fe(257),fe(224),fe(293),"C 57 91, 57 93, 59 95",fe(249),"C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",fe(280),"L -30 240","L -100 240",fe(310),"C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14",fe(275),"Z"].join(" "),wm=[fe(261),"C 18 1, 40 10, 52 26",fe(291),fe(243),"C 66 100, 64 106, 60 112",fe(248),"C 30 152, 32 166, 55 202",fe(320),"L -70 240",fe(297),fe(269),"C -44 130, -54 120, -60 112",fe(246),fe(247),fe(282),"C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",fe(255),"C 42 62, 40 50, 42 38",fe(314),"Z","M -46 26",fe(238),fe(268),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),Cm=["M 0 0",fe(283),fe(277),fe(266),"C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",fe(228),"Z",fe(213),"C -48 134, -58 126, -68 118",fe(254),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",fe(276),fe(290),"L -40 142","Z"].join(" "),jm=["M 0 0",fe(285),fe(237),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",fe(242),fe(284),fe(227),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98",fe(306),"C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",fe(250),fe(229),"C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142",fe(219),"C -10 150, -20 148, -30 142",fe(288),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),zm=["M 0 0","C 14 -4, 36 -4, 48 4",fe(319),"C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46",fe(272),fe(311),"C -22 6, -10 1, 0 0","Z","M -40 134",fe(232),"C -68 96, -70 84, -66 74",fe(223),"C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126",fe(287),"Z"][fe(296)](" "),Mm=[fe(261),fe(292),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",fe(308),"C 0 127, -12 126, -26 124",fe(309),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",fe(282),fe(316),"Z","M 46 26",fe(236),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",fe(245),fe(314),"Z","M -46 26",fe(238),fe(268),"C -66 68, -56 70, -48 66",fe(262),"C -43 32, -44 28, -46 26","Z"][fe(296)](" ");function Dm(c,r){const a=fe,i={pjKAp:"right",ZlhVM:function(o,v){return o===v},txWZP:a(299)},f=r===i.pjKAp||r===a(300);return i.ZlhVM(c,i.txWZP)?f?ym:_m:f?Sm:wm}function Nm(c,r){const a={lZrDz:function(f,o){return f===o}},i=r==="right"||a.lZrDz(r,"left");return c==="adult"?i?Cm:jm:i?zm:Mm}const Am={right:fe(321)+"stencils/adult_right.png",left:"/tsumami/"+fe(217),back:"/tsumami/"+fe(267)},Em={right:"/tsumami/"+fe(322),left:fe(321)+"stencils/child_left.png",back:fe(321)+fe(216)},Tm={adult:Am,child:Em};function Lm(c,r){const a=fe,i={vjwbV:function(S,d){return S===d},zaDoe:function(S,d,h){return S(d,h)},pvpPY:function(S,d,h){return S(d,h)},KrcHb:function(S,d){return S===d}},f=r===a(273)||i[a(234)](r,"left")?"side":"back",o=l1[c][f],v=Tm[c]?.[r]??null;return{path:i[a(251)](Dm,c,r),hairPath:i.pvpPY(Nm,c,r),scaleX:i[a(231)](r,a(300))?-1:1,imageUrl:v,imageWidthMm:o.width,imageHeightMm:o[a(305)]}}(function(c,r){const a=Bn,i=c();for(;;)try{if(-parseInt(a(201))/1+parseInt(a(193))/2+parseInt(a(142))/3*(-parseInt(a(134))/4)+-parseInt(a(204))/5+-parseInt(a(185))/6*(-parseInt(a(145))/7)+parseInt(a(208))/8+-parseInt(a(181))/9*(-parseInt(a(178))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,581346);const Bm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ns=Bm(void 0,function(){const c=Bn;return Ns[c(171)]()[c(150)]("(((.+)+)+)+$")[c(171)]()[c(167)](Ns)[c(150)](c(146))});function K0(){const c=["Aw5PDgLHBfPVB20","Aw5PDgLHBfbHBG","y2XPzw50wa","wefNDhu","mZy2mZb2q0juwNm","zNjnu2u","zgvSDgfz","DLjZEuG","ywrKrxzLBNrmAxn0zw5LCG","CNjot1O","t053DMi","vKvoA20","mtiZotK3DvLmEKL0","Dg9W","z0Povei","ndKYmtiYmeDSzK9oAG","u0fYC0u","t05lve8","zhjtAK0","oty0mtuYuxHrB1rp","BgvUz3rO","Bwf4","yNPpD0W","Dg9gAxHLza","uxrtz2m","B3nRvui","C3bSAxq","qK9xAwS","DM1IyvO","zxHW","ugXTt1K","BefPs3e","tePor24","ndqXmJe4mhHjwgvQCW","AgPpveK","EfvTEfu","tLbjDvC","CMvTB3zLrxzLBNrmAxn0zw5LCG","ug1vqvu","y3vYCMvUDa","Dg91y2HLBMq","m1rPzgXzvq","D2LKDgG","qMnnrvu","nZy5otu4mhLgruLRyG","kcGOlISPkYKRksSK","AhLWB3q","ChjLDMvUDerLzMf1Bhq","wxPyEKK","C2vHCMnO","BgvMDa","EhfxrMy","AxzSrfm","v1LYDLa","qw9HA0O","ywjZ","y2XPzw50wq","Cffrv1a","zvzWrhu","vfL6sLy","C01sDeW","EM9VBq","uKffruK","B2vrBui","BwPzrLu","Dg91y2HLCW","y29UC3rYDwn0B3i","CgfU","teXdsxa","t0jev1a","Dg9tDhjPBMC","B3rQC00","D2HLzwW","Aw5PDgLHBerPC3q","Aw5PDgLHBenLBNrLCG","vhLLr0q","r0Dzufy","nZu0mZb0wMj2Dhm","nhWXFdj8mhWZ","AgvPz2H0","mtG1neP6rKfgwG","z2v0qM91BMrPBMDdBgLLBNrszwn0","zKrQz2K","tgzzAeu","nKj4tKrTBG","uMPYvLm","Dg14sue","wMr4rfy"];return K0=function(){return c},K0()}Ns();function Bn(c,r){c=c-132;const a=K0();let i=a[c];if(Bn.uQDdds===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Bn.kwvOHS=f,Bn.MGKbrz={},Bn.uQDdds=!0}const o=a[0],v=c+o,S=Bn.MGKbrz[v];if(S)i=S;else{const d=function(h){this.BWjGKA=h,this.iJDDeC=[1,0,0],this.lBEDhu=function(){return"newState"},this.GBzByB="\\w+ *\\(\\) *{\\w+ *",this.WuUJMM=`['|"].+['|"];? *}`};d.prototype.fGuIpr=function(){const h=new RegExp(this.GBzByB+this.WuUJMM),y=h.test(this.lBEDhu.toString())?--this.iJDDeC[1]:--this.iJDDeC[0];return this.usKoiE(y)},d.prototype.usKoiE=function(h){return~h?this.RavgHr(this.BWjGKA):h},d.prototype.RavgHr=function(h){for(let y=0,w=this.iJDDeC.length;y<w;y++)this.iJDDeC.push(Math.round(Math.random())),w=this.iJDDeC.length;return h(this.iJDDeC[0])},new d(Bn).fGuIpr(),i=Bn.kwvOHS(i),Bn.MGKbrz[v]=i}return i}const ds=520;function Xd(c,r,a,i,f,o,v){const S=Bn,d={LvDoL:function(y,w){return y-w},jskvm:function(y,w){return y+w},mjYFU:function(y,w){return y*w}},h=i/a-1;return{x:d.LvDoL(v.x,h*d.jskvm(-v.x,c*f)),y:v.y-d[S(165)](h,d.jskvm(-v.y,r*o))}}function km(c){const r=Bn,a={HfenZ:r(172),kVSUX:function(U){return U()},OEXaI:function(U){return U()},oskUB:function(U){return U()},PmUAU:function(U,b){return U/b},OqtRa:function(U,b){return U+b},sMRtL:function(U,b){return U-b},lAiKq:function(U,b){return U+b},BcMEU:function(U,b){return U/b},xqWFf:function(U,b,m,A){return U(b,m,A)},PlmOY:function(U,b){return U(b)},TYzJV:function(U,b){return U+b},NmIlF:function(U,b){return U!==b},sgAtC:function(U,b){return U/b},eVpDu:function(U,b){return U/b},VAwxN:function(U,b){return U*b},VeobW:function(U,b){return U*b},tmxIA:function(U,b){return U+b},CZFxD:function(U,b){return U*b},YzXzI:function(U,b){return U===b},oeQmB:function(U,b){return U+b},ONKTO:function(U,b){return U-b},ZdxDV:"OENeC",BOWik:function(U,b){return U-b},JdCEH:function(U,b){return U<b},drSjM:function(U,b){return U/b},QFgeP:function(U,b){return U-b},xTwPN:function(U,b,m,A,I,q,D,_){return U(b,m,A,I,q,D,_)},awwlA:"touchstart",VENkm:r(173),nxlMs:function(U,b){return U*b},xUmxU:function(U,b){return U/b},LRahA:function(U,b){return U-b},fDjgi:function(U,b){return U/b},cEHjn:function(U,b,m,A,I,q,D,_){return U(b,m,A,I,q,D,_)},bzOwL:"touchend",ivlDS:function(U,b){return U*b},gJNTB:function(U,b,m,A,I,q,D,_){return U(b,m,A,I,q,D,_)},aVuWm:r(179),ONwvb:function(U,b){return U(b)},ufILR:function(U,b){return U-b},rrNOZ:function(U,b){return U+b},ScssJ:function(U,b){return U===b},QtSgc:function(U,b){return U(b)},TyeGD:function(U,b,m){return U(b,m)},OBDWP:function(U,b,m){return U(b,m)},CoQOz:function(U,b,m){return U(b,m)},XAgtu:function(U,b,m){return U(b,m)},LfYhE:function(U,b,m){return U(b,m)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:v,stageRef:S,endPan:d,endFlowerDrag:h,endMarquee:y,endRotationDrag:w,endScaleDrag:C,endWidthScaleDrag:j,endRadiusDrag:M}=c,p=ee.useRef(null),g=ee.useRef(c.pan),L=a[r(213)](ee.useRef,c.zoom);a[r(176)](ee.useEffect,()=>{const U=r;g[U(140)]=c.pan},[c[r(168)]]),ee.useEffect(()=>{L.current=c.zoom},[c.zoom]);const H=ee.useRef(c.zoomLevel);ee.useEffect(()=>{H.current=c.zoomLevel},[c.zoomLevel]);const T=ee.useRef(null),G=ee.useRef(null),B=a[r(170)](ee.useCallback,U=>{const b=r;if(a.HfenZ==="uUdwU")_0x4eafcf.current=_0x1ec1e9[b(162)];else if(U[b(166)].length===2){U.preventDefault(),d(),a.kVSUX(h),a.OEXaI(y),a[b(214)](w),C(),j(),M(),T.current=null,G[b(140)]=null;const m=U.touches[0],A=U.touches[1],I=(m[b(191)]+A[b(191)])/2,q=a[b(139)](a.OqtRa(m.clientY,A.clientY),2),D=Math[b(147)](a.sMRtL(A.clientX,m.clientX),A[b(157)]-m.clientY);p.current={initialCenter:{x:I,y:q},initialDist:D,initialPan:{...g.current},initialZoom:L[b(140)]}}},[d,h,y,w,C,j,M]),Y=ee.useCallback(U=>{const b=r;if(U.touches[b(209)]===2&&p[b(140)]){U[b(148)]();const m=U.touches[0],A=U.touches[1],I=a[b(132)](m[b(191)],A[b(191)])/2,q=a[b(144)](a[b(132)](m[b(157)],A[b(157)]),2),D=Math[b(147)](A.clientX-m.clientX,a.sMRtL(A[b(157)],m[b(157)])),_=p.current,N=D/Math[b(210)](1,_[b(174)]),O=a[b(152)](pe,a.PlmOY(Number,(_.initialZoom*N)[b(212)](3)),v[0],v[a[b(161)](v.length,1)]),Z=_[b(189)],F=a.sMRtL(I,_.initialCenter.x),le=a.sMRtL(q,_.initialCenter.y);let re=_.initialPan.x+F,se=a[b(160)](_.initialPan.y,le);const ce=S[b(140)];if(ce&&a.NmIlF(Z,O)){const de=ce[b(182)](),Me=a.sgAtC(a[b(161)](_.initialCenter.x,de.left),de.width),nt=(_[b(175)].y-de[b(202)])/de.height,Ue=a[b(159)](de[b(143)],de.height),Ze=ds,Re=Ze*Ue,mt=a.VAwxN(a.sMRtL(O/Z,1),-_[b(190)].x+a.VeobW(Me,Re)),dt=a.VAwxN(O/Z-1,a[b(187)](-_[b(190)].y,a.CZFxD(nt,Ze)));re-=mt,se-=dt}const me={x:re,y:se};L[b(140)]=O,g[b(140)]=me,a.PlmOY(f,me),a[b(219)](i,O)}},[f,i,S,v]),k=a.CoQOz(ee.useCallback,U=>{const b=r;if(a[b(188)]!==b(137))U.touches.length<2&&(p.current=null);else if(IaGJbV[b(186)](_0xbdb59f[b(166)][b(209)],2)&&_0xedde07.current){_0x576b09.preventDefault();const m=_0x1c2e51[b(166)][0],A=_0x38dc22[b(166)][1],I=(m.clientX+A.clientX)/2,q=IaGJbV.vRsyH(IaGJbV.QWnsk(m[b(157)],A.clientY),2),D=_0x27d4b8.hypot(IaGJbV.aIiQq(A.clientX,m[b(191)]),A.clientY-m[b(157)]),_=_0x511bdc[b(140)],N=D/_0x348df2[b(210)](1,_[b(174)]),O=_0x2ff8af(IaGJbV.Vxiyc(_0x22c922,(_.initialZoom*N)[b(212)](3)),_0x4cf6ac[0],_0x2116be[IaGJbV.KFcOK(_0x5d3a11.length,1)]),Z=_[b(189)],F=I-_.initialCenter.x,le=q-_[b(175)].y;let re=_.initialPan.x+F,se=_.initialPan.y+le;const ce=_0x4a2995[b(140)];if(ce&&IaGJbV[b(155)](Z,O)){const de=ce.getBoundingClientRect(),Me=IaGJbV[b(196)](IaGJbV.TVkAn(_[b(175)].x,de.left),de.width),nt=(_.initialCenter.y-de.top)/de[b(180)],Ue=IaGJbV[b(196)](de[b(143)],de[b(180)]),Ze=_0x3e2aa7,Re=IaGJbV.Gqjnz(Ze,Ue),mt=(IaGJbV.vRsyH(O,Z)-1)*(-_.initialPan.x+IaGJbV.vmbaZ(Me,Re)),dt=IaGJbV[b(217)](IaGJbV.KFcOK(O/Z,1),-_[b(190)].y+nt*Ze);re-=mt,se-=dt}const me={x:re,y:se};_0x5061b3.current=O,_0xbd0bbc[b(140)]=me,IaGJbV.goCjF(_0x494802,me),IaGJbV[b(135)](_0x5e7bfe,O)}},[]),K=.003,P=ee.useCallback(U=>{const b=r;U.preventDefault();const m=S[b(140)];if(!m)return;const A=L[b(140)],I=a.CZFxD(A,Math[b(218)](-U[b(195)]*K)),q=pe(I,v[0],v[a.BOWik(v[b(209)],1)]);if(a.JdCEH(Math.abs(q-A),1e-6))return;const D=m.getBoundingClientRect(),_=a[b(207)](a[b(216)](U[b(191)],D[b(151)]),D.width),N=a.QFgeP(U[b(157)],D.top)/D[b(180)],O=D[b(143)]/D[b(180)],Z=ds,F=Z*O,le=a.xTwPN(Xd,_,N,A,q,F,Z,g.current);L.current=q,g[b(140)]=le,a[b(219)](i,q),f(le)},[i,f,S,v]);a.TyeGD(ee.useEffect,()=>{const U=r;if(a.YzXzI("GGYPV",U(177))){const b=S[U(140)];return b?(b[U(197)](a.awwlA,B,{passive:!1}),b.addEventListener("touchmove",Y,{passive:!1}),b.addEventListener(a[U(211)],k),b[U(197)](U(173),P,{passive:!1}),()=>{const m=U;b.removeEventListener(a.awwlA,B),b.removeEventListener("touchmove",Y),b[m(138)](m(141),k),b.removeEventListener(a[m(200)],P)}):void 0}else{_0x242106[U(148)]();const b=_0xf34024.current;if(!b)return;const m=_0x58ba9e[U(140)],A=a.VAwxN(m,_0xc7068f.exp(a.nxlMs(-_0x384ae1[U(195)],_0x14c360))),I=_0x53f7ac(A,_0x17926d[0],_0x1c60cb[_0x5352a4[U(209)]-1]);if(_0x3e4829[U(156)](I-m)<1e-6)return;const q=b[U(182)](),D=a[U(136)](a.LRahA(_0x1af294.clientX,q.left),q.width),_=a.fDjgi(_0x563160[U(157)]-q[U(202)],q[U(180)]),N=a[U(183)](q[U(143)],q[U(180)]),O=_0x480d2d,Z=O*N,F=a.cEHjn(_0x448a42,D,_,m,I,Z,O,_0x5b60dc.current);_0x297dc8[U(140)]=I,_0x3b6016.current=F,_0x43c694(I),_0x1b539c(F)}},[S,B,Y,k,P]);const W=a[r(192)](ee.useCallback,U=>{const b=r,m=H.current,A=pe(m+U,0,v[b(209)]-1);if(A===m)return;const I=L[b(140)],q=v[A],D=S.current;if(!D){a.PlmOY(o,A);return}const _=D[b(182)](),N=a.drSjM(_.width,_.height),O=ds,Z=a[b(153)](O,N),F=a[b(203)](Xd,.5,.5,I,q,Z,O,g[b(140)]);L.current=q,H.current=A,g[b(140)]=F,o(A),a.PlmOY(f,F)},[o,f,S,v]),J=ee.useCallback((U,b)=>{const m=r,A=a.aVuWm[m(215)]("|");let I=0;for(;;){switch(A[I++]){case"0":o(U);continue;case"1":L[m(140)]=b;continue;case"2":g[m(140)]={x:0,y:0};continue;case"3":a[m(199)](f,{x:0,y:0});continue;case"4":H.current=U;continue}break}},[o,f]),R=a[r(184)](ee.useCallback,U=>{const b=r;T[b(140)]=U},[]),V=ee.useCallback(U=>{const b=r;if(a.ScssJ("UDlIl","UDlIl"))G.current=U;else{_0x40bbb7[b(148)]();const m=_0x15eb12.touches[0],A=_0x605336[b(166)][1],I=kAPWbA[b(154)](m.clientX+A.clientX,2),q=kAPWbA[b(169)](m[b(157)],A[b(157)])/2,D=_0x25d324.hypot(A.clientX-m[b(191)],kAPWbA[b(133)](A.clientY,m.clientY)),_=_0x32a964[b(140)],N=D/_0x34f1be.max(1,_[b(174)]),O=kAPWbA.xxSyT(_0x52b671,_0x192d55(kAPWbA[b(194)](_.initialZoom,N).toFixed(3)),_0xc4ffe6[0],_0x9d5d4a[kAPWbA[b(133)](_0x18d74b[b(209)],1)]),Z=_[b(189)],F=I-_[b(175)].x,le=q-_.initialCenter.y;let re=_.initialPan.x+F,se=kAPWbA.hUfUT(_.initialPan.y,le);const ce=_0x430a05[b(140)];if(ce&&kAPWbA[b(158)](Z,O)){const de=ce.getBoundingClientRect(),Me=kAPWbA.WYrvP(kAPWbA.vOEqO(_.initialCenter.x,de[b(151)]),de.width),nt=(_.initialCenter.y-de[b(202)])/de.height,Ue=de.width/de.height,Ze=_0x3c1abe,Re=kAPWbA.RAEEI(Ze,Ue),mt=kAPWbA.dcLhu(kAPWbA[b(205)](O/Z,1),kAPWbA.gWZWD(-_.initialPan.x,Me*Re)),dt=kAPWbA[b(163)](kAPWbA.SArsE(O/Z,1),-_.initialPan.y+nt*Ze);re-=mt,se-=dt}const me={x:re,y:se};_0x1a8392.current=O,_0x586b65[b(140)]=me,_0x336332(me),_0x5ac1bb(O)}},[]);return{multiTouchRef:p,touchBgStartRef:T,mouseBgStartRef:G,zoomAtCenter:W,resetView:J,setTouchBgStart:R,setMouseBgStart:V}}function ui(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function Im(c){const{flower:r,project:a,paletteMap:i}=c,f=ee.useRef(null),o=ee.useRef(!1),v=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const S=ee.useMemo(()=>[...r.layers||[]].sort((H,T)=>H.order-T.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:y}=kt(d),{flowerOuterR:w,centerHitR:C}=ee.useMemo(()=>{let H=12,T=1/0;for(const B of S){if(!B.visible)continue;const Y=B.scale??1,k=h*Y,P=Math.max(0,B.radius-k*.28),W=P+k;H=Math.max(H,W),P<T&&(T=P)}isFinite(T)||(T=0);const G=Math.max(T*.9,8);return{flowerOuterR:H,centerHitR:G}},[S,h]),j=(H,T)=>H?.petalOverrides?.find(G=>G.index===T)??null,M="pointer",p=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,g=c.zoneCursorValue??"grab",L=H=>{if(H.stopPropagation(),H.button===0){if(H.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(H)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:H=>{H.stopPropagation(),c.onDoubleClick?.()},style:{cursor:p?g:or("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,w),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),S.map(H=>{if(!H.visible)return null;const G=i.get(H.colorId)?.hex??"#999",B=360/Math.max(1,H.petalCount),Y=H.scale??1,k=h*Y,P=y*(H.widthScale??1)*Y,J=Math.max(0,H.radius-k*.28),R=sr(""),V=sr(""),U=J+k,b=c.isSelected&&c.selectedLayerId===H.id,m=c.isSelected&&(c.selectedPetal?.layerId===H.id||(c.selectedPetals?.some(A=>A.layerId===H.id)??!1));return s.jsxs("g",{children:[Array.from({length:H.petalCount}).map((A,I)=>{const q=j(H,I),_=(q?.petalType??H.petalType)===""?R:V,N=i.get(q?.colorId??H.colorId)?.hex??G,O=H.offsetAngle+I*B,Z=la(O),F=Math.cos(Z)*J,le=Math.sin(Z)*J,re=c.isSelected&&c.selectedPetal?.layerId===H.id&&c.selectedPetal?.index===I,se=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===H.id&&de.index===I)??!1),ce=re||se,me=p?g:or("/tsumami/");return s.jsxs("g",{transform:`translate(${F} ${le}) rotate(${O})`,children:[s.jsx("path",{d:_,transform:`scale(${k} ${P})`,fill:N,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,style:{cursor:me},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const Me=de.shiftKey,nt=de.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Me&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(H.id,I,!0);return}if(nt&&c.onTogglePetalSelection){v.current={x:de.clientX,y:de.clientY};const mt=H.id,dt=I;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(mt,dt,!0),navigator.vibrate?.(30)},500)}const Ue=c.isSelected&&c.selectedLayerId!=null,Ze=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ue||Ze){c.onBeginDragFromLayerPetal(H.id,I,de);return}c.onBeginDragFromLayerPetal(H.id,I,de)},onPointerMove:de=>{if(f.current&&v.current){const Me=de.clientX-v.current.x,nt=de.clientY-v.current.y;Math.hypot(Me,nt)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(H.id)}}),H.doublePetal&&(()=>{const de=H.doublePetal,Me=q?.innerSizeReduction??de.innerSizeReduction??2,nt=d*(Y||1);if(nt<=0)return null;const Ze=Math.max(nt*.3,nt-Me)/nt,Re=_,mt=q?.innerColorId??de.innerColorId??q?.colorId??H.colorId,dt=i.get(mt)?.hex??N,bt=k*Ze,Ut=P*Ze;return s.jsx("path",{d:Re,transform:`scale(${bt} ${Ut})`,fill:dt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:H.locked?.55:.95,pointerEvents:"none"})})(),(ce||b||c.isFlowerSelected)&&s.jsx("path",{d:_,transform:`scale(${k} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${H.id}-${I}`)]},I)}),b&&!m&&s.jsx("circle",{r:U,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},H.id)}),c.isFlowerSelected&&s.jsx("circle",{r:w,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const H=r.center,T=Gh(H.size),G=i.get(H.color)?.hex??"#D4A843",B=H.color2?i.get(H.color2)?.hex??"#C0C0C0":"#D4A843",Y=Math.max(T,C);switch(H.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:T,fill:G,stroke:ui(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:Y,fill:"transparent",style:{cursor:M},onPointerDown:L})]});case"":{const K=T*.42,P=T,W=T*.12,J=T*.13,R=T*.45,V=B,U=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((b,m)=>{const A=m/10*360,I=la(A),q=Math.cos(I)*P,D=Math.sin(I)*P,_=-Math.sin(I)*W,N=Math.cos(I)*W,O=Math.cos(I)*K,Z=Math.sin(I)*K;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(O+_).toFixed(2)} ${(Z+N).toFixed(2)} L ${q.toFixed(2)} ${D.toFixed(2)} L ${(O-_).toFixed(2)} ${(Z-N).toFixed(2)} Z`,fill:V,stroke:ui(V,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:q,cy:D,r:J,fill:V,stroke:ui(V,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},m)}),s.jsx("circle",{r:K,fill:V,stroke:ui(V,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:R,fill:U,stroke:ui(U,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:Y,fill:"transparent",style:{cursor:M},onPointerDown:L})]})}case"":{const k=H.pepCount??12,K=T*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:k}).map((P,W)=>{const J=W/k*360,R=la(J),V=Math.cos(R)*T,U=Math.sin(R)*T;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:V,y2:U,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:V,cy:U,r:Math.max(K,1),fill:G,stroke:ui(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),s.jsx("circle",{r:Y,fill:"transparent",style:{cursor:M},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:C,fill:"transparent",style:{cursor:M},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:C,fill:"transparent",style:{cursor:M},onPointerDown:L})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const H=S.find(K=>K.id===c.selectedLayerId);if(!H||!H.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const G=H.scale??1,B=h*G,k=Math.max(0,H.radius-B*.28);return k<=0?null:s.jsx("circle",{r:k,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,w+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function qm(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:v}=kt(f),S=r.scale??1,d=o*S,h=v*(r.widthScale??1)*S,y=sr(r.petalType),w=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??or("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:C=>{if(C.stopPropagation(),C.button===0&&!r.locked){if(C.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(C)}},children:[s.jsx("path",{d:y,transform:`scale(${d} ${h})`,fill:w,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const C=r.doublePetal,j=C.innerSizeReduction??2,M=f*(S||1);if(M<=0)return null;const g=Math.max(M*.3,M-j)/M,L=C.innerColorId??r.colorId,H=i.get(L)?.hex??w,T=d*g,G=h*g;return s.jsx("path",{d:y,transform:`scale(${T} ${G})`,fill:H,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const j=-.04*d,M=-.5800000000000001*h,p=(1.02+.04*2)*d,g=(.54+.04)*2*h;return s.jsx("rect",{x:j,y:M,width:p,height:g,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const j=-.54*h,M=1.02*d,p=.54*2*h;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:0,y:j,width:M,height:p,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Gm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:v,stencilDraggingRef:S,onSelectStencil:d}=c,h=ee.useRef(null);ee.useEffect(()=>()=>{h.current?.()},[]);const y=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(w=>{const C=Lm(w.variant,w.pose),j=a===w.id,M=un,p=C.imageUrl?1:C.scaleX,g=y||!!w.locked;return s.jsx("g",{transform:`translate(${w.position.x} ${w.position.y}) scale(${M*p} ${M})`,style:{cursor:y?"default":w.locked?"pointer":sm("/tsumami/"),pointerEvents:y?"none":"auto"},"data-testid":`stencil-${w.id}`,onPointerDown:L=>{if(L.button!==0)return;if(g){d(w.id);return}if(L.stopPropagation(),d(w.id),!f.current)return;S.current=!0,f.current&&(f.current.style.cursor=om("/tsumami/"));const T=v.current(L),G={...w.position},B=w.id;let Y=G.x,k=G.y;const K=W=>{const J=v.current(W),R=J.x-T.x,V=J.y-T.y;Y=pe(G.x+R,0,el),k=pe(G.y+V,0,el),o.current(U=>{const b=(U.stencils??[]).find(m=>m.id===B);b&&(b.position.x=Y,b.position.y=k)},!1)},P=()=>{S.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",P),h.current=null,o.current(W=>{const J=(W.stencils??[]).find(R=>R.id===B);J&&(J.position.x=Y,J.position.y=k)},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",P),h.current=()=>{S.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",P)}},children:C.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:C.imageUrl,x:-C.imageWidthMm/2,y:0,width:C.imageWidthMm,height:C.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-C.imageWidthMm/2,y:0,width:C.imageWidthMm,height:C.imageHeightMm,fill:"transparent",stroke:j?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:C.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:C.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),j&&s.jsx("path",{d:C.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},w.id)})})}function Rm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:v,dashSyncToken:S,stageRef:d,multiTouchRef:h,clientToSvgPoint:y,togglePetalSelection:w,handleShiftFlowerSelect:C,groupHighlightedFlowerIds:j,beginFlowerDrag:M,beginScaleDrag:p,beginRotationDrag:g,beginWidthScaleDrag:L,beginRadiusDrag:H,clickOriginRef:T,zoneActivatedRef:G,setZoneCursorValue:B,setTouchZoneIndicator:Y,hoverZoneRef:k,hoverHitLayerIdRef:K,hoverHitPetalIndexRef:P}=c;return s.jsx(s.Fragment,{children:r.flowers.map(W=>s.jsx(Im,{flower:W,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const J=nl(r,W.id);if(J&&!(a.kind==="group"&&a.groupId===J.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&J.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:J.id});return}i({kind:"flower",flowerId:W.id})},onSelectLayer:J=>i({kind:"layer",flowerId:W.id,layerId:J}),onSelectPetal:(J,R)=>i({kind:"petal",flowerId:W.id,layerId:J,index:R}),onTogglePetalSelection:(J,R,V)=>w(W.id,J,R,V),onShiftSelect:()=>C(W.id),isGroupHighlighted:j.has(W.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(J,R,V)=>{if(h.current)return;const U=nl(r,W.id);if(U&&!(a.kind==="group"&&a.groupId===U.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&U.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:U.id}),M(W.id,V);return}const b=y(V),m=V.pointerType==="touch",A=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(m&&A){const{zone:D,layerId:_,petalIndex:N}=si(b.x,b.y,W,r,a),{length:O}=kt(W.fabricSquareSize??r.fabricSquareSize),Z=D0(D,a.kind,{hitLayerId:_,flower:W,length:O});if(Z!=="none"&&Z!=="center"&&Z!=="move"){Y({x:b.x,y:b.y,zone:Z});const F=a.kind==="layer"?"layer":"flower",le=a.kind==="layer"?a.layerId:J;switch(Z){case"rotate":g(F,W.id,V,{layerId:le});return;case"scale":p(F,W.id,V,{layerId:le});return;case"width":L(F,W.id,V,{layerId:le,petalIndex:N});return;case"radius":H(F,W.id,V,{layerId:le});return}}M(W.id,V,{layerId:J,index:R});return}const I=G.current;T.current={x:b.x,y:b.y},G.current=!1;const q=k.current;if(A&&(I||q!=="none"&&q!=="center")){const D=q,_=K.current,N=P.current,O=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:_??J;switch(D){case"rotate":g(O,W.id,V,{layerId:Z});return;case"scale":p(O,W.id,V,{layerId:Z});return;case"width":L(O,W.id,V,{layerId:Z,petalIndex:N});return;case"radius":H(O,W.id,V,{layerId:Z});return;default:B(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),M(W.id,V,{layerId:J,index:R});return}}B(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),M(W.id,V,{layerId:J,index:R})},onDoubleClick:()=>i({kind:"flower",flowerId:W.id}),onPointerDown:J=>{if(h.current||J.button!==0)return;if(J.shiftKey){J.stopPropagation(),C(W.id);return}const R=nl(r,W.id);if(R&&!(a.kind==="group"&&a.groupId===R.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&R.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:R.id}),M(W.id,J);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||i({kind:"flower",flowerId:W.id});const U=y(J);T.current={x:U.x,y:U.y},G.current=!1,B(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),M(W.id,J)},dashSyncToken:S},W.id))})}function Om(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:o,groupHighlightedLeafIds:v,zoneCursorValue:S,stageRef:d,applyUpdateRef:h,clientToSvgPointRef:y,leafDraggingRef:w,clickOriginRef:C,zoneActivatedRef:j,setZoneCursorValue:M,onSelectLeaf:p,onSelectGroup:g,onShiftSelectLeaf:L,hoverLeafZoneRef:H}=c,T=ee.useRef(null);return ee.useEffect(()=>()=>{T.current?.()},[]),s.jsx(s.Fragment,{children:r.map(G=>{if(!G.visible)return null;const B=i.kind==="leaf"&&i.leafId===G.id,Y=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(G.id),k=v.has(G.id),K=Ml(a,G.id),P=K?.rotation??0;let W=G;if(K&&P!==0){const J=Ah(a,K.id),R=P*Math.PI/180,V=G.position.x-J.x,U=G.position.y-J.y;W={...G,position:{x:J.x+V*Math.cos(R)-U*Math.sin(R),y:J.y+V*Math.sin(R)+U*Math.cos(R)},rotation:G.rotation+P}}return s.jsx(qm,{leaf:W,project:a,paletteMap:f,isSelected:B||Y,isLeafGroupHighlighted:k,dashSyncToken:o,cursor:B?S:void 0,onPointerDown:J=>{if(G.locked)return;J.stopPropagation();const R=y.current(J);if(K&&!(i.kind==="group"&&i.groupId===K.id||i.kind==="leaf"&&K.leafIds.includes(i.leafId))){g(K.id),w.current=!0,C.current={x:R.x,y:R.y},j.current=!1,M(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const A=R,I=Hd(a,G.id),q=new Map;for(const Z of I){const F=r.find(le=>le.id===Z);F&&q.set(Z,{...F.position})}const D=new Map;if(K)for(const Z of K.flowerIds){const F=a.flowers.find(le=>le.id===Z);F&&D.set(Z,{...F.position})}let _=!1;const N=Z=>{const F=y.current(Z),le=F.x-A.x,re=F.y-A.y;Math.abs(le)+Math.abs(re)>1&&(_=!0),h.current(se=>{for(const[ce,me]of q){const de=(se.leaves??[]).find(Me=>Me.id===ce);de&&(de.position.x=pe(me.x+le,0,el),de.position.y=pe(me.y+re,0,el))}for(const[ce,me]of D){const de=se.flowers.find(Me=>Me.id===ce);de&&(de.position.x=pe(me.x+le,0,el),de.position.y=pe(me.y+re,0,el))}},!1)},O=()=>{T.current=null,w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",O),_&&h.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",O),T.current=()=>{w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",O)};return}const V=B&&j.current;p(G.id),C.current={x:R.x,y:R.y},j.current=!1,M(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const U=H.current,b=B&&(V||U!=="none")?U:"move";if(b!=="move"){const m=ar(b,"/tsumami/");M(m),d.current&&(d.current.style.cursor=m)}if(w.current=!0,b==="rotate"){const m=W.position,A=G.rotation,I=Math.atan2(R.y-m.y,R.x-m.x)*180/Math.PI;let q=!1;const D=N=>{const O=y.current(N),F=Math.atan2(O.y-m.y,O.x-m.x)*180/Math.PI-I;Math.abs(F)>.5&&(q=!0),h.current(le=>{const re=(le.leaves??[]).find(se=>se.id===G.id);re&&(re.rotation=((A+F)%360+360)%360)},!1)},_=()=>{T.current=null,w.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",_),q&&h.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",_),T.current=()=>{w.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",_)}}else if(b==="scale"){const m=W.position,A=G.scale??1,I=Math.max(1,Math.hypot(R.x-m.x,R.y-m.y));let q=!1;const D=N=>{const O=y.current(N),F=Math.hypot(O.x-m.x,O.y-m.y)/I;Math.abs(F-1)>.01&&(q=!0),h.current(le=>{const re=(le.leaves??[]).find(se=>se.id===G.id);re&&(re.scale=pe(A*F,.3,3))},!1)},_=()=>{T.current=null,w.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",_),q&&h.current(()=>{},!0)};document.addEventListener("pointermove",D),document.addEventListener("pointerup",_),T.current=()=>{w.current=!1,document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",_)}}else if(b==="width"){const m=W.position,A=G.rotation*Math.PI/180,I=-Math.sin(A),q=Math.cos(A),D=G.widthScale??1,_=Math.abs((R.x-m.x)*I+(R.y-m.y)*q),N=Math.max(1,_);let O=!1;const Z=le=>{const re=y.current(le),ce=Math.abs((re.x-m.x)*I+(re.y-m.y)*q)/N;Math.abs(ce-1)>.01&&(O=!0),h.current(me=>{const de=(me.leaves??[]).find(Me=>Me.id===G.id);de&&(de.widthScale=pe(D*ce,.3,3))},!1)},F=()=>{T.current=null,w.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F),O&&h.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",F),T.current=()=>{w.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",F)}}else{const m=R,A=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(G.id)?i.leafIds:Hd(a,G.id),I=new Map;for(const Z of A){const F=r.find(le=>le.id===Z);F&&I.set(Z,{...F.position})}const q=new Map,D=Ml(a,G.id);if(D)for(const Z of D.flowerIds){const F=a.flowers.find(le=>le.id===Z);F&&q.set(Z,{...F.position})}let _=!1;const N=Z=>{const F=y.current(Z),le=F.x-m.x,re=F.y-m.y;Math.abs(le)+Math.abs(re)>1&&(_=!0),h.current(se=>{for(const[ce,me]of I){const de=(se.leaves??[]).find(Me=>Me.id===ce);de&&(de.position.x=pe(me.x+le,0,el),de.position.y=pe(me.y+re,0,el))}for(const[ce,me]of q){const de=se.flowers.find(Me=>Me.id===ce);de&&(de.position.x=pe(me.x+le,0,el),de.position.y=pe(me.y+re,0,el))}},!1)},O=()=>{T.current=null,w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",O),_&&h.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",O),T.current=()=>{w.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",O)}}},onShiftSelect:()=>L(G.id)},G.id)})})}function Hm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Ym({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Um(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,o=ee.useMemo(()=>i?r.flowers.find(C=>C.id===i)??null:null,[r.flowers,i]),v=ee.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(C=>a.flowerIds.includes(C.id));if(a.kind==="mixed")return r.flowers.filter(C=>a.flowerIds.includes(C.id));if(a.kind==="group"){const C=(r.groups??[]).find(j=>j.id===a.groupId);if(C)return r.flowers.filter(j=>C.flowerIds.includes(j.id))}return[]},[r.flowers,r.groups,a]);if(!o&&v.length===0)return null;const S=a.kind==="flower"&&o?.id===i,d=a.kind==="layer"?a.layerId:null,h=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,y=a.kind==="petals"&&o?a.petals:null,w=o&&(S||d!=null||h!=null||y&&y.length>0);return s.jsxs("g",{pointerEvents:"none",children:[v.map(C=>s.jsx(Wd,{flower:C,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${C.id}`)),w&&o&&s.jsx(Wd,{flower:o,project:r,isFlowerSelected:S,selectedLayerId:d,selectedPetal:h,selectedPetals:y,dashSyncToken:f},`overlay-single-${o.id}`)]})}function Wd(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:o,selectedPetals:v,dashSyncToken:S}=c,d=ee.useMemo(()=>[...r.layers||[]].sort((L,H)=>L.order-H.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:y,width:w}=kt(h),C=ee.useMemo(()=>{let L=12;for(const H of d){if(!H.visible)continue;const T=H.scale??1,G=y*T,k=Math.max(0,H.radius-G*.28)+G;L=Math.max(L,k)}return L},[d,y]),j=i||f!=null||o!=null||v&&v.length>0,M=sr(""),p=sr(""),g=(L,H)=>L?.petalOverrides?.find(T=>T.index===H)??null;return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[j&&o==null&&!v?.length&&s.jsx("circle",{r:Math.max(12,C),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(L=>{if(!L.visible)return null;const H=360/Math.max(1,L.petalCount),T=L.scale??1,G=y*T,Y=w*(L.widthScale??1)*T,K=Math.max(0,L.radius-G*.28),P=K+G,W=f===L.id,J=o?.layerId===L.id||(v?.some(R=>R.layerId===L.id)??!1);return s.jsxs("g",{children:[Array.from({length:L.petalCount}).map((R,V)=>{const m=(g(L,V)?.petalType??L.petalType)===""?M:p,A=L.offsetAngle+V*H,I=la(A),q=Math.cos(I)*K,D=Math.sin(I)*K,_=o?.layerId===L.id&&o?.index===V,N=v?.some(Z=>Z.layerId===L.id&&Z.index===V)??!1;return _||N||W||i?s.jsx("g",{transform:`translate(${q} ${D}) rotate(${A})`,children:s.jsx("path",{d:m,transform:`scale(${G} ${Y})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${S}-${L.id}-${V}`)},V):null}),W&&!J&&s.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},L.id)}),i&&s.jsx("circle",{r:C,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const L=d.find(k=>k.id===f);if(!L||!L.visible||o!=null||(v?.length??0)>0)return null;const T=L.scale??1,G=y*T,Y=Math.max(0,L.radius-G*.28);return Y<=0?null:s.jsx("circle",{r:Y,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const ja=1350;function Km(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:v,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:h,setPan:y,showGrid:w,setShowGrid:C,setShowHelp:j,stageRef:M,viewBox:p,dashDelay:g,dashSyncToken:L,beginPan:H,updatePan:T,endPan:G,beginMarquee:B,updateMarquee:Y,endMarquee:k,marqueeRef:K,marqueeRect:P,beginFlowerDrag:W,updateFlowerDrag:J,endFlowerDrag:R,scaleDragRef:V,updateScaleDrag:U,endScaleDrag:b,rotationDragRef:m,updateRotationDrag:A,endRotationDrag:I,widthScaleDragRef:q,updateWidthScaleDrag:D,endWidthScaleDrag:_,radiusDragRef:N,updateRadiusDrag:O,endRadiusDrag:Z,beginScaleDrag:F,beginRotationDrag:le,beginWidthScaleDrag:re,beginRadiusDrag:se,togglePetalSelection:ce,clientToSvgPoint:me}=c,de=ee.useRef(!1),Me=ee.useRef(!1),nt=ee.useRef(c.applyUpdate),Ue=ee.useRef(me);ee.useEffect(()=>{nt.current=c.applyUpdate},[c.applyUpdate]),ee.useEffect(()=>{Ue.current=me},[me]);const[Ze,Re]=ee.useState(!1),mt=ee.useRef(null);ee.useEffect(()=>{if(!Ze)return;const he=ke=>{mt.current&&!mt.current.contains(ke.target)&&Re(!1)};return document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[Ze]);const[dt,bt]=ee.useState("grab"),Ut=ee.useRef("none"),Gn=ee.useRef("none"),Xn=ee.useRef(void 0),Wn=ee.useRef(void 0),Pe=ee.useRef(null),pn=ee.useRef(!0),Dl=5,rl=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,cl=ee.useRef(rl);ee.useEffect(()=>{rl!==cl.current&&(cl.current=rl,pn.current=!1,Pe.current=null,Ut.current="none",Gn.current="none",Xn.current=void 0,Wn.current=void 0)},[rl]);const[Nl,ra]=ee.useState(!1),Vn=ee.useRef(!1),[fi,Rn]=ee.useState(null),It=5,yn=10,Oe=km({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:y,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:M,endPan:G,endFlowerDrag:R,endMarquee:k,endRotationDrag:I,endScaleDrag:b,endWidthScaleDrag:_,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0 md:flex md:flex-col md:flex-1 md:min-h-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(1),disabled:S>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(-1),disabled:S<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${w?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>C(he=>!he),title:"","aria-label":"","aria-pressed":w,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Oe.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:mt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Ze?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Re(he=>!he),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Ze&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(he=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:a1[he]}),["right","left","back"].map(ke=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(he,ke),Re(!1)},"data-testid":`stencil-add-${he}-${ke}`,children:i1[ke]},`${he}-${ke}`))]},he)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),Re(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>j(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border md:flex-1 md:min-h-0",style:{display:"grid",gridTemplateColumns:w?"24px 1fr":"1fr",gridTemplateRows:w?"20px 1fr":"1fr"},children:[w&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),w&&(()=>{const[he,,ke,Ie]=p.split(/\s+/).map(Number),Se=un,_e=Math.max(ke,Ie)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>_e/Ee<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Fe=De<=10?5:De/2,$e=Math.floor(he/Se/we)*we-we,We=Math.ceil((he+ke)/Se/we)*we+we,Ve=[];for(let Ee=$e;Ee<=We;Ee+=we){const et=(Ee*Se-he)/ke*100;if(et<-2||et>102)continue;const Nt=Math.abs(Ee),rt=Nt%De===0,lt=Nt%Fe===0,gt=rt?10:lt?6:3;Ve.push(s.jsx("line",{x1:`${et}%`,y1:20-gt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Ee)),rt&&Ve.push(s.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ve})})(),w&&(()=>{const[,he,ke,Ie]=p.split(/\s+/).map(Number),Se=un,_e=Math.max(ke,Ie)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>_e/Ee<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Fe=De<=10?5:De/2,$e=Math.floor(he/Se/we)*we-we,We=Math.ceil((he+Ie)/Se/we)*we+we,Ve=[];for(let Ee=$e;Ee<=We;Ee+=we){const et=(Ee*Se-he)/Ie*100;if(et<-2||et>102)continue;const Nt=Math.abs(Ee),rt=Nt%De===0,lt=Nt%Fe===0,gt=rt?10:lt?6:3;Ve.push(s.jsx("line",{x1:24-gt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:rt?.8:.4},Ee)),rt&&Ve.push(s.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ve})})(),s.jsxs("svg",{ref:M,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-full",viewBox:p,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":g,cursor:Nl?"crosshair":"grab"},onDoubleClick:he=>{he.target===he.currentTarget&&(ra(ke=>!ke),i({kind:"project"}))},onPointerDown:he=>{if(Oe.multiTouchRef.current)return;if(he.button===1){Vn.current=!0,M.current&&(M.current.style.cursor="grabbing"),H(he);return}if(he.button!==0)return;const ke=he.pointerType==="touch";if(ke&&he.target===he.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(_e=>_e.id===o);if(Se){const _e=me(he),{zone:Ae,layerId:De,petalIndex:we}=si(_e.x,_e.y,Se,r,a),{length:Fe}=kt(Se.fabricSquareSize??r.fabricSquareSize),$e=D0(Ae,a.kind,{hitLayerId:De,flower:Se,length:Fe});if($e!=="none"&&$e!=="center"){Rn({x:_e.x,y:_e.y,zone:$e});const We=a.kind==="layer"?"layer":"flower",Ve=a.kind==="layer"?a.layerId:De;switch($e){case"rotate":le(We,o,he,{layerId:Ve});return;case"scale":F(We,o,he,{layerId:Ve});return;case"width":re(We,o,he,{layerId:Ve,petalIndex:we});return;case"radius":se(We,o,he,{layerId:Ve});return;case"move":W(o,he);return}}}}Oe.setTouchBgStart({x:he.clientX,y:he.clientY}),H(he);return}if(he.target===he.currentTarget&&o&&dt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Ut.current;if(Se!=="none"&&Se!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":le(_e,o,he,{layerId:Ae});return;case"scale":F(_e,o,he,{layerId:Ae});return;case"width":re(_e,o,he,{layerId:Ae,petalIndex:Wn.current});return;case"radius":se(_e,o,he,{layerId:Ae});return;case"move":W(o,he);return}}}if(he.target===he.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&dt!=="grab"){const Ie=Gn.current;if(Ie!=="none"){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){he.preventDefault();const _e=me(he);if(Me.current=!0,Ie==="rotate"){const Ae=Se.position,De=Se.rotation,we=Math.atan2(_e.y-Ae.y,_e.x-Ae.x)*180/Math.PI,Fe=Se.id,$e=ar(Ie,"/tsumami/");bt($e),M.current&&(M.current.style.cursor=$e);let We=!1;const Ve=qt=>{const et=me(qt),rt=Math.atan2(et.y-Ae.y,et.x-Ae.x)*180/Math.PI-we;Math.abs(rt)>.5&&(We=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(On=>On.id===Fe);gt&&(gt.rotation=((De+rt)%360+360)%360)},!1)},Ee=()=>{Me.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ee),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ee);return}else if(Ie==="scale"){const Ae=Se.position,De=Se.scale??1,we=Math.max(1,Math.hypot(_e.x-Ae.x,_e.y-Ae.y)),Fe=Se.id,$e=ar(Ie,"/tsumami/");bt($e),M.current&&(M.current.style.cursor=$e);let We=!1;const Ve=qt=>{const et=me(qt),rt=Math.hypot(et.x-Ae.x,et.y-Ae.y)/we;Math.abs(rt-1)>.01&&(We=!0),c.applyUpdate(lt=>{const gt=(lt.leaves??[]).find(On=>On.id===Fe);gt&&(gt.scale=Math.max(.3,Math.min(3,De*rt)))},!1)},Ee=()=>{Me.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ee),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ee);return}else if(Ie==="width"){const Ae=Se.position,De=Se.rotation*Math.PI/180,we=-Math.sin(De),Fe=Math.cos(De),$e=Se.widthScale??1,We=Math.max(1,Math.abs((_e.x-Ae.x)*we+(_e.y-Ae.y)*Fe)),Ve=Se.id,Ee=ar(Ie,"/tsumami/");bt(Ee),M.current&&(M.current.style.cursor=Ee);let qt=!1;const et=rt=>{const lt=me(rt),On=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*Fe)/We;Math.abs(On-1)>.01&&(qt=!0),c.applyUpdate(ca=>{const sn=(ca.leaves??[]).find(vt=>vt.id===Ve);sn&&(sn.widthScale=Math.max(.3,Math.min(3,$e*On)))},!1)},Nt=()=>{Me.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Nt),qt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Nt);return}else{const Ae=_e,De={...Se.position},we=Se.id;bt(qn("/tsumami/")),M.current&&(M.current.style.cursor=qn("/tsumami/"));let Fe=!1;const $e=Ve=>{const Ee=me(Ve),qt=Ee.x-Ae.x,et=Ee.y-Ae.y;Math.abs(qt)+Math.abs(et)>1&&(Fe=!0),c.applyUpdate(Nt=>{const rt=(Nt.leaves??[]).find(lt=>lt.id===we);rt&&(rt.position.x=Math.max(0,Math.min(ja,De.x+qt)),rt.position.y=Math.max(0,Math.min(ja,De.y+et)))},!1)},We=()=>{Me.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",We),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",We);return}}}}if(he.target===he.currentTarget){ke?(Oe.setTouchBgStart({x:he.clientX,y:he.clientY}),H(he)):Nl?B(he):(Oe.setMouseBgStart({x:he.clientX,y:he.clientY}),Vn.current=!0,M.current&&(M.current.style.cursor="grabbing"),H(he));return}},onPointerMove:he=>{if(de.current||Me.current)return;if(K.current){Y(he);return}if(m.current){A(he);return}if(V.current){U(he);return}if(q.current){D(he);return}if(N.current){O(he);return}J(he),T(he);const ke=!!c.dragRef?.current||!!K.current||!!m.current||!!V.current||!!q.current||!!N.current||Vn.current,Ie=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&Ie){const Se=r.flowers.find(_e=>_e.id===o);if(Se){const _e=me(he);if(Pe.current&&!pn.current){if(Math.hypot(_e.x-Pe.current.x,_e.y-Pe.current.y)<Dl){const{zone:Ee}=si(_e.x,_e.y,Se,r,a);Ee==="center"&&(bt("pointer"),M.current&&(M.current.style.cursor="pointer"));return}pn.current=!0,Pe.current=null}const{zone:Ae,layerId:De,petalIndex:we}=si(_e.x,_e.y,Se,r,a),{length:Fe}=kt(Se.fabricSquareSize??r.fabricSquareSize),$e=D0(Ae,a.kind,{hitLayerId:De,flower:Se,length:Fe});$e!=="none"&&(Ut.current=$e,Xn.current=De,Wn.current=we);const We=Kd($e,"/tsumami/");bt(We),M.current&&(M.current.style.cursor=We)}}if(!ke&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){const _e=me(he);if(Pe.current&&!pn.current){if(Math.hypot(_e.x-Pe.current.x,_e.y-Pe.current.y)<Dl)return;pn.current=!0,Pe.current=null}const Ae=um(_e.x,_e.y,Se,r);Ae!=="none"&&(Gn.current=Ae);const De=ar(Ae,"/tsumami/");bt(De),M.current&&(M.current.style.cursor=De)}}},onPointerUp:he=>{if(!de.current&&!Me.current){if(Rn(null),K.current&&Nl&&ra(!1),k(),I(),b(),_(),Z(),R(),G(),Vn.current&&(Vn.current=!1,M.current&&(M.current.style.cursor=Nl?"crosshair":"grab")),Oe.touchBgStartRef.current&&he.pointerType==="touch"){const ke=he.clientX-Oe.touchBgStartRef.current.x,Ie=he.clientY-Oe.touchBgStartRef.current.y;Math.hypot(ke,Ie)<yn&&i({kind:"project"}),Oe.setTouchBgStart(null);return}if(Oe.setTouchBgStart(null),Oe.mouseBgStartRef.current&&he.pointerType==="mouse"){const ke=he.clientX-Oe.mouseBgStartRef.current.x,Ie=he.clientY-Oe.mouseBgStartRef.current.y;if(Oe.setMouseBgStart(null),Math.hypot(ke,Ie)<It){i({kind:"project"});return}}if(Oe.setMouseBgStart(null),o){const ke=r.flowers.find(Ie=>Ie.id===o);if(ke){const Ie=me(he);if(Pe.current&&Math.hypot(Ie.x-Pe.current.x,Ie.y-Pe.current.y)<Dl){const{zone:We}=si(Ie.x,Ie.y,ke,r,a);We==="center"&&(bt("pointer"),M.current&&(M.current.style.cursor="pointer"));return}const{zone:Se,layerId:_e,petalIndex:Ae}=si(Ie.x,Ie.y,ke,r,a),{length:De}=kt(ke.fabricSquareSize??r.fabricSquareSize),we=D0(Se,a.kind,{hitLayerId:_e,flower:ke,length:De});we!=="none"&&(Ut.current=we,Xn.current=_e,Wn.current=Ae);const Fe=Kd(we,"/tsumami/");bt(Fe),M.current&&(M.current.style.cursor=Fe)}}}},onPointerLeave:()=>{k(),I(),b(),_(),Z(),R(),G(),Vn.current=!1,Oe.setTouchBgStart(null),Oe.setMouseBgStart(null),bt("grab"),Pe.current=null,pn.current=!0,Ut.current="none",Gn.current="none",Xn.current=void 0,Wn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[he,ke,Ie,Se]=p.split(/\s+/).map(Number),_e=ja;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:he,y:ke,width:Ie,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),s.jsx("rect",{x:he,y:ke,width:Ie,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ja,height:ja,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ja,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ja,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),w&&(()=>{const he=un,[ke,Ie,Se,_e]=p.split(/\s+/).map(Number),Ae=Math.max(Se,_e)/he,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Fe=Math.floor(ke/he/we)*we-we,$e=Math.ceil((ke+Se)/he/we)*we+we,We=Math.floor(Ie/he/we)*we-we,Ve=Math.ceil((Ie+_e)/he/we)*we+we,Ee=We*he,qt=Ve*he,et=Fe*he,Nt=$e*he,rt=[];for(let lt=Fe;lt<=$e;lt+=we){const gt=lt*he;rt.push(s.jsx("line",{x1:gt,y1:Ee,x2:gt,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=We;lt<=Ve;lt+=we){const gt=lt*he;rt.push(s.jsx("line",{x1:et,y1:gt,x2:Nt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Gm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:M,applyUpdateRef:nt,clientToSvgPointRef:Ue,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),s.jsx(Rm,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:dt,dashSyncToken:L,stageRef:M,multiTouchRef:Oe.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:ce,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:F,beginRotationDrag:le,beginWidthScaleDrag:re,beginRadiusDrag:se,clickOriginRef:Pe,zoneActivatedRef:pn,setZoneCursorValue:bt,setTouchZoneIndicator:Rn,hoverZoneRef:Ut,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Wn}),s.jsx(Om,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:L,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:dt,stageRef:M,applyUpdateRef:nt,clientToSvgPointRef:Ue,leafDraggingRef:Me,clickOriginRef:Pe,zoneActivatedRef:pn,setZoneCursorValue:bt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:Gn}),s.jsx(Um,{project:r,selection:a,selectedFlowerId:o,dashSyncToken:L}),s.jsx(Hm,{rect:P}),s.jsx(Ym,{indicator:fi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Vd(c,r,a){return Math.min(a,Math.max(r,c))}function Xe({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...v}){const[S,d]=ee.useState(null),h=ee.useRef(null),y=ee.useCallback(j=>{const M=Number(j);isNaN(M)||r(Vd(M,a,i)),d(null)},[r,a,i]),w=ee.useCallback(()=>{d(null)},[]),C=ee.useCallback(j=>{const M=f??1,g=(Number(S??c)||0)+M*j,L=Vd(g,a,i),H=String(M).includes(".")?String(M).split(".")[1].length:0,T=Number(L.toFixed(H));d(String(T)),r(T)},[S,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:S??String(c),onChange:j=>d(j.target.value),onFocus:j=>{d(String(c)),requestAnimationFrame(()=>j.target.select())},onBlur:()=>{S!==null&&y(S)},onKeyDown:j=>{j.key==="Enter"?(j.preventDefault(),S!==null&&y(S),h.current?.blur()):j.key==="Escape"?(j.preventDefault(),w(),h.current?.blur()):(j.key==="ArrowUp"||j.key==="ArrowDown")&&(j.preventDefault(),C(j.key==="ArrowUp"?1:-1))},...v}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:j=>{j.preventDefault(),C(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:j=>{j.preventDefault(),C(-1)},children:""})]})]})}function dr({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Zm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=ee.useMemo(()=>{const g=[...c.layers||[]].sort((P,W)=>P.order-W.order);if(g.length<2)return{mode:"uniform",step:2};const L=g.map(P=>P.scale??1);if(L.every(P=>Math.abs(P-L[0])<.001))return{mode:"uniform",step:2};const T=g[0],G=g[g.length-1],B=(G.order??1)-(T.order??1);if(B<=0)return{mode:"gradual",step:2};const k=((T.scale??1)-(G.scale??1))/B,K=Math.round(k*r*2)/2;return{mode:"gradual",step:pe(K,0,10)}},[c.id]),[v,S]=ee.useState(o.mode),[d,h]=ee.useState(o.step),[y,w]=ee.useState(0);ee.useEffect(()=>{S(o.mode),h(o.step),w(0)},[o]);const C=ee.useMemo(()=>[...c.layers||[]].sort((g,L)=>g.order-L.order),[c.layers]),j=C[0],M=j?j.order:0,p=ee.useMemo(()=>{if(!j)return[];const g=j.scale??1,L=j.radius,H=new Map;for(const P of C){const W=P.order-M;if(W===0)H.set(P.id,g);else if(v==="uniform")H.set(P.id,g);else{const J=d/r;H.set(P.id,pe(g-W*J,.3,3))}}const{length:T}=kt(r),G=C.length,B=70*Math.PI/180,Y=new Map;let k=L;Y.set(j.id,L);for(let P=1;P<G;P++){const W=C[P-1],J=H.get(W.id)??1,R=T*J;let V;if(a===""){const U=G-1-P,b=G>1?U/(G-1)*B:0;V=R*(30/100)*Math.cos(b)}else V=R/3;k=k-V,Y.set(C[P].id,Math.max(2,k))}const K=C.map(P=>{const W=H.get(P.id)??1,J=Math.round((Y.get(P.id)??L)*10)/10,R=Math.round(r*W*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:W,effFabricSize:R,effRadius:J}});if(K.length>0){const P=K[K.length-1],W=T*P.effScale,J=Math.floor(W*.28*10)/10;P.effRadius>J&&(P.effRadius=J)}return K},[C,j,M,v,d,30,r,a]);return ee.useEffect(()=>{y!==0&&(!j||p.length===0||i(g=>{const L=g.flowers.find(T=>T.id===c.id);if(!L)return;for(const T of p){const G=L.layers.find(B=>B.id===T.id);G&&(G.scale=pe(T.effScale,.3,3),G.radius=pe(T.effRadius,2,120))}const H=[...L.layers].sort((T,G)=>G.order-T.order);for(let T=1;T<H.length;T++){const G=H[T-1],B=H[T];B.offsetAngle=tl(G.petalCount,G.offsetAngle,B.petalCount)}}))},[y]),C.length<2?null:s.jsxs(dr,{title:"",children:[s.jsxs(Cs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:g=>{S(g.target.value),w(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&s.jsxs(Cs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:g=>{h(g),w(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),p.map(g=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:g.name}),s.jsxs("span",{children:[" ",g.effFabricSize,"mm /  ",Math.round(rr(g.effRadius,g.effScale,r)),"mm"]})]},g.id))]})]})}const r1="tsumami_recent_colors_v1",Hs=10;function Xm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function As(){try{const c=localStorage.getItem(r1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Hs)}}catch{}return[]}function Wm(c){try{localStorage.setItem(r1,JSON.stringify(c.slice(0,Hs)))}catch{}}function Vm(c){const r=As(),a=[c,...r.filter(i=>i!==c)].slice(0,Hs);Wm(a)}function Zn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,v]=ee.useState(!1),S=ee.useRef(null),[d,h]=ee.useState(As);ee.useEffect(()=>{if(!o)return;const p=g=>{S.current&&!S.current.contains(g.target)&&v(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[o]);const y=ee.useMemo(()=>Xm(r),[r]),w=ee.useMemo(()=>{const p=new Set;p.add(a);for(const g of y)p.add(g);for(const g of d)p.add(g);return c.filter(g=>p.has(g.id))},[c,a,y,d]),C=ee.useCallback(p=>{Vm(p),h(As()),i(p)},[i]),j=f==="sm"?"h-4 w-4":"h-5 w-5",M=o?c:w;return s.jsx("div",{ref:S,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[M.map(p=>s.jsx("button",{className:`${j} rounded border-2 ${a===p.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:p.hex},title:p.name,"aria-label":`: ${p.name}`,onClick:()=>C(p.id)},p.id)),c.length>w.length&&s.jsx("button",{className:`${j} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(p=>!p),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Jm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(i=>{const f=a.layers.every(o=>o.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(S=>S.id===a.id);if(v)for(const S of v.layers)S.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:e1.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;v.placementMode=i;const S=v.fabricSquareSize??o.fabricSquareSize;i===""?v.baseDiameter=ir(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=o.baseDiameter),Oh(v.layers,S,i,v.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Xe,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[ir(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const v=xi(i);for(const d of o.layers)d.petalCount=i,d.widthScale=v;const S=[...o.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<S.length;d++)S[d].offsetAngle=tl(S[d-1].petalCount,S[d-1].offsetAngle,S[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Xe,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(S=>S.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=ir(i));const v=[...o.layers].sort((S,d)=>S.order-d.order);P0(v,o.fabricSquareSize??f.fabricSquareSize,i);for(const S of v){const d=o.layers.find(h=>h.id===S.id);d&&(d.radius=S.radius,d.scale=S.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o&&(o.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)v.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);if(o)for(const v of o.layers)if(i.target.checked){if(!v.doublePetal){const S=v._doublePetalCache;v.doublePetal=S??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(S=>S.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(S=>S.doublePetal.innerColorId??S.colorId))],v=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:S=>r(d=>{const h=d.flowers.find(y=>y.id===a.id);if(h)for(const y of h.layers)y.doublePetal&&(y.doublePetal.innerSizeReduction=pe(S,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:S=>r(d=>{const h=d.flowers.find(y=>y.id===a.id);if(h)for(const y of h.layers)y.doublePetal&&(S===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=S)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Xh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(v=>v.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Zm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Qm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:v}){const S=a,d=[...new Set(S.flatMap(w=>w.layers.map(C=>C.petalType)))],h=d.length===1?d[0]:null,y=w=>{r(C=>{for(const j of S){const M=C.flowers.find(p=>p.id===j.id);M&&w(M)}},!0)};return s.jsxs(dr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(w=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>y(C=>{for(const j of C.layers)j.colorId=w.id})},w.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(C=>{for(const j of C.layers)j.petalType=w}),children:w},w))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xe,{min:5,max:24,value:S[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const C=xi(w);y(j=>{for(const p of j.layers)p.petalCount=w,p.widthScale=C;const M=[...j.layers].sort((p,g)=>g.order-p.order);for(let p=1;p<M.length;p++)M[p].offsetAngle=tl(M[p-1].petalCount,M[p-1].offsetAngle,M[p].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:S.map(w=>s.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id))}),(()=>{const w=S.map(g=>nl(c,g.id)),C=S.filter(g=>!nl(c,g.id)).map(g=>g.id),j=[...new Set(w.filter(Boolean).map(g=>g.id))],M=C.length===S.length,p=j.length===1&&w.every(g=>g!=null);return s.jsxs(s.Fragment,{children:[M&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(S.map(g=>g.id)),children:""}),p&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(j[0]),children:""}),j.length===1&&C.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(j[0],C),children:[" (+",C.length,")"]}),j.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(j,C),children:[" (",j.length,"",C.length>0?` +${C.length}`:"",")"]})]})})()]})}function Pm({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o,onUngroupAll:v}){const S=i.find(j=>j.id===f);if(!S)return null;const d=a,h=(c.leaves??[]).filter(j=>S.leafIds.includes(j.id)),y=[...new Set(d.flatMap(j=>j.layers.map(M=>M.petalType)))],w=y.length===1?y[0]:null,C=j=>{r(M=>{for(const p of d){const g=M.flowers.find(L=>L.id===p.id);g&&j(g)}},!0)};return s.jsxs(dr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:j=>r(M=>{const p=(M.groups??[]).find(g=>g.id===S.id);p&&(p.name=j.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&s.jsxs("span",{children:[d.length,""]}),d.length>0&&h.length>0&&s.jsx("span",{children:" + "}),h.length>0&&s.jsxs("span",{children:[h.length,""]})]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(j=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:j.hex},title:j.name,onClick:()=>C(M=>{for(const p of M.layers)p.colorId=j.id})},j.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(j=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${w===j?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>C(M=>{for(const p of M.layers)p.petalType=j}),children:j},j))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xe,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:j=>{const M=xi(j);C(p=>{for(const L of p.layers)L.petalCount=j,L.widthScale=M;const g=[...p.layers].sort((L,H)=>H.order-L.order);for(let L=1;L<g.length;L++)g[L].offsetAngle=tl(g[L-1].petalCount,g[L-1].offsetAngle,g[L].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(j=>s.jsxs("div",{children:[j.name," (",j.layers.length,")"]},j.id)),h.map(j=>s.jsx("div",{children:j.name},j.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(S.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(S.id),children:""})]})}function Fm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:o,onAddLeavesToGroup:v,onMergeGroups:S}){const d=c.flowers.filter(H=>r.includes(H.id)),h=(c.leaves??[]).filter(H=>a.includes(H.id)),y=r.map(H=>nl(c,H)),w=a.map(H=>Ml(c,H)),C=[...y,...w],j=r.filter(H=>!nl(c,H)),M=a.filter(H=>!Ml(c,H)),p=[...new Set(C.filter(Boolean).map(H=>H.id))],g=j.length+M.length===r.length+a.length,L=p.length===1&&C.every(H=>H!=null);return s.jsxs(dr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",h.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(H=>s.jsxs("div",{children:[" ",H.name]},H.id)),h.map(H=>s.jsxs("div",{children:[" ",H.name||""]},H.id))]}),s.jsxs(s.Fragment,{children:[g&&d.length+h.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),L&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(p[0]),children:""}),p.length===1&&(j.length>0||M.length>0)&&!g&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{j.length>0&&o(p[0],j),M.length>0&&v(p[0],M)},children:[" (+",j.length+M.length,")"]}),p.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>S(p,j),children:[" (",p.length,")"]})]})]})}function $m({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);if(S){S.petalCount=f,S.widthScale=xi(f);const d=[...v.layers].sort((h,y)=>y.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=tl(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Xe,{min:1,max:200,step:.5,value:Math.round(rr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.radius=pe(Rh(f,S.scale??1,v.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const v=o.flowers.find(w=>w.id===a.id);if(!v)return;const S=v.layers.find(w=>w.id===i.id);if(!S)return;const d=v.fabricSquareSize??o.fabricSquareSize;S.scale=pe(Math.round(f/d*100)/100,.3,3);const h=[...v.layers].sort((w,C)=>w.order-C.order),y=h.findIndex(w=>w.id===S.id);if(y>=0)for(let w=y-1;w>=0;w--){const C=h[w],j=h[w+1],p=kt(d).length*(j.scale??1)/3;C.radius=Math.round((j.radius+p)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);if(S)if(f.target.checked){const d=S._doublePetalCache;S.doublePetal=d??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S?.doublePetal&&(S.doublePetal.innerSizeReduction=pe(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S?.doublePetal&&(f===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const v=o.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.locked=f.target.checked)})}),""]})]})]})]})}function eb({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(g=>{const L=a.layers.find(H=>H.id===g.layerId);return{...g,layer:L}}).filter(g=>g.layer!=null),v=(g,L)=>{const H=a.layers.find(G=>G.id===g);return H?(H?.petalOverrides?.find(G=>G.index===L)??null)?.colorId??H.colorId:null},S=(g,L)=>{const H=a.layers.find(G=>G.id===g);return H?(H?.petalOverrides?.find(G=>G.index===L)??null)?.petalType??H.petalType:null},d=o.map(g=>v(g.layerId,g.index)),h=o.map(g=>S(g.layerId,g.index)),y=d.length>0&&d.every(g=>g===d[0]),C=h.length>0&&h.every(g=>g===h[0])?h[0]:null,j=g=>{r(L=>{const H=L.flowers.find(T=>T.id===a.id);if(H)for(const T of f){const G=H.layers.find(Y=>Y.id===T.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const B=G.petalOverrides.find(Y=>Y.index===T.index);if(B)g.colorId!==void 0&&(g.colorId===G.colorId?delete B.colorId:B.colorId=g.colorId),g.petalType!==void 0&&(g.petalType===G.petalType?delete B.petalType:B.petalType=g.petalType),!B.colorId&&!B.petalType&&(G.petalOverrides=G.petalOverrides.filter(Y=>Y.index!==T.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const Y={index:T.index};g.colorId!==void 0&&g.colorId!==G.colorId&&(Y.colorId=g.colorId),g.petalType!==void 0&&g.petalType!==G.petalType&&(Y.petalType=g.petalType),(Y.colorId!==void 0||Y.petalType!==void 0)&&G.petalOverrides.push(Y)}}},!0)},M=()=>{r(g=>{const L=g.flowers.find(H=>H.id===a.id);if(L)for(const H of f){const T=L.layers.find(G=>G.id===H.layerId);!T||!T.petalOverrides||(T.petalOverrides=T.petalOverrides.filter(G=>G.index!==H.index),T.petalOverrides.length===0&&(T.petalOverrides=void 0))}},!0)},p=o.some(g=>g.layer?.petalOverrides?.find(L=>L.index===g.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",p&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(g=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${y&&d[0]===g.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:g.hex},title:g.name,"aria-label":`: ${g.name}`,onClick:()=>j({colorId:g.id})},g.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${C===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>j({petalType:g}),children:g},g))})]}),p&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:M,children:""})]})]})}function tb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(w=>w.index===f)??null,v=o?.colorId??i.colorId,S=o?.petalType??i.petalType,d=o!=null,h=w=>{r(C=>{const j=C.flowers.find(g=>g.id===a.id);if(!j)return;const M=j.layers.find(g=>g.id===i.id);if(!M)return;M.petalOverrides||(M.petalOverrides=[]);const p=M.petalOverrides.find(g=>g.index===f);if(p)w.colorId!==void 0&&(p.colorId=w.colorId),w.petalType!==void 0&&(p.petalType=w.petalType),w.innerColorId!==void 0&&(p.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(p.innerSizeReduction=w.innerSizeReduction),p.colorId!==void 0||p.petalType!==void 0||p.innerColorId!==void 0||p.innerSizeReduction!==void 0?(p.colorId===void 0&&delete p.colorId,p.petalType===void 0&&delete p.petalType,p.innerColorId===void 0&&delete p.innerColorId,p.innerSizeReduction===void 0&&delete p.innerSizeReduction):(M.petalOverrides=M.petalOverrides.filter(L=>L.index!==f),M.petalOverrides.length===0&&(M.petalOverrides=void 0));else{const g={index:f};w.colorId!==void 0&&(g.colorId=w.colorId),w.petalType!==void 0&&(g.petalType=w.petalType),w.innerColorId!==void 0&&(g.innerColorId=w.innerColorId),w.innerSizeReduction!==void 0&&(g.innerSizeReduction=w.innerSizeReduction),(g.colorId!==void 0||g.petalType!==void 0||g.innerColorId!==void 0||g.innerSizeReduction!==void 0)&&M.petalOverrides.push(g)}},!0)},y=()=>{r(w=>{const C=w.flowers.find(M=>M.id===a.id);if(!C)return;const j=C.layers.find(M=>M.id===i.id);!j||!j.petalOverrides||(j.petalOverrides=j.petalOverrides.filter(M=>M.index!==f),j.petalOverrides.length===0&&(j.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v,onChange:w=>{w===i.colorId?h({colorId:void 0}):h({colorId:w})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{w===i.petalType?h({petalType:void 0}):h({petalType:w})},children:w},w))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:w=>r(C=>{const j=C.flowers.find(p=>p.id===a.id);if(!j)return;const M=j.layers.find(p=>p.id===i.id);if(M)if(w.target.checked){const p=M._doublePetalCache;M.doublePetal=p??{innerSizeReduction:2},delete M._doublePetalCache}else M.doublePetal&&(M._doublePetalCache={...M.doublePetal}),delete M.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const w=i.doublePetal,C=o?.innerSizeReduction??w.innerSizeReduction,j=o?.innerColorId??w.innerColorId??v;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Xe,{min:1,max:30,step:1,value:C,onChange:M=>{const p=pe(M,1,30);p===w.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:p})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:j,size:"sm",onChange:M=>{const p=w.innerColorId??i.colorId;h(M===p?{innerColorId:void 0}:{innerColorId:M})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:y,children:""})]})]})}function nb({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=v=>{r(S=>{const d=(S.stencils??[]).find(h=>h.id===f.id);d&&Object.assign(d,v)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>o({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>s.jsx("option",{value:v,children:a1[v]},v))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>o({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>s.jsx("option",{value:v,children:i1[v]},v))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>o({locked:v.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function lb({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:v}){const S=a,d=y=>{r(w=>{const C=(w.leaves??[]).find(j=>j.id===S.id);C&&y(C)},!0)},h=Ml(c,S.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:y=>d(w=>{w.name=y.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(w=>{w.petalType=y}),children:y},y))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:S.colorId,onChange:y=>d(w=>{w.colorId=y})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Xe,{min:3,max:80,step:.5,value:Math.round((S.fabricSquareSize??c.fabricSquareSize)*(S.scale??1)*10)/10,onChange:y=>d(w=>{const C=w.fabricSquareSize??c.fabricSquareSize;w.scale=pe(Math.round(y/C*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:.4,max:2.5,step:.05,value:Number(S.scale??1).toFixed(2),onChange:y=>d(w=>{w.scale=y})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xe,{min:.5,max:1.8,step:.05,value:Number(S.widthScale??1).toFixed(2),onChange:y=>d(w=>{w.widthScale=y})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Xe,{value:Number(S.rotation).toFixed(1),onChange:y=>d(w=>{w.rotation=y})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.doublePetal,onChange:y=>d(w=>{if(y.target.checked){const C=w._doublePetalCache;w.doublePetal=C??{innerSizeReduction:2},delete w._doublePetalCache}else w.doublePetal&&(w._doublePetalCache={...w.doublePetal}),delete w.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),S.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{min:1,max:30,step:1,value:S.doublePetal.innerSizeReduction,onChange:y=>d(w=>{w.doublePetal&&(w.doublePetal.innerSizeReduction=pe(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:S.doublePetal.innerColorId??S.colorId,onChange:y=>d(w=>{w.doublePetal&&(y===w.colorId?delete w.doublePetal.innerColorId:w.doublePetal.innerColorId=y)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.visible,onChange:y=>d(w=>{w.visible=y.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.locked,onChange:y=>d(w=>{w.locked=y.target.checked})}),""]})]}),h?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(S.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:y=>{y.target.value&&o(S.id,y.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(S.id),children:""})]})]})}function ab({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:o,onMergeLeafGroups:v}){const S=(c.leaves??[]).filter(d=>a.includes(d.id));return S.length===0?null:s.jsxs(dr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>r(h=>{for(const y of a){const w=(h.leaves??[]).find(C=>C.id===y);w&&(w.colorId=d)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(d=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(h=>{for(const y of a){const w=(h.leaves??[]).find(C=>C.id===y);w&&(w.petalType=d)}},!0),children:d},d))}),(()=>{const d=S.map(j=>Ml(c,j.id)),h=S.filter(j=>!Ml(c,j.id)).map(j=>j.id),y=[...new Set(d.filter(Boolean).map(j=>j.id))],w=h.length===S.length,C=y.length===1&&d.every(j=>j!=null);return s.jsxs(s.Fragment,{children:[w&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),C&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(y[0]),children:""}),y.length===1&&h.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(y[0],h),children:[" (+",h.length,")"]}),y.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(y,h),children:[" (",y.length,"",h.length>0?` +${h.length}`:"",")"]})]})})()]})}function ib(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:v,selectedPetalIndex:S,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto md:flex-1 md:min-h-0 overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(y=>y.title=h.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(y=>y.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Xe,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(y=>y.baseDiameter=h),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",aa(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",aa(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(y=>y.notes=h.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Jm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(Qm,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Pm,{project:r,applyUpdate:i,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&s.jsx($m,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&d.length>0&&s.jsx(eb,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&v&&S!==null&&s.jsx(tb,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v,selectedPetalIndex:S}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(nb,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(lb,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(ab,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(Fm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function rb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?aa(c.baseDiameter,c.fabricSquareSize,r).diameter:ur(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function cb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?kh(c.flowerDiameter,c.baseDiameter,r):Bh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function ub({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=d=>{a(h=>{const y={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(y.baseDiameter=30,y.fabricSquareSize=20,y.layerCount=4,y.petalCount=12):(y.fabricSquareSize=20,y.layerCount=1,y.petalCount=6)),y.flowerDiameter=rb(y),y})},v=d=>{a(h=>{const y={...h,flowerDiameter:d};return y.fabricSquareSize=cb(y),y})},S=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&S.push("");const d=Ih(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&S.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:e1.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>o({layerCount:d})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:v})]})]}),S.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:S.map((d,h)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function sb(c){return Math.round(c*Math.SQRT2/2*10)/10}function ob(c){return Math.round(c*Math.SQRT2*10)/10}function xb({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const o=S=>{a(d=>({...d,fabricSquareSize:S,leafSizeMm:sb(S)}))},v=S=>{a(d=>({...d,leafSizeMm:S,fabricSquareSize:ob(S)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:S=>S.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:o})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Xe,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:v})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===S.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>a(d=>({...d,colorId:S.id}))},S.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(S=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:S})),children:S},S))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}(function(c,r){const a=Zt,i=c();for(;;)try{if(-parseInt(a(364))/1*(-parseInt(a(332))/2)+-parseInt(a(336))/3+-parseInt(a(354))/4*(-parseInt(a(371))/5)+-parseInt(a(360))/6+parseInt(a(343))/7*(parseInt(a(338))/8)+parseInt(a(367))/9*(parseInt(a(349))/10)+-parseInt(a(368))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,136140);const fb=(function(){const c={MvmZs:function(a,i){return a!==i}};let r=!0;return function(a,i){const f=r?function(){const o=Zt;if(i)if(c[o(384)]("EKFXX",o(359))){const v=i.apply(a,arguments);return i=null,v}else return()=>{const v=o;_0x25acd3[v(370)]?.()}}:function(){};return r=!1,f}})(),Es=fb(void 0,function(){const c=Zt;return Es[c(329)]().search("(((.+)+)+)+$")[c(329)]().constructor(Es).search(c(376))});Es();const c1="tsumami-panel-widths",u1={left:25,right:25},Ts=15,Ls=15,xr=30;function db(){const c=Zt,r={slbzj:c(339),vkyFJ:function(a,i){return a-i},mkoNw:function(a,i){return a-i},qcyfS:"TuNgF"};try{if(c(374)!=="ywXVg")_0x2467c4.current?.();else{const a=localStorage[c(383)](c1);if(a){const i=JSON.parse(a);if(typeof i[c(356)]===r[c(334)]&&typeof i.right===c(339)&&i.left>=Ts&&i[c(377)]>=Ls&&r[c(345)](r.mkoNw(100,i.left),i[c(377)])>=xr){if(r[c(389)]===c(358))return i;_0x545403.setItem(_0x2967e7,_0x13cdb3.stringify(_0x4aa8bb))}}}}catch{}return u1}function Zt(c,r){c=c-325;const a=Z0();let i=a[c];if(Zt.LWyEdm===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Zt.YhBksX=f,Zt.xeCgkw={},Zt.LWyEdm=!0}const o=a[0],v=c+o,S=Zt.xeCgkw[v];if(S)i=S;else{const d=function(h){this.maACBH=h,this.ePVihc=[1,0,0],this.azGmYf=function(){return"newState"},this.iyGDQD="\\w+ *\\(\\) *{\\w+ *",this.wVBaPK=`['|"].+['|"];? *}`};d.prototype.LxrpgZ=function(){const h=new RegExp(this.iyGDQD+this.wVBaPK),y=h.test(this.azGmYf.toString())?--this.ePVihc[1]:--this.ePVihc[0];return this.qkAvvz(y)},d.prototype.qkAvvz=function(h){return~h?this.xVLsuR(this.maACBH):h},d.prototype.xVLsuR=function(h){for(let y=0,w=this.ePVihc.length;y<w;y++)this.ePVihc.push(Math.round(Math.random())),w=this.ePVihc.length;return h(this.ePVihc[0])},new d(Zt).LxrpgZ(),i=Zt.YhBksX(i),Zt.xeCgkw[v]=i}return i}function Jd(c,r){const a=Zt,i={rtpZI:function(S,d){return S-d},DLhhz:function(S,d){return S/d}};let f=Math[a(363)](Ts,c),o=Math[a(363)](Ls,r);const v=i.rtpZI(i.rtpZI(100,f),o);if(v<xr){const S=i.rtpZI(xr,v);f-=i[a(357)](S,2),o-=S/2,f=Math.max(Ts,f),o=Math[a(363)](Ls,o)}return{left:i.DLhhz(Math[a(342)](f*100),100),right:Math[a(342)](o*100)/100}}function Z0(){const c=["CMLNAhq","qMT5vvC","DxnLCLnLBgvJDa","D2LKDgG","t052DeC","ENz2EMK","z2v0sxrLBq","txzTwNm","vxncDe4","yM1ND3C","BM9Uzq","yM9KEq","Cwn5zLm","y2HHBMDL","ChjLDMvUDerLzMf1Bhq","yKv5wuG","D3Hgu2u","Dg9tDhjPBMC","yKrevLq","nhWWFdf8mNW1Fdm","mK9qA3HADa","Cxz5qNG","C2XIEMO","Bwf0y2HnzwrPyq","otyXntbzq3rNywS","AgjqseC","otm2oeDgrhvxtq","BNvTyMvY","C3bSAxq","tMPqEei","CM91BMq","mta5ovfAv1j2rG","BwLU","DMT5rKO","y29SlxjLC2L6zq","AvzOsxK","C3r5Bgu","otmYmdKWz3zNturu","Bwf0y2HLCW","Cg9PBNrLCM1VDMu","kg1PBI13Awr0AdOGnZy4ChGP","Cg9PBNrLCNvW","nJa0vhnTEfvR","suLdte8","BgvMDa","reXOAhO","vhvoz0y","wvPPz20","mtq1mJqXnevnBevQqW","C3rHCNrxAwr0Ahm","vLj6rg0","Bwf4","mtiYndK3CMvvuLHp","C2v0sxrLBq","De9mtvm","mtHusLPRtxi","mtyWmde3mhrmBKHWtq","zxDbtK0","y3vYCMvUDa","mJa4nw1kDhPysa","CMvTB3zLrxzLBNrmAxn0zw5LCG","q1fcvgu","ExDyvMC","qLDZwLG","kcGOlISPkYKRksSK"];return Z0=function(){return c},Z0()}function hb(){const c=Zt,r={bEyYH:function(M,p){return M(p)},CQBTe:c(353),bmgww:c(378),NjPxB:function(M,p){return M*p},nLFxE:function(M,p){return M===p},UsBtN:c(356),qvyBx:function(M,p,g){return M(p,g)},DYQZr:"0|1|3|4|2|5",QQSGz:c(331),QUXGH:c(387),bzvlF:c(351),gbMIJ:function(M,p,g){return M(p,g)},xutsb:function(M,p,g){return M(p,g)},ewANM:function(M,p,g){return M(p,g)}},[a,i]=ee.useState(db),f=ee.useRef(null),o=ee.useRef(null),[v,S]=ee.useState(!1),[d,h]=ee.useState(()=>typeof window<"u"?window.matchMedia("(min-width: 768px)")[c(350)]:!0);r[c(333)](ee.useEffect,()=>{const M=c,p=window[M(335)](M(352)),g=L=>h(L.matches);return p.addEventListener(M(325),g),()=>p[M(372)]("change",g)},[]),ee.useEffect(()=>{const M=c;r[M(386)]==="paOIb"?(_0x36dd11[M(370)]=null,r.bEyYH(_0x57841d,!1),_0x3acdeb[M(388)][M(348)].cursor="",_0x570470[M(388)][M(348)].userSelect="",_0x4897f2.removeEventListener("pointermove",_0x5e5b65),_0x28f739.removeEventListener(r[M(373)],_0x1c4ad7)):localStorage[M(365)](c1,JSON.stringify(a))},[a]);const y=r[c(327)](ee.useRef,a);r.gbMIJ(ee.useEffect,()=>{y.current=a},[a]);const w=r.xutsb(ee.useCallback,(M,p)=>{const g=c,L={wxFSe:function(B,Y){return B-Y},HaLiw:function(B,Y){return r[Zt(341)](B,Y)},NzsEW:function(B,Y){return B/Y},BWsZX:function(B,Y){return r.nLFxE(B,Y)},iVhIy:r[g(385)],ONvtG:function(B,Y){return B+Y},IICLO:function(B,Y,k){return r.qvyBx(B,Y,k)},VRzDm:function(B,Y,k){return r[g(333)](B,Y,k)},tOLMS:r.DYQZr,zvvzi:function(B,Y){return r.bEyYH(B,Y)},cfXUz:"pointerup",bDDVT:r.QQSGz,hbPHG:"pointermove"};p[g(326)]();const H=f[g(370)];if(!H)return;o[g(370)]={side:M,startX:p.clientX,startWidths:{...y[g(370)]}},S(!0),document[g(388)][g(348)].cursor=g(346),document[g(388)][g(348)][g(379)]=r.QUXGH;const T=B=>{const Y=g,k=o[Y(370)];if(!k)return;const K=H.getBoundingClientRect()[Y(380)];if(K===0)return;const P=L.wxFSe(B.clientX,k.startX),W=L.HaLiw(L.NzsEW(P,K),100);if(L[Y(375)](k.side,L[Y(347)])){const J=L[Y(381)](k[Y(361)].left,W),R=L[Y(328)](100-k[Y(361)][Y(377)],xr);i(L[Y(355)](Jd,Math[Y(344)](J,R),k.startWidths.right))}else{const J=L[Y(328)](k.startWidths[Y(377)],W),R=100-k.startWidths[Y(356)]-xr;i(L[Y(362)](Jd,k.startWidths.left,Math[Y(344)](J,R)))}},G=()=>{const B=g,Y=L[B(366)][B(340)]("|");let k=0;for(;;){switch(Y[k++]){case"0":o[B(370)]=null;continue;case"1":L[B(382)](S,!1);continue;case"2":window.removeEventListener("pointermove",T);continue;case"3":document[B(388)][B(348)].cursor="";continue;case"4":document[B(388)][B(348)][B(379)]="";continue;case"5":window.removeEventListener(L.cfXUz,G);continue}break}};window.addEventListener(r.bzvlF,T),window.addEventListener("pointerup",G),C[g(370)]=()=>{const B=g,Y=L[B(330)].split("|");let k=0;for(;;){switch(Y[k++]){case"0":window[B(372)](B(353),G);continue;case"1":o[B(370)]=null;continue;case"2":L.zvvzi(S,!1);continue;case"3":document.body[B(348)].userSelect="";continue;case"4":window.removeEventListener(L[B(337)],T);continue;case"5":document[B(388)].style.cursor="";continue}break}}},[]),C=ee.useRef(null);ee.useEffect(()=>()=>{C[Zt(370)]?.()},[]);const j=r[c(369)](ee.useCallback,()=>{i(u1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:w,onDividerDoubleClick:j,isDragging:v,isDesktop:d}}function Qd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=_t,i=c();for(;;)try{if(parseInt(a(347))/1+-parseInt(a(397))/2+-parseInt(a(428))/3+parseInt(a(393))/4*(-parseInt(a(301))/5)+-parseInt(a(356))/6*(-parseInt(a(367))/7)+parseInt(a(279))/8+-parseInt(a(297))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,596977);const mb=(function(){let c=!0;return function(r,a){const i={EjHDQ:function(o,v){return o===v}},f=c?function(){const o=_t;if(i[o(439)](o(398),o(382)))_0xc74f6f[o(435)][o(405)](_0x157f0b)||_0x25e172.flowerIds[o(280)](_0x4bc152);else if(a){const v=a.apply(r,arguments);return a=null,v}}:function(){};return c=!1,f}})(),Bs=mb(void 0,function(){const c=_t,r={epxHy:"(((.+)+)+)+$"};return Bs.toString()[c(376)](c(362))[c(317)]()[c(355)](Bs).search(r.epxHy)});function X0(){const c=["v1H3v3G","vufWzvK","Aw5JBhvKzxm","B2zMC2v0qw5NBgu","ugLMEe8","B3jKzxi","Bgf5zxi","wgzpELe","C2jKq0u","z3jVDxbZ","zwDzweS","rLzxCfu","B0rjAhK","Bw9jv2y","zMfICMLJu3f1yxjLu2L6zq","BgvHDMvZ","zxzLCNK","vwfIveK","Bwf0y2G","yMfZzurPyw1LDgvY","rwzQCwq","C2nHBgu","sefTAxy","u2r3r0q","vw9HthG","mtq4otG4mwjytxrjta","Dw5PzM9YBq","A3nuCNe","AMn5AxK","qKPXs3m","BNPNC0e","yunyAxy","zMXVD2vYswrZ","sMHpzw4","ywjZ","zhbzt2S","rwPirfe","BgvHzG","rfPyEwG","zM9YrwfJAa","DeT1DeO","ChjLDMLVDxnhCM91Chm","ExfdsKC","qNfsq2i","vxH3ve0","v2PxAMi","yK16uLO","AgvPz2H0","AvDwsvK","BgvHzKLKCW","s0PMAvG","uwThuNy","qNbWy2C","CgTsz1G","C3rLBMnPBeLK","uxvfsKW","BNjLuhC","Dw5ZAgLMDa","z3jVDxa","CM90yxrPB24","rfvdBxK","z1zMuu8","vNbOsvi","wgHmvvK","AgXJwgm","D3LMrey","C2jurKS","sur6yKG","zxbNwM4","vKTov0q","zMXVD2vYswq","qM9Uvuy","uKvTtNi","C216yKe","ode2odm2ohLOz3fmEa","ChvZAa","vhfWBwq","qNnqqM4","zxfeuvO","uxf3rKS","CKnLywW","zMXVD2vYCW","Aw5KzxG","s0vJENa","ALrNq0q","tfL4A2W","Cgv0ywXdB3vUDa","t1bZtey","Bxv5tLO","BwL4zwq","CNvUCwS","Bwf4","nJyYodG1mvPvzfHVtW","C2XPy2u","Bgf5","zLjOy0W","mJKZnvfhBLHjzq","BfD2rwS","tvHxsLG","zu5QCfy","C3rLBMnPBa","Cerfz0K","q1L3sfq","t05lCM4","AgfZ","uePsCfa","rhPNzKO","zfDtyve","C2HUtgK","zMHty2S","Cefise8","5lI444gK44g+44g/","Dg9tDhjPBMC","shL0vKS","t29Ky2m","rxHpALe","yMfJAW","t2H5z1q","z3vpCKu","qLruquq","BgvHzKLK","rKDmv0O","zwzIz2O","EKHxtLO","sxvTB20","wvb0D0K","C3rLBMnPBhm","Cgv0ywXZ","qMfdzu8","r3fNAxi","sfHXyxy","yLnvChq","swnjqMC","uLrNyvm","ChjVAMvJDa","whnvv3q","Dxfiy2y","wMTUzKi","sw1Uvue","rMDiz0i","Cg9nqxC","CM91BMq","mte0odGXnMr5wM1uuG","CMv2zxjZzq","quHfs2e","DeD0Avi","zMXVD2vYrgLHBwv0zxi","BgH3zfC","A2LUza","B2jUEwW","y29UC3rYDwn0B3i","mtH0v3n1rfa","CMfKAxvZ","zw9xBwm","Aw5XCKu","C05ht2G","zMLUza","kcGOlISPkYKRksSK","zgLHBwv0zxi","Cgv0ywW","Eg9tzhi","C29YDa","mJi5odeYmu5KDhjYEq","Bgf5zxjZ","BMfTzq","zhr1vhu","suzLCLi","CgfSzxr0zq","t2vVyve","sw5lruu","sgDQvKW","C2vHCMnO","Cgv0ywXuExbL","zMLSDgvY","v2HXCKe","y29SB3jjza","EgzxAw4","CMXkBLm","Bgf5zxjjza","ANP2vfC","CKTUtg0","zfPbDLC","sevhq1u","AMzUCNm","tvn5rwO","tuLPAgm","r0rYB2i","BgvUz3rO","ntmWofvouuDABa","we9MreC","CgXHy2vTzw50tw9Kzq","y29Sx2DYzwvU","mta5mtm1ohnVwLPHzW","wKzjA3K","BwfW","44kW44oR44o844oxia","ruDqDuK","zMXVD2vY"];return X0=function(){return c},X0()}Bs();function _t(c,r){c=c-254;const a=X0();let i=a[c];if(_t.mQbpML===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};_t.mgrCDo=f,_t.gyWDLB={},_t.mQbpML=!0}const o=a[0],v=c+o,S=_t.gyWDLB[v];if(S)i=S;else{const d=function(h){this.xmpelL=h,this.lCpDPB=[1,0,0],this.ojRpxP=function(){return"newState"},this.ximrEK="\\w+ *\\(\\) *{\\w+ *",this.lbzGys=`['|"].+['|"];? *}`};d.prototype.tPjHQq=function(){const h=new RegExp(this.ximrEK+this.lbzGys),y=h.test(this.ojRpxP.toString())?--this.lCpDPB[1]:--this.lCpDPB[0];return this.VFrQNH(y)},d.prototype.VFrQNH=function(h){return~h?this.EsVczq(this.xmpelL):h},d.prototype.EsVczq=function(h){for(let y=0,w=this.lCpDPB.length;y<w;y++)this.lCpDPB.push(Math.round(Math.random())),w=this.lCpDPB.length;return h(this.lCpDPB[0])},new d(_t).tPjHQq(),i=_t.mgrCDo(i),_t.gyWDLB[v]=i}return i}function bb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:v,pan:S,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:y}){const w=_t,C={moIWf:function(b,m){return b(m)},dtuTu:"kZwuF",smzbA:function(b,m){return b*m},ExOjQ:function(b,m){return b+m},WXwWx:function(b,m){return b-m},lhwdW:function(b,m){return b/m},PFPfy:function(b,m){return b/m},BJqKs:function(b,m){return b(m)},Oodcc:function(b,m){return b||m},efbgj:function(b,m){return b(m)},ONKrn:function(b,m){return b<=m},Bppcg:function(b,m){return b!==m},snBLs:w(371),HEGCU:function(b,m){return b(m)},DZXyh:function(b,m,A){return b(m,A)},PJRpP:function(b,m){return b===m},KEczp:"flower",eoWmc:function(b,m,A,I,q){return b(m,A,I,q)},uqHcf:"uniform",epgZn:function(b,m,A,I){return b(m,A,I)},oTnoM:function(b,m){return b<m},jTgCD:function(b,m){return b>=m},rKnLm:function(b,m){return b-m},pkRgX:function(b,m){return b>m},PWXlZ:function(b,m){return b-m},dpYOk:function(b,m){return b+m},HXqav:function(b,m){return b(m)},BTTAD:w(299),fhSck:w(316),jfnrs:w(396),FgHgB:function(b,m,A,I){return b(m,A,I)},MSyEj:function(b,m){return b===m},FVWpU:function(b,m){return b===m},yqCJG:"layer",OeoaQ:w(364),JhOen:function(b,m){return b(m)},nrePw:function(b,m,A,I){return b(m,A,I)},MIihc:function(b,m){return b-m},bSUpt:w(440),wyfDF:function(b,m){return b===m},GDrob:w(268),FGLWJ:w(339),IDzbH:"mixed",runqk:function(b,m){return b(m)},BsPBn:function(b,m){return b===m},ksTrq:function(b,m,A){return b(m,A)},WhqrA:w(305),tKutJ:"petals",QqwFK:function(b,m){return b===m},MXWJX:"gyfwH",TBPxo:function(b,m){return b(m)},sbdCE:function(b,m){return b(m)},BqRCb:function(b,m){return b(m)},rCeal:"grp",XsUWt:function(b,m){return b(m)},YYpJY:function(b,m,A){return b(m,A)},VKNWD:function(b,m,A){return b(m,A)},NlFLG:function(b,m){return b===m},BonUF:w(283),XOfDG:"fCQmE",jzvTW:function(b,m){return b(m)},Gqgir:"izpNp",SdwGD:function(b,m){return b>m},HWvgJ:w(407),UApeY:function(b,m){return b(m)},bMzRZ:function(b,m){return b+m},inqrE:w(321),Iumom:"side",nzgsA:function(b,m){return b/m},HytVK:function(b,m,A){return b(m,A)},cyMDS:function(b,m){return b(m)},BYmRA:function(b,m){return b!==m},aCXiv:"DzgfJ",zHWNZ:function(b,m){return b(m)},XfOzQ:function(b,m){return b-m},KJfiX:function(b,m,A,I){return b(m,A,I)},WjWjb:"flowers",FUjMg:function(b,m){return b===m},sbTFK:function(b,m){return b===m},HgjVL:function(b,m){return b===m},SHPDa:function(b,m){return b===m},iWVIY:w(263),KGaGz:w(300),OPsLF:function(b,m){return b(m)},xKvRT:function(b,m){return b>m},KueCw:function(b,m){return b(m)},xfWin:"JFhcJ",OhygT:w(418),BaCeO:function(b,m){return b===m},faqRG:function(b,m){return b(m)},egYXK:function(b,m){return b===m},pAHHO:function(b,m){return b===m},CdrYz:function(b,m){return b===m},PWscp:function(b,m){return b===m},QkGRv:function(b,m,A){return b(m,A)},ZknfB:function(b,m,A){return b(m,A)},UabTI:function(b,m,A){return b(m,A)},VLpSi:function(b,m,A){return b(m,A)}},j=b=>{const m=w,A=[...b[m(368)]][m(366)]((O,Z)=>O[m(408)]-Z.order),I=A[0];if(!I)return 28;const q=b.fabricSquareSize??c[m(417)],{length:D}=C.moIWf(kt,q),_=D*(I[m(424)]??1);let N;if(b.placementMode==="")C[m(370)]!==m(265)?N=_/3:_0x8ea876.leafIds[m(405)](_0x2fdb74)||_0xbbc3de.leafIds.push(_0x2b1fc6);else{const Z=C[m(278)](70,Math.PI)/180,F=C.ExOjQ(A[m(392)],1),le=C.WXwWx(F,1),re=F>1?C[m(278)](C[m(352)](le,C[m(403)](F,1)),Z):0;N=_*C.PFPfy(30,100)*Math.cos(re)}return Math.round(C.smzbA((I.radius??28)+N,10))/10},M=b=>{const m=w,A={rTsTx:function(I,q){return C[_t(319)](I,q)}};r(I=>{const q=_t,D={tvBGA:function(_,N){return C[_t(432)](_,N)}};if(I.flowers=(I.flowers||[]).filter(_=>_.id!==b),I[q(412)])if(q(293)!=="muyNZ"){const _=(_0x5cadce.groups??[]).find(N=>N.id===_0x4bd351);if(!_)return;_.previousGroups=[D.tvBGA(_0x26d38f,_)];for(const N of _0x39c9ad)_.flowerIds.includes(N)||_.flowerIds[q(280)](N)}else{for(const _ of I.groups)_[q(435)]=_.flowerIds.filter(N=>N!==b);I[q(412)]=I.groups[q(378)](_=>_.flowerIds[q(392)]+_.leafIds.length>0)}},!0),i({kind:m(339)}),C[m(432)](f,I=>{const q={...A.rTsTx(I,{})};return delete q[b],q})},p=(b,m)=>{const A=w,I={guOrE:function(D,_){return C[_t(327)](D,_)}},q=c[A(286)][A(361)](D=>D.id===b);if(q&&C.ONKrn((q[A(368)]||[])[A(392)],1))if(C[A(257)]("HeFBS",C.snBLs)){C.HEGCU(M,b);return}else{I[A(323)](_0x5b7d90,_0x4ead28);return}C[A(441)](r,D=>{const _=A,N=(D[_(286)]||[])[_(361)](O=>O.id===b);N&&(N[_(368)]=(N.layers||[]).filter(O=>O.id!==m),N.layers.slice()[_(366)]((O,Z)=>O[_(408)]-Z.order).forEach((O,Z)=>O[_(408)]=Z+1))},!0),C.moIWf(i,{kind:"flower",flowerId:b})},g=b=>{const m=w,A={GoKzb:function(se,ce){return se===ce},dWSaQ:"mixed",HAmiv:function(se,ce){return C.PJRpP(se,ce)},imCez:C.KEczp,FupVP:function(se,ce){return se(ce)},CYwHT:function(se,ce){return C[_t(257)](se,ce)},PeRNI:function(se,ce,me,de,Me){return C[_t(358)](se,ce,me,de,Me)},jcyiy:C[m(341)],UoaLx:function(se,ce,me,de){return C.epgZn(se,ce,me,de)},YPtwI:function(se,ce){return se<ce},DNXRz:function(se,ce,me,de){return se(ce,me,de)}},I=c[m(286)][m(361)](se=>se.id===b);if(!I)return;const q=[...I[m(368)]][m(366)]((se,ce)=>se[m(408)]-ce.order),D=q[0],_=C[m(273)](pe,D?.[m(291)]??6,5,24),N=q[m(399)](se=>se[m(424)]??1),O=C.oTnoM(N[m(392)],2)||N[m(419)](se=>Math[m(437)](se-N[0])<.001);let Z=D?.scale??1;if(!O&&C[m(289)](q[m(392)],2)){const se=q[C.rKnLm(q[m(392)],1)],ce=(se.order??1)-(D.order??1);if(C[m(258)](ce,0)){const me=C.PWXlZ(D[m(424)]??1,se.scale??1)/ce;Z=pe(C.ExOjQ(D.scale??1,me),.3,3)}}const F=j(I),le=C[m(438)](I.layers.length,1),re={id:C.HXqav(Bt,C[m(324)]),name:"Layer "+le,order:1,petalType:D?.[m(377)]??C[m(314)],petalCount:_,radius:F,scale:Z,widthScale:C.HXqav(xi,_),offsetAngle:D?.offsetAngle??0,colorId:D?.[m(380)]??c[m(372)]?.[0]?.id??C[m(388)],visible:!0,locked:!1};D&&(re[m(406)]=tl(D[m(291)],D.offsetAngle??0,_)),C.DZXyh(r,se=>{const ce=m;if(A[ce(307)](ce(447),"UgCiS")){const me=se.flowers[ce(361)](Re=>Re.id===b);if(!me)return;me.layers[ce(442)](Re=>Re[ce(408)]+=1),me.layers[ce(262)](re);const de=Math[ce(346)](rr(re.radius,re[ce(424)],me[ce(417)]??se[ce(417)])),Me=me.fabricSquareSize??se[ce(417)],nt=A[ce(425)](me[ce(395)],"")?A.PeRNI(ur,Me,me.layers[ce(392)],A[ce(431)],0):A[ce(427)](aa,me[ce(422)]??se[ce(422)],Me,{layerCount:me[ce(368)][ce(392)]})[ce(363)];me[ce(351)]=Math[ce(296)](me[ce(351)]||nt,de);const Ue=[...me[ce(368)]].sort((Re,mt)=>Re[ce(408)]-mt[ce(408)]),Ze=Ue[ce(348)]();for(let Re=1;A[ce(330)](Re,Ze.length);Re++){const mt=Ze[Re-1],dt=Ze[Re];dt[ce(406)]=A.DNXRz(tl,mt.petalCount,mt[ce(406)],dt.petalCount)}}else{const me=_0x2e9727.flowerId;if(A.GoKzb(me,_0x683635))return;const de=(_0x5d9d42.groups??[])[ce(361)](Re=>Re.flowerIds.includes(me)),Me=de?de[ce(435)]:[me],nt=de?de[ce(254)]:[],Ue=[...new _0x4a4ed2([...Me,..._0x287f75])],Ze=[...new _0x550cbd([...nt,..._0x25dd35])];Ze.length>0?_0x42d23b({kind:A[ce(312)],flowerIds:Ue,leafIds:Ze}):A[ce(425)](Ue[ce(392)],1)?_0x4b9970({kind:A.imCez,flowerId:Ue[0]}):A.FupVP(_0x558f95,{kind:ce(286),flowerIds:Ue})}},!0),C[m(416)](i,{kind:m(409),flowerId:b,layerId:re.id}),C[m(387)](f,se=>({...se,[b]:!0}))},L=b=>{const m=w,A={TAncm:function(_,N,O){return C.DZXyh(_,N,O)},Tqpmd:function(_,N,O,Z){return C.FgHgB(_,N,O,Z)},obnyl:function(_,N){return C.WXwWx(_,N)}},I=c.flowers.find(_=>_.id===b);if(!I||!I.layers||C[m(389)](I[m(368)].length,0))return;if(C[m(308)](I.layers[m(392)],1)){M(b);return}const q=[...I[m(368)]][m(366)]((_,N)=>_.order-N[m(408)]),D=q[0];D&&(r(_=>{const N=m,O=_.flowers.find(le=>le.id===b);if(!O)return;O[N(368)]=O.layers[N(378)](le=>le.id!==D.id),O.layers[N(298)]().sort((le,re)=>le.order-re.order).forEach((le,re)=>le[N(408)]=re+1);const Z=[...O[N(368)]].sort((le,re)=>le.order-re.order),F=O.fabricSquareSize??_[N(417)];if(Z[N(392)]>0){A.TAncm(gs,Z,F);for(const se of Z){const ce=O.layers.find(me=>me.id===se.id);ce&&(ce[N(357)]=se[N(357)])}const le=Z[0];O.flowerDiameter=Math.round(A[N(281)](rr,le[N(357)],le[N(424)]??1,F));const re=[...Z][N(348)]();for(let se=1;se<re[N(392)];se++){const ce=re[A[N(354)](se,1)],me=re[se];me[N(406)]=tl(ce.petalCount,ce.offsetAngle,me[N(291)])}}},!0),C.FVWpU(a[m(353)],C[m(445)])&&a[m(383)]===D.id?i({kind:"flower",flowerId:b}):a[m(353)]===C[m(373)]&&a[m(383)]===D.id&&i({kind:C.KEczp,flowerId:b}))},H=()=>{const b=w,m={sNGOh:function(A,I){return A!==I},bxSzY:b(306),eNjpV:function(A,I){return C.MSyEj(A,I)},dZAvW:b(339),ljFjY:function(A,I){return A!==I},tGtiR:b(269),cUniO:function(A,I,q){return A(I,q)},InKEE:function(A,I,q,D){return C[b(261)](A,I,q,D)},VphIR:b(429),Lhsjw:function(A,I){return A<I},AHEKa:function(A,I){return C[b(390)](A,I)}};if(a.kind!=="project"){if(C[b(414)](a[b(353)],C[b(336)])){C.HEGCU(y,a.leafId);return}if(C[b(270)](a[b(353)],b(418)))if(C[b(391)]!==C[b(391)])_0x416bce({kind:"flower",flowerId:_0x5cb733[0]});else{const A=a[b(254)];r(I=>{const q=b;if(I[q(418)]=(I[q(418)]??[]).filter(D=>!A[q(405)](D.id)),I[q(412)]){for(const D of I[q(412)])D.leafIds=D[q(254)].filter(_=>!A[q(405)](_));I.groups=I.groups.filter(D=>D.flowerIds[q(392)]+D.leafIds[q(392)]>0)}},!0),C[b(387)](i,{kind:C.FGLWJ});return}if(a.kind===C[b(272)]){const{flowerIds:A,leafIds:I}=a;C[b(441)](r,q=>{const D=b;if(q.flowers=q.flowers[D(378)](_=>!A[D(405)](_.id)),q[D(418)]=(q.leaves??[])[D(378)](_=>!I[D(405)](_.id)),q[D(412)])if(m[D(360)]("LyGQc",m.bxSzY)){for(const _ of q.groups)_[D(435)]=_.flowerIds[D(378)](N=>!A[D(405)](N)),_[D(254)]=_[D(254)][D(378)](N=>!I.includes(N));q[D(412)]=q.groups[D(378)](_=>_[D(435)].length+_[D(254)].length>0)}else _0x4909a8({kind:"flower",flowerId:_0x3717a5})},!0),C[b(295)](i,{kind:b(339)});return}if(C[b(282)](a[b(353)],"flowers")){const A=a.flowerIds;C[b(430)](r,I=>{const q=b;if(I[q(286)]=I.flowers.filter(D=>!A.includes(D.id)),I[q(412)]){for(const D of I.groups)D[q(435)]=D.flowerIds.filter(_=>!A.includes(_));I[q(412)]=I[q(412)][q(378)](D=>D[q(435)][q(392)]+D.leafIds[q(392)]>0)}},!0),i({kind:C[b(326)]});return}if(a[b(353)]==="group"){r(A=>{const I=b,q={xEMPI:function(D,_){return D(_)}};if(m[I(304)](I(260),"QuEJL")){if(!A.groups)return;A.groups=A.groups.filter(D=>D.id!==a.groupId)}else q.xEMPI(_0x3154f7,{kind:"mixed",flowerIds:_0x2c948c,leafIds:_0x59364a})},!0),i({kind:C.FGLWJ});return}if(a.kind===C[b(379)]){C[b(430)](r,A=>{const I=b;A[I(331)]=(A[I(331)]??[]).filter(q=>q.id!==a[I(259)])},!0),C.efbgj(i,{kind:"project"});return}if(C.PJRpP(a[b(353)],C[b(443)]))if(C[b(284)](C[b(303)],b(415)))C[b(436)](_0x32d900,{kind:"flower",flowerId:_0x4dd1e7});else{C.TBPxo(i,{kind:C[b(288)],flowerId:a[b(275)]});return}if(a.kind===C.KEczp){r(A=>{const I=b;if(A[I(286)]=A[I(286)][I(378)](q=>q.id!==a.flowerId),A[I(412)]){for(const q of A.groups)q[I(435)]=q.flowerIds[I(378)](D=>D!==a.flowerId);A.groups=A.groups.filter(q=>q[I(435)][I(392)]+q.leafIds.length>0)}},!0),C[b(411)](i,{kind:"project"});return}if(a.kind===b(409)||a[b(353)]===C[b(373)]){const A=c[b(286)].find(q=>q.id===a.flowerId),I=A?C[b(310)]([...A[b(368)]][b(366)]((q,D)=>q[b(408)]-D.order)[0]?.id,a.layerId):!1;C.ksTrq(r,q=>{const D=b;m[D(386)];const _=q.flowers[D(361)](N=>N.id===a[D(275)]);if(_&&(_.layers=_.layers[D(378)](N=>N.id!==a.layerId),_[D(368)].slice().sort((N,O)=>N[D(408)]-O[D(408)]).forEach((N,O)=>N.order=O+1),_.layers.length>0))if(m.ljFjY(m.tGtiR,m[D(350)])){const{flowerIds:N,leafIds:O}=_0x1a0b2a;deSMNP.DdIoH(_0x1451ac,Z=>{const F=D;if(Z.flowers=Z[F(286)][F(378)](le=>!N.includes(le.id)),Z[F(418)]=(Z[F(418)]??[]).filter(le=>!O[F(405)](le.id)),Z[F(412)]){for(const le of Z.groups)le.flowerIds=le.flowerIds[F(378)](re=>!N.includes(re)),le[F(254)]=le[F(254)].filter(re=>!O[F(405)](re));Z.groups=Z.groups.filter(le=>le.flowerIds[F(392)]+le.leafIds[F(392)]>0)}},!0),_0x37022c({kind:deSMNP[D(423)]});return}else{const N=[..._.layers].sort((F,le)=>F.order-le.order),O=_.fabricSquareSize??q[D(417)];m.cUniO(gs,N,O);for(const F of N){const le=_.layers[D(361)](re=>re.id===F.id);le&&(le[D(357)]=F.radius)}if(I){const F=N[0];_.flowerDiameter=Math.round(m[D(374)](rr,F[D(357)],F[D(424)]??1,O))}else{const F=_.placementMode===""?ur(O,_[D(368)][D(392)],m[D(267)],0):aa(_[D(422)]??q[D(422)],O,{layerCount:_[D(368)].length})[D(363)];m[D(374)](P0,N,O,_[D(351)]||F);for(const le of N){const re=_.layers[D(361)](se=>se.id===le.id);re&&(re.radius=le[D(357)],re[D(424)]=le.scale)}}const Z=[...N][D(348)]();for(let F=1;m.Lhsjw(F,Z[D(392)]);F++){const le=Z[m[D(349)](F,1)],re=Z[F];re.offsetAngle=tl(le[D(291)],le[D(406)],re[D(291)])}}},!0),i({kind:"flower",flowerId:a[b(275)]})}}},T=b=>({id:b.id,name:b.name,flowerIds:[...b[w(435)]],leafIds:[...b.leafIds],rotation:b.rotation}),G=C[w(256)](ee.useCallback,b=>{const m=w,A={cSiYQ:function(q,D){return q+D}},I=C[m(446)](Bt,C.rCeal);C.ksTrq(r,q=>{const D=m;q.groups||(q.groups=[]);const _=q.groups.map(O=>{const Z=_t,F=O[Z(369)].match(/^ (\d+)$/);return F?parseInt(F[1],10):0}),N=_[D(392)]>0?A.cSiYQ(Math[D(296)](..._),1):1;q.groups[D(280)]({id:I,name:D(400)+N,flowerIds:[...b],leafIds:[],rotation:0})},!0),i({kind:"group",groupId:I}),C[m(411)](o,q=>({...q,[I]:!0}))},[r,i,o]),B=ee.useCallback((b,m)=>{const A=w,I=C[A(340)](Bt,"grp");C.YYpJY(r,q=>{const D=A,_={VYXcD:function(Z,F,le){return Z(F,le)}};q.groups||(q[D(412)]=[]);const N=q[D(412)][D(399)](Z=>{const F=D,le=Z.name[F(421)](/^ (\d+)$/);return le?_.VYXcD(parseInt,le[1],10):0}),O=N[D(392)]>0?Math.max(...N)+1:1;q.groups.push({id:I,name:D(400)+O,flowerIds:[...b],leafIds:[...m],rotation:0})},!0),i({kind:"group",groupId:I}),C.efbgj(o,q=>({...q,[I]:!0}))},[r,i,o]),Y=C[w(342)](ee.useCallback,b=>{const m=w,A={REmNr:function(I,q){return I>q}};C[m(274)](r,I=>{const q=m;if(!I[q(412)])return;const D=I.groups.find(_=>_.id===b);if(D)if(D.previousGroups&&A[q(277)](D[q(444)][q(392)],0)){I.groups=I.groups.filter(_=>_.id!==b);for(const _ of D.previousGroups)I[q(412)][q(280)]({id:_.id,name:_.name,flowerIds:[..._[q(435)]],leafIds:[..._.leafIds],rotation:_[q(264)]})}else I.groups=I[q(412)].filter(_=>_.id!==b)},!0),i({kind:C[m(326)]})},[r,i]),k=ee.useCallback(b=>{const m=w;if(C[m(341)],C[m(276)]!==C[m(394)])r(A=>{const I=m;A[I(412)]&&(A[I(412)]=A.groups[I(378)](q=>q.id!==b))},!0),C[m(384)](i,{kind:C[m(326)]});else{const A=ZbDGzw.mCmbS(_0x1936a3[m(395)],"")?_0x483f2e(_0x383d62,_0x18f85b[m(368)][m(392)],ZbDGzw[m(365)],0):_0x2ef61b(_0x2a92d4.baseDiameter??_0x1058c8.baseDiameter,_0x39ae4e,{layerCount:_0x234d88.layers[m(392)]})[m(363)];_0x1c0598(_0x4a634e,_0x582594,_0x27a96b.flowerDiameter||A);for(const I of _0x3e5a3e){const q=_0x2f360d[m(368)][m(361)](D=>D.id===I.id);q&&(q.radius=I[m(357)],q[m(424)]=I[m(424)])}}},[r,i]),K=C[w(420)](ee.useCallback,b=>{const m=w;C[m(430)](r,A=>{const I=m;if(!A.groups)return;const q=A.groups.find(N=>N.id===b);if(!q)return;const D=new Set(q[I(435)]),_=new Set(q.leafIds);A.flowers=A.flowers.filter(N=>!D[I(309)](N.id)),A.leaves=(A[I(418)]??[]).filter(N=>!_[I(309)](N.id)),A[I(412)]=A.groups.filter(N=>N.id!==b)},!0),i({kind:"project"})},[r,i]),P=C.VLpSi(ee.useCallback,(b,m)=>{const A=w;if(C[A(285)],C.HWvgJ!=="PifxO"){const I={ZWJbI:function(D,_){const N=A;return UcCemB[N(345)](D,_)},iWCpu:function(D,_){return UcCemB.BJcHF(D,_)}},q=UcCemB[A(337)](_0x40db79,UcCemB.oOEGs);_0x3f8446(D=>{const _=A;D[_(412)]||(D.groups=[]);const N=D[_(412)].map(Z=>{const F=Z.name.match(/^ (\d+)$/);return F?_0x543f18(F[1],10):0}),O=I.ZWJbI(N[_(392)],0)?I.iWCpu(_0x3377e6[_(296)](...N),1):1;D[_(412)][_(280)]({id:q,name:_(400)+O,flowerIds:[..._0x5d6484],leafIds:[],rotation:0})},!0),_0x456600({kind:"group",groupId:q}),_0x441f35(D=>({...D,[q]:!0}))}else r(I=>{const q=A;if(C.Gqgir!==C[q(334)])_0x4164fa({kind:q(332),flowerId:_0x13e78f,petals:_0x11d588});else{const D=(I[q(412)]??[]).find(_=>_.id===b);if(!D)return;D.previousGroups=[C.HXqav(T,D)];for(const _ of m)D[q(435)].includes(_)||D[q(435)][q(280)](_)}},!0),i({kind:"group",groupId:b})},[r,i]),W=ee.useCallback((b,m)=>{const A=w,I={LYxkl:function(_,N){return C[_t(384)](_,N)}},q=b[0],D=b.slice(1);r(_=>{const N=_t;if(!_.groups)return;const O=_.groups[N(361)](F=>F.id===q);if(!O)return;const Z=[];for(const F of b){const le=_[N(412)].find(re=>re.id===F);le&&Z.push(I[N(290)](T,le))}O.previousGroups=Z;for(const F of D){const le=_[N(412)][N(361)](re=>re.id===F);if(le){for(const re of le[N(435)])O[N(435)][N(405)](re)||O.flowerIds[N(280)](re);for(const re of le.leafIds)O.leafIds.includes(re)||O[N(254)][N(280)](re)}}for(const F of m)O[N(435)][N(405)](F)||O.flowerIds[N(280)](F);_[N(412)]=_[N(412)].filter(F=>!D.includes(F.id))},!0),C.sbdCE(i,{kind:A(263),groupId:q}),C[A(404)](o,_=>({..._,[q]:!0}))},[r,i,o]),J=(b,m)=>{const A=w,I=C.lhwdW(d.w,d.h),q=C[A(352)](520,v),D=q*I,_=-S.x/v,N=C.lhwdW(-S.y,v),O=C[A(320)](_,D/2),Z=C[A(449)](N,q/2),F=m===C[A(359)]?C[A(359)]:C[A(329)],le=l1[b][F][A(450)]*un,re=pe(O,0,h),se=C[A(344)](pe,Z-C[A(433)](le,2),0,h),ce={id:Bt("stl"),variant:b,pose:m,position:{x:re,y:se}};C[A(318)](r,me=>{const de=A;me[de(331)]||(me[de(331)]=[]),me[de(331)][de(280)](ce)},!0),C.cyMDS(i,{kind:C.WhqrA,stencilId:ce.id})},R=b=>{const m=w;if(C.ksTrq(r,A=>{const I=_t;A[I(331)]=(A[I(331)]??[]).filter(q=>q.id!==b)},!0),a.kind===C[m(379)]&&a[m(259)]===b)if(C.BYmRA(m(311),C[m(434)])){const A=_0xd3b485[m(368)][m(361)](I=>I.id===_0xb57323.id);A&&(A[m(357)]=_0x2f0f18[m(357)])}else C[m(328)](i,{kind:C.FGLWJ})},V=C.QkGRv(ee.useCallback,b=>{const m=w,A=(c.groups??[]).find(D=>D[m(435)][m(405)](b)),I=A?A.flowerIds:[b],q=A?A[m(254)]:[];if(a.kind===C[m(448)]){const D=a.flowerIds;if(D[m(405)](b)){const _=new Set(I),N=D.filter(O=>!_.has(O));C.wyfDF(N.length,0)?i({kind:m(339)}):C.FUjMg(N[m(392)],1)?C[m(416)](i,{kind:C[m(288)],flowerId:N[0]}):C.moIWf(i,{kind:"flowers",flowerIds:N})}else{const _=[...new Set([...D,...I])];q.length>0?i({kind:C[m(272)],flowerIds:_,leafIds:q}):C.XsUWt(i,{kind:C.WjWjb,flowerIds:_})}}else if(C[m(270)](a.kind,C.KEczp)||C.sbTFK(a[m(353)],C.yqCJG)||C[m(375)](a.kind,C[m(373)])||C.QqwFK(a.kind,"petals")){const D=a[m(275)];if(D===b)return;const _=(c[m(412)]??[])[m(361)](le=>le[m(435)][m(405)](D)),N=_?_.flowerIds:[D],O=_?_.leafIds:[],Z=[...new Set([...N,...I])],F=[...new Set([...O,...q])];C[m(426)](F[m(392)],0)?C[m(340)](i,{kind:"mixed",flowerIds:Z,leafIds:F}):Z.length===1?i({kind:m(402),flowerId:Z[0]}):i({kind:"flowers",flowerIds:Z})}else if(C.SHPDa(a.kind,C[m(451)])){const D=(c.groups??[]).find(F=>F.id===a.groupId),_=D?D[m(435)]:[],N=D?D[m(254)]:[];if(_.includes(b))return;const O=[...new Set([..._,...I])],Z=[...new Set([...N,...q])];Z.length>0?C.KGaGz!==m(300)?_0x5ade96.flowerIds=_0x2a9e99[m(435)][m(378)](F=>!_0x53860d.includes(F)):C[m(292)](i,{kind:C[m(272)],flowerIds:O,leafIds:Z}):i({kind:m(286),flowerIds:O})}else if(C[m(310)](a[m(353)],C.bSUpt)){const D=(c[m(412)]??[]).find(F=>F.leafIds[m(405)](a[m(325)])),_=D?D[m(435)]:[],N=D?D[m(254)]:[a[m(325)]],O=[...new Set([..._,...I])],Z=[...new Set([...N,...q])];C.xKvRT(Z[m(392)],0)?C.KueCw(i,{kind:"mixed",flowerIds:O,leafIds:Z}):i({kind:C.WjWjb,flowerIds:O})}else if(a.kind==="leaves")if(C[m(282)]("JFhcJ",C[m(381)])){const D=[...new Set(I)],_=[...new Set([...a.leafIds,...q])];i({kind:C.IDzbH,flowerIds:D,leafIds:_})}else{const D=_0x53ac7a[pIzkrx.tzSbo(_0x5b9d24[m(392)],1)],_=pIzkrx.tzSbo(D.order??1,_0x3151a4.order??1);if(_>0){const N=pIzkrx[m(313)](pIzkrx[m(401)](_0x3872fb[m(424)]??1,D[m(424)]??1),_);_0x160a92=pIzkrx[m(266)](_0x100818,(_0x49f93b.scale??1)+N,.3,3)}}else if(a.kind===m(294)){const D=a.flowerIds,_=a[m(254)];if(D[m(405)](b)){const N=new Set(I),O=new Set(q),Z=D[m(378)](le=>!N.has(le)),F=_[m(378)](le=>!O.has(le));Z[m(392)]===0&&F[m(392)]===0?i({kind:m(339)}):Z.length===0&&C.NlFLG(F[m(392)],1)?C[m(436)](i,{kind:C[m(336)],leafId:F[0]}):Z[m(392)]===0?C[m(416)](i,{kind:C[m(322)],leafIds:F}):C[m(271)](F[m(392)],0)&&C[m(375)](Z.length,1)?i({kind:m(402),flowerId:Z[0]}):C[m(333)](F.length,0)?C[m(335)](i,{kind:C.WjWjb,flowerIds:Z}):C.faqRG(i,{kind:"mixed",flowerIds:Z,leafIds:F})}else{const N=[...new Set([...D,...I])],O=[...new Set([..._,...q])];i({kind:m(294),flowerIds:N,leafIds:O})}}else if(q[m(392)]>0)i({kind:C.IDzbH,flowerIds:I,leafIds:q});else if(I[m(392)]===1)if(C[m(413)](m(302),m(338))){C.YYpJY(_0x4756c6,D=>{const _=m;if(D.flowers=D.flowers.filter(N=>N.id!==_0x17729c.flowerId),D.groups){for(const N of D[_(412)])N.flowerIds=N[_(435)][_(378)](O=>O!==_0x569c58.flowerId);D[_(412)]=D.groups[_(378)](N=>N[_(435)][_(392)]+N[_(254)][_(392)]>0)}},!0),_0x3c7d68({kind:m(339)});return}else i({kind:C.KEczp,flowerId:I[0]});else C[m(416)](i,{kind:C[m(448)],flowerIds:I})},[a,i,c[w(412)]]);return{deleteFlowerById:M,deleteLayerById:p,computeNewOuterRadius:j,addOuterLayer:g,deleteOuterLayer:L,deleteSelected:H,groupSelectedFlowers:G,groupSelectedMixed:B,ungroupFlowers:Y,ungroupAll:k,deleteGroup:K,addToGroup:P,mergeGroups:W,addStencil:J,deleteStencil:R,handleShiftFlowerSelect:V,togglePetalSelection:(b,m,A,I)=>{const q=w;if(!I){i({kind:q(364),flowerId:b,layerId:m,index:A});return}const D=m+":"+A;if(a.kind===C[q(443)]&&C[q(315)](a.flowerId,b)){const _=a[q(332)]||[];if(_.some(O=>O.layerId+":"+O[q(287)]===D)){const O=_[q(378)](Z=>Z.layerId+":"+Z.index!==D);C.CdrYz(O[q(392)],0)?i({kind:q(402),flowerId:b}):C.PWscp(O[q(392)],1)?i({kind:q(364),flowerId:b,layerId:O[0][q(383)],index:O[0].index}):i({kind:q(332),flowerId:b,petals:O})}else i({kind:C.tKutJ,flowerId:b,petals:[..._,{layerId:m,index:A}]})}else if(a.kind===C[q(373)]&&a.flowerId===b){const _={layerId:a.layerId,index:a.index},N={layerId:m,index:A};if(_[q(383)]+":"+_[q(287)]===D)return;i({kind:C.tKutJ,flowerId:b,petals:[_,N]})}else V(b)}}}function Qt(c,r){c=c-246;const a=W0();let i=a[c];if(Qt.dkBevH===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};Qt.jMfILs=f,Qt.noufri={},Qt.dkBevH=!0}const o=a[0],v=c+o,S=Qt.noufri[v];if(S)i=S;else{const d=function(h){this.bpiFVU=h,this.iTlxQw=[1,0,0],this.sWpQSz=function(){return"newState"},this.dFUGHr="\\w+ *\\(\\) *{\\w+ *",this.CkNdOJ=`['|"].+['|"];? *}`};d.prototype.SoUjdw=function(){const h=new RegExp(this.dFUGHr+this.CkNdOJ),y=h.test(this.sWpQSz.toString())?--this.iTlxQw[1]:--this.iTlxQw[0];return this.zUtSbL(y)},d.prototype.zUtSbL=function(h){return~h?this.tqrtmA(this.bpiFVU):h},d.prototype.tqrtmA=function(h){for(let y=0,w=this.iTlxQw.length;y<w;y++)this.iTlxQw.push(Math.round(Math.random())),w=this.iTlxQw.length;return h(this.iTlxQw[0])},new d(Qt).SoUjdw(),i=Qt.jMfILs(i),Qt.noufri[v]=i}return i}(function(c,r){const a=Qt,i=c();for(;;)try{if(-parseInt(a(332))/1*(-parseInt(a(288))/2)+-parseInt(a(323))/3+-parseInt(a(262))/4+parseInt(a(291))/5*(-parseInt(a(258))/6)+parseInt(a(324))/7+-parseInt(a(296))/8*(parseInt(a(330))/9)+-parseInt(a(267))/10*(-parseInt(a(257))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(W0,729551);const gb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Qt;if(a){const o=a[f(295)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ks=gb(void 0,function(){const c=Qt;return ks.toString()[c(273)](c(292)).toString().constructor(ks).search(c(292))});ks();function vb({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=Qt,o={exKWG:f(336),wCEWu:function(p,g){return p>g},RXZxU:function(p,g,L){return p(g,L)},SKBXe:function(p,g){return p(g)},Tnsfl:f(337),vitWx:function(p,g){return p(g)},AaTmm:function(p,g){return p(g)},cdwMk:"leaves",VqgGy:function(p,g){return p===g},FCCtY:"KVxOF",BTYcl:function(p,g){return p(g)},wnqUl:"leaf",rrbQC:function(p,g){return p(g)},pBMzg:"RikMy",GOdgC:f(331),Caucv:function(p,g){return p(g)},ejqDY:function(p,g){return p(g)},nATZI:f(280),HOVdQ:"QUvTG",ANpVX:f(290),Ilnvr:"mixed",zzkHi:function(p,g){return p===g},EyIvy:f(283),GuBbD:f(327),WXqts:function(p,g){return p===g},cKxGS:"flowers",qgFtR:function(p,g){return p===g},kWavR:function(p,g){return p(g)},LNfsn:"qmwLk",qbVfw:"dAIfp",FBRuJ:f(268),EqNgA:f(265),pboxJ:"wyORJ",wsxzi:function(p,g){return p(g)},xCEYZ:function(p,g){return p===g},TbXpI:"fJhyh",XAEkI:function(p,g){return p!==g},ljCFK:"pEUPz",ddpGY:"YnZFB",vxofd:"ztOmZ",RULHS:function(p,g,L){return p(g,L)},knMGz:"JeIZC",rebTS:function(p,g){return p===g},dfXPL:function(p,g){return p!==g},WBYSX:f(302),yTJaB:function(p,g){return p(g)},dRaxC:function(p,g){return p(g)},AgNCs:function(p,g,L){return p(g,L)},biwwn:function(p,g,L){return p(g,L)}},v=p=>{const g=f,L={aCURG:function(H,T){return o.wCEWu(H,T)}};o[g(338)](r,H=>{const T=g;if(H.leaves=(H[T(274)]??[]).filter(G=>G.id!==p),H.groups){for(const G of H[T(317)])if(T(336)!==o.exKWG){if(!_0xe50021.groups)return;const B=_0x2a3f8c[T(317)][T(307)](Y=>Y.id===_0x186299);if(!B)return;if(B[T(289)]&&L.aCURG(B[T(289)][T(252)],0)){_0x46f5a8.groups=_0x4eb3b0.groups.filter(Y=>Y.id!==_0x25118e);for(const Y of B.previousGroups)_0x518790[T(317)].push({id:Y.id,name:Y.name,flowerIds:[...Y.flowerIds],leafIds:[...Y[T(311)]],rotation:Y.rotation})}else _0x3b6534[T(317)]=_0x4c1aba[T(317)][T(254)](Y=>Y.id!==_0x573850)}else G[T(311)]=G.leafIds.filter(B=>B!==p);H.groups=H.groups.filter(G=>G[T(282)][T(252)]+G[T(311)][T(252)]>0)}},!0),o[g(284)](i,{kind:o.Tnsfl})},S=o[f(250)](ee.useCallback,p=>{const g=f,L={vHSYA:function(B,Y,k){return o.RXZxU(B,Y,k)},LAddv:function(B,Y){return o.AaTmm(B,Y)},HUaII:function(B,Y){return B+Y},BQfiO:g(280),GTfsS:"mixed",TQstU:o[g(305)]},H=(c.groups??[]).find(B=>B.leafIds.includes(p)),T=H?H.leafIds:[p],G=H?H.flowerIds:[];if(a.kind==="leaves"){const B=a.leafIds;if(B[g(259)](p))if(o.VqgGy(o.FCCtY,g(248))){const Y=L[g(255)](_0x51fc8e,g(328)),k=(_0x1c5fa6[g(317)]??[]).map(P=>{const W=g,J=P[W(285)].match(/^ (\d+)$/);return J?L.vHSYA(_0x3716e0,J[1],10):0}),K=k[g(252)]>0?L.HUaII(_0x261934[g(322)](...k),1):1;L.vHSYA(_0x2079b0,P=>{const W=g;P.groups||(P.groups=[]),P.groups[W(334)]({id:Y,name:W(301)+K,flowerIds:[],leafIds:[..._0x19d4bb],rotation:0})},!0),L.LAddv(_0x1cf306,{kind:L[g(281)],groupId:Y})}else{const Y=new Set(T),k=B[g(254)](K=>!Y.has(K));o[g(333)](k.length,0)?o.BTYcl(i,{kind:o[g(298)]}):o[g(333)](k[g(252)],1)?i({kind:o.wnqUl,leafId:k[0]}):o[g(300)](i,{kind:o.cdwMk,leafIds:k})}else{const Y=[...new Set([...B,...T])];G.length>0?o.pBMzg!==o.GOdgC?o[g(247)](i,{kind:"mixed",flowerIds:G,leafIds:Y}):_0x31d08f({kind:L.GTfsS,flowerIds:_0x31612a,leafIds:_0x4fc0e4}):o.SKBXe(i,{kind:g(274),leafIds:Y})}}else if(a[g(279)]===o[g(269)]){if(o.VqgGy(a[g(260)],p))return;const B=(c[g(317)]??[]).find(W=>W.leafIds[g(259)](a.leafId)),Y=B?B[g(311)]:[a[g(260)]],k=B?B.flowerIds:[],K=[...new Set([...Y,...T])],P=[...new Set([...k,...G])];P.length>0?i({kind:"mixed",flowerIds:P,leafIds:K}):K.length===1?o[g(329)](i,{kind:g(303),leafId:K[0]}):i({kind:g(274),leafIds:K})}else if(a.kind===o.nATZI){const B=(c[g(317)]??[]).find(W=>W.id===a.groupId),Y=B?B.leafIds:[],k=B?B.flowerIds:[];if(Y.includes(p))return;const K=[...new Set([...Y,...T])],P=[...new Set([...k,...G])];o[g(314)](P[g(252)],0)?o.HOVdQ===o.ANpVX?_0x472d2d({kind:L[g(275)],leafIds:_0x10f22b}):i({kind:o[g(326)],flowerIds:P,leafIds:K}):o.VqgGy(g(270),g(270))?o.ejqDY(i,{kind:o.cdwMk,leafIds:K}):o.vitWx(_0x5b57ef,{kind:"project"})}else if(o.zzkHi(a[g(279)],o[g(286)])||o.VqgGy(a[g(279)],o[g(253)])||o.zzkHi(a[g(279)],"petal")||o[g(333)](a.kind,"petals")){const B=a[g(310)],Y=(c[g(317)]??[])[g(307)](J=>J.flowerIds[g(259)](B)),k=Y?Y.flowerIds:[B],K=Y?Y.leafIds:[],P=[...new Set([...k,...G])],W=[...new Set([...K,...T])];o[g(325)](i,{kind:o[g(326)],flowerIds:P,leafIds:W})}else if(o.WXqts(a.kind,o.cKxGS)){const B=[...new Set([...a[g(282)],...G])],Y=[...new Set(T)];o.rrbQC(i,{kind:"mixed",flowerIds:B,leafIds:Y})}else if(o.qgFtR(a.kind,"mixed")){const B=a.flowerIds,Y=a[g(311)];if(Y[g(259)](p)){const k=new Set(T),K=new Set(G),P=Y.filter(J=>!k[g(297)](J)),W=B.filter(J=>!K.has(J));o.zzkHi(W[g(252)],0)&&P.length===0?o[g(284)](i,{kind:g(337)}):o.VqgGy(W.length,0)&&P.length===1?i({kind:g(303),leafId:P[0]}):W[g(252)]===0?i({kind:o.cdwMk,leafIds:P}):P[g(252)]===0&&W[g(252)]===1?o[g(315)](i,{kind:g(283),flowerId:W[0]}):P.length===0?o[g(325)](i,{kind:"flowers",flowerIds:W}):i({kind:"mixed",flowerIds:W,leafIds:P})}else{const k=[...new Set([...B,...G])],K=[...new Set([...Y,...T])];i({kind:o[g(326)],flowerIds:k,leafIds:K})}}else o[g(314)](G[g(252)],0)?i({kind:o[g(326)],flowerIds:G,leafIds:T}):o.WXqts(T.length,1)?o.LNfsn!==o[g(263)]?_0x4a3308({kind:"leaf",leafId:_0x4704b3[0]}):o[g(325)](i,{kind:o.wnqUl,leafId:T[0]}):i({kind:g(274),leafIds:T})},[a,i,c.groups]),d=p=>({id:p.id,name:p[f(285)],flowerIds:[...p.flowerIds],leafIds:[...p.leafIds],rotation:p[f(313)]}),h=ee.useCallback(p=>{const g=f;if(o.EqNgA===o.EqNgA){const L=o.kWavR(Bt,g(328)),H=(c.groups??[])[g(294)](G=>{const B=g;if(o[B(305)],o.qbVfw!==o.FBRuJ){const Y=G[B(285)].match(/^ (\d+)$/);return Y?o[B(338)](parseInt,Y[1],10):0}else{const Y=(_0x32520f[B(317)]??[])[B(307)](J=>J.id===_0x1cae2a[B(312)]),k=Y?Y.leafIds:[],K=Y?Y[B(282)]:[];if(k[B(259)](_0x500096))return;const P=[...new _0x1f6add([...k,..._0x5c4c1c])],W=[...new _0x5cfe14([...K,..._0x40862c])];W[B(252)]>0?_0x369342({kind:"mixed",flowerIds:W,leafIds:P}):_0xdab8e6({kind:ZGXTSs[B(335)],leafIds:P})}}),T=o[g(314)](H.length,0)?Math[g(322)](...H)+1:1;r(G=>{const B=g;G[B(317)]||(G[B(317)]=[]),G.groups[B(334)]({id:L,name:" "+T,flowerIds:[],leafIds:[...p],rotation:0})},!0),o.kWavR(i,{kind:o.nATZI,groupId:L})}else _0x4c1a1e.leafIds[g(259)](_0x2b132b)||_0x10153f[g(311)][g(334)](_0x3e4a3f)},[c[f(317)],r,i]),y=o[f(318)](ee.useCallback,(p,g)=>{r(L=>{const H=Qt;if(o.pboxJ!=="wyORJ")_0x2fc17b.leafIds[H(259)](_0x67d8e7)||_0x1efacb.leafIds[H(334)](_0x39bc75);else{const T=(L[H(317)]??[]).find(G=>G.id===p);if(!T)return;T[H(289)]=[o.wsxzi(d,T)];for(const G of g)T.leafIds.includes(G)||T.leafIds[H(334)](G)}},!0),i({kind:o.nATZI,groupId:p})},[r,i]),w=o[f(309)](ee.useCallback,(p,g)=>{const L=f,H=p[0],T=p.slice(1);r(G=>{const B=Qt;if(!G.groups)return;const Y=G.groups[B(307)](K=>K.id===H);if(!Y)return;const k=[];for(const K of p)if(o[B(287)](o.TbXpI,B(308)))_0x190462({kind:xhUFnx.WCiXz,leafId:_0x226a00[0]});else{const P=G.groups[B(307)](W=>W.id===K);P&&k.push(o[B(300)](d,P))}Y.previousGroups=k;for(const K of T)if(o.XAEkI(B(299),"YoXBb")){const P=G[B(317)].find(W=>W.id===K);if(!P)continue;for(const W of P.leafIds)if(o.qgFtR(o[B(319)],o[B(266)])){const J=_0xb10942.groups.find(R=>R.id===_0x20e148);J&&_0x141ebb[B(334)](_0x9b88c4(J))}else Y.leafIds.includes(W)||Y.leafIds[B(334)](W);for(const W of P[B(282)])Y.flowerIds.includes(W)||Y[B(282)].push(W)}else{_0x252d17.groups=_0x8d3e02[B(317)].filter(P=>P.id!==_0x17af82);for(const P of _0x4ed488[B(289)])_0x1f19f6.groups[B(334)]({id:P.id,name:P.name,flowerIds:[...P.flowerIds],leafIds:[...P.leafIds],rotation:P.rotation})}for(const K of g)B(256)!==o.vxofd?Y.leafIds.includes(K)||Y[B(311)][B(334)](K):xhUFnx.FSYQk(_0x3e7048,{kind:xhUFnx.VdFOG,leafIds:_0x59fd81});G.groups=G[B(317)].filter(K=>!T[B(259)](K.id))},!0),o.wsxzi(i,{kind:L(280),groupId:H})},[r,i]),C=ee.useCallback(p=>{const g=f;o[g(326)],o.rebTS(g(306),g(304))?qGmIfk[g(249)](_0x27683f,{kind:qGmIfk.engwd,flowerIds:_0x237f95,leafIds:_0x362edb}):(o[g(338)](r,L=>{const H=g,T={Bgnfi:function(B,Y,k){return o.RULHS(B,Y,k)}};if(!L.groups)return;const G=L[H(317)][H(307)](B=>B.id===p);if(G)if(G.previousGroups&&G.previousGroups[H(252)]>0)if(H(278)===o.knMGz)T[H(276)](_0x33ce3f,B=>{const Y=H;if(B[Y(317)]){for(const k of B[Y(317)])k.leafIds=k[Y(311)].filter(K=>K!==_0x59eccf);B.groups=B.groups.filter(k=>k[Y(282)][Y(252)]+k.leafIds[Y(252)]>0)}},!0);else{L[H(317)]=L.groups.filter(B=>B.id!==p);for(const B of G[H(289)])L.groups.push({id:B.id,name:B.name,flowerIds:[...B[H(282)]],leafIds:[...B[H(311)]],rotation:B[H(313)]})}else L.groups=L.groups[H(254)](B=>B.id!==p)},!0),o.ejqDY(i,{kind:o[g(298)]}))},[r,i]),j=ee.useCallback((p,g)=>{const L=f;if(o[L(326)],o[L(305)],L(251)===L(264)){const H=_0x39cc46.flowerId,T=(_0x2ab0d0.groups??[]).find(K=>K[L(282)][L(259)](H)),G=T?T.flowerIds:[H],B=T?T.leafIds:[],Y=[...new _0x528cc7([...G,..._0x42e93d])],k=[...new _0xabf8d0([...B,..._0x216ea9])];o.AaTmm(_0x1db89b,{kind:L(271),flowerIds:Y,leafIds:k})}else o[L(250)](r,H=>{const T=L;if(o[T(320)](o[T(246)],T(321))){const G=(H[T(317)]??[]).find(B=>B.id===g);G&&!G.leafIds[T(259)](p)&&G.leafIds.push(p)}else{if(_0x148288[T(260)]===_0x117c15)return;const G=(_0x46726f.groups??[])[T(307)](P=>P[T(311)][T(259)](_0x2d2bd9[T(260)])),B=G?G[T(311)]:[_0x389c75.leafId],Y=G?G[T(282)]:[],k=[...new _0x4c80c9([...B,..._0x43ea7a])],K=[...new _0x59d5f2([...Y,..._0x5df4dd])];uWodbb[T(316)](K.length,0)?uWodbb.GbCmB(_0x354c28,{kind:uWodbb[T(277)],flowerIds:K,leafIds:k}):k[T(252)]===1?uWodbb.QhlgY(_0x1aec3d,{kind:"leaf",leafId:k[0]}):uWodbb[T(261)](_0x3dd36d,{kind:uWodbb[T(293)],leafIds:k})}},!0)},[r]),M=ee.useCallback(p=>{r(g=>{const L=Qt;if(g.groups){for(const H of g[L(317)])H[L(311)]=H.leafIds[L(254)](T=>T!==p);g[L(317)]=g.groups.filter(H=>H.flowerIds[L(252)]+H[L(311)][L(252)]>0)}},!0)},[r]);return{deleteLeafById:v,handleShiftLeafSelect:S,groupSelectedLeaves:h,ungroupLeaves:C,addLeafToGroup:j,removeLeafFromGroup:M,addLeavesToGroup:y,mergeLeafGroups:w}}function W0(){const c=["BgPdrKS","zgzyueW","t1f5z2q","Bwf4","mZq4nJC1uxbJt3ji","ntmZmJq4mvnHy3Lyta","qLrzy2W","swXUDNi","Bgf5zxi","z3jW","zwPXrfK","nte3mZi5zg5JAgD0","s0Dwswi","mw10DKnYrW","vNfNr3K","ChvZAa","txb3wfa","r1royM8","ChjVAMvJDa","uLHAEfu","v0jzu1G","q2f1y3y","q2LhwKK","qxbrD28","qwDoq3m","yMXevMW","BgvUz3rO","r3vcyKq","zMLSDgvY","tefKzhy","B2PADve","mtfmu3jgq3u","nMHOB21wBa","Aw5JBhvKzxm","BgvHzKLK","uNDzueC","mtm2oda4mgzezuLkuW","te5MC24","DuPIwxC","ywXyCLK","zgrWr1K","mtyXnZG5nJbLyMLzyNm","EKTAveO","D25XvwW","wuzHDeK","BwL4zwq","Evrkyui","C2vHCMnO","BgvHDMvZ","vffZDfu","qMDUzMK","uMrns1a","AuPbuw0","A2LUza","z3jVDxa","qLfMAu8","zMXVD2vYswrZ","zMXVD2vY","u0Tcwgu","BMfTzq","rxLjDNK","EenfwvO","mte4ndGXogrxqK13yG","ChjLDMLVDxnhCM91Chm","BNHnu1i","ndaZntu3nxngAxHWwa","kcGOlISPkYKRksSK","rwzwBhO","BwfW","yxbWBhK","mtm2te9bs3Pk","AgfZ","vg5ZzMW","BeLXDgG","CNjIuum","44kW44oR44o844oxia","s252Ee4","BgvHzG","uurStNO","y2r3twS","B2LtCuW","zMLUza","tuDrBK4","yML3D24","zMXVD2vYswq","BgvHzKLKCW","z3jVDxbjza","CM90yxrPB24","D0nfv3u","A1DHDLi","s3jusw8","z3jVDxbZ","uLvmsfm"];return W0=function(){return c},W0()}(function(c,r){const a=cn,i=c();for(;;)try{if(parseInt(a(253))/1*(parseInt(a(301))/2)+parseInt(a(275))/3+parseInt(a(268))/4*(-parseInt(a(262))/5)+parseInt(a(315))/6+-parseInt(a(261))/7+parseInt(a(285))/8*(parseInt(a(288))/9)+-parseInt(a(280))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,232724);const pb=(function(){const c=cn,r={BcbUX:function(i,f){return i===f},FxPSi:function(i,f){return i(f)},rVipo:function(i,f){return i!==f},euNYa:c(291),MKSCR:"(((.+)+)+)+$",MdENG:"NfFAi"};let a=!0;return function(i,f){const o=c,v={iSenq:r[o(312)]};if(r[o(299)]==="lvPCy")return _0x5238d8.toString()[o(305)](o(287)).toString().constructor(_0x5f719d).search(v[o(258)]);{const S=a?function(){const d=o,h={CimLf:function(y,w){return r[cn(302)](y,w)},seUMJ:function(y,w){return r[cn(293)](y,w)}};if(r[d(276)](r[d(306)],d(289))){if(f){const y=f[d(267)](i,arguments);return f=null,y}}else{const y=_0x433fd8[d(311)],w=_0x2c8dd5.baseDiameter;h.seUMJ(_0x13be49,C=>{const j=d,M={...C,fabricSquareSize:y,baseDiameter:w};return h[j(314)](M[j(295)],j(251))?M.flowerDiameter=_0x5659d8(w,y,{layerCount:M.layerCount,sizeMode:M[j(284)],sizeStepMm:M[j(260)]})[j(270)]:M[j(307)]=_0x349dc1(y,M.layerCount,M.sizeMode,M[j(260)]),M}),_0x3442b2(!0)}}:function(){};return a=!1,S}}})(),Is=pb(void 0,function(){const c=cn;return Is[c(271)]()[c(305)]("(((.+)+)+)+$").toString().constructor(Is)[c(305)]("(((.+)+)+)+$")});function V0(){const c=["C2L6zu1Vzgu","otyZmteYAwzxANzv","C29YDa","kcGOlISPkYKRksSK","mtHOCu9XwfG","wgXHtuO","DMvnqMq","DNzcuwW","CefpBgS","rNHqu2K","Cg9ZAxrPB24","CgXHy2vTzw50tw9Kzq","y29Sx3DOAxrL","Bgf5zxjdB3vUDa","ywjZ","twrftKC","sLfowM4","mJyZmdyYruXUz1fx","qMnIvvG","AwrXALK","z3zSA0e","C2vHCMnO","zxvowwe","zMXVD2vYrgLHBwv0zxi","ChvZAa","r1rfvee","BgvUz3rO","zMfICMLJu3f1yxjLu2L6zq","tuTtq1i","C29Tzq","q2LTtgy","mJmZnZq1me9Ju3vAvq","wLboENi","z3jHzhvHBa","B3jKzxi","uNjvB1i","5y2k44gp44gz","vMnhuha","m3DzsK9Krq","DwLqB0C","zLzyBwO","tfHVBfG","weXUzuu","AvnLBNe","zMLUza","C2L6zvn0zxbnBq","mte5otmWm3zYvMDmsa","mtG3ndv6BwTAqNG","DwzxAKW","ANbHwfm","twrksNG","thjrAKG","yxbWBhK","ndi4weriC1vx","C2nHBgu","zgLHBwv0zxi","Dg9tDhjPBMC","A1njrhq","zMXVD2vYCW","ChDQreC","ntC1ode0BxjQq1bg","CLzPCg8","5lI444gK44g+44g/","yMfZzurPyw1LDgvY","u0nzuK8","ndeXnJG4mgvKC2rnzW","zMX3","yNbkrxq","CM91BMq"];return V0=function(){return c},V0()}Is();function cn(c,r){c=c-250;const a=V0();let i=a[c];if(cn.nrhZOb===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};cn.DMkfAP=f,cn.MkIzMq={},cn.nrhZOb=!0}const o=a[0],v=c+o,S=cn.MkIzMq[v];if(S)i=S;else{const d=function(h){this.LNAhUK=h,this.EIYyaE=[1,0,0],this.OYPQLc=function(){return"newState"},this.YoHSPR="\\w+ *\\(\\) *{\\w+ *",this.mKgqQq=`['|"].+['|"];? *}`};d.prototype.fWCrPw=function(){const h=new RegExp(this.YoHSPR+this.mKgqQq),y=h.test(this.OYPQLc.toString())?--this.EIYyaE[1]:--this.EIYyaE[0];return this.DXTsns(y)},d.prototype.DXTsns=function(h){return~h?this.gWtilV(this.LNAhUK):h},d.prototype.gWtilV=function(h){for(let y=0,w=this.EIYyaE.length;y<w;y++)this.EIYyaE.push(Math.round(Math.random())),w=this.EIYyaE.length;return h(this.EIYyaE[0])},new d(cn).fWCrPw(),i=cn.DMkfAP(i),cn.MkIzMq[v]=i}return i}function yb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:v,CANVAS_MAX_SVG:S}){const d=cn,h={XLneE:d(255),kSIDt:"gAZaY",unCVE:function(g,L){return g(L)},pAOlk:function(g,L){return g/L},pwjDG:"uniform",CiXCK:function(g,L){return g/L},LXolX:function(g,L){return g===L},JQNZn:d(317),MdJJx:function(g,L,H,T){return g(L,H,T)},veMBd:function(g,L){return g+L},gvlkA:function(g,L){return g*L},bpJEt:function(g,L){return g>L},JuBki:function(g,L){return g-L},VcGPp:function(g,L){return g/L},jpaXS:function(g,L,H,T){return g(L,H,T)},LrQjH:function(g,L){return g(L)},ZPNzr:d(251),idqjY:function(g,L,H){return g(L,H)},XdmUU:"flower"},[y,w]=ee.useState(!1),[C,j]=h.unCVE(ee.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d(277),sizeMode:h.pwjDG,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:y,setShowAddFlowerDialog:w,addFlowerOpts:C,setAddFlowerOpts:j,addFlower:()=>{const g=d,L={SCYRO:function(G,B){return G===B},RrUoR:function(G,B,Y,k){return G(B,Y,k)},RkjTJ:function(G,B){return G*B},TjGVt:h[g(257)],ufWjL:function(G,B,Y,k){return G(B,Y,k)},yTRMF:h[g(272)]},H=c.fabricSquareSize,T=c[g(278)];j(G=>{const B=g,Y={GTETA:function(K,P){return L.RkjTJ(K,P)}},k={...G,fabricSquareSize:H,baseDiameter:T};if(k[B(295)]===B(251))if(B(254)===L.TjGVt){const K=_0x1a83cb/_0x193ba7;_0x17e10f=_0x2a1dd8(_0x1231b2+Y[B(309)](_0x4b7c7f,K),.3,3)}else k[B(307)]=L[B(263)](aa,T,H,{layerCount:k.layerCount,sizeMode:k[B(284)],sizeStepMm:k.sizeStepMm})[B(270)];else if(L.yTRMF==="gAZaY")k.flowerDiameter=ur(H,k.layerCount,k[B(284)],k.sizeStepMm);else{const K={..._0x2c97a3,fabricSquareSize:_0x3b788a,baseDiameter:_0x3984ab};return L[B(279)](K.placementMode,"")?K[B(307)]=L[B(250)](_0x27748f,_0x6e7c75,_0x2a71ec,{layerCount:K[B(297)],sizeMode:K[B(284)],sizeStepMm:K.sizeStepMm})[B(270)]:K[B(307)]=_0x44916b(_0x994d4c,K.layerCount,K[B(284)],K.sizeStepMm),K}return k}),h.unCVE(w,!0)},confirmAddFlower:()=>{const g=d,{placementMode:L,layerCount:H,petalCount:T,petalType:G,sizeMode:B,sizeStepMm:Y}=C,k=C.fabricSquareSize,{length:K}=kt(k),P=.28,W=h.pAOlk(Math[g(283)](K*P*10),10),J=[];let R=W,V=0;for(let re=0;re<H;re++){const se=re,ce=1;let me;if(B===h[g(274)])me=ce;else{const Ue=h.CiXCK(Y,k);me=pe(ce+se*Ue,.3,3)}let de;if(h[g(256)](re,0))de=W;else{const Ue=h[g(256)](B,h[g(300)])?h[g(265)](pe,h.veMBd(1,h[g(304)](re-1,Y)/k),.3,3):1,Ze=h[g(304)](K,Ue);let Re;if(L===""){const dt=h[g(292)](70*Math.PI,180),bt=h[g(282)](H,1)?re/h.JuBki(H,1)*dt:0,Ut=Math.cos(bt);Re=Ze*h.CiXCK(30,100)*Ut}else Re=h[g(292)](Ze,3);R=R+Re,de=h.pAOlk(Math.round(R*10),10)}const Me=re===0?0:tl(T,V,T);V=Me;const nt="Layer "+(re+1);J.push({id:Bt("lay"),name:nt,order:h.JuBki(H,re),petalType:G,petalCount:T,radius:de,scale:me,widthScale:h.unCVE(xi,T),offsetAngle:Me,colorId:C.colorId||(c.palette?.[0]?.id??g(296)),visible:!0,locked:!1})}J.reverse();const U=[...J][g(286)]((re,se)=>re[g(318)]-se[g(318)]),b=L===g(251)?h[g(265)](aa,C[g(278)],k,{layerCount:H,sizeMode:B,sizeStepMm:Y})[g(270)]:ur(k,H,B,Y);P0(U,k,C.flowerDiameter||b);for(const re of U){const se=J[g(259)](ce=>ce.id===re.id);se&&(se.radius=re.radius,se.scale=re[g(269)])}const m=v.w/v.h,A=h.CiXCK(520,f),I=A*m,q=-o.x/f,D=-o.y/f;let _=h[g(290)](q,h[g(252)](I,2)),N=D+A/2;const O=25;let Z=0;for(;Z<50&&c.flowers[g(313)](re=>Math[g(298)](re[g(294)].x-_)<5&&Math.abs(re[g(294)].y-N)<5);){const re="3|1|4|2|0".split("|");let se=0;for(;;){switch(re[se++]){case"0":Z++;continue;case"1":N+=O;continue;case"2":N=h[g(264)](pe,N,0,S);continue;case"3":_+=O;continue;case"4":_=h.jpaXS(pe,_,0,S);continue}break}}const F=C.flowerDiameter||b,le={id:h[g(266)](Bt,g(281)),name:"Flower "+(c[g(273)][g(310)]+1),position:{x:_,y:N},flowerDiameter:F,rotation:0,layers:J,center:{type:"",size:6,color:g(296)},fabricSquareSize:k,placementMode:L,baseDiameter:h.LXolX(L,h[g(316)])?C.baseDiameter:h.unCVE(ir,F)};h[g(303)](r,re=>{const se=g;re.flowers[se(308)](le)},!0),h.LrQjH(a,{kind:h.XdmUU,flowerId:le.id}),i(re=>({...re,[le.id]:!0})),w(!1)}}}(function(c,r){const a=kn,i=c();for(;;)try{if(-parseInt(a(290))/1*(-parseInt(a(289))/2)+-parseInt(a(273))/3*(parseInt(a(279))/4)+parseInt(a(264))/5*(-parseInt(a(277))/6)+-parseInt(a(266))/7+parseInt(a(283))/8+-parseInt(a(276))/9*(-parseInt(a(284))/10)+parseInt(a(263))/11*(-parseInt(a(268))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,301128);const _b=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),qs=_b(void 0,function(){const c=kn,r={QYLjD:c(288)};return qs.toString()[c(272)](r.QYLjD)[c(267)]()[c(282)](qs).search(r.QYLjD)});qs();function kn(c,r){c=c-261;const a=J0();let i=a[c];if(kn.HuPWjs===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};kn.RDrXoB=f,kn.tFgToU={},kn.HuPWjs=!0}const o=a[0],v=c+o,S=kn.tFgToU[v];if(S)i=S;else{const d=function(h){this.riWses=h,this.CIMTyR=[1,0,0],this.khFtbi=function(){return"newState"},this.nYtqTF="\\w+ *\\(\\) *{\\w+ *",this.GjUoMY=`['|"].+['|"];? *}`};d.prototype.xHpEDq=function(){const h=new RegExp(this.nYtqTF+this.GjUoMY),y=h.test(this.khFtbi.toString())?--this.CIMTyR[1]:--this.CIMTyR[0];return this.cDdPEv(y)},d.prototype.cDdPEv=function(h){return~h?this.TSVKFu(this.riWses):h},d.prototype.TSVKFu=function(h){for(let y=0,w=this.CIMTyR.length;y<w;y++)this.CIMTyR.push(Math.round(Math.random())),w=this.CIMTyR.length;return h(this.CIMTyR[0])},new d(kn).xHpEDq(),i=kn.RDrXoB(i),kn.tFgToU[v]=i}return i}function J0(){const c=["mtC1mJyWEe5LEhfs","BgvHzG","twvhuuq","y2jZAxy","C2vHCMnO","m1zuBujNyq","C29Tzq","ywjZ","ntuWodLJBLzQEgy","mZbfs3vYzfi","u1LUzuu","mte5mJaZnKH5ruvLDq","C1v4uKu","BgvHDMvZ","y29UC3rYDwn0B3i","mte4mZa1nNnyD3vRsq","odGWDxDhtLb4","werbBNu","we56AKu","tgvHzIa","kcGOlISPkYKRksSK","ota3mtu2v2LQwhPz","mw9Avffuuq","CM91BMq","5yMJ44gK44g+44g/","mtiXv2vevNbe","mZyZmJaWA3jYs1ft","EwH0wg4","mte5odeYq0fPuxLT","Dg9tDhjPBMC"];return J0=function(){return c},J0()}function Pd(c){const r=kn,a={CoITT:function(i,f){return i/f},XNzjE:function(i,f){return i*f}};return Math.round(a.CoITT(a[r(286)](c,Math.SQRT2),2)*10)/10}function Sb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:o,CANVAS_MAX_SVG:v}){const S=kn,d={yhtXn:"col_green",Fnbue:function(p,g){return p(g)},sUxRE:function(p,g){return p===g},EqGwv:function(p,g){return p+g},MeGQD:function(p,g){return p<g},uwLqh:function(p,g,L,H){return p(g,L,H)},YPZuC:"leaf",cbsiv:function(p,g,L){return p(g,L)},hPbMI:S(262)},[h,y]=ee.useState(!1),[w,C]=ee.useState({fabricSquareSize:20,leafSizeMm:d.Fnbue(Pd,20),petalType:d.hPbMI,colorId:""});return{showAddLeafDialog:h,setShowAddLeafDialog:y,addLeafOpts:w,setAddLeafOpts:C,addLeaf:()=>{const p=c.fabricSquareSize,g=c.palette?.find(L=>L.id==="col_green"||L.id==="col_darkgreen")?.id??c.palette?.[0]?.id??d.yhtXn;C(L=>({...L,fabricSquareSize:p,leafSizeMm:Pd(p),colorId:L.colorId||g})),d.Fnbue(y,!0)},confirmAddLeaf:()=>{const p=S,{petalType:g,colorId:L,fabricSquareSize:H}=w,T=o.w/o.h,G=520/i,B=G*T,Y=-f.x/i,k=-f.y/i;let K=d.EqGwv(Y,B/2),P=d.EqGwv(k,G/2),W=0;for(;d[p(270)](W,50)&&(c.leaves??[])[p(274)](R=>Math[p(275)](R.position.x-K)<5&&Math.abs(R.position.y-P)<5);)K+=25,P+=25,K=pe(K,0,v),P=d.uwLqh(pe,P,0,v),W++;const J={id:Bt(d.YPZuC),name:p(287)+((c[p(281)]??[]).length+1),position:{x:K,y:P},rotation:135,petalType:g,colorId:L||c.palette?.[0]?.id||d[p(265)],fabricSquareSize:H,scale:1,widthScale:1,visible:!0,locked:!1};d[p(271)](r,R=>{const V=p;if(d[V(280)]("FzErM",V(285)))return pMVGUy[V(278)](_0x1c06dd[V(261)](_0x166132*_0x5a795f.SQRT2/2*10),10);R[V(281)]||(R[V(281)]=[]),R.leaves.push(J)},!0),a({kind:p(269),leafId:J.id}),y(!1)}}}function Q0(){const c=["zMXVD2vYswrZ","Cgv0ywXZ","BhvvAwW","Bgf5zxi","C3rLBMnPBa","mtu4nJu4nvfwy2v6BW","C3rLBMnPBeLK","C2vHCMnO","nJKXodfLrxzdwLy","otbcr3PJy04","BgvHDMvZ","zMLUza","Cgv0ywW","zMXVD2vYswq","t3rtveC","tfL1qKO","wLf6ru0","z3jVDxbjza","s2nosLy","mteXmdq1me10zgLxwq","AM1mwfO","D2POCwW","wLrWDLq","wuToyLq","EvbqsNC","mJi5odj2A09Mv3K","rNfOt3G","y29UC3rYDwn0B3i","mta3v2T0u3v3","Bgf5zxjjza","z3jVDxbZ","kcGOlISPkYKRksSK","rgnVDM4","mtG0oty5mJb4uuXyrM4","ndyXmtKYtNnjzvbT","sevvD0e","sxHHrMy","A2LUza","ndv0t2vhs24","wur5zKK","D2jcvMe","BgvHzKLK","BwL4zwq","twnUqNO","tuf5Bhi","odDrz1zpvwm","mZG0qKPbr3zo","Dg9tDhjPBMC","qNjXtw8","mteWmJK2wNjfB1D5","u3vUuu0","zMLSDgvY","DhPbB0G","Bgf5zxjZ","A2PotLm","y1jQzNu","BgvHzKLKCW","zMXVD2vYCW"];return Q0=function(){return c},Q0()}function In(c,r){c=c-443;const a=Q0();let i=a[c];if(In.XEfjdR===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",w="",C=y+f;for(let j=0,M,p,g=0;p=d.charAt(g++);~p&&(M=j%4?M*64+p:p,j++%4)?y+=C.charCodeAt(g+10)-10!==0?String.fromCharCode(255&M>>(-2*j&6)):j:0)p=h.indexOf(p);for(let j=0,M=y.length;j<M;j++)w+="%"+("00"+y.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(w)};In.PMUBiF=f,In.SaSOsA={},In.XEfjdR=!0}const o=a[0],v=c+o,S=In.SaSOsA[v];if(S)i=S;else{const d=function(h){this.ybqBPZ=h,this.FnikQj=[1,0,0],this.EbbEkX=function(){return"newState"},this.gKigCa="\\w+ *\\(\\) *{\\w+ *",this.ShCkeF=`['|"].+['|"];? *}`};d.prototype.XVBjQO=function(){const h=new RegExp(this.gKigCa+this.ShCkeF),y=h.test(this.EbbEkX.toString())?--this.FnikQj[1]:--this.FnikQj[0];return this.dckNyt(y)},d.prototype.dckNyt=function(h){return~h?this.UueHcK(this.ybqBPZ):h},d.prototype.UueHcK=function(h){for(let y=0,w=this.FnikQj.length;y<w;y++)this.FnikQj.push(Math.round(Math.random())),w=this.FnikQj.length;return h(this.FnikQj[0])},new d(In).XVBjQO(),i=In.PMUBiF(i),In.SaSOsA[v]=i}return i}(function(c,r){const a=In,i=c();for(;;)try{if(parseInt(a(473))/1*(-parseInt(a(470))/2)+parseInt(a(490))/3*(-parseInt(a(494))/4)+parseInt(a(464))/5+parseInt(a(491))/6*(-parseInt(a(453))/7)+-parseInt(a(479))/8*(-parseInt(a(483))/9)+parseInt(a(454))/10*(parseInt(a(450))/11)+parseInt(a(478))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Q0,688165);const wb=(function(){const c=In,r={fyrBm:c(481)};let a=!0;return function(i,f){const o=c;if(r.fyrBm===o(466)){const v=(_0x53596f[o(475)]??[]).find(S=>S.id===_0x31ce6e[o(462)]);if(v)return new _0x46a849(v.leafIds)}else{const v=a?function(){if(f){const S=f.apply(i,arguments);return f=null,S}}:function(){};return a=!1,v}}})(),Gs=wb(void 0,function(){const c=In,r={luUil:c(476)};return Gs.toString()[c(452)]("(((.+)+)+)+$")[c(492)]()[c(472)](Gs)[c(452)](r[c(447)])});Gs();function Cb(c,r){const a=In,i={yPPJw:function(p,g){return p===g},zhLDZ:"flower",wbBVa:function(p,g){return p===g},YDyfI:a(459),Bqigt:function(p,g,L){return p(g,L)},cRjfu:a(457),oTpHY:a(444),YKNbT:function(p,g){return p!==g},ZQzEM:a(499),tzAoH:"group",BrqMo:function(p,g){return p===g},McnBz:"layer",cpcut:function(p,g){return p===g},FqhOx:a(487),LYuBJ:function(p,g){return p===g},NNrVC:function(p,g){return p===g},tEdoW:function(p,g){return p===g},ZTpvT:"leaves",jmLXZ:"yOwaZ",dXrLS:function(p,g,L){return p(g,L)},Dcovn:function(p,g){return p===g},HEUwA:"petals",MAylr:a(449),SunQM:function(p,g){return p===g},KcNJV:function(p,g,L){return p(g,L)}},f=ee.useMemo(()=>{const p=a;return i[p(469)](r.kind,i.zhLDZ)||r[p(482)]===p(448)||r.kind==="petal"||i[p(485)](r.kind,p(446))?p(459)===i[p(484)]?c.flowers.find(g=>g.id===r[p(458)])??null:i.yPPJw(_0x512111[p(482)],"leaf")?(_0x9f11a[p(455)]??[])[p(456)](g=>g.id===_0x59945b.leafId)??null:null:null},[c.flowers,r]),o=i.Bqigt(ee.useMemo,()=>{const p=a,g={pRzWF:function(L,H,T){return i.Bqigt(L,H,T)},PrRib:function(L,H){return L===H},qILcH:i.zhLDZ,BWoSq:"layer",CJOhO:i.cRjfu};if(r.kind===i.oTpHY){if(i[p(468)]("Gxvys","rvRNR"))return c[p(444)].filter(L=>r[p(445)].includes(L.id));{const L=g.pRzWF(_0x599370,_0x3a1e35,_0xf1aa8d.flowerId);if(L)return g.PrRib(_0x4a7608[p(482)],g.qILcH)?new _0x1d2e40(L.flowerIds.filter(H=>H!==_0x3353e5[p(458)])):new _0x75bb61(L.flowerIds)}}if(i[p(469)](r[p(482)],p(487)))return i[p(461)]==="kjNNS"?c[p(444)][p(496)](L=>r[p(445)].includes(L.id)):_0xf5dc8b&&(_0xf3d4b.kind===g.BWoSq||g.PrRib(_0x4d2973.kind,g.CJOhO))?_0x5aee95[p(498)].find(L=>L.id===_0x4ef539.layerId)??null:null;if(r[p(482)]===i.tzAoH){const L=(c.groups??[])[p(456)](H=>H.id===r.groupId);if(L)return c.flowers.filter(H=>L[p(445)].includes(H.id))}return[]},[c[a(444)],c[a(475)],r]),v=ee.useMemo(()=>{const p=a;return i[p(493)](r[p(482)],"leaf")?(c.leaves??[])[p(456)](g=>g.id===r.leafId)??null:null},[c[a(455)],r]),S=i.dXrLS(ee.useMemo,()=>{const p=a;return r.kind===i.tzAoH?(c.groups??[])[p(456)](g=>g.id===r.groupId)??null:null},[c[a(475)],r]),d=ee.useMemo(()=>{const p=a;return f&&(r[p(482)]===i[p(488)]||r[p(482)]===i[p(500)])?f[p(498)][p(456)](g=>g.id===r[p(474)])??null:null},[f,r]),h=r.kind==="petal"?r.index:null,y=i[a(477)](r[a(482)],i[a(480)])?r.petals:[],w=r.kind===i[a(489)]?(c.stencils??[])[a(456)](p=>p.id===r[a(451)])??null:null,C=i.Dcovn(r[a(482)],"flower")||r[a(482)]===i.McnBz||i[a(495)](r[a(482)],i[a(500)])||r[a(482)]===a(446)?r[a(458)]:null,j=i[a(463)](ee.useMemo,()=>{const p=a;if(i.cpcut(r[p(482)],i[p(497)])){const g=(c.groups??[])[p(456)](L=>L.id===r.groupId);if(g)return new Set(g[p(445)])}if(r.kind===p(444))return new Set(r[p(445)]);if(i.cpcut(r[p(482)],i[p(471)]))return new Set(r.flowerIds);if(i[p(460)](r.kind,"flower")||i[p(469)](r.kind,i.McnBz)||r.kind==="petal"||i.NNrVC(r[p(482)],p(446))){const g=nl(c,r.flowerId);if(g)return r[p(482)]==="flower"?new Set(g.flowerIds.filter(L=>L!==r.flowerId)):new Set(g[p(445)])}return new Set},[r,c]),M=i[a(463)](ee.useMemo,()=>{const p=a;if(r[p(482)]===i.tzAoH){const g=(c[p(475)]??[])[p(456)](L=>L.id===r.groupId);if(g)return new Set(g[p(443)])}if(i.tEdoW(r[p(482)],i[p(467)]))return i[p(468)]("PBGnf",i[p(465)])?new Set(r[p(443)]):_0x329988.flowers[p(456)](g=>g.id===_0x52bf9b.flowerId)??null;if(r[p(482)]===p(487))return new Set(r[p(443)]);if(r[p(482)]==="leaf"){const g=Ml(c,r.leafId);if(g)return new Set(g.leafIds.filter(L=>L!==r[p(486)]))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:v,selectedGroup:S,selectedLayer:d,selectedPetalIndex:h,selectedPetals:y,selectedStencil:w,selectedFlowerId:C,groupHighlightedFlowerIds:j,groupHighlightedLeafIds:M}}function jb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,o=ee.useMemo(()=>new Map((r.palette||[]).map(be=>[be.id,be])),[r.palette]),{widths:v,containerRef:S,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:y,isDesktop:w}=hb(),C=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[j,M]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(C);if(ye){const ze=JSON.parse(ye);if(ze&&typeof ze=="object"){M(ze);return}}}catch{}const be=r.flowers?.[0];be&&M({[be.id]:!0})},[C]),ee.useEffect(()=>{try{localStorage.setItem(C,JSON.stringify(j))}catch{}},[C,j]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const be=a.flowerId;M(ye=>ye?.[be]?ye:{...ye,[be]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const be=a.flowerIds;M(ye=>{const ze={...ye};for(const Gt of be)ze[Gt]=!0;return ze})}},[a]);const p=be=>j?.[be]??!1,g=be=>M(ye=>({...ye,[be]:!(ye?.[be]??!1)})),L=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[H,T]=ee.useState({});ee.useEffect(()=>{try{const ye=localStorage.getItem(L);if(ye){const ze=JSON.parse(ye);if(ze&&typeof ze=="object"){T(ze);return}}}catch{}const be=r.groups??[];if(be.length>0){const ye={};for(const ze of be)ye[ze.id]=!0;T(ye)}},[L]),ee.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(H))}catch{}},[L,H]);const G=be=>H?.[be]??!0,B=be=>T(ye=>({...ye,[be]:!(ye?.[be]??!0)})),Y=ee.useRef({flowerId:null,timer:null}),k=be=>{const ye=Y.current.timer;ye&&window.clearTimeout(ye),Y.current.flowerId=be,Y.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:be}),M(ze=>({...ze,[be]:!0})),Y.current.timer=null,Y.current.flowerId=null},200)},K=be=>{const ye=Y.current.timer;ye&&Y.current.flowerId===be&&window.clearTimeout(ye),Y.current.timer=null,Y.current.flowerId=null,i({kind:"flower",flowerId:be}),g(be)},P=ee.useRef(null),[W,J]=ee.useState({w:520,h:520});ee.useEffect(()=>{const be=P.current;if(!be)return;const ye=new ResizeObserver(ze=>{for(const Gt of ze){const{width:Ct,height:Xt}=Gt.contentRect;Ct>0&&Xt>0&&J({w:Ct,h:Xt})}});return ye.observe(be),()=>ye.disconnect()},[]);const R=be=>{const ye=P.current;if(!ye)return{x:0,y:0};const ze=ye.createSVGPoint();ze.x=be.clientX,ze.y=be.clientY;const Gt=ye.getScreenCTM();if(!Gt)return{x:0,y:0};const Ct=ze.matrixTransform(Gt.inverse());return{x:Ct.x,y:Ct.y}},V=500*un,U=-300*un,b=800*un,m=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[A,I]=ee.useState(6),[q,D]=ee.useState(m[6]),_=ee.useCallback(be=>{I(ye=>{const ze=typeof be=="function"?be(ye):be;return D(m[ze]),ze})},[m]),N=ee.useCallback(be=>{const ye=pe(be,m[0],m[m.length-1]);D(ye);let ze=0,Gt=Math.abs(m[0]-ye);for(let Ct=1;Ct<m.length;Ct++){const Xt=Math.abs(m[Ct]-ye);Xt<Gt&&(ze=Ct,Gt=Xt)}I(ze)},[m]),[O,Z]=ee.useState({x:0,y:0}),[F,le]=ee.useState(!0),[re,se]=ee.useState(!1),ce=ee.useRef(null),me=ee.useMemo(()=>{const be=W.w/W.h,ye=520,ze=ye*be;return(Gt,Ct=q)=>{const Xt=pe(Gt.x,-(b*Ct-ze),-U*Ct),Tl=pe(Gt.y,-(b*Ct-ye),-U*Ct);return{x:Xt,y:Tl}}},[W,q,U,b]),de=ee.useMemo(()=>me(O),[O,me]),Me=ee.useCallback(be=>Z(be),[]),nt=ee.useMemo(()=>{const be=W.w/W.h,ye=520,ze=ye*be,Gt=-de.x/q,Ct=-de.y/q;return`${Gt} ${Ct} ${ze/q} ${ye/q}`},[q,de,W]),{deleteLeafById:Ue,handleShiftLeafSelect:Ze,groupSelectedLeaves:Re,ungroupLeaves:mt,addLeafToGroup:dt,removeLeafFromGroup:bt,addLeavesToGroup:Ut,mergeLeafGroups:Gn}=vb({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Wn,addFlowerOpts:Pe,setAddFlowerOpts:pn,addFlower:Dl,confirmAddFlower:rl}=yb({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:M,zoom:q,pan:de,stageSize:W,CANVAS_MAX_SVG:V}),{showAddLeafDialog:cl,setShowAddLeafDialog:Nl,addLeafOpts:ra,setAddLeafOpts:Vn,addLeaf:fi,confirmAddLeaf:Rn}=Sb({project:r,applyUpdate:f,setSelection:i,zoom:q,pan:de,stageSize:W,CANVAS_MAX_SVG:V}),{selectedFlower:It,selectedFlowers:yn,selectedLeaf:Oe,selectedLayer:he,selectedPetalIndex:ke,selectedPetals:Ie,selectedStencil:Se,selectedFlowerId:_e,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:De}=Cb(r,a),{deleteFlowerById:we,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:We,deleteSelected:Ve,groupSelectedFlowers:Ee,groupSelectedMixed:qt,ungroupFlowers:et,ungroupAll:Nt,deleteGroup:rt,addToGroup:lt,mergeGroups:gt,addStencil:On,deleteStencil:ca,handleShiftFlowerSelect:sn,togglePetalSelection:vt}=bb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:M,setExpandedGroups:T,zoom:q,pan:de,stageSize:W,CANVAS_MAX_SVG:V,deleteLeafById:Ue}),Te=fm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:q,pan:de,setPan:Me,stageRef:P,clientToSvgPoint:R,togglePetalSelection:vt}),[ul,di]=ee.useState(0),Jn=a.kind,F0=Jn==="flower"?a.flowerId:null,hr=Jn==="flowers"?a.flowerIds?.join(","):null,ua=Jn==="layer"||Jn==="petal"?a.layerId:null,hi=Jn==="petal"?a.index:null,Al=Jn==="petals"?a.petals?.length:null;ee.useEffect(()=>{Jn!=="project"&&di(Date.now())},[Jn,F0,hr,ua,hi,Al]),ee.useEffect(()=>{if(!ce.current)return;const be=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!be)return;const ye=ce.current.querySelector(`[data-flower-id="${be}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const El=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ul]);return s.jsxs("div",{className:"mx-auto flex h-full max-w-[1440px] flex-col overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 md:flex-row md:gap-0",ref:S,children:[s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:w?{width:`${v.left}%`}:void 0,children:s.jsx(vm,{project:r,selection:a,setSelection:i,expandedFlowers:j,setExpandedFlowers:M,isExpanded:p,toggleExpanded:g,scheduleFlowerRowClick:k,handleFlowerRowDoubleClick:K,addFlower:Dl,deleteSelected:Ve,addOuterLayer:$e,deleteOuterLayer:We,deleteFlowerById:we,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:ce,groups:r.groups??[],expandedGroups:H,isGroupExpanded:G,toggleGroupExpanded:B,onSelectGroup:be=>i({kind:"group",groupId:be}),onUngroupFlowers:et,onDeleteGroup:rt,leaves:r.leaves??[],onSelectLeaf:be=>i({kind:"leaf",leafId:be}),onAddLeaf:fi,onDeleteLeaf:Ue})}),s.jsx(Qd,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:y}),s.jsx("div",{className:"min-w-0 md:min-h-0 md:flex md:flex-col",style:{flex:1},children:s.jsx(Km,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:_e,zoom:q,setZoom:N,zoomLevel:A,setZoomLevel:_,ZOOM_LEVELS:m,pan:de,panRaw:O,setPan:Me,showGrid:F,setShowGrid:le,showHelp:re,setShowHelp:se,stageRef:P,viewBox:nt,dashSyncToken:ul,dashDelay:El,beginPan:Te.beginPan,updatePan:Te.updatePan,endPan:Te.endPan,beginMarquee:Te.beginMarquee,updateMarquee:Te.updateMarquee,endMarquee:Te.endMarquee,marqueeRef:Te.marqueeRef,marqueeRect:Te.marqueeRect,beginFlowerDrag:Te.beginFlowerDrag,updateFlowerDrag:Te.updateFlowerDrag,endFlowerDrag:Te.endFlowerDrag,scaleDragRef:Te.scaleDragRef,beginScaleDrag:Te.beginScaleDrag,updateScaleDrag:Te.updateScaleDrag,endScaleDrag:Te.endScaleDrag,rotationDragRef:Te.rotationDragRef,beginRotationDrag:Te.beginRotationDrag,updateRotationDrag:Te.updateRotationDrag,endRotationDrag:Te.endRotationDrag,widthScaleDragRef:Te.widthScaleDragRef,beginWidthScaleDrag:Te.beginWidthScaleDrag,updateWidthScaleDrag:Te.updateWidthScaleDrag,endWidthScaleDrag:Te.endWidthScaleDrag,radiusDragRef:Te.radiusDragRef,beginRadiusDrag:Te.beginRadiusDrag,updateRadiusDrag:Te.updateRadiusDrag,endRadiusDrag:Te.endRadiusDrag,togglePetalSelection:vt,clientToSvgPoint:R,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:On,onDeleteStencil:ca,onSelectStencil:be=>i({kind:"stencil",stencilId:be}),handleShiftFlowerSelect:sn,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:De,onSelectLeaf:be=>i({kind:"leaf",leafId:be}),onSelectGroup:be=>i({kind:"group",groupId:be}),onShiftSelectLeaf:Ze})}),s.jsx(Qd,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:y}),s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:w?{width:`${v.right}%`}:void 0,children:s.jsx(ib,{project:r,selection:a,applyUpdate:f,selectedFlower:It,selectedFlowers:yn,selectedLayer:he,selectedPetalIndex:ke,selectedPetals:Ie,selectedStencil:Se,onDeleteStencil:ca,groups:r.groups??[],onGroupFlowers:Ee,onUngroupFlowers:et,onUngroupAll:Nt,onAddToGroup:lt,onMergeGroups:gt,selectedLeaf:Oe,onDeleteLeaf:Ue,onGroupLeaves:Re,onUngroupLeaves:mt,onAddLeafToGroup:dt,onRemoveLeafFromGroup:bt,onAddLeavesToGroup:Ut,onMergeLeafGroups:Gn,onGroupMixed:qt})})]}),Xn&&s.jsx(ub,{palette:r.palette,addFlowerOpts:Pe,setAddFlowerOpts:pn,onConfirm:rl,onCancel:()=>Wn(!1)}),cl&&s.jsx(xb,{palette:r.palette,addLeafOpts:ra,setAddLeafOpts:Vn,onConfirm:Rn,onCancel:()=>Nl(!1)}),re&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>se(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:be=>be.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>se(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([be,ye])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:be}),s.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},be))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function zb({cg:c}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),o=c.totalAreaCm2,v=parseFloat(i),d=i!==""&&Number.isFinite(v)&&v>0?Math.round(o/v*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function Mb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(zb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Db(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Nb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Ab(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Eb(){const[c,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,o]=ee.useState(null),[v,S]=ee.useState({kind:"project"}),[d,h]=ee.useState([]),[y,w]=ee.useState(0),C=ee.useRef(f),j=ee.useRef(d),M=ee.useRef(y);ee.useEffect(()=>{C.current=f},[f]),ee.useEffect(()=>{j.current=d},[d]),ee.useEffect(()=>{M.current=y},[y]);const p=ee.useRef(null),g=ee.useRef(null),L=ee.useRef(null),H=ee.useRef(null),[T,G]=ee.useState(null);ee.useEffect(()=>{const D=T?window.setTimeout(()=>G(null),2200):null;return()=>{D&&window.clearTimeout(D)}},[T]),ee.useEffect(()=>{i(cr())},[]);function B(D){const _=JSON.stringify(D);h([_]),w(0)}function Y(D,_=!0){if(!_){o(me=>{if(!me)return me;const de=na(me);return D(de),de.updatedAt=N0(),de});return}const N=C.current;if(!N)return;const O=na(N);D(O),O.updatedAt=N0(),o(O);const Z=j.current,F=M.current;if(Z.length===0){B(O);return}const le=JSON.stringify(O);let se=[...Z.slice(0,F+1),le];const ce=50;se.length>ce&&(se=se.slice(se.length-ce)),h(se),w(se.length-1)}function k(){w(D=>{if(D<=0)return D;const _=D-1,N=j.current[_];return N&&o(za(JSON.parse(N))),G("Undo"),_})}function K(){w(D=>{if(D>=j.current.length-1)return D;const _=D+1,N=j.current[_];return N&&o(za(JSON.parse(N))),G("Redo"),_})}function P(){if(!f)return;const D=Vh(f);i(cr()),G(D?"Saved":" ")}function W(){if(!f)return;const D=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),_=URL.createObjectURL(D),N=document.createElement("a");N.href=_,N.download=`${f.title||"tsumami"}.json`,N.click(),URL.revokeObjectURL(_),G("JSON exported")}function J(D){const _=new FileReader;_.onload=()=>{try{const N=JSON.parse(String(_.result??""));if(!N||typeof N!="object"||!Array.isArray(N.flowers))throw new Error("Invalid JSON");const O=za(N);o(O),S({kind:"project"}),B(O),r("editor"),G("Imported")}catch{G("Import failed")}},_.readAsText(D)}function R(D){const _=za(D);o(_),S({kind:"project"}),B(_),r("editor")}function V(D){return D&&(D.kind==="flower"||D.kind==="layer"||D.kind==="petal")?D.flowerId:null}function U(){if(!f)return;const D=V(v);if(!D)return;const _=f.flowers.find(N=>N.id===D);_&&(g.current=na(_),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:_},null,2)).catch(()=>{}),G("Flower copied"))}function b(){if(!f||v.kind!=="leaf")return;const D=(f.leaves??[]).find(_=>_.id===v.leafId);D&&(L.current=na(D),G("Leaf copied"))}function m(){if(!f)return;const D=g.current;if(!D){G("Nothing to paste");return}const _=Uh(D,{x:12+Math.random()*10,y:12+Math.random()*10});Y(N=>{N.flowers.push(_)},!0),S({kind:"flower",flowerId:_.id}),G("Flower pasted")}function A(){if(!f)return;const D=L.current;if(!D)return;const _=Bt("leaf"),N={...na(D),id:_,name:D.name+" (copy)",position:{x:D.position.x+30,y:D.position.y+30}};Y(O=>{O.leaves||(O.leaves=[]),O.leaves.push(N)},!0),S({kind:"leaf",leafId:N.id}),G("Leaf pasted")}function I(D){if(!f)return;const _=V(v);_&&(Y(N=>{const O=N.flowers.findIndex(re=>re.id===_);if(O<0)return;const Z=N.flowers,F=Z[O];if(!F)return;if(Z.splice(O,1),D==="front"){Z.push(F);return}if(D==="back"){Z.unshift(F);return}if(D==="forward"){if(O>=Z.length){Z.push(F);return}Z.splice(O+1,0,F);return}const le=pe(O-1,0,Z.length);Z.splice(le,0,F)},!0),G(D==="front"?"Brought to front":D==="back"?"Sent to back":D==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function D(N){const O=N;if(!O)return!1;const Z=String(O.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!O.isContentEditable}function _(N){if(!(D(N.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?N.metaKey:N.ctrlKey))){if(c==="editor"){if(N.key.toLowerCase()==="c"){N.preventDefault(),v.kind==="leaf"?b():U();return}if(N.key.toLowerCase()==="v"){N.preventDefault(),L.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!g.current)?A():m();return}}N.key.toLowerCase()==="z"&&(N.preventDefault(),N.shiftKey?K():k()),N.key.toLowerCase()==="s"&&(N.preventDefault(),P())}}return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[f,d,y,v,c]);const q=ee.useMemo(()=>f?Ph(f):null,[f]);return s.jsxs("div",{className:"flex h-dvh flex-col bg-neutral-50 text-neutral-900 overflow-hidden",children:[s.jsx(nm,{view:c,onNavigate:r,project:f,onSave:P,onLoad:()=>r("home"),onImportJson:()=>H.current?.click(),onExportJson:W,onExportSvg:()=>{const D=document.querySelector('[data-testid="canvas-svg"]');D&&f&&$h(D,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const D=document.querySelector('[data-testid="canvas-svg"]');D&&f&&em(D,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:D=>{const _=D.target.files?.[0];_&&J(_),D.currentTarget.value=""}}),T&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:T}),s.jsxs("main",{className:"flex-1 min-h-0 overflow-hidden",children:[c==="home"&&s.jsx(lm,{saved:a,onNew:()=>r("new"),onOpen:D=>{const _=za(na(D));o(_),S({kind:"project"}),B(_),r("editor")},onDelete:D=>{Jh(D),i(cr()),G("Deleted")}}),c==="new"&&s.jsx(am,{onBack:()=>r("home"),onCreate:D=>{const _=Yh({title:D});R(_)}}),c==="editor"&&f&&s.jsx(jb,{project:f,selection:v,setSelection:S,applyUpdate:Y,onGoRecipe:()=>r("recipe"),onImport:J,dragRef:p,onCopyFlower:U,onPasteFlower:m,onArrangeFlower:I,canPasteFlower:!!g.current,onUndo:k,onRedo:K,canUndo:y>0,canRedo:y<d.length-1}),c==="recipe"&&f&&q&&s.jsx(Mb,{project:f,recipe:q,onBack:()=>r("editor"),onExportJson:W}),c==="terms"&&s.jsx(Db,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(Nb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Ab,{onNavigate:r})]})}class Tb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Mh.createRoot(document.getElementById("root")).render(s.jsx(ee.StrictMode,{children:s.jsx(Tb,{children:s.jsx(Eb,{})})}));

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const x of f)if(x.type==="childList")for(const g of x.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(f){const x={};return f.integrity&&(x.integrity=f.integrity),f.referrerPolicy&&(x.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?x.credentials="include":f.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(f){if(f.ep)return;f.ep=!0;const x=a(f);fetch(f.href,x)}})();var cs={exports:{}},tr={};var Td;function ph(){if(Td)return tr;Td=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,x){var g=null;if(x!==void 0&&(g=""+x),f.key!==void 0&&(g=""+f.key),"key"in f){x={};for(var S in f)S!=="key"&&(x[S]=f[S])}else x=f;return f=x.ref,{$$typeof:c,type:i,key:g,ref:f!==void 0?f:null,props:x}}return tr.Fragment=r,tr.jsx=a,tr.jsxs=a,tr}var Ld;function yh(){return Ld||(Ld=1,cs.exports=ph()),cs.exports}var s=yh(),us={exports:{}},Ne={};var Ed;function _h(){if(Ed)return Ne;Ed=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),g=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,m={};function L(M,k,K){this.props=M,this.context=k,this.refs=m,this.updater=K||D}L.prototype.isReactComponent={},L.prototype.setState=function(M,k){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,k,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function q(M,k,K){this.props=M,this.context=k,this.refs=m,this.updater=K||D}var B=q.prototype=new Y;B.constructor=q,b(B,L.prototype),B.isPureReactComponent=!0;var O=Array.isArray;function H(){}var R={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function F(M,k,K){var Z=K.ref;return{$$typeof:c,type:M,key:k,ref:Z!==void 0?Z:null,props:K}}function J(M,k){return F(M.type,k,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===c}function I(M){var k={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(K){return k[K]})}var U=/\/+/g;function j(M,k){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):k.toString(36)}function p(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(H,H):(M.status="pending",M.then(function(k){M.status==="pending"&&(M.status="fulfilled",M.value=k)},function(k){M.status==="pending"&&(M.status="rejected",M.reason=k)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function z(M,k,K,Z,Q){var le=typeof M;(le==="undefined"||le==="boolean")&&(M=null);var ce=!1;if(M===null)ce=!0;else switch(le){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(M.$$typeof){case c:case r:ce=!0;break;case y:return ce=M._init,z(ce(M._payload),k,K,Z,Q)}}if(ce)return Q=Q(M),ce=Z===""?"."+j(M,0):Z,O(Q)?(K="",ce!=null&&(K=ce.replace(U,"$&/")+"/"),z(Q,k,K,"",function(be){return be})):Q!=null&&(V(Q)&&(Q=J(Q,K+(Q.key==null||M&&M.key===Q.key?"":(""+Q.key).replace(U,"$&/")+"/")+ce)),k.push(Q)),1;ce=0;var de=Z===""?".":Z+":";if(O(M))for(var fe=0;fe<M.length;fe++)Z=M[fe],le=de+j(Z,fe),ce+=z(Z,k,K,le,Q);else if(fe=w(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(Z=M.next()).done;)Z=Z.value,le=de+j(Z,fe++),ce+=z(Z,k,K,le,Q);else if(le==="object"){if(typeof M.then=="function")return z(p(M),k,K,Z,Q);throw k=String(M),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ce}function E(M,k,K){if(M==null)return M;var Z=[],Q=0;return z(M,Z,"","",function(le){return k.call(K,le,Q++)}),Z}function T(M){if(M._status===-1){var k=M._result;k=k(),k.then(function(K){(M._status===0||M._status===-1)&&(M._status=1,M._result=K)},function(K){(M._status===0||M._status===-1)&&(M._status=2,M._result=K)}),M._status===-1&&(M._status=0,M._result=k)}if(M._status===1)return M._result.default;throw M._result}var G=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},N={map:E,forEach:function(M,k,K){E(M,function(){k.apply(this,arguments)},K)},count:function(M){var k=0;return E(M,function(){k++}),k},toArray:function(M){return E(M,function(k){return k})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=_,Ne.Children=N,Ne.Component=L,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=q,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,k,K){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=b({},M.props),Q=M.key;if(k!=null)for(le in k.key!==void 0&&(Q=""+k.key),k)!X.call(k,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&k.ref===void 0||(Z[le]=k[le]);var le=arguments.length-2;if(le===1)Z.children=K;else if(1<le){for(var ce=Array(le),de=0;de<le;de++)ce[de]=arguments[de+2];Z.children=ce}return F(M.type,Q,Z)},Ne.createContext=function(M){return M={$$typeof:g,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:x,_context:M},M},Ne.createElement=function(M,k,K){var Z,Q={},le=null;if(k!=null)for(Z in k.key!==void 0&&(le=""+k.key),k)X.call(k,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(Q[Z]=k[Z]);var ce=arguments.length-2;if(ce===1)Q.children=K;else if(1<ce){for(var de=Array(ce),fe=0;fe<ce;fe++)de[fe]=arguments[fe+2];Q.children=de}if(M&&M.defaultProps)for(Z in ce=M.defaultProps,ce)Q[Z]===void 0&&(Q[Z]=ce[Z]);return F(M,le,Q)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:S,render:M}},Ne.isValidElement=V,Ne.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:T}},Ne.memo=function(M,k){return{$$typeof:d,type:M,compare:k===void 0?null:k}},Ne.startTransition=function(M){var k=R.T,K={};R.T=K;try{var Z=M(),Q=R.S;Q!==null&&Q(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(H,G)}catch(le){G(le)}finally{k!==null&&K.types!==null&&(k.types=K.types),R.T=k}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(M){return R.H.use(M)},Ne.useActionState=function(M,k,K){return R.H.useActionState(M,k,K)},Ne.useCallback=function(M,k){return R.H.useCallback(M,k)},Ne.useContext=function(M){return R.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,k){return R.H.useDeferredValue(M,k)},Ne.useEffect=function(M,k){return R.H.useEffect(M,k)},Ne.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(M,k,K){return R.H.useImperativeHandle(M,k,K)},Ne.useInsertionEffect=function(M,k){return R.H.useInsertionEffect(M,k)},Ne.useLayoutEffect=function(M,k){return R.H.useLayoutEffect(M,k)},Ne.useMemo=function(M,k){return R.H.useMemo(M,k)},Ne.useOptimistic=function(M,k){return R.H.useOptimistic(M,k)},Ne.useReducer=function(M,k,K){return R.H.useReducer(M,k,K)},Ne.useRef=function(M){return R.H.useRef(M)},Ne.useState=function(M){return R.H.useState(M)},Ne.useSyncExternalStore=function(M,k,K){return R.H.useSyncExternalStore(M,k,K)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.3",Ne}var kd;function Os(){return kd||(kd=1,us.exports=_h()),us.exports}var ee=Os(),ss={exports:{}},nr={},os={exports:{}},xs={};var qd;function Sh(){return qd||(qd=1,(function(c){function r(z,E){var T=z.length;z.push(E);e:for(;0<T;){var G=T-1>>>1,N=z[G];if(0<f(N,E))z[G]=E,z[T]=N,T=G;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var E=z[0],T=z.pop();if(T!==E){z[0]=T;e:for(var G=0,N=z.length,M=N>>>1;G<M;){var k=2*(G+1)-1,K=z[k],Z=k+1,Q=z[Z];if(0>f(K,T))Z<N&&0>f(Q,K)?(z[G]=Q,z[Z]=T,G=Z):(z[G]=K,z[k]=T,G=k);else if(Z<N&&0>f(Q,T))z[G]=Q,z[Z]=T,G=Z;else break e}}return E}function f(z,E){var T=z.sortIndex-E.sortIndex;return T!==0?T:z.id-E.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;c.unstable_now=function(){return x.now()}}else{var g=Date,S=g.now();c.unstable_now=function(){return g.now()-S}}var h=[],d=[],y=1,_=null,v=3,w=!1,D=!1,b=!1,m=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function B(z){for(var E=a(d);E!==null;){if(E.callback===null)i(d);else if(E.startTime<=z)i(d),E.sortIndex=E.expirationTime,r(h,E);else break;E=a(d)}}function O(z){if(b=!1,B(z),!D)if(a(h)!==null)D=!0,H||(H=!0,I());else{var E=a(d);E!==null&&p(O,E.startTime-z)}}var H=!1,R=-1,X=5,F=-1;function J(){return m?!0:!(c.unstable_now()-F<X)}function V(){if(m=!1,H){var z=c.unstable_now();F=z;var E=!0;try{e:{D=!1,b&&(b=!1,Y(R),R=-1),w=!0;var T=v;try{t:{for(B(z),_=a(h);_!==null&&!(_.expirationTime>z&&J());){var G=_.callback;if(typeof G=="function"){_.callback=null,v=_.priorityLevel;var N=G(_.expirationTime<=z);if(z=c.unstable_now(),typeof N=="function"){_.callback=N,B(z),E=!0;break t}_===a(h)&&i(h),B(z)}else i(h);_=a(h)}if(_!==null)E=!0;else{var M=a(d);M!==null&&p(O,M.startTime-z),E=!1}}break e}finally{_=null,v=T,w=!1}E=void 0}}finally{E?I():H=!1}}}var I;if(typeof q=="function")I=function(){q(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=V,I=function(){j.postMessage(null)}}else I=function(){L(V,0)};function p(z,E){R=L(function(){z(c.unstable_now())},E)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(z){z.callback=null},c.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<z?Math.floor(1e3/z):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(z){switch(v){case 1:case 2:case 3:var E=3;break;default:E=v}var T=v;v=E;try{return z()}finally{v=T}},c.unstable_requestPaint=function(){m=!0},c.unstable_runWithPriority=function(z,E){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var T=v;v=z;try{return E()}finally{v=T}},c.unstable_scheduleCallback=function(z,E,T){var G=c.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?G+T:G):T=G,z){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=T+N,z={id:y++,callback:E,priorityLevel:z,startTime:T,expirationTime:N,sortIndex:-1},T>G?(z.sortIndex=T,r(d,z),a(h)===null&&z===a(d)&&(b?(Y(R),R=-1):b=!0,p(O,T-G))):(z.sortIndex=N,r(h,z),D||w||(D=!0,H||(H=!0,I()))),z},c.unstable_shouldYield=J,c.unstable_wrapCallback=function(z){var E=v;return function(){var T=v;v=E;try{return z.apply(this,arguments)}finally{v=T}}}})(xs)),xs}var Bd;function wh(){return Bd||(Bd=1,os.exports=Sh()),os.exports}var fs={exports:{}},Kt={};var Id;function Ch(){if(Id)return Kt;Id=1;var c=Os();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function x(h,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:_==null?null:""+_,children:h,containerInfo:d,implementation:y}}var g=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kt.createPortal=function(h,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return x(h,d,null,y)},Kt.flushSync=function(h){var d=g.T,y=i.p;try{if(g.T=null,i.p=2,h)return h()}finally{g.T=d,i.p=y,i.d.f()}},Kt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Kt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Kt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var y=d.as,_=S(y,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:w}):y==="script"&&i.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Kt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=S(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Kt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=S(y,d.crossOrigin);i.d.L(h,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Kt.preloadModule=function(h,d){if(typeof h=="string")if(d){var y=S(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Kt.requestFormReset=function(h){i.d.r(h)},Kt.unstable_batchedUpdates=function(h,d){return h(d)},Kt.useFormState=function(h,d,y){return g.H.useFormState(h,d,y)},Kt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Gd;function Mh(){if(Gd)return fs.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),fs.exports=Ch(),fs.exports}var Rd;function jh(){if(Rd)return nr;Rd=1;var c=wh(),r=Os(),a=Mh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(x(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return h(u),e;if(o===l)return h(u),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=o;else{for(var C=!1,A=u.child;A;){if(A===n){C=!0,n=u,l=o;break}if(A===l){C=!0,l=u,n=o;break}A=A.sibling}if(!C){for(A=o.child;A;){if(A===n){C=!0,n=o,l=u;break}if(A===l){C=!0,l=o,n=u;break}A=A.sibling}if(!C)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case L:return"Profiler";case m:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case q:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:j(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return j(e(t))}catch{}}return null}var p=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},G=[],N=-1;function M(e){return{current:e}}function k(e){0>N||(e.current=G[N],G[N]=null,N--)}function K(e,t){N++,G[N]=e.current,e.current=t}var Z=M(null),Q=M(null),le=M(null),ce=M(null);function de(e,t){switch(K(le,t),K(Q,e),K(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ed(t),e=td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(Z),K(Z,e)}function fe(){k(Z),k(Q),k(le)}function be(e){e.memoizedState!==null&&K(ce,e);var t=Z.current,n=td(t,e.type);t!==n&&(K(Q,e),K(Z,n))}function he(e){Q.current===e&&(k(Z),k(Q)),ce.current===e&&(k(ce),Pi._currentValue=T)}var De,nt;function Ke(e){if(De===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);De=t&&t[1]||"",nt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+e+nt}var Xe=!1;function dt(e,t){if(!e||Xe)return"";Xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ie){var ae=ie}Reflect.construct(e,[],se)}else{try{se.call()}catch(ie){ae=ie}e.call(se.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),C=o[0],A=o[1];if(C&&A){var W=C.split(`
`),ne=A.split(`
`);for(u=l=0;l<W.length&&!W[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(l===W.length||u===ne.length)for(l=W.length-1,u=ne.length-1;1<=l&&0<=u&&W[l]!==ne[u];)u--;for(;1<=l&&0<=u;l--,u--)if(W[l]!==ne[u]){if(l!==1||u!==1)do if(l--,u--,0>u||W[l]!==ne[u]){var re=`
`+W[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=u);break}}}finally{Xe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ke(n):""}function Yt(e,t){switch(e.tag){case 26:case 27:case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return e.child!==t&&t!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return dt(e.type,!1);case 11:return dt(e.type.render,!1);case 1:return dt(e.type,!0);case 31:return Ke("Activity");default:return""}}function zt(e){try{var t="",n=null;do t+=Yt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ht=c.unstable_scheduleCallback,an=c.unstable_cancelCallback,gn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Pe=c.unstable_now,vn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,il=c.unstable_UserBlockingPriority,rl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,ia=c.unstable_IdlePriority,Vn=c.log,fi=c.unstable_setDisableYieldValue,Gn=null,kt=null;function pn(e){if(typeof Vn=="function"&&fi(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Gn,e)}catch{}}var Re=Math.clz32?Math.clz32:qe,xe=Math.log,ke=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(xe(e)/ke|0)|0}var Se=256,ye=262144,Ae=4194304;function je(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~o,l!==0?u=je(l):(C&=A,C!==0?u=je(C):n||(n=A&~e,n!==0&&(u=je(n))))):(A=l&~o,A!==0?u=je(A):C!==0?u=je(C):n||(n=l&~e,n!==0&&(u=je(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,u,o){var C=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,W=e.expirationTimes,ne=e.hiddenUpdates;for(n=C&~n;0<n;){var re=31-Re(n),se=1<<re;A[re]=0,W[re]=-1;var ae=ne[re];if(ae!==null)for(ne[re]=null,re=0;re<ae.length;re++){var ie=ae[re];ie!==null&&(ie.lane&=-536870913)}n&=~se}l!==0&&et(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(C&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Re(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Re(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yn(){var e=E.p;return e!==0?e:(e=window.event,e===void 0?32:Cd(e.type))}function Ma(e,t){var n=E.p;try{return E.p=e,t()}finally{E.p=n}}var Wt=Math.random().toString(36).slice(2),ze="__reactFiber$"+Wt,Bt="__reactProps$"+Wt,Al="__reactContainer$"+Wt,_n="__reactEvents$"+Wt,F0="__reactListeners$"+Wt,$0="__reactHandles$"+Wt,dr="__reactResources$"+Wt,ra="__reactMarker$"+Wt;function di(e){delete e[ze],delete e[Bt],delete e[_n],delete e[F0],delete e[$0]}function Tl(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Al]||n[ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[ze])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[ze]||e[Al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _e(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Be(e){var t=e[dr];return t||(t=e[dr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[ra]=!0}var _t=new Set,Qn={};function cl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Qn[e]=t,e=0;e<t.length;e++)_t.add(t[e])}var o1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},Ks={};function x1(e){return vt.call(Ks,e)?!0:vt.call(Hs,e)?!1:o1.test(e)?Ks[e]=!0:(Hs[e]=!0,!1)}function hr(e,t,n){if(x1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function mr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Us(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(C){n=""+C,o.call(this,C)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(C){n=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){if(!e._valueTracker){var t=Us(e)?"checked":"value";e._valueTracker=f1(e,t,""+e[t])}}function Zs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Us(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function br(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d1=/[\n"\\]/g;function wn(e){return e.replace(d1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tc(e,t,n,l,u,o,C,A){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?nc(e,C,Sn(t)):n!=null?nc(e,C,Sn(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Sn(A):e.removeAttribute("name")}function Xs(e,t,n,l,u,o,C,A){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ec(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),ec(e)}function nc(e,t,n){t==="number"&&br(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ws(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Js(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(p(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ec(e)}function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var h1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||h1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Qs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Vs(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Vs(e,o,t[o])}function lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gr(e){return b1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sl(){}var ac=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Aa=null;function Ps(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[Bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Bt]||null;if(!u)throw Error(i(90));tc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Zs(l)}break e;case"textarea":Ws(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var rc=!1;function Fs(e,t,n){if(rc)return e(t,n);rc=!0;try{var l=e(t);return l}finally{if(rc=!1,(Na!==null||Aa!==null)&&(a0(),Na&&(t=Na,e=Aa,Aa=Na=null,Ps(t),e)))for(t=0;t<e.length;t++)Ps(e[t])}}function hi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Bt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var ol=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(ol)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){cc=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{cc=!1}var Ll=null,uc=null,vr=null;function $s(){if(vr)return vr;var e,t=uc,n=t.length,l,u="value"in Ll?Ll.value:Ll.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var C=n-e;for(l=1;l<=C&&t[n-l]===u[o-l];l++);return vr=u.slice(e,1<l?1-l:void 0)}function pr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yr(){return!0}function eo(){return!1}function Jt(e){function t(n,l,u,o,C){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=C,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(o):o[A]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yr:eo,this.isPropagationStopped=eo,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=Jt(ca),bi=_({},ca,{view:0,detail:0}),g1=Jt(bi),sc,oc,gi,Sr=_({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(sc=e.screenX-gi.screenX,oc=e.screenY-gi.screenY):oc=sc=0,gi=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),to=Jt(Sr),v1=_({},Sr,{dataTransfer:0}),p1=Jt(v1),y1=_({},bi,{relatedTarget:0}),xc=Jt(y1),_1=_({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),S1=Jt(_1),w1=_({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C1=Jt(w1),M1=_({},ca,{data:0}),no=Jt(M1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D1[e])?!!t[e]:!1}function fc(){return N1}var A1=_({},bi,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T1=Jt(A1),L1=_({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lo=Jt(L1),E1=_({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),k1=Jt(E1),q1=_({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),B1=Jt(q1),I1=_({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=Jt(I1),R1=_({},ca,{newState:0,oldState:0}),O1=Jt(R1),Y1=[9,13,27,32],dc=ol&&"CompositionEvent"in window,vi=null;ol&&"documentMode"in document&&(vi=document.documentMode);var H1=ol&&"TextEvent"in window&&!vi,ao=ol&&(!dc||vi&&8<vi&&11>=vi),io=" ",ro=!1;function co(e,t){switch(e){case"keyup":return Y1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function K1(e,t){switch(e){case"compositionend":return uo(t);case"keypress":return t.which!==32?null:(ro=!0,io);case"textInput":return e=t.data,e===io&&ro?null:e;default:return null}}function U1(e,t){if(Ta)return e==="compositionend"||!dc&&co(e,t)?(e=$s(),vr=uc=Ll=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ao&&t.locale!=="ko"?null:t.data;default:return null}}var Z1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z1[e.type]:t==="textarea"}function oo(e,t,n,l){Na?Aa?Aa.push(l):Aa=[l]:Na=l,t=x0(t,"onChange"),0<t.length&&(n=new _r("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var pi=null,yi=null;function X1(e){Jf(e,0)}function wr(e){var t=_e(e);if(Zs(t))return e}function xo(e,t){if(e==="change")return t}var fo=!1;if(ol){var hc;if(ol){var mc="oninput"in document;if(!mc){var ho=document.createElement("div");ho.setAttribute("oninput","return;"),mc=typeof ho.oninput=="function"}hc=mc}else hc=!1;fo=hc&&(!document.documentMode||9<document.documentMode)}function mo(){pi&&(pi.detachEvent("onpropertychange",bo),yi=pi=null)}function bo(e){if(e.propertyName==="value"&&wr(yi)){var t=[];oo(t,yi,e,ic(e)),Fs(X1,t)}}function W1(e,t,n){e==="focusin"?(mo(),pi=t,yi=n,pi.attachEvent("onpropertychange",bo)):e==="focusout"&&mo()}function J1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wr(yi)}function V1(e,t){if(e==="click")return wr(t)}function Q1(e,t){if(e==="input"||e==="change")return wr(t)}function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:P1;function _i(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!vt.call(t,u)||!rn(e[u],t[u]))return!1}return!0}function go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vo(e,t){var n=go(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=go(n)}}function po(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?po(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=br(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=br(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var F1=ol&&"documentMode"in document&&11>=document.documentMode,La=null,gc=null,Si=null,vc=!1;function _o(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vc||La==null||La!==br(l)||(l=La,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Si&&_i(Si,l)||(Si=l,l=x0(gc,"onSelect"),0<l.length&&(t=new _r("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},pc={},So={};ol&&(So=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function sa(e){if(pc[e])return pc[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in So)return pc[e]=t[n];return e}var wo=sa("animationend"),Co=sa("animationiteration"),Mo=sa("animationstart"),$1=sa("transitionrun"),e2=sa("transitionstart"),t2=sa("transitioncancel"),jo=sa("transitionend"),zo=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function Rn(e,t){zo.set(e,t),cl(t,[e])}var Cr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ka=0,_c=0;function Mr(){for(var e=ka,t=_c=ka=0;t<e;){var n=Cn[t];Cn[t++]=null;var l=Cn[t];Cn[t++]=null;var u=Cn[t];Cn[t++]=null;var o=Cn[t];if(Cn[t++]=null,l!==null&&u!==null){var C=l.pending;C===null?u.next=u:(u.next=C.next,C.next=u),l.pending=u}o!==0&&Do(n,u,o)}}function jr(e,t,n,l){Cn[ka++]=e,Cn[ka++]=t,Cn[ka++]=n,Cn[ka++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sc(e,t,n,l){return jr(e,t,n,l),zr(e)}function oa(e,t){return jr(e,null,null,t),zr(e)}function Do(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Re(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function zr(e){if(50<Ui)throw Ui=0,Tu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qa={};function n2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,l){return new n2(e,t,n,l)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xl(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function No(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Dr(e,t,n,l,u,o){var C=0;if(l=e,typeof e=="function")wc(e)&&(C=1);else if(typeof e=="string")C=ch(e,n,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=cn(31,n,t,u),e.elementType=F,e.lanes=o,e;case b:return xa(n.children,u,o,t);case m:C=8,u|=24;break;case L:return e=cn(12,n,t,u|2),e.elementType=L,e.lanes=o,e;case O:return e=cn(13,n,t,u),e.elementType=O,e.lanes=o,e;case H:return e=cn(19,n,t,u),e.elementType=H,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:C=10;break e;case Y:C=9;break e;case B:C=11;break e;case R:C=14;break e;case X:C=16,l=null;break e}C=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=cn(C,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function xa(e,t,n,l){return e=cn(7,e,l,t),e.lanes=n,e}function Cc(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function Ao(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function Mc(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var To=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=To.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zt(t)},To.set(e,t),t)}return{value:e,source:t,stack:zt(t)}}var Ba=[],Ia=0,Nr=null,wi=0,jn=[],zn=0,El=null,Pn=1,Fn="";function fl(e,t){Ba[Ia++]=wi,Ba[Ia++]=Nr,Nr=e,wi=t}function Lo(e,t,n){jn[zn++]=Pn,jn[zn++]=Fn,jn[zn++]=El,El=e;var l=Pn;e=Fn;var u=32-Re(l)-1;l&=~(1<<u),n+=1;var o=32-Re(t)+u;if(30<o){var C=u-u%5;o=(l&(1<<C)-1).toString(32),l>>=C,u-=C,Pn=1<<32-Re(t)+u|n<<u|l,Fn=o+e}else Pn=1<<o|n<<u|l,Fn=e}function jc(e){e.return!==null&&(fl(e,1),Lo(e,1,0))}function zc(e){for(;e===Nr;)Nr=Ba[--Ia],Ba[Ia]=null,wi=Ba[--Ia],Ba[Ia]=null;for(;e===El;)El=jn[--zn],jn[zn]=null,Fn=jn[--zn],jn[zn]=null,Pn=jn[--zn],jn[zn]=null}function Eo(e,t){jn[zn++]=Pn,jn[zn++]=Fn,jn[zn++]=El,Pn=t.id,Fn=t.overflow,El=e}var It=null,xt=null,He=!1,kl=null,Dn=!1,Dc=Error(i(519));function ql(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Mn(t,e)),Dc}function ko(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ze]=e,t[Bt]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Xi.length;n++)Ge(Xi[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Xs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Js(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Ff(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=sl),t=!0):t=!1,t||ql(e,!0)}function qo(e){for(It=e.return;It;)switch(It.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:It=It.return}}function Ga(e){if(e!==It)return!1;if(!He)return qo(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xu(e.type,e.memoizedProps)),n=!n),n&&xt&&ql(e),qo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=cd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=cd(e)}else t===27?(t=xt,Vl(e.type)?(e=Pu,Pu=null,xt=e):xt=t):xt=It?An(e.stateNode.nextSibling):null;return!0}function fa(){xt=It=null,He=!1}function Nc(){var e=kl;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),kl=null),e}function Ci(e){kl===null?kl=[e]:kl.push(e)}var Ac=M(null),da=null,dl=null;function Bl(e,t,n){K(Ac,t._currentValue),t._currentValue=n}function hl(e){e._currentValue=Ac.current,k(Ac)}function Tc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Lc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var C=u.child;o=o.firstContext;e:for(;o!==null;){var A=o;o=u;for(var W=0;W<t.length;W++)if(A.context===t[W]){o.lanes|=n,A=o.alternate,A!==null&&(A.lanes|=n),Tc(o.return,n,e),l||(C=null);break e}o=A.next}}else if(u.tag===18){if(C=u.return,C===null)throw Error(i(341));C.lanes|=n,o=C.alternate,o!==null&&(o.lanes|=n),Tc(C,n,e),C=null}else C=u.child;if(C!==null)C.return=u;else for(C=u;C!==null;){if(C===e){C=null;break}if(u=C.sibling,u!==null){u.return=C.return,C=u;break}C=C.return}u=C}}function Ra(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var C=u.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var A=u.type;rn(u.pendingProps.value,C.value)||(e!==null?e.push(A):e=[A])}}else if(u===ce.current){if(C=u.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Pi):e=[Pi])}u=u.return}e!==null&&Lc(t,e,n,l),t.flags|=262144}function Ar(e){for(e=e.firstContext;e!==null;){if(!rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){da=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Bo(da,e)}function Tr(e,t){return da===null&&ha(e),Bo(e,t)}function Bo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dl===null){if(e===null)throw Error(i(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return n}var l2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},a2=c.unstable_scheduleCallback,i2=c.unstable_NormalPriority,St={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new l2,data:new Map,refCount:0}}function Mi(e){e.refCount--,e.refCount===0&&a2(i2,function(){e.controller.abort()})}var ji=null,kc=0,Oa=0,Ya=null;function r2(e,t){if(ji===null){var n=ji=[];kc=0,Oa=Iu(),Ya={status:"pending",value:void 0,then:function(l){n.push(l)}}}return kc++,t.then(Io,Io),t}function Io(){if(--kc===0&&ji!==null){Ya!==null&&(Ya.status="fulfilled");var e=ji;ji=null,Oa=0,Ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function c2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Go=z.S;z.S=function(e,t){Sf=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&r2(e,t),Go!==null&&Go(e,t)};var ma=M(null);function qc(){var e=ma.current;return e!==null?e:ot.pooledCache}function Lr(e,t){t===null?K(ma,ma.current):K(ma,t.pool)}function Ro(){var e=qc();return e===null?null:{parent:St._currentValue,pool:e}}var Ha=Error(i(460)),Bc=Error(i(474)),Er=Error(i(542)),kr={then:function(){}};function Oo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yo(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sl,sl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ko(e),e;default:if(typeof t.status=="string")t.then(sl,sl);else{if(e=ot,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ko(e),e}throw ga=t,Ha}}function ba(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ga=n,Ha):n}}var ga=null;function Ho(){if(ga===null)throw Error(i(459));var e=ga;return ga=null,e}function Ko(e){if(e===Ha||e===Er)throw Error(i(483))}var Ka=null,zi=0;function qr(e){var t=zi;return zi+=1,Ka===null&&(Ka=[]),Yo(Ka,e,t)}function Di(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uo(e){function t($,P){if(e){var te=$.deletions;te===null?($.deletions=[P],$.flags|=16):te.push(P)}}function n($,P){if(!e)return null;for(;P!==null;)t($,P),P=P.sibling;return null}function l($){for(var P=new Map;$!==null;)$.key!==null?P.set($.key,$):P.set($.index,$),$=$.sibling;return P}function u($,P){return $=xl($,P),$.index=0,$.sibling=null,$}function o($,P,te){return $.index=te,e?(te=$.alternate,te!==null?(te=te.index,te<P?($.flags|=67108866,P):te):($.flags|=67108866,P)):($.flags|=1048576,P)}function C($){return e&&$.alternate===null&&($.flags|=67108866),$}function A($,P,te,ue){return P===null||P.tag!==6?(P=Cc(te,$.mode,ue),P.return=$,P):(P=u(P,te),P.return=$,P)}function W($,P,te,ue){var Ce=te.type;return Ce===b?re($,P,te.props.children,ue,te.key):P!==null&&(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&ba(Ce)===P.type)?(P=u(P,te.props),Di(P,te),P.return=$,P):(P=Dr(te.type,te.key,te.props,null,$.mode,ue),Di(P,te),P.return=$,P)}function ne($,P,te,ue){return P===null||P.tag!==4||P.stateNode.containerInfo!==te.containerInfo||P.stateNode.implementation!==te.implementation?(P=Mc(te,$.mode,ue),P.return=$,P):(P=u(P,te.children||[]),P.return=$,P)}function re($,P,te,ue,Ce){return P===null||P.tag!==7?(P=xa(te,$.mode,ue,Ce),P.return=$,P):(P=u(P,te),P.return=$,P)}function se($,P,te){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Cc(""+P,$.mode,te),P.return=$,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return te=Dr(P.type,P.key,P.props,null,$.mode,te),Di(te,P),te.return=$,te;case D:return P=Mc(P,$.mode,te),P.return=$,P;case X:return P=ba(P),se($,P,te)}if(p(P)||I(P))return P=xa(P,$.mode,te,null),P.return=$,P;if(typeof P.then=="function")return se($,qr(P),te);if(P.$$typeof===q)return se($,Tr($,P),te);Br($,P)}return null}function ae($,P,te,ue){var Ce=P!==null?P.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:A($,P,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Ce?W($,P,te,ue):null;case D:return te.key===Ce?ne($,P,te,ue):null;case X:return te=ba(te),ae($,P,te,ue)}if(p(te)||I(te))return Ce!==null?null:re($,P,te,ue,null);if(typeof te.then=="function")return ae($,P,qr(te),ue);if(te.$$typeof===q)return ae($,P,Tr($,te),ue);Br($,te)}return null}function ie($,P,te,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(te)||null,A(P,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return $=$.get(ue.key===null?te:ue.key)||null,W(P,$,ue,Ce);case D:return $=$.get(ue.key===null?te:ue.key)||null,ne(P,$,ue,Ce);case X:return ue=ba(ue),ie($,P,te,ue,Ce)}if(p(ue)||I(ue))return $=$.get(te)||null,re(P,$,ue,Ce,null);if(typeof ue.then=="function")return ie($,P,te,qr(ue),Ce);if(ue.$$typeof===q)return ie($,P,te,Tr(P,ue),Ce);Br(P,ue)}return null}function ge($,P,te,ue){for(var Ce=null,Ve=null,ve=P,Ee=P=0,Ye=null;ve!==null&&Ee<te.length;Ee++){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var Qe=ae($,ve,te[Ee],ue);if(Qe===null){ve===null&&(ve=Ye);break}e&&ve&&Qe.alternate===null&&t($,ve),P=o(Qe,P,Ee),Ve===null?Ce=Qe:Ve.sibling=Qe,Ve=Qe,ve=Ye}if(Ee===te.length)return n($,ve),He&&fl($,Ee),Ce;if(ve===null){for(;Ee<te.length;Ee++)ve=se($,te[Ee],ue),ve!==null&&(P=o(ve,P,Ee),Ve===null?Ce=ve:Ve.sibling=ve,Ve=ve);return He&&fl($,Ee),Ce}for(ve=l(ve);Ee<te.length;Ee++)Ye=ie(ve,$,Ee,te[Ee],ue),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ee:Ye.key),P=o(Ye,P,Ee),Ve===null?Ce=Ye:Ve.sibling=Ye,Ve=Ye);return e&&ve.forEach(function(ea){return t($,ea)}),He&&fl($,Ee),Ce}function Me($,P,te,ue){if(te==null)throw Error(i(151));for(var Ce=null,Ve=null,ve=P,Ee=P=0,Ye=null,Qe=te.next();ve!==null&&!Qe.done;Ee++,Qe=te.next()){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var ea=ae($,ve,Qe.value,ue);if(ea===null){ve===null&&(ve=Ye);break}e&&ve&&ea.alternate===null&&t($,ve),P=o(ea,P,Ee),Ve===null?Ce=ea:Ve.sibling=ea,Ve=ea,ve=Ye}if(Qe.done)return n($,ve),He&&fl($,Ee),Ce;if(ve===null){for(;!Qe.done;Ee++,Qe=te.next())Qe=se($,Qe.value,ue),Qe!==null&&(P=o(Qe,P,Ee),Ve===null?Ce=Qe:Ve.sibling=Qe,Ve=Qe);return He&&fl($,Ee),Ce}for(ve=l(ve);!Qe.done;Ee++,Qe=te.next())Qe=ie(ve,$,Ee,Qe.value,ue),Qe!==null&&(e&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ee:Qe.key),P=o(Qe,P,Ee),Ve===null?Ce=Qe:Ve.sibling=Qe,Ve=Qe);return e&&ve.forEach(function(vh){return t($,vh)}),He&&fl($,Ee),Ce}function st($,P,te,ue){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Ce=te.key;P!==null;){if(P.key===Ce){if(Ce=te.type,Ce===b){if(P.tag===7){n($,P.sibling),ue=u(P,te.props.children),ue.return=$,$=ue;break e}}else if(P.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&ba(Ce)===P.type){n($,P.sibling),ue=u(P,te.props),Di(ue,te),ue.return=$,$=ue;break e}n($,P);break}else t($,P);P=P.sibling}te.type===b?(ue=xa(te.props.children,$.mode,ue,te.key),ue.return=$,$=ue):(ue=Dr(te.type,te.key,te.props,null,$.mode,ue),Di(ue,te),ue.return=$,$=ue)}return C($);case D:e:{for(Ce=te.key;P!==null;){if(P.key===Ce)if(P.tag===4&&P.stateNode.containerInfo===te.containerInfo&&P.stateNode.implementation===te.implementation){n($,P.sibling),ue=u(P,te.children||[]),ue.return=$,$=ue;break e}else{n($,P);break}else t($,P);P=P.sibling}ue=Mc(te,$.mode,ue),ue.return=$,$=ue}return C($);case X:return te=ba(te),st($,P,te,ue)}if(p(te))return ge($,P,te,ue);if(I(te)){if(Ce=I(te),typeof Ce!="function")throw Error(i(150));return te=Ce.call(te),Me($,P,te,ue)}if(typeof te.then=="function")return st($,P,qr(te),ue);if(te.$$typeof===q)return st($,P,Tr($,te),ue);Br($,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,P!==null&&P.tag===6?(n($,P.sibling),ue=u(P,te),ue.return=$,$=ue):(n($,P),ue=Cc(te,$.mode,ue),ue.return=$,$=ue),C($)):n($,P)}return function($,P,te,ue){try{zi=0;var Ce=st($,P,te,ue);return Ka=null,Ce}catch(ve){if(ve===Ha||ve===Er)throw ve;var Ve=cn(29,ve,null,$.mode);return Ve.lanes=ue,Ve.return=$,Ve}}}var va=Uo(!0),Zo=Uo(!1),Il=!1;function Ic(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=zr(e),Do(e,null,n),t}return jr(e,l,t,n),zr(e)}function Ni(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}function Rc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var C={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=C:o=o.next=C,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oc=!1;function Ai(){if(Oc){var e=Ya;if(e!==null)throw e}}function Ti(e,t,n,l){Oc=!1;var u=e.updateQueue;Il=!1;var o=u.firstBaseUpdate,C=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var W=A,ne=W.next;W.next=null,C===null?o=ne:C.next=ne,C=W;var re=e.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==C&&(A===null?re.firstBaseUpdate=ne:A.next=ne,re.lastBaseUpdate=W))}if(o!==null){var se=u.baseState;C=0,re=ne=W=null,A=o;do{var ae=A.lane&-536870913,ie=ae!==A.lane;if(ie?(Oe&ae)===ae:(l&ae)===ae){ae!==0&&ae===Oa&&(Oc=!0),re!==null&&(re=re.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=e,Me=A;ae=t;var st=n;switch(Me.tag){case 1:if(ge=Me.payload,typeof ge=="function"){se=ge.call(st,se,ae);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Me.payload,ae=typeof ge=="function"?ge.call(st,se,ae):ge,ae==null)break e;se=_({},se,ae);break e;case 2:Il=!0}}ae=A.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(ne=re=ie,W=se):re=re.next=ie,C|=ae;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);re===null&&(W=se),u.baseState=W,u.firstBaseUpdate=ne,u.lastBaseUpdate=re,o===null&&(u.shared.lanes=0),Ul|=C,e.lanes=C,e.memoizedState=se}}function Xo(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Wo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xo(n[e],t)}var Ua=M(null),Ir=M(0);function Jo(e,t){e=wl,K(Ir,e),K(Ua,t),wl=e|t.baseLanes}function Yc(){K(Ir,wl),K(Ua,Ua.current)}function Hc(){wl=Ir.current,k(Ua),k(Ir)}var un=M(null),Nn=null;function Ol(e){var t=e.alternate;K(pt,pt.current&1),K(un,e),Nn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Nn=e)}function Kc(e){K(pt,pt.current),K(un,e),Nn===null&&(Nn=e)}function Vo(e){e.tag===22?(K(pt,pt.current),K(un,e),Nn===null&&(Nn=e)):Yl()}function Yl(){K(pt,pt.current),K(un,un.current)}function sn(e){k(un),Nn===e&&(Nn=null),k(pt)}var pt=M(0);function Gr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Qu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,Le=null,ct=null,wt=null,Rr=!1,Za=!1,pa=!1,Or=0,Li=0,Xa=null,u2=0;function bt(){throw Error(i(321))}function Uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rn(e[n],t[n]))return!1;return!0}function Zc(e,t,n,l,u,o){return ml=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Lx:ru,pa=!1,o=n(l,u),pa=!1,Za&&(o=Po(t,n,l,u)),Qo(e),o}function Qo(e){z.H=qi;var t=ct!==null&&ct.next!==null;if(ml=0,wt=ct=Le=null,Rr=!1,Li=0,Xa=null,t)throw Error(i(300));e===null||Ct||(e=e.dependencies,e!==null&&Ar(e)&&(Ct=!0))}function Po(e,t,n,l){Le=e;var u=0;do{if(Za&&(Xa=null),Li=0,Za=!1,25<=u)throw Error(i(301));if(u+=1,wt=ct=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=Ex,o=t(n,l)}while(Za);return o}function s2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ei(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Le.flags|=1024),t}function Xc(){var e=Or!==0;return Or=0,e}function Wc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jc(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}ml=0,wt=ct=Le=null,Za=!1,Li=Or=0,Xa=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Le.memoizedState=wt=e:wt=wt.next=e,wt}function yt(){if(ct===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=wt===null?Le.memoizedState:wt.next;if(t!==null)wt=t,ct=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},wt===null?Le.memoizedState=wt=e:wt=wt.next=e}return wt}function Yr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(e){var t=Li;return Li+=1,Xa===null&&(Xa=[]),e=Yo(Xa,e,t),t=Le,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Lx:ru),e}function Hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ei(e);if(e.$$typeof===q)return Gt(e)}throw Error(i(438,String(e)))}function Vc(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Yr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=J;return t.index++,n}function bl(e,t){return typeof t=="function"?t(e):t}function Kr(e){var t=yt();return Qc(t,ct,e)}function Qc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var C=u.next;u.next=o.next,o.next=C}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var A=C=null,W=null,ne=t,re=!1;do{var se=ne.lane&-536870913;if(se!==ne.lane?(Oe&se)===se:(ml&se)===se){var ae=ne.revertLane;if(ae===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),se===Oa&&(re=!0);else if((ml&ae)===ae){ne=ne.next,ae===Oa&&(re=!0);continue}else se={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(A=W=se,C=o):W=W.next=se,Le.lanes|=ae,Ul|=ae;se=ne.action,pa&&n(o,se),o=ne.hasEagerState?ne.eagerState:n(o,se)}else ae={lane:se,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},W===null?(A=W=ae,C=o):W=W.next=ae,Le.lanes|=se,Ul|=se;ne=ne.next}while(ne!==null&&ne!==t);if(W===null?C=o:W.next=A,!rn(o,e.memoizedState)&&(Ct=!0,re&&(n=Ya,n!==null)))throw n;e.memoizedState=o,e.baseState=C,e.baseQueue=W,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=yt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var C=u=u.next;do o=e(o,C.action),C=C.next;while(C!==u);rn(o,t.memoizedState)||(Ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Fo(e,t,n){var l=Le,u=yt(),o=He;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var C=!rn((ct||u).memoizedState,n);if(C&&(u.memoizedState=n,Ct=!0),u=u.queue,eu(tx.bind(null,l,u,e),[e]),u.getSnapshot!==t||C||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},ex.bind(null,l,u,n,t),null),ot===null)throw Error(i(349));o||(ml&127)!==0||$o(l,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Yr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ex(e,t,n,l){t.value=n,t.getSnapshot=l,nx(t)&&lx(e)}function tx(e,t,n){return n(function(){nx(t)&&lx(e)})}function nx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rn(e,n)}catch{return!0}}function lx(e){var t=oa(e,2);t!==null&&$t(t,e,2)}function Fc(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),pa){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t}function ax(e,t,n,l){return e.baseState=n,Qc(e,ct,typeof l=="function"?l:bl)}function o2(e,t,n,l,u){if(Xr(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){o.listeners.push(C)}};z.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,ix(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ix(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=z.T,C={};z.T=C;try{var A=n(u,l),W=z.S;W!==null&&W(C,A),rx(e,t,A)}catch(ne){$c(e,t,ne)}finally{o!==null&&C.types!==null&&(o.types=C.types),z.T=o}}else try{o=n(u,l),rx(e,t,o)}catch(ne){$c(e,t,ne)}}function rx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){cx(e,t,l)},function(l){return $c(e,t,l)}):cx(e,t,n)}function cx(e,t,n){t.status="fulfilled",t.value=n,ux(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ix(e,n)))}function $c(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ux(t),t=t.next;while(t!==l)}e.action=null}function ux(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sx(e,t){return t}function ox(e,t){if(He){var n=ot.formState;if(n!==null){e:{var l=Le;if(He){if(xt){t:{for(var u=xt,o=Dn;u.nodeType!==8;){if(!o){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){xt=An(u.nextSibling),l=u.data==="F!";break e}}ql(l)}l=!1}l&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:t},n.queue=l,n=Nx.bind(null,Le,l),l.dispatch=n,l=Fc(!1),o=iu.bind(null,Le,!1,l.queue),l=Ut(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=o2.bind(null,Le,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xx(e){var t=yt();return fx(t,ct,e)}function fx(e,t,n){if(t=Qc(e,t,sx)[0],e=Kr(bl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ei(t)}catch(C){throw C===Ha?Er:C}else l=t;t=yt();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Wa(9,{destroy:void 0},x2.bind(null,u,n),null)),[l,o,e]}function x2(e,t){e.action=t}function dx(e){var t=yt(),n=ct;if(n!==null)return fx(t,n,e);yt(),t=t.memoizedState,n=yt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Wa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Yr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function hx(){return yt().memoizedState}function Ur(e,t,n,l){var u=Ut();Le.flags|=e,u.memoizedState=Wa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Zr(e,t,n,l){var u=yt();l=l===void 0?null:l;var o=u.memoizedState.inst;ct!==null&&l!==null&&Uc(l,ct.memoizedState.deps)?u.memoizedState=Wa(t,o,n,l):(Le.flags|=e,u.memoizedState=Wa(1|t,o,n,l))}function mx(e,t){Ur(8390656,8,e,t)}function eu(e,t){Zr(2048,8,e,t)}function f2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Yr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bx(e){var t=yt().memoizedState;return f2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function gx(e,t){return Zr(4,2,e,t)}function vx(e,t){return Zr(4,4,e,t)}function px(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yx(e,t,n){n=n!=null?n.concat([e]):null,Zr(4,4,px.bind(null,t,e),n)}function tu(){}function _x(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Sx(e,t){var n=yt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),pa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l}function nu(e,t,n){return n===void 0||(ml&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Cf(),Le.lanes|=e,Ul|=e,n)}function wx(e,t,n,l){return rn(n,t)?n:Ua.current!==null?(e=nu(e,n,l),rn(e,t)||(Ct=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(Oe&261930)===0?(Ct=!0,e.memoizedState=n):(e=Cf(),Le.lanes|=e,Ul|=e,t)}function Cx(e,t,n,l,u){var o=E.p;E.p=o!==0&&8>o?o:8;var C=z.T,A={};z.T=A,iu(e,!1,t,n);try{var W=u(),ne=z.S;if(ne!==null&&ne(A,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=c2(W,l);ki(e,t,re,fn(e))}else ki(e,t,l,fn(e))}catch(se){ki(e,t,{then:function(){},status:"rejected",reason:se},fn())}finally{E.p=o,C!==null&&A.types!==null&&(C.types=A.types),z.T=C}}function d2(){}function lu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=Mx(e).queue;Cx(e,u,t,T,n===null?d2:function(){return jx(e),n(l)})}function Mx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:T},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jx(e){var t=Mx(e);t.next===null&&(t=e.alternate.memoizedState),ki(e,t.next.queue,{},fn())}function au(){return Gt(Pi)}function zx(){return yt().memoizedState}function Dx(){return yt().memoizedState}function h2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=fn();e=Gl(n);var l=Rl(t,e,n);l!==null&&($t(l,t,n),Ni(l,t,n)),t={cache:Ec()},e.payload=t;return}t=t.return}}function m2(e,t,n){var l=fn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Xr(e)?Ax(t,n):(n=Sc(e,t,n,l),n!==null&&($t(n,e,l),Tx(n,t,l)))}function Nx(e,t,n){var l=fn();ki(e,t,n,l)}function ki(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))Ax(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var C=t.lastRenderedState,A=o(C,n);if(u.hasEagerState=!0,u.eagerState=A,rn(A,C))return jr(e,t,u,0),ot===null&&Mr(),!1}catch{}if(n=Sc(e,t,u,l),n!==null)return $t(n,e,l),Tx(n,t,l),!0}return!1}function iu(e,t,n,l){if(l={lane:2,revertLane:Iu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xr(e)){if(t)throw Error(i(479))}else t=Sc(e,n,l,2),t!==null&&$t(t,e,2)}function Xr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Ax(e,t){Za=Rr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Tx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Dt(e,n)}}var qi={readContext:Gt,use:Hr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};qi.useEffectEvent=bt;var Lx={readContext:Gt,use:Hr,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:mx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var l=e();if(pa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Ut();if(n!==void 0){var u=n(t);if(pa){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=m2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,n=Nx.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tu,useDeferredValue:function(e,t){var n=Ut();return nu(n,e,t)},useTransition:function(){var e=Fc(!1);return e=Cx.bind(null,Le,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Ut();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ot===null)throw Error(i(349));(Oe&127)!==0||$o(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,mx(tx.bind(null,l,o,e),[e]),l.flags|=2048,Wa(9,{destroy:void 0},ex.bind(null,l,o,n,t),null),n},useId:function(){var e=Ut(),t=ot.identifierPrefix;if(He){var n=Fn,l=Pn;n=(l&~(1<<32-Re(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=u2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:au,useFormState:ox,useActionState:ox,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iu.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return Ut().memoizedState=h2.bind(null,Le)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ru={readContext:Gt,use:Hr,useCallback:_x,useContext:Gt,useEffect:eu,useImperativeHandle:yx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Kr,useRef:hx,useState:function(){return Kr(bl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=yt();return wx(n,ct.memoizedState,e,t)},useTransition:function(){var e=Kr(bl)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Fo,useId:zx,useHostTransitionStatus:au,useFormState:xx,useActionState:xx,useOptimistic:function(e,t){var n=yt();return ax(n,ct,e,t)},useMemoCache:Vc,useCacheRefresh:Dx};ru.useEffectEvent=bx;var Ex={readContext:Gt,use:Hr,useCallback:_x,useContext:Gt,useEffect:eu,useImperativeHandle:yx,useInsertionEffect:gx,useLayoutEffect:vx,useMemo:Sx,useReducer:Pc,useRef:hx,useState:function(){return Pc(bl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=yt();return ct===null?nu(n,e,t):wx(n,ct.memoizedState,e,t)},useTransition:function(){var e=Pc(bl)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Fo,useId:zx,useHostTransitionStatus:au,useFormState:dx,useActionState:dx,useOptimistic:function(e,t){var n=yt();return ct!==null?ax(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Dx};Ex.useEffectEvent=bx;function cu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=fn(),u=Gl(l);u.payload=t,n!=null&&(u.callback=n),t=Rl(e,u,l),t!==null&&($t(t,e,l),Ni(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=fn(),u=Gl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Rl(e,u,l),t!==null&&($t(t,e,l),Ni(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),l=Gl(n);l.tag=2,t!=null&&(l.callback=t),t=Rl(e,l,n),t!==null&&($t(t,e,n),Ni(t,e,n))}};function kx(e,t,n,l,u,o,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,C):t.prototype&&t.prototype.isPureReactComponent?!_i(n,l)||!_i(u,o):!0}function qx(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function ya(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Bx(e){Cr(e)}function Ix(e){console.error(e)}function Gx(e){Cr(e)}function Wr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,t,n){return n=Gl(n),n.tag=3,n.payload={element:null},n.callback=function(){Wr(e,t)},n}function Ox(e){return e=Gl(e),e.tag=3,e}function Yx(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){Rx(t,n,l)}}var C=n.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Rx(t,n,l),typeof u!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function b2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=un.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?i0():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),ku(e,l,u)),!1;case 22:return n.flags|=65536,l===kr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),ku(e,l,u)),!1}throw Error(i(435,n.tag))}return ku(e,l,u),i0(),!1}if(He)return t=un.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Dc&&(e=Error(i(422),{cause:l}),Ci(Mn(e,n)))):(l!==Dc&&(t=Error(i(423),{cause:l}),Ci(Mn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,n),u=su(e.stateNode,l,u),Rc(e,u),gt!==4&&(gt=2)),!1;var o=Error(i(520),{cause:l});if(o=Mn(o,n),Ki===null?Ki=[o]:Ki.push(o),gt!==4&&(gt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=su(n.stateNode,l,e),Rc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Zl===null||!Zl.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ox(u),Yx(u,e,n,l),Rc(n,u),!1}n=n.return}while(n!==null);return!1}var ou=Error(i(461)),Ct=!1;function Rt(e,t,n,l){t.child=e===null?Zo(t,null,n,l):va(t,e.child,n,l)}function Hx(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var C={};for(var A in l)A!=="ref"&&(C[A]=l[A])}else C=l;return ha(t),l=Zc(e,t,n,C,o,u),A=Xc(),e!==null&&!Ct?(Wc(e,t,u),gl(e,t,u)):(He&&A&&jc(t),t.flags|=1,Rt(e,t,l,u),t.child)}function Kx(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!wc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ux(e,t,o,l,u)):(e=Dr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!vu(e,u)){var C=o.memoizedProps;if(n=n.compare,n=n!==null?n:_i,n(C,l)&&e.ref===t.ref)return gl(e,t,u)}return t.flags|=1,e=xl(o,l),e.ref=t.ref,e.return=t,t.child=e}function Ux(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(_i(o,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=o,vu(e,u))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,gl(e,t,u)}return xu(e,t,n,l,u)}function Zx(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Xx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,o!==null?o.cachePool:null),o!==null?Jo(t,o):Yc(),Vo(t);else return l=t.lanes=536870912,Xx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Lr(t,o.cachePool),Jo(t,o),Yl(),t.memoizedState=null):(e!==null&&Lr(t,null),Yc(),Yl());return Rt(e,t,u,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Xx(e,t,n,l,u){var o=qc();return o=o===null?null:{parent:St._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Lr(t,null),Yc(),Vo(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Jr(e,t){return t=Qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wx(e,t,n){return va(t,e.child,null,n),e=Jr(t,t.pendingProps),e.flags|=2,sn(t),t.memoizedState=null,e}function g2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Jr(t,l),t.lanes=536870912,Bi(null,e);if(Kc(t),(e=xt)?(e=rd(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,It=t,xt=null)):e=null,e===null)throw ql(t);return t.lanes=536870912,null}return Jr(t,l)}var o=e.memoizedState;if(o!==null){var C=o.dehydrated;if(Kc(t),u)if(t.flags&256)t.flags&=-257,t=Wx(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ct||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,Ct||u){if(l=ot,l!==null&&(C=rt(l,n),C!==0&&C!==o.retryLane))throw o.retryLane=C,oa(e,C),$t(l,e,C),ou;i0(),t=Wx(e,t,n)}else e=o.treeContext,xt=An(C.nextSibling),It=t,He=!0,kl=null,Dn=!1,e!==null&&Eo(t,e),t=Jr(t,l),t.flags|=4096;return t}return e=xl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,l,u){return ha(t),n=Zc(e,t,n,l,void 0,u),l=Xc(),e!==null&&!Ct?(Wc(e,t,u),gl(e,t,u)):(He&&l&&jc(t),t.flags|=1,Rt(e,t,n,u),t.child)}function Jx(e,t,n,l,u,o){return ha(t),t.updateQueue=null,n=Po(t,l,n,u),Qo(e),l=Xc(),e!==null&&!Ct?(Wc(e,t,o),gl(e,t,o)):(He&&l&&jc(t),t.flags|=1,Rt(e,t,n,o),t.child)}function Vx(e,t,n,l,u){if(ha(t),t.stateNode===null){var o=qa,C=n.contextType;typeof C=="object"&&C!==null&&(o=Gt(C)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Ic(t),C=n.contextType,o.context=typeof C=="object"&&C!==null?Gt(C):qa,o.state=t.memoizedState,C=n.getDerivedStateFromProps,typeof C=="function"&&(cu(t,n,C,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(C=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),C!==o.state&&uu.enqueueReplaceState(o,o.state,null),Ti(t,l,o,u),Ai(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var A=t.memoizedProps,W=ya(n,A);o.props=W;var ne=o.context,re=n.contextType;C=qa,typeof re=="object"&&re!==null&&(C=Gt(re));var se=n.getDerivedStateFromProps;re=typeof se=="function"||typeof o.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,re||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(A||ne!==C)&&qx(t,o,l,C),Il=!1;var ae=t.memoizedState;o.state=ae,Ti(t,l,o,u),Ai(),ne=t.memoizedState,A||ae!==ne||Il?(typeof se=="function"&&(cu(t,n,se,l),ne=t.memoizedState),(W=Il||kx(t,n,W,l,ae,ne,C))?(re||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),o.props=l,o.state=ne,o.context=C,l=W):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Gc(e,t),C=t.memoizedProps,re=ya(n,C),o.props=re,se=t.pendingProps,ae=o.context,ne=n.contextType,W=qa,typeof ne=="object"&&ne!==null&&(W=Gt(ne)),A=n.getDerivedStateFromProps,(ne=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(C!==se||ae!==W)&&qx(t,o,l,W),Il=!1,ae=t.memoizedState,o.state=ae,Ti(t,l,o,u),Ai();var ie=t.memoizedState;C!==se||ae!==ie||Il||e!==null&&e.dependencies!==null&&Ar(e.dependencies)?(typeof A=="function"&&(cu(t,n,A,l),ie=t.memoizedState),(re=Il||kx(t,n,re,l,ae,ie,W)||e!==null&&e.dependencies!==null&&Ar(e.dependencies))?(ne||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,ie,W),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,ie,W)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),o.props=l,o.state=ie,o.context=W,l=re):(typeof o.componentDidUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Vr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=va(t,e.child,null,u),t.child=va(t,null,n,u)):Rt(e,t,n,u),t.memoizedState=o.state,e=t.child):e=gl(e,t,u),e}function Qx(e,t,n,l){return fa(),t.flags|=256,Rt(e,t,n,l),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(e){return{baseLanes:e,cachePool:Ro()}}function hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xn),e}function Px(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,C;if((C=o)||(C=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),C&&(u=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(u?Ol(t):Yl(),(e=xt)?(e=rd(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:El!==null?{id:Pn,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},n=Ao(e),n.return=t,t.child=n,It=t,xt=null)):e=null,e===null)throw ql(t);return Qu(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(Yl(),u=t.mode,A=Qr({mode:"hidden",children:A},u),l=xa(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,C,n),t.memoizedState=fu,Bi(null,l)):(Ol(t),mu(t,A))}var W=e.memoizedState;if(W!==null&&(A=W.dehydrated,A!==null)){if(o)t.flags&256?(Ol(t),t.flags&=-257,t=bu(e,t,n)):t.memoizedState!==null?(Yl(),t.child=e.child,t.flags|=128,t=null):(Yl(),A=l.fallback,u=t.mode,l=Qr({mode:"visible",children:l.children},u),A=xa(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,va(t,e.child,null,n),l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,C,n),t.memoizedState=fu,t=Bi(null,l));else if(Ol(t),Qu(A)){if(C=A.nextSibling&&A.nextSibling.dataset,C)var ne=C.dgst;C=ne,l=Error(i(419)),l.stack="",l.digest=C,Ci({value:l,source:null,stack:null}),t=bu(e,t,n)}else if(Ct||Ra(e,t,n,!1),C=(n&e.childLanes)!==0,Ct||C){if(C=ot,C!==null&&(l=rt(C,n),l!==0&&l!==W.retryLane))throw W.retryLane=l,oa(e,l),$t(C,e,l),ou;Vu(A)||i0(),t=bu(e,t,n)}else Vu(A)?(t.flags|=192,t.child=e.child,t=null):(e=W.treeContext,xt=An(A.nextSibling),It=t,He=!0,kl=null,Dn=!1,e!==null&&Eo(t,e),t=mu(t,l.children),t.flags|=4096);return t}return u?(Yl(),A=l.fallback,u=t.mode,W=e.child,ne=W.sibling,l=xl(W,{mode:"hidden",children:l.children}),l.subtreeFlags=W.subtreeFlags&65011712,ne!==null?A=xl(ne,A):(A=xa(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Bi(null,l),l=t.child,A=e.child.memoizedState,A===null?A=du(n):(u=A.cachePool,u!==null?(W=St._currentValue,u=u.parent!==W?{parent:W,pool:W}:u):u=Ro(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=hu(e,C,n),t.memoizedState=fu,Bi(e.child,l)):(Ol(t),n=e.child,e=n.sibling,n=xl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=n,t.memoizedState=null,n)}function mu(e,t){return t=Qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qr(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function bu(e,t,n){return va(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,n)}function gu(e,t,n,l,u,o){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=u,C.treeForkCount=o)}function $x(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var C=pt.current,A=(C&2)!==0;if(A?(C=C&1|2,t.flags|=128):C&=1,K(pt,C),Rt(e,t,l,n),l=He?wi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fx(e,n,t);else if(e.tag===19)Fx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Gr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),gu(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Gr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}gu(t,!0,n,null,o,l);break;case"together":gu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=xl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ar(e)))}function v2(e,t,n){switch(t.tag){case 3:de(t,t.stateNode.containerInfo),Bl(t,St,e.memoizedState.cache),fa();break;case 27:case 5:be(t);break;case 4:de(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Kc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ol(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Px(e,t,n):(Ol(t),e=gl(e,t,n),e!==null?e.sibling:null);Ol(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return $x(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(pt,pt.current),l)break;return null;case 22:return t.lanes=0,Zx(e,t,n,t.pendingProps);case 24:Bl(t,St,e.memoizedState.cache)}return gl(e,t,n)}function ef(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!vu(e,n)&&(t.flags&128)===0)return Ct=!1,v2(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,He&&(t.flags&1048576)!==0&&Lo(t,wi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")wc(e)?(l=ya(e,l),t.tag=1,t=Vx(null,t,e,l,n)):(t.tag=0,t=xu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===B){t.tag=11,t=Hx(null,t,e,l,n);break e}else if(u===R){t.tag=14,t=Kx(null,t,e,l,n);break e}}throw t=j(e)||e,Error(i(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ya(l,t.pendingProps),Vx(e,t,l,u,n);case 3:e:{if(de(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,Gc(e,t),Ti(t,l,null,n);var C=t.memoizedState;if(l=C.cache,Bl(t,St,l),l!==o.cache&&Lc(t,[St],n,!0),Ai(),l=C.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Qx(e,t,l,n);break e}else if(l!==u){u=Mn(Error(i(424)),t),Ci(u),t=Qx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=An(e.firstChild),It=t,He=!0,kl=null,Dn=!0,n=Zo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),l===u){t=gl(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Vr(e,t),e===null?(n=fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=f0(le.current).createElement(n),l[ze]=t,l[Bt]=e,Ot(l,n,e),Ze(l),t.stateNode=l):t.memoizedState=fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&He&&(l=t.stateNode=sd(t.type,t.pendingProps,le.current),It=t,Dn=!0,u=xt,Vl(t.type)?(Pu=u,xt=An(l.firstChild)):xt=u),Rt(e,t,t.pendingProps.children,n),Vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((u=l=xt)&&(l=J2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,It=t,xt=An(l.firstChild),Dn=!1,u=!0):u=!1),u||ql(t)),be(t),u=t.type,o=t.pendingProps,C=e!==null?e.memoizedProps:null,l=o.children,Xu(u,o)?l=null:C!==null&&Xu(u,C)&&(t.flags|=32),t.memoizedState!==null&&(u=Zc(e,t,s2,null,null,n),Pi._currentValue=u),Vr(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=xt)&&(n=V2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,It=t,xt=null,e=!0):e=!1),e||ql(t)),null;case 13:return Px(e,t,n);case 4:return de(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=va(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return Hx(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Bl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ha(t),u=Gt(u),l=l(u),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Kx(e,t,t.type,t.pendingProps,n);case 15:return Ux(e,t,t.type,t.pendingProps,n);case 19:return $x(e,t,n);case 31:return g2(e,t,n);case 22:return Zx(e,t,n,t.pendingProps);case 24:return ha(t),l=Gt(St),e===null?(u=qc(),u===null&&(u=ot,o=Ec(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},Ic(t),Bl(t,St,u)):((e.lanes&n)!==0&&(Gc(e,t),Ti(t,null,null,n),Ai()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Bl(t,St,l)):(l=o.cache,Bl(t,St,l),l!==u.cache&&Lc(t,[St],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function vl(e){e.flags|=4}function pu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw ga=kr,Bc}else e.flags&=-16777217}function tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gd(t))if(Df())e.flags|=8192;else throw ga=kr,Bc}function Pr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?We():536870912,e.lanes|=t,Pa|=t)}function Ii(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function p2(e,t,n){var l=t.pendingProps;switch(zc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hl(St),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nc())),ft(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(vl(t),o!==null?(ft(t),tf(t,o)):(ft(t),pu(t,u,null,l,n))):o?o!==e.memoizedState?(vl(t),ft(t),tf(t,o)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&vl(t),ft(t),pu(t,u,e,l,n)),null;case 27:if(he(t),n=le.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}e=Z.current,Ga(t)?ko(t):(e=sd(u,l,n),t.stateNode=e,vl(t))}return ft(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}if(o=Z.current,Ga(t))ko(t);else{var C=f0(le.current);switch(o){case 1:o=C.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=C.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=C.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=C.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?C.createElement("select",{is:l.is}):C.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?C.createElement(u,{is:l.is}):C.createElement(u)}}o[ze]=t,o[Bt]=l;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)o.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=o;e:switch(Ot(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vl(t)}}return ft(t),pu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=It,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ze]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Ff(e.nodeValue,n)),e||ql(t,!0)}else e=f0(e).createTextNode(l),e[ze]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ga(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ze]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(sn(t),t):(sn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ga(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[ze]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(sn(t),t):(sn(t),null)}return sn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Pr(t,t.updateQueue),ft(t),null);case 4:return fe(),e===null&&Yu(t.stateNode.containerInfo),ft(t),null;case 10:return hl(t.type),ft(t),null;case 19:if(k(pt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)Ii(l,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Gr(e),o!==null){for(t.flags|=128,Ii(l,!1),e=o.updateQueue,t.updateQueue=e,Pr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)No(n,e),n=n.sibling;return K(pt,pt.current&1|2),He&&fl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pe()>n0&&(t.flags|=128,u=!0,Ii(l,!1),t.lanes=4194304)}else{if(!u)if(e=Gr(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Pr(t,e),Ii(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return ft(t),null}else 2*Pe()-l.renderingStartTime>n0&&n!==536870912&&(t.flags|=128,u=!0,Ii(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,n=pt.current,K(pt,u?n&1|2:n&1),He&&fl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return sn(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Pr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&k(ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(St),ft(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function y2(e,t){switch(zc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(St),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(sn(t),t.alternate===null)throw Error(i(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(sn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(pt),null;case 4:return fe(),null;case 10:return hl(t.type),null;case 22:case 23:return sn(t),Hc(),e!==null&&k(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(St),null;case 25:return null;default:return null}}function nf(e,t){switch(zc(t),t.tag){case 3:hl(St),fe();break;case 26:case 27:case 5:he(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&sn(t);break;case 13:sn(t);break;case 19:k(pt);break;case 10:hl(t.type);break;case 22:case 23:sn(t),Hc(),e!==null&&k(ma);break;case 24:hl(St)}}function Gi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,C=n.inst;l=o(),C.destroy=l}n=n.next}while(n!==u)}}catch(A){it(t,t.return,A)}}function Hl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var C=l.inst,A=C.destroy;if(A!==void 0){C.destroy=void 0,u=t;var W=n,ne=A;try{ne()}catch(re){it(u,W,re)}}}l=l.next}while(l!==o)}}catch(re){it(t,t.return,re)}}function lf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wo(t,n)}catch(l){it(e,e.return,l)}}}function af(e,t,n){n.props=ya(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function $n(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function rf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function yu(e,t,n){try{var l=e.stateNode;H2(l,e.type,n,t),l[Bt]=t}catch(u){it(e,e.return,u)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vl(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sl));else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function Fr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Fr(e,t,n),e=e.sibling;e!==null;)Fr(e,t,n),e=e.sibling}function uf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[ze]=e,t[Bt]=n}catch(o){it(e,e.return,o)}}var pl=!1,Mt=!1,wu=!1,sf=typeof WeakSet=="function"?WeakSet:Set,At=null;function _2(e,t){if(e=e.containerInfo,Uu=p0,e=yo(e),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var C=0,A=-1,W=-1,ne=0,re=0,se=e,ae=null;t:for(;;){for(var ie;se!==n||u!==0&&se.nodeType!==3||(A=C+u),se!==o||l!==0&&se.nodeType!==3||(W=C+l),se.nodeType===3&&(C+=se.nodeValue.length),(ie=se.firstChild)!==null;)ae=se,se=ie;for(;;){if(se===e)break t;if(ae===n&&++ne===u&&(A=C),ae===o&&++re===l&&(W=C),(ie=se.nextSibling)!==null)break;se=ae,ae=se.parentNode}se=ie}n=A===-1||W===-1?null:{start:A,end:W}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zu={focusedElem:e,selectionRange:n},p0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var ge=ya(n.type,u);e=l.getSnapshotBeforeUpdate(ge,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){it(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ju(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}}function of(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),l&4&&Gi(5,n);break;case 1:if(_l(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(C){it(n,n.return,C)}else{var u=ya(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){it(n,n.return,C)}}l&64&&lf(n),l&512&&Ri(n,n.return);break;case 3:if(_l(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wo(e,t)}catch(C){it(n,n.return,C)}}break;case 27:t===null&&l&4&&uf(n);case 26:case 5:_l(e,n),t===null&&l&4&&rf(n),l&512&&Ri(n,n.return);break;case 12:_l(e,n);break;case 31:_l(e,n),l&4&&df(e,n);break;case 13:_l(e,n),l&4&&hf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=A2.bind(null,n),Q2(e,n))));break;case 22:if(l=n.memoizedState!==null||pl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=pl;var o=Mt;pl=l,(Mt=t)&&!o?Sl(e,n,(n.subtreeFlags&8772)!==0):_l(e,n),pl=u,Mt=o}break;case 30:break;default:_l(e,n)}}function xf(e){var t=e.alternate;t!==null&&(e.alternate=null,xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&di(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Vt=!1;function yl(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Gn,n)}catch{}switch(n.tag){case 26:Mt||$n(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||$n(n,t);var l=ht,u=Vt;Vl(n.type)&&(ht=n.stateNode,Vt=!1),yl(e,t,n),Ji(n.stateNode),ht=l,Vt=u;break;case 5:Mt||$n(n,t);case 6:if(l=ht,u=Vt,ht=null,yl(e,t,n),ht=l,Vt=u,ht!==null)if(Vt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(o){it(n,t,o)}else try{ht.removeChild(n.stateNode)}catch(o){it(n,t,o)}break;case 18:ht!==null&&(Vt?(e=ht,ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):ad(ht,n.stateNode));break;case 4:l=ht,u=Vt,ht=n.stateNode.containerInfo,Vt=!0,yl(e,t,n),ht=l,Vt=u;break;case 0:case 11:case 14:case 15:Hl(2,n,t),Mt||Hl(4,n,t),yl(e,t,n);break;case 1:Mt||($n(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&af(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,yl(e,t,n),Mt=l;break;default:yl(e,t,n)}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(n){it(t,t.return,n)}}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){it(t,t.return,n)}}function S2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sf),t;default:throw Error(i(435,e.tag))}}function $r(e,t){var n=S2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=T2.bind(null,e,l);l.then(u,u)}})}function Qt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,C=t,A=C;e:for(;A!==null;){switch(A.tag){case 27:if(Vl(A.type)){ht=A.stateNode,Vt=!1;break e}break;case 5:ht=A.stateNode,Vt=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Vt=!0;break e}A=A.return}if(ht===null)throw Error(i(160));ff(o,C,u),ht=null,Vt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}var On=null;function mf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Pt(e),l&4&&(Hl(3,e,e.return),Gi(3,e),Hl(5,e,e.return));break;case 1:Qt(t,e),Pt(e),l&512&&(Mt||n===null||$n(n,n.return)),l&64&&pl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=On;if(Qt(t,e),Pt(e),l&512&&(Mt||n===null||$n(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[ra]||o[ze]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),Ot(o,l,n),o[ze]=e,Ze(o),l=o;break e;case"link":var C=md("link","href",u).get(l+(n.href||""));if(C){for(var A=0;A<C.length;A++)if(o=C[A],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){C.splice(A,1);break t}}o=u.createElement(l),Ot(o,l,n),u.head.appendChild(o);break;case"meta":if(C=md("meta","content",u).get(l+(n.content||""))){for(A=0;A<C.length;A++)if(o=C[A],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){C.splice(A,1);break t}}o=u.createElement(l),Ot(o,l,n),u.head.appendChild(o);break;default:throw Error(i(468,l))}o[ze]=e,Ze(o),l=o}e.stateNode=l}else bd(u,e.type,e.stateNode);else e.stateNode=hd(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?bd(u,e.type,e.stateNode):hd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&yu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qt(t,e),Pt(e),l&512&&(Mt||n===null||$n(n,n.return)),n!==null&&l&4&&yu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qt(t,e),Pt(e),l&512&&(Mt||n===null||$n(n,n.return)),e.flags&32){u=e.stateNode;try{Da(u,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,yu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(wu=!0);break;case 6:if(Qt(t,e),Pt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(m0=null,u=On,On=d0(t.containerInfo),Qt(t,e),On=u,Pt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(ge){it(e,e.return,ge)}wu&&(wu=!1,bf(e));break;case 4:l=On,On=d0(e.stateNode.containerInfo),Qt(t,e),Pt(e),On=l;break;case 12:Qt(t,e),Pt(e);break;case 31:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 13:Qt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(t0=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 22:u=e.memoizedState!==null;var W=n!==null&&n.memoizedState!==null,ne=pl,re=Mt;if(pl=ne||u,Mt=re||W,Qt(t,e),Mt=re,pl=ne,Pt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||W||pl||Mt||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){W=n=t;try{if(o=W.stateNode,u)C=o.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{A=W.stateNode;var se=W.memoizedProps.style,ae=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){it(W,W.return,ge)}}}else if(t.tag===6){if(n===null){W=t;try{W.stateNode.nodeValue=u?"":W.memoizedProps}catch(ge){it(W,W.return,ge)}}}else if(t.tag===18){if(n===null){W=t;try{var ie=W.stateNode;u?id(ie,!0):id(W.stateNode,!1)}catch(ge){it(W,W.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,$r(e,n))));break;case 19:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$r(e,l)));break;case 30:break;case 21:break;default:Qt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,o=_u(e);Fr(e,o,u);break;case 5:var C=n.stateNode;n.flags&32&&(Da(C,""),n.flags&=-33);var A=_u(e);Fr(e,A,C);break;case 3:case 4:var W=n.stateNode.containerInfo,ne=_u(e);Su(e,ne,W);break;default:throw Error(i(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)of(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hl(4,t,t.return),_a(t);break;case 1:$n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&af(t,t.return,n),_a(t);break;case 27:Ji(t.stateNode);case 26:case 5:$n(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function Sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,C=o.flags;switch(o.tag){case 0:case 11:case 15:Sl(u,o,n),Gi(4,o);break;case 1:if(Sl(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=o,u=l.updateQueue,u!==null){var A=l.stateNode;try{var W=u.shared.hiddenCallbacks;if(W!==null)for(u.shared.hiddenCallbacks=null,u=0;u<W.length;u++)Xo(W[u],A)}catch(ne){it(l,l.return,ne)}}n&&C&64&&lf(o),Ri(o,o.return);break;case 27:uf(o);case 26:case 5:Sl(u,o,n),n&&l===null&&C&4&&rf(o),Ri(o,o.return);break;case 12:Sl(u,o,n);break;case 31:Sl(u,o,n),n&&C&4&&df(u,o);break;case 13:Sl(u,o,n),n&&C&4&&hf(u,o);break;case 22:o.memoizedState===null&&Sl(u,o,n),Ri(o,o.return);break;case 30:break;default:Sl(u,o,n)}t=t.sibling}}function Cu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Mi(n))}function Mu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e))}function Yn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,n,l),t=t.sibling}function gf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Yn(e,t,n,l),u&2048&&Gi(9,t);break;case 1:Yn(e,t,n,l);break;case 3:Yn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Mi(e)));break;case 12:if(u&2048){Yn(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,C=o.id,A=o.onPostCommit;typeof A=="function"&&A(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(W){it(t,t.return,W)}}else Yn(e,t,n,l);break;case 31:Yn(e,t,n,l);break;case 13:Yn(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,C=t.alternate,t.memoizedState!==null?o._visibility&2?Yn(e,t,n,l):Oi(e,t):o._visibility&2?Yn(e,t,n,l):(o._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Cu(C,t);break;case 24:Yn(e,t,n,l),u&2048&&Mu(t.alternate,t);break;default:Yn(e,t,n,l)}}function Ja(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,C=t,A=n,W=l,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Ja(o,C,A,W,u),Gi(8,C);break;case 23:break;case 22:var re=C.stateNode;C.memoizedState!==null?re._visibility&2?Ja(o,C,A,W,u):Oi(o,C):(re._visibility|=2,Ja(o,C,A,W,u)),u&&ne&2048&&Cu(C.alternate,C);break;case 24:Ja(o,C,A,W,u),u&&ne&2048&&Mu(C.alternate,C);break;default:Ja(o,C,A,W,u)}t=t.sibling}}function Oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Oi(n,l),u&2048&&Cu(l.alternate,l);break;case 24:Oi(n,l),u&2048&&Mu(l.alternate,l);break;default:Oi(n,l)}t=t.sibling}}var Yi=8192;function Va(e,t,n){if(e.subtreeFlags&Yi)for(e=e.child;e!==null;)vf(e,t,n),e=e.sibling}function vf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Yi&&e.memoizedState!==null&&uh(n,On,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=On;On=d0(e.stateNode.containerInfo),Va(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yi,Yi=16777216,Va(e,t,n),Yi=l):Va(e,t,n));break;default:Va(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,_f(l,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yf(e),e=e.sibling}function yf(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&Hl(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,e0(e)):Hi(e);break;default:Hi(e)}}function e0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];At=l,_f(l,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hl(8,t,t.return),e0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,e0(t));break;default:e0(t)}e=e.sibling}}function _f(e,t){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:Hl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,At=l;else e:for(n=e;At!==null;){l=At;var u=l.sibling,o=l.return;if(xf(l),l===n){At=null;break e}if(u!==null){u.return=o,At=u;break e}At=o}}}var w2={getCacheForType:function(e){var t=Gt(St),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(St).controller.signal}},C2=typeof WeakMap=="function"?WeakMap:Map,tt=0,ot=null,Ie=null,Oe=0,at=0,on=null,Kl=!1,Qa=!1,ju=!1,wl=0,gt=0,Ul=0,Sa=0,zu=0,xn=0,Pa=0,Ki=null,Ft=null,Du=!1,t0=0,Sf=0,n0=1/0,l0=null,Zl=null,Nt=0,Xl=null,Fa=null,Cl=0,Nu=0,Au=null,wf=null,Ui=0,Tu=null;function fn(){return(tt&2)!==0&&Oe!==0?Oe&-Oe:z.T!==null?Iu():yn()}function Cf(){if(xn===0)if((Oe&536870912)===0||He){var e=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),xn=e}else xn=536870912;return e=un.current,e!==null&&(e.flags|=32),xn}function $t(e,t,n){(e===ot&&(at===2||at===9)||e.cancelPendingCommit!==null)&&($a(e,0),Wl(e,Oe,xn,!1)),Te(e,n),((tt&2)===0||e!==ot)&&(e===ot&&((tt&2)===0&&(Sa|=n),gt===4&&Wl(e,Oe,xn,!1)),el(e))}function Mf(e,t,n){if((tt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?z2(e,t):Eu(e,t,!0),o=l;do{if(u===0){Qa&&!l&&Wl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!M2(n)){u=Eu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var A=e;u=Ki;var W=A.current.memoizedState.isDehydrated;if(W&&($a(A,C).flags|=256),C=Eu(A,C,!1),C!==2){if(ju&&!W){A.errorRecoveryDisabledLanes|=o,Sa|=o,u=4;break e}o=Ft,Ft=u,o!==null&&(Ft===null?Ft=o:Ft.push.apply(Ft,o))}u=C}if(o=!1,u!==2)continue}}if(u===1){$a(e,0),Wl(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Wl(l,t,xn,!Kl);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=t0+300-Pe(),10<u)){if(Wl(l,t,xn,!Kl),we(l,0,!0)!==0)break e;Cl=t,l.timeoutHandle=nd(jf.bind(null,l,n,Ft,l0,Du,t,xn,Sa,Pa,Kl,o,"Throttled",-0,0),u);break e}jf(l,n,Ft,l0,Du,t,xn,Sa,Pa,Kl,o,null,-0,0)}}break}while(!0);el(e)}function jf(e,t,n,l,u,o,C,A,W,ne,re,se,ae,ie){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sl},vf(t,o,se);var ge=(o&62914560)===o?t0-Pe():(o&4194048)===o?Sf-Pe():0;if(ge=sh(se,ge),ge!==null){Cl=o,e.cancelPendingCommit=ge(kf.bind(null,e,t,o,n,l,u,C,A,W,re,se,null,ae,ie)),Wl(e,o,C,!ne);return}}kf(e,t,o,n,l,u,C,A,W)}function M2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!rn(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wl(e,t,n,l){t&=~zu,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-Re(u),C=1<<o;l[o]=-1,u&=~C}n!==0&&et(e,n,t)}function a0(){return(tt&6)===0?(Zi(0),!1):!0}function Lu(){if(Ie!==null){if(at===0)var e=Ie.return;else e=Ie,dl=da=null,Jc(e),Ka=null,zi=0,e=Ie;for(;e!==null;)nf(e.alternate,e),e=e.return;Ie=null}}function $a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Z2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cl=0,Lu(),ot=e,Ie=n=xl(e.current,null),Oe=t,at=0,on=null,Kl=!1,Qa=Fe(e,t),ju=!1,Pa=xn=zu=Sa=Ul=gt=0,Ft=Ki=null,Du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Re(l),o=1<<u;t|=e[u],l&=~o}return wl=t,Mr(),n}function zf(e,t){Le=null,z.H=qi,t===Ha||t===Er?(t=Ho(),at=3):t===Bc?(t=Ho(),at=4):at=t===ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,on=t,Ie===null&&(gt=1,Wr(e,Mn(t,e.current)))}function Df(){var e=un.current;return e===null?!0:(Oe&4194048)===Oe?Nn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Nn:!1}function Nf(){var e=z.H;return z.H=qi,e===null?qi:e}function Af(){var e=z.A;return z.A=w2,e}function i0(){gt=4,Kl||(Oe&4194048)!==Oe&&un.current!==null||(Qa=!0),(Ul&134217727)===0&&(Sa&134217727)===0||ot===null||Wl(ot,Oe,xn,!1)}function Eu(e,t,n){var l=tt;tt|=2;var u=Nf(),o=Af();(ot!==e||Oe!==t)&&(l0=null,$a(e,t)),t=!1;var C=gt;e:do try{if(at!==0&&Ie!==null){var A=Ie,W=on;switch(at){case 8:Lu(),C=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(t=!0);var ne=at;if(at=0,on=null,ei(e,A,W,ne),n&&Qa){C=0;break e}break;default:ne=at,at=0,on=null,ei(e,A,W,ne)}}j2(),C=gt;break}catch(re){zf(e,re)}while(!0);return t&&e.shellSuspendCounter++,dl=da=null,tt=l,z.H=u,z.A=o,Ie===null&&(ot=null,Oe=0,Mr()),C}function j2(){for(;Ie!==null;)Tf(Ie)}function z2(e,t){var n=tt;tt|=2;var l=Nf(),u=Af();ot!==e||Oe!==t?(l0=null,n0=Pe()+500,$a(e,t)):Qa=Fe(e,t);e:do try{if(at!==0&&Ie!==null){t=Ie;var o=on;t:switch(at){case 1:at=0,on=null,ei(e,t,o,1);break;case 2:case 9:if(Oo(o)){at=0,on=null,Lf(t);break}t=function(){at!==2&&at!==9||ot!==e||(at=7),el(e)},o.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Oo(o)?(at=0,on=null,Lf(t)):(at=0,on=null,ei(e,t,o,7));break;case 5:var C=null;switch(Ie.tag){case 26:C=Ie.memoizedState;case 5:case 27:var A=Ie;if(C?gd(C):A.stateNode.complete){at=0,on=null;var W=A.sibling;if(W!==null)Ie=W;else{var ne=A.return;ne!==null?(Ie=ne,r0(ne)):Ie=null}break t}}at=0,on=null,ei(e,t,o,5);break;case 6:at=0,on=null,ei(e,t,o,6);break;case 8:Lu(),gt=6;break e;default:throw Error(i(462))}}D2();break}catch(re){zf(e,re)}while(!0);return dl=da=null,z.H=l,z.A=u,tt=n,Ie!==null?0:(ot=null,Oe=0,Mr(),gt)}function D2(){for(;Ie!==null&&!gn();)Tf(Ie)}function Tf(e){var t=ef(e.alternate,e,wl);e.memoizedProps=e.pendingProps,t===null?r0(e):Ie=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jx(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Jx(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Jc(t);default:nf(n,t),t=Ie=No(t,wl),t=ef(n,t,wl)}e.memoizedProps=e.pendingProps,t===null?r0(e):Ie=t}function ei(e,t,n,l){dl=da=null,Jc(t),Ka=null,zi=0;var u=t.return;try{if(b2(e,u,t,n,Oe)){gt=1,Wr(e,Mn(n,e.current)),Ie=null;return}}catch(o){if(u!==null)throw Ie=u,o;gt=1,Wr(e,Mn(n,e.current)),Ie=null;return}t.flags&32768?(He||l===1?e=!0:Qa||(Oe&536870912)!==0?e=!1:(Kl=e=!0,(l===2||l===9||l===3||l===6)&&(l=un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ef(t,e)):r0(t)}function r0(e){var t=e;do{if((t.flags&32768)!==0){Ef(t,Kl);return}e=t.return;var n=p2(t.alternate,t,wl);if(n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);gt===0&&(gt=5)}function Ef(e,t){do{var n=y2(e.alternate,e);if(n!==null){n.flags&=32767,Ie=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=n}while(e!==null);gt=6,Ie=null}function kf(e,t,n,l,u,o,C,A,W){e.cancelPendingCommit=null;do c0();while(Nt!==0);if((tt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=_c,qt(e,n,o,C,A,W),e===ot&&(Ie=ot=null,Oe=0),Fa=t,Xl=e,Cl=n,Nu=o,Au=u,wf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L2(rl,function(){return Rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,u=E.p,E.p=2,C=tt,tt|=4;try{_2(e,t,n)}finally{tt=C,E.p=u,z.T=l}}Nt=1,qf(),Bf(),If()}}function qf(){if(Nt===1){Nt=0;var e=Xl,t=Fa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=E.p;E.p=2;var u=tt;tt|=4;try{mf(t,e);var o=Zu,C=yo(e.containerInfo),A=o.focusedElem,W=o.selectionRange;if(C!==A&&A&&A.ownerDocument&&po(A.ownerDocument.documentElement,A)){if(W!==null&&bc(A)){var ne=W.start,re=W.end;if(re===void 0&&(re=ne),"selectionStart"in A)A.selectionStart=ne,A.selectionEnd=Math.min(re,A.value.length);else{var se=A.ownerDocument||document,ae=se&&se.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ge=A.textContent.length,Me=Math.min(W.start,ge),st=W.end===void 0?Me:Math.min(W.end,ge);!ie.extend&&Me>st&&(C=st,st=Me,Me=C);var $=vo(A,Me),P=vo(A,st);if($&&P&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==P.node||ie.focusOffset!==P.offset)){var te=se.createRange();te.setStart($.node,$.offset),ie.removeAllRanges(),Me>st?(ie.addRange(te),ie.extend(P.node,P.offset)):(te.setEnd(P.node,P.offset),ie.addRange(te))}}}}for(se=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&se.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ue=se[A];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}p0=!!Uu,Zu=Uu=null}finally{tt=u,E.p=l,z.T=n}}e.current=t,Nt=2}}function Bf(){if(Nt===2){Nt=0;var e=Xl,t=Fa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=E.p;E.p=2;var u=tt;tt|=4;try{of(e,t.alternate,t)}finally{tt=u,E.p=l,z.T=n}}Nt=3}}function If(){if(Nt===4||Nt===3){Nt=0,Jn();var e=Xl,t=Fa,n=Cl,l=wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Fa=Xl=null,Gf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Zl=null),mt(n),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,u=E.p,E.p=2,z.T=null;try{for(var o=e.onRecoverableError,C=0;C<l.length;C++){var A=l[C];o(A.value,{componentStack:A.stack})}}finally{z.T=t,E.p=u}}(Cl&3)!==0&&c0(),el(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Tu?Ui++:(Ui=0,Tu=e):Ui=0,Zi(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Mi(t)))}function c0(){return qf(),Bf(),If(),Rf()}function Rf(){if(Nt!==5)return!1;var e=Xl,t=Nu;Nu=0;var n=mt(Cl),l=z.T,u=E.p;try{E.p=32>n?32:n,z.T=null,n=Au,Au=null;var o=Xl,C=Cl;if(Nt=0,Fa=Xl=null,Cl=0,(tt&6)!==0)throw Error(i(331));var A=tt;if(tt|=4,yf(o.current),gf(o,o.current,C,n),tt=A,Zi(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Gn,o)}catch{}return!0}finally{E.p=u,z.T=l,Gf(e,t)}}function Of(e,t,n){t=Mn(n,t),t=su(e.stateNode,t,2),e=Rl(e,t,2),e!==null&&(Te(e,2),el(e))}function it(e,t,n){if(e.tag===3)Of(e,e,n);else for(;t!==null;){if(t.tag===3){Of(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zl===null||!Zl.has(l))){e=Mn(n,e),n=Ox(2),l=Rl(t,n,2),l!==null&&(Yx(n,l,t,e),Te(l,2),el(l));break}}t=t.return}}function ku(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new C2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(ju=!0,u.add(n),e=N2.bind(null,e,t,n),t.then(e,e))}function N2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ot===e&&(Oe&n)===n&&(gt===4||gt===3&&(Oe&62914560)===Oe&&300>Pe()-t0?(tt&2)===0&&$a(e,0):zu|=n,Pa===Oe&&(Pa=0)),el(e)}function Yf(e,t){t===0&&(t=We()),e=oa(e,t),e!==null&&(Te(e,t),el(e))}function A2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yf(e,n)}function T2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Yf(e,n)}function L2(e,t){return Ht(e,t)}var u0=null,ti=null,qu=!1,s0=!1,Bu=!1,Jl=0;function el(e){e!==ti&&e.next===null&&(ti===null?u0=ti=e:ti=ti.next=e),s0=!0,qu||(qu=!0,k2())}function Zi(e,t){if(!Bu&&s0){Bu=!0;do for(var n=!1,l=u0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var C=l.suspendedLanes,A=l.pingedLanes;o=(1<<31-Re(42|e)+1)-1,o&=u&~(C&~A),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Zf(l,o))}else o=Oe,o=we(l,l===ot?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Fe(l,o)||(n=!0,Zf(l,o));l=l.next}while(n);Bu=!1}}function E2(){Hf()}function Hf(){s0=qu=!1;var e=0;Jl!==0&&U2()&&(e=Jl);for(var t=Pe(),n=null,l=u0;l!==null;){var u=l.next,o=Kf(l,t);o===0?(l.next=null,n===null?u0=u:n.next=u,u===null&&(ti=n)):(n=l,(e!==0||(o&3)!==0)&&(s0=!0)),l=u}Nt!==0&&Nt!==5||Zi(e),Jl!==0&&(Jl=0)}function Kf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var C=31-Re(o),A=1<<C,W=u[C];W===-1?((A&n)===0||(A&l)!==0)&&(u[C]=$e(A,t)):W<=t&&(e.expiredLanes|=A),o&=~A}if(t=ot,n=Oe,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&an(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&an(l),mt(n)){case 2:case 8:n=il;break;case 32:n=rl;break;case 268435456:n=ia;break;default:n=rl}return l=Uf.bind(null,e),n=Ht(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&an(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(c0()&&e.callbackNode!==n)return null;var l=Oe;return l=we(e,e===ot?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Mf(e,l,t),Kf(e,Pe()),e.callbackNode!=null&&e.callbackNode===n?Uf.bind(null,e):null)}function Zf(e,t){if(c0())return null;Mf(e,t,!0)}function k2(){X2(function(){(tt&6)!==0?Ht(Dl,E2):Hf()})}function Iu(){if(Jl===0){var e=Oa;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Jl=e}return Jl}function Xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gr(""+e)}function Wf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function q2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Xf((u[Bt]||null).action),C=l.submitter;C&&(t=(t=C[Bt]||null)?Xf(t.formAction):C.getAttribute("formAction"),t!==null&&(o=t,C=null));var A=new _r("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var W=C?Wf(u,C):new FormData(u);lu(n,{pending:!0,data:W,method:u.method,action:o},null,W)}}else typeof o=="function"&&(A.preventDefault(),W=C?Wf(u,C):new FormData(u),lu(n,{pending:!0,data:W,method:u.method,action:o},o,W))},currentTarget:u}]})}}for(var Gu=0;Gu<yc.length;Gu++){var Ru=yc[Gu],B2=Ru.toLowerCase(),I2=Ru[0].toUpperCase()+Ru.slice(1);Rn(B2,"on"+I2)}Rn(wo,"onAnimationEnd"),Rn(Co,"onAnimationIteration"),Rn(Mo,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn($1,"onTransitionRun"),Rn(e2,"onTransitionStart"),Rn(t2,"onTransitionCancel"),Rn(jo,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xi));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var C=l.length-1;0<=C;C--){var A=l[C],W=A.instance,ne=A.currentTarget;if(A=A.listener,W!==o&&u.isPropagationStopped())break e;o=A,u.currentTarget=ne;try{o(u)}catch(re){Cr(re)}u.currentTarget=null,o=W}else for(C=0;C<l.length;C++){if(A=l[C],W=A.instance,ne=A.currentTarget,A=A.listener,W!==o&&u.isPropagationStopped())break e;o=A,u.currentTarget=ne;try{o(u)}catch(re){Cr(re)}u.currentTarget=null,o=W}}}}function Ge(e,t){var n=t[_n];n===void 0&&(n=t[_n]=new Set);var l=e+"__bubble";n.has(l)||(Vf(t,e,2,!1),n.add(l))}function Ou(e,t,n){var l=0;t&&(l|=4),Vf(n,e,l,t)}var o0="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[o0]){e[o0]=!0,_t.forEach(function(n){n!=="selectionchange"&&(G2.has(n)||Ou(n,!1,e),Ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[o0]||(t[o0]=!0,Ou("selectionchange",!1,t))}}function Vf(e,t,n,l){switch(Cd(t)){case 2:var u=fh;break;case 8:u=dh;break;default:u=ns}n=u.bind(null,t,n,e),u=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Hu(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var A=l.stateNode.containerInfo;if(A===u)break;if(C===4)for(C=l.return;C!==null;){var W=C.tag;if((W===3||W===4)&&C.stateNode.containerInfo===u)return;C=C.return}for(;A!==null;){if(C=Tl(A),C===null)return;if(W=C.tag,W===5||W===6||W===26||W===27){l=o=C;continue e}A=A.parentNode}}l=l.return}Fs(function(){var ne=o,re=ic(n),se=[];e:{var ae=zo.get(e);if(ae!==void 0){var ie=_r,ge=e;switch(e){case"keypress":if(pr(n)===0)break e;case"keydown":case"keyup":ie=T1;break;case"focusin":ge="focus",ie=xc;break;case"focusout":ge="blur",ie=xc;break;case"beforeblur":case"afterblur":ie=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=p1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=k1;break;case wo:case Co:case Mo:ie=S1;break;case jo:ie=B1;break;case"scroll":case"scrollend":ie=g1;break;case"wheel":ie=G1;break;case"copy":case"cut":case"paste":ie=C1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=lo;break;case"toggle":case"beforetoggle":ie=O1}var Me=(t&4)!==0,st=!Me&&(e==="scroll"||e==="scrollend"),$=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var P=ne,te;P!==null;){var ue=P;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||$===null||(ue=hi(P,$),ue!=null&&Me.push(Wi(P,ue,te))),st)break;P=P.return}0<Me.length&&(ae=new ie(ae,ge,null,n,re),se.push({event:ae,listeners:Me}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==ac&&(ge=n.relatedTarget||n.fromElement)&&(Tl(ge)||ge[Al]))break e;if((ie||ae)&&(ae=re.window===re?re:(ae=re.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=ne,ge=ge?Tl(ge):null,ge!==null&&(st=x(ge),Me=ge.tag,ge!==st||Me!==5&&Me!==27&&Me!==6)&&(ge=null)):(ie=null,ge=ne),ie!==ge)){if(Me=to,ue="onMouseLeave",$="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Me=lo,ue="onPointerLeave",$="onPointerEnter",P="pointer"),st=ie==null?ae:_e(ie),te=ge==null?ae:_e(ge),ae=new Me(ue,P+"leave",ie,n,re),ae.target=st,ae.relatedTarget=te,ue=null,Tl(re)===ne&&(Me=new Me($,P+"enter",ge,n,re),Me.target=te,Me.relatedTarget=st,ue=Me),st=ue,ie&&ge)t:{for(Me=R2,$=ie,P=ge,te=0,ue=$;ue;ue=Me(ue))te++;ue=0;for(var Ce=P;Ce;Ce=Me(Ce))ue++;for(;0<te-ue;)$=Me($),te--;for(;0<ue-te;)P=Me(P),ue--;for(;te--;){if($===P||P!==null&&$===P.alternate){Me=$;break t}$=Me($),P=Me(P)}Me=null}else Me=null;ie!==null&&Qf(se,ae,ie,Me,!1),ge!==null&&st!==null&&Qf(se,st,ge,Me,!0)}}e:{if(ae=ne?_e(ne):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var Ve=xo;else if(so(ae))if(fo)Ve=Q1;else{Ve=J1;var ve=W1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&lc(ne.elementType)&&(Ve=xo):Ve=V1;if(Ve&&(Ve=Ve(e,ne))){oo(se,Ve,n,re);break e}ve&&ve(e,ae,ne),e==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&nc(ae,"number",ae.value)}switch(ve=ne?_e(ne):window,e){case"focusin":(so(ve)||ve.contentEditable==="true")&&(La=ve,gc=ne,Si=null);break;case"focusout":Si=gc=La=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,_o(se,n,re);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":_o(se,n,re)}var Ee;if(dc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ta?co(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ao&&n.locale!=="ko"&&(Ta||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ta&&(Ee=$s()):(Ll=re,uc="value"in Ll?Ll.value:Ll.textContent,Ta=!0)),ve=x0(ne,Ye),0<ve.length&&(Ye=new no(Ye,e,null,n,re),se.push({event:Ye,listeners:ve}),Ee?Ye.data=Ee:(Ee=uo(n),Ee!==null&&(Ye.data=Ee)))),(Ee=H1?K1(e,n):U1(e,n))&&(Ye=x0(ne,"onBeforeInput"),0<Ye.length&&(ve=new no("onBeforeInput","beforeinput",null,n,re),se.push({event:ve,listeners:Ye}),ve.data=Ee)),q2(se,e,ne,n,re)}Jf(se,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=hi(e,n),u!=null&&l.unshift(Wi(e,u,o)),u=hi(e,t),u!=null&&l.push(Wi(e,u,o))),e.tag===3)return l;e=e.return}return[]}function R2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qf(e,t,n,l,u){for(var o=t._reactName,C=[];n!==null&&n!==l;){var A=n,W=A.alternate,ne=A.stateNode;if(A=A.tag,W!==null&&W===l)break;A!==5&&A!==26&&A!==27||ne===null||(W=ne,u?(ne=hi(n,o),ne!=null&&C.unshift(Wi(n,ne,W))):u||(ne=hi(n,o),ne!=null&&C.push(Wi(n,ne,W)))),n=n.return}C.length!==0&&e.push({event:t,listeners:C})}var O2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(O2,`
`).replace(Y2,"")}function Ff(e,t){return t=Pf(t),Pf(e)===t}function ut(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Da(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Da(e,""+l);break;case"className":mr(e,"class",l);break;case"tabIndex":mr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(e,n,l);break;case"style":Qs(e,l,o);break;case"data":if(t!=="object"){mr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=gr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=sl);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=gr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),hr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=m1.get(n)||n,hr(e,n,l))}}function Ku(e,t,n,l,u,o){switch(n){case"style":Qs(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Da(e,l):(typeof l=="number"||typeof l=="bigint")&&Da(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[Bt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):hr(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var C=n[o];if(C!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,o,C,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var A=o=C=u=null,W=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":u=re;break;case"type":C=re;break;case"checked":W=re;break;case"defaultChecked":ne=re;break;case"value":o=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:ut(e,t,l,re,n,null)}}Xs(e,o,A,W,ne,C,u,!1);return;case"select":Ge("invalid",e),l=C=o=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":o=A;break;case"defaultValue":C=A;break;case"multiple":l=A;default:ut(e,t,u,A,n,null)}t=o,n=C,e.multiple=!!l,t!=null?za(e,!!l,t,!1):n!=null&&za(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),o=u=l=null;for(C in n)if(n.hasOwnProperty(C)&&(A=n[C],A!=null))switch(C){case"value":l=A;break;case"defaultValue":u=A;break;case"children":o=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ut(e,t,C,A,n,null)}Js(e,l,u,o);return;case"option":for(W in n)n.hasOwnProperty(W)&&(l=n[W],l!=null)&&(W==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,W,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Xi.length;l++)Ge(Xi[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,ne,l,n,null)}return;default:if(lc(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Ku(e,t,re,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&ut(e,t,A,l,n,null))}function H2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,C=null,A=null,W=null,ne=null,re=null;for(ie in n){var se=n[ie];if(n.hasOwnProperty(ie)&&se!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":W=se;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,se)}}for(var ae in l){var ie=l[ae];if(se=n[ae],l.hasOwnProperty(ae)&&(ie!=null||se!=null))switch(ae){case"type":o=ie;break;case"name":u=ie;break;case"checked":ne=ie;break;case"defaultChecked":re=ie;break;case"value":C=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==se&&ut(e,t,ae,ie,l,se)}}tc(e,C,A,W,ne,re,o,u);return;case"select":ie=C=A=ae=null;for(o in n)if(W=n[o],n.hasOwnProperty(o)&&W!=null)switch(o){case"value":break;case"multiple":ie=W;default:l.hasOwnProperty(o)||ut(e,t,o,null,l,W)}for(u in l)if(o=l[u],W=n[u],l.hasOwnProperty(u)&&(o!=null||W!=null))switch(u){case"value":ae=o;break;case"defaultValue":A=o;break;case"multiple":C=o;default:o!==W&&ut(e,t,u,o,l,W)}t=A,n=C,l=ie,ae!=null?za(e,!!n,ae,!1):!!l!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(e,t,A,null,l,u)}for(C in l)if(u=l[C],o=n[C],l.hasOwnProperty(C)&&(u!=null||o!=null))switch(C){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==o&&ut(e,t,C,u,l,o)}Ws(e,ae,ie);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:ut(e,t,ge,null,l,ae));for(W in l)ae=l[W],ie=n[W],l.hasOwnProperty(W)&&ae!==ie&&(ae!=null||ie!=null)&&(W==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,W,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ae=n[Me],n.hasOwnProperty(Me)&&ae!=null&&!l.hasOwnProperty(Me)&&ut(e,t,Me,null,l,ae);for(ne in l)if(ae=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&ae!==ie&&(ae!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ut(e,t,ne,ae,l,ie)}return;default:if(lc(t)){for(var st in n)ae=n[st],n.hasOwnProperty(st)&&ae!==void 0&&!l.hasOwnProperty(st)&&Ku(e,t,st,void 0,l,ae);for(re in l)ae=l[re],ie=n[re],!l.hasOwnProperty(re)||ae===ie||ae===void 0&&ie===void 0||Ku(e,t,re,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&ut(e,t,$,null,l,ae);for(se in l)ae=l[se],ie=n[se],!l.hasOwnProperty(se)||ae===ie||ae==null&&ie==null||ut(e,t,se,ae,l,ie)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,C=u.initiatorType,A=u.duration;if(o&&A&&$f(C)){for(C=0,A=u.responseEnd,l+=1;l<n.length;l++){var W=n[l],ne=W.startTime;if(ne>A)break;var re=W.transferSize,se=W.initiatorType;re&&$f(se)&&(W=W.responseEnd,C+=re*(W<A?1:(A-ne)/(W-ne)))}if(--l,t+=8*(o+C)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Zu=null;function f0(e){return e.nodeType===9?e:e.ownerDocument}function ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===Wu?!1:(Wu=e,!0):(Wu=null,!1)}var nd=typeof setTimeout=="function"?setTimeout:void 0,Z2=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(W2)}:nd;function W2(e){setTimeout(function(){throw e})}function Vl(e){return e==="head"}function ad(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ii(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ji(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ji(n);for(var o=n.firstChild;o;){var C=o.nextSibling,A=o.nodeName;o[ra]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=C}}else n==="body"&&Ji(e.ownerDocument.body);n=u}while(n);ii(t)}function id(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Ju(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ju(n),di(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function J2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ra])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pu=null;function cd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sd(e,t,n){switch(t=f0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);di(e)}var Tn=new Map,od=new Set;function d0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ml=E.d;E.d={f:P2,r:F2,D:$2,C:eh,L:th,m:nh,X:ah,S:lh,M:ih};function P2(){var e=Ml.f(),t=a0();return e||t}function F2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?jx(t):Ml.r(e)}var ni=typeof document>"u"?null:document;function xd(e,t,n){var l=ni;if(l&&typeof t=="string"&&t){var u=wn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),od.has(u)||(od.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Ze(t),l.head.appendChild(t)))}}function $2(e){Ml.D(e),xd("dns-prefetch",e,null)}function eh(e,t){Ml.C(e,t),xd("preconnect",e,t)}function th(e,t,n){Ml.L(e,t,n);var l=ni;if(l&&e&&t){var u='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+wn(n.imageSizes)+'"]')):u+='[href="'+wn(e)+'"]';var o=u;switch(t){case"style":o=li(e);break;case"script":o=ai(e)}Tn.has(o)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vi(o))||t==="script"&&l.querySelector(Qi(o))||(t=l.createElement("link"),Ot(t,"link",e),Ze(t),l.head.appendChild(t)))}}function nh(e,t){Ml.m(e,t);var n=ni;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ai(e)}if(!Tn.has(o)&&(e=_({rel:"modulepreload",href:e},t),Tn.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qi(o)))return}l=n.createElement("link"),Ot(l,"link",e),Ze(l),n.head.appendChild(l)}}}function lh(e,t,n){Ml.S(e,t,n);var l=ni;if(l&&e){var u=Be(l).hoistableStyles,o=li(e);t=t||"default";var C=u.get(o);if(!C){var A={loading:0,preload:null};if(C=l.querySelector(Vi(o)))A.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(o))&&Fu(e,n);var W=C=l.createElement("link");Ze(W),Ot(W,"link",e),W._p=new Promise(function(ne,re){W.onload=ne,W.onerror=re}),W.addEventListener("load",function(){A.loading|=1}),W.addEventListener("error",function(){A.loading|=2}),A.loading|=4,h0(C,t,l)}C={type:"stylesheet",instance:C,count:1,state:A},u.set(o,C)}}}function ah(e,t){Ml.X(e,t);var n=ni;if(n&&e){var l=Be(n).hoistableScripts,u=ai(e),o=l.get(u);o||(o=n.querySelector(Qi(u)),o||(e=_({src:e,async:!0},t),(t=Tn.get(u))&&$u(e,t),o=n.createElement("script"),Ze(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function ih(e,t){Ml.M(e,t);var n=ni;if(n&&e){var l=Be(n).hoistableScripts,u=ai(e),o=l.get(u);o||(o=n.querySelector(Qi(u)),o||(e=_({src:e,async:!0,type:"module"},t),(t=Tn.get(u))&&$u(e,t),o=n.createElement("script"),Ze(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function fd(e,t,n,l){var u=(u=le.current)?d0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=Be(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var o=Be(u).hoistableStyles,C=o.get(e);if(C||(u=u.ownerDocument||u,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,C),(o=u.querySelector(Vi(e)))&&!o._p&&(C.instance=o,C.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),o||rh(u,e,n,C.state))),t&&l===null)throw Error(i(528,""));return C}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=Be(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function li(e){return'href="'+wn(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function dd(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function rh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Ze(t),e.head.appendChild(t))}function ai(e){return'[src="'+wn(e)+'"]'}function Qi(e){return"script[async]"+e}function hd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(l)return t.instance=l,Ze(l),l;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ze(l),Ot(l,"style",u),h0(l,n.precedence,e),t.instance=l;case"stylesheet":u=li(n.href);var o=e.querySelector(Vi(u));if(o)return t.state.loading|=4,t.instance=o,Ze(o),o;l=dd(n),(u=Tn.get(u))&&Fu(l,u),o=(e.ownerDocument||e).createElement("link"),Ze(o);var C=o;return C._p=new Promise(function(A,W){C.onload=A,C.onerror=W}),Ot(o,"link",l),t.state.loading|=4,h0(o,n.precedence,e),t.instance=o;case"script":return o=ai(n.src),(u=e.querySelector(Qi(o)))?(t.instance=u,Ze(u),u):(l=n,(u=Tn.get(o))&&(l=_({},n),$u(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ze(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,h0(l,n.precedence,e));return t.instance}function h0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,C=0;C<l.length;C++){var A=l[C];if(A.dataset.precedence===t)o=A;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var m0=null;function md(e,t,n){if(m0===null){var l=new Map,u=m0=new Map;u.set(n,l)}else u=m0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[ra]||o[ze]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var C=o.getAttribute(t)||"";C=e+C;var A=l.get(C);A?A.push(o):l.set(C,[o])}}return l}function bd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ch(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(l.href),o=t.querySelector(Vi(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=b0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Ze(o);return}o=t.ownerDocument||t,l=dd(l),(u=Tn.get(u))&&Fu(l,u),o=o.createElement("link"),Ze(o);var C=o;C._p=new Promise(function(A,W){C.onload=A,C.onerror=W}),Ot(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=b0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var es=0;function sh(e,t){return e.stylesheets&&e.count===0&&v0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&v0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&es===0&&(es=62500*K2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&v0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>es?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function b0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)v0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var g0=null;function v0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,g0=new Map,t.forEach(oh,e),g0=null,b0.call(e))}function oh(e,t){if(!(t.state.loading&4)){var n=g0.get(e);if(n)var l=n.get(null);else{n=new Map,g0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var C=u[o];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(n.set(C.dataset.precedence,C),l=C)}l&&n.set(null,l)}u=t.instance,C=u.getAttribute("data-precedence"),o=n.get(C)||l,o===l&&n.set(null,u),n.set(C,u),this.count++,l=b0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Pi={$$typeof:q,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function xh(e,t,n,l,u,o,C,A,W){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function vd(e,t,n,l,u,o,C,A,W,ne,re,se){return e=new xh(e,t,n,C,W,ne,re,se,A),t=1,o===!0&&(t|=24),o=cn(3,null,null,t),e.current=o,o.stateNode=e,t=Ec(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},Ic(o),e}function pd(e){return e?(e=qa,e):qa}function yd(e,t,n,l,u,o){u=pd(u),l.context===null?l.context=u:l.pendingContext=u,l=Gl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Rl(e,l,t),n!==null&&($t(n,e,t),Ni(n,e,t))}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ts(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function Sd(e){if(e.tag===13||e.tag===31){var t=oa(e,67108864);t!==null&&$t(t,e,67108864),ts(e,67108864)}}function wd(e){if(e.tag===13||e.tag===31){var t=fn();t=lt(t);var n=oa(e,t);n!==null&&$t(n,e,t),ts(e,t)}}var p0=!0;function fh(e,t,n,l){var u=z.T;z.T=null;var o=E.p;try{E.p=2,ns(e,t,n,l)}finally{E.p=o,z.T=u}}function dh(e,t,n,l){var u=z.T;z.T=null;var o=E.p;try{E.p=8,ns(e,t,n,l)}finally{E.p=o,z.T=u}}function ns(e,t,n,l){if(p0){var u=ls(l);if(u===null)Hu(e,t,l,y0,n),Md(e,l);else if(mh(u,e,t,n,l))l.stopPropagation();else if(Md(e,l),t&4&&-1<hh.indexOf(e)){for(;u!==null;){var o=me(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var C=je(o.pendingLanes);if(C!==0){var A=o;for(A.pendingLanes|=2,A.entangledLanes|=2;C;){var W=1<<31-Re(C);A.entanglements[1]|=W,C&=~W}el(o),(tt&6)===0&&(n0=Pe()+500,Zi(0))}}break;case 31:case 13:A=oa(o,2),A!==null&&$t(A,o,2),a0(),ts(o,2)}if(o=ls(l),o===null&&Hu(e,t,l,y0,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else Hu(e,t,l,null,n)}}function ls(e){return e=ic(e),as(e)}var y0=null;function as(e){if(y0=null,e=Tl(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===31){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return y0=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case Dl:return 2;case il:return 8;case rl:case Nl:return 32;case ia:return 268435456;default:return 32}default:return 32}}var is=!1,Ql=null,Pl=null,Fl=null,Fi=new Map,$i=new Map,$l=[],hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Md(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function er(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=me(t),t!==null&&Sd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function mh(e,t,n,l,u){switch(t){case"focusin":return Ql=er(Ql,e,t,n,l,u),!0;case"dragenter":return Pl=er(Pl,e,t,n,l,u),!0;case"mouseover":return Fl=er(Fl,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return Fi.set(o,er(Fi.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,$i.set(o,er($i.get(o)||null,e,t,n,l,u)),!0}return!1}function jd(e){var t=Tl(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,Ma(e.priority,function(){wd(n)});return}}else if(t===31){if(t=S(n),t!==null){e.blockedOn=t,Ma(e.priority,function(){wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ls(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ac=l,n.target.dispatchEvent(l),ac=null}else return t=me(n),t!==null&&Sd(t),e.blockedOn=n,!1;t.shift()}return!0}function zd(e,t,n){_0(e)&&n.delete(t)}function bh(){is=!1,Ql!==null&&_0(Ql)&&(Ql=null),Pl!==null&&_0(Pl)&&(Pl=null),Fl!==null&&_0(Fl)&&(Fl=null),Fi.forEach(zd),$i.forEach(zd)}function S0(e,t){e.blockedOn===t&&(e.blockedOn=null,is||(is=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,bh)))}var w0=null;function Dd(e){w0!==e&&(w0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){w0===e&&(w0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(as(l||n)===null)continue;break}var o=me(n);o!==null&&(e.splice(t,3),t-=3,lu(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ii(e){function t(W){return S0(W,e)}Ql!==null&&S0(Ql,e),Pl!==null&&S0(Pl,e),Fl!==null&&S0(Fl,e),Fi.forEach(t),$i.forEach(t);for(var n=0;n<$l.length;n++){var l=$l[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<$l.length&&(n=$l[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&$l.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],C=u[Bt]||null;if(typeof o=="function")C||Dd(n);else if(C){var A=null;if(o&&o.hasAttribute("formAction")){if(u=o,C=o[Bt]||null)A=C.formAction;else if(as(u)!==null)continue}else A=C.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),Dd(n)}}}function Nd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(C){return u=C})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function rs(e){this._internalRoot=e}C0.prototype.render=rs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=fn();yd(n,l,e,t,null,null)},C0.prototype.unmount=rs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yd(e.current,2,null,e,null,null),a0(),t[Al]=null}};function C0(e){this._internalRoot=e}C0.prototype.unstable_scheduleHydration=function(e){if(e){var t=yn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$l.length&&t!==0&&t<$l[n].priority;n++);$l.splice(n,0,e),n===0&&jd(e)}};var Ad=r.version;if(Ad!=="19.2.3")throw Error(i(527,Ad,"19.2.3"));E.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var gh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{Gn=M0.inject(gh),kt=M0}catch{}}return nr.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Bx,o=Ix,C=Gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=vd(e,1,!1,null,null,n,l,null,u,o,C,Nd),e[Al]=t.current,Yu(e),new rs(t)},nr.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",o=Bx,C=Ix,A=Gx,W=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(W=n.formState)),t=vd(e,1,!0,t,n??null,l,u,W,o,C,A,Nd),t.context=pd(null),n=t.current,l=fn(),l=lt(l),u=Gl(l),u.callback=null,Rl(n,u,l),n=l,t.current.lanes=n,Te(t,n),el(t),e[Al]=t.current,Yu(e),new C0(t)},nr.version="19.2.3",nr}var Od;function zh(){if(Od)return ss.exports;Od=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ss.exports=jh(),ss.exports}var Dh=zh();const la=Hn;(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(333))/1*(-parseInt(a(355))/2)+parseInt(a(330))/3*(-parseInt(a(336))/4)+parseInt(a(338))/5*(-parseInt(a(329))/6)+parseInt(a(350))/7*(parseInt(a(337))/8)+parseInt(a(354))/9*(-parseInt(a(340))/10)+parseInt(a(342))/11*(parseInt(a(356))/12)+-parseInt(a(349))/13*(-parseInt(a(335))/14)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,864239);const Nh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ms=Nh(void 0,function(){const c=Hn,r={ywstw:c(341)};return ms.toString().search(r.ywstw).toString()[c(352)](ms).search(r.ywstw)});ms();const D0=()=>new Date().toISOString(),Lt=c=>c+"_"+Math.random()[la(344)](36)[la(343)](2,10),pe=(c,r,a)=>Math[la(345)](r,Math.min(a,c)),ta=c=>{const r=la,a={KqxkY:function(i,f){return i===f}};return a.KqxkY(c,void 0)||a.KqxkY(c,null)?c:JSON[r(348)](JSON.stringify(c))},ar=c=>Math[la(346)](c*.7/5)*5;function ll(c,r){const a=la;return c.groups?c[a(331)].find(i=>i[a(334)].includes(r))??null:null}function Ah(c,r){const a=ll(c,r);return a?a.flowerIds:[r]}function N0(){const c=["kcGOlISPkYKRksSK","mtG3ndiXmtL6B1rcyu0","C2XPy2u","Dg9tDhjPBMC","Bwf4","zMXVB3i","Cg9ZAxrPB24","CgfYC2u","mZLVAwXjzMu","nJGZmJe4mK5qz2fIqW","BgvUz3rO","y29UC3rYDwn0B3i","CMvKDwnL","odGWodG0DMrttuzf","ndm1ndiYC0vpB05Q","mtjyBenjB2C","mta4nZuWwNDRtuTl","otq3nfHiwM1vDW","z3jVDxbZ","zMXVD2vYCW","nundBMLlwa","zMXVD2vYswrZ","mtKZndGWDhbXExLS","mJaWmgv4uvrTzq","oeDyB0nItG","mJe1BMXiDvvc","zMLUza","nJbZvM1Orwi"];return N0=function(){return c},N0()}function jl(c,r){return c[la(331)]?c.groups.find(i=>i.leafIds.includes(r))??null:null}function Th(c,r){const a=la,i={rjtDU:function(h,d){return h/d}},f=(c[a(331)]??[]).find(h=>h.id===r);if(!f)return{x:0,y:0};const x=[];for(const h of f.flowerIds){const d=c[a(332)][a(339)](y=>y.id===h);d&&x.push(d[a(347)])}for(const h of f.leafIds){const d=(c.leaves??[]).find(y=>y.id===h);d&&x.push(d.position)}if(x[a(351)]===0)return{x:0,y:0};const g=x[a(353)]((h,d)=>h+d.x,0),S=x[a(353)]((h,d)=>h+d.y,0);return{x:g/x[a(351)],y:i.rjtDU(S,x[a(351)])}}function Hn(c,r){c=c-329;const a=N0();let i=a[c];if(Hn.IoMNnk===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Hn.UzwOMb=f,Hn.EYyQEH={},Hn.IoMNnk=!0}const x=a[0],g=c+x,S=Hn.EYyQEH[g];if(S)i=S;else{const h=function(d){this.KrlmjO=d,this.ildysZ=[1,0,0],this.FMsMRN=function(){return"newState"},this.OzdtPK="\\w+ *\\(\\) *{\\w+ *",this.yAukSx=`['|"].+['|"];? *}`};h.prototype.cfiYhB=function(){const d=new RegExp(this.OzdtPK+this.yAukSx),y=d.test(this.FMsMRN.toString())?--this.ildysZ[1]:--this.ildysZ[0];return this.tHOhwi(y)},h.prototype.tHOhwi=function(d){return~d?this.SSzfnS(this.KrlmjO):d},h.prototype.SSzfnS=function(d){for(let y=0,_=this.ildysZ.length;y<_;y++)this.ildysZ.push(Math.round(Math.random())),_=this.ildysZ.length;return d(this.ildysZ[0])},new h(Hn).cfiYhB(),i=Hn.UzwOMb(i),Hn.EYyQEH[g]=i}return i}function Yd(c,r){const a={lvcWs:function(f,x,g){return f(x,g)}},i=a.lvcWs(jl,c,r);return i?i.leafIds:[r]}const A0=dn;(function(c,r){const a=dn,i=c();for(;;)try{if(parseInt(a(442))/1*(parseInt(a(428))/2)+-parseInt(a(441))/3*(parseInt(a(395))/4)+parseInt(a(440))/5*(parseInt(a(423))/6)+parseInt(a(413))/7*(parseInt(a(397))/8)+-parseInt(a(387))/9+-parseInt(a(415))/10+parseInt(a(429))/11*(-parseInt(a(384))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,859107);const Lh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),bs=Lh(void 0,function(){const c=dn,r={WjAiB:"(((.+)+)+)+$"};return bs.toString()[c(407)](r[c(393)]).toString().constructor(bs)[c(407)]("(((.+)+)+)+$")});bs();const oi=2/3,Hd=.6,Eh=.25,kh=.75;function dn(c,r){c=c-384;const a=T0();let i=a[c];if(dn.vXgXqj===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};dn.NBcMJn=f,dn.FvsePI={},dn.vXgXqj=!0}const x=a[0],g=c+x,S=dn.FvsePI[g];if(S)i=S;else{const h=function(d){this.NXNsHA=d,this.XLpABt=[1,0,0],this.yJDAqt=function(){return"newState"},this.ICHtUM="\\w+ *\\(\\) *{\\w+ *",this.QQrCgh=`['|"].+['|"];? *}`};h.prototype.ahKjcD=function(){const d=new RegExp(this.ICHtUM+this.QQrCgh),y=d.test(this.yJDAqt.toString())?--this.XLpABt[1]:--this.XLpABt[0];return this.MttPFz(y)},h.prototype.MttPFz=function(d){return~d?this.nwpHBC(this.NXNsHA):d},h.prototype.nwpHBC=function(d){for(let y=0,_=this.XLpABt.length;y<_;y++)this.XLpABt.push(Math.round(Math.random())),_=this.XLpABt.length;return d(this.XLpABt[0])},new h(dn).ahKjcD(),i=dn.NBcMJn(i),dn.FvsePI[g]=i}return i}function aa(c,r,a){const i=dn,f={CwmOX:function(q,B){return q+B},pQrMn:function(q,B){return q<B},udCwY:function(q,B){return q/B},XwerZ:function(q,B){return q<=B},xOZkU:function(q,B){return q*B},czBGC:function(q,B){return q-B},mNgPx:function(q,B){return q/B},CRCAI:function(q,B){return q===B},mlDyz:i(401),cPLiz:function(q,B){return q*B},GLNGA:function(q,B){return q-B},WClYf:function(q,B){return q/B},PVIkP:function(q,B){return q*B},nkFxU:function(q,B){return q*B},Clkrq:function(q,B){return q===B},eWccw:function(q,B){return q/B},hvbsB:function(q,B){return q*B},HErJf:function(q,B){return q*B},izOYc:function(q,B){return q*B},kPYWJ:i(424),AnVDK:function(q,B){return q+B},EPWlg:function(q,B){return q*B},CfbeX:function(q,B){return q*B},FWYVk:function(q,B){return q*B},XlRKk:function(q,B){return q*B}},x=c/2,g=f[i(445)](r*Math.SQRT2,2);if(f.XwerZ(g,0)||f[i(444)](x,0))return{diameter:c,layerCount:1};const S=a?.sizeMode??i(414),h=a?.[i(430)]??0,d=f.xOZkU(g,f.czBGC(1,oi)),y=Math.PI*x/2,_=a?.layerCount??Math[i(417)](1,Math[i(410)](f[i(411)](y,d))),v=f[i(405)](S,f.mlDyz)?f[i(403)](r,f[i(408)](f[i(420)](_,1),h)):r,w=f.WClYf(v*Math[i(419)],2),D=f.CwmOX(f[i(435)](g,Eh),f.nkFxU(w,kh));if(f[i(390)](_,1)){const q=Math.min(f[i(411)](Math.PI,2),f.eWccw(f[i(394)](w,oi),x)),B=f.hvbsB(x,Math[i(386)](q)),O=f.HErJf(w*Hd,Math[i(386)](q));return{diameter:Math.round(Math[i(417)](c,f[i(426)](2,B+O))),layerCount:_}}let b=f.WClYf(g*oi,x);for(let q=1;q<_;q++)if(f[i(434)]!=="ItaBH"){if(_0x3cd33d<=_0x5e546d)return 1;let B=1,O=80;for(let H=0;H<30;H++){const R=f[i(403)](B,O)/2,{diameter:X}=_0x2b2bc0(_0x3286e1,R,_0x27abff);f.pQrMn(X,_0x64ed00)?B=R:O=R}return _0x488dee[i(417)](1,_0x2fcaed.round(f[i(445)](B+O,2)))}else{const B=S==="gradual"?f[i(391)](r,f[i(421)](q,h)):r,O=f[i(436)](f.CfbeX(B,Math[i(419)]),2);b+=f[i(445)](f[i(404)](O,1-oi),x)}b=Math[i(385)](b,Math.PI/2);const m=f[i(389)](x+f.xOZkU(D,Hd),Math.sin(b)),L=Math.max(0,m-x);return{diameter:Math.round(c+2*L),layerCount:_}}function cr(c,r,a="uniform",i=0){const f=dn,x={jUigV:function(h,d){return h<d},YUeAg:function(h,d){return h===d},zSslF:function(h,d){return h+d},ERElq:function(h,d){return h*d},eMxrQ:function(h,d){return h*d},iLTsh:function(h,d){return h/d}};if(r<=0||c<=0)return 0;const g=[];for(let h=0;x.jUigV(h,r);h++){const d=x.YUeAg(a,"gradual")?x[f(400)](c,x[f(439)](h,i)):c;g.push(x.eMxrQ(d,Math.SQRT2)/2)}let S=g[0];for(let h=1;h<r;h++)S+=x.iLTsh(g[h],3);return Math[f(410)](S*2)}function qh(c,r,a=A0(414),i=0){const f=A0,x={DPZHD:function(_,v){return _/v},RPNeY:function(_,v){return _===v},voqEj:function(_,v){return _*v},XdCqx:function(_,v){return _+v},HXyvZ:function(_,v){return _*v},DKzGD:function(_,v){return _-v},ExkPK:function(_,v){return _/v},aGrcK:function(_,v){return _*v}};if(r<=0||c<=0)return 0;const g=x.DPZHD(c,2),S=Math.SQRT2/2,h=r;if(a===f(414)||x[f(433)](i,0)){const _=x[f(425)](S,x[f(437)](h,2))/3;return Math[f(417)](1,Math[f(410)](x[f(427)](g,_)))}const d=x.voqEj(x.HXyvZ(i,x[f(398)](h,1)),h)/6,y=x.ExkPK(x[f(392)](x.DKzGD(g/S,d),3),x.XdCqx(h,2));return Math[f(417)](1,Math[f(410)](y))}function Bh(c,r,a){const i=A0,f={sQToV:function(S,h){return S<=h},OGpEW:function(S,h,d,y){return S(h,d,y)}};if(f[i(432)](c,r))return 1;let x=1,g=80;for(let S=0;S<30;S++){const h=(x+g)/2,{diameter:d}=f.OGpEW(aa,r,h,a);d<c?x=h:g=h}return Math.max(1,Math.round((x+g)/2))}function T0(){const c=["rfrxyMm","Bwf4","venHAgy","u1fsvdi","r0Xor0e","rvbxBgC","vMPizhG","mJuYndK4rNfYzgDi","sxrHqKG","DM9XrwO","AxPpwwm","rfbAseq","mMPcCwfyqW","mJjPz013Ahy","C2L6zvn0zxbnBq","rKnoExy","C1fuB1y","uLbozvK","A1bzv0O","ufzjA1a","v0nSwwy","wgrdCxG","A0v3AxC","rvjfBhe","mJaWrLDlDujo","mtK0mZqZvMP5thDk","nte5oduZANDSAgrj","C2L6zu1Vzgu","whDLCLO","DwrdD1K","mJCYmtu0mhftEw1NBG","BwLU","C2LU","odG1mJKZmvfQEfL3zq","AerUtvG","wgXss2S","q2XRCNe","qw5wreS","yuDYy0S","v2PbAui","BMTgEfu","ntjsvvLkzxO","zff2the","ohfQse9ODW","reT6r0q","AwHRv3q","ELnZBey","z3jHzhvHBa","zfv6B0q","q3DTt1G","rLDzvMS","q1jdquK","v2TrAgK","C2vHCMnO","y1bmAxO","ChvZAa","CM91BMq","Bu5NuhG","Du9qwwC","otu0nZq0n0v0y1b2tq","Dw5PzM9YBq","ndi4ntG1mfndAeHysG"];return T0=function(){return c},T0()}function Ih(c,r,a){const i=A0,f={WkQhi:function(v,w){return v<=w},VjHdx:function(v,w){return v===w},ITiIE:i(401),qWdAi:function(v,w){return v+w},dUzoD:function(v,w){return v/w},evXBd:function(v,w){return v*w},vwIbK:function(v,w){return v*w},wMJDM:function(v,w){return v<=w},DTWbc:i(414),uOPYg:function(v,w){return v/w},YjkQm:function(v,w){return v===w},kEwiw:function(v,w){return v/w},IZgHc:function(v,w){return v/w},EpKDt:function(v,w){return v/w},SCODj:function(v,w){return v*w},hDnMX:function(v,w){return v>=w},QyYXP:function(v,w){return v<w},TCahf:function(v,w){return v+w},dQvLq:function(v,w){return v+w},FvKoR:function(v,w){return v/w}},x=c/2,g=f.vwIbK(r,Math.SQRT2)/2;if(f[i(406)](g,0)||f.wMJDM(x,0))return 1;const S=a?.[i(443)]??f.DTWbc,h=a?.sizeStepMm??0,d=f[i(412)](Math.PI,2);if(S===f[i(416)]||f.YjkQm(h,0)){const v=f[i(438)](g,3),w=f.IZgHc(Math.PI*x,2);return Math.max(1,Math[i(410)](w/v))}let y=f.EpKDt(f.SCODj(g,oi),x);if(f[i(388)](y,d))return 1;let _=1;for(let v=1;f.QyYXP(v,100);v++)if(i(399)!==i(431)){const w=f[i(418)](r,f.evXBd(v,h)),D=w*Math.SQRT2/2,b=D*(1-oi)/x;if(y+=b,y>f[i(396)](d,f.FvKoR(b,2)))break;_=v+1}else{if(OwfPLJ.WkQhi(_0x35d908,0)||_0x2986aa<=0)return 0;const w=[];for(let b=0;b<_0x59bac1;b++){const m=OwfPLJ[i(422)](_0x4768c2,OwfPLJ.ITiIE)?OwfPLJ.qWdAi(_0x3720a5,b*_0x10eb2a):_0x446c08;w[i(409)](OwfPLJ[i(402)](OwfPLJ.evXBd(m,_0x4184cf[i(419)]),2))}let D=w[0];for(let b=1;b<_0x831ce1;b++)D+=w[b]/3;return _0x3887b6.round(D*2)}return Math.max(1,_)}const zl=Ln;(function(c,r){const a=Ln,i=c();for(;;)try{if(parseInt(a(253))/1*(-parseInt(a(277))/2)+parseInt(a(295))/3+-parseInt(a(308))/4*(-parseInt(a(243))/5)+parseInt(a(271))/6*(-parseInt(a(239))/7)+-parseInt(a(240))/8*(parseInt(a(294))/9)+parseInt(a(247))/10+parseInt(a(246))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,284735);const Gh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Ln;if(a){const x=a[f(256)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),gs=Gh(void 0,function(){const c=Ln,r={AJvaA:c(269)};return gs.toString().search(r.AJvaA)[c(242)]()[c(264)](gs).search(r[c(267)])});gs();const xr=.28,Kd={:zl(302),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function ur(c){const r=zl,a={DXTyQ:"",dDrQS:r(261)};return c===a[r(250)]?Kd[r(298)]:Kd[a[r(251)]]}function na(c){return{eqojI:function(a,i){return a/i}}.eqojI(c*Math.PI,180)}const ln=2.7;function Et(c){const r={RnVsK:function(x,g){return x/g},WcEiy:function(x,g){return x*g}},a=r.RnVsK(c*Math.SQRT2,2),i=r.WcEiy(a,ln),f=i/2;return{length:i,width:f}}function Rh(c){return c*ln/2}function Ln(c,r){c=c-239;const a=L0();let i=a[c];if(Ln.RxAZgo===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Ln.ugQGGx=f,Ln.wriCiG={},Ln.RxAZgo=!0}const x=a[0],g=c+x,S=Ln.wriCiG[g];if(S)i=S;else{const h=function(d){this.bYgOzO=d,this.KRPWkM=[1,0,0],this.PWUnMA=function(){return"newState"},this.zslsBE="\\w+ *\\(\\) *{\\w+ *",this.sZolaU=`['|"].+['|"];? *}`};h.prototype.ZmCKIj=function(){const d=new RegExp(this.zslsBE+this.sZolaU),y=d.test(this.PWUnMA.toString())?--this.KRPWkM[1]:--this.KRPWkM[0];return this.kshPox(y)},h.prototype.kshPox=function(d){return~d?this.oxxriH(this.bYgOzO):d},h.prototype.oxxriH=function(d){for(let y=0,_=this.KRPWkM.length;y<_;y++)this.KRPWkM.push(Math.round(Math.random())),_=this.KRPWkM.length;return d(this.KRPWkM[0])},new h(Ln).ZmCKIj(),i=Ln.ugQGGx(i),Ln.wriCiG[g]=i}return i}function ir(c,r,a){const i=zl,f={nyaFg:function(d,y){return d(y)},oTudE:function(d,y){return d*y},UTFTC:function(d,y){return d-y},FfxMB:function(d,y){return d/y},yqyzD:function(d,y){return d*y}},{length:x}=f[i(278)](Et,a),g=f[i(262)](x,r),S=Math.max(0,f[i(254)](c,g*xr)),h=S+g;return f.FfxMB(f[i(291)](h,2),ln)}function Oh(c,r,a){const i=zl,f={Gmzqg:function(h,d){return h-d},FSJJQ:function(h,d){return h*d}},{length:x}=Et(a),g=x*r,S=c*ln/2;return Math[i(248)](2,f.Gmzqg(S,f.FSJJQ(g,f[i(249)](1,xr))))}function L0(){const c=["BwLU","quP2yue","Dg9gAxHLza","kcGOlISPkYKRksSK","z1nOt3e","mZC5oe11vvjrta","turrtK8","BgvUz3rO","A2zRrKy","ALnrCg8","AMPzyMC","nteWmJK4z2XTwNvn","BNLHrMC","vePXuxa","qwXgEhK","C0vzBxu","sfjhv1i","ywjZ","B3jKzxi","yNbrEuq","y0HvuLy","BerHAgi","ChvZAa","wfngBwG","AvDXt2u","Exf5EKq","yNDTtKG","yLrts0e","mtq3mZeYouztCxr2yW","ode2nZu5zM93A1jI","vxr6CKS","uKzXuxy","5yMJ44gK44g+44g/","CM91BMq","rwj2A2u","C2nHBgu","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","AvD1zxe","y29Z","Exvcy20","Cw5TsKq","CMfKAxvZ","mJa4nhjkwwzmzW","rLP0CMu","tMfqsMG","mti0nLPfyLPuBW","og93ELH3CG","uxbPuxK","Dg9tDhjPBMC","nZeWu3DbCvLY","zxH0t0C","rMDcrhK","mJq1otG5n1DJAgnRsW","ntaXnti2mgnHteHrva","Bwf4","r216CwC","rfHuEve","zerYuvm","t29SBwO","mM5JExb2vW","vvrgvem","sfHTC3G","yxbWBhK","C29YDa","EvDAs3q","rwfqBvq","C2LU","5lI444gK44g+44g/","B1r1zeu","uK9uugC","y29UC3rYDwn0B3i","5y2k44gp44gz"];return L0=function(){return c},L0()}function nl(c,r,a){const i=zl,f={extOG:function(y,_){return y<=_},SwOSX:function(y,_){return y??_},NaPJh:function(y,_){return y/_},jjYbg:function(y,_){return y+_},YsyYy:function(y,_){return y%_},Ebvke:function(y,_){return y<_},bTSKA:function(y,_){return y%_},lPoqu:function(y,_){return y%_},kfkFF:function(y,_){return y+_},gcYim:function(y,_){return y-_},SMDqE:function(y,_){return y>_},XSFmh:function(y,_){return y<_}};if(!c||f[i(244)](c,0)||!a||a<=0)return f.SwOSX(r,0);const x=360/c,g=f[i(310)](360,a),S=[];for(let y=0;y<c;y++)S[i(288)](f[i(276)](f.YsyYy(r+y*x,360),360)%360);let h=r+f[i(310)](x,2),d=-1;for(let y=0;f[i(300)](y,c);y++){const _=r+y*x+x/2;let v=1/0;for(let w=0;w<a;w++){const D=f[i(293)](f.lPoqu(f[i(274)](_,w*g),360)+360,360);for(const b of S){let m=Math[i(283)](f.gcYim(D,b));f.SMDqE(m,180)&&(m=360-m),f[i(289)](m,v)&&(v=m)}}v>d&&(d=v,h=_)}return Math[i(299)](h*10)/10}function Q0(c,r,a){const i=zl,f={ePAnf:function(w,D){return w===D},QpiQy:function(w,D){return w*D},lSqSP:function(w,D){return w-D},RFqQv:function(w,D){return w/D},MDQNO:function(w,D,b){return w(D,b)}};if(f.ePAnf(c.length,0))return;const{length:x}=Et(r),g=c[0],S=g.scale??1,h=f[i(241)](x,S),d=Math[i(248)](0,f.lSqSP(g.radius,h*xr)),y=d+h;if(y<=0)return;const _=f.RFqQv(a*ln,2),v=_/y;for(const w of c)w[i(307)]=Math[i(248)](2,Math.round(f[i(241)](w[i(307)],v)*10)/10),w[i(301)]=f[i(297)](Math[i(299)]((w.scale??1)*v*100),100);f[i(272)](vs,c,r)}function vs(c,r){const a=zl,i={yuBcm:function(h,d){return h===d},iWqOe:function(h,d){return h-d}};if(i[a(305)](c.length,0))return;const f=c[i[a(290)](c[a(273)],1)],{length:x}=Et(r),g=x*(f.scale??1),S=Math.floor(g*xr*10)/10;f[a(307)]>S&&(f.radius=S)}function Yh(c,r,a,i){const f=zl,x={bpQyD:function(v,w){return v/w},dbIVg:function(v,w){return v===w},XLJef:"",TJqQp:function(v,w){return v>w},EaPmT:function(v,w){return v*w},HXmsx:function(v,w){return v-w},HRGWR:function(v,w){return v/w},gShOq:function(v,w){return v/w},uoszp:function(v,w){return v===w},efbnj:function(v,w){return v(w)},qnmJD:function(v,w){return v*w},HbhNk:function(v,w){return v/w},gvxei:function(v,w){return v!==w},iWueq:f(292),ROTPg:function(v,w){return v/w},YWSUI:function(v,w){return v>w},jSQpo:function(v,w){return v*w},DBhwh:function(v,w){return v-w},BpTuX:function(v,w){return v*w},lDahb:"GtwoJ",PJfRq:function(v,w){return v*w},cHURV:function(v,w){return v+w}};if(x.uoszp(c[f(273)],0))return;const g=[...c][f(257)]((v,w)=>w.order-v.order),{length:S}=x.efbnj(Et,r),h=g.length,d=g[0].scale??1,y=x[f(306)](S,d);g[0][f(307)]=x.HbhNk(Math.floor(x.qnmJD(x.EaPmT(y,xr),10)),10);for(let v=1;v<h;v++)if(x.gvxei(x[f(303)],"pyZSE")){const w=g[x[f(255)](v,1)],D=x[f(259)](S,w.scale??1);let b;if(a===f(265)){const L=x[f(263)](x.qnmJD(70,Math.PI),180),Y=x.YWSUI(h,1)?x[f(275)](x.bpQyD(v,x.DBhwh(h,1)),L):0;b=x.BpTuX(D,30/100)*Math.cos(Y)}else x[f(287)]==="GtwoJ"?b=D/3:_0x226d17=x[f(285)](_0x2728cd,3);g[v].radius=x[f(285)](Math.round(x.PJfRq(x[f(286)](w.radius,b),10)),10)}else{const w=_0x149f4b[_0x7e3214-1],D=_0x28e7b8*(w.scale??1);let b;if(x.dbIVg(_0x3ec9b8,x.XLJef)){const L=70*_0x18d648.PI/180,Y=x[f(279)](_0x433993,1)?x.EaPmT(_0x3c47dc/x[f(255)](_0x321472,1),L):0;b=x.EaPmT(x.EaPmT(D,x[f(282)](30,100)),_0x359c02[f(304)](Y))}else b=D/3;_0x520a32[_0x5cb758][f(307)]=x[f(270)](_0x1f5a30[f(299)](x[f(259)](w.radius+b,10)),10)}const _=[...c][f(257)]((v,w)=>v[f(284)]-w.order);Q0(_,r,i);for(const v of _){const w=c.find(D=>D.id===v.id);w&&(w[f(307)]=v[f(307)],w[f(301)]=v[f(301)])}}function xi(c){const r=zl,a={GFpEJ:function(h,d){return h/d},azGhf:function(h,d){return h*d},UtzrK:function(h,d){return h/d}},i=360/c,f=Math.sin(na(i/2))*2,x=.96,g=1.2,S=a.GFpEJ(a.azGhf(f,g),x);return a[r(296)](Math.round(a.azGhf(Math[r(248)](.3,Math[r(266)](3,S)),100)),100)}(function(c,r){const a=en,i=c();for(;;)try{if(parseInt(a(331))/1+parseInt(a(388))/2*(-parseInt(a(342))/3)+-parseInt(a(397))/4+-parseInt(a(409))/5*(-parseInt(a(337))/6)+parseInt(a(323))/7+parseInt(a(393))/8*(-parseInt(a(374))/9)+-parseInt(a(334))/10*(parseInt(a(326))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,690087);const Hh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=en;if(a){const x=a[f(401)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),ps=Hh(void 0,function(){const c=en,r={SJELB:c(315)};return ps.toString()[c(345)](r[c(407)]).toString()[c(349)](ps)[c(345)]("(((.+)+)+)+$")});ps();function E0(){const c=["z25wDuy","y29Sx2HVDhbPBMS","wurvyM4","kcGOlISPkYKRksSK","q1ngvKW","y2Xpqvi","y29Sx2jSywnR","ALvSyMC","se92Au0","seTvCLa","A0HfruO","oti4nJm4owDMDxfPua","ENvUzwW","CuHxt0u","mtu4odG5nwfPsxnxqG","Cg9ZAxrPB24","EgjjsKK","y29Sx3nPBhzLCG","C0XlAMS","ndiWodG4BwL4EhjH","r2DKEMu","rwPfveO","mtbZy1PMAgW","q2vUDgvY","y29Sx29Yyw5Nzq","nJbuEMH1Aha","5lI444gK44g+44g/","Cgv0ywXdB3vUDa","zM55wvO","A0LbB0i","mtK1v0fNzvbR","5y2k44gp44gz","y29Sx2nVCMfS","C2vHCMnO","iZncn0reoa","wg5hzvm","y29Sx2rHCMTNCMvLBG","y29UC3rYDwn0B3i","Bgf5zxjZ","iZfbn0eZqq","C2nHBgu","CvHJvfe","BxDdA1G","EKrrC3q","sNjSvuS","qxv5rxq","i0q0qtG0mW","BuT1CvG","uwHrtLa","y29Sx3LLBgXVDW","zfrwAwi","rfDTtwK","sNvnELa","y29Sx3DOAxrL","y29Sx2jSDwu","vgTywwS","sw5Uzxi","i0y1rJvgnq","vvLmwNu","ALb4u0W","y29Sx2nYzwfT","CMfKAxvZ","otbJCwjfuhK","y29Sx3b1CNbSzq","5yMJ44gK44g+44g/","Cgv0ywXpDMvYCMLKzxm","qKvwww8","D0XrDNG","r29lDuK","wNDYrMu","iZDfqZHfmW","y29Sx2XHDMvUzgvY","EKH3quO","s3vntMq","iZjdm0u2qG","C29YDa","mZCWmtHtEMztrwK","iZHcnuuZqW","B3jKzxi","rMXVD2vYide","ienVChK","mJu5nJbnrfrmwvO","B2zMC2v0qw5NBgu","y29Sx3jLza","Bgf5","ndKYotKYuNnRAwDA","yKTft3O","qwrwD2C","ChjVAG","yxbWBhK","ExHyz0G","BMfTzq","z1L0vgq","D3PSALm","t3v0zxi","u0Pftei","i0uZndG1ma","mJiYotaWruPpCKDI","DxLeyMe","i0yWoda4ma"];return E0=function(){return c},E0()}function Fd(){const c=en,r={clOAR:"col_white",JrlUK:c(408),qXcTQ:"col_pink",zHwAJ:"#E0457B",kHEEJ:c(336),jUlbg:"#F08A3B",MHdCy:"col_lightyellow",NNzjU:"#FDF5C9",GoKuI:c(348),sLKjk:"col_lightblue",HKUrP:c(382),tsJhc:c(366),OIKpq:c(375),oZluv:"#9B59B6",zunel:c(383),KyKsT:"col_gold",fnyYZ:c(372),rZqLK:"#F5E6CC",KuMNd:"col_brown",bKEOz:c(389),HKRUF:"#333333",vNUGa:c(411)};return[{id:r[c(317)],name:"",hex:c(369)},{id:c(395),name:"",hex:r[c(356)]},{id:r[c(353)],name:"",hex:"#F08CB6"},{id:c(313),name:"",hex:r[c(384)]},{id:r[c(322)],name:"",hex:r[c(319)]},{id:c(361),name:"",hex:"#F2D04B"},{id:r.MHdCy,name:"",hex:r.NNzjU},{id:"col_green",name:"",hex:"#2FBF4A"},{id:r[c(380)],name:"",hex:c(351)},{id:r[c(330)],name:"",hex:r[c(321)]},{id:r.tsJhc,name:"",hex:c(346)},{id:"col_navy",name:"",hex:c(386)},{id:r.OIKpq,name:"",hex:r.oZluv},{id:r[c(324)],name:"",hex:"#C8A2D4"},{id:r.KyKsT,name:"",hex:c(358)},{id:c(329),name:"",hex:"#C0C0C0"},{id:r[c(340)],name:"",hex:r.rZqLK},{id:r[c(385)],name:"",hex:r[c(398)]},{id:c(318),name:"",hex:r.HKRUF},{id:c(344),name:"",hex:r.vNUGa}]}function Kh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=en,f={wLQvx:"prj",XnGeS:"",HPRYe:function(S,h){return S??h}},x=D0(),g=Fd();return Ca({id:Lt(f[i(379)]),title:c??f[i(347)],unit:"mm",fabricSquareSize:f.HPRYe(r,20),baseDiameter:f.HPRYe(a,30),notes:"",createdAt:x,updatedAt:x,palette:g,flowers:[]})}function en(c,r){c=c-313;const a=E0();let i=a[c];if(en.aAYaeD===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};en.yCpIEo=f,en.TcakLT={},en.aAYaeD=!0}const x=a[0],g=c+x,S=en.TcakLT[g];if(S)i=S;else{const h=function(d){this.Oklurz=d,this.fdpUoO=[1,0,0],this.zJFvjE=function(){return"newState"},this.IOLRki="\\w+ *\\(\\) *{\\w+ *",this.NjLpEp=`['|"].+['|"];? *}`};h.prototype.VfpzXq=function(){const d=new RegExp(this.IOLRki+this.NjLpEp),y=d.test(this.zJFvjE.toString())?--this.fdpUoO[1]:--this.fdpUoO[0];return this.LWFIAn(y)},h.prototype.LWFIAn=function(d){return~d?this.IHyWDa(this.Oklurz):d},h.prototype.IHyWDa=function(d){for(let y=0,_=this.fdpUoO.length;y<_;y++)this.fdpUoO.push(Math.round(Math.random())),_=this.fdpUoO.length;return d(this.fdpUoO[0])},new h(en).VfpzXq(),i=en.yCpIEo(i),en.TcakLT[g]=i}return i}function Uh(c,r){const a=en,i={dTVib:function(S,h){return S(h)},fgrOi:"flw",jPxSL:function(S,h){return S+h}},f=i[a(362)](ta,c);f.id=i[a(362)](Lt,i.fgrOi),f[a(403)]=c.name+a(392);const x=r?.x??12,g=r?.y??12;return f[a(327)]={x:i.jPxSL(c[a(327)]?.x??0,x),y:i[a(371)](c.position?.y??0,g)},f.layers=(f[a(350)]||[]).map(S=>({...S,id:Lt(a(396)),petalOverrides:S.petalOverrides?S[a(377)].map(h=>({...h})):void 0})),f}(function(c,r){const a=hn,i=c();for(;;)try{if(parseInt(a(354))/1*(-parseInt(a(283))/2)+parseInt(a(278))/3+-parseInt(a(330))/4+parseInt(a(292))/5*(parseInt(a(254))/6)+-parseInt(a(262))/7*(-parseInt(a(337))/8)+parseInt(a(294))/9*(parseInt(a(339))/10)+-parseInt(a(272))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,573917);const Zh=(function(){const c={eQgIl:"iiKOi"};let r=!0;return function(a,i){const f=r?function(){const x=hn;if(x(357)!==c[x(316)]){if(i){const g=i[x(295)](a,arguments);return i=null,g}}else delete _0x5c80bb.baseDiameter}:function(){};return r=!1,f}})(),ys=Zh(void 0,function(){const c=hn,r={tVPgS:"(((.+)+)+)+$"};return ys[c(300)]().search(r.tVPgS)[c(300)]().constructor(ys).search("(((.+)+)+)+$")});function hn(c,r){c=c-252;const a=k0();let i=a[c];if(hn.eXfaco===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};hn.BlVpCl=f,hn.hCIiMk={},hn.eXfaco=!0}const x=a[0],g=c+x,S=hn.hCIiMk[g];if(S)i=S;else{const h=function(d){this.SoDFrV=d,this.oxtSMF=[1,0,0],this.iMGwQI=function(){return"newState"},this.aKgCys="\\w+ *\\(\\) *{\\w+ *",this.rPgGjE=`['|"].+['|"];? *}`};h.prototype.psKlWT=function(){const d=new RegExp(this.aKgCys+this.rPgGjE),y=d.test(this.iMGwQI.toString())?--this.oxtSMF[1]:--this.oxtSMF[0];return this.TAvXsT(y)},h.prototype.TAvXsT=function(d){return~d?this.RTKxJV(this.SoDFrV):d},h.prototype.RTKxJV=function(d){for(let y=0,_=this.oxtSMF.length;y<_;y++)this.oxtSMF.push(Math.round(Math.random())),_=this.oxtSMF.length;return d(this.oxtSMF[0])},new h(hn).psKlWT(),i=hn.BlVpCl(i),hn.hCIiMk[g]=i}return i}ys();function k0(){const c=["EgDOrhG","wxnyz1q","44oA44od44ox","zvfNswW","zMXVD2vYCW","y3jLyxrLzef0","DMvYC2LVBG","C3rYAw5N","Cg9ZAxrPB24","y29SB3i","yM9VBgvHBG","C2L6zq","Cgv0ywXpDMvYCMLKzxm","yK5Tr0u","Bg9JA2vK","AgfZ","CgvWq291BNq","mZG1nZq1mKjMt1fbqG","DMLhvg8","sNnyCgC","B2TYBNi","s1vQtK0","CgXHy2vTzw50tw9Kzq","refHtvq","odHTEufowfK","y2TQAeS","mJKWvNDfCePP","5y2k44gp44gz","Cg9Zzq","5lI444gK44g+44g/","zMLUza","ywr1Bhq","AxngAw5PDgu","BwfW","tNboB1u","y2vUDgvY","Aw5UzxjdB2XVCKLK","DMfYAwfUDa","44or44o844oR","Cgv0ywXuExbL","BgvMDa","ogzdwNrWEG","C3rLBMnPBhm","DhLWzq","A0j4A20","BgLUA2vKrMXVD2vYr3jVDxbjza","A0DgBge","sg1yz3C","vMjOvKi","ANLcrgu","DMLZAwjSzq","C2nHBgu","44kW44oR44o844ox","zMLSDgvY","zg91yMXLugv0ywW","44or44o844oR77Yl5BQN6yEr","odi4yxLRA3rr","vLjLtKW","ChjVAG","BgvHzKDYB3vWCW","sLPcqNK","zMXVD2vYswrZ","t01NuK8","ugHgwMq","ndi4ntGYANfvqvvP","D2HKyMy","zMXVD2vYrgLHBwv0zxi","CM90yxrPB24","ChvZAa","rLLmwNK","B2zMC2v0qw5NBgu","z3jW","zMX3","zwPRq3u","mty0mZCWmdnvDMn1EKq","sMnVDwK","Aw5Uzxjty2fSzq","s0PtsgS","r3PbBK8","BM90zxm","mJK1ndqWmfndEwnduG","wLHLwfC","5yMJ44gK44g+44g/","z3jVDxbZ","Aw5JBhvKzxm","ntm1ndbbAKXft3e","yMfZzurPyw1LDgvY","zMfICMLJu3f1yxjLu2L6zq","BMfTzq","Aw5UzxjtAxPLuMvKDwn0Aw9U","tgvHzG","BgvHDMvZ","AKDAvM8","y29SB3jjza","mZGXotbYDgP5sLa","yMfJAW","mty1odqZDwvIvw92","yxbWBhK","y29SB3iY","D2LKDgHty2fSzq","Cu9ewvy","DgL0Bgu","Dg9tDhjPBMC","DxbKyxrLzef0","C3bSAxq","Bgf5zxjZ","AxnbCNjHEq","y2HPBgq","yMzpu1e","B2jQzwn0","CgfSzxr0zq","EfDmq04","y29Sx3DOAxrL","BgvHzKLKCW","Cgv0ywXdB3vUDa"];return k0=function(){return c},k0()}function ds(c){const r=hn,a={VReNL:function(i,f){return i===f},KJSHk:"",ejkCu:""};return a.VReNL(c,"maru")?r(342):a[r(255)](c,"ken")?r(280):c===""||c===a[r(275)]?c:a[r(271)]}function Ca(c){const r=hn,a={KUjNM:function(x,g){return x!==g},Jcoui:function(x,g){return x!=g},bNmGE:function(x,g,S,h){return x(g,S,h)},GzSsK:r(253),eXaIN:"",ZoEWX:"",okrnr:r(320),OMgRO:"col_white",xghDx:function(x,g){return x===g},gEANe:function(x,g){return x(g)},DPvxA:function(x,g){return x||g},ZXeXW:r(307),cdVZG:function(x,g){return x-g},whdbf:function(x,g){return x!==g},viGTo:function(x,g){return x<=g},PhFZd:function(x,g){return x!==g},jyBDe:function(x,g){return x===g},aPskg:function(x,g){return x!==g},qODYV:"",dDGYU:function(x,g){return x<=g},NpNoU:function(x){return x()},kGFla:r(360),YsXgT:r(256),xaBoo:"",GzAnO:function(x,g){return x!==g},jGZVo:function(x,g){return x!==g},nzkOX:r(336),FYLZy:"5|3|6|1|0|4|2",miCKs:r(269),JZBBy:function(x,g){return x!==g},OnIvc:function(x,g){return x===g},lhVvx:r(361),wfVkh:function(x,g){return x!=g},bfOSQ:function(x,g){return x!==g},AdASl:function(x,g){return x>g},xWLCN:r(365),jOrNa:r(344),MXohA:"right",ckjhK:r(293)},i=a.gEANe(ta,a.DPvxA(c,{}));Array[r(304)](i.flowers)||(i.flowers=[]);for(const x of i[r(317)]){x.id||(x.id=Lt(r(270))),(a.KUjNM(typeof x.name,a.okrnr)||!x.name)&&(x[r(286)]="Flower"),(!x[r(321)]||!Number.isFinite(x[r(321)].x)||!Number.isFinite(x.position.y))&&(x.position={x:260,y:260}),Array[r(304)](x[r(303)])||(x[r(303)]=[]);for(const g of x[r(303)]){if(g.id||(g.id=Lt("lay")),(typeof g[r(291)]!==a.okrnr||!g[r(291)])&&(g[r(291)]=i.palette?.[0]?.id??"col_white"),g.petalType=ds(g[r(352)]),g.petalCount=a[r(326)](pe,Number(g[r(312)]||0),5,24),Number[r(345)](g.scale)||(g[r(364)]=1),Number[r(345)](g[r(297)])||(g.widthScale=1),Number.isFinite(g.radius)||(g.radius=28),Number.isFinite(g.offsetAngle)||(g[r(268)]=0),delete g._doublePetalCache,g[r(252)])if(a[r(334)](typeof g.doublePetal,a.ZXeXW)||a[r(313)](g.doublePetal,null))delete g[r(252)];else{if(a[r(273)](g[r(252)][r(274)],null)&&g.doublePetal[r(287)]==null){const S=x.fabricSquareSize??i[r(285)]??20;g[r(252)].innerSizeReduction=Math.round(S*a.cdVZG(1,g.doublePetal[r(274)]))}delete g.doublePetal.innerScale,Number[r(345)](g[r(252)][r(287)])||(g.doublePetal.innerSizeReduction=2),g.doublePetal[r(287)]=pe(g[r(252)][r(287)],1,30),delete g.doublePetal.innerPetalType,g.doublePetal[r(349)]!=null&&typeof g[r(252)][r(349)]!==a.okrnr&&delete g[r(252)][r(349)]}if(Array.isArray(g[r(325)]))for(const S of g[r(325)])S&&S.petalType!=null&&(S[r(352)]=ds(S[r(352)])),S&&delete S.innerPetalType,S&&S[r(349)]!=null&&a[r(263)](typeof S[r(349)],a.okrnr)&&delete S[r(349)],S&&S.innerSizeReduction!=null&&(Number[r(345)](S.innerSizeReduction)?S[r(287)]=pe(S.innerSizeReduction,1,30):delete S.innerSizeReduction)}(!Number.isFinite(x.flowerDiameter)||a[r(331)](x[r(264)],0))&&(x[r(264)]=60),x.center&&(a.xghDx(x[r(348)][r(356)],"")&&(x[r(348)][r(356)]=""),[a.eXaIN,"",r(315)][r(282)](x[r(348)].type)||(x.center[r(356)]=""),Number[r(345)](x[r(348)][r(324)])||(x[r(348)][r(324)]=6),x[r(348)].size=a[r(326)](pe,x.center[r(324)],1,30),(a.PhFZd(typeof x.center.color,r(320))||!x[r(348)][r(322)])&&(x[r(348)].color=i.palette?.[0]?.id??r(310)),a[r(362)](x[r(348)].type,r(315))&&(Number[r(345)](x[r(348)][r(329)])||(x.center.pepCount=12),x.center.pepCount=pe(x[r(348)].pepCount,4,30)),x.center[r(356)]!==""&&delete x.center.color2),a.aPskg(x[r(335)],a[r(298)])&&a[r(261)](x.placementMode,"")&&(x[r(335)]=a.qODYV),x.baseDiameter!==void 0&&(!Number.isFinite(x.baseDiameter)||a.dDGYU(x[r(284)],0))&&delete x.baseDiameter}Array.isArray(i[r(308)])||(i[r(308)]=[]);const f=new Set(i.palette.map(x=>x.id));for(const x of a[r(347)](Fd))a[r(359)]!==r(360)?_0x4295c4.leafIds.includes(_0x11aa18)||_0x103e4b[r(311)].push(_0x196357):f[r(328)](x.id)||i[r(308)].push(x);if(i[r(318)]||(i[r(318)]=D0()),i[r(301)]||(i.updatedAt=i.createdAt),i.id||(i.id=Lt(a[r(314)])),i[r(299)]||(i.title=a.xaBoo),i.unit="mm",Number[r(345)](i.fabricSquareSize)||(i[r(285)]=20),(!Number.isFinite(i[r(284)])||i.baseDiameter<=0)&&(i.baseDiameter=30),a[r(276)](typeof i[r(277)],"string")&&(i.notes=""),Array[r(304)](i.groups)||(i.groups=[]),a[r(290)](a.nzkOX,"RSuVL")){const x=new Set(i.flowers.map(S=>S.id)),g=new Set((i[r(289)]??[])[r(346)](S=>S.id));for(const S of i[r(281)]){const h=a[r(267)][r(302)]("|");let d=0;for(;;){switch(h[d++]){case"0":Number.isFinite(S[r(265)])||(S[r(265)]=0);continue;case"1":S[r(311)]=S.leafIds[r(366)](y=>g[r(328)](y));continue;case"2":(typeof S.name!="string"||!S[r(286)])&&(S[r(286)]="");continue;case"3":Array[r(304)](S.leafIds)||(S[r(311)]=[]);continue;case"4":S.id||(S.id=Lt(a.miCKs));continue;case"5":Array[r(304)](S.flowerIds)||(S.flowerIds=[]);continue;case"6":S.flowerIds=S[r(259)][r(366)](y=>x.has(y));continue}break}}i.groups=i.groups[r(366)](S=>S.flowerIds.length+S.leafIds.length>0)}else _0x3704f6&&_0x2feacd.petalType!=null&&(_0x5c50d2.petalType=_0x17f4e2(_0x4533f7.petalType)),_0x21631d&&delete _0x588b76.innerPetalType,_0x5962be&&_0x11c81a.innerColorId!=null&&a.KUjNM(typeof _0x477ea5[r(349)],"string")&&delete _0x53bee9.innerColorId,_0xc44beb&&a.Jcoui(_0x1f6d1e.innerSizeReduction,null)&&(_0x3bfdf2[r(345)](_0x262532[r(287)])?_0x206605[r(287)]=a[r(326)](_0x1095ea,_0x242f3a.innerSizeReduction,1,30):delete _0x56b588.innerSizeReduction);Array[r(304)](i.leaves)||(i[r(289)]=[]);for(const x of i[r(289)])x.id||(x.id=Lt("leaf")),(a.KUjNM(typeof x.name,a[r(333)])||!x[r(286)])&&(x[r(286)]=r(288)),(!x.position||!Number[r(345)](x.position.x)||!Number.isFinite(x.position.y))&&(x[r(321)]={x:675,y:675}),Number[r(345)](x.rotation)||(x.rotation=0),x[r(352)]=ds(x[r(352)]),(typeof x.colorId!="string"||!x.colorId)&&(a.GzAnO(r(332),r(332))?_0x46f555[r(335)]=r(340):x[r(291)]=i[r(308)]?.[0]?.id??"col_green"),Number[r(345)](x[r(364)])||(x[r(364)]=1),Number[r(345)](x.widthScale)||(x[r(297)]=1),a[r(261)](typeof x[r(363)],r(323))&&(x.visible=!0),typeof x.locked!==r(323)&&(x[r(327)]=!1),delete x._doublePetalCache,x.doublePetal&&(a[r(258)](typeof x.doublePetal,a[r(279)])||a.xghDx(x.doublePetal,null)?delete x[r(252)]:a.OnIvc(a.lhVvx,"hxpWI")?(_0x3e0d7b[r(348)].type===a.GzSsK&&(_0x2ca320[r(348)][r(356)]=""),[a.eXaIN,"",a.ZoEWX].includes(_0x51b7e3.center.type)||(_0x5e40b2[r(348)].type=r(351)),_0x3fc7b4.isFinite(_0x426757.center[r(324)])||(_0x265d97.center[r(324)]=6),_0x47f063.center[r(324)]=_0x2257ee(_0x13f5a3[r(348)].size,1,30),(typeof _0x46c54a.center[r(322)]!==a[r(333)]||!_0x424a3a.center[r(322)])&&(_0x1c7e0e.center[r(322)]=_0x58457d[r(308)]?.[0]?.id??a[r(260)]),a.xghDx(_0x389109.center.type,a.ZoEWX)&&(_0x5e6b8f.isFinite(_0x236415[r(348)][r(329)])||(_0x80bea7.center.pepCount=12),_0x459b2a.center[r(329)]=_0x2945ba(_0x49fdaa.center.pepCount,4,30)),a.KUjNM(_0x4b0b9d[r(348)].type,"")&&delete _0x2ce182[r(348)][r(296)]):(Number.isFinite(x.doublePetal[r(287)])||(x[r(252)][r(287)]=2),x.doublePetal.innerSizeReduction=a[r(326)](pe,x[r(252)][r(287)],1,30),a.wfVkh(x.doublePetal.innerColorId,null)&&a[r(306)](typeof x[r(252)][r(349)],"string")&&delete x.doublePetal.innerColorId));if(Array[r(304)](i.leafGroups)&&a.AdASl(i.leafGroups.length,0)){const x=new Set((i.leaves??[])[r(346)](g=>g.id));for(const g of i[r(257)]){if(!Array[r(304)](g[r(311)]))continue;const S=g.leafIds.filter(h=>x[r(328)](h));if(S.length!==0){if(g[r(358)]){const h=i.groups[r(343)](d=>d.id===g[r(358)]);if(h){for(const d of S)h.leafIds.includes(d)||h[r(311)].push(d);continue}}i[r(281)][r(266)]({id:g.id||Lt(a.miCKs),name:g.name||a[r(309)],flowerIds:[],leafIds:S,rotation:Number.isFinite(g[r(265)])?g[r(265)]:0})}}}if(delete i.leafGroups,Array[r(304)](i.stencils)){const x=[a.jOrNa,r(305)],g=[a.MXohA,r(353),a[r(338)]];i[r(355)]=i[r(355)][r(366)](S=>S&&typeof S.id=="string"&&x.includes(S[r(350)])&&g[r(282)](S[r(341)])&&S.position&&Number.isFinite(S[r(321)].x)&&Number.isFinite(S.position.y))}return Number[r(345)](i[r(319)])||(i[r(319)]=1),i}const $d=Kn;(function(c,r){const a=Kn,i=c();for(;;)try{if(-parseInt(a(256))/1*(-parseInt(a(249))/2)+-parseInt(a(257))/3*(parseInt(a(248))/4)+parseInt(a(246))/5+-parseInt(a(244))/6+-parseInt(a(254))/7*(-parseInt(a(251))/8)+parseInt(a(253))/9+-parseInt(a(252))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,519226);const Xh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),_s=Xh(void 0,function(){const c=Kn,r={soUPU:c(243)};return _s[c(245)]()[c(250)](r.soUPU).toString()[c(247)](_s).search(c(243))});_s();function q0(){const c=["y29UC3rYDwn0B3i","mtjVqwTyquS","nenbzK5fDG","C2vHCMnO","ntGWoty4DeTiBKrJ","nZi1mty1mgLnBK5REa","mtmYnZC3ow5Jrg9ctG","otf2AKjpwuq","Dhn1BwfTAv9WCM9Qzwn0C192mq","mZa5oda2zwvnExD4","ntK2nJi4sw50wwrZ","5lI444gK44g+44g/","kcGOlISPkYKRksSK","mtm2odC0nfvYs0TsBG","Dg9tDhjPBMC","mtC4otyZnwnkEhPuqW"];return q0=function(){return c},q0()}const e1=$d(255);function Kn(c,r){c=c-242;const a=q0();let i=a[c];if(Kn.RQqePA===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Kn.VCuzse=f,Kn.LavnvK={},Kn.RQqePA=!0}const x=a[0],g=c+x,S=Kn.LavnvK[g];if(S)i=S;else{const h=function(d){this.reIiIv=d,this.DxVtBP=[1,0,0],this.PeGKNI=function(){return"newState"},this.IygvCa="\\w+ *\\(\\) *{\\w+ *",this.sFhZJc=`['|"].+['|"];? *}`};h.prototype.SMCrDE=function(){const d=new RegExp(this.IygvCa+this.sFhZJc),y=d.test(this.PeGKNI.toString())?--this.DxVtBP[1]:--this.DxVtBP[0];return this.fkVbNJ(y)},h.prototype.fkVbNJ=function(d){return~d?this.qpkVNv(this.reIiIv):d},h.prototype.qpkVNv=function(d){for(let y=0,_=this.DxVtBP.length;y<_;y++)this.DxVtBP.push(Math.round(Math.random())),_=this.DxVtBP.length;return d(this.DxVtBP[0])},new h(Kn).SMCrDE(),i=Kn.VCuzse(i),Kn.LavnvK[g]=i}return i}const al=[$d(242),""],Wh=["","",""],t1=["",""];function B0(){const c=["nerwEejKva","v3nNtNC","C1bNuKi","Dg9tDhjPBMC","mtfXB3PAsxe","C2vHCMnO","mti3nZe0ovn4AMDsDG","mtn4uhD1D2S","mLD0u0L1vG","kcGOlISPkYKRksSK","ndCXodCZnZjXC1fitwC","mtHUDKnsv2O","DxbKyxrLzef0","ndu1mta2v05ps0TS","AxnbCNjHEq","nZDotLvzqwu","CgfYC2u","se1Ztfi","u3LQtgG","yNjdwxi","BxPItNy","yxbWBhK","DgL0Bgu","mtm4ndu4nfn0tg1Wvq","mty1mdq4nZbiEKr6u2u","y29UC3rYDwn0B3i","D0XcqNa","mJa5ote2nwnkuK1IuW","mJu5nZy3ww5XAxnf","C2v0sxrLBq","zMLSDgvY","C3rYAw5NAwz5","ChjVAMvJDa"];return B0=function(){return c},B0()}(function(c,r){const a=Zt,i=c();for(;;)try{if(parseInt(a(228))/1*(-parseInt(a(230))/2)+-parseInt(a(217))/3*(parseInt(a(222))/4)+parseInt(a(216))/5+-parseInt(a(235))/6*(parseInt(a(237))/7)+-parseInt(a(245))/8*(-parseInt(a(233))/9)+-parseInt(a(246))/10*(parseInt(a(226))/11)+-parseInt(a(232))/12*(-parseInt(a(229))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,849674);const Jh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Zt;if(a){const x=a[f(243)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ss=Jh(void 0,function(){const c=Zt,r={mpQYc:"(((.+)+)+)+$"};return Ss[c(225)]()[c(227)](r.mpQYc).toString()[c(247)](Ss).search(c(231))});function Zt(c,r){c=c-216;const a=B0();let i=a[c];if(Zt.qEznnY===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Zt.vJjKjI=f,Zt.QUIbib={},Zt.qEznnY=!0}const x=a[0],g=c+x,S=Zt.QUIbib[g];if(S)i=S;else{const h=function(d){this.ElGeUk=d,this.XpHZBa=[1,0,0],this.yUbvSn=function(){return"newState"},this.MHUMmq="\\w+ *\\(\\) *{\\w+ *",this.XQZGiM=`['|"].+['|"];? *}`};h.prototype.qSbHPG=function(){const d=new RegExp(this.MHUMmq+this.XQZGiM),y=d.test(this.yUbvSn.toString())?--this.XpHZBa[1]:--this.XpHZBa[0];return this.AwUMCc(y)},h.prototype.AwUMCc=function(d){return~d?this.KpBNuz(this.ElGeUk):d},h.prototype.KpBNuz=function(d){for(let y=0,_=this.XpHZBa.length;y<_;y++)this.XpHZBa.push(Math.round(Math.random())),_=this.XpHZBa.length;return d(this.XpHZBa[0])},new h(Zt).qSbHPG(),i=Zt.vJjKjI(i),Zt.QUIbib[g]=i}return i}Ss();function rr(){const c=Zt,r={WsgNw:function(a){return a()},uPPRv:function(a,i){return a===i},oCTlC:"oWaMR",xtSsF:function(a,i){return a(i)},niRjf:function(a,i){return a!==i},JAhba:"Sbtak",brCYr:function(a,i){return a!==i}};try{if(r[c(241)](c(239),c(239))){const a=r[c(223)](_0x3dbdb1)[c(219)](i=>i.id!==_0x2c166e);return _0xb73e9c(a)}else{const a=localStorage.getItem(e1);if(!a)return[];const i=JSON[c(238)](a);return Array[c(236)](i)?i.map(f=>{const x=c;if(r.uPPRv(r.oCTlC,"XIMFa"))return _0x2c84da.toString().search(x(231)).toString().constructor(_0x528353)[x(227)]("(((.+)+)+)+$");try{if(x(224)==="zxrAG")try{return _0x3f637c[x(218)](_0x1e2590,_0x1b7c91[x(220)](_0x3f5d9c)),!0}catch{return!1}else{const g=f?.project?r.xtSsF(Ca,f[x(221)]):null;return g?{id:f.id??g.id,title:f[x(244)]??g.title,updatedAt:f[x(234)]??g[x(234)],project:g}:null}}catch{return r.niRjf(r.JAhba,"yExsI"),null}})[c(219)](f=>f!=null):[]}}catch{return[]}}function n1(c){const r=Zt;try{return localStorage[r(218)](e1,JSON.stringify(c)),!0}catch{return!1}}function Vh(c){const r=Zt,a={wLBBp:function(S){return S()},tTykp:function(S,h){return S+h}},i=a[r(248)](rr),f=i.findIndex(S=>S.id===c.id),x={id:c.id,title:c.title,updatedAt:c.updatedAt,project:c},g=f>=0?[...i.slice(0,f),x,...i.slice(a.tTykp(f,1))]:[x,...i];return g.sort((S,h)=>S.updatedAt<h.updatedAt?1:-1),n1(g)}function Qh(c){const r=Zt,a={mzbNv:function(f){return f()},SyjLh:function(f,x){return f(x)}},i=a[r(242)](rr).filter(f=>f.id!==c);return a[r(240)](n1,i)}(function(c,r){const a=mn,i=c();for(;;)try{if(parseInt(a(298))/1+parseInt(a(323))/2+-parseInt(a(270))/3+-parseInt(a(307))/4*(-parseInt(a(280))/5)+-parseInt(a(299))/6+parseInt(a(290))/7*(-parseInt(a(330))/8)+-parseInt(a(301))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,120081);function I0(){const c=["y291BNq","DezWBe8","CM91BMq","Bff3tKu","sMT0sMm","zuflBeK","BgvHDMvZ","CgXHy2vTzw50tw9Kzq","yMfZzurPyw1LDgvY","zMLUza","t2jrq3e","Aw5UzxjtAxPLuMvKDwn0Aw9U","AKjQDNu","mZqZmtrqvgrouhq","yxbWBhK","Aw1xs0m","Aw5UzxjdB2XVCKLK","DMfSDwvZ","we5JwgC","swDKD0K","mJm0mtzrAwj5rNG","BwfW","C29YDa","D1DUsfK","EuDjtNO","mZq2mJC4vMnLqLD1","Bgf5zxjZ","sMLLB0K","yMfZzurPyw1LDgvYtw0","y29SB3jjza","iZK5otK5oq","Aw5KzxG","v3DfseK","we5WsKq","t2n2zg0","nZaWndvlzMzTuwe","zNjVBq","tvrivLa","AMTcyNy","zMXVD2vYrgLHBwv0zxi","C2nHBgu","zg91yMXLugv0ywW","EgPyCuC","Bwf4","yNjqtgO","ndjSvMreuKC","ExD0vLy","CgfSzxr0zq","ChvZAa","vMXitgm","vfjdDLi","zMfICMLJu2L6zu1T","kcGOlISPkYKRksSK","ntK2nZn1uvroyLa","mZy2oda0qxfbCujQ","Bw9Kzq","nZaYmhrTvwXREa","DMLZAwjSzq","z2v0","Dg90ywXdB3vUDa","zMfICMLJu3f1yxjLu2L6zq","BMfTzq","nJHhzw1vB1y","C2v0","qLP5zKi"];return I0=function(){return c},I0()}const Ph=(function(){const c={tFplO:function(a,i){return a-i},jkBbv:function(a,i){return a===i},fXIhM:"xKiSJ"};let r=!0;return function(a,i){const f=r?function(){const x=mn,g={Ocvdm:function(S,h){return c[mn(311)](S,h)}};if(i)if(c[x(283)]("SegWB",c.fXIhM)){const S=_0x3783d6[x(286)],h=S.innerColorId??_0x130b1c,d=_0x4e9744[x(288)](3,_0x325472.round(g[x(279)](_0x215ab9,S.innerSizeReduction??2))),y=h+"|"+d,_=_0x4b1f9c[x(303)](y);_?_[x(310)]+=1:_0x1c8cde.set(y,{colorId:h,fabricSizeMm:d,count:1})}else{const S=i[x(324)](a,arguments);return i=null,S}}:function(){};return r=!1,f}})(),ws=Ph(void 0,function(){const c=mn;return ws.toString().search("(((.+)+)+)+$").toString().constructor(ws).search(c(297))});ws();function mn(c,r){c=c-268;const a=I0();let i=a[c];if(mn.DDauTG===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};mn.fuuqII=f,mn.VcwBnb={},mn.DDauTG=!0}const x=a[0],g=c+x,S=mn.VcwBnb[g];if(S)i=S;else{const h=function(d){this.ggkgzZ=d,this.zgwMjO=[1,0,0],this.rJZWoF=function(){return"newState"},this.WXTTCt="\\w+ *\\(\\) *{\\w+ *",this.VsymyX=`['|"].+['|"];? *}`};h.prototype.xTuJSe=function(){const d=new RegExp(this.WXTTCt+this.VsymyX),y=d.test(this.rJZWoF.toString())?--this.zgwMjO[1]:--this.zgwMjO[0];return this.RUWjjA(y)},h.prototype.RUWjjA=function(d){return~d?this.dGsYPs(this.ggkgzZ):d},h.prototype.dGsYPs=function(d){for(let y=0,_=this.zgwMjO.length;y<_;y++)this.zgwMjO.push(Math.round(Math.random())),_=this.zgwMjO.length;return d(this.zgwMjO[0])},new h(mn).xTuJSe(),i=mn.fuuqII(i),mn.VcwBnb[g]=i}return i}function Fh(c){const r=mn,a={JieoI:function(y,_){return y*_},QlHWJ:r(275),ywtVV:r(269),WwEHI:function(y,_){return y-_},KdEFl:function(y,_){return y/_},imWKC:function(y,_){return y/_},MTHVP:function(y,_,v){return y(_,v)},IgdwI:r(314),jBjvu:function(y,_){return y===_},xjXqG:"yUXQC",TKyDf:function(y,_){return y===_},XHfxZ:"",brPLj:function(y,_){return y(_)},ObQCq:"EiIiT",JZRar:function(y,_){return y!==_},TRmOH:function(y,_){return y===_},BZyfB:r(294)},i=new Map((c[r(292)]||[])[r(331)](y=>[y.id,y])),f=new Map,x=(y,_)=>y?.petalOverrides?.[r(319)](v=>v[r(276)]===_)??null,g=new Map;for(const y of c.flowers||[]){const _=y.fabricSquareSize??c[r(305)];for(const m of y[r(271)]||[]){if(!m.visible)continue;const L=Math[r(312)](_*(m[r(285)]??1));for(let Y=0;Y<m.petalCount;Y++){const q=a[r(282)](x,m,Y),B=q?.[r(274)]??m.colorId,O=B+"|"+L,H=f[r(303)](O);if(H?H[r(310)]+=1:a[r(329)]!=="ZFvnh"?f.set(O,{colorId:B,fabricSizeMm:L,count:1}):_0x4f83d6[r(308)](_0x44dc06,{colorId:_0x192592,fabricSizeMm:_0xb767b9,count:1}),m[r(286)]){const R=m.doublePetal,X=q?.[r(326)]??R.innerColorId??B,F=q?.[r(321)]??R[r(321)]??2,J=Math[r(288)](3,Math[r(312)](a[r(277)](L,F))),V=X+"|"+J,I=f.get(V);I?a[r(322)](a.xjXqG,a[r(287)])?I[r(310)]+=1:_0x3cdf57.count+=1:a.TKyDf("hMNwt","EdxNO")?_0x38d866.entries[r(293)]({fabricSizeMm:_0x48a20e,count:_0xe7238b}):f.set(V,{colorId:X,fabricSizeMm:J,count:1})}}}const v=y[r(317)]??a.XHfxZ,w=a.jBjvu(v,"")?a[r(289)](ar,y[r(284)]):y.baseDiameter??c[r(318)],D=v+"|"+w,b=g.get(D);if(b)b.count+=1;else if(a[r(322)](r(278),a[r(320)])){const m=_0x516565[r(296)]/10;return _0x2fb974+a.JieoI(_0x156735.count*m,m)}else g[r(308)](D,{mode:v,baseDiameterMm:w,count:1})}for(const y of c[r(316)]??[]){if(!y[r(302)])continue;const _=y[r(305)]??c[r(305)],v=Math.round(_*(y[r(285)]??1)),w=y[r(274)],D=w+"|"+v,b=f[r(303)](D);if(b?a.JZRar("tnQiG","DIHCr")?b[r(310)]+=1:_0x773c12.set(_0x2c5661,{colorId:_0x3a9805,entries:[{fabricSizeMm:_0x9653bc,count:_0x30dc7c}]}):f.set(D,{colorId:w,fabricSizeMm:v,count:1}),y[r(286)])if(a.TRmOH(a[r(309)],r(295)))_0x31a6b0[r(308)](_0x11c4a8,{colorId:_0x2bc34b,fabricSizeMm:_0x21be28,count:1});else{const m=y[r(286)],L=m.innerColorId??w,Y=Math[r(288)](3,Math.round(v-(m.innerSizeReduction??2))),q=L+"|"+Y,B=f[r(303)](q);B?B.count+=1:f[r(308)](q,{colorId:L,fabricSizeMm:Y,count:1})}}const S=new Map;for(const{colorId:y,fabricSizeMm:_,count:v}of f[r(327)]()){const w=S[r(303)](y);if(w)w.entries[r(293)]({fabricSizeMm:_,count:v});else if(r(313)!=="lQwNE"){const D={XNcXg:function(B,O){return B+O},eAKlI:function(B,O){return B*O}},b=_0x41a0f5[r(303)](_0x1821c7),m=_0x464eef.sort((B,O)=>O.fabricSizeMm-B[r(296)]),L=m.reduce((B,O)=>B+O[r(310)],0),Y=_0x3ee348.round(a[r(272)](m.reduce((B,O)=>{const H=r,R=O[H(296)]/10;return D[H(328)](B,D[H(315)](D.eAKlI(O.count,R),R))},0),100))/100,q=_0x4dac24.round(a.JieoI(_0x46bc2d.sqrt(Y),10))/10;return{colorId:_0x2b7376,colorName:b?.name??_0x3f66a4,hex:b?.hex??a.QlHWJ,sizes:m,totalCount:L,totalAreaCm2:Y,squareSideCm:q}}else S[r(308)](y,{colorId:y,entries:[{fabricSizeMm:_,count:v}]})}const h=Array[r(281)](S.values()).map(({colorId:y,entries:_})=>{const v=r,w=i[v(303)](y),D=_[v(332)]((Y,q)=>q[v(296)]-Y.fabricSizeMm),b=D.reduce((Y,q)=>Y+q.count,0),m=a.KdEFl(Math.round(D.reduce((Y,q)=>{const B=v;if(a[B(291)]===a.ywtVV){const O=q[B(296)]/10;return Y+a.JieoI(q[B(310)]*O,O)}else{const O=_0x5c32fd[B(286)],H=_0x30ca89?.[B(326)]??O[B(326)]??_0x8be037,R=_0x37e57b?.innerSizeReduction??O.innerSizeReduction??2,X=_0x160503[B(288)](3,_0x5c79f9.round(QPIBwp[B(268)](_0x54d4f2,R))),F=H+"|"+X,J=_0x586ef9[B(303)](F);J?J.count+=1:_0x50e891.set(F,{colorId:H,fabricSizeMm:X,count:1})}},0)*100),100),L=a[v(325)](Math.round(a.JieoI(Math.sqrt(m),10)),10);return{colorId:y,colorName:w?.[v(306)]??y,hex:w?.hex??v(275),sizes:D,totalCount:b,totalAreaCm2:m,squareSideCm:L}}).sort((y,_)=>_[r(304)]-y.totalCount),d=Array.from(g.values()).sort((y,_)=>{const v=r;return y[v(300)]!==_[v(300)]?y.mode===""?-1:1:_.baseDiameterMm-y[v(273)]});return{colors:h,bases:d}}(function(c,r){const a=tn,i=c();for(;;)try{if(-parseInt(a(255))/1*(parseInt(a(244))/2)+-parseInt(a(264))/3*(-parseInt(a(280))/4)+parseInt(a(266))/5+-parseInt(a(283))/6*(-parseInt(a(245))/7)+-parseInt(a(301))/8+parseInt(a(261))/9+parseInt(a(289))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,973128);const $h=(function(){let c=!0;return function(r,a){const i=c?function(){const f=tn;if(a){const x=a[f(296)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Cs=$h(void 0,function(){const c=tn;return Cs.toString().search("(((.+)+)+)+$")[c(252)]().constructor(Cs)[c(294)](c(247))});function G0(){const c=["mZCYweP0EuHL","zMLYC3rdAgLSza","y3jLyxrLrwXLBwvUDa","mtC0q3H2wuXh","y2fUDMfZ","DMLLD0jVEa","zg93BMXVywq","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","zvrmyMe","nZe2oduZmgPpsuvera","C2v0qxr0CMLIDxrL","C3bSAxq","w2rHDgeTDgvZDgLKxq","B25LCNjVCG","C2vHCMnO","CMv2B2TLt2jQzwn0vvjm","yxbWBhK","wM1KswK","Aw5Zzxj0qMvMB3jL","tgLjufu","lNrZDw1HBwKTC2vSlwrHC2G","mtaXnJeWmdHhDKPRDM0","ren3zKO","CxvLCNLtzwXLy3rVCKfSBa","y2XVBMvoB2rL","CKvLzKq","s0LVtuC","CMvTB3zL","vw5Awfm","nZe2A0DnC0vK","mtq4mJuZDhPbBhfw","C3r5Bgu","kcGOlISPkYKRksSK","mcaWidiWmcaYmda","uhbsueO","yu9IC0i","yxbWzw5Kq2HPBgq","Dg9tDhjPBMC","BMTQzgm","Aw1Hz2uVCg5N","ndi5mw5UB0fnEa","D2LKDgG","CMvJDa","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","AgvPz2H0","zw5KC1DPDgG","nZm0mZq5nKjqtwvwta","zM9YrwfJAa","y3jLyxrLt2jQzwn0vvjm","otK5vvzyEuvQ","lNbUzW","odaWnZm3nurxDfrezG","t1fJz3a","y2XPy2S","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","qxzusvq","yM9KEq","zMLSBfn0EwXL","D2HPDgu","AfzRuNC","C2vYAwfSAxPLvg9tDhjPBMC","C2fYAg4","zgf0ys10zxn0Awq","B0P4EuG","BLf2Bue"];return G0=function(){return c},G0()}Cs();function tn(c,r){c=c-237;const a=G0();let i=a[c];if(tn.vlKKhX===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};tn.PmXWGM=f,tn.cJpWjx={},tn.vlKKhX=!0}const x=a[0],g=c+x,S=tn.cJpWjx[g];if(S)i=S;else{const h=function(d){this.MzvYmY=d,this.DamGzi=[1,0,0],this.lOnIvI=function(){return"newState"},this.bmGVFy="\\w+ *\\(\\) *{\\w+ *",this.hWDHjj=`['|"].+['|"];? *}`};h.prototype.zNuYfF=function(){const d=new RegExp(this.bmGVFy+this.hWDHjj),y=d.test(this.lOnIvI.toString())?--this.DamGzi[1]:--this.DamGzi[0];return this.kteiOF(y)},h.prototype.kteiOF=function(d){return~d?this.yPeyGS(this.MzvYmY):d},h.prototype.yPeyGS=function(d){for(let y=0,_=this.DamGzi.length;y<_;y++)this.DamGzi.push(Math.round(Math.random())),_=this.DamGzi.length;return d(this.DamGzi[0])},new h(tn).zNuYfF(),i=tn.PmXWGM(i),tn.cJpWjx[g]=i}return i}function em(c,r){const a=tn,i={nkjdc:"viewBox",OQcgp:function(w,D){return w??D},AvTIT:"0 0 200 200",eTLba:"xmlns",dbjSD:"http://www.w3.org/2000/svg",aObsB:a(257),DCwfJ:"100%",KIoMG:a(273),sarhn:a(300),kiFIy:"[data-marquee]",sQoSt:a(269),ufbzF:".svg"},f=c[a(239)](!0);f[a(238)](a(292)).forEach(w=>w.removeAttribute("data-testid")),f.removeAttribute(a(246));const x=c.getAttribute(a(285));x&&f.setAttribute(i[a(253)],x);const g=i[a(267)](x,i[a(270)]).split(/[\s,]+/).map(Number),S=g[2]??200,h=g[3]??200;f[a(290)](a(256),String(S)),f.setAttribute(a(259),String(h)),f[a(290)](i[a(288)],i.dbjSD);const d=document.createElementNS(a(258),i[a(250)]);d.setAttribute("width",i[a(237)]),d[a(290)]("height",i.DCwfJ),d[a(290)]("fill",i[a(241)]),f[a(298)](d,f[a(281)]),f.querySelectorAll("[data-grid]")[a(262)](w=>w[a(242)]()),f[a(238)](i[a(276)]).forEach(w=>w[a(242)]()),f.querySelectorAll(".tsumami-group-dash").forEach(w=>w[a(242)]()),f.querySelectorAll(i.kiFIy).forEach(w=>w[a(242)]());const y=new XMLSerializer,_=a(287)+y.serializeToString(f),v=new Blob([_],{type:i.sQoSt});l1(v,r.endsWith(i.ufbzF)?r:r+".svg")}function tm(c,r,a=2){const i=tn,f={nQvmA:function(b,m){return b*m},gfJUW:function(b,m){return b===m},rEefD:"flXRs",yeGga:function(b,m){return b*m},wdsmU:i(249),BIkMY:"[data-testid]",bLFzy:"[data-grid]",PxtQF:".tsumami-group-dash",hVkRw:function(b,m){return b??m},UnZXS:function(b,m){return b??m},LiIPU:"width",ztVvc:"xmlns"},x=c[i(239)](!0);x[i(238)](f.BIkMY).forEach(b=>b.removeAttribute(i(277))),x.removeAttribute(i(246)),x[i(238)](f.bLFzy)[i(262)](b=>b[i(242)]()),x[i(238)](i(300)).forEach(b=>b[i(242)]()),x[i(238)](f.PxtQF).forEach(b=>b.remove()),x[i(238)]("[data-marquee]").forEach(b=>b.remove());const g=c.getAttribute(i(285)),S=f[i(274)](g,"0 0 200 200")[i(291)](/[\s,]+/).map(Number),h=S[2]??200,d=S[3]??200;x.setAttribute("viewBox",f[i(243)](g,i(248))),x.setAttribute(f[i(299)],String(h)),x[i(290)](i(259),String(d)),x.setAttribute(f.ztVvc,"http://www.w3.org/2000/svg");const y=new XMLSerializer,_=y[i(275)](x),v=new Blob([_],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(v),D=new Image;D.onload=()=>{const b=i,m={oJxyH:function(L,Y,q){return L(Y,q)},ZmdIi:b(265)};if(f.gfJUW("npOtZ",f[b(240)])){_0x981467[b(295)](_0x2fbc9b);return}else{const L=document.createElement("canvas");L[b(256)]=f.yeGga(h,a),L[b(259)]=f.yeGga(d,a);const Y=L.getContext("2d");if(!Y)if(b(249)===f.wdsmU){URL[b(295)](w);return}else{const q=_0x32a0f1[b(282)](b(284));q[b(256)]=f[b(279)](_0x55a599,_0x31301e),q.height=_0x230bfd*_0x19d3c6;const B=q.getContext("2d");if(!B){_0x3a6406[b(295)](_0x1e566e);return}B[b(272)]="white",B.fillRect(0,0,q[b(256)],q[b(259)]),B.drawImage(_0x338b80,0,0,q.width,q[b(259)]),q.toBlob(O=>{const H=b;O&&m[H(278)](_0x11f8cc,O,_0x3caae9.endsWith(m[H(297)])?_0x2be1d1:_0x2a9f19+".png"),_0x2c782d[H(295)](_0x459997)},"image/png")}Y.fillStyle="white",Y.fillRect(0,0,L.width,L.height),Y.drawImage(D,0,0,L.width,L.height),L.toBlob(q=>{const B=b;q&&l1(q,r[B(260)](B(265))?r:r+B(265)),URL[B(295)](w)},b(254))}},D[i(293)]=()=>{URL[i(295)](w)},D.src=w}function l1(c,r){const a=tn,i=URL[a(263)](c),f=document.createElement("a");f.href=i,f[a(286)]=r,document[a(271)][a(251)](f),f[a(268)](),document[a(271)].removeChild(f),URL.revokeObjectURL(i)}function j0({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const nm="v0.1.0-dev";function lm(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:nm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(j0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(j0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(j0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(j0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function am(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Ms({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function im(c){const[r,a]=ee.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(Ms,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=Un,i=c();for(;;)try{if(-parseInt(a(287))/1*(-parseInt(a(314))/2)+parseInt(a(254))/3+parseInt(a(306))/4+parseInt(a(280))/5+-parseInt(a(302))/6+parseInt(a(286))/7+-parseInt(a(310))/8*(parseInt(a(281))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,635580);function Un(c,r){c=c-254;const a=R0();let i=a[c];if(Un.lkaGYm===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Un.QzPaRz=f,Un.vIfsod={},Un.lkaGYm=!0}const x=a[0],g=c+x,S=Un.vIfsod[g];if(S)i=S;else{const h=function(d){this.wkdnJM=d,this.cLTBBv=[1,0,0],this.xDuokQ=function(){return"newState"},this.lVAPrZ="\\w+ *\\(\\) *{\\w+ *",this.lUSYtG=`['|"].+['|"];? *}`};h.prototype.oMYqQI=function(){const d=new RegExp(this.lVAPrZ+this.lUSYtG),y=d.test(this.xDuokQ.toString())?--this.cLTBBv[1]:--this.cLTBBv[0];return this.KMjTvN(y)},h.prototype.KMjTvN=function(d){return~d?this.fNhdfF(this.wkdnJM):d},h.prototype.fNhdfF=function(d){for(let y=0,_=this.cLTBBv.length;y<_;y++)this.cLTBBv.push(Math.round(Math.random())),_=this.cLTBBv.length;return d(this.cLTBBv[0])},new h(Un).oMYqQI(),i=Un.QzPaRz(i),Un.vIfsod[g]=i}return i}const rm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),js=rm(void 0,function(){const c=Un;return js.toString().search("(((.+)+)+)+$").toString()[c(290)](js)[c(311)](c(293))});function R0(){const c=["B0nmAvC","zMXVD2vYCW","Cg9ZAxrPB24","Ee9ls1a","CMfKAxvZ","C2LU","Bgf5zxjZ","C3rHCNreAxn0","zMXVD2vY","wM1hBNi","yxrHBJi","AhLWB3q","BNH1yMe","zMLUza","y29Z","twrSz2q","Bwf4","DxjSkci","y3vYCMvUDa","C3r5Bgu","zhHnt1m","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","BwfW","Cgv0ywXbBMDSzq","ntC5nJmZmfHcAKnPwa","mtKZnJyYmtHhAeTcwKe","q3res0W","Bgf5zxjjza","C3rHCNreAwfT","ywjZ","ndyXmdu3mxzPDhDAuq","nZG4nJzYA0jXtK0","AwXdzvm","DxLRzLm","y29UC3rYDwn0B3i","CM90yxrPB24","y0TvvfO","kcGOlISPkYKRksSK","ChjLDMvUDerLzMf1Bhq","D2LKDgHty2fSzq","tMv0Ewq","sg5gDeW","y3vYC29Y","zMLSDgvY","Aujbvwe","zMXVD2vYswq","mZKWmty2ofbxEfvMBq","Cg9PBNrLCKLK","sevwsuC","s2zTrei","mte4mtaWmhfStMP2sG","Bgf5zxi","C3rHCNrbBMDSzq","v3LIzMu","ofjMA1j6yG","C2vHCMnO","y3vYCMvUDfrHCMDLDa","zMXVD2vYrgLHBwv0zxi","mtb3Ce9LzfO","B2zMC2v0qw5NBgu","Bffotui","Cgv0ywXdB3vUDa","l3rZDw1HBwKV","sxnRq2W","C3rHCNrxAwr0AfnJywXL","C2v0ug9PBNrLCKnHChr1CMu","Cgv0ywXjBMrLEa","quHpCNC","Bw9Kzq","C3rHCNrsB3rHDgLVBG","mJC5mdq4m1jwuKf2vW","Be1mDK0"];return R0=function(){return c},R0()}js();function cm(c){const r=Un,a={ZmGnr:r(318),AHOrw:r(307),lQNMB:function(R,X){return R(X)},ilCeS:function(R,X){return R-X},TYPtl:function(R,X,F,J){return R(X,F,J)},KfmDB:function(R,X){return R*X},lMLvM:function(R,X){return R===X},Wybfe:function(R,X){return R*X},qsrRb:"flower",HnFtL:r(319),CtDKL:"nGKnb",oCLiW:function(R,X){return R/X},ThCJY:function(R,X,F){return R(X,F)},wwzAP:function(R,X){return R===X},fHRUH:function(R,X){return R===X},sMFxg:function(R,X){return R-X},dxMOS:function(R,X){return R/X},iBAUa:function(R,X){return R+X},xOKKP:function(R,X,F){return R(X,F)},uykfS:function(R,X){return R(X)},sLEey:function(R,X){return R/X},MQFIe:function(R,X){return R/X},bvnVc:function(R,X){return R*X},cKUTZ:function(R,X,F,J){return R(X,F,J)},HEVIG:function(R,X){return R*X},nxuba:function(R,X,F){return R(X,F)},qOPdb:function(R,X){return R+X}},{project:i,applyUpdate:f,stageRef:x,clientToSvgPoint:g}=c,S=ee.useRef(null),h=(R,X,F,J)=>{const V=r;F.preventDefault(),F.currentTarget?.setPointerCapture?.(F[V(303)]),x[V(274)]&&(x.current.style.cursor='url("'+a[V(265)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const I=i[V(257)].find(T=>T.id===X);if(!I)return;const U=R===a[V(323)]&&J?.layerId?I.layers[V(299)](T=>T.id===J.layerId)[V(278)](T=>({layerId:T.id,scale:T.scale??1,radius:T[V(260)]??10})):I.layers.map(T=>({layerId:T.id,scale:T.scale??1,radius:T[V(260)]??10})),j=a.lQNMB(g,F),p=I.position.x,z=I.position.y,E=Math[V(267)](j.x-p,a[V(288)](j.y,z));S[V(274)]={mode:R,flowerId:X,layerId:J?.[V(283)],startScales:U,startDiam:I[V(313)]||60,startDist:E}},d=R=>{const X=r,F=S[X(274)];if(!F)return;const J=i.flowers.find(p=>p.id===F.flowerId);if(!J)return;const V=g(R),I=Math.hypot(V.x-J[X(258)].x,V.y-J[X(258)].y),U=Math[X(272)](1,F[X(263)]??1),j=pe(a[X(256)](I,U),.3,3);a.ThCJY(f,p=>{const z=X,E={VpKsJ:a[z(265)]},T=p.flowers[z(269)](G=>G.id===F.flowerId);if(T){for(const G of F.startScales){const N=T.layers.find(M=>M.id===G.layerId);N&&(N.scale=a.TYPtl(pe,a[z(305)](G.scale,j),.3,3),a[z(255)](F[z(324)],z(264))&&(N[z(260)]=a.TYPtl(pe,a.Wybfe(G.radius,j),2,120)))}F.mode===a.qsrRb&&(a.lMLvM(a[z(297)],a[z(282)])?_0x40c5ea[z(274)][z(275)][z(298)]=z(273)+E.VpKsJ+'rotate_cursor_active_32.png") 16 16, grabbing':T[z(313)]=pe(F[z(284)]*j,10,200))}},!1)},y=()=>{const R=r;S.current&&(f(()=>{},!0),x.current&&(x[R(274)].style.cursor=""),S.current=null)},_=ee.useRef(null),v=(R,X,F,J)=>{const V=r;F[V(294)](),F.currentTarget?.setPointerCapture?.(F[V(303)]),x.current&&(x.current[V(275)][V(298)]=V(273)+a[V(265)]+'rotate_cursor_active_32.png") 16 16, grabbing');const I=i.flowers[V(269)](z=>z.id===X);if(!I)return;const U=g(F),j=a.KfmDB(Math.atan2(a.ilCeS(U.y,I[V(258)].y),U.x-I[V(258)].x),180/Math.PI),p=a.wwzAP(R,"layer")&&J?.[V(283)]?I[V(262)][V(269)](z=>z.id===J.layerId)?.[V(315)]??0:I[V(291)]??0;_[V(274)]={mode:R,flowerId:X,layerId:J?.layerId,startAngle:j,startRotation:p}},w=R=>{const X=r,F={Mdlgd:function(z,E){return a.fHRUH(z,E)},Netyd:a[X(323)]},J=_[X(274)];if(!J)return;const V=i[X(257)].find(z=>z.id===J[X(301)]);if(!V)return;const I=a[X(316)](g,R),U=Math[X(266)](I.y-V.position.y,a.sMFxg(I.x,V[X(258)].x))*a[X(276)](180,Math.PI);let j=a.ilCeS(U,J[X(308)]);for(;j>180;)j-=360;for(;j<-180;)j+=360;const p=a.iBAUa(J[X(325)],j);f(z=>{const E=X,T=z.flowers[E(269)](G=>G.id===J.flowerId);if(T)if(F[E(271)](J[E(324)],F[E(296)])&&J[E(283)]){const G=T[E(262)].find(N=>N.id===J[E(283)]);G&&(G[E(315)]=p)}else T[E(291)]=p},!1)},D=()=>{const R=r;_.current&&(a.xOKKP(f,()=>{},!0),x[R(274)]&&(x[R(274)].style.cursor=""),_.current=null)},b=a[r(316)](ee.useRef,null),m=(R,X,F,J)=>{const V=r;F.preventDefault(),F[V(312)]?.[V(321)]?.(F.pointerId),x[V(274)]&&(x.current.style[V(298)]=V(273)+a.ZmGnr+V(277));const I=i[V(257)][V(269)](Q=>Q.id===X);if(!I)return;const U=J?.[V(283)]?I.layers[V(269)](Q=>Q.id===J.layerId):null;if(!U)return;const j=a.uykfS(g,F),p=I.position.x,z=I.position.y,E=J?.[V(322)]??0,T=a.sLEey(360,Math[V(272)](1,U[V(317)])),G=a[V(309)](a[V(300)](U[V(315)]+a.Wybfe(E,T),I.rotation),a.MQFIe(Math.PI,180)),N=j.x-p,M=j.y-z,k=-Math.sin(G),K=Math[V(270)](G),Z=Math[V(285)](a[V(300)](a.bvnVc(N,k),a.bvnVc(M,K)));b.current={mode:R,flowerId:X,layerId:J?.[V(283)],petalAngle:G,startDist:Math[V(272)](1,Z),startWidthScale:U[V(295)]??1}},L=R=>{const X=r,F=b.current;if(!F)return;const J=i.flowers.find(G=>G.id===F.flowerId);if(!J)return;const V=g(R),I=V.x-J.position.x,U=a.ilCeS(V.y,J[X(258)].y),j=-Math[X(261)](F[X(279)]),p=Math.cos(F[X(279)]),z=Math[X(285)](a.iBAUa(I*j,U*p)),E=a[X(292)](pe,a.sLEey(z,F[X(263)]),.3,3),T=pe(a[X(304)](F[X(320)],E),.3,3);a[X(259)](f,G=>{const N=X,M=G[N(257)].find(K=>K.id===F[N(301)]);if(!M)return;const k=M.layers.find(K=>K.id===F[N(283)]);k&&(k.widthScale=T)},!1)},Y=()=>{const R=r;b.current&&(a[R(268)](f,()=>{},!0),x.current&&(x.current[R(275)][R(298)]=""),b.current=null)},q=a[r(289)](ee.useRef,null);return{scaleDragRef:S,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:y,rotationDragRef:_,beginRotationDrag:v,updateRotationDrag:w,endRotationDrag:D,widthScaleDragRef:b,beginWidthScaleDrag:m,updateWidthScaleDrag:L,endWidthScaleDrag:Y,radiusDragRef:q,beginRadiusDrag:(R,X,F,J)=>{const V=r;F.preventDefault(),F.currentTarget?.[V(321)]?.(F.pointerId),x.current&&(x.current[V(275)][V(298)]='url("'+a.ZmGnr+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const I=i.flowers.find(z=>z.id===X);if(!I)return;const U=J?.layerId?I[V(262)][V(269)](z=>z.id===J.layerId):null;if(!U)return;const j=a.uykfS(g,F),p=Math.hypot(j.x-I[V(258)].x,j.y-I.position.y);q[V(274)]={mode:R,flowerId:X,layerId:J?.layerId,startDist:Math.max(1,p),startRadius:U[V(260)]??28}},updateRadiusDrag:R=>{const X=r,F=q.current;if(!F)return;const J=i[X(257)][X(269)](p=>p.id===F[X(301)]);if(!J)return;const V=a.uykfS(g,R),I=Math.hypot(V.x-J[X(258)].x,V.y-J[X(258)].y),U=I-F[X(263)],j=a.TYPtl(pe,a.qOPdb(F.startRadius,U),5,100);f(p=>{const z=X,E=p[z(257)][z(269)](G=>G.id===F.flowerId);if(!E)return;const T=E[z(262)][z(269)](G=>G.id===F.layerId);T&&(T.radius=j)},!1)},endRadiusDrag:()=>{const R=r;q.current&&(f(()=>{},!0),x.current&&(x.current[R(275)].cursor=""),q.current=null)}}}(function(c,r){const a=jt,i=c();for(;;)try{if(parseInt(a(399))/1+-parseInt(a(439))/2+-parseInt(a(459))/3+-parseInt(a(424))/4+-parseInt(a(471))/5+parseInt(a(408))/6+parseInt(a(443))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,670469);const um=(function(){const c=jt,r={ZSpmd:c(465)};let a=!0;return function(i,f){const x=c,g={pXboS:function(h,d){return h>d},FxWnc:function(h,d){return h-d},kXKIJ:r[x(453)]},S=a?function(){const h=x;if(h(463)!==h(463)){const d=_0x529d37.layers[h(437)](y=>y.id===_0x165e4d.layerId&&y.visible);if(d){const y=d.scale??1,_=_0x560c6f*y,v=.28,w=_0x178ade[h(468)](0,d.radius-_*v);if(g[h(452)](w,0)&&_0x86d6b0[h(394)](g[h(431)](_0x328cd6,w))<=6)return{zone:g.kXKIJ,layerId:d.id}}}else if(f){const d=f[h(397)](i,arguments);return f=null,d}}:function(){};return a=!1,S}})(),zs=um(void 0,function(){const c=jt,r={RzZWy:c(400)};return zs.toString()[c(390)](r[c(403)])[c(457)]()[c(436)](zs).search("(((.+)+)+)+$")});zs();function si(c,r,a,i,f){const x=jt,g={QzmCg:"scale",YPjmA:function(O,H){return O-H},EawGm:"radius",WAipM:function(O,H){return O(H)},oTBDf:function(O,H){return O*H},AKmJm:function(O,H){return O*H},AOyhr:function(O,H){return O<H},uGgvr:function(O,H){return O*H},gNpkz:function(O,H){return O<=H},fKaVo:x(416),zFGLR:function(O,H){return O===H},TwTUi:function(O,H){return O===H},ijOth:x(464),RIoak:function(O,H){return O*H},OfOdz:function(O,H){return O-H},KTacD:function(O,H){return O(H)},Aesjn:function(O,H){return O+H},QnwWT:function(O,H){return O*H},rlxEx:function(O,H){return O*H},unrxw:x(392),Lehhd:"none",qAhgt:function(O,H){return O-H},Ppnrp:function(O,H){return O*H},iugea:function(O,H){return O/H},MVjtC:function(O,H){return O<H},GYMLI:function(O,H){return O-H},ryDRe:"tHebq",gFTKv:x(462),CoMoL:function(O,H){return O===H},xBEZi:x(417),ZZBeC:"rotate",vaEtd:function(O,H){return O===H},fxvpH:function(O,H){return O+H},pBiQu:function(O,H){return O<=H}},{length:S}=g[x(461)](Et,a[x(447)]??i.fabricSquareSize),h=c-a[x(401)].x,d=g.YPjmA(r,a.position.y),y=Math.hypot(h,d);let _=1/0;for(const O of a[x(454)]){if(!O[x(442)])continue;const H=O.scale??1,R=g.oTBDf(S,H),X=.28,F=Math[x(468)](0,O[x(465)]-g.AKmJm(R,X));g[x(405)](F,_)&&(_=F)}isFinite(_)||(_=0);const v=Math.max(g[x(449)](_,.9),8);if(g[x(393)](y,v))return{zone:g.fKaVo};if(g.zFGLR(f.kind,x(392))){const O=a[x(454)].find(H=>H.id===f[x(425)]&&H[x(442)]);if(O)if(g[x(381)](g[x(418)],g[x(418)])){const H=O[x(455)]??1,R=g[x(411)](S,H),X=.28,F=Math[x(468)](0,g[x(441)](O[x(465)],g.RIoak(R,X)));if(F>0){const V=Math.abs(y-F);if(g[x(393)](V,6))return{zone:"radius",layerId:O.id}}}else _0x464f93=_0x28449b,_0x12f22f=_0x3ff93d.id}const w=g[x(386)](na,-(a.rotation??0)),D=g[x(404)](h*Math.cos(w),d*Math[x(395)](w)),b=g.Aesjn(g.QnwWT(h,Math[x(395)](w)),g.rlxEx(d,Math.cos(w))),m=f.kind===g[x(420)]?a.layers[x(389)](O=>O.id===f.layerId&&O[x(442)]):a.layers[x(389)](O=>O.visible);let L=g[x(429)],Y,q,B=1/0;for(const O of m){const H=O[x(455)]??1,R=S*H,X=O[x(434)]??1,F=S/2*X*H,J=.28,V=Math[x(468)](0,g.qAhgt(O[x(465)],g.Ppnrp(R,J))),I=g[x(470)](360,Math.max(1,O.petalCount));for(let U=0;g.MVjtC(U,O[x(391)]);U++){const j=g[x(421)](O.offsetAngle,U*I),p=g.WAipM(na,j),z=g[x(438)](Math.cos(p),V),E=Math.sin(p)*V,T=g.GYMLI(D,z),G=b-E,N=Math.cos(-p),M=Math.sin(-p),k=g.RIoak(T,N)-g[x(388)](G,M),K=T*M+g.Ppnrp(G,N),Z=k/R,Q=g[x(470)](K,F);if(Z<-.05||Z>1.08||Math.abs(Q)>.75)continue;const le=Math[x(415)](g.YPjmA(Z,.5),Q);if(!(le>=B))if(B=le,Y=O.id,q=U,Math.abs(Q)>.45)if(g[x(381)]("tHebq",g.ryDRe))L=g.gFTKv;else return{zone:g.QzmCg};else if(Z>.75){if(g[x(384)](g.xBEZi,g[x(450)]))L=g[x(446)];else if(_0x13ea56[x(394)](g.YPjmA(_0x151c0e,_0xe98381))<=6)return{zone:g[x(466)],layerId:_0x2e5a69.id}}else L=g[x(472)]}}if(g.vaEtd(L,g[x(429)])){let O=12;for(const X of a.layers){if(!X.visible)continue;const F=X[x(455)]??1,J=g.Ppnrp(S,F),V=.28,I=Math.max(0,g.YPjmA(X.radius,J*V));O=Math.max(O,g[x(385)](I,J))}const H=8,R=Math.abs(g[x(441)](y,O));if(g.pBiQu(R,H))return{zone:x(455)}}return{zone:L,layerId:Y,petalIndex:q}}function z0(c,r,a){const i=jt,f={Ehkwl:i(416),XYlld:function(x,g){return x===g},FQMIC:i(448),NVqGe:function(x,g){return x===g},CYouJ:i(428),FRhRQ:function(x,g){return x!=g},qDKov:function(x,g){return x*g},IvitJ:function(x,g){return x-g},XBvaC:function(x,g){return x+g},ZCZnf:"layer",pXBBc:"petals",XWvxM:"scale"};if(c===f[i(444)])return f[i(444)];if(f[i(469)](c,f.FQMIC))return f.FQMIC;switch(r){case"flower":{if(c==="scale")return"scale";if(f.NVqGe(c,f.CYouJ)&&a?.[i(398)]&&a.flower&&f.FRhRQ(a[i(382)],null)){let x,g=-1/0;for(const S of a.flower[i(454)]){if(!S.visible)continue;const h=S[i(455)]??1,d=f[i(422)](a[i(382)],h),y=.28,_=Math.max(0,f[i(414)](S.radius,d*y)),v=f.XBvaC(_,d);v>g&&(g=v,x=S.id)}return a.hitLayerId===x?i(428):i(455)}return"scale"}case f[i(445)]:return c;case i(435):case f[i(402)]:return f.XWvxM;default:return"scale"}}function jt(c,r){c=c-381;const a=O0();let i=a[c];if(jt.qiNNIo===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};jt.QIPmBM=f,jt.yPHTmK={},jt.qiNNIo=!0}const x=a[0],g=c+x,S=jt.yPHTmK[g];if(S)i=S;else{const h=function(d){this.ptdzRr=d,this.qTUqNl=[1,0,0],this.VweoLF=function(){return"newState"},this.REYzKh="\\w+ *\\(\\) *{\\w+ *",this.XlTewU=`['|"].+['|"];? *}`};h.prototype.HWdXHG=function(){const d=new RegExp(this.REYzKh+this.XlTewU),y=d.test(this.VweoLF.toString())?--this.qTUqNl[1]:--this.qTUqNl[0];return this.rHkspA(y)},h.prototype.rHkspA=function(d){return~d?this.YktfIe(this.ptdzRr):d},h.prototype.YktfIe=function(d){for(let y=0,_=this.qTUqNl.length;y<_;y++)this.qTUqNl.push(Math.round(Math.random())),_=this.qTUqNl.length;return d(this.qTUqNl[0])},new h(jt).HWdXHG(),i=jt.QIPmBM(i),jt.yPHTmK[g]=i}return i}function sm(c,r,a,i){const f=jt,x={KzcMo:function(q,B){return q*B},Apwwy:function(q,B){return q-B},FNReD:function(q,B){return q+B},KGvGM:function(q,B){return q*B},WxNMB:function(q,B){return q<B},FkpXt:function(q,B){return q>B},CTaUB:"width",HWzpj:f(428),DawrT:function(q,B){return q>B},jflLQ:f(455),FFexE:f(419)},g=a[f(447)]??i[f(447)],{length:S,width:h}=Et(g),d=a[f(455)]??1,y=x[f(432)](S,d),_=x.KzcMo(x.KzcMo(h,a[f(434)]??1),d),v=x.Apwwy(c,a.position.x),w=r-a[f(401)].y,D=na(-(a[f(426)]??0)),b=x[f(383)](v*Math.cos(D),w*Math.sin(D)),m=x[f(396)](v*Math[f(395)](D),x[f(423)](w,Math.cos(D))),L=b/y,Y=m/_;return x[f(433)](L,-.05)||x[f(460)](L,1.08)||Math.abs(Y)>.75?"none":x.FkpXt(Math[f(394)](Y),.45)?x[f(451)]:x[f(460)](L,.75)?x[f(430)]:x[f(387)](L,.3)?x[f(410)]:x.FFexE}function lr(c,r){const a=jt,i={oGVVQ:"scale",WKQkS:"move",hVrXh:function(f,x){return f(x)},HMkIt:a(473)};switch(c){case a(428):return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(458)]:return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+a(407);case i.WKQkS:return i[a(406)](sr,r);case a(448):default:return i[a(413)]}}function Ud(c,r){const a=jt,i={SXbBp:a(462),JdIrO:a(419),vRKVg:function(f,x){return f(x)},IBbnE:"grab"};switch(c){case a(416):return a(456);case a(428):return'url("'+r+a(409);case"scale":return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.SXbBp:return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(465):return a(440)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case i.JdIrO:return i.vRKVg(sr,r);default:return i[a(427)]}}function sr(c){return jt(440)+c+'move_object_cursor_32.png") 16 16, move'}function Bn(c){const r=jt;return r(440)+c+r(412)}function O0(){const c=["zMLSDgvY","C2vHCMnO","Cgv0ywXdB3vUDa","Bgf5zxi","z05WA3O","ywjZ","C2LU","rK5szuq","yxbWBhK","AgL0tgf5zxjjza","ndaYotyXsgH2tfDu","kcGOlISPkYKRksSK","Cg9ZAxrPB24","CfHcqMm","uNPAv3K","wvbQBue","qu95Ahi","AfzYwgG","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","nJC5mdiXofjUq1Dowa","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","AMzStfe","uKLVywS","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","se1Rsxq","sxzPDeO","AhLWB3q","y2vUDgvY","qxrJzvq","AwPpDgG","Bw92zq","Dw5YEhC","qwvZAM4","CurlB3y","s0D2r00","mJa0ndG0ofzuD3fprq","Bgf5zxjjza","CM90yxrPB24","sujIBKu","CM90yxrL","tgvOAgq","sfD6CgO","rNHxBMm","s3PJtw8","v3Hotui","D2LKDgHty2fSzq","Cgv0ywW","y29UC3rYDwn0B3i","zMLUza","quTTsM0","mtGXnJy1mfPwwwzXqG","DxjSkci","t2zpzhO","DMLZAwjSzq","mte3mZCYmJLytLflB2q","rwHRD2W","wKnABMy","wLPczum","zMfICMLJu3f1yxjLu2L6zq","BM9Uzq","DuDNDNi","EejfwMK","q1rHvui","CfHIB1m","wLnWBwq","Bgf5zxjZ","C2nHBgu","Cg9PBNrLCG","Dg9tDhjPBMC","B0DwvLe","mJi0odK1meXUzfrLqq","rMTWwhq","v0fPCe0","D2LKDgG","t3jnvuW","vK5Hyxy","CMfKAxvZ","rwf3r20","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","Bwf4","wfLSBgq","AxvNzwe","mtG1odC3nwngAND4DW","uxPTq2C","z3jHyG","vhDuvwK","BgvUz3rO","qxb3D3K","q29nB0W","zNH2CeG","s1rHy0q","rgf3CLq","B1rcrgy"];return O0=function(){return c},O0()}function om(c){return jt(440)+c+'move_stencil_cursor_32.png") 16 16, move'}function xm(c){const r=jt;return'url("'+c+r(467)}function Zn(c,r){c=c-150;const a=Y0();let i=a[c];if(Zn.CJgUxx===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Zn.sWPqMr=f,Zn.lyjgGY={},Zn.CJgUxx=!0}const x=a[0],g=c+x,S=Zn.lyjgGY[g];if(S)i=S;else{const h=function(d){this.sKxiKk=d,this.MDjcWt=[1,0,0],this.MltrAd=function(){return"newState"},this.FoKDei="\\w+ *\\(\\) *{\\w+ *",this.rDAWXu=`['|"].+['|"];? *}`};h.prototype.rrSdhq=function(){const d=new RegExp(this.FoKDei+this.rDAWXu),y=d.test(this.MltrAd.toString())?--this.MDjcWt[1]:--this.MDjcWt[0];return this.tNmIOz(y)},h.prototype.tNmIOz=function(d){return~d?this.lMwOMb(this.sKxiKk):d},h.prototype.lMwOMb=function(d){for(let y=0,_=this.MDjcWt.length;y<_;y++)this.MDjcWt.push(Math.round(Math.random())),_=this.MDjcWt.length;return d(this.MDjcWt[0])},new h(Zn).rrSdhq(),i=Zn.sWPqMr(i),Zn.lyjgGY[g]=i}return i}(function(c,r){const a=Zn,i=c();for(;;)try{if(parseInt(a(240))/1+-parseInt(a(192))/2*(parseInt(a(244))/3)+parseInt(a(188))/4*(parseInt(a(209))/5)+-parseInt(a(169))/6*(-parseInt(a(185))/7)+parseInt(a(231))/8+parseInt(a(214))/9+-parseInt(a(150))/10*(parseInt(a(206))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,678948);const fm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ds=fm(void 0,function(){const c=Zn,r={kLsZt:"(((.+)+)+)+$"};return Ds.toString()[c(199)](r[c(167)]).toString().constructor(Ds).search("(((.+)+)+)+$")});Ds();function Y0(){const c=["y2XPzw50wq","vK5eugW","y3vYCMvUDa","tgXduxm","tLzrEeC","mZG1renJDxHq","ven6EMS","Cg9PBNrLCKLK","nu9LBLzUCG","B3vZC0e","ChjVAMvJDa","Bgf5zxi","tg9lrfa","mtaYnZy2otvrEvLSswi","v3LTsha","tg9nvgq","sLHhwee","C2HPzNrlzxK","z0HAs2W","z2PTBve","C2v0ug9PBNrLCKnHChr1CMu","y2XPy2TqzxrHBa","z2jmEvm","zMLUza","Cu5YtKi","BgvUz3rO","zMXVD2vYCW","ChjLDMvUDerLzMf1Bhq","y3vYCMvUDfn2zW","ANjvzMe","mJm4mtG4ogzbC0DqEq","CM90yxrPB25eCMfNuMvM","y3vYCMvUDfrHCMDLDa","A2LUza","zw5Ku2nHBgveCMfN","CMXssKW","DxbKyxrLuMfKAxvZrhjHzW","zu9Hze0","twXnq3a","ndC5nJe3A3H4u0Hz","y2XPzw50wa","zLDVqwe","zMXVD2vYswrZ","ndqWn1vWBM5JwG","rxnmvKO","Aw5JBhvKzxm","yMvNAw5sywrPDxneCMfN","mJqXmJeWC0XZB3fv","Bgf5zxjjza","yMvNAw5xAwr0AfnJywXLrhjHzW","BgvHzKLKCW","vvPkzKG","C3rHCNrAB29T","BwLU","yKntqwW","zw5Kv2LKDgHty2fSzurYywC","Bw92zwq","DxbKyxrLuM90yxrPB25eCMfN","Euvuuhm","DfvLs2m","yMvNAw5sB3rHDgLVBKrYywC","wNPYA1a","D2LKDgHty2fSzurYywDszwy","C3rHCNrdBgLLBNq","A0XZwNq","CgfUma","nty4mLvgEgjzyq","zMXVD2vYswq","yMvNAw5ty2fSzurYywC","s3jgqxe","C3rHCNrtDMC","Cgv0ywW","BgvHzLn0yxj0ug9ZAxrPB25Z","wKPZD0K","C2nHBgveCMfNuMvM","wxnOwvi","BwfW","DxbKyxrLv2LKDgHty2fSzurYywC","Eu9Osgi","ywjZ","ChvZAa","DxLhC04","otfZt1nrBKm","BxvSDgLtDgfYDfbVC2L0Aw9UCW","zuTLBfO","mtKYmtyZnKfsC0rTqG","q21XA1q","CNnzwxK","Cg9ZAxrPB24","mtiXme1TCM5vza","BejmtNC","zw5KuM90yxrPB25eCMfN","C3rHCNq","uLjiAuq","BgvHDMvZ","zMXVD2vY","C2vHCMnO","zw5KuMfKAxvZrhjHzW"];return Y0=function(){return c},Y0()}const ri=500*ln;function dm(c){const r=Zn,a={riZtN:function(I,U){return I>=U},jrUfa:function(I,U){return I<=U},jMzQp:function(I,U){return I>=U},EsLVJ:function(I,U){return I<=U},VNDPl:function(I,U){return I+U},yETPs:r(238),kPItG:function(I,U){return I-U},RRHiD:function(I,U){return I(U)},oussA:function(I,U){return I>=U},gjhQX:function(I,U){return I-U},YshYR:function(I,U){return I<U},bCSAl:r(211),ZzrkP:function(I,U){return I-U},eKelZ:function(I,U){return I!==U},oNpco:"LQgMk",pyKjh:function(I,U){return I<=U},nIWEq:function(I,U){return I>=U},rsYYy:function(I,U){return I+U},uyGsN:function(I,U){return I>U},KrFAq:function(I,U){return I>U},lBLNw:function(I,U){return I(U)},gbLyS:function(I,U){return I(U)},Uhrne:"EeOcx",MlMCp:function(I,U,j){return I(U,j)},ZhPTn:function(I,U){return I>U},LoMTd:function(I,U,j){return I(U,j)},wKfFX:function(I,U){return I>U},bBJcv:function(I,U){return I??U},TCzzk:"leaf",yOhHb:"jYqwC",WymHp:"SgRXp",gHZKl:function(I,U){return I+U},LlCQs:function(I,U,j,p){return I(U,j,p)},waQKp:"VgmbL",DEfRW:function(I,U,j,p){return I(U,j,p)},iVWba:function(I,U){return I+U},fWoAa:function(I,U){return I-U},NVQxG:function(I,U){return I/U},zqhzX:function(I,U,j,p,z){return I(U,j,p,z)},JXGXA:r(174),KbWBk:r(176),LoKDP:function(I,U){return I===U},tUeKc:function(I,U){return I!==U},PonoE:function(I,U){return I!==U},PwjHZ:"PqvHE",qgOsa:r(198),CmqkT:function(I,U){return I(U)},mwYtb:function(I,U){return I(U)}},{project:i,selection:f,setSelection:x,applyUpdate:g,dragRef:S,zoom:h,pan:d,setPan:y,stageRef:_,clientToSvgPoint:v,togglePetalSelection:w}=c,D=cm({project:i,applyUpdate:g,stageRef:_,clientToSvgPoint:v}),b=a[r(189)](ee.useRef,null),m=I=>{const U=r;I[U(228)](),I.currentTarget?.[U(221)]?.(I[U(208)]),b[U(203)]={start:{x:I[U(241)],y:I.clientY},pan0:{...d}}},L=I=>{const U=r;if(!b[U(203)])return;const j=I[U(241)]-b[U(203)][U(195)].x,p=I[U(201)]-b.current.start.y;y({x:b.current[U(168)].x+j,y:b[U(203)][U(168)].y+p})},Y=()=>{const I=r;I(238)!==a[I(161)]?a.riZtN(_0x1c8f0a.position.x,_0x244b57)&&a[I(230)](_0x2b1691.position.x,_0x15b44f+_0x427186)&&a.jMzQp(_0x344d9e.position.y,_0x1fb0ac)&&a[I(245)](_0x4c608d[I(191)].y,a[I(202)](_0x21e957,_0x240362))&&_0x2236e7.push(_0x3174a8.id):b.current=null},q=a.mwYtb(ee.useRef,null),[B,O]=a[r(189)](ee.useState,null);return{beginPan:m,updatePan:L,endPan:Y,marqueeRef:q,marqueeRect:B,beginMarquee:I=>{const U=r;I.preventDefault(),I.currentTarget?.setPointerCapture?.(I[U(208)]);const j=v(I);q.current={startSvg:j,currentSvg:j},O(null)},updateMarquee:I=>{const U=r;if(!q.current)return;const j=v(I);q.current[U(229)]=j;const p=q.current.startSvg,z=Math.min(p.x,j.x),E=Math.min(p.y,j.y),T=Math.abs(a.kPItG(j.x,p.x)),G=Math.abs(j.y-p.y);a[U(196)](O,{x:z,y:E,w:T,h:G})},endMarquee:()=>{const I=r,U=q.current;if(q.current=null,!U){a.RRHiD(O,null);return}const j=U[I(173)],p=U[I(229)],z=Math.hypot(a.kPItG(p.x,j.x),a.gjhQX(p.y,j.y));if(a[I(178)](z,3)){a.RRHiD(x,{kind:a[I(157)]}),O(null);return}const E=Math[I(156)](j.x,p.x),T=Math[I(156)](j.y,p.y),G=Math.abs(a[I(164)](p.x,j.x)),N=Math.abs(p.y-j.y),M=[];for(const K of i.flowers)a[I(187)](a.oNpco,"MbLwW")?K[I(191)].x>=E&&K[I(191)].x<=E+G&&K[I(191)].y>=T&&K.position.y<=T+N&&M.push(K.id):_0x3e7156=_0xdab7bb.map(Z=>{const Q=I,le=_0x13a98c[Q(227)][Q(224)](ce=>ce.id===Z);return{id:Z,x:le?.position.x??0,y:le?.[Q(191)].y??0}});const k=[];for(const K of i.leaves??[])K.position.x>=E&&a.pyKjh(K[I(191)].x,a[I(202)](E,G))&&a.nIWEq(K[I(191)].y,T)&&a.jrUfa(K[I(191)].y,a[I(190)](T,N))&&k[I(183)](K.id);a[I(184)](M[I(226)],0)&&a[I(172)](k[I(226)],0)?x({kind:"mixed",flowerIds:M,leafIds:k}):M.length>0?M[I(226)]===1?a[I(196)](x,{kind:"flower",flowerId:M[0]}):a[I(193)](x,{kind:"flowers",flowerIds:M}):a.uyGsN(k[I(226)],0)?k[I(226)]===1?a.gbLyS(x,{kind:"leaf",leafId:k[0]}):a[I(223)](x,{kind:"leaves",leafIds:k}):a[I(193)](x,{kind:I(211)}),a.RRHiD(O,null)},beginFlowerDrag:(I,U,j)=>{const p=r;U.preventDefault(),U[p(233)]?.setPointerCapture?.(U[p(208)]);const z=i[p(227)].find(N=>N.id===I);if(!z)return;let E=null,T=null;if(f.kind==="flowers"&&f[p(243)][p(246)](I))a.Uhrne==="EeOcx"?E=f[p(243)][p(179)](N=>{const M=p,k=i.flowers[M(224)](K=>K.id===N);return{id:N,x:k?.[M(191)].x??0,y:k?.position.y??0}}):(_0x2d1a50.preventDefault(),_0xef9dd3.currentTarget?.[p(221)]?.(_0x1b61fb.pointerId),_0x510c31.current={start:{x:_0x4a0b96.clientX,y:_0x41ee9e.clientY},pan0:{..._0x39f307}});else{const N=a[p(239)](Ah,i,I);a.ZhPTn(N.length,1)&&(E=N[p(179)](M=>{const k=p,K=i[k(227)].find(Z=>Z.id===M);return{id:M,x:K?.position.x??0,y:K?.[k(191)].y??0}}))}const G=a.LoMTd(ll,i,I);G&&a.wKfFX(G.leafIds.length,0)&&(T=G[p(153)][p(179)](N=>{const M=p,k=(i[M(197)]??[])[M(224)](K=>K.id===N);return{id:N,x:k?.position.x??0,y:k?.position.y??0}})),S.current={flowerId:I,startClient:{x:U[p(241)],y:U[p(201)]},startPos:{...z[p(191)]},moved:!1,clickPetal:a.bBJcv(j,null),isShiftPressed:U[p(218)]||!1,multiStartPositions:E,leafStartPositions:T,startZoom:h}},updateFlowerDrag:I=>{const U=r,j=S.current;if(!j)return;const p=a[U(242)](I[U(241)],j.startClient.x)/j[U(155)],z=a[U(205)](I.clientY-j[U(166)].y,j[U(155)]),E=I[U(241)]-j[U(166)].x,T=a[U(242)](I[U(201)],j.startClient.y);a.uyGsN(a.gHZKl(Math[U(182)](E),Math.abs(T)),4)&&(j.moved=!0),a[U(239)](g,G=>{const N=U;if(a[N(207)],j[N(186)])if(N(225)!=="HzOhG")for(const M of j.multiStartPositions)if(a[N(181)]!==a[N(215)]){const k=G.flowers.find(K=>K.id===M.id);if(!k)continue;k.position.x=pe(a[N(219)](M.x,p),0,ri),k.position.y=a.LlCQs(pe,a[N(219)](M.y,z),0,ri)}else _0x5552a6=_0x24843f[N(243)][N(179)](k=>{const K=N,Z=_0x14c673.flowers[K(224)](Q=>Q.id===k);return{id:k,x:Z?.position.x??0,y:Z?.position.y??0}});else nKuwco[N(154)](_0x5a01f5.length,1)?_0x4c2a6a({kind:nKuwco.CXqMV,leafId:_0x5c7e99[0]}):_0xf3ca4d({kind:N(197),leafIds:_0x9a5105});else if(a.waQKp!=="VgmbL")_0x5ef6fb[N(183)](_0x30c698.id);else{const M=G.flowers[N(224)](k=>k.id===j[N(170)]);if(!M)return;M[N(191)].x=a[N(204)](pe,j.startPos.x+p,0,ri),M[N(191)].y=a.DEfRW(pe,j.startPos.y+z,0,ri)}if(j[N(175)])for(const M of j.leafStartPositions){const k=(G[N(197)]??[]).find(K=>K.id===M.id);k&&(k[N(191)].x=pe(M.x+p,0,ri),k[N(191)].y=pe(a.iVWba(M.y,z),0,ri))}},!1)},endFlowerDrag:()=>{const I=r,U=S[I(203)];if(U){if(!U.moved&&U.clickPetal)U.isShiftPressed?a.zqhzX(w,U.flowerId,U[I(222)][I(151)],U.clickPetal.index,!0):x({kind:a.JXGXA,flowerId:U[I(170)],layerId:U.clickPetal.layerId,index:U.clickPetal.index});else if(U[I(159)])if(a.eKelZ(a.KbWBk,a.KbWBk))_0x37c1fd=_0x1af0a9[I(153)].map(j=>{const p=I,z=(_0x2b3fb5[p(197)]??[]).find(E=>E.id===j);return{id:j,x:z?.position.x??0,y:z?.[p(191)].y??0}});else{if(a[I(213)](f.kind,a[I(157)])||f.kind===I(198)&&a[I(162)](f[I(170)],U[I(170)])||a.LoKDP(f[I(234)],I(212))&&a.PonoE(f.flowerId,U[I(170)])||f[I(234)]===a[I(217)]&&f[I(170)]!==U.flowerId)if(a.PwjHZ==="PqvHE")a.gbLyS(x,{kind:a.qgOsa,flowerId:U.flowerId});else{_0x48616d({kind:"project"}),_0x26fcb1(null);return}a[I(216)](g,()=>{},!0)}S.current=null}},scaleDragRef:D[r(177)],beginScaleDrag:D[r(171)],updateScaleDrag:D.updateScaleDrag,endScaleDrag:D[r(235)],rotationDragRef:D[r(232)],beginRotationDrag:D[r(163)],updateRotationDrag:D[r(160)],endRotationDrag:D[r(194)],widthScaleDragRef:D[r(165)],beginWidthScaleDrag:D[r(152)],updateWidthScaleDrag:D[r(180)],endWidthScaleDrag:D[r(158)],radiusDragRef:D.radiusDragRef,beginRadiusDrag:D[r(247)],updateRadiusDrag:D[r(237)],endRadiusDrag:D[r(200)]}}function hm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ci(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),x=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",g="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:S=>{c.onDoubleClick&&(S.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${x}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${g} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:S=>{S.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(hm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${g} shrink-0`,"aria-hidden":!0})]})]})}const In=12;function Zd({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),s.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function mm({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),s.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function bm({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${r} 6 6)`},r)),s.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function gm({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M4 1.5C2.2 1.5 1 3.2 1.3 5.3c.2 1.2 1 2 2 2.5.8.4 1.6-.2 1.8-1C5.8 4.5 5.5 1.5 4 1.5z",fill:"#6b9e7a",stroke:"#333",strokeWidth:"0.4",opacity:"0.7"}),s.jsx("path",{d:"M8 2.5C6 2.5 4.3 4.5 4.7 7c.2 1.5 1.2 2.5 2.5 3.1.2.1.4.1.6.1.2 0 .4-.1.6-.2 1.2-.7 2.3-1.7 2.5-3C11.3 4.5 10 2.5 8 2.5z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),s.jsx("path",{d:"M8 3.5v5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"})]})}function vm({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 3.5 3.5)`},`l-${r}`)),s.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 8.5 4)`},`r-${r}`)),s.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 6 7)`},`f-${r}`)),s.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function pm({className:c}){return s.jsxs("svg",{width:In,height:In,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M3 4C1.8 4 1 5.3 1.2 6.8c.1 1 .8 1.7 1.6 2.1.4.2.9 0 1-.5C4 6.8 4.2 4 3 4z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8",cy:"2.2",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 8 4)`},r)),s.jsx("circle",{cx:"8",cy:"4",r:"1.1",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function ym(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:x,scheduleFlowerRowClick:g,handleFlowerRowDoubleClick:S,addFlower:h,deleteSelected:d,addOuterLayer:y,deleteOuterLayer:_,deleteFlowerById:v,deleteLayerById:w,treeScrollRef:D,setExpandedFlowers:b}=c,m=R=>{const X=R.flowerIds.length>0,F=R.leafIds.length>0;return X&&F?s.jsx(pm,{}):X?s.jsx(vm,{}):s.jsx(gm,{})},L=(R,X)=>{const F=a.kind==="flower"&&a.flowerId===R.id,J=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(R.id),V=F||J,I=s.jsx(bm,{}),U=f(R.id),j=R.layers&&R.layers.length>0,p=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),y(R.id)},"aria-label":"Add outer layer",children:"+"}),j&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),_(R.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":R.id,"data-testid":`tree-flower-${R.id}`,style:{paddingLeft:X},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${U?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:U?"Collapse layers":"Expand layers",onClick:z=>{z.stopPropagation(),x(R.id)},"aria-label":U?"collapse":"expand","data-tree-toggle":!0,children:U?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:R.name,marker:I,selected:V,showTrash:F,onTrash:()=>v(R.id),rightActions:p,onClick:()=>g(R.id),onDoubleClick:()=>S(R.id),level:0,leftOffset:-18})})]}),U&&R.layers.slice().sort((z,E)=>E.order-z.order).map(z=>{const E=(a.kind==="layer"||a.kind==="petal")&&a.layerId===z.id;return s.jsx(ci,{label:`${z.order}. ${z.name}`,marker:s.jsx(mm,{}),selected:E,showTrash:E,onTrash:()=>w(R.id,z.id),onClick:()=>{i({kind:"layer",flowerId:R.id,layerId:z.id}),b(T=>({...T,[R.id]:!0}))},level:0,leftOffset:10,muted:!z.visible},z.id)})]},R.id)},Y=c.groups,q=new Set(Y.flatMap(R=>R.flowerIds)),B=r.flowers.filter(R=>!q.has(R.id)),O=new Set(Y.flatMap(R=>R.leafIds)),H=c.leaves.filter(R=>!O.has(R.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[s.jsx(ci,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),Y.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...Y].reverse().map(R=>{const X=a.kind==="group"&&a.groupId===R.id,F=m(R),J=c.isGroupExpanded(R.id);return s.jsxs("div",{"data-group-id":R.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${J?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:J?"":"",onClick:V=>{V.stopPropagation(),c.toggleGroupExpanded(R.id)},"aria-label":J?"collapse group":"expand group",children:J?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:R.name,marker:F,selected:X,onClick:()=>c.onSelectGroup(R.id),level:0,leftOffset:-18})})]}),J&&R.flowerIds.map(V=>{const I=r.flowers.find(U=>U.id===V);return I?L(I,12):null}),J&&R.leafIds.map(V=>{const I=c.leaves.find(j=>j.id===V);if(!I)return null;const U=a.kind==="leaf"&&a.leafId===I.id||a.kind==="leaves"&&a.leafIds.includes(I.id)||a.kind==="mixed"&&a.leafIds.includes(I.id);return s.jsx(ci,{label:I.name,marker:s.jsx(Zd,{}),selected:U,showTrash:U,onTrash:()=>c.onDeleteLeaf(I.id),onClick:()=>c.onSelectLeaf(I.id),level:0,leftOffset:12,muted:!I.visible},I.id)})]},R.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...B].reverse().map(R=>L(R,0)),B.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...H].reverse().map(R=>{const X=a.kind==="leaf"&&a.leafId===R.id||a.kind==="leaves"&&a.leafIds.includes(R.id)||a.kind==="mixed"&&a.leafIds.includes(R.id);return s.jsx(ci,{label:R.name,marker:s.jsx(Zd,{}),selected:X,showTrash:X,onTrash:()=>c.onDeleteLeaf(R.id),onClick:()=>c.onSelectLeaf(R.id),level:0,leftOffset:0,muted:!R.visible},R.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const oe=En;(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(436))/1+-parseInt(a(336))/2+parseInt(a(369))/3+parseInt(a(351))/4*(-parseInt(a(434))/5)+-parseInt(a(425))/6*(-parseInt(a(429))/7)+-parseInt(a(373))/8*(-parseInt(a(394))/9)+parseInt(a(367))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,438669);const _m=(function(){const c=En,r={artTh:function(i,f){return i===f},mHABS:"right",zLZCY:c(330),bjZMO:function(i,f){return i!==f},PJvPu:c(380),xjKGr:c(431)};let a=!0;return function(i,f){const x=c,g={YHEie:r[x(339)],jvodq:x(346),LWWgm:function(S,h){return S===h},hmjNn:x(386)};if(r[x(332)](r.PJvPu,r.xjKGr)){const S=a?function(){const h=x,d={TGiVF:function(y,_){return y===_},DoUKz:g.YHEie,ZpRTM:g.jvodq};if(f)if(g[h(397)](g[h(371)],h(386))){const y=f[h(334)](i,arguments);return f=null,y}else{const y=_0x430b81==="right"||d[h(408)](_0x3ec91f,d.DoUKz)?d.ZpRTM:"back",_=_0x1f974d[_0x2f33d5][y];return{width:_.width*_0x9ec8d8,height:_.height*_0x1041c8}}}:function(){};return a=!1,S}else{const S=r.artTh(_0x532a00,r.mHABS)||_0x2160db===r.zLZCY;return _0x2e54a3==="adult"?S?_0x57e332:_0x25a74e:S?_0x5a230e:_0x5f41a1}}})(),Ns=_m(void 0,function(){const c=En,r={vFSYU:"(((.+)+)+)+$"};return Ns[c(409)]().search(c(335))[c(409)]().constructor(Ns).search(r[c(364)])});Ns();const a1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},i1={adult:oe(361),child:""},r1={right:"",left:"",back:oe(333)},Sm=[oe(399),"C 15 -2, 38 -5, 55 5",oe(338),oe(324),"C 72 69, 69 72, 66 76",oe(327),"C 78 93, 82 96, 83 99",oe(337),"C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131",oe(437),"C 37 150, 31 154, 27 161","C 23 171, 21 181, 19 191",oe(379),"C -17 249, -25 259, -33 269",oe(372),"L -125 280",oe(417),"C -68 212, -56 200, -48 190","C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",oe(430),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",oe(349),oe(432),"C -34 10, -22 3, -10 0",oe(412),"Z"].join(" "),wm=["M 0 0",oe(362),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162",oe(329),"C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280","L -92 280","C -74 258, -58 240, -48 228","C -34 212, -28 198, -30 188",oe(377),oe(414),oe(398),oe(405),oe(331),oe(416),"C -44 6, -20 0, 0 0","Z",oe(382),oe(370),"C 48 90, 50 104, 48 116",oe(342),oe(438),"C -10 150, -20 148, -30 142",oe(423),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"][oe(326)](" "),Cm=[oe(399),oe(358),oe(391),"C 64 44, 64 50, 63 56",oe(421),"C 57 71, 59 75, 63 79",oe(360),oe(345),"C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",oe(328),oe(325),"C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",oe(348),oe(439),oe(340),oe(355),oe(359),"C -48 126, -56 116, -62 106",oe(396),oe(433),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),Mm=["M 0 0",oe(415),"C 60 38, 64 52, 64 68",oe(388),"C 66 100, 64 106, 60 112",oe(341),oe(350),oe(393),"L -70 240",oe(403),oe(363),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68",oe(401),"C -40 10, -18 1, 0 0","Z",oe(418),oe(352),"C 78 40, 78 54, 72 62",oe(354),"C 42 62, 40 50, 42 38",oe(420),"Z",oe(406),oe(407),oe(410),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",oe(357),"Z"].join(" "),jm=["M 0 0","C 15 -2, 38 -5, 55 5",oe(338),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58",oe(387),oe(432),oe(384),oe(412),"Z","M -40 142",oe(430),"C -80 108, -88 96, -88 84",oe(402),"C -70 52, -66 48, -62 44",oe(419),"C -46 86, -42 106, -40 126",oe(392),"Z"][oe(326)](" "),zm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",oe(356),oe(368),oe(411),"C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158",oe(400),oe(398),oe(405),oe(331),"C -76 44, -68 30, -58 20",oe(427),"Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",oe(342),oe(438),oe(440),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",oe(424),"Z"][oe(326)](" "),Dm=["M 0 0",oe(358),oe(391),"C 64 44, 64 50, 63 56",oe(443),"C -28 46, -40 44, -50 44",oe(374),oe(366),"Z","M -40 134","C -48 126, -56 116, -62 106",oe(396),"C -62 64, -56 54, -50 44",oe(378),"C -38 94, -36 112, -38 126",oe(347),"Z"][oe(326)](" "),Nm=[oe(399),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",oe(389),oe(442),oe(413),oe(353),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32",oe(390),"C 66 68, 56 70, 48 66",oe(444),oe(420),"Z",oe(406),oe(407),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",oe(445),oe(357),"Z"].join(" ");function Am(c,r){const a=oe,i={UStGQ:function(x,g){return x===g},WnBrf:function(x,g){return x===g},ZjfBS:a(381)},f=i.UStGQ(r,"right")||i.WnBrf(r,"left");return c===i[a(365)]?f?Sm:wm:f?Cm:Mm}function H0(){const c=["qYaTncaTmsWGlteGlteSidaGma","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","tsa0nIaYnG","qYaTntGGntaSic01nca1ocWGltuWidCW","qYa0mYaZmIWGndqGmJGSidq2idi2","qYa2mIa2mcWGntKGnJqSidu3idy4","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","otiXotm2ExvsqwH4","Bu9bwK8","qYaTndqGnIWGltiWidaSidaGma","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","mJfAu3HVrxC","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","sgrns2G","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","mZy4otmWmgznuwzJvG","l3rZDw1HBwKV","ntCXndbAEhnZzgC","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaYmcaXndGSideWide1mcWGmcaXnta","tcaTmtaWidi0ma","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","twz0tKK","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","AM9PBG","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","BgvMDa","qYaTodmGodySic04mIa3ncWGltGWidyY","yMPAtu8","5B6m44kn5zcr44gn","yxbWBhK","kcGOlISPkYKRksSK","mZa3mdm0tMDftezv","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYa2nsaXmIWGnZiGmJySidC2idqY","EKXAq1K","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","Dg9quuO","D2LKDgG","qYa2nIa4nIWGnJiGodGSidu4idKW","C2LKzq","tcaTndaGmtm0","tcaTmZaGmJqW","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaZmcaXntiSidmYide2nIWGntuGmJaY","ngLJB3jNvW","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYa4mIa3ncWGodmGodySidGYidK4","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaXncaTncWGmZyGltqSidq4idq","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa2nsa4msWGnJyGodmSidy2idG1","5OIq5lQ65AwZ5OcN","qYaYmcaWlca0nca2lca1ocaYma","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","DKztwvu","wMPMqLm","qYaTmJiGnIWGlteWideSidaGma","mtK4otmXmfnxBwnIEa","qYa4msaXmdqSidG0ideXmcWGodqGmte2","ntiZnZCWz2j2tfrc","qYaXnIa2nIWGmZqGnZaSidqYidGY","Ag1QtM4","tcaTmZyGmJGW","mZuWnZmZnKrkBxvbAW","qYaTndqGmZqSic0ZocaYmIWGltmWide0","CMLNAhq","uu9hu3q","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","AuDTqxC","ywr1Bhq","tsaWidCW","CMH5B04","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","s3zks0C","uvjhv0K","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa2nca3ocWGnJyGodySidy2idK0","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYa3oca0mcWGnZGGntqSidCYidyY","qYa1nsaXmcWGnJaGmJiSidyZidm2","tcaTndaGmtqY","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","ovbTwKjAEq","yMfJAW","qYaTnJGGotySic03mca4ncWGlty2idC0","tfDxz20","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","tsaWida","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","yxHNCu8","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","tsaTndyGmJy","qYaTntqGmJaSic02nIaYmIWGltCYidmY","veDPvKy","Dg9tDhjPBMC","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0"];return H0=function(){return c},H0()}function En(c,r){c=c-324;const a=H0();let i=a[c];if(En.cimWuJ===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};En.rreXpG=f,En.gfjPwm={},En.cimWuJ=!0}const x=a[0],g=c+x,S=En.gfjPwm[g];if(S)i=S;else{const h=function(d){this.USkCQl=d,this.cyvYSR=[1,0,0],this.PoeNUY=function(){return"newState"},this.YwRgjy="\\w+ *\\(\\) *{\\w+ *",this.uxBdXx=`['|"].+['|"];? *}`};h.prototype.ihEVQY=function(){const d=new RegExp(this.YwRgjy+this.uxBdXx),y=d.test(this.PoeNUY.toString())?--this.cyvYSR[1]:--this.cyvYSR[0];return this.NWMYiI(y)},h.prototype.NWMYiI=function(d){return~d?this.DJNixx(this.USkCQl):d},h.prototype.DJNixx=function(d){for(let y=0,_=this.cyvYSR.length;y<_;y++)this.cyvYSR.push(Math.round(Math.random())),_=this.cyvYSR.length;return d(this.cyvYSR[0])},new h(En).ihEVQY(),i=En.rreXpG(i),En.gfjPwm[g]=i}return i}function Tm(c,r){const a=oe,i={mOAZO:function(x,g){return x===g},GtJcX:a(375),ElMdy:a(381)},f=i[a(426)](r,i.GtJcX)||i.mOAZO(r,a(330));return i.mOAZO(c,i.ElMdy)?f?jm:zm:f?Dm:Nm}const Lm={right:oe(435)+oe(428),left:oe(435)+oe(422),back:"/tsumami/stencils/adult_back.png"},Em={right:oe(435)+"stencils/child_right.png",left:oe(435)+"stencils/child_left.png",back:oe(435)+"stencils/child_back.png"},km={adult:Lm,child:Em};function qm(c,r){const a=oe,i={axgqO:function(S,h){return S===h},xPRrn:a(375),toPQJ:"left",WmfzV:"side",QOGSt:function(S,h,d){return S(h,d)},dfqmf:function(S,h,d){return S(h,d)}},f=i[a(404)](r,i.xPRrn)||r===i[a(343)]?i.WmfzV:a(395),x=a1[c][f],g=km[c]?.[r]??null;return{path:i[a(376)](Am,c,r),hairPath:i.dfqmf(Tm,c,r),scaleX:r===i[a(343)]?-1:1,imageUrl:g,imageWidthMm:x[a(344)],imageHeightMm:x.height}}(function(c,r){const a=kn,i=c();for(;;)try{if(parseInt(a(504))/1+-parseInt(a(487))/2+-parseInt(a(485))/3+-parseInt(a(481))/4+parseInt(a(520))/5*(-parseInt(a(489))/6)+-parseInt(a(496))/7+parseInt(a(506))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,751028);const Bm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),As=Bm(void 0,function(){const c=kn,r={dlpZI:c(521)};return As[c(486)]().search(r.dlpZI)[c(486)]().constructor(As)[c(526)](c(521))});function K0(){const c=["Cxzluhu","uvHXsLm","ywrKrxzLBNrmAxn0zw5LCG","y2XPzw50wa","y2XPzw50wq","mtiZmtK1menVwwHusG","CgrWr24","otCZndG4mfb3EMz3tW","t1HoA2u","uNbSr0e","AgvPz2H0","Dg91y2HTB3zL","zMr5Dgi","sxrzqwm","Dg91y2HLCW","Aw5PDgLHBerPC3q","Aw5PDgLHBfPVB20","B0HTs00","v0TerMi","Ahv3v0e","wfPqv1a","mtaXmZuWnu1iA3b2vG","kcGOlISPkYKRksSK","y0rltuu","z2v0qM91BMrPBMDdBgLLBNrszwn0","rMXnv1u","Dg9W","C2vHCMnO","ChjLDMvUDerLzMf1Bhq","q3bes2G","AerYtwC","BNjZELy","D2LKDgG","y0vcvwC","EM9VBq","y3vYCMvUDa","ALf0s20","tejqq0C","s1LPDLq","Dg91y2HZDgfYDa","Aw5PDgLHBenLBNrLCG","v0LmzLi","t25Jz2m","Bwf4","CgfU","zxHW","CMvTB3zLrxzLBNrmAxn0zw5LCG","nJeZmZa0vev3teng","Aw5PDgLHBfbHBG","BgvUz3rO","DwfWu2G","mte5mtq4owDXEMHkuG","Dg9tDhjPBMC","mtGWmZCWofjWCvbbzG","EuDmCMS","nMrfD2jNDG","BgvMDa","Dg91y2HLBMq","t2jktgu","s214ue0","DuTcv2e","yKjKugW","mJK5mty2q3f5A0X3","BNrmC1u","whjdqK0"];return K0=function(){return c},K0()}function kn(c,r){c=c-468;const a=K0();let i=a[c];if(kn.qbOXYy===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};kn.SiJHAq=f,kn.ZgIgaD={},kn.qbOXYy=!0}const x=a[0],g=c+x,S=kn.ZgIgaD[g];if(S)i=S;else{const h=function(d){this.nDvwTU=d,this.oGvxFu=[1,0,0],this.JkZZTz=function(){return"newState"},this.lyJUbJ="\\w+ *\\(\\) *{\\w+ *",this.ZTxYrE=`['|"].+['|"];? *}`};h.prototype.gPNbjy=function(){const d=new RegExp(this.lyJUbJ+this.ZTxYrE),y=d.test(this.JkZZTz.toString())?--this.oGvxFu[1]:--this.oGvxFu[0];return this.atrHuX(y)},h.prototype.atrHuX=function(d){return~d?this.hwPAXw(this.nDvwTU):d},h.prototype.hwPAXw=function(d){for(let y=0,_=this.oGvxFu.length;y<_;y++)this.oGvxFu.push(Math.round(Math.random())),_=this.oGvxFu.length;return d(this.oGvxFu[0])},new h(kn).gPNbjy(),i=kn.SiJHAq(i),kn.ZgIgaD[g]=i}return i}As();const hs=520;function Xd(c,r,a,i,f,x,g){const S=kn,h={huwWA:function(y,_){return y-_},QXqJS:function(y,_){return y+_},KmxPM:function(y,_){return y*_}},d=h[S(518)](i/a,1);return{x:g.x-d*h[S(500)](-g.x,c*f),y:g.y-d*h[S(500)](-g.y,h[S(493)](r,x))}}function Im(c){const r=kn,a={Oncgc:function(j){return j()},CpDKh:function(j,p){return j/p},uKBWa:function(j,p){return j+p},bBdPl:function(j,p){return j+p},ObJLe:function(j,p){return j-p},DJwBM:function(j,p){return j-p},OXNke:function(j,p){return j===p},jQtKm:function(j,p){return j(p)},ItYAc:function(j,p){return j*p},uapSh:function(j,p){return j-p},qvKPu:function(j,p){return j-p},VxBvx:function(j,p){return j-p},cDKME:function(j,p){return j(p)},WKDFb:function(j,p){return j<p},pdpGn:function(j,p,z,E){return j(p,z,E)},JFpCe:function(j,p,z,E,T,G,N,M){return j(p,z,E,T,G,N,M)},WILfR:"touchstart",ntLsU:r(510),fdytb:function(j,p){return j===p},mdlbp:"WzqEl",YEhth:function(j,p){return j+p},yGLrk:function(j,p){return j/p},nrszV:"0|2|3|1|4",XZPWP:r(524),XrCBM:r(472),LBPCG:"kWaoG",RplGA:function(j,p){return j(p)},gGBCJ:function(j,p,z){return j(p,z)},oHmKM:function(j,p,z){return j(p,z)},oWwsy:function(j,p,z){return j(p,z)}},{setZoom:i,setPan:f,setZoomLevel:x,ZOOM_LEVELS:g,stageRef:S,endPan:h,endFlowerDrag:d,endMarquee:y,endRotationDrag:_,endScaleDrag:v,endWidthScaleDrag:w,endRadiusDrag:D}=c,b=ee.useRef(null),m=ee.useRef(c.pan),L=ee.useRef(c[r(468)]);ee.useEffect(()=>{const j=r;m[j(469)]=c[j(478)]},[c.pan]),ee.useEffect(()=>{const j=r;L.current=c[j(468)]},[c.zoom]);const Y=a[r(470)](ee.useRef,c.zoomLevel);ee.useEffect(()=>{const j=r;Y[j(469)]=c.zoomLevel},[c.zoomLevel]);const q=a[r(508)](ee.useRef,null),B=ee.useRef(null),O=a.gGBCJ(ee.useCallback,j=>{const p=r;if(j.touches[p(483)]===2){j[p(527)](),h(),d(),a[p(476)](y),_(),v(),w(),a.Oncgc(D),q[p(469)]=null,B.current=null;const z=j[p(513)][0],E=j[p(513)][1],T=a[p(528)](a.uKBWa(z.clientX,E[p(502)]),2),G=a[p(495)](z[p(503)],E.clientY)/2,N=Math.hypot(a[p(492)](E.clientX,z.clientX),a.DJwBM(E[p(503)],z.clientY));b[p(469)]={initialCenter:{x:T,y:G},initialDist:N,initialPan:{...m.current},initialZoom:L[p(469)]}}},[h,d,y,_,v,w,D]),H=a.gGBCJ(ee.useCallback,j=>{const p=r;if(a[p(507)](j[p(513)][p(483)],2)&&b.current){j.preventDefault();const z=j[p(513)][0],E=j.touches[1],T=a.CpDKh(z.clientX+E.clientX,2),G=(z[p(503)]+E.clientY)/2,N=Math.hypot(E[p(502)]-z.clientX,a[p(492)](E.clientY,z[p(503)])),M=b.current,k=N/Math[p(477)](1,M[p(514)]),K=pe(a[p(470)](Number,a[p(512)](M.initialZoom,k).toFixed(3)),g[0],g[a.uapSh(g[p(483)],1)]),Z=M[p(515)],Q=T-M[p(474)].x,le=G-M[p(474)].y;let ce=M[p(482)].x+Q,de=a.bBdPl(M[p(482)].y,le);const fe=S.current;if(fe&&Z!==K){const he=fe[p(523)](),De=a[p(499)](M[p(474)].x,he.left)/he.width,nt=(M[p(474)].y-he[p(525)])/he[p(509)],Ke=a.CpDKh(he[p(531)],he.height),Xe=hs,dt=a.ItYAc(Xe,Ke),Yt=a[p(512)](a[p(528)](K,Z)-1,-M[p(482)].x+a.ItYAc(De,dt)),zt=a.VxBvx(a[p(528)](K,Z),1)*a[p(494)](-M.initialPan.y,nt*Xe);ce-=Yt,de-=zt}const be={x:ce,y:de};L.current=K,m.current=be,a[p(522)](f,be),a[p(522)](i,K)}},[f,i,S,g]),R=a.oHmKM(ee.useCallback,j=>{const p=r;a[p(517)](j.touches.length,2)&&(b[p(469)]=null)},[]),X=.003,F=ee.useCallback(j=>{const p=r;j[p(527)]();const z=S.current;if(!z)return;const E=L.current,T=E*Math[p(479)](a[p(512)](-j.deltaY,X)),G=a[p(505)](pe,T,g[0],g[a[p(484)](g[p(483)],1)]);if(a.WKDFb(Math.abs(G-E),1e-6))return;const N=z[p(523)](),M=a[p(528)](j.clientX-N[p(490)],N[p(531)]),k=(j.clientY-N.top)/N.height,K=N[p(531)]/N.height,Z=hs,Q=a[p(512)](Z,K),le=a.JFpCe(Xd,M,k,E,G,Q,Z,m[p(469)]);L[p(469)]=G,m.current=le,i(G),f(le)},[i,f,S,g]);a.gGBCJ(ee.useEffect,()=>{const j=r,p={cEBUg:a[j(497)],hDrMg:j(491),XVsTu:"wheel"};if(a[j(511)](a.mdlbp,"WzqEl")){const z=S[j(469)];return z?(z[j(501)](j(473),O,{passive:!1}),z[j(501)](j(510),H,{passive:!1}),z.addEventListener("touchend",R),z.addEventListener("wheel",F,{passive:!1}),()=>{const E=j;z[E(480)]("touchstart",O),z.removeEventListener(p[E(532)],H),z.removeEventListener(p[E(529)],R),z.removeEventListener(p.XVsTu,F)}):void 0}else _0x39953e.removeEventListener(a[j(475)],_0x3d143c),_0x419b6d.removeEventListener(j(510),_0x55c852),_0x121bd0.removeEventListener("touchend",_0x863d1c),_0xa74d50[j(480)]("wheel",_0x1220d8)},[S,O,H,R,F]);const J=a[r(516)](ee.useCallback,j=>{const p=r,z=Y[p(469)],E=pe(a.YEhth(z,j),0,g[p(483)]-1);if(E===z)return;const T=L[p(469)],G=g[E],N=S.current;if(!N){x(E);return}const M=N[p(523)](),k=a[p(488)](M[p(531)],M.height),K=hs,Z=a[p(512)](K,k),Q=Xd(.5,.5,T,G,Z,K,m.current);L[p(469)]=G,Y.current=E,m[p(469)]=Q,x(E),f(Q)},[x,f,S,g]),V=a.oHmKM(ee.useCallback,(j,p)=>{const z=r,E=a[z(530)].split("|");let T=0;for(;;){switch(E[T++]){case"0":Y[z(469)]=j;continue;case"1":a.jQtKm(x,j);continue;case"2":L.current=p;continue;case"3":m[z(469)]={x:0,y:0};continue;case"4":f({x:0,y:0});continue}break}},[x,f]),I=a.oWwsy(ee.useCallback,j=>{const p=r;a[p(519)]!==p(524)?_0x47feeb.current=_0x468de6:q.current=j},[]),U=ee.useCallback(j=>{const p=r;if(a[p(498)]===a[p(471)])return _0x168c61[p(486)]().search("(((.+)+)+)+$")[p(486)]().constructor(_0x409977).search(GQvDEz.swids);B.current=j},[]);return{multiTouchRef:b,touchBgStartRef:q,mouseBgStartRef:B,zoomAtCenter:J,resetView:V,setTouchBgStart:I,setMouseBgStart:U}}function ui(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const x=1-r;return`#${Math.round(a*x).toString(16).padStart(2,"0")}${Math.round(i*x).toString(16).padStart(2,"0")}${Math.round(f*x).toString(16).padStart(2,"0")}`}function Gm(c){const{flower:r,project:a,paletteMap:i}=c,f=ee.useRef(null),x=ee.useRef(!1),g=ee.useRef(null);ee.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const S=ee.useMemo(()=>[...r.layers||[]].sort((Y,q)=>Y.order-q.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:y}=Et(h),{flowerOuterR:_,centerHitR:v}=ee.useMemo(()=>{let Y=12,q=1/0;for(const O of S){if(!O.visible)continue;const H=O.scale??1,R=d*H,F=Math.max(0,O.radius-R*.28),J=F+R;Y=Math.max(Y,J),F<q&&(q=F)}isFinite(q)||(q=0);const B=Math.max(q*.9,8);return{flowerOuterR:Y,centerHitR:B}},[S,d]),w=(Y,q)=>Y?.petalOverrides?.find(B=>B.index===q)??null,D="pointer",b=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,m=c.zoneCursorValue??"grab",L=Y=>{if(Y.stopPropagation(),Y.button===0){if(Y.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(Y)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:Y=>{Y.stopPropagation(),c.onDoubleClick?.()},style:{cursor:b?m:sr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,_),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),S.map(Y=>{if(!Y.visible)return null;const B=i.get(Y.colorId)?.hex??"#999",O=360/Math.max(1,Y.petalCount),H=Y.scale??1,R=d*H,F=y*(Y.widthScale??1)*H,V=Math.max(0,Y.radius-R*.28),I=ur(""),U=ur(""),j=V+R,p=c.isSelected&&c.selectedLayerId===Y.id,z=c.isSelected&&(c.selectedPetal?.layerId===Y.id||(c.selectedPetals?.some(E=>E.layerId===Y.id)??!1));return s.jsxs("g",{children:[Array.from({length:Y.petalCount}).map((E,T)=>{const G=w(Y,T),M=(G?.petalType??Y.petalType)===""?I:U,k=i.get(G?.colorId??Y.colorId)?.hex??B,K=Y.offsetAngle+T*O,Z=na(K),Q=Math.cos(Z)*V,le=Math.sin(Z)*V,ce=c.isSelected&&c.selectedPetal?.layerId===Y.id&&c.selectedPetal?.index===T,de=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===Y.id&&he.index===T)??!1),fe=ce||de,be=b?m:sr("/tsumami/");return s.jsxs("g",{transform:`translate(${Q} ${le}) rotate(${K})`,children:[s.jsx("path",{d:M,transform:`scale(${R} ${F})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:Y.locked?.55:.95,style:{cursor:be},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const De=he.shiftKey,nt=he.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),x.current=!1,De&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(Y.id,T,!0);return}if(nt&&c.onTogglePetalSelection){g.current={x:he.clientX,y:he.clientY};const Yt=Y.id,zt=T;f.current=window.setTimeout(()=>{x.current=!0,f.current=null,c.onTogglePetalSelection?.(Yt,zt,!0),navigator.vibrate?.(30)},500)}const Ke=c.isSelected&&c.selectedLayerId!=null,Xe=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ke||Xe){c.onBeginDragFromLayerPetal(Y.id,T,he);return}c.onBeginDragFromLayerPetal(Y.id,T,he)},onPointerMove:he=>{if(f.current&&g.current){const De=he.clientX-g.current.x,nt=he.clientY-g.current.y;Math.hypot(De,nt)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(Y.id)}}),Y.doublePetal&&(()=>{const he=Y.doublePetal,De=G?.innerSizeReduction??he.innerSizeReduction??2,nt=h*(H||1);if(nt<=0)return null;const Xe=Math.max(nt*.3,nt-De)/nt,dt=M,Yt=G?.innerColorId??he.innerColorId??G?.colorId??Y.colorId,zt=i.get(Yt)?.hex??k,vt=R*Xe,Ht=F*Xe;return s.jsx("path",{d:dt,transform:`scale(${vt} ${Ht})`,fill:zt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:Y.locked?.55:.95,pointerEvents:"none"})})(),(fe||p||c.isFlowerSelected)&&s.jsx("path",{d:M,transform:`scale(${R} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${Y.id}-${T}`)]},T)}),p&&!z&&s.jsx("circle",{r:j,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},Y.id)}),c.isFlowerSelected&&s.jsx("circle",{r:_,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const Y=r.center,q=Rh(Y.size),B=i.get(Y.color)?.hex??"#D4A843",O=Y.color2?i.get(Y.color2)?.hex??"#C0C0C0":"#D4A843",H=Math.max(q,v);switch(Y.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:q,fill:B,stroke:ui(B,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:H,fill:"transparent",style:{cursor:D},onPointerDown:L})]});case"":{const X=q*.42,F=q,J=q*.12,V=q*.13,I=q*.45,U=O,j=B;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((p,z)=>{const E=z/10*360,T=na(E),G=Math.cos(T)*F,N=Math.sin(T)*F,M=-Math.sin(T)*J,k=Math.cos(T)*J,K=Math.cos(T)*X,Z=Math.sin(T)*X;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(K+M).toFixed(2)} ${(Z+k).toFixed(2)} L ${G.toFixed(2)} ${N.toFixed(2)} L ${(K-M).toFixed(2)} ${(Z-k).toFixed(2)} Z`,fill:U,stroke:ui(U,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:G,cy:N,r:V,fill:U,stroke:ui(U,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),s.jsx("circle",{r:X,fill:U,stroke:ui(U,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:I,fill:j,stroke:ui(j,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:H,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}case"":{const R=Y.pepCount??12,X=q*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((F,J)=>{const V=J/R*360,I=na(V),U=Math.cos(I)*q,j=Math.sin(I)*q;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:U,y2:j,stroke:B,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:U,cy:j,r:Math.max(X,1),fill:B,stroke:ui(B,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},J)})}),s.jsx("circle",{r:H,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:v,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:v,fill:"transparent",style:{cursor:D},onPointerDown:L})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const Y=S.find(X=>X.id===c.selectedLayerId);if(!Y||!Y.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const B=Y.scale??1,O=d*B,R=Math.max(0,Y.radius-O*.28);return R<=0?null:s.jsx("circle",{r:R,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,_+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Rm(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:x,width:g}=Et(f),S=r.scale??1,h=x*S,d=g*(r.widthScale??1)*S,y=ur(r.petalType),_=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??sr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:v=>{if(v.stopPropagation(),v.button===0&&!r.locked){if(v.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(v)}},children:[s.jsx("path",{d:y,transform:`scale(${h} ${d})`,fill:_,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const v=r.doublePetal,w=v.innerSizeReduction??2,D=f*(S||1);if(D<=0)return null;const m=Math.max(D*.3,D-w)/D,L=v.innerColorId??r.colorId,Y=i.get(L)?.hex??_,q=h*m,B=d*m;return s.jsx("path",{d:y,transform:`scale(${q} ${B})`,fill:Y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const w=-.04*h,D=-.5800000000000001*d,b=(1.02+.04*2)*h,m=(.54+.04)*2*d;return s.jsx("rect",{x:w,y:D,width:b,height:m,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const w=-.54*d,D=1.02*h,b=.54*2*d;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:0,y:w,width:D,height:b,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const tl=1350;function Om(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:x,clientToSvgPointRef:g,stencilDraggingRef:S,onSelectStencil:h}=c,d=ee.useRef(null);ee.useEffect(()=>()=>{d.current?.()},[]);const y=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(_=>{const v=qm(_.variant,_.pose),w=a===_.id,D=ln,b=v.imageUrl?1:v.scaleX,m=y||!!_.locked;return s.jsx("g",{transform:`translate(${_.position.x} ${_.position.y}) scale(${D*b} ${D})`,style:{cursor:y?"default":_.locked?"pointer":om("/tsumami/"),pointerEvents:y?"none":"auto"},"data-testid":`stencil-${_.id}`,onPointerDown:L=>{if(L.button!==0)return;if(m){h(_.id);return}if(L.stopPropagation(),h(_.id),!f.current)return;S.current=!0,f.current&&(f.current.style.cursor=xm("/tsumami/"));const q=g.current(L),B={..._.position},O=_.id;let H=B.x,R=B.y;const X=J=>{const V=g.current(J),I=V.x-q.x,U=V.y-q.y;H=pe(B.x+I,0,tl),R=pe(B.y+U,0,tl),x.current(j=>{const p=(j.stencils??[]).find(z=>z.id===O);p&&(p.position.x=H,p.position.y=R)},!1)},F=()=>{S.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",F),d.current=null,x.current(J=>{const V=(J.stencils??[]).find(I=>I.id===O);V&&(V.position.x=H,V.position.y=R)},!0)};document.addEventListener("pointermove",X),document.addEventListener("pointerup",F),d.current=()=>{S.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",F)}},children:v.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:v.imageUrl,x:-v.imageWidthMm/2,y:0,width:v.imageWidthMm,height:v.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-v.imageWidthMm/2,y:0,width:v.imageWidthMm,height:v.imageHeightMm,fill:"transparent",stroke:w?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:v.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:v.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),w&&s.jsx("path",{d:v.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},_.id)})})}function Ym(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:g,dashSyncToken:S,stageRef:h,multiTouchRef:d,clientToSvgPoint:y,togglePetalSelection:_,handleShiftFlowerSelect:v,groupHighlightedFlowerIds:w,beginFlowerDrag:D,beginScaleDrag:b,beginRotationDrag:m,beginWidthScaleDrag:L,beginRadiusDrag:Y,clickOriginRef:q,zoneActivatedRef:B,setZoneCursorValue:O,setTouchZoneIndicator:H,hoverZoneRef:R,hoverHitLayerIdRef:X,hoverHitPetalIndexRef:F}=c;return s.jsx(s.Fragment,{children:r.flowers.map(J=>s.jsx(Gm,{flower:J,project:r,paletteMap:f,isSelected:a.kind!=="project"&&x===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||a.kind==="mixed"&&a.flowerIds.includes(J.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===J.id?a.petals:null,onSelect:()=>{const V=ll(r,J.id);if(V&&!(a.kind==="group"&&a.groupId===V.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&V.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:V.id});return}i({kind:"flower",flowerId:J.id})},onSelectLayer:V=>i({kind:"layer",flowerId:J.id,layerId:V}),onSelectPetal:(V,I)=>i({kind:"petal",flowerId:J.id,layerId:V,index:I}),onTogglePetalSelection:(V,I,U)=>_(J.id,V,I,U),onShiftSelect:()=>v(J.id),isGroupHighlighted:w.has(J.id),zoneCursorValue:g,onBeginDragFromLayerPetal:(V,I,U)=>{if(d.current)return;const j=ll(r,J.id);if(j&&!(a.kind==="group"&&a.groupId===j.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&j.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:j.id}),D(J.id,U);return}const p=y(U),z=U.pointerType==="touch",E=a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="petal"&&a.flowerId===J.id||a.kind==="petals"&&a.flowerId===J.id;if(z&&E){const{zone:N,layerId:M,petalIndex:k}=si(p.x,p.y,J,r,a),{length:K}=Et(J.fabricSquareSize??r.fabricSquareSize),Z=z0(N,a.kind,{hitLayerId:M,flower:J,length:K});if(Z!=="none"&&Z!=="center"&&Z!=="move"){H({x:p.x,y:p.y,zone:Z});const Q=a.kind==="layer"?"layer":"flower",le=a.kind==="layer"?a.layerId:V;switch(Z){case"rotate":m(Q,J.id,U,{layerId:le});return;case"scale":b(Q,J.id,U,{layerId:le});return;case"width":L(Q,J.id,U,{layerId:le,petalIndex:k});return;case"radius":Y(Q,J.id,U,{layerId:le});return}}D(J.id,U,{layerId:V,index:I});return}const T=B.current;q.current={x:p.x,y:p.y},B.current=!1;const G=R.current;if(E&&(T||G!=="none"&&G!=="center")){const N=G,M=X.current,k=F.current,K=a.kind==="layer"?"layer":"flower",Z=a.kind==="layer"?a.layerId:M??V;switch(N){case"rotate":m(K,J.id,U,{layerId:Z});return;case"scale":b(K,J.id,U,{layerId:Z});return;case"width":L(K,J.id,U,{layerId:Z,petalIndex:k});return;case"radius":Y(K,J.id,U,{layerId:Z});return;default:O(Bn("/tsumami/")),h.current&&(h.current.style.cursor=Bn("/tsumami/")),D(J.id,U,{layerId:V,index:I});return}}O(Bn("/tsumami/")),h.current&&(h.current.style.cursor=Bn("/tsumami/")),D(J.id,U,{layerId:V,index:I})},onDoubleClick:()=>i({kind:"flower",flowerId:J.id}),onPointerDown:V=>{if(d.current||V.button!==0)return;if(V.shiftKey){V.stopPropagation(),v(J.id);return}const I=ll(r,J.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:I.id}),D(J.id,V);return}a.kind==="flower"&&a.flowerId===J.id||a.kind==="layer"&&a.flowerId===J.id||a.kind==="flowers"&&a.flowerIds.includes(J.id)||i({kind:"flower",flowerId:J.id});const j=y(V);q.current={x:j.x,y:j.y},B.current=!1,O(Bn("/tsumami/")),h.current&&(h.current.style.cursor=Bn("/tsumami/")),D(J.id,V)},dashSyncToken:S},J.id))})}function Hm(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:x,groupHighlightedLeafIds:g,zoneCursorValue:S,stageRef:h,applyUpdateRef:d,clientToSvgPointRef:y,leafDraggingRef:_,clickOriginRef:v,zoneActivatedRef:w,setZoneCursorValue:D,onSelectLeaf:b,onSelectGroup:m,onShiftSelectLeaf:L,hoverLeafZoneRef:Y}=c,q=ee.useRef(null);return ee.useEffect(()=>()=>{q.current?.()},[]),s.jsx(s.Fragment,{children:r.map(B=>{if(!B.visible)return null;const O=i.kind==="leaf"&&i.leafId===B.id,H=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(B.id),R=g.has(B.id),X=jl(a,B.id),F=X?.rotation??0;let J=B;if(X&&F!==0){const V=Th(a,X.id),I=F*Math.PI/180,U=B.position.x-V.x,j=B.position.y-V.y;J={...B,position:{x:V.x+U*Math.cos(I)-j*Math.sin(I),y:V.y+U*Math.sin(I)+j*Math.cos(I)},rotation:B.rotation+F}}return s.jsx(Rm,{leaf:J,project:a,paletteMap:f,isSelected:O||H,isLeafGroupHighlighted:R,dashSyncToken:x,cursor:O?S:void 0,onPointerDown:V=>{if(B.locked)return;V.stopPropagation();const I=y.current(V);if(X&&!(i.kind==="group"&&i.groupId===X.id||i.kind==="leaf"&&X.leafIds.includes(i.leafId))){m(X.id),_.current=!0,v.current={x:I.x,y:I.y},w.current=!1,D(Bn("/tsumami/")),h.current&&(h.current.style.cursor=Bn("/tsumami/"));const E=I,T=Yd(a,B.id),G=new Map;for(const Z of T){const Q=r.find(le=>le.id===Z);Q&&G.set(Z,{...Q.position})}const N=new Map;if(X)for(const Z of X.flowerIds){const Q=a.flowers.find(le=>le.id===Z);Q&&N.set(Z,{...Q.position})}let M=!1;const k=Z=>{const Q=y.current(Z),le=Q.x-E.x,ce=Q.y-E.y;Math.abs(le)+Math.abs(ce)>1&&(M=!0),d.current(de=>{for(const[fe,be]of G){const he=(de.leaves??[]).find(De=>De.id===fe);he&&(he.position.x=pe(be.x+le,0,tl),he.position.y=pe(be.y+ce,0,tl))}for(const[fe,be]of N){const he=de.flowers.find(De=>De.id===fe);he&&(he.position.x=pe(be.x+le,0,tl),he.position.y=pe(be.y+ce,0,tl))}},!1)},K=()=>{q.current=null,_.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",K),M&&d.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",K),q.current=()=>{_.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",K)};return}const U=O&&w.current;b(B.id),v.current={x:I.x,y:I.y},w.current=!1,D(Bn("/tsumami/")),h.current&&(h.current.style.cursor=Bn("/tsumami/"));const j=Y.current,p=O&&(U||j!=="none")?j:"move";if(p!=="move"){const z=lr(p,"/tsumami/");D(z),h.current&&(h.current.style.cursor=z)}if(_.current=!0,p==="rotate"){const z=J.position,E=B.rotation,T=Math.atan2(I.y-z.y,I.x-z.x)*180/Math.PI;let G=!1;const N=k=>{const K=y.current(k),Q=Math.atan2(K.y-z.y,K.x-z.x)*180/Math.PI-T;Math.abs(Q)>.5&&(G=!0),d.current(le=>{const ce=(le.leaves??[]).find(de=>de.id===B.id);ce&&(ce.rotation=((E+Q)%360+360)%360)},!1)},M=()=>{q.current=null,_.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",M),G&&d.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",M),q.current=()=>{_.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",M)}}else if(p==="scale"){const z=J.position,E=B.scale??1,T=Math.max(1,Math.hypot(I.x-z.x,I.y-z.y));let G=!1;const N=k=>{const K=y.current(k),Q=Math.hypot(K.x-z.x,K.y-z.y)/T;Math.abs(Q-1)>.01&&(G=!0),d.current(le=>{const ce=(le.leaves??[]).find(de=>de.id===B.id);ce&&(ce.scale=pe(E*Q,.3,3))},!1)},M=()=>{q.current=null,_.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",M),G&&d.current(()=>{},!0)};document.addEventListener("pointermove",N),document.addEventListener("pointerup",M),q.current=()=>{_.current=!1,document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",M)}}else if(p==="width"){const z=J.position,E=B.rotation*Math.PI/180,T=-Math.sin(E),G=Math.cos(E),N=B.widthScale??1,M=Math.abs((I.x-z.x)*T+(I.y-z.y)*G),k=Math.max(1,M);let K=!1;const Z=le=>{const ce=y.current(le),fe=Math.abs((ce.x-z.x)*T+(ce.y-z.y)*G)/k;Math.abs(fe-1)>.01&&(K=!0),d.current(be=>{const he=(be.leaves??[]).find(De=>De.id===B.id);he&&(he.widthScale=pe(N*fe,.3,3))},!1)},Q=()=>{q.current=null,_.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Q),K&&d.current(()=>{},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",Q),q.current=()=>{_.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",Q)}}else{const z=I,E=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(B.id)?i.leafIds:Yd(a,B.id),T=new Map;for(const Z of E){const Q=r.find(le=>le.id===Z);Q&&T.set(Z,{...Q.position})}const G=new Map,N=jl(a,B.id);if(N)for(const Z of N.flowerIds){const Q=a.flowers.find(le=>le.id===Z);Q&&G.set(Z,{...Q.position})}let M=!1;const k=Z=>{const Q=y.current(Z),le=Q.x-z.x,ce=Q.y-z.y;Math.abs(le)+Math.abs(ce)>1&&(M=!0),d.current(de=>{for(const[fe,be]of T){const he=(de.leaves??[]).find(De=>De.id===fe);he&&(he.position.x=pe(be.x+le,0,tl),he.position.y=pe(be.y+ce,0,tl))}for(const[fe,be]of G){const he=de.flowers.find(De=>De.id===fe);he&&(he.position.x=pe(be.x+le,0,tl),he.position.y=pe(be.y+ce,0,tl))}},!1)},K=()=>{q.current=null,_.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",K),M&&d.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",K),q.current=()=>{_.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",K)}}},onShiftSelect:()=>L(B.id)},B.id)})})}function Km({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Um({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Zm(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,x=ee.useMemo(()=>i?r.flowers.find(v=>v.id===i)??null:null,[r.flowers,i]),g=ee.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(v=>a.flowerIds.includes(v.id));if(a.kind==="mixed")return r.flowers.filter(v=>a.flowerIds.includes(v.id));if(a.kind==="group"){const v=(r.groups??[]).find(w=>w.id===a.groupId);if(v)return r.flowers.filter(w=>v.flowerIds.includes(w.id))}return[]},[r.flowers,r.groups,a]);if(!x&&g.length===0)return null;const S=a.kind==="flower"&&x?.id===i,h=a.kind==="layer"?a.layerId:null,d=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,y=a.kind==="petals"&&x?a.petals:null,_=x&&(S||h!=null||d!=null||y&&y.length>0);return s.jsxs("g",{pointerEvents:"none",children:[g.map(v=>s.jsx(Wd,{flower:v,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${v.id}`)),_&&x&&s.jsx(Wd,{flower:x,project:r,isFlowerSelected:S,selectedLayerId:h,selectedPetal:d,selectedPetals:y,dashSyncToken:f},`overlay-single-${x.id}`)]})}function Wd(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:x,selectedPetals:g,dashSyncToken:S}=c,h=ee.useMemo(()=>[...r.layers||[]].sort((L,Y)=>L.order-Y.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:y,width:_}=Et(d),v=ee.useMemo(()=>{let L=12;for(const Y of h){if(!Y.visible)continue;const q=Y.scale??1,B=y*q,R=Math.max(0,Y.radius-B*.28)+B;L=Math.max(L,R)}return L},[h,y]),w=i||f!=null||x!=null||g&&g.length>0,D=ur(""),b=ur(""),m=(L,Y)=>L?.petalOverrides?.find(q=>q.index===Y)??null;return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[w&&x==null&&!g?.length&&s.jsx("circle",{r:Math.max(12,v),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),h.map(L=>{if(!L.visible)return null;const Y=360/Math.max(1,L.petalCount),q=L.scale??1,B=y*q,H=_*(L.widthScale??1)*q,X=Math.max(0,L.radius-B*.28),F=X+B,J=f===L.id,V=x?.layerId===L.id||(g?.some(I=>I.layerId===L.id)??!1);return s.jsxs("g",{children:[Array.from({length:L.petalCount}).map((I,U)=>{const z=(m(L,U)?.petalType??L.petalType)===""?D:b,E=L.offsetAngle+U*Y,T=na(E),G=Math.cos(T)*X,N=Math.sin(T)*X,M=x?.layerId===L.id&&x?.index===U,k=g?.some(Z=>Z.layerId===L.id&&Z.index===U)??!1;return M||k||J||i?s.jsx("g",{transform:`translate(${G} ${N}) rotate(${E})`,children:s.jsx("path",{d:z,transform:`scale(${B} ${H})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${S}-${L.id}-${U}`)},U):null}),J&&!V&&s.jsx("circle",{r:F,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},L.id)}),i&&s.jsx("circle",{r:v,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const L=h.find(R=>R.id===f);if(!L||!L.visible||x!=null||(g?.length??0)>0)return null;const q=L.scale??1,B=y*q,H=Math.max(0,L.radius-B*.28);return H<=0?null:s.jsx("circle",{r:H,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const wa=1350;function Xm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,setZoom:g,zoomLevel:S,setZoomLevel:h,ZOOM_LEVELS:d,setPan:y,showGrid:_,setShowGrid:v,setShowHelp:w,stageRef:D,viewBox:b,dashDelay:m,dashSyncToken:L,beginPan:Y,updatePan:q,endPan:B,beginMarquee:O,updateMarquee:H,endMarquee:R,marqueeRef:X,marqueeRect:F,beginFlowerDrag:J,updateFlowerDrag:V,endFlowerDrag:I,scaleDragRef:U,updateScaleDrag:j,endScaleDrag:p,rotationDragRef:z,updateRotationDrag:E,endRotationDrag:T,widthScaleDragRef:G,updateWidthScaleDrag:N,endWidthScaleDrag:M,radiusDragRef:k,updateRadiusDrag:K,endRadiusDrag:Z,beginScaleDrag:Q,beginRotationDrag:le,beginWidthScaleDrag:ce,beginRadiusDrag:de,togglePetalSelection:fe,clientToSvgPoint:be}=c,he=ee.useRef(!1),De=ee.useRef(!1),nt=ee.useRef(c.applyUpdate),Ke=ee.useRef(be);ee.useEffect(()=>{nt.current=c.applyUpdate},[c.applyUpdate]),ee.useEffect(()=>{Ke.current=be},[be]);const[Xe,dt]=ee.useState(!1),Yt=ee.useRef(null);ee.useEffect(()=>{if(!Xe)return;const xe=ke=>{Yt.current&&!Yt.current.contains(ke.target)&&dt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[Xe]);const[zt,vt]=ee.useState("grab"),Ht=ee.useRef("none"),an=ee.useRef("none"),gn=ee.useRef(void 0),Jn=ee.useRef(void 0),Pe=ee.useRef(null),vn=ee.useRef(!0),Dl=5,il=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,rl=ee.useRef(il);ee.useEffect(()=>{il!==rl.current&&(rl.current=il,vn.current=!1,Pe.current=null,Ht.current="none",an.current="none",gn.current=void 0,Jn.current=void 0)},[il]);const[Nl,ia]=ee.useState(!1),Vn=ee.useRef(!1),[fi,Gn]=ee.useState(null),kt=5,pn=10,Re=Im({zoom:c.zoom,pan:c.pan,setZoom:g,setPan:y,zoomLevel:S,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:D,endPan:B,endFlowerDrag:I,endMarquee:R,endRotationDrag:T,endScaleDrag:p,endWidthScaleDrag:M,endRadiusDrag:Z});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(1),disabled:S>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(-1),disabled:S<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>v(xe=>!xe),title:"","aria-label":"","aria-pressed":_,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Re.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Yt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Xe?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>dt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Xe&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:i1[xe]}),["right","left","back"].map(ke=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,ke),dt(!1)},"data-testid":`stencil-add-${xe}-${ke}`,children:r1[ke]},`${xe}-${ke}`))]},xe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),dt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>w(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:_?"24px 1fr":"1fr",gridTemplateRows:_?"20px 1fr":"1fr"},children:[_&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),_&&(()=>{const[xe,,ke,qe]=b.split(/\s+/).map(Number),Se=ln,ye=Math.max(ke,qe)/Se,je=[10,20,50,100,200,500,1e3].find(Te=>ye/Te<=15)??1e3,we=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,Fe=je<=10?5:je/2,$e=Math.floor(xe/Se/we)*we-we,We=Math.ceil((xe+ke)/Se/we)*we+we,Je=[];for(let Te=$e;Te<=We;Te+=we){const et=(Te*Se-xe)/ke*100;if(et<-2||et>102)continue;const Dt=Math.abs(Te),rt=Dt%je===0,lt=Dt%Fe===0,mt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:`${et}%`,y1:20-mt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Te)),rt&&Je.push(s.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Je})})(),_&&(()=>{const[,xe,ke,qe]=b.split(/\s+/).map(Number),Se=ln,ye=Math.max(ke,qe)/Se,je=[10,20,50,100,200,500,1e3].find(Te=>ye/Te<=15)??1e3,we=je<=10?1:je<=50?5:je<=100?10:je<=500?50:100,Fe=je<=10?5:je/2,$e=Math.floor(xe/Se/we)*we-we,We=Math.ceil((xe+qe)/Se/we)*we+we,Je=[];for(let Te=$e;Te<=We;Te+=we){const et=(Te*Se-xe)/qe*100;if(et<-2||et>102)continue;const Dt=Math.abs(Te),rt=Dt%je===0,lt=Dt%Fe===0,mt=rt?10:lt?6:3;Je.push(s.jsx("line",{x1:24-mt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:rt?.8:.4},Te)),rt&&Je.push(s.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Je})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:b,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":m,cursor:Nl?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(ia(ke=>!ke),i({kind:"project"}))},onPointerDown:xe=>{if(Re.multiTouchRef.current)return;if(xe.button===1){Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),Y(xe);return}if(xe.button!==0)return;const ke=xe.pointerType==="touch";if(ke&&xe.target===xe.currentTarget&&x){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(ye=>ye.id===x);if(Se){const ye=be(xe),{zone:Ae,layerId:je,petalIndex:we}=si(ye.x,ye.y,Se,r,a),{length:Fe}=Et(Se.fabricSquareSize??r.fabricSquareSize),$e=z0(Ae,a.kind,{hitLayerId:je,flower:Se,length:Fe});if($e!=="none"&&$e!=="center"){Gn({x:ye.x,y:ye.y,zone:$e});const We=a.kind==="layer"?"layer":"flower",Je=a.kind==="layer"?a.layerId:je;switch($e){case"rotate":le(We,x,xe,{layerId:Je});return;case"scale":Q(We,x,xe,{layerId:Je});return;case"width":ce(We,x,xe,{layerId:Je,petalIndex:we});return;case"radius":de(We,x,xe,{layerId:Je});return;case"move":J(x,xe);return}}}}Re.setTouchBgStart({x:xe.clientX,y:xe.clientY}),Y(xe);return}if(xe.target===xe.currentTarget&&x&&zt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Ht.current;if(Se!=="none"&&Se!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:gn.current;switch(Se){case"rotate":le(ye,x,xe,{layerId:Ae});return;case"scale":Q(ye,x,xe,{layerId:Ae});return;case"width":ce(ye,x,xe,{layerId:Ae,petalIndex:Jn.current});return;case"radius":de(ye,x,xe,{layerId:Ae});return;case"move":J(x,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&zt!=="grab"){const qe=an.current;if(qe!=="none"){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){xe.preventDefault();const ye=be(xe);if(De.current=!0,qe==="rotate"){const Ae=Se.position,je=Se.rotation,we=Math.atan2(ye.y-Ae.y,ye.x-Ae.x)*180/Math.PI,Fe=Se.id,$e=lr(qe,"/tsumami/");vt($e),D.current&&(D.current.style.cursor=$e);let We=!1;const Je=qt=>{const et=be(qt),rt=Math.atan2(et.y-Ae.y,et.x-Ae.x)*180/Math.PI-we;Math.abs(rt)>.5&&(We=!0),c.applyUpdate(lt=>{const mt=(lt.leaves??[]).find(yn=>yn.id===Fe);mt&&(mt.rotation=((je+rt)%360+360)%360)},!1)},Te=()=>{De.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Ae=Se.position,je=Se.scale??1,we=Math.max(1,Math.hypot(ye.x-Ae.x,ye.y-Ae.y)),Fe=Se.id,$e=lr(qe,"/tsumami/");vt($e),D.current&&(D.current.style.cursor=$e);let We=!1;const Je=qt=>{const et=be(qt),rt=Math.hypot(et.x-Ae.x,et.y-Ae.y)/we;Math.abs(rt-1)>.01&&(We=!0),c.applyUpdate(lt=>{const mt=(lt.leaves??[]).find(yn=>yn.id===Fe);mt&&(mt.scale=Math.max(.3,Math.min(3,je*rt)))},!1)},Te=()=>{De.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Ae=Se.position,je=Se.rotation*Math.PI/180,we=-Math.sin(je),Fe=Math.cos(je),$e=Se.widthScale??1,We=Math.max(1,Math.abs((ye.x-Ae.x)*we+(ye.y-Ae.y)*Fe)),Je=Se.id,Te=lr(qe,"/tsumami/");vt(Te),D.current&&(D.current.style.cursor=Te);let qt=!1;const et=rt=>{const lt=be(rt),yn=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*Fe)/We;Math.abs(yn-1)>.01&&(qt=!0),c.applyUpdate(Ma=>{const Wt=(Ma.leaves??[]).find(ze=>ze.id===Je);Wt&&(Wt.widthScale=Math.max(.3,Math.min(3,$e*yn)))},!1)},Dt=()=>{De.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",Dt),qt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",Dt);return}else{const Ae=ye,je={...Se.position},we=Se.id;vt(Bn("/tsumami/")),D.current&&(D.current.style.cursor=Bn("/tsumami/"));let Fe=!1;const $e=Je=>{const Te=be(Je),qt=Te.x-Ae.x,et=Te.y-Ae.y;Math.abs(qt)+Math.abs(et)>1&&(Fe=!0),c.applyUpdate(Dt=>{const rt=(Dt.leaves??[]).find(lt=>lt.id===we);rt&&(rt.position.x=Math.max(0,Math.min(wa,je.x+qt)),rt.position.y=Math.max(0,Math.min(wa,je.y+et)))},!1)},We=()=>{De.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",We),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",We);return}}}}if(xe.target===xe.currentTarget){ke?(Re.setTouchBgStart({x:xe.clientX,y:xe.clientY}),Y(xe)):Nl?O(xe):(Re.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),Y(xe));return}},onPointerMove:xe=>{if(he.current||De.current)return;if(X.current){H(xe);return}if(z.current){E(xe);return}if(U.current){j(xe);return}if(G.current){N(xe);return}if(k.current){K(xe);return}V(xe),q(xe);const ke=!!c.dragRef?.current||!!X.current||!!z.current||!!U.current||!!G.current||!!k.current||Vn.current,qe=x&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&qe){const Se=r.flowers.find(ye=>ye.id===x);if(Se){const ye=be(xe);if(Pe.current&&!vn.current){if(Math.hypot(ye.x-Pe.current.x,ye.y-Pe.current.y)<Dl){const{zone:Te}=si(ye.x,ye.y,Se,r,a);Te==="center"&&(vt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}vn.current=!0,Pe.current=null}const{zone:Ae,layerId:je,petalIndex:we}=si(ye.x,ye.y,Se,r,a),{length:Fe}=Et(Se.fabricSquareSize??r.fabricSquareSize),$e=z0(Ae,a.kind,{hitLayerId:je,flower:Se,length:Fe});$e!=="none"&&(Ht.current=$e,gn.current=je,Jn.current=we);const We=Ud($e,"/tsumami/");vt(We),D.current&&(D.current.style.cursor=We)}}if(!ke&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){const ye=be(xe);if(Pe.current&&!vn.current){if(Math.hypot(ye.x-Pe.current.x,ye.y-Pe.current.y)<Dl)return;vn.current=!0,Pe.current=null}const Ae=sm(ye.x,ye.y,Se,r);Ae!=="none"&&(an.current=Ae);const je=lr(Ae,"/tsumami/");vt(je),D.current&&(D.current.style.cursor=je)}}},onPointerUp:xe=>{if(!he.current&&!De.current){if(Gn(null),X.current&&Nl&&ia(!1),R(),T(),p(),M(),Z(),I(),B(),Vn.current&&(Vn.current=!1,D.current&&(D.current.style.cursor=Nl?"crosshair":"grab")),Re.touchBgStartRef.current&&xe.pointerType==="touch"){const ke=xe.clientX-Re.touchBgStartRef.current.x,qe=xe.clientY-Re.touchBgStartRef.current.y;Math.hypot(ke,qe)<pn&&i({kind:"project"}),Re.setTouchBgStart(null);return}if(Re.setTouchBgStart(null),Re.mouseBgStartRef.current&&xe.pointerType==="mouse"){const ke=xe.clientX-Re.mouseBgStartRef.current.x,qe=xe.clientY-Re.mouseBgStartRef.current.y;if(Re.setMouseBgStart(null),Math.hypot(ke,qe)<kt){i({kind:"project"});return}}if(Re.setMouseBgStart(null),x){const ke=r.flowers.find(qe=>qe.id===x);if(ke){const qe=be(xe);if(Pe.current&&Math.hypot(qe.x-Pe.current.x,qe.y-Pe.current.y)<Dl){const{zone:We}=si(qe.x,qe.y,ke,r,a);We==="center"&&(vt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:ye,petalIndex:Ae}=si(qe.x,qe.y,ke,r,a),{length:je}=Et(ke.fabricSquareSize??r.fabricSquareSize),we=z0(Se,a.kind,{hitLayerId:ye,flower:ke,length:je});we!=="none"&&(Ht.current=we,gn.current=ye,Jn.current=Ae);const Fe=Ud(we,"/tsumami/");vt(Fe),D.current&&(D.current.style.cursor=Fe)}}}},onPointerLeave:()=>{R(),T(),p(),M(),Z(),I(),B(),Vn.current=!1,Re.setTouchBgStart(null),Re.setMouseBgStart(null),vt("grab"),Pe.current=null,vn.current=!0,Ht.current="none",an.current="none",gn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,ke,qe,Se]=b.split(/\s+/).map(Number),ye=wa;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:ke,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),s.jsx("rect",{x:xe,y:ke,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:wa,height:wa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:wa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:wa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),_&&(()=>{const xe=ln,[ke,qe,Se,ye]=b.split(/\s+/).map(Number),Ae=Math.max(Se,ye)/xe,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Fe=Math.floor(ke/xe/we)*we-we,$e=Math.ceil((ke+Se)/xe/we)*we+we,We=Math.floor(qe/xe/we)*we-we,Je=Math.ceil((qe+ye)/xe/we)*we+we,Te=We*xe,qt=Je*xe,et=Fe*xe,Dt=$e*xe,rt=[];for(let lt=Fe;lt<=$e;lt+=we){const mt=lt*xe;rt.push(s.jsx("line",{x1:mt,y1:Te,x2:mt,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=We;lt<=Je;lt+=we){const mt=lt*xe;rt.push(s.jsx("line",{x1:et,y1:mt,x2:Dt,y2:mt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:rt})})(),s.jsx(Om,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:nt,clientToSvgPointRef:Ke,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),s.jsx(Ym,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:zt,dashSyncToken:L,stageRef:D,multiTouchRef:Re.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:fe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:J,beginScaleDrag:Q,beginRotationDrag:le,beginWidthScaleDrag:ce,beginRadiusDrag:de,clickOriginRef:Pe,zoneActivatedRef:vn,setZoneCursorValue:vt,setTouchZoneIndicator:Gn,hoverZoneRef:Ht,hoverHitLayerIdRef:gn,hoverHitPetalIndexRef:Jn}),s.jsx(Hm,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:L,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:zt,stageRef:D,applyUpdateRef:nt,clientToSvgPointRef:Ke,leafDraggingRef:De,clickOriginRef:Pe,zoneActivatedRef:vn,setZoneCursorValue:vt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:an}),s.jsx(Zm,{project:r,selection:a,selectedFlowerId:x,dashSyncToken:L}),s.jsx(Km,{rect:F}),s.jsx(Um,{indicator:fi})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Jd(c,r,a){return Math.min(a,Math.max(r,c))}function Ue({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:x,...g}){const[S,h]=ee.useState(null),d=ee.useRef(null),y=ee.useCallback(w=>{const D=Number(w);isNaN(D)||r(Jd(D,a,i)),h(null)},[r,a,i]),_=ee.useCallback(()=>{h(null)},[]),v=ee.useCallback(w=>{const D=f??1,m=(Number(S??c)||0)+D*w,L=Jd(m,a,i),Y=String(D).includes(".")?String(D).split(".")[1].length:0,q=Number(L.toFixed(Y));h(String(q)),r(q)},[S,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:x??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:S??String(c),onChange:w=>h(w.target.value),onFocus:w=>{h(String(c)),requestAnimationFrame(()=>w.target.select())},onBlur:()=>{S!==null&&y(S)},onKeyDown:w=>{w.key==="Enter"?(w.preventDefault(),S!==null&&y(S),d.current?.blur()):w.key==="Escape"?(w.preventDefault(),_(),d.current?.blur()):(w.key==="ArrowUp"||w.key==="ArrowDown")&&(w.preventDefault(),v(w.key==="ArrowUp"?1:-1))},...g}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:w=>{w.preventDefault(),v(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:w=>{w.preventDefault(),v(-1)},children:""})]})]})}function fr({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Wm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const x=ee.useMemo(()=>{const m=[...c.layers||[]].sort((F,J)=>F.order-J.order);if(m.length<2)return{mode:"uniform",step:2};const L=m.map(F=>F.scale??1);if(L.every(F=>Math.abs(F-L[0])<.001))return{mode:"uniform",step:2};const q=m[0],B=m[m.length-1],O=(B.order??1)-(q.order??1);if(O<=0)return{mode:"gradual",step:2};const R=((q.scale??1)-(B.scale??1))/O,X=Math.round(R*r*2)/2;return{mode:"gradual",step:pe(X,0,10)}},[c.id]),[g,S]=ee.useState(x.mode),[h,d]=ee.useState(x.step),[y,_]=ee.useState(0);ee.useEffect(()=>{S(x.mode),d(x.step),_(0)},[x]);const v=ee.useMemo(()=>[...c.layers||[]].sort((m,L)=>m.order-L.order),[c.layers]),w=v[0],D=w?w.order:0,b=ee.useMemo(()=>{if(!w)return[];const m=w.scale??1,L=w.radius,Y=new Map;for(const F of v){const J=F.order-D;if(J===0)Y.set(F.id,m);else if(g==="uniform")Y.set(F.id,m);else{const V=h/r;Y.set(F.id,pe(m-J*V,.3,3))}}const{length:q}=Et(r),B=v.length,O=70*Math.PI/180,H=new Map;let R=L;H.set(w.id,L);for(let F=1;F<B;F++){const J=v[F-1],V=Y.get(J.id)??1,I=q*V;let U;if(a===""){const j=B-1-F,p=B>1?j/(B-1)*O:0;U=I*(30/100)*Math.cos(p)}else U=I/3;R=R-U,H.set(v[F].id,Math.max(2,R))}const X=v.map(F=>{const J=Y.get(F.id)??1,V=Math.round((H.get(F.id)??L)*10)/10,I=Math.round(r*J*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:J,effFabricSize:I,effRadius:V}});if(X.length>0){const F=X[X.length-1],J=q*F.effScale,V=Math.floor(J*.28*10)/10;F.effRadius>V&&(F.effRadius=V)}return X},[v,w,D,g,h,30,r,a]);return ee.useEffect(()=>{y!==0&&(!w||b.length===0||i(m=>{const L=m.flowers.find(q=>q.id===c.id);if(!L)return;for(const q of b){const B=L.layers.find(O=>O.id===q.id);B&&(B.scale=pe(q.effScale,.3,3),B.radius=pe(q.effRadius,2,120))}const Y=[...L.layers].sort((q,B)=>B.order-q.order);for(let q=1;q<Y.length;q++){const B=Y[q-1],O=Y[q];O.offsetAngle=nl(B.petalCount,B.offsetAngle,O.petalCount)}}))},[y]),v.length<2?null:s.jsxs(fr,{title:"",children:[s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:g,onChange:m=>{S(m.target.value),_(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),g==="gradual"&&s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:m=>{d(m),_(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),b.map(m=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:m.name}),s.jsxs("span",{children:[" ",m.effFabricSize,"mm /  ",Math.round(ir(m.effRadius,m.effScale,r)),"mm"]})]},m.id))]})]})}const c1="tsumami_recent_colors_v1",Ys=10;function Jm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ts(){try{const c=localStorage.getItem(c1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Ys)}}catch{}return[]}function Vm(c){try{localStorage.setItem(c1,JSON.stringify(c.slice(0,Ys)))}catch{}}function Qm(c){const r=Ts(),a=[c,...r.filter(i=>i!==c)].slice(0,Ys);Vm(a)}function Wn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[x,g]=ee.useState(!1),S=ee.useRef(null),[h,d]=ee.useState(Ts);ee.useEffect(()=>{if(!x)return;const b=m=>{S.current&&!S.current.contains(m.target)&&g(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[x]);const y=ee.useMemo(()=>Jm(r),[r]),_=ee.useMemo(()=>{const b=new Set;b.add(a);for(const m of y)b.add(m);for(const m of h)b.add(m);return c.filter(m=>b.has(m.id))},[c,a,y,h]),v=ee.useCallback(b=>{Qm(b),d(Ts()),i(b)},[i]),w=f==="sm"?"h-4 w-4":"h-5 w-5",D=x?c:_;return s.jsx("div",{ref:S,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(b=>s.jsx("button",{className:`${w} rounded border-2 ${a===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>v(b.id)},b.id)),c.length>_.length&&s.jsx("button",{className:`${w} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>g(b=>!b),title:x?"":"","aria-label":x?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:x?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Pm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x&&(x.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(i=>{const f=a.layers.every(x=>x.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const g=x.flowers.find(S=>S.id===a.id);if(g)for(const S of g.layers)S.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:t1.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;g.placementMode=i;const S=g.fabricSquareSize??x.fabricSquareSize;i===""?g.baseDiameter=ar(g.flowerDiameter):g.baseDiameter||(g.baseDiameter=x.baseDiameter),Yh(g.layers,S,i,g.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ue,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x&&(x.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[ar(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const x=f.flowers.find(h=>h.id===a.id);if(!x)return;const g=xi(i);for(const h of x.layers)h.petalCount=i,h.widthScale=g;const S=[...x.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<S.length;h++)S[h].offsetAngle=nl(S[h-1].petalCount,S[h-1].offsetAngle,S[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const x=f.flowers.find(S=>S.id===a.id);if(!x)return;x.flowerDiameter=i,x.placementMode===""&&(x.baseDiameter=ar(i));const g=[...x.layers].sort((S,h)=>S.order-h.order);Q0(g,x.fabricSquareSize??f.fabricSquareSize,i);for(const S of g){const h=x.layers.find(d=>d.id===S.id);h&&(h.radius=S.radius,h.scale=S.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);if(x)for(const g of x.layers)g.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x&&(x.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);if(x)for(const g of x.layers)g.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);if(x)for(const g of x.layers)if(i.target.checked){if(!g.doublePetal){const S=g._doublePetalCache;g.doublePetal=S??{innerSizeReduction:2},delete g._doublePetalCache}}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(S=>S.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,x=[...new Set(a.layers.map(S=>S.doublePetal.innerColorId??S.colorId))],g=x.length===1?x[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:S=>r(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(y.doublePetal.innerSizeReduction=pe(S,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:g??"",onChange:S=>r(h=>{const d=h.flowers.find(y=>y.id===a.id);if(d)for(const y of d.layers)y.doublePetal&&(S===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=S)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Wh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x?.center&&(x.center.type=i,i===""&&!x.center.pepCount&&(x.center.pepCount=12),i===""&&!x.center.color2&&(x.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x?.center&&(x.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x?.center&&(x.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x?.center&&(x.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const x=f.flowers.find(g=>g.id===a.id);x?.center&&(x.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Wm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Fm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:x,onMergeGroups:g}){const S=a,h=[...new Set(S.flatMap(_=>_.layers.map(v=>v.petalType)))],d=h.length===1?h[0]:null,y=_=>{r(v=>{for(const w of S){const D=v.flowers.find(b=>b.id===w.id);D&&_(D)}},!0)};return s.jsxs(fr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(_=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:_.hex},title:_.name,onClick:()=>y(v=>{for(const w of v.layers)w.colorId=_.id})},_.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(v=>{for(const w of v.layers)w.petalType=_}),children:_},_))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:S[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:_=>{const v=xi(_);y(w=>{for(const b of w.layers)b.petalCount=_,b.widthScale=v;const D=[...w.layers].sort((b,m)=>m.order-b.order);for(let b=1;b<D.length;b++)D[b].offsetAngle=nl(D[b-1].petalCount,D[b-1].offsetAngle,D[b].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:S.map(_=>s.jsxs("div",{children:[_.name," (",_.layers.length,")"]},_.id))}),(()=>{const _=S.map(m=>ll(c,m.id)),v=S.filter(m=>!ll(c,m.id)).map(m=>m.id),w=[...new Set(_.filter(Boolean).map(m=>m.id))],D=v.length===S.length,b=w.length===1&&_.every(m=>m!=null);return s.jsxs(s.Fragment,{children:[D&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(S.map(m=>m.id)),children:""}),b&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(w[0]),children:""}),w.length===1&&v.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(w[0],v),children:[" (+",v.length,")"]}),w.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(w,v),children:[" (",w.length,"",v.length>0?` +${v.length}`:"",")"]})]})})()]})}function $m({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:x,onUngroupAll:g}){const S=i.find(w=>w.id===f);if(!S)return null;const h=a,d=(c.leaves??[]).filter(w=>S.leafIds.includes(w.id)),y=[...new Set(h.flatMap(w=>w.layers.map(D=>D.petalType)))],_=y.length===1?y[0]:null,v=w=>{r(D=>{for(const b of h){const m=D.flowers.find(L=>L.id===b.id);m&&w(m)}},!0)};return s.jsxs(fr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:w=>r(D=>{const b=(D.groups??[]).find(m=>m.id===S.id);b&&(b.name=w.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[h.length>0&&s.jsxs("span",{children:[h.length,""]}),h.length>0&&d.length>0&&s.jsx("span",{children:" + "}),d.length>0&&s.jsxs("span",{children:[d.length,""]})]}),h.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(w=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>v(D=>{for(const b of D.layers)b.colorId=w.id})},w.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(D=>{for(const b of D.layers)b.petalType=w}),children:w},w))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:h[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const D=xi(w);v(b=>{for(const L of b.layers)L.petalCount=w,L.widthScale=D;const m=[...b.layers].sort((L,Y)=>Y.order-L.order);for(let L=1;L<m.length;L++)m[L].offsetAngle=nl(m[L-1].petalCount,m[L-1].offsetAngle,m[L].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[h.map(w=>s.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id)),d.map(w=>s.jsx("div",{children:w.name},w.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(S.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>g(S.id),children:""})]})}function eb({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:x,onAddLeavesToGroup:g,onMergeGroups:S}){const h=c.flowers.filter(Y=>r.includes(Y.id)),d=(c.leaves??[]).filter(Y=>a.includes(Y.id)),y=r.map(Y=>ll(c,Y)),_=a.map(Y=>jl(c,Y)),v=[...y,..._],w=r.filter(Y=>!ll(c,Y)),D=a.filter(Y=>!jl(c,Y)),b=[...new Set(v.filter(Boolean).map(Y=>Y.id))],m=w.length+D.length===r.length+a.length,L=b.length===1&&v.every(Y=>Y!=null);return s.jsxs(fr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",h.length," +  ",d.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[h.map(Y=>s.jsxs("div",{children:[" ",Y.name]},Y.id)),d.map(Y=>s.jsxs("div",{children:[" ",Y.name||""]},Y.id))]}),s.jsxs(s.Fragment,{children:[m&&h.length+d.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),L&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&(w.length>0||D.length>0)&&!m&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{w.length>0&&x(b[0],w),D.length>0&&g(b[0],D)},children:[" (+",w.length+D.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>S(b,w),children:[" (",b.length,")"]})]})]})}function tb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:i.petalCount,onChange:f=>{r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);if(S){S.petalCount=f,S.widthScale=xi(f);const h=[...g.layers].sort((d,y)=>y.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=nl(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(ir(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.radius=pe(Oh(f,S.scale??1,g.fabricSquareSize??x.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(x=>{const g=x.flowers.find(_=>_.id===a.id);if(!g)return;const S=g.layers.find(_=>_.id===i.id);if(!S)return;const h=g.fabricSquareSize??x.fabricSquareSize;S.scale=pe(Math.round(f/h*100)/100,.3,3);const d=[...g.layers].sort((_,v)=>_.order-v.order),y=d.findIndex(_=>_.id===S.id);if(y>=0)for(let _=y-1;_>=0;_--){const v=d[_],w=d[_+1],b=Et(h).length*(w.scale??1)/3;v.radius=Math.round((w.radius+b)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);if(S)if(f.target.checked){const h=S._doublePetalCache;S.doublePetal=h??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S?.doublePetal&&(S.doublePetal.innerSizeReduction=pe(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S?.doublePetal&&(f===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(x=>{const g=x.flowers.find(h=>h.id===a.id);if(!g)return;const S=g.layers.find(h=>h.id===i.id);S&&(S.locked=f.target.checked)})}),""]})]})]})]})}function nb({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,x=f.map(m=>{const L=a.layers.find(Y=>Y.id===m.layerId);return{...m,layer:L}}).filter(m=>m.layer!=null),g=(m,L)=>{const Y=a.layers.find(B=>B.id===m);return Y?(Y?.petalOverrides?.find(B=>B.index===L)??null)?.colorId??Y.colorId:null},S=(m,L)=>{const Y=a.layers.find(B=>B.id===m);return Y?(Y?.petalOverrides?.find(B=>B.index===L)??null)?.petalType??Y.petalType:null},h=x.map(m=>g(m.layerId,m.index)),d=x.map(m=>S(m.layerId,m.index)),y=h.length>0&&h.every(m=>m===h[0]),v=d.length>0&&d.every(m=>m===d[0])?d[0]:null,w=m=>{r(L=>{const Y=L.flowers.find(q=>q.id===a.id);if(Y)for(const q of f){const B=Y.layers.find(H=>H.id===q.layerId);if(!B)continue;B.petalOverrides||(B.petalOverrides=[]);const O=B.petalOverrides.find(H=>H.index===q.index);if(O)m.colorId!==void 0&&(m.colorId===B.colorId?delete O.colorId:O.colorId=m.colorId),m.petalType!==void 0&&(m.petalType===B.petalType?delete O.petalType:O.petalType=m.petalType),!O.colorId&&!O.petalType&&(B.petalOverrides=B.petalOverrides.filter(H=>H.index!==q.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0));else{const H={index:q.index};m.colorId!==void 0&&m.colorId!==B.colorId&&(H.colorId=m.colorId),m.petalType!==void 0&&m.petalType!==B.petalType&&(H.petalType=m.petalType),(H.colorId!==void 0||H.petalType!==void 0)&&B.petalOverrides.push(H)}}},!0)},D=()=>{r(m=>{const L=m.flowers.find(Y=>Y.id===a.id);if(L)for(const Y of f){const q=L.layers.find(B=>B.id===Y.layerId);!q||!q.petalOverrides||(q.petalOverrides=q.petalOverrides.filter(B=>B.index!==Y.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0))}},!0)},b=x.some(m=>m.layer?.petalOverrides?.find(L=>L.index===m.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",b&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(m=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${y&&h[0]===m.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>w({colorId:m.id})},m.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(m=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>w({petalType:m}),children:m},m))})]}),b&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function lb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const x=i?.petalOverrides?.find(_=>_.index===f)??null,g=x?.colorId??i.colorId,S=x?.petalType??i.petalType,h=x!=null,d=_=>{r(v=>{const w=v.flowers.find(m=>m.id===a.id);if(!w)return;const D=w.layers.find(m=>m.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const b=D.petalOverrides.find(m=>m.index===f);if(b)_.colorId!==void 0&&(b.colorId=_.colorId),_.petalType!==void 0&&(b.petalType=_.petalType),_.innerColorId!==void 0&&(b.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(b.innerSizeReduction=_.innerSizeReduction),b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0?(b.colorId===void 0&&delete b.colorId,b.petalType===void 0&&delete b.petalType,b.innerColorId===void 0&&delete b.innerColorId,b.innerSizeReduction===void 0&&delete b.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(L=>L.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const m={index:f};_.colorId!==void 0&&(m.colorId=_.colorId),_.petalType!==void 0&&(m.petalType=_.petalType),_.innerColorId!==void 0&&(m.innerColorId=_.innerColorId),_.innerSizeReduction!==void 0&&(m.innerSizeReduction=_.innerSizeReduction),(m.colorId!==void 0||m.petalType!==void 0||m.innerColorId!==void 0||m.innerSizeReduction!==void 0)&&D.petalOverrides.push(m)}},!0)},y=()=>{r(_=>{const v=_.flowers.find(D=>D.id===a.id);if(!v)return;const w=v.layers.find(D=>D.id===i.id);!w||!w.petalOverrides||(w.petalOverrides=w.petalOverrides.filter(D=>D.index!==f),w.petalOverrides.length===0&&(w.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:g,onChange:_=>{_===i.colorId?d({colorId:void 0}):d({colorId:_})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{_===i.petalType?d({petalType:void 0}):d({petalType:_})},children:_},_))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:_=>r(v=>{const w=v.flowers.find(b=>b.id===a.id);if(!w)return;const D=w.layers.find(b=>b.id===i.id);if(D)if(_.target.checked){const b=D._doublePetalCache;D.doublePetal=b??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const _=i.doublePetal,v=x?.innerSizeReduction??_.innerSizeReduction,w=x?.innerColorId??_.innerColorId??g;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",x?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ue,{min:1,max:30,step:1,value:v,onChange:D=>{const b=pe(D,1,30);b===_.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:b})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:w,size:"sm",onChange:D=>{const b=_.innerColorId??i.colorId;d(D===b?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:y,children:""})]})]})}function ab({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,x=g=>{r(S=>{const h=(S.stencils??[]).find(d=>d.id===f.id);h&&Object.assign(h,g)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:g=>x({variant:g.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(g=>s.jsx("option",{value:g,children:i1[g]},g))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:g=>x({pose:g.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(g=>s.jsx("option",{value:g,children:r1[g]},g))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:g=>x({locked:g.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function ib({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:x,onRemoveLeafFromGroup:g}){const S=a,h=y=>{r(_=>{const v=(_.leaves??[]).find(w=>w.id===S.id);v&&y(v)},!0)},d=jl(c,S.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:y=>h(_=>{_.name=y.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S.petalType===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(_=>{_.petalType=y}),children:y},y))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:S.colorId,onChange:y=>h(_=>{_.colorId=y})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((S.fabricSquareSize??c.fabricSquareSize)*(S.scale??1)*10)/10,onChange:y=>h(_=>{const v=_.fabricSquareSize??c.fabricSquareSize;_.scale=pe(Math.round(y/v*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(S.scale??1).toFixed(2),onChange:y=>h(_=>{_.scale=y})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(S.widthScale??1).toFixed(2),onChange:y=>h(_=>{_.widthScale=y})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(S.rotation).toFixed(1),onChange:y=>h(_=>{_.rotation=y})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.doublePetal,onChange:y=>h(_=>{if(y.target.checked){const v=_._doublePetalCache;_.doublePetal=v??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),S.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:S.doublePetal.innerSizeReduction,onChange:y=>h(_=>{_.doublePetal&&(_.doublePetal.innerSizeReduction=pe(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:S.doublePetal.innerColorId??S.colorId,onChange:y=>h(_=>{_.doublePetal&&(y===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=y)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.visible,onChange:y=>h(_=>{_.visible=y.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.locked,onChange:y=>h(_=>{_.locked=y.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>g(S.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:y=>{y.target.value&&x(S.id,y.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(S.id),children:""})]})]})}function rb({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:x,onMergeLeafGroups:g}){const S=(c.leaves??[]).filter(h=>a.includes(h.id));return S.length===0?null:s.jsxs(fr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Wn,{palette:c.palette,project:c,selectedColorId:"",onChange:h=>r(d=>{for(const y of a){const _=(d.leaves??[]).find(v=>v.id===y);_&&(_.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:al.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(d=>{for(const y of a){const _=(d.leaves??[]).find(v=>v.id===y);_&&(_.petalType=h)}},!0),children:h},h))}),(()=>{const h=S.map(w=>jl(c,w.id)),d=S.filter(w=>!jl(c,w.id)).map(w=>w.id),y=[...new Set(h.filter(Boolean).map(w=>w.id))],_=d.length===S.length,v=y.length===1&&h.every(w=>w!=null);return s.jsxs(s.Fragment,{children:[_&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),v&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(y[0]),children:""}),y.length===1&&d.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(y[0],d),children:[" (+",d.length,")"]}),y.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(y,d),children:[" (",y.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function cb(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:x,selectedLayer:g,selectedPetalIndex:S,selectedPetals:h}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(y=>y.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(y=>y.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(y=>y.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",aa(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",aa(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(y=>y.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Pm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&x.length>0&&s.jsx(Fm,{project:r,applyUpdate:i,selectedFlowers:x,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx($m,{project:r,applyUpdate:i,selectedFlowers:x,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&g&&s.jsx(tb,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:g}),a.kind==="petals"&&f&&h.length>0&&s.jsx(nb,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:h}),a.kind==="petal"&&f&&g&&S!==null&&s.jsx(lb,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:g,selectedPetalIndex:S}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(ab,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(ib,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(rb,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx(eb,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function ub(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?aa(c.baseDiameter,c.fabricSquareSize,r).diameter:cr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function sb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Bh(c.flowerDiameter,c.baseDiameter,r):qh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function ob({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const x=h=>{a(d=>{const y={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(y.baseDiameter=30,y.fabricSquareSize=20,y.layerCount=4,y.petalCount=12):(y.fabricSquareSize=20,y.layerCount=1,y.petalCount=6)),y.flowerDiameter=ub(y),y})},g=h=>{a(d=>{const y={...d,flowerDiameter:h};return y.fabricSquareSize=sb(y),y})},S=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&S.push("");const h=Ih(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&S.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:t1.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>x({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>x({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>x({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>x({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:g})]})]}),S.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:S.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>x({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function xb(c){return Math.round(c*Math.SQRT2/2*10)/10}function fb(c){return Math.round(c*Math.SQRT2*10)/10}function db({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const x=S=>{a(h=>({...h,fabricSquareSize:S,leafSizeMm:xb(S)}))},g=S=>{a(h=>({...h,leafSizeMm:S,fabricSquareSize:fb(S)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:S=>S.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:x})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:g})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===S.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>a(h=>({...h,colorId:S.id}))},S.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:al.map(S=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:S})),children:S},S))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const P0=Xn;function U0(){const c=["CgfYC2u","kg1PBI13Awr0AdOGnZy4ChGP","mJiXmdKYovPhsunXBq","Bg9jEfq","v2DlEha","EKvhzgO","A3DXD04","Bwf4","mtqYmZG5BNn6wLzl","y2XPzw50wa","yM9KEq","Bwf0y2HnzwrPyq","Cg9PBNrLCNvW","y2HHBMDL","vvPtzKu","ntG1ofDQEgXPvW","BM9Uzq","C3rHCNry","B2X3ALO","Dw5KzwzPBMvK","mtmWotG4nfnnrxz0zq","s1PkEhq","CM91BMq","D29TELa","D2LKDgG","BgvMDa","zKrNDeS","odCXoeTKBgjqsa","EfrqELa","CMvTB3zLrxzLBNrmAxn0zw5LCG","C3r5Bgu","Dg9tDhjPBMC","DLHXAxm","C2v0sxrLBq","C2vHCMnO","mteZqMTVzgPx","DxnLCLnLBgvJDa","Cg9PBNrLCM1VDMu","C2LKzq","zNjPEfG","mti4nJi5mgDNqxrIsq","CMLNAhq","y3vYC29Y","z2v0sxrLBq","C3rHCNrxAwr0Ahm","mte5nwnztenpAW","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","ywrKrxzLBNrmAxn0zw5LCG","mti3mZa1zfjnDgPn","s0PYzeC","D1zZyvi","Au1AAxu","y3vYCMvUDa","BwLU","C3bSAxq","mJrMCxbgv2u"];return U0=function(){return c},U0()}(function(c,r){const a=Xn,i=c();for(;;)try{if(-parseInt(a(483))/1*(-parseInt(a(463))/2)+parseInt(a(496))/3+-parseInt(a(468))/4+parseInt(a(493))/5*(-parseInt(a(475))/6)+parseInt(a(450))/7+parseInt(a(447))/8*(parseInt(a(456))/9)+parseInt(a(488))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,190613);const hb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ls=hb(void 0,function(){const c=Xn,r={PLQZd:"(((.+)+)+)+$"};return Ls[c(479)]()[c(482)]("(((.+)+)+)+$")[c(479)]().constructor(Ls).search(r.PLQZd)});Ls();const u1=P0(494),s1={left:25,right:25},Es=15,ks=15,or=30;function Xn(c,r){c=c-443;const a=U0();let i=a[c];if(Xn.uMmmPM===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Xn.aJxAhN=f,Xn.FnVnyr={},Xn.uMmmPM=!0}const x=a[0],g=c+x,S=Xn.FnVnyr[g];if(S)i=S;else{const h=function(d){this.OEskKv=d,this.bckVUw=[1,0,0],this.tOryTW=function(){return"newState"},this.HxRKXf="\\w+ *\\(\\) *{\\w+ *",this.GXPtGv=`['|"].+['|"];? *}`};h.prototype.joFPSd=function(){const d=new RegExp(this.HxRKXf+this.GXPtGv),y=d.test(this.tOryTW.toString())?--this.bckVUw[1]:--this.bckVUw[0];return this.iqFctr(y)},h.prototype.iqFctr=function(d){return~d?this.pETGiB(this.OEskKv):d},h.prototype.pETGiB=function(d){for(let y=0,_=this.bckVUw.length;y<_;y++)this.bckVUw.push(Math.round(Math.random())),_=this.bckVUw.length;return d(this.bckVUw[0])},new h(Xn).joFPSd(),i=Xn.aJxAhN(i),Xn.FnVnyr[g]=i}return i}function mb(){const c=P0,r={uXHHn:"0|3|4|2|5|1",KZJxt:"pointerup",nJUnk:c(485),olwjZ:c(443),mFLrw:"QJddl",YOijt:function(a,i){return a===i},cKzCG:"number",kwqwN:function(a,i){return a>=i}};try{if(r[c(466)]!==c(480)){const a=localStorage[c(491)](u1);if(a)if(r.mFLrw==="QJddl"){const i=JSON[c(448)](a);if(r.YOijt(typeof i.left,r.cKzCG)&&typeof i[c(489)]=="number"&&r[c(454)](i.left,Es)&&r[c(454)](i[c(489)],ks)&&r[c(454)](100-i[c(473)]-i.right,or))return i}else return()=>{_0x4843f4.current?.()}}else{const a=r.uXHHn[c(446)]("|");let i=0;for(;;){switch(a[i++]){case"0":_0x184d6f.current=null;continue;case"1":_0xd69605[c(477)](r[c(469)],_0x4970e8);continue;case"2":_0x1a4b4d[c(458)].style.userSelect="";continue;case"3":_0x1fb1d8(!1);continue;case"4":_0x29110a[c(458)][c(478)].cursor="";continue;case"5":_0x533848[c(477)](r.nJUnk,_0x552ef5);continue}break}}}catch{}return s1}function Vd(c,r){const a=P0,i={YTLzy:function(S,h){return S-h},jWbdV:function(S,h){return S-h},loIxT:function(S,h){return S/h},UZSfE:function(S,h){return S*h}};let f=Math.max(Es,c),x=Math[a(455)](ks,r);const g=i.YTLzy(i.YTLzy(100,f),x);if(g<or){const S=i.jWbdV(or,g);f-=S/2,x-=S/2,f=Math.max(Es,f),x=Math.max(ks,x)}return{left:Math[a(470)](f*100)/100,right:i[a(451)](Math.round(i[a(462)](x,100)),100)}}function bb(){const c=P0,r={fDgtK:c(461),JHWJM:function(D,b){return D===b},womzP:function(D,b){return D===b},SnJfB:"left",BarZU:function(D,b){return D+b},NYQID:function(D,b){return D-b},wVsaR:function(D,b){return D-b},WgKxp:function(D,b){return D(b)},xTPzP:c(460),GdfGk:"col-resize",KJrdG:c(464),MXEcw:"pointermove",frixX:function(D,b,m){return D(b,m)}},[a,i]=ee.useState(mb),f=r[c(452)](ee.useRef,null),x=r[c(452)](ee.useRef,null),[g,S]=ee.useState(!1),[h,d]=ee.useState(()=>typeof window!==c(467)?window.matchMedia(c(449)).matches:!0);ee.useEffect(()=>{const D=c,b=window[D(459)](D(449)),m=L=>d(L.matches);return b[D(495)](r[D(474)],m),()=>b[D(477)](D(461),m)},[]),r[c(487)](ee.useEffect,()=>{const D=c;localStorage[D(481)](u1,JSON.stringify(a))},[a]);const y=r[c(452)](ee.useRef,a);ee.useEffect(()=>{y.current=a},[a]);const _=ee.useCallback((D,b)=>{const m=c,L={CRopy:r[m(476)],UjBeu:m(485),zEGdj:function(O,H){return O(H)}};b.preventDefault();const Y=f.current;if(!Y)return;x.current={side:D,startX:b.clientX,startWidths:{...y.current}},S(!0),document[m(458)].style.cursor=r.GdfGk,document.body.style.userSelect=r[m(497)];const q=O=>{const H=m,R=x.current;if(!R)return;const X=Y.getBoundingClientRect()[H(472)];if(r.JHWJM(X,0))return;const F=O[H(457)]-R[H(465)],J=F/X*100;if(r[H(471)](R[H(486)],r.SnJfB)){const V=r.BarZU(R.startWidths[H(473)],J),I=r.NYQID(r[H(498)](100,R.startWidths[H(489)]),or);r.WgKxp(i,Vd(Math[H(445)](V,I),R.startWidths.right))}else{const V=R[H(492)][H(489)]-J,I=r.wVsaR(100-R[H(492)][H(473)],or);i(Vd(R[H(492)].left,Math.min(V,I)))}},B=()=>{const O=m;x[O(444)]=null,S(!1),document[O(458)].style[O(490)]="",document[O(458)][O(478)][O(484)]="",window.removeEventListener("pointermove",q),window[O(477)]("pointerup",B)};window.addEventListener(r.MXEcw,q),window[m(495)]("pointerup",B),v[m(444)]=()=>{const O=m,H="3|1|0|5|4|2".split("|");let R=0;for(;;){switch(H[R++]){case"0":x[O(444)]=null;continue;case"1":window.removeEventListener(L.CRopy,B);continue;case"2":document.body.style[O(484)]="";continue;case"3":window.removeEventListener(L.UjBeu,q);continue;case"4":document[O(458)][O(478)].cursor="";continue;case"5":L[O(453)](S,!1);continue}break}}},[]),v=r.WgKxp(ee.useRef,null);r[c(487)](ee.useEffect,()=>()=>{v.current?.()},[]);const w=ee.useCallback(()=>{r.WgKxp(i,s1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:_,onDividerDoubleClick:w,isDragging:g,isDesktop:h}}function Qd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}function Tt(c,r){c=c-255;const a=Z0();let i=a[c];if(Tt.yXtLms===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Tt.luXbAf=f,Tt.PEtInV={},Tt.yXtLms=!0}const x=a[0],g=c+x,S=Tt.PEtInV[g];if(S)i=S;else{const h=function(d){this.Maflmp=d,this.StNSza=[1,0,0],this.FRJhLx=function(){return"newState"},this.fxpicR="\\w+ *\\(\\) *{\\w+ *",this.iOQVhh=`['|"].+['|"];? *}`};h.prototype.VDMQMc=function(){const d=new RegExp(this.fxpicR+this.iOQVhh),y=d.test(this.FRJhLx.toString())?--this.StNSza[1]:--this.StNSza[0];return this.hzOdyl(y)},h.prototype.hzOdyl=function(d){return~d?this.LAzSVb(this.Maflmp):d},h.prototype.LAzSVb=function(d){for(let y=0,_=this.StNSza.length;y<_;y++)this.StNSza.push(Math.round(Math.random())),_=this.StNSza.length;return d(this.StNSza[0])},new h(Tt).VDMQMc(),i=Tt.luXbAf(i),Tt.PEtInV[g]=i}return i}(function(c,r){const a=Tt,i=c();for(;;)try{if(-parseInt(a(355))/1+-parseInt(a(304))/2*(parseInt(a(352))/3)+-parseInt(a(347))/4+-parseInt(a(275))/5*(parseInt(a(329))/6)+parseInt(a(288))/7*(-parseInt(a(314))/8)+parseInt(a(371))/9+-parseInt(a(309))/10*(-parseInt(a(409))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,894571);const gb=(function(){const c={YCYWK:function(a,i){return a!==i}};let r=!0;return function(a,i){const f=Tt;if(c.YCYWK(f(289),f(289)))_0x13152d[f(370)]=_0x391322(_0x24f850.petalCount,_0x38a8b0[f(370)]??0,_0x1e62c9);else{const x=r?function(){const g=f;if(i){const S=i[g(298)](a,arguments);return i=null,S}}:function(){};return r=!1,x}}})(),qs=gb(void 0,function(){const c=Tt,r={WTrWn:"(((.+)+)+)+$"};return qs.toString()[c(374)](r[c(300)]).toString().constructor(qs).search(c(428))});qs();function Z0(){const c=["DvjgwxO","Dw5ZAgLMDa","DMDlwKq","zMfICMLJu3f1yxjLu2L6zq","vurWuNu","s0n2DNa","CgXHy2vTzw50tw9Kzq","EwHYBNm","CfnmEgW","r29xq2i","txzYvuS","Cgv0ywXdB3vUDa","Aw5JBhvKzxm","Bgf5","ntCZodKZnNLTrLHJra","AKDWAha","ruzqDg0","sg1Qq1O","B3nABeG","mti3odm3mMfXvLfSva","u1bduva","zK1Yz1C","mtqWndCZm1LIEhHiyW","Aw5KzxG","rhjRCem","CLr4qKm","BK5mC1K","z3jVDxbjza","BwfW","ELzvsxy","ywjdsLi","DM1Vr3y","Au1iyuS","q0vTAeK","BgvUz3rO","run5AeC","y2PcB0u","B2zMC2v0qw5NBgu","odCYmti3oufyEgj3BG","ruf1y1K","CgH5wfe","C2vHCMnO","rNvxq08","tNbwrxi","BgvHDMvZ","BLrXzNy","Cgv0ywXZ","u1DJAu0","Cgv0ywW","Bgf5zxjjza","ChjLDMLVDxnhCM91Chm","Dg1crw0","vg5Zswy","ChrpvLi","zMXVD2vYrgLHBwv0zxi","z3jVDxa","z3jW","su1Xt24","wNjZAxK","qLLmDKG","t3v0zxiR","AgfZ","rfDUqwW","B0T5vey","rg5tq0W","v0zsvLy","A1DzA1K","yNLODfu","BgvHzG","sg9zrg0","zgLHBwv0zxi","Evvfsvm","z3boCg8","EMnAC2K","weLItgS","q1DYCvm","mJG0oxHqtNHnAG","tLzTCgG","AvrnEfO","AMDWANq","tfHJvgm","wMPMCgK","Bwf0y2G","C3rLBMnPBa","BMfTzq","vMj3uLe","uKDxCuy","qwHts1O","z3jVDxbZ","EgLcq04","AunsBLC","BhzTAfi","CMfKAxvZ","uwLpwfy","C3LureW","kcGOlISPkYKRksSK","Bgf5zxjZ","A2LUza","rKzTEeq","CMv2zxjZzq","zMLUza","t2Powhe","r2PruNi","ChjVAMvJDa","C2XPy2u","Bwf4","BwL4zwq","uKv2BNK","yKvxre0","C29YDa","EKrSz0K","wMr3zgW","C2nHBgu","zMXVD2vYswq","rxforhu","C3rS","t011wgG","BgvHzKLKCW","ChvZAa","uwPwDK0","BwXcAMm","AgXNDey","44kW44oR44o844oxia","rKzytgW","suzrCM8","quvyAgG","B3DJyLq","DNzQtxO","BNrLtKS","zMXVD2vYCW","A2ryBvO","mtvRtwTPqvu","zMXVD2vY","qxPNDg8","Bgf5zxi","sgXbsfe","EKDzr2G","y1LtA08","B3jKzxi","rxrUAMS","AKLNAfa","C3rLBMnPBhm","thzxvfe","C1byBhK","mZe5owTyAM53vq","AK1Yz04","r0fOww4","uMrRCxe","zMXVD2vYswrZ","BfnIsve","BwvgBe0","yu50txO","EgXKvhm","CK56ug0","yxbWBhK","wNj6Dxm","v1rYv24","DwDVv3u","y29SB3jjza","BgvHzKLK","ohfpq2zPrG","zM9YrwfJAa","CM91BMq","CgfSzxr0zq","s0XXrxy","mJa3mZCWwwT3Bwfz","ywjZ","qM1Ru3a","qMzysfO","DuTMEe4","mtuYodHzCLb0zMu","rgzmzxi","vujyrwC","Bvb3yK0","s0zywxG","zMLSDgvY","zhDZt2e","Dvv2yvK","z2X6ueK","zhznugy","Dw5PzM9YBq","yMfZzurPyw1LDgvY","yMfJAW","C3fnBuq","z0HpDhe","ntyXmdz4z3HsD3G","DeXSr1C","thHpBgS","A2HwDMi"];return Z0=function(){return c},Z0()}function vb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:x,zoom:g,pan:S,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:y}){const _=Tt,v={BfXHZ:function(j,p){return j(p)},CWrqS:function(j,p){return j*p},SuTXS:function(j,p){return j/p},iCRnW:function(j,p){return j===p},xiBCN:_(431),rLTvL:function(j,p){return j+p},mPwbM:function(j,p){return j-p},TnsIf:function(j,p){return j>p},mfQgZ:function(j,p){return j!==p},tLlGW:function(j,p,z){return j(p,z)},osZlH:_(267),GXxfw:function(j,p){return j<=p},dwsOa:"OAwkn",LvWTQ:function(j,p){return j(p)},YXQvz:function(j,p,z,E){return j(p,z,E)},ONFPX:"uniform",uOBVv:function(j,p){return j<p},EAucY:"KWnmS",JqGXO:"YmhXP",uRFYz:function(j,p){return j-p},Zjfpi:function(j,p,z){return j(p,z)},CISMQ:_(389),xldTs:function(j,p){return j===p},UDpRu:"jIghP",Zdwdl:function(j,p,z,E){return j(p,z,E)},CEmhI:function(j,p){return j+p},WeAhd:"",vgKZD:function(j,p){return j(p)},nOlpO:"col_green",DfLer:function(j,p,z){return j(p,z)},Zrsiy:function(j,p){return j>p},oBJqg:"BREKV",DrkpC:function(j,p){return j===p},GoWCb:function(j,p){return j<=p},BQSWf:function(j,p,z){return j(p,z)},GAhYn:_(278),ugoWu:function(j,p){return j(p)},tmBEm:"flower",iTMxZ:function(j,p){return j(p)},gHOtq:function(j,p){return j(p)},RGWqF:_(439),COmqs:function(j,p,z,E,T){return j(p,z,E,T)},gvMrh:function(j,p,z,E){return j(p,z,E)},REvny:_(436),exVOE:function(j,p,z){return j(p,z)},AryTJ:function(j,p){return j===p},cYSkO:function(j,p){return j===p},jMubK:"rhssR",ezzEs:_(416),KFXYx:function(j,p){return j===p},gpNpo:_(379),zDlgI:function(j,p){return j(p)},JsdGe:"hVsRP",sPXly:function(j,p,z){return j(p,z)},lSbIQ:function(j,p){return j===p},jgpjt:function(j,p,z){return j(p,z)},iMHaK:"group",owcbT:function(j,p){return j(p)},XIbLk:function(j,p){return j===p},vmoGv:function(j,p){return j!==p},mUbRM:_(283),DWnAl:"FOAWr",Xrrag:"LPBOt",DnSCL:function(j,p,z){return j(p,z)},DgXuk:function(j,p){return j(p)},fPfzj:"nBBgE",UBqTF:function(j,p,z){return j(p,z)},OMuXh:function(j,p){return j/p},aNtMz:function(j,p){return j/p},gBmez:function(j,p){return j+p},QjVvM:function(j,p){return j===p},UBXEg:"back",SPCQP:"side",byhtU:function(j,p){return j*p},sqMmD:_(259),UiEIl:function(j,p){return j(p)},khVvb:function(j,p,z){return j(p,z)},nteNK:function(j,p){return j(p)},nTqfv:"flowers",IWXiF:"fvTOu",HlAHQ:function(j,p){return j===p},GjQRr:_(362),rTxBC:function(j,p){return j(p)},lpJuY:function(j,p){return j===p},IYOLF:function(j,p){return j===p},IMqOn:function(j,p){return j===p},cjBoE:"petal",luqdK:function(j,p){return j===p},IFQro:function(j,p){return j(p)},ECyhG:function(j,p){return j(p)},EqNDu:function(j,p){return j===p},uKfxN:_(401),LBrrr:function(j,p){return j!==p},NpVEr:_(375),ZXtbO:_(308),AhSKZ:function(j,p){return j(p)},rVqRh:function(j,p){return j!==p},Zrzus:"mlBjc",fJzhR:"leaves",RkkXa:function(j,p){return j===p},tfzml:"eMfPi",BYLvH:_(441),HoYDm:function(j,p){return j(p)},czcnk:function(j,p){return j!==p},GuSVe:function(j,p){return j===p},WFRVV:function(j,p){return j!==p},KxKgU:function(j,p){return j===p},IVUKq:_(297),HmjCZ:function(j,p){return j===p},qprXG:"acAzs",kdXmZ:function(j,p){return j(p)},krQxa:function(j,p,z){return j(p,z)},CYFSf:function(j,p,z){return j(p,z)}},w=j=>{const p=_,z={MvrUK:function(K,Z){return v[Tt(312)](K,Z)}},E=[...j[p(429)]][p(442)]((K,Z)=>K.order-Z.order),T=E[0];if(!T)return 28;const G=j.fabricSquareSize??c[p(336)],{length:N}=Et(G),M=v[p(408)](N,T[p(256)]??1);let k;if(j.placementMode==="")k=v.SuTXS(M,3);else if(v.iCRnW(v[p(422)],v.xiBCN)){const Z=70*Math.PI/180,Q=v.rLTvL(E.length,1),le=v.mPwbM(Q,1),ce=v.TnsIf(Q,1)?le/v[p(317)](Q,1)*Z:0;k=v.CWrqS(M,30/100)*Math.cos(ce)}else z[p(343)](_0x55767f,{kind:p(439),flowerIds:_0x3c3745,leafIds:_0x1e1f0a});return Math[p(306)](v.rLTvL(T[p(425)]??28,k)*10)/10},D=j=>{const p=_;if(v.mfQgZ(p(418),"YgWMW"))v.tLlGW(r,z=>{const E=p;if(z.flowers=(z.flowers||[])[E(319)](T=>T.id!==j),z.groups){for(const T of z.groups)T.flowerIds=T[E(292)][E(319)](G=>G!==j);z.groups=z[E(421)].filter(T=>T.flowerIds[E(367)]+T.leafIds[E(367)]>0)}},!0),i({kind:p(436)}),v[p(312)](f,z=>{const E={...z||{}};return delete E[j],E});else return},b=(j,p)=>{const z=_,E={qydTa:function(T,G){return v[Tt(312)](T,G)}};if(z(311)!==v[z(351)]){const T=c.flowers[z(433)](G=>G.id===j);if(T&&v.GXxfw((T[z(429)]||[]).length,1))if(v[z(320)]!=="OAwkn")E.qydTa(_0xbf0099,{kind:z(379),flowerId:_0x4da44c,petals:[..._0x12ed0f,{layerId:_0x6dc8c1,index:_0x1cdc16}]});else{v.LvWTQ(D,j);return}v[z(330)](r,G=>{const N=z,M=(G[N(273)]||[])[N(433)](k=>k.id===j);M&&(M.layers=(M[N(429)]||[])[N(319)](k=>k.id!==p),M.layers.slice()[N(442)]((k,K)=>k.order-K[N(282)]).forEach((k,K)=>k.order=K+1))},!0),i({kind:z(276),flowerId:j})}else if(_0x41d2d0[z(273)]=_0x6a2920.flowers.filter(T=>T.id!==_0xb6030a.flowerId),_0x5793d0[z(421)]){for(const T of _0xac2c9.groups)T.flowerIds=T[z(292)].filter(G=>G!==_0x56fb1b[z(257)]);_0x304f06.groups=_0x47fcac.groups.filter(T=>T[z(292)].length+T.leafIds.length>0)}},m=j=>{const p=_,z={vvjMz:function(E,T){return v.TnsIf(E,T)},abCJR:function(E,T,G){return v.Zjfpi(E,T,G)},OjNXq:function(E,T){return E(T)},aDDfM:v.CISMQ,ixkxi:function(E,T,G){return E(T,G)},aBUUU:function(E,T){return v[Tt(286)](E,T)}};if(v[p(296)](v[p(337)],p(284))){const E=c.flowers[p(433)](le=>le.id===j);if(!E)return;const T=[...E[p(429)]].sort((le,ce)=>le.order-ce.order),G=T[0],N=pe(G?.petalCount??6,5,24),M=T.map(le=>le[p(256)]??1),k=M.length<2||M.every(le=>Math[p(310)](le-M[0])<.001);let K=G?.scale??1;if(!k&&T.length>=2){const le=T[v.mPwbM(T[p(367)],1)],ce=(le.order??1)-(G[p(282)]??1);if(v[p(385)](ce,0)){const de=v.SuTXS(v.mPwbM(G.scale??1,le.scale??1),ce);K=v[p(255)](pe,v[p(366)](G.scale??1,de),.3,3)}}const Z=v.BfXHZ(w,E),Q={id:Lt(p(346)),name:p(393),order:1,petalType:G?.petalType??v.WeAhd,petalCount:N,radius:Z,scale:K,widthScale:v[p(335)](xi,N),offsetAngle:G?.offsetAngle??0,colorId:G?.[p(302)]??c[p(307)]?.[0]?.id??v.nOlpO,visible:!0,locked:!1};G&&(Q.offsetAngle=v.Zdwdl(nl,G.petalCount,G.offsetAngle??0,N)),v.DfLer(r,le=>{const ce=p,de=le.flowers[ce(433)](Ke=>Ke.id===j);if(!de)return;de.layers.forEach(Ke=>Ke[ce(282)]+=1),de[ce(429)][ce(334)](Q);const fe=Math.round(v.YXQvz(ir,Q[ce(425)],Q[ce(256)],de.fabricSquareSize??le.fabricSquareSize)),be=de.fabricSquareSize??le[ce(336)],he=de[ce(339)]===""?cr(be,de.layers.length,v.ONFPX,0):aa(de[ce(325)]??le[ce(325)],be,{layerCount:de[ce(429)][ce(367)]})[ce(403)];de[ce(387)]=Math[ce(438)](de.flowerDiameter||he,fe);const De=[...de[ce(429)]].sort((Ke,Xe)=>Ke[ce(282)]-Xe[ce(282)]),nt=De.reverse();for(let Ke=1;v.uOBVv(Ke,nt[ce(367)]);Ke++)if(v[ce(423)](v[ce(372)],v.JqGXO))_0x33f2b4.flowerIds=_0x310d6f.flowerIds.filter(Xe=>!_0x50ff3e[ce(345)](Xe)),_0x246e9b[ce(261)]=_0x438edc.leafIds[ce(319)](Xe=>!_0x29d6a7.includes(Xe));else{const Xe=nt[v[ce(333)](Ke,1)],dt=nt[Ke];dt.offsetAngle=nl(Xe.petalCount,Xe.offsetAngle,dt[ce(344)])}},!0),i({kind:"layer",flowerId:j,layerId:Q.id}),f(le=>({...le,[j]:!0}))}else{const E={glzPI:function(G,N,M){return z[p(363)](G,N,M)}},T=z[p(434)](_0xf5f3b7,z.aDDfM);z.ixkxi(_0x2baa99,G=>{const N=p;G[N(421)]||(G[N(421)]=[]);const M=G[N(421)][N(361)](K=>{const Z=N,Q=K.name[Z(415)](/^ (\d+)$/);return Q?E[Z(322)](_0x2829ce,Q[1],10):0}),k=z[N(271)](M.length,0)?_0x16ac68.max(...M)+1:1;G.groups.push({id:T,name:N(266)+k,flowerIds:[..._0x4fc2cb],leafIds:[],rotation:0})},!0),_0x548bb0({kind:"group",groupId:T}),z.aBUUU(_0x4079ad,G=>({...G,[T]:!0}))}},L=j=>{const p=_,z={kWYkY:function(N,M){return v[Tt(335)](N,M)},pSLxl:p(439),meFlM:p(273),LXcTc:function(N,M){return v[p(391)](N,M)},VUroO:function(N,M,k){return N(M,k)},phyXQ:function(N,M){return v[p(423)](N,M)},QiOXV:v.oBJqg,uUvaY:function(N,M){return N-M},jGphp:function(N,M,k,K){return N(M,k,K)}},E=c.flowers[p(433)](N=>N.id===j);if(!E||!E.layers||v[p(357)](E.layers.length,0))return;if(v[p(342)](E[p(429)][p(367)],1)){D(j);return}const T=[...E[p(429)]][p(442)]((N,M)=>N.order-M.order),G=T[0];G&&(v.BQSWf(r,N=>{const M=p,k=N[M(273)].find(Q=>Q.id===j);if(!k)return;k[M(429)]=k.layers.filter(Q=>Q.id!==G.id),k[M(429)].slice()[M(442)]((Q,le)=>Q[M(282)]-le.order)[M(305)]((Q,le)=>Q[M(282)]=le+1);const K=[...k[M(429)]][M(442)]((Q,le)=>Q.order-le.order),Z=k.fabricSquareSize??N.fabricSquareSize;if(z[M(413)](K.length,0)){z.VUroO(vs,K,Z);for(const ce of K){const de=k.layers.find(fe=>fe.id===ce.id);de&&(de[M(425)]=ce[M(425)])}const Q=K[0];k.flowerDiameter=Math.round(ir(Q.radius,Q.scale??1,Z));const le=[...K][M(432)]();for(let ce=1;ce<le.length;ce++)if(z[M(373)](z[M(426)],z.QiOXV)){const de=le[z[M(321)](ce,1)],fe=le[ce];fe[M(370)]=z[M(348)](nl,de.petalCount,de[M(370)],fe.petalCount)}else{const de=(_0x3e0299[M(421)]??[]).find(nt=>nt[M(261)][M(345)](_0x3192d1[M(303)])),fe=de?de[M(292)]:[],be=de?de[M(261)]:[_0x117b2d[M(303)]],he=[...new _0x144f18([...fe,..._0x30ec22])],De=[...new _0x245579([...be,..._0x59073d])];De[M(367)]>0?z[M(399)](_0x3c5830,{kind:z[M(341)],flowerIds:he,leafIds:De}):z.kWYkY(_0x1b5fe5,{kind:z[M(294)],flowerIds:he})}}},!0),v.xldTs(a[p(430)],v.GAhYn)&&a.layerId===G.id?v.ugoWu(i,{kind:v[p(384)],flowerId:j}):a.kind==="petal"&&a[p(382)]===G.id&&v[p(411)](i,{kind:p(276),flowerId:j}))},Y=()=>{const j=_,p={RTDHH:j(427)};if(!v[j(296)](a[j(430)],v.REvny)){if(a[j(430)]==="leaf"){y(a.leafId);return}if(a[j(430)]==="leaves"){const z=a.leafIds;r(E=>{const T=j;if(E[T(377)]=(E[T(377)]??[]).filter(G=>!z[T(345)](G.id)),E[T(421)]){for(const G of E[T(421)])G[T(261)]=G.leafIds[T(319)](N=>!z.includes(N));E.groups=E.groups[T(319)](G=>G.flowerIds.length+G.leafIds.length>0)}},!0),i({kind:j(436)});return}if(a.kind===v[j(419)]){const{flowerIds:z,leafIds:E}=a;v.exVOE(r,T=>{const G=j;if(T[G(273)]=T[G(273)].filter(N=>!z[G(345)](N.id)),T[G(377)]=(T[G(377)]??[]).filter(N=>!E[G(345)](N.id)),T[G(421)])if(G(396)!==p.RTDHH){for(const N of T.groups)N[G(292)]=N.flowerIds[G(319)](M=>!z.includes(M)),N.leafIds=N[G(261)][G(319)](M=>!E.includes(M));T.groups=T.groups.filter(N=>N[G(292)].length+N[G(261)].length>0)}else _0x3ff858[G(425)]=_0x571c03.radius,_0x280eab.scale=_0x567549[G(256)]},!0),v[j(335)](i,{kind:v.REvny});return}if(v.AryTJ(a[j(430)],"flowers")){const z=a[j(292)];r(E=>{const T=j;if(E[T(273)]=E[T(273)][T(319)](G=>!z[T(345)](G.id)),E.groups){for(const G of E[T(421)])G[T(292)]=G[T(292)][T(319)](N=>!z.includes(N));E[T(421)]=E[T(421)].filter(G=>G[T(292)][T(367)]+G.leafIds.length>0)}},!0),v[j(301)](i,{kind:"project"});return}if(v[j(281)](a.kind,j(388)))if(v.jMubK!==v.jMubK){const z=_0x2717cc.layers.find(E=>E.id===_0xc3a1d5.id);z&&(z[j(425)]=_0x3e7ef1[j(425)],z[j(256)]=_0xae9044.scale)}else{v[j(315)](r,z=>{const E=j;z.groups&&(z[E(421)]=z[E(421)][E(319)](T=>T.id!==a.groupId))},!0),i({kind:"project"});return}if(a[j(430)]===v.ezzEs){r(z=>{const E=j;z.stencils=(z[E(285)]??[])[E(319)](T=>T.id!==a.stencilId)},!0),i({kind:"project"});return}if(v[j(318)](a[j(430)],v[j(405)])){v[j(443)](i,{kind:j(276),flowerId:a[j(257)]});return}if(a[j(430)]==="flower")if(v.mfQgZ(v.JsdGe,v.JsdGe))_0x2092f0.length>0?v[j(328)](_0x5973a1,{kind:v[j(419)],flowerIds:_0x55efee,leafIds:_0x22dbf4}):_0x36e278.length===1?_0x42bddf({kind:v[j(384)],flowerId:_0xda12fc[0]}):_0x5afa75({kind:"flowers",flowerIds:_0x3e4e8c});else{v[j(287)](r,z=>{const E=j;if(z[E(273)]=z.flowers.filter(T=>T.id!==a[E(257)]),z.groups){for(const T of z.groups)T[E(292)]=T.flowerIds[E(319)](G=>G!==a[E(257)]);z[E(421)]=z.groups.filter(T=>T.flowerIds.length+T[E(261)][E(367)]>0)}},!0),v[j(286)](i,{kind:v[j(440)]});return}if(v.cYSkO(a.kind,v[j(290)])||v[j(293)](a[j(430)],"petal")){const z=c[j(273)][j(433)](T=>T.id===a.flowerId),E=z?v.KFXYx([...z[j(429)]].sort((T,G)=>T[j(282)]-G.order)[0]?.id,a.layerId):!1;v.jgpjt(r,T=>{const G=j,N=T[G(273)].find(M=>M.id===a.flowerId);if(N&&(N[G(429)]=N.layers.filter(M=>M.id!==a[G(382)]),N[G(429)][G(437)]()[G(442)]((M,k)=>M[G(282)]-k[G(282)])[G(305)]((M,k)=>M.order=k+1),v.TnsIf(N[G(429)].length,0))){const M=[...N.layers][G(442)]((Z,Q)=>Z.order-Q.order),k=N[G(336)]??T[G(336)];vs(M,k);for(const Z of M){const Q=N.layers[G(433)](le=>le.id===Z.id);Q&&(Q.radius=Z[G(425)])}if(E){const Z=M[0];N.flowerDiameter=Math[G(306)](v.Zdwdl(ir,Z[G(425)],Z.scale??1,k))}else{const Z=v[G(423)](N[G(339)],"")?v.COmqs(cr,k,N[G(429)][G(367)],G(324),0):v.gvMrh(aa,N[G(325)]??T.baseDiameter,k,{layerCount:N[G(429)][G(367)]}).diameter;Q0(M,k,N.flowerDiameter||Z);for(const Q of M){const le=N.layers.find(ce=>ce.id===Q.id);le&&(le[G(425)]=Q.radius,le.scale=Q[G(256)])}}const K=[...M][G(432)]();for(let Z=1;Z<K.length;Z++){const Q=K[Z-1],le=K[Z];le.offsetAngle=nl(Q.petalCount,Q[G(370)],le.petalCount)}}},!0),i({kind:v[j(384)],flowerId:a.flowerId})}}},q=j=>({id:j.id,name:j.name,flowerIds:[...j.flowerIds],leafIds:[...j.leafIds],rotation:j.rotation}),B=v[_(412)](ee.useCallback,j=>{const p=_,z={awFAp:function(T,G){return v.TnsIf(T,G)}},E=Lt(p(389));v[p(414)](r,T=>{const G=p,N={EFPtm:function(K,Z,Q){return K(Z,Q)}};T.groups||(T.groups=[]);const M=T[G(421)][G(361)](K=>{const Z=G,Q=K.name[Z(415)](/^ (\d+)$/);return Q?N[Z(349)](parseInt,Q[1],10):0}),k=z.awFAp(M[G(367)],0)?Math[G(438)](...M)+1:1;T.groups.push({id:E,name:G(266)+k,flowerIds:[...j],leafIds:[],rotation:0})},!0),i({kind:"group",groupId:E}),v.vgKZD(x,T=>({...T,[E]:!0}))},[r,i,x]),O=ee.useCallback((j,p)=>{const z=_,E={fTvrQ:function(G,N){return G>N},nNLsY:function(G,N){return v.CEmhI(G,N)}},T=Lt(z(389));v[z(315)](r,G=>{const N=z;G[N(421)]||(G.groups=[]);const M=G[N(421)].map(K=>{const Z=K.name.match(/^ (\d+)$/);return Z?parseInt(Z[1],10):0}),k=E.fTvrQ(M.length,0)?E[N(359)](Math.max(...M),1):1;G[N(421)][N(262)]({id:T,name:" "+k,flowerIds:[...j],leafIds:[...p],rotation:0})},!0),v.iTMxZ(i,{kind:v.iMHaK,groupId:T}),v.owcbT(x,G=>({...G,[T]:!0}))},[r,i,x]),H=v[_(332)](ee.useCallback,j=>{const p=_;v[p(397)](r,z=>{const E=p,T={YAoPA:function(G,N){return v.XIbLk(G,N)},hlgtF:"stencil",yvrpU:function(G,N){return G(N)},pVYxe:E(436),SWciM:function(G,N){return G<=N}};if(v[E(364)](v.mUbRM,E(291))){if(!z[E(421)])return;const G=z.groups[E(433)](N=>N.id===j);if(!G)return;if(G.previousGroups&&v.Zrsiy(G.previousGroups[E(367)],0)){z[E(421)]=z[E(421)].filter(N=>N.id!==j);for(const N of G[E(383)])v[E(293)](v[E(395)],v.Xrrag)?(_0x1c01a9(M=>{const k=E;M[k(285)]=(M.stencils??[]).filter(K=>K.id!==_0x5d93bf)},!0),T.YAoPA(_0x1f3c1d.kind,T[E(265)])&&T.YAoPA(_0x26c78e.stencilId,_0x531e68)&&T.yvrpU(_0x21aca9,{kind:T.pVYxe})):z[E(421)].push({id:N.id,name:N[E(417)],flowerIds:[...N.flowerIds],leafIds:[...N[E(261)]],rotation:N.rotation})}else if(E(386)==="ptOVR")z.groups=z[E(421)][E(319)](N=>N.id!==j);else{const N=_0x88c977.flowers.find(M=>M.id===_0x280fa4);if(N&&oHxtIh[E(380)]((N.layers||[])[E(367)],1)){oHxtIh.yvrpU(_0x15ee1d,_0x23eb72);return}_0x3639a6(M=>{const k=E,K=(M.flowers||[])[k(433)](Z=>Z.id===_0x2bd49a);K&&(K.layers=(K[k(429)]||[])[k(319)](Z=>Z.id!==_0x4be485),K[k(429)][k(437)]()[k(442)]((Z,Q)=>Z[k(282)]-Q[k(282)])[k(305)]((Z,Q)=>Z.order=Q+1))},!0),_0xb4a2d1({kind:E(276),flowerId:_0x11e5ce})}}else{const G=_0x3fe8d1[0];_0x3c8657.flowerDiameter=_0x120b08.round(_0xc5b888(G.radius,G[E(256)]??1,_0x39c597))}},!0),i({kind:v.REvny})},[r,i]),R=ee.useCallback(j=>{const p={LrEiu:function(z,E){return z!==E}};v.BQSWf(r,z=>{const E=Tt;if(p.LrEiu(E(280),"zGYGh")){if(_0x49fe5d[E(273)]=(_0x4cc061[E(273)]||[])[E(319)](T=>T.id!==_0x456ed6),_0x17f7e1.groups){for(const T of _0x43f160.groups)T[E(292)]=T[E(292)][E(319)](G=>G!==_0x2067eb);_0xd61d16[E(421)]=_0xc921e9[E(421)][E(319)](T=>T.flowerIds[E(367)]+T.leafIds[E(367)]>0)}}else{if(!z.groups)return;z[E(421)]=z.groups.filter(T=>T.id!==j)}},!0),v.BfXHZ(i,{kind:"project"})},[r,i]),X=v.krQxa(ee.useCallback,(j,p)=>{const z=_;if(z(354)!=="uEzKj")r(E=>{const T=z,G=(E.groups??[]).find(N=>N.id===j);if(G){G.previousGroups=[q(G)];for(const N of p)G[T(292)][T(345)](N)||G.flowerIds.push(N)}},!0),v.ugoWu(i,{kind:v[z(365)],groupId:j});else{const{flowerIds:E,leafIds:T}=_0x297e22;v[z(330)](_0x529350,G=>{const N=z;if(G[N(273)]=G.flowers.filter(M=>!E.includes(M.id)),G.leaves=(G.leaves??[]).filter(M=>!T[N(345)](M.id)),G[N(421)]){for(const M of G[N(421)])M[N(292)]=M.flowerIds[N(319)](k=>!E.includes(k)),M[N(261)]=M.leafIds.filter(k=>!T.includes(k));G[N(421)]=G[N(421)][N(319)](M=>M.flowerIds.length+M.leafIds[N(367)]>0)}},!0),v.DgXuk(_0x81e1d5,{kind:v[z(440)]});return}},[r,i]),F=v.DnSCL(ee.useCallback,(j,p)=>{const z=_,E={AEXhh:function(N,M){return N===M},kcUbK:"SrHNC",JiFPS:v.fPfzj},T=j[0],G=j[z(437)](1);v.UBqTF(r,N=>{const M=z;if(!N.groups)return;const k=N[M(421)].find(Z=>Z.id===T);if(!k)return;const K=[];for(const Z of j){const Q=N.groups[M(433)](le=>le.id===Z);Q&&K[M(262)](q(Q))}k[M(383)]=K;for(const Z of G){const Q=N.groups[M(433)](le=>le.id===Z);if(Q){for(const le of Q.flowerIds)k.flowerIds.includes(le)||k.flowerIds.push(le);for(const le of Q.leafIds)if(E[M(269)](E.kcUbK,E.JiFPS)){const ce=_0x12a7b1[M(417)].match(/^ (\d+)$/);return ce?_0x15a636(ce[1],10):0}else k.leafIds[M(345)](le)||k.leafIds[M(262)](le)}}for(const Z of p)k[M(292)][M(345)](Z)||k.flowerIds[M(262)](Z);N[M(421)]=N[M(421)][M(319)](Z=>!G.includes(Z.id))},!0),v[z(335)](i,{kind:v.iMHaK,groupId:T}),x(N=>({...N,[T]:!0}))},[r,i,x]),J=(j,p)=>{const z=_,E=h.w/h.h,T=v[z(260)](520,g),G=v[z(408)](T,E),N=v[z(295)](-S.x,g),M=-S.y/g,k=N+v.OMuXh(G,2),K=v.gBmez(M,T/2),Z=v.QjVvM(p,z(326))?v[z(316)]:v[z(353)],Q=v[z(400)](a1[j][Z].height,ln),le=v[z(255)](pe,k,0,d),ce=pe(K-Q/2,0,d),de={id:v[z(312)](Lt,v[z(327)]),variant:j,pose:p,position:{x:le,y:ce}};r(fe=>{const be=z;fe[be(285)]||(fe.stencils=[]),fe[be(285)][be(262)](de)},!0),v.UiEIl(i,{kind:"stencil",stencilId:de.id})},V=j=>{const p=_,z={TbIIU:function(E,T){return v[Tt(312)](E,T)}};v.khVvb(r,E=>{E.stencils=(E.stencils??[]).filter(T=>T.id!==j)},!0),a.kind==="stencil"&&v.xldTs(a.stencilId,j)&&(v.mfQgZ("KCvvp",p(338))?z.TbIIU(_0x4c02a5,_0x3581a9):v[p(272)](i,{kind:v.REvny}))},I=v.CYFSf(ee.useCallback,j=>{const p=_,z={fNwYQ:v.nTqfv,yUEIS:function(N,M){return N(M)},yhrns:"project"},E=(c.groups??[])[p(433)](N=>N.flowerIds[p(345)](j)),T=E?E[p(292)]:[j],G=E?E.leafIds:[];if(v[p(281)](a[p(430)],v.nTqfv))if(v[p(364)](v.IWXiF,v.IWXiF)){_0x36654a(N=>{const M=p;N[M(421)]&&(N[M(421)]=N[M(421)].filter(k=>k.id!==_0x375f6a.groupId))},!0),v.DgXuk(_0xe32c48,{kind:p(436)});return}else{const N=a.flowerIds;if(N.includes(j)){const M=new Set(T),k=N.filter(K=>!M[p(394)](K));if(v.HlAHQ(k.length,0))if(v[p(435)]!==p(362)){const K=(_0xb7d9b7[p(421)]??[])[p(433)](de=>de.id===_0x47e8a1.groupId),Z=K?K[p(292)]:[],Q=K?K[p(261)]:[];if(Z.includes(_0x39499e))return;const le=[...new _0x706ba([...Z,..._0x3cbcbe])],ce=[...new _0x46f6c8([...Q,..._0x5f17ba])];ce[p(367)]>0?_0x82d92b({kind:v.RGWqF,flowerIds:le,leafIds:ce}):_0x5d791a({kind:"flowers",flowerIds:le})}else i({kind:"project"});else k.length===1?v[p(358)](i,{kind:p(276),flowerId:k[0]}):v[p(270)](i,{kind:v.nTqfv,flowerIds:k})}else{const M=[...new Set([...N,...T])];v[p(391)](G[p(367)],0)?v[p(443)](i,{kind:v[p(419)],flowerIds:M,leafIds:G}):i({kind:v.nTqfv,flowerIds:M})}}else if(v.lpJuY(a[p(430)],p(276))||v.IYOLF(a.kind,p(278))||v.IMqOn(a.kind,v[p(369)])||v.luqdK(a.kind,v[p(405)])){const N=a.flowerId;if(v.IMqOn(N,j))return;const M=(c[p(421)]??[])[p(433)](le=>le[p(292)][p(345)](N)),k=M?M[p(292)]:[N],K=M?M[p(261)]:[],Z=[...new Set([...k,...T])],Q=[...new Set([...K,...G])];Q.length>0?v.IFQro(i,{kind:p(439),flowerIds:Z,leafIds:Q}):Z[p(367)]===1?v[p(368)](i,{kind:v[p(384)],flowerId:Z[0]}):i({kind:"flowers",flowerIds:Z})}else if(v[p(258)](a.kind,v.iMHaK)){const N=(c[p(421)]??[]).find(Q=>Q.id===a[p(360)]),M=N?N[p(292)]:[],k=N?N[p(261)]:[];if(M[p(345)](j))return;const K=[...new Set([...M,...T])],Z=[...new Set([...k,...G])];Z[p(367)]>0?v[p(301)](i,{kind:"mixed",flowerIds:K,leafIds:Z}):v[p(312)](i,{kind:p(273),flowerIds:K})}else if(a[p(430)]===v[p(313)])if(v.LBrrr("FuWCO",v[p(376)])){const N=_0x27e14f[_0x12a147-1],M=_0x175eb1[_0x168964];M[p(370)]=v.Zdwdl(_0x25a09e,N.petalCount,N.offsetAngle,M[p(344)])}else{const N=(c.groups??[])[p(433)](Q=>Q[p(261)].includes(a.leafId)),M=N?N[p(292)]:[],k=N?N[p(261)]:[a[p(303)]],K=[...new Set([...M,...T])],Z=[...new Set([...k,...G])];if(v.Zrsiy(Z.length,0))if(v.ZXtbO!=="KLqEv"){if(_0xc0b162.flowers=_0xd881b9.flowers[p(319)](Q=>!_0x1dafc5.includes(Q.id)),_0x38b1de[p(377)]=(_0x26011a[p(377)]??[]).filter(Q=>!_0x265462[p(345)](Q.id)),_0x57da8c[p(421)]){for(const Q of _0x568633[p(421)])Q[p(292)]=Q.flowerIds.filter(le=>!_0x4a7e8b[p(345)](le)),Q[p(261)]=Q[p(261)].filter(le=>!_0x2f2552[p(345)](le));_0x16732a.groups=_0x2e05d4.groups.filter(Q=>Q.flowerIds[p(367)]+Q.leafIds[p(367)]>0)}}else v[p(301)](i,{kind:v[p(419)],flowerIds:K,leafIds:Z});else v[p(420)](i,{kind:v[p(378)],flowerIds:K})}else if(v.cYSkO(a.kind,p(377))){const N=[...new Set(T)],M=[...new Set([...a.leafIds,...G])];v[p(268)](i,{kind:v.RGWqF,flowerIds:N,leafIds:M})}else if(a[p(430)]===v.RGWqF)if(v[p(407)](p(406),"KVxwp"))_0x41563c.stencils=(_0x594c83.stencils??[]).filter(N=>N.id!==_0x2de86d);else{const N=a.flowerIds,M=a.leafIds;if(N[p(345)](j))if(v.rVqRh(p(264),v[p(299)]))_0x3f70b3({kind:z.fNwYQ,flowerIds:_0x49c84a});else{const k=new Set(T),K=new Set(G),Z=N.filter(le=>!k.has(le)),Q=M.filter(le=>!K[p(394)](le));v.IYOLF(Z.length,0)&&Q.length===0?i({kind:v[p(440)]}):v[p(407)](Z.length,0)&&Q[p(367)]===1?i({kind:v[p(313)],leafId:Q[0]}):Z[p(367)]===0?i({kind:v.fJzhR,leafIds:Q}):v[p(263)](Q[p(367)],0)&&Z[p(367)]===1?i({kind:"flower",flowerId:Z[0]}):v.RkkXa(Q.length,0)?i({kind:p(273),flowerIds:Z}):i({kind:p(439),flowerIds:Z,leafIds:Q})}else{const k=[...new Set([...N,...T])],K=[...new Set([...M,...G])];i({kind:"mixed",flowerIds:k,leafIds:K})}}else G.length>0?v[p(390)](v.tfzml,v[p(392)])?z[p(404)](_0x556e13,{kind:z[p(340)]}):i({kind:v[p(419)],flowerIds:T,leafIds:G}):T[p(367)]===1?i({kind:p(276),flowerId:T[0]}):i({kind:p(273),flowerIds:T})},[a,i,c.groups]);return{deleteFlowerById:D,deleteLayerById:b,computeNewOuterRadius:w,addOuterLayer:m,deleteOuterLayer:L,deleteSelected:Y,groupSelectedFlowers:B,groupSelectedMixed:O,ungroupFlowers:H,ungroupAll:R,addToGroup:X,mergeGroups:F,addStencil:J,deleteStencil:V,handleShiftFlowerSelect:I,togglePetalSelection:(j,p,z,E)=>{const T=_;if(T(436),T(276),v.nTqfv,v.czcnk(T(323),"oFowo")){if(!E){i({kind:T(381),flowerId:j,layerId:p,index:z});return}const G=p+":"+z;if(v.GuSVe(a.kind,v.gpNpo)&&a.flowerId===j){const N=a[T(379)]||[];if(N.some(k=>k.layerId+":"+k[T(356)]===G))if(v[T(398)](T(424),T(277))){const k=N.filter(K=>K[T(382)]+":"+K[T(356)]!==G);k.length===0?i({kind:"flower",flowerId:j}):v[T(279)](k.length,1)?i({kind:v[T(369)],flowerId:j,layerId:k[0][T(382)],index:k[0].index}):i({kind:v[T(405)],flowerId:j,petals:k})}else{const k=new _0x538402(_0x2c3605),K=_0x50c479.filter(Z=>!k[T(394)](Z));K.length===0?uxNCxI.XtukJ(_0x2e796f,{kind:uxNCxI[T(410)]}):uxNCxI.WMoGi(K.length,1)?_0x63a79f({kind:uxNCxI.cbnDd,flowerId:K[0]}):_0x2d5e4a({kind:uxNCxI[T(331)],flowerIds:K})}else v.KxKgU(v.IVUKq,T(297))?i({kind:"petals",flowerId:j,petals:[...N,{layerId:p,index:z}]}):(_0x21ad5c[T(285)]||(_0x1579f5[T(285)]=[]),_0xc0b4d3.stencils[T(262)](_0x1f7099))}else if(v[T(423)](a.kind,"petal")&&a.flowerId===j){const N={layerId:a.layerId,index:a[T(356)]},M={layerId:p,index:z};if(v[T(350)](N.layerId+":"+N[T(356)],G))return;v.UiEIl(i,{kind:v.gpNpo,flowerId:j,petals:[N,M]})}else if(v.qprXG!=="acAzs"){_0x3e233c(_0x4ecd71);return}else v[T(274)](I,j)}else v[T(402)](_0x486825,{kind:v.RGWqF,flowerIds:_0x58c255,leafIds:_0x2ed7cf})}}}(function(c,r){const a=bn,i=c();for(;;)try{if(-parseInt(a(238))/1+parseInt(a(215))/2*(-parseInt(a(240))/3)+parseInt(a(282))/4*(-parseInt(a(223))/5)+parseInt(a(230))/6*(parseInt(a(250))/7)+parseInt(a(239))/8*(parseInt(a(269))/9)+-parseInt(a(245))/10*(parseInt(a(213))/11)+parseInt(a(242))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,636980);const pb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=bn;if(a){const x=a[f(271)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Bs=pb(void 0,function(){const c=bn,r={NepId:"(((.+)+)+)+$"};return Bs.toString()[c(281)](r.NepId).toString().constructor(Bs).search(r.NepId)});Bs();function bn(c,r){c=c-209;const a=X0();let i=a[c];if(bn.UGlhWt===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};bn.JDtgXJ=f,bn.eCFiST={},bn.UGlhWt=!0}const x=a[0],g=c+x,S=bn.eCFiST[g];if(S)i=S;else{const h=function(d){this.whCNli=d,this.ckcCJl=[1,0,0],this.rVzDql=function(){return"newState"},this.KnBnYa="\\w+ *\\(\\) *{\\w+ *",this.SkYxkK=`['|"].+['|"];? *}`};h.prototype.AsjIOT=function(){const d=new RegExp(this.KnBnYa+this.SkYxkK),y=d.test(this.rVzDql.toString())?--this.ckcCJl[1]:--this.ckcCJl[0];return this.uwyPBI(y)},h.prototype.uwyPBI=function(d){return~d?this.TyfzZP(this.whCNli):d},h.prototype.TyfzZP=function(d){for(let y=0,_=this.ckcCJl.length;y<_;y++)this.ckcCJl.push(Math.round(Math.random())),_=this.ckcCJl.length;return d(this.ckcCJl[0])},new h(bn).AsjIOT(),i=bn.JDtgXJ(i),bn.eCFiST[g]=i}return i}function X0(){const c=["t1DbzxG","tgDYB3q","A1jvAg8","sKvWDxK","zMXVD2vYCW","BgvHzKLK","A2LUza","AuL5y08","ALrLzui","ChvZAa","yNPgA1e","zMLUza","CwzQq1C","wwXcrvi","nJa1n3nOu2jLyW","rgvXBLi","yxbWBhK","s3DotKi","vxLuzLO","ChjVAMvJDa","z3jVDxbjza","uKryBu8","rNrosLe","CuTpt0y","z3jW","Bgf5zxi","C2vHCMnO","ntzxELzeCxu","AfnsvMm","zMXVD2vY","BfneEfm","vg91vLi","z3jVDxbZ","t2LjD3G","r3Dzvhi","Bwf4","zMXVD2vYswq","uwLWA20","DhzKrue","A0zLyvC","zvblCKS","rKziuKK","mZyYndi4thfvwLzR","zMXVD2vYswrZ","mJCYodjIz0jzDLm","CM90yxrPB24","BgvHDMvZ","BgvHzKLKCW","rurxAvq","BwfW","tvzbChq","BwL4zwq","mta4ody1wvrVyNvL","v0TiDhe","D1Lzsgi","DMPotgu","AgfZ","yNfkt0u","vMTbwg4","ntKZmJm5ohHoAfHosa","AhjTDxy","uhfNwgm","zMLSDgvY","z3jVDxa","v21ot1e","ChjLDMLVDxnhCM91Chm","A2zPy3u","mtaYnda0ohnlC3HNsG","mtiWodH2Efrlsu0","mte3rw5rAxLN","44kW44oR44o844oxia","mteWndy0ndrZAu1rwgq","Bwf0y2G","qMDAuLq","mtmWr09iCwry","EhbgDgq","Cgv0ywW","Aw5JBhvKzxm","CeDYrM8","n2vzr0P2Ea","EgvvC2O","BMfTzq","BgvUz3rO","ANL6veq"];return X0=function(){return c},X0()}function yb({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=bn,x={UyTfZ:function(b,m){return b===m},kficu:function(b,m,L){return b(m,L)},cDuvS:function(b,m){return b(m)},Qipkm:f(279),MVApt:"group",kRUho:function(b,m){return b(m)},PhqrL:function(b,m){return b===m},ePKrK:"GsEAW",jTeeB:f(274),iIycO:function(b,m){return b===m},WKHtq:function(b,m){return b>m},tkGQx:function(b,m){return b(m)},WmNOQ:"leaves",hSRVc:function(b,m){return b>m},TouVR:f(222),EDWiT:"leaf",PqgXc:function(b,m){return b>m},vjNLe:function(b,m){return b(m)},RDXmO:f(247),BJOIN:function(b,m){return b===m},GwYTr:"petals",Mpvrs:f(259),NLVOX:"fzWll",SGJQU:function(b,m){return b===m},RmpUK:function(b,m){return b===m},wYYHb:function(b,m){return b(m)},bzFkQ:function(b,m){return b===m},SQOmZ:function(b,m){return b===m},Lgrot:function(b,m){return b===m},fazfZ:function(b,m){return b===m},DeqnR:"oMTmT",OWAex:function(b,m){return b(m)},fPvNF:function(b,m){return b===m},FtNJQ:f(288),zbdTb:function(b,m){return b>m},lUMAZ:function(b,m){return b+m},yLZYA:"hdIoo",kZMfp:function(b,m){return b(m)},xpFtd:function(b,m,L){return b(m,L)},qKOOF:function(b,m,L){return b(m,L)},BgZRT:"MhWrs",lSDxS:function(b,m){return b>m},VkAXn:function(b,m){return b(m)},bqJOE:function(b,m){return b!==m},FFHRI:f(231),OWYXJ:function(b,m,L){return b(m,L)},xPXVF:"VPieg",pGrFo:function(b,m,L){return b(m,L)}},g=b=>{const m=f;x[m(237)](r,L=>{const Y=m;if(L[Y(217)]=(L[Y(217)]??[]).filter(q=>q.id!==b),L[Y(287)]){for(const q of L[Y(287)])x.UyTfZ(Y(272),Y(272))?q.leafIds=q[Y(218)][Y(233)](B=>B!==b):_0x551dfc(B=>{const O=Y,H=(B[O(287)]??[])[O(266)](R=>R.id===_0x5d5e38);H&&!H.leafIds[O(248)](_0x3515c9)&&H.leafIds[O(264)](_0x557234)},!0);L.groups=L.groups.filter(q=>q.flowerIds[Y(253)]+q[Y(218)].length>0)}},!0),x.cDuvS(i,{kind:m(274)})},S=x[f(246)](ee.useCallback,b=>{const m=f,L={xeUsj:m(274),VbQch:function(O,H,R){return O(H,R)}},Y=(c.groups??[])[m(266)](O=>O.leafIds.includes(b)),q=Y?Y.leafIds:[b],B=Y?Y.flowerIds:[];if(x.UyTfZ(a.kind,"leaves")){const O=a[m(218)];if(O[m(248)](b)){const H=new Set(q),R=O[m(233)](X=>!H[m(227)](X));if(x.PhqrL(R[m(253)],0))if(x[m(211)]==="Rjqix"){const X={JGTWV:function(I,U,j){return I(U,j)}},F=_0x1681a5(x[m(292)]),J=(_0x1a18e6.groups??[]).map(I=>{const U=m,j=I[U(252)][U(243)](/^ (\d+)$/);return j?X.JGTWV(_0x30e16d,j[1],10):0}),V=J.length>0?_0x2e7abe[m(290)](...J)+1:1;_0xa26ff9(I=>{const U=m;I[U(287)]||(I[U(287)]=[]),I[U(287)].push({id:F,name:U(241)+V,flowerIds:[],leafIds:[..._0x1d1342],rotation:0})},!0),_0x241b7b({kind:x.MVApt,groupId:F})}else i({kind:x.jTeeB});else x[m(262)](R[m(253)],1)?i({kind:"leaf",leafId:R[0]}):x.kRUho(i,{kind:"leaves",leafIds:R})}else{const H=[...new Set([...O,...q])];x[m(224)](B[m(253)],0)?x.tkGQx(i,{kind:"mixed",flowerIds:B,leafIds:H}):i({kind:x.WmNOQ,leafIds:H})}}else if(a.kind==="leaf"){if(a[m(260)]===b)return;const O=(c[m(287)]??[]).find(J=>J[m(218)][m(248)](a.leafId)),H=O?O[m(218)]:[a.leafId],R=O?O.flowerIds:[],X=[...new Set([...H,...q])],F=[...new Set([...R,...B])];x[m(283)](F[m(253)],0)?i({kind:x[m(286)],flowerIds:F,leafIds:X}):X[m(253)]===1?i({kind:x[m(219)],leafId:X[0]}):x.kRUho(i,{kind:x[m(235)],leafIds:X})}else if(x.PhqrL(a.kind,x[m(221)])){const O=(c[m(287)]??[])[m(266)](J=>J.id===a[m(275)]),H=O?O.leafIds:[],R=O?O.flowerIds:[];if(H.includes(b))return;const X=[...new Set([...H,...q])],F=[...new Set([...R,...B])];x[m(232)](F[m(253)],0)?x.vjNLe(i,{kind:x[m(286)],flowerIds:F,leafIds:X}):i({kind:x[m(235)],leafIds:X})}else if(x.UyTfZ(a.kind,m(284))||a[m(261)]===m(280)||a.kind===x[m(276)]||x.BJOIN(a.kind,x[m(289)])){const O=a[m(291)],H=(c[m(287)]??[])[m(266)](V=>V.flowerIds.includes(O)),R=H?H.flowerIds:[O],X=H?H[m(218)]:[],F=[...new Set([...R,...B])],J=[...new Set([...X,...q])];i({kind:x[m(286)],flowerIds:F,leafIds:J})}else if(a.kind===x.Mpvrs){const O=[...new Set([...a[m(214)],...B])],H=[...new Set(q)];x[m(226)](i,{kind:m(222),flowerIds:O,leafIds:H})}else if(a.kind===x.TouVR){const O=a.flowerIds,H=a.leafIds;if(H[m(248)](b))if(x.NLVOX==="WcfOj")_0x10fdf6({kind:L[m(251)]});else{const R=new Set(q),X=new Set(B),F=H[m(233)](V=>!R[m(227)](V)),J=O[m(233)](V=>!X.has(V));x.SGJQU(J[m(253)],0)&&F.length===0?x.kRUho(i,{kind:"project"}):x.PhqrL(J[m(253)],0)&&F[m(253)]===1?i({kind:x.EDWiT,leafId:F[0]}):x.RmpUK(J[m(253)],0)?x.wYYHb(i,{kind:"leaves",leafIds:F}):x[m(265)](F.length,0)&&x.SQOmZ(J.length,1)?i({kind:m(284),flowerId:J[0]}):x[m(256)](F.length,0)?x[m(225)](i,{kind:"flowers",flowerIds:J}):x[m(257)](i,{kind:m(222),flowerIds:J,leafIds:F})}else if(x.fazfZ(x[m(270)],x[m(270)])){const R=[...new Set([...O,...B])],X=[...new Set([...H,...q])];x[m(255)](i,{kind:x.TouVR,flowerIds:R,leafIds:X})}else _0x108a39({kind:m(217),leafIds:_0x2e71e9})}else if(B.length>0)x.vjNLe(i,{kind:"mixed",flowerIds:B,leafIds:q});else if(x.fPvNF(q[m(253)],1))if(m(210)==="brCOQ"){const O=_0x42de54.groups[m(266)](H=>H.id===_0x76fbd3);O&&_0x51b797.push(x.kRUho(_0x46f93d,O))}else i({kind:x[m(219)],leafId:q[0]});else x[m(277)]==="OiIwx"?i({kind:x[m(235)],leafIds:q}):L.VbQch(_0x1391bb,O=>{const H=m;if(O.groups){for(const R of O.groups)R.leafIds=R.leafIds.filter(X=>X!==_0x17d565);O[H(287)]=O[H(287)][H(233)](R=>R.flowerIds[H(253)]+R[H(218)][H(253)]>0)}},!0)},[a,i,c.groups]),h=b=>({id:b.id,name:b.name,flowerIds:[...b.flowerIds],leafIds:[...b[f(218)]],rotation:b.rotation}),d=x.kficu(ee.useCallback,b=>{const m=f,L=Lt(x[m(292)]),Y=(c.groups??[])[m(220)](B=>{const O=B.name.match(/^ (\d+)$/);return O?parseInt(O[1],10):0}),q=x.zbdTb(Y.length,0)?x.lUMAZ(Math.max(...Y),1):1;r(B=>{const O=m;B[O(287)]||(B[O(287)]=[]),B.groups[O(264)]({id:L,name:" "+q,flowerIds:[],leafIds:[...b],rotation:0})},!0),i({kind:"group",groupId:L})},[c.groups,r,i]),y=x[f(249)](ee.useCallback,(b,m)=>{const L=f;x[L(273)]("FNMGX",L(258))?_0x180bd5({kind:"leaves",leafIds:_0x19d658}):(x.xpFtd(r,Y=>{const q=L;if(x.yLZYA==="hdIoo"){const B=(Y.groups??[]).find(O=>O.id===b);if(!B)return;B.previousGroups=[x.kZMfp(h,B)];for(const O of m)B.leafIds.includes(O)||B.leafIds.push(O)}else{const B=[...new _0x286f78([..._0x41ddd0[q(214)],..._0x31bc89])],O=[...new _0x4b60c2(_0x4b6c88)];pCbSzo[q(267)](_0x47c5ae,{kind:pCbSzo.RaorC,flowerIds:B,leafIds:O})}},!0),i({kind:x[L(221)],groupId:b}))},[r,i]),_=ee.useCallback((b,m)=>{const L=f,Y={pPZhO:function(O,H){return O!==H},XyrXl:L(209)},q=b[0],B=b.slice(1);x[L(278)](r,O=>{const H=L;if(!O[H(287)])return;const R=O[H(287)].find(F=>F.id===q);if(!R)return;const X=[];for(const F of b)if(Y.pPZhO(Y.XyrXl,H(209)))yyWtmN.iWiHb(_0x471c7c,{kind:"leaves",leafIds:_0x17c8eb});else{const J=O[H(287)].find(V=>V.id===F);J&&X[H(264)](h(J))}R[H(236)]=X;for(const F of B){const J=O.groups[H(266)](V=>V.id===F);if(J){for(const V of J[H(218)])R[H(218)].includes(V)||R[H(218)].push(V);for(const V of J[H(214)])R.flowerIds.includes(V)||R[H(214)][H(264)](V)}}for(const F of m)R[H(218)][H(248)](F)||R[H(218)].push(F);O[H(287)]=O[H(287)].filter(F=>!B.includes(F.id))},!0),i({kind:L(234),groupId:q})},[r,i]),v=ee.useCallback(b=>{const m=f,L={WhMgm:function(Y,q,B){return x.qKOOF(Y,q,B)},jyzTD:"group",uIlNA:function(Y,q){return Y!==q},tnxON:x[m(244)],YlBER:function(Y,q){return x[m(285)](Y,q)}};r(Y=>{const q=m;if(L.uIlNA(L.tnxON,"EavAv")){if(!Y.groups)return;const B=Y[q(287)][q(266)](O=>O.id===b);if(!B)return;if(B.previousGroups&&L[q(268)](B[q(236)][q(253)],0)){Y[q(287)]=Y[q(287)].filter(O=>O.id!==b);for(const O of B.previousGroups)Y.groups[q(264)]({id:O.id,name:O.name,flowerIds:[...O[q(214)]],leafIds:[...O.leafIds],rotation:O[q(216)]})}else Y.groups=Y[q(287)].filter(O=>O.id!==b)}else vSetQW.WhMgm(_0x1b54a5,B=>{const O=q,H=(B.groups??[]).find(R=>R.id===_0x20c33c);if(H){H.previousGroups=[_0x20e19f(H)];for(const R of _0x3fd419)H[O(218)][O(248)](R)||H[O(218)][O(264)](R)}},!0),_0x43b2c2({kind:vSetQW[q(254)],groupId:_0x226fb2})},!0),x[m(229)](i,{kind:x[m(263)]})},[r,i]),w=ee.useCallback((b,m)=>{const L=f;x.bqJOE(x[L(212)],"rsBtY")?x.OWYXJ(r,Y=>{const q=L,B=(Y.groups??[]).find(O=>O.id===m);B&&!B[q(218)].includes(b)&&B.leafIds.push(b)},!0):_0x10afce[L(214)][L(248)](_0x4d9f5c)||_0x367192[L(214)][L(264)](_0x2c62e4)},[r]),D=ee.useCallback(b=>{r(m=>{const L=bn;if(m[L(287)]){for(const Y of m.groups)if(x[L(228)]("XhxAI",x.xPXVF))Y[L(218)]=Y.leafIds[L(233)](q=>q!==b);else{_0x5275c4[L(287)]=_0x39a9e0.groups.filter(q=>q.id!==_0xdbf48d);for(const q of _0x43b918[L(236)])_0x13bf92[L(287)][L(264)]({id:q.id,name:q.name,flowerIds:[...q[L(214)]],leafIds:[...q[L(218)]],rotation:q[L(216)]})}m.groups=m.groups.filter(Y=>Y.flowerIds[L(253)]+Y[L(218)].length>0)}},!0)},[r]);return{deleteLeafById:g,handleShiftLeafSelect:S,groupSelectedLeaves:d,ungroupLeaves:v,addLeafToGroup:w,removeLeafFromGroup:D,addLeavesToGroup:y,mergeLeafGroups:_}}(function(c,r){const a=Xt,i=c();for(;;)try{if(parseInt(a(332))/1+parseInt(a(370))/2*(-parseInt(a(363))/3)+parseInt(a(390))/4*(parseInt(a(360))/5)+parseInt(a(350))/6*(-parseInt(a(399))/7)+parseInt(a(397))/8+parseInt(a(404))/9+-parseInt(a(352))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(W0,536527);const _b=(function(){let c=!0;return function(r,a){const i={GFfPE:function(x,g){return x*g},OfuWN:function(x,g){return x>g},sPAXS:function(x,g){return x/g},lbECO:"TDDSi"},f=c?function(){const x=Xt,g={JDAHy:function(S,h){return i.GFfPE(S,h)},cuzqf:function(S,h){return i[Xt(366)](S,h)},AZLRU:function(S,h){return i.sPAXS(S,h)},LblSi:function(S,h){return S/h}};if(i[x(380)]==="ZtlqD"){const h=g[x(349)](70,_0x4de3e9.PI)/180,d=g[x(341)](_0x400a10,1)?g[x(337)](_0x198ef9,_0x45f2f4-1)*h:0,y=_0x83be63.cos(d);_0x3b0e3c=g[x(349)](_0x307aca*g[x(343)](30,100),y)}else if(a){const S=a[x(376)](r,arguments);return a=null,S}}:function(){};return c=!1,f}})(),Is=_b(void 0,function(){const c=Xt;return Is[c(378)]().search("(((.+)+)+)+$").toString()[c(377)](Is)[c(379)](c(402))});Is();function Xt(c,r){c=c-332;const a=W0();let i=a[c];if(Xt.Wavdjb===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};Xt.EKZoHc=f,Xt.iPMCDf={},Xt.Wavdjb=!0}const x=a[0],g=c+x,S=Xt.iPMCDf[g];if(S)i=S;else{const h=function(d){this.GppTrk=d,this.SNkfBL=[1,0,0],this.htLvIO=function(){return"newState"},this.NjwprJ="\\w+ *\\(\\) *{\\w+ *",this.IVMhes=`['|"].+['|"];? *}`};h.prototype.KoNnVi=function(){const d=new RegExp(this.NjwprJ+this.IVMhes),y=d.test(this.htLvIO.toString())?--this.SNkfBL[1]:--this.SNkfBL[0];return this.OaDjZT(y)},h.prototype.OaDjZT=function(d){return~d?this.phOaBM(this.GppTrk):d},h.prototype.phOaBM=function(d){for(let y=0,_=this.SNkfBL.length;y<_;y++)this.SNkfBL.push(Math.round(Math.random())),_=this.SNkfBL.length;return d(this.SNkfBL[0])},new h(Xt).KoNnVi(),i=Xt.EKZoHc(i),Xt.iPMCDf[g]=i}return i}function W0(){const c=["C1rsCNO","C2L6zu1Vzgu","txD4q2u","zMXVD2vY","mtb6tuvcDLG","zMX3","u05jqKu","mJrVCxrtq2C","t3v0zxi","yMfZzurPyw1LDgvY","t2z1v04","zMfICMLJu3f1yxjLu2L6zq","zNPiAMO","EMLkwem","mtG1nde4wLjKAg55","sgDOA2m","5y2k44gp44gz","A3jpEK8","u3Pkq2W","44or44o844oR","yxbWBhK","y29UC3rYDwn0B3i","Dg9tDhjPBMC","C2vHCMnO","Bgjfq08","rfjjwLe","ChvZAa","CM91BMq","CMfKAxvZ","zgLHBwv0zxi","C29Tzq","zMXVD2vYrgLHBwv0zxi","C3bSAxq","ENb2t1e","mtG4nti4oeLMsgPXqW","tgf5zxi","y29Sx3DOAxrL","r1zJz3i","Bxv0vgi","B3HdEKC","vxrjz1y","nZG1oteZnMvfrvb0Aa","q3HssKK","odu2munRCNPVza","tKPUD0G","ue10C0y","kcGOlISPkYKRksSK","BgvUz3rO","nZq2nZmXohvHq2vArW","t3v0zxiR","rMXVD2vYia","mta3mJGWmgjLD1jeDG","twLKzgXL","s2DkqMi","Dw5PzM9YBq","y29Z","qvPmuLu","z0zlwvy","suLiyKS","5lI444gK44g+44g/","y3v6Cwy","vu9lDee","tgjSu2K","qu1wENO","Cg9ZAxrPB24","veX1C3O","y29SB3jjza","q2vUDgvY","sKrbshK","mZCZoeHfsM5HqW","CgXHy2vTzw50tw9Kzq","mtC4nZqXmdbXvwrcyKy","zMXVD2vYCW","B3jKzxi","zvzKqLC"];return W0=function(){return c},W0()}function Sb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:x,stageSize:g,CANVAS_MAX_SVG:S}){const h=Xt,d={CxRJI:function(m,L){return m===L},sTRrz:function(m,L){return m(L)},AMVzz:function(m,L){return m(L)},MwxCe:"(((.+)+)+)+$",KgJBb:function(m,L,Y,q){return m(L,Y,q)},Hghkc:function(m,L){return m*L},GVcgr:"Inner",iAmIf:h(333),SNIBE:h(405),YTofU:function(m,L){return m<L},dytty:function(m,L){return m===L},XbrLh:function(m,L){return m!==L},TLusz:h(381),gFKYV:function(m,L){return m+L},mAZMa:"gradual",PjBfg:function(m,L){return m*L},oxCzG:function(m,L){return m===L},SzJCl:function(m,L){return m*L},UtIgV:function(m,L){return m/L},OZJsN:function(m,L){return m*L},zpvOQ:function(m,L){return m*L},eVdBW:h(391),pLaEd:function(m,L){return m!==L},mutTb:"dEuyG",IVfma:function(m,L){return m===L},ZmNCn:function(m,L){return m===L},NJnwH:function(m,L){return m(L)},NjCmu:function(m,L){return m-L},rlaEv:function(m,L){return m===L},krOzO:function(m,L,Y,q,B){return m(L,Y,q,B)},VoaoU:function(m,L){return m/L},fzHjj:function(m,L){return m+L},jTyAR:function(m,L,Y,q){return m(L,Y,q)},OmZpk:h(361),ziJXC:"col_white",KFwZs:function(m,L){return m===L},UOKtA:function(m,L){return m(L)},IIHbK:function(m,L){return m(L)},GCpqy:h(359),QPtQr:function(m,L){return m(L)},PMtsF:h(340),auixz:"uniform"},[y,_]=d[h(344)](ee.useState,!1),[v,w]=ee.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d[h(401)],sizeMode:d.auixz,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:y,setShowAddFlowerDialog:_,addFlowerOpts:v,setAddFlowerOpts:w,addFlower:()=>{const m=h,L={RQcGC:function(B,O){return d[Xt(398)](B,O)},zgquC:m(372),DLmbw:function(B,O,H,R){return B(O,H,R)},UmfJQ:function(B,O,H,R,X){return B(O,H,R,X)}},Y=c[m(367)],q=c.baseDiameter;d.sTRrz(w,B=>{const O=m,H={...B,fabricSquareSize:Y,baseDiameter:q};return L.RQcGC(H[O(351)],L.zgquC)?H.flowerDiameter=L.DLmbw(aa,q,Y,{layerCount:H.layerCount,sizeMode:H[O(357)],sizeStepMm:H.sizeStepMm}).diameter:H.flowerDiameter=L.UmfJQ(cr,Y,H.layerCount,H.sizeMode,H.sizeStepMm),H}),d[m(344)](_,!0)},confirmAddFlower:()=>{const m=h,L={jjtJH:function(fe,be,he,De){return d[Xt(334)](fe,be,he,De)}},{placementMode:Y,layerCount:q,petalCount:B,petalType:O,sizeMode:H,sizeStepMm:R}=v,X=v[m(367)],{length:F}=Et(X),J=.28,V=Math[m(383)](d.Hghkc(d[m(371)](F,J),10))/10,I=[],U=[m(348),d[m(393)],d.iAmIf,m(364),d[m(362)]];let j=V,p=0;for(let fe=0;d.YTofU(fe,q);fe++){const be=fe,he=1;let De;if(d.dytty(H,m(335)))if(d.XbrLh("OnHpf",d[m(346)]))De=he;else return _0x128c7f[m(378)]().search(OJxOpe[m(358)]).toString().constructor(_0x3fa2f9).search("(((.+)+)+)+$");else{const dt=R/X;De=d.KgJBb(pe,d[m(338)](he,d[m(371)](be,dt)),.3,3)}let nt;if(fe===0)nt=V;else{const dt=H===d.mAZMa?pe(1+d.PjBfg(fe-1,R)/X,.3,3):1,Yt=d.Hghkc(F,dt);let zt;if(d[m(395)](Y,m(372))){const Ht=d.SzJCl(70,Math.PI)/180,an=q>1?d[m(374)](d[m(396)](fe,q-1),Ht):0,gn=Math[m(336)](an);zt=d.OZJsN(Yt,30/100)*gn}else zt=d.UtIgV(Yt,3);j=j+zt,nt=Math[m(383)](d[m(389)](j,10))/10}const Ke=fe===0?0:nl(B,p,B);p=Ke;let Xe;if(d.CxRJI(q,1))Xe=d[m(355)];else if(q<=5)if(d.pLaEd(d.mutTb,d[m(394)]))_0x593512+=_0x364c74,_0x40663a+=_0x65385f,_0x4246c7=L.jjtJH(_0x1661f5,_0xf5aca3,0,_0x252761),_0x2f4d58=L.jjtJH(_0x411a04,_0x527052,0,_0x4cfc79),_0x58ee0b++;else{const dt=d.IVfma(q,2)?[0,3]:d.ZmNCn(q,3)?[0,1,3]:q===4?[0,1,2,3]:[0,1,2,3,4];Xe=U[dt[fe]]??"Layer "+(fe+1)}else Xe="Layer "+(fe+1);I[m(382)]({id:d[m(400)](Lt,"lay"),name:Xe,order:d.NjCmu(q,fe),petalType:O,petalCount:B,radius:nt,scale:De,widthScale:d.sTRrz(xi,B),offsetAngle:Ke,colorId:v[m(347)]||(c.palette?.[0]?.id??m(392)),visible:!0,locked:!1})}I.reverse();const z=[...I].sort((fe,be)=>fe.order-be[m(354)]),E=d.rlaEv(Y,"")?d.KgJBb(aa,v[m(365)],X,{layerCount:q,sizeMode:H,sizeStepMm:R})[m(385)]:d[m(373)](cr,X,q,H,R);d[m(334)](Q0,z,X,v.flowerDiameter||E);for(const fe of z){const be=I.find(he=>he.id===fe.id);be&&(be[m(384)]=fe.radius,be.scale=fe.scale)}const T=g.w/g.h,G=520/f,N=d.SzJCl(G,T),M=d.VoaoU(-x.x,f),k=-x.y/f;let K=d[m(368)](M,N/2),Z=d.gFKYV(k,d.VoaoU(G,2));const Q=25;let le=0;for(;le<50&&c.flowers[m(386)](fe=>Math.abs(fe[m(345)].x-K)<5&&Math.abs(fe.position.y-Z)<5);){const fe="4|1|0|3|2"[m(388)]("|");let be=0;for(;;){switch(fe[be++]){case"0":K=d.jTyAR(pe,K,0,S);continue;case"1":Z+=Q;continue;case"2":le++;continue;case"3":Z=pe(Z,0,S);continue;case"4":K+=Q;continue}break}}const ce=v[m(387)]||E,de={id:d[m(356)](Lt,d.OmZpk),name:m(406)+(c.flowers[m(403)]+1),position:{x:K,y:Z},flowerDiameter:ce,rotation:0,layers:I,center:{type:m(375),size:6,color:d[m(369)]},fabricSquareSize:X,placementMode:Y,baseDiameter:d.KFwZs(Y,"")?v.baseDiameter:d[m(342)](ar,ce)};r(fe=>{const be=m;fe[be(353)][be(382)](de)},!0),d[m(339)](a,{kind:d.GCpqy,flowerId:de.id}),i(fe=>({...fe,[de.id]:!0})),d.QPtQr(_,!1)}}}(function(c,r){const a=nn,i=c();for(;;)try{if(parseInt(a(340))/1*(-parseInt(a(353))/2)+-parseInt(a(355))/3+-parseInt(a(350))/4*(-parseInt(a(345))/5)+-parseInt(a(369))/6+-parseInt(a(352))/7*(-parseInt(a(341))/8)+parseInt(a(347))/9*(parseInt(a(363))/10)+parseInt(a(344))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,157866);const wb=(function(){const c=nn,r={SursD:c(342)};let a=!0;return function(i,f){const x=a?function(){const g=nn,S={rwLPy:"(((.+)+)+)+$"};if(f){if(r.SursD==="rJvzf")return _0x52b681.toString()[g(351)](S[g(360)]).toString().constructor(_0x32010f).search("(((.+)+)+)+$");{const h=f.apply(i,arguments);return f=null,h}}}:function(){};return a=!1,x}})(),Gs=wb(void 0,function(){const c=nn;return Gs[c(361)]().search(c(354)).toString()[c(359)](Gs)[c(351)]("(((.+)+)+)+$")});Gs();function nn(c,r){c=c-340;const a=J0();let i=a[c];if(nn.MtdDFu===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};nn.VAKerO=f,nn.ofHJZn={},nn.MtdDFu=!0}const x=a[0],g=c+x,S=nn.ofHJZn[g];if(S)i=S;else{const h=function(d){this.YygSai=d,this.AADLCl=[1,0,0],this.YqIJlB=function(){return"newState"},this.QNZmei="\\w+ *\\(\\) *{\\w+ *",this.PZqEgx=`['|"].+['|"];? *}`};h.prototype.wrPOCa=function(){const d=new RegExp(this.QNZmei+this.PZqEgx),y=d.test(this.YqIJlB.toString())?--this.AADLCl[1]:--this.AADLCl[0];return this.RcrVVO(y)},h.prototype.RcrVVO=function(d){return~d?this.InjCLu(this.YygSai):d},h.prototype.InjCLu=function(d){for(let y=0,_=this.AADLCl.length;y<_;y++)this.AADLCl.push(Math.round(Math.random())),_=this.AADLCl.length;return d(this.AADLCl[0])},new h(nn).wrPOCa(),i=nn.VAKerO(i),nn.ofHJZn[g]=i}return i}function J0(){const c=["z1vUthe","mtm1ode3mLPHB0Dfsq","zMfICMLJu3f1yxjLu2L6zq","Cg1bB0S","y29Sx2DYzwvU","ywjZ","mZLJse9lDuu","ntzmzKP1Eeu","DKfiq3e","5yMJ44gK44g+44g/","ntiWmtK2nKLhrvLRCW","mJb6qufmyuu","y1bQEwG","oteYnJLLyLLTuxq","CgfSzxr0zq","Efb4uKq","mJqXntC2v0XYAePH","C2vHCMnO","mZi2nJL6Aw1Iww4","otaYmgf4rwjqsG","kcGOlISPkYKRksSK","nJGYnZKXy01YsMv3","AgHTyK8","mNWWFdn8mxW0","zwfruMu","y29UC3rYDwn0B3i","CNDmuhK","Dg9tDhjPBMC","y29SB3jjza","ndbRDLbQs1u","BgvHzG","BhnTqNi","BgvHDMvZ","Cg9ZAxrPB24"];return J0=function(){return c},J0()}function Pd(c){const r=nn,a={pmAoK:function(i,f){return i/f},NUiPN:function(i,f){return i*f},HPJTL:function(i,f){return i/f}};return a[r(371)](Math.round(a.NUiPN(a.HPJTL(c*Math.SQRT2,2),10)),10)}function Cb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:x,CANVAS_MAX_SVG:g}){const S=nn,h={iLlau:S(372),hhmbO:function(b,m){return b(m)},xPxRD:function(b,m){return b*m},fIXur:function(b,m){return b/m},gUnLq:function(b,m){return b+m},tLbJN:function(b,m){return b/m},cPjyh:function(b,m){return b<m},vQFoH:S(357),YOnmD:function(b,m,L,Y){return b(m,L,Y)},iQYRi:S(364),lsmBr:function(b,m){return b(m)},eaQRe:function(b,m){return b(m)},AXqpH:function(b,m){return b(m)}},[d,y]=h[S(358)](ee.useState,!1),[_,v]=h.AXqpH(ee.useState,{fabricSquareSize:20,leafSizeMm:h[S(356)](Pd,20),petalType:S(343),colorId:""});return{showAddLeafDialog:d,setShowAddLeafDialog:y,addLeafOpts:_,setAddLeafOpts:v,addLeaf:()=>{const b=S,m=c[b(370)],L=c.palette?.find(Y=>Y.id==="col_green"||Y.id==="col_darkgreen")?.id??c[b(348)]?.[0]?.id??h.iLlau;v(Y=>({...Y,fabricSquareSize:m,leafSizeMm:Pd(m),colorId:Y[b(362)]||L})),h.hhmbO(y,!0)},confirmAddLeaf:()=>{const b=S,{petalType:m,colorId:L,fabricSquareSize:Y}=_,q=x.w/x.h,B=520/i,O=h[b(349)](B,q),H=h.fIXur(-f.x,i),R=h.fIXur(-f.y,i);let X=h[b(368)](H,h.tLbJN(O,2)),F=h.gUnLq(R,B/2),J=0;for(;h[b(346)](J,50)&&(c[b(366)]??[]).some(I=>Math[b(373)](I.position.x-X)<5&&Math[b(373)](I[b(367)].y-F)<5);){const I=h.vQFoH.split("|");let U=0;for(;;){switch(I[U++]){case"0":F+=25;continue;case"1":F=h.YOnmD(pe,F,0,g);continue;case"2":X+=25;continue;case"3":X=pe(X,0,g);continue;case"4":J++;continue}break}}const V={id:Lt(h.iQYRi),name:"Leaf "+h[b(368)]((c.leaves??[]).length,1),position:{x:X,y:F},rotation:135,petalType:m,colorId:L||c.palette?.[0]?.id||b(372),fabricSquareSize:Y,scale:1,widthScale:1,visible:!0,locked:!1};r(I=>{const U=b;I.leaves||(I[U(366)]=[]),I[U(366)].push(V)},!0),h[b(365)](a,{kind:h.iQYRi,leafId:V.id}),y(!1)}}}function qn(c,r){c=c-308;const a=V0();let i=a[c];if(qn.pqNCGs===void 0){var f=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let y="",_="",v=y+f;for(let w=0,D,b,m=0;b=h.charAt(m++);~b&&(D=w%4?D*64+b:b,w++%4)?y+=v.charCodeAt(m+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)b=d.indexOf(b);for(let w=0,D=y.length;w<D;w++)_+="%"+("00"+y.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(_)};qn.AhrnPj=f,qn.zRlYMD={},qn.pqNCGs=!0}const x=a[0],g=c+x,S=qn.zRlYMD[g];if(S)i=S;else{const h=function(d){this.wWaFqR=d,this.BpLpqG=[1,0,0],this.nHPAWP=function(){return"newState"},this.dyJhve="\\w+ *\\(\\) *{\\w+ *",this.qaswZh=`['|"].+['|"];? *}`};h.prototype.LfOHCc=function(){const d=new RegExp(this.dyJhve+this.qaswZh),y=d.test(this.nHPAWP.toString())?--this.BpLpqG[1]:--this.BpLpqG[0];return this.DYebht(y)},h.prototype.DYebht=function(d){return~d?this.RqMgeu(this.wWaFqR):d},h.prototype.RqMgeu=function(d){for(let y=0,_=this.BpLpqG.length;y<_;y++)this.BpLpqG.push(Math.round(Math.random())),_=this.BpLpqG.length;return d(this.BpLpqG[0])},new h(qn).LfOHCc(),i=qn.AhrnPj(i),qn.zRlYMD[g]=i}return i}(function(c,r){const a=qn,i=c();for(;;)try{if(-parseInt(a(330))/1*(-parseInt(a(313))/2)+parseInt(a(337))/3*(parseInt(a(343))/4)+-parseInt(a(345))/5+parseInt(a(341))/6*(-parseInt(a(331))/7)+-parseInt(a(324))/8+parseInt(a(351))/9*(-parseInt(a(354))/10)+parseInt(a(340))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,599146);function V0(){const c=["vuHUD1G","wxzZyKW","zMLUza","zMXVD2vYCW","z3jVDxbjza","ndy3mdC0nfzSrM1tuq","ANv5DwO","wwPyuLi","zMXVD2vYswrZ","A2LUza","uwHHzeW","nZLIEKvhDhi","mtrfz3bXtMm","C2vHCMnO","zgfOrMS","Cgv0ywXZ","vuXXyuW","EuL0z0G","nteZm1n2zxfitq","kcGOlISPkYKRksSK","zfniuei","mZyYmJK4mZf3rMrMvva","mZeZotmWmLrYDMTxyq","y29UC3rYDwn0B3i","mJG0CwjMqwHH","zhPND0y","ndi0mJCYmhHMtgLiCq","zMXVD2vYswq","uuzOruy","Aw5JBhvKzxm","zMXVD2vY","tgPWELe","mtm4nKT5tuHKrG","DKvSu2O","sfLyrhq","mJq3odbHAfLQENa","BwL4zwq","rgjvvhK","C1HnD1m","BgvHzKLK","BgvHzKLKCW","Bgf5zxi","BgvHzG","z3jVDxa","sNP1u2y","z3jVDxbZ","Cgv0ywW","wvfTtvC","Aw5KzxG","mteYnNHuvuXgtq","BgvHDMvZ","Dg9tDhjPBMC","EuXtq2e","zMLSDgvY","tg1suu0"];return V0=function(){return c},V0()}const Mb=(function(){const c=qn,r={YQmMW:c(333)};let a=!0;return function(i,f){const x=c;if(r[x(311)]===x(326))return new _0xbd690b(_0x53e83c[x(327)].filter(g=>g!==_0x29cb4d[x(346)]));{const g=a?function(){if(f){const S=f.apply(i,arguments);return f=null,S}}:function(){};return a=!1,g}}})(),Rs=Mb(void 0,function(){const c=qn,r={UHnwX:c(338)};return Rs[c(315)]()[c(332)](r[c(319)])[c(315)]()[c(342)](Rs).search(r[c(319)])});Rs();function jb(c,r){const a=qn,i={IdFHC:function(b,m){return b!==m},LvLhf:a(344),QFhEF:a(352),yItgH:"layer",MYZDO:function(b,m){return b===m},vAyqD:function(b,m){return b===m},DeDRR:a(355),QhadL:a(361),qJlXW:a(362),GxhoF:function(b,m){return b===m},HYXDt:"petal",YvsbL:a(357),Ryxrj:"flowers",NChHR:function(b,m){return b===m},muyEh:"flower",qNBqv:function(b,m){return b===m},DbUTy:function(b,m){return b!==m},yLSCa:a(308),mvfht:function(b,m){return b===m},ULqaL:function(b,m){return b===m},LjpzQ:"leaves",dSHPB:function(b,m,L){return b(m,L)},LmRQM:function(b,m,L){return b(m,L)},jMUfN:function(b,m){return b===m},juyuj:function(b,m){return b===m}},f=i[a(339)](ee.useMemo,()=>{const b=a;if(i.IdFHC(i.LvLhf,i[b(347)]))return r[b(328)]==="flower"||r.kind===i[b(336)]||i.MYZDO(r.kind,"petal")||r.kind===b(334)?c[b(322)].find(m=>m.id===r.flowerId)??null:null;{const m=(_0x4528df.groups??[]).find(L=>L.id===_0x32b52e.groupId);if(m)return new _0x5db572(m[b(327)])}},[c[a(322)],r]),x=ee.useMemo(()=>{const b=a;if(i.vAyqD(r[b(328)],b(322)))return c.flowers[b(317)](m=>r.flowerIds.includes(m.id));if(i.vAyqD(r.kind,i.DeDRR))return c.flowers.filter(m=>r.flowerIds.includes(m.id));if(r.kind==="group"){const m=(c.groups??[])[b(321)](L=>L.id===r[b(323)]);if(m)return c[b(322)].filter(L=>m[b(327)][b(348)](L.id))}return[]},[c.flowers,c[a(309)],r]),g=i[a(318)](ee.useMemo,()=>{const b=a;return r[b(328)]===i[b(329)]?(c[b(314)]??[])[b(321)](m=>m.id===r[b(358)])??null:null},[c.leaves,r]),S=ee.useMemo(()=>{const b=a;return r[b(328)]===i.qJlXW?(c[b(309)]??[]).find(m=>m.id===r[b(323)])??null:null},[c.groups,r]),h=ee.useMemo(()=>{const b=a;return f&&(i.GxhoF(r.kind,"layer")||i.MYZDO(r.kind,i.HYXDt))?i.GxhoF(i.YvsbL,i[b(320)])?f.layers.find(m=>m.id===r.layerId)??null:_0x134907[b(328)]===b(362)?(_0x3ea23a[b(309)]??[])[b(321)](m=>m.id===_0x1d1c9e.groupId)??null:null:null},[f,r]),d=i.jMUfN(r.kind,i[a(353)])?r[a(312)]:null,y=i.GxhoF(r[a(328)],a(334))?r.petals:[],_=r[a(328)]==="stencil"?(c.stencils??[])[a(321)](b=>b.id===r.stencilId)??null:null,v=r[a(328)]==="flower"||r[a(328)]===a(360)||r[a(328)]===i.HYXDt||i[a(325)](r.kind,"petals")?r[a(346)]:null,w=ee.useMemo(()=>{const b=a;if(r[b(328)]===i.qJlXW){const m=(c[b(309)]??[])[b(321)](L=>L.id===r[b(323)]);if(m)return new Set(m[b(327)])}if(r.kind===i.Ryxrj)return new Set(r[b(327)]);if(i.NChHR(r[b(328)],b(355)))return new Set(r[b(327)]);if(r.kind===i.muyEh||r[b(328)]==="layer"||i.qNBqv(r[b(328)],b(310))||r.kind==="petals"){const m=ll(c,r[b(346)]);if(m)return r[b(328)]===b(349)?new Set(m[b(327)][b(317)](L=>L!==r.flowerId)):new Set(m[b(327)])}return new Set},[r,c]),D=ee.useMemo(()=>{const b=a;if(i[b(356)](i.yLSCa,i[b(316)]))return new _0x401fd4(_0x46970c[b(359)]);if(i.mvfht(r[b(328)],b(362))){const m=(c[b(309)]??[])[b(321)](L=>L.id===r[b(323)]);if(m)return new Set(m[b(359)])}if(i[b(335)](r.kind,i[b(350)]))return new Set(r.leafIds);if(i.ULqaL(r[b(328)],"mixed"))return new Set(r[b(359)]);if(r.kind===i[b(329)]){const m=jl(c,r.leafId);if(m)return new Set(m.leafIds.filter(L=>L!==r[b(358)]))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:x,selectedLeaf:g,selectedGroup:S,selectedLayer:h,selectedPetalIndex:d,selectedPetals:y,selectedStencil:_,selectedFlowerId:v,groupHighlightedFlowerIds:w,groupHighlightedLeafIds:D}}function zb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,x=ee.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:g,containerRef:S,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:y,isDesktop:_}=bb(),v=ee.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[w,D]=ee.useState({});ee.useEffect(()=>{try{const _e=localStorage.getItem(v);if(_e){const Be=JSON.parse(_e);if(Be&&typeof Be=="object"){D(Be);return}}}catch{}const me=r.flowers?.[0];me&&D({[me.id]:!0})},[v]),ee.useEffect(()=>{try{localStorage.setItem(v,JSON.stringify(w))}catch{}},[v,w]),ee.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;D(_e=>_e?.[me]?_e:{..._e,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;D(_e=>{const Be={..._e};for(const Ze of me)Be[Ze]=!0;return Be})}},[a]);const b=me=>w?.[me]??!1,m=me=>D(_e=>({..._e,[me]:!(_e?.[me]??!1)})),L=ee.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[Y,q]=ee.useState({});ee.useEffect(()=>{try{const _e=localStorage.getItem(L);if(_e){const Be=JSON.parse(_e);if(Be&&typeof Be=="object"){q(Be);return}}}catch{}const me=r.groups??[];if(me.length>0){const _e={};for(const Be of me)_e[Be.id]=!0;q(_e)}},[L]),ee.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(Y))}catch{}},[L,Y]);const B=me=>Y?.[me]??!0,O=me=>q(_e=>({..._e,[me]:!(_e?.[me]??!0)})),H=ee.useRef({flowerId:null,timer:null}),R=me=>{const _e=H.current.timer;_e&&window.clearTimeout(_e),H.current.flowerId=me,H.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),D(Be=>({...Be,[me]:!0})),H.current.timer=null,H.current.flowerId=null},200)},X=me=>{const _e=H.current.timer;_e&&H.current.flowerId===me&&window.clearTimeout(_e),H.current.timer=null,H.current.flowerId=null,i({kind:"flower",flowerId:me}),m(me)},F=ee.useRef(null),[J,V]=ee.useState({w:520,h:520});ee.useEffect(()=>{const me=F.current;if(!me)return;const _e=new ResizeObserver(Be=>{for(const Ze of Be){const{width:_t,height:Qn}=Ze.contentRect;_t>0&&Qn>0&&V({w:_t,h:Qn})}});return _e.observe(me),()=>_e.disconnect()},[]);const I=me=>{const _e=F.current;if(!_e)return{x:0,y:0};const Be=_e.createSVGPoint();Be.x=me.clientX,Be.y=me.clientY;const Ze=_e.getScreenCTM();if(!Ze)return{x:0,y:0};const _t=Be.matrixTransform(Ze.inverse());return{x:_t.x,y:_t.y}},U=500*ln,j=-300*ln,p=800*ln,z=ee.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[E,T]=ee.useState(6),[G,N]=ee.useState(z[6]),M=ee.useCallback(me=>{T(_e=>{const Be=typeof me=="function"?me(_e):me;return N(z[Be]),Be})},[z]),k=ee.useCallback(me=>{const _e=pe(me,z[0],z[z.length-1]);N(_e);let Be=0,Ze=Math.abs(z[0]-_e);for(let _t=1;_t<z.length;_t++){const Qn=Math.abs(z[_t]-_e);Qn<Ze&&(Be=_t,Ze=Qn)}T(Be)},[z]),[K,Z]=ee.useState({x:0,y:0}),[Q,le]=ee.useState(!0),[ce,de]=ee.useState(!1),fe=ee.useRef(null),be=ee.useMemo(()=>{const me=J.w/J.h,_e=520,Be=_e*me;return(Ze,_t=G)=>{const Qn=pe(Ze.x,-(p*_t-Be),-j*_t),cl=pe(Ze.y,-(p*_t-_e),-j*_t);return{x:Qn,y:cl}}},[J,G,j,p]),he=ee.useMemo(()=>be(K),[K,be]),De=ee.useCallback(me=>Z(me),[]),nt=ee.useMemo(()=>{const me=J.w/J.h,_e=520,Be=_e*me,Ze=-he.x/G,_t=-he.y/G;return`${Ze} ${_t} ${Be/G} ${_e/G}`},[G,he,J]),{deleteLeafById:Ke,handleShiftLeafSelect:Xe,groupSelectedLeaves:dt,ungroupLeaves:Yt,addLeafToGroup:zt,removeLeafFromGroup:vt,addLeavesToGroup:Ht,mergeLeafGroups:an}=yb({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:gn,setShowAddFlowerDialog:Jn,addFlowerOpts:Pe,setAddFlowerOpts:vn,addFlower:Dl,confirmAddFlower:il}=Sb({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:G,pan:he,stageSize:J,CANVAS_MAX_SVG:U}),{showAddLeafDialog:rl,setShowAddLeafDialog:Nl,addLeafOpts:ia,setAddLeafOpts:Vn,addLeaf:fi,confirmAddLeaf:Gn}=Cb({project:r,applyUpdate:f,setSelection:i,zoom:G,pan:he,stageSize:J,CANVAS_MAX_SVG:U}),{selectedFlower:kt,selectedFlowers:pn,selectedLeaf:Re,selectedLayer:xe,selectedPetalIndex:ke,selectedPetals:qe,selectedStencil:Se,selectedFlowerId:ye,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:je}=jb(r,a),{deleteFlowerById:we,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:We,deleteSelected:Je,groupSelectedFlowers:Te,groupSelectedMixed:qt,ungroupFlowers:et,ungroupAll:Dt,addToGroup:rt,mergeGroups:lt,addStencil:mt,deleteStencil:yn,handleShiftFlowerSelect:Ma,togglePetalSelection:Wt}=vb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:q,zoom:G,pan:he,stageSize:J,CANVAS_MAX_SVG:U,deleteLeafById:Ke}),ze=dm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:G,pan:he,setPan:De,stageRef:F,clientToSvgPoint:I,togglePetalSelection:Wt}),[Bt,Al]=ee.useState(0),_n=a.kind,F0=_n==="flower"?a.flowerId:null,$0=_n==="flowers"?a.flowerIds?.join(","):null,dr=_n==="layer"||_n==="petal"?a.layerId:null,ra=_n==="petal"?a.index:null,di=_n==="petals"?a.petals?.length:null;ee.useEffect(()=>{_n!=="project"&&Al(Date.now())},[_n,F0,$0,dr,ra,di]),ee.useEffect(()=>{if(!fe.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const _e=fe.current.querySelector(`[data-flower-id="${me}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Tl=ee.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[Bt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:S,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${g.left}%`}:void 0,children:s.jsx(ym,{project:r,selection:a,setSelection:i,expandedFlowers:w,setExpandedFlowers:D,isExpanded:b,toggleExpanded:m,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:X,addFlower:Dl,deleteSelected:Je,addOuterLayer:$e,deleteOuterLayer:We,deleteFlowerById:we,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:fe,groups:r.groups??[],expandedGroups:Y,isGroupExpanded:B,toggleGroupExpanded:O,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:et,leaves:r.leaves??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onAddLeaf:fi,onDeleteLeaf:Ke})}),s.jsx(Qd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:y}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Xm,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:x,selectedFlowerId:ye,zoom:G,setZoom:k,zoomLevel:E,setZoomLevel:M,ZOOM_LEVELS:z,pan:he,panRaw:K,setPan:De,showGrid:Q,setShowGrid:le,showHelp:ce,setShowHelp:de,stageRef:F,viewBox:nt,dashSyncToken:Bt,dashDelay:Tl,beginPan:ze.beginPan,updatePan:ze.updatePan,endPan:ze.endPan,beginMarquee:ze.beginMarquee,updateMarquee:ze.updateMarquee,endMarquee:ze.endMarquee,marqueeRef:ze.marqueeRef,marqueeRect:ze.marqueeRect,beginFlowerDrag:ze.beginFlowerDrag,updateFlowerDrag:ze.updateFlowerDrag,endFlowerDrag:ze.endFlowerDrag,scaleDragRef:ze.scaleDragRef,beginScaleDrag:ze.beginScaleDrag,updateScaleDrag:ze.updateScaleDrag,endScaleDrag:ze.endScaleDrag,rotationDragRef:ze.rotationDragRef,beginRotationDrag:ze.beginRotationDrag,updateRotationDrag:ze.updateRotationDrag,endRotationDrag:ze.endRotationDrag,widthScaleDragRef:ze.widthScaleDragRef,beginWidthScaleDrag:ze.beginWidthScaleDrag,updateWidthScaleDrag:ze.updateWidthScaleDrag,endWidthScaleDrag:ze.endWidthScaleDrag,radiusDragRef:ze.radiusDragRef,beginRadiusDrag:ze.beginRadiusDrag,updateRadiusDrag:ze.updateRadiusDrag,endRadiusDrag:ze.endRadiusDrag,togglePetalSelection:Wt,clientToSvgPoint:I,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:mt,onDeleteStencil:yn,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:Ma,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:je,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectGroup:me=>i({kind:"group",groupId:me}),onShiftSelectLeaf:Xe})}),s.jsx(Qd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:y}),s.jsx("div",{className:"min-w-0 shrink-0",style:_?{width:`${g.right}%`}:void 0,children:s.jsx(cb,{project:r,selection:a,applyUpdate:f,selectedFlower:kt,selectedFlowers:pn,selectedLayer:xe,selectedPetalIndex:ke,selectedPetals:qe,selectedStencil:Se,onDeleteStencil:yn,groups:r.groups??[],onGroupFlowers:Te,onUngroupFlowers:et,onUngroupAll:Dt,onAddToGroup:rt,onMergeGroups:lt,selectedLeaf:Re,onDeleteLeaf:Ke,onGroupLeaves:dt,onUngroupLeaves:Yt,onAddLeafToGroup:zt,onRemoveLeafFromGroup:vt,onAddLeavesToGroup:Ht,onMergeLeafGroups:an,onGroupMixed:qt})})]}),gn&&s.jsx(ob,{palette:r.palette,addFlowerOpts:Pe,setAddFlowerOpts:vn,onConfirm:il,onCancel:()=>Jn(!1)}),rl&&s.jsx(db,{palette:r.palette,addLeafOpts:ia,setAddLeafOpts:Vn,onConfirm:Gn,onCancel:()=>Nl(!1)}),ce&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>de(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>de(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,_e])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),s.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},me))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function Db({cg:c}){const[r,a]=ee.useState("w"),[i,f]=ee.useState(""),x=c.totalAreaCm2,g=parseFloat(i),h=i!==""&&Number.isFinite(g)&&g>0?Math.round(x/g*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",x,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>f(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function Nb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(Db,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Ab(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Tb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Lb(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Eb(){const[c,r]=ee.useState("home"),[a,i]=ee.useState([]),[f,x]=ee.useState(null),[g,S]=ee.useState({kind:"project"}),[h,d]=ee.useState([]),[y,_]=ee.useState(0),v=ee.useRef(f),w=ee.useRef(h),D=ee.useRef(y);ee.useEffect(()=>{v.current=f},[f]),ee.useEffect(()=>{w.current=h},[h]),ee.useEffect(()=>{D.current=y},[y]);const b=ee.useRef(null),m=ee.useRef(null),L=ee.useRef(null),Y=ee.useRef(null),[q,B]=ee.useState(null);ee.useEffect(()=>{const N=q?window.setTimeout(()=>B(null),2200):null;return()=>{N&&window.clearTimeout(N)}},[q]),ee.useEffect(()=>{i(rr())},[]);function O(N){const M=JSON.stringify(N);d([M]),_(0)}function H(N,M=!0){if(!M){x(be=>{if(!be)return be;const he=ta(be);return N(he),he.updatedAt=D0(),he});return}const k=v.current;if(!k)return;const K=ta(k);N(K),K.updatedAt=D0(),x(K);const Z=w.current,Q=D.current;if(Z.length===0){O(K);return}const le=JSON.stringify(K);let de=[...Z.slice(0,Q+1),le];const fe=50;de.length>fe&&(de=de.slice(de.length-fe)),d(de),_(de.length-1)}function R(){_(N=>{if(N<=0)return N;const M=N-1,k=w.current[M];return k&&x(Ca(JSON.parse(k))),B("Undo"),M})}function X(){_(N=>{if(N>=w.current.length-1)return N;const M=N+1,k=w.current[M];return k&&x(Ca(JSON.parse(k))),B("Redo"),M})}function F(){if(!f)return;const N=Vh(f);i(rr()),B(N?"Saved":" ")}function J(){if(!f)return;const N=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),M=URL.createObjectURL(N),k=document.createElement("a");k.href=M,k.download=`${f.title||"tsumami"}.json`,k.click(),URL.revokeObjectURL(M),B("JSON exported")}function V(N){const M=new FileReader;M.onload=()=>{try{const k=JSON.parse(String(M.result??""));if(!k||typeof k!="object"||!Array.isArray(k.flowers))throw new Error("Invalid JSON");const K=Ca(k);x(K),S({kind:"project"}),O(K),r("editor"),B("Imported")}catch{B("Import failed")}},M.readAsText(N)}function I(N){const M=Ca(N);x(M),S({kind:"project"}),O(M),r("editor")}function U(N){return N&&(N.kind==="flower"||N.kind==="layer"||N.kind==="petal")?N.flowerId:null}function j(){if(!f)return;const N=U(g);if(!N)return;const M=f.flowers.find(k=>k.id===N);M&&(m.current=ta(M),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:M},null,2)).catch(()=>{}),B("Flower copied"))}function p(){if(!f||g.kind!=="leaf")return;const N=(f.leaves??[]).find(M=>M.id===g.leafId);N&&(L.current=ta(N),B("Leaf copied"))}function z(){if(!f)return;const N=m.current;if(!N){B("Nothing to paste");return}const M=Uh(N,{x:12+Math.random()*10,y:12+Math.random()*10});H(k=>{k.flowers.push(M)},!0),S({kind:"flower",flowerId:M.id}),B("Flower pasted")}function E(){if(!f)return;const N=L.current;if(!N)return;const M=Lt("leaf"),k={...ta(N),id:M,name:N.name+" (copy)",position:{x:N.position.x+30,y:N.position.y+30}};H(K=>{K.leaves||(K.leaves=[]),K.leaves.push(k)},!0),S({kind:"leaf",leafId:k.id}),B("Leaf pasted")}function T(N){if(!f)return;const M=U(g);M&&(H(k=>{const K=k.flowers.findIndex(ce=>ce.id===M);if(K<0)return;const Z=k.flowers,Q=Z[K];if(!Q)return;if(Z.splice(K,1),N==="front"){Z.push(Q);return}if(N==="back"){Z.unshift(Q);return}if(N==="forward"){if(K>=Z.length){Z.push(Q);return}Z.splice(K+1,0,Q);return}const le=pe(K-1,0,Z.length);Z.splice(le,0,Q)},!0),B(N==="front"?"Brought to front":N==="back"?"Sent to back":N==="forward"?"Moved forward":"Moved backward"))}ee.useEffect(()=>{function N(k){const K=k;if(!K)return!1;const Z=String(K.tagName||"").toLowerCase();return Z==="input"||Z==="textarea"||Z==="select"||!!K.isContentEditable}function M(k){if(!(N(k.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?k.metaKey:k.ctrlKey))){if(c==="editor"){if(k.key.toLowerCase()==="c"){k.preventDefault(),g.kind==="leaf"?p():j();return}if(k.key.toLowerCase()==="v"){k.preventDefault(),L.current&&(g.kind==="leaf"||g.kind==="leaves"||g.kind==="mixed"||!m.current)?E():z();return}}k.key.toLowerCase()==="z"&&(k.preventDefault(),k.shiftKey?X():R()),k.key.toLowerCase()==="s"&&(k.preventDefault(),F())}}return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[f,h,y,g,c]);const G=ee.useMemo(()=>f?Fh(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(lm,{view:c,onNavigate:r,project:f,onSave:F,onLoad:()=>r("home"),onImportJson:()=>Y.current?.click(),onExportJson:J,onExportSvg:()=>{const N=document.querySelector('[data-testid="canvas-svg"]');N&&f&&em(N,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const N=document.querySelector('[data-testid="canvas-svg"]');N&&f&&tm(N,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:Y,type:"file",accept:"application/json",className:"hidden",onChange:N=>{const M=N.target.files?.[0];M&&V(M),N.currentTarget.value=""}}),q&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:q}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(am,{saved:a,onNew:()=>r("new"),onOpen:N=>{const M=Ca(ta(N));x(M),S({kind:"project"}),O(M),r("editor")},onDelete:N=>{Qh(N),i(rr()),B("Deleted")}}),c==="new"&&s.jsx(im,{onBack:()=>r("home"),onCreate:N=>{const M=Kh({title:N});I(M)}}),c==="editor"&&f&&s.jsx(zb,{project:f,selection:g,setSelection:S,applyUpdate:H,onGoRecipe:()=>r("recipe"),onImport:V,dragRef:b,onCopyFlower:j,onPasteFlower:z,onArrangeFlower:T,canPasteFlower:!!m.current,onUndo:R,onRedo:X,canUndo:y>0,canRedo:y<h.length-1}),c==="recipe"&&f&&G&&s.jsx(Nb,{project:f,recipe:G,onBack:()=>r("editor"),onExportJson:J}),c==="terms"&&s.jsx(Ab,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(Tb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Lb,{onNavigate:r})]})}class kb extends ee.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Dh.createRoot(document.getElementById("root")).render(s.jsx(ee.StrictMode,{children:s.jsx(kb,{children:s.jsx(Eb,{})})}));

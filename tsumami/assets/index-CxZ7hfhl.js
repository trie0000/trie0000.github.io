(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const x of f)if(x.type==="childList")for(const v of x.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function a(f){const x={};return f.integrity&&(x.integrity=f.integrity),f.referrerPolicy&&(x.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?x.credentials="include":f.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function i(f){if(f.ep)return;f.ep=!0;const x=a(f);fetch(f.href,x)}})();var cs={exports:{}},lr={};var Ld;function yh(){if(Ld)return lr;Ld=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,x){var v=null;if(x!==void 0&&(v=""+x),f.key!==void 0&&(v=""+f.key),"key"in f){x={};for(var S in f)S!=="key"&&(x[S]=f[S])}else x=f;return f=x.ref,{$$typeof:c,type:i,key:v,ref:f!==void 0?f:null,props:x}}return lr.Fragment=r,lr.jsx=a,lr.jsxs=a,lr}var Ed;function ph(){return Ed||(Ed=1,cs.exports=yh()),cs.exports}var s=ph(),us={exports:{}},Ne={};var Id;function _h(){if(Id)return Ne;Id=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function j(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,h={};function L(C,A,G){this.props=C,this.context=A,this.refs=h,this.updater=G||D}L.prototype.isReactComponent={},L.prototype.setState=function(C,A){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,A,"setState")},L.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=L.prototype;function O(C,A,G){this.props=C,this.context=A,this.refs=h,this.updater=G||D}var B=O.prototype=new R;B.constructor=O,b(B,L.prototype),B.isPureReactComponent=!0;var Y=Array.isArray;function X(){}var I={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function V(C,A,G){var K=G.ref;return{$$typeof:c,type:C,key:A,ref:K!==void 0?K:null,props:G}}function W(C,A){return V(C.type,A,C.props)}function P(C){return typeof C=="object"&&C!==null&&C.$$typeof===c}function q(C){var A={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return A[G]})}var H=/\/+/g;function U(C,A){return typeof C=="object"&&C!==null&&C.key!=null?q(""+C.key):A.toString(36)}function _(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(X,X):(C.status="pending",C.then(function(A){C.status==="pending"&&(C.status="fulfilled",C.value=A)},function(A){C.status==="pending"&&(C.status="rejected",C.reason=A)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function g(C,A,G,K,ee){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var ce=!1;if(C===null)ce=!0;else switch(ae){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(C.$$typeof){case c:case r:ce=!0;break;case w:return ce=C._init,g(ce(C._payload),A,G,K,ee)}}if(ce)return ee=ee(C),ce=K===""?"."+U(C,0):K,Y(ee)?(G="",ce!=null&&(G=ce.replace(H,"$&/")+"/"),g(ee,A,G,"",function(me){return me})):ee!=null&&(P(ee)&&(ee=W(ee,G+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(H,"$&/")+"/")+ce)),A.push(ee)),1;ce=0;var xe=K===""?".":K+":";if(Y(C))for(var fe=0;fe<C.length;fe++)K=C[fe],ae=xe+U(K,fe),ce+=g(K,A,G,ae,ee);else if(fe=j(C),typeof fe=="function")for(C=fe.call(C),fe=0;!(K=C.next()).done;)K=K.value,ae=xe+U(K,fe++),ce+=g(K,A,G,ae,ee);else if(ae==="object"){if(typeof C.then=="function")return g(_(C),A,G,K,ee);throw A=String(C),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.")}return ce}function N(C,A,G){if(C==null)return C;var K=[],ee=0;return g(C,K,"","",function(ae){return A.call(G,ae,ee++)}),K}function E(C){if(C._status===-1){var A=C._result;A=A(),A.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=A)}if(C._status===1)return C._result.default;throw C._result}var k=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},z={map:N,forEach:function(C,A,G){N(C,function(){A.apply(this,arguments)},G)},count:function(C){var A=0;return N(C,function(){A++}),A},toArray:function(C){return N(C,function(A){return A})||[]},only:function(C){if(!P(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ne.Activity=p,Ne.Children=z,Ne.Component=L,Ne.Fragment=a,Ne.Profiler=f,Ne.PureComponent=O,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return I.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(C,A,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var K=b({},C.props),ee=C.key;if(A!=null)for(ae in A.key!==void 0&&(ee=""+A.key),A)!Z.call(A,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&A.ref===void 0||(K[ae]=A[ae]);var ae=arguments.length-2;if(ae===1)K.children=G;else if(1<ae){for(var ce=Array(ae),xe=0;xe<ae;xe++)ce[xe]=arguments[xe+2];K.children=ce}return V(C.type,ee,K)},Ne.createContext=function(C){return C={$$typeof:v,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:x,_context:C},C},Ne.createElement=function(C,A,G){var K,ee={},ae=null;if(A!=null)for(K in A.key!==void 0&&(ae=""+A.key),A)Z.call(A,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=A[K]);var ce=arguments.length-2;if(ce===1)ee.children=G;else if(1<ce){for(var xe=Array(ce),fe=0;fe<ce;fe++)xe[fe]=arguments[fe+2];ee.children=xe}if(C&&C.defaultProps)for(K in ce=C.defaultProps,ce)ee[K]===void 0&&(ee[K]=ce[K]);return V(C,ae,ee)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:S,render:C}},Ne.isValidElement=P,Ne.lazy=function(C){return{$$typeof:w,_payload:{_status:-1,_result:C},_init:E}},Ne.memo=function(C,A){return{$$typeof:m,type:C,compare:A===void 0?null:A}},Ne.startTransition=function(C){var A=I.T,G={};I.T=G;try{var K=C(),ee=I.S;ee!==null&&ee(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(X,k)}catch(ae){k(ae)}finally{A!==null&&G.types!==null&&(A.types=G.types),I.T=A}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(C){return I.H.use(C)},Ne.useActionState=function(C,A,G){return I.H.useActionState(C,A,G)},Ne.useCallback=function(C,A){return I.H.useCallback(C,A)},Ne.useContext=function(C){return I.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,A){return I.H.useDeferredValue(C,A)},Ne.useEffect=function(C,A){return I.H.useEffect(C,A)},Ne.useEffectEvent=function(C){return I.H.useEffectEvent(C)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(C,A,G){return I.H.useImperativeHandle(C,A,G)},Ne.useInsertionEffect=function(C,A){return I.H.useInsertionEffect(C,A)},Ne.useLayoutEffect=function(C,A){return I.H.useLayoutEffect(C,A)},Ne.useMemo=function(C,A){return I.H.useMemo(C,A)},Ne.useOptimistic=function(C,A){return I.H.useOptimistic(C,A)},Ne.useReducer=function(C,A,G){return I.H.useReducer(C,A,G)},Ne.useRef=function(C){return I.H.useRef(C)},Ne.useState=function(C){return I.H.useState(C)},Ne.useSyncExternalStore=function(C,A,G){return I.H.useSyncExternalStore(C,A,G)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.3",Ne}var Bd;function Os(){return Bd||(Bd=1,us.exports=_h()),us.exports}var $=Os(),ss={exports:{}},ar={},os={exports:{}},xs={};var qd;function Sh(){return qd||(qd=1,(function(c){function r(g,N){var E=g.length;g.push(N);e:for(;0<E;){var k=E-1>>>1,z=g[k];if(0<f(z,N))g[k]=N,g[E]=z,E=k;else break e}}function a(g){return g.length===0?null:g[0]}function i(g){if(g.length===0)return null;var N=g[0],E=g.pop();if(E!==N){g[0]=E;e:for(var k=0,z=g.length,C=z>>>1;k<C;){var A=2*(k+1)-1,G=g[A],K=A+1,ee=g[K];if(0>f(G,E))K<z&&0>f(ee,G)?(g[k]=ee,g[K]=E,k=K):(g[k]=G,g[A]=E,k=A);else if(K<z&&0>f(ee,E))g[k]=ee,g[K]=E,k=K;else break e}}return N}function f(g,N){var E=g.sortIndex-N.sortIndex;return E!==0?E:g.id-N.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;c.unstable_now=function(){return x.now()}}else{var v=Date,S=v.now();c.unstable_now=function(){return v.now()-S}}var d=[],m=[],w=1,p=null,y=3,j=!1,D=!1,b=!1,h=!1,L=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function B(g){for(var N=a(m);N!==null;){if(N.callback===null)i(m);else if(N.startTime<=g)i(m),N.sortIndex=N.expirationTime,r(d,N);else break;N=a(m)}}function Y(g){if(b=!1,B(g),!D)if(a(d)!==null)D=!0,X||(X=!0,q());else{var N=a(m);N!==null&&_(Y,N.startTime-g)}}var X=!1,I=-1,Z=5,V=-1;function W(){return h?!0:!(c.unstable_now()-V<Z)}function P(){if(h=!1,X){var g=c.unstable_now();V=g;var N=!0;try{e:{D=!1,b&&(b=!1,R(I),I=-1),j=!0;var E=y;try{t:{for(B(g),p=a(d);p!==null&&!(p.expirationTime>g&&W());){var k=p.callback;if(typeof k=="function"){p.callback=null,y=p.priorityLevel;var z=k(p.expirationTime<=g);if(g=c.unstable_now(),typeof z=="function"){p.callback=z,B(g),N=!0;break t}p===a(d)&&i(d),B(g)}else i(d);p=a(d)}if(p!==null)N=!0;else{var C=a(m);C!==null&&_(Y,C.startTime-g),N=!1}}break e}finally{p=null,y=E,j=!1}N=void 0}}finally{N?q():X=!1}}}var q;if(typeof O=="function")q=function(){O(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,U=H.port2;H.port1.onmessage=P,q=function(){U.postMessage(null)}}else q=function(){L(P,0)};function _(g,N){I=L(function(){g(c.unstable_now())},N)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(g){g.callback=null},c.unstable_forceFrameRate=function(g){0>g||125<g?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<g?Math.floor(1e3/g):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(g){switch(y){case 1:case 2:case 3:var N=3;break;default:N=y}var E=y;y=N;try{return g()}finally{y=E}},c.unstable_requestPaint=function(){h=!0},c.unstable_runWithPriority=function(g,N){switch(g){case 1:case 2:case 3:case 4:case 5:break;default:g=3}var E=y;y=g;try{return N()}finally{y=E}},c.unstable_scheduleCallback=function(g,N,E){var k=c.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?k+E:k):E=k,g){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=E+z,g={id:w++,callback:N,priorityLevel:g,startTime:E,expirationTime:z,sortIndex:-1},E>k?(g.sortIndex=E,r(m,g),a(d)===null&&g===a(m)&&(b?(R(I),I=-1):b=!0,_(Y,E-k))):(g.sortIndex=z,r(d,g),D||j||(D=!0,X||(X=!0,q()))),g},c.unstable_shouldYield=W,c.unstable_wrapCallback=function(g){var N=y;return function(){var E=y;y=N;try{return g.apply(this,arguments)}finally{y=E}}}})(xs)),xs}var kd;function wh(){return kd||(kd=1,os.exports=Sh()),os.exports}var fs={exports:{}},Ut={};var Gd;function Ch(){if(Gd)return Ut;Gd=1;var c=Os();function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function x(d,m,w){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:p==null?null:""+p,children:d,containerInfo:m,implementation:w}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ut.createPortal=function(d,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return x(d,m,null,w)},Ut.flushSync=function(d){var m=v.T,w=i.p;try{if(v.T=null,i.p=2,d)return d()}finally{v.T=m,i.p=w,i.d.f()}},Ut.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},Ut.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ut.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var w=m.as,p=S(w,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;w==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:j}):w==="script"&&i.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var w=S(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},Ut.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var w=m.as,p=S(w,m.crossOrigin);i.d.L(d,w,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(d,m){if(typeof d=="string")if(m){var w=S(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},Ut.requestFormReset=function(d){i.d.r(d)},Ut.unstable_batchedUpdates=function(d,m){return d(m)},Ut.useFormState=function(d,m,w){return v.H.useFormState(d,m,w)},Ut.useFormStatus=function(){return v.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Rd;function Mh(){if(Rd)return fs.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),fs.exports=Ch(),fs.exports}var Od;function jh(){if(Od)return ar;Od=1;var c=wh(),r=Os(),a=Mh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(x(e)!==e)throw Error(i(188))}function m(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return d(u),e;if(o===l)return d(u),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=o;else{for(var M=!1,T=u.child;T;){if(T===n){M=!0,n=u,l=o;break}if(T===l){M=!0,l=u,n=o;break}T=T.sibling}if(!M){for(T=o.child;T;){if(T===n){M=!0,n=o,l=u;break}if(T===l){M=!0,l=o,n=u;break}T=T.sibling}if(!M)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function U(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case L:return"Profiler";case h:return"StrictMode";case Y:return"Suspense";case X:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case O:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case B:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:U(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return U(e(t))}catch{}}return null}var _=Array.isArray,g=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},k=[],z=-1;function C(e){return{current:e}}function A(e){0>z||(e.current=k[z],k[z]=null,z--)}function G(e,t){z++,k[z]=e.current,e.current=t}var K=C(null),ee=C(null),ae=C(null),ce=C(null);function xe(e,t){switch(G(ae,t),G(ee,e),G(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?td(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=td(t),e=nd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}A(K),G(K,e)}function fe(){A(K),A(ee),A(ae)}function me(e){e.memoizedState!==null&&G(ce,e);var t=K.current,n=nd(t,e.type);t!==n&&(G(ee,e),G(K,n))}function de(e){ee.current===e&&(A(K),A(ee)),ce.current===e&&(A(ce),$i._currentValue=E)}var Me,Ke;function tt(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",Ke=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+Ke}var nt=!1;function Ze(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ie){var le=ie}Reflect.construct(e,[],se)}else{try{se.call()}catch(ie){le=ie}e.call(se.prototype)}}else{try{throw Error()}catch(ie){le=ie}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ie){if(ie&&le&&typeof ie.stack=="string")return[ie.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),M=o[0],T=o[1];if(M&&T){var J=M.split(`
`),ne=T.split(`
`);for(u=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ne.length&&!ne[u].includes("DetermineComponentFrameRoot");)u++;if(l===J.length||u===ne.length)for(l=J.length-1,u=ne.length-1;1<=l&&0<=u&&J[l]!==ne[u];)u--;for(;1<=l&&0<=u;l--,u--)if(J[l]!==ne[u]){if(l!==1||u!==1)do if(l--,u--,0>u||J[l]!==ne[u]){var re=`
`+J[l].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=l&&0<=u);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?tt(n):""}function rt(e,t){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==t&&t!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Ze(e.type,!1);case 11:return Ze(e.type.render,!1);case 1:return Ze(e.type,!0);case 31:return tt("Activity");default:return""}}function ht(e){try{var t="",n=null;do t+=rt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,kn=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Qe=c.unstable_now,yn=c.unstable_getCurrentPriorityLevel,Dl=c.unstable_ImmediatePriority,rl=c.unstable_UserBlockingPriority,cl=c.unstable_NormalPriority,Nl=c.unstable_LowPriority,ia=c.unstable_IdlePriority,Wn=c.log,di=c.unstable_setDisableYieldValue,Gn=null,Bt=null;function pn(e){if(typeof Wn=="function"&&di(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Gn,e)}catch{}}var Re=Math.clz32?Math.clz32:qe,he=Math.log,Be=Math.LN2;function qe(e){return e>>>=0,e===0?32:31-(he(e)/Be|0)|0}var Se=256,_e=262144,Ae=4194304;function De(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,M=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~o,l!==0?u=De(l):(M&=T,M!==0?u=De(M):n||(n=T&~e,n!==0&&(u=De(n))))):(T=l&~o,T!==0?u=De(T):M!==0?u=De(M):n||(n=l&~e,n!==0&&(u=De(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Pe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,u,o){var M=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,J=e.expirationTimes,ne=e.hiddenUpdates;for(n=M&~n;0<n;){var re=31-Re(n),se=1<<re;T[re]=0,J[re]=-1;var le=ne[re];if(le!==null)for(ne[re]=null,re=0;re<le.length;re++){var ie=le[re];ie!==null&&(ie.lane&=-536870913)}n&=~se}l!==0&&$e(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(M&~t))}function $e(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Re(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Re(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function ct(e,t){var n=t&-t;return n=(n&42)!==0?1:lt(n),(n&(e.suspendedLanes|t))!==0?0:n}function lt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rn(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:Md(e.type))}function ra(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var cn=Math.random().toString(36).slice(2),yt="__reactFiber$"+cn,Le="__reactProps$"+cn,ul="__reactContainer$"+cn,hi="__reactEvents$"+cn,Vn="__reactListeners$"+cn,$0="__reactHandles$"+cn,mr="__reactResources$"+cn,ca="__reactMarker$"+cn;function mi(e){delete e[yt],delete e[Le],delete e[hi],delete e[Vn],delete e[$0]}function Al(e){var t=e[yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ul]||n[yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sd(e);e!==null;){if(n=e[yt])return n;e=sd(e)}return t}e=n,n=e.parentNode}return null}function Tl(e){if(e=e[yt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function be(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function pe(e){var t=e[mr];return t||(t=e[mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ze(e){e[ca]=!0}var kt=new Set,Ct={};function Kt(e,t){Ll(e,t),Ll(e+"Capture",t)}function Ll(e,t){for(Ct[e]=t,e=0;e<t.length;e++)kt.add(t[e])}var o1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Us={};function x1(e){return gt.call(Us,e)?!0:gt.call(Zs,e)?!1:o1.test(e)?Us[e]=!0:(Zs[e]=!0,!1)}function br(e,t,n){if(x1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(M){n=""+M,o.call(this,M)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(M){n=""+M},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ec(e){if(!e._valueTracker){var t=Ks(e)?"checked":"value";e._valueTracker=f1(e,t,""+e[t])}}function Xs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d1=/[\n"\\]/g;function Sn(e){return e.replace(d1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tc(e,t,n,l,u,o,M,T){e.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.type=M:e.removeAttribute("type"),t!=null?M==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):M!=="submit"&&M!=="reset"||e.removeAttribute("value"),t!=null?nc(e,M,_n(t)):n!=null?nc(e,M,_n(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+_n(T):e.removeAttribute("name")}function Js(e,t,n,l,u,o,M,T){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){ec(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(e.name=M),ec(e)}function nc(e,t,n){t==="number"&&vr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function za(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ws(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Vs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(_(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),ec(e)}function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var h1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||h1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ps(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Qs(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Qs(e,o,t[o])}function lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(e){return b1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ol(){}var ac=null;function ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Aa=null;function Fs(e){var t=Tl(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(tc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Le]||null;if(!u)throw Error(i(90));tc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Xs(l)}break e;case"textarea":Ws(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&za(e,!!n.multiple,t,!1)}}}var rc=!1;function $s(e,t,n){if(rc)return e(t,n);rc=!0;try{var l=e(t);return l}finally{if(rc=!1,(Na!==null||Aa!==null)&&(r0(),Na&&(t=Na,e=Aa,Aa=Na=null,Fs(t),e)))for(t=0;t<e.length;t++)Fs(e[t])}}function bi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Le]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var xl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=!1;if(xl)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){cc=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{cc=!1}var El=null,uc=null,pr=null;function eo(){if(pr)return pr;var e,t=uc,n=t.length,l,u="value"in El?El.value:El.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var M=n-e;for(l=1;l<=M&&t[n-l]===u[o-l];l++);return pr=u.slice(e,1<l?1-l:void 0)}function _r(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sr(){return!0}function to(){return!1}function Jt(e){function t(n,l,u,o,M){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=M,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(o):o[T]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sr:to,this.isPropagationStopped=to,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Jt(ua),vi=p({},ua,{view:0,detail:0}),g1=Jt(vi),sc,oc,yi,Cr=p({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(sc=e.screenX-yi.screenX,oc=e.screenY-yi.screenY):oc=sc=0,yi=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:oc}}),no=Jt(Cr),v1=p({},Cr,{dataTransfer:0}),y1=Jt(v1),p1=p({},vi,{relatedTarget:0}),xc=Jt(p1),_1=p({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),S1=Jt(_1),w1=p({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C1=Jt(w1),M1=p({},ua,{data:0}),lo=Jt(M1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D1[e])?!!t[e]:!1}function fc(){return N1}var A1=p({},vi,{key:function(e){if(e.key){var t=j1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T1=Jt(A1),L1=p({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=Jt(L1),E1=p({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),I1=Jt(E1),B1=p({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),q1=Jt(B1),k1=p({},Cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G1=Jt(k1),R1=p({},ua,{newState:0,oldState:0}),O1=Jt(R1),Y1=[9,13,27,32],dc=xl&&"CompositionEvent"in window,pi=null;xl&&"documentMode"in document&&(pi=document.documentMode);var H1=xl&&"TextEvent"in window&&!pi,io=xl&&(!dc||pi&&8<pi&&11>=pi),ro=" ",co=!1;function uo(e,t){switch(e){case"keyup":return Y1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function Z1(e,t){switch(e){case"compositionend":return so(t);case"keypress":return t.which!==32?null:(co=!0,ro);case"textInput":return e=t.data,e===ro&&co?null:e;default:return null}}function U1(e,t){if(Ta)return e==="compositionend"||!dc&&uo(e,t)?(e=eo(),pr=uc=El=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return io&&t.locale!=="ko"?null:t.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K1[e.type]:t==="textarea"}function xo(e,t,n,l){Na?Aa?Aa.push(l):Aa=[l]:Na=l,t=d0(t,"onChange"),0<t.length&&(n=new wr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var _i=null,Si=null;function X1(e){Vf(e,0)}function Mr(e){var t=be(e);if(Xs(t))return e}function fo(e,t){if(e==="change")return t}var ho=!1;if(xl){var hc;if(xl){var mc="oninput"in document;if(!mc){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),mc=typeof mo.oninput=="function"}hc=mc}else hc=!1;ho=hc&&(!document.documentMode||9<document.documentMode)}function bo(){_i&&(_i.detachEvent("onpropertychange",go),Si=_i=null)}function go(e){if(e.propertyName==="value"&&Mr(Si)){var t=[];xo(t,Si,e,ic(e)),$s(X1,t)}}function J1(e,t,n){e==="focusin"?(bo(),_i=t,Si=n,_i.attachEvent("onpropertychange",go)):e==="focusout"&&bo()}function W1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mr(Si)}function V1(e,t){if(e==="click")return Mr(t)}function Q1(e,t){if(e==="input"||e==="change")return Mr(t)}function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:P1;function wi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!gt.call(t,u)||!un(e[u],t[u]))return!1}return!0}function vo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yo(e,t){var n=vo(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vo(n)}}function po(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?po(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _o(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vr(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var F1=xl&&"documentMode"in document&&11>=document.documentMode,La=null,gc=null,Ci=null,vc=!1;function So(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vc||La==null||La!==vr(l)||(l=La,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ci&&wi(Ci,l)||(Ci=l,l=d0(gc,"onSelect"),0<l.length&&(t=new wr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},yc={},wo={};xl&&(wo=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function oa(e){if(yc[e])return yc[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wo)return yc[e]=t[n];return e}var Co=oa("animationend"),Mo=oa("animationiteration"),jo=oa("animationstart"),$1=oa("transitionrun"),e2=oa("transitionstart"),t2=oa("transitioncancel"),zo=oa("transitionend"),Do=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function On(e,t){Do.set(e,t),Kt(t,[e])}var jr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ia=0,_c=0;function zr(){for(var e=Ia,t=_c=Ia=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var u=wn[t];wn[t++]=null;var o=wn[t];if(wn[t++]=null,l!==null&&u!==null){var M=l.pending;M===null?u.next=u:(u.next=M.next,M.next=u),l.pending=u}o!==0&&No(n,u,o)}}function Dr(e,t,n,l){wn[Ia++]=e,wn[Ia++]=t,wn[Ia++]=n,wn[Ia++]=l,_c|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sc(e,t,n,l){return Dr(e,t,n,l),Nr(e)}function xa(e,t){return Dr(e,null,null,t),Nr(e)}function No(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Re(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function Nr(e){if(50<Xi)throw Xi=0,Tu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ba={};function n2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,l){return new n2(e,t,n,l)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fl(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ao(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ar(e,t,n,l,u,o){var M=0;if(l=e,typeof e=="function")wc(e)&&(M=1);else if(typeof e=="string")M=ch(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=sn(31,n,t,u),e.elementType=V,e.lanes=o,e;case b:return fa(n.children,u,o,t);case h:M=8,u|=24;break;case L:return e=sn(12,n,t,u|2),e.elementType=L,e.lanes=o,e;case Y:return e=sn(13,n,t,u),e.elementType=Y,e.lanes=o,e;case X:return e=sn(19,n,t,u),e.elementType=X,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:M=10;break e;case R:M=9;break e;case B:M=11;break e;case I:M=14;break e;case Z:M=16,l=null;break e}M=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=sn(M,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function fa(e,t,n,l){return e=sn(7,e,l,t),e.lanes=n,e}function Cc(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function To(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function Mc(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Lo=new WeakMap;function Cn(e,t){if(typeof e=="object"&&e!==null){var n=Lo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ht(t)},Lo.set(e,t),t)}return{value:e,source:t,stack:ht(t)}}var qa=[],ka=0,Tr=null,Mi=0,Mn=[],jn=0,Il=null,Qn=1,Pn="";function dl(e,t){qa[ka++]=Mi,qa[ka++]=Tr,Tr=e,Mi=t}function Eo(e,t,n){Mn[jn++]=Qn,Mn[jn++]=Pn,Mn[jn++]=Il,Il=e;var l=Qn;e=Pn;var u=32-Re(l)-1;l&=~(1<<u),n+=1;var o=32-Re(t)+u;if(30<o){var M=u-u%5;o=(l&(1<<M)-1).toString(32),l>>=M,u-=M,Qn=1<<32-Re(t)+u|n<<u|l,Pn=o+e}else Qn=1<<o|n<<u|l,Pn=e}function jc(e){e.return!==null&&(dl(e,1),Eo(e,1,0))}function zc(e){for(;e===Tr;)Tr=qa[--ka],qa[ka]=null,Mi=qa[--ka],qa[ka]=null;for(;e===Il;)Il=Mn[--jn],Mn[jn]=null,Pn=Mn[--jn],Mn[jn]=null,Qn=Mn[--jn],Mn[jn]=null}function Io(e,t){Mn[jn++]=Qn,Mn[jn++]=Pn,Mn[jn++]=Il,Qn=t.id,Pn=t.overflow,Il=e}var Gt=null,ft=null,He=!1,Bl=null,zn=!1,Dc=Error(i(519));function ql(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ji(Cn(t,e)),Dc}function Bo(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[yt]=e,t[Le]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Wi.length;n++)Ge(Wi[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Js(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Vs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||$f(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=ol),t=!0):t=!1,t||ql(e,!0)}function qo(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Gt=Gt.return}}function Ga(e){if(e!==Gt)return!1;if(!He)return qo(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xu(e.type,e.memoizedProps)),n=!n),n&&ft&&ql(e),qo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ud(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ud(e)}else t===27?(t=ft,Ql(e.type)?(e=Pu,Pu=null,ft=e):ft=t):ft=Gt?Nn(e.stateNode.nextSibling):null;return!0}function da(){ft=Gt=null,He=!1}function Nc(){var e=Bl;return e!==null&&(Pt===null?Pt=e:Pt.push.apply(Pt,e),Bl=null),e}function ji(e){Bl===null?Bl=[e]:Bl.push(e)}var Ac=C(null),ha=null,hl=null;function kl(e,t,n){G(Ac,t._currentValue),t._currentValue=n}function ml(e){e._currentValue=Ac.current,A(Ac)}function Tc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Lc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var M=u.child;o=o.firstContext;e:for(;o!==null;){var T=o;o=u;for(var J=0;J<t.length;J++)if(T.context===t[J]){o.lanes|=n,T=o.alternate,T!==null&&(T.lanes|=n),Tc(o.return,n,e),l||(M=null);break e}o=T.next}}else if(u.tag===18){if(M=u.return,M===null)throw Error(i(341));M.lanes|=n,o=M.alternate,o!==null&&(o.lanes|=n),Tc(M,n,e),M=null}else M=u.child;if(M!==null)M.return=u;else for(M=u;M!==null;){if(M===e){M=null;break}if(u=M.sibling,u!==null){u.return=M.return,M=u;break}M=M.return}u=M}}function Ra(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var M=u.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var T=u.type;un(u.pendingProps.value,M.value)||(e!==null?e.push(T):e=[T])}}else if(u===ce.current){if(M=u.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}u=u.return}e!==null&&Lc(t,e,n,l),t.flags|=262144}function Lr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){ha=e,hl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return ko(ha,e)}function Er(e,t){return ha===null&&ma(e),ko(e,t)}function ko(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hl===null){if(e===null)throw Error(i(308));hl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hl=hl.next=t;return n}var l2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},a2=c.unstable_scheduleCallback,i2=c.unstable_NormalPriority,Mt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ec(){return{controller:new l2,data:new Map,refCount:0}}function zi(e){e.refCount--,e.refCount===0&&a2(i2,function(){e.controller.abort()})}var Di=null,Ic=0,Oa=0,Ya=null;function r2(e,t){if(Di===null){var n=Di=[];Ic=0,Oa=ku(),Ya={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Ic++,t.then(Go,Go),t}function Go(){if(--Ic===0&&Di!==null){Ya!==null&&(Ya.status="fulfilled");var e=Di;Di=null,Oa=0,Ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function c2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ro=g.S;g.S=function(e,t){wf=Qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&r2(e,t),Ro!==null&&Ro(e,t)};var ba=C(null);function Bc(){var e=ba.current;return e!==null?e:xt.pooledCache}function Ir(e,t){t===null?G(ba,ba.current):G(ba,t.pool)}function Oo(){var e=Bc();return e===null?null:{parent:Mt._currentValue,pool:e}}var Ha=Error(i(460)),qc=Error(i(474)),Br=Error(i(542)),qr={then:function(){}};function Yo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ho(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ol,ol),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uo(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=xt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Uo(e),e}throw va=t,Ha}}function ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(va=n,Ha):n}}var va=null;function Zo(){if(va===null)throw Error(i(459));var e=va;return va=null,e}function Uo(e){if(e===Ha||e===Br)throw Error(i(483))}var Za=null,Ni=0;function kr(e){var t=Ni;return Ni+=1,Za===null&&(Za=[]),Ho(Za,e,t)}function Ai(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Gr(e,t){throw t.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ko(e){function t(F,Q){if(e){var te=F.deletions;te===null?(F.deletions=[Q],F.flags|=16):te.push(Q)}}function n(F,Q){if(!e)return null;for(;Q!==null;)t(F,Q),Q=Q.sibling;return null}function l(F){for(var Q=new Map;F!==null;)F.key!==null?Q.set(F.key,F):Q.set(F.index,F),F=F.sibling;return Q}function u(F,Q){return F=fl(F,Q),F.index=0,F.sibling=null,F}function o(F,Q,te){return F.index=te,e?(te=F.alternate,te!==null?(te=te.index,te<Q?(F.flags|=67108866,Q):te):(F.flags|=67108866,Q)):(F.flags|=1048576,Q)}function M(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function T(F,Q,te,ue){return Q===null||Q.tag!==6?(Q=Cc(te,F.mode,ue),Q.return=F,Q):(Q=u(Q,te),Q.return=F,Q)}function J(F,Q,te,ue){var Ce=te.type;return Ce===b?re(F,Q,te.props.children,ue,te.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&ga(Ce)===Q.type)?(Q=u(Q,te.props),Ai(Q,te),Q.return=F,Q):(Q=Ar(te.type,te.key,te.props,null,F.mode,ue),Ai(Q,te),Q.return=F,Q)}function ne(F,Q,te,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==te.containerInfo||Q.stateNode.implementation!==te.implementation?(Q=Mc(te,F.mode,ue),Q.return=F,Q):(Q=u(Q,te.children||[]),Q.return=F,Q)}function re(F,Q,te,ue,Ce){return Q===null||Q.tag!==7?(Q=fa(te,F.mode,ue,Ce),Q.return=F,Q):(Q=u(Q,te),Q.return=F,Q)}function se(F,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Cc(""+Q,F.mode,te),Q.return=F,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return te=Ar(Q.type,Q.key,Q.props,null,F.mode,te),Ai(te,Q),te.return=F,te;case D:return Q=Mc(Q,F.mode,te),Q.return=F,Q;case Z:return Q=ga(Q),se(F,Q,te)}if(_(Q)||q(Q))return Q=fa(Q,F.mode,te,null),Q.return=F,Q;if(typeof Q.then=="function")return se(F,kr(Q),te);if(Q.$$typeof===O)return se(F,Er(F,Q),te);Gr(F,Q)}return null}function le(F,Q,te,ue){var Ce=Q!==null?Q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ce!==null?null:T(F,Q,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return te.key===Ce?J(F,Q,te,ue):null;case D:return te.key===Ce?ne(F,Q,te,ue):null;case Z:return te=ga(te),le(F,Q,te,ue)}if(_(te)||q(te))return Ce!==null?null:re(F,Q,te,ue,null);if(typeof te.then=="function")return le(F,Q,kr(te),ue);if(te.$$typeof===O)return le(F,Q,Er(F,te),ue);Gr(F,te)}return null}function ie(F,Q,te,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(te)||null,T(Q,F,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return F=F.get(ue.key===null?te:ue.key)||null,J(Q,F,ue,Ce);case D:return F=F.get(ue.key===null?te:ue.key)||null,ne(Q,F,ue,Ce);case Z:return ue=ga(ue),ie(F,Q,te,ue,Ce)}if(_(ue)||q(ue))return F=F.get(te)||null,re(Q,F,ue,Ce,null);if(typeof ue.then=="function")return ie(F,Q,te,kr(ue),Ce);if(ue.$$typeof===O)return ie(F,Q,te,Er(Q,ue),Ce);Gr(Q,ue)}return null}function ge(F,Q,te,ue){for(var Ce=null,We=null,ve=Q,Ie=Q=0,Ye=null;ve!==null&&Ie<te.length;Ie++){ve.index>Ie?(Ye=ve,ve=null):Ye=ve.sibling;var Ve=le(F,ve,te[Ie],ue);if(Ve===null){ve===null&&(ve=Ye);break}e&&ve&&Ve.alternate===null&&t(F,ve),Q=o(Ve,Q,Ie),We===null?Ce=Ve:We.sibling=Ve,We=Ve,ve=Ye}if(Ie===te.length)return n(F,ve),He&&dl(F,Ie),Ce;if(ve===null){for(;Ie<te.length;Ie++)ve=se(F,te[Ie],ue),ve!==null&&(Q=o(ve,Q,Ie),We===null?Ce=ve:We.sibling=ve,We=ve);return He&&dl(F,Ie),Ce}for(ve=l(ve);Ie<te.length;Ie++)Ye=ie(ve,F,Ie,te[Ie],ue),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ie:Ye.key),Q=o(Ye,Q,Ie),We===null?Ce=Ye:We.sibling=Ye,We=Ye);return e&&ve.forEach(function(ta){return t(F,ta)}),He&&dl(F,Ie),Ce}function je(F,Q,te,ue){if(te==null)throw Error(i(151));for(var Ce=null,We=null,ve=Q,Ie=Q=0,Ye=null,Ve=te.next();ve!==null&&!Ve.done;Ie++,Ve=te.next()){ve.index>Ie?(Ye=ve,ve=null):Ye=ve.sibling;var ta=le(F,ve,Ve.value,ue);if(ta===null){ve===null&&(ve=Ye);break}e&&ve&&ta.alternate===null&&t(F,ve),Q=o(ta,Q,Ie),We===null?Ce=ta:We.sibling=ta,We=ta,ve=Ye}if(Ve.done)return n(F,ve),He&&dl(F,Ie),Ce;if(ve===null){for(;!Ve.done;Ie++,Ve=te.next())Ve=se(F,Ve.value,ue),Ve!==null&&(Q=o(Ve,Q,Ie),We===null?Ce=Ve:We.sibling=Ve,We=Ve);return He&&dl(F,Ie),Ce}for(ve=l(ve);!Ve.done;Ie++,Ve=te.next())Ve=ie(ve,F,Ie,Ve.value,ue),Ve!==null&&(e&&Ve.alternate!==null&&ve.delete(Ve.key===null?Ie:Ve.key),Q=o(Ve,Q,Ie),We===null?Ce=Ve:We.sibling=Ve,We=Ve);return e&&ve.forEach(function(vh){return t(F,vh)}),He&&dl(F,Ie),Ce}function ot(F,Q,te,ue){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case j:e:{for(var Ce=te.key;Q!==null;){if(Q.key===Ce){if(Ce=te.type,Ce===b){if(Q.tag===7){n(F,Q.sibling),ue=u(Q,te.props.children),ue.return=F,F=ue;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===Z&&ga(Ce)===Q.type){n(F,Q.sibling),ue=u(Q,te.props),Ai(ue,te),ue.return=F,F=ue;break e}n(F,Q);break}else t(F,Q);Q=Q.sibling}te.type===b?(ue=fa(te.props.children,F.mode,ue,te.key),ue.return=F,F=ue):(ue=Ar(te.type,te.key,te.props,null,F.mode,ue),Ai(ue,te),ue.return=F,F=ue)}return M(F);case D:e:{for(Ce=te.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===te.containerInfo&&Q.stateNode.implementation===te.implementation){n(F,Q.sibling),ue=u(Q,te.children||[]),ue.return=F,F=ue;break e}else{n(F,Q);break}else t(F,Q);Q=Q.sibling}ue=Mc(te,F.mode,ue),ue.return=F,F=ue}return M(F);case Z:return te=ga(te),ot(F,Q,te,ue)}if(_(te))return ge(F,Q,te,ue);if(q(te)){if(Ce=q(te),typeof Ce!="function")throw Error(i(150));return te=Ce.call(te),je(F,Q,te,ue)}if(typeof te.then=="function")return ot(F,Q,kr(te),ue);if(te.$$typeof===O)return ot(F,Q,Er(F,te),ue);Gr(F,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Q!==null&&Q.tag===6?(n(F,Q.sibling),ue=u(Q,te),ue.return=F,F=ue):(n(F,Q),ue=Cc(te,F.mode,ue),ue.return=F,F=ue),M(F)):n(F,Q)}return function(F,Q,te,ue){try{Ni=0;var Ce=ot(F,Q,te,ue);return Za=null,Ce}catch(ve){if(ve===Ha||ve===Br)throw ve;var We=sn(29,ve,null,F.mode);return We.lanes=ue,We.return=F,We}}}var ya=Ko(!0),Xo=Ko(!1),Gl=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Nr(e),No(e,null,n),t}return Dr(e,l,t,n),Nr(e)}function Ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}function Rc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var M={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=M:o=o.next=M,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oc=!1;function Li(){if(Oc){var e=Ya;if(e!==null)throw e}}function Ei(e,t,n,l){Oc=!1;var u=e.updateQueue;Gl=!1;var o=u.firstBaseUpdate,M=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var J=T,ne=J.next;J.next=null,M===null?o=ne:M.next=ne,M=J;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==M&&(T===null?re.firstBaseUpdate=ne:T.next=ne,re.lastBaseUpdate=J))}if(o!==null){var se=u.baseState;M=0,re=ne=J=null,T=o;do{var le=T.lane&-536870913,ie=le!==T.lane;if(ie?(Oe&le)===le:(l&le)===le){le!==0&&le===Oa&&(Oc=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=e,je=T;le=t;var ot=n;switch(je.tag){case 1:if(ge=je.payload,typeof ge=="function"){se=ge.call(ot,se,le);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=je.payload,le=typeof ge=="function"?ge.call(ot,se,le):ge,le==null)break e;se=p({},se,le);break e;case 2:Gl=!0}}le=T.callback,le!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[le]:ie.push(le))}else ie={lane:le,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(ne=re=ie,J=se):re=re.next=ie,M|=le;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);re===null&&(J=se),u.baseState=J,u.firstBaseUpdate=ne,u.lastBaseUpdate=re,o===null&&(u.shared.lanes=0),Kl|=M,e.lanes=M,e.memoizedState=se}}function Jo(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Wo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Jo(n[e],t)}var Ua=C(null),Rr=C(0);function Vo(e,t){e=Cl,G(Rr,e),G(Ua,t),Cl=e|t.baseLanes}function Yc(){G(Rr,Cl),G(Ua,Ua.current)}function Hc(){Cl=Rr.current,A(Ua),A(Rr)}var on=C(null),Dn=null;function Yl(e){var t=e.alternate;G(St,St.current&1),G(on,e),Dn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Dn=e)}function Zc(e){G(St,St.current),G(on,e),Dn===null&&(Dn=e)}function Qo(e){e.tag===22?(G(St,St.current),G(on,e),Dn===null&&(Dn=e)):Hl()}function Hl(){G(St,St.current),G(on,on.current)}function xn(e){A(on),Dn===e&&(Dn=null),A(St)}var St=C(0);function Or(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vu(n)||Qu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=0,Ee=null,ut=null,jt=null,Yr=!1,Ka=!1,pa=!1,Hr=0,Ii=0,Xa=null,u2=0;function pt(){throw Error(i(321))}function Uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Kc(e,t,n,l,u,o){return bl=o,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,g.H=e===null||e.memoizedState===null?Ex:ru,pa=!1,o=n(l,u),pa=!1,Ka&&(o=Fo(t,n,l,u)),Po(e),o}function Po(e){g.H=ki;var t=ut!==null&&ut.next!==null;if(bl=0,jt=ut=Ee=null,Yr=!1,Ii=0,Xa=null,t)throw Error(i(300));e===null||zt||(e=e.dependencies,e!==null&&Lr(e)&&(zt=!0))}function Fo(e,t,n,l){Ee=e;var u=0;do{if(Ka&&(Xa=null),Ii=0,Ka=!1,25<=u)throw Error(i(301));if(u+=1,jt=ut=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}g.H=Ix,o=t(n,l)}while(Ka);return o}function s2(){var e=g.H,t=e.useState()[0];return t=typeof t.then=="function"?Bi(t):t,e=e.useState()[0],(ut!==null?ut.memoizedState:null)!==e&&(Ee.flags|=1024),t}function Xc(){var e=Hr!==0;return Hr=0,e}function Jc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Wc(e){if(Yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yr=!1}bl=0,jt=ut=Ee=null,Ka=!1,Ii=Hr=0,Xa=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Ee.memoizedState=jt=e:jt=jt.next=e,jt}function wt(){if(ut===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=jt===null?Ee.memoizedState:jt.next;if(t!==null)jt=t,ut=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},jt===null?Ee.memoizedState=jt=e:jt=jt.next=e}return jt}function Zr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var t=Ii;return Ii+=1,Xa===null&&(Xa=[]),e=Ho(Xa,e,t),t=Ee,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,g.H=t===null||t.memoizedState===null?Ex:ru),e}function Ur(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===O)return Rt(e)}throw Error(i(438,String(e)))}function Vc(e){var t=null,n=Ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Ee.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Zr(),Ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function gl(e,t){return typeof t=="function"?t(e):t}function Kr(e){var t=wt();return Qc(t,ut,e)}function Qc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var M=u.next;u.next=o.next,o.next=M}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var T=M=null,J=null,ne=t,re=!1;do{var se=ne.lane&-536870913;if(se!==ne.lane?(Oe&se)===se:(bl&se)===se){var le=ne.revertLane;if(le===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),se===Oa&&(re=!0);else if((bl&le)===le){ne=ne.next,le===Oa&&(re=!0);continue}else se={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},J===null?(T=J=se,M=o):J=J.next=se,Ee.lanes|=le,Kl|=le;se=ne.action,pa&&n(o,se),o=ne.hasEagerState?ne.eagerState:n(o,se)}else le={lane:se,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},J===null?(T=J=le,M=o):J=J.next=le,Ee.lanes|=se,Kl|=se;ne=ne.next}while(ne!==null&&ne!==t);if(J===null?M=o:J.next=T,!un(o,e.memoizedState)&&(zt=!0,re&&(n=Ya,n!==null)))throw n;e.memoizedState=o,e.baseState=M,e.baseQueue=J,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Pc(e){var t=wt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var M=u=u.next;do o=e(o,M.action),M=M.next;while(M!==u);un(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function $o(e,t,n){var l=Ee,u=wt(),o=He;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var M=!un((ut||u).memoizedState,n);if(M&&(u.memoizedState=n,zt=!0),u=u.queue,eu(nx.bind(null,l,u,e),[e]),u.getSnapshot!==t||M||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,{destroy:void 0},tx.bind(null,l,u,n,t),null),xt===null)throw Error(i(349));o||(bl&127)!==0||ex(l,t,n)}return n}function ex(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t=Zr(),Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tx(e,t,n,l){t.value=n,t.getSnapshot=l,lx(t)&&ax(e)}function nx(e,t,n){return n(function(){lx(t)&&ax(e)})}function lx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function ax(e){var t=xa(e,2);t!==null&&Ft(t,e,2)}function Fc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),pa){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t}function ix(e,t,n,l){return e.baseState=n,Qc(e,ut,typeof l=="function"?l:gl)}function o2(e,t,n,l,u){if(Wr(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){o.listeners.push(M)}};g.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,rx(t,o)):(o.next=n.next,t.pending=n.next=o)}}function rx(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=g.T,M={};g.T=M;try{var T=n(u,l),J=g.S;J!==null&&J(M,T),cx(e,t,T)}catch(ne){$c(e,t,ne)}finally{o!==null&&M.types!==null&&(o.types=M.types),g.T=o}}else try{o=n(u,l),cx(e,t,o)}catch(ne){$c(e,t,ne)}}function cx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){ux(e,t,l)},function(l){return $c(e,t,l)}):ux(e,t,n)}function ux(e,t,n){t.status="fulfilled",t.value=n,sx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,rx(e,n)))}function $c(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,sx(t),t=t.next;while(t!==l)}e.action=null}function sx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ox(e,t){return t}function xx(e,t){if(He){var n=xt.formState;if(n!==null){e:{var l=Ee;if(He){if(ft){t:{for(var u=ft,o=zn;u.nodeType!==8;){if(!o){u=null;break t}if(u=Nn(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){ft=Nn(u.nextSibling),l=u.data==="F!";break e}}ql(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ox,lastRenderedState:t},n.queue=l,n=Ax.bind(null,Ee,l),l.dispatch=n,l=Fc(!1),o=iu.bind(null,Ee,!1,l.queue),l=Xt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=o2.bind(null,Ee,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function fx(e){var t=wt();return dx(t,ut,e)}function dx(e,t,n){if(t=Qc(e,t,ox)[0],e=Kr(gl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Bi(t)}catch(M){throw M===Ha?Br:M}else l=t;t=wt();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(Ee.flags|=2048,Ja(9,{destroy:void 0},x2.bind(null,u,n),null)),[l,o,e]}function x2(e,t){e.action=t}function hx(e){var t=wt(),n=ut;if(n!==null)return dx(t,n,e);wt(),t=t.memoizedState,n=wt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ja(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=Zr(),Ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function mx(){return wt().memoizedState}function Xr(e,t,n,l){var u=Xt();Ee.flags|=e,u.memoizedState=Ja(1|t,{destroy:void 0},n,l===void 0?null:l)}function Jr(e,t,n,l){var u=wt();l=l===void 0?null:l;var o=u.memoizedState.inst;ut!==null&&l!==null&&Uc(l,ut.memoizedState.deps)?u.memoizedState=Ja(t,o,n,l):(Ee.flags|=e,u.memoizedState=Ja(1|t,o,n,l))}function bx(e,t){Xr(8390656,8,e,t)}function eu(e,t){Jr(2048,8,e,t)}function f2(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=Zr(),Ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function gx(e){var t=wt().memoizedState;return f2({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function vx(e,t){return Jr(4,2,e,t)}function yx(e,t){return Jr(4,4,e,t)}function px(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _x(e,t,n){n=n!=null?n.concat([e]):null,Jr(4,4,px.bind(null,t,e),n)}function tu(){}function Sx(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Uc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function wx(e,t){var n=wt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Uc(t,l[1]))return l[0];if(l=e(),pa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l}function nu(e,t,n){return n===void 0||(bl&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Mf(),Ee.lanes|=e,Kl|=e,n)}function Cx(e,t,n,l){return un(n,t)?n:Ua.current!==null?(e=nu(e,n,l),un(e,t)||(zt=!0),e):(bl&42)===0||(bl&1073741824)!==0&&(Oe&261930)===0?(zt=!0,e.memoizedState=n):(e=Mf(),Ee.lanes|=e,Kl|=e,t)}function Mx(e,t,n,l,u){var o=N.p;N.p=o!==0&&8>o?o:8;var M=g.T,T={};g.T=T,iu(e,!1,t,n);try{var J=u(),ne=g.S;if(ne!==null&&ne(T,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var re=c2(J,l);qi(e,t,re,hn(e))}else qi(e,t,l,hn(e))}catch(se){qi(e,t,{then:function(){},status:"rejected",reason:se},hn())}finally{N.p=o,M!==null&&T.types!==null&&(M.types=T.types),g.T=M}}function d2(){}function lu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=jx(e).queue;Mx(e,u,t,E,n===null?d2:function(){return zx(e),n(l)})}function jx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:E},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zx(e){var t=jx(e);t.next===null&&(t=e.alternate.memoizedState),qi(e,t.next.queue,{},hn())}function au(){return Rt($i)}function Dx(){return wt().memoizedState}function Nx(){return wt().memoizedState}function h2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Rl(n);var l=Ol(t,e,n);l!==null&&(Ft(l,t,n),Ti(l,t,n)),t={cache:Ec()},e.payload=t;return}t=t.return}}function m2(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Wr(e)?Tx(t,n):(n=Sc(e,t,n,l),n!==null&&(Ft(n,e,l),Lx(n,t,l)))}function Ax(e,t,n){var l=hn();qi(e,t,n,l)}function qi(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wr(e))Tx(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var M=t.lastRenderedState,T=o(M,n);if(u.hasEagerState=!0,u.eagerState=T,un(T,M))return Dr(e,t,u,0),xt===null&&zr(),!1}catch{}if(n=Sc(e,t,u,l),n!==null)return Ft(n,e,l),Lx(n,t,l),!0}return!1}function iu(e,t,n,l){if(l={lane:2,revertLane:ku(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wr(e)){if(t)throw Error(i(479))}else t=Sc(e,n,l,2),t!==null&&Ft(t,e,2)}function Wr(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Tx(e,t){Ka=Yr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Nt(e,n)}}var ki={readContext:Rt,use:Ur,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};ki.useEffectEvent=pt;var Ex={readContext:Rt,use:Ur,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:bx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Xr(4194308,4,px.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){Xr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(pa){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var u=n(t);if(pa){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=m2.bind(null,Ee,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,n=Ax.bind(null,Ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tu,useDeferredValue:function(e,t){var n=Xt();return nu(n,e,t)},useTransition:function(){var e=Fc(!1);return e=Mx.bind(null,Ee,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Ee,u=Xt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),xt===null)throw Error(i(349));(Oe&127)!==0||ex(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,bx(nx.bind(null,l,o,e),[e]),l.flags|=2048,Ja(9,{destroy:void 0},tx.bind(null,l,o,n,t),null),n},useId:function(){var e=Xt(),t=xt.identifierPrefix;if(He){var n=Pn,l=Qn;n=(l&~(1<<32-Re(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=u2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:au,useFormState:xx,useActionState:xx,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=iu.bind(null,Ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return Xt().memoizedState=h2.bind(null,Ee)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ru={readContext:Rt,use:Ur,useCallback:Sx,useContext:Rt,useEffect:eu,useImperativeHandle:_x,useInsertionEffect:vx,useLayoutEffect:yx,useMemo:wx,useReducer:Kr,useRef:mx,useState:function(){return Kr(gl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=wt();return Cx(n,ut.memoizedState,e,t)},useTransition:function(){var e=Kr(gl)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:$o,useId:Dx,useHostTransitionStatus:au,useFormState:fx,useActionState:fx,useOptimistic:function(e,t){var n=wt();return ix(n,ut,e,t)},useMemoCache:Vc,useCacheRefresh:Nx};ru.useEffectEvent=gx;var Ix={readContext:Rt,use:Ur,useCallback:Sx,useContext:Rt,useEffect:eu,useImperativeHandle:_x,useInsertionEffect:vx,useLayoutEffect:yx,useMemo:wx,useReducer:Pc,useRef:mx,useState:function(){return Pc(gl)},useDebugValue:tu,useDeferredValue:function(e,t){var n=wt();return ut===null?nu(n,e,t):Cx(n,ut.memoizedState,e,t)},useTransition:function(){var e=Pc(gl)[0],t=wt().memoizedState;return[typeof e=="boolean"?e:Bi(e),t]},useSyncExternalStore:$o,useId:Dx,useHostTransitionStatus:au,useFormState:hx,useActionState:hx,useOptimistic:function(e,t){var n=wt();return ut!==null?ix(n,ut,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Nx};Ix.useEffectEvent=gx;function cu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Rl(l);u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(Ft(t,e,l),Ti(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Rl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Ol(e,u,l),t!==null&&(Ft(t,e,l),Ti(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Rl(n);l.tag=2,t!=null&&(l.callback=t),t=Ol(e,l,n),t!==null&&(Ft(t,e,n),Ti(t,e,n))}};function Bx(e,t,n,l,u,o,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,M):t.prototype&&t.prototype.isPureReactComponent?!wi(n,l)||!wi(u,o):!0}function qx(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function kx(e){jr(e)}function Gx(e){console.error(e)}function Rx(e){jr(e)}function Vr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ox(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,t,n){return n=Rl(n),n.tag=3,n.payload={element:null},n.callback=function(){Vr(e,t)},n}function Yx(e){return e=Rl(e),e.tag=3,e}function Hx(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){Ox(t,n,l)}}var M=n.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(e.callback=function(){Ox(t,n,l),typeof u!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function b2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?c0():n.alternate===null&&_t===0&&(_t=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===qr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Iu(e,l,u)),!1;case 22:return n.flags|=65536,l===qr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Iu(e,l,u)),!1}throw Error(i(435,n.tag))}return Iu(e,l,u),c0(),!1}if(He)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Dc&&(e=Error(i(422),{cause:l}),ji(Cn(e,n)))):(l!==Dc&&(t=Error(i(423),{cause:l}),ji(Cn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Cn(l,n),u=su(e.stateNode,l,u),Rc(e,u),_t!==4&&(_t=2)),!1;var o=Error(i(520),{cause:l});if(o=Cn(o,n),Ki===null?Ki=[o]:Ki.push(o),_t!==4&&(_t=2),t===null)return!0;l=Cn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=su(n.stateNode,l,e),Rc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Xl===null||!Xl.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Yx(u),Hx(u,e,n,l),Rc(n,u),!1}n=n.return}while(n!==null);return!1}var ou=Error(i(461)),zt=!1;function Ot(e,t,n,l){t.child=e===null?Xo(t,null,n,l):ya(t,e.child,n,l)}function Zx(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var M={};for(var T in l)T!=="ref"&&(M[T]=l[T])}else M=l;return ma(t),l=Kc(e,t,n,M,o,u),T=Xc(),e!==null&&!zt?(Jc(e,t,u),vl(e,t,u)):(He&&T&&jc(t),t.flags|=1,Ot(e,t,l,u),t.child)}function Ux(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!wc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Kx(e,t,o,l,u)):(e=Ar(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!vu(e,u)){var M=o.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(M,l)&&e.ref===t.ref)return vl(e,t,u)}return t.flags|=1,e=fl(o,l),e.ref=t.ref,e.return=t,t.child=e}function Kx(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(wi(o,l)&&e.ref===t.ref)if(zt=!1,t.pendingProps=l=o,vu(e,u))(e.flags&131072)!==0&&(zt=!0);else return t.lanes=e.lanes,vl(e,t,u)}return xu(e,t,n,l,u)}function Xx(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Jx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ir(t,o!==null?o.cachePool:null),o!==null?Vo(t,o):Yc(),Qo(t);else return l=t.lanes=536870912,Jx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Ir(t,o.cachePool),Vo(t,o),Hl(),t.memoizedState=null):(e!==null&&Ir(t,null),Yc(),Hl());return Ot(e,t,u,n),t.child}function Gi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Jx(e,t,n,l,u){var o=Bc();return o=o===null?null:{parent:Mt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Ir(t,null),Yc(),Qo(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Qr(e,t){return t=Fr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wx(e,t,n){return ya(t,e.child,null,n),e=Qr(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function g2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Qr(t,l),t.lanes=536870912,Gi(null,e);if(Zc(t),(e=ft)?(e=cd(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Il!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=To(e),n.return=t,t.child=n,Gt=t,ft=null)):e=null,e===null)throw ql(t);return t.lanes=536870912,null}return Qr(t,l)}var o=e.memoizedState;if(o!==null){var M=o.dehydrated;if(Zc(t),u)if(t.flags&256)t.flags&=-257,t=Wx(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(zt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,zt||u){if(l=xt,l!==null&&(M=ct(l,n),M!==0&&M!==o.retryLane))throw o.retryLane=M,xa(e,M),Ft(l,e,M),ou;c0(),t=Wx(e,t,n)}else e=o.treeContext,ft=Nn(M.nextSibling),Gt=t,He=!0,Bl=null,zn=!1,e!==null&&Io(t,e),t=Qr(t,l),t.flags|=4096;return t}return e=fl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Pr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,l,u){return ma(t),n=Kc(e,t,n,l,void 0,u),l=Xc(),e!==null&&!zt?(Jc(e,t,u),vl(e,t,u)):(He&&l&&jc(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Vx(e,t,n,l,u,o){return ma(t),t.updateQueue=null,n=Fo(t,l,n,u),Po(e),l=Xc(),e!==null&&!zt?(Jc(e,t,o),vl(e,t,o)):(He&&l&&jc(t),t.flags|=1,Ot(e,t,n,o),t.child)}function Qx(e,t,n,l,u){if(ma(t),t.stateNode===null){var o=Ba,M=n.contextType;typeof M=="object"&&M!==null&&(o=Rt(M)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},kc(t),M=n.contextType,o.context=typeof M=="object"&&M!==null?Rt(M):Ba,o.state=t.memoizedState,M=n.getDerivedStateFromProps,typeof M=="function"&&(cu(t,n,M,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(M=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),M!==o.state&&uu.enqueueReplaceState(o,o.state,null),Ei(t,l,o,u),Li(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var T=t.memoizedProps,J=_a(n,T);o.props=J;var ne=o.context,re=n.contextType;M=Ba,typeof re=="object"&&re!==null&&(M=Rt(re));var se=n.getDerivedStateFromProps;re=typeof se=="function"||typeof o.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,re||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(T||ne!==M)&&qx(t,o,l,M),Gl=!1;var le=t.memoizedState;o.state=le,Ei(t,l,o,u),Li(),ne=t.memoizedState,T||le!==ne||Gl?(typeof se=="function"&&(cu(t,n,se,l),ne=t.memoizedState),(J=Gl||Bx(t,n,J,l,le,ne,M))?(re||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),o.props=l,o.state=ne,o.context=M,l=J):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Gc(e,t),M=t.memoizedProps,re=_a(n,M),o.props=re,se=t.pendingProps,le=o.context,ne=n.contextType,J=Ba,typeof ne=="object"&&ne!==null&&(J=Rt(ne)),T=n.getDerivedStateFromProps,(ne=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(M!==se||le!==J)&&qx(t,o,l,J),Gl=!1,le=t.memoizedState,o.state=le,Ei(t,l,o,u),Li();var ie=t.memoizedState;M!==se||le!==ie||Gl||e!==null&&e.dependencies!==null&&Lr(e.dependencies)?(typeof T=="function"&&(cu(t,n,T,l),ie=t.memoizedState),(re=Gl||Bx(t,n,re,l,le,ie,J)||e!==null&&e.dependencies!==null&&Lr(e.dependencies))?(ne||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,ie,J),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,ie,J)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||M===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),o.props=l,o.state=ie,o.context=J,l=re):(typeof o.componentDidUpdate!="function"||M===e.memoizedProps&&le===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&le===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Pr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=ya(t,e.child,null,u),t.child=ya(t,null,n,u)):Ot(e,t,n,u),t.memoizedState=o.state,e=t.child):e=vl(e,t,u),e}function Px(e,t,n,l){return da(),t.flags|=256,Ot(e,t,n,l),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function du(e){return{baseLanes:e,cachePool:Oo()}}function hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Fx(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,M;if((M=o)||(M=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),M&&(u=!0,t.flags&=-129),M=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(u?Yl(t):Hl(),(e=ft)?(e=cd(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Il!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=To(e),n.return=t,t.child=n,Gt=t,ft=null)):e=null,e===null)throw ql(t);return Qu(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Hl(),u=t.mode,T=Fr({mode:"hidden",children:T},u),l=fa(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,M,n),t.memoizedState=fu,Gi(null,l)):(Yl(t),mu(t,T))}var J=e.memoizedState;if(J!==null&&(T=J.dehydrated,T!==null)){if(o)t.flags&256?(Yl(t),t.flags&=-257,t=bu(e,t,n)):t.memoizedState!==null?(Hl(),t.child=e.child,t.flags|=128,t=null):(Hl(),T=l.fallback,u=t.mode,l=Fr({mode:"visible",children:l.children},u),T=fa(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ya(t,e.child,null,n),l=t.child,l.memoizedState=du(n),l.childLanes=hu(e,M,n),t.memoizedState=fu,t=Gi(null,l));else if(Yl(t),Qu(T)){if(M=T.nextSibling&&T.nextSibling.dataset,M)var ne=M.dgst;M=ne,l=Error(i(419)),l.stack="",l.digest=M,ji({value:l,source:null,stack:null}),t=bu(e,t,n)}else if(zt||Ra(e,t,n,!1),M=(n&e.childLanes)!==0,zt||M){if(M=xt,M!==null&&(l=ct(M,n),l!==0&&l!==J.retryLane))throw J.retryLane=l,xa(e,l),Ft(M,e,l),ou;Vu(T)||c0(),t=bu(e,t,n)}else Vu(T)?(t.flags|=192,t.child=e.child,t=null):(e=J.treeContext,ft=Nn(T.nextSibling),Gt=t,He=!0,Bl=null,zn=!1,e!==null&&Io(t,e),t=mu(t,l.children),t.flags|=4096);return t}return u?(Hl(),T=l.fallback,u=t.mode,J=e.child,ne=J.sibling,l=fl(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,ne!==null?T=fl(ne,T):(T=fa(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Gi(null,l),l=t.child,T=e.child.memoizedState,T===null?T=du(n):(u=T.cachePool,u!==null?(J=Mt._currentValue,u=u.parent!==J?{parent:J,pool:J}:u):u=Oo(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=hu(e,M,n),t.memoizedState=fu,Gi(e.child,l)):(Yl(t),n=e.child,e=n.sibling,n=fl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(M=t.deletions,M===null?(t.deletions=[e],t.flags|=16):M.push(e)),t.child=n,t.memoizedState=null,n)}function mu(e,t){return t=Fr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fr(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function bu(e,t,n){return ya(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $x(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Tc(e.return,t,n)}function gu(e,t,n,l,u,o){var M=e.memoizedState;M===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(M.isBackwards=t,M.rendering=null,M.renderingStartTime=0,M.last=l,M.tail=n,M.tailMode=u,M.treeForkCount=o)}function ef(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var M=St.current,T=(M&2)!==0;if(T?(M=M&1|2,t.flags|=128):M&=1,G(St,M),Ot(e,t,l,n),l=He?Mi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$x(e,n,t);else if(e.tag===19)$x(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Or(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),gu(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Or(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}gu(t,!0,n,null,o,l);break;case"together":gu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function vl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lr(e)))}function v2(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),kl(t,Mt,e.memoizedState.cache),da();break;case 27:case 5:me(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:kl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Yl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Fx(e,t,n):(Yl(t),e=vl(e,t,n),e!==null?e.sibling:null);Yl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return ef(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(St,St.current),l)break;return null;case 22:return t.lanes=0,Xx(e,t,n,t.pendingProps);case 24:kl(t,Mt,e.memoizedState.cache)}return vl(e,t,n)}function tf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)zt=!0;else{if(!vu(e,n)&&(t.flags&128)===0)return zt=!1,v2(e,t,n);zt=(e.flags&131072)!==0}else zt=!1,He&&(t.flags&1048576)!==0&&Eo(t,Mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ga(t.elementType),t.type=e,typeof e=="function")wc(e)?(l=_a(e,l),t.tag=1,t=Qx(null,t,e,l,n)):(t.tag=0,t=xu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===B){t.tag=11,t=Zx(null,t,e,l,n);break e}else if(u===I){t.tag=14,t=Ux(null,t,e,l,n);break e}}throw t=U(e)||e,Error(i(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=_a(l,t.pendingProps),Qx(e,t,l,u,n);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,Gc(e,t),Ei(t,l,null,n);var M=t.memoizedState;if(l=M.cache,kl(t,Mt,l),l!==o.cache&&Lc(t,[Mt],n,!0),Li(),l=M.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:M.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Px(e,t,l,n);break e}else if(l!==u){u=Cn(Error(i(424)),t),ji(u),t=Px(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=Nn(e.firstChild),Gt=t,He=!0,Bl=null,zn=!0,n=Xo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),l===u){t=vl(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return Pr(e,t),e===null?(n=dd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=h0(ae.current).createElement(n),l[yt]=t,l[Le]=e,Yt(l,n,e),ze(l),t.stateNode=l):t.memoizedState=dd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&He&&(l=t.stateNode=od(t.type,t.pendingProps,ae.current),Gt=t,zn=!0,u=ft,Ql(t.type)?(Pu=u,ft=Nn(l.firstChild)):ft=u),Ot(e,t,t.pendingProps.children,n),Pr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((u=l=ft)&&(l=W2(l,t.type,t.pendingProps,zn),l!==null?(t.stateNode=l,Gt=t,ft=Nn(l.firstChild),zn=!1,u=!0):u=!1),u||ql(t)),me(t),u=t.type,o=t.pendingProps,M=e!==null?e.memoizedProps:null,l=o.children,Xu(u,o)?l=null:M!==null&&Xu(u,M)&&(t.flags|=32),t.memoizedState!==null&&(u=Kc(e,t,s2,null,null,n),$i._currentValue=u),Pr(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=ft)&&(n=V2(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Gt=t,ft=null,e=!0):e=!1),e||ql(t)),null;case 13:return Fx(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ya(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Zx(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,kl(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ma(t),u=Rt(u),l=l(u),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return Ux(e,t,t.type,t.pendingProps,n);case 15:return Kx(e,t,t.type,t.pendingProps,n);case 19:return ef(e,t,n);case 31:return g2(e,t,n);case 22:return Xx(e,t,n,t.pendingProps);case 24:return ma(t),l=Rt(Mt),e===null?(u=Bc(),u===null&&(u=xt,o=Ec(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},kc(t),kl(t,Mt,u)):((e.lanes&n)!==0&&(Gc(e,t),Ei(t,null,null,n),Li()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),kl(t,Mt,l)):(l=o.cache,kl(t,Mt,l),l!==u.cache&&Lc(t,[Mt],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function yl(e){e.flags|=4}function yu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Nf())e.flags|=8192;else throw va=qr,qc}else e.flags&=-16777217}function nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vd(t))if(Nf())e.flags|=8192;else throw va=qr,qc}function $r(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xe():536870912,e.lanes|=t,Pa|=t)}function Ri(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function y2(e,t,n){var l=t.pendingProps;switch(zc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ml(Mt),fe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ga(t)?yl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nc())),dt(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(yl(t),o!==null?(dt(t),nf(t,o)):(dt(t),yu(t,u,null,l,n))):o?o!==e.memoizedState?(yl(t),dt(t),nf(t,o)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&yl(t),dt(t),yu(t,u,e,l,n)),null;case 27:if(de(t),n=ae.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}e=K.current,Ga(t)?Bo(t):(e=od(u,l,n),t.stateNode=e,yl(t))}return dt(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(o=K.current,Ga(t))Bo(t);else{var M=h0(ae.current);switch(o){case 1:o=M.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=M.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=M.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=M.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?M.createElement("select",{is:l.is}):M.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?M.createElement(u,{is:l.is}):M.createElement(u)}}o[yt]=t,o[Le]=l;e:for(M=t.child;M!==null;){if(M.tag===5||M.tag===6)o.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===t)break e;for(;M.sibling===null;){if(M.return===null||M.return===t)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}t.stateNode=o;e:switch(Yt(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&yl(t)}}return dt(t),yu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&yl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ae.current,Ga(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[yt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||$f(e.nodeValue,n)),e||ql(t,!0)}else e=h0(e).createTextNode(l),e[yt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ga(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[yt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ga(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[yt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$r(t,t.updateQueue),dt(t),null);case 4:return fe(),e===null&&Yu(t.stateNode.containerInfo),dt(t),null;case 10:return ml(t.type),dt(t),null;case 19:if(A(St),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)Ri(l,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Or(e),o!==null){for(t.flags|=128,Ri(l,!1),e=o.updateQueue,t.updateQueue=e,$r(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ao(n,e),n=n.sibling;return G(St,St.current&1|2),He&&dl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Qe()>a0&&(t.flags|=128,u=!0,Ri(l,!1),t.lanes=4194304)}else{if(!u)if(e=Or(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,$r(t,e),Ri(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return dt(t),null}else 2*Qe()-l.renderingStartTime>a0&&n!==536870912&&(t.flags|=128,u=!0,Ri(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,n=St.current,G(St,u?n&1|2:n&1),He&&dl(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return xn(t),Hc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&$r(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&A(ba),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ml(Mt),dt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function p2(e,t){switch(zc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ml(Mt),fe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(i(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return A(St),null;case 4:return fe(),null;case 10:return ml(t.type),null;case 22:case 23:return xn(t),Hc(),e!==null&&A(ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ml(Mt),null;case 25:return null;default:return null}}function lf(e,t){switch(zc(t),t.tag){case 3:ml(Mt),fe();break;case 26:case 27:case 5:de(t);break;case 4:fe();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:A(St);break;case 10:ml(t.type);break;case 22:case 23:xn(t),Hc(),e!==null&&A(ba);break;case 24:ml(Mt)}}function Oi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,M=n.inst;l=o(),M.destroy=l}n=n.next}while(n!==u)}}catch(T){it(t,t.return,T)}}function Zl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var M=l.inst,T=M.destroy;if(T!==void 0){M.destroy=void 0,u=t;var J=n,ne=T;try{ne()}catch(re){it(u,J,re)}}}l=l.next}while(l!==o)}}catch(re){it(t,t.return,re)}}function af(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wo(t,n)}catch(l){it(e,e.return,l)}}}function rf(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Yi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function cf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function pu(e,t,n){try{var l=e.stateNode;H2(l,e.type,n,t),l[Le]=t}catch(u){it(e,e.return,u)}}function uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function _u(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Su(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ol));else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Su(e,t,n),e=e.sibling;e!==null;)Su(e,t,n),e=e.sibling}function e0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ql(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(e0(e,t,n),e=e.sibling;e!==null;)e0(e,t,n),e=e.sibling}function sf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Yt(t,l,n),t[yt]=e,t[Le]=n}catch(o){it(e,e.return,o)}}var pl=!1,Dt=!1,wu=!1,of=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function _2(e,t){if(e=e.containerInfo,Uu=_0,e=_o(e),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var M=0,T=-1,J=-1,ne=0,re=0,se=e,le=null;t:for(;;){for(var ie;se!==n||u!==0&&se.nodeType!==3||(T=M+u),se!==o||l!==0&&se.nodeType!==3||(J=M+l),se.nodeType===3&&(M+=se.nodeValue.length),(ie=se.firstChild)!==null;)le=se,se=ie;for(;;){if(se===e)break t;if(le===n&&++ne===u&&(T=M),le===o&&++re===l&&(J=M),(ie=se.nextSibling)!==null)break;se=le,le=se.parentNode}se=ie}n=T===-1||J===-1?null:{start:T,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},_0=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var ge=_a(n.type,u);e=l.getSnapshotBeforeUpdate(ge,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Sl(e,n),l&4&&Oi(5,n);break;case 1:if(Sl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(M){it(n,n.return,M)}else{var u=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(M){it(n,n.return,M)}}l&64&&af(n),l&512&&Yi(n,n.return);break;case 3:if(Sl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wo(e,t)}catch(M){it(n,n.return,M)}}break;case 27:t===null&&l&4&&sf(n);case 26:case 5:Sl(e,n),t===null&&l&4&&cf(n),l&512&&Yi(n,n.return);break;case 12:Sl(e,n);break;case 31:Sl(e,n),l&4&&hf(e,n);break;case 13:Sl(e,n),l&4&&mf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=A2.bind(null,n),Q2(e,n))));break;case 22:if(l=n.memoizedState!==null||pl,!l){t=t!==null&&t.memoizedState!==null||Dt,u=pl;var o=Dt;pl=l,(Dt=t)&&!o?wl(e,n,(n.subtreeFlags&8772)!==0):Sl(e,n),pl=u,Dt=o}break;case 30:break;default:Sl(e,n)}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,Wt=!1;function _l(e,t,n){for(n=n.child;n!==null;)df(e,t,n),n=n.sibling}function df(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Gn,n)}catch{}switch(n.tag){case 26:Dt||Fn(n,t),_l(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Dt||Fn(n,t);var l=mt,u=Wt;Ql(n.type)&&(mt=n.stateNode,Wt=!1),_l(e,t,n),Qi(n.stateNode),mt=l,Wt=u;break;case 5:Dt||Fn(n,t);case 6:if(l=mt,u=Wt,mt=null,_l(e,t,n),mt=l,Wt=u,mt!==null)if(Wt)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(o){it(n,t,o)}else try{mt.removeChild(n.stateNode)}catch(o){it(n,t,o)}break;case 18:mt!==null&&(Wt?(e=mt,id(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ii(e)):id(mt,n.stateNode));break;case 4:l=mt,u=Wt,mt=n.stateNode.containerInfo,Wt=!0,_l(e,t,n),mt=l,Wt=u;break;case 0:case 11:case 14:case 15:Zl(2,n,t),Dt||Zl(4,n,t),_l(e,t,n);break;case 1:Dt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&rf(n,t,l)),_l(e,t,n);break;case 21:_l(e,t,n);break;case 22:Dt=(l=Dt)||n.memoizedState!==null,_l(e,t,n),Dt=l;break;default:_l(e,t,n)}}function hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ii(e)}catch(n){it(t,t.return,n)}}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ii(e)}catch(n){it(t,t.return,n)}}function S2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new of),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new of),t;default:throw Error(i(435,e.tag))}}function t0(e,t){var n=S2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=T2.bind(null,e,l);l.then(u,u)}})}function Vt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,M=t,T=M;e:for(;T!==null;){switch(T.tag){case 27:if(Ql(T.type)){mt=T.stateNode,Wt=!1;break e}break;case 5:mt=T.stateNode,Wt=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,Wt=!0;break e}T=T.return}if(mt===null)throw Error(i(160));df(o,M,u),mt=null,Wt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}var Yn=null;function bf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(t,e),Qt(e),l&4&&(Zl(3,e,e.return),Oi(3,e),Zl(5,e,e.return));break;case 1:Vt(t,e),Qt(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&64&&pl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Yn;if(Vt(t,e),Qt(e),l&512&&(Dt||n===null||Fn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[ca]||o[yt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),Yt(o,l,n),o[yt]=e,ze(o),l=o;break e;case"link":var M=bd("link","href",u).get(l+(n.href||""));if(M){for(var T=0;T<M.length;T++)if(o=M[T],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){M.splice(T,1);break t}}o=u.createElement(l),Yt(o,l,n),u.head.appendChild(o);break;case"meta":if(M=bd("meta","content",u).get(l+(n.content||""))){for(T=0;T<M.length;T++)if(o=M[T],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){M.splice(T,1);break t}}o=u.createElement(l),Yt(o,l,n),u.head.appendChild(o);break;default:throw Error(i(468,l))}o[yt]=e,ze(o),l=o}e.stateNode=l}else gd(u,e.type,e.stateNode);else e.stateNode=md(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?gd(u,e.type,e.stateNode):md(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Vt(t,e),Qt(e),l&512&&(Dt||n===null||Fn(n,n.return)),n!==null&&l&4&&pu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Vt(t,e),Qt(e),l&512&&(Dt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{Da(u,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,pu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(wu=!0);break;case 6:if(Vt(t,e),Qt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(g0=null,u=Yn,Yn=m0(t.containerInfo),Vt(t,e),Yn=u,Qt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(t.containerInfo)}catch(ge){it(e,e.return,ge)}wu&&(wu=!1,gf(e));break;case 4:l=Yn,Yn=m0(e.stateNode.containerInfo),Vt(t,e),Qt(e),Yn=l;break;case 12:Vt(t,e),Qt(e);break;case 31:Vt(t,e),Qt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 13:Vt(t,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(l0=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 22:u=e.memoizedState!==null;var J=n!==null&&n.memoizedState!==null,ne=pl,re=Dt;if(pl=ne||u,Dt=re||J,Vt(t,e),Dt=re,pl=ne,Qt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||J||pl||Dt||Sa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){J=n=t;try{if(o=J.stateNode,u)M=o.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{T=J.stateNode;var se=J.memoizedProps.style,le=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ge){it(J,J.return,ge)}}}else if(t.tag===6){if(n===null){J=t;try{J.stateNode.nodeValue=u?"":J.memoizedProps}catch(ge){it(J,J.return,ge)}}}else if(t.tag===18){if(n===null){J=t;try{var ie=J.stateNode;u?rd(ie,!0):rd(J.stateNode,!1)}catch(ge){it(J,J.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,t0(e,n))));break;case 19:Vt(t,e),Qt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,t0(e,l)));break;case 30:break;case 21:break;default:Vt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(uf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,o=_u(e);e0(e,o,u);break;case 5:var M=n.stateNode;n.flags&32&&(Da(M,""),n.flags&=-33);var T=_u(e);e0(e,T,M);break;case 3:case 4:var J=n.stateNode.containerInfo,ne=_u(e);Su(e,ne,J);break;default:throw Error(i(161))}}catch(re){it(e,e.return,re)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function Sa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zl(4,t,t.return),Sa(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rf(t,t.return,n),Sa(t);break;case 27:Qi(t.stateNode);case 26:case 5:Fn(t,t.return),Sa(t);break;case 22:t.memoizedState===null&&Sa(t);break;case 30:Sa(t);break;default:Sa(t)}e=e.sibling}}function wl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,M=o.flags;switch(o.tag){case 0:case 11:case 15:wl(u,o,n),Oi(4,o);break;case 1:if(wl(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ne){it(l,l.return,ne)}if(l=o,u=l.updateQueue,u!==null){var T=l.stateNode;try{var J=u.shared.hiddenCallbacks;if(J!==null)for(u.shared.hiddenCallbacks=null,u=0;u<J.length;u++)Jo(J[u],T)}catch(ne){it(l,l.return,ne)}}n&&M&64&&af(o),Yi(o,o.return);break;case 27:sf(o);case 26:case 5:wl(u,o,n),n&&l===null&&M&4&&cf(o),Yi(o,o.return);break;case 12:wl(u,o,n);break;case 31:wl(u,o,n),n&&M&4&&hf(u,o);break;case 13:wl(u,o,n),n&&M&4&&mf(u,o);break;case 22:o.memoizedState===null&&wl(u,o,n),Yi(o,o.return);break;case 30:break;default:wl(u,o,n)}t=t.sibling}}function Cu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zi(n))}function Mu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vf(e,t,n,l),t=t.sibling}function vf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),u&2048&&Oi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zi(e)));break;case 12:if(u&2048){Hn(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,M=o.id,T=o.onPostCommit;typeof T=="function"&&T(M,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){it(t,t.return,J)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,M=t.alternate,t.memoizedState!==null?o._visibility&2?Hn(e,t,n,l):Hi(e,t):o._visibility&2?Hn(e,t,n,l):(o._visibility|=2,Wa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Cu(M,t);break;case 24:Hn(e,t,n,l),u&2048&&Mu(t.alternate,t);break;default:Hn(e,t,n,l)}}function Wa(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,M=t,T=n,J=l,ne=M.flags;switch(M.tag){case 0:case 11:case 15:Wa(o,M,T,J,u),Oi(8,M);break;case 23:break;case 22:var re=M.stateNode;M.memoizedState!==null?re._visibility&2?Wa(o,M,T,J,u):Hi(o,M):(re._visibility|=2,Wa(o,M,T,J,u)),u&&ne&2048&&Cu(M.alternate,M);break;case 24:Wa(o,M,T,J,u),u&&ne&2048&&Mu(M.alternate,M);break;default:Wa(o,M,T,J,u)}t=t.sibling}}function Hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Hi(n,l),u&2048&&Cu(l.alternate,l);break;case 24:Hi(n,l),u&2048&&Mu(l.alternate,l);break;default:Hi(n,l)}t=t.sibling}}var Zi=8192;function Va(e,t,n){if(e.subtreeFlags&Zi)for(e=e.child;e!==null;)yf(e,t,n),e=e.sibling}function yf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Zi&&e.memoizedState!==null&&uh(n,Yn,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Yn;Yn=m0(e.stateNode.containerInfo),Va(e,t,n),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zi,Zi=16777216,Va(e,t,n),Zi=l):Va(e,t,n));break;default:Va(e,t,n)}}function pf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,Sf(l,e)}pf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_f(e),e=e.sibling}function _f(e){switch(e.tag){case 0:case 11:case 15:Ui(e),e.flags&2048&&Zl(9,e,e.return);break;case 3:Ui(e);break;case 12:Ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,n0(e)):Ui(e);break;default:Ui(e)}}function n0(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,Sf(l,e)}pf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zl(8,t,t.return),n0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,n0(t));break;default:n0(t)}e=e.sibling}}function Sf(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:Zl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var u=l.sibling,o=l.return;if(ff(l),l===n){Lt=null;break e}if(u!==null){u.return=o,Lt=u;break e}Lt=o}}}var w2={getCacheForType:function(e){var t=Rt(Mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(Mt).controller.signal}},C2=typeof WeakMap=="function"?WeakMap:Map,et=0,xt=null,ke=null,Oe=0,at=0,fn=null,Ul=!1,Qa=!1,ju=!1,Cl=0,_t=0,Kl=0,wa=0,zu=0,dn=0,Pa=0,Ki=null,Pt=null,Du=!1,l0=0,wf=0,a0=1/0,i0=null,Xl=null,At=0,Jl=null,Fa=null,Ml=0,Nu=0,Au=null,Cf=null,Xi=0,Tu=null;function hn(){return(et&2)!==0&&Oe!==0?Oe&-Oe:g.T!==null?ku():Rn()}function Mf(){if(dn===0)if((Oe&536870912)===0||He){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),dn=e}else dn=536870912;return e=on.current,e!==null&&(e.flags|=32),dn}function Ft(e,t,n){(e===xt&&(at===2||at===9)||e.cancelPendingCommit!==null)&&($a(e,0),Wl(e,Oe,dn,!1)),Te(e,n),((et&2)===0||e!==xt)&&(e===xt&&((et&2)===0&&(wa|=n),_t===4&&Wl(e,Oe,dn,!1)),$n(e))}function jf(e,t,n){if((et&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Pe(e,t),u=l?z2(e,t):Eu(e,t,!0),o=l;do{if(u===0){Qa&&!l&&Wl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!M2(n)){u=Eu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var M=0;else M=e.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){t=M;e:{var T=e;u=Ki;var J=T.current.memoizedState.isDehydrated;if(J&&($a(T,M).flags|=256),M=Eu(T,M,!1),M!==2){if(ju&&!J){T.errorRecoveryDisabledLanes|=o,wa|=o,u=4;break e}o=Pt,Pt=u,o!==null&&(Pt===null?Pt=o:Pt.push.apply(Pt,o))}u=M}if(o=!1,u!==2)continue}}if(u===1){$a(e,0),Wl(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Wl(l,t,dn,!Ul);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=l0+300-Qe(),10<u)){if(Wl(l,t,dn,!Ul),we(l,0,!0)!==0)break e;Ml=t,l.timeoutHandle=ld(zf.bind(null,l,n,Pt,i0,Du,t,dn,wa,Pa,Ul,o,"Throttled",-0,0),u);break e}zf(l,n,Pt,i0,Du,t,dn,wa,Pa,Ul,o,null,-0,0)}}break}while(!0);$n(e)}function zf(e,t,n,l,u,o,M,T,J,ne,re,se,le,ie){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ol},yf(t,o,se);var ge=(o&62914560)===o?l0-Qe():(o&4194048)===o?wf-Qe():0;if(ge=sh(se,ge),ge!==null){Ml=o,e.cancelPendingCommit=ge(Bf.bind(null,e,t,o,n,l,u,M,T,J,re,se,null,le,ie)),Wl(e,o,M,!ne);return}}Bf(e,t,o,n,l,u,M,T,J)}function M2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!un(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wl(e,t,n,l){t&=~zu,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-Re(u),M=1<<o;l[o]=-1,u&=~M}n!==0&&$e(e,n,t)}function r0(){return(et&6)===0?(Ji(0),!1):!0}function Lu(){if(ke!==null){if(at===0)var e=ke.return;else e=ke,hl=ha=null,Wc(e),Za=null,Ni=0,e=ke;for(;e!==null;)lf(e.alternate,e),e=e.return;ke=null}}function $a(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,K2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ml=0,Lu(),xt=e,ke=n=fl(e.current,null),Oe=t,at=0,fn=null,Ul=!1,Qa=Pe(e,t),ju=!1,Pa=dn=zu=wa=Kl=_t=0,Pt=Ki=null,Du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Re(l),o=1<<u;t|=e[u],l&=~o}return Cl=t,zr(),n}function Df(e,t){Ee=null,g.H=ki,t===Ha||t===Br?(t=Zo(),at=3):t===qc?(t=Zo(),at=4):at=t===ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,ke===null&&(_t=1,Vr(e,Cn(t,e.current)))}function Nf(){var e=on.current;return e===null?!0:(Oe&4194048)===Oe?Dn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===Dn:!1}function Af(){var e=g.H;return g.H=ki,e===null?ki:e}function Tf(){var e=g.A;return g.A=w2,e}function c0(){_t=4,Ul||(Oe&4194048)!==Oe&&on.current!==null||(Qa=!0),(Kl&134217727)===0&&(wa&134217727)===0||xt===null||Wl(xt,Oe,dn,!1)}function Eu(e,t,n){var l=et;et|=2;var u=Af(),o=Tf();(xt!==e||Oe!==t)&&(i0=null,$a(e,t)),t=!1;var M=_t;e:do try{if(at!==0&&ke!==null){var T=ke,J=fn;switch(at){case 8:Lu(),M=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var ne=at;if(at=0,fn=null,ei(e,T,J,ne),n&&Qa){M=0;break e}break;default:ne=at,at=0,fn=null,ei(e,T,J,ne)}}j2(),M=_t;break}catch(re){Df(e,re)}while(!0);return t&&e.shellSuspendCounter++,hl=ha=null,et=l,g.H=u,g.A=o,ke===null&&(xt=null,Oe=0,zr()),M}function j2(){for(;ke!==null;)Lf(ke)}function z2(e,t){var n=et;et|=2;var l=Af(),u=Tf();xt!==e||Oe!==t?(i0=null,a0=Qe()+500,$a(e,t)):Qa=Pe(e,t);e:do try{if(at!==0&&ke!==null){t=ke;var o=fn;t:switch(at){case 1:at=0,fn=null,ei(e,t,o,1);break;case 2:case 9:if(Yo(o)){at=0,fn=null,Ef(t);break}t=function(){at!==2&&at!==9||xt!==e||(at=7),$n(e)},o.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Yo(o)?(at=0,fn=null,Ef(t)):(at=0,fn=null,ei(e,t,o,7));break;case 5:var M=null;switch(ke.tag){case 26:M=ke.memoizedState;case 5:case 27:var T=ke;if(M?vd(M):T.stateNode.complete){at=0,fn=null;var J=T.sibling;if(J!==null)ke=J;else{var ne=T.return;ne!==null?(ke=ne,u0(ne)):ke=null}break t}}at=0,fn=null,ei(e,t,o,5);break;case 6:at=0,fn=null,ei(e,t,o,6);break;case 8:Lu(),_t=6;break e;default:throw Error(i(462))}}D2();break}catch(re){Df(e,re)}while(!0);return hl=ha=null,g.H=l,g.A=u,et=n,ke!==null?0:(xt=null,Oe=0,zr(),_t)}function D2(){for(;ke!==null&&!Xn();)Lf(ke)}function Lf(e){var t=tf(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,t===null?u0(e):ke=t}function Ef(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vx(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Vx(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Wc(t);default:lf(n,t),t=ke=Ao(t,Cl),t=tf(n,t,Cl)}e.memoizedProps=e.pendingProps,t===null?u0(e):ke=t}function ei(e,t,n,l){hl=ha=null,Wc(t),Za=null,Ni=0;var u=t.return;try{if(b2(e,u,t,n,Oe)){_t=1,Vr(e,Cn(n,e.current)),ke=null;return}}catch(o){if(u!==null)throw ke=u,o;_t=1,Vr(e,Cn(n,e.current)),ke=null;return}t.flags&32768?(He||l===1?e=!0:Qa||(Oe&536870912)!==0?e=!1:(Ul=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),If(t,e)):u0(t)}function u0(e){var t=e;do{if((t.flags&32768)!==0){If(t,Ul);return}e=t.return;var n=y2(t.alternate,t,Cl);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);_t===0&&(_t=5)}function If(e,t){do{var n=p2(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);_t=6,ke=null}function Bf(e,t,n,l,u,o,M,T,J){e.cancelPendingCommit=null;do s0();while(At!==0);if((et&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=_c,qt(e,n,o,M,T,J),e===xt&&(ke=xt=null,Oe=0),Fa=t,Jl=e,Ml=n,Nu=o,Au=u,Cf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L2(cl,function(){return Of(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=g.T,g.T=null,u=N.p,N.p=2,M=et,et|=4;try{_2(e,t,n)}finally{et=M,N.p=u,g.T=l}}At=1,qf(),kf(),Gf()}}function qf(){if(At===1){At=0;var e=Jl,t=Fa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=g.T,g.T=null;var l=N.p;N.p=2;var u=et;et|=4;try{bf(t,e);var o=Ku,M=_o(e.containerInfo),T=o.focusedElem,J=o.selectionRange;if(M!==T&&T&&T.ownerDocument&&po(T.ownerDocument.documentElement,T)){if(J!==null&&bc(T)){var ne=J.start,re=J.end;if(re===void 0&&(re=ne),"selectionStart"in T)T.selectionStart=ne,T.selectionEnd=Math.min(re,T.value.length);else{var se=T.ownerDocument||document,le=se&&se.defaultView||window;if(le.getSelection){var ie=le.getSelection(),ge=T.textContent.length,je=Math.min(J.start,ge),ot=J.end===void 0?je:Math.min(J.end,ge);!ie.extend&&je>ot&&(M=ot,ot=je,je=M);var F=yo(T,je),Q=yo(T,ot);if(F&&Q&&(ie.rangeCount!==1||ie.anchorNode!==F.node||ie.anchorOffset!==F.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var te=se.createRange();te.setStart(F.node,F.offset),ie.removeAllRanges(),je>ot?(ie.addRange(te),ie.extend(Q.node,Q.offset)):(te.setEnd(Q.node,Q.offset),ie.addRange(te))}}}}for(se=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&se.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ue=se[T];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}_0=!!Uu,Ku=Uu=null}finally{et=u,N.p=l,g.T=n}}e.current=t,At=2}}function kf(){if(At===2){At=0;var e=Jl,t=Fa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=g.T,g.T=null;var l=N.p;N.p=2;var u=et;et|=4;try{xf(e,t.alternate,t)}finally{et=u,N.p=l,g.T=n}}At=3}}function Gf(){if(At===4||At===3){At=0,Jn();var e=Jl,t=Fa,n=Ml,l=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Fa=Jl=null,Rf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Xl=null),vt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Gn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=g.T,u=N.p,N.p=2,g.T=null;try{for(var o=e.onRecoverableError,M=0;M<l.length;M++){var T=l[M];o(T.value,{componentStack:T.stack})}}finally{g.T=t,N.p=u}}(Ml&3)!==0&&s0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Tu?Xi++:(Xi=0,Tu=e):Xi=0,Ji(0)}}function Rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zi(t)))}function s0(){return qf(),kf(),Gf(),Of()}function Of(){if(At!==5)return!1;var e=Jl,t=Nu;Nu=0;var n=vt(Ml),l=g.T,u=N.p;try{N.p=32>n?32:n,g.T=null,n=Au,Au=null;var o=Jl,M=Ml;if(At=0,Fa=Jl=null,Ml=0,(et&6)!==0)throw Error(i(331));var T=et;if(et|=4,_f(o.current),vf(o,o.current,M,n),et=T,Ji(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Gn,o)}catch{}return!0}finally{N.p=u,g.T=l,Rf(e,t)}}function Yf(e,t,n){t=Cn(n,t),t=su(e.stateNode,t,2),e=Ol(e,t,2),e!==null&&(Te(e,2),$n(e))}function it(e,t,n){if(e.tag===3)Yf(e,e,n);else for(;t!==null;){if(t.tag===3){Yf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xl===null||!Xl.has(l))){e=Cn(n,e),n=Yx(2),l=Ol(t,n,2),l!==null&&(Hx(n,l,t,e),Te(l,2),$n(l));break}}t=t.return}}function Iu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new C2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(ju=!0,u.add(n),e=N2.bind(null,e,t,n),t.then(e,e))}function N2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,xt===e&&(Oe&n)===n&&(_t===4||_t===3&&(Oe&62914560)===Oe&&300>Qe()-l0?(et&2)===0&&$a(e,0):zu|=n,Pa===Oe&&(Pa=0)),$n(e)}function Hf(e,t){t===0&&(t=Xe()),e=xa(e,t),e!==null&&(Te(e,t),$n(e))}function A2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hf(e,n)}function T2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Hf(e,n)}function L2(e,t){return Zt(e,t)}var o0=null,ti=null,Bu=!1,x0=!1,qu=!1,Vl=0;function $n(e){e!==ti&&e.next===null&&(ti===null?o0=ti=e:ti=ti.next=e),x0=!0,Bu||(Bu=!0,I2())}function Ji(e,t){if(!qu&&x0){qu=!0;do for(var n=!1,l=o0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var M=l.suspendedLanes,T=l.pingedLanes;o=(1<<31-Re(42|e)+1)-1,o&=u&~(M&~T),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Xf(l,o))}else o=Oe,o=we(l,l===xt?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Pe(l,o)||(n=!0,Xf(l,o));l=l.next}while(n);qu=!1}}function E2(){Zf()}function Zf(){x0=Bu=!1;var e=0;Vl!==0&&U2()&&(e=Vl);for(var t=Qe(),n=null,l=o0;l!==null;){var u=l.next,o=Uf(l,t);o===0?(l.next=null,n===null?o0=u:n.next=u,u===null&&(ti=n)):(n=l,(e!==0||(o&3)!==0)&&(x0=!0)),l=u}At!==0&&At!==5||Ji(e),Vl!==0&&(Vl=0)}function Uf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var M=31-Re(o),T=1<<M,J=u[M];J===-1?((T&n)===0||(T&l)!==0)&&(u[M]=Fe(T,t)):J<=t&&(e.expiredLanes|=T),o&=~T}if(t=xt,n=Oe,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&kn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Pe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&kn(l),vt(n)){case 2:case 8:n=rl;break;case 32:n=cl;break;case 268435456:n=ia;break;default:n=cl}return l=Kf.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&kn(l),e.callbackPriority=2,e.callbackNode=null,2}function Kf(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(s0()&&e.callbackNode!==n)return null;var l=Oe;return l=we(e,e===xt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jf(e,l,t),Uf(e,Qe()),e.callbackNode!=null&&e.callbackNode===n?Kf.bind(null,e):null)}function Xf(e,t){if(s0())return null;jf(e,t,!0)}function I2(){X2(function(){(et&6)!==0?Zt(Dl,E2):Zf()})}function ku(){if(Vl===0){var e=Oa;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Vl=e}return Vl}function Jf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yr(""+e)}function Wf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function B2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Jf((u[Le]||null).action),M=l.submitter;M&&(t=(t=M[Le]||null)?Jf(t.formAction):M.getAttribute("formAction"),t!==null&&(o=t,M=null));var T=new wr("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vl!==0){var J=M?Wf(u,M):new FormData(u);lu(n,{pending:!0,data:J,method:u.method,action:o},null,J)}}else typeof o=="function"&&(T.preventDefault(),J=M?Wf(u,M):new FormData(u),lu(n,{pending:!0,data:J,method:u.method,action:o},o,J))},currentTarget:u}]})}}for(var Gu=0;Gu<pc.length;Gu++){var Ru=pc[Gu],q2=Ru.toLowerCase(),k2=Ru[0].toUpperCase()+Ru.slice(1);On(q2,"on"+k2)}On(Co,"onAnimationEnd"),On(Mo,"onAnimationIteration"),On(jo,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On($1,"onTransitionRun"),On(e2,"onTransitionStart"),On(t2,"onTransitionCancel"),On(zo,"onTransitionEnd"),Ll("onMouseEnter",["mouseout","mouseover"]),Ll("onMouseLeave",["mouseout","mouseover"]),Ll("onPointerEnter",["pointerout","pointerover"]),Ll("onPointerLeave",["pointerout","pointerover"]),Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function Vf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var M=l.length-1;0<=M;M--){var T=l[M],J=T.instance,ne=T.currentTarget;if(T=T.listener,J!==o&&u.isPropagationStopped())break e;o=T,u.currentTarget=ne;try{o(u)}catch(re){jr(re)}u.currentTarget=null,o=J}else for(M=0;M<l.length;M++){if(T=l[M],J=T.instance,ne=T.currentTarget,T=T.listener,J!==o&&u.isPropagationStopped())break e;o=T,u.currentTarget=ne;try{o(u)}catch(re){jr(re)}u.currentTarget=null,o=J}}}}function Ge(e,t){var n=t[hi];n===void 0&&(n=t[hi]=new Set);var l=e+"__bubble";n.has(l)||(Qf(t,e,2,!1),n.add(l))}function Ou(e,t,n){var l=0;t&&(l|=4),Qf(n,e,l,t)}var f0="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[f0]){e[f0]=!0,kt.forEach(function(n){n!=="selectionchange"&&(G2.has(n)||Ou(n,!1,e),Ou(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[f0]||(t[f0]=!0,Ou("selectionchange",!1,t))}}function Qf(e,t,n,l){switch(Md(t)){case 2:var u=fh;break;case 8:u=dh;break;default:u=ns}n=u.bind(null,t,n,e),u=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Hu(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var M=l.tag;if(M===3||M===4){var T=l.stateNode.containerInfo;if(T===u)break;if(M===4)for(M=l.return;M!==null;){var J=M.tag;if((J===3||J===4)&&M.stateNode.containerInfo===u)return;M=M.return}for(;T!==null;){if(M=Al(T),M===null)return;if(J=M.tag,J===5||J===6||J===26||J===27){l=o=M;continue e}T=T.parentNode}}l=l.return}$s(function(){var ne=o,re=ic(n),se=[];e:{var le=Do.get(e);if(le!==void 0){var ie=wr,ge=e;switch(e){case"keypress":if(_r(n)===0)break e;case"keydown":case"keyup":ie=T1;break;case"focusin":ge="focus",ie=xc;break;case"focusout":ge="blur",ie=xc;break;case"beforeblur":case"afterblur":ie=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=I1;break;case Co:case Mo:case jo:ie=S1;break;case zo:ie=q1;break;case"scroll":case"scrollend":ie=g1;break;case"wheel":ie=G1;break;case"copy":case"cut":case"paste":ie=C1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ao;break;case"toggle":case"beforetoggle":ie=O1}var je=(t&4)!==0,ot=!je&&(e==="scroll"||e==="scrollend"),F=je?le!==null?le+"Capture":null:le;je=[];for(var Q=ne,te;Q!==null;){var ue=Q;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||F===null||(ue=bi(Q,F),ue!=null&&je.push(Vi(Q,ue,te))),ot)break;Q=Q.return}0<je.length&&(le=new ie(le,ge,null,n,re),se.push({event:le,listeners:je}))}}if((t&7)===0){e:{if(le=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",le&&n!==ac&&(ge=n.relatedTarget||n.fromElement)&&(Al(ge)||ge[ul]))break e;if((ie||le)&&(le=re.window===re?re:(le=re.ownerDocument)?le.defaultView||le.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=ne,ge=ge?Al(ge):null,ge!==null&&(ot=x(ge),je=ge.tag,ge!==ot||je!==5&&je!==27&&je!==6)&&(ge=null)):(ie=null,ge=ne),ie!==ge)){if(je=no,ue="onMouseLeave",F="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=ao,ue="onPointerLeave",F="onPointerEnter",Q="pointer"),ot=ie==null?le:be(ie),te=ge==null?le:be(ge),le=new je(ue,Q+"leave",ie,n,re),le.target=ot,le.relatedTarget=te,ue=null,Al(re)===ne&&(je=new je(F,Q+"enter",ge,n,re),je.target=te,je.relatedTarget=ot,ue=je),ot=ue,ie&&ge)t:{for(je=R2,F=ie,Q=ge,te=0,ue=F;ue;ue=je(ue))te++;ue=0;for(var Ce=Q;Ce;Ce=je(Ce))ue++;for(;0<te-ue;)F=je(F),te--;for(;0<ue-te;)Q=je(Q),ue--;for(;te--;){if(F===Q||Q!==null&&F===Q.alternate){je=F;break t}F=je(F),Q=je(Q)}je=null}else je=null;ie!==null&&Pf(se,le,ie,je,!1),ge!==null&&ot!==null&&Pf(se,ot,ge,je,!0)}}e:{if(le=ne?be(ne):window,ie=le.nodeName&&le.nodeName.toLowerCase(),ie==="select"||ie==="input"&&le.type==="file")var We=fo;else if(oo(le))if(ho)We=Q1;else{We=W1;var ve=J1}else ie=le.nodeName,!ie||ie.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ne&&lc(ne.elementType)&&(We=fo):We=V1;if(We&&(We=We(e,ne))){xo(se,We,n,re);break e}ve&&ve(e,le,ne),e==="focusout"&&ne&&le.type==="number"&&ne.memoizedProps.value!=null&&nc(le,"number",le.value)}switch(ve=ne?be(ne):window,e){case"focusin":(oo(ve)||ve.contentEditable==="true")&&(La=ve,gc=ne,Ci=null);break;case"focusout":Ci=gc=La=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,So(se,n,re);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":So(se,n,re)}var Ie;if(dc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ta?uo(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(io&&n.locale!=="ko"&&(Ta||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ta&&(Ie=eo()):(El=re,uc="value"in El?El.value:El.textContent,Ta=!0)),ve=d0(ne,Ye),0<ve.length&&(Ye=new lo(Ye,e,null,n,re),se.push({event:Ye,listeners:ve}),Ie?Ye.data=Ie:(Ie=so(n),Ie!==null&&(Ye.data=Ie)))),(Ie=H1?Z1(e,n):U1(e,n))&&(Ye=d0(ne,"onBeforeInput"),0<Ye.length&&(ve=new lo("onBeforeInput","beforeinput",null,n,re),se.push({event:ve,listeners:Ye}),ve.data=Ie)),B2(se,e,ne,n,re)}Vf(se,t)})}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function d0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=bi(e,n),u!=null&&l.unshift(Vi(e,u,o)),u=bi(e,t),u!=null&&l.push(Vi(e,u,o))),e.tag===3)return l;e=e.return}return[]}function R2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pf(e,t,n,l,u){for(var o=t._reactName,M=[];n!==null&&n!==l;){var T=n,J=T.alternate,ne=T.stateNode;if(T=T.tag,J!==null&&J===l)break;T!==5&&T!==26&&T!==27||ne===null||(J=ne,u?(ne=bi(n,o),ne!=null&&M.unshift(Vi(n,ne,J))):u||(ne=bi(n,o),ne!=null&&M.push(Vi(n,ne,J)))),n=n.return}M.length!==0&&e.push({event:t,listeners:M})}var O2=/\r\n?/g,Y2=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(O2,`
`).replace(Y2,"")}function $f(e,t){return t=Ff(t),Ff(e)===t}function st(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Da(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Da(e,""+l);break;case"className":gr(e,"class",l);break;case"tabIndex":gr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(e,n,l);break;case"style":Ps(e,l,o);break;case"data":if(t!=="object"){gr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=yr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&st(e,t,"name",u.name,u,null),st(e,t,"formEncType",u.formEncType,u,null),st(e,t,"formMethod",u.formMethod,u,null),st(e,t,"formTarget",u.formTarget,u,null)):(st(e,t,"encType",u.encType,u,null),st(e,t,"method",u.method,u,null),st(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=yr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ol);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=yr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),br(e,"popover",l);break;case"xlinkActuate":sl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":sl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":sl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":sl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":sl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":sl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":sl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":sl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":sl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=m1.get(n)||n,br(e,n,l))}}function Zu(e,t,n,l,u,o){switch(n){case"style":Ps(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Da(e,l):(typeof l=="number"||typeof l=="bigint")&&Da(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ct.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[Le]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):br(e,n,l)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var M=n[o];if(M!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,o,M,n,null)}}u&&st(e,t,"srcSet",n.srcSet,n,null),l&&st(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var T=o=M=u=null,J=null,ne=null;for(l in n)if(n.hasOwnProperty(l)){var re=n[l];if(re!=null)switch(l){case"name":u=re;break;case"type":M=re;break;case"checked":J=re;break;case"defaultChecked":ne=re;break;case"value":o=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,t));break;default:st(e,t,l,re,n,null)}}Js(e,o,T,J,ne,M,u,!1);return;case"select":Ge("invalid",e),l=M=o=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":o=T;break;case"defaultValue":M=T;break;case"multiple":l=T;default:st(e,t,u,T,n,null)}t=o,n=M,e.multiple=!!l,t!=null?za(e,!!l,t,!1):n!=null&&za(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),o=u=l=null;for(M in n)if(n.hasOwnProperty(M)&&(T=n[M],T!=null))switch(M){case"value":l=T;break;case"defaultValue":u=T;break;case"children":o=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:st(e,t,M,T,n,null)}Vs(e,l,u,o);return;case"option":for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":st(e,t,J,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Wi.length;l++)Ge(Wi[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in n)if(n.hasOwnProperty(ne)&&(l=n[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:st(e,t,ne,l,n,null)}return;default:if(lc(t)){for(re in n)n.hasOwnProperty(re)&&(l=n[re],l!==void 0&&Zu(e,t,re,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&st(e,t,T,l,n,null))}function H2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,M=null,T=null,J=null,ne=null,re=null;for(ie in n){var se=n[ie];if(n.hasOwnProperty(ie)&&se!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":J=se;default:l.hasOwnProperty(ie)||st(e,t,ie,null,l,se)}}for(var le in l){var ie=l[le];if(se=n[le],l.hasOwnProperty(le)&&(ie!=null||se!=null))switch(le){case"type":o=ie;break;case"name":u=ie;break;case"checked":ne=ie;break;case"defaultChecked":re=ie;break;case"value":M=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==se&&st(e,t,le,ie,l,se)}}tc(e,M,T,J,ne,re,o,u);return;case"select":ie=M=T=le=null;for(o in n)if(J=n[o],n.hasOwnProperty(o)&&J!=null)switch(o){case"value":break;case"multiple":ie=J;default:l.hasOwnProperty(o)||st(e,t,o,null,l,J)}for(u in l)if(o=l[u],J=n[u],l.hasOwnProperty(u)&&(o!=null||J!=null))switch(u){case"value":le=o;break;case"defaultValue":T=o;break;case"multiple":M=o;default:o!==J&&st(e,t,u,o,l,J)}t=T,n=M,l=ie,le!=null?za(e,!!n,le,!1):!!l!=!!n&&(t!=null?za(e,!!n,t,!0):za(e,!!n,n?[]:"",!1));return;case"textarea":ie=le=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(e,t,T,null,l,u)}for(M in l)if(u=l[M],o=n[M],l.hasOwnProperty(M)&&(u!=null||o!=null))switch(M){case"value":le=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==o&&st(e,t,M,u,l,o)}Ws(e,le,ie);return;case"option":for(var ge in n)le=n[ge],n.hasOwnProperty(ge)&&le!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:st(e,t,ge,null,l,le));for(J in l)le=l[J],ie=n[J],l.hasOwnProperty(J)&&le!==ie&&(le!=null||ie!=null)&&(J==="selected"?e.selected=le&&typeof le!="function"&&typeof le!="symbol":st(e,t,J,le,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)le=n[je],n.hasOwnProperty(je)&&le!=null&&!l.hasOwnProperty(je)&&st(e,t,je,null,l,le);for(ne in l)if(le=l[ne],ie=n[ne],l.hasOwnProperty(ne)&&le!==ie&&(le!=null||ie!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:st(e,t,ne,le,l,ie)}return;default:if(lc(t)){for(var ot in n)le=n[ot],n.hasOwnProperty(ot)&&le!==void 0&&!l.hasOwnProperty(ot)&&Zu(e,t,ot,void 0,l,le);for(re in l)le=l[re],ie=n[re],!l.hasOwnProperty(re)||le===ie||le===void 0&&ie===void 0||Zu(e,t,re,le,l,ie);return}}for(var F in n)le=n[F],n.hasOwnProperty(F)&&le!=null&&!l.hasOwnProperty(F)&&st(e,t,F,null,l,le);for(se in l)le=l[se],ie=n[se],!l.hasOwnProperty(se)||le===ie||le==null&&ie==null||st(e,t,se,le,l,ie)}function ed(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,M=u.initiatorType,T=u.duration;if(o&&T&&ed(M)){for(M=0,T=u.responseEnd,l+=1;l<n.length;l++){var J=n[l],ne=J.startTime;if(ne>T)break;var re=J.transferSize,se=J.initiatorType;re&&ed(se)&&(J=J.responseEnd,M+=re*(J<T?1:(T-ne)/(J-ne)))}if(--l,t+=8*(o+M)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uu=null,Ku=null;function h0(e){return e.nodeType===9?e:e.ownerDocument}function td(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function U2(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var ld=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,ad=typeof Promise=="function"?Promise:void 0,X2=typeof queueMicrotask=="function"?queueMicrotask:typeof ad<"u"?function(e){return ad.resolve(null).then(e).catch(J2)}:ld;function J2(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function id(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ii(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Qi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Qi(n);for(var o=n.firstChild;o;){var M=o.nextSibling,T=o.nodeName;o[ca]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=M}}else n==="body"&&Qi(e.ownerDocument.body);n=u}while(n);ii(t)}function rd(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wu(n),mi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function W2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function V2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function cd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Q2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pu=null;function ud(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function od(e,t,n){switch(t=h0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Qi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mi(e)}var An=new Map,xd=new Set;function m0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jl=N.d;N.d={f:P2,r:F2,D:$2,C:eh,L:th,m:nh,X:ah,S:lh,M:ih};function P2(){var e=jl.f(),t=r0();return e||t}function F2(e){var t=Tl(e);t!==null&&t.tag===5&&t.type==="form"?zx(t):jl.r(e)}var ni=typeof document>"u"?null:document;function fd(e,t,n){var l=ni;if(l&&typeof t=="string"&&t){var u=Sn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xd.has(u)||(xd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function $2(e){jl.D(e),fd("dns-prefetch",e,null)}function eh(e,t){jl.C(e,t),fd("preconnect",e,t)}function th(e,t,n){jl.L(e,t,n);var l=ni;if(l&&e&&t){var u='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Sn(n.imageSizes)+'"]')):u+='[href="'+Sn(e)+'"]';var o=u;switch(t){case"style":o=li(e);break;case"script":o=ai(e)}An.has(o)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Pi(o))||t==="script"&&l.querySelector(Fi(o))||(t=l.createElement("link"),Yt(t,"link",e),ze(t),l.head.appendChild(t)))}}function nh(e,t){jl.m(e,t);var n=ni;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ai(e)}if(!An.has(o)&&(e=p({rel:"modulepreload",href:e},t),An.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fi(o)))return}l=n.createElement("link"),Yt(l,"link",e),ze(l),n.head.appendChild(l)}}}function lh(e,t,n){jl.S(e,t,n);var l=ni;if(l&&e){var u=pe(l).hoistableStyles,o=li(e);t=t||"default";var M=u.get(o);if(!M){var T={loading:0,preload:null};if(M=l.querySelector(Pi(o)))T.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(o))&&Fu(e,n);var J=M=l.createElement("link");ze(J),Yt(J,"link",e),J._p=new Promise(function(ne,re){J.onload=ne,J.onerror=re}),J.addEventListener("load",function(){T.loading|=1}),J.addEventListener("error",function(){T.loading|=2}),T.loading|=4,b0(M,t,l)}M={type:"stylesheet",instance:M,count:1,state:T},u.set(o,M)}}}function ah(e,t){jl.X(e,t);var n=ni;if(n&&e){var l=pe(n).hoistableScripts,u=ai(e),o=l.get(u);o||(o=n.querySelector(Fi(u)),o||(e=p({src:e,async:!0},t),(t=An.get(u))&&$u(e,t),o=n.createElement("script"),ze(o),Yt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function ih(e,t){jl.M(e,t);var n=ni;if(n&&e){var l=pe(n).hoistableScripts,u=ai(e),o=l.get(u);o||(o=n.querySelector(Fi(u)),o||(e=p({src:e,async:!0,type:"module"},t),(t=An.get(u))&&$u(e,t),o=n.createElement("script"),ze(o),Yt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function dd(e,t,n,l){var u=(u=ae.current)?m0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=li(n.href),n=pe(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=li(n.href);var o=pe(u).hoistableStyles,M=o.get(e);if(M||(u=u.ownerDocument||u,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,M),(o=u.querySelector(Pi(e)))&&!o._p&&(M.instance=o,M.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),o||rh(u,e,n,M.state))),t&&l===null)throw Error(i(528,""));return M}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ai(n),n=pe(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function li(e){return'href="'+Sn(e)+'"'}function Pi(e){return'link[rel="stylesheet"]['+e+"]"}function hd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function rh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Yt(t,"link",n),ze(t),e.head.appendChild(t))}function ai(e){return'[src="'+Sn(e)+'"]'}function Fi(e){return"script[async]"+e}function md(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,ze(l),l;var u=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ze(l),Yt(l,"style",u),b0(l,n.precedence,e),t.instance=l;case"stylesheet":u=li(n.href);var o=e.querySelector(Pi(u));if(o)return t.state.loading|=4,t.instance=o,ze(o),o;l=hd(n),(u=An.get(u))&&Fu(l,u),o=(e.ownerDocument||e).createElement("link"),ze(o);var M=o;return M._p=new Promise(function(T,J){M.onload=T,M.onerror=J}),Yt(o,"link",l),t.state.loading|=4,b0(o,n.precedence,e),t.instance=o;case"script":return o=ai(n.src),(u=e.querySelector(Fi(o)))?(t.instance=u,ze(u),u):(l=n,(u=An.get(o))&&(l=p({},n),$u(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ze(u),Yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,b0(l,n.precedence,e));return t.instance}function b0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,M=0;M<l.length;M++){var T=l[M];if(T.dataset.precedence===t)o=T;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var g0=null;function bd(e,t,n){if(g0===null){var l=new Map,u=g0=new Map;u.set(n,l)}else u=g0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[ca]||o[yt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var M=o.getAttribute(t)||"";M=e+M;var T=l.get(M);T?T.push(o):l.set(M,[o])}}return l}function gd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ch(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=li(l.href),o=t.querySelector(Pi(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=v0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,ze(o);return}o=t.ownerDocument||t,l=hd(l),(u=An.get(u))&&Fu(l,u),o=o.createElement("link"),ze(o);var M=o;M._p=new Promise(function(T,J){M.onload=T,M.onerror=J}),Yt(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=v0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var es=0;function sh(e,t){return e.stylesheets&&e.count===0&&p0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&p0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&es===0&&(es=62500*Z2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&p0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>es?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function v0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)p0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var y0=null;function p0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,y0=new Map,t.forEach(oh,e),y0=null,v0.call(e))}function oh(e,t){if(!(t.state.loading&4)){var n=y0.get(e);if(n)var l=n.get(null);else{n=new Map,y0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var M=u[o];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(n.set(M.dataset.precedence,M),l=M)}l&&n.set(null,l)}u=t.instance,M=u.getAttribute("data-precedence"),o=n.get(M)||l,o===l&&n.set(null,u),n.set(M,u),this.count++,l=v0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var $i={$$typeof:O,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function xh(e,t,n,l,u,o,M,T,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function yd(e,t,n,l,u,o,M,T,J,ne,re,se){return e=new xh(e,t,n,M,J,ne,re,se,T),t=1,o===!0&&(t|=24),o=sn(3,null,null,t),e.current=o,o.stateNode=e,t=Ec(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},kc(o),e}function pd(e){return e?(e=Ba,e):Ba}function _d(e,t,n,l,u,o){u=pd(u),l.context===null?l.context=u:l.pendingContext=u,l=Rl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Ol(e,l,t),n!==null&&(Ft(n,e,t),Ti(n,e,t))}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ts(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function wd(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&Ft(t,e,67108864),ts(e,67108864)}}function Cd(e){if(e.tag===13||e.tag===31){var t=hn();t=lt(t);var n=xa(e,t);n!==null&&Ft(n,e,t),ts(e,t)}}var _0=!0;function fh(e,t,n,l){var u=g.T;g.T=null;var o=N.p;try{N.p=2,ns(e,t,n,l)}finally{N.p=o,g.T=u}}function dh(e,t,n,l){var u=g.T;g.T=null;var o=N.p;try{N.p=8,ns(e,t,n,l)}finally{N.p=o,g.T=u}}function ns(e,t,n,l){if(_0){var u=ls(l);if(u===null)Hu(e,t,l,S0,n),jd(e,l);else if(mh(u,e,t,n,l))l.stopPropagation();else if(jd(e,l),t&4&&-1<hh.indexOf(e)){for(;u!==null;){var o=Tl(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var M=De(o.pendingLanes);if(M!==0){var T=o;for(T.pendingLanes|=2,T.entangledLanes|=2;M;){var J=1<<31-Re(M);T.entanglements[1]|=J,M&=~J}$n(o),(et&6)===0&&(a0=Qe()+500,Ji(0))}}break;case 31:case 13:T=xa(o,2),T!==null&&Ft(T,o,2),r0(),ts(o,2)}if(o=ls(l),o===null&&Hu(e,t,l,S0,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else Hu(e,t,l,null,n)}}function ls(e){return e=ic(e),as(e)}var S0=null;function as(e){if(S0=null,e=Al(e),e!==null){var t=x(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=v(t),e!==null)return e;e=null}else if(n===31){if(e=S(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return S0=e,null}function Md(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case Dl:return 2;case rl:return 8;case cl:case Nl:return 32;case ia:return 268435456;default:return 32}default:return 32}}var is=!1,Pl=null,Fl=null,$l=null,er=new Map,tr=new Map,ea=[],hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jd(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":$l=null;break;case"pointerover":case"pointerout":er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(t.pointerId)}}function nr(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Tl(t),t!==null&&wd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function mh(e,t,n,l,u){switch(t){case"focusin":return Pl=nr(Pl,e,t,n,l,u),!0;case"dragenter":return Fl=nr(Fl,e,t,n,l,u),!0;case"mouseover":return $l=nr($l,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return er.set(o,nr(er.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,tr.set(o,nr(tr.get(o)||null,e,t,n,l,u)),!0}return!1}function zd(e){var t=Al(e.target);if(t!==null){var n=x(t);if(n!==null){if(t=n.tag,t===13){if(t=v(n),t!==null){e.blockedOn=t,ra(e.priority,function(){Cd(n)});return}}else if(t===31){if(t=S(n),t!==null){e.blockedOn=t,ra(e.priority,function(){Cd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function w0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ls(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ac=l,n.target.dispatchEvent(l),ac=null}else return t=Tl(n),t!==null&&wd(t),e.blockedOn=n,!1;t.shift()}return!0}function Dd(e,t,n){w0(e)&&n.delete(t)}function bh(){is=!1,Pl!==null&&w0(Pl)&&(Pl=null),Fl!==null&&w0(Fl)&&(Fl=null),$l!==null&&w0($l)&&($l=null),er.forEach(Dd),tr.forEach(Dd)}function C0(e,t){e.blockedOn===t&&(e.blockedOn=null,is||(is=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,bh)))}var M0=null;function Nd(e){M0!==e&&(M0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){M0===e&&(M0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(as(l||n)===null)continue;break}var o=Tl(n);o!==null&&(e.splice(t,3),t-=3,lu(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ii(e){function t(J){return C0(J,e)}Pl!==null&&C0(Pl,e),Fl!==null&&C0(Fl,e),$l!==null&&C0($l,e),er.forEach(t),tr.forEach(t);for(var n=0;n<ea.length;n++){var l=ea[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ea.length&&(n=ea[0],n.blockedOn===null);)zd(n),n.blockedOn===null&&ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],M=u[Le]||null;if(typeof o=="function")M||Nd(n);else if(M){var T=null;if(o&&o.hasAttribute("formAction")){if(u=o,M=o[Le]||null)T=M.formAction;else if(as(u)!==null)continue}else T=M.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),Nd(n)}}}function Ad(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(M){return u=M})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function rs(e){this._internalRoot=e}j0.prototype.render=rs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=hn();_d(n,l,e,t,null,null)},j0.prototype.unmount=rs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_d(e.current,2,null,e,null,null),r0(),t[ul]=null}};function j0(e){this._internalRoot=e}j0.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ea.length&&t!==0&&t<ea[n].priority;n++);ea.splice(n,0,e),n===0&&zd(e)}};var Td=r.version;if(Td!=="19.2.3")throw Error(i(527,Td,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var gh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:g,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{Gn=z0.inject(gh),Bt=z0}catch{}}return ar.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=kx,o=Gx,M=Rx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(M=t.onRecoverableError)),t=yd(e,1,!1,null,null,n,l,null,u,o,M,Ad),e[ul]=t.current,Yu(e),new rs(t)},ar.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",o=kx,M=Gx,T=Rx,J=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(M=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(J=n.formState)),t=yd(e,1,!0,t,n??null,l,u,J,o,M,T,Ad),t.context=pd(null),n=t.current,l=hn(),l=lt(l),u=Rl(l),u.callback=null,Ol(n,u,l),n=l,t.current.lanes=n,Te(t,n),$n(t),e[ul]=t.current,Yu(e),new j0(t)},ar.version="19.2.3",ar}var Yd;function zh(){if(Yd)return ss.exports;Yd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ss.exports=jh(),ss.exports}var Dh=zh();const ja=Tn;(function(c,r){const a=Tn,i=c();for(;;)try{if(-parseInt(a(479))/1*(parseInt(a(473))/2)+parseInt(a(475))/3*(-parseInt(a(480))/4)+-parseInt(a(478))/5*(parseInt(a(469))/6)+parseInt(a(491))/7+parseInt(a(485))/8+parseInt(a(466))/9+-parseInt(a(483))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,187619);const Nh=(function(){const c={zMpvZ:"Roray"};let r=!0;return function(a,i){const f=Tn,x={WPqAs:function(v,S){return v===S},QbMsb:c[f(490)],TJADY:"vNXoa"};{const v=r?function(){const S=f;if(x.WPqAs(x.QbMsb,x[S(470)])){const d=_0x48f845.flowers[S(482)](m=>m.id===_0x25803d);d&&_0x289a0b[S(477)](d[S(468)])}else if(i){const d=i[S(467)](a,arguments);return i=null,d}}:function(){};return r=!1,v}}})(),ms=Nh(void 0,function(){const c=Tn,r={QaFlu:c(465)};return ms[c(489)]().search("(((.+)+)+)+$")[c(489)]().constructor(ms)[c(471)](r.QaFlu)});ms();const A0=()=>new Date().toISOString();function Tn(c,r){c=c-463;const a=T0();let i=a[c];if(Tn.pDzXbJ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Tn.CQUzIR=f,Tn.BOmMVT={},Tn.pDzXbJ=!0}const x=a[0],v=c+x,S=Tn.BOmMVT[v];if(S)i=S;else{const d=function(m){this.jtcEQs=m,this.xAJBeF=[1,0,0],this.ASgKAb=function(){return"newState"},this.bqgEZc="\\w+ *\\(\\) *{\\w+ *",this.SNABCf=`['|"].+['|"];? *}`};d.prototype.ELyWeL=function(){const m=new RegExp(this.bqgEZc+this.SNABCf),w=m.test(this.ASgKAb.toString())?--this.xAJBeF[1]:--this.xAJBeF[0];return this.vUVkBo(w)},d.prototype.vUVkBo=function(m){return~m?this.mhVScQ(this.jtcEQs):m},d.prototype.mhVScQ=function(m){for(let w=0,p=this.xAJBeF.length;w<p;w++)this.xAJBeF.push(Math.round(Math.random())),p=this.xAJBeF.length;return m(this.xAJBeF[0])},new d(Tn).ELyWeL(),i=Tn.CQUzIR(i),Tn.BOmMVT[v]=i}return i}const Et=c=>c+"_"+Math.random().toString(36).slice(2,10),ye=(c,r,a)=>Math[ja(488)](r,Math[ja(463)](a,c)),na=c=>c===void 0||{WXiyR:function(a,i){return a===i}}.WXiyR(c,null)?c:JSON.parse(JSON.stringify(c)),rr=c=>Math[ja(481)](c*.7/5)*5;function nl(c,r){const a=ja;return c.groups?c.groups[a(482)](i=>i.flowerIds.includes(r))??null:null}function Ah(c,r){const a=nl(c,r);return a?a.flowerIds:[r]}function zl(c,r){const a=ja;return c[a(484)]?c.groups.find(i=>i.leafIds[a(487)](r))??null:null}function Th(c,r){const a=ja,i={BSzhV:function(d,m){return d===m},WBCYt:function(d,m){return d/m}},f=(c.groups??[]).find(d=>d.id===r);if(!f)return{x:0,y:0};const x=[];for(const d of f.flowerIds){const m=c.flowers.find(w=>w.id===d);m&&x.push(m.position)}for(const d of f[a(486)]){const m=(c[a(474)]??[]).find(w=>w.id===d);m&&x.push(m[a(468)])}if(i.BSzhV(x.length,0))return{x:0,y:0};const v=x[a(476)]((d,m)=>d+m.x,0),S=x[a(476)]((d,m)=>d+m.y,0);return{x:i[a(472)](v,x[a(464)]),y:i.WBCYt(S,x.length)}}function Hd(c,r){const a=ja,i=zl(c,r);return i?i[a(486)]:[r]}function T0(){const c=["mtG5mJyXnKrhCvPAzq","BgvHzKLKCW","Aw5JBhvKzxm","Bwf4","Dg9tDhjPBMC","EK1WDLO","ndu5nJC2weT6sg9H","BwLU","BgvUz3rO","kcGOlISPkYKRksSK","mZe1nti2nwjRs3vWvG","yxbWBhK","Cg9ZAxrPB24","nJC4vhHTvK9T","vePbrfK","C2vHCMnO","v0jdwxq","mtC1nJzhuxzeuxa","BgvHDMvZ","mZCYntDfBwvNCfO","CMvKDwnL","ChvZAa","mZy1DLjPwLH6","n054B1vZEG","otj4t21wwvC","zMXVB3i","zMLUza","mta5odq0mejzwvHOyG","z3jVDxbZ"];return T0=function(){return c},T0()}const xi=$t;(function(c,r){const a=$t,i=c();for(;;)try{if(-parseInt(a(279))/1*(-parseInt(a(320))/2)+parseInt(a(273))/3+parseInt(a(314))/4*(-parseInt(a(286))/5)+parseInt(a(296))/6+parseInt(a(303))/7+-parseInt(a(266))/8+-parseInt(a(306))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,194003);const Lh=(function(){let c=!0;return function(r,a){const i={qqTsr:function(x,v){return x/v},suYZC:"uniform"},f=c?function(){const x=$t,v={WfGpt:function(S,d){return S<=d},QGgTW:function(S,d){return S/d},yifdN:function(S,d){return i[$t(293)](S,d)},ARmaL:i[x(267)],ZobgE:function(S,d){return S+d},VkEWk:function(S,d){return S/d},gyWXs:function(S,d){return S*d}};if(x(301)!=="JrVMs"){if(v.WfGpt(_0x2d8046,0)||v.WfGpt(_0x213342,0))return 0;const S=v.QGgTW(_0x1ff534,2),d=v.yifdN(_0x4a530d.SQRT2,2),m=_0x54905d;if(_0xd8c040===v.ARmaL||_0x28576a===0){const y=v[x(308)](d*v.ZobgE(m,2),3);return _0x1e3117[x(305)](1,_0x57ed9a[x(287)](S/y))}const w=_0x4daba4*(m-1)*m/6,p=v.VkEWk(v[x(292)](v.yifdN(S,d)-w,3),m+2);return _0x12f1d3.max(1,_0x143a8a[x(287)](p))}else if(a){const S=a.apply(r,arguments);return a=null,S}}:function(){};return c=!1,f}})(),bs=Lh(void 0,function(){const c=$t,r={wnZBU:"(((.+)+)+)+$"};return bs.toString().search(r[c(269)])[c(265)]().constructor(bs)[c(297)](r.wnZBU)});bs();const oi=2/3,Zd=.6,Eh=.25,Ih=.75;function L0(){const c=["EufyueC","D3vVAvK","BxzbtuS","mty4nde0uLfzCenm","r05ZsLy","Dg9tDhjPBMC","mJG1ndaWmhjqA0XjuG","C3vzwKm","z0jhuw0","D25AqLu","EgzIB20","BKLiwvK","EKjPzKy","otC4ntmXsMjLAwPQ","AhDjuhq","D0j6Bui","vvrptwq","D2DNCha","A1rUEvO","m1LzEvbRBa","v21QzvC","BwLU","EKTJBLy","s2Lirw8","yunPBwS","sujbvue","mtqXnwzJBgLUBW","CM91BMq","vwnTCuy","tLfywuG","zxPOExu","revvtfu","z3Lxwhm","CxfuC3i","EK9QBwK","yKvLu1a","mtuWnZu2meLXA3jTqG","C2vHCMnO","AxfXyvy","CuDjwKO","u1fsvdi","sNjwtxm","Dw5PzM9YBq","mtGWodq1n2HSuMnfsa","vxbOBLa","Bwf4","mZa3odKYn3HuwwriuG","AwjgEey","EwLMze4","z3jHzhvHBa","AMrHwey","z1DsDfe","rg14ug8","ruT2Ehq","mJC2nfnJuNfdBW","C2L6zu1Vzgu","C3vyzgu"];return L0=function(){return c},L0()}function aa(c,r,a){const i=$t,f={ezhyu:function(O,B){return O+B},gWRtQ:function(O,B){return O/B},yAXPG:function(O,B){return O*B},KiHEo:function(O,B){return O/B},zOjmi:function(O,B){return O*B},NTPtJ:function(O,B){return O<=B},qGIZJ:function(O,B){return O<=B},mvAMK:function(O,B){return O===B},zKcnV:function(O,B){return O-B},UcmqF:"sAQNw",zdwQj:function(O,B){return O+B},zBifF:function(O,B){return O+B},uvXja:function(O,B){return O-B},GNsJV:function(O,B){return O+B},jdaXF:function(O,B){return O*B}},x=f.KiHEo(c,2),v=f[i(294)](r,Math.SQRT2)/2;if(f.NTPtJ(v,0)||f[i(299)](x,0))return{diameter:c,layerCount:1};const S=a?.sizeMode??"uniform",d=a?.sizeStepMm??0,m=v*(1-oi),w=f.KiHEo(f[i(317)](Math.PI,x),2),p=a?.layerCount??Math.max(1,Math[i(287)](f[i(311)](w,m))),y=f.mvAMK(S,i(309))?f[i(290)](r,f[i(282)](p,1)*d):r,j=y*Math.SQRT2/2,D=f.zOjmi(v,Eh)+j*Ih;if(p===1){const O=Math.min(Math.PI/2,f.gWRtQ(j*oi,x)),B=x*Math.sin(O),Y=f[i(317)](j,Zd)*Math.sin(O);return{diameter:Math.round(Math[i(305)](c,f[i(294)](2,B+Y))),layerCount:p}}let b=f[i(294)](v,oi)/x;for(let O=1;O<p;O++)if(f[i(319)](i(280),f[i(288)])){const B=_0x23cdc8===i(309)?f.ezhyu(_0x2e07a6,_0x4c35b0*_0x3f6d1d):_0x20e8f8;_0x5cf1d9.push(f.gWRtQ(f[i(317)](B,_0x15e31c[i(300)]),2))}else{const B=S==="gradual"?f.zdwQj(r,f.zOjmi(O,d)):r,Y=f[i(294)](B,Math.SQRT2)/2;b+=f[i(283)](f.zOjmi(Y,1-oi),x)}b=Math[i(281)](b,Math.PI/2);const h=f.yAXPG(f[i(272)](x,f[i(317)](D,Zd)),Math.sin(b)),L=Math[i(305)](0,f.uvXja(h,x));return{diameter:Math[i(287)](f[i(264)](c,f[i(310)](2,L))),layerCount:p}}function sr(c,r,a=xi(302),i=0){const f=xi,x={nIHYY:function(d,m){return d+m},vYqHN:function(d,m,w,p){return d(m,w,p)},suXde:function(d,m){return d<m},ZTeIN:function(d,m){return d<=m},CNtBf:function(d,m){return d<=m},ghDEJ:f(309),cUaqp:function(d,m){return d*m},ycXuT:function(d,m){return d/m},FiHPV:function(d,m){return d*m},bEeSP:"eDlpS"};if(x.ZTeIN(r,0)||x.CNtBf(c,0))return 0;const v=[];for(let d=0;x.suXde(d,r);d++){const m=a===x.ghDEJ?x.nIHYY(c,x.cUaqp(d,i)):c;v.push(x.ycXuT(x.FiHPV(m,Math.SQRT2),2))}let S=v[0];for(let d=1;d<r;d++)if(x[f(295)]===x[f(295)])S+=v[d]/3;else{const m=x[f(271)](_0x4440eb,_0x45733b)/2,{diameter:w}=x.vYqHN(_0x257209,_0x5b4a2d,m,_0x514868);x[f(316)](w,_0x5d1109)?_0x341bba=m:_0x3ba0d9=m}return Math[f(287)](x.FiHPV(S,2))}function Bh(c,r,a=xi(302),i=0){const f=xi,x={hwIPt:function(p,y){return p<=y},bgkLk:function(p,y){return p<=y},DmxPo:function(p,y){return p/y},EKvxt:function(p,y){return p===y},kTnyZ:f(302),aIXyN:function(p,y){return p*y},XgoAS:function(p,y){return p+y},ibFxF:function(p,y){return p/y},Dairf:function(p,y){return p-y}};if(x[f(274)](r,0)||x.bgkLk(c,0))return 0;const v=c/2,S=x[f(312)](Math.SQRT2,2),d=r;if(x[f(313)](a,x[f(278)])||x[f(313)](i,0)){const p=x.aIXyN(S,x.XgoAS(d,2))/3;return Math[f(305)](1,Math[f(287)](v/p))}const m=i*(d-1)*d/6,w=x[f(307)](x.Dairf(v/S,m)*3,d+2);return Math[f(305)](1,Math.round(w))}function qh(c,r,a){const i=xi,f={wBzmB:function(S,d){return S/d},mBgco:function(S,d){return S===d},wggpp:i(291),UphnP:function(S,d){return S/d},IBAUA:function(S,d,m,w){return S(d,m,w)},PYXXs:function(S,d){return S+d}};if(c<=r)return 1;let x=1,v=80;for(let S=0;S<30;S++)if(f.mBgco(f[i(277)],i(268)))_0x1473e2+=FTTbnj[i(275)](_0x1a1074[_0x2407e9],3);else{const d=f[i(304)](x+v,2),{diameter:m}=f[i(285)](aa,r,d,a);m<c?x=d:v=d}return Math[i(305)](1,Math.round(f.PYXXs(x,v)/2))}function $t(c,r){c=c-264;const a=L0();let i=a[c];if($t.timFos===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};$t.mWZmZT=f,$t.bjKqpI={},$t.timFos=!0}const x=a[0],v=c+x,S=$t.bjKqpI[v];if(S)i=S;else{const d=function(m){this.CdJgfk=m,this.FfTZiF=[1,0,0],this.xdzXGb=function(){return"newState"},this.QETOrl="\\w+ *\\(\\) *{\\w+ *",this.SAgwxM=`['|"].+['|"];? *}`};d.prototype.pwLgOH=function(){const m=new RegExp(this.QETOrl+this.SAgwxM),w=m.test(this.xdzXGb.toString())?--this.FfTZiF[1]:--this.FfTZiF[0];return this.AgFVXc(w)},d.prototype.AgFVXc=function(m){return~m?this.OtDfez(this.CdJgfk):m},d.prototype.OtDfez=function(m){for(let w=0,p=this.FfTZiF.length;w<p;w++)this.FfTZiF.push(Math.round(Math.random())),p=this.FfTZiF.length;return m(this.FfTZiF[0])},new d($t).pwLgOH(),i=$t.mWZmZT(i),$t.bjKqpI[v]=i}return i}function kh(c,r,a){const i=xi,f={xfbom:function(y,j){return y/j},wuoiY:"uniform",aCimk:function(y,j){return y===j},NQXYH:function(y,j){return y+j},fnvaI:function(y,j){return y*j},iqqaV:function(y,j){return y>j},UTOMd:function(y,j){return y+j}},x=c/2,v=f[i(270)](r*Math.SQRT2,2);if(v<=0||x<=0)return 1;const S=a?.[i(315)]??f[i(318)],d=a?.sizeStepMm??0,m=f.xfbom(Math.PI,2);if(S==="uniform"||f[i(284)](d,0)){const y=f.xfbom(v,3),j=Math.PI*x/2;return Math[i(305)](1,Math.round(f[i(270)](j,y)))}let w=v*oi/x;if(w>=m)return 1;let p=1;for(let y=1;y<100;y++){const j=f[i(289)](r,f.fnvaI(y,d)),D=f.fnvaI(j,Math[i(300)])/2,b=f[i(270)](f.fnvaI(D,1-oi),x);if(w+=b,f[i(298)](w,f[i(289)](m,b/2)))break;p=f[i(276)](y,1)}return Math.max(1,p)}const al=Ln;(function(c,r){const a=Ln,i=c();for(;;)try{if(parseInt(a(285))/1*(-parseInt(a(286))/2)+-parseInt(a(276))/3*(-parseInt(a(294))/4)+parseInt(a(283))/5+-parseInt(a(287))/6+-parseInt(a(317))/7+parseInt(a(298))/8*(parseInt(a(289))/9)+parseInt(a(292))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,276239);const Gh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Ln;if(a){const x=a[f(315)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),gs=Gh(void 0,function(){const c=Ln,r={pyFPs:c(302)};return gs[c(332)]()[c(330)](r[c(304)]).toString()[c(339)](gs).search(r[c(304)])});function Ln(c,r){c=c-275;const a=E0();let i=a[c];if(Ln.NOjxLM===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Ln.VNKAcr=f,Ln.QTVGDi={},Ln.NOjxLM=!0}const x=a[0],v=c+x,S=Ln.QTVGDi[v];if(S)i=S;else{const d=function(m){this.tIRPaV=m,this.WsINAN=[1,0,0],this.gOlmCN=function(){return"newState"},this.JOslPj="\\w+ *\\(\\) *{\\w+ *",this.ZpFFTu=`['|"].+['|"];? *}`};d.prototype.GxCBqS=function(){const m=new RegExp(this.JOslPj+this.ZpFFTu),w=m.test(this.gOlmCN.toString())?--this.WsINAN[1]:--this.WsINAN[0];return this.ERPTuo(w)},d.prototype.ERPTuo=function(m){return~m?this.bnnYfp(this.tIRPaV):m},d.prototype.bnnYfp=function(m){for(let w=0,p=this.WsINAN.length;w<p;w++)this.WsINAN.push(Math.round(Math.random())),p=this.WsINAN.length;return m(this.WsINAN[0])},new d(Ln).GxCBqS(),i=Ln.VNKAcr(i),Ln.QTVGDi[v]=i}return i}gs();const dr=.28,Ud={:al(299),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function or(c){const r=al,a={ltHCb:function(i,f){return i===f},MZsif:r(321)};return a.ltHCb(c,a.MZsif)?Ud.:Ud[r(322)]}function la(c){const r=al,a={gqoma:function(i,f){return i/f},xAZwC:function(i,f){return i*f}};return a[r(312)](a.xAZwC(c,Math.PI),180)}const rn=2.7;function It(c){const r={yFHhU:function(x,v){return x*v}},a=r.yFHhU(c,Math.SQRT2)/2,i=a*rn,f=i/2;return{length:i,width:f}}function Rh(c){return c*rn/2}function cr(c,r,a){const i=al,f={RYOoX:function(m,w){return m(w)},zhNQM:function(m,w){return m*w},ppqfe:function(m,w){return m-w},RUvRM:function(m,w){return m+w},AbsDg:function(m,w){return m/w}},{length:x}=f.RYOoX(It,a),v=f.zhNQM(x,r),S=Math[i(275)](0,f.ppqfe(c,v*dr)),d=f.RUvRM(S,v);return f.AbsDg(f.zhNQM(d,2),rn)}function Oh(c,r,a){const i=al,f={zeLkS:function(d,m){return d*m},jQNIM:function(d,m){return d/m},ICFag:function(d,m){return d-m}},{length:x}=It(a),v=f[i(337)](x,r),S=f.jQNIM(c*rn,2);return Math[i(275)](2,f.ICFag(S,f[i(337)](v,f.ICFag(1,dr))))}function tl(c,r,a){const i=al,f={CkhnO:function(w,p){return w/p},DBKcZ:function(w,p){return w<p},YkplZ:function(w,p){return w%p},qebWx:function(w,p){return w+p},rJwLM:function(w,p){return w*p},vpIhf:function(w,p){return w<p},mcavI:"UNZIB",hqezV:function(w,p){return w+p},AWavD:function(w,p){return w>p},bsAuq:function(w,p){return w-p}};if(!c||c<=0||!a||a<=0)return r??0;const x=360/c,v=f[i(311)](360,a),S=[];for(let w=0;f.DBKcZ(w,c);w++)S[i(329)](f.YkplZ(f[i(290)](r,w*x)%360+360,360));let d=f.qebWx(r,f[i(311)](x,2)),m=-1;for(let w=0;w<c;w++){const p=r+f[i(334)](w,x)+x/2;let y=1/0;for(let j=0;f[i(296)](j,a);j++)if(f[i(310)]!==i(340)){const D=(f.hqezV(p,j*v)%360+360)%360;for(const b of S){let h=Math[i(277)](D-b);f.AWavD(h,180)&&(h=f.bsAuq(360,h)),h<y&&(y=h)}}else return _0x1641bc[i(332)]().search("(((.+)+)+)+$").toString().constructor(_0x10be54).search("(((.+)+)+)+$");f[i(319)](y,m)&&(m=y,d=p)}return Math.round(f.rJwLM(d,10))/10}function P0(c,r,a){const i=al,f={knRIE:function(j,D){return j/D},EJtsS:function(j,D){return j>D},kCqXT:function(j,D){return j/D},fChzQ:function(j,D){return j*D},GijJb:function(j,D){return j===D},niNjm:function(j,D){return j(D)},tuMWi:function(j,D){return j<=D},EiPtx:function(j,D){return j/D},ATRCy:i(306),gDVpb:"oZFlE",oCTOk:function(j,D){return j*D},XbnNa:function(j,D){return j*D}};if(f.GijJb(c.length,0))return;const{length:x}=f.niNjm(It,r),v=c[0],S=v.scale??1,d=x*S,m=Math.max(0,v[i(327)]-f.fChzQ(d,dr)),w=m+d;if(f.tuMWi(w,0))return;const p=f.EiPtx(a*rn,2),y=p/w;for(const j of c)if(f[i(281)]===f[i(303)]){const b=f.knRIE(70*_0x450252.PI,180),h=f[i(284)](_0x4dde69,1)?f[i(279)](_0x3edd4e,_0x55b588-1)*b:0;_0x32b0d4=f.fChzQ(_0x1c23b2*(30/100),_0xbb5289[i(325)](h))}else j[i(327)]=Math[i(275)](2,Math[i(333)](j[i(327)]*y*10)/10),j[i(278)]=f[i(279)](Math.round(f.oCTOk(f[i(308)](j.scale??1,y),100)),100);vs(c,r)}function vs(c,r){const a=al,i={FreyQ:function(d,m){return d(m)},MMRiY:function(d,m){return d*m},ytCHu:function(d,m){return d*m},HLqeb:function(d,m){return d>m}};if(c.length===0)return;const f=c[c.length-1],{length:x}=i[a(288)](It,r),v=i[a(328)](x,f[a(278)]??1),S=Math.floor(i[a(297)](i[a(328)](v,dr),10))/10;i[a(341)](f[a(327)],S)&&(f[a(327)]=S)}function E0(){const c=["nZi1otDWCgPuyKO","ywjZ","C2nHBgu","A0nXwfq","CwLQwem","qvrsq3K","EuXOzeu","mtq2mtGWCNr1DMPk","ruP0C1m","mtK5oduXAvjezhny","nhrjufnVvq","mta5nJqXmeXOywzHwG","rNjLEve","oxPhAvLJCa","CwvIv3G","C2LU","mJyWmte5mgnbDw5mAW","B3jKzxi","mZjQBNnuC3a","BM1fBeS","DNbjAgy","Exrdshu","ndi2odG0mgfZEKTXyG","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","CfrMyLq","uMn1u0S","kcGOlISPkYKRksSK","z0rwCgi","ChLguhm","qK5hrvy","tLDpCKO","wwLvruK","wgjUtMe","zgzlyLu","BwnHDKK","q2TOBK8","z3fVBwe","vxfrtuO","wgrPyNO","yxbWBhK","AM9PBG","mteWnteZmNzTr05htW","zMLUza","qvDHDKq","yKnlzum","5yMJ44gK44g+44g/","5lI444gK44g+44g/","AuzqCwG","sev5C0O","y29Z","Dg9gAxHLza","CMfKAxvZ","tu1sAvK","ChvZAa","C2vHCMnO","BgvUz3rO","Dg9tDhjPBMC","CM91BMq","CKP3te0","v0DSCMy","yuTtChK","EMvmA1m","BwLU","y29UC3rYDwn0B3i","B1zYCKW","seXXzwi","Bwf4"];return E0=function(){return c},E0()}function Yh(c,r,a,i){const f=al,x={bSXTq:function(y,j){return y===j},aKSpy:function(y,j){return y(j)},dfKbU:function(y,j){return y*j},GzUCe:function(y,j){return y<j},WGlrf:function(y,j){return y*j},yLhdE:function(y,j){return y/j},Xdibz:function(y,j){return y>j},YiUEI:function(y,j){return y/j},tUuAJ:function(y,j){return y/j},nmElK:function(y,j){return y*j},BNGEV:function(y,j,D,b){return y(j,D,b)}};if(x.bSXTq(c[f(331)],0))return;const v=[...c].sort((y,j)=>j.order-y.order),{length:S}=x[f(336)](It,r),d=v[f(331)],m=v[0][f(278)]??1,w=x[f(309)](S,m);v[0][f(327)]=Math.floor(x[f(309)](w*dr,10))/10;for(let y=1;x.GzUCe(y,d);y++){const j=v[y-1],D=x[f(335)](S,j.scale??1);let b;if(a===""){const L=x[f(282)](70*Math.PI,180),R=x[f(314)](d,1)?x[f(307)](y,d-1)*L:0;b=x.dfKbU(D,x.tUuAJ(30,100))*Math.cos(R)}else b=x.yLhdE(D,3);v[y].radius=x[f(282)](Math.round(x[f(295)](j[f(327)]+b,10)),10)}const p=[...c].sort((y,j)=>y[f(293)]-j[f(293)]);x[f(305)](P0,p,r,i);for(const y of p){const j=c[f(318)](D=>D.id===y.id);j&&(j.radius=y[f(327)],j.scale=y[f(278)])}}function fi(c){const r=al,a={wxlBF:function(d,m){return d(m)},RcuSK:function(d,m){return d/m},bDuUv:function(d,m){return d*m}},i=360/c,f=Math.sin(a.wxlBF(la,a[r(301)](i,2)))*2,x=.96,v=1.2,S=f*v/x;return Math.round(a.bDuUv(Math[r(275)](.3,Math[r(338)](3,S)),100))/100}(function(c,r){const a=en,i=c();for(;;)try{if(parseInt(a(365))/1*(-parseInt(a(371))/2)+parseInt(a(367))/3+-parseInt(a(376))/4+parseInt(a(368))/5+parseInt(a(383))/6*(parseInt(a(429))/7)+parseInt(a(387))/8*(-parseInt(a(358))/9)+parseInt(a(437))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,360140);const Hh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=en;if(a){const x=a[f(403)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),ys=Hh(void 0,function(){const c=en,r={nPpzt:c(431)};return ys[c(351)]().search("(((.+)+)+)+$")[c(351)]()[c(381)](ys).search(r.nPpzt)});ys();function I0(){const c=["nduWD2LHC3Hv","wNnIywu","i0m4qtjena","reT0Du8","y29Sx2DVBgq","A2rvyKW","v3LergS","mZeYmti4ugrRCLP1","C29YDa","mty1otq2offfEKzoDa","mte0nZG5mhP6rMv0tG","rMDwAhC","y29Sx2DYzwvU","nhLotwLKAq","qxHTzfq","qMvKr2y","rMXVD2vYide","BwfW","mtu4mJHuu2LXq0u","5lI444gK44g+44g/","thP0DuG","EhflBwC","zMX3","y29UC3rYDwn0B3i","q2vUDgvY","mtjKuevNCfq","yNHSu28","vgXmBKe","wg9Ly2e","oduZmZzXwenxvfG","y29Sx3jLza","i0q0qtG0mW","re1wtgq","y29Sx3LLBgXVDW","DuzHCuW","Bu1Pwxq","i0zerJvdoq","tgTRCe4","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","y29Sx2XPz2H0yMX1zq","5yMJ44gK44g+44g/","vKPXCKO","tKLXB0i","ienVChK","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","yxbWBhK","A0jotuG","y29Sx2jYB3DU","iZHcnuuZqW","t3v0zxi","B3jKzxi","y29Sx3b1CNbSzq","EhDrEuK","Cgv0ywXdB3vUDa","EhboBKq","uvncChG","y29Sx2XPz2H0EwvSBg93","i0yWoda4ma","sw5Uzxi","Cg9ZAxrPB24","5y2k44gp44gz","y29Sx2rHCMTNCMvLBG","y29Sx2HVDhbPBMS","B2zMC2v0qw5NBgu","i0mWqZbdma","EwfICw0","BMfTzq","ywLry1q","yLPMBMy","Bgf5","C2nHBgu","mtu0odG3nMrpDwvurG","CMfKAxvZ","kcGOlISPkYKRksSK","Agz5uxe","zMLUza","rgzHDKi","zLLvwu0","y29Sx2XHDMvUzgvY","mJK2ndmZmg9Mt3bMBa","rM55qLG","quzAr1O","y29Sx3bPBMS","z2Xos24","vLvLCgi","v3DfugC","q1rMCu0","AvrPA3C","vMfst3y","ChjQ","BunMyNC","Cgv0ywXpDMvYCMLKzxm","BLDHzuW","A3PwBum","y29Sx3DOAxrL","EuLmrxG","Bgf5zxjZ","Dg9tDhjPBMC","sMflzhm","s1LnsgS","t2rPs3u","i0y1rJvgnq","C0vdq2S","iZjdm0u2qG"];return I0=function(){return c},I0()}function $d(){const c=en,r={XrOSa:c(355),BedGf:"#E0457B",ZHRaG:"col_orange",dudcH:"col_yellow",mwFAg:"#F2D04B",OdiKu:c(394),FPqRP:c(370),LkkpN:"#2FBF4A",rIikb:c(397),LztuH:"col_navy",DKtuO:c(409),FgVhw:"#9B59B6",WyDDk:c(436),yILEx:c(360),mCfbw:"col_silver",FnyBX:c(422),RffmR:"col_cream",rythP:c(405),KYMHk:c(406)};return[{id:"col_white",name:"",hex:r.XrOSa},{id:"col_red",name:"",hex:"#E34850"},{id:c(440),name:"",hex:"#F08CB6"},{id:c(420),name:"",hex:r[c(373)]},{id:r.ZHRaG,name:"",hex:"#F08A3B"},{id:r.dudcH,name:"",hex:r.mwFAg},{id:c(414),name:"",hex:r[c(354)]},{id:r.FPqRP,name:"",hex:r[c(395)]},{id:c(419),name:"",hex:"#1A7A3A"},{id:r.rIikb,name:"",hex:"#7EC8E3"},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:r[c(378)],name:"",hex:c(357)},{id:r[c(361)],name:"",hex:r[c(369)]},{id:r[c(364)],name:"",hex:r[c(349)]},{id:c(362),name:"",hex:c(389)},{id:r[c(344)],name:"",hex:r[c(438)]},{id:r.RffmR,name:"",hex:"#F5E6CC"},{id:r.rythP,name:"",hex:r[c(353)]},{id:"col_black",name:"",hex:"#333333"},{id:"col_coral",name:"",hex:c(415)}]}function Zh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=en,f={iTikw:function(S){return S()},oApda:i(447),ZIydk:function(S,d){return S??d}},x=f.iTikw(A0),v=f[i(445)]($d);return Ma({id:Et(f.oApda),title:f.ZIydk(c,""),unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:x,updatedAt:x,palette:v,flowers:[]})}function en(c,r){c=c-344;const a=I0();let i=a[c];if(en.vOgczn===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};en.wiZKyI=f,en.dxlkjY={},en.vOgczn=!0}const x=a[0],v=c+x,S=en.dxlkjY[v];if(S)i=S;else{const d=function(m){this.MbnYWE=m,this.fCGWjY=[1,0,0],this.nLIOJc=function(){return"newState"},this.fBYiIw="\\w+ *\\(\\) *{\\w+ *",this.NGuwjj=`['|"].+['|"];? *}`};d.prototype.KJOgUF=function(){const m=new RegExp(this.fBYiIw+this.NGuwjj),w=m.test(this.nLIOJc.toString())?--this.fCGWjY[1]:--this.fCGWjY[0];return this.pTcoJd(w)},d.prototype.pTcoJd=function(m){return~m?this.myVYWh(this.MbnYWE):m},d.prototype.myVYWh=function(m){for(let w=0,p=this.fCGWjY.length;w<p;w++)this.fCGWjY.push(Math.round(Math.random())),p=this.fCGWjY.length;return m(this.fCGWjY[0])},new d(en).KJOgUF(),i=en.wiZKyI(i),en.dxlkjY[v]=i}return i}function Uh(c,r){const a=en,i={bxlSo:"flw",FCEbY:function(S,d){return S+d}},f=na(c);f.id=Et(i[a(384)]),f[a(424)]=c[a(424)]+a(401);const x=r?.x??12,v=r?.y??12;return f.position={x:i.FCEbY(c[a(417)]?.x??0,x),y:(c.position?.y??0)+v},f.layers=(f[a(350)]||[]).map(S=>({...S,id:Et("lay"),petalOverrides:S[a(345)]?S[a(345)][a(375)](d=>({...d})):void 0})),f}function B0(){const c=["Bg9JA2vK","CgvWq291BNq","Cg9Zzq","zMfICMLJu3f1yxjLu2L6zq","y2HPBgq","mJuYodCYzNPVrNP2","C2nHBgu","nhW1Fdf8nNWYFdn8ma","kcGOlISPkYKRksSK","mJe5mtiXmef0vvnxrW","zMLSDgvY","C3rLBMnPBhm","teDiAwq","Cfjduey","Aw5UzxjdB2XVCKLK","44oA44od44ox","y29UC3rYDwn0B3i","BgvHzKDYB3vWCW","zMXVD2vYCW","AxnbCNjHEq","tgPvv0y","DxbKyxrLzef0","CMLNAhq","EhH6wuK","Bgf5zxjZ","zMLUza","AK5osNq","5yMJ44gK44g+44g/","BMfTzq","Aw5UzxjtAxPLuMvKDwn0Aw9U","BgvUz3rO","BgvMDa","y29SB3iY","Dg9tDhjPBMC","Dw5PDa","C3rYAw5N","uM5LweW","svPpA2K","DMvYC2LVBG","DgjHz2O","AuLzr2S","DhLWzq","mNPSBwPvrW","DeXMthi","DxPduMW","sMPeqxi","C2vHCMnO","z3jW","wgTQu1u","DNbXuMK","y3jLyxrLzef0","zMX3","BgvHDMvZ","uffIsLa","wNDgvu8","mJbruMP1ALC","mteZmZGXmhr6B3fUvq","mtuZEwvoy3nW","zMXVD2vYrgLHBwv0zxi","CM91BMq","rMXVD2vY","mJjSBezqv1q","wNbhrMS","5lI444gK44g+44g/","z3jVDxbZ","AxngAw5PDgu","v2HJv3G","yMfZzurPyw1LDgvY","mJy1otC4oeTxs2fVEq","mJiXmZG4sMDPwgTJ","D21nveC","Bujov2K","CM90yxrPB24","rvLdzvK","BwfW","C3bSAxq","BgPnuMy","Aw5UzxjqzxrHBfr5Cgu","tuzWuLu","BgvHzKLKCW","x2rVDwjSzvbLDgfSq2fJAgu","mtyXnZKWnxfREwvuuW","Cg9ZAxrPB24","zg91yMXLugv0ywW","y29SB3jjza","C0HRy1y","CMfKAxvZ","y2vUDgvY","Cgv0ywXdB3vUDa","uMPzBKC","B2jQzwn0","Aw5Uzxjty2fSzq","sMDeDNq","z3LhAgq","C2L6zq","CgfSzxr0zq","mZi0mdneyuL6A1K","B2zMC2v0qw5NBgu","yxbWBhK","DgL0Bgu","nMzzB2n6Ea","ChjVAG","nxW2Fdb8nhWXFdn8mG","Aw5JBhvKzxm","yxb5u04","ChvZAa","zhzZzhe","AKnVBfy","AgfZ","zMXVD2vYswrZ","EhzxB3i","Cgv0ywXuExbL","D2LKDgHty2fSzq","DNfSuuW","rNLtwxy","Du1wyvC","DMLZAwjSzq"];return B0=function(){return c},B0()}(function(c,r){const a=mn,i=c();for(;;)try{if(parseInt(a(412))/1*(-parseInt(a(385))/2)+parseInt(a(439))/3*(parseInt(a(398))/4)+-parseInt(a(424))/5+-parseInt(a(443))/6*(-parseInt(a(469))/7)+-parseInt(a(465))/8*(-parseInt(a(400))/9)+parseInt(a(399))/10*(parseInt(a(404))/11)+-parseInt(a(411))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,364532);function mn(c,r){c=c-374;const a=B0();let i=a[c];if(mn.lWpTFQ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};mn.AwEGQv=f,mn.lXJMrB={},mn.lWpTFQ=!0}const x=a[0],v=c+x,S=mn.lXJMrB[v];if(S)i=S;else{const d=function(m){this.GZXypi=m,this.DbIyjQ=[1,0,0],this.cIRTgk=function(){return"newState"},this.YRmhJp="\\w+ *\\(\\) *{\\w+ *",this.AxkPAz=`['|"].+['|"];? *}`};d.prototype.uTwgjG=function(){const m=new RegExp(this.YRmhJp+this.AxkPAz),w=m.test(this.cIRTgk.toString())?--this.DbIyjQ[1]:--this.DbIyjQ[0];return this.vdtbwv(w)},d.prototype.vdtbwv=function(m){return~m?this.KWnRYQ(this.GZXypi):m},d.prototype.KWnRYQ=function(m){for(let w=0,p=this.DbIyjQ.length;w<p;w++)this.DbIyjQ.push(Math.round(Math.random())),p=this.DbIyjQ.length;return m(this.DbIyjQ[0])},new d(mn).uTwgjG(),i=mn.AwEGQv(i),mn.lXJMrB[v]=i}return i}const Kh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=mn;if(a){const x=a[f(441)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),ps=Kh(void 0,function(){const c=mn,r={vqlQL:"(((.+)+)+)+$"};return ps.toString()[c(389)](r[c(456)])[c(376)]()[c(476)](ps)[c(389)](r[c(456)])});ps();function ds(c){const r=mn,a={yfwyG:"maru",wmMTG:r(406),NtIDK:function(i,f){return i===f},JjDAr:"ken"};return c===a.yfwyG?a.wmMTG:a.NtIDK(c,a[r(388)])?"":c===a[r(413)]||c===r(487)?c:a[r(413)]}function Ma(c){const r=mn,a={apySN:function(x,v){return x!=v},ZwFUO:function(x,v){return x!=v},IZOki:function(x,v,S,d){return x(v,S,d)},PQbJP:"col_white",FySYv:r(378),JgDvt:"",uMVaW:r(390),jColV:function(x,v){return x!==v},gyGhd:"object",ljMRf:function(x,v){return x!==v},sHkcV:function(x,v,S,d){return x(v,S,d)},jNNJt:function(x,v){return x!=v},tbagj:function(x,v){return x!==v},RjYnG:function(x,v){return x(v)},MFpRU:r(394),LGHid:r(403),sdzwe:"pGJiL",eYpAY:function(x,v){return x!=v},ITRNZ:function(x,v){return x*v},rRDZU:function(x,v){return x===v},XkjSU:"",mBNWi:"",dvsdq:function(x,v){return x!==v},ffXMg:"mQDdt",ZpGFk:r(453),LjUWF:function(x,v){return x<=v},KfZZn:function(x){return x()},EYCeY:function(x,v){return x(v)},WhcWx:"",IgGln:"col_green",uzCRl:function(x,v){return x!==v},vpqRi:"boolean",MERbT:function(x,v){return x===v},oACjv:"ZHOUV",vQzYU:function(x,v){return x===v},JDLoG:"mbLwU",RneXL:function(x,v){return x>v},zaAfH:function(x,v){return x===v},wmWUB:"xxzYI",EhifQ:r(482),tLfLr:"back"},i=na(c||{});Array[r(479)](i[r(478)])||(i[r(478)]=[]);for(const x of i.flowers){x.id||(x.id=a[r(432)](Et,a[r(421)])),(typeof x.name!="string"||!x[r(488)])&&(x.name=a[r(472)]),(!x.position||!Number[r(408)](x.position.x)||!Number[r(408)](x.position.y))&&(x[r(425)]={x:260,y:260}),Array[r(479)](x.layers)||(x[r(484)]=[]);for(const v of x.layers){if(v.id||(v.id=Et("lay")),(typeof v.colorId!==a.FySYv||!v.colorId)&&(v[r(427)]=i[r(438)]?.[0]?.id??"col_white"),v[r(454)]=a[r(432)](ds,v.petalType),v.petalCount=a[r(428)](ye,Number(v[r(431)]||0),5,24),Number.isFinite(v.scale)||(v.scale=1),Number[r(408)](v.widthScale)||(v.widthScale=1),Number.isFinite(v.radius)||(v[r(429)]=28),Number[r(408)](v.offsetAngle)||(v[r(440)]=0),delete v[r(423)],v.doublePetal){if(a.sdzwe!=="pGJiL")return _0x358d1a.toString()[r(389)](r(468))[r(376)]().constructor(_0x1ffed8).search(r(468));if(typeof v.doublePetal!="object"||v.doublePetal===null)delete v.doublePetal;else{if(a.eYpAY(v.doublePetal[r(434)],null)&&v.doublePetal.innerSizeReduction==null){const S=x.fabricSquareSize??i.fabricSquareSize??20;v[r(426)].innerSizeReduction=Math[r(402)](a.ITRNZ(S,1-v.doublePetal.innerScale))}delete v[r(426)].innerScale,Number[r(408)](v[r(426)][r(489)])||(v.doublePetal[r(489)]=2),v[r(426)].innerSizeReduction=ye(v[r(426)].innerSizeReduction,1,30),delete v[r(426)].innerPetalType,v[r(426)].innerColorId!=null&&a[r(450)](typeof v.doublePetal[r(474)],a.FySYv)&&delete v.doublePetal.innerColorId}}if(Array.isArray(v.petalOverrides))for(const S of v.petalOverrides)S&&S.petalType!=null&&(S.petalType=ds(S.petalType)),S&&delete S.innerPetalType,S&&a[r(397)](S.innerColorId,null)&&typeof S[r(474)]!==a.FySYv&&delete S.innerColorId,S&&S.innerSizeReduction!=null&&(Number[r(408)](S[r(489)])?S.innerSizeReduction=a.sHkcV(ye,S.innerSizeReduction,1,30):delete S[r(489)])}if((!Number[r(408)](x[r(401)])||x.flowerDiameter<=0)&&(x[r(401)]=60),x[r(430)]&&(a.rRDZU(x[r(430)].type,a[r(391)])&&(x.center[r(384)]=""),["","",r(475)].includes(x.center[r(384)])||(x[r(430)][r(384)]=""),Number.isFinite(x.center[r(437)])||(x[r(430)].size=6),x[r(430)].size=a[r(380)](ye,x.center[r(437)],1,30),(a.ljMRf(typeof x.center.color,"string")||!x[r(430)].color)&&(x.center.color=i.palette?.[0]?.id??a.PQbJP),x.center[r(384)]===""&&(Number.isFinite(x.center.pepCount)||(x[r(430)].pepCount=12),x[r(430)][r(461)]=a.sHkcV(ye,x.center.pepCount,4,30)),a[r(450)](x[r(430)].type,"")&&delete x[r(430)][r(375)]),a.ljMRf(x.placementMode,a.mBNWi)&&x.placementMode!==""&&(x.placementMode=a[r(414)]),x[r(410)]!==void 0)if(a[r(449)](a.ffXMg,a[r(405)]))(!Number.isFinite(x.baseDiameter)||a[r(480)](x.baseDiameter,0))&&delete x.baseDiameter;else{const v=r(467)[r(418)]("|");let S=0;for(;;){switch(v[S++]){case"0":(typeof _0x254876.name!==a.FySYv||!_0x4d3319[r(488)])&&(_0x137722.name=a.JgDvt);continue;case"1":_0x3ad0de[r(452)]=_0x2c8a0a[r(452)].filter(d=>_0x221e5e[r(451)](d));continue;case"2":_0x597d3f[r(408)](_0x111e06[r(415)])||(_0xc069ba.rotation=0);continue;case"3":_0x1ee4ea.id||(_0x54e402.id=_0x3fb32f(a[r(458)]));continue;case"4":_0x4549ad[r(479)](_0x327645.flowerIds)||(_0x417fb7[r(452)]=[]);continue;case"5":_0x3ae384[r(479)](_0x303a38.leafIds)||(_0x4c72a7.leafIds=[]);continue;case"6":_0x2e5c47.leafIds=_0x14a44d[r(422)][r(470)](d=>_0x59de1d.has(d));continue}break}}}Array.isArray(i.palette)||(i.palette=[]);const f=new Set(i[r(438)].map(x=>x.id));for(const x of a.KfZZn($d))f[r(451)](x.id)||i.palette.push(x);i.createdAt||(i.createdAt=A0()),i[r(481)]||(i[r(481)]=i[r(393)]),i.id||(i.id=a[r(416)](Et,r(444))),i.title||(i[r(442)]=a[r(409)]),i[r(377)]="mm",Number[r(408)](i[r(463)])||(i[r(463)]=20),(!Number[r(408)](i.baseDiameter)||i.baseDiameter<=0)&&(i[r(410)]=30),a[r(382)](typeof i.notes,a.FySYv)&&(i.notes=""),Array.isArray(i.groups)||(i[r(407)]=[]);{const x=new Set(i[r(478)][r(417)](S=>S.id)),v=new Set((i.leaves??[])[r(417)](S=>S.id));for(const S of i[r(407)]){const d=r(445).split("|");let m=0;for(;;){switch(d[m++]){case"0":S[r(452)]=S[r(452)].filter(w=>x.has(w));continue;case"1":Number[r(408)](S.rotation)||(S[r(415)]=0);continue;case"2":(a[r(382)](typeof S[r(488)],a[r(457)])||!S.name)&&(S.name=a[r(435)]);continue;case"3":S.id||(S.id=a.RjYnG(Et,"grp"));continue;case"4":S.leafIds=S.leafIds.filter(w=>v.has(w));continue;case"5":Array[r(479)](S[r(452)])||(S[r(452)]=[]);continue;case"6":Array[r(479)](S.leafIds)||(S[r(422)]=[]);continue}break}}i[r(407)]=i.groups[r(470)](S=>S[r(452)].length+S[r(422)][r(490)]>0)}Array.isArray(i[r(395)])||(i.leaves=[]);for(const x of i.leaves)x.id||(x.id=Et("leaf")),(typeof x.name!==a.FySYv||!x.name)&&(x.name="Leaf"),(!x.position||!Number.isFinite(x.position.x)||!Number.isFinite(x.position.y))&&(x.position={x:675,y:675}),Number[r(408)](x.rotation)||(x.rotation=0),x[r(454)]=a.EYCeY(ds,x.petalType),(typeof x.colorId!==a.FySYv||!x.colorId)&&(x[r(427)]=i.palette?.[0]?.id??a.IgGln),Number[r(408)](x[r(466)])||(x.scale=1),Number.isFinite(x[r(455)])||(x.widthScale=1),a[r(387)](typeof x[r(459)],a.vpqRi)&&(x.visible=!0),typeof x[r(460)]!==a[r(392)]&&(x[r(460)]=!1),delete x[r(423)],x[r(426)]&&(typeof x[r(426)]!==r(433)||a.MERbT(x.doublePetal,null)?a.oACjv==="ZHOUV"?delete x[r(426)]:a[r(450)](typeof _0x2218ec[r(426)],a[r(436)])||_0xe00176.doublePetal===null?delete _0x4b745a.doublePetal:(_0x20640b.isFinite(_0x8b6c2a.doublePetal.innerSizeReduction)||(_0x25b578.doublePetal.innerSizeReduction=2),_0x2f461b.doublePetal.innerSizeReduction=a[r(380)](_0x45d46c,_0xc9700a[r(426)].innerSizeReduction,1,30),_0x239be9.doublePetal[r(474)]!=null&&a.jColV(typeof _0x184047.doublePetal.innerColorId,"string")&&delete _0x3c52bc[r(426)][r(474)]):(Number.isFinite(x[r(426)][r(489)])||(x[r(426)].innerSizeReduction=2),x.doublePetal[r(489)]=a.sHkcV(ye,x.doublePetal[r(489)],1,30),x.doublePetal.innerColorId!=null&&typeof x[r(426)][r(474)]!==a[r(457)]&&(a.vQzYU(a.JDLoG,"jIDdY")?_0x36a1ba[r(425)]={x:675,y:675}:delete x.doublePetal.innerColorId)));if(Array[r(479)](i[r(477)])&&a[r(379)](i[r(477)][r(490)],0)){const x=new Set((i.leaves??[]).map(v=>v.id));for(const v of i[r(477)]){if(!Array[r(479)](v[r(422)]))continue;const S=v.leafIds[r(470)](d=>x[r(451)](d));if(!a.zaAfH(S[r(490)],0)){if(v.linkedFlowerGroupId)if(r(383)!=="iIYGk")_0x5df47a.isFinite(_0x49c8f5.doublePetal[r(489)])||(_0x4eb0e4[r(426)].innerSizeReduction=2),_0x319a0f[r(426)].innerSizeReduction=_0x5d089a(_0x661885[r(426)].innerSizeReduction,1,30),a[r(397)](_0xa91a9.doublePetal.innerColorId,null)&&a[r(419)](typeof _0x460a34[r(426)].innerColorId,a.FySYv)&&delete _0x2781c8.doublePetal.innerColorId;else{const d=i.groups[r(485)](m=>m.id===v.linkedFlowerGroupId);if(d){for(const m of S)if(r(473)!=="pRCPF"){if(a[r(447)](_0x191287[r(426)].innerScale,null)&&_0x143712.doublePetal.innerSizeReduction==null){const w=_0x2f9fa9[r(463)]??_0x11bbab[r(463)]??20;_0x4f46df.doublePetal.innerSizeReduction=_0x253b03.round(w*(1-_0x4a0d3b[r(426)].innerScale))}delete _0x488731.doublePetal.innerScale,_0x3e918a.isFinite(_0x32ff96.doublePetal.innerSizeReduction)||(_0x1a8b31[r(426)][r(489)]=2),_0x6e525.doublePetal.innerSizeReduction=a[r(428)](_0x1987bb,_0x52f8c9.doublePetal[r(489)],1,30),delete _0x18f1af[r(426)][r(420)],a[r(486)](_0x6afb4f[r(426)].innerColorId,null)&&a.tbagj(typeof _0x55b71f.doublePetal.innerColorId,a.FySYv)&&delete _0x51ec55.doublePetal[r(474)]}else d.leafIds.includes(m)||d.leafIds[r(448)](m);continue}}i[r(407)].push({id:v.id||Et(a[r(458)]),name:v.name||a.JgDvt,flowerIds:[],leafIds:S,rotation:Number.isFinite(v[r(415)])?v.rotation:0})}}}if(delete i.leafGroups,Array.isArray(i[r(471)]))if(r(483)!==a.wmWUB)delete _0x1fc053[r(426)];else{const x=["adult",r(464)],v=[a.EhifQ,r(374),a[r(386)]];i.stencils=i.stencils.filter(S=>S&&typeof S.id=="string"&&x.includes(S.variant)&&v[r(446)](S[r(462)])&&S[r(425)]&&Number[r(408)](S.position.x)&&Number.isFinite(S[r(425)].y))}return Number.isFinite(i[r(381)])||(i.version=1),i}function q0(){const c=["nJu3mdmYBgjeu1vp","5y2k44gp44gz","nhLgr3vKAG","ovrXBeXXsa","Dg9tDhjPBMC","5lI444gK44g+44g/","nJeZmZq4mfnSseXYDq","otzbDg1Nthm","mty0nJm3nuryEfvpqW","C2vHCMnO","44oA44od44ox","mtm3mta5BuTluun4","kcGOlISPkYKRksSK","nty3mZi2vhLAyMPJ","otCXmtaZDvPXz3rw","mZy1odm5se1UB2Tp"];return q0=function(){return c},q0()}const Ys=Zn;(function(c,r){const a=Zn,i=c();for(;;)try{if(-parseInt(a(319))/1+parseInt(a(317))/2+parseInt(a(318))/3+-parseInt(a(322))/4*(-parseInt(a(312))/5)+parseInt(a(311))/6*(parseInt(a(315))/7)+parseInt(a(320))/8*(-parseInt(a(323))/9)+-parseInt(a(326))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,188715);const Xh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),_s=Xh(void 0,function(){const c=Zn;return _s[c(324)]()[c(313)](c(316))[c(324)]().constructor(_s).search(c(316))});_s();const e1="tsumami_projects_v1",il=[Ys(325),""];function Zn(c,r){c=c-311;const a=q0();let i=a[c];if(Zn.bTEHhD===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Zn.pMWgPv=f,Zn.EtJOsn={},Zn.bTEHhD=!0}const x=a[0],v=c+x,S=Zn.EtJOsn[v];if(S)i=S;else{const d=function(m){this.KOijxA=m,this.OqJhiy=[1,0,0],this.CZGLzB=function(){return"newState"},this.nZQytC="\\w+ *\\(\\) *{\\w+ *",this.AfdbLc=`['|"].+['|"];? *}`};d.prototype.CvQVwL=function(){const m=new RegExp(this.nZQytC+this.AfdbLc),w=m.test(this.CZGLzB.toString())?--this.OqJhiy[1]:--this.OqJhiy[0];return this.SwhzNP(w)},d.prototype.SwhzNP=function(m){return~m?this.tGUhEl(this.KOijxA):m},d.prototype.tGUhEl=function(m){for(let w=0,p=this.OqJhiy.length;w<p;w++)this.OqJhiy.push(Math.round(Math.random())),p=this.OqJhiy.length;return m(this.OqJhiy[0])},new d(Zn).CvQVwL(),i=Zn.pMWgPv(i),Zn.EtJOsn[v]=i}return i}const Jh=["","",Ys(314)],t1=["",Ys(321)];(function(c,r){const a=tn,i=c();for(;;)try{if(-parseInt(a(100))/1*(-parseInt(a(121))/2)+parseInt(a(123))/3+-parseInt(a(110))/4*(-parseInt(a(108))/5)+parseInt(a(128))/6*(parseInt(a(111))/7)+parseInt(a(106))/8*(parseInt(a(109))/9)+-parseInt(a(112))/10+parseInt(a(103))/11*(-parseInt(a(119))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,702263);const Wh=(function(){let c=!0;return function(r,a){const i=c?function(){const f=tn;if(a){const x=a[f(126)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ss=Wh(void 0,function(){const c=tn,r={BmJGv:"(((.+)+)+)+$"};return Ss[c(129)]().search(r.BmJGv)[c(129)]()[c(115)](Ss).search("(((.+)+)+)+$")});function tn(c,r){c=c-100;const a=k0();let i=a[c];if(tn.JDYkHd===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};tn.cAcSLy=f,tn.pwvZuu={},tn.JDYkHd=!0}const x=a[0],v=c+x,S=tn.pwvZuu[v];if(S)i=S;else{const d=function(m){this.TAQXbD=m,this.UqZPxP=[1,0,0],this.KyZRKN=function(){return"newState"},this.FOLyxG="\\w+ *\\(\\) *{\\w+ *",this.lEWPWm=`['|"].+['|"];? *}`};d.prototype.ORxMQs=function(){const m=new RegExp(this.FOLyxG+this.lEWPWm),w=m.test(this.KyZRKN.toString())?--this.UqZPxP[1]:--this.UqZPxP[0];return this.NTMmcm(w)},d.prototype.NTMmcm=function(m){return~m?this.RdkPIX(this.TAQXbD):m},d.prototype.RdkPIX=function(m){for(let w=0,p=this.UqZPxP.length;w<p;w++)this.UqZPxP.push(Math.round(Math.random())),p=this.UqZPxP.length;return m(this.UqZPxP[0])},new d(tn).ORxMQs(),i=tn.cAcSLy(i),tn.pwvZuu[v]=i}return i}Ss();function ur(){const c=tn,r={cquKu:"nqftP",zJwLt:function(a,i){return a===i},GsCYe:c(105)};try{const a=localStorage[c(117)](e1);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i[c(116)](f=>{const x=c;try{if(x(102)===r[x(120)])try{return _0x2ae96f[x(124)](_0x2602d6,_0x3d8b3c[x(113)](_0x2d46ed)),!0}catch{return!1}else{const v=f?.project?Ma(f[x(127)]):null;return v?{id:f.id??v.id,title:f[x(107)]??v.title,updatedAt:f.updatedAt??v.updatedAt,project:v}:null}}catch{return null}}).filter(f=>f!=null):[]}catch{return r[c(101)](c(122),r.GsCYe)?!1:[]}}function k0(){const c=["mZq4nwrQCfPlzW","mtuYmtq5nuf3vujTrG","ntC4mfzWyvfUza","ndy5ntC0C0HtswX5","ota4mdqWmhDptu1pza","C3rYAw5NAwz5","zMLSDgvY","y29UC3rYDwn0B3i","BwfW","z2v0sxrLBq","DxbKyxrLzef0","otyXmNnTANfdtG","y3f1s3u","ntq4wffey1nM","AwXfy0K","mJyZnZKZnLLorvH4zG","C2v0sxrLBq","DgfUvfG","yxbWBhK","ChjVAMvJDa","mtaYEuLqs216","Dg9tDhjPBMC","mJCZnhbZEhvmDa","EKP3thq","zfHpu2e","ndeZndLbvMTyyui","zMLUzeLUzgv4","Eenoqxi","ndb5ueDrrxe","DgL0Bgu"];return k0=function(){return c},k0()}function n1(c){try{return localStorage.setItem(e1,JSON.stringify(c)),!0}catch{return!1}}function Vh(c){const r=tn,a={fqrhO:function(S){return S()},tanTX:function(S,d){return S>=d}},i=a.fqrhO(ur),f=i[r(104)](S=>S.id===c.id),x={id:c.id,title:c[r(107)],updatedAt:c[r(118)],project:c},v=a[r(125)](f,0)?[...i.slice(0,f),x,...i.slice(f+1)]:[x,...i];return v.sort((S,d)=>S[r(118)]<d.updatedAt?1:-1),n1(v)}function Qh(c){const r=tn,a=ur()[r(114)](i=>i.id!==c);return n1(a)}function G0(){const c=["z2v0","y291BNq","zMfICMLJu2L6zu1T","CgfSzxr0zq","DMLZAwjSzq","D0nNAuK","BwfW","mtjIrxP2u04","Aw5UzxjdB2XVCKLK","EKjzrhK","Bwf4","B2nlCKK","t2fJswm","Aw5UzxjtAxPLuMvKDwn0Aw9U","kcGOlISPkYKRksSK","mMnQq2DLta","zNjVBq","CgXHy2vTzw50tw9Kzq","BMfTzq","Cgv0ywXpDMvYCMLKzxm","CMvKDwnL","z3vtt1G","mtmWnteWofDvrhPABG","r2DHvfi","Dg90ywXdB3vUDa","A21mC1i","y29SB3jjza","sgvNsgu","ChvZAa","Bw9Kzq","odm5nda1ALPmALb5","DMfSDwvZ","zg91yMXLugv0ywW","mZG5mJe1vNHwENrp","Dg9tDhjPBMC","C3fYDa","ExrwCfq","ndqWntzMwerfywy","yMfZzurPyw1LDgvY","zw50CMLLCW","Dunsugu","yMfZzurPyw1LDgvYtw0","Aw5KzxG","wLDruwm","C2v0","yNHYrNm","CM91BMq","ndmYy0LvDuHN","vNHsy1C","r1L1t1K","C2vHCMnO","mJq0mdCWmtbWENLtuue","zMLUza","5y2k44gp44gz","mJi4mdy2nNLfsvnJDW","zMfICMLJu3f1yxjLu2L6zq","mZa3mZu0nfLhwwTSuq"];return G0=function(){return c},G0()}(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(170))/1*(parseInt(a(155))/2)+parseInt(a(194))/3+parseInt(a(196))/4+-parseInt(a(173))/5+parseInt(a(204))/6*(parseInt(a(162))/7)+-parseInt(a(177))/8*(-parseInt(a(187))/9)+-parseInt(a(191))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,486693);function En(c,r){c=c-153;const a=G0();let i=a[c];if(En.zwZgAr===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};En.mqhPHs=f,En.MjEqjN={},En.zwZgAr=!0}const x=a[0],v=c+x,S=En.MjEqjN[v];if(S)i=S;else{const d=function(m){this.GuNYGH=m,this.STBIiw=[1,0,0],this.XeOXrL=function(){return"newState"},this.eBKYVJ="\\w+ *\\(\\) *{\\w+ *",this.PLdXuI=`['|"].+['|"];? *}`};d.prototype.KauETS=function(){const m=new RegExp(this.eBKYVJ+this.PLdXuI),w=m.test(this.XeOXrL.toString())?--this.STBIiw[1]:--this.STBIiw[0];return this.KeNTDs(w)},d.prototype.KeNTDs=function(m){return~m?this.WKyGra(this.GuNYGH):m},d.prototype.WKyGra=function(m){for(let w=0,p=this.STBIiw.length;w<p;w++)this.STBIiw.push(Math.round(Math.random())),p=this.STBIiw.length;return m(this.STBIiw[0])},new d(En).KauETS(),i=En.mqhPHs(i),En.MjEqjN[v]=i}return i}const Ph=(function(){let c=!0;return function(r,a){const i=c?function(){const f=En,x={ocKrI:function(v,S){return v-S}};if(f(180)!=="uCRPe"){const v=_0x115554[f(172)],S=v.innerColorId??_0x480e1b,d=_0x10344d.max(3,_0x42c2f0.round(x[f(208)](_0x5cc8d3,v.innerSizeReduction??2))),m=S+"|"+d,w=_0x526da0[f(197)](m);w?w[f(198)]+=1:_0x280e81[f(184)](m,{colorId:S,fabricSizeMm:d,count:1})}else if(a){const v=a.apply(r,arguments);return a=null,v}}:function(){};return c=!1,i}})(),ws=Ph(void 0,function(){const c=En,r={zBYDy:c(154)};return ws[c(174)]().search(c(154))[c(174)]().constructor(ws)[c(190)](r[c(206)])});ws();function Fh(c){const r=En,a={VobAM:function(w,p){return w-p},HegHe:function(w,p){return w/p},WyqNL:function(w,p){return w*p},XVjIw:function(w,p){return w+p},ZWQQc:function(w,p){return w*p},ytVpT:function(w,p){return w!==p},NQQaC:function(w,p){return w===p},JfCSq:r(193),MwUqm:"FXZxo",qdutj:function(w,p){return w<p},wCgiI:function(w,p,y){return w(p,y)},QgDSn:function(w,p){return w-p},DJjMc:function(w,p){return w(p)},MMPrx:r(209),cPGaL:"zIyiR",PJZnP:r(185),guSOX:"MslRq",rqKnN:"AkxEq",VxRcW:"djxAf"},i=new Map((c[r(200)]||[])[r(203)](w=>[w.id,w])),f=new Map,x=(w,p)=>w?.[r(159)]?.[r(192)](y=>y[r(182)]===p)??null,v=new Map;for(const w of c.flowers||[])if(a.MwUqm===r(165)){const p=_0x110be1[r(172)],y=_0x238ec9?.innerColorId??p.innerColorId??_0x165f92,j=_0x161d49?.[r(153)]??p[r(153)]??2,D=_0x2edab3[r(207)](3,_0x56c7da.round(a.VobAM(_0x5e9ba8,j))),b=y+"|"+D,h=_0x4f7604.get(b);h?h[r(198)]+=1:_0x4963d3[r(184)](b,{colorId:y,fabricSizeMm:D,count:1})}else{const p=w.fabricSquareSize??c.fabricSquareSize;for(const h of w.layers||[]){if(!h[r(201)])continue;const L=Math[r(186)](p*(h.scale??1));for(let R=0;a.qdutj(R,h.petalCount);R++){const O=a[r(202)](x,h,R),B=O?.[r(166)]??h.colorId,Y=B+"|"+L,X=f.get(Y);if(X?a[r(176)](r(163),r(189))?X.count+=1:_0x27349b.set(_0x3a27c4,{colorId:_0x527616,fabricSizeMm:_0x35a641,count:1}):f.set(Y,{colorId:B,fabricSizeMm:L,count:1}),h.doublePetal){const I=h[r(172)],Z=O?.[r(205)]??I[r(205)]??B,V=O?.innerSizeReduction??I[r(153)]??2,W=Math[r(207)](3,Math.round(a.QgDSn(L,V))),P=Z+"|"+W,q=f[r(197)](P);q?q[r(198)]+=1:f.set(P,{colorId:Z,fabricSizeMm:W,count:1})}}}const y=w[r(157)]??r(193),j=a.NQQaC(y,"")?a.DJjMc(rr,w.flowerDiameter):w[r(178)]??c.baseDiameter,D=y+"|"+j,b=v.get(D);if(b)if(a.MMPrx!=="hnhUG")b[r(198)]+=1;else{const h=a[r(167)](_0x2cbc9e.fabricSizeMm,10);return _0x4f4a97+a.WyqNL(_0x353a24.count*h,h)}else v[r(184)](D,{mode:y,baseDiameterMm:j,count:1})}for(const w of c.leaves??[]){if(!w[r(201)])continue;const p=w.fabricSquareSize??c[r(195)],y=Math[r(186)](a[r(183)](p,w.scale??1)),j=w.colorId,D=j+"|"+y,b=f[r(197)](D);if(b?b[r(198)]+=1:f[r(184)](D,{colorId:j,fabricSizeMm:y,count:1}),w[r(172)])if(a.cPGaL!==a.PJZnP){const h=w.doublePetal,L=h.innerColorId??j,R=Math[r(207)](3,Math.round(y-(h[r(153)]??2))),O=L+"|"+R,B=f[r(197)](O);B?B.count+=1:f[r(184)](O,{colorId:L,fabricSizeMm:R,count:1})}else _0x23004.count+=1}const S=new Map;for(const{colorId:w,fabricSizeMm:p,count:y}of f.values())if(a[r(161)]!==a.rqKnN){const j=S[r(197)](w);j?a[r(188)]===a[r(188)]?j[r(179)][r(168)]({fabricSizeMm:p,count:y}):_0x1483c7.count+=1:S.set(w,{colorId:w,entries:[{fabricSizeMm:p,count:y}]})}else _0x526386[r(184)](_0xdef969,{mode:_0x150c17,baseDiameterMm:_0x7d21f3,count:1});const d=Array[r(156)](S[r(171)]())[r(203)](({colorId:w,entries:p})=>{const y=r,j={HSCSj:function(O,B){return a.XVjIw(O,B)},XHZnT:function(O,B){return O*B}},D=i.get(w),b=p.sort((O,B)=>B[y(199)]-O[y(199)]),h=b[y(160)]((O,B)=>O+B[y(198)],0),L=a[y(167)](Math.round(a.ZWQQc(b.reduce((O,B)=>{const Y=B.fabricSizeMm/10;return j.HSCSj(O,j.XHZnT(B.count,Y)*Y)},0),100)),100),R=a[y(167)](Math.round(Math[y(175)](L)*10),10);return{colorId:w,colorName:D?.[y(158)]??w,hex:D?.hex??"#999999",sizes:b,totalCount:h,totalAreaCm2:L,squareSideCm:R}}).sort((w,p)=>p[r(164)]-w[r(164)]),m=Array[r(156)](v.values()).sort((w,p)=>{const y=r;return a.ytVpT(w.mode,p.mode)?a.NQQaC(w[y(169)],a.JfCSq)?-1:1:p[y(181)]-w.baseDiameterMm});return{colors:d,bases:m}}(function(c,r){const a=nn,i=c();for(;;)try{if(parseInt(a(172))/1+-parseInt(a(206))/2*(parseInt(a(165))/3)+parseInt(a(189))/4+parseInt(a(155))/5+parseInt(a(173))/6*(parseInt(a(199))/7)+parseInt(a(153))/8+-parseInt(a(202))/9*(parseInt(a(169))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,477970);const $h=(function(){let c=!0;return function(r,a){const i=c?function(){const f=nn;if(a){const x=a[f(209)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Cs=$h(void 0,function(){const c=nn,r={jcdDO:"(((.+)+)+)+$"};return Cs.toString()[c(156)](r.jcdDO)[c(191)]().constructor(Cs)[c(156)](r[c(198)])});function nn(c,r){c=c-153;const a=R0();let i=a[c];if(nn.NhAvTW===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};nn.zsfySm=f,nn.BFJBPA={},nn.NhAvTW=!0}const x=a[0],v=c+x,S=nn.BFJBPA[v];if(S)i=S;else{const d=function(m){this.mrYCqB=m,this.LdbrHZ=[1,0,0],this.ADSRth=function(){return"newState"},this.IGYakX="\\w+ *\\(\\) *{\\w+ *",this.ebykJL=`['|"].+['|"];? *}`};d.prototype.eqPbKC=function(){const m=new RegExp(this.IGYakX+this.ebykJL),w=m.test(this.ADSRth.toString())?--this.LdbrHZ[1]:--this.LdbrHZ[0];return this.RyIhqh(w)},d.prototype.RyIhqh=function(m){return~m?this.zCHTnf(this.mrYCqB):m},d.prototype.zCHTnf=function(m){for(let w=0,p=this.LdbrHZ.length;w<p;w++)this.LdbrHZ.push(Math.round(Math.random())),p=this.LdbrHZ.length;return m(this.LdbrHZ[0])},new d(nn).eqPbKC(),i=nn.zsfySm(i),nn.BFJBPA[v]=i}return i}Cs();function em(c,r){const a=nn,i={pShxB:"viewBox",EZCwn:function(j,D){return j??D},dUvzI:a(157),ZlqwW:a(154),bdGEb:a(168),guFvL:"100%",dzGQG:"height",hktzP:"white",zWWsk:"[data-grid]",phheU:a(183),vADYh:".tsumami-group-dash",tUfgV:a(179)},f=c.cloneNode(!0);f[a(205)]("[data-testid]").forEach(j=>j[a(188)](a(161))),f[a(188)](a(184));const x=c[a(163)](a(178));x&&f[a(193)](i.pShxB,x);const v=i.EZCwn(x,i.dUvzI).split(/[\s,]+/)[a(174)](Number),S=v[2]??200,d=v[3]??200;f[a(193)](a(168),String(S)),f[a(193)]("height",String(d)),f.setAttribute(a(176),i[a(167)]);const m=document[a(194)](a(154),"rect");m[a(193)](i[a(171)],i.guFvL),m.setAttribute(i.dzGQG,i.guFvL),m.setAttribute("fill",i.hktzP),f[a(204)](m,f.firstChild),f.querySelectorAll(i[a(166)]).forEach(j=>j[a(207)]()),f.querySelectorAll(i[a(197)])[a(180)](j=>j[a(207)]()),f.querySelectorAll(i.vADYh).forEach(j=>j.remove()),f[a(205)](i[a(181)])[a(180)](j=>j[a(207)]());const w=new XMLSerializer,p=`<?xml version="1.0" encoding="UTF-8"?>
`+w.serializeToString(f),y=new Blob([p],{type:"image/svg+xml;charset=utf-8"});l1(y,r.endsWith(".svg")?r:r+a(160))}function R0(){const c=["Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","Eg1SBNm","y3jLyxrLrwXLBwvUDa","DMLLD0jVEa","w2rHDgeTBwfYCxvLzv0","zM9YrwfJAa","DfvMz1y","BKDABMe","lNrZDw1HBwKTC2vSlwrHC2G","C3r5Bgu","AhjLzG","CMv2B2TLt2jQzwn0vvjm","qKLOAuG","CMvTB3zLqxr0CMLIDxrL","mteWodGWBM9sveLL","zMLSBfn0EwXL","Dg9tDhjPBMC","CMvTB3zLq2HPBgq","C2v0qxr0CMLIDxrL","y3jLyxrLrwXLBwvUDe5t","ExzRu1O","BNzryuW","CgHOzvu","AMnKre8","ndy4otuWm3PWAKDjsa","qur6zfa","se5oufG","nJqXnZa5ovvMEvnmtG","yxbWzw5Kq2HPBgq","Aw5Zzxj0qMvMB3jL","CxvLCNLtzwXLy3rVCKfSBa","mty2tKfsBKTY","CMvTB3zL","CK9eC1a","yxbWBhK","y2XPy2S","Dg9cBg9I","C3jJ","mJG1nJe2oePtyunZtW","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","mZe0mdGZnwzdAfjOyW","C2vHCMnO","mcaWidiWmcaYmda","AgvPz2H0","zhjHD0LTywDL","lNn2zW","zgf0ys10zxn0Awq","y3jLyxrLt2jQzwn0vvjm","z2v0qxr0CMLIDxrL","r0jfDeW","mJe5nJney0n0qvy","ELDxC2S","wMXXD1C","D2LKDgG","mtbMvLjuqwq","w2rHDgeTz3jPzf0","yMrhrwi","mte1nZG3CLnKzhD4","nM9btK93vG","BwfW"];return R0=function(){return c},R0()}function tm(c,r,a=2){const i=nn,f={HNNPX:function(b,h){return b*h},ADzdP:"image/png",rODsP:"[data-testid]",CVbJJ:".tsumami-group-dash",nvQaL:"[data-marquee]",SAJyR:function(b,h){return b??h},nGZna:i(178),FQekG:i(157),yHDcA:function(b,h){return b(h)},GBEtL:i(158),yvkSZ:"xmlns",DuUHy:i(154),BIhiH:i(175)},x=c.cloneNode(!0);x[i(205)](f[i(208)]).forEach(b=>b[i(188)](i(161))),x.removeAttribute("style"),x.querySelectorAll(i(170)).forEach(b=>b.remove()),x[i(205)](i(183))[i(180)](b=>b.remove()),x[i(205)](f.CVbJJ).forEach(b=>b.remove()),x[i(205)](f[i(196)])[i(180)](b=>b[i(207)]());const v=c.getAttribute("viewBox"),S=f.SAJyR(v,"0 0 200 200").split(/[\s,]+/).map(Number),d=S[2]??200,m=S[3]??200;x[i(193)](f[i(182)],v??f.FQekG),x.setAttribute(i(168),f.yHDcA(String,d)),x.setAttribute(f[i(164)],String(m)),x[i(193)](f[i(195)],f.DuUHy);const w=new XMLSerializer,p=w.serializeToString(x),y=new Blob([p],{type:f[i(187)]}),j=URL[i(162)](y),D=new Image;D.onload=()=>{const b=i,h=document[b(177)]("canvas");h[b(168)]=f[b(201)](d,a),h[b(158)]=m*a;const L=h.getContext("2d");if(!L){URL.revokeObjectURL(j);return}L[b(190)]="white",L.fillRect(0,0,h[b(168)],h.height),L[b(159)](D,0,0,h.width,h.height),h[b(211)](R=>{const O=b;R&&l1(R,r.endsWith(".png")?r:r+".png"),URL[O(186)](j)},f[b(200)])},D.onerror=()=>{URL[i(186)](j)},D[i(212)]=j}function l1(c,r){const a=nn,i=URL.createObjectURL(c),f=document.createElement("a");f[a(185)]=i,f.download=r,document.body[a(203)](f),f[a(210)](),document.body[a(192)](f),URL.revokeObjectURL(i)}function D0({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const nm="v0.1.0-dev";function lm(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:nm})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(D0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(D0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(D0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(D0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function am(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function Ms({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function im(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(Ms,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(380))/1*(parseInt(a(351))/2)+-parseInt(a(360))/3*(parseInt(a(344))/4)+parseInt(a(314))/5+parseInt(a(325))/6+parseInt(a(375))/7+parseInt(a(323))/8+-parseInt(a(317))/9*(-parseInt(a(385))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,710261);function ln(c,r){c=c-310;const a=O0();let i=a[c];if(ln.AInDbv===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};ln.jurULy=f,ln.AKFYPc={},ln.AInDbv=!0}const x=a[0],v=c+x,S=ln.AKFYPc[v];if(S)i=S;else{const d=function(m){this.CUyVOl=m,this.SRWuBw=[1,0,0],this.DJtPpl=function(){return"newState"},this.btZOhA="\\w+ *\\(\\) *{\\w+ *",this.IoXUMI=`['|"].+['|"];? *}`};d.prototype.ZJowqo=function(){const m=new RegExp(this.btZOhA+this.IoXUMI),w=m.test(this.DJtPpl.toString())?--this.SRWuBw[1]:--this.SRWuBw[0];return this.SIDEAe(w)},d.prototype.SIDEAe=function(m){return~m?this.ihEWVM(this.CUyVOl):m},d.prototype.ihEWVM=function(m){for(let w=0,p=this.SRWuBw.length;w<p;w++)this.SRWuBw.push(Math.round(Math.random())),p=this.SRWuBw.length;return m(this.SRWuBw[0])},new d(ln).ZJowqo(),i=ln.jurULy(i),ln.AKFYPc[v]=i}return i}const rm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),js=rm(void 0,function(){const c=ln,r={qPlku:"(((.+)+)+)+$"};return js.toString().search("(((.+)+)+)+$")[c(339)]().constructor(js)[c(368)](r[c(318)])});js();function O0(){const c=["Cgv0ywXjBMrLEa","AhLWB3q","nJaZmJq4reX6tNH4","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","mZa0mte1ne9HC0zzDq","y3vYCMvUDfrHCMDLDa","CgzIDgu","Cg9PBNrLCKLK","rNz4sw4","A01wwNe","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","DxjSkci","swDTBKS","C2nHBgu","Bgf5zxjjza","C3rHCNrty2fSzxm","yvbJzKi","ExreAum","Dg9tDhjPBMC","Cgv0ywXbBMDSzq","zMLUza","C3rHCNreAwfT","CKHry04","mtjktuHiCNm","BMTSvhy","C2v0ug9PBNrLCKnHChr1CMu","vuHPEhG","CMfKAxvZ","qxL3vui","C3rHCNrxAwr0AfnJywXL","mJj1D1H4sfy","Cg9ZAxrPB24","CM90yxrPB24","sgX4zKe","C3rHCNrbBMDSzq","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","CfbkEhG","zMXVD2vYCW","zMXVD2vY","mta3odi1n2rxuhfYCG","A1rsEwy","zercr2u","C3rHCNrsB3rHDgLVBG","B2zMC2v0qw5NBgu","C3r5Bgu","yxrHBJi","Bgf5zxjZ","C2vHCMnO","t1jAAwO","EeXiq2W","A0ftC3G","qKP2zNy","C3rHCNreAxn0","ywjZ","nJK5otG2mfzgAe5JtG","CercDNi","Bw9Kzq","zMXVD2vYrgLHBwv0zxi","y3vYC29Y","mZC0mJntqLv3twK","BwP5qNa","BezwsNy","Bwf4","wufYC0O","mtbZCg9bs04","ChjLDMvUDerLzMf1Bhq","Ee1Mq1a","BK94rem","ze1MDu4","y3vYCMvUDa","l3rZDw1HBwKV","zMXVD2vYswq","Bgf5zxi","BwfW","mtq3otuZnwXXz29gyG","Cgv0ywXdB3vUDa","y29Z","mJG5ode3mvDJDfnxyG","CvbSA3u","ALLbwva","svHUuwW"];return O0=function(){return c},O0()}function cm(c){const r=ln,a={toSKI:r(310),dDBGe:r(312),ytDiC:function(I,Z){return I(Z)},szlRC:function(I,Z){return I-Z},pfbte:function(I,Z){return I-Z},sWBHl:function(I,Z,V){return I(Z,V)},dMfuN:function(I,Z){return I===Z},FvxIn:function(I,Z,V,W){return I(Z,V,W)},nklTv:function(I,Z,V,W){return I(Z,V,W)},QSlkv:function(I,Z){return I*Z},IXFxK:function(I,Z){return I/Z},aPcfB:r(387),kASsx:function(I,Z){return I*Z},fnZYY:function(I,Z){return I-Z},rHQcN:function(I,Z){return I-Z},KGdFx:function(I,Z){return I===Z},pDBvr:function(I,Z){return I(Z)},nAzpN:function(I,Z){return I*Z},iRTHY:function(I,Z){return I-Z},jYAYP:function(I,Z){return I<Z},Iaodc:function(I,Z){return I+Z},EcmuP:function(I,Z){return I(Z)},UHixx:function(I,Z){return I+Z},IgmnK:function(I,Z){return I*Z},kTRyf:function(I,Z){return I/Z},FTUmP:function(I,Z){return I-Z},nOxDC:function(I,Z){return I*Z},YArsJ:function(I,Z){return I*Z},pPJxx:function(I,Z){return I+Z},GVMWN:function(I,Z,V){return I(Z,V)},HwXgk:function(I,Z){return I(Z)},XxEtm:function(I,Z){return I-Z},aJtOL:function(I,Z,V){return I(Z,V)},BJvfv:function(I,Z){return I===Z},nGJjC:function(I,Z){return I(Z)}},{project:i,applyUpdate:f,stageRef:x,clientToSvgPoint:v}=c,S=a.nGJjC($.useRef,null),d=(I,Z,V,W)=>{const P=r;V.preventDefault(),V.currentTarget?.setPointerCapture?.(V.pointerId),x[P(390)]&&(x.current.style.cursor='url("'+a.toSKI+'scale_cursor_32.png?v=16") 16 16, ns-resize');const q=i[P(358)][P(341)](E=>E.id===Z);if(!q)return;const H=I===a[P(362)]&&W?.layerId?q.layers.filter(E=>E.id===W.layerId).map(E=>({layerId:E.id,scale:E.scale??1,radius:E.radius??10})):q.layers[P(313)](E=>({layerId:E.id,scale:E.scale??1,radius:E.radius??10})),U=a[P(338)](v,V),_=q[P(352)].x,g=q.position.y,N=Math.hypot(a.szlRC(U.x,_),a[P(327)](U.y,g));S.current={mode:I,flowerId:Z,layerId:W?.[P(335)],startScales:H,startDiam:q[P(378)]||60,startDist:N}},m=I=>{const Z=r,V={IXnQl:function(g,N,E){return a.sWBHl(g,N,E)},gIueD:function(g,N){return a[ln(389)](g,N)},FEQfO:function(g,N,E,k){return a[ln(329)](g,N,E,k)},lFVJv:function(g,N,E,k){return a[ln(345)](g,N,E,k)},xLHCl:function(g,N,E,k){return g(N,E,k)},OMVfE:function(g,N){return a.QSlkv(g,N)}},W=S[Z(390)];if(!W)return;const P=i[Z(358)][Z(341)](g=>g.id===W[Z(311)]);if(!P)return;const q=a.ytDiC(v,I),H=Math[Z(322)](q.x-P[Z(352)].x,q.y-P[Z(352)].y),U=Math[Z(383)](1,W.startDist??1),_=ye(a.IXFxK(H,U),.3,3);f(g=>{const N=Z;if(V.gIueD("cwFPW",N(354))){if(!_0x52cd0d[N(390)])return;V[N(320)](_0x23ef22,()=>{},!0),_0x119a4d.current&&(_0x2b6572[N(390)].style.cursor=""),_0x16a9a0.current=null}else{const E=g[N(358)][N(341)](k=>k.id===W[N(311)]);if(!E)return;for(const k of W[N(336)]){const z=E[N(367)].find(C=>C.id===k.layerId);z&&(z.scale=V.FEQfO(ye,k[N(334)]*_,.3,3),W[N(377)]==="flower"&&(z.radius=V[N(382)](ye,k.radius*_,2,120)))}W.mode===N(359)&&(E[N(378)]=V[N(370)](ye,V.OMVfE(W[N(342)],_),10,200))}},!1)},w=()=>{const I=r;if(I(387)===a[I(337)]){if(!S[I(390)])return;f(()=>{},!0),x[I(390)]&&(x[I(390)].style[I(379)]=""),S.current=null}else{const Z=_0xfb1ef0[I(358)][I(341)](W=>W.id===_0x4f6198[I(311)]);if(!Z)return;const V=Z[I(367)][I(341)](W=>W.id===_0x34fbb8.layerId);V&&(V[I(348)]=_0x5f3a11)}},p=$.useRef(null),y=(I,Z,V,W)=>{const P=r;V[P(386)](),V.currentTarget?.[P(346)]?.(V[P(328)]),x.current&&(x.current.style[P(379)]=P(332)+P(310)+P(324));const q=i[P(358)][P(341)](g=>g.id===Z);if(!q)return;const H=a.ytDiC(v,V),U=a[P(371)](Math[P(366)](a.fnZYY(H.y,q[P(352)].y),a[P(343)](H.x,q.position.x)),180/Math.PI),_=I===P(312)&&W?.layerId?q[P(367)][P(341)](g=>g.id===W[P(335)])?.offsetAngle??0:q.rotation??0;p.current={mode:I,flowerId:Z,layerId:W?.layerId,startAngle:U,startRotation:_}},j=I=>{const Z=r,V={ORZij:function(g,N){return a.KGdFx(g,N)},mjyBp:"layer"},W=p[Z(390)];if(!W)return;const P=i.flowers.find(g=>g.id===W[Z(311)]);if(!P)return;const q=a[Z(376)](v,I);let U=a.nAzpN(Math.atan2(a.iRTHY(q.y,P.position.y),q.x-P.position.x),180/Math.PI)-W[Z(355)];for(;U>180;)U-=360;for(;a[Z(319)](U,-180);)U+=360;const _=a.Iaodc(W[Z(363)],U);f(g=>{const N=Z,E=g[N(358)][N(341)](k=>k.id===W[N(311)]);if(E)if(V[N(369)](W.mode,V[N(381)])&&W.layerId){const k=E.layers.find(z=>z.id===W[N(335)]);k&&(k.offsetAngle=_)}else E[N(353)]=_},!1)},D=()=>{const I=r;p[I(390)]&&(f(()=>{},!0),x[I(390)]&&(x[I(390)][I(365)][I(379)]=""),p[I(390)]=null)},b=$.useRef(null),h=(I,Z,V,W)=>{const P=r;V[P(386)](),V.currentTarget?.[P(346)]?.(V.pointerId),x[P(390)]&&(x.current.style.cursor=P(332)+a.toSKI+P(356));const q=i.flowers.find(ee=>ee.id===Z);if(!q)return;const H=W?.layerId?q[P(367)].find(ee=>ee.id===W[P(335)]):null;if(!H)return;const U=a.EcmuP(v,V),_=q[P(352)].x,g=q.position.y,N=W?.[P(321)]??0,E=360/Math[P(383)](1,H[P(315)]),k=a.QSlkv(a[P(347)](H[P(364)],a[P(333)](N,E))+q.rotation,a[P(361)](Math.PI,180)),z=U.x-_,C=U.y-g,A=-Math.sin(k),G=Math[P(316)](k),K=Math.abs(z*A+C*G);b[P(390)]={mode:I,flowerId:Z,layerId:W?.layerId,petalAngle:k,startDist:Math[P(383)](1,K),startWidthScale:H.widthScale??1}},L=I=>{const Z=r,V=b.current;if(!V)return;const W=i.flowers.find(k=>k.id===V.flowerId);if(!W)return;const P=v(I),q=P.x-W.position.x,H=a.FTUmP(P.y,W[Z(352)].y),U=-Math.sin(V[Z(340)]),_=Math.cos(V.petalAngle),g=Math[Z(374)](a[Z(388)](q,U)+a[Z(384)](H,_)),N=a[Z(345)](ye,g/V.startDist,.3,3),E=ye(V[Z(350)]*N,.3,3);f(k=>{const z=Z,C=k.flowers[z(341)](G=>G.id===V.flowerId);if(!C)return;const A=C[z(367)].find(G=>G.id===V[z(335)]);A&&(A.widthScale=E)},!1)},R=()=>{const I=r;b[I(390)]&&(f(()=>{},!0),x[I(390)]&&(x.current[I(365)][I(379)]=""),b.current=null)},O=$.useRef(null);return{scaleDragRef:S,beginScaleDrag:d,updateScaleDrag:m,endScaleDrag:w,rotationDragRef:p,beginRotationDrag:y,updateRotationDrag:j,endRotationDrag:D,widthScaleDragRef:b,beginWidthScaleDrag:h,updateWidthScaleDrag:L,endWidthScaleDrag:R,radiusDragRef:O,beginRadiusDrag:(I,Z,V,W)=>{const P=r;V.preventDefault(),V[P(326)]?.setPointerCapture?.(V.pointerId),x.current&&(x[P(390)].style[P(379)]=P(332)+"/tsumami/"+P(331));const q=i[P(358)][P(341)](g=>g.id===Z);if(!q)return;const H=W?.layerId?q[P(367)][P(341)](g=>g.id===W[P(335)]):null;if(!H)return;const U=a.pDBvr(v,V),_=Math[P(322)](U.x-q[P(352)].x,a.fnZYY(U.y,q[P(352)].y));O[P(390)]={mode:I,flowerId:Z,layerId:W?.[P(335)],startDist:Math.max(1,_),startRadius:H[P(348)]??28}},updateRadiusDrag:I=>{const Z=r;if(Z(349)==="miiEg"){const V={KRcsw:a[Z(362)]},W=_0x472516.current;if(!W)return;const P=_0x9d0813.flowers.find(g=>g.id===W.flowerId);if(!P)return;const q=_0x430ac6(_0x46c539);let U=_0x59f5c6[Z(366)](a[Z(343)](q.y,P.position.y),q.x-P[Z(352)].x)*(180/_0x45df13.PI)-W[Z(355)];for(;U>180;)U-=360;for(;a[Z(319)](U,-180);)U+=360;const _=a[Z(357)](W.startRotation,U);a.GVMWN(_0x3aca4e,g=>{const N=Z,E=g.flowers.find(k=>k.id===W[N(311)]);if(E)if(W.mode===V.KRcsw&&W[N(335)]){const k=E[N(367)].find(z=>z.id===W[N(335)]);k&&(k[N(364)]=_)}else E[N(353)]=_},!1)}else{const V=O.current;if(!V)return;const W=i.flowers.find(_=>_.id===V[Z(311)]);if(!W)return;const P=a.HwXgk(v,I),q=Math.hypot(P.x-W[Z(352)].x,P.y-W[Z(352)].y),H=a.XxEtm(q,V[Z(373)]),U=ye(V.startRadius+H,5,100);a.aJtOL(f,_=>{const g=Z,N=_.flowers.find(k=>k.id===V[g(311)]);if(!N)return;const E=N.layers.find(k=>k.id===V.layerId);E&&(E[g(348)]=U)},!1)}},endRadiusDrag:()=>{const I=r;if(a[I(372)]("ixmfa",I(330))){if(!_0x43d639[I(390)])return;_0x7e7c01(()=>{},!0),_0x2812ff[I(390)]&&(_0x55c460.current[I(365)][I(379)]=""),_0x10d210[I(390)]=null}else{if(!O[I(390)])return;f(()=>{},!0),x.current&&(x[I(390)].style[I(379)]=""),O[I(390)]=null}}}}(function(c,r){const a=Tt,i=c();for(;;)try{if(-parseInt(a(444))/1*(parseInt(a(476))/2)+-parseInt(a(497))/3+parseInt(a(479))/4+parseInt(a(456))/5+-parseInt(a(515))/6+parseInt(a(442))/7+parseInt(a(495))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,368712);const um=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Tt;if(a){const x=a[f(481)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),zs=um(void 0,function(){const c=Tt,r={RzjOz:c(500)};return zs[c(478)]()[c(459)](r[c(448)]).toString()[c(450)](zs).search(c(500))});zs();function si(c,r,a,i,f){const x=Tt,v={nHChn:"rotate",gSQwT:function(Y,X){return Y-X},CbnSX:x(445),ugcrf:function(Y,X){return Y*X},tbbhf:function(Y,X){return Y<X},pOTwk:function(Y,X){return Y(X)},lOUum:function(Y,X){return Y!==X},BfYdV:x(446),fzvSV:x(473),uzsOo:function(Y,X){return Y*X},yNtAJ:function(Y,X){return Y<=X},aaWZZ:function(Y,X){return Y-X},PqabN:function(Y,X){return Y*X},EhEVk:function(Y,X){return Y*X},EBopd:function(Y,X){return Y/X},NYFTf:function(Y,X){return Y-X},vOwZv:function(Y,X){return Y/X},hOdps:function(Y,X){return Y+X},hnhzB:function(Y,X){return Y*X},mRwxD:function(Y,X){return Y*X},bknuI:function(Y,X){return Y-X},uUqCB:function(Y,X){return Y*X},yvcTc:function(Y,X){return Y/X},TRmJU:function(Y,X){return Y<X},YqlKy:function(Y,X){return Y>X},svZlv:"BHjVR",wxNSk:x(470),njyoH:x(480),TDJtj:function(Y,X){return Y*X},NPXJr:function(Y,X){return Y*X},qQHJg:function(Y,X){return Y+X},gNdcD:function(Y,X){return Y<=X},AArZw:x(463)},{length:S}=It(a.fabricSquareSize??i.fabricSquareSize),d=v[x(455)](c,a[x(507)].x),m=v[x(455)](r,a.position.y),w=Math.hypot(d,m);let p=1/0;for(const Y of a.layers){if(!Y.visible)continue;const X=Y.scale??1,I=S*X,Z=.28,V=Math.max(0,Y.radius-v[x(499)](I,Z));v[x(493)](V,p)&&(p=V)}v.pOTwk(isFinite,p)||(p=0);const y=Math.max(p*.9,8);if(w<=y){if(v.lOUum(v[x(485)],v.fzvSV))return{zone:x(457)};_0x350afd=v[x(487)]}if(f.kind===x(460)){const Y=a[x(454)][x(519)](X=>X.id===f.layerId&&X.visible);if(Y){const X=Y[x(463)]??1,I=v[x(489)](S,X),Z=.28,V=Math[x(492)](0,Y.radius-I*Z);if(V>0){const P=Math.abs(w-V);if(v.yNtAJ(P,6))return{zone:v.CbnSX,layerId:Y.id}}}}const j=la(-(a[x(512)]??0)),D=v.aaWZZ(v[x(499)](d,Math.cos(j)),m*Math.sin(j)),b=d*Math.sin(j)+v[x(453)](m,Math.cos(j)),h=f[x(464)]==="layer"?a[x(454)].filter(Y=>Y.id===f.layerId&&Y[x(466)]):a.layers.filter(Y=>Y[x(466)]);let L=x(475),R,O,B=1/0;for(const Y of h){const X=Y[x(463)]??1,I=v[x(453)](S,X),Z=Y.widthScale??1,V=v.EhEVk(v[x(484)](S,2),Z)*X,W=.28,P=Math[x(492)](0,v.NYFTf(Y.radius,I*W)),q=v.vOwZv(360,Math.max(1,Y[x(494)]));for(let H=0;v[x(493)](H,Y[x(494)]);H++){const U=v.hOdps(Y.offsetAngle,v[x(504)](H,q)),_=la(U),g=v.mRwxD(Math[x(506)](_),P),N=Math[x(505)](_)*P,E=v[x(503)](D,g),k=b-N,z=Math.cos(-_),C=Math.sin(-_),A=v.bknuI(v.uUqCB(E,z),k*C),G=E*C+k*z,K=v.yvcTc(A,I),ee=G/V;if(v.TRmJU(K,-.05)||K>1.08||Math[x(509)](ee)>.75)continue;const ae=Math[x(490)](v[x(455)](K,.5),ee);if(!(ae>=B))if(B=ae,R=Y.id,O=H,v[x(496)](Math.abs(ee),.45))if(v.svZlv===v.wxNSk){if(_0x2da70d.abs(v.gSQwT(_0x51078a,_0x461e0d))<=6)return{zone:v.CbnSX,layerId:_0x33555a.id}}else L=v[x(452)];else K>.75?L=x(482):L="scale"}}if(L==="none"){let Y=12;for(const Z of a.layers){if(!Z[x(466)])continue;const V=Z.scale??1,W=v.TDJtj(S,V),P=.28,q=Math[x(492)](0,Z.radius-v[x(498)](W,P));Y=Math.max(Y,v[x(488)](q,W))}const X=8,I=Math.abs(w-Y);if(v.gNdcD(I,X))return{zone:v.AArZw}}return{zone:L,layerId:R,petalIndex:O}}function N0(c,r,a){const i=Tt,f={rsdXV:"center",xnxuS:function(x,v){return x===v},iSMra:"none",kTbHg:function(x,v){return x===v},UWXlF:function(x,v){return x!=v},YjxqS:function(x,v){return x*v},rntIz:function(x,v){return x-v},eiYIv:function(x,v){return x+v},OmYDR:i(482),pUlsz:"scale"};if(c==="center")return f[i(461)];if(f.xnxuS(c,f[i(465)]))return f.iSMra;switch(r){case"flower":{if(f.kTbHg(c,"scale"))return i(463);if(c==="rotate"&&a?.hitLayerId&&a.flower&&f[i(474)](a.length,null)){let x,v=-1/0;for(const S of a[i(447)].layers){if(!S.visible)continue;const d=S.scale??1,m=f.YjxqS(a.length,d),w=.28,p=Math[i(492)](0,f[i(511)](S[i(445)],m*w)),y=f.eiYIv(p,m);y>v&&(v=y,x=S.id)}return f.kTbHg(a.hitLayerId,x)?f[i(513)]:i(463)}return i(463)}case"layer":return c;case i(471):case i(486):return f[i(517)];default:return i(463)}}function sm(c,r,a,i){const f=Tt,x={ANWoX:function(O,B){return O(B)},qIBUN:function(O,B){return O*B},moHtX:function(O,B){return O-B},vIXlT:function(O,B){return O(B)},DOxsE:function(O,B){return O-B},dwRiF:function(O,B){return O+B},wrSTZ:function(O,B){return O/B},ZjbAx:function(O,B){return O>B},fVCen:"width",aqBTL:f(482)},v=a.fabricSquareSize??i[f(510)],{length:S,width:d}=x[f(508)](It,v),m=a.scale??1,w=x.qIBUN(S,m),p=d*(a.widthScale??1)*m,y=x[f(469)](c,a[f(507)].x),j=x[f(469)](r,a.position.y),D=x.vIXlT(la,-(a[f(512)]??0)),b=x.DOxsE(y*Math[f(506)](D),x[f(518)](j,Math[f(505)](D))),h=x.dwRiF(y*Math.sin(D),j*Math.cos(D)),L=x.wrSTZ(b,w),R=x.wrSTZ(h,p);return L<-.05||L>1.08||Math.abs(R)>.75?"none":x.ZjbAx(Math.abs(R),.45)?x[f(483)]:x[f(451)](L,.75)?x.aqBTL:L>.3?f(463):"move"}function Tt(c,r){c=c-442;const a=Y0();let i=a[c];if(Tt.JQBtFO===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Tt.JieWee=f,Tt.zDtamw={},Tt.JQBtFO=!0}const x=a[0],v=c+x,S=Tt.zDtamw[v];if(S)i=S;else{const d=function(m){this.lcxMYL=m,this.IUiOyy=[1,0,0],this.FRlaiY=function(){return"newState"},this.FqLoGi="\\w+ *\\(\\) *{\\w+ *",this.PxzVma=`['|"].+['|"];? *}`};d.prototype.GJgYut=function(){const m=new RegExp(this.FqLoGi+this.PxzVma),w=m.test(this.FRlaiY.toString())?--this.IUiOyy[1]:--this.IUiOyy[0];return this.QLTjKb(w)},d.prototype.QLTjKb=function(m){return~m?this.kZXuKs(this.lcxMYL):m},d.prototype.kZXuKs=function(m){for(let w=0,p=this.IUiOyy.length;w<p;w++)this.IUiOyy.push(Math.round(Math.random())),p=this.IUiOyy.length;return m(this.IUiOyy[0])},new d(Tt).GJgYut(),i=Tt.JieWee(i),Tt.zDtamw[v]=i}return i}function Y0(){const c=["C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","Dg9tDhjPBMC","mJG0mJK2nez2BfDKAq","D2LKDgG","yxbWBhK","CM90yxrL","zLzdzw4","rujVCgq","qMzzzfy","Cgv0ywXZ","BKHdAg4","CvfisMC","DxPZt28","AhLWB3q","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","Bwf4","DgjIAgy","Cgv0ywXdB3vUDa","mtG4ndm2ofDNBw5erq","wxfSs3K","mtG2nJCZmNvxCM9sra","tLbysNi","DwDJCMy","kcGOlISPkYKRksSK","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","tLLgvgy","Ag5OEKi","C2LU","y29Z","Cg9ZAxrPB24","qu5xB1G","ywjZ","zMfICMLJu3f1yxjLu2L6zq","CM50sxO","CM90yxrPB24","t21zrfi","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","odiXndK2uxPoyMnu","DxjSkci","CfvSC3O","CuLcvu4","zMLUza","mJCZmdaXnefPyw9AzG","s2LyzvG","nZiXnJmXCurQD29X","CMfKAxvZ","rfn2rhK","zMXVD2vY","uNPQt3O","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","y29UC3rYDwn0B3i","wMPIqxG","BMP5B0G","uhfHyK4","Bgf5zxjZ","z1nrD1q","mJu2nJa3mhfyCePJsW","y2vUDgvY","whruzMi","C2vHCMnO","Bgf5zxi","CNnKwfy","wej2swK","C2nHBgu","A2LUza","AvnnCMe","DMLZAwjSzq","Bw92zq","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","Bw9iDfG","tMD0t0O","Cgv0ywW","z3jHyG","vurRB1i","vvDyBey","BM9Uzq","mMnkv3DlyW"];return Y0=function(){return c},Y0()}function ir(c,r){const a=Tt,i={PzmAo:a(482),sMvnh:"scale",XtTfb:a(472)};switch(c){case i.PzmAo:return'url("'+r+a(502);case i.sMvnh:return'url("'+r+a(477);case a(480):return a(516)+r+a(514);case a(467):return xr(r);case a(475):default:return i[a(458)]}}function Kd(c,r){const a=Tt,i={HWWZK:"center",KiXeX:a(482),XBvIi:function(f,x){return f(x)},vTvyb:a(475),YsYMn:a(472)};switch(c){case i.HWWZK:return"pointer";case i[a(443)]:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(516)+r+a(477);case a(480):return'url("'+r+a(514);case a(445):return a(516)+r+a(501);case"move":return i[a(462)](xr,r);case i.vTvyb:default:return i.YsYMn}}function xr(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function qn(c){return Tt(516)+c+'move_object_active_32.png") 16 16, grabbing'}function om(c){const r=Tt;return r(516)+c+r(491)}function xm(c){const r=Tt;return'url("'+c+r(468)}(function(c,r){const a=bn,i=c();for(;;)try{if(parseInt(a(529))/1*(parseInt(a(547))/2)+-parseInt(a(522))/3*(parseInt(a(485))/4)+-parseInt(a(459))/5+parseInt(a(523))/6*(-parseInt(a(503))/7)+parseInt(a(449))/8*(parseInt(a(553))/9)+parseInt(a(470))/10*(parseInt(a(526))/11)+-parseInt(a(518))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,883276);function bn(c,r){c=c-449;const a=H0();let i=a[c];if(bn.ALsOnQ===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};bn.Fsnznc=f,bn.vmoHDg={},bn.ALsOnQ=!0}const x=a[0],v=c+x,S=bn.vmoHDg[v];if(S)i=S;else{const d=function(m){this.WSbJCl=m,this.IMJAEK=[1,0,0],this.hGJQSg=function(){return"newState"},this.sWuSuQ="\\w+ *\\(\\) *{\\w+ *",this.eGqBfo=`['|"].+['|"];? *}`};d.prototype.OBEbmk=function(){const m=new RegExp(this.sWuSuQ+this.eGqBfo),w=m.test(this.hGJQSg.toString())?--this.IMJAEK[1]:--this.IMJAEK[0];return this.LUfnls(w)},d.prototype.LUfnls=function(m){return~m?this.OHtwmV(this.WSbJCl):m},d.prototype.OHtwmV=function(m){for(let w=0,p=this.IMJAEK.length;w<p;w++)this.IMJAEK.push(Math.round(Math.random())),p=this.IMJAEK.length;return m(this.IMJAEK[0])},new d(bn).OBEbmk(),i=bn.Fsnznc(i),bn.vmoHDg[v]=i}return i}const fm=(function(){let c=!0;return function(r,a){const i=c?function(){const f=bn;if(a){const x=a[f(497)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ds=fm(void 0,function(){const c=bn;return Ds[c(460)]().search("(((.+)+)+)+$").toString().constructor(Ds)[c(462)](c(478))});function H0(){const c=["BgvUz3rO","txP6Exq","oefyBwDVqW","ywjZ","ChjVAMvJDa","yNr6D2y","t0jetNy","DMDiy0C","CM9Hq3C","Dxzrs3G","C2zsCwW","BwL4zwq","odC2nti1wwDOqvHA","Dg9tDhjPBMC","DLvJy0u","C2vHCMnO","DLfYDui","uLr1ELu","C2nHBgveCMfNuMvM","CLPuzM4","A1DNufi","ExDjDfa","ueLLsfm","mtbJr3DABhG","yLbIz24","ufL5D2u","zMXVD2vY","zw5KuMfKAxvZrhjHzW","ELzNvMO","Bgf5zxi","ChvZAa","kcGOlISPkYKRksSK","ChjLDMvUDerLzMf1Bhq","uuLezfq","y3vYCMvUDfrHCMDLDa","CNbfAfy","EMXWA3q","q0jetNa","oduYotiWBejgsgfb","zMXVD2vYCW","rKnHDva","rLjVsg8","CgfUma","AhLWB3q","zNndBgq","A2LUza","C3rHCNrdBgLLBNq","ywDet20","C3rHCNq","svvqu2G","yxbWBhK","BgvHzG","Bu5QuMO","y2XPzw50wq","zMLUza","y2XPy2TqzxrHBa","ndG5mtztDKfjsvy","qLztEMu","zurMtuK","yMvNAw5ty2fSzurYywC","C3rHCNrqB3m","C2v0ug9PBNrLCKnHChr1CMu","Cgv0ywW","yMvNAw5xAwr0AfnJywXLrhjHzW","zMXVD2vYswq","A21syKS","BgvHDMvZ","BMjsu3u","DxbKyxrLv2LKDgHty2fSzurYywC","sNDnBMi","BwfW","mtq4mtq3nJH5ufDjuNK","zur2sgS","vK1ZANy","Cg9PBNrLCKLK","ow5jvvzTsq","mZy2tMLXDuHA","Cwzlvfq","rgXIsg4","ntuZodmXm053qMfbEq","tLjAzui","zw5KuM90yxrPB25eCMfN","mMfpuuTcsa","Cg9ZAxrPB24","DfzYBLK","yMvNAw5sB3rHDgLVBKrYywC","DLb4Cu8","C3rHCNrtDMC","D2LKDgHty2fSzurYywDszwy","zw5Kv2LKDgHty2fSzurYywC","Aw5KzxG","BwLU","zvPuy3a","BNf0zNO","rwrvAfq","ywrYquS","y2XPzw50wa","z2jiC0y","r1n1svu","y3vYCMvUDa","mta5ndCZohf3B3LmEa","D1fhtee","Bw92zwq","zMXVD2vYswrZ","C3rHCNrAB29T","ANbIre0","mtu4ndC5mZHbEK5rqxO","BxvSDgLtDgfYDfbVC2L0Aw9UCW","A1fvDuC","BgPdzfG"];return H0=function(){return c},H0()}Ds();const ri=500*rn;function dm(c){const r=bn,a={riZZd:r(454),bPbgn:"LaoWx",EdUhT:function(q,H){return q-H},GSuIU:function(q,H){return q-H},XYiwo:function(q,H){return q(H)},PIeHS:function(q,H){return q+H},NRZeB:function(q,H){return q(H)},qfKTT:function(q,H){return q-H},lHzoh:function(q,H){return q-H},YOPza:function(q,H){return q(H)},wgdJH:function(q,H){return q-H},ljCdX:function(q,H){return q(H)},OBDNv:r(451),PYywe:function(q,H){return q(H)},nbRSu:function(q,H){return q>=H},kWgPR:function(q,H){return q!==H},gbHsF:function(q,H){return q<=H},xlzRJ:function(q,H){return q>H},sfRql:r(458),mNjRj:r(473),roaCw:r(531),nWkOV:function(q,H){return q(H)},VMsjv:"flowers",dSlGm:function(q,H){return q>H},QIDdT:function(q,H){return q(H)},jpbDM:function(q,H){return q===H},GUSaK:function(q,H){return q-H},kQUuG:function(q,H){return q+H},rZTfn:function(q,H){return q(H)},zqABo:"YcLpN",JVyDe:function(q,H){return q===H},vQruB:"jRtqv",zVgVj:function(q,H,U){return q(H,U)},ZeWbk:function(q,H){return q>H},ricOX:function(q,H){return q??H},eZTcp:function(q,H){return q===H},Mzzyt:r(494),rpEhV:r(491),MindX:function(q,H,U,_){return q(H,U,_)},DlbHn:function(q,H){return q+H},CwkmN:function(q,H){return q/H},MSMir:function(q,H){return q/H},uvQKx:function(q,H){return q-H},ezFFU:function(q,H){return q>H},uVgJE:r(476),btzwf:function(q,H){return q!==H},twJgK:"petal",vUccE:function(q,H){return q!==H},zlpkt:function(q,H){return q(H)},nqtfz:function(q,H){return q(H)}},{project:i,selection:f,setSelection:x,applyUpdate:v,dragRef:S,zoom:d,pan:m,setPan:w,stageRef:p,clientToSvgPoint:y,togglePetalSelection:j}=c,D=cm({project:i,applyUpdate:v,stageRef:p,clientToSvgPoint:y}),b=a[r(540)]($.useRef,null),h=q=>{const H=r;q[H(479)](),q.currentTarget?.setPointerCapture?.(q.pointerId),b[H(546)]={start:{x:q.clientX,y:q[H(500)]},pan0:{...m}}},L=q=>{const H=r;if(a.riZZd===a[H(471)])return _0x8d2d60[H(460)]()[H(462)]("(((.+)+)+)+$").toString().constructor(_0x590803)[H(462)](H(478));{if(!b.current)return;const U=a[H(541)](q.clientX,b.current[H(495)].x),_=a[H(545)](q[H(500)],b.current[H(495)].y);a.XYiwo(w,{x:a[H(469)](b.current[H(489)].x,U),y:a.PIeHS(b[H(546)][H(489)].y,_)})}},R=()=>{b.current=null},O=a[r(540)]($.useRef,null),[B,Y]=$.useState(null);return{beginPan:h,updatePan:L,endPan:R,marqueeRef:O,marqueeRect:B,beginMarquee:q=>{const H=r;q.preventDefault(),q[H(481)]?.setPointerCapture?.(q[H(521)]);const U=y(q);O[H(546)]={startSvg:U,currentSvg:U},a.XYiwo(Y,null)},updateMarquee:q=>{const H=r;if(!O[H(546)])return;const U=a[H(527)](y,q);O.current.currentSvg=U;const _=O[H(546)][H(534)],g=Math[H(538)](_.x,U.x),N=Math.min(_.y,U.y),E=Math[H(450)](a[H(524)](U.x,_.x)),k=Math.abs(a.lHzoh(U.y,_.y));Y({x:g,y:N,w:E,h:k})},endMarquee:()=>{const q=r,H=O.current;if(O.current=null,!H){a.YOPza(Y,null);return}const U=H[q(534)],_=H.currentSvg;if(Math[q(490)](a.wgdJH(_.x,U.x),_.y-U.y)<3){a[q(556)](x,{kind:a.OBDNv}),a.PYywe(Y,null);return}const N=Math[q(538)](U.x,_.x),E=Math.min(U.y,_.y),k=Math[q(450)](_.x-U.x),z=Math[q(450)](a.EdUhT(_.y,U.y)),C=[];for(const G of i.flowers)a[q(514)](G.position.x,N)&&G[q(530)].x<=a.PIeHS(N,k)&&G.position.y>=E&&G[q(530)].y<=a[q(469)](E,z)&&(a[q(467)]("byXNb","byXNb")?_0x302fee({kind:"leaves",leafIds:_0x56b529}):C[q(477)](G.id));const A=[];for(const G of i.leaves??[])G.position.x>=N&&a[q(544)](G[q(530)].x,N+k)&&G.position.y>=E&&G[q(530)].y<=E+z&&A.push(G.id);if(a.xlzRJ(C[q(557)],0)&&A.length>0)x({kind:a[q(457)],flowerIds:C,leafIds:A});else if(C[q(557)]>0)if(C.length===1)a.XYiwo(x,{kind:a[q(499)],flowerId:C[0]});else if(a[q(455)]!=="tVrnY"){const G=(_0x3726ab[q(513)]??[]).find(K=>K.id===_0x35ae96);return{id:_0x5ba27d,x:G?.[q(530)].x??0,y:G?.[q(530)].y??0}}else a.nWkOV(x,{kind:a[q(520)],flowerIds:C});else a.dSlGm(A[q(557)],0)?A.length===1?a[q(480)](x,{kind:q(498),leafId:A[0]}):a.NRZeB(x,{kind:"leaves",leafIds:A}):a[q(552)](q(504),q(504))?a[q(527)](x,{kind:q(451)}):_0x4f343f[q(546)]=null;a.YOPza(Y,null)},beginFlowerDrag:(q,H,U)=>{const _=r;H.preventDefault(),H[_(481)]?.[_(508)]?.(H.pointerId);const g=i[_(486)][_(501)](z=>z.id===q);if(!g)return;let N=null,E=null;if(f[_(492)]==="flowers"&&f.flowerIds.includes(q))if(a.zqABo===a.zqABo)N=f[_(550)][_(517)](z=>{const C=_,A=i[C(486)][C(501)](G=>G.id===z);return{id:z,x:A?.[C(530)].x??0,y:A?.[C(530)].y??0}});else{MSEEWG[_(542)](_0x3dd4bc,null);return}else if(a.JVyDe(a[_(463)],"jRtqv")){const z=a[_(475)](Ah,i,q);a.ZeWbk(z.length,1)&&(N=z[_(517)](C=>{const A=_,G=i[A(486)][A(501)](K=>K.id===C);return{id:C,x:G?.[A(530)].x??0,y:G?.[A(530)].y??0}}))}else{if(!_0x7f7238[_(546)])return;const z=a.GUSaK(_0x1a7cff[_(543)],_0x529f96[_(546)].start.x),C=a.qfKTT(_0x28ba83.clientY,_0x377cf8.current.start.y);a[_(472)](_0x1c9e39,{x:_0x5a2069.current.pan0.x+z,y:a[_(555)](_0x104704[_(546)][_(489)].y,C)})}const k=nl(i,q);k&&k.leafIds[_(557)]>0&&(E=k.leafIds.map(z=>{const C=_,A=(i[C(513)]??[]).find(G=>G.id===z);return{id:z,x:A?.[C(530)].x??0,y:A?.position.y??0}})),S[_(546)]={flowerId:q,startClient:{x:H.clientX,y:H.clientY},startPos:{...g.position},moved:!1,clickPetal:a.ricOX(U,null),isShiftPressed:H.shiftKey||!1,multiStartPositions:N,leafStartPositions:E,startZoom:d}},updateFlowerDrag:q=>{const H=r,U={rKbsW:function(z,C){return z(C)},wnoKs:"petal",UIuul:function(z,C){return a[bn(539)](z,C)},AjVMp:H(464),ywItP:a[H(558)],mAumF:function(z,C,A,G){return z(C,A,G)},hrEFl:function(z,C){return a.PIeHS(z,C)},eDfMI:function(z,C){return z!==C},JwMnb:H(496),vPxqO:a[H(482)],eDvHk:function(z,C,A,G){return a.MindX(z,C,A,G)},BSGCW:function(z,C){return a[H(525)](z,C)},wQGLA:function(z,C){return z===C},FCauP:function(z,C){return z+C}},_=S[H(546)];if(!_)return;const g=a.CwkmN(q[H(543)]-_[H(493)].x,_[H(551)]),N=a.MSMir(q[H(500)]-_.startClient.y,_.startZoom),E=q[H(543)]-_[H(493)].x,k=a[H(456)](q[H(500)],_[H(493)].y);a.ezFFU(Math.abs(E)+Math[H(450)](k),4)&&(_.moved=!0),v(z=>{const C=H,A={kmRbK:function(G,K){return U.rKbsW(G,K)},CBDNp:U.wnoKs};if(_.multiStartPositions)if(U.UIuul(U.AjVMp,U[C(468)]))_0x3deda6=_0x3beb68.flowerIds.map(G=>{const K=C,ee=_0x51cf03[K(486)][K(501)](ae=>ae.id===G);return{id:G,x:ee?.position.x??0,y:ee?.position.y??0}});else for(const G of _[C(554)]){const K=z[C(486)].find(ee=>ee.id===G.id);K&&(K.position.x=U.mAumF(ye,G.x+g,0,ri),K.position.y=U.mAumF(ye,U.hrEFl(G.y,N),0,ri))}else if(U[C(505)](U[C(516)],U[C(533)])){const G=z.flowers[C(501)](K=>K.id===_.flowerId);if(!G)return;G.position.x=ye(_.startPos.x+g,0,ri),G.position.y=U[C(519)](ye,U.BSGCW(_[C(507)].y,N),0,ri)}else _0x28ba00[C(477)](_0x3afe73.id);if(_.leafStartPositions)for(const G of _.leafStartPositions)if(U[C(548)]("JbbAS",C(488)))A[C(512)](_0x59668b,{kind:A[C(484)],flowerId:_0x4f7568.flowerId,layerId:_0x4fa9f3.clickPetal.layerId,index:_0x2a8df2[C(502)][C(537)]});else{const K=(z[C(513)]??[])[C(501)](ee=>ee.id===G.id);if(!K)continue;K.position.x=U.eDvHk(ye,G.x+g,0,ri),K[C(530)].y=U.eDvHk(ye,U[C(487)](G.y,N),0,ri)}},!1)},endFlowerDrag:()=>{const q=r,H=S[q(546)];H&&(!H[q(549)]&&H.clickPetal?H.isShiftPressed?j(H[q(511)],H.clickPetal.layerId,H.clickPetal.index,!0):x({kind:q(509),flowerId:H.flowerId,layerId:H[q(502)].layerId,index:H[q(502)][q(537)]}):H.moved&&((a[q(552)](f.kind,a[q(453)])||a[q(539)](f[q(492)],q(473))&&f.flowerId!==H.flowerId||f.kind===a.uVgJE&&a[q(452)](f[q(511)],H.flowerId)||f[q(492)]===a.twJgK&&a[q(461)](f[q(511)],H[q(511)]))&&a[q(483)](x,{kind:"flower",flowerId:H.flowerId}),v(()=>{},!0)),S[q(546)]=null)},scaleDragRef:D[r(465)],beginScaleDrag:D[r(506)],updateScaleDrag:D.updateScaleDrag,endScaleDrag:D.endScaleDrag,rotationDragRef:D.rotationDragRef,beginRotationDrag:D[r(532)],updateRotationDrag:D.updateRotationDrag,endRotationDrag:D[r(528)],widthScaleDragRef:D[r(535)],beginWidthScaleDrag:D[r(510)],updateWidthScaleDrag:D[r(515)],endWidthScaleDrag:D[r(536)],radiusDragRef:D.radiusDragRef,beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D[r(474)]}}function hm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ci(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),x=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",v="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:S=>{c.onDoubleClick&&(S.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${x}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${v} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:S=>{S.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(hm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${v} shrink-0`,"aria-hidden":!0})]})]})}const ll=12;function Xd({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),s.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function mm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),s.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function bm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${r} 6 6)`},r)),s.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function gm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 3.5 3.5)`},`l-${r}`)),s.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),s.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 8.5 4)`},`r-${r}`)),s.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 6 7)`},`f-${r}`)),s.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function vm({className:c}){return s.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[s.jsx("path",{d:"M3.5 3C1.8 3 0.5 5 0.8 7.5c.2 1.4 1.1 2.4 2.2 3 .3.1.6.1.8 0 .2-.1.4-.3.5-.5.8-1.5 1-4.5-.8-7z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),s.jsx("path",{d:"M3.5 4v4.5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"}),[0,72,144,216,288].map(r=>s.jsx("ellipse",{cx:"8",cy:"1.8",rx:"1.5",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 8 4)`},r)),s.jsx("circle",{cx:"8",cy:"4",r:"1.4",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function ym(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:x,scheduleFlowerRowClick:v,handleFlowerRowDoubleClick:S,addFlower:d,deleteSelected:m,addOuterLayer:w,deleteOuterLayer:p,deleteFlowerById:y,deleteLayerById:j,treeScrollRef:D,setExpandedFlowers:b}=c,h=I=>{const Z=I.flowerIds.length>0,V=I.leafIds.length>0;return Z&&V?s.jsx(vm,{}):Z?s.jsx(gm,{}):""},L=(I,Z)=>{const V=a.kind==="flower"&&a.flowerId===I.id,W=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(I.id),P=V||W,q=s.jsx(bm,{}),H=f(I.id),U=I.layers&&I.layers.length>0,_=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),w(I.id)},"aria-label":"Add outer layer",children:"+"}),U&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:g=>{g.stopPropagation(),p(I.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":I.id,"data-testid":`tree-flower-${I.id}`,style:{paddingLeft:Z},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${H?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:H?"Collapse layers":"Expand layers",onClick:g=>{g.stopPropagation(),x(I.id)},"aria-label":H?"collapse":"expand","data-tree-toggle":!0,children:H?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:I.name,marker:q,selected:P,showTrash:V,onTrash:()=>y(I.id),rightActions:_,onClick:()=>v(I.id),onDoubleClick:()=>S(I.id),level:0,leftOffset:-18})})]}),H&&I.layers.slice().sort((g,N)=>N.order-g.order).map(g=>{const N=(a.kind==="layer"||a.kind==="petal")&&a.layerId===g.id;return s.jsx(ci,{label:`${g.order}. ${g.name}`,marker:s.jsx(mm,{}),selected:N,showTrash:N,onTrash:()=>j(I.id,g.id),onClick:()=>{i({kind:"layer",flowerId:I.id,layerId:g.id}),b(E=>({...E,[I.id]:!0}))},level:0,leftOffset:10,muted:!g.visible},g.id)})]},I.id)},R=c.groups,O=new Set(R.flatMap(I=>I.flowerIds)),B=r.flowers.filter(I=>!O.has(I.id)),Y=new Set(R.flatMap(I=>I.leafIds)),X=c.leaves.filter(I=>!Y.has(I.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto md:flex md:flex-col md:flex-1 md:min-h-0 md:overflow-hidden","data-testid":"panel-layers",children:[s.jsxs("div",{className:"px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap mt-1",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 opacity-40":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:m,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsx("img",{src:"icons/icon_delete.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsx("img",{src:"icons/icon_copy.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 opacity-40"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsx("img",{src:"icons/icon_paste.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_bring_forward.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_send_backward.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_bring_to_front.png",width:"16",height:"16",alt:""})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsx("img",{src:"icons/icon_send_to_back.png",width:"16",height:"16",alt:""})})]})]}),s.jsxs("div",{className:"mt-1.5 md:flex-1 md:min-h-0 md:overflow-y-auto",ref:D,"data-testid":"layer-tree",children:[s.jsx(ci,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),R.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5",children:[...R].reverse().map(I=>{const Z=a.kind==="group"&&a.groupId===I.id,V=h(I),W=c.isGroupExpanded(I.id);return s.jsxs("div",{"data-group-id":I.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:P=>{P.stopPropagation(),c.toggleGroupExpanded(I.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ci,{label:I.name,marker:V,selected:Z,showTrash:Z,onTrash:()=>c.onDeleteGroup(I.id),onClick:()=>c.onSelectGroup(I.id),level:0,leftOffset:-18})})]}),W&&I.flowerIds.map(P=>{const q=r.flowers.find(H=>H.id===P);return q?L(q,12):null}),W&&I.leafIds.map(P=>{const q=c.leaves.find(U=>U.id===P);if(!q)return null;const H=a.kind==="leaf"&&a.leafId===q.id||a.kind==="leaves"&&a.leafIds.includes(q.id)||a.kind==="mixed"&&a.leafIds.includes(q.id);return s.jsx(ci,{label:q.name,marker:s.jsx(Xd,{}),selected:H,showTrash:H,onTrash:()=>c.onDeleteLeaf(q.id),onClick:()=>c.onSelectLeaf(q.id),level:0,leftOffset:12,muted:!q.visible},q.id)})]},I.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...B].reverse().map(I=>L(I,0)),B.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5",children:[[...X].reverse().map(I=>{const Z=a.kind==="leaf"&&a.leafId===I.id||a.kind==="leaves"&&a.leafIds.includes(I.id)||a.kind==="mixed"&&a.leafIds.includes(I.id);return s.jsx(ci,{label:I.name,marker:s.jsx(Xd,{}),selected:Z,showTrash:Z,onTrash:()=>c.onDeleteLeaf(I.id),onClick:()=>c.onSelectLeaf(I.id),level:0,leftOffset:0,muted:!I.visible},I.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 shrink-0 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const oe=Un;function Z0(){const c=["qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYaTnJyGodySic02nca3ocWGlty0idy4","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","ywr1Bhq","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","rvDRqui","zxr6qMG","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYa0oca3ncWGmJaGnJqSic04idu4","y29UC3rYDwn0B3i","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYaTncaTmsWGlteGlteSidaGma","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","ELbztK8","qYa2ocaZmcWGnZyGndqSidGWidyY","qYa1ncaYmcWGnJyGmJiSidCYidmY","CMLNAhq","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","mtmZvNnMuurT","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","tcaTmtaWidi0ma","qYa3oca0mcWGnZGGntqSidCYidyY","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa3mIa2osWGnJKGnZiSidy2idC2","5OIq5lQ65AwZ5OcN","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","tsa0nIaYnG","qYaTodmGodySic04mIa3ncWGltGWidyY","wNndBfK","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTndaGmtaSic0XocaXlcaWida","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","kcGOlISPkYKRksSK","mta4ndG4nZb2CLvvv1y","Dg9tDhjPBMC","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","nZG1mtKWuufgvMTV","qYaTnJGGotySic03mca4ncWGlty2idC0","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaYmcaXndGSideWide1mcWGmcaXnta","vffmExa","BgvMDa","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","reHqrNG","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa1nYa5msWGntCGotmSidu5idK1","BxfKvxm","qYa1nYa3msWGntKGnZuSidyZidC5","AgvPz2H0","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","oda3ndCZnxbHDhLAAW","ntq5mLbcy0vHwa","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa2nsa4msWGnJyGodmSidy2idG1","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","ndu4odG2CwPpyxvb","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTndqGnIWGltiWidaSidaGma","yM12rKm","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaYmcaWlca0nca2lca1ocaYma","qYa0oca5mcWGntaGmta0lca0ocaXmty","AM9PBG","qYa4msaXmdqSidG0ideXmcWGodqGmte2","C2vHCMnO","yvDouem","qYa3mcaXmdySidCWideWocWGnZmGmteW","l3rZDw1HBwKV","D2LKDgG","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYaTndqGmZqSic0ZocaYmIWGltmWide0","tcaTmZyGmJGW","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","tcaTmZaGmJqW","qYaZmcaXntiSidmYide2nIWGntuGmJaY","ndeZmJG2vNLprvfp","EM5fBvy","oxrVwMLdCq","qYaTmJGGndySic00mca0ncWGltuWidq0","5y+Z5zcr44gn","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYa2mcaZocWGnJqGntiSidy0idy4","nJeXodeXmMjPsKHQua","ywDfEeC","mZa3nxnPsLb3zG","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tsaWida","tcaTmti1idi4ma"];return Z0=function(){return c},Z0()}(function(c,r){const a=Un,i=c();for(;;)try{if(-parseInt(a(169))/1+parseInt(a(234))/2+parseInt(a(180))/3*(parseInt(a(144))/4)+-parseInt(a(143))/5+parseInt(a(148))/6*(parseInt(a(212))/7)+parseInt(a(178))/8+parseInt(a(171))/9*(-parseInt(a(231))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,904703);const pm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ns=pm(void 0,function(){const c=Un,r={DHPFx:c(230)};return Ns[c(232)]()[c(157)](r[c(241)]).toString()[c(199)](Ns).search(r.DHPFx)});Ns();function Un(c,r){c=c-134;const a=Z0();let i=a[c];if(Un.uIGYsU===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Un.hSJNBL=f,Un.nkusLs={},Un.uIGYsU=!0}const x=a[0],v=c+x,S=Un.nkusLs[v];if(S)i=S;else{const d=function(m){this.UwMvMb=m,this.eLvFas=[1,0,0],this.HBgfgN=function(){return"newState"},this.qRJcpA="\\w+ *\\(\\) *{\\w+ *",this.IXNMIk=`['|"].+['|"];? *}`};d.prototype.honWTO=function(){const m=new RegExp(this.qRJcpA+this.IXNMIk),w=m.test(this.HBgfgN.toString())?--this.eLvFas[1]:--this.eLvFas[0];return this.SwlZXR(w)},d.prototype.SwlZXR=function(m){return~m?this.YPTaJi(this.UwMvMb):m},d.prototype.YPTaJi=function(m){for(let w=0,p=this.eLvFas.length;w<p;w++)this.eLvFas.push(Math.round(Math.random())),p=this.eLvFas.length;return m(this.eLvFas[0])},new d(Un).honWTO(),i=Un.hSJNBL(i),Un.nkusLs[v]=i}return i}const a1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},i1={adult:oe(218),child:""},r1={right:oe(173),left:"",back:""},_m=[oe(182),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",oe(217),"C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99","C 83 101, 78 103, 72 105",oe(159),"C 75 112, 74 115, 72 118",oe(166),oe(187),oe(202),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",oe(164),oe(183),"C -112 260, -96 242, -82 226",oe(165),oe(195),oe(229),oe(204),"C -80 108, -88 96, -88 84",oe(149),"C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18",oe(184),oe(201),"Z"][oe(155)](" "),Sm=[oe(182),oe(153),oe(207),"C 82 74, 83 86, 82 98",oe(156),oe(134),oe(200),"C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228",oe(162),"L -92 280",oe(213),oe(233),"C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134","C -82 128, -84 122, -84 116",oe(185),oe(225),oe(222),oe(150),"Z","M 0 70","C 16 66, 34 70, 42 82",oe(154),oe(142),"C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",oe(137),oe(136),"Z"].join(" "),wm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",oe(140),oe(146),"C 66 86, 62 88, 58 90",oe(138),"C 60 97, 58 101, 54 106",oe(223),oe(152),"C 22 151, 14 167, -2 183",oe(147),oe(167),oe(214),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158","C -35 150, -36 142, -40 134",oe(194),"C -68 96, -70 84, -66 74",oe(205),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"].join(" "),Cm=[oe(182),oe(227),oe(177),oe(135),oe(242),oe(221),oe(168),oe(193),"L -70 240","C -66 228, -60 214, -55 202",oe(210),oe(220),oe(243),oe(186),oe(196),oe(228),"Z","M 46 26",oe(208),oe(215),oe(216),"C 42 62, 40 50, 42 38",oe(236),"Z","M -46 26","C -54 20, -66 22, -72 32",oe(245),oe(175),oe(145),"C -43 32, -44 28, -46 26","Z"][oe(155)](" "),Mm=[oe(182),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",oe(217),oe(198),"C -30 54, -48 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z","M -40 142",oe(204),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",oe(203),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126","L -40 142","Z"].join(" "),jm=[oe(182),oe(153),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",oe(156),"C 84 122, 82 128, 78 134",oe(190),oe(211),oe(240),oe(189),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82",oe(154),"C 46 126, 40 136, 30 142",oe(237),oe(181),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",oe(136),"Z"][oe(155)](" "),zm=[oe(182),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36","C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46",oe(172),oe(163),"C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106",oe(235),"C -62 64, -56 54, -50 44","C -46 52, -42 64, -40 78",oe(197),"L -40 134","Z"][oe(155)](" "),Dm=[oe(182),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",oe(242),"C 46 118, 26 124, 12 126",oe(174),oe(176),oe(243),oe(186),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",oe(224),oe(208),oe(215),oe(216),oe(219),oe(236),"Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",oe(145),"C -43 32, -44 28, -46 26","Z"][oe(155)](" ");function Nm(c,r){const a=oe,i={AxvTt:function(x,v){return x===v},JeQjs:a(209),bmvFC:a(239),znEmV:function(x,v){return x===v},ZsClY:"adult"},f=i.AxvTt(r,i.JeQjs)||i.AxvTt(r,i[a(151)]);return i[a(170)](c,i[a(226)])?f?_m:Sm:f?wm:Cm}function Am(c,r){const a=oe,i={mqdUs:function(x,v){return x===v},JaZet:a(239)},f=i[a(139)](r,a(209))||i[a(139)](r,i.JaZet);return i[a(139)](c,a(188))?f?Mm:jm:f?zm:Dm}const Tm={right:"/tsumami/stencils/adult_right.png",left:oe(160)+"stencils/adult_left.png",back:"/tsumami/stencils/adult_back.png"},Lm={right:"/tsumami/stencils/child_right.png",left:oe(160)+"stencils/child_left.png",back:oe(160)+oe(244)},Em={adult:Tm,child:Lm};function Im(c,r){const a=oe,i={etzBh:function(S,d){return S===d},zPYNO:"right",fGtXx:a(239),TQLyp:function(S,d,m){return S(d,m)}},f=i[a(192)](r,i[a(206)])||i.etzBh(r,i.fGtXx)?"side":"back",x=a1[c][f],v=Em[c]?.[r]??null;return{path:i[a(238)](Nm,c,r),hairPath:Am(c,r),scaleX:i[a(192)](r,i.fGtXx)?-1:1,imageUrl:v,imageWidthMm:x[a(161)],imageHeightMm:x[a(141)]}}(function(c,r){const a=gn,i=c();for(;;)try{if(-parseInt(a(210))/1+parseInt(a(178))/2+-parseInt(a(193))/3+-parseInt(a(218))/4*(-parseInt(a(207))/5)+-parseInt(a(185))/6*(parseInt(a(216))/7)+parseInt(a(163))/8+-parseInt(a(170))/9*(-parseInt(a(203))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,917715);const Bm=(function(){let c=!0;return function(r,a){const i=c?function(){const f=gn;if(a){const x=a[f(171)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),As=Bm(void 0,function(){const c=gn,r={oOaIQ:"(((.+)+)+)+$"};return As.toString().search(r[c(168)])[c(217)]().constructor(As).search(c(214))});function U0(){const c=["qxjPv3m","v1fnCKC","Aendtu0","y1jXDge","BgvUz3rO","Dg9gAxHLza","s2Lft3m","nJyXotq4mfjgBM9XDa","Dg91y2HTB3zL","zxnxquO","Bwf4","EM9VBuXLDMvS","B09Hsve","AgvPz2H0","ow1OBwXKCa","yxbWBhK","uLfXCK8","ywrKrxzLBNrmAxn0zw5LCG","zKnyzuK","vw1tvM4","y2XPzw50wa","DwP6yLe","mJGXntm1nKzNugzzta","uMjzs08","uvnWy1a","rvrIqMO","mxWZFdj8mhW0","A29ZtwS","EM9VBq","mtuZmJqWuuvrvefM","zhP1A24","Aw5PDgLHBenLBNrLCG","q0THrwy","Dg91y2HLCW","zgvSDgfz","wuDZrfy","z2v0qM91BMrPBMDdBgLLBNrszwn0","ndC1mta1ofDoANryBa","D2LKDgG","Dg91y2HLBMq","D0T0rhC","CK5bthK","Exvzy28","Cff0tNG","CgfU","Ce1qqLK","sLDODeK","ndaYmZa3mgvhC2HYEa","Aw5PDgLHBerPC3q","ChjLDMvUDerLzMf1Bhq","Aw5PDgLHBfbHBG","mtvOqKTKz0q","Ewn2De0","CLriueK","mJGWndCWA1niDxvP","y3vYCMvUDa","wKfRtgS","vMXgzu8","kcGOlISPkYKRksSK","C0DuDwm","mte5DxbLzNfy","Dg9tDhjPBMC","nZCXnta4r09kDM5V","yuXMs3y","y2XPzw50wq","B09KD0y","yuTPC08","vxnNzeu","CMvTB3zLrxzLBNrmAxn0zw5LCG"];return U0=function(){return c},U0()}As();const hs=520;function Jd(c,r,a,i,f,x,v){const S=gn,d={rNALy:function(w,p){return w-p},YGsDV:function(w,p){return w/p},WQMrG:function(w,p){return w+p},CWxsx:function(w,p){return w-p},Aucej:function(w,p){return w*p}},m=d[S(197)](d[S(191)](i,a),1);return{x:v.x-m*d[S(157)](-v.x,c*f),y:d.CWxsx(v.y,m*(-v.y+d.Aucej(r,x)))}}function gn(c,r){c=c-155;const a=U0();let i=a[c];if(gn.xvFVlY===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};gn.zIbFFD=f,gn.kRJVXx={},gn.xvFVlY=!0}const x=a[0],v=c+x,S=gn.kRJVXx[v];if(S)i=S;else{const d=function(m){this.OzmMXT=m,this.HrtBNQ=[1,0,0],this.fWtfYa=function(){return"newState"},this.cwwqpn="\\w+ *\\(\\) *{\\w+ *",this.dAyBhE=`['|"].+['|"];? *}`};d.prototype.nMDvtg=function(){const m=new RegExp(this.cwwqpn+this.dAyBhE),w=m.test(this.fWtfYa.toString())?--this.HrtBNQ[1]:--this.HrtBNQ[0];return this.wsRUFI(w)},d.prototype.wsRUFI=function(m){return~m?this.ZUctgx(this.OzmMXT):m},d.prototype.ZUctgx=function(m){for(let w=0,p=this.HrtBNQ.length;w<p;w++)this.HrtBNQ.push(Math.round(Math.random())),p=this.HrtBNQ.length;return m(this.HrtBNQ[0])},new d(gn).nMDvtg(),i=gn.zIbFFD(i),gn.kRJVXx[v]=i}return i}function qm(c){const r=gn,a={ZAkLk:function(U){return U()},ycvtM:function(U,_){return U+_},wKtDw:function(U,_){return U+_},pMPBY:function(U,_){return U-_},UsgdE:function(U,_){return U!==_},LbGLO:"ftfzc",oOdwF:"awBIZ",ddrey:r(181),CwqjG:function(U){return U()},ujzbQ:function(U){return U()},fCXeI:function(U,_){return U/_},dzukn:function(U,_){return U/_},VlFeO:function(U,_,g,N){return U(_,g,N)},pQtNx:function(U,_){return U/_},esWAJ:function(U,_){return U-_},jjWlU:function(U,_){return U(_)},yuYco:function(U,_){return U*_},aFscj:function(U,_){return U+_},gpddJ:function(U,_){return U+_},WHHbF:function(U,_){return U!==_},JWhtI:function(U,_){return U-_},QSpcP:function(U,_){return U+_},kosMk:"HEYAK",ycVnV:function(U,_,g,N,E,k,z,C){return U(_,g,N,E,k,z,C)},UmSVn:function(U,_){return U(_)},CUNJQ:"touchstart",CKaEf:"wheel",sGTuc:r(195),egltu:function(U,_){return U+_},RbYKO:function(U,_){return U(_)},rTHPI:r(182),aKisO:function(U,_){return U(_)},aLfKv:function(U,_,g){return U(_,g)},RQqrO:function(U,_){return U(_)},kGNkB:function(U,_,g){return U(_,g)},cRqta:function(U,_,g){return U(_,g)}},{setZoom:i,setPan:f,setZoomLevel:x,ZOOM_LEVELS:v,stageRef:S,endPan:d,endFlowerDrag:m,endMarquee:w,endRotationDrag:p,endScaleDrag:y,endWidthScaleDrag:j,endRadiusDrag:D}=c,b=a[r(179)]($.useRef,null),h=a[r(222)]($.useRef,c[r(200)]),L=$.useRef(c[r(184)]);$.useEffect(()=>{const U=r;h[U(211)]=c.pan},[c[r(200)]]),a[r(219)]($.useEffect,()=>{const U=r;if(a[U(223)](U(156),a.LbGLO))L.current=c.zoom;else{_0x30ef1a.preventDefault(),_0x1431e6(),_0x45da61(),a[U(212)](_0x13de10),a.ZAkLk(_0x512396),a.ZAkLk(_0x14a456),_0x330748(),a[U(212)](_0x397147),_0x2f4f7c[U(211)]=null,_0x19e27a[U(211)]=null;const _=_0x241767.touches[0],g=_0x30a23d[U(189)][1],N=a.ycvtM(_[U(176)],g.clientX)/2,E=a.wKtDw(_[U(220)],g[U(220)])/2,k=_0x2126b7.hypot(g.clientX-_[U(176)],a.pMPBY(g.clientY,_.clientY));_0x315c2c.current={initialCenter:{x:N,y:E},initialDist:k,initialPan:{..._0x4f8764.current},initialZoom:_0x113c5e[U(211)]}}},[c[r(184)]]);const R=a.RbYKO($.useRef,c[r(167)]);a.aLfKv($.useEffect,()=>{const U=r;R.current=c[U(167)]},[c[r(167)]]);const O=a.RQqrO($.useRef,null),B=a[r(172)]($.useRef,null),Y=$.useCallback(U=>{const _=r;if(a[_(221)]===a.ddrey)_0x2e7f9f.current=_0x4da528.pan;else if(U[_(189)].length===2){U.preventDefault(),d(),m(),a.ZAkLk(w),p(),a.CwqjG(y),a[_(177)](j),a.ujzbQ(D),O[_(211)]=null,B[_(211)]=null;const g=U[_(189)][0],N=U[_(189)][1],E=(g[_(176)]+N.clientX)/2,k=a.wKtDw(g[_(220)],N.clientY)/2,z=Math.hypot(a[_(201)](N.clientX,g[_(176)]),N[_(220)]-g[_(220)]);b.current={initialCenter:{x:E,y:k},initialDist:z,initialPan:{...h[_(211)]},initialZoom:L[_(211)]}}},[d,m,w,p,y,j,D]),X=$.useCallback(U=>{const _=r;if(U.touches.length===2&&b[_(211)]){U.preventDefault();const g=U[_(189)][0],N=U.touches[1],E=a.fCXeI(g.clientX+N.clientX,2),k=a[_(186)](a[_(208)](g[_(220)],N.clientY),2),z=Math.hypot(N[_(176)]-g.clientX,a[_(201)](N.clientY,g.clientY)),C=b[_(211)],A=a.fCXeI(z,Math[_(166)](1,C[_(204)])),G=a[_(213)](ye,Number((C.initialZoom*A)[_(161)](3)),v[0],v[v[_(160)]-1]),K=C.initialZoom,ee=E-C.initialCenter.x,ae=k-C.initialCenter.y;let ce=a.ycvtM(C.initialPan.x,ee),xe=C[_(206)].y+ae;const fe=S[_(211)];if(fe&&K!==G){const de=fe.getBoundingClientRect(),Me=a.pMPBY(C[_(187)].x,de.left)/de.width,Ke=a[_(199)](a[_(201)](C.initialCenter.y,de.top),de.height),tt=de[_(194)]/de.height,nt=hs,Ze=nt*tt,rt=(G/K-1)*(-C[_(206)].x+Me*Ze),ht=(G/K-1)*(-C.initialPan.y+Ke*nt);ce-=rt,xe-=ht}const me={x:ce,y:xe};L[_(211)]=G,h[_(211)]=me,f(me),i(G)}},[f,i,S,v]),I=$.useCallback(U=>{const _=r;if(U.touches[_(160)]<2){if(a[_(183)]!=="sZggQ")b.current=null;else if(_0x5d7993.touches.length===2&&_0x56ecd6.current){_0x3061c1.preventDefault();const g=_0xccdee2[_(189)][0],N=_0x1edb90.touches[1],E=(g.clientX+N[_(176)])/2,k=a[_(196)](g[_(220)],N.clientY)/2,z=_0x39be87.hypot(a[_(165)](N.clientX,g[_(176)]),N.clientY-g.clientY),C=_0x510841[_(211)],A=a[_(174)](z,_0xc33784.max(1,C[_(204)])),G=_0x419fe5(a.jjWlU(_0x3f0196,a.yuYco(C.initialZoom,A).toFixed(3)),_0x369d41[0],_0x24efb4[_0x17312f[_(160)]-1]),K=C.initialZoom,ee=E-C.initialCenter.x,ae=a[_(201)](k,C.initialCenter.y);let ce=a.aFscj(C.initialPan.x,ee),xe=a.gpddJ(C[_(206)].y,ae);const fe=_0x1f4cfd.current;if(fe&&a.WHHbF(K,G)){const de=fe[_(192)](),Me=a.esWAJ(C.initialCenter.x,de.left)/de.width,Ke=a[_(165)](C.initialCenter.y,de.top)/de[_(169)],tt=de.width/de.height,nt=_0x2c6075,Ze=a[_(198)](nt,tt),rt=a.yuYco(a[_(202)](G/K,1),a.aFscj(-C[_(206)].x,Me*Ze)),ht=a[_(165)](G/K,1)*a[_(180)](-C.initialPan.y,Ke*nt);ce-=rt,xe-=ht}const me={x:ce,y:xe};_0x84d31a.current=G,_0x2d9252[_(211)]=me,_0x4a4a5a(me),a.jjWlU(_0x256d9a,G)}}},[]),Z=.003,V=a.kGNkB($.useCallback,U=>{const _=r;U[_(205)]();const g=S[_(211)];if(!g)return;const N=L.current,E=a[_(198)](N,Math.exp(-U[_(190)]*Z)),k=a[_(213)](ye,E,v[0],v[v.length-1]);if(Math.abs(a[_(165)](k,N))<1e-6)return;const z=g[_(192)](),C=a.fCXeI(a.JWhtI(U.clientX,z.left),z[_(194)]),A=(U.clientY-z.top)/z[_(169)],G=a.fCXeI(z[_(194)],z.height),K=hs,ee=K*G,ae=a.ycVnV(Jd,C,A,N,k,ee,K,h[_(211)]);L[_(211)]=k,h.current=ae,a[_(175)](i,k),f(ae)},[i,f,S,v]);$.useEffect(()=>{const U=r,_={nelff:a.CUNJQ,KiEOs:U(164),hCCMM:"touchend",wHDae:a[U(188)]},g=S.current;if(g)return g[U(173)]("touchstart",Y,{passive:!1}),g.addEventListener(U(164),X,{passive:!1}),g.addEventListener(a[U(215)],I),g.addEventListener("wheel",V,{passive:!1}),()=>{const N=U;g.removeEventListener(_.nelff,Y),g[N(155)](_[N(162)],X),g.removeEventListener(_[N(158)],I),g.removeEventListener(_.wHDae,V)}},[S,Y,X,I,V]);const W=$.useCallback(U=>{const _=r,g=R.current,N=ye(a.egltu(g,U),0,a[_(201)](v[_(160)],1));if(N===g)return;const E=L[_(211)],k=v[N],z=S[_(211)];if(!z){x(N);return}const C=z[_(192)](),A=C[_(194)]/C[_(169)],G=hs,K=G*A,ee=Jd(.5,.5,E,k,K,G,h[_(211)]);L[_(211)]=k,R[_(211)]=N,h[_(211)]=ee,x(N),a.RbYKO(f,ee)},[x,f,S,v]),P=a[r(159)]($.useCallback,(U,_)=>{const g=r,N=a[g(209)].split("|");let E=0;for(;;){switch(N[E++]){case"0":a[g(222)](x,U);continue;case"1":R[g(211)]=U;continue;case"2":h.current={x:0,y:0};continue;case"3":L.current=_;continue;case"4":f({x:0,y:0});continue}break}},[x,f]),q=$.useCallback(U=>{const _=r;O[_(211)]=U},[]),H=a.cRqta($.useCallback,U=>{B.current=U},[]);return{multiTouchRef:b,touchBgStartRef:O,mouseBgStartRef:B,zoomAtCenter:W,resetView:P,setTouchBgStart:q,setMouseBgStart:H}}function ui(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const x=1-r;return`#${Math.round(a*x).toString(16).padStart(2,"0")}${Math.round(i*x).toString(16).padStart(2,"0")}${Math.round(f*x).toString(16).padStart(2,"0")}`}function km(c){const{flower:r,project:a,paletteMap:i}=c,f=$.useRef(null),x=$.useRef(!1),v=$.useRef(null);$.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const S=$.useMemo(()=>[...r.layers||[]].sort((R,O)=>R.order-O.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:m,width:w}=It(d),{flowerOuterR:p,centerHitR:y}=$.useMemo(()=>{let R=12,O=1/0;for(const Y of S){if(!Y.visible)continue;const X=Y.scale??1,I=m*X,V=Math.max(0,Y.radius-I*.28),W=V+I;R=Math.max(R,W),V<O&&(O=V)}isFinite(O)||(O=0);const B=Math.max(O*.9,8);return{flowerOuterR:R,centerHitR:B}},[S,m]),j=(R,O)=>R?.petalOverrides?.find(B=>B.index===O)??null,D="pointer",b=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,h=c.zoneCursorValue??"grab",L=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(R)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),c.onDoubleClick?.()},style:{cursor:b?h:xr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),S.map(R=>{if(!R.visible)return null;const B=i.get(R.colorId)?.hex??"#999",Y=360/Math.max(1,R.petalCount),X=R.scale??1,I=m*X,V=w*(R.widthScale??1)*X,P=Math.max(0,R.radius-I*.28),q=or(""),H=or(""),U=P+I,_=c.isSelected&&c.selectedLayerId===R.id,g=c.isSelected&&(c.selectedPetal?.layerId===R.id||(c.selectedPetals?.some(N=>N.layerId===R.id)??!1));return s.jsxs("g",{children:[Array.from({length:R.petalCount}).map((N,E)=>{const k=j(R,E),C=(k?.petalType??R.petalType)===""?q:H,A=i.get(k?.colorId??R.colorId)?.hex??B,G=R.offsetAngle+E*Y,K=la(G),ee=Math.cos(K)*P,ae=Math.sin(K)*P,ce=c.isSelected&&c.selectedPetal?.layerId===R.id&&c.selectedPetal?.index===E,xe=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===R.id&&de.index===E)??!1),fe=ce||xe,me=b?h:xr("/tsumami/");return s.jsxs("g",{transform:`translate(${ee} ${ae}) rotate(${G})`,children:[s.jsx("path",{d:C,transform:`scale(${I} ${V})`,fill:A,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:me},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const Me=de.shiftKey,Ke=de.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),x.current=!1,Me&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(R.id,E,!0);return}if(Ke&&c.onTogglePetalSelection){v.current={x:de.clientX,y:de.clientY};const rt=R.id,ht=E;f.current=window.setTimeout(()=>{x.current=!0,f.current=null,c.onTogglePetalSelection?.(rt,ht,!0),navigator.vibrate?.(30)},500)}const tt=c.isSelected&&c.selectedLayerId!=null,nt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||tt||nt){c.onBeginDragFromLayerPetal(R.id,E,de);return}c.onBeginDragFromLayerPetal(R.id,E,de)},onPointerMove:de=>{if(f.current&&v.current){const Me=de.clientX-v.current.x,Ke=de.clientY-v.current.y;Math.hypot(Me,Ke)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const de=R.doublePetal,Me=k?.innerSizeReduction??de.innerSizeReduction??2,Ke=d*(X||1);if(Ke<=0)return null;const nt=Math.max(Ke*.3,Ke-Me)/Ke,Ze=C,rt=k?.innerColorId??de.innerColorId??k?.colorId??R.colorId,ht=i.get(rt)?.hex??A,gt=I*nt,Zt=V*nt;return s.jsx("path",{d:Ze,transform:`scale(${gt} ${Zt})`,fill:ht,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(fe||_||c.isFlowerSelected)&&s.jsx("path",{d:C,transform:`scale(${I} ${V})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${R.id}-${E}`)]},E)}),_&&!g&&s.jsx("circle",{r:U,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),c.isFlowerSelected&&s.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const R=r.center,O=Rh(R.size),B=i.get(R.color)?.hex??"#D4A843",Y=R.color2?i.get(R.color2)?.hex??"#C0C0C0":"#D4A843",X=Math.max(O,y);switch(R.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:O,fill:B,stroke:ui(B,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:D},onPointerDown:L})]});case"":{const Z=O*.42,V=O,W=O*.12,P=O*.13,q=O*.45,H=Y,U=B;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((_,g)=>{const N=g/10*360,E=la(N),k=Math.cos(E)*V,z=Math.sin(E)*V,C=-Math.sin(E)*W,A=Math.cos(E)*W,G=Math.cos(E)*Z,K=Math.sin(E)*Z;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(G+C).toFixed(2)} ${(K+A).toFixed(2)} L ${k.toFixed(2)} ${z.toFixed(2)} L ${(G-C).toFixed(2)} ${(K-A).toFixed(2)} Z`,fill:H,stroke:ui(H,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:k,cy:z,r:P,fill:H,stroke:ui(H,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},g)}),s.jsx("circle",{r:Z,fill:H,stroke:ui(H,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:q,fill:U,stroke:ui(U,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}case"":{const I=R.pepCount??12,Z=O*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:I}).map((V,W)=>{const P=W/I*360,q=la(P),H=Math.cos(q)*O,U=Math.sin(q)*O;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:H,y2:U,stroke:B,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:H,cy:U,r:Math.max(Z,1),fill:B,stroke:ui(B,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),s.jsx("circle",{r:X,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:L})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:L})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const R=S.find(Z=>Z.id===c.selectedLayerId);if(!R||!R.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const B=R.scale??1,Y=m*B,I=Math.max(0,R.radius-Y*.28);return I<=0?null:s.jsx("circle",{r:I,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Gm(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:x,width:v}=It(f),S=r.scale??1,d=x*S,m=v*(r.widthScale??1)*S,w=or(r.petalType),p=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??xr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:y=>{if(y.stopPropagation(),y.button===0&&!r.locked){if(y.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(y)}},children:[s.jsx("path",{d:w,transform:`scale(${d} ${m})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const y=r.doublePetal,j=y.innerSizeReduction??2,D=f*(S||1);if(D<=0)return null;const h=Math.max(D*.3,D-j)/D,L=y.innerColorId??r.colorId,R=i.get(L)?.hex??p,O=d*h,B=m*h;return s.jsx("path",{d:w,transform:`scale(${O} ${B})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const j=-.04*d,D=-.5800000000000001*m,b=(1.02+.04*2)*d,h=(.54+.04)*2*m;return s.jsx("rect",{x:j,y:D,width:b,height:h,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const j=-.54*m,D=1.02*d,b=.54*2*m;return s.jsxs(s.Fragment,{children:[s.jsx("rect",{x:0,y:j,width:D,height:b,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),s.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Rm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:x,clientToSvgPointRef:v,stencilDraggingRef:S,onSelectStencil:d}=c,m=$.useRef(null);$.useEffect(()=>()=>{m.current?.()},[]);const w=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(p=>{const y=Im(p.variant,p.pose),j=a===p.id,D=rn,b=y.imageUrl?1:y.scaleX,h=w||!!p.locked;return s.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${D*b} ${D})`,style:{cursor:w?"default":p.locked?"pointer":om("/tsumami/"),pointerEvents:w?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:L=>{if(L.button!==0)return;if(h){d(p.id);return}if(L.stopPropagation(),d(p.id),!f.current)return;S.current=!0,f.current&&(f.current.style.cursor=xm("/tsumami/"));const O=v.current(L),B={...p.position},Y=p.id;let X=B.x,I=B.y;const Z=W=>{const P=v.current(W),q=P.x-O.x,H=P.y-O.y;X=ye(B.x+q,0,el),I=ye(B.y+H,0,el),x.current(U=>{const _=(U.stencils??[]).find(g=>g.id===Y);_&&(_.position.x=X,_.position.y=I)},!1)},V=()=>{S.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",V),m.current=null,x.current(W=>{const P=(W.stencils??[]).find(q=>q.id===Y);P&&(P.position.x=X,P.position.y=I)},!0)};document.addEventListener("pointermove",Z),document.addEventListener("pointerup",V),m.current=()=>{S.current=!1,document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",V)}},children:y.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:y.imageUrl,x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,fill:"transparent",stroke:j?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:y.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:y.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),j&&s.jsx("path",{d:y.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function Om(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:v,dashSyncToken:S,stageRef:d,multiTouchRef:m,clientToSvgPoint:w,togglePetalSelection:p,handleShiftFlowerSelect:y,groupHighlightedFlowerIds:j,beginFlowerDrag:D,beginScaleDrag:b,beginRotationDrag:h,beginWidthScaleDrag:L,beginRadiusDrag:R,clickOriginRef:O,zoneActivatedRef:B,setZoneCursorValue:Y,setTouchZoneIndicator:X,hoverZoneRef:I,hoverHitLayerIdRef:Z,hoverHitPetalIndexRef:V}=c;return s.jsx(s.Fragment,{children:r.flowers.map(W=>s.jsx(km,{flower:W,project:r,paletteMap:f,isSelected:a.kind!=="project"&&x===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const P=nl(r,W.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:P.id});return}i({kind:"flower",flowerId:W.id})},onSelectLayer:P=>i({kind:"layer",flowerId:W.id,layerId:P}),onSelectPetal:(P,q)=>i({kind:"petal",flowerId:W.id,layerId:P,index:q}),onTogglePetalSelection:(P,q,H)=>p(W.id,P,q,H),onShiftSelect:()=>y(W.id),isGroupHighlighted:j.has(W.id),zoneCursorValue:v,onBeginDragFromLayerPetal:(P,q,H)=>{if(m.current)return;const U=nl(r,W.id);if(U&&!(a.kind==="group"&&a.groupId===U.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&U.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:U.id}),D(W.id,H);return}const _=w(H),g=H.pointerType==="touch",N=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(g&&N){const{zone:z,layerId:C,petalIndex:A}=si(_.x,_.y,W,r,a),{length:G}=It(W.fabricSquareSize??r.fabricSquareSize),K=N0(z,a.kind,{hitLayerId:C,flower:W,length:G});if(K!=="none"&&K!=="center"&&K!=="move"){X({x:_.x,y:_.y,zone:K});const ee=a.kind==="layer"?"layer":"flower",ae=a.kind==="layer"?a.layerId:P;switch(K){case"rotate":h(ee,W.id,H,{layerId:ae});return;case"scale":b(ee,W.id,H,{layerId:ae});return;case"width":L(ee,W.id,H,{layerId:ae,petalIndex:A});return;case"radius":R(ee,W.id,H,{layerId:ae});return}}D(W.id,H,{layerId:P,index:q});return}const E=B.current;O.current={x:_.x,y:_.y},B.current=!1;const k=I.current;if(N&&(E||k!=="none"&&k!=="center")){const z=k,C=Z.current,A=V.current,G=a.kind==="layer"?"layer":"flower",K=a.kind==="layer"?a.layerId:C??P;switch(z){case"rotate":h(G,W.id,H,{layerId:K});return;case"scale":b(G,W.id,H,{layerId:K});return;case"width":L(G,W.id,H,{layerId:K,petalIndex:A});return;case"radius":R(G,W.id,H,{layerId:K});return;default:Y(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),D(W.id,H,{layerId:P,index:q});return}}Y(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),D(W.id,H,{layerId:P,index:q})},onDoubleClick:()=>i({kind:"flower",flowerId:W.id}),onPointerDown:P=>{if(m.current||P.button!==0)return;if(P.shiftKey){P.stopPropagation(),y(W.id);return}const q=nl(r,W.id);if(q&&!(a.kind==="group"&&a.groupId===q.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&q.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:q.id}),D(W.id,P);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||i({kind:"flower",flowerId:W.id});const U=w(P);O.current={x:U.x,y:U.y},B.current=!1,Y(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/")),D(W.id,P)},dashSyncToken:S},W.id))})}function Ym(c){const{leaves:r,project:a,selection:i,paletteMap:f,dashSyncToken:x,groupHighlightedLeafIds:v,zoneCursorValue:S,stageRef:d,applyUpdateRef:m,clientToSvgPointRef:w,leafDraggingRef:p,clickOriginRef:y,zoneActivatedRef:j,setZoneCursorValue:D,onSelectLeaf:b,onSelectGroup:h,onShiftSelectLeaf:L,hoverLeafZoneRef:R}=c,O=$.useRef(null);return $.useEffect(()=>()=>{O.current?.()},[]),s.jsx(s.Fragment,{children:r.map(B=>{if(!B.visible)return null;const Y=i.kind==="leaf"&&i.leafId===B.id,X=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(B.id),I=v.has(B.id),Z=zl(a,B.id),V=Z?.rotation??0;let W=B;if(Z&&V!==0){const P=Th(a,Z.id),q=V*Math.PI/180,H=B.position.x-P.x,U=B.position.y-P.y;W={...B,position:{x:P.x+H*Math.cos(q)-U*Math.sin(q),y:P.y+H*Math.sin(q)+U*Math.cos(q)},rotation:B.rotation+V}}return s.jsx(Gm,{leaf:W,project:a,paletteMap:f,isSelected:Y||X,isLeafGroupHighlighted:I,dashSyncToken:x,cursor:Y?S:void 0,onPointerDown:P=>{if(B.locked)return;P.stopPropagation();const q=w.current(P);if(Z&&!(i.kind==="group"&&i.groupId===Z.id||i.kind==="leaf"&&Z.leafIds.includes(i.leafId))){h(Z.id),p.current=!0,y.current={x:q.x,y:q.y},j.current=!1,D(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const N=q,E=Hd(a,B.id),k=new Map;for(const K of E){const ee=r.find(ae=>ae.id===K);ee&&k.set(K,{...ee.position})}const z=new Map;if(Z)for(const K of Z.flowerIds){const ee=a.flowers.find(ae=>ae.id===K);ee&&z.set(K,{...ee.position})}let C=!1;const A=K=>{const ee=w.current(K),ae=ee.x-N.x,ce=ee.y-N.y;Math.abs(ae)+Math.abs(ce)>1&&(C=!0),m.current(xe=>{for(const[fe,me]of k){const de=(xe.leaves??[]).find(Me=>Me.id===fe);de&&(de.position.x=ye(me.x+ae,0,el),de.position.y=ye(me.y+ce,0,el))}for(const[fe,me]of z){const de=xe.flowers.find(Me=>Me.id===fe);de&&(de.position.x=ye(me.x+ae,0,el),de.position.y=ye(me.y+ce,0,el))}},!1)},G=()=>{O.current=null,p.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",G),C&&m.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",G),O.current=()=>{p.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",G)};return}const H=Y&&j.current;b(B.id),y.current={x:q.x,y:q.y},j.current=!1,D(qn("/tsumami/")),d.current&&(d.current.style.cursor=qn("/tsumami/"));const U=R.current,_=Y&&(H||U!=="none")?U:"move";if(_!=="move"){const g=ir(_,"/tsumami/");D(g),d.current&&(d.current.style.cursor=g)}if(p.current=!0,_==="rotate"){const g=W.position,N=B.rotation,E=Math.atan2(q.y-g.y,q.x-g.x)*180/Math.PI;let k=!1;const z=A=>{const G=w.current(A),ee=Math.atan2(G.y-g.y,G.x-g.x)*180/Math.PI-E;Math.abs(ee)>.5&&(k=!0),m.current(ae=>{const ce=(ae.leaves??[]).find(xe=>xe.id===B.id);ce&&(ce.rotation=((N+ee)%360+360)%360)},!1)},C=()=>{O.current=null,p.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",C),k&&m.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",C),O.current=()=>{p.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",C)}}else if(_==="scale"){const g=W.position,N=B.scale??1,E=Math.max(1,Math.hypot(q.x-g.x,q.y-g.y));let k=!1;const z=A=>{const G=w.current(A),ee=Math.hypot(G.x-g.x,G.y-g.y)/E;Math.abs(ee-1)>.01&&(k=!0),m.current(ae=>{const ce=(ae.leaves??[]).find(xe=>xe.id===B.id);ce&&(ce.scale=ye(N*ee,.3,3))},!1)},C=()=>{O.current=null,p.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",C),k&&m.current(()=>{},!0)};document.addEventListener("pointermove",z),document.addEventListener("pointerup",C),O.current=()=>{p.current=!1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",C)}}else if(_==="width"){const g=W.position,N=B.rotation*Math.PI/180,E=-Math.sin(N),k=Math.cos(N),z=B.widthScale??1,C=Math.abs((q.x-g.x)*E+(q.y-g.y)*k),A=Math.max(1,C);let G=!1;const K=ae=>{const ce=w.current(ae),fe=Math.abs((ce.x-g.x)*E+(ce.y-g.y)*k)/A;Math.abs(fe-1)>.01&&(G=!0),m.current(me=>{const de=(me.leaves??[]).find(Me=>Me.id===B.id);de&&(de.widthScale=ye(z*fe,.3,3))},!1)},ee=()=>{O.current=null,p.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ee),G&&m.current(()=>{},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",ee),O.current=()=>{p.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ee)}}else{const g=q,N=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(B.id)?i.leafIds:Hd(a,B.id),E=new Map;for(const K of N){const ee=r.find(ae=>ae.id===K);ee&&E.set(K,{...ee.position})}const k=new Map,z=zl(a,B.id);if(z)for(const K of z.flowerIds){const ee=a.flowers.find(ae=>ae.id===K);ee&&k.set(K,{...ee.position})}let C=!1;const A=K=>{const ee=w.current(K),ae=ee.x-g.x,ce=ee.y-g.y;Math.abs(ae)+Math.abs(ce)>1&&(C=!0),m.current(xe=>{for(const[fe,me]of E){const de=(xe.leaves??[]).find(Me=>Me.id===fe);de&&(de.position.x=ye(me.x+ae,0,el),de.position.y=ye(me.y+ce,0,el))}for(const[fe,me]of k){const de=xe.flowers.find(Me=>Me.id===fe);de&&(de.position.x=ye(me.x+ae,0,el),de.position.y=ye(me.y+ce,0,el))}},!1)},G=()=>{O.current=null,p.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",G),C&&m.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",G),O.current=()=>{p.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",G)}}},onShiftSelect:()=>L(B.id)},B.id)})})}function Hm({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Zm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Um(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:f}=c,x=$.useMemo(()=>i?r.flowers.find(y=>y.id===i)??null:null,[r.flowers,i]),v=$.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="mixed")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="group"){const y=(r.groups??[]).find(j=>j.id===a.groupId);if(y)return r.flowers.filter(j=>y.flowerIds.includes(j.id))}return[]},[r.flowers,r.groups,a]);if(!x&&v.length===0)return null;const S=a.kind==="flower"&&x?.id===i,d=a.kind==="layer"?a.layerId:null,m=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,w=a.kind==="petals"&&x?a.petals:null,p=x&&(S||d!=null||m!=null||w&&w.length>0);return s.jsxs("g",{pointerEvents:"none",children:[v.map(y=>s.jsx(Wd,{flower:y,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:f},`overlay-multi-${y.id}`)),p&&x&&s.jsx(Wd,{flower:x,project:r,isFlowerSelected:S,selectedLayerId:d,selectedPetal:m,selectedPetals:w,dashSyncToken:f},`overlay-single-${x.id}`)]})}function Wd(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:f,selectedPetal:x,selectedPetals:v,dashSyncToken:S}=c,d=$.useMemo(()=>[...r.layers||[]].sort((L,R)=>L.order-R.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:w,width:p}=It(m),y=$.useMemo(()=>{let L=12;for(const R of d){if(!R.visible)continue;const O=R.scale??1,B=w*O,I=Math.max(0,R.radius-B*.28)+B;L=Math.max(L,I)}return L},[d,w]),j=i||f!=null||x!=null||v&&v.length>0,D=or(""),b=or(""),h=(L,R)=>L?.petalOverrides?.find(O=>O.index===R)??null;return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[j&&x==null&&!v?.length&&s.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(L=>{if(!L.visible)return null;const R=360/Math.max(1,L.petalCount),O=L.scale??1,B=w*O,X=p*(L.widthScale??1)*O,Z=Math.max(0,L.radius-B*.28),V=Z+B,W=f===L.id,P=x?.layerId===L.id||(v?.some(q=>q.layerId===L.id)??!1);return s.jsxs("g",{children:[Array.from({length:L.petalCount}).map((q,H)=>{const g=(h(L,H)?.petalType??L.petalType)===""?D:b,N=L.offsetAngle+H*R,E=la(N),k=Math.cos(E)*Z,z=Math.sin(E)*Z,C=x?.layerId===L.id&&x?.index===H,A=v?.some(K=>K.layerId===L.id&&K.index===H)??!1;return C||A||W||i?s.jsx("g",{transform:`translate(${k} ${z}) rotate(${N})`,children:s.jsx("path",{d:g,transform:`scale(${B} ${X})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${S}-${L.id}-${H}`)},H):null}),W&&!P&&s.jsx("circle",{r:V,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},L.id)}),i&&s.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!f)return null;const L=d.find(I=>I.id===f);if(!L||!L.visible||x!=null||(v?.length??0)>0)return null;const O=L.scale??1,B=w*O,X=Math.max(0,L.radius-B*.28);return X<=0?null:s.jsx("circle",{r:X,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Ca=1350;function Km(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,setZoom:v,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:m,setPan:w,showGrid:p,setShowGrid:y,setShowHelp:j,stageRef:D,viewBox:b,dashDelay:h,dashSyncToken:L,beginPan:R,updatePan:O,endPan:B,beginMarquee:Y,updateMarquee:X,endMarquee:I,marqueeRef:Z,marqueeRect:V,beginFlowerDrag:W,updateFlowerDrag:P,endFlowerDrag:q,scaleDragRef:H,updateScaleDrag:U,endScaleDrag:_,rotationDragRef:g,updateRotationDrag:N,endRotationDrag:E,widthScaleDragRef:k,updateWidthScaleDrag:z,endWidthScaleDrag:C,radiusDragRef:A,updateRadiusDrag:G,endRadiusDrag:K,beginScaleDrag:ee,beginRotationDrag:ae,beginWidthScaleDrag:ce,beginRadiusDrag:xe,togglePetalSelection:fe,clientToSvgPoint:me}=c,de=$.useRef(!1),Me=$.useRef(!1),Ke=$.useRef(c.applyUpdate),tt=$.useRef(me);$.useEffect(()=>{Ke.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{tt.current=me},[me]);const[nt,Ze]=$.useState(!1),rt=$.useRef(null);$.useEffect(()=>{if(!nt)return;const he=Be=>{rt.current&&!rt.current.contains(Be.target)&&Ze(!1)};return document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[nt]);const[ht,gt]=$.useState("grab"),Zt=$.useRef("none"),kn=$.useRef("none"),Xn=$.useRef(void 0),Jn=$.useRef(void 0),Qe=$.useRef(null),yn=$.useRef(!0),Dl=5,rl=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,cl=$.useRef(rl);$.useEffect(()=>{rl!==cl.current&&(cl.current=rl,yn.current=!1,Qe.current=null,Zt.current="none",kn.current="none",Xn.current=void 0,Jn.current=void 0)},[rl]);const[Nl,ia]=$.useState(!1),Wn=$.useRef(!1),[di,Gn]=$.useState(null),Bt=5,pn=10,Re=qm({zoom:c.zoom,pan:c.pan,setZoom:v,setPan:w,zoomLevel:S,setZoomLevel:d,ZOOM_LEVELS:m,stageRef:D,endPan:B,endFlowerDrag:q,endMarquee:I,endRotationDrag:E,endScaleDrag:_,endWidthScaleDrag:C,endRadiusDrag:K});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0 md:flex md:flex-col md:flex-1 md:min-h-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S>=m.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(1),disabled:S>=m.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Re.zoomAtCenter(-1),disabled:S<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>y(he=>!he),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Re.resetView(5,m[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:rt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${nt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Ze(he=>!he),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),nt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(he=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:i1[he]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(he,Be),Ze(!1)},"data-testid":`stencil-add-${he}-${Be}`,children:r1[Be]},`${he}-${Be}`))]},he)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),Ze(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>j(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border md:flex-1 md:min-h-0",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[he,,Be,qe]=b.split(/\s+/).map(Number),Se=rn,_e=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Pe=De<=10?5:De/2,Fe=Math.floor(he/Se/we)*we-we,Xe=Math.ceil((he+Be)/Se/we)*we+we,Je=[];for(let Te=Fe;Te<=Xe;Te+=we){const $e=(Te*Se-he)/Be*100;if($e<-2||$e>102)continue;const Nt=Math.abs(Te),ct=Nt%De===0,lt=Nt%Pe===0,vt=ct?10:lt?6:3;Je.push(s.jsx("line",{x1:`${$e}%`,y1:20-vt,x2:`${$e}%`,y2:20,stroke:"#999",strokeWidth:ct?.8:.4},Te)),ct&&Je.push(s.jsx("text",{x:`${$e}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Je})})(),p&&(()=>{const[,he,Be,qe]=b.split(/\s+/).map(Number),Se=rn,_e=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Te=>_e/Te<=15)??1e3,we=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Pe=De<=10?5:De/2,Fe=Math.floor(he/Se/we)*we-we,Xe=Math.ceil((he+qe)/Se/we)*we+we,Je=[];for(let Te=Fe;Te<=Xe;Te+=we){const $e=(Te*Se-he)/qe*100;if($e<-2||$e>102)continue;const Nt=Math.abs(Te),ct=Nt%De===0,lt=Nt%Pe===0,vt=ct?10:lt?6:3;Je.push(s.jsx("line",{x1:24-vt,y1:`${$e}%`,x2:24,y2:`${$e}%`,stroke:"#999",strokeWidth:ct?.8:.4},Te)),ct&&Je.push(s.jsx("text",{x:12,y:`${$e}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Je})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-full",viewBox:b,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":h,cursor:Nl?"crosshair":"grab"},onDoubleClick:he=>{he.target===he.currentTarget&&(ia(Be=>!Be),i({kind:"project"}))},onPointerDown:he=>{if(Re.multiTouchRef.current)return;if(he.button===1){Wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(he);return}if(he.button!==0)return;const Be=he.pointerType==="touch";if(Be&&he.target===he.currentTarget&&x){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(_e=>_e.id===x);if(Se){const _e=me(he),{zone:Ae,layerId:De,petalIndex:we}=si(_e.x,_e.y,Se,r,a),{length:Pe}=It(Se.fabricSquareSize??r.fabricSquareSize),Fe=N0(Ae,a.kind,{hitLayerId:De,flower:Se,length:Pe});if(Fe!=="none"&&Fe!=="center"){Gn({x:_e.x,y:_e.y,zone:Fe});const Xe=a.kind==="layer"?"layer":"flower",Je=a.kind==="layer"?a.layerId:De;switch(Fe){case"rotate":ae(Xe,x,he,{layerId:Je});return;case"scale":ee(Xe,x,he,{layerId:Je});return;case"width":ce(Xe,x,he,{layerId:Je,petalIndex:we});return;case"radius":xe(Xe,x,he,{layerId:Je});return;case"move":W(x,he);return}}}}Re.setTouchBgStart({x:he.clientX,y:he.clientY}),R(he);return}if(he.target===he.currentTarget&&x&&ht!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Zt.current;if(Se!=="none"&&Se!=="center"){const _e=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":ae(_e,x,he,{layerId:Ae});return;case"scale":ee(_e,x,he,{layerId:Ae});return;case"width":ce(_e,x,he,{layerId:Ae,petalIndex:Jn.current});return;case"radius":xe(_e,x,he,{layerId:Ae});return;case"move":W(x,he);return}}}if(he.target===he.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&ht!=="grab"){const qe=kn.current;if(qe!=="none"){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){he.preventDefault();const _e=me(he);if(Me.current=!0,qe==="rotate"){const Ae=Se.position,De=Se.rotation,we=Math.atan2(_e.y-Ae.y,_e.x-Ae.x)*180/Math.PI,Pe=Se.id,Fe=ir(qe,"/tsumami/");gt(Fe),D.current&&(D.current.style.cursor=Fe);let Xe=!1;const Je=qt=>{const $e=me(qt),ct=Math.atan2($e.y-Ae.y,$e.x-Ae.x)*180/Math.PI-we;Math.abs(ct)>.5&&(Xe=!0),c.applyUpdate(lt=>{const vt=(lt.leaves??[]).find(Rn=>Rn.id===Pe);vt&&(vt.rotation=((De+ct)%360+360)%360)},!1)},Te=()=>{Me.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),Xe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Ae=Se.position,De=Se.scale??1,we=Math.max(1,Math.hypot(_e.x-Ae.x,_e.y-Ae.y)),Pe=Se.id,Fe=ir(qe,"/tsumami/");gt(Fe),D.current&&(D.current.style.cursor=Fe);let Xe=!1;const Je=qt=>{const $e=me(qt),ct=Math.hypot($e.x-Ae.x,$e.y-Ae.y)/we;Math.abs(ct-1)>.01&&(Xe=!0),c.applyUpdate(lt=>{const vt=(lt.leaves??[]).find(Rn=>Rn.id===Pe);vt&&(vt.scale=Math.max(.3,Math.min(3,De*ct)))},!1)},Te=()=>{Me.current=!1,document.removeEventListener("pointermove",Je),document.removeEventListener("pointerup",Te),Xe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Je),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Ae=Se.position,De=Se.rotation*Math.PI/180,we=-Math.sin(De),Pe=Math.cos(De),Fe=Se.widthScale??1,Xe=Math.max(1,Math.abs((_e.x-Ae.x)*we+(_e.y-Ae.y)*Pe)),Je=Se.id,Te=ir(qe,"/tsumami/");gt(Te),D.current&&(D.current.style.cursor=Te);let qt=!1;const $e=ct=>{const lt=me(ct),Rn=Math.abs((lt.x-Ae.x)*we+(lt.y-Ae.y)*Pe)/Xe;Math.abs(Rn-1)>.01&&(qt=!0),c.applyUpdate(ra=>{const cn=(ra.leaves??[]).find(yt=>yt.id===Je);cn&&(cn.widthScale=Math.max(.3,Math.min(3,Fe*Rn)))},!1)},Nt=()=>{Me.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Nt),qt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Nt);return}else{const Ae=_e,De={...Se.position},we=Se.id;gt(qn("/tsumami/")),D.current&&(D.current.style.cursor=qn("/tsumami/"));let Pe=!1;const Fe=Je=>{const Te=me(Je),qt=Te.x-Ae.x,$e=Te.y-Ae.y;Math.abs(qt)+Math.abs($e)>1&&(Pe=!0),c.applyUpdate(Nt=>{const ct=(Nt.leaves??[]).find(lt=>lt.id===we);ct&&(ct.position.x=Math.max(0,Math.min(Ca,De.x+qt)),ct.position.y=Math.max(0,Math.min(Ca,De.y+$e)))},!1)},Xe=()=>{Me.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Xe),Pe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Xe);return}}}}if(he.target===he.currentTarget){Be?(Re.setTouchBgStart({x:he.clientX,y:he.clientY}),R(he)):Nl?Y(he):(Re.setMouseBgStart({x:he.clientX,y:he.clientY}),Wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(he));return}},onPointerMove:he=>{if(de.current||Me.current)return;if(Z.current){X(he);return}if(g.current){N(he);return}if(H.current){U(he);return}if(k.current){z(he);return}if(A.current){G(he);return}P(he),O(he);const Be=!!c.dragRef?.current||!!Z.current||!!g.current||!!H.current||!!k.current||!!A.current||Wn.current,qe=x&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=r.flowers.find(_e=>_e.id===x);if(Se){const _e=me(he);if(Qe.current&&!yn.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl){const{zone:Te}=si(_e.x,_e.y,Se,r,a);Te==="center"&&(gt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}yn.current=!0,Qe.current=null}const{zone:Ae,layerId:De,petalIndex:we}=si(_e.x,_e.y,Se,r,a),{length:Pe}=It(Se.fabricSquareSize??r.fabricSquareSize),Fe=N0(Ae,a.kind,{hitLayerId:De,flower:Se,length:Pe});Fe!=="none"&&(Zt.current=Fe,Xn.current=De,Jn.current=we);const Xe=Kd(Fe,"/tsumami/");gt(Xe),D.current&&(D.current.style.cursor=Xe)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(_e=>_e.id===c.selectedLeafId);if(Se){const _e=me(he);if(Qe.current&&!yn.current){if(Math.hypot(_e.x-Qe.current.x,_e.y-Qe.current.y)<Dl)return;yn.current=!0,Qe.current=null}const Ae=sm(_e.x,_e.y,Se,r);Ae!=="none"&&(kn.current=Ae);const De=ir(Ae,"/tsumami/");gt(De),D.current&&(D.current.style.cursor=De)}}},onPointerUp:he=>{if(!de.current&&!Me.current){if(Gn(null),Z.current&&Nl&&ia(!1),I(),E(),_(),C(),K(),q(),B(),Wn.current&&(Wn.current=!1,D.current&&(D.current.style.cursor=Nl?"crosshair":"grab")),Re.touchBgStartRef.current&&he.pointerType==="touch"){const Be=he.clientX-Re.touchBgStartRef.current.x,qe=he.clientY-Re.touchBgStartRef.current.y;Math.hypot(Be,qe)<pn&&i({kind:"project"}),Re.setTouchBgStart(null);return}if(Re.setTouchBgStart(null),Re.mouseBgStartRef.current&&he.pointerType==="mouse"){const Be=he.clientX-Re.mouseBgStartRef.current.x,qe=he.clientY-Re.mouseBgStartRef.current.y;if(Re.setMouseBgStart(null),Math.hypot(Be,qe)<Bt){i({kind:"project"});return}}if(Re.setMouseBgStart(null),x){const Be=r.flowers.find(qe=>qe.id===x);if(Be){const qe=me(he);if(Qe.current&&Math.hypot(qe.x-Qe.current.x,qe.y-Qe.current.y)<Dl){const{zone:Xe}=si(qe.x,qe.y,Be,r,a);Xe==="center"&&(gt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:_e,petalIndex:Ae}=si(qe.x,qe.y,Be,r,a),{length:De}=It(Be.fabricSquareSize??r.fabricSquareSize),we=N0(Se,a.kind,{hitLayerId:_e,flower:Be,length:De});we!=="none"&&(Zt.current=we,Xn.current=_e,Jn.current=Ae);const Pe=Kd(we,"/tsumami/");gt(Pe),D.current&&(D.current.style.cursor=Pe)}}}},onPointerLeave:()=>{I(),E(),_(),C(),K(),q(),B(),Wn.current=!1,Re.setTouchBgStart(null),Re.setMouseBgStart(null),gt("grab"),Qe.current=null,yn.current=!0,Zt.current="none",kn.current="none",Xn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[he,Be,qe,Se]=b.split(/\s+/).map(Number),_e=Ca;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:he,y:Be,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:_e,height:_e,fill:"black"})]})}),s.jsx("rect",{x:he,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:Ca,height:Ca,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:Ca,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:Ca,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const he=rn,[Be,qe,Se,_e]=b.split(/\s+/).map(Number),Ae=Math.max(Se,_e)/he,we=[10,20,50,100,200,500,1e3].find(lt=>Ae/lt<=15)??1e3,Pe=Math.floor(Be/he/we)*we-we,Fe=Math.ceil((Be+Se)/he/we)*we+we,Xe=Math.floor(qe/he/we)*we-we,Je=Math.ceil((qe+_e)/he/we)*we+we,Te=Xe*he,qt=Je*he,$e=Pe*he,Nt=Fe*he,ct=[];for(let lt=Pe;lt<=Fe;lt+=we){const vt=lt*he;ct.push(s.jsx("line",{x1:vt,y1:Te,x2:vt,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Xe;lt<=Je;lt+=we){const vt=lt*he;ct.push(s.jsx("line",{x1:$e,y1:vt,x2:Nt,y2:vt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return s.jsx("g",{children:ct})})(),s.jsx(Rm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ke,clientToSvgPointRef:tt,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),s.jsx(Om,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:x,zoneCursorValue:ht,dashSyncToken:L,stageRef:D,multiTouchRef:Re.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:fe,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:ee,beginRotationDrag:ae,beginWidthScaleDrag:ce,beginRadiusDrag:xe,clickOriginRef:Qe,zoneActivatedRef:yn,setZoneCursorValue:gt,setTouchZoneIndicator:Gn,hoverZoneRef:Zt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),s.jsx(Ym,{leaves:c.leaves,project:r,selection:a,paletteMap:f,dashSyncToken:L,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:ht,stageRef:D,applyUpdateRef:Ke,clientToSvgPointRef:tt,leafDraggingRef:Me,clickOriginRef:Qe,zoneActivatedRef:yn,setZoneCursorValue:gt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:kn}),s.jsx(Um,{project:r,selection:a,selectedFlowerId:x,dashSyncToken:L}),s.jsx(Hm,{rect:V}),s.jsx(Zm,{indicator:di})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Vd(c,r,a){return Math.min(a,Math.max(r,c))}function Ue({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:x,...v}){const[S,d]=$.useState(null),m=$.useRef(null),w=$.useCallback(j=>{const D=Number(j);isNaN(D)||r(Vd(D,a,i)),d(null)},[r,a,i]),p=$.useCallback(()=>{d(null)},[]),y=$.useCallback(j=>{const D=f??1,h=(Number(S??c)||0)+D*j,L=Vd(h,a,i),R=String(D).includes(".")?String(D).split(".")[1].length:0,O=Number(L.toFixed(R));d(String(O)),r(O)},[S,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:m,type:"text",inputMode:"decimal",className:x??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:S??String(c),onChange:j=>d(j.target.value),onFocus:j=>{d(String(c)),requestAnimationFrame(()=>j.target.select())},onBlur:()=>{S!==null&&w(S)},onKeyDown:j=>{j.key==="Enter"?(j.preventDefault(),S!==null&&w(S),m.current?.blur()):j.key==="Escape"?(j.preventDefault(),p(),m.current?.blur()):(j.key==="ArrowUp"||j.key==="ArrowDown")&&(j.preventDefault(),y(j.key==="ArrowUp"?1:-1))},...v}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:j=>{j.preventDefault(),y(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:j=>{j.preventDefault(),y(-1)},children:""})]})]})}function hr({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Xm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const x=$.useMemo(()=>{const h=[...c.layers||[]].sort((V,W)=>V.order-W.order);if(h.length<2)return{mode:"uniform",step:2};const L=h.map(V=>V.scale??1);if(L.every(V=>Math.abs(V-L[0])<.001))return{mode:"uniform",step:2};const O=h[0],B=h[h.length-1],Y=(B.order??1)-(O.order??1);if(Y<=0)return{mode:"gradual",step:2};const I=((O.scale??1)-(B.scale??1))/Y,Z=Math.round(I*r*2)/2;return{mode:"gradual",step:ye(Z,0,10)}},[c.id]),[v,S]=$.useState(x.mode),[d,m]=$.useState(x.step),[w,p]=$.useState(0);$.useEffect(()=>{S(x.mode),m(x.step),p(0)},[x]);const y=$.useMemo(()=>[...c.layers||[]].sort((h,L)=>h.order-L.order),[c.layers]),j=y[0],D=j?j.order:0,b=$.useMemo(()=>{if(!j)return[];const h=j.scale??1,L=j.radius,R=new Map;for(const V of y){const W=V.order-D;if(W===0)R.set(V.id,h);else if(v==="uniform")R.set(V.id,h);else{const P=d/r;R.set(V.id,ye(h-W*P,.3,3))}}const{length:O}=It(r),B=y.length,Y=70*Math.PI/180,X=new Map;let I=L;X.set(j.id,L);for(let V=1;V<B;V++){const W=y[V-1],P=R.get(W.id)??1,q=O*P;let H;if(a===""){const U=B-1-V,_=B>1?U/(B-1)*Y:0;H=q*(30/100)*Math.cos(_)}else H=q/3;I=I-H,X.set(y[V].id,Math.max(2,I))}const Z=y.map(V=>{const W=R.get(V.id)??1,P=Math.round((X.get(V.id)??L)*10)/10,q=Math.round(r*W*10)/10;return{id:V.id,name:V.name,order:V.order,effScale:W,effFabricSize:q,effRadius:P}});if(Z.length>0){const V=Z[Z.length-1],W=O*V.effScale,P=Math.floor(W*.28*10)/10;V.effRadius>P&&(V.effRadius=P)}return Z},[y,j,D,v,d,30,r,a]);return $.useEffect(()=>{w!==0&&(!j||b.length===0||i(h=>{const L=h.flowers.find(O=>O.id===c.id);if(!L)return;for(const O of b){const B=L.layers.find(Y=>Y.id===O.id);B&&(B.scale=ye(O.effScale,.3,3),B.radius=ye(O.effRadius,2,120))}const R=[...L.layers].sort((O,B)=>B.order-O.order);for(let O=1;O<R.length;O++){const B=R[O-1],Y=R[O];Y.offsetAngle=tl(B.petalCount,B.offsetAngle,Y.petalCount)}}))},[w]),y.length<2?null:s.jsxs(hr,{title:"",children:[s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:v,onChange:h=>{S(h.target.value),p(L=>L+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),v==="gradual"&&s.jsxs(Ms,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:h=>{m(h),p(L=>L+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),b.map(h=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:h.name}),s.jsxs("span",{children:[" ",h.effFabricSize,"mm /  ",Math.round(cr(h.effRadius,h.effScale,r)),"mm"]})]},h.id))]})]})}const c1="tsumami_recent_colors_v1",Hs=10;function Jm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ts(){try{const c=localStorage.getItem(c1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Hs)}}catch{}return[]}function Wm(c){try{localStorage.setItem(c1,JSON.stringify(c.slice(0,Hs)))}catch{}}function Vm(c){const r=Ts(),a=[c,...r.filter(i=>i!==c)].slice(0,Hs);Wm(a)}function Kn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[x,v]=$.useState(!1),S=$.useRef(null),[d,m]=$.useState(Ts);$.useEffect(()=>{if(!x)return;const b=h=>{S.current&&!S.current.contains(h.target)&&v(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[x]);const w=$.useMemo(()=>Jm(r),[r]),p=$.useMemo(()=>{const b=new Set;b.add(a);for(const h of w)b.add(h);for(const h of d)b.add(h);return c.filter(h=>b.has(h.id))},[c,a,w,d]),y=$.useCallback(b=>{Vm(b),m(Ts()),i(b)},[i]),j=f==="sm"?"h-4 w-4":"h-5 w-5",D=x?c:p;return s.jsx("div",{ref:S,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(b=>s.jsx("button",{className:`${j} rounded border-2 ${a===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>y(b.id)},b.id)),c.length>p.length&&s.jsx("button",{className:`${j} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>v(b=>!b),title:x?"":"","aria-label":x?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:x?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Qm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x&&(x.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(i=>{const f=a.layers.every(x=>x.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const v=x.flowers.find(S=>S.id===a.id);if(v)for(const S of v.layers)S.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:t1.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;v.placementMode=i;const S=v.fabricSquareSize??x.fabricSquareSize;i===""?v.baseDiameter=rr(v.flowerDiameter):v.baseDiameter||(v.baseDiameter=x.baseDiameter),Yh(v.layers,S,i,v.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ue,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x&&(x.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[rr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const x=f.flowers.find(d=>d.id===a.id);if(!x)return;const v=fi(i);for(const d of x.layers)d.petalCount=i,d.widthScale=v;const S=[...x.layers].sort((d,m)=>m.order-d.order);for(let d=1;d<S.length;d++)S[d].offsetAngle=tl(S[d-1].petalCount,S[d-1].offsetAngle,S[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const x=f.flowers.find(S=>S.id===a.id);if(!x)return;x.flowerDiameter=i,x.placementMode===""&&(x.baseDiameter=rr(i));const v=[...x.layers].sort((S,d)=>S.order-d.order);P0(v,x.fabricSquareSize??f.fabricSquareSize,i);for(const S of v){const d=x.layers.find(m=>m.id===S.id);d&&(d.radius=S.radius,d.scale=S.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);if(x)for(const v of x.layers)v.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x&&(x.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);if(x)for(const v of x.layers)v.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);if(x)for(const v of x.layers)if(i.target.checked){if(!v.doublePetal){const S=v._doublePetalCache;v.doublePetal=S??{innerSizeReduction:2},delete v._doublePetalCache}}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(S=>S.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,x=[...new Set(a.layers.map(S=>S.doublePetal.innerColorId??S.colorId))],v=x.length===1?x[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:S=>r(d=>{const m=d.flowers.find(w=>w.id===a.id);if(m)for(const w of m.layers)w.doublePetal&&(w.doublePetal.innerSizeReduction=ye(S,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:v??"",onChange:S=>r(d=>{const m=d.flowers.find(w=>w.id===a.id);if(m)for(const w of m.layers)w.doublePetal&&(S===w.colorId?delete w.doublePetal.innerColorId:w.doublePetal.innerColorId=S)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Jh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x?.center&&(x.center.type=i,i===""&&!x.center.pepCount&&(x.center.pepCount=12),i===""&&!x.center.color2&&(x.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x?.center&&(x.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x?.center&&(x.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x?.center&&(x.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const x=f.flowers.find(v=>v.id===a.id);x?.center&&(x.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(x=>x.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Xm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Pm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:x,onMergeGroups:v}){const S=a,d=[...new Set(S.flatMap(p=>p.layers.map(y=>y.petalType)))],m=d.length===1?d[0]:null,w=p=>{r(y=>{for(const j of S){const D=y.flowers.find(b=>b.id===j.id);D&&p(D)}},!0)};return s.jsxs(hr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(p=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>w(y=>{for(const j of y.layers)j.colorId=p.id})},p.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${m===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>w(y=>{for(const j of y.layers)j.petalType=p}),children:p},p))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:S[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const y=fi(p);w(j=>{for(const b of j.layers)b.petalCount=p,b.widthScale=y;const D=[...j.layers].sort((b,h)=>h.order-b.order);for(let b=1;b<D.length;b++)D[b].offsetAngle=tl(D[b-1].petalCount,D[b-1].offsetAngle,D[b].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:S.map(p=>s.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=S.map(h=>nl(c,h.id)),y=S.filter(h=>!nl(c,h.id)).map(h=>h.id),j=[...new Set(p.filter(Boolean).map(h=>h.id))],D=y.length===S.length,b=j.length===1&&p.every(h=>h!=null);return s.jsxs(s.Fragment,{children:[D&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(S.map(h=>h.id)),children:""}),b&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(j[0]),children:""}),j.length===1&&y.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(j[0],y),children:[" (+",y.length,")"]}),j.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(j,y),children:[" (",j.length,"",y.length>0?` +${y.length}`:"",")"]})]})})()]})}function Fm({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:x,onUngroupAll:v}){const S=i.find(j=>j.id===f);if(!S)return null;const d=a,m=(c.leaves??[]).filter(j=>S.leafIds.includes(j.id)),w=[...new Set(d.flatMap(j=>j.layers.map(D=>D.petalType)))],p=w.length===1?w[0]:null,y=j=>{r(D=>{for(const b of d){const h=D.flowers.find(L=>L.id===b.id);h&&j(h)}},!0)};return s.jsxs(hr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:j=>r(D=>{const b=(D.groups??[]).find(h=>h.id===S.id);b&&(b.name=j.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&s.jsxs("span",{children:[d.length,""]}),d.length>0&&m.length>0&&s.jsx("span",{children:" + "}),m.length>0&&s.jsxs("span",{children:[m.length,""]})]}),d.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(j=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:j.hex},title:j.name,onClick:()=>y(D=>{for(const b of D.layers)b.colorId=j.id})},j.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(j=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===j?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const b of D.layers)b.petalType=j}),children:j},j))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:j=>{const D=fi(j);y(b=>{for(const L of b.layers)L.petalCount=j,L.widthScale=D;const h=[...b.layers].sort((L,R)=>R.order-L.order);for(let L=1;L<h.length;L++)h[L].offsetAngle=tl(h[L-1].petalCount,h[L-1].offsetAngle,h[L].petalCount)})}})]}),s.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(j=>s.jsxs("div",{children:[j.name," (",j.layers.length,")"]},j.id)),m.map(j=>s.jsx("div",{children:j.name},j.id))]}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(S.id),children:""}),s.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>v(S.id),children:""})]})}function $m({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:f,onAddToGroup:x,onAddLeavesToGroup:v,onMergeGroups:S}){const d=c.flowers.filter(R=>r.includes(R.id)),m=(c.leaves??[]).filter(R=>a.includes(R.id)),w=r.map(R=>nl(c,R)),p=a.map(R=>zl(c,R)),y=[...w,...p],j=r.filter(R=>!nl(c,R)),D=a.filter(R=>!zl(c,R)),b=[...new Set(y.filter(Boolean).map(R=>R.id))],h=j.length+D.length===r.length+a.length,L=b.length===1&&y.every(R=>R!=null);return s.jsxs(hr,{title:"",children:[s.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",m.length,""]}),s.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(R=>s.jsxs("div",{children:[" ",R.name]},R.id)),m.map(R=>s.jsxs("div",{children:[" ",R.name||""]},R.id))]}),s.jsxs(s.Fragment,{children:[h&&d.length+m.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),L&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&(j.length>0||D.length>0)&&!h&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{j.length>0&&x(b[0],j),D.length>0&&v(b[0],D)},children:[" (+",j.length+D.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>S(b,j),children:[" (",b.length,")"]})]})]})}function eb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:i.petalCount,onChange:f=>{r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);if(S){S.petalCount=f,S.widthScale=fi(f);const d=[...v.layers].sort((m,w)=>w.order-m.order);for(let m=1;m<d.length;m++)d[m].offsetAngle=tl(d[m-1].petalCount,d[m-1].offsetAngle,d[m].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(cr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.radius=ye(Oh(f,S.scale??1,v.fabricSquareSize??x.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(x=>{const v=x.flowers.find(p=>p.id===a.id);if(!v)return;const S=v.layers.find(p=>p.id===i.id);if(!S)return;const d=v.fabricSquareSize??x.fabricSquareSize;S.scale=ye(Math.round(f/d*100)/100,.3,3);const m=[...v.layers].sort((p,y)=>p.order-y.order),w=m.findIndex(p=>p.id===S.id);if(w>=0)for(let p=w-1;p>=0;p--){const y=m[p],j=m[p+1],b=It(d).length*(j.scale??1)/3;y.radius=Math.round((j.radius+b)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);if(S)if(f.target.checked){const d=S._doublePetalCache;S.doublePetal=d??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S?.doublePetal&&(S.doublePetal.innerSizeReduction=ye(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S?.doublePetal&&(f===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(x=>{const v=x.flowers.find(d=>d.id===a.id);if(!v)return;const S=v.layers.find(d=>d.id===i.id);S&&(S.locked=f.target.checked)})}),""]})]})]})]})}function tb({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,x=f.map(h=>{const L=a.layers.find(R=>R.id===h.layerId);return{...h,layer:L}}).filter(h=>h.layer!=null),v=(h,L)=>{const R=a.layers.find(B=>B.id===h);return R?(R?.petalOverrides?.find(B=>B.index===L)??null)?.colorId??R.colorId:null},S=(h,L)=>{const R=a.layers.find(B=>B.id===h);return R?(R?.petalOverrides?.find(B=>B.index===L)??null)?.petalType??R.petalType:null},d=x.map(h=>v(h.layerId,h.index)),m=x.map(h=>S(h.layerId,h.index)),w=d.length>0&&d.every(h=>h===d[0]),y=m.length>0&&m.every(h=>h===m[0])?m[0]:null,j=h=>{r(L=>{const R=L.flowers.find(O=>O.id===a.id);if(R)for(const O of f){const B=R.layers.find(X=>X.id===O.layerId);if(!B)continue;B.petalOverrides||(B.petalOverrides=[]);const Y=B.petalOverrides.find(X=>X.index===O.index);if(Y)h.colorId!==void 0&&(h.colorId===B.colorId?delete Y.colorId:Y.colorId=h.colorId),h.petalType!==void 0&&(h.petalType===B.petalType?delete Y.petalType:Y.petalType=h.petalType),!Y.colorId&&!Y.petalType&&(B.petalOverrides=B.petalOverrides.filter(X=>X.index!==O.index),B.petalOverrides.length===0&&(B.petalOverrides=void 0));else{const X={index:O.index};h.colorId!==void 0&&h.colorId!==B.colorId&&(X.colorId=h.colorId),h.petalType!==void 0&&h.petalType!==B.petalType&&(X.petalType=h.petalType),(X.colorId!==void 0||X.petalType!==void 0)&&B.petalOverrides.push(X)}}},!0)},D=()=>{r(h=>{const L=h.flowers.find(R=>R.id===a.id);if(L)for(const R of f){const O=L.layers.find(B=>B.id===R.layerId);!O||!O.petalOverrides||(O.petalOverrides=O.petalOverrides.filter(B=>B.index!==R.index),O.petalOverrides.length===0&&(O.petalOverrides=void 0))}},!0)},b=x.some(h=>h.layer?.petalOverrides?.find(L=>L.index===h.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",b&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${w&&d[0]===h.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>j({colorId:h.id})},h.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(h=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>j({petalType:h}),children:h},h))})]}),b&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function nb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const x=i?.petalOverrides?.find(p=>p.index===f)??null,v=x?.colorId??i.colorId,S=x?.petalType??i.petalType,d=x!=null,m=p=>{r(y=>{const j=y.flowers.find(h=>h.id===a.id);if(!j)return;const D=j.layers.find(h=>h.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const b=D.petalOverrides.find(h=>h.index===f);if(b)p.colorId!==void 0&&(b.colorId=p.colorId),p.petalType!==void 0&&(b.petalType=p.petalType),p.innerColorId!==void 0&&(b.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(b.innerSizeReduction=p.innerSizeReduction),b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0?(b.colorId===void 0&&delete b.colorId,b.petalType===void 0&&delete b.petalType,b.innerColorId===void 0&&delete b.innerColorId,b.innerSizeReduction===void 0&&delete b.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(L=>L.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const h={index:f};p.colorId!==void 0&&(h.colorId=p.colorId),p.petalType!==void 0&&(h.petalType=p.petalType),p.innerColorId!==void 0&&(h.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(h.innerSizeReduction=p.innerSizeReduction),(h.colorId!==void 0||h.petalType!==void 0||h.innerColorId!==void 0||h.innerSizeReduction!==void 0)&&D.petalOverrides.push(h)}},!0)},w=()=>{r(p=>{const y=p.flowers.find(D=>D.id===a.id);if(!y)return;const j=y.layers.find(D=>D.id===i.id);!j||!j.petalOverrides||(j.petalOverrides=j.petalOverrides.filter(D=>D.index!==f),j.petalOverrides.length===0&&(j.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:v,onChange:p=>{p===i.colorId?m({colorId:void 0}):m({colorId:p})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===i.petalType?m({petalType:void 0}):m({petalType:p})},children:p},p))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:p=>r(y=>{const j=y.flowers.find(b=>b.id===a.id);if(!j)return;const D=j.layers.find(b=>b.id===i.id);if(D)if(p.target.checked){const b=D._doublePetalCache;D.doublePetal=b??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const p=i.doublePetal,y=x?.innerSizeReduction??p.innerSizeReduction,j=x?.innerColorId??p.innerColorId??v;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",x?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ue,{min:1,max:30,step:1,value:y,onChange:D=>{const b=ye(D,1,30);b===p.innerSizeReduction?m({innerSizeReduction:void 0}):m({innerSizeReduction:b})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:j,size:"sm",onChange:D=>{const b=p.innerColorId??i.colorId;m(D===b?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:w,children:""})]})]})}function lb({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,x=v=>{r(S=>{const d=(S.stencils??[]).find(m=>m.id===f.id);d&&Object.assign(d,v)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:v=>x({variant:v.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(v=>s.jsx("option",{value:v,children:i1[v]},v))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:v=>x({pose:v.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(v=>s.jsx("option",{value:v,children:r1[v]},v))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:v=>x({locked:v.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function ab({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:f,onAddLeafToGroup:x,onRemoveLeafFromGroup:v}){const S=a,d=w=>{r(p=>{const y=(p.leaves??[]).find(j=>j.id===S.id);y&&w(y)},!0)},m=zl(c,S.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:S.name,onChange:w=>d(p=>{p.name=w.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S.petalType===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(p=>{p.petalType=w}),children:w},w))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:S.colorId,onChange:w=>d(p=>{p.colorId=w})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((S.fabricSquareSize??c.fabricSquareSize)*(S.scale??1)*10)/10,onChange:w=>d(p=>{const y=p.fabricSquareSize??c.fabricSquareSize;p.scale=ye(Math.round(w/y*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(S.scale??1).toFixed(2),onChange:w=>d(p=>{p.scale=w})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(S.widthScale??1).toFixed(2),onChange:w=>d(p=>{p.widthScale=w})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(S.rotation).toFixed(1),onChange:w=>d(p=>{p.rotation=w})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.doublePetal,onChange:w=>d(p=>{if(w.target.checked){const y=p._doublePetalCache;p.doublePetal=y??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),S.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:S.doublePetal.innerSizeReduction,onChange:w=>d(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=ye(w,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:S.doublePetal.innerColorId??S.colorId,onChange:w=>d(p=>{p.doublePetal&&(w===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=w)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.visible,onChange:w=>d(p=>{p.visible=w.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!S.locked,onChange:w=>d(p=>{p.locked=w.target.checked})}),""]})]}),m?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",m.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>v(S.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:w=>{w.target.value&&x(S.id,w.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(w=>s.jsx("option",{value:w.id,children:w.name},w.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(S.id),children:""})]})]})}function ib({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:f,onAddLeavesToGroup:x,onMergeLeafGroups:v}){const S=(c.leaves??[]).filter(d=>a.includes(d.id));return S.length===0?null:s.jsxs(hr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[S.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Kn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>r(m=>{for(const w of a){const p=(m.leaves??[]).find(y=>y.id===w);p&&(p.colorId=d)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:il.map(d=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const w of a){const p=(m.leaves??[]).find(y=>y.id===w);p&&(p.petalType=d)}},!0),children:d},d))}),(()=>{const d=S.map(j=>zl(c,j.id)),m=S.filter(j=>!zl(c,j.id)).map(j=>j.id),w=[...new Set(d.filter(Boolean).map(j=>j.id))],p=m.length===S.length,y=w.length===1&&d.every(j=>j!=null);return s.jsxs(s.Fragment,{children:[p&&S.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),y&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(w[0]),children:""}),w.length===1&&m.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>x(w[0],m),children:[" (+",m.length,")"]}),w.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>v(w,m),children:[" (",w.length,"",m.length>0?` +${m.length}`:"",")"]})]})})()]})}function rb(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:x,selectedLayer:v,selectedPetalIndex:S,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto md:flex-1 md:min-h-0 overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:m=>i(w=>w.title=m.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.fabricSquareSize,min:5,max:60,onChange:m=>i(w=>w.fabricSquareSize=m),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.baseDiameter,min:10,max:100,onChange:m=>i(w=>w.baseDiameter=m),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",aa(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",aa(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:m=>i(w=>w.notes=m.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(m=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:m.hex},title:m.name},m.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Qm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&x.length>0&&s.jsx(Pm,{project:r,applyUpdate:i,selectedFlowers:x,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&s.jsx(Fm,{project:r,applyUpdate:i,selectedFlowers:x,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&f&&v&&s.jsx(eb,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v}),a.kind==="petals"&&f&&d.length>0&&s.jsx(tb,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&v&&S!==null&&s.jsx(nb,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:v,selectedPetalIndex:S}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(lb,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(ab,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(ib,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&s.jsx($m,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function cb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?aa(c.baseDiameter,c.fabricSquareSize,r).diameter:sr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function ub(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?qh(c.flowerDiameter,c.baseDiameter,r):Bh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function sb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const x=d=>{a(m=>{const w={...m,...d};return d.placementMode&&d.placementMode!==m.placementMode&&(d.placementMode===""?(w.baseDiameter=30,w.fabricSquareSize=20,w.layerCount=4,w.petalCount=12):(w.fabricSquareSize=20,w.layerCount=1,w.petalCount=6)),w.flowerDiameter=cb(w),w})},v=d=>{a(m=>{const w={...m,flowerDiameter:d};return w.fabricSquareSize=ub(w),w})},S=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&S.push("");const d=kh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&S.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:t1.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>x({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>x({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>x({layerCount:d})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>x({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(m=>({...m,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:v})]})]}),S.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:S.map((d,m)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},m))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(m=>({...m,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(m=>({...m,petalType:d})),children:d},d))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>x({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>x({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function ob(c){return Math.round(c*Math.SQRT2/2*10)/10}function xb(c){return Math.round(c*Math.SQRT2*10)/10}function fb({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:f}){const x=S=>{a(d=>({...d,fabricSquareSize:S,leafSizeMm:ob(S)}))},v=S=>{a(d=>({...d,leafSizeMm:S,fabricSquareSize:xb(S)}))};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:S=>S.stopPropagation(),"data-testid":"dialog-add-leaf",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:x})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:v})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===S.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>a(d=>({...d,colorId:S.id}))},S.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:il.map(S=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:S})),children:S},S))})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-leaf",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const F0=In;(function(c,r){const a=In,i=c();for(;;)try{if(-parseInt(a(294))/1+parseInt(a(329))/2*(-parseInt(a(292))/3)+-parseInt(a(327))/4*(parseInt(a(324))/5)+parseInt(a(293))/6+-parseInt(a(328))/7+parseInt(a(318))/8+parseInt(a(298))/9*(parseInt(a(309))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,752149);function K0(){const c=["yM9KEq","BhPHwKq","tLHUv0G","mJi4ndmXn2rhrgr4CW","BM9Uzq","CKHbBKC","CuvMsLe","C2v0sxrLBq","C2vHCMnO","qxv0reG","Cg9PBNrLCNvW","z2v0qM91BMrPBMDdBgLLBNrszwn0","ChjLDMvUDerLzMf1Bhq","y3vYC29Y","mtuWBe93tuHx","ChHeDeK","y29SlxjLC2L6zq","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","CMLNAhq","Dw5KzwzPBMvK","u2DXveS","CuDTz0q","C3r5Bgu","ndqWntzkvgr4u0u","CMvTB3zLrxzLBNrmAxn0zw5LCG","BgvMDa","z2v0sxrLBq","DxnLCLnLBgvJDa","y2HHBMDL","odb3EfHJBK4","Dg9tDhjPBMC","rg9JDey","mJG2mdeYCgfIqNbq","mZi5otuYmgTkq0fiEG","ogrPq0TLva","Bwf4","kcGOlISPkYKRksSK","BwLU","Du16DhK","y3vYCMvUDa","zwXzq00","y2XPzw50wa","u3fhq20","ywrKrxzLBNrmAxn0zw5LCG","BgLqvMe","mhWYFdn8nxW0Fde","C3rHCNrxAwr0Ahm","sLbHAMK","BNvTyMvY","AMLkrge","Cg9PBNrLCM1VDMu","rKTerMW","C3rYAw5NAwz5","ntaWnZyWtuXYqMPi","nda3nZa0mMTyBNzqyq","mtq1nJK3mMTRrg9yvq"];return K0=function(){return c},K0()}const db=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ls=db(void 0,function(){const c=In;return Ls[c(325)]()[c(303)]("(((.+)+)+)+$").toString().constructor(Ls)[c(303)](c(331))});Ls();const u1=F0(312),s1={left:25,right:25},Es=15,Is=15,fr=30;function In(c,r){c=c-276;const a=K0();let i=a[c];if(In.LfJcOd===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};In.syuhuJ=f,In.xawzVI={},In.LfJcOd=!0}const x=a[0],v=c+x,S=In.xawzVI[v];if(S)i=S;else{const d=function(m){this.EYUPSP=m,this.NkxwKU=[1,0,0],this.nbvaLF=function(){return"newState"},this.ToQhra="\\w+ *\\(\\) *{\\w+ *",this.zOvkiG=`['|"].+['|"];? *}`};d.prototype.McNdqV=function(){const m=new RegExp(this.ToQhra+this.zOvkiG),w=m.test(this.nbvaLF.toString())?--this.NkxwKU[1]:--this.NkxwKU[0];return this.POoMXo(w)},d.prototype.POoMXo=function(m){return~m?this.cXRABS(this.EYUPSP):m},d.prototype.cXRABS=function(m){for(let w=0,p=this.NkxwKU.length;w<p;w++)this.NkxwKU.push(Math.round(Math.random())),p=this.NkxwKU.length;return m(this.NkxwKU[0])},new d(In).McNdqV(),i=In.syuhuJ(i),In.xawzVI[v]=i}return i}function hb(){const c=F0,r={DoctF:function(a,i){return a===i},qGmgD:c(287),KjgLk:function(a,i){return a>=i}};try{const a=localStorage[c(321)](u1);if(a){const i=JSON.parse(a);if(r[c(326)](typeof i[c(320)],r.qGmgD)&&typeof i.right===r[c(316)]&&i.left>=Es&&r.KjgLk(i.right,Is)&&100-i[c(320)]-i[c(313)]>=fr)return i}}catch{}return s1}function Qd(c,r){const a=F0,i={qEfJQ:function(S,d){return S-d},Dnjop:function(S,d){return S-d},ylaje:function(S,d){return S-d},OLioX:function(S,d){return S/d},AutDH:function(S,d){return S*d},eqWUl:function(S,d){return S/d}};let f=Math[a(330)](Es,c),x=Math.max(Is,r);const v=i[a(301)](i.Dnjop(100,f),x);if(v<fr){const S=i.ylaje(fr,v);f-=i.OLioX(S,2),x-=i.OLioX(S,2),f=Math.max(Es,f),x=Math.max(Is,x)}return{left:Math.round(i[a(304)](f,100))/100,right:i.eqWUl(Math.round(i.AutDH(x,100)),100)}}function mb(){const c=F0,r={HWvRr:"(min-width: 768px)",jiJDa:c(289),JPaji:"pointerup",pCsTl:c(284),lzaZD:function(D,b){return D(b)},EIxDV:c(311),SgqTK:c(299),pxDtI:function(D,b){return D(b)},rHAnG:function(D,b,h){return D(b,h)},drPtT:function(D,b,h){return D(b,h)},elYCM:function(D,b,h){return D(b,h)}},[a,i]=r.lzaZD($.useState,hb),f=r.lzaZD($.useRef,null),x=$.useRef(null),[v,S]=r.lzaZD($.useState,!1),[d,m]=r[c(310)]($.useState,()=>typeof window!==c(314)?window.matchMedia("(min-width: 768px)").matches:!0);r[c(300)]($.useEffect,()=>{const D=c,b=window.matchMedia(r.HWvRr),h=L=>m(L.matches);return b.addEventListener(D(323),h),()=>b[D(319)](D(323),h)},[]),r.rHAnG($.useEffect,()=>{const D=c;localStorage[D(302)](u1,JSON[D(291)](a))},[a]);const w=r[c(296)]($.useRef,a);r.drPtT($.useEffect,()=>{w.current=a},[a]);const p=r[c(279)]($.useCallback,(D,b)=>{const h=c,L={SbCXW:function(Y,X){return Y===X},SqGCm:function(Y,X){return Y-X},VgmRV:function(Y,X){return Y*X},FKDFl:function(Y,X){return Y/X},NXnWH:function(Y,X){return Y-X},qtPcK:function(Y,X,I){return Y(X,I)},liPVa:r.pCsTl,FIGLW:h(305),uMzty:"pointermove"};b[h(307)]();const R=f.current;if(!R)return;x[h(278)]={side:D,startX:b.clientX,startWidths:{...w.current}},r[h(296)](S,!0),document.body[h(317)][h(308)]=r.EIxDV,document.body[h(317)][h(322)]=r[h(315)];const O=Y=>{const X=h,I=x[X(278)];if(!I)return;const Z=R[X(306)]().width;if(L.SbCXW(Z,0))return;const V=L[X(281)](Y[X(280)],I.startX),W=L.VgmRV(L[X(290)](V,Z),100);if(I.side===X(320)){const P=I[X(285)][X(320)]+W,q=100-I[X(285)][X(313)]-fr;i(Qd(Math[X(276)](P,q),I.startWidths[X(313)]))}else{const P=I[X(285)].right-W,q=L[X(281)](L[X(297)](100,I.startWidths.left),fr);i(L.qtPcK(Qd,I.startWidths[X(320)],Math.min(P,q)))}},B=()=>{const Y=h,X=L[Y(283)].split("|");let I=0;for(;;){switch(X[I++]){case"0":x[Y(278)]=null;continue;case"1":window.removeEventListener(L.FIGLW,B);continue;case"2":S(!1);continue;case"3":document[Y(295)].style[Y(308)]="";continue;case"4":window.removeEventListener(L[Y(277)],O);continue;case"5":document.body.style[Y(322)]="";continue}break}};window.addEventListener("pointermove",O),window[h(282)](r[h(286)],B),y.current=()=>{const Y=h,X="2|5|4|0|3|1".split("|");let I=0;for(;;){switch(X[I++]){case"0":S(!1);continue;case"1":document.body.style[Y(322)]="";continue;case"2":window[Y(319)](r[Y(288)],O);continue;case"3":document.body.style[Y(308)]="";continue;case"4":x.current=null;continue;case"5":window[Y(319)](r[Y(286)],B);continue}break}}},[]),y=$.useRef(null);r[c(279)]($.useEffect,()=>()=>{y[In(278)]?.()},[]);const j=$.useCallback(()=>{r[c(296)](i,s1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:p,onDividerDoubleClick:j,isDragging:v,isDesktop:d}}function Pd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=bt,i=c();for(;;)try{if(-parseInt(a(511))/1*(-parseInt(a(549))/2)+parseInt(a(504))/3*(parseInt(a(545))/4)+parseInt(a(436))/5+-parseInt(a(417))/6*(parseInt(a(447))/7)+parseInt(a(531))/8+-parseInt(a(600))/9*(parseInt(a(540))/10)+-parseInt(a(534))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,830368);const bb=(function(){const c=bt,r={gIeOG:function(i,f){return i!==f},wVZBy:c(492),CyuRR:function(i,f){return i(f)},cgUZg:c(449)};let a=!0;return function(i,f){const x={wSFBr:function(S,d){return S>d},pSYtt:function(S,d){return S(d)},JdYFy:"mixed",XrxSy:function(S,d){return r.CyuRR(S,d)},oNpuF:r.cgUZg},v=a?function(){const S=bt;if(r.gIeOG(r.wVZBy,"SfioI")){const d=(_0x858123[S(550)]??[]).find(j=>j.id===_0x2e479c.groupId),m=d?d[S(505)]:[],w=d?d[S(493)]:[];if(m[S(472)](_0x46bdc2))return;const p=[...new _0x40d7bd([...m,..._0x35eef0])],y=[...new _0x225a7a([...w,..._0x46c7a3])];x[S(429)](y.length,0)?x[S(435)](_0x29e477,{kind:x[S(602)],flowerIds:p,leafIds:y}):x.XrxSy(_0x3945f8,{kind:x.oNpuF,flowerIds:p})}else if(f){const d=f[S(615)](i,arguments);return f=null,d}}:function(){};return a=!1,v}})(),Bs=bb(void 0,function(){const c=bt,r={hVQpa:"(((.+)+)+)+$"};return Bs[c(509)]().search(r[c(479)]).toString()[c(503)](Bs).search(r[c(479)])});Bs();function bt(c,r){c=c-417;const a=X0();let i=a[c];if(bt.QDKvuI===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};bt.hNOjRo=f,bt.tzQzgW={},bt.QDKvuI=!0}const x=a[0],v=c+x,S=bt.tzQzgW[v];if(S)i=S;else{const d=function(m){this.OEDsJG=m,this.uyYdHc=[1,0,0],this.fiFGXd=function(){return"newState"},this.rFlCqw="\\w+ *\\(\\) *{\\w+ *",this.vmCtuo=`['|"].+['|"];? *}`};d.prototype.ipHwqD=function(){const m=new RegExp(this.rFlCqw+this.vmCtuo),w=m.test(this.fiFGXd.toString())?--this.uyYdHc[1]:--this.uyYdHc[0];return this.ZfSJag(w)},d.prototype.ZfSJag=function(m){return~m?this.qMcPZf(this.OEDsJG):m},d.prototype.qMcPZf=function(m){for(let w=0,p=this.uyYdHc.length;w<p;w++)this.uyYdHc.push(Math.round(Math.random())),p=this.uyYdHc.length;return m(this.uyYdHc[0])},new d(bt).ipHwqD(),i=bt.hNOjRo(i),bt.tzQzgW[v]=i}return i}function gb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:x,zoom:v,pan:S,stageSize:d,CANVAS_MAX_SVG:m,deleteLeafById:w}){const p=bt,y={kuJsM:function(_,g){return _*g},JMcIC:function(_,g){return _/g},HAizG:function(_,g){return _*g},XZSDQ:function(_,g){return _||g},cAaAG:"project",mRejx:function(_,g){return _(g)},viObH:"mixed",HMGvC:p(487),oUTTc:function(_,g){return _<=g},Nhavv:"group",nQlaD:"bsLmb",tHMLf:function(_,g,N,E){return _(g,N,E)},EbLxl:function(_,g){return _!==g},ZvDPf:p(547),LpvAE:function(_,g){return _-g},fpwLf:function(_,g,N,E){return _(g,N,E)},MhsZZ:function(_,g){return _(g)},PAxTk:function(_,g){return _<g},dNSRy:function(_,g){return _>=g},VvJYf:function(_,g){return _>g},bSMMc:p(432),HthpQ:"ojDeX",MpjGS:function(_,g){return _-g},iFRBx:function(_,g){return _+g},LjWNh:function(_,g){return _(g)},VUKrY:p(489),mxcmG:function(_,g){return _(g)},dLKWZ:"layer",OwCfu:p(594),Goted:function(_,g){return _<=g},ungFX:function(_,g){return _(g)},oscAE:function(_,g){return _===g},ggtWR:function(_,g){return _===g},OuzGm:p(572),xqEsD:function(_,g){return _===g},PsAFq:function(_,g){return _===g},SdOjy:p(459),bqDQQ:p(584),pyRYm:function(_,g){return _!==g},syZfp:function(_,g){return _!==g},Xokdb:p(496),PvmDs:p(449),QYzXs:function(_,g){return _===g},vodxs:function(_,g){return _===g},BrdaJ:function(_,g){return _<=g},oOHGg:function(_,g){return _(g)},NEhUp:function(_,g){return _/g},yKnzO:p(580),rkAOo:function(_,g){return _===g},BSTdA:function(_,g){return _===g},XwuEJ:p(618),MfMlg:function(_,g){return _(g)},oatSN:function(_,g){return _(g)},mqEGH:"yaRvk",tgrMt:p(442),jfcuQ:"stencil",zFJfh:p(606),GcaEC:p(426),mFkvr:function(_,g){return _===g},jXXUm:function(_,g){return _===g},wpfvj:p(596),MQqaT:"grp",DRbHx:function(_,g,N){return _(g,N)},otgdO:function(_,g,N){return _(g,N)},otzCN:function(_,g){return _+g},JqmYN:function(_,g,N){return _(g,N)},uqFjf:function(_,g){return _>g},CIraC:function(_,g){return _===g},HulMt:p(522),PZEfa:function(_,g,N){return _(g,N)},YlumV:function(_,g){return _(g)},XBJqx:function(_,g){return _(g)},XsMBf:function(_,g){return _(g)},ooAgR:function(_,g){return _/g},fhGWQ:p(582),UDOLu:p(498),gzzPy:function(_,g,N){return _(g,N)},fMZwn:function(_,g){return _===g},qtRWZ:function(_,g){return _===g},iZOBa:"petal",IZGRU:function(_,g){return _===g},yjeur:function(_,g){return _(g)},AQAfE:p(460),aoNyG:function(_,g){return _(g)},mfxWo:function(_,g){return _===g},UyuBd:function(_,g){return _>g},uheyb:function(_,g){return _===g},nRYSU:function(_,g){return _(g)},tzLFC:p(465),jRwBT:p(508),ZoNGa:function(_,g){return _===g},zXFUV:function(_,g){return _(g)},uCFHy:function(_,g){return _===g},oqCqZ:function(_,g){return _(g)},KfrJx:function(_,g){return _===g},lCvor:function(_,g){return _===g},BITNl:function(_,g){return _===g},uhCWx:"Qaoim",gDaoH:function(_,g){return _(g)},hdfDW:"kKLmE",Udpxr:p(598),zXSHx:p(588),UpWTx:function(_,g,N){return _(g,N)},spIkP:function(_,g,N){return _(g,N)}},j=_=>{const g=p,N=[..._.layers][g(462)]((G,K)=>G.order-K.order),E=N[0];if(!E)return 28;const k=_[g(506)]??c[g(506)],{length:z}=It(k),C=y.kuJsM(z,E[g(559)]??1);let A;if(_[g(595)]==="")A=C/3;else{const K=y.JMcIC(70*Math.PI,180),ee=N.length+1,ae=ee-1,ce=ee>1?y.HAizG(ae/(ee-1),K):0;A=C*y.JMcIC(30,100)*Math[g(499)](ce)}return Math.round(((E[g(558)]??28)+A)*10)/10},D=_=>{const g={wBHhd:function(N,E){return y[bt(455)](N,E)}};r(N=>{const E=bt;if(N[E(449)]=(N.flowers||[])[E(440)](k=>k.id!==_),N[E(550)]){for(const k of N.groups)k[E(505)]=k[E(505)].filter(z=>z!==_);N[E(550)]=N.groups.filter(k=>k.flowerIds.length+k[E(493)][E(541)]>0)}},!0),i({kind:y.cAaAG}),f(N=>{const E={...g.wBHhd(N,{})};return delete E[_],E})},b=(_,g)=>{const N=p;if(y.HMGvC===N(485))y.mRejx(_0x467e0f,{kind:y.viObH,flowerIds:_0x1656cd,leafIds:_0x1e43d7});else{const E=c[N(449)][N(539)](k=>k.id===_);if(E&&y[N(560)]((E[N(527)]||[])[N(541)],1)){y[N(453)](D,_);return}r(k=>{const z=N,C=(k[z(449)]||[]).find(A=>A.id===_);C&&(C.layers=(C.layers||[]).filter(A=>A.id!==g),C.layers.slice()[z(462)]((A,G)=>A[z(561)]-G.order)[z(481)]((A,G)=>A[z(561)]=G+1))},!0),i({kind:N(572),flowerId:_})}},h=_=>{const g=p,N={pRNzE:function(xe,fe){return xe(fe)},QspoW:function(xe,fe){return y.MhsZZ(xe,fe)},snNtf:y[g(418)]},E=c[g(449)].find(xe=>xe.id===_);if(!E)return;const k=[...E.layers].sort((xe,fe)=>xe.order-fe[g(561)]),z=k[0],C=y.fpwLf(ye,z?.[g(529)]??6,5,24),A=k.map(xe=>xe[g(559)]??1),G=y[g(553)](A.length,2)||A.every(xe=>Math.abs(xe-A[0])<.001);let K=z?.[g(559)]??1;if(!G&&y[g(573)](k[g(541)],2)){const xe=k[k[g(541)]-1],fe=(xe.order??1)-(z[g(561)]??1);if(y.VvJYf(fe,0))if(y.EbLxl(y.bSMMc,y[g(535)])){const me=y[g(433)](y[g(475)](z.scale??1,xe.scale??1),fe);K=y[g(466)](ye,y[g(563)](z.scale??1,me),.3,3)}else _0xd5003(me=>{const de=g,Me=(me.groups??[]).find(Ke=>Ke.id===_0x5ab795);if(Me){Me.previousGroups=[N[de(525)](_0x316e5b,Me)];for(const Ke of _0x344c4d)Me.flowerIds.includes(Ke)||Me.flowerIds.push(Ke)}},!0),y.mRejx(_0x268728,{kind:y.Nhavv,groupId:_0x4e51fd})}const ee=y.MhsZZ(j,E),ae=E.layers.length+1,ce={id:y[g(422)](Et,g(474)),name:g(566)+ae,order:1,petalType:z?.[g(431)]??g(500),petalCount:C,radius:ee,scale:K,widthScale:y[g(422)](fi,C),offsetAngle:z?.[g(420)]??0,colorId:z?.colorId??c.palette?.[0]?.id??y[g(514)],visible:!0,locked:!1};z&&(ce[g(420)]=tl(z.petalCount,z.offsetAngle??0,C)),r(xe=>{const fe=g;if(y.nQlaD===fe(477)){const me=_0x4c0664("grp");_0x2b92b4(de=>{const Me=fe;de.groups||(de.groups=[]);const Ke=de.groups[Me(458)](nt=>{const Ze=Me,rt=nt.name[Ze(570)](/^ (\d+)$/);return rt?_0x2b969d(rt[1],10):0}),tt=Ke[Me(541)]>0?_0x4d2321[Me(497)](...Ke)+1:1;de.groups.push({id:me,name:Me(437)+tt,flowerIds:[..._0x1837bd],leafIds:[],rotation:0})},!0),N[fe(571)](_0x511783,{kind:N[fe(515)],groupId:me}),_0x5b4c4f(de=>({...de,[me]:!0}))}else{const me=xe[fe(449)][fe(539)](Ze=>Ze.id===_);if(!me)return;me.layers.forEach(Ze=>Ze[fe(561)]+=1),me.layers[fe(425)](ce);const de=Math[fe(546)](y.tHMLf(cr,ce.radius,ce.scale,me[fe(506)]??xe[fe(506)])),Me=me.fabricSquareSize??xe.fabricSquareSize,Ke=me[fe(595)]===""?sr(Me,me.layers.length,"uniform",0):aa(me[fe(564)]??xe.baseDiameter,Me,{layerCount:me[fe(527)].length})[fe(456)];me[fe(478)]=Math[fe(497)](me.flowerDiameter||Ke,de);const tt=[...me[fe(527)]][fe(462)]((Ze,rt)=>Ze.order-rt[fe(561)]),nt=tt[fe(501)]();for(let Ze=1;Ze<nt.length;Ze++)if(y.EbLxl(fe(521),y.ZvDPf)){const rt=nt[y[fe(532)](Ze,1)],ht=nt[Ze];ht.offsetAngle=y.fpwLf(tl,rt.petalCount,rt.offsetAngle,ht.petalCount)}else{_0x286824(_0x3a2db6.leafId);return}}},!0),y.mxcmG(i,{kind:y[g(568)],flowerId:_,layerId:ce.id}),f(xe=>({...xe,[_]:!0}))},L=_=>{const g=p,N={iKoJQ:function(C,A){return y[bt(532)](C,A)},qHZRZ:y.viObH,oNTyN:function(C,A){return C>A},SAIdI:y[g(608)],TvZiW:function(C,A,G){return C(A,G)},YZNab:function(C,A,G,K){return y.tHMLf(C,A,G,K)}},E=c[g(449)].find(C=>C.id===_);if(!E||!E[g(527)]||E[g(527)][g(541)]===0)return;if(y[g(577)](E[g(527)].length,1)){y.ungFX(D,_);return}const k=[...E[g(527)]].sort((C,A)=>C.order-A[g(561)]),z=k[0];if(z){if(r(C=>{const A=g;if(A(467)!==A(467)){const G=_0x5dc8c1[N.iKoJQ(_0x43b267,1)],K=_0x72354c[_0x6555fc];K[A(420)]=_0xd05e50(G[A(529)],G.offsetAngle,K.petalCount)}else{const G=C.flowers.find(ae=>ae.id===_);if(!G)return;G[A(527)]=G.layers[A(440)](ae=>ae.id!==z.id),G.layers.slice().sort((ae,ce)=>ae.order-ce.order).forEach((ae,ce)=>ae[A(561)]=ce+1);const K=[...G.layers].sort((ae,ce)=>ae.order-ce.order),ee=G[A(506)]??C[A(506)];if(N.oNTyN(K.length,0))if(N[A(591)]==="bBlJY")_0x58ddad({kind:N.qHZRZ,flowerIds:_0x8bde0c,leafIds:_0x1fbb46});else{N[A(613)](vs,K,ee);for(const xe of K){const fe=G.layers.find(me=>me.id===xe.id);fe&&(fe.radius=xe.radius)}const ae=K[0];G[A(478)]=Math[A(546)](cr(ae[A(558)],ae.scale??1,ee));const ce=[...K][A(501)]();for(let xe=1;xe<ce.length;xe++){const fe=ce[N[A(530)](xe,1)],me=ce[xe];me[A(420)]=N.YZNab(tl,fe[A(529)],fe[A(420)],me.petalCount)}}}},!0),y[g(576)](a[g(446)],y[g(568)])&&y[g(502)](a[g(562)],z.id))i({kind:y.OuzGm,flowerId:_});else if(a.kind==="petal"&&y[g(575)](a.layerId,z.id))if(y.PsAFq(y[g(586)],y.bqDQQ)){const C=(_0x362990.flowers||[])[g(539)](A=>A.id===_0x7d33b2);if(!C)return;C.layers=(C[g(527)]||[])[g(440)](A=>A.id!==_0x6572f2),C.layers.slice()[g(462)]((A,G)=>A.order-G[g(561)])[g(481)]((A,G)=>A.order=G+1)}else i({kind:y[g(469)],flowerId:_})}},R=()=>{const _=p,g={KTYyg:function(N,E){return y.XZSDQ(N,E)},QqYAQ:function(N,E){return y[bt(452)](N,E)},DHWVp:function(N,E){return y[bt(590)](N,E)},wudbA:function(N,E){return y[bt(428)](N,E)},eUipb:function(N,E,k){return N(E,k)},VxpUr:y.OuzGm,JCWXA:function(N,E){return y.NEhUp(N,E)},YEiKT:function(N,E){return N-E},uxHGU:function(N,E){return N===E},MJydD:y[_(542)],XbbfF:function(N,E,k,z){return N(E,k,z)},lUOue:function(N,E){return y.QYzXs(N,E)},iWzHf:"tSSeo",bGDuE:"IZcUd",bWrgT:function(N,E){return y[_(553)](N,E)},cuaRd:function(N,E){return N-E}};if(y[_(502)]("SqoIT",_(555))){if(y[_(517)](a.kind,"project"))return;if(y.BSTdA(a.kind,y[_(597)])){y[_(567)](w,a[_(520)]);return}if(a.kind==="leaves"){const N=a[_(493)];r(E=>{const k=_;if(E.leaves=(E.leaves??[]).filter(z=>!N[k(472)](z.id)),E.groups)if(y[k(537)](k(585),k(585))){const z={...FVptTZ.KTYyg(_0x553ad3,{})};return delete z[_0x142702],z}else{for(const z of E[k(550)])z.leafIds=z.leafIds[k(440)](C=>!N[k(472)](C));E[k(550)]=E[k(550)][k(440)](z=>z.flowerIds[k(541)]+z.leafIds[k(541)]>0)}},!0),y.oatSN(i,{kind:y[_(569)]});return}if(y.rkAOo(a[_(446)],_(490)))if(_(610)===_(421))_0x4529f0[_(505)][_(472)](_0x3092e2)||_0x879ff7.flowerIds.push(_0x1c222a);else{const{flowerIds:N,leafIds:E}=a;r(k=>{const z=_;if(g.QqYAQ("cCXHA","cCXHA")){if(k[z(449)]=k[z(449)].filter(C=>!N.includes(C.id)),k.leaves=(k[z(465)]??[])[z(440)](C=>!E.includes(C.id)),k.groups){for(const C of k.groups)C.flowerIds=C.flowerIds.filter(A=>!N[z(472)](A)),C.leafIds=C[z(493)].filter(A=>!E[z(472)](A));k.groups=k.groups[z(440)](C=>C.flowerIds.length+C[z(493)][z(541)]>0)}}else{for(const C of _0x4fb101[z(550)])C[z(505)]=C[z(505)].filter(A=>!_0x4077ae[z(472)](A)),C[z(493)]=C[z(493)][z(440)](A=>!_0x1ed8d3.includes(A));_0x5c1ea0[z(550)]=_0x3a3e55.groups[z(440)](C=>C[z(505)][z(541)]+C.leafIds.length>0)}},!0),y.oatSN(i,{kind:y[_(569)]});return}if(y[_(576)](a[_(446)],y[_(548)])){if(y.mqEGH!==y.tgrMt){const N=a.flowerIds;r(E=>{const k=_;if(y[k(552)](y.Xokdb,k(496)))_0x53a843({kind:k(426),flowerId:_0x44b6c0,petals:[..._0x27aa23,{layerId:_0x45093e,index:_0x2f7e2f}]});else if(E.flowers=E.flowers.filter(z=>!N.includes(z.id)),E[k(550)]){for(const z of E.groups)z[k(505)]=z[k(505)].filter(C=>!N.includes(C));E.groups=E[k(550)][k(440)](z=>z.flowerIds[k(541)]+z[k(493)].length>0)}},!0),i({kind:_(488)});return}else if(_0x178d35[_(449)]=_0x4a5afb.flowers[_(440)](N=>N.id!==_0x50ac36.flowerId),_0x31c243.groups){for(const N of _0xf8349d.groups)N.flowerIds=N[_(505)].filter(E=>E!==_0x5bc08a[_(507)]);_0x2c090b[_(550)]=_0xc89ac5[_(550)].filter(N=>N.flowerIds.length+N.leafIds[_(541)]>0)}}if(y[_(587)](a[_(446)],_(427))){r(N=>{const E=_;N[E(550)]&&(N[E(550)]=N.groups[E(440)](k=>k.id!==a[E(612)]))},!0),i({kind:y[_(569)]});return}if(a[_(446)]===y[_(551)])if(y.zFJfh!==y.zFJfh)_0x1fcf42({kind:y[_(548)],flowerIds:_0x26436a});else{r(N=>{const E=_,k={rzzEG:function(z,C){return y.MhsZZ(z,C)},FAzyK:y.cAaAG,vPGBY:function(z,C){return y[bt(423)](z,C)},fGfiU:"flowers"};if(y.syZfp("qoKfF","qoKfF")){const z=new _0x55e919(_0xae20cc),C=_0x5b77c0.filter(A=>!z[E(445)](A));C[E(541)]===0?k.rzzEG(_0x2d728b,{kind:k.FAzyK}):k[E(601)](C.length,1)?k[E(471)](_0xdc7f1c,{kind:E(572),flowerId:C[0]}):k[E(471)](_0x3b635c,{kind:k[E(611)],flowerIds:C})}else N.stencils=(N.stencils??[])[E(440)](z=>z.id!==a.stencilId)},!0),y[_(422)](i,{kind:"project"});return}if(a[_(446)]===y[_(512)]){i({kind:_(572),flowerId:a[_(507)]});return}if(y.mFkvr(a.kind,y.OuzGm)){r(N=>{const E=_;if(N.flowers=N.flowers[E(440)](k=>k.id!==a[E(507)]),N[E(550)]){for(const k of N.groups)k.flowerIds=k.flowerIds.filter(z=>z!==a.flowerId);N[E(550)]=N[E(550)].filter(k=>k[E(505)][E(541)]+k[E(493)][E(541)]>0)}},!0),y.oatSN(i,{kind:"project"});return}if(y[_(452)](a.kind,"layer")||y[_(565)](a.kind,_(523)))if(_(596)!==y[_(480)])_0x545ed3.offsetAngle=_0x43aef8(_0x197d40.petalCount,_0x3ad6c9.offsetAngle??0,_0x391304);else{const N=c[_(449)][_(539)](k=>k.id===a.flowerId),E=N?[...N[_(527)]].sort((k,z)=>k.order-z.order)[0]?.id===a.layerId:!1;r(k=>{const z=_,C=k.flowers[z(539)](A=>A.id===a[z(507)]);if(C&&(C.layers=C[z(527)].filter(A=>A.id!==a[z(562)]),C.layers.slice()[z(462)]((A,G)=>A[z(561)]-G[z(561)])[z(481)]((A,G)=>A.order=G+1),C[z(527)].length>0)){const A=[...C[z(527)]][z(462)]((ee,ae)=>ee[z(561)]-ae.order),G=C[z(506)]??k.fabricSquareSize;g.eUipb(vs,A,G);for(const ee of A)if(g.uxHGU(g.MJydD,g[z(599)])){const ae=C.layers.find(ce=>ce.id===ee.id);ae&&(ae.radius=ee.radius)}else{const ae=_0x292be0[z(449)][z(539)](ce=>ce.id===_0x49d0dc);if(ae&&FVptTZ[z(441)]((ae[z(527)]||[])[z(541)],1)){FVptTZ.wudbA(_0x55578b,_0x40c4d6);return}FVptTZ[z(424)](_0x114039,ce=>{const xe=z,fe=(ce[xe(449)]||[]).find(me=>me.id===_0x4edcc2);fe&&(fe[xe(527)]=(fe[xe(527)]||[]).filter(me=>me.id!==_0x119578),fe[xe(527)][xe(544)]()[xe(462)]((me,de)=>me.order-de[xe(561)]).forEach((me,de)=>me.order=de+1))},!0),FVptTZ[z(516)](_0x516a0a,{kind:FVptTZ.VxpUr,flowerId:_0x1131df})}if(E){const ee=A[0];C.flowerDiameter=Math[z(546)](g.XbbfF(cr,ee[z(558)],ee.scale??1,G))}else{const ee=g[z(457)](C[z(595)],"")?sr(G,C.layers.length,z(589),0):aa(C[z(564)]??k[z(564)],G,{layerCount:C[z(527)].length}).diameter;P0(A,G,C[z(478)]||ee);for(const ae of A)if(g[z(605)]!=="tSSeo"){const ce=_0x78096c[_0xeb6f5c[z(541)]-1],xe=yDzqsv[z(554)](ce.order??1,_0x5d62a6[z(561)]??1);if(xe>0){const fe=yDzqsv[z(430)](yDzqsv[z(448)](_0x4aa1dd.scale??1,ce[z(559)]??1),xe);_0x5cfe2c=yDzqsv[z(439)](_0x41adcd,(_0x25f67f[z(559)]??1)+fe,.3,3)}}else{const ce=C[z(527)].find(xe=>xe.id===ae.id);ce&&(g[z(483)]==="IZcUd"?(ce[z(558)]=ae[z(558)],ce.scale=ae[z(559)]):_0x40c8e9({kind:z(449),flowerIds:_0x47f818}))}}const K=[...A][z(501)]();for(let ee=1;g[z(536)](ee,K.length);ee++){const ae=K[g[z(443)](ee,1)],ce=K[ee];ce.offsetAngle=tl(ae[z(529)],ae[z(420)],ce.petalCount)}}},!0),i({kind:"flower",flowerId:a.flowerId})}}else{const N=_0x44812e[0];_0x19c915.flowerDiameter=_0x396315.round(_0x412034(N.radius,N[_(559)]??1,_0xf76ec1))}},O=_=>({id:_.id,name:_.name,flowerIds:[..._.flowerIds],leafIds:[..._[p(493)]],rotation:_[p(543)]}),B=y[p(510)]($.useCallback,_=>{const g=p,N={Meged:function(k,z){return k+z}},E=Et(y[g(619)]);y[g(614)](r,k=>{const z=g;k[z(550)]||(k.groups=[]);const C=k.groups.map(G=>{const K=z,ee=G[K(557)][K(570)](/^ (\d+)$/);return ee?parseInt(ee[1],10):0}),A=C[z(541)]>0?N.Meged(Math.max(...C),1):1;k.groups[z(556)]({id:E,name:z(437)+A,flowerIds:[..._],leafIds:[],rotation:0})},!0),i({kind:g(427),groupId:E}),y.mRejx(x,k=>({...k,[E]:!0}))},[r,i,x]),Y=$.useCallback((_,g)=>{const N=p,E={bQaCu:function(z,C,A){return y[bt(510)](z,C,A)},oPMWm:function(z,C){return y.otzCN(z,C)}},k=Et(y.MQqaT);y[N(473)](r,z=>{const C=N;z[C(550)]||(z.groups=[]);const A=z[C(550)][C(458)](K=>{const ee=C,ae=K.name[ee(570)](/^ (\d+)$/);return ae?E.bQaCu(parseInt,ae[1],10):0}),G=A[C(541)]>0?E.oPMWm(Math.max(...A),1):1;z.groups[C(556)]({id:k,name:C(437)+G,flowerIds:[..._],leafIds:[...g],rotation:0})},!0),i({kind:"group",groupId:k}),x(z=>({...z,[k]:!0}))},[r,i,x]),X=$.useCallback(_=>{const g=p;y[g(593)](r,N=>{const E=g;if(!N[E(550)])return;const k=N.groups.find(z=>z.id===_);if(k)if(k.previousGroups&&y[E(617)](k.previousGroups[E(541)],0)){N.groups=N.groups[E(440)](z=>z.id!==_);for(const z of k.previousGroups)if(y[E(484)](y.HulMt,E(495))){const C=_0x2701ac[E(527)].find(A=>A.id===_0x1aa080.id);C&&(C[E(558)]=_0x1b1da0.radius)}else N[E(550)][E(556)]({id:z.id,name:z[E(557)],flowerIds:[...z[E(505)]],leafIds:[...z.leafIds],rotation:z.rotation})}else N[E(550)]=N.groups.filter(z=>z.id!==_)},!0),i({kind:g(488)})},[r,i]),I=y[p(473)]($.useCallback,_=>{const g=p;r(N=>{const E=bt;N[E(550)]&&(N[E(550)]=N.groups[E(440)](k=>k.id!==_))},!0),y[g(434)](i,{kind:y[g(569)]})},[r,i]),Z=y.DRbHx($.useCallback,_=>{const g=p;y.PZEfa(r,N=>{const E=bt;if(!N[E(550)])return;const k=N.groups[E(539)](A=>A.id===_);if(!k)return;const z=new Set(k.flowerIds),C=new Set(k[E(493)]);N[E(449)]=N.flowers.filter(A=>!z[E(445)](A.id)),N.leaves=(N[E(465)]??[]).filter(A=>!C[E(445)](A.id)),N[E(550)]=N.groups.filter(A=>A.id!==_)},!0),y[g(422)](i,{kind:y[g(569)]})},[r,i]),V=y.UpWTx($.useCallback,(_,g)=>{const N=p,E={JDDTG:function(k,z){return y[bt(603)](k,z)}};y[N(593)](r,k=>{const z=N,C=(k.groups??[])[z(539)](A=>A.id===_);if(C){C[z(533)]=[E.JDDTG(O,C)];for(const A of g)C.flowerIds[z(472)](A)||C[z(505)][z(556)](A)}},!0),y.YlumV(i,{kind:"group",groupId:_})},[r,i]),W=$.useCallback((_,g)=>{const N=p,E=_[0],k=_[N(544)](1);y.PZEfa(r,z=>{const C=N;if(!z.groups)return;const A=z[C(550)].find(K=>K.id===E);if(!A)return;const G=[];for(const K of _){const ee=z.groups.find(ae=>ae.id===K);ee&&G.push(y.MfMlg(O,ee))}A[C(533)]=G;for(const K of k){const ee=z.groups[C(539)](ae=>ae.id===K);if(ee){for(const ae of ee.flowerIds)A.flowerIds[C(472)](ae)||A[C(505)].push(ae);for(const ae of ee.leafIds)A.leafIds[C(472)](ae)||A.leafIds.push(ae)}}for(const K of g)A[C(505)][C(472)](K)||A[C(505)][C(556)](K);z[C(550)]=z[C(550)][C(440)](K=>!k[C(472)](K.id))},!0),y[N(463)](i,{kind:"group",groupId:E}),y.XsMBf(x,z=>({...z,[E]:!0}))},[r,i,x]),P=(_,g)=>{const N=p,E=d.w/d.h,k=y[N(419)](520,v),z=k*E,C=y[N(438)](-S.x,v),A=y[N(438)](-S.y,v),G=y[N(592)](C,z/2),K=A+k/2,ee=y.vodxs(g,N(582))?y.fhGWQ:"side",ae=y.kuJsM(a1[_][ee].height,rn),ce=y.fpwLf(ye,G,0,m),xe=ye(K-ae/2,0,m),fe={id:y[N(574)](Et,y[N(579)]),variant:_,pose:g,position:{x:ce,y:xe}};y.gzzPy(r,me=>{const de=N;me[de(609)]||(me[de(609)]=[]),me.stencils.push(fe)},!0),y.oOHGg(i,{kind:y.jfcuQ,stencilId:fe.id})},q=_=>{const g=p;y[g(473)](r,N=>{const E=g;N.stencils=(N.stencils??[])[E(440)](k=>k.id!==_)},!0),a[g(446)]===y[g(551)]&&y[g(604)](a[g(482)],_)&&y[g(463)](i,{kind:y[g(569)]})},H=y[p(513)]($.useCallback,_=>{const g=p,N=(c.groups??[])[g(539)](z=>z.flowerIds[g(472)](_)),E=N?N[g(505)]:[_],k=N?N[g(493)]:[];if(a.kind===y.PvmDs){const z=a[g(505)];if(z[g(472)](_))if(g(526)!=="CeGBx"){const C=new Set(E),A=z.filter(G=>!C[g(445)](G));y.oscAE(A.length,0)?y[g(567)](i,{kind:g(488)}):y.qtRWZ(A.length,1)?y.EbLxl("kGoDb",g(494))?_0x1ebb08.flowerIds=_0x337abf[g(505)].filter(G=>G!==_0x411272):y[g(422)](i,{kind:y.OuzGm,flowerId:A[0]}):i({kind:y[g(548)],flowerIds:A})}else _0x10b73a[g(505)]=_0x30cf27.flowerIds[g(440)](C=>!_0x35115b[g(472)](C)),_0x49d471[g(493)]=_0x4d396b.leafIds[g(440)](C=>!_0x46628a[g(472)](C));else{const C=[...new Set([...z,...E])];k.length>0?i({kind:g(490),flowerIds:C,leafIds:k}):y.MhsZZ(i,{kind:y.PvmDs,flowerIds:C})}}else if(a.kind===g(572)||a[g(446)]===y.dLKWZ||y[g(517)](a.kind,y[g(538)])||y.IZGRU(a.kind,g(426))){const z=a[g(507)];if(y.ggtWR(z,_))return;const C=(c.groups??[]).find(ae=>ae[g(505)][g(472)](z)),A=C?C[g(505)]:[z],G=C?C.leafIds:[],K=[...new Set([...A,...E])],ee=[...new Set([...G,...k])];ee.length>0?y.yjeur(i,{kind:y.viObH,flowerIds:K,leafIds:ee}):y[g(502)](K.length,1)?y[g(583)]!=="lhPes"?_0x3f54fb[g(550)]=_0x4ada6f[g(550)][g(440)](ae=>ae.id!==_0x1cf9b5):y.YlumV(i,{kind:"flower",flowerId:K[0]}):y.aoNyG(i,{kind:y[g(548)],flowerIds:K})}else if(y.mfxWo(a.kind,y.Nhavv)){const z=(c[g(550)]??[])[g(539)](ee=>ee.id===a[g(612)]),C=z?z.flowerIds:[],A=z?z.leafIds:[];if(C[g(472)](_))return;const G=[...new Set([...C,...E])],K=[...new Set([...A,...k])];y.UyuBd(K.length,0)?i({kind:g(490),flowerIds:G,leafIds:K}):y.YlumV(i,{kind:"flowers",flowerIds:G})}else if(y.uheyb(a[g(446)],"leaf")){const z=(c.groups??[])[g(539)](ee=>ee.leafIds.includes(a[g(520)])),C=z?z.flowerIds:[],A=z?z[g(493)]:[a[g(520)]],G=[...new Set([...C,...E])],K=[...new Set([...A,...k])];K.length>0?i({kind:g(490),flowerIds:G,leafIds:K}):y.nRYSU(i,{kind:"flowers",flowerIds:G})}else if(a.kind===y[g(578)])if(y.CIraC("MtPnK",y[g(476)])){const z=[...new Set(E)],C=[...new Set([...a.leafIds,...k])];i({kind:y[g(470)],flowerIds:z,leafIds:C})}else _0x3bf59c({kind:g(572),flowerId:_0x540b19});else if(a.kind===y.viObH){const z=a[g(505)],C=a[g(493)];if(z[g(472)](_)){const A=new Set(E),G=new Set(k),K=z[g(440)](ae=>!A[g(445)](ae)),ee=C.filter(ae=>!G[g(445)](ae));K[g(541)]===0&&y.ZoNGa(ee.length,0)?y[g(491)](i,{kind:"project"}):y.ZoNGa(K.length,0)&&y.uCFHy(ee.length,1)?y.oqCqZ(i,{kind:"leaf",leafId:ee[0]}):K[g(541)]===0?i({kind:g(465),leafIds:ee}):ee[g(541)]===0&&y[g(451)](K.length,1)?i({kind:y[g(469)],flowerId:K[0]}):ee.length===0?y[g(616)](i,{kind:y.PvmDs,flowerIds:K}):i({kind:y[g(470)],flowerIds:K,leafIds:ee})}else{const A=[...new Set([...z,...E])],G=[...new Set([...C,...k])];y.MfMlg(i,{kind:g(490),flowerIds:A,leafIds:G})}}else k[g(541)]>0?y.XsMBf(i,{kind:"mixed",flowerIds:E,leafIds:k}):y[g(464)](E[g(541)],1)?i({kind:"flower",flowerId:E[0]}):y[g(581)]("hXIZt",y.uhCWx)?_0x3add23({kind:"petal",flowerId:_0x1f3428,layerId:_0x1871d3[0].layerId,index:_0x5b757e[0].index}):i({kind:y.PvmDs,flowerIds:E})},[a,i,c[p(550)]]);return{deleteFlowerById:D,deleteLayerById:b,computeNewOuterRadius:j,addOuterLayer:h,deleteOuterLayer:L,deleteSelected:R,groupSelectedFlowers:B,groupSelectedMixed:Y,ungroupFlowers:X,ungroupAll:I,deleteGroup:Z,addToGroup:V,mergeGroups:W,addStencil:P,deleteStencil:q,handleShiftFlowerSelect:H,togglePetalSelection:(_,g,N,E)=>{const k=p;if(y[k(470)],y[k(524)]==="kKLmE"){if(!E)if(y.Udpxr!=="VvhKy"){const C=[...new _0x5cedef([..._0x396931,..._0x1a65f2])],A=[...new _0x39b6de([..._0x4d9f17,..._0x10fd95])];_0x29ed1f({kind:EUYLrK.ACWmv,flowerIds:C,leafIds:A})}else{y.MfMlg(i,{kind:y[k(538)],flowerId:_,layerId:g,index:N});return}const z=g+":"+N;if(y[k(484)](a.kind,y[k(512)])&&a.flowerId===_){const C=a[k(426)]||[];if(C[k(607)](G=>G[k(562)]+":"+G.index===z))if(y[k(454)](y[k(461)],"AWolH")){const G=C.filter(K=>K.layerId+":"+K.index!==z);G[k(541)]===0?y.XsMBf(i,{kind:y.OuzGm,flowerId:_}):G[k(541)]===1?i({kind:y.iZOBa,flowerId:_,layerId:G[0].layerId,index:G[0].index}):i({kind:"petals",flowerId:_,petals:G})}else _0x474137=_0x2bef07/3;else i({kind:y.GcaEC,flowerId:_,petals:[...C,{layerId:g,index:N}]})}else if(a[k(446)]==="petal"&&y.rkAOo(a.flowerId,_)){const C={layerId:a[k(562)],index:a[k(528)]},A={layerId:g,index:N};if(C[k(562)]+":"+C.index===z){if(k(444)!==k(519))return;{const G=_0x15e9e.groups[k(539)](K=>K.id===_0x4872f2);G&&_0x3b35e3.push(EUYLrK[k(486)](_0x2a29fa,G))}}i({kind:k(426),flowerId:_,petals:[C,A]})}else y[k(422)](H,_)}else y[k(450)](_0x1f2124,{kind:y.OuzGm,flowerId:_0x419794})}}}function X0(){const c=["wfnsuLC","Dw5PzM9YBq","qNjKyuO","u0fjzeK","B3r6q04","ufPfzMe","D3nLAwS","CgXHy2vTzw50tw9Kzq","Au1AvMm","whD1ruO","vNzOs3K","tuP5zeq","ndG3ote5n0LYs09fzW","DLbhqLK","sMrzrNK","Dw5NrLG","zK1AD24","AvD6sgy","DNHVyLO","C29Tzq","t3DdzNu","C3rLBMnPBhm","EuzeBu4","zKDMAvu","z3jVDxbjza","vhzAAvC","rfjIshG","yxbWBhK","B3fdCvO","DxfgAMy","BgvHzG","tvfXyvq","ody3odeWwNPZzxLe","tMHHDNy","B29bz1i","B2zMC2v0qw5NBgu","Cgf1Dgy","tgPxtMG","uvL6whm","zvvPCgi","Dw5ZAgLMDa","Cgv0ywXZ","z3jVDxa","B09ir2C","D1ngqNi","vwf0A1K","Cgv0ywXuExbL","thbzufi","sK1Jsum","BxHJBuC","CfnzDhq","mJm0mZi2mgjrEfDgva","44kW44oR44o844oxia","tKvOvxa","AgX2Buq","zMLSDgvY","reHxvNa","zhjlDhi","y3vHuMq","tMf0s0m","AgfZ","A2LUza","nJnWDMnQENq","zuvevfO","zMXVD2vYCW","z0rHB0G","s2zYsNG","DM9KEhm","BvjLANG","rwjmEgW","wfPtrfe","zgLHBwv0zxi","BfvpDwu","BwfW","s0XLvva","BgHqzxm","ELHtshG","C29YDa","wejkCxG","Ben2B3i","BgvHDMvZ","zNb3tgy","seL2rgi","wuvPs1q","t3v6r20","DMLpyKG","CNP6ruC","Aw5JBhvKzxm","sNfTwu4","Bgf5","txbQr1m","ALj3qLq","q0n1BMm","zMXVD2vYrgLHBwv0zxi","AfzrCge","D3bMDMO","zM9YrwfJAa","C3rLBMnPBeLK","yKDeDuu","q0LYyum","zNnSCu8","AgvItwO","u2vLBhK","ChjVAMvJDa","y29Sx2DYzwvU","BwL4zwq","ELHgvvy","u2zPB0K","BgvHzKLKCW","A0DVrgi","qunTDxa","D0ndtw8","Bwf4","C3rS","y29Z","5lI444gK44g+44g/","CMv2zxjZzq","z2D0v1i","y29UC3rYDwn0B3i","ndC0oxDiv0Tvyq","zMXVD2vYswrZ","zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYswq","txrqBKS","Dg9tDhjPBMC","B3rNze8","mtu3nZC0nMz0surMyq","r2nHrum","C3bjA1a","vLvlCLK","C25oDgy","D3vKyKe","CMTbt28","sKnxwee","Cg5VuxO","BgvHzKLK","Eu5XELa","rMXlueS","Cgv0ywW","AgrMrfC","CfjoEKu","DNDpwxe","Bgf5zxjZ","Aw5KzxG","Cgv0ywXdB3vUDa","AuTVsLe","nte2mJi0mefhr3f3zW","thb2quu","ChjLDMLVDxnhCM91Chm","ntmYodKXn0fgwerIEG","shrOCfe","yLDYz1q","ChLsww0","AvPpqMe","zMLUza","mtbOyxrMzMu","BgvUz3rO","EuTUEK8","CM90yxrPB24","C2XPy2u","mte4mfvuy2PsyW","CM91BMq","CvDbC3C","uhzTrhm","mKzrvwDQAW","z3jVDxbZ","AMzJDve","C3LAzNa","uef4vgS","AuzPv2q","u3fVsvq","ChvZAa","BMfTzq","CMfKAxvZ","C2nHBgu","B1vuvgm","B3jKzxi","Bgf5zxjjza","AuzsqNG","yMfZzurPyw1LDgvY","ALHyvw0","tgf5zxiG","twznBgC","zeXlv1O","y0fHquC","Bwf0y2G","uxnWB1C","zMXVD2vY","ze5tuNK","whnnqMy","EhffC0q","B3nJquu","r290zwq","DhPmrKm","vurpthu","vunyEge","qKLutMW","yMfJAW","qvfbzKu","AMnkze4","AwDrCey","u2rpANK","qLnuzee"];return X0=function(){return c},X0()}(function(c,r){const a=Ht,i=c();for(;;)try{if(-parseInt(a(320))/1*(parseInt(a(374))/2)+parseInt(a(324))/3*(parseInt(a(365))/4)+parseInt(a(371))/5*(-parseInt(a(394))/6)+parseInt(a(333))/7+parseInt(a(397))/8*(-parseInt(a(331))/9)+parseInt(a(398))/10+-parseInt(a(381))/11*(-parseInt(a(354))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,806038);const vb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Ht;if(a){const x=a[f(351)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),qs=vb(void 0,function(){const c=Ht,r={GApPK:"(((.+)+)+)+$"};return qs.toString()[c(355)](r.GApPK).toString()[c(340)](qs)[c(355)](r[c(372)])});qs();function Ht(c,r){c=c-318;const a=J0();let i=a[c];if(Ht.qlvTFk===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Ht.GRMLaO=f,Ht.wYsXsV={},Ht.qlvTFk=!0}const x=a[0],v=c+x,S=Ht.wYsXsV[v];if(S)i=S;else{const d=function(m){this.gAvfOf=m,this.OdGZNN=[1,0,0],this.MknOAl=function(){return"newState"},this.mYvqSh="\\w+ *\\(\\) *{\\w+ *",this.RjHezh=`['|"].+['|"];? *}`};d.prototype.INepYo=function(){const m=new RegExp(this.mYvqSh+this.RjHezh),w=m.test(this.MknOAl.toString())?--this.OdGZNN[1]:--this.OdGZNN[0];return this.chbGRg(w)},d.prototype.chbGRg=function(m){return~m?this.xXERam(this.gAvfOf):m},d.prototype.xXERam=function(m){for(let w=0,p=this.OdGZNN.length;w<p;w++)this.OdGZNN.push(Math.round(Math.random())),p=this.OdGZNN.length;return m(this.OdGZNN[0])},new d(Ht).INepYo(),i=Ht.GRMLaO(i),Ht.wYsXsV[v]=i}return i}function yb({project:c,applyUpdate:r,selection:a,setSelection:i}){const f=Ht,x={ewENU:function(b,h){return b(h)},xsJpR:f(373),TgwEk:function(b,h,L){return b(h,L)},QtKrz:f(356),THxNp:"(((.+)+)+)+$",cJOPf:f(362),vHxok:function(b,h){return b!==h},koiKz:f(335),mYmGV:function(b,h){return b===h},fDVMc:"wqVXW",MJBWl:function(b,h){return b(h)},hVOeY:f(380),YoNPF:"mixed",Bwtrt:function(b,h){return b(h)},DfnCq:f(329),VlFlp:function(b,h){return b!==h},TTCJS:function(b,h){return b===h},zOFSm:f(383),RlqVM:function(b,h){return b===h},UXanJ:f(370),TWKtf:function(b,h){return b===h},kZoAB:f(358),pRwZr:f(382),iAsCX:function(b,h){return b===h},afwsZ:function(b,h){return b===h},EURWC:function(b,h){return b(h)},taEjy:function(b,h){return b===h},cijMN:f(339),uWUUe:"XEHWI",OYjoY:f(375),GIsSY:"jPqBk",iTyth:function(b,h){return b(h)},DcmzD:"OCtUP",CKNEe:function(b,h,L){return b(h,L)},uVrse:"grp",eqpoK:function(b,h){return b>h},NJlia:function(b,h){return b+h},TpSNU:function(b,h){return b(h)},iJpGA:function(b,h){return b(h)},HKOuX:function(b,h){return b(h)},PrjsX:function(b,h){return b===h},ZjRQL:"ZGGJw",UCJpZ:function(b,h,L){return b(h,L)},BpcBh:function(b,h,L){return b(h,L)},IkrqR:function(b,h,L){return b(h,L)}},v=b=>{r(h=>{const L=Ht;if(h.leaves=(h.leaves??[]).filter(R=>R.id!==b),h[L(376)]){for(const R of h.groups)R.leafIds=R.leafIds.filter(O=>O!==b);h[L(376)]=h.groups[L(347)](R=>R.flowerIds[L(378)]+R[L(318)][L(378)]>0)}},!0),x.ewENU(i,{kind:x.xsJpR})},S=x.BpcBh($.useCallback,b=>{const h=f;x.THxNp;const L=(c.groups??[]).find(B=>B.leafIds[h(386)](b)),R=L?L[h(318)]:[b],O=L?L[h(334)]:[];if(a[h(350)]===x[h(364)])if(x[h(346)](x.koiKz,x.koiKz))x[h(319)](_0x3d5024,B=>{const Y=h,X=(B.groups??[])[Y(388)](I=>I.id===_0x388b94);if(X){X[Y(387)]=[_0x5ba255(X)];for(const I of _0x330350)X.leafIds[Y(386)](I)||X.leafIds[Y(360)](I)}},!0),x.ewENU(_0x5132f9,{kind:h(329),groupId:_0x4c44ae});else{const B=a[h(318)];if(B[h(386)](b)){const Y=new Set(R),X=B[h(347)](I=>!Y.has(I));if(x.mYmGV(X.length,0))i({kind:x[h(337)]});else if(X[h(378)]===1)if(x.mYmGV(x[h(361)],h(379)))i({kind:x[h(330)],leafId:X[0]});else return _0xa5df68.toString()[h(355)](VVABnJ.cEEaF).toString()[h(340)](_0x37d65c).search(h(392));else x[h(322)](i,{kind:x[h(364)],leafIds:X})}else{const Y=[...new Set([...B,...R])];O.length>0?x.vHxok("uFevH",x.hVOeY)?x[h(391)](_0x3f6a0c,{kind:x[h(330)],leafId:_0x4cc3fa[0]}):i({kind:x.YoNPF,flowerIds:O,leafIds:Y}):x.Bwtrt(i,{kind:x[h(364)],leafIds:Y})}}else if(x[h(336)](a[h(350)],"leaf")){if(a.leafId===b)return;const B=(c.groups??[]).find(V=>V[h(318)].includes(a[h(344)])),Y=B?B[h(318)]:[a.leafId],X=B?B[h(334)]:[],I=[...new Set([...Y,...R])],Z=[...new Set([...X,...O])];Z[h(378)]>0?i({kind:h(359),flowerIds:Z,leafIds:I}):I.length===1?x.MJBWl(i,{kind:x.QtKrz,leafId:I[0]}):i({kind:"leaves",leafIds:I})}else if(x[h(336)](a[h(350)],x[h(396)]))if(h(325)==="JCIIv"){const B=(c[h(376)]??[])[h(388)](V=>V.id===a[h(323)]),Y=B?B.leafIds:[],X=B?B[h(334)]:[];if(Y[h(386)](b))return;const I=[...new Set([...Y,...R])],Z=[...new Set([...X,...O])];if(Z.length>0)x.VlFlp(h(345),h(345))?_0xca8858.leafIds.includes(_0x1ac999)||_0x36e247.leafIds[h(360)](_0x39529e):i({kind:x.YoNPF,flowerIds:Z,leafIds:I});else if(x.TTCJS(h(383),x.zOFSm))x.MJBWl(i,{kind:"leaves",leafIds:I});else{_0x1e14a3.groups=_0x35e3d3[h(376)].filter(V=>V.id!==_0x296327);for(const V of _0x1f9c8d[h(387)])_0x91d74f.groups.push({id:V.id,name:V[h(377)],flowerIds:[...V[h(334)]],leafIds:[...V.leafIds],rotation:V.rotation})}}else _0x380a63[h(376)]=_0x459049.groups.filter(B=>B.id!==_0x37266f);else if(x.RlqVM(a[h(350)],"flower")||a[h(350)]===x.UXanJ||x[h(343)](a[h(350)],x[h(384)])||a[h(350)]==="petals"){const B=a[h(389)],Y=(c[h(376)]??[])[h(388)](W=>W[h(334)][h(386)](B)),X=Y?Y[h(334)]:[B],I=Y?Y.leafIds:[],Z=[...new Set([...X,...O])],V=[...new Set([...I,...R])];i({kind:x[h(393)],flowerIds:Z,leafIds:V})}else if(a[h(350)]===x[h(327)]){const B=[...new Set([...a.flowerIds,...O])],Y=[...new Set(R)];i({kind:x.YoNPF,flowerIds:B,leafIds:Y})}else if(x[h(336)](a[h(350)],x[h(393)])){const B=a[h(334)],Y=a[h(318)];if(Y[h(386)](b)){const X=new Set(R),I=new Set(O),Z=Y[h(347)](W=>!X.has(W)),V=B[h(347)](W=>!I[h(342)](W));V.length===0&&x.iAsCX(Z[h(378)],0)?x[h(391)](i,{kind:x.xsJpR}):V[h(378)]===0&&x.afwsZ(Z.length,1)?i({kind:h(356),leafId:Z[0]}):V.length===0?x.EURWC(i,{kind:h(362),leafIds:Z}):x[h(341)](Z[h(378)],0)&&V.length===1?i({kind:x.cijMN,flowerId:V[0]}):Z[h(378)]===0?i({kind:x[h(327)],flowerIds:V}):i({kind:x[h(393)],flowerIds:V,leafIds:Z})}else if(x.vHxok(x.uWUUe,x.OYjoY)){const X=[...new Set([...B,...O])],I=[...new Set([...Y,...R])];i({kind:x.YoNPF,flowerIds:X,leafIds:I})}else{const X=(_0x414842[h(376)]??[]).find(I=>I.id===_0x1b8180);X&&!X[h(318)].includes(_0x5c610b)&&X[h(318)][h(360)](_0x417dd1)}}else if(O.length>0)if(x[h(369)](x[h(349)],h(353)))x[h(390)](i,{kind:x[h(393)],flowerIds:O,leafIds:R});else{const B=_0x556f11[h(389)],Y=(_0x12f44a.groups??[]).find(W=>W.flowerIds.includes(B)),X=Y?Y[h(334)]:[B],I=Y?Y[h(318)]:[],Z=[...new _0xe38c34([...X,..._0x11b454])],V=[...new _0x44e9e0([...I,..._0x3d5b1f])];_0x2f4bca({kind:"mixed",flowerIds:Z,leafIds:V})}else R[h(378)]===1?x[h(348)](i,{kind:"leaf",leafId:R[0]}):i({kind:"leaves",leafIds:R})},[a,i,c[f(376)]]),d=b=>({id:b.id,name:b[f(377)],flowerIds:[...b[f(334)]],leafIds:[...b[f(318)]],rotation:b.rotation}),m=$.useCallback(b=>{const h=f,L=x.MJBWl(Et,x.uVrse),R=(c[h(376)]??[]).map(B=>{const Y=h;if(Y(332)!==x[Y(385)])niKomt.lvQmd(_0x2cc881,{kind:"leaf",leafId:_0x52cbf4[0]});else{const X=B.name[Y(363)](/^ (\d+)$/);return X?x.CKNEe(parseInt,X[1],10):0}}),O=x.eqpoK(R.length,0)?x[h(357)](Math.max(...R),1):1;r(B=>{const Y=h;if(Y(362),Y(328)!=="lhgtu")B.groups||(B[Y(376)]=[]),B.groups.push({id:L,name:Y(395)+O,flowerIds:[],leafIds:[...b],rotation:0});else{if(_0x21c2cf.leafId===_0x36e8cc)return;const X=(_0x26558e.groups??[]).find(P=>P.leafIds[Y(386)](_0xe84c33[Y(344)])),I=X?X.leafIds:[_0x2020e3.leafId],Z=X?X.flowerIds:[],V=[...new _0x4e98ac([...I,..._0x5a3106])],W=[...new _0x275bc4([...Z,..._0x3aa486])];geJPyI.dDeWX(W.length,0)?geJPyI.MAtEK(_0x2e4bca,{kind:"mixed",flowerIds:W,leafIds:V}):V[Y(378)]===1?geJPyI[Y(326)](_0x362701,{kind:Y(356),leafId:V[0]}):_0x4e7aba({kind:geJPyI.KYZfB,leafIds:V})}},!0),i({kind:"group",groupId:L})},[c[f(376)],r,i]),w=$.useCallback((b,h)=>{r(L=>{const R=Ht,O=(L.groups??[])[R(388)](B=>B.id===b);if(O){O[R(387)]=[x[R(367)](d,O)];for(const B of h)O[R(318)].includes(B)||O[R(318)][R(360)](B)}},!0),i({kind:"group",groupId:b})},[r,i]),p=x.IkrqR($.useCallback,(b,h)=>{const L=f,R=b[0],O=b.slice(1);r(B=>{const Y=Ht;if(!B.groups)return;const X=B[Y(376)].find(Z=>Z.id===R);if(!X)return;const I=[];for(const Z of b){const V=B[Y(376)].find(W=>W.id===Z);V&&I.push(x[Y(338)](d,V))}X[Y(387)]=I;for(const Z of O){const V=B.groups[Y(388)](W=>W.id===Z);if(V){for(const W of V.leafIds)X[Y(318)].includes(W)||X[Y(318)][Y(360)](W);for(const W of V[Y(334)])X[Y(334)].includes(W)||X.flowerIds.push(W)}}for(const Z of h)X.leafIds.includes(Z)||X.leafIds[Y(360)](Z);B[Y(376)]=B[Y(376)].filter(Z=>!O[Y(386)](Z.id))},!0),x[L(366)](i,{kind:"group",groupId:R})},[r,i]),y=$.useCallback(b=>{const h={OulaQ:function(L,R){return L>R}};r(L=>{const R=Ht;if(!L[R(376)])return;const O=L[R(376)].find(B=>B.id===b);if(O)if(O.previousGroups&&h.OulaQ(O[R(387)].length,0)){L.groups=L.groups.filter(B=>B.id!==b);for(const B of O.previousGroups)L.groups.push({id:B.id,name:B[R(377)],flowerIds:[...B[R(334)]],leafIds:[...B.leafIds],rotation:B[R(321)]})}else L.groups=L.groups[R(347)](B=>B.id!==b)},!0),i({kind:x.xsJpR})},[r,i]),j=$.useCallback((b,h)=>{const L=f;x.ZjRQL!=="ZGGJw"?_0x16c083.length>0?x.TpSNU(_0x4941bb,{kind:"mixed",flowerIds:_0x46c557,leafIds:_0x1377db}):x[L(368)](_0x4978a6.length,1)?_0x389dd4({kind:x.QtKrz,leafId:_0x49591f[0]}):_0x4034b3({kind:x.cJOPf,leafIds:_0x3635fb}):r(R=>{const O=L,B=(R[O(376)]??[]).find(Y=>Y.id===h);B&&!B.leafIds.includes(b)&&B.leafIds[O(360)](b)},!0)},[r]),D=$.useCallback(b=>{x.UCJpZ(r,h=>{const L=Ht;if(h[L(376)]){for(const R of h[L(376)])R.leafIds=R.leafIds[L(347)](O=>O!==b);h[L(376)]=h[L(376)][L(347)](R=>R.flowerIds[L(378)]+R.leafIds[L(378)]>0)}},!0)},[r]);return{deleteLeafById:v,handleShiftLeafSelect:S,groupSelectedLeaves:m,ungroupLeaves:y,addLeafToGroup:j,removeLeafFromGroup:D,addLeavesToGroup:w,mergeLeafGroups:p}}function J0(){const c=["mZKZnJm2sNLyBgPY","CM90yxrPB24","tuPcv2W","z3jVDxbjza","mJCZmJK2n0PIDxfcra","sKnjsxy","yNLWz1K","Cfj3wNi","wM1zEw0","z3jVDxa","uxrlCNO","ndvKr0vUAxu","t0n0vva","nZa4odm4owvrr0Hsyq","zMXVD2vYswrZ","D1rdtK0","BvLTr1y","EhnkCfi","AuPWr0e","zMXVD2vY","y29UC3rYDwn0B3i","DgffANK","AgfZ","vfDlDgy","BgvHzKLK","z1nlqKC","DKH4B2S","zMLSDgvY","rvvsv0m","r0LZu1K","A2LUza","yxbWBhK","rMDtEu0","ALbXqMS","mtiWqLzIueL1","C2vHCMnO","BgvHzG","tKPSAwe","Cgv0ywW","BwL4zwq","ChvZAa","zKrwtwm","BgvHDMvZ","Bwf0y2G","y0Ppugy","neLkr0zTAG","seTpDvG","vhbttLu","uhjQC1G","vfrdsLm","Bgf5zxi","nJvhwgHTBgq","r0fWueS","ChjVAMvJDa","mMvQBML1sW","sNHqDvO","z3jVDxbZ","BMfTzq","BgvUz3rO","D3fwwfC","DuzLDKG","mtmYmty5ngzJwNjNvW","zMXVD2vYCW","EKjns0W","A1PVqui","rgnTEKq","Aw5JBhvKzxm","ChjLDMLVDxnhCM91Chm","zMLUza","zMXVD2vYswq","Avr5DgG","zxDftLu","kcGOlISPkYKRksSK","ww9ouey","nJm1ndmWrgr0qNfr","44kW44oR44o844oxia","rgzUq3e","mtGXnJCYoeLMz0jzAa","ntG2nZm4mhzgA1Pqta","BgvHzKLKCW","vgD3rwS"];return J0=function(){return c},J0()}(function(c,r){const a=an,i=c();for(;;)try{if(parseInt(a(337))/1*(parseInt(a(391))/2)+parseInt(a(373))/3*(-parseInt(a(358))/4)+-parseInt(a(368))/5+parseInt(a(357))/6+-parseInt(a(347))/7+-parseInt(a(390))/8+parseInt(a(342))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(W0,497324);const pb=(function(){const c=an,r={pTfRK:c(338)};let a=!0;return function(i,f){const x=a?function(){const v=an;if(f)if(v(359)===r.pTfRK)_0x5a1f56.radius=_0x12d28c[v(356)],_0x1b0e8b.scale=_0x58f50b[v(348)];else{const S=f.apply(i,arguments);return f=null,S}}:function(){};return a=!1,x}})(),ks=pb(void 0,function(){const c=an;return ks[c(344)]()[c(376)](c(384))[c(344)]().constructor(ks)[c(376)]("(((.+)+)+)+$")});ks();function W0(){const c=["EuH4EMm","tgf5zxiG","CMv2zxjZzq","zMXVD2vYCW","rerMufi","nJKWmtCYmfblu1buwa","ndrIAvfks3q","rfngB1q","rufhAxC","AKfzzem","C2L6zu1Vzgu","CvDUBfy","C2L6zvn0zxbnBq","y29Z","s2Heufi","z3jHzhvHBa","zMLUza","mZKYotDfA0XHrxO","vffSsey","y29Sx3DOAxrL","tvvWA0e","qNP2vhm","mta2nZmZmtzere9Nwgi","yMfZzurPyw1LDgvY","Dg9tDhjPBMC","zMX3","Bgf5","mtK2ndG0ng95wg5lyG","C2nHBgu","u1rMwuO","vfDHruG","zMXVD2vY","sLLoCMW","ChvZAa","yLDpvem","zgD1weu","CMfKAxvZ","ntG4ntq2mhrVv0HgtW","nez5yuzrEG","CfLjwNi","CgfSzxr0zq","wKrfAhm","D2Tlyxm","Dw5PzM9YBq","BLfmuxa","zvPntvu","ruTvCxu","ruvxCK0","mZaWmte4mhbWvfbmAq","rMXVD2vYia","zLf6CfG","ueXeuwO","rMn6zhe","mJm3mtiWm2DZENrXra","zMXVD2vYrgLHBwv0zxi","A1PYtgq","C2vHCMnO","B3jKzxi","CgXHy2vTzw50tw9Kzq","B29Kuw0","Bgf5zxjdB3vUDa","zgLHBwv0zxi","yKrKrvy","CM91BMq","kcGOlISPkYKRksSK"];return W0=function(){return c},W0()}function an(c,r){c=c-329;const a=W0();let i=a[c];if(an.SHmdjG===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};an.pnWock=f,an.WIaKvH={},an.SHmdjG=!0}const x=a[0],v=c+x,S=an.WIaKvH[v];if(S)i=S;else{const d=function(m){this.lYINXl=m,this.PWeCJB=[1,0,0],this.RJJIIw=function(){return"newState"},this.XpfSoA="\\w+ *\\(\\) *{\\w+ *",this.fLmrWM=`['|"].+['|"];? *}`};d.prototype.PJZFzr=function(){const m=new RegExp(this.XpfSoA+this.fLmrWM),w=m.test(this.RJJIIw.toString())?--this.PWeCJB[1]:--this.PWeCJB[0];return this.CfCoRk(w)},d.prototype.CfCoRk=function(m){return~m?this.wEbUmQ(this.lYINXl):m},d.prototype.wEbUmQ=function(m){for(let w=0,p=this.PWeCJB.length;w<p;w++)this.PWeCJB.push(Math.round(Math.random())),p=this.PWeCJB.length;return m(this.PWeCJB[0])},new d(an).PJZFzr(),i=an.pnWock(i),an.WIaKvH[v]=i}return i}function _b({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:x,stageSize:v,CANVAS_MAX_SVG:S}){const d=an,m={EEWrM:"",ZDEhs:function(h,L,R,O,B){return h(L,R,O,B)},bDdEV:function(h,L){return h(L)},nQLQp:function(h,L){return h*L},dguXE:function(h,L){return h<L},vWtvV:function(h,L){return h!==L},VaNdT:d(366),QcrId:function(h,L){return h===L},WUWgb:function(h,L){return h/L},HiMXC:function(h,L){return h===L},hUeLF:d(335),ndAsn:function(h,L,R,O){return h(L,R,O)},JYNrl:function(h,L){return h-L},LvPOP:function(h,L){return h*L},Fczdq:function(h,L){return h/L},qWnlV:function(h,L){return h*L},KONuQ:function(h,L){return h*L},KhDPR:d(370),oodQm:function(h,L){return h+L},yHxzc:function(h,L){return h===L},kZrLd:function(h,L,R,O){return h(L,R,O)},wkKas:function(h,L){return h(L)},qewWi:function(h,L){return h(L)},bWOTC:function(h,L,R,O){return h(L,R,O)},DSFoT:d(371),eZMMU:function(h,L){return h/L},DDfPR:function(h,L){return h<L},BzvTs:function(h,L,R,O){return h(L,R,O)},IYRWj:"",tjIZc:d(339),jAYdC:function(h,L,R){return h(L,R)},Fxays:function(h,L){return h(L)},TWaEH:d(351),MUpkA:function(h,L){return h(L)},PYwyo:function(h,L){return h(L)},XQYBs:function(h,L){return h(L)},pLxtn:"",EAGiw:d(363)},[w,p]=m.PYwyo($.useState,!1),[y,j]=m.XQYBs($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:m.pLxtn,sizeMode:m[d(393)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:w,setShowAddFlowerDialog:p,addFlowerOpts:y,setAddFlowerOpts:j,addFlower:()=>{const h=d,L=c.fabricSquareSize,R=c.baseDiameter;j(O=>{const B=an,Y={...O,fabricSquareSize:L,baseDiameter:R};return Y[B(378)]===m[B(367)]?Y[B(374)]=aa(R,L,{layerCount:Y[B(380)],sizeMode:Y[B(330)],sizeStepMm:Y[B(332)]})[B(381)]:Y[B(374)]=m[B(361)](sr,L,Y[B(380)],Y.sizeMode,Y[B(332)]),Y}),m[h(382)](p,!0)},confirmAddFlower:()=>{const h=d,{placementMode:L,layerCount:R,petalCount:O,petalType:B,sizeMode:Y,sizeStepMm:X}=y,I=y.fabricSquareSize,{length:Z}=It(I),V=.28,W=Math[h(383)](m.nQLQp(Z*V,10))/10,P=[];let q=W,H=0;for(let ce=0;m[h(355)](ce,R);ce++)if(m.vWtvV(m.VaNdT,m.VaNdT))_0x4451cf.flowerDiameter=_0xd58362(_0x4162ba,_0x1ad8ee,{layerCount:_0x51def6[h(380)],sizeMode:_0x4d1f3a[h(330)],sizeStepMm:_0x294aac.sizeStepMm})[h(381)];else{const xe=ce,fe=1;let me;if(m.QcrId(Y,"uniform"))me=fe;else{const tt=m.WUWgb(X,I);me=ye(fe+xe*tt,.3,3)}let de;if(ce===0)de=W;else{const tt=m.HiMXC(Y,m.hUeLF)?m.ndAsn(ye,1+m.WUWgb(m[h(364)](m[h(352)](ce,1),X),I),.3,3):1,nt=m.LvPOP(Z,tt);let Ze;if(L===""){const ht=m[h(372)](m[h(331)](70,Math.PI),180),gt=R>1?m.KONuQ(ce/(R-1),ht):0,Zt=Math[h(333)](gt);Ze=m.nQLQp(nt*(30/100),Zt)}else if(m.QcrId(m[h(334)],"fQzpX"))Ze=nt/3;else{const rt=_0x17c28f[h(336)](ht=>ht.id===_0x555b1a.id);rt&&(rt[h(356)]=_0x54b901[h(356)],rt.scale=_0x59f8f7.scale)}q=m.oodQm(q,Ze),de=Math.round(q*10)/10}const Me=m.yHxzc(ce,0)?0:m[h(375)](tl,O,H,O);H=Me;const Ke=h(386)+m[h(379)](ce,1);P[h(353)]({id:m[h(362)](Et,h(346)),name:Ke,order:R-ce,petalType:B,petalCount:O,radius:de,scale:me,widthScale:m.qewWi(fi,O),offsetAngle:Me,colorId:y.colorId||(c[h(360)]?.[0]?.id??h(339)),visible:!0,locked:!1})}P[h(387)]();const U=[...P].sort((ce,xe)=>ce.order-xe[h(377)]),_=L===""?m.ndAsn(aa,y[h(343)],I,{layerCount:R,sizeMode:Y,sizeStepMm:X}).diameter:sr(I,R,Y,X);m[h(354)](P0,U,I,y.flowerDiameter||_);for(const ce of U)if(m[h(385)](h(349),m[h(392)]))_0x994b77.flowers.push(_0x3face5);else{const xe=P[h(336)](fe=>fe.id===ce.id);xe&&(xe[h(356)]=ce.radius,xe[h(348)]=ce.scale)}const g=v.w/v.h,N=m[h(372)](520,f),E=N*g,k=-x.x/f,z=-x.y/f;let C=k+E/2,A=z+m[h(365)](N,2);const G=25;let K=0;for(;m[h(389)](K,50)&&c[h(388)].some(ce=>Math.abs(ce.position.x-C)<5&&Math.abs(ce.position.y-A)<5);)C+=G,A+=G,C=m[h(341)](ye,C,0,S),A=m.bWOTC(ye,A,0,S),K++;const ee=y[h(374)]||_,ae={id:m.qewWi(Et,h(345)),name:h(369)+m.oodQm(c[h(388)].length,1),position:{x:C,y:A},flowerDiameter:ee,rotation:0,layers:P,center:{type:m.IYRWj,size:6,color:m.tjIZc},fabricSquareSize:I,placementMode:L,baseDiameter:m.yHxzc(L,m.EEWrM)?y.baseDiameter:rr(ee)};m[h(329)](r,ce=>{ce[h(388)].push(ae)},!0),m.Fxays(a,{kind:m[h(350)],flowerId:ae.id}),m[h(340)](i,ce=>({...ce,[ae.id]:!0})),p(!1)}}}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(340))/1+parseInt(a(346))/2*(-parseInt(a(362))/3)+-parseInt(a(361))/4*(parseInt(a(334))/5)+-parseInt(a(354))/6+parseInt(a(347))/7*(-parseInt(a(363))/8)+parseInt(a(357))/9+parseInt(a(353))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(V0,377087);const Sb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=vn;if(a){const x=a[f(333)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Gs=Sb(void 0,function(){const c=vn,r={rSAsZ:"(((.+)+)+)+$"};return Gs[c(335)]().search(r[c(337)])[c(335)]().constructor(Gs)[c(359)](c(358))});Gs();function vn(c,r){c=c-333;const a=V0();let i=a[c];if(vn.qhtyec===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};vn.pTNgWY=f,vn.USqRfd={},vn.qhtyec=!0}const x=a[0],v=c+x,S=vn.USqRfd[v];if(S)i=S;else{const d=function(m){this.jxnIVO=m,this.INfpTl=[1,0,0],this.BUlERP=function(){return"newState"},this.MMdluO="\\w+ *\\(\\) *{\\w+ *",this.mYHmlN=`['|"].+['|"];? *}`};d.prototype.wamyqD=function(){const m=new RegExp(this.MMdluO+this.mYHmlN),w=m.test(this.BUlERP.toString())?--this.INfpTl[1]:--this.INfpTl[0];return this.QCXeZS(w)},d.prototype.QCXeZS=function(m){return~m?this.gOUluw(this.jxnIVO):m},d.prototype.gOUluw=function(m){for(let w=0,p=this.INfpTl.length;w<p;w++)this.INfpTl.push(Math.round(Math.random())),p=this.INfpTl.length;return m(this.INfpTl[0])},new d(vn).wamyqD(),i=vn.pTNgWY(i),vn.USqRfd[v]=i}return i}function Fd(c){const r=vn,a={Wljdy:function(i,f){return i/f},ixYZP:function(i,f){return i*f}};return a.Wljdy(Math[r(336)](a[r(345)](c,Math.SQRT2)/2*10),10)}function V0(){const c=["C2vHCMnO","y29Sx2DYzwvU","mJaYnJm2ENrlyuHf","oti3q2PKAxnQ","ndbwEeTpuKu","CvzOwfm","yxbWBhK","ntvxrgntyK4","Dg9tDhjPBMC","CM91BMq","CLnbC1O","wM53quK","zMfICMLJu3f1yxjLu2L6zq","nJq3otqYA09lBMHI","u1fsvdi","rhzlEu0","ywjZ","y0zOrKO","AxHzwLa","mZaXohjPwvfIza","nJu5mZu4ALrNzvjh","CgfSzxr0zq","BgvHzG","vuXqquS","BgvHDMvZ","vfjitwq","mteWnJi3ntbUrgjkyK4","mZm3nJKZmLDMEMzqtq","Cgj2ugq","vhzoBLC","nJeYmtCYoeX4C0PIta","kcGOlISPkYKRksSK"];return V0=function(){return c},V0()}function wb({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:f,stageSize:x,CANVAS_MAX_SVG:v}){const S=vn,d={LWYnv:function(b,h){return b(h)},RIHyW:function(b,h){return b(h)},cFhFJ:function(b,h){return b!==h},TvNnW:"MURxT",HbLOo:"UdrWM",pbvPd:function(b,h){return b/h},qVhXS:function(b,h,L,R){return b(h,L,R)},ZmMiu:function(b,h){return b(h)},ULPAK:S(360),DvKyM:function(b,h,L){return b(h,L)},zsCec:S(349),eTViM:function(b,h){return b(h)}},[m,w]=$.useState(!1),[p,y]=$.useState({fabricSquareSize:20,leafSizeMm:d.LWYnv(Fd,20),petalType:"",colorId:""});return{showAddLeafDialog:m,setShowAddLeafDialog:w,addLeafOpts:p,setAddLeafOpts:y,addLeaf:()=>{const b=S,h=c[b(339)],L=c[b(348)]?.find(R=>R.id==="col_green"||R.id==="col_darkgreen")?.id??c.palette?.[0]?.id??b(360);d.LWYnv(y,R=>({...R,fabricSquareSize:h,leafSizeMm:Fd(h),colorId:R.colorId||L})),d.RIHyW(w,!0)},confirmAddLeaf:()=>{const b=S;if(d[b(344)](d[b(356)],d.HbLOo)){const{petalType:h,colorId:L,fabricSquareSize:R}=p,O=d.pbvPd(x.w,x.h),B=520/i,Y=B*O,X=d[b(355)](-f.x,i),I=-f.y/i;let Z=X+Y/2,V=I+B/2,W=0;for(;W<50&&(c[b(351)]??[]).some(q=>Math.abs(q.position.x-Z)<5&&Math[b(343)](q.position.y-V)<5);)Z+=25,V+=25,Z=d[b(364)](ye,Z,0,v),V=ye(V,0,v),W++;const P={id:d.ZmMiu(Et,b(349)),name:"Leaf "+((c.leaves??[]).length+1),position:{x:Z,y:V},rotation:135,petalType:h,colorId:L||c.palette?.[0]?.id||d[b(350)],fabricSquareSize:R,scale:1,widthScale:1,visible:!0,locked:!1};d[b(342)](r,q=>{const H=b;q[H(351)]||(q.leaves=[]),q[H(351)].push(P)},!0),a({kind:d.zsCec,leafId:P.id}),d.eTViM(w,!1)}else return CCWwEJ[b(338)](_0x5e79be.round(CCWwEJ[b(338)](CCWwEJ[b(352)](_0x39971d,_0xc39a2a[b(341)]),2)*10),10)}}}(function(c,r){const a=Bn,i=c();for(;;)try{if(-parseInt(a(452))/1+parseInt(a(407))/2*(parseInt(a(399))/3)+parseInt(a(397))/4+-parseInt(a(427))/5*(-parseInt(a(444))/6)+parseInt(a(403))/7+-parseInt(a(400))/8+-parseInt(a(447))/9*(-parseInt(a(406))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Q0,178169);function Bn(c,r){c=c-395;const a=Q0();let i=a[c];if(Bn.JaLQoD===void 0){var f=function(d){const m="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let w="",p="",y=w+f;for(let j=0,D,b,h=0;b=d.charAt(h++);~b&&(D=j%4?D*64+b:b,j++%4)?w+=y.charCodeAt(h+10)-10!==0?String.fromCharCode(255&D>>(-2*j&6)):j:0)b=m.indexOf(b);for(let j=0,D=w.length;j<D;j++)p+="%"+("00"+w.charCodeAt(j).toString(16)).slice(-2);return decodeURIComponent(p)};Bn.INTdOu=f,Bn.wDTJza={},Bn.JaLQoD=!0}const x=a[0],v=c+x,S=Bn.wDTJza[v];if(S)i=S;else{const d=function(m){this.kXGIyn=m,this.UFnYZe=[1,0,0],this.FXmMNE=function(){return"newState"},this.gczkYz="\\w+ *\\(\\) *{\\w+ *",this.qJiEOO=`['|"].+['|"];? *}`};d.prototype.jYyOKd=function(){const m=new RegExp(this.gczkYz+this.qJiEOO),w=m.test(this.FXmMNE.toString())?--this.UFnYZe[1]:--this.UFnYZe[0];return this.SZvmOn(w)},d.prototype.SZvmOn=function(m){return~m?this.IohiiE(this.kXGIyn):m},d.prototype.IohiiE=function(m){for(let w=0,p=this.UFnYZe.length;w<p;w++)this.UFnYZe.push(Math.round(Math.random())),p=this.UFnYZe.length;return m(this.UFnYZe[0])},new d(Bn).jYyOKd(),i=Bn.INTdOu(i),Bn.wDTJza[v]=i}return i}function Q0(){const c=["mJu5mZe0AhP4CejI","BgvHzKLK","CgvqvuW","Bgf5zxi","nJu5mZa4ExvjD1Hu","zKrgsgi","m0XrsM5rwG","mJuZotaZmKveC3HdAa","BNHzvLC","yvrWtg4","nti4nvDhwvnfCG","Dg9tDhjPBMC","BxP2vfq","mZiXmfD6AMntrW","nJG4mdq4zvHzAuHY","C2vHCMnO","rfDqtxq","tw1bqxm","vM5cC0S","C3rLBMnPBhm","Dfn6Ehu","uNPSwg0","A0jTsvi","BMvgsha","A2LUza","zMXVD2vYswrZ","BwL4zwq","sufVswG","DgXyEe8","Aw5JBhvKzxm","yxbWBhK","yNf0Dey","zMXVD2vYswq","BgvHzKLKCW","ndu4mZvMtNzyyxu","z3jVDxbjza","BgvHDMvZ","uNjnuKq","zMXVD2vYCW","rNHjq1C","qKPtsMW","z3DOtNi","tLb2A1a","zMLUza","z3jVDxa","Cgv0ywXZ","r0rICui","BuTkC0O","z3jVDxbZ","ww5nrxa","sePSA2S","mta4ru1vq3Ll","zMLSDgvY","Cgv0ywW","mJi1me5Ut2DMEa","B3fqwMW","sKn0u2y","BgvHzG","Bgf5zxjjza"];return Q0=function(){return c},Q0()}const Cb=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Bn;if(a){const x=a[f(423)](r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Rs=Cb(void 0,function(){const c=Bn,r={JPvmC:"(((.+)+)+)+$"};return Rs[c(404)]()[c(408)](r.JPvmC).toString().constructor(Rs).search(r.JPvmC)});Rs();function Mb(c,r){const a=Bn,i={IAoIh:function(b,h){return b===h},aTpLn:a(396),dMdFv:a(446),KtyxY:function(b,h){return b===h},mKJsJ:a(438),ZJsXt:function(b,h){return b===h},oLTCJ:"flowers",NPvkP:function(b,h){return b===h},tSzxu:"askLq",RzlXm:function(b,h){return b===h},mzvTT:a(419),IwTdu:a(437),ZNvyp:function(b,h){return b===h},oqPZl:a(411),gsQfQ:function(b,h){return b===h},DWPMt:"nxYVW",EfzbP:"QbOtl",RrMRD:function(b,h){return b===h},neFHp:"sNuLO",HqJjX:function(b,h){return b===h},BJSJl:"flower",kBmIR:function(b,h){return b===h},pePUL:function(b,h,L){return b(h,L)},HJlkk:"pJtGF",bqttF:function(b,h){return b===h},JCtSf:function(b,h){return b===h},fDFHb:"leaves",kIuhB:function(b,h,L){return b(h,L)},GDbqB:function(b,h,L){return b(h,L)},VaXgp:function(b,h){return b===h},BAsDI:"stencil",tlXxO:function(b,h){return b===h},YnMEp:function(b,h,L){return b(h,L)}},f=i[a(395)]($.useMemo,()=>{const b=a;return i.IAoIh(r.kind,"flower")||r[b(417)]===i[b(402)]||i[b(420)](r[b(417)],i.dMdFv)||i.KtyxY(r.kind,i[b(440)])?c[b(431)][b(436)](h=>h.id===r[b(425)])??null:null},[c.flowers,r]),x=i.kIuhB($.useMemo,()=>{const b=a;if(i.ZJsXt(r[b(417)],i.oLTCJ))if(i.NPvkP(b(432),i[b(413)])){const h=(_0x14b7e2[b(441)]??[]).find(L=>L.id===_0x31c4bd[b(428)]);if(h)return new _0x2986cf(h[b(426)])}else return c.flowers.filter(h=>r[b(418)][b(422)](h.id));if(i[b(414)](r[b(417)],i.mzvTT))return c.flowers.filter(h=>r.flowerIds[b(422)](h.id));if(r.kind===i.IwTdu){const h=(c[b(441)]??[])[b(436)](L=>L.id===r.groupId);if(h)return c[b(431)].filter(L=>h[b(418)][b(422)](L.id))}return[]},[c.flowers,c.groups,r]),v=$.useMemo(()=>{const b=a;return i[b(448)]===b(410)?i.ZNvyp(_0x5c6eb6.kind,"leaf")?(_0x3f6da9.leaves??[]).find(h=>h.id===_0x3d0667[b(453)])??null:null:r[b(417)]==="leaf"?(c[b(429)]??[]).find(h=>h.id===r.leafId)??null:null},[c[a(429)],r]),S=i[a(439)]($.useMemo,()=>{const b=a;return i.gsQfQ(r[b(417)],i.IwTdu)?b(401)!==i[b(409)]?new _0x1ff601(_0xc3434e[b(418)].filter(h=>h!==_0x1887bd[b(425)])):(c.groups??[]).find(h=>h.id===r[b(428)])??null:null},[c.groups,r]),d=$.useMemo(()=>{const b=a;return i.ZNvyp("QbOtl",i.EfzbP)?f&&(r[b(417)]===b(396)||r.kind==="petal")?i[b(430)](b(434),i[b(416)])?new _0x53a88b(_0x37677a.leafIds):f.layers[b(436)](h=>h.id===r[b(451)])??null:null:_0xfa8fd2[b(431)].find(h=>h.id===_0x4f02a5[b(425)])??null},[f,r]),m=i.gsQfQ(r[a(417)],a(446))?r.index:null,w=r[a(417)]===i.mKJsJ?r.petals:[],p=i.VaXgp(r.kind,i.BAsDI)?(c[a(412)]??[])[a(436)](b=>b.id===r.stencilId)??null:null,y=r[a(417)]===i.BJSJl||i[a(420)](r[a(417)],i.aTpLn)||i[a(421)](r.kind,a(446))||r.kind===a(438)?r[a(425)]:null,j=i[a(442)]($.useMemo,()=>{const b=a;if(r[b(417)]===b(437)){const h=(c.groups??[]).find(L=>L.id===r[b(428)]);if(h)return new Set(h[b(418)])}if(i[b(435)](r[b(417)],b(431)))return new Set(r[b(418)]);if(i.HqJjX(r.kind,"mixed"))return new Set(r[b(418)]);if(i.IAoIh(r.kind,i[b(433)])||r.kind===b(396)||i[b(415)](r[b(417)],i.dMdFv)||i[b(414)](r.kind,"petals")){const h=i.pePUL(nl,c,r[b(425)]);if(h)return i[b(420)](r[b(417)],i.BJSJl)?i.HJlkk!==i[b(443)]?_0xef9cc9.flowers[b(445)](L=>_0x4009e4[b(418)][b(422)](L.id)):new Set(h.flowerIds.filter(L=>L!==r[b(425)])):new Set(h.flowerIds)}return new Set},[r,c]),D=$.useMemo(()=>{const b=a;if(i[b(424)](r.kind,i.IwTdu)){const h=(c.groups??[]).find(L=>L.id===r.groupId);if(h)return new Set(h[b(426)])}if(i[b(449)](r.kind,i[b(398)]))return new Set(r[b(426)]);if(r.kind===i[b(405)])return new Set(r.leafIds);if(r[b(417)]===b(450)){const h=zl(c,r.leafId);if(h)return new Set(h[b(426)].filter(L=>L!==r[b(453)]))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:x,selectedLeaf:v,selectedGroup:S,selectedLayer:d,selectedPetalIndex:m,selectedPetals:w,selectedStencil:p,selectedFlowerId:y,groupHighlightedFlowerIds:j,groupHighlightedLeafIds:D}}function jb(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,x=$.useMemo(()=>new Map((r.palette||[]).map(be=>[be.id,be])),[r.palette]),{widths:v,containerRef:S,onDividerPointerDown:d,onDividerDoubleClick:m,isDragging:w,isDesktop:p}=mb(),y=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[j,D]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(y);if(pe){const ze=JSON.parse(pe);if(ze&&typeof ze=="object"){D(ze);return}}}catch{}const be=r.flowers?.[0];be&&D({[be.id]:!0})},[y]),$.useEffect(()=>{try{localStorage.setItem(y,JSON.stringify(j))}catch{}},[y,j]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const be=a.flowerId;D(pe=>pe?.[be]?pe:{...pe,[be]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const be=a.flowerIds;D(pe=>{const ze={...pe};for(const kt of be)ze[kt]=!0;return ze})}},[a]);const b=be=>j?.[be]??!1,h=be=>D(pe=>({...pe,[be]:!(pe?.[be]??!1)})),L=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[R,O]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(L);if(pe){const ze=JSON.parse(pe);if(ze&&typeof ze=="object"){O(ze);return}}}catch{}const be=r.groups??[];if(be.length>0){const pe={};for(const ze of be)pe[ze.id]=!0;O(pe)}},[L]),$.useEffect(()=>{try{localStorage.setItem(L,JSON.stringify(R))}catch{}},[L,R]);const B=be=>R?.[be]??!0,Y=be=>O(pe=>({...pe,[be]:!(pe?.[be]??!0)})),X=$.useRef({flowerId:null,timer:null}),I=be=>{const pe=X.current.timer;pe&&window.clearTimeout(pe),X.current.flowerId=be,X.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:be}),D(ze=>({...ze,[be]:!0})),X.current.timer=null,X.current.flowerId=null},200)},Z=be=>{const pe=X.current.timer;pe&&X.current.flowerId===be&&window.clearTimeout(pe),X.current.timer=null,X.current.flowerId=null,i({kind:"flower",flowerId:be}),h(be)},V=$.useRef(null),[W,P]=$.useState({w:520,h:520});$.useEffect(()=>{const be=V.current;if(!be)return;const pe=new ResizeObserver(ze=>{for(const kt of ze){const{width:Ct,height:Kt}=kt.contentRect;Ct>0&&Kt>0&&P({w:Ct,h:Kt})}});return pe.observe(be),()=>pe.disconnect()},[]);const q=be=>{const pe=V.current;if(!pe)return{x:0,y:0};const ze=pe.createSVGPoint();ze.x=be.clientX,ze.y=be.clientY;const kt=pe.getScreenCTM();if(!kt)return{x:0,y:0};const Ct=ze.matrixTransform(kt.inverse());return{x:Ct.x,y:Ct.y}},H=500*rn,U=-300*rn,_=800*rn,g=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[N,E]=$.useState(6),[k,z]=$.useState(g[6]),C=$.useCallback(be=>{E(pe=>{const ze=typeof be=="function"?be(pe):be;return z(g[ze]),ze})},[g]),A=$.useCallback(be=>{const pe=ye(be,g[0],g[g.length-1]);z(pe);let ze=0,kt=Math.abs(g[0]-pe);for(let Ct=1;Ct<g.length;Ct++){const Kt=Math.abs(g[Ct]-pe);Kt<kt&&(ze=Ct,kt=Kt)}E(ze)},[g]),[G,K]=$.useState({x:0,y:0}),[ee,ae]=$.useState(!0),[ce,xe]=$.useState(!1),fe=$.useRef(null),me=$.useMemo(()=>{const be=W.w/W.h,pe=520,ze=pe*be;return(kt,Ct=k)=>{const Kt=ye(kt.x,-(_*Ct-ze),-U*Ct),Ll=ye(kt.y,-(_*Ct-pe),-U*Ct);return{x:Kt,y:Ll}}},[W,k,U,_]),de=$.useMemo(()=>me(G),[G,me]),Me=$.useCallback(be=>K(be),[]),Ke=$.useMemo(()=>{const be=W.w/W.h,pe=520,ze=pe*be,kt=-de.x/k,Ct=-de.y/k;return`${kt} ${Ct} ${ze/k} ${pe/k}`},[k,de,W]),{deleteLeafById:tt,handleShiftLeafSelect:nt,groupSelectedLeaves:Ze,ungroupLeaves:rt,addLeafToGroup:ht,removeLeafFromGroup:gt,addLeavesToGroup:Zt,mergeLeafGroups:kn}=yb({project:r,applyUpdate:f,selection:a,setSelection:i}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Jn,addFlowerOpts:Qe,setAddFlowerOpts:yn,addFlower:Dl,confirmAddFlower:rl}=_b({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:k,pan:de,stageSize:W,CANVAS_MAX_SVG:H}),{showAddLeafDialog:cl,setShowAddLeafDialog:Nl,addLeafOpts:ia,setAddLeafOpts:Wn,addLeaf:di,confirmAddLeaf:Gn}=wb({project:r,applyUpdate:f,setSelection:i,zoom:k,pan:de,stageSize:W,CANVAS_MAX_SVG:H}),{selectedFlower:Bt,selectedFlowers:pn,selectedLeaf:Re,selectedLayer:he,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,selectedFlowerId:_e,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:De}=Mb(r,a),{deleteFlowerById:we,deleteLayerById:Pe,addOuterLayer:Fe,deleteOuterLayer:Xe,deleteSelected:Je,groupSelectedFlowers:Te,groupSelectedMixed:qt,ungroupFlowers:$e,ungroupAll:Nt,deleteGroup:ct,addToGroup:lt,mergeGroups:vt,addStencil:Rn,deleteStencil:ra,handleShiftFlowerSelect:cn,togglePetalSelection:yt}=gb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:O,zoom:k,pan:de,stageSize:W,CANVAS_MAX_SVG:H,deleteLeafById:tt}),Le=dm({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:k,pan:de,setPan:Me,stageRef:V,clientToSvgPoint:q,togglePetalSelection:yt}),[ul,hi]=$.useState(0),Vn=a.kind,$0=Vn==="flower"?a.flowerId:null,mr=Vn==="flowers"?a.flowerIds?.join(","):null,ca=Vn==="layer"||Vn==="petal"?a.layerId:null,mi=Vn==="petal"?a.index:null,Al=Vn==="petals"?a.petals?.length:null;$.useEffect(()=>{Vn!=="project"&&hi(Date.now())},[Vn,$0,mr,ca,mi,Al]),$.useEffect(()=>{if(!fe.current)return;const be=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!be)return;const pe=fe.current.querySelector(`[data-flower-id="${be}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Tl=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ul]);return s.jsxs("div",{className:"mx-auto flex h-full max-w-[1440px] flex-col overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-3 md:flex-row md:gap-0",ref:S,children:[s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:p?{width:`${v.left}%`}:void 0,children:s.jsx(ym,{project:r,selection:a,setSelection:i,expandedFlowers:j,setExpandedFlowers:D,isExpanded:b,toggleExpanded:h,scheduleFlowerRowClick:I,handleFlowerRowDoubleClick:Z,addFlower:Dl,deleteSelected:Je,addOuterLayer:Fe,deleteOuterLayer:Xe,deleteFlowerById:we,deleteLayerById:Pe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:fe,groups:r.groups??[],expandedGroups:R,isGroupExpanded:B,toggleGroupExpanded:Y,onSelectGroup:be=>i({kind:"group",groupId:be}),onUngroupFlowers:$e,onDeleteGroup:ct,leaves:r.leaves??[],onSelectLeaf:be=>i({kind:"leaf",leafId:be}),onAddLeaf:di,onDeleteLeaf:tt})}),s.jsx(Pd,{side:"left",onPointerDown:d,onDoubleClick:m,isDragging:w}),s.jsx("div",{className:"min-w-0 md:min-h-0 md:flex md:flex-col",style:{flex:1},children:s.jsx(Km,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:x,selectedFlowerId:_e,zoom:k,setZoom:A,zoomLevel:N,setZoomLevel:C,ZOOM_LEVELS:g,pan:de,panRaw:G,setPan:Me,showGrid:ee,setShowGrid:ae,showHelp:ce,setShowHelp:xe,stageRef:V,viewBox:Ke,dashSyncToken:ul,dashDelay:Tl,beginPan:Le.beginPan,updatePan:Le.updatePan,endPan:Le.endPan,beginMarquee:Le.beginMarquee,updateMarquee:Le.updateMarquee,endMarquee:Le.endMarquee,marqueeRef:Le.marqueeRef,marqueeRect:Le.marqueeRect,beginFlowerDrag:Le.beginFlowerDrag,updateFlowerDrag:Le.updateFlowerDrag,endFlowerDrag:Le.endFlowerDrag,scaleDragRef:Le.scaleDragRef,beginScaleDrag:Le.beginScaleDrag,updateScaleDrag:Le.updateScaleDrag,endScaleDrag:Le.endScaleDrag,rotationDragRef:Le.rotationDragRef,beginRotationDrag:Le.beginRotationDrag,updateRotationDrag:Le.updateRotationDrag,endRotationDrag:Le.endRotationDrag,widthScaleDragRef:Le.widthScaleDragRef,beginWidthScaleDrag:Le.beginWidthScaleDrag,updateWidthScaleDrag:Le.updateWidthScaleDrag,endWidthScaleDrag:Le.endWidthScaleDrag,radiusDragRef:Le.radiusDragRef,beginRadiusDrag:Le.beginRadiusDrag,updateRadiusDrag:Le.updateRadiusDrag,endRadiusDrag:Le.endRadiusDrag,togglePetalSelection:yt,clientToSvgPoint:q,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Rn,onDeleteStencil:ra,onSelectStencil:be=>i({kind:"stencil",stencilId:be}),handleShiftFlowerSelect:cn,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:De,onSelectLeaf:be=>i({kind:"leaf",leafId:be}),onSelectGroup:be=>i({kind:"group",groupId:be}),onShiftSelectLeaf:nt})}),s.jsx(Pd,{side:"right",onPointerDown:d,onDoubleClick:m,isDragging:w}),s.jsx("div",{className:"min-w-0 shrink-0 md:flex md:flex-col md:min-h-0",style:p?{width:`${v.right}%`}:void 0,children:s.jsx(rb,{project:r,selection:a,applyUpdate:f,selectedFlower:Bt,selectedFlowers:pn,selectedLayer:he,selectedPetalIndex:Be,selectedPetals:qe,selectedStencil:Se,onDeleteStencil:ra,groups:r.groups??[],onGroupFlowers:Te,onUngroupFlowers:$e,onUngroupAll:Nt,onAddToGroup:lt,onMergeGroups:vt,selectedLeaf:Re,onDeleteLeaf:tt,onGroupLeaves:Ze,onUngroupLeaves:rt,onAddLeafToGroup:ht,onRemoveLeafFromGroup:gt,onAddLeavesToGroup:Zt,onMergeLeafGroups:kn,onGroupMixed:qt})})]}),Xn&&s.jsx(sb,{palette:r.palette,addFlowerOpts:Qe,setAddFlowerOpts:yn,onConfirm:rl,onCancel:()=>Jn(!1)}),cl&&s.jsx(fb,{palette:r.palette,addLeafOpts:ia,setAddLeafOpts:Wn,onConfirm:Gn,onCancel:()=>Nl(!1)}),ce&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>xe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:be=>be.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>xe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([be,pe])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:be}),s.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},be))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function zb({cg:c}){const[r,a]=$.useState("w"),[i,f]=$.useState(""),x=c.totalAreaCm2,v=parseFloat(i),d=i!==""&&Number.isFinite(v)&&v>0?Math.round(x/v*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(m=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[m.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[m.count," "]})]},m.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",x,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:m=>f(m.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function Db(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(zb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function Nb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Ab(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Tb(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Lb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[f,x]=$.useState(null),[v,S]=$.useState({kind:"project"}),[d,m]=$.useState([]),[w,p]=$.useState(0),y=$.useRef(f),j=$.useRef(d),D=$.useRef(w);$.useEffect(()=>{y.current=f},[f]),$.useEffect(()=>{j.current=d},[d]),$.useEffect(()=>{D.current=w},[w]);const b=$.useRef(null),h=$.useRef(null),L=$.useRef(null),R=$.useRef(null),[O,B]=$.useState(null);$.useEffect(()=>{const z=O?window.setTimeout(()=>B(null),2200):null;return()=>{z&&window.clearTimeout(z)}},[O]),$.useEffect(()=>{i(ur())},[]);function Y(z){const C=JSON.stringify(z);m([C]),p(0)}function X(z,C=!0){if(!C){x(me=>{if(!me)return me;const de=na(me);return z(de),de.updatedAt=A0(),de});return}const A=y.current;if(!A)return;const G=na(A);z(G),G.updatedAt=A0(),x(G);const K=j.current,ee=D.current;if(K.length===0){Y(G);return}const ae=JSON.stringify(G);let xe=[...K.slice(0,ee+1),ae];const fe=50;xe.length>fe&&(xe=xe.slice(xe.length-fe)),m(xe),p(xe.length-1)}function I(){p(z=>{if(z<=0)return z;const C=z-1,A=j.current[C];return A&&x(Ma(JSON.parse(A))),B("Undo"),C})}function Z(){p(z=>{if(z>=j.current.length-1)return z;const C=z+1,A=j.current[C];return A&&x(Ma(JSON.parse(A))),B("Redo"),C})}function V(){if(!f)return;const z=Vh(f);i(ur()),B(z?"Saved":" ")}function W(){if(!f)return;const z=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),C=URL.createObjectURL(z),A=document.createElement("a");A.href=C,A.download=`${f.title||"tsumami"}.json`,A.click(),URL.revokeObjectURL(C),B("JSON exported")}function P(z){const C=new FileReader;C.onload=()=>{try{const A=JSON.parse(String(C.result??""));if(!A||typeof A!="object"||!Array.isArray(A.flowers))throw new Error("Invalid JSON");const G=Ma(A);x(G),S({kind:"project"}),Y(G),r("editor"),B("Imported")}catch{B("Import failed")}},C.readAsText(z)}function q(z){const C=Ma(z);x(C),S({kind:"project"}),Y(C),r("editor")}function H(z){return z&&(z.kind==="flower"||z.kind==="layer"||z.kind==="petal")?z.flowerId:null}function U(){if(!f)return;const z=H(v);if(!z)return;const C=f.flowers.find(A=>A.id===z);C&&(h.current=na(C),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:C},null,2)).catch(()=>{}),B("Flower copied"))}function _(){if(!f||v.kind!=="leaf")return;const z=(f.leaves??[]).find(C=>C.id===v.leafId);z&&(L.current=na(z),B("Leaf copied"))}function g(){if(!f)return;const z=h.current;if(!z){B("Nothing to paste");return}const C=Uh(z,{x:12+Math.random()*10,y:12+Math.random()*10});X(A=>{A.flowers.push(C)},!0),S({kind:"flower",flowerId:C.id}),B("Flower pasted")}function N(){if(!f)return;const z=L.current;if(!z)return;const C=Et("leaf"),A={...na(z),id:C,name:z.name+" (copy)",position:{x:z.position.x+30,y:z.position.y+30}};X(G=>{G.leaves||(G.leaves=[]),G.leaves.push(A)},!0),S({kind:"leaf",leafId:A.id}),B("Leaf pasted")}function E(z){if(!f)return;const C=H(v);C&&(X(A=>{const G=A.flowers.findIndex(ce=>ce.id===C);if(G<0)return;const K=A.flowers,ee=K[G];if(!ee)return;if(K.splice(G,1),z==="front"){K.push(ee);return}if(z==="back"){K.unshift(ee);return}if(z==="forward"){if(G>=K.length){K.push(ee);return}K.splice(G+1,0,ee);return}const ae=ye(G-1,0,K.length);K.splice(ae,0,ee)},!0),B(z==="front"?"Brought to front":z==="back"?"Sent to back":z==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function z(A){const G=A;if(!G)return!1;const K=String(G.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!G.isContentEditable}function C(A){if(!(z(A.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?A.metaKey:A.ctrlKey))){if(c==="editor"){if(A.key.toLowerCase()==="c"){A.preventDefault(),v.kind==="leaf"?_():U();return}if(A.key.toLowerCase()==="v"){A.preventDefault(),L.current&&(v.kind==="leaf"||v.kind==="leaves"||v.kind==="mixed"||!h.current)?N():g();return}}A.key.toLowerCase()==="z"&&(A.preventDefault(),A.shiftKey?Z():I()),A.key.toLowerCase()==="s"&&(A.preventDefault(),V())}}return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[f,d,w,v,c]);const k=$.useMemo(()=>f?Fh(f):null,[f]);return s.jsxs("div",{className:"flex h-dvh flex-col bg-neutral-50 text-neutral-900 overflow-hidden",children:[s.jsx(lm,{view:c,onNavigate:r,project:f,onSave:V,onLoad:()=>r("home"),onImportJson:()=>R.current?.click(),onExportJson:W,onExportSvg:()=>{const z=document.querySelector('[data-testid="canvas-svg"]');z&&f&&em(z,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const z=document.querySelector('[data-testid="canvas-svg"]');z&&f&&tm(z,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:z=>{const C=z.target.files?.[0];C&&P(C),z.currentTarget.value=""}}),O&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:O}),s.jsxs("main",{className:"flex-1 min-h-0 overflow-hidden",children:[c==="home"&&s.jsx(am,{saved:a,onNew:()=>r("new"),onOpen:z=>{const C=Ma(na(z));x(C),S({kind:"project"}),Y(C),r("editor")},onDelete:z=>{Qh(z),i(ur()),B("Deleted")}}),c==="new"&&s.jsx(im,{onBack:()=>r("home"),onCreate:z=>{const C=Zh({title:z});q(C)}}),c==="editor"&&f&&s.jsx(jb,{project:f,selection:v,setSelection:S,applyUpdate:X,onGoRecipe:()=>r("recipe"),onImport:P,dragRef:b,onCopyFlower:U,onPasteFlower:g,onArrangeFlower:E,canPasteFlower:!!h.current,onUndo:I,onRedo:Z,canUndo:w>0,canRedo:w<d.length-1}),c==="recipe"&&f&&k&&s.jsx(Db,{project:f,recipe:k,onBack:()=>r("editor"),onExportJson:W}),c==="terms"&&s.jsx(Nb,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(Ab,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(Tb,{onNavigate:r})]})}class Eb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Dh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(Eb,{children:s.jsx(Lb,{})})}));

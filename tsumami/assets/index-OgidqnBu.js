(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))r(x);new MutationObserver(x=>{for(const f of x)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(x){const f={};return x.integrity&&(f.integrity=x.integrity),x.referrerPolicy&&(f.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?f.credentials="include":x.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(x){if(x.ep)return;x.ep=!0;const f=a(x);fetch(x.href,f)}})();var es={exports:{}},Pi={};var Md;function oh(){if(Md)return Pi;Md=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,x,f){var h=null;if(f!==void 0&&(h=""+f),x.key!==void 0&&(h=""+x.key),"key"in x){f={};for(var v in x)v!=="key"&&(f[v]=x[v])}else f=x;return x=f.ref,{$$typeof:u,type:r,key:h,ref:x!==void 0?x:null,props:f}}return Pi.Fragment=i,Pi.jsx=a,Pi.jsxs=a,Pi}var zd;function xh(){return zd||(zd=1,es.exports=oh()),es.exports}var s=xh(),ts={exports:{}},De={};var Dd;function fh(){if(Dd)return De;Dd=1;var u=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),N=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function E(z,B,H){this.props=z,this.context=B,this.refs=S,this.updater=H||M}E.prototype.isReactComponent={},E.prototype.setState=function(z,B){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,B,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=E.prototype;function G(z,B,H){this.props=z,this.context=B,this.refs=S,this.updater=H||M}var O=G.prototype=new R;O.constructor=G,C(O,E.prototype),O.isPureReactComponent=!0;var I=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function P(z,B,H){var J=H.ref;return{$$typeof:u,type:z,key:B,ref:J!==void 0?J:null,props:H}}function W(z,B){return P(z.type,B,z.props)}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function _(z){var B={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(H){return B[H]})}var w=/\/+/g;function T(z,B){return typeof z=="object"&&z!==null&&z.key!=null?_(""+z.key):B.toString(36)}function D(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(B){z.status==="pending"&&(z.status="fulfilled",z.value=B)},function(B){z.status==="pending"&&(z.status="rejected",z.reason=B)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function j(z,B,H,J,ae){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var de=!1;if(z===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(z.$$typeof){case u:case i:de=!0;break;case g:return de=z._init,j(de(z._payload),B,H,J,ae)}}if(de)return ae=ae(z),de=J===""?"."+T(z,0):J,I(ae)?(H="",de!=null&&(H=de.replace(w,"$&/")+"/"),j(ae,B,H,"",function(Se){return Se})):ae!=null&&(X(ae)&&(ae=W(ae,H+(ae.key==null||z&&z.key===ae.key?"":(""+ae.key).replace(w,"$&/")+"/")+de)),B.push(ae)),1;de=0;var _e=J===""?".":J+":";if(I(z))for(var he=0;he<z.length;he++)J=z[he],oe=_e+T(J,he),de+=j(J,B,H,oe,ae);else if(he=b(z),typeof he=="function")for(z=he.call(z),he=0;!(J=z.next()).done;)J=J.value,oe=_e+T(J,he++),de+=j(J,B,H,oe,ae);else if(oe==="object"){if(typeof z.then=="function")return j(D(z),B,H,J,ae);throw B=String(z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return de}function L(z,B,H){if(z==null)return z;var J=[],ae=0;return j(z,J,"","",function(oe){return B.call(H,oe,ae++)}),J}function Y(z){if(z._status===-1){var B=z._result;B=B(),B.then(function(H){(z._status===0||z._status===-1)&&(z._status=1,z._result=H)},function(H){(z._status===0||z._status===-1)&&(z._status=2,z._result=H)}),z._status===-1&&(z._status=0,z._result=B)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},k={map:L,forEach:function(z,B,H){L(z,function(){B.apply(this,arguments)},H)},count:function(z){var B=0;return L(z,function(){B++}),B},toArray:function(z){return L(z,function(B){return B})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return De.Activity=p,De.Children=k,De.Component=E,De.Fragment=a,De.Profiler=x,De.PureComponent=G,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(z,B,H){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var J=C({},z.props),ae=z.key;if(B!=null)for(oe in B.key!==void 0&&(ae=""+B.key),B)!U.call(B,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&B.ref===void 0||(J[oe]=B[oe]);var oe=arguments.length-2;if(oe===1)J.children=H;else if(1<oe){for(var de=Array(oe),_e=0;_e<oe;_e++)de[_e]=arguments[_e+2];J.children=de}return P(z.type,ae,J)},De.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:f,_context:z},z},De.createElement=function(z,B,H){var J,ae={},oe=null;if(B!=null)for(J in B.key!==void 0&&(oe=""+B.key),B)U.call(B,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=B[J]);var de=arguments.length-2;if(de===1)ae.children=H;else if(1<de){for(var _e=Array(de),he=0;he<de;he++)_e[he]=arguments[he+2];ae.children=_e}if(z&&z.defaultProps)for(J in de=z.defaultProps,de)ae[J]===void 0&&(ae[J]=de[J]);return P(z,oe,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:v,render:z}},De.isValidElement=X,De.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Y}},De.memo=function(z,B){return{$$typeof:d,type:z,compare:B===void 0?null:B}},De.startTransition=function(z){var B=q.T,H={};q.T=H;try{var J=z(),ae=q.S;ae!==null&&ae(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Q,Z)}catch(oe){Z(oe)}finally{B!==null&&H.types!==null&&(B.types=H.types),q.T=B}},De.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},De.use=function(z){return q.H.use(z)},De.useActionState=function(z,B,H){return q.H.useActionState(z,B,H)},De.useCallback=function(z,B){return q.H.useCallback(z,B)},De.useContext=function(z){return q.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,B){return q.H.useDeferredValue(z,B)},De.useEffect=function(z,B){return q.H.useEffect(z,B)},De.useEffectEvent=function(z){return q.H.useEffectEvent(z)},De.useId=function(){return q.H.useId()},De.useImperativeHandle=function(z,B,H){return q.H.useImperativeHandle(z,B,H)},De.useInsertionEffect=function(z,B){return q.H.useInsertionEffect(z,B)},De.useLayoutEffect=function(z,B){return q.H.useLayoutEffect(z,B)},De.useMemo=function(z,B){return q.H.useMemo(z,B)},De.useOptimistic=function(z,B){return q.H.useOptimistic(z,B)},De.useReducer=function(z,B,H){return q.H.useReducer(z,B,H)},De.useRef=function(z){return q.H.useRef(z)},De.useState=function(z){return q.H.useState(z)},De.useSyncExternalStore=function(z,B,H){return q.H.useSyncExternalStore(z,B,H)},De.useTransition=function(){return q.H.useTransition()},De.version="19.2.3",De}var Nd;function Es(){return Nd||(Nd=1,ts.exports=fh()),ts.exports}var $=Es(),ns={exports:{}},Fi={},ls={exports:{}},as={};var Ad;function dh(){return Ad||(Ad=1,(function(u){function i(j,L){var Y=j.length;j.push(L);e:for(;0<Y;){var Z=Y-1>>>1,k=j[Z];if(0<x(k,L))j[Z]=L,j[Y]=k,Y=Z;else break e}}function a(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],Y=j.pop();if(Y!==L){j[0]=Y;e:for(var Z=0,k=j.length,z=k>>>1;Z<z;){var B=2*(Z+1)-1,H=j[B],J=B+1,ae=j[J];if(0>x(H,Y))J<k&&0>x(ae,H)?(j[Z]=ae,j[J]=Y,Z=J):(j[Z]=H,j[B]=Y,Z=B);else if(J<k&&0>x(ae,Y))j[Z]=ae,j[J]=Y,Z=J;else break e}}return L}function x(j,L){var Y=j.sortIndex-L.sortIndex;return Y!==0?Y:j.id-L.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var h=Date,v=h.now();u.unstable_now=function(){return h.now()-v}}var m=[],d=[],g=1,p=null,N=3,b=!1,M=!1,C=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var L=a(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=j)r(d),L.sortIndex=L.expirationTime,i(m,L);else break;L=a(d)}}function I(j){if(C=!1,O(j),!M)if(a(m)!==null)M=!0,Q||(Q=!0,_());else{var L=a(d);L!==null&&D(I,L.startTime-j)}}var Q=!1,q=-1,U=5,P=-1;function W(){return S?!0:!(u.unstable_now()-P<U)}function X(){if(S=!1,Q){var j=u.unstable_now();P=j;var L=!0;try{e:{M=!1,C&&(C=!1,R(q),q=-1),b=!0;var Y=N;try{t:{for(O(j),p=a(m);p!==null&&!(p.expirationTime>j&&W());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,N=p.priorityLevel;var k=Z(p.expirationTime<=j);if(j=u.unstable_now(),typeof k=="function"){p.callback=k,O(j),L=!0;break t}p===a(m)&&r(m),O(j)}else r(m);p=a(m)}if(p!==null)L=!0;else{var z=a(d);z!==null&&D(I,z.startTime-j),L=!1}}break e}finally{p=null,N=Y,b=!1}L=void 0}}finally{L?_():Q=!1}}}var _;if(typeof G=="function")_=function(){G(X)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,T=w.port2;w.port1.onmessage=X,_=function(){T.postMessage(null)}}else _=function(){E(X,0)};function D(j,L){q=E(function(){j(u.unstable_now())},L)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(j){j.callback=null},u.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(j){switch(N){case 1:case 2:case 3:var L=3;break;default:L=N}var Y=N;N=L;try{return j()}finally{N=Y}},u.unstable_requestPaint=function(){S=!0},u.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Y=N;N=j;try{return L()}finally{N=Y}},u.unstable_scheduleCallback=function(j,L,Y){var Z=u.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,j={id:g++,callback:L,priorityLevel:j,startTime:Y,expirationTime:k,sortIndex:-1},Y>Z?(j.sortIndex=Y,i(d,j),a(m)===null&&j===a(d)&&(C?(R(q),q=-1):C=!0,D(I,Y-Z))):(j.sortIndex=k,i(m,j),M||b||(M=!0,Q||(Q=!0,_()))),j},u.unstable_shouldYield=W,u.unstable_wrapCallback=function(j){var L=N;return function(){var Y=N;N=L;try{return j.apply(this,arguments)}finally{N=Y}}}})(as)),as}var Td;function hh(){return Td||(Td=1,ls.exports=dh()),ls.exports}var is={exports:{}},Zt={};var Ld;function mh(){if(Ld)return Zt;Ld=1;var u=Es();function i(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},x=Symbol.for("react.portal");function f(m,d,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:p==null?null:""+p,children:m,containerInfo:d,implementation:g}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zt.createPortal=function(m,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(m,d,null,g)},Zt.flushSync=function(m){var d=h.T,g=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=d,r.p=g,r.d.f()}},Zt.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Zt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Zt.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var g=d.as,p=v(g,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:N,fetchPriority:b}):g==="script"&&r.d.X(m,{crossOrigin:p,integrity:N,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=v(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Zt.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,p=v(g,d.crossOrigin);r.d.L(m,g,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(m,d){if(typeof m=="string")if(d){var g=v(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Zt.requestFormReset=function(m){r.d.r(m)},Zt.unstable_batchedUpdates=function(m,d){return m(d)},Zt.useFormState=function(m,d,g){return h.H.useFormState(m,d,g)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Ed;function bh(){if(Ed)return is.exports;Ed=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),is.exports=mh(),is.exports}var qd;function vh(){if(qd)return Fi;qd=1;var u=hh(),i=Es(),a=bh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var o=c.alternate;if(o===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===o.child){for(o=c.child;o;){if(o===n)return m(c),e;if(o===l)return m(c),t;o=o.sibling}throw Error(r(188))}if(n.return!==l.return)n=c,l=o;else{for(var y=!1,A=c.child;A;){if(A===n){y=!0,n=c,l=o;break}if(A===l){y=!0,l=c,n=o;break}A=A.sibling}if(!y){for(A=o.child;A;){if(A===n){y=!0,n=o,l=c;break}if(A===l){y=!0,l=o,n=c;break}A=A.sibling}if(!y)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),G=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function T(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case Q:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case G:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}var D=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},Z=[],k=-1;function z(e){return{current:e}}function B(e){0>k||(e.current=Z[k],Z[k]=null,k--)}function H(e,t){k++,Z[k]=e.current,e.current=t}var J=z(null),ae=z(null),oe=z(null),de=z(null);function _e(e,t){switch(H(oe,t),H(ae,e),H(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vf(t),e=Qf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(J),H(J,e)}function he(){B(J),B(ae),B(oe)}function Se(e){e.memoizedState!==null&&H(de,e);var t=J.current,n=Qf(t,e.type);t!==n&&(H(ae,e),H(J,n))}function xe(e){ae.current===e&&(B(J),B(ae)),de.current===e&&(B(de),Wi._currentValue=Y)}var Be,$e;function ot(e){if(Be===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Be=t&&t[1]||"",$e=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Be+e+$e}var xt=!1;function bt(e,t){if(!e||xt)return"";xt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(le){var ne=le}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(le){ne=le}e.call(ce.prototype)}}else{try{throw Error()}catch(le){ne=le}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),y=o[0],A=o[1];if(y&&A){var K=y.split(`
`),te=A.split(`
`);for(c=l=0;l<K.length&&!K[l].includes("DetermineComponentFrameRoot");)l++;for(;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;if(l===K.length||c===te.length)for(l=K.length-1,c=te.length-1;1<=l&&0<=c&&K[l]!==te[c];)c--;for(;1<=l&&0<=c;l--,c--)if(K[l]!==te[c]){if(l!==1||c!==1)do if(l--,c--,0>c||K[l]!==te[c]){var ie=`
`+K[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{xt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function zt(e,t){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return e.child!==t&&t!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return ot("Activity");default:return""}}function ht(e){try{var t="",n=null;do t+=zt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var st=Object.prototype.hasOwnProperty,Dt=u.unstable_scheduleCallback,Wt=u.unstable_cancelCallback,rn=u.unstable_shouldYield,$n=u.unstable_requestPaint,Ke=u.unstable_now,yn=u.unstable_getCurrentPriorityLevel,_l=u.unstable_ImmediatePriority,Wl=u.unstable_UserBlockingPriority,On=u.unstable_NormalPriority,ga=u.unstable_LowPriority,Hn=u.unstable_IdlePriority,ci=u.log,Jl=u.unstable_setDisableYieldValue,el=null,qt=null;function We(e){if(typeof ci=="function"&&Jl(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(el,e)}catch{}}var se=Math.clz32?Math.clz32:Ce,Ee=Math.log,qe=Math.LN2;function Ce(e){return e>>>=0,e===0?32:31-(Ee(e)/qe|0)|0}var ge=256,Ne=262144,ze=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,o=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~o,l!==0?c=ve(l):(y&=A,y!==0?c=ve(y):n||(n=A&~e,n!==0&&(c=ve(n))))):(A=l&~o,A!==0?c=ve(A):y!==0?c=ve(y):n||(n=l&~e,n!==0&&(c=ve(n)))),c===0?0:t!==0&&t!==c&&(t&o)===0&&(o=c&-c,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:c}function He(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n,l,c,o){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,K=e.expirationTimes,te=e.hiddenUpdates;for(n=y&~n;0<n;){var ie=31-se(n),ce=1<<ie;A[ie]=0,K[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var le=ne[ie];le!==null&&(le.lane&=-536870913)}n&=~ce}l!==0&&Me(e,l,0),o!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=o&~(y&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-se(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-se(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function tt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:yd(e.type))}function Vl(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var _n=Math.random().toString(36).slice(2),Nt="__reactFiber$"+_n,Ut="__reactProps$"+_n,fe="__reactContainer$"+_n,ye="__reactEvents$"+_n,Ue="__reactListeners$"+_n,Jt="__reactHandles$"+_n,St="__reactResources$"+_n,cn="__reactMarker$"+_n;function ui(e){delete e[Nt],delete e[Ut],delete e[ye],delete e[Ue],delete e[Jt]}function pa(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fe]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[Nt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Nt]||e[fe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function si(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[St];return t||(t=e[St]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[cn]=!0}var Bs=new Set,Gs={};function Ql(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Gs[e]=t,e=0;e<t.length;e++)Bs.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Rs={};function n1(e){return st.call(Rs,e)?!0:st.call(ks,e)?!1:t1.test(e)?Rs[e]=!0:(ks[e]=!0,!1)}function ur(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){n=""+y,o.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function W0(e){if(!e._valueTracker){var t=Os(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Hs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Os(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function Cn(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function J0(e,t,n,l,c,o,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?V0(e,y,Sn(t)):n!=null?V0(e,y,Sn(n)):l!=null&&e.removeAttribute("value"),c==null&&o!=null&&(e.defaultChecked=!!o),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Sn(A):e.removeAttribute("name")}function Ys(e,t,n,l,c,o,y,A){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){W0(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),W0(e)}function V0(e,t,n){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Is(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Us(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(D(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),W0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zs(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xs(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Zs(e,c,l)}else for(var o in t)t.hasOwnProperty(o)&&Zs(e,o,t[o])}function Q0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xr(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var P0=null;function F0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Ks(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(J0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ut]||null;if(!c)throw Error(r(90));J0(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hs(l)}break e;case"textarea":Is(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var $0=!1;function Ws(e,t,n){if($0)return e(t,n);$0=!0;try{var l=e(t);return l}finally{if($0=!1,(Ma!==null||za!==null)&&(Fr(),Ma&&(t=Ma,e=za,za=Ma=null,Ks(t),e)))for(t=0;t<e.length;t++)Ks(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(ll)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){ec=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{ec=!1}var Sl=null,tc=null,fr=null;function Js(){if(fr)return fr;var e,t=tc,n=t.length,l,c="value"in Sl?Sl.value:Sl.textContent,o=c.length;for(e=0;e<n&&t[e]===c[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===c[o-l];l++);return fr=c.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Vs(){return!1}function Vt(e){function t(n,l,c,o,y){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=o,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(o):o[A]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hr:Vs,this.isPropagationStopped=Vs,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Vt(Pl),fi=p({},Pl,{view:0,detail:0}),u1=Vt(fi),nc,lc,di,br=p({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(nc=e.screenX-di.screenX,lc=e.screenY-di.screenY):lc=nc=0,di=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),Qs=Vt(br),s1=p({},br,{dataTransfer:0}),o1=Vt(s1),x1=p({},fi,{relatedTarget:0}),ac=Vt(x1),f1=p({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Vt(f1),h1=p({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Vt(h1),b1=p({},Pl,{data:0}),Ps=Vt(b1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function ic(){return p1}var _1=p({},fi,{key:function(e){if(e.key){var t=v1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Vt(_1),C1=p({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=Vt(C1),w1=p({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),j1=Vt(w1),M1=p({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Vt(M1),D1=p({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Vt(D1),A1=p({},Pl,{newState:0,oldState:0}),T1=Vt(A1),L1=[9,13,27,32],rc=ll&&"CompositionEvent"in window,hi=null;ll&&"documentMode"in document&&(hi=document.documentMode);var E1=ll&&"TextEvent"in window&&!hi,$s=ll&&(!rc||hi&&8<hi&&11>=hi),eo=" ",to=!1;function no(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function q1(e,t){switch(e){case"compositionend":return lo(t);case"keypress":return t.which!==32?null:(to=!0,eo);case"textInput":return e=t.data,e===eo&&to?null:e;default:return null}}function B1(e,t){if(Da)return e==="compositionend"||!rc&&no(e,t)?(e=Js(),fr=tc=Sl=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $s&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function io(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=i0(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function k1(e){Uf(e,0)}function vr(e){var t=si(e);if(Hs(t))return e}function ro(e,t){if(e==="change")return t}var co=!1;if(ll){var cc;if(ll){var uc="oninput"in document;if(!uc){var uo=document.createElement("div");uo.setAttribute("oninput","return;"),uc=typeof uo.oninput=="function"}cc=uc}else cc=!1;co=cc&&(!document.documentMode||9<document.documentMode)}function so(){mi&&(mi.detachEvent("onpropertychange",oo),bi=mi=null)}function oo(e){if(e.propertyName==="value"&&vr(bi)){var t=[];io(t,bi,e,F0(e)),Ws(k1,t)}}function R1(e,t,n){e==="focusin"?(so(),mi=t,bi=n,mi.attachEvent("onpropertychange",oo)):e==="focusout"&&so()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(bi)}function H1(e,t){if(e==="click")return vr(t)}function Y1(e,t){if(e==="input"||e==="change")return vr(t)}function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:I1;function vi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!st.call(t,c)||!un(e[c],t[c]))return!1}return!0}function xo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,t){var n=xo(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xo(n)}}function ho(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ho(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=or(e.document)}return t}function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var U1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,oc=null,gi=null,xc=!1;function bo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Na==null||Na!==or(l)||(l=Na,"selectionStart"in l&&sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=i0(oc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},fc={},vo={};ll&&(vo=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function $l(e){if(fc[e])return fc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vo)return fc[e]=t[n];return e}var go=$l("animationend"),yo=$l("animationiteration"),po=$l("animationstart"),Z1=$l("transitionrun"),X1=$l("transitionstart"),K1=$l("transitioncancel"),_o=$l("transitionend"),So=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Yn(e,t){So.set(e,t),Ql(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ta=0,hc=0;function yr(){for(var e=Ta,t=hc=Ta=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var o=wn[t];if(wn[t++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}o!==0&&Co(n,c,o)}}function pr(e,t,n,l){wn[Ta++]=e,wn[Ta++]=t,wn[Ta++]=n,wn[Ta++]=l,hc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mc(e,t,n,l){return pr(e,t,n,l),_r(e)}function ea(e,t){return pr(e,null,null,t),_r(e)}function Co(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(c=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,c&&t!==null&&(c=31-se(n),e=o.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),o):null}function _r(e){if(50<Hi)throw Hi=0,wu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function W1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,l){return new W1(e,t,n,l)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function wo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,c,o){var y=0;if(l=e,typeof e=="function")bc(e)&&(y=1);else if(typeof e=="string")y=F2(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=sn(31,n,t,c),e.elementType=P,e.lanes=o,e;case C:return ta(n.children,c,o,t);case S:y=8,c|=24;break;case E:return e=sn(12,n,t,c|2),e.elementType=E,e.lanes=o,e;case I:return e=sn(13,n,t,c),e.elementType=I,e.lanes=o,e;case Q:return e=sn(19,n,t,c),e.elementType=Q,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:y=10;break e;case R:y=9;break e;case O:y=11;break e;case q:y=14;break e;case U:y=16,l=null;break e}y=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=sn(y,n,t,c),t.elementType=e,t.type=l,t.lanes=o,t}function ta(e,t,n,l){return e=sn(7,e,l,t),e.lanes=n,e}function vc(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function jo(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function gc(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mo=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Mo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ht(t)},Mo.set(e,t),t)}return{value:e,source:t,stack:ht(t)}}var Ea=[],qa=0,Cr=null,yi=0,Mn=[],zn=0,Cl=null,Wn=1,Jn="";function il(e,t){Ea[qa++]=yi,Ea[qa++]=Cr,Cr=e,yi=t}function zo(e,t,n){Mn[zn++]=Wn,Mn[zn++]=Jn,Mn[zn++]=Cl,Cl=e;var l=Wn;e=Jn;var c=32-se(l)-1;l&=~(1<<c),n+=1;var o=32-se(t)+c;if(30<o){var y=c-c%5;o=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Wn=1<<32-se(t)+c|n<<c|l,Jn=o+e}else Wn=1<<o|n<<c|l,Jn=e}function yc(e){e.return!==null&&(il(e,1),zo(e,1,0))}function pc(e){for(;e===Cr;)Cr=Ea[--qa],Ea[qa]=null,yi=Ea[--qa],Ea[qa]=null;for(;e===Cl;)Cl=Mn[--zn],Mn[zn]=null,Jn=Mn[--zn],Mn[zn]=null,Wn=Mn[--zn],Mn[zn]=null}function Do(e,t){Mn[zn++]=Wn,Mn[zn++]=Jn,Mn[zn++]=Cl,Wn=t.id,Jn=t.overflow,Cl=e}var Bt=null,ft=null,Ye=!1,wl=null,Dn=!1,_c=Error(r(519));function jl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(jn(t,e)),_c}function No(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Nt]=e,t[Ut]=l,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Ii.length;n++)ke(Ii[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Ys(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Us(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Wf(t.textContent,n)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||jl(e,!0)}function Ao(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Bt=Bt.return}}function Ba(e){if(e!==Bt)return!1;if(!Ye)return Ao(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&ft&&jl(e),Ao(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ft=nd(e)}else t===27?(t=ft,Ol(e.type)?(e=Zu,Zu=null,ft=e):ft=t):ft=Bt?An(e.stateNode.nextSibling):null;return!0}function na(){ft=Bt=null,Ye=!1}function Sc(){var e=wl;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),wl=null),e}function pi(e){wl===null?wl=[e]:wl.push(e)}var Cc=z(null),la=null,rl=null;function Ml(e,t,n){H(Cc,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=Cc.current,B(Cc)}function wc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var o=c.dependencies;if(o!==null){var y=c.child;o=o.firstContext;e:for(;o!==null;){var A=o;o=c;for(var K=0;K<t.length;K++)if(A.context===t[K]){o.lanes|=n,A=o.alternate,A!==null&&(A.lanes|=n),wc(o.return,n,e),l||(y=null);break e}o=A.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=n,o=y.alternate,o!==null&&(o.lanes|=n),wc(y,n,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ga(e,t,n,l){e=null;for(var c=t,o=!1;c!==null;){if(!o){if((c.flags&524288)!==0)o=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var A=c.type;un(c.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(c===de.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}c=c.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return To(la,e)}function jr(e,t){return la===null&&aa(e),To(e,t)}function To(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(r(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var J1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},V1=u.unstable_scheduleCallback,Q1=u.unstable_NormalPriority,Ct={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new J1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&V1(Q1,function(){e.controller.abort()})}var Si=null,zc=0,ka=0,Ra=null;function P1(e,t){if(Si===null){var n=Si=[];zc=0,ka=Au(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return zc++,t.then(Lo,Lo),t}function Lo(){if(--zc===0&&Si!==null){Ra!==null&&(Ra.status="fulfilled");var e=Si;Si=null,ka=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Eo=j.S;j.S=function(e,t){vf=Ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Eo!==null&&Eo(e,t)};var ia=z(null);function Dc(){var e=ia.current;return e!==null?e:ut.pooledCache}function Mr(e,t){t===null?H(ia,ia.current):H(ia,t.pool)}function qo(){var e=Dc();return e===null?null:{parent:Ct._currentValue,pool:e}}var Oa=Error(r(460)),Nc=Error(r(474)),zr=Error(r(542)),Dr={then:function(){}};function Bo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ro(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ro(e),e}throw ca=t,Oa}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ca=n,Oa):n}}var ca=null;function ko(){if(ca===null)throw Error(r(459));var e=ca;return ca=null,e}function Ro(e){if(e===Oa||e===zr)throw Error(r(483))}var Ha=null,Ci=0;function Nr(e){var t=Ci;return Ci+=1,Ha===null&&(Ha=[]),Go(Ha,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oo(e){function t(F,V){if(e){var ee=F.deletions;ee===null?(F.deletions=[V],F.flags|=16):ee.push(V)}}function n(F,V){if(!e)return null;for(;V!==null;)t(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function c(F,V){return F=al(F,V),F.index=0,F.sibling=null,F}function o(F,V,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<V?(F.flags|=67108866,V):ee):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function y(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function A(F,V,ee,re){return V===null||V.tag!==6?(V=vc(ee,F.mode,re),V.return=F,V):(V=c(V,ee),V.return=F,V)}function K(F,V,ee,re){var pe=ee.type;return pe===C?ie(F,V,ee.props.children,re,ee.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===U&&ra(pe)===V.type)?(V=c(V,ee.props),wi(V,ee),V.return=F,V):(V=Sr(ee.type,ee.key,ee.props,null,F.mode,re),wi(V,ee),V.return=F,V)}function te(F,V,ee,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=gc(ee,F.mode,re),V.return=F,V):(V=c(V,ee.children||[]),V.return=F,V)}function ie(F,V,ee,re,pe){return V===null||V.tag!==7?(V=ta(ee,F.mode,re,pe),V.return=F,V):(V=c(V,ee),V.return=F,V)}function ce(F,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vc(""+V,F.mode,ee),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return ee=Sr(V.type,V.key,V.props,null,F.mode,ee),wi(ee,V),ee.return=F,ee;case M:return V=gc(V,F.mode,ee),V.return=F,V;case U:return V=ra(V),ce(F,V,ee)}if(D(V)||_(V))return V=ta(V,F.mode,ee,null),V.return=F,V;if(typeof V.then=="function")return ce(F,Nr(V),ee);if(V.$$typeof===G)return ce(F,jr(F,V),ee);Ar(F,V)}return null}function ne(F,V,ee,re){var pe=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return pe!==null?null:A(F,V,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===pe?K(F,V,ee,re):null;case M:return ee.key===pe?te(F,V,ee,re):null;case U:return ee=ra(ee),ne(F,V,ee,re)}if(D(ee)||_(ee))return pe!==null?null:ie(F,V,ee,re,null);if(typeof ee.then=="function")return ne(F,V,Nr(ee),re);if(ee.$$typeof===G)return ne(F,V,jr(F,ee),re);Ar(F,ee)}return null}function le(F,V,ee,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(ee)||null,A(V,F,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return F=F.get(re.key===null?ee:re.key)||null,K(V,F,re,pe);case M:return F=F.get(re.key===null?ee:re.key)||null,te(V,F,re,pe);case U:return re=ra(re),le(F,V,ee,re,pe)}if(D(re)||_(re))return F=F.get(ee)||null,ie(V,F,re,pe,null);if(typeof re.then=="function")return le(F,V,ee,Nr(re),pe);if(re.$$typeof===G)return le(F,V,ee,jr(V,re),pe);Ar(V,re)}return null}function me(F,V,ee,re){for(var pe=null,Ze=null,be=V,Le=V=0,Oe=null;be!==null&&Le<ee.length;Le++){be.index>Le?(Oe=be,be=null):Oe=be.sibling;var Xe=ne(F,be,ee[Le],re);if(Xe===null){be===null&&(be=Oe);break}e&&be&&Xe.alternate===null&&t(F,be),V=o(Xe,V,Le),Ze===null?pe=Xe:Ze.sibling=Xe,Ze=Xe,be=Oe}if(Le===ee.length)return n(F,be),Ye&&il(F,Le),pe;if(be===null){for(;Le<ee.length;Le++)be=ce(F,ee[Le],re),be!==null&&(V=o(be,V,Le),Ze===null?pe=be:Ze.sibling=be,Ze=be);return Ye&&il(F,Le),pe}for(be=l(be);Le<ee.length;Le++)Oe=le(be,F,Le,ee[Le],re),Oe!==null&&(e&&Oe.alternate!==null&&be.delete(Oe.key===null?Le:Oe.key),V=o(Oe,V,Le),Ze===null?pe=Oe:Ze.sibling=Oe,Ze=Oe);return e&&be.forEach(function(Zl){return t(F,Zl)}),Ye&&il(F,Le),pe}function we(F,V,ee,re){if(ee==null)throw Error(r(151));for(var pe=null,Ze=null,be=V,Le=V=0,Oe=null,Xe=ee.next();be!==null&&!Xe.done;Le++,Xe=ee.next()){be.index>Le?(Oe=be,be=null):Oe=be.sibling;var Zl=ne(F,be,Xe.value,re);if(Zl===null){be===null&&(be=Oe);break}e&&be&&Zl.alternate===null&&t(F,be),V=o(Zl,V,Le),Ze===null?pe=Zl:Ze.sibling=Zl,Ze=Zl,be=Oe}if(Xe.done)return n(F,be),Ye&&il(F,Le),pe;if(be===null){for(;!Xe.done;Le++,Xe=ee.next())Xe=ce(F,Xe.value,re),Xe!==null&&(V=o(Xe,V,Le),Ze===null?pe=Xe:Ze.sibling=Xe,Ze=Xe);return Ye&&il(F,Le),pe}for(be=l(be);!Xe.done;Le++,Xe=ee.next())Xe=le(be,F,Le,Xe.value,re),Xe!==null&&(e&&Xe.alternate!==null&&be.delete(Xe.key===null?Le:Xe.key),V=o(Xe,V,Le),Ze===null?pe=Xe:Ze.sibling=Xe,Ze=Xe);return e&&be.forEach(function(sh){return t(F,sh)}),Ye&&il(F,Le),pe}function ct(F,V,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===C&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var pe=ee.key;V!==null;){if(V.key===pe){if(pe=ee.type,pe===C){if(V.tag===7){n(F,V.sibling),re=c(V,ee.props.children),re.return=F,F=re;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===U&&ra(pe)===V.type){n(F,V.sibling),re=c(V,ee.props),wi(re,ee),re.return=F,F=re;break e}n(F,V);break}else t(F,V);V=V.sibling}ee.type===C?(re=ta(ee.props.children,F.mode,re,ee.key),re.return=F,F=re):(re=Sr(ee.type,ee.key,ee.props,null,F.mode,re),wi(re,ee),re.return=F,F=re)}return y(F);case M:e:{for(pe=ee.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){n(F,V.sibling),re=c(V,ee.children||[]),re.return=F,F=re;break e}else{n(F,V);break}else t(F,V);V=V.sibling}re=gc(ee,F.mode,re),re.return=F,F=re}return y(F);case U:return ee=ra(ee),ct(F,V,ee,re)}if(D(ee))return me(F,V,ee,re);if(_(ee)){if(pe=_(ee),typeof pe!="function")throw Error(r(150));return ee=pe.call(ee),we(F,V,ee,re)}if(typeof ee.then=="function")return ct(F,V,Nr(ee),re);if(ee.$$typeof===G)return ct(F,V,jr(F,ee),re);Ar(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(n(F,V.sibling),re=c(V,ee),re.return=F,F=re):(n(F,V),re=vc(ee,F.mode,re),re.return=F,F=re),y(F)):n(F,V)}return function(F,V,ee,re){try{Ci=0;var pe=ct(F,V,ee,re);return Ha=null,pe}catch(be){if(be===Oa||be===zr)throw be;var Ze=sn(29,be,null,F.mode);return Ze.lanes=re,Ze.return=F,Ze}}}var ua=Oo(!0),Ho=Oo(!1),zl=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=_r(e),Co(e,null,n),t}return pr(e,l,t,n),_r(e)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}function Lc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?c=o=y:o=o.next=y,n=n.next}while(n!==null);o===null?c=o=t:o=o.next=t}else c=o=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ec=!1;function Mi(){if(Ec){var e=Ra;if(e!==null)throw e}}function zi(e,t,n,l){Ec=!1;var c=e.updateQueue;zl=!1;var o=c.firstBaseUpdate,y=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var K=A,te=K.next;K.next=null,y===null?o=te:y.next=te,y=K;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==y&&(A===null?ie.firstBaseUpdate=te:A.next=te,ie.lastBaseUpdate=K))}if(o!==null){var ce=c.baseState;y=0,ie=te=K=null,A=o;do{var ne=A.lane&-536870913,le=ne!==A.lane;if(le?(Re&ne)===ne:(l&ne)===ne){ne!==0&&ne===ka&&(Ec=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var me=e,we=A;ne=t;var ct=n;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){ce=me.call(ct,ce,ne);break e}ce=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,ne=typeof me=="function"?me.call(ct,ce,ne):me,ne==null)break e;ce=p({},ce,ne);break e;case 2:zl=!0}}ne=A.callback,ne!==null&&(e.flags|=64,le&&(e.flags|=8192),le=c.callbacks,le===null?c.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(te=ie=le,K=ce):ie=ie.next=le,y|=ne;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;le=A,A=le.next,le.next=null,c.lastBaseUpdate=le,c.shared.pending=null}}while(!0);ie===null&&(K=ce),c.baseState=K,c.firstBaseUpdate=te,c.lastBaseUpdate=ie,o===null&&(c.shared.lanes=0),ql|=y,e.lanes=y,e.memoizedState=ce}}function Yo(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Io(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Yo(n[e],t)}var Ya=z(null),Tr=z(0);function Uo(e,t){e=bl,H(Tr,e),H(Ya,t),bl=e|t.baseLanes}function qc(){H(Tr,bl),H(Ya,Ya.current)}function Bc(){bl=Tr.current,B(Ya),B(Tr)}var on=z(null),Nn=null;function Al(e){var t=e.alternate;H(pt,pt.current&1),H(on,e),Nn===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(Nn=e)}function Gc(e){H(pt,pt.current),H(on,e),Nn===null&&(Nn=e)}function Zo(e){e.tag===22?(H(pt,pt.current),H(on,e),Nn===null&&(Nn=e)):Tl()}function Tl(){H(pt,pt.current),H(on,on.current)}function xn(e){B(on),Nn===e&&(Nn=null),B(pt)}var pt=z(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Iu(n)||Uu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Te=null,it=null,wt=null,Er=!1,Ia=!1,sa=!1,qr=0,Di=0,Ua=null,$1=0;function vt(){throw Error(r(321))}function kc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Rc(e,t,n,l,c,o){return ul=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?zx:$c,sa=!1,o=n(l,c),sa=!1,Ia&&(o=Ko(t,n,l,c)),Xo(e),o}function Xo(e){j.H=Ti;var t=it!==null&&it.next!==null;if(ul=0,wt=it=Te=null,Er=!1,Di=0,Ua=null,t)throw Error(r(300));e===null||jt||(e=e.dependencies,e!==null&&wr(e)&&(jt=!0))}function Ko(e,t,n,l){Te=e;var c=0;do{if(Ia&&(Ua=null),Di=0,Ia=!1,25<=c)throw Error(r(301));if(c+=1,wt=it=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Dx,o=t(n,l)}while(Ia);return o}function e2(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Te.flags|=1024),t}function Oc(){var e=qr!==0;return qr=0,e}function Hc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yc(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}ul=0,wt=it=Te=null,Ia=!1,Di=qr=0,Ua=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Te.memoizedState=wt=e:wt=wt.next=e,wt}function _t(){if(it===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=wt===null?Te.memoizedState:wt.next;if(t!==null)wt=t,it=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},wt===null?Te.memoizedState=wt=e:wt=wt.next=e}return wt}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Ua===null&&(Ua=[]),e=Go(Ua,e,t),t=Te,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?zx:$c),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===G)return Gt(e)}throw Error(r(438,String(e)))}function Ic(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Br(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function sl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=_t();return Uc(t,it,e)}function Uc(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=e.baseQueue,o=l.pending;if(o!==null){if(c!==null){var y=c.next;c.next=o.next,o.next=y}t.baseQueue=c=o,l.pending=null}if(o=e.baseState,c===null)e.memoizedState=o;else{t=c.next;var A=y=null,K=null,te=t,ie=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(Re&ce)===ce:(ul&ce)===ce){var ne=te.revertLane;if(ne===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===ka&&(ie=!0);else if((ul&ne)===ne){te=te.next,ne===ka&&(ie=!0);continue}else ce={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(A=K=ce,y=o):K=K.next=ce,Te.lanes|=ne,ql|=ne;ce=te.action,sa&&n(o,ce),o=te.hasEagerState?te.eagerState:n(o,ce)}else ne={lane:ce,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},K===null?(A=K=ne,y=o):K=K.next=ne,Te.lanes|=ce,ql|=ce;te=te.next}while(te!==null&&te!==t);if(K===null?y=o:K.next=A,!un(o,e.memoizedState)&&(jt=!0,ie&&(n=Ra,n!==null)))throw n;e.memoizedState=o,e.baseState=y,e.baseQueue=K,l.lastRenderedState=o}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zc(e){var t=_t(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,o=t.memoizedState;if(c!==null){n.pending=null;var y=c=c.next;do o=e(o,y.action),y=y.next;while(y!==c);un(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Wo(e,t,n){var l=Te,c=_t(),o=Ye;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var y=!un((it||c).memoizedState,n);if(y&&(c.memoizedState=n,jt=!0),c=c.queue,Wc(Qo.bind(null,l,c,e),[e]),c.getSnapshot!==t||y||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Vo.bind(null,l,c,n,t),null),ut===null)throw Error(r(349));o||(ul&127)!==0||Jo(l,t,n)}return n}function Jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Br(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vo(e,t,n,l){t.value=n,t.getSnapshot=l,Po(t)&&Fo(e)}function Qo(e,t,n){return n(function(){Po(t)&&Fo(e)})}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Fo(e){var t=ea(e,2);t!==null&&en(t,e,2)}function Xc(e){var t=Xt();if(typeof e=="function"){var n=e;if(e=n(),sa){We(!0);try{n()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t}function $o(e,t,n,l){return e.baseState=n,Uc(e,it,typeof l=="function"?l:sl)}function t2(e,t,n,l,c){if(Hr(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){o.listeners.push(y)}};j.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,ex(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ex(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var o=j.T,y={};j.T=y;try{var A=n(c,l),K=j.S;K!==null&&K(y,A),tx(e,t,A)}catch(te){Kc(e,t,te)}finally{o!==null&&y.types!==null&&(o.types=y.types),j.T=o}}else try{o=n(c,l),tx(e,t,o)}catch(te){Kc(e,t,te)}}function tx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){nx(e,t,l)},function(l){return Kc(e,t,l)}):nx(e,t,n)}function nx(e,t,n){t.status="fulfilled",t.value=n,lx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ex(e,n)))}function Kc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lx(t),t=t.next;while(t!==l)}e.action=null}function lx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ax(e,t){return t}function ix(e,t){if(Ye){var n=ut.formState;if(n!==null){e:{var l=Te;if(Ye){if(ft){t:{for(var c=ft,o=Dn;c.nodeType!==8;){if(!o){c=null;break t}if(c=An(c.nextSibling),c===null){c=null;break t}}o=c.data,c=o==="F!"||o==="F"?c:null}if(c){ft=An(c.nextSibling),l=c.data==="F!";break e}}jl(l)}l=!1}l&&(t=n[0])}}return n=Xt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ax,lastRenderedState:t},n.queue=l,n=wx.bind(null,Te,l),l.dispatch=n,l=Xc(!1),o=Fc.bind(null,Te,!1,l.queue),l=Xt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=t2.bind(null,Te,c,o,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function rx(e){var t=_t();return cx(t,it,e)}function cx(e,t,n){if(t=Uc(e,t,ax)[0],e=kr(sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(y){throw y===Oa?zr:y}else l=t;t=_t();var c=t.queue,o=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Za(9,{destroy:void 0},n2.bind(null,c,n),null)),[l,o,e]}function n2(e,t){e.action=t}function ux(e){var t=_t(),n=it;if(n!==null)return cx(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Br(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function sx(){return _t().memoizedState}function Rr(e,t,n,l){var c=Xt();Te.flags|=e,c.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Or(e,t,n,l){var c=_t();l=l===void 0?null:l;var o=c.memoizedState.inst;it!==null&&l!==null&&kc(l,it.memoizedState.deps)?c.memoizedState=Za(t,o,n,l):(Te.flags|=e,c.memoizedState=Za(1|t,o,n,l))}function ox(e,t){Rr(8390656,8,e,t)}function Wc(e,t){Or(2048,8,e,t)}function l2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Br(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function xx(e){var t=_t().memoizedState;return l2({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function fx(e,t){return Or(4,2,e,t)}function dx(e,t){return Or(4,4,e,t)}function hx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mx(e,t,n){n=n!=null?n.concat([e]):null,Or(4,4,hx.bind(null,t,e),n)}function Jc(){}function bx(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&kc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function vx(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&kc(t,l[1]))return l[0];if(l=e(),sa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l}function Vc(e,t,n){return n===void 0||(ul&1073741824)!==0&&(Re&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=yf(),Te.lanes|=e,ql|=e,n)}function gx(e,t,n,l){return un(n,t)?n:Ya.current!==null?(e=Vc(e,n,l),un(e,t)||(jt=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(Re&261930)===0?(jt=!0,e.memoizedState=n):(e=yf(),Te.lanes|=e,ql|=e,t)}function yx(e,t,n,l,c){var o=L.p;L.p=o!==0&&8>o?o:8;var y=j.T,A={};j.T=A,Fc(e,!1,t,n);try{var K=c(),te=j.S;if(te!==null&&te(A,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=F1(K,l);Ai(e,t,ie,hn(e))}else Ai(e,t,l,hn(e))}catch(ce){Ai(e,t,{then:function(){},status:"rejected",reason:ce},hn())}finally{L.p=o,y!==null&&A.types!==null&&(y.types=A.types),j.T=y}}function a2(){}function Qc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var c=px(e).queue;yx(e,c,t,Y,n===null?a2:function(){return _x(e),n(l)})}function px(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:Y},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _x(e){var t=px(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},hn())}function Pc(){return Gt(Wi)}function Sx(){return _t().memoizedState}function Cx(){return _t().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Dl(n);var l=Nl(t,e,n);l!==null&&(en(l,t,n),ji(l,t,n)),t={cache:Mc()},e.payload=t;return}t=t.return}}function r2(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?jx(t,n):(n=mc(e,t,n,l),n!==null&&(en(n,e,l),Mx(n,t,l)))}function wx(e,t,n){var l=hn();Ai(e,t,n,l)}function Ai(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))jx(t,c);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var y=t.lastRenderedState,A=o(y,n);if(c.hasEagerState=!0,c.eagerState=A,un(A,y))return pr(e,t,c,0),ut===null&&yr(),!1}catch{}if(n=mc(e,t,c,l),n!==null)return en(n,e,l),Mx(n,t,l),!0}return!1}function Fc(e,t,n,l){if(l={lane:2,revertLane:Au(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(r(479))}else t=mc(e,n,l,2),t!==null&&en(t,e,2)}function Hr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function jx(e,t){Ia=Er=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}var Ti={readContext:Gt,use:Gr,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};Ti.useEffectEvent=vt;var zx={readContext:Gt,use:Gr,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:ox,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Rr(4194308,4,hx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){Rr(4,2,e,t)},useMemo:function(e,t){var n=Xt();t=t===void 0?null:t;var l=e();if(sa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Xt();if(n!==void 0){var c=n(t);if(sa){We(!0);try{n(t)}finally{We(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=r2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xc(e);var t=e.queue,n=wx.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jc,useDeferredValue:function(e,t){var n=Xt();return Vc(n,e,t)},useTransition:function(){var e=Xc(!1);return e=yx.bind(null,Te,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Xt();if(Ye){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),ut===null)throw Error(r(349));(Re&127)!==0||Jo(l,t,n)}c.memoizedState=n;var o={value:n,getSnapshot:t};return c.queue=o,ox(Qo.bind(null,l,o,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Vo.bind(null,l,o,n,t),null),n},useId:function(){var e=Xt(),t=ut.identifierPrefix;if(Ye){var n=Jn,l=Wn;n=(l&~(1<<32-se(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pc,useFormState:ix,useActionState:ix,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return Xt().memoizedState=i2.bind(null,Te)},useEffectEvent:function(e){var t=Xt(),n={impl:e};return t.memoizedState=n,function(){if((Pe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},$c={readContext:Gt,use:Gr,useCallback:bx,useContext:Gt,useEffect:Wc,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:vx,useReducer:kr,useRef:sx,useState:function(){return kr(sl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=_t();return gx(n,it.memoizedState,e,t)},useTransition:function(){var e=kr(sl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Wo,useId:Sx,useHostTransitionStatus:Pc,useFormState:rx,useActionState:rx,useOptimistic:function(e,t){var n=_t();return $o(n,it,e,t)},useMemoCache:Ic,useCacheRefresh:Cx};$c.useEffectEvent=xx;var Dx={readContext:Gt,use:Gr,useCallback:bx,useContext:Gt,useEffect:Wc,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:vx,useReducer:Zc,useRef:sx,useState:function(){return Zc(sl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=_t();return it===null?Vc(n,e,t):gx(n,it.memoizedState,e,t)},useTransition:function(){var e=Zc(sl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Wo,useId:Sx,useHostTransitionStatus:Pc,useFormState:ux,useActionState:ux,useOptimistic:function(e,t){var n=_t();return it!==null?$o(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Cx};Dx.useEffectEvent=xx;function eu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),c=Dl(l);c.payload=t,n!=null&&(c.callback=n),t=Nl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),c=Dl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Nl(e,c,l),t!==null&&(en(t,e,l),ji(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Dl(n);l.tag=2,t!=null&&(l.callback=t),t=Nl(e,l,n),t!==null&&(en(t,e,n),ji(t,e,n))}};function Nx(e,t,n,l,c,o,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,y):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(c,o):!0}function Ax(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function oa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Tx(e){gr(e)}function Lx(e){console.error(e)}function Ex(e){gr(e)}function Yr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nu(e,t,n){return n=Dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Yr(e,t)},n}function Bx(e){return e=Dl(e),e.tag=3,e}function Gx(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var o=l.value;e.payload=function(){return c(o)},e.callback=function(){qx(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){qx(t,n,l),typeof c!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function c2(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,c,!0),n=on.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?$r():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),zu(e,l,c)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),zu(e,l,c)),!1}throw Error(r(435,n.tag))}return zu(e,l,c),$r(),!1}if(Ye)return t=on.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==_c&&(e=Error(r(422),{cause:l}),pi(jn(e,n)))):(l!==_c&&(t=Error(r(423),{cause:l}),pi(jn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=jn(l,n),c=nu(e.stateNode,l,c),Lc(e,c),gt!==4&&(gt=2)),!1;var o=Error(r(520),{cause:l});if(o=jn(o,n),Oi===null?Oi=[o]:Oi.push(o),gt!==4&&(gt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=nu(n.stateNode,l,e),Lc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Bl===null||!Bl.has(o))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Bx(c),Gx(c,e,n,l),Lc(n,c),!1}n=n.return}while(n!==null);return!1}var lu=Error(r(461)),jt=!1;function kt(e,t,n,l){t.child=e===null?Ho(t,null,n,l):ua(t,e.child,n,l)}function kx(e,t,n,l,c){n=n.render;var o=t.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return aa(t),l=Rc(e,t,n,y,o,c),A=Oc(),e!==null&&!jt?(Hc(e,t,c),ol(e,t,c)):(Ye&&A&&yc(t),t.flags|=1,kt(e,t,l,c),t.child)}function Rx(e,t,n,l,c){if(e===null){var o=n.type;return typeof o=="function"&&!bc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ox(e,t,o,l,c)):(e=Sr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!xu(e,c)){var y=o.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(y,l)&&e.ref===t.ref)return ol(e,t,c)}return t.flags|=1,e=al(o,l),e.ref=t.ref,e.return=t,t.child=e}function Ox(e,t,n,l,c){if(e!==null){var o=e.memoizedProps;if(vi(o,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=o,xu(e,c))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,ol(e,t,c)}return au(e,t,n,l,c)}function Hx(e,t,n,l){var c=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~o}else l=0,t.child=null;return Yx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,o!==null?o.cachePool:null),o!==null?Uo(t,o):qc(),Zo(t);else return l=t.lanes=536870912,Yx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Mr(t,o.cachePool),Uo(t,o),Tl(),t.memoizedState=null):(e!==null&&Mr(t,null),qc(),Tl());return kt(e,t,c,n),t.child}function Li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yx(e,t,n,l,c){var o=Dc();return o=o===null?null:{parent:Ct._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Mr(t,null),qc(),Zo(t),e!==null&&Ga(e,t,l,!0),t.childLanes=c,null}function Ir(e,t){return t=Zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ix(e,t,n){return ua(t,e.child,null,n),e=Ir(t,t.pendingProps),e.flags|=2,xn(t),t.memoizedState=null,e}function u2(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(l.mode==="hidden")return e=Ir(t,l),t.lanes=536870912,Li(null,e);if(Gc(t),(e=ft)?(e=td(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Bt=t,ft=null)):e=null,e===null)throw jl(t);return t.lanes=536870912,null}return Ir(t,l)}var o=e.memoizedState;if(o!==null){var y=o.dehydrated;if(Gc(t),c)if(t.flags&256)t.flags&=-257,t=Ix(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(jt||Ga(e,t,n,!1),c=(n&e.childLanes)!==0,jt||c){if(l=ut,l!==null&&(y=tt(l,n),y!==0&&y!==o.retryLane))throw o.retryLane=y,ea(e,y),en(l,e,y),lu;$r(),t=Ix(e,t,n)}else e=o.treeContext,ft=An(y.nextSibling),Bt=t,Ye=!0,wl=null,Dn=!1,e!==null&&Do(t,e),t=Ir(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ur(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function au(e,t,n,l,c){return aa(t),n=Rc(e,t,n,l,void 0,c),l=Oc(),e!==null&&!jt?(Hc(e,t,c),ol(e,t,c)):(Ye&&l&&yc(t),t.flags|=1,kt(e,t,n,c),t.child)}function Ux(e,t,n,l,c,o){return aa(t),t.updateQueue=null,n=Ko(t,l,n,c),Xo(e),l=Oc(),e!==null&&!jt?(Hc(e,t,o),ol(e,t,o)):(Ye&&l&&yc(t),t.flags|=1,kt(e,t,n,o),t.child)}function Zx(e,t,n,l,c){if(aa(t),t.stateNode===null){var o=La,y=n.contextType;typeof y=="object"&&y!==null&&(o=Gt(y)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=tu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Ac(t),y=n.contextType,o.context=typeof y=="object"&&y!==null?Gt(y):La,o.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(eu(t,n,y,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(y=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),y!==o.state&&tu.enqueueReplaceState(o,o.state,null),zi(t,l,o,c),Mi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var A=t.memoizedProps,K=oa(n,A);o.props=K;var te=o.context,ie=n.contextType;y=La,typeof ie=="object"&&ie!==null&&(y=Gt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof o.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ie||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(A||te!==y)&&Ax(t,o,l,y),zl=!1;var ne=t.memoizedState;o.state=ne,zi(t,l,o,c),Mi(),te=t.memoizedState,A||ne!==te||zl?(typeof ce=="function"&&(eu(t,n,ce,l),te=t.memoizedState),(K=zl||Nx(t,n,K,l,ne,te,y))?(ie||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),o.props=l,o.state=te,o.context=y,l=K):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Tc(e,t),y=t.memoizedProps,ie=oa(n,y),o.props=ie,ce=t.pendingProps,ne=o.context,te=n.contextType,K=La,typeof te=="object"&&te!==null&&(K=Gt(te)),A=n.getDerivedStateFromProps,(te=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y!==ce||ne!==K)&&Ax(t,o,l,K),zl=!1,ne=t.memoizedState,o.state=ne,zi(t,l,o,c),Mi();var le=t.memoizedState;y!==ce||ne!==le||zl||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof A=="function"&&(eu(t,n,A,l),le=t.memoizedState),(ie=zl||Nx(t,n,ie,l,ne,le,K)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(te||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,le,K),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,le,K)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),o.props=l,o.state=le,o.context=K,l=ie):(typeof o.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Ur(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=ua(t,e.child,null,c),t.child=ua(t,null,n,c)):kt(e,t,n,c),t.memoizedState=o.state,e=t.child):e=ol(e,t,c),e}function Xx(e,t,n,l){return na(),t.flags|=256,kt(e,t,n,l),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:qo()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Kx(e,t,n){var l=t.pendingProps,c=!1,o=(t.flags&128)!==0,y;if((y=o)||(y=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(c?Al(t):Tl(),(e=ft)?(e=td(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Bt=t,ft=null)):e=null,e===null)throw jl(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,c?(Tl(),c=t.mode,A=Zr({mode:"hidden",children:A},c),l=ta(l,c,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,y,n),t.memoizedState=iu,Li(null,l)):(Al(t),uu(t,A))}var K=e.memoizedState;if(K!==null&&(A=K.dehydrated,A!==null)){if(o)t.flags&256?(Al(t),t.flags&=-257,t=su(e,t,n)):t.memoizedState!==null?(Tl(),t.child=e.child,t.flags|=128,t=null):(Tl(),A=l.fallback,c=t.mode,l=Zr({mode:"visible",children:l.children},c),A=ta(A,c,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ua(t,e.child,null,n),l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,y,n),t.memoizedState=iu,t=Li(null,l));else if(Al(t),Uu(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var te=y.dgst;y=te,l=Error(r(419)),l.stack="",l.digest=y,pi({value:l,source:null,stack:null}),t=su(e,t,n)}else if(jt||Ga(e,t,n,!1),y=(n&e.childLanes)!==0,jt||y){if(y=ut,y!==null&&(l=tt(y,n),l!==0&&l!==K.retryLane))throw K.retryLane=l,ea(e,l),en(y,e,l),lu;Iu(A)||$r(),t=su(e,t,n)}else Iu(A)?(t.flags|=192,t.child=e.child,t=null):(e=K.treeContext,ft=An(A.nextSibling),Bt=t,Ye=!0,wl=null,Dn=!1,e!==null&&Do(t,e),t=uu(t,l.children),t.flags|=4096);return t}return c?(Tl(),A=l.fallback,c=t.mode,K=e.child,te=K.sibling,l=al(K,{mode:"hidden",children:l.children}),l.subtreeFlags=K.subtreeFlags&65011712,te!==null?A=al(te,A):(A=ta(A,c,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Li(null,l),l=t.child,A=e.child.memoizedState,A===null?A=ru(n):(c=A.cachePool,c!==null?(K=Ct._currentValue,c=c.parent!==K?{parent:K,pool:K}:c):c=qo(),A={baseLanes:A.baseLanes|n,cachePool:c}),l.memoizedState=A,l.childLanes=cu(e,y,n),t.memoizedState=iu,Li(e.child,l)):(Al(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function uu(e,t){return t=Zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zr(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function su(e,t,n){return ua(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,n)}function ou(e,t,n,l,c,o){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:o}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=c,y.treeForkCount=o)}function Jx(e,t,n){var l=t.pendingProps,c=l.revealOrder,o=l.tail;l=l.children;var y=pt.current,A=(y&2)!==0;if(A?(y=y&1|2,t.flags|=128):y&=1,H(pt,y),kt(e,t,l,n),l=Ye?yi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wx(e,n,t);else if(e.tag===19)Wx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),ou(t,!1,c,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Lr(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}ou(t,!0,n,null,o,l);break;case"together":ou(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ql|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function s2(e,t,n){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Ml(t,Ct,e.memoizedState.cache),na();break;case 27:case 5:Se(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Ml(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Al(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Kx(e,t,n):(Al(t),e=ol(e,t,n),e!==null?e.sibling:null);Al(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Jx(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),H(pt,pt.current),l)break;return null;case 22:return t.lanes=0,Hx(e,t,n,t.pendingProps);case 24:Ml(t,Ct,e.memoizedState.cache)}return ol(e,t,n)}function Vx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!xu(e,n)&&(t.flags&128)===0)return jt=!1,s2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ye&&(t.flags&1048576)!==0&&zo(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")bc(e)?(l=oa(e,l),t.tag=1,t=Zx(null,t,e,l,n)):(t.tag=0,t=au(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===O){t.tag=11,t=kx(null,t,e,l,n);break e}else if(c===q){t.tag=14,t=Rx(null,t,e,l,n);break e}}throw t=T(e)||e,Error(r(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=oa(l,t.pendingProps),Zx(e,t,l,c,n);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var o=t.memoizedState;c=o.element,Tc(e,t),zi(t,l,null,n);var y=t.memoizedState;if(l=y.cache,Ml(t,Ct,l),l!==o.cache&&jc(t,[Ct],n,!0),Mi(),l=y.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Xx(e,t,l,n);break e}else if(l!==c){c=jn(Error(r(424)),t),pi(c),t=Xx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=An(e.firstChild),Bt=t,Ye=!0,wl=null,Dn=!0,n=Ho(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),l===c){t=ol(e,t,n);break e}kt(e,t,l,n)}t=t.child}return t;case 26:return Ur(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,l=r0(oe.current).createElement(n),l[Nt]=t,l[Ut]=e,Rt(l,n,e),Tt(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&Ye&&(l=t.stateNode=ad(t.type,t.pendingProps,oe.current),Bt=t,Dn=!0,c=ft,Ol(t.type)?(Zu=c,ft=An(l.firstChild)):ft=c),kt(e,t,t.pendingProps.children,n),Ur(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((c=l=ft)&&(l=O2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Bt=t,ft=An(l.firstChild),Dn=!1,c=!0):c=!1),c||jl(t)),Se(t),c=t.type,o=t.pendingProps,y=e!==null?e.memoizedProps:null,l=o.children,Ou(c,o)?l=null:y!==null&&Ou(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=Rc(e,t,e2,null,null,n),Wi._currentValue=c),Ur(e,t),kt(e,t,l,n),t.child;case 6:return e===null&&Ye&&((e=n=ft)&&(n=H2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Bt=t,ft=null,e=!0):e=!1),e||jl(t)),null;case 13:return Kx(e,t,n);case 4:return _e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ua(t,null,l,n):kt(e,t,l,n),t.child;case 11:return kx(e,t,t.type,t.pendingProps,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ml(t,t.type,l.value),kt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,aa(t),c=Gt(c),l=l(c),t.flags|=1,kt(e,t,l,n),t.child;case 14:return Rx(e,t,t.type,t.pendingProps,n);case 15:return Ox(e,t,t.type,t.pendingProps,n);case 19:return Jx(e,t,n);case 31:return u2(e,t,n);case 22:return Hx(e,t,n,t.pendingProps);case 24:return aa(t),l=Gt(Ct),e===null?(c=Dc(),c===null&&(c=ut,o=Mc(),c.pooledCache=o,o.refCount++,o!==null&&(c.pooledCacheLanes|=n),c=o),t.memoizedState={parent:l,cache:c},Ac(t),Ml(t,Ct,c)):((e.lanes&n)!==0&&(Tc(e,t),zi(t,null,null,n),Mi()),c=e.memoizedState,o=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ml(t,Ct,l)):(l=o.cache,Ml(t,Ct,l),l!==c.cache&&jc(t,[Ct],n,!0))),kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function xl(e){e.flags|=4}function fu(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw ca=Dr,Nc}else e.flags&=-16777217}function Qx(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw ca=Dr,Nc}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qe():536870912,e.lanes|=t,Ja|=t)}function Ei(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function o2(e,t,n){var l=t.pendingProps;switch(pc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(Ct),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?xl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sc())),dt(t),null;case 26:var c=t.type,o=t.memoizedState;return e===null?(xl(t),o!==null?(dt(t),Qx(t,o)):(dt(t),fu(t,c,null,l,n))):o?o!==e.memoizedState?(xl(t),dt(t),Qx(t,o)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&xl(t),dt(t),fu(t,c,e,l,n)),null;case 27:if(xe(t),n=oe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}e=J.current,Ba(t)?No(t):(e=ad(c,l,n),t.stateNode=e,xl(t))}return dt(t),null;case 5:if(xe(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return dt(t),null}if(o=J.current,Ba(t))No(t);else{var y=r0(oe.current);switch(o){case 1:o=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:o=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":o=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":o=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":o=y.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?y.createElement(c,{is:l.is}):y.createElement(c)}}o[Nt]=t,o[Ut]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=o;e:switch(Rt(o,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&xl(t)}}return dt(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&xl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=oe.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=Bt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,n)),e||jl(t,!0)}else e=r0(e).createTextNode(l),e[Nt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ba(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Nt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xn(t),t):(xn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ba(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Nt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),c=!1}else c=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(xn(t),t):(xn(t),null)}return xn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),dt(t),null);case 4:return he(),e===null&&qu(t.stateNode.containerInfo),dt(t),null;case 10:return cl(t.type),dt(t),null;case 19:if(B(pt),l=t.memoizedState,l===null)return dt(t),null;if(c=(t.flags&128)!==0,o=l.rendering,o===null)if(c)Ei(l,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Lr(e),o!==null){for(t.flags|=128,Ei(l,!1),e=o.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)wo(n,e),n=n.sibling;return H(pt,pt.current&1|2),Ye&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ke()>Qr&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304)}else{if(!c)if(e=Lr(o),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ye)return dt(t),null}else 2*Ke()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,c=!0,Ei(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,n=pt.current,H(pt,c?n&1|2:n&1),Ye&&il(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return xn(t),Bc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(Ct),dt(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function x2(e,t){switch(pc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(Ct),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xe(t),null;case 31:if(t.memoizedState!==null){if(xn(t),t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(pt),null;case 4:return he(),null;case 10:return cl(t.type),null;case 22:case 23:return xn(t),Bc(),e!==null&&B(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(Ct),null;case 25:return null;default:return null}}function Px(e,t){switch(pc(t),t.tag){case 3:cl(Ct),he();break;case 26:case 27:case 5:xe(t);break;case 4:he();break;case 31:t.memoizedState!==null&&xn(t);break;case 13:xn(t);break;case 19:B(pt);break;case 10:cl(t.type);break;case 22:case 23:xn(t),Bc(),e!==null&&B(ia);break;case 24:cl(Ct)}}function qi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var o=n.create,y=n.inst;l=o(),y.destroy=l}n=n.next}while(n!==c)}}catch(A){at(t,t.return,A)}}function Ll(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var o=c.next;l=o;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,c=t;var K=n,te=A;try{te()}catch(ie){at(c,K,ie)}}}l=l.next}while(l!==o)}}catch(ie){at(t,t.return,ie)}}function Fx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Io(t,n)}catch(l){at(e,e.return,l)}}}function $x(e,t,n){n.props=oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){at(e,t,l)}}function Bi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){at(e,t,c)}}function Vn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){at(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){at(e,t,c)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){at(e,e.return,c)}}function du(e,t,n){try{var l=e.stateNode;E2(l,e.type,n,t),l[Ut]=t}catch(c){at(e,e.return,c)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ol(e.type)||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ol(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&Ol(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,n),e=e.sibling;e!==null;)mu(e,t,n),e=e.sibling}function Kr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ol(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Kr(e,t,n),e=e.sibling;e!==null;)Kr(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Rt(t,l,n),t[Nt]=e,t[Ut]=n}catch(o){at(e,e.return,o)}}var fl=!1,Mt=!1,bu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function f2(e,t){if(e=e.containerInfo,ku=d0,e=mo(e),sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var y=0,A=-1,K=-1,te=0,ie=0,ce=e,ne=null;t:for(;;){for(var le;ce!==n||c!==0&&ce.nodeType!==3||(A=y+c),ce!==o||l!==0&&ce.nodeType!==3||(K=y+l),ce.nodeType===3&&(y+=ce.nodeValue.length),(le=ce.firstChild)!==null;)ne=ce,ce=le;for(;;){if(ce===e)break t;if(ne===n&&++te===c&&(A=y),ne===o&&++ie===l&&(K=y),(le=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=le}n=A===-1||K===-1?null:{start:A,end:K}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:e,selectionRange:n},d0=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,c=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var me=oa(n.type,c);e=l.getSnapshotBeforeUpdate(me,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){at(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function af(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&qi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){at(n,n.return,y)}else{var c=oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){at(n,n.return,y)}}l&64&&Fx(n),l&512&&Bi(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Io(e,t)}catch(y){at(n,n.return,y)}}break;case 27:t===null&&l&4&&nf(n);case 26:case 5:hl(e,n),t===null&&l&4&&ef(n),l&512&&Bi(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&uf(e,n);break;case 13:hl(e,n),l&4&&sf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_2.bind(null,n),Y2(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||Mt,c=fl;var o=Mt;fl=l,(Mt=t)&&!o?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=c,Mt=o}break;case 30:break;default:hl(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,Qt=!1;function dl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:Mt||Vn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Vn(n,t);var l=mt,c=Qt;Ol(n.type)&&(mt=n.stateNode,Qt=!1),dl(e,t,n),Zi(n.stateNode),mt=l,Qt=c;break;case 5:Mt||Vn(n,t);case 6:if(l=mt,c=Qt,mt=null,dl(e,t,n),mt=l,Qt=c,mt!==null)if(Qt)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(n.stateNode)}catch(o){at(n,t,o)}else try{mt.removeChild(n.stateNode)}catch(o){at(n,t,o)}break;case 18:mt!==null&&(Qt?(e=mt,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):$f(mt,n.stateNode));break;case 4:l=mt,c=Qt,mt=n.stateNode.containerInfo,Qt=!0,dl(e,t,n),mt=l,Qt=c;break;case 0:case 11:case 14:case 15:Ll(2,n,t),Mt||Ll(4,n,t),dl(e,t,n);break;case 1:Mt||(Vn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$x(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,dl(e,t,n),Mt=l;break;default:dl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){at(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){at(t,t.return,n)}}function d2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(r(435,e.tag))}}function Wr(e,t){var n=d2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=S2.bind(null,e,l);l.then(c,c)}})}function Pt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],o=e,y=t,A=y;e:for(;A!==null;){switch(A.tag){case 27:if(Ol(A.type)){mt=A.stateNode,Qt=!1;break e}break;case 5:mt=A.stateNode,Qt=!1;break e;case 3:case 4:mt=A.stateNode.containerInfo,Qt=!0;break e}A=A.return}if(mt===null)throw Error(r(160));cf(o,y,c),mt=null,Qt=!1,o=c.alternate,o!==null&&(o.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var In=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(t,e),Ft(e),l&4&&(Ll(3,e,e.return),qi(3,e),Ll(5,e,e.return));break;case 1:Pt(t,e),Ft(e),l&512&&(Mt||n===null||Vn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=In;if(Pt(t,e),Ft(e),l&512&&(Mt||n===null||Vn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":o=c.getElementsByTagName("title")[0],(!o||o[cn]||o[Nt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=c.createElement(l),c.head.insertBefore(o,c.querySelector("head > title"))),Rt(o,l,n),o[Nt]=e,Tt(o),l=o;break e;case"link":var y=od("link","href",c).get(l+(n.href||""));if(y){for(var A=0;A<y.length;A++)if(o=y[A],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(A,1);break t}}o=c.createElement(l),Rt(o,l,n),c.head.appendChild(o);break;case"meta":if(y=od("meta","content",c).get(l+(n.content||""))){for(A=0;A<y.length;A++)if(o=y[A],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(A,1);break t}}o=c.createElement(l),Rt(o,l,n),c.head.appendChild(o);break;default:throw Error(r(468,l))}o[Nt]=e,Tt(o),l=o}e.stateNode=l}else xd(c,e.type,e.stateNode);else e.stateNode=sd(c,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?xd(c,e.type,e.stateNode):sd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&du(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pt(t,e),Ft(e),l&512&&(Mt||n===null||Vn(n,n.return)),n!==null&&l&4&&du(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pt(t,e),Ft(e),l&512&&(Mt||n===null||Vn(n,n.return)),e.flags&32){c=e.stateNode;try{ja(c,"")}catch(me){at(e,e.return,me)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,du(e,c,n!==null?n.memoizedProps:c)),l&1024&&(bu=!0);break;case 6:if(Pt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){at(e,e.return,me)}}break;case 3:if(s0=null,c=In,In=c0(t.containerInfo),Pt(t,e),In=c,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(me){at(e,e.return,me)}bu&&(bu=!1,xf(e));break;case 4:l=In,In=c0(e.stateNode.containerInfo),Pt(t,e),Ft(e),In=l;break;case 12:Pt(t,e),Ft(e);break;case 31:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 13:Pt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vr=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 22:c=e.memoizedState!==null;var K=n!==null&&n.memoizedState!==null,te=fl,ie=Mt;if(fl=te||c,Mt=ie||K,Pt(t,e),Mt=ie,fl=te,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||K||fl||Mt||xa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){K=n=t;try{if(o=K.stateNode,c)y=o.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode;var ce=K.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(me){at(K,K.return,me)}}}else if(t.tag===6){if(n===null){K=t;try{K.stateNode.nodeValue=c?"":K.memoizedProps}catch(me){at(K,K.return,me)}}}else if(t.tag===18){if(n===null){K=t;try{var le=K.stateNode;c?ed(le,!0):ed(K.stateNode,!1)}catch(me){at(K,K.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Wr(e,n))));break;case 19:Pt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 30:break;case 21:break;default:Pt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(tf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var c=n.stateNode,o=hu(e);Kr(e,o,c);break;case 5:var y=n.stateNode;n.flags&32&&(ja(y,""),n.flags&=-33);var A=hu(e);Kr(e,A,y);break;case 3:case 4:var K=n.stateNode.containerInfo,te=hu(e);mu(e,te,K);break;default:throw Error(r(161))}}catch(ie){at(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),xa(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$x(t,t.return,n),xa(t);break;case 27:Zi(t.stateNode);case 26:case 5:Vn(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,o=t,y=o.flags;switch(o.tag){case 0:case 11:case 15:ml(c,o,n),qi(4,o);break;case 1:if(ml(c,o,n),l=o,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(te){at(l,l.return,te)}if(l=o,c=l.updateQueue,c!==null){var A=l.stateNode;try{var K=c.shared.hiddenCallbacks;if(K!==null)for(c.shared.hiddenCallbacks=null,c=0;c<K.length;c++)Yo(K[c],A)}catch(te){at(l,l.return,te)}}n&&y&64&&Fx(o),Bi(o,o.return);break;case 27:nf(o);case 26:case 5:ml(c,o,n),n&&l===null&&y&4&&ef(o),Bi(o,o.return);break;case 12:ml(c,o,n);break;case 31:ml(c,o,n),n&&y&4&&uf(c,o);break;case 13:ml(c,o,n),n&&y&4&&sf(c,o);break;case 22:o.memoizedState===null&&ml(c,o,n),Bi(o,o.return);break;case 30:break;default:ml(c,o,n)}t=t.sibling}}function vu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function Un(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,l),t=t.sibling}function ff(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,l),c&2048&&qi(9,t);break;case 1:Un(e,t,n,l);break;case 3:Un(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(c&2048){Un(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,y=o.id,A=o.onPostCommit;typeof A=="function"&&A(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(K){at(t,t.return,K)}}else Un(e,t,n,l);break;case 31:Un(e,t,n,l);break;case 13:Un(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,y=t.alternate,t.memoizedState!==null?o._visibility&2?Un(e,t,n,l):Gi(e,t):o._visibility&2?Un(e,t,n,l):(o._visibility|=2,Xa(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&vu(y,t);break;case 24:Un(e,t,n,l),c&2048&&gu(t.alternate,t);break;default:Un(e,t,n,l)}}function Xa(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,y=t,A=n,K=l,te=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(o,y,A,K,c),qi(8,y);break;case 23:break;case 22:var ie=y.stateNode;y.memoizedState!==null?ie._visibility&2?Xa(o,y,A,K,c):Gi(o,y):(ie._visibility|=2,Xa(o,y,A,K,c)),c&&te&2048&&vu(y.alternate,y);break;case 24:Xa(o,y,A,K,c),c&&te&2048&&gu(y.alternate,y);break;default:Xa(o,y,A,K,c)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Gi(n,l),c&2048&&vu(l.alternate,l);break;case 24:Gi(n,l),c&2048&&gu(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var ki=8192;function Ka(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)df(e,t,n),e=e.sibling}function df(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&ki&&e.memoizedState!==null&&$2(n,In,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var l=In;In=c0(e.stateNode.containerInfo),Ka(e,t,n),In=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Ka(e,t,n),ki=l):Ka(e,t,n));break;default:Ka(e,t,n)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ri(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,bf(l,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Ri(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Ri(e);break;case 12:Ri(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jr(e)):Ri(e);break;default:Ri(e)}}function Jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,bf(l,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),Jr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Jr(t));break;default:Jr(t)}e=e.sibling}}function bf(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var c=l.sibling,o=l.return;if(rf(l),l===n){Lt=null;break e}if(c!==null){c.return=o,Lt=c;break e}Lt=o}}}var h2={getCacheForType:function(e){var t=Gt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(Ct).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,Pe=0,ut=null,Ge=null,Re=0,lt=0,fn=null,El=!1,Wa=!1,yu=!1,bl=0,gt=0,ql=0,fa=0,pu=0,dn=0,Ja=0,Oi=null,$t=null,_u=!1,Vr=0,vf=0,Qr=1/0,Pr=null,Bl=null,At=0,Gl=null,Va=null,vl=0,Su=0,Cu=null,gf=null,Hi=0,wu=null;function hn(){return(Pe&2)!==0&&Re!==0?Re&-Re:j.T!==null?Au():ya()}function yf(){if(dn===0)if((Re&536870912)===0||Ye){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),dn=e}else dn=536870912;return e=on.current,e!==null&&(e.flags|=32),dn}function en(e,t,n){(e===ut&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),kl(e,Re,dn,!1)),yt(e,n),((Pe&2)===0||e!==ut)&&(e===ut&&((Pe&2)===0&&(fa|=n),gt===4&&kl(e,Re,dn,!1)),Qn(e))}function pf(e,t,n){if((Pe&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||He(e,t),c=l?g2(e,t):Mu(e,t,!0),o=l;do{if(c===0){Wa&&!l&&kl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!b2(n)){c=Mu(e,t,!1),o=!1;continue}if(c===2){if(o=t,e.errorRecoveryDisabledLanes&o)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var A=e;c=Oi;var K=A.current.memoizedState.isDehydrated;if(K&&(Qa(A,y).flags|=256),y=Mu(A,y,!1),y!==2){if(yu&&!K){A.errorRecoveryDisabledLanes|=o,fa|=o,c=4;break e}o=$t,$t=c,o!==null&&($t===null?$t=o:$t.push.apply($t,o))}c=y}if(o=!1,c!==2)continue}}if(c===1){Qa(e,0),kl(e,t,0,!0);break}e:{switch(l=e,o=c,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:kl(l,t,dn,!El);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(c=Vr+300-Ke(),10<c)){if(kl(l,t,dn,!El),Je(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Pf(_f.bind(null,l,n,$t,Pr,_u,t,dn,fa,Ja,El,o,"Throttled",-0,0),c);break e}_f(l,n,$t,Pr,_u,t,dn,fa,Ja,El,o,null,-0,0)}}break}while(!0);Qn(e)}function _f(e,t,n,l,c,o,y,A,K,te,ie,ce,ne,le){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},df(t,o,ce);var me=(o&62914560)===o?Vr-Ke():(o&4194048)===o?vf-Ke():0;if(me=eh(ce,me),me!==null){vl=o,e.cancelPendingCommit=me(Nf.bind(null,e,t,o,n,l,c,y,A,K,ie,ce,null,ne,le)),kl(e,o,y,!te);return}}Nf(e,t,o,n,l,c,y,A,K)}function b2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],o=c.getSnapshot;c=c.value;try{if(!un(o(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kl(e,t,n,l){t&=~pu,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var o=31-se(c),y=1<<o;l[o]=-1,c&=~y}n!==0&&Me(e,n,t)}function Fr(){return(Pe&6)===0?(Yi(0),!1):!0}function ju(){if(Ge!==null){if(lt===0)var e=Ge.return;else e=Ge,rl=la=null,Yc(e),Ha=null,Ci=0,e=Ge;for(;e!==null;)Px(e.alternate,e),e=e.return;Ge=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,G2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,ju(),ut=e,Ge=n=al(e.current,null),Re=t,lt=0,fn=null,El=!1,Wa=He(e,t),yu=!1,Ja=dn=pu=fa=ql=gt=0,$t=Oi=null,_u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-se(l),o=1<<c;t|=e[c],l&=~o}return bl=t,yr(),n}function Sf(e,t){Te=null,j.H=Ti,t===Oa||t===zr?(t=ko(),lt=3):t===Nc?(t=ko(),lt=4):lt=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Ge===null&&(gt=1,Yr(e,jn(t,e.current)))}function Cf(){var e=on.current;return e===null?!0:(Re&4194048)===Re?Nn===null:(Re&62914560)===Re||(Re&536870912)!==0?e===Nn:!1}function wf(){var e=j.H;return j.H=Ti,e===null?Ti:e}function jf(){var e=j.A;return j.A=h2,e}function $r(){gt=4,El||(Re&4194048)!==Re&&on.current!==null||(Wa=!0),(ql&134217727)===0&&(fa&134217727)===0||ut===null||kl(ut,Re,dn,!1)}function Mu(e,t,n){var l=Pe;Pe|=2;var c=wf(),o=jf();(ut!==e||Re!==t)&&(Pr=null,Qa(e,t)),t=!1;var y=gt;e:do try{if(lt!==0&&Ge!==null){var A=Ge,K=fn;switch(lt){case 8:ju(),y=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(t=!0);var te=lt;if(lt=0,fn=null,Pa(e,A,K,te),n&&Wa){y=0;break e}break;default:te=lt,lt=0,fn=null,Pa(e,A,K,te)}}v2(),y=gt;break}catch(ie){Sf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=la=null,Pe=l,j.H=c,j.A=o,Ge===null&&(ut=null,Re=0,yr()),y}function v2(){for(;Ge!==null;)Mf(Ge)}function g2(e,t){var n=Pe;Pe|=2;var l=wf(),c=jf();ut!==e||Re!==t?(Pr=null,Qr=Ke()+500,Qa(e,t)):Wa=He(e,t);e:do try{if(lt!==0&&Ge!==null){t=Ge;var o=fn;t:switch(lt){case 1:lt=0,fn=null,Pa(e,t,o,1);break;case 2:case 9:if(Bo(o)){lt=0,fn=null,zf(t);break}t=function(){lt!==2&&lt!==9||ut!==e||(lt=7),Qn(e)},o.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Bo(o)?(lt=0,fn=null,zf(t)):(lt=0,fn=null,Pa(e,t,o,7));break;case 5:var y=null;switch(Ge.tag){case 26:y=Ge.memoizedState;case 5:case 27:var A=Ge;if(y?fd(y):A.stateNode.complete){lt=0,fn=null;var K=A.sibling;if(K!==null)Ge=K;else{var te=A.return;te!==null?(Ge=te,e0(te)):Ge=null}break t}}lt=0,fn=null,Pa(e,t,o,5);break;case 6:lt=0,fn=null,Pa(e,t,o,6);break;case 8:ju(),gt=6;break e;default:throw Error(r(462))}}y2();break}catch(ie){Sf(e,ie)}while(!0);return rl=la=null,j.H=l,j.A=c,Pe=n,Ge!==null?0:(ut=null,Re=0,yr(),gt)}function y2(){for(;Ge!==null&&!rn();)Mf(Ge)}function Mf(e){var t=Vx(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ux(n,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Ux(n,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:Yc(t);default:Px(n,t),t=Ge=wo(t,bl),t=Vx(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?e0(e):Ge=t}function Pa(e,t,n,l){rl=la=null,Yc(t),Ha=null,Ci=0;var c=t.return;try{if(c2(e,c,t,n,Re)){gt=1,Yr(e,jn(n,e.current)),Ge=null;return}}catch(o){if(c!==null)throw Ge=c,o;gt=1,Yr(e,jn(n,e.current)),Ge=null;return}t.flags&32768?(Ye||l===1?e=!0:Wa||(Re&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=on.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):e0(t)}function e0(e){var t=e;do{if((t.flags&32768)!==0){Df(t,El);return}e=t.return;var n=o2(t.alternate,t,bl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);gt===0&&(gt=5)}function Df(e,t){do{var n=x2(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);gt=6,Ge=null}function Nf(e,t,n,l,c,o,y,A,K){e.cancelPendingCommit=null;do t0();while(At!==0);if((Pe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=hc,Fe(e,n,o,y,A,K),e===ut&&(Ge=ut=null,Re=0),Va=t,Gl=e,vl=n,Su=o,Cu=c,gf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C2(On,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=L.p,L.p=2,y=Pe,Pe|=4;try{f2(e,t,n)}finally{Pe=y,L.p=c,j.T=l}}At=1,Af(),Tf(),Lf()}}function Af(){if(At===1){At=0;var e=Gl,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=L.p;L.p=2;var c=Pe;Pe|=4;try{of(t,e);var o=Ru,y=mo(e.containerInfo),A=o.focusedElem,K=o.selectionRange;if(y!==A&&A&&A.ownerDocument&&ho(A.ownerDocument.documentElement,A)){if(K!==null&&sc(A)){var te=K.start,ie=K.end;if(ie===void 0&&(ie=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ie,A.value.length);else{var ce=A.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var le=ne.getSelection(),me=A.textContent.length,we=Math.min(K.start,me),ct=K.end===void 0?we:Math.min(K.end,me);!le.extend&&we>ct&&(y=ct,ct=we,we=y);var F=fo(A,we),V=fo(A,ct);if(F&&V&&(le.rangeCount!==1||le.anchorNode!==F.node||le.anchorOffset!==F.offset||le.focusNode!==V.node||le.focusOffset!==V.offset)){var ee=ce.createRange();ee.setStart(F.node,F.offset),le.removeAllRanges(),we>ct?(le.addRange(ee),le.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),le.addRange(ee))}}}}for(ce=[],le=A;le=le.parentNode;)le.nodeType===1&&ce.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var re=ce[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}d0=!!ku,Ru=ku=null}finally{Pe=c,L.p=l,j.T=n}}e.current=t,At=2}}function Tf(){if(At===2){At=0;var e=Gl,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=L.p;L.p=2;var c=Pe;Pe|=4;try{af(e,t.alternate,t)}finally{Pe=c,L.p=l,j.T=n}}At=3}}function Lf(){if(At===4||At===3){At=0,$n();var e=Gl,t=Va,n=vl,l=gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?At=5:(At=0,Va=Gl=null,Ef(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Bl=null),pn(n),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,c=L.p,L.p=2,j.T=null;try{for(var o=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];o(A.value,{componentStack:A.stack})}}finally{j.T=t,L.p=c}}(vl&3)!==0&&t0(),Qn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===wu?Hi++:(Hi=0,wu=e):Hi=0,Yi(0)}}function Ef(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function t0(){return Af(),Tf(),Lf(),qf()}function qf(){if(At!==5)return!1;var e=Gl,t=Su;Su=0;var n=pn(vl),l=j.T,c=L.p;try{L.p=32>n?32:n,j.T=null,n=Cu,Cu=null;var o=Gl,y=vl;if(At=0,Va=Gl=null,vl=0,(Pe&6)!==0)throw Error(r(331));var A=Pe;if(Pe|=4,mf(o.current),ff(o,o.current,y,n),Pe=A,Yi(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(el,o)}catch{}return!0}finally{L.p=c,j.T=l,Ef(e,t)}}function Bf(e,t,n){t=jn(n,t),t=nu(e.stateNode,t,2),e=Nl(e,t,2),e!==null&&(yt(e,2),Qn(e))}function at(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bl===null||!Bl.has(l))){e=jn(n,e),n=Bx(2),l=Nl(t,n,2),l!==null&&(Gx(n,l,t,e),yt(l,2),Qn(l));break}}t=t.return}}function zu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new m2;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(yu=!0,c.add(n),e=p2.bind(null,e,t,n),t.then(e,e))}function p2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(Re&n)===n&&(gt===4||gt===3&&(Re&62914560)===Re&&300>Ke()-Vr?(Pe&2)===0&&Qa(e,0):pu|=n,Ja===Re&&(Ja=0)),Qn(e)}function Gf(e,t){t===0&&(t=Qe()),e=ea(e,t),e!==null&&(yt(e,t),Qn(e))}function _2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function S2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Gf(e,n)}function C2(e,t){return Dt(e,t)}var n0=null,Fa=null,Du=!1,l0=!1,Nu=!1,Rl=0;function Qn(e){e!==Fa&&e.next===null&&(Fa===null?n0=Fa=e:Fa=Fa.next=e),l0=!0,Du||(Du=!0,j2())}function Yi(e,t){if(!Nu&&l0){Nu=!0;do for(var n=!1,l=n0;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var o=0;else{var y=l.suspendedLanes,A=l.pingedLanes;o=(1<<31-se(42|e)+1)-1,o&=c&~(y&~A),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Hf(l,o))}else o=Re,o=Je(l,l===ut?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||He(l,o)||(n=!0,Hf(l,o));l=l.next}while(n);Nu=!1}}function w2(){kf()}function kf(){l0=Du=!1;var e=0;Rl!==0&&B2()&&(e=Rl);for(var t=Ke(),n=null,l=n0;l!==null;){var c=l.next,o=Rf(l,t);o===0?(l.next=null,n===null?n0=c:n.next=c,c===null&&(Fa=n)):(n=l,(e!==0||(o&3)!==0)&&(l0=!0)),l=c}At!==0&&At!==5||Yi(e),Rl!==0&&(Rl=0)}function Rf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var y=31-se(o),A=1<<y,K=c[y];K===-1?((A&n)===0||(A&l)!==0)&&(c[y]=Ve(A,t)):K<=t&&(e.expiredLanes|=A),o&=~A}if(t=ut,n=Re,n=Je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Wt(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||He(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Wt(l),pn(n)){case 2:case 8:n=Wl;break;case 32:n=On;break;case 268435456:n=Hn;break;default:n=On}return l=Of.bind(null,e),n=Dt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Wt(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var l=Re;return l=Je(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pf(e,l,t),Rf(e,Ke()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Hf(e,t){if(t0())return null;pf(e,t,!0)}function j2(){k2(function(){(Pe&6)!==0?Dt(_l,w2):kf()})}function Au(){if(Rl===0){var e=ka;e===0&&(e=ge,ge<<=1,(ge&261888)===0&&(ge=256)),Rl=e}return Rl}function Yf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xr(""+e)}function If(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function M2(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var o=Yf((c[Ut]||null).action),y=l.submitter;y&&(t=(t=y[Ut]||null)?Yf(t.formAction):y.getAttribute("formAction"),t!==null&&(o=t,y=null));var A=new mr("action","action",null,l,c);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rl!==0){var K=y?If(c,y):new FormData(c);Qc(n,{pending:!0,data:K,method:c.method,action:o},null,K)}}else typeof o=="function"&&(A.preventDefault(),K=y?If(c,y):new FormData(c),Qc(n,{pending:!0,data:K,method:c.method,action:o},o,K))},currentTarget:c}]})}}for(var Tu=0;Tu<dc.length;Tu++){var Lu=dc[Tu],z2=Lu.toLowerCase(),D2=Lu[0].toUpperCase()+Lu.slice(1);Yn(z2,"on"+D2)}Yn(go,"onAnimationEnd"),Yn(yo,"onAnimationIteration"),Yn(po,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Z1,"onTransitionRun"),Yn(X1,"onTransitionStart"),Yn(K1,"onTransitionCancel"),Yn(_o,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ii));function Uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var y=l.length-1;0<=y;y--){var A=l[y],K=A.instance,te=A.currentTarget;if(A=A.listener,K!==o&&c.isPropagationStopped())break e;o=A,c.currentTarget=te;try{o(c)}catch(ie){gr(ie)}c.currentTarget=null,o=K}else for(y=0;y<l.length;y++){if(A=l[y],K=A.instance,te=A.currentTarget,A=A.listener,K!==o&&c.isPropagationStopped())break e;o=A,c.currentTarget=te;try{o(c)}catch(ie){gr(ie)}c.currentTarget=null,o=K}}}}function ke(e,t){var n=t[ye];n===void 0&&(n=t[ye]=new Set);var l=e+"__bubble";n.has(l)||(Zf(t,e,2,!1),n.add(l))}function Eu(e,t,n){var l=0;t&&(l|=4),Zf(n,e,l,t)}var a0="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[a0]){e[a0]=!0,Bs.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a0]||(t[a0]=!0,Eu("selectionchange",!1,t))}}function Zf(e,t,n,l){switch(yd(t)){case 2:var c=lh;break;case 8:c=ah;break;default:c=Vu}n=c.bind(null,t,n,e),c=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Bu(e,t,n,l,c){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===c)break;if(y===4)for(y=l.return;y!==null;){var K=y.tag;if((K===3||K===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;A!==null;){if(y=pa(A),y===null)return;if(K=y.tag,K===5||K===6||K===26||K===27){l=o=y;continue e}A=A.parentNode}}l=l.return}Ws(function(){var te=o,ie=F0(n),ce=[];e:{var ne=So.get(e);if(ne!==void 0){var le=mr,me=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":le=S1;break;case"focusin":me="focus",le=ac;break;case"focusout":me="blur",le=ac;break;case"beforeblur":case"afterblur":le=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=j1;break;case go:case yo:case po:le=d1;break;case _o:le=z1;break;case"scroll":case"scrollend":le=u1;break;case"wheel":le=N1;break;case"copy":case"cut":case"paste":le=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Fs;break;case"toggle":case"beforetoggle":le=T1}var we=(t&4)!==0,ct=!we&&(e==="scroll"||e==="scrollend"),F=we?ne!==null?ne+"Capture":null:ne;we=[];for(var V=te,ee;V!==null;){var re=V;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||F===null||(re=oi(V,F),re!=null&&we.push(Ui(V,re,ee))),ct)break;V=V.return}0<we.length&&(ne=new le(ne,me,null,n,ie),ce.push({event:ne,listeners:we}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",ne&&n!==P0&&(me=n.relatedTarget||n.fromElement)&&(pa(me)||me[fe]))break e;if((le||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(me=n.relatedTarget||n.toElement,le=te,me=me?pa(me):null,me!==null&&(ct=f(me),we=me.tag,me!==ct||we!==5&&we!==27&&we!==6)&&(me=null)):(le=null,me=te),le!==me)){if(we=Qs,re="onMouseLeave",F="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(we=Fs,re="onPointerLeave",F="onPointerEnter",V="pointer"),ct=le==null?ne:si(le),ee=me==null?ne:si(me),ne=new we(re,V+"leave",le,n,ie),ne.target=ct,ne.relatedTarget=ee,re=null,pa(ie)===te&&(we=new we(F,V+"enter",me,n,ie),we.target=ee,we.relatedTarget=ct,re=we),ct=re,le&&me)t:{for(we=A2,F=le,V=me,ee=0,re=F;re;re=we(re))ee++;re=0;for(var pe=V;pe;pe=we(pe))re++;for(;0<ee-re;)F=we(F),ee--;for(;0<re-ee;)V=we(V),re--;for(;ee--;){if(F===V||V!==null&&F===V.alternate){we=F;break t}F=we(F),V=we(V)}we=null}else we=null;le!==null&&Xf(ce,ne,le,we,!1),me!==null&&ct!==null&&Xf(ce,ct,me,we,!0)}}e:{if(ne=te?si(te):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var Ze=ro;else if(ao(ne))if(co)Ze=Y1;else{Ze=O1;var be=R1}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Q0(te.elementType)&&(Ze=ro):Ze=H1;if(Ze&&(Ze=Ze(e,te))){io(ce,Ze,n,ie);break e}be&&be(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&V0(ne,"number",ne.value)}switch(be=te?si(te):window,e){case"focusin":(ao(be)||be.contentEditable==="true")&&(Na=be,oc=te,gi=null);break;case"focusout":gi=oc=Na=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,bo(ce,n,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":bo(ce,n,ie)}var Le;if(rc)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Da?no(e,n)&&(Oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Oe="onCompositionStart");Oe&&($s&&n.locale!=="ko"&&(Da||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Da&&(Le=Js()):(Sl=ie,tc="value"in Sl?Sl.value:Sl.textContent,Da=!0)),be=i0(te,Oe),0<be.length&&(Oe=new Ps(Oe,e,null,n,ie),ce.push({event:Oe,listeners:be}),Le?Oe.data=Le:(Le=lo(n),Le!==null&&(Oe.data=Le)))),(Le=E1?q1(e,n):B1(e,n))&&(Oe=i0(te,"onBeforeInput"),0<Oe.length&&(be=new Ps("onBeforeInput","beforeinput",null,n,ie),ce.push({event:be,listeners:Oe}),be.data=Le)),M2(ce,e,te,n,ie)}Uf(ce,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i0(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,o=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||o===null||(c=oi(e,n),c!=null&&l.unshift(Ui(e,c,o)),c=oi(e,t),c!=null&&l.push(Ui(e,c,o))),e.tag===3)return l;e=e.return}return[]}function A2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,c){for(var o=t._reactName,y=[];n!==null&&n!==l;){var A=n,K=A.alternate,te=A.stateNode;if(A=A.tag,K!==null&&K===l)break;A!==5&&A!==26&&A!==27||te===null||(K=te,c?(te=oi(n,o),te!=null&&y.unshift(Ui(n,te,K))):c||(te=oi(n,o),te!=null&&y.push(Ui(n,te,K)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var T2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(T2,`
`).replace(L2,"")}function Wf(e,t){return t=Kf(t),Kf(e)===t}function rt(e,t,n,l,c,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,n,l);break;case"style":Xs(e,l,o);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",c.name,c,null),rt(e,t,"formEncType",c.formEncType,c,null),rt(e,t,"formMethod",c.formMethod,c,null),rt(e,t,"formTarget",c.formTarget,c,null)):(rt(e,t,"encType",c.encType,c,null),rt(e,t,"method",c.method,c,null),rt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=xr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=xr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,ur(e,n,l))}}function Gu(e,t,n,l,c,o){switch(n){case"style":Xs(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),o=e[Ut]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,c),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function Rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,c=!1,o;for(o in n)if(n.hasOwnProperty(o)){var y=n[o];if(y!=null)switch(o){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,o,y,n,null)}}c&&rt(e,t,"srcSet",n.srcSet,n,null),l&&rt(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var A=o=y=c=null,K=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":y=ie;break;case"checked":K=ie;break;case"defaultChecked":te=ie;break;case"value":o=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:rt(e,t,l,ie,n,null)}}Ys(e,o,A,K,te,y,c,!1);return;case"select":ke("invalid",e),l=y=o=null;for(c in n)if(n.hasOwnProperty(c)&&(A=n[c],A!=null))switch(c){case"value":o=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:rt(e,t,c,A,n,null)}t=o,n=y,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":ke("invalid",e),o=c=l=null;for(y in n)if(n.hasOwnProperty(y)&&(A=n[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":c=A;break;case"children":o=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rt(e,t,y,A,n,null)}Us(e,l,c,o);return;case"option":for(K in n)n.hasOwnProperty(K)&&(l=n[K],l!=null)&&(K==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(e,t,K,l,n,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Ii.length;l++)ke(Ii[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:rt(e,t,te,l,n,null)}return;default:if(Q0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Gu(e,t,ie,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&rt(e,t,A,l,n,null))}function E2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,o=null,y=null,A=null,K=null,te=null,ie=null;for(le in n){var ce=n[le];if(n.hasOwnProperty(le)&&ce!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":K=ce;default:l.hasOwnProperty(le)||rt(e,t,le,null,l,ce)}}for(var ne in l){var le=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(le!=null||ce!=null))switch(ne){case"type":o=le;break;case"name":c=le;break;case"checked":te=le;break;case"defaultChecked":ie=le;break;case"value":y=le;break;case"defaultValue":A=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,t));break;default:le!==ce&&rt(e,t,ne,le,l,ce)}}J0(e,y,A,K,te,ie,o,c);return;case"select":le=y=A=ne=null;for(o in n)if(K=n[o],n.hasOwnProperty(o)&&K!=null)switch(o){case"value":break;case"multiple":le=K;default:l.hasOwnProperty(o)||rt(e,t,o,null,l,K)}for(c in l)if(o=l[c],K=n[c],l.hasOwnProperty(c)&&(o!=null||K!=null))switch(c){case"value":ne=o;break;case"defaultValue":A=o;break;case"multiple":y=o;default:o!==K&&rt(e,t,c,o,l,K)}t=A,n=y,l=le,ne!=null?wa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":le=ne=null;for(A in n)if(c=n[A],n.hasOwnProperty(A)&&c!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(e,t,A,null,l,c)}for(y in l)if(c=l[y],o=n[y],l.hasOwnProperty(y)&&(c!=null||o!=null))switch(y){case"value":ne=c;break;case"defaultValue":le=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==o&&rt(e,t,y,c,l,o)}Is(e,ne,le);return;case"option":for(var me in n)ne=n[me],n.hasOwnProperty(me)&&ne!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:rt(e,t,me,null,l,ne));for(K in l)ne=l[K],le=n[K],l.hasOwnProperty(K)&&ne!==le&&(ne!=null||le!=null)&&(K==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":rt(e,t,K,ne,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)ne=n[we],n.hasOwnProperty(we)&&ne!=null&&!l.hasOwnProperty(we)&&rt(e,t,we,null,l,ne);for(te in l)if(ne=l[te],le=n[te],l.hasOwnProperty(te)&&ne!==le&&(ne!=null||le!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:rt(e,t,te,ne,l,le)}return;default:if(Q0(t)){for(var ct in n)ne=n[ct],n.hasOwnProperty(ct)&&ne!==void 0&&!l.hasOwnProperty(ct)&&Gu(e,t,ct,void 0,l,ne);for(ie in l)ne=l[ie],le=n[ie],!l.hasOwnProperty(ie)||ne===le||ne===void 0&&le===void 0||Gu(e,t,ie,ne,l,le);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&rt(e,t,F,null,l,ne);for(ce in l)ne=l[ce],le=n[ce],!l.hasOwnProperty(ce)||ne===le||ne==null&&le==null||rt(e,t,ce,ne,l,le)}function Jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],o=c.transferSize,y=c.initiatorType,A=c.duration;if(o&&A&&Jf(y)){for(y=0,A=c.responseEnd,l+=1;l<n.length;l++){var K=n[l],te=K.startTime;if(te>A)break;var ie=K.transferSize,ce=K.initiatorType;ie&&Jf(ce)&&(K=K.responseEnd,y+=ie*(K<A?1:(A-te)/(K-te)))}if(--l,t+=8*(o+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Ru=null;function r0(e){return e.nodeType===9?e:e.ownerDocument}function Vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,G2=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(R2)}:Pf;function R2(e){setTimeout(function(){throw e})}function Ol(e){return e==="head"}function $f(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Zi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Zi(n);for(var o=n.firstChild;o;){var y=o.nextSibling,A=o.nodeName;o[cn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=y}}else n==="body"&&Zi(e.ownerDocument.body);n=c}while(n);ni(t)}function ed(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yu(n),ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function H2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Iu(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Y2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ad(e,t,n){switch(t=r0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Zi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ui(e)}var Tn=new Map,id=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=L.d;L.d={f:I2,r:U2,D:Z2,C:X2,L:K2,m:W2,X:V2,S:J2,M:Q2};function I2(){var e=gl.f(),t=Fr();return e||t}function U2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?_x(t):gl.r(e)}var $a=typeof document>"u"?null:document;function rd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var c=Cn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),id.has(c)||(id.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Rt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Z2(e){gl.D(e),rd("dns-prefetch",e,null)}function X2(e,t){gl.C(e,t),rd("preconnect",e,t)}function K2(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var c='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Cn(n.imageSizes)+'"]')):c+='[href="'+Cn(e)+'"]';var o=c;switch(t){case"style":o=ei(e);break;case"script":o=ti(e)}Tn.has(o)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(o,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Xi(o))||t==="script"&&l.querySelector(Ki(o))||(t=l.createElement("link"),Rt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function W2(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',o=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ti(e)}if(!Tn.has(o)&&(e=p({rel:"modulepreload",href:e},t),Tn.set(o,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ki(o)))return}l=n.createElement("link"),Rt(l,"link",e),Tt(l),n.head.appendChild(l)}}}function J2(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var c=Sa(l).hoistableStyles,o=ei(e);t=t||"default";var y=c.get(o);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Xi(o)))A.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(o))&&Xu(e,n);var K=y=l.createElement("link");Tt(K),Rt(K,"link",e),K._p=new Promise(function(te,ie){K.onload=te,K.onerror=ie}),K.addEventListener("load",function(){A.loading|=1}),K.addEventListener("error",function(){A.loading|=2}),A.loading|=4,u0(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:A},c.set(o,y)}}}function V2(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),o=l.get(c);o||(o=n.querySelector(Ki(c)),o||(e=p({src:e,async:!0},t),(t=Tn.get(c))&&Ku(e,t),o=n.createElement("script"),Tt(o),Rt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(c,o))}}function Q2(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),o=l.get(c);o||(o=n.querySelector(Ki(c)),o||(e=p({src:e,async:!0,type:"module"},t),(t=Tn.get(c))&&Ku(e,t),o=n.createElement("script"),Tt(o),Rt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(c,o))}}function cd(e,t,n,l){var c=(c=oe.current)?c0(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var o=Sa(c).hoistableStyles,y=o.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,y),(o=c.querySelector(Xi(e)))&&!o._p&&(y.instance=o,y.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),o||P2(c,e,n,y.state))),t&&l===null)throw Error(r(528,""));return y}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ei(e){return'href="'+Cn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function P2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Rt(t,"link",n),Tt(t),e.head.appendChild(t))}function ti(e){return'[src="'+Cn(e)+'"]'}function Ki(e){return"script[async]"+e}function sd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Tt(l),l;var c=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),Rt(l,"style",c),u0(l,n.precedence,e),t.instance=l;case"stylesheet":c=ei(n.href);var o=e.querySelector(Xi(c));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;l=ud(n),(c=Tn.get(c))&&Xu(l,c),o=(e.ownerDocument||e).createElement("link"),Tt(o);var y=o;return y._p=new Promise(function(A,K){y.onload=A,y.onerror=K}),Rt(o,"link",l),t.state.loading|=4,u0(o,n.precedence,e),t.instance=o;case"script":return o=ti(n.src),(c=e.querySelector(Ki(o)))?(t.instance=c,Tt(c),c):(l=n,(c=Tn.get(o))&&(l=p({},n),Ku(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Tt(c),Rt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,o=c,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===t)o=A;else if(o!==c)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var s0=null;function od(e,t,n){if(s0===null){var l=new Map,c=s0=new Map;c.set(n,l)}else c=s0,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var o=n[c];if(!(o[cn]||o[Nt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var y=o.getAttribute(t)||"";y=e+y;var A=l.get(y);A?A.push(o):l.set(y,[o])}}return l}function xd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function F2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ei(l.href),o=t.querySelector(Xi(c));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=o0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Tt(o);return}o=t.ownerDocument||t,l=ud(l),(c=Tn.get(c))&&Xu(l,c),o=o.createElement("link"),Tt(o);var y=o;y._p=new Promise(function(A,K){y.onload=A,y.onerror=K}),Rt(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=o0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Wu=0;function eh(e,t){return e.stylesheets&&e.count===0&&f0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Wu===0&&(Wu=62500*q2());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Wu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function o0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var x0=null;function f0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,x0=new Map,t.forEach(th,e),x0=null,o0.call(e))}function th(e,t){if(!(t.state.loading&4)){var n=x0.get(e);if(n)var l=n.get(null);else{n=new Map,x0.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<c.length;o++){var y=c[o];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}c=t.instance,y=c.getAttribute("data-precedence"),o=n.get(y)||l,o===l&&n.set(null,c),n.set(y,c),this.count++,l=o0.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),o?o.parentNode.insertBefore(c,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:G,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function nh(e,t,n,l,c,o,y,A,K){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=o,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function dd(e,t,n,l,c,o,y,A,K,te,ie,ce){return e=new nh(e,t,n,y,K,te,ie,ce,A),t=1,o===!0&&(t|=24),o=sn(3,null,null,t),e.current=o,o.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},Ac(o),e}function hd(e){return e?(e=La,e):La}function md(e,t,n,l,c,o){c=hd(c),l.context===null?l.context=c:l.pendingContext=c,l=Dl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Nl(e,l,t),n!==null&&(en(n,e,t),ji(n,e,t))}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function vd(e){if(e.tag===13||e.tag===31){var t=ea(e,67108864);t!==null&&en(t,e,67108864),Ju(e,67108864)}}function gd(e){if(e.tag===13||e.tag===31){var t=hn();t=nt(t);var n=ea(e,t);n!==null&&en(n,e,t),Ju(e,t)}}var d0=!0;function lh(e,t,n,l){var c=j.T;j.T=null;var o=L.p;try{L.p=2,Vu(e,t,n,l)}finally{L.p=o,j.T=c}}function ah(e,t,n,l){var c=j.T;j.T=null;var o=L.p;try{L.p=8,Vu(e,t,n,l)}finally{L.p=o,j.T=c}}function Vu(e,t,n,l){if(d0){var c=Qu(l);if(c===null)Bu(e,t,l,h0,n),pd(e,l);else if(rh(c,e,t,n,l))l.stopPropagation();else if(pd(e,l),t&4&&-1<ih.indexOf(e)){for(;c!==null;){var o=_a(c);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var y=ve(o.pendingLanes);if(y!==0){var A=o;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var K=1<<31-se(y);A.entanglements[1]|=K,y&=~K}Qn(o),(Pe&6)===0&&(Qr=Ke()+500,Yi(0))}}break;case 31:case 13:A=ea(o,2),A!==null&&en(A,o,2),Fr(),Ju(o,2)}if(o=Qu(l),o===null&&Bu(e,t,l,h0,n),o===c)break;c=o}c!==null&&l.stopPropagation()}else Bu(e,t,l,null,n)}}function Qu(e){return e=F0(e),Pu(e)}var h0=null;function Pu(e){if(h0=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return h0=e,null}function yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case _l:return 2;case Wl:return 8;case On:case ga:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Fu=!1,Hl=null,Yl=null,Il=null,Ji=new Map,Vi=new Map,Ul=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Qi(e,t,n,l,c,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[c]},t!==null&&(t=_a(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function rh(e,t,n,l,c){switch(t){case"focusin":return Hl=Qi(Hl,e,t,n,l,c),!0;case"dragenter":return Yl=Qi(Yl,e,t,n,l,c),!0;case"mouseover":return Il=Qi(Il,e,t,n,l,c),!0;case"pointerover":var o=c.pointerId;return Ji.set(o,Qi(Ji.get(o)||null,e,t,n,l,c)),!0;case"gotpointercapture":return o=c.pointerId,Vi.set(o,Qi(Vi.get(o)||null,e,t,n,l,c)),!0}return!1}function _d(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){gd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);P0=l,n.target.dispatchEvent(l),P0=null}else return t=_a(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){m0(e)&&n.delete(t)}function ch(){Fu=!1,Hl!==null&&m0(Hl)&&(Hl=null),Yl!==null&&m0(Yl)&&(Yl=null),Il!==null&&m0(Il)&&(Il=null),Ji.forEach(Sd),Vi.forEach(Sd)}function b0(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,ch)))}var v0=null;function Cd(e){v0!==e&&(v0=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){v0===e&&(v0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Pu(l||n)===null)continue;break}var o=_a(n);o!==null&&(e.splice(t,3),t-=3,Qc(o,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ni(e){function t(K){return b0(K,e)}Hl!==null&&b0(Hl,e),Yl!==null&&b0(Yl,e),Il!==null&&b0(Il,e),Ji.forEach(t),Vi.forEach(t);for(var n=0;n<Ul.length;n++){var l=Ul[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ul.length&&(n=Ul[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Ul.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],o=n[l+1],y=c[Ut]||null;if(typeof o=="function")y||Cd(n);else if(y){var A=null;if(o&&o.hasAttribute("formAction")){if(c=o,y=o[Ut]||null)A=y.formAction;else if(Pu(c)!==null)continue}else A=y.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),Cd(n)}}}function wd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function $u(e){this._internalRoot=e}g0.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=hn();md(n,l,e,t,null,null)},g0.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),Fr(),t[fe]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ul.length&&t!==0&&t<Ul[n].priority;n++);Ul.splice(n,0,e),n===0&&_d(e)}};var jd=i.version;if(jd!=="19.2.3")throw Error(r(527,jd,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{el=y0.inject(uh),qt=y0}catch{}}return Fi.createRoot=function(e,t){if(!x(e))throw Error(r(299));var n=!1,l="",c=Tx,o=Lx,y=Ex;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=dd(e,1,!1,null,null,n,l,null,c,o,y,wd),e[fe]=t.current,qu(e),new $u(t)},Fi.hydrateRoot=function(e,t,n){if(!x(e))throw Error(r(299));var l=!1,c="",o=Tx,y=Lx,A=Ex,K=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(K=n.formState)),t=dd(e,1,!0,t,n??null,l,c,K,o,y,A,wd),t.context=hd(null),n=t.current,l=hn(),l=nt(l),c=Dl(l),c.callback=null,Nl(n,c,l),n=l,t.current.lanes=n,yt(t,n),Qn(t),e[fe]=t.current,qu(e),new g0(t)},Fi.version="19.2.3",Fi}var Bd;function gh(){if(Bd)return ns.exports;Bd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),ns.exports=vh(),ns.exports}var yh=gh();const yl=Ln;(function(u,i){const a=Ln,r=u();for(;;)try{if(-parseInt(a(150))/1+-parseInt(a(152))/2*(parseInt(a(158))/3)+-parseInt(a(146))/4+-parseInt(a(155))/5*(-parseInt(a(143))/6)+-parseInt(a(157))/7*(-parseInt(a(151))/8)+parseInt(a(140))/9*(-parseInt(a(153))/10)+parseInt(a(144))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(C0,234760);const ph=(function(){let u=!0;return function(i,a){const r=Ln,x={MvZAv:r(141),pELsY:function(h,v){return h===v},ISMyO:r(132),jzFjc:"OPXaS"},f=u?function(){const h=r;if(x[h(137)](x[h(145)],x[h(138)]))return _0xfbf4ad.toString().search(x.MvZAv)[h(154)]().constructor(_0x47f3f0).search("(((.+)+)+)+$");if(a){const v=a.apply(i,arguments);return a=null,v}}:function(){};return u=!1,f}})(),us=ph(void 0,function(){const u=Ln,i={FOneD:"(((.+)+)+)+$"};return us[u(154)]().search(i.FOneD)[u(154)]()[u(134)](us).search(i.FOneD)});function C0(){const u=["svnnEu8","mtGWmdqWmeHXyNvKDa","C2XPy2u","BgvHzKLKCW","zMLSDgvY","mZi1mtq1v053D050","mZjWrxHyr3K","mZzPA1LVuKS","mtbjrKLZDhe","Dg9tDhjPBMC","nw5oweTQDq","BgvUz3rO","ndyYnZyZCejkwgz2","nJq3n2XvCMfTyG","CMfUzg9T","Dg9ju09tDhjPBMC","Cg9ZAxrPB24","Aw5JBhvKzxm","EgvcA2O","BLHvswi","y29UC3rYDwn0B3i","zMLUza","CgfYC2u","CevmC1K","ANPgAMm","z3jVDxbZ","mZe2mJGWn2nQsMLHua","kcGOlISPkYKRksSK","BgvHzKDYB3vWCW","mJiYmJq2nKjsuMTxCa","odqXotG3m0HsqNzRDq"];return C0=function(){return u},C0()}us();const w0=()=>new Date()[yl(160)](),Yt=u=>u+"_"+Math[yl(159)]()[yl(154)](36)[yl(147)](2,10),je=(u,i,a)=>Math.max(i,Math.min(a,u)),Xl=u=>{const i=yl;return u===void 0||{nXUIb:function(r,x){return r===x}}[i(133)](u,null)?u:JSON[i(136)](JSON.stringify(u))},er=u=>Math.floor(u*.7/5)*5;function Ln(u,i){u=u-130;const a=C0();let r=a[u];if(Ln.eQTrkW===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ln.VICMGj=x,Ln.fiKNaJ={},Ln.eQTrkW=!0}const f=a[0],h=u+f,v=Ln.fiKNaJ[h];if(v)r=v;else{const m=function(d){this.tUIQVg=d,this.JNZyEb=[1,0,0],this.JTRQfn=function(){return"newState"},this.TcWNYz="\\w+ *\\(\\) *{\\w+ *",this.tSDKdM=`['|"].+['|"];? *}`};m.prototype.onrAdB=function(){const d=new RegExp(this.TcWNYz+this.tSDKdM),g=d.test(this.JTRQfn.toString())?--this.JNZyEb[1]:--this.JNZyEb[0];return this.xoXWmx(g)},m.prototype.xoXWmx=function(d){return~d?this.WKlTfo(this.tUIQVg):d},m.prototype.WKlTfo=function(d){for(let g=0,p=this.JNZyEb.length;g<p;g++)this.JNZyEb.push(Math.round(Math.random())),p=this.JNZyEb.length;return d(this.JNZyEb[0])},new m(Ln).onrAdB(),r=Ln.VICMGj(r),Ln.fiKNaJ[h]=r}return r}function ba(u,i){const a=yl;return u.groups?u[a(139)][a(135)](r=>r.flowerIds[a(131)](i))??null:null}function _h(u,i){const a={ytmbL:function(x,f,h){return x(f,h)}},r=a.ytmbL(ba,u,i);return r?r.flowerIds:[i]}function X0(u,i){const a=yl;return u[a(142)]?u.leafGroups.find(r=>r.leafIds[a(131)](i))??null:null}function Sh(u,i){const a=yl,r={tWVvJ:function(m,d){return m/d}},x=(u[a(142)]??[]).find(m=>m.id===i);if(!x||x.leafIds[a(156)]===0)return{x:0,y:0};const f=x.leafIds.map(m=>(u.leaves??[]).find(d=>d.id===m))[a(149)](m=>!!m);if(f.length===0)return{x:0,y:0};const h=f.reduce((m,d)=>m+d.position.x,0),v=f.reduce((m,d)=>m+d[a(130)].y,0);return{x:h/f[a(156)],y:r.tWVvJ(v,f.length)}}function Ch(u,i){const a=yl,r=X0(u,i);return r?r[a(148)]:[i]}const j0=mn;(function(u,i){const a=mn,r=u();for(;;)try{if(-parseInt(a(500))/1*(parseInt(a(489))/2)+-parseInt(a(484))/3*(-parseInt(a(478))/4)+parseInt(a(522))/5+parseInt(a(508))/6*(-parseInt(a(516))/7)+-parseInt(a(496))/8*(parseInt(a(509))/9)+parseInt(a(488))/10*(parseInt(a(482))/11)+parseInt(a(518))/12===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,759152);function mn(u,i){u=u-478;const a=M0();let r=a[u];if(mn.uSWdgG===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};mn.CWyIcy=x,mn.TGTYsx={},mn.uSWdgG=!0}const f=a[0],h=u+f,v=mn.TGTYsx[h];if(v)r=v;else{const m=function(d){this.FJjvEz=d,this.bkvXxX=[1,0,0],this.zeNrAH=function(){return"newState"},this.IZrWnZ="\\w+ *\\(\\) *{\\w+ *",this.KTfAEh=`['|"].+['|"];? *}`};m.prototype.mSlDWo=function(){const d=new RegExp(this.IZrWnZ+this.KTfAEh),g=d.test(this.zeNrAH.toString())?--this.bkvXxX[1]:--this.bkvXxX[0];return this.TOrDzx(g)},m.prototype.TOrDzx=function(d){return~d?this.cyNXTN(this.FJjvEz):d},m.prototype.cyNXTN=function(d){for(let g=0,p=this.bkvXxX.length;g<p;g++)this.bkvXxX.push(Math.round(Math.random())),p=this.bkvXxX.length;return d(this.bkvXxX[0])},new m(mn).mSlDWo(),r=mn.CWyIcy(r),mn.TGTYsx[h]=r}return r}const wh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const x=a.apply(i,arguments);return a=null,x}}:function(){};return u=!1,r}})(),ss=wh(void 0,function(){const u=mn,i={YSold:"(((.+)+)+)+$"};return ss.toString().search(i[u(480)])[u(497)]()[u(523)](ss).search(i[u(480)])});ss();const ii=2/3,Gd=.6,jh=.25,Mh=.75;function Kl(u,i,a){const r=mn,x={jpUWT:function(G,O){return G*O},xaUsx:function(G,O){return G+O},ClApz:function(G,O){return G/O},PhraE:function(G,O){return G<=O},RrRIg:function(G,O){return G/O},dTcJr:r(513),wYKdk:function(G,O){return G-O},Zrecb:function(G,O){return G/O},bvrmr:function(G,O){return G===O},jnOHt:function(G,O){return G<O},OgyvS:function(G,O){return G+O},WLSNU:function(G,O){return G/O},onATy:function(G,O){return G*O},hyUUB:function(G,O){return G/O},cHGYD:function(G,O){return G+O},pjutM:function(G,O){return G-O}},f=u/2,h=x[r(487)](i*Math[r(514)],2);if(x.PhraE(h,0)||f<=0)return{diameter:u,layerCount:1};const v=a?.sizeMode??r(501),m=a?.sizeStepMm??0,d=h*(1-ii),g=x.jpUWT(Math.PI,f)/2,p=a?.layerCount??Math.max(1,Math.round(x.RrRIg(g,d))),N=v===x.dTcJr?i+x[r(524)](x[r(493)](p,1),m):i,b=x.Zrecb(N*Math[r(514)],2),M=x[r(524)](h,jh)+b*Mh;if(x[r(517)](p,1)){const G=Math.min(Math.PI/2,b*ii/f),O=x.jpUWT(f,Math[r(483)](G)),I=b*Gd*Math.sin(G);return{diameter:Math[r(485)](Math[r(498)](u,2*(O+I))),layerCount:p}}let C=h*ii/f;for(let G=1;x.jnOHt(G,p);G++)if(x[r(517)]("pfZhm","pfZhm")){const O=v===r(513)?x[r(504)](i,G*m):i,I=x[r(519)](x[r(486)](O,Math[r(514)]),2);C+=x.hyUUB(I*(1-ii),f)}else{const O=x[r(524)](_0xae43e5,x.xaUsx(_0x55c445,2))/3;return _0x2813e4[r(498)](1,_0x218f3a[r(485)](_0x4caa0c/O))}C=Math[r(479)](C,Math.PI/2);const S=x[r(521)](f,M*Gd)*Math[r(483)](C),E=Math[r(498)](0,x.pjutM(S,f));return{diameter:Math[r(485)](x.xaUsx(u,x[r(524)](2,E))),layerCount:p}}function lr(u,i,a="uniform",r=0){const x=mn,f={TfmmM:function(m,d){return m<=d},IOsEa:function(m,d){return m<d},OwqnQ:function(m,d){return m===d},XowPO:"gradual",KXses:function(m,d){return m*d},VcZTL:function(m,d){return m/d},HEpQX:function(m,d){return m*d}};if(i<=0||f.TfmmM(u,0))return 0;const h=[];for(let m=0;f[x(495)](m,i);m++){const d=f[x(491)](a,f[x(515)])?u+f[x(502)](m,r):u;h.push(f.VcZTL(f.HEpQX(d,Math[x(514)]),2))}let v=h[0];for(let m=1;m<i;m++)v+=h[m]/3;return Math[x(485)](v*2)}function zh(u,i,a=j0(501),r=0){const x=j0,f={IxvXv:function(p,N){return p<=N},qYvhs:function(p,N){return p/N},qHvXl:"uniform",pELln:function(p,N){return p*N},QVnIQ:function(p,N){return p+N},eRPFd:function(p,N){return p/N},jmnSm:function(p,N){return p/N},Mrzql:function(p,N){return p/N}};if(i<=0||f.IxvXv(u,0))return 0;const h=u/2,v=f.qYvhs(Math[x(514)],2),m=i;if(a===f[x(492)]||r===0){const p=f.qYvhs(f[x(510)](v,f.QVnIQ(m,2)),3);return Math[x(498)](1,Math.round(f.eRPFd(h,p)))}const d=f[x(520)](r*(m-1)*m,6),g=f[x(506)](f[x(510)](f.Mrzql(h,v)-d,3),f[x(525)](m,2));return Math.max(1,Math[x(485)](g))}function M0(){const u=["Dg9tDhjPBMC","Bwf4","D3frBwW","nJi4ntK5zgf3tfbv","Dw5PzM9YBq","s1HZzxm","tufdweS","t2D5DLm","wMLJrei","AM1Uu20","uLDru24","mJuWnZrsrLDntLC","ndiZotL4uhzmEKO","CevmBg4","A1vZzgi","C2L6zu1Vzgu","z3jHzhvHBa","u1fsvdi","wg93ue8","mtq3n1fXCuPfBa","yNzYBxi","nZqWmZy3nNLHqKzrsa","v0XttLu","zvjqrMq","y0Hhwuq","nJaXmJiWmhrXu0jWwq","y29UC3rYDwn0B3i","ANbvv1q","uvzUsve","wvHot3u","mZC5mJr1qwnKAeK","BwLU","wvnVBgq","D1DTtwW","mtu5nZaYmJLrsgPLu1O","C2LU","odDwA2f2Bwe","CM91BMq","B25bvhK","q2XbChO","mtbYtNDhwhi","mKzeuuPTqq","B29MsNG","t3DXBLe","CuH2wgW","D1LlzgS","yNrHvgG","su9Zrwe","mJe2ogLHzeT5DG"];return M0=function(){return u},M0()}function Dh(u,i,a){const r=j0,x={YXNOu:function(v,m){return v<m},LvBby:function(v,m){return v/m},mtpDq:function(v,m){return v+m}};if(u<=i)return 1;let f=1,h=80;for(let v=0;x[r(526)](v,30);v++){const m=x.LvBby(f+h,2),{diameter:d}=Kl(i,m,a);d<u?f=m:h=m}return Math[r(498)](1,Math.round(x.mtpDq(f,h)/2))}function Nh(u,i,a){const r=j0,x={CeapR:function(N,b){return N===b},bmXcv:"gradual",kUsdb:function(N,b){return N/b},RWQSn:function(N,b){return N/b},btaTh:function(N,b){return N*b},IjItj:function(N,b){return N<=b},rWrgh:function(N,b){return N/b},KhlRZ:function(N,b){return N===b},wlmQz:"uniform",BMYBi:function(N,b){return N>=b},HBMKz:function(N,b){return N<b},vZBWj:r(499),XpVsv:r(505),MACXK:function(N,b){return N+b},wWmMl:function(N,b){return N/b},QXTeE:function(N,b){return N-b},oofJx:function(N,b){return N+b}},f=u/2,h=x[r(507)](x.btaTh(i,Math[r(514)]),2);if(h<=0||x.IjItj(f,0))return 1;const v=a?.[r(512)]??"uniform",m=a?.sizeStepMm??0,d=x.rWrgh(Math.PI,2);if(x.KhlRZ(v,x.wlmQz)||m===0){const N=h/3,b=x[r(511)](Math.PI*f,2);return Math.max(1,Math.round(x[r(507)](b,N)))}let g=h*ii/f;if(x.BMYBi(g,d))return 1;let p=1;for(let N=1;x.HBMKz(N,100);N++)if(x.vZBWj!==x.XpVsv){const b=x[r(503)](i,x[r(494)](N,m)),M=x[r(481)](b*Math.SQRT2,2),C=x[r(507)](M*x.QXTeE(1,ii),f);if(g+=C,g>d+C/2)break;p=x[r(490)](N,1)}else{const b=TSespE.CeapR(_0xdd738a,TSespE.bmXcv)?_0x557c99+_0x3e493a*_0x2e38a1:_0x1fbc55;_0x7f3ae7.push(TSespE[r(511)](b*_0x28a4bb.SQRT2,2))}return Math.max(1,p)}function En(u,i){u=u-133;const a=z0();let r=a[u];if(En.BPoGVK===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};En.HCHbJO=x,En.CgtWei={},En.BPoGVK=!0}const f=a[0],h=u+f,v=En.CgtWei[h];if(v)r=v;else{const m=function(d){this.ylXuES=d,this.iODiGg=[1,0,0],this.VoiWYS=function(){return"newState"},this.QNjBuM="\\w+ *\\(\\) *{\\w+ *",this.ALXXqi=`['|"].+['|"];? *}`};m.prototype.NddjBN=function(){const d=new RegExp(this.QNjBuM+this.ALXXqi),g=d.test(this.VoiWYS.toString())?--this.iODiGg[1]:--this.iODiGg[0];return this.QBhuIP(g)},m.prototype.QBhuIP=function(d){return~d?this.LrjHug(this.ylXuES):d},m.prototype.LrjHug=function(d){for(let g=0,p=this.iODiGg.length;g<p;g++)this.iODiGg.push(Math.round(Math.random())),p=this.iODiGg.length;return d(this.iODiGg[0])},new m(En).NddjBN(),r=En.HCHbJO(r),En.CgtWei[h]=r}return r}const Kn=En;(function(u,i){const a=En,r=u();for(;;)try{if(-parseInt(a(139))/1+-parseInt(a(188))/2*(-parseInt(a(197))/3)+parseInt(a(142))/4+parseInt(a(141))/5*(parseInt(a(194))/6)+-parseInt(a(200))/7+-parseInt(a(157))/8+-parseInt(a(148))/9*(parseInt(a(136))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,960604);const Ah=(function(){let u=!0;return function(i,a){const r=u?function(){if(En(167)==="dJMLC")return _0x20b7a5*_0x175e65/2;if(a){const f=a.apply(i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),os=Ah(void 0,function(){const u=En,i={vqjDO:u(177)};return os.toString().search(i.vqjDO).toString().constructor(os).search("(((.+)+)+)+$")});os();const rr=.28,kd={:Kn(176),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function xs(u){const i=Kn;return u===i(146)?kd.:kd[i(169)]}function va(u){const i={VoYmA:function(a,r){return a/r},gIeFr:function(a,r){return a*r}};return i.VoYmA(i.gIeFr(u,Math.PI),180)}const an=2.7;function It(u){const i=Kn,a={rDCxS:function(h,v){return h/v},AqNOJ:function(h,v){return h*v},sHTBv:function(h,v){return h*v},IoYog:function(h,v){return h/v}},r=a[i(162)](a[i(160)](u,Math.SQRT2),2),x=a[i(158)](r,an),f=a[i(164)](x,2);return{length:x,width:f}}function Th(u){return{xiJbc:function(r,x){return r*x}}[Kn(165)](u,an)/2}function tr(u,i,a){const r=Kn,x={eTBWA:function(d,g){return d(g)},hBzMz:function(d,g){return d*g},Szefx:function(d,g){return d-g},llobi:function(d,g){return d*g},xvEgb:function(d,g){return d/g}},{length:f}=x[r(195)](It,a),h=x[r(149)](f,i),v=Math[r(189)](0,x[r(168)](u,x[r(182)](h,rr))),m=v+h;return x[r(183)](m*2,an)}function Lh(u,i,a){const r=Kn,x={DszTU:function(m,d){return m(d)},PBVoj:function(m,d){return m*d},rOQPR:function(m,d){return m*d}},{length:f}=x[r(174)](It,a),h=x.PBVoj(f,i),v=u*an/2;return Math[r(189)](2,v-x[r(199)](h,1-rr))}function Fn(u,i,a){const r=Kn,x={ygDHg:function(g,p){return g<=p},eYpgf:function(g,p){return g*p},hqmED:function(g,p){return g+p},FmoIx:function(g,p){return g/p},XALew:function(g,p){return g<p},ISEBs:function(g,p){return g+p},xtBFt:function(g,p){return g+p},kQkTM:function(g,p){return g%p},bcDzD:function(g,p){return g*p},Reqds:function(g,p){return g-p},nLdKC:function(g,p){return g<p},CXjhv:function(g,p){return g>p}};if(!u||x[r(163)](u,0)||!a||x[r(163)](a,0))return i??0;const f=360/u,h=360/a,v=[];for(let g=0;g<u;g++)v.push(((i+x.eYpgf(g,f))%360+360)%360);let m=x[r(152)](i,x[r(144)](f,2)),d=-1;for(let g=0;x.XALew(g,u);g++){const p=x[r(171)](x[r(201)](i,g*f),f/2);let N=1/0;for(let b=0;x[r(202)](b,a);b++){const M=(x[r(191)](p+x.bcDzD(b,h),360)+360)%360;for(const C of v){let S=Math.abs(M-C);S>180&&(S=x.Reqds(360,S)),x[r(151)](S,N)&&(N=S)}}x.CXjhv(N,d)&&(d=N,m=p)}return Math.round(x.eYpgf(m,10))/10}function z0(){const u=["EwDesgC","sw9zB2C","EgLkyMm","C2nHBgu","yMTtuu4","u3PLzNG","5lI444gK44g+44g/","ywPVsKO","svnfqNm","CMfKAxvZ","ywPYsxm","rhn6vfu","tLbwuK4","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","kcGOlISPkYKRksSK","thPoEMy","rg1uvK8","C2LU","BgvUz3rO","BgXVyMK","Ehzfz2i","CM91BMq","qKvkB1G","DxrQD28","y29Z","mJe4mZqWmNDQqu9xBW","Bwf4","s2T6tM0","A1fRve0","vgvezuG","ExL1qwu","mtuWmdbnufPjuwy","zvrcv0e","CgrXz1i","m2PpqKPdsG","vhbrzfi","CK9rufi","mJC2mJqXn21KzKLnuW","EhrcrNq","wefmzxC","s1jpCvK","CePJsKu","twXjwwe","mZbxthPLEeq","D2fACwG","EgrJEeS","odGZntiZu1rvELDL","zMXVB3i","mJaWnunSuM5VzG","nJC0nJmWnfv2r1bnva","ChfLAhi","rM1VsxG","s1rLCK0","5yMJ44gK44g+44g/","vhnYz3y","mtC2mJmXn3HIDg9UDW","Aej6txO","wNfTD04","BKXKs0m","AhfTruq","A2noqwy","uLnqtKG","vKris0O","ELDVBgS","nZyZnJy0mgX5ChrsBW","C0HuqNy","Dg9gAxHLza","qxfot0O","rNfkseO","CKrdEfm"];return z0=function(){return u},z0()}function K0(u,i,a){const r=Kn,x={wgODC:function(b,M){return b===M},RSPNH:function(b,M){return b*M},pqehr:function(b,M){return b+M},kcNAf:function(b,M){return b<=M},VDHKJ:function(b,M){return b*M},KROqY:function(b,M){return b/M},LzNzf:function(b,M){return b*M}};if(x.wgODC(u.length,0))return;const{length:f}=It(i),h=u[0],v=h[r(166)]??1,m=x.RSPNH(f,v),d=Math[r(189)](0,h[r(172)]-m*rr),g=x[r(143)](d,m);if(x[r(153)](g,0))return;const p=x[r(154)](a,an)/2,N=p/g;for(const b of u)b.radius=Math.max(2,Math.round(x[r(154)](x[r(155)](b.radius,N),10))/10),b.scale=x[r(133)](Math[r(184)](x[r(178)](b[r(166)]??1,N)*100),100);fs(u,i)}function fs(u,i){const a=Kn,r={HjcpW:function(m,d){return m*d},MlIYa:function(m,d){return m*d}};if(u.length===0)return;const x=u[u.length-1],{length:f}=It(i),h=r.HjcpW(f,x[a(166)]??1),v=Math[a(140)](r[a(135)](h,rr)*10)/10;x[a(172)]>v&&(x[a(172)]=v)}function Eh(u,i,a,r){const x=Kn,f={ajoJJ:function(N,b){return N(b)},DmTVO:function(N,b){return N/b},waZqh:function(N,b){return N-b},pdqgR:function(N,b){return N*b},utjwo:function(N,b){return N/b},GiROn:function(N,b){return N===b},KkzNm:"eTzDT",XzcDm:function(N,b){return N/b},KTerM:function(N,b){return N-b},iPqsf:function(N,b){return N*b},WiVAa:function(N,b,M,C){return N(b,M,C)}};if(f.GiROn(u[x(181)],0))return;const h=[...u].sort((N,b)=>b.order-N.order),{length:v}=It(i),m=h[x(181)],d=h[0].scale??1,g=f[x(196)](v,d);h[0][x(172)]=f[x(186)](Math.floor(f.pdqgR(g*rr,10)),10);for(let N=1;N<m;N++){const b=h[N-1],M=v*(b[x(166)]??1);let C;if(f.GiROn(a,""))if(f.GiROn(f[x(190)],f[x(190)])){const E=70*Math.PI/180,R=m>1?f.XzcDm(N,f[x(145)](m,1))*E:0;C=f.iPqsf(M*(30/100),Math.cos(R))}else{const{length:S}=wgOPQB[x(170)](_0x3e5ce0,_0x36618f),E=S*_0x538271,R=wgOPQB[x(179)](_0xd3771e*_0x34b0f3,2);return _0x1e1fe1.max(2,wgOPQB[x(137)](R,E*(1-_0x1782e8)))}else C=M/3;h[N][x(172)]=Math[x(184)](f[x(196)](b.radius+C,10))/10}const p=[...u].sort((N,b)=>N.order-b.order);f.WiVAa(K0,p,i,r);for(const N of p){const b=u.find(M=>M.id===N.id);if(b)if(x(175)==="NPVRN")b[x(172)]=N.radius,b.scale=N[x(166)];else{const M=wgOPQB[x(196)](_0x162acf,_0x3ff479.SQRT2)/2,C=M*_0x40ccb9,S=wgOPQB[x(186)](C,2);return{length:C,width:S}}}}function ri(u){const i=Kn,a={Tsrgv:function(m,d){return m/d},JNQsX:function(m,d){return m/d},FqJHJ:function(m,d){return m*d}},r=360/u,x=Math[i(180)](va(a[i(147)](r,2)))*2,f=.96,h=1.2,v=a.JNQsX(a[i(161)](x,h),f);return Math[i(184)](Math.max(.3,Math.min(3,v))*100)/100}(function(u,i){const a=tn,r=u();for(;;)try{if(-parseInt(a(425))/1+parseInt(a(392))/2*(parseInt(a(435))/3)+parseInt(a(390))/4+parseInt(a(404))/5*(parseInt(a(378))/6)+parseInt(a(446))/7+-parseInt(a(387))/8+-parseInt(a(434))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,570901);const qh=(function(){let u=!0;return function(i,a){const r=u?function(){const x=tn;if(a){const f=a[x(450)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ds=qh(void 0,function(){const u=tn,i={aYyJx:u(401)};return ds.toString()[u(406)](u(401))[u(394)]()[u(440)](ds).search(i.aYyJx)});ds();function D0(){const u=["iZLcntLcnG","yvjeALG","y29Sx3DOAxrL","ienVChK","r3DkCvK","5y2k44gp44gz","y29Sx2jYB3DU","mteZmZuWn3zWCxnSuW","C29YDa","u2POt0q","ww5LB0e","thDxuvu","B2zMC2v0qw5NBgu","q2vUDgvY","A3ziExy","CMnfANu","ntGZodC4nLvhwMPKEa","m0fzzvjMtW","r05VquS","EunxCKy","B3jKzxi","zergq08","y29UC3rYDwn0B3i","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","C2nHBgu","AKDMy2C","y29Sx2jSywnR","CvzUvLm","mZm2ntCXmNfque95vW","iZmZmZmZmW","Cg9ZAxrPB24","y2TLvwC","yxbWBhK","DMjQAvu","y29Sx2HVDhbPBMS","Eu1IyM4","qMrusvm","Ag5jqK4","mtq2mdmXmfz0C2TsBW","zxvmC3i","i0uZndG1ma","y29Sx3b1CNbSzq","zMX3","B2vMDw4","y29Sx3LLBgXVDW","uMjPrhm","BwfW","mJm2ndKWnfzszKHItW","iZDfqZHfmW","rMXVD2vYide","mZKWmdG2ogXIr3LmwG","ChjVAG","mtG5odCXngf2uK5IsG","u2H4zMe","Dg9tDhjPBMC","y29Sx29Yyw5Nzq","zMLUza","y29Sx3jLza","sw5Uzxi","B3rerwS","Bgf5","kcGOlISPkYKRksSK","5yMJ44gK44g+44g/","Bgf5zxjZ","nvjLz1bquG","CwrutwW","C2vHCMnO","qM10z2u","y09vsfO","Dwvdy04","y0H2B2e","AwPcuuC","iZjgqKy0qq","ChjQ","Cgv0ywXdB3vUDa","B2netvm","i0m4qtjena","A3zvAxq"];return D0=function(){return u},D0()}function Ud(){const u=tn,i={yMbbn:"col_white",Bmtge:u(397),YneoA:u(452),Shxfa:u(395),amsRk:"#FDF5C9",ODgbW:u(412),WvrHw:"#1A7A3A",wuTwm:u(388),VWDeu:"#2C3E6B",kvHyv:"col_lavender",oefun:"col_gold",ijBQG:"#D4A843",LwWQU:"col_silver",vbjiU:"col_cream",YjEOv:u(424),ueCcN:"#8B5E3C",xAjNS:u(447),dDFCO:"col_coral"};return[{id:i[u(453)],name:"",hex:"#F5F5F5"},{id:i[u(407)],name:"",hex:u(380)},{id:"col_pink",name:"",hex:"#F08CB6"},{id:i[u(428)],name:"",hex:"#E0457B"},{id:i[u(393)],name:"",hex:"#F08A3B"},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:"col_lightyellow",name:"",hex:i.amsRk},{id:"col_green",name:"",hex:i.ODgbW},{id:"col_darkgreen",name:"",hex:i.WvrHw},{id:"col_lightblue",name:"",hex:i.wuTwm},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:"col_navy",name:"",hex:i.VWDeu},{id:u(381),name:"",hex:u(418)},{id:i[u(432)],name:"",hex:u(416)},{id:i[u(383)],name:"",hex:i[u(411)]},{id:i[u(429)],name:"",hex:"#C0C0C0"},{id:i[u(451)],name:"",hex:"#F5E6CC"},{id:i.YjEOv,name:"",hex:i[u(409)]},{id:u(444),name:"",hex:i.xAjNS},{id:i[u(439)],name:"",hex:"#F08080"}]}function tn(u,i){u=u-378;const a=D0();let r=a[u];if(tn.PPLGAN===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};tn.MXYzew=x,tn.YlJTtT={},tn.PPLGAN=!0}const f=a[0],h=u+f,v=tn.YlJTtT[h];if(v)r=v;else{const m=function(d){this.EfksLQ=d,this.lcHPMs=[1,0,0],this.vagNKV=function(){return"newState"},this.YHAALU="\\w+ *\\(\\) *{\\w+ *",this.MCcVAW=`['|"].+['|"];? *}`};m.prototype.YsiqkL=function(){const d=new RegExp(this.YHAALU+this.MCcVAW),g=d.test(this.vagNKV.toString())?--this.lcHPMs[1]:--this.lcHPMs[0];return this.GlequP(g)},m.prototype.GlequP=function(d){return~d?this.GOWwOW(this.EfksLQ):d},m.prototype.GOWwOW=function(d){for(let g=0,p=this.lcHPMs.length;g<p;g++)this.lcHPMs.push(Math.round(Math.random())),p=this.lcHPMs.length;return d(this.lcHPMs[0])},new m(tn).YsiqkL(),r=tn.MXYzew(r),tn.YlJTtT[h]=r}return r}function Bh({title:u,fabricSquareSize:i,baseDiameter:a}={}){const r=tn,x={jGfcg:function(v,m){return v(m)},GNoAK:function(v,m){return v(m)},ocDMS:r(413)},f=w0(),h=Ud();return x[r(443)](ma,{id:x[r(436)](Yt,x[r(415)]),title:u??r(441),unit:"mm",fabricSquareSize:i??20,baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:h,flowers:[]})}function Gh(u,i){const a=tn,r={ckeUg:function(v,m){return v(m)},WyNyR:function(v,m){return v+m}},x=Xl(u);x.id=r[a(449)](Yt,a(382)),x.name=u.name+a(421);const f=i?.x??12,h=i?.y??12;return x.position={x:(u[a(448)]?.x??0)+f,y:r.WyNyR(u[a(448)]?.y??0,h)},x.layers=(x[a(403)]||[])[a(386)](v=>({...v,id:Yt("lay"),petalOverrides:v.petalOverrides?v.petalOverrides[a(386)](m=>({...m})):void 0})),x}(function(u,i){const a=nn,r=u();for(;;)try{if(-parseInt(a(263))/1+parseInt(a(245))/2+-parseInt(a(194))/3+parseInt(a(229))/4+parseInt(a(148))/5*(-parseInt(a(161))/6)+parseInt(a(175))/7*(parseInt(a(222))/8)+parseInt(a(247))/9*(-parseInt(a(138))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,720275);const kh=(function(){const u=nn,i={pCPdb:u(233),vgXzV:u(189),QRPka:function(r,x){return r===x},LzciD:u(239)};let a=!0;return function(r,x){const f=a?function(){const h=nn,v={kfJLn:function(m,d){return m(d)},sXkJR:i.pCPdb,lXpwY:i.vgXzV};if(i.QRPka(h(183),i.LzciD)){const m=new _0x51ffff(_0xa6322a[h(154)].map(d=>d.id));for(const d of _0x27ffa0.leafGroups)d.id||(d.id=v.kfJLn(_0x4d7756,"lg")),(typeof d.name!==v.sXkJR||!d.name)&&(d[h(176)]=v.lXpwY),_0x57b35a[h(237)](d.leafIds)||(d.leafIds=[]),d.leafIds=d[h(203)][h(250)](g=>m[h(258)](g)),_0x2e5665.isFinite(d[h(243)])||(d[h(243)]=0),d[h(158)]!=null&&((_0x39cb0f[h(216)]??[]).some(p=>p.id===d[h(158)])||delete d.linkedFlowerGroupId);_0x1912eb.leafGroups=_0x8ff965[h(179)][h(250)](d=>d[h(203)]&&d.leafIds[h(206)]>0)}else if(x){const m=x[h(253)](r,arguments);return x=null,m}}:function(){};return a=!1,f}})(),hs=kh(void 0,function(){const u=nn,i={hdgWe:u(219)};return hs[u(172)]().search(i[u(134)])[u(172)]().constructor(hs).search(u(219))});hs();function nn(u,i){u=u-133;const a=N0();let r=a[u];if(nn.BEuunR===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};nn.hoFNEk=x,nn.xvJRvb={},nn.BEuunR=!0}const f=a[0],h=u+f,v=nn.xvJRvb[h];if(v)r=v;else{const m=function(d){this.eMkHIf=d,this.ZNiyRu=[1,0,0],this.eZOVki=function(){return"newState"},this.jgUzhO="\\w+ *\\(\\) *{\\w+ *",this.AHqpit=`['|"].+['|"];? *}`};m.prototype.rmPYaS=function(){const d=new RegExp(this.jgUzhO+this.AHqpit),g=d.test(this.eZOVki.toString())?--this.ZNiyRu[1]:--this.ZNiyRu[0];return this.ruBEgA(g)},m.prototype.ruBEgA=function(d){return~d?this.KmTrUA(this.eMkHIf):d},m.prototype.KmTrUA=function(d){for(let g=0,p=this.ZNiyRu.length;g<p;g++)this.ZNiyRu.push(Math.round(Math.random())),p=this.ZNiyRu.length;return d(this.ZNiyRu[0])},new m(nn).rmPYaS(),r=nn.hoFNEk(r),nn.xvJRvb[h]=r}return r}function N0(){const u=["odrmwwHXt2u","CgXHy2vTzw50tw9Kzq","yujnCwm","BK5VA1K","Aw5Uzxjty2fSzq","44or44o844oR","quHKuMW","tfjXBMW","zMfICMLJu3f1yxjLu2L6zq","BwfYDq","vgvwqu4","Dg9tDhjPBMC","zwvnEui","tgDMvuW","mta0nZeZuMLRCLb2","BMfTzq","wM5vuhq","DMvYC2LVBG","BgvHzKDYB3vWCW","sMriug8","ALPoC1O","uwL6se4","vwTOsxa","CgfSzxr0zq","s3LNAue","qKXNBva","DMfYAwfUDa","rujzv2K","6jgj44kW44oR44o844ox","ChvZAa","D2LKDgHty2fSzq","uNjRDMC","CMLNAhq","mtCXmZK1nerrsLvovq","BgvMDa","C2nHBgu","y2vUDgvY","B2jQzwn0","zMXVD2vYswrZ","uw9quLK","ter3q2S","CgvWq291BNq","BgvHzKLKCW","yMfZzurPyw1LDgvY","yM9zveO","BgvUz3rO","Bg9JA2vK","5y2k44gp44gz","A1Dyrhq","rMXVD2vY","y29SB3jjza","44kW44oR44o844ox","44oA44od44ox","tgvHzG","vvPWAg8","z3jVDxbZ","CwvowLu","yNnKsfa","kcGOlISPkYKRksSK","CM91BMq","y3jLyxrLzef0","nJy0sNj0BMzi","yMfJAW","BerdB3y","Cgv0ywXuExbL","CMfKAxvZ","DgL0Bgu","Aw5UzxjtAxPLuMvKDwn0Aw9U","mZeYmJKYohf1v211tW","Aufxqxa","zMXVD2vYrgLHBwv0zxi","5yMJ44gK44g+44g/","C3rYAw5N","Cgv0ywXpDMvYCMLKzxm","DxbKyxrLzef0","C3rLBMnPBhm","AxnbCNjHEq","ufbKugm","yLz3uMy","Bgf5","Aw5UzxjqzxrHBfr5Cgu","zMX3","CM90yxrPB24","BwfW","mJyWmJiXnNLzChPyva","DxvnCwy","ovPJDw5YsG","AxngAw5PDgu","Aw5JBhvKzxm","zMLSDgvY","zMXVD2vYCW","ywTQuMq","yxbWBhK","BM90zxm","ywr1Bhq","Aw5UzxjdB2XVCKLK","vuLMA0O","AgfZ","zg91yMXLugv0ywW","Bgf5zxjZ","rgPkCKq","qwTtrwW","otqXmdqWBNHzq0Hg","AuTLDvm","Cg9ZAxrPB24","A2f5yKi","AgrNv2u","EefeDem","y29Sx3DOAxrL","Dw5PDa","mJCZnde0mhn3vgjmyW","BMHWwhe","Cgv0ywXdB3vUDa","AuvxrNe","ChjVAG","C2L6zq","DezWAhq","DhLWzq","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","Be1dzMG","mJKXoti1BvLwsLDt","y2HPBgq","CM5byw0","Avj6rgS","B3ntshy","v0jdyNC","BgvHDMvZ","ugzvwvK","C29Tzq","q2DLAvG","BgLUA2vKrMXVD2vYr3jVDxbjza","y29SB3i","Cg9Zzq"];return N0=function(){return u},N0()}function rs(u){const i=nn,a={boYTJ:"ken",qeNZU:i(232)};return u===i(170)?"":u===a[i(205)]?a[i(217)]:u===""||u===i(232)?u:""}function ma(u){const i=nn,a={ZEPEf:function(f,h,v,m){return f(h,v,m)},osSHv:function(f,h){return f!=h},mjQeD:function(f,h){return f!==h},xADtC:i(136),MujDj:i(255),OSGto:i(149),NrzxC:"left",LgfUL:function(f,h){return f(h)},TeVAN:function(f,h){return f(h)},JdHPo:"string",MfEmP:i(210),LDwCk:i(240),iRzDk:function(f,h){return f!==h},Rrkvg:function(f,h){return f(h)},fXafA:function(f,h,v,m){return f(h,v,m)},iLGBG:i(198),akjRd:function(f,h){return f===h},DUdLM:i(200),BLgmP:"nTTyZ",AkSEl:function(f,h){return f===h},LDqfK:i(177),aBMqc:i(168),Ewauu:function(f,h){return f!==h},uuMqf:i(257),nNokY:function(f,h){return f!==h},tFpht:function(f,h){return f!=h},OxCek:function(f,h,v,m){return f(h,v,m)},rnAam:"tKjva",jijhV:i(166),pDvpN:i(147),bsdHP:i(213),PfUYY:i(139),JFSnI:i(208),DjJrD:function(f,h){return f!==h},EBYWi:function(f,h){return f<=h},lDCov:function(f){return f()},kWXDt:function(f,h){return f<=h},iKeuS:function(f,h){return f(h)},CgeiX:"grp",QizHN:function(f,h){return f!==h},UZpho:i(212),iEWFq:function(f,h){return f(h)},jZNsZ:function(f,h){return f!==h},MMrBV:i(214),iAWAp:"RYzYI",lDrqz:function(f,h){return f(h)},VEEdn:function(f,h){return f!==h},DKDde:function(f,h){return f!==h},snezl:"boolean",KygiA:function(f,h){return f!==h},kaybB:function(f,h){return f!==h},AHdRl:function(f,h){return f!==h},JAcZA:"WBCbw",PPdPc:i(193)},r=a[i(174)](Xl,u||{});Array.isArray(r[i(251)])||(r.flowers=[]);for(const f of r[i(251)]){f.id||(f.id=a.TeVAN(Yt,i(242))),(typeof f.name!==a.JdHPo||!f.name)&&(f.name=a.MfEmP),(!f[i(265)]||!Number.isFinite(f[i(265)].x)||!Number.isFinite(f.position.y))&&(f.position={x:260,y:260}),Array.isArray(f[i(260)])||(f.layers=[]);for(const h of f.layers){if(h.id||(h.id=Yt(a[i(201)])),(a[i(151)](typeof h[i(211)],a[i(180)])||!h.colorId)&&(h.colorId=r[i(184)]?.[0]?.id??a[i(135)]),h.petalType=a[i(192)](rs,h.petalType),h[i(140)]=a.fXafA(je,a[i(171)](Number,h[i(140)]||0),5,24),Number[i(248)](h.scale)||(h[i(196)]=1),Number.isFinite(h[i(191)])||(h.widthScale=1),Number[i(248)](h[i(226)])||(h.radius=28),Number[i(248)](h.offsetAngle)||(h.offsetAngle=0),delete h._doublePetalCache,h.doublePetal)if(typeof h[i(259)]!==a.iLGBG||a[i(252)](h.doublePetal,null))delete h.doublePetal;else{if(h[i(259)].innerScale!=null&&h[i(259)].innerSizeReduction==null)if(a.DUdLM===a[i(186)])delete _0xc57ae5[i(259)].innerColorId;else{const v=f[i(169)]??r[i(169)]??20;h.doublePetal.innerSizeReduction=Math[i(220)](v*(1-h.doublePetal[i(165)]))}delete h.doublePetal[i(165)],Number.isFinite(h[i(259)].innerSizeReduction)||(h.doublePetal.innerSizeReduction=2),h.doublePetal.innerSizeReduction=je(h.doublePetal[i(228)],1,30),delete h.doublePetal[i(241)],h.doublePetal.innerColorId!=null&&typeof h.doublePetal[i(256)]!="string"&&delete h.doublePetal[i(256)]}if(Array[i(237)](h.petalOverrides))if(a.AkSEl(a.LDqfK,a[i(163)]))(!_0x70e08a.isFinite(_0x129587[i(204)])||_0x262339.baseDiameter<=0)&&delete _0x3cc599[i(204)];else for(const v of h[i(234)])a.Ewauu(i(257),a[i(246)])?(_0x566896[i(248)](_0x464d09[i(259)][i(228)])||(_0x355315.doublePetal[i(228)]=2),_0x39dd94[i(259)].innerSizeReduction=a.ZEPEf(_0x57321f,_0x5334fb[i(259)].innerSizeReduction,1,30),a.osSHv(_0x118859.doublePetal.innerColorId,null)&&a.mjQeD(typeof _0x321698[i(259)][i(256)],"string")&&delete _0x4e401e.doublePetal[i(256)]):(v&&v.petalType!=null&&(v.petalType=a.Rrkvg(rs,v[i(225)])),v&&delete v[i(241)],v&&a[i(152)](v[i(256)],null)&&a[i(164)](typeof v[i(256)],i(233))&&delete v[i(256)],v&&a[i(144)](v.innerSizeReduction,null)&&(Number.isFinite(v[i(228)])?v.innerSizeReduction=a.OxCek(je,v[i(228)],1,30):delete v.innerSizeReduction))}if((!Number.isFinite(f[i(231)])||f.flowerDiameter<=0)&&(f.flowerDiameter=60),f[i(197)]){if(a[i(252)](a[i(150)],"HyvFt"))delete _0x283e20.center.color2;else if(f[i(197)][i(145)]===""&&(f.center[i(145)]=""),["","",i(213)].includes(f.center.type)||(f.center.type=a.jijhV),Number[i(248)](f.center.size)||(f.center[i(143)]=6),f.center[i(143)]=je(f.center.size,1,30),(typeof f[i(197)].color!==i(233)||!f[i(197)].color)&&(a[i(262)](a.pDvpN,"hOHEV")?_0x39db08.position={x:675,y:675}:f.center[i(159)]=r.palette?.[0]?.id??i(136)),a.AkSEl(f.center[i(145)],a[i(218)])&&(Number[i(248)](f[i(197)][i(202)])||(f[i(197)][i(202)]=12),f[i(197)].pepCount=a.OxCek(je,f[i(197)][i(202)],4,30)),a[i(164)](f.center[i(145)],""))if(a[i(155)]==="nhpXq")delete f[i(197)].color2;else{const v=_0x5efaff.fabricSquareSize??_0x3d281.fabricSquareSize??20;_0x51ab67.doublePetal[i(228)]=_0x66853d[i(220)](v*(1-_0xf33d36.doublePetal[i(165)]))}}f.placementMode!==a.JFSnI&&a[i(261)](f[i(162)],"")&&(f.placementMode=i(208)),a.nNokY(f[i(204)],void 0)&&(!Number[i(248)](f.baseDiameter)||a[i(188)](f.baseDiameter,0))&&delete f.baseDiameter}Array.isArray(r.palette)||(r.palette=[]);const x=new Set(r.palette[i(244)](f=>f.id));for(const f of Ud())x[i(258)](f.id)||r[i(184)][i(190)](f);r[i(221)]||(r.createdAt=a[i(224)](w0)),r.updatedAt||(r[i(235)]=r[i(221)]),r.id||(r.id=a[i(171)](Yt,i(142))),r[i(227)]||(r.title=i(146)),r[i(137)]="mm",Number.isFinite(r[i(169)])||(r[i(169)]=20),(!Number[i(248)](r[i(204)])||a[i(209)](r.baseDiameter,0))&&(r[i(204)]=30),typeof r[i(254)]!==i(233)&&(r.notes=""),Array[i(237)](r[i(216)])||(r.groups=[]);{const f=new Set(r[i(251)][i(244)](h=>h.id));for(const h of r[i(216)])Array[i(237)](h.flowerIds)||(h.flowerIds=[]),h[i(199)]=h.flowerIds.filter(v=>f.has(v)),h.id||(h.id=a[i(264)](Yt,a[i(157)])),(a[i(182)](typeof h.name,a.JdHPo)||!h[i(176)])&&(h.name=a[i(215)]);r[i(216)]=r.groups[i(250)](h=>h.flowerIds&&h.flowerIds[i(206)]>0)}Array[i(237)](r.leaves)||(r[i(154)]=[]);for(const f of r[i(154)])f.id||(f.id=a[i(141)](Yt,"leaf")),(a[i(181)](typeof f.name,i(233))||!f.name)&&(f[i(176)]=a.MMrBV),(!f[i(265)]||!Number[i(248)](f[i(265)].x)||!Number[i(248)](f.position.y))&&(a[i(230)]!=="LXZbh"?f.position={x:675,y:675}:_0x519d08[i(197)].color=_0x123334.palette?.[0]?.id??a.xADtC),Number.isFinite(f.rotation)||(f[i(243)]=0),f.petalType=a.lDrqz(rs,f[i(225)]),(typeof f[i(211)]!==a[i(180)]||!f.colorId)&&(f.colorId=r[i(184)]?.[0]?.id??"col_green"),Number[i(248)](f[i(196)])||(f[i(196)]=1),Number.isFinite(f[i(191)])||(f[i(191)]=1),a.VEEdn(typeof f.visible,"boolean")&&(f.visible=!0),a.DKDde(typeof f[i(207)],a.snezl)&&(f.locked=!1),delete f._doublePetalCache,f.doublePetal&&(a[i(185)](typeof f.doublePetal,a.iLGBG)||f[i(259)]===null?a[i(185)]("geQRm",i(173))?delete f[i(259)]:_0x404f08[i(211)]=_0x3213e3.palette?.[0]?.id??"col_green":(Number[i(248)](f.doublePetal[i(228)])||(f.doublePetal[i(228)]=2),f[i(259)].innerSizeReduction=je(f.doublePetal.innerSizeReduction,1,30),f.doublePetal[i(256)]!=null&&typeof f.doublePetal[i(256)]!==a.JdHPo&&delete f.doublePetal.innerColorId));Array.isArray(r[i(179)])||(r[i(179)]=[]);{const f=new Set(r.leaves.map(h=>h.id));for(const h of r[i(179)])h.id||(h.id=a.iKeuS(Yt,"lg")),(a[i(133)](typeof h.name,a.JdHPo)||!h[i(176)])&&(h.name=i(189)),Array.isArray(h.leafIds)||(h.leafIds=[]),h[i(203)]=h.leafIds[i(250)](v=>f.has(v)),Number.isFinite(h.rotation)||(h.rotation=0),h[i(158)]!=null&&((r.groups??[])[i(156)](m=>m.id===h[i(158)])||delete h.linkedFlowerGroupId);r.leafGroups=r.leafGroups[i(250)](h=>h[i(203)]&&h[i(203)][i(206)]>0)}if(Array.isArray(r.stencils))if(a[i(167)](i(153),a.JAcZA)){const f=[a.MujDj,a.OSGto],h=[i(193),a.NrzxC,i(223)];_0x4d73f2[i(236)]=_0x2e415c.stencils[i(250)](v=>v&&typeof v.id=="string"&&f.includes(v[i(187)])&&h.includes(v[i(160)])&&v.position&&_0x26a387.isFinite(v.position.x)&&_0x5236dc.isFinite(v.position.y))}else{const f=["adult","child"],h=[a[i(238)],i(195),"back"];r[i(236)]=r.stencils[i(250)](v=>v&&typeof v.id===i(233)&&f.includes(v.variant)&&h[i(249)](v[i(160)])&&v[i(265)]&&Number.isFinite(v[i(265)].x)&&Number.isFinite(v[i(265)].y))}return Number[i(248)](r[i(178)])||(r.version=1),r}const Zd=Zn;(function(u,i){const a=Zn,r=u();for(;;)try{if(-parseInt(a(119))/1+parseInt(a(109))/2*(-parseInt(a(118))/3)+-parseInt(a(115))/4*(parseInt(a(111))/5)+parseInt(a(110))/6*(parseInt(a(124))/7)+parseInt(a(120))/8+parseInt(a(112))/9+-parseInt(a(117))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,796044);const Rh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const x=a.apply(i,arguments);return a=null,x}}:function(){};return u=!1,r}})(),ms=Rh(void 0,function(){const u=Zn,i={xNdzX:"(((.+)+)+)+$"};return ms.toString().search(i[u(113)]).toString()[u(122)](ms)[u(114)](u(121))});function Zn(u,i){u=u-109;const a=A0();let r=a[u];if(Zn.TBuRfN===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Zn.fYHNHU=x,Zn.CYPAij={},Zn.TBuRfN=!0}const f=a[0],h=u+f,v=Zn.CYPAij[h];if(v)r=v;else{const m=function(d){this.fTBAge=d,this.mpotcK=[1,0,0],this.FOMwCm=function(){return"newState"},this.FfkowW="\\w+ *\\(\\) *{\\w+ *",this.swMLhN=`['|"].+['|"];? *}`};m.prototype.ZcwbCr=function(){const d=new RegExp(this.FfkowW+this.swMLhN),g=d.test(this.FOMwCm.toString())?--this.mpotcK[1]:--this.mpotcK[0];return this.usBpJG(g)},m.prototype.usBpJG=function(d){return~d?this.yqZsle(this.fTBAge):d},m.prototype.yqZsle=function(d){for(let g=0,p=this.mpotcK.length;g<p;g++)this.mpotcK.push(Math.round(Math.random())),p=this.mpotcK.length;return d(this.mpotcK[0])},new m(Zn).ZcwbCr(),r=Zn.fYHNHU(r),Zn.CYPAij[h]=r}return r}ms();function A0(){const u=["mtC3otGWmhjlEhDRsa","ndeWnJy3Ehfbr3Le","nZq4otC3EvLUAxbx","mtaWnZaYntzAuePIrei","kcGOlISPkYKRksSK","y29UC3rYDwn0B3i","Dhn1BwfTAv9WCM9Qzwn0C192mq","nde0nJC0nfLytLDcAq","mtb3De1ezMG","mtj4v2ztv1y","mJq3odeXnvLYyK5rsq","ndeZntuYn1HjD3bWvW","Ee5KELG","C2vHCMnO","nhrUreXHsa","5y2k44gp44gz"];return A0=function(){return u},A0()}const Xd=Zd(123),pl=["",""],Oh=["","",""],Kd=["",Zd(116)];function T0(){const u=["mvboqwPuAW","Dg9tDhjPBMC","DgL0Bgu","C2v0sxrLBq","mJm2odyWBenMBhHy","CgfYC2u","z2v0sxrLBq","DxbKyxrLzef0","q2vxv2O","C29YDa","nZa5mJyWrLPOtxnf","kcGOlISPkYKRksSK","C2vHCMnO","mZqXmZC1vevMCgLm","ntK4odm2q3DKz21A","ntq0nZq5zNzKq3Hb","uLfIsfG","mJaWntGZmfr1Aef1BW","vg1NvNi","ntmZmZC2B1vquMLO","zfbWquW","ChjVAMvJDa","C2XPy2u"];return T0=function(){return u},T0()}function qn(u,i){u=u-209;const a=T0();let r=a[u];if(qn.BjUOWc===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};qn.DFzsjP=x,qn.fYfzik={},qn.BjUOWc=!0}const f=a[0],h=u+f,v=qn.fYfzik[h];if(v)r=v;else{const m=function(d){this.XrhVqX=d,this.ooDkUb=[1,0,0],this.ohDoHG=function(){return"newState"},this.wYWLdH="\\w+ *\\(\\) *{\\w+ *",this.werUMH=`['|"].+['|"];? *}`};m.prototype.PrgCgC=function(){const d=new RegExp(this.wYWLdH+this.werUMH),g=d.test(this.ohDoHG.toString())?--this.ooDkUb[1]:--this.ooDkUb[0];return this.ZKBGRj(g)},m.prototype.ZKBGRj=function(d){return~d?this.rhJWLl(this.XrhVqX):d},m.prototype.rhJWLl=function(d){for(let g=0,p=this.ooDkUb.length;g<p;g++)this.ooDkUb.push(Math.round(Math.random())),p=this.ooDkUb.length;return d(this.ooDkUb[0])},new m(qn).PrgCgC(),r=qn.DFzsjP(r),qn.fYfzik[h]=r}return r}(function(u,i){const a=qn,r=u();for(;;)try{if(-parseInt(a(211))/1*(-parseInt(a(215))/2)+-parseInt(a(226))/3+-parseInt(a(221))/4+-parseInt(a(224))/5+parseInt(a(228))/6+parseInt(a(225))/7+parseInt(a(230))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,177782);const Hh=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const x=a.apply(i,arguments);return a=null,x}}:function(){};return u=!1,r}})(),bs=Hh(void 0,function(){const u=qn,i={pEoxA:"(((.+)+)+)+$"};return bs[u(212)]().search(i.pEoxA)[u(212)]().constructor(bs)[u(223)](u(222))});bs();function nr(){const u=qn,i={dPpAL:function(a,r){return a===r},cmyAN:"TmgVr"};try{const a=localStorage[u(217)](Xd);if(!a)return[];const r=JSON[u(216)](a);return Array.isArray(r)?r.map(x=>{const f=u;try{const h=x?.project?ma(x[f(209)]):null;return h?{id:x.id??h.id,title:x[f(213)]??h[f(213)],updatedAt:x[f(218)]??h.updatedAt,project:h}:null}catch{return null}}).filter(x=>x!=null):[]}catch{if(i[u(231)](i.cmyAN,u(229)))return[];try{return _0x2dc693[u(214)](_0x25ce2d,_0x5bed6a.stringify(_0x559440)),!0}catch{return!1}}}function Wd(u){try{return localStorage.setItem(Xd,JSON.stringify(u)),!0}catch{return!1}}function Yh(u){const i=qn,a={Dxcqt:function(v){return v()},CeWWj:function(v,m){return v>=m},RQbHX:function(v,m){return v(m)}},r=a.Dxcqt(nr),x=r.findIndex(v=>v.id===u.id),f={id:u.id,title:u[i(213)],updatedAt:u[i(218)],project:u},h=a[i(219)](x,0)?[...r.slice(0,x),f,...r[i(210)](x+1)]:[f,...r];return h[i(220)]((v,m)=>v[i(218)]<m[i(218)]?1:-1),a[i(227)](Wd,h)}function Ih(u){const i={BHAxe:function(r){return r()},VBIqv:function(r,x){return r(x)}},a=i.BHAxe(nr).filter(r=>r.id!==u);return i.VBIqv(Wd,a)}function Bn(u,i){u=u-415;const a=L0();let r=a[u];if(Bn.drTcJp===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Bn.CHBPZs=x,Bn.tkwZmw={},Bn.drTcJp=!0}const f=a[0],h=u+f,v=Bn.tkwZmw[h];if(v)r=v;else{const m=function(d){this.QdRbuj=d,this.yhjETR=[1,0,0],this.QaKoUc=function(){return"newState"},this.tddHwE="\\w+ *\\(\\) *{\\w+ *",this.wXbSAk=`['|"].+['|"];? *}`};m.prototype.CVnrjk=function(){const d=new RegExp(this.tddHwE+this.wXbSAk),g=d.test(this.QaKoUc.toString())?--this.yhjETR[1]:--this.yhjETR[0];return this.nFxyDY(g)},m.prototype.nFxyDY=function(d){return~d?this.VudTaB(this.QdRbuj):d},m.prototype.VudTaB=function(d){for(let g=0,p=this.yhjETR.length;g<p;g++)this.yhjETR.push(Math.round(Math.random())),p=this.yhjETR.length;return d(this.yhjETR[0])},new m(Bn).CVnrjk(),r=Bn.CHBPZs(r),Bn.tkwZmw[h]=r}return r}(function(u,i){const a=Bn,r=u();for(;;)try{if(parseInt(a(444))/1*(-parseInt(a(453))/2)+-parseInt(a(425))/3+parseInt(a(454))/4*(-parseInt(a(455))/5)+parseInt(a(463))/6+-parseInt(a(431))/7*(parseInt(a(428))/8)+-parseInt(a(452))/9*(-parseInt(a(465))/10)+parseInt(a(433))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,994528);const Uh=(function(){const u={TgTZx:function(a,r){return a!==r}};let i=!0;return function(a,r){const x=Bn;if(u.TgTZx(x(437),x(437)))_0x4ce5d2.set(_0x11a124,{colorId:_0x4f6e06,fabricSizeMm:_0x49ec22,count:1});else{const f=i?function(){const h=x;if(h(438)===h(438)){if(r){const v=r[h(418)](a,arguments);return r=null,v}}else _0x2420da.set(_0x57de79,{colorId:_0x3de90e,fabricSizeMm:_0x404a57,count:1})}:function(){};return i=!1,f}}})(),vs=Uh(void 0,function(){const u=Bn,i={smmEb:"(((.+)+)+)+$"};return vs.toString().search(i.smmEb).toString().constructor(vs).search(u(450))});vs();function L0(){const u=["rvruqLq","C0LhEu4","mZK3ndGXAKjUsvzJ","BMfTzq","ndy0ote4odvdr1vOD3K","zMLUza","B2jjz1K","AxHgu2C","rxjgzwO","rhHMvu4","DMfSDwvZ","BgvHDMvZ","Aw5UzxjdB2XVCKLK","sxrNrwS","yMfZzurPyw1LDgvYtw0","mZm3q3DTEg5U","CMvKDwnL","zw50CMLLCW","Cgv0ywXdB3vUDa","zMfICMLJu3f1yxjLu2L6zq","C2nHBgu","kcGOlISPkYKRksSK","z2v0","odaXseLdrgj2","oty2mKXwCMfhyG","mZmWogLps2Hhyq","ndKXmffeD2rKqG","y291BNq","Dg90ywXdB3vUDa","BKPIquC","ChvZAa","Bgf5zxjZ","D1fKEve","C2v0","ntyYmtuZmKXoD2ntzq","CvPuu2S","odqWs2XHAxbI","CM91BMq","qxv0AxO","zMfICMLJu2L6zu1T","yxbWBhK","zNjVBq","qNDLC1a","AgDmzxi","yMfZzurPyw1LDgvY","BwfW","Bw9Kzq","ndm4otyWuM1srgDi","y29SB3jjza","zg91yMXLugv0ywW","mJi0r3beENns"];return L0=function(){return u},L0()}function Zh(u){const i=Bn,a={BwesP:"",ETTBT:i(436),xtHFH:function(g,p){return g/p},nJbAG:function(g,p){return g+p},qZTSk:function(g,p){return g*p},QaXfe:function(g,p){return g/p},tLlnQ:"#999999",ItgEk:function(g,p){return g===p},Autiz:function(g,p){return g*p},ilQEX:function(g,p){return g!==p},AHdDW:i(435),hgLer:i(430)},r=new Map((u.palette||[]).map(g=>[g.id,g])),x=new Map,f=(g,p)=>g?.petalOverrides?.[i(434)](N=>N.index===p)??null,h=new Map;for(const g of u.flowers||[]){const p=g[i(448)]??u.fabricSquareSize;for(const S of g[i(460)]||[]){if(!S.visible)continue;const E=Math[i(415)](a[i(416)](p,S[i(449)]??1));for(let R=0;R<S[i(447)];R++){const G=f(S,R),O=G?.colorId??S[i(426)],I=O+"|"+E,Q=x.get(I);if(Q?i(461)==="wQdyQ"?Q[i(456)]+=1:_0x245dcc[i(456)]+=1:x[i(462)](I,{colorId:O,fabricSizeMm:E,count:1}),S.doublePetal){const q=S[i(427)],U=G?.innerColorId??q[i(441)]??O,P=G?.innerSizeReduction??q.innerSizeReduction??2,W=Math.max(3,Math[i(415)](E-P)),X=U+"|"+W,_=x[i(451)](X);_?a.ilQEX(a.AHdDW,a.AHdDW)?_0x5e0f96[i(446)][i(459)]({fabricSizeMm:_0x219f59,count:_0x239dff}):_[i(456)]+=1:x[i(462)](X,{colorId:U,fabricSizeMm:W,count:1})}}}const N=g.placementMode??a.BwesP,b=N===""?er(g.flowerDiameter):g[i(422)]??u.baseDiameter,M=N+"|"+b,C=h[i(451)](M);C?C[i(456)]+=1:h.set(M,{mode:N,baseDiameterMm:b,count:1})}for(const g of u[i(440)]??[]){if(!g.visible)continue;const p=g.fabricSquareSize??u.fabricSquareSize,N=Math.round(a[i(416)](p,g.scale??1)),b=g[i(426)],M=b+"|"+N,C=x.get(M);if(C)if(a[i(421)]===a.hgLer)C.count+=1;else return _0x5578eb.mode!==_0x20a9af.mode?_0x395ffc[i(424)]===a[i(420)]?-1:1:_0x221ce9.baseDiameterMm-_0x406ce6[i(443)];else x.set(M,{colorId:b,fabricSizeMm:N,count:1});if(g[i(427)]){const S=g.doublePetal,E=S.innerColorId??b,R=Math.max(3,Math[i(415)](N-(S.innerSizeReduction??2))),G=E+"|"+R,O=x.get(G);O?O.count+=1:x.set(G,{colorId:E,fabricSizeMm:R,count:1})}}const v=new Map;for(const{colorId:g,fabricSizeMm:p,count:N}of x.values()){const b=v.get(g);b?b.entries[i(459)]({fabricSizeMm:p,count:N}):v[i(462)](g,{colorId:g,entries:[{fabricSizeMm:p,count:N}]})}const m=Array[i(419)](v[i(439)]())[i(423)](({colorId:g,entries:p})=>{const N=i,b=r[N(451)](g),M=p.sort((R,G)=>G[N(417)]-R[N(417)]),C=M[N(445)]((R,G)=>R+G.count,0),S=Math[N(415)](a[N(464)](M.reduce((R,G)=>{const O=N;if(a[O(429)]!=="wXxrP"){const I=a.xtHFH(G.fabricSizeMm,10);return a[O(458)](R,a.qZTSk(G.count*I,I))}else _0xc7b236.set(_0x50b2c4,{mode:_0x54f291,baseDiameterMm:_0x5a2647,count:1})},0),100))/100,E=a.QaXfe(Math.round(Math.sqrt(S)*10),10);return{colorId:g,colorName:b?.[N(432)]??g,hex:b?.hex??a.tLlnQ,sizes:M,totalCount:C,totalAreaCm2:S,squareSideCm:E}}).sort((g,p)=>p.totalCount-g[i(457)]),d=Array.from(h[i(439)]()).sort((g,p)=>{const N=i;return g.mode!==p.mode?a[N(442)](g[N(424)],"")?-1:1:p.baseDiameterMm-g.baseDiameterMm});return{colors:m,bases:d}}(function(u,i){const a=ln,r=u();for(;;)try{if(parseInt(a(199))/1*(parseInt(a(259))/2)+parseInt(a(208))/3*(-parseInt(a(202))/4)+-parseInt(a(225))/5*(parseInt(a(228))/6)+-parseInt(a(222))/7+-parseInt(a(224))/8+parseInt(a(209))/9+parseInt(a(247))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,402811);function ln(u,i){u=u-196;const a=E0();let r=a[u];if(ln.uXdIjZ===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};ln.TcSiep=x,ln.xFdEhB={},ln.uXdIjZ=!0}const f=a[0],h=u+f,v=ln.xFdEhB[h];if(v)r=v;else{const m=function(d){this.YUXFQS=d,this.ieyCUu=[1,0,0],this.eYfsYf=function(){return"newState"},this.qSPTaF="\\w+ *\\(\\) *{\\w+ *",this.AtZKJl=`['|"].+['|"];? *}`};m.prototype.HvqmBr=function(){const d=new RegExp(this.qSPTaF+this.AtZKJl),g=d.test(this.eYfsYf.toString())?--this.ieyCUu[1]:--this.ieyCUu[0];return this.MrnGQZ(g)},m.prototype.MrnGQZ=function(d){return~d?this.XNGLwq(this.YUXFQS):d},m.prototype.XNGLwq=function(d){for(let g=0,p=this.ieyCUu.length;g<p;g++)this.ieyCUu.push(Math.round(Math.random())),p=this.ieyCUu.length;return d(this.ieyCUu[0])},new m(ln).HvqmBr(),r=ln.TcSiep(r),ln.xFdEhB[h]=r}return r}const Xh=(function(){let u=!0;return function(i,a){const r=u?function(){const x=ln;if(a){const f=a[x(210)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),gs=Xh(void 0,function(){const u=ln,i={BrHey:u(214)};return gs.toString()[u(196)](i[u(245)]).toString().constructor(gs)[u(196)](i[u(245)])});gs();function Kh(u,i){const a=ln,r={FUSnl:"style",zeoIW:"height",FcKst:function(b,M){return b(M)},DDeUo:a(218),Lpauj:a(250),PKFcT:a(201),pFYlN:"fill",QyLUJ:"white",VziIX:"[data-grid]",qUFYa:".tsumami-sel-dash",ViGgn:a(212),tHNEu:a(238)},x=u[a(256)](!0);x.querySelectorAll(a(255))[a(236)](b=>b[a(252)]("data-testid")),x.removeAttribute(r[a(203)]);const f=u.getAttribute("viewBox");f&&x[a(198)]("viewBox",f);const h=(f??"0 0 200 200")[a(237)](/[\s,]+/)[a(234)](Number),v=h[2]??200,m=h[3]??200;x[a(198)](a(205),String(v)),x[a(198)](r.zeoIW,r.FcKst(String,m)),x[a(198)](r.DDeUo,r[a(221)]);const d=document[a(258)](r[a(221)],"rect");d[a(198)](a(205),a(201)),d[a(198)](r.zeoIW,r[a(211)]),d.setAttribute(r.pFYlN,r.QyLUJ),x[a(235)](d,x.firstChild),x.querySelectorAll(r[a(244)])[a(236)](b=>b.remove()),x[a(227)](r[a(249)])[a(236)](b=>b[a(257)]()),x.querySelectorAll(".tsumami-group-dash").forEach(b=>b[a(257)]()),x.querySelectorAll(a(243))[a(236)](b=>b[a(257)]());const g=new XMLSerializer,p=r[a(254)]+g[a(229)](x),N=new Blob([p],{type:"image/svg+xml;charset=utf-8"});Jd(N,i[a(248)](r[a(240)])?i:i+a(238))}function Wh(u,i,a=2){const r=ln,x={EVsto:".png",vlFgC:"canvas",cvXrY:function(C,S){return C*S},Ngqmm:r(207),gWzSn:r(230),CelVt:"[data-testid]",wwtcs:"style",sxins:"[data-grid]",VsBrk:".tsumami-sel-dash",vOVcO:r(243),wfbmB:function(C,S){return C??S},DqXzh:"0 0 200 200",QespV:function(C,S){return C(S)},xhwsP:r(218),gdsdU:"http://www.w3.org/2000/svg",qxZdz:r(215)},f=u[r(256)](!0);f[r(227)](x[r(200)]).forEach(C=>C.removeAttribute(r(231))),f[r(252)](x[r(223)]),f[r(227)](x.sxins).forEach(C=>C[r(257)]()),f.querySelectorAll(x[r(261)])[r(236)](C=>C.remove()),f[r(227)](".tsumami-group-dash").forEach(C=>C[r(257)]()),f.querySelectorAll(x[r(220)]).forEach(C=>C.remove());const h=u.getAttribute("viewBox"),v=x.wfbmB(h,x[r(239)])[r(237)](/[\s,]+/)[r(234)](Number),m=v[2]??200,d=v[3]??200;f[r(198)]("viewBox",h??r(260)),f.setAttribute("width",x[r(219)](String,m)),f.setAttribute(r(246),String(d)),f.setAttribute(x[r(226)],x.gdsdU);const g=new XMLSerializer,p=g.serializeToString(f),N=new Blob([p],{type:x.qxZdz}),b=URL.createObjectURL(N),M=new Image;M[r(242)]=()=>{const C=r,S=document[C(216)](x.vlFgC);S.width=x[C(253)](m,a),S.height=d*a;const E=S[C(206)]("2d");if(!E){URL.revokeObjectURL(b);return}E[C(233)]=x.Ngqmm,E[C(213)](0,0,S[C(205)],S[C(246)]),E[C(251)](M,0,0,S.width,S[C(246)]),S[C(204)](R=>{const G=C;R&&Jd(R,i[G(248)](x.EVsto)?i:i+".png"),URL[G(197)](b)},x.gWzSn)},M.onerror=()=>{URL[r(197)](b)},M[r(232)]=b}function E0(){const u=["CMvTB3zLqxr0CMLIDxrL","y3zyCLK","vMLhz24","w2rHDgeTDgvZDgLKxq","y2XVBMvoB2rL","CMvTB3zL","y3jLyxrLrwXLBwvUDe5t","ndrqy2T6BMK","mcaWidiWmcaYmda","vNncCMS","C2vHCMnO","CMv2B2TLt2jQzwn0vvjm","C2v0qxr0CMLIDxrL","ntKXow9rvfLPza","q2vSvNq","mtaWjq","mZq0B3rmBxLo","rLvtBMW","Dg9cBg9I","D2LKDgG","z2v0q29UDgv4Da","D2HPDgu","mJuYmZLgB2zIqNO","nte2ntCYmunqBxnfta","yxbWBhK","ueTgy1q","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","zMLSBfjLy3q","kcGOlISPkYKRksSK","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","y3jLyxrLrwXLBwvUDa","CMvTB3zLq2HPBgq","Eg1SBNm","uwvZCfy","DK9wy08","thbHDwO","mtqXmti2m0T4z0nLzW","D3D0y3m","mtC4otqWohjryLDXrW","nJy1B1HfEg9J","EgH3C1a","CxvLCNLtzwXLy3rVCKfSBa","mte0nMr6DuzSyW","C2vYAwfSAxPLvg9tDhjPBMC","Aw1Hz2uVCg5N","zgf0ys10zxn0Awq","C3jJ","zMLSBfn0EwXL","BwfW","Aw5Zzxj0qMvMB3jL","zM9YrwfJAa","C3bSAxq","lNn2zW","rhfyEMG","DeHorxu","yxbWzw5Kq2HPBgq","B25SB2fK","w2rHDgeTBwfYCxvLzv0","vNPPsvG","qNjizxK","AgvPz2H0","odCYodmWmhvLt05PsG","zw5KC1DPDgG","Cvvgwwe","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","zhjHD0LTywDL"];return E0=function(){return u},E0()}function Jd(u,i){const a=ln,r=URL.createObjectURL(u),x=document.createElement("a");x.href=r,x.download=i,document.body[a(241)](x),x.click(),document.body[a(217)](x),URL[a(197)](r)}function p0({active:u,disabled:i,onClick:a,children:r,...x}){return s.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...x,children:r})}const Jh="v0.1.0-dev";function Vh(u){const{view:i,onNavigate:a,project:r}=u;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Jh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(p0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(p0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(p0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),s.jsx(p0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qh(u){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(i=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:i.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ys({children:u}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Ph(u){const[i,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ys,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(u,i){const a=Kt,r=u();for(;;)try{if(parseInt(a(392))/1+-parseInt(a(393))/2*(parseInt(a(410))/3)+parseInt(a(479))/4*(-parseInt(a(441))/5)+parseInt(a(470))/6+parseInt(a(461))/7+parseInt(a(469))/8*(-parseInt(a(457))/9)+-parseInt(a(452))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,315821);function q0(){const u=["z1fbvwS","ExDMsKe","Bw9Kzq","mtqZnJKWmePIzw1jzW","BwvfufK","svvzrLa","r3Phs0u","sLnqtfu","yMnTsMy","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DwDwAhO","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Cg9PBNrLCKLK","sNfPwuW","zMXVD2vYrgLHBwv0zxi","l3rZDw1HBwKV","otK1mZLZshjSsxm","ofDSC3PSza","y1bpDfC","zgvpvNi","u1zRsMy","y3vYC29Y","vvbqAMy","txzpuMW","y3vYCMvUDa","CNbID0u","C3r5Bgu","AvfTyxm","DvjoBMu","C2LU","vg5guw0","EM9NsLG","ExbSuwm","C2nHBgu","mZu5mJjys2LIBeS","y29UC3rYDwn0B3i","BMLsvNu","C3rHCNrsB3rHDgLVBG","C3rHCNreAxn0","zMLSDgvY","Exn1ugC","uvfHBLe","CMfKAxvZ","Bgf5zxjjza","Bwf4","shPyuw4","AhLWB3q","vLD1ExC","uejRAuC","C2vHCMnO","rMHcweu","qMvtv3m","y29Z","t0jQvMe","ywjZ","Cgv0ywXbBMDSzq","zMLUza","tNDdDu0","y3vYCMvUDfrHCMDLDa","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","BwfW","shvTveK","C1nQD2O","Bfjzsfe","D2LKDgHty2fSzq","nvndExn0wa","B09mrMy","Cg9ZAxrPB24","ChjLDMvUDerLzMf1Bhq","DxjSkci","D0zYEuW","vKPlBfO","qNHQs0W","C2v0ug9PBNrLCKnHChr1CMu","CM90yxrPB24","zMXVD2vY","mtCXodyYmfnOBML4uW","Eej0BNa","C3rHCNrsywrPDxm","Cgv0ywXjBMrLEa","zMXVD2vYswq","mtyWmKr5yKzxva","Bgf5zxjZ","tLfutwW","yxrHBJi","mZeZmtaZn2Hlvxnqvq","C3rHCNreAwfT","vgXts0q","B2zMC2v0qw5NBgu","kcGOlISPkYKRksSK","re9jufG","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","zMXVD2vYCW","mZGXnLbIBeDVDG","mJu5nZi4mezSuMLyDG","reDTqNm","DxHAy2C","vwLtCxq","qM5Qrwu","Dg9tDhjPBMC"];return q0=function(){return u},q0()}const Fh=(function(){const u=Kt,i={tklMx:u(391),EtvJG:function(r,x){return r*x},qxYQd:function(r,x){return r-x}};let a=!0;return function(r,x){const f={UPPjf:i.tklMx,DaRaN:function(v,m){return v+m},RTESF:function(v,m){return i.EtvJG(v,m)},GzGKE:function(v,m){return i.qxYQd(v,m)},BxjKL:function(v,m){return v*m},VJKlZ:"UInCK"},h=a?function(){const v=Kt,m={iQmas:f[v(398)],BeSWs:function(d,g){return d(g)},IUYFP:function(d,g){return f.DaRaN(d,g)},zogJX:function(d,g){return f.RTESF(d,g)},DOIPX:function(d,g){return f[v(482)](d,g)},QUxYN:function(d,g){return f[v(448)](d,g)}};if(v(459)!==f[v(447)]){if(x){const d=x.apply(r,arguments);return x=null,d}}else{_0x4330e1[v(444)](),_0x6ded7f[v(434)]?.[v(449)]?.(_0x1b5d86.pointerId),_0x343e7f.current&&(_0x1a4bdf.current[v(402)][v(397)]='url("'+m[v(403)]+v(467));const d=_0x5d4214.flowers[v(432)](Q=>Q.id===_0x32a081);if(!d)return;const g=_0x298660?.layerId?d.layers.find(Q=>Q.id===_0x58b422[v(419)]):null;if(!g)return;const p=m[v(427)](_0x4fa65c,_0x2b2ee7),N=d.position.x,b=d.position.y,M=_0x1a0ac1?.petalIndex??0,C=360/_0x55433d[v(420)](1,g.petalCount),S=m[v(481)](g.offsetAngle+m[v(407)](M,C),d.rotation)*(_0x335693.PI/180),E=m[v(466)](p.x,N),R=p.y-b,G=-_0x1181f2.sin(S),O=_0x2f4e7b[v(428)](S),I=_0xfc3efe.abs(E*G+m.QUxYN(R,O));_0x29dbf2[v(400)]={mode:_0xc461b4,flowerId:_0x515626,layerId:_0x4b8188?.layerId,petalAngle:S,startDist:_0x24e693.max(1,I),startWidthScale:g.widthScale??1}}}:function(){};return a=!1,h}})(),ps=Fh(void 0,function(){const u=Kt,i={rpbwE:"(((.+)+)+)+$"};return ps.toString().search("(((.+)+)+)+$").toString()[u(411)](ps)[u(425)](i[u(401)])});ps();function Kt(u,i){u=u-385;const a=q0();let r=a[u];if(Kt.SoNHGN===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Kt.dkpKiv=x,Kt.SHQAnH={},Kt.SoNHGN=!0}const f=a[0],h=u+f,v=Kt.SHQAnH[h];if(v)r=v;else{const m=function(d){this.mPLnXc=d,this.YWsVIG=[1,0,0],this.BgGUTU=function(){return"newState"},this.VfzEgV="\\w+ *\\(\\) *{\\w+ *",this.uhSvWA=`['|"].+['|"];? *}`};m.prototype.hEcPZt=function(){const d=new RegExp(this.VfzEgV+this.uhSvWA),g=d.test(this.BgGUTU.toString())?--this.YWsVIG[1]:--this.YWsVIG[0];return this.wXdFkb(g)},m.prototype.wXdFkb=function(d){return~d?this.nZiRtA(this.mPLnXc):d},m.prototype.nZiRtA=function(d){for(let g=0,p=this.YWsVIG.length;g<p;g++)this.YWsVIG.push(Math.round(Math.random())),p=this.YWsVIG.length;return d(this.YWsVIG[0])},new m(Kt).hEcPZt(),r=Kt.dkpKiv(r),Kt.SHQAnH[h]=r}return r}function $h(u){const i=Kt,a={fMbBk:"/tsumami/",axjOJ:function(q,U){return q===U},dRwQc:function(q,U){return q(U)},lvfHO:function(q,U){return q-U},uxZcg:function(q,U){return q-U},JSPLU:function(q,U){return q+U},wXUPd:function(q,U){return q*U},sSjwj:function(q,U){return q/U},OJrwe:i(451),OBjVa:i(416),HNIEF:function(q,U,P,W){return q(U,P,W)},HumTI:function(q,U){return q/U},QQanQ:function(q,U,P){return q(U,P)},rOZph:function(q,U){return q!==U},jeVCd:"GWXLo",TnFQm:function(q,U){return q/U},QIkPR:"layer",DGmBs:function(q,U){return q-U},RmUQY:function(q,U){return q>U},TeFjm:function(q,U){return q+U},cFLmI:i(465),xBtnp:i(463),gQAUk:function(q,U){return q*U},EVFFh:function(q,U){return q+U},wFryL:function(q,U){return q*U},PBkiG:function(q,U){return q(U)},FhBXE:function(q,U){return q-U},mypqH:function(q,U){return q+U},BnjEe:function(q,U){return q*U},ywfJA:function(q,U){return q*U},nkehc:function(q,U,P){return q(U,P)},cPOtW:function(q,U){return q(U)},lRYHQ:function(q,U){return q-U},bcmJf:function(q,U,P){return q(U,P)},MvORl:function(q,U){return q(U)},SVkJf:function(q,U){return q(U)},iAvaz:function(q,U){return q(U)}},{project:r,applyUpdate:x,stageRef:f,clientToSvgPoint:h}=u,v=a[i(399)]($.useRef,null),m=(q,U,P,W)=>{const X=i;P.preventDefault(),P.currentTarget?.setPointerCapture?.(P[X(388)]),f.current&&(f.current.style[X(397)]=X(445)+a.fMbBk+X(385));const _=r.flowers.find(Y=>Y.id===U);if(!_)return;const w=a.axjOJ(q,"layer")&&W?.layerId?_[X(458)][X(415)](Y=>Y.id===W[X(419)]).map(Y=>({layerId:Y.id,scale:Y[X(409)]??1,radius:Y[X(418)]??10})):_.layers[X(436)](Y=>({layerId:Y.id,scale:Y[X(409)]??1,radius:Y[X(418)]??10})),T=a.dRwQc(h,P),D=_[X(443)].x,j=_[X(443)].y,L=Math.hypot(T.x-D,T.y-j);v[X(400)]={mode:q,flowerId:U,layerId:W?.[X(419)],startScales:w,startDiam:_[X(390)]||60,startDist:L}},d=q=>{const U=i,P={CxSAO:function(W,X){return W*X},ugVhz:function(W,X){return a.lvfHO(W,X)},niRVu:function(W,X){return W===X},NwCuM:function(W,X){return W-X},yplQc:function(W,X){return a.uxZcg(W,X)},meEPY:function(W,X){return a[Kt(483)](W,X)},HzXQn:function(W,X){return a.wXUPd(W,X)},VWuyw:function(W,X,_,w){return W(X,_,w)},QQroa:function(W,X){return a[Kt(438)](W,X)},uRNne:function(W,X,_,w){return W(X,_,w)},oZLEo:function(W,X,_){return W(X,_)},XQQor:function(W,X){return W===X},JqiYL:a.OJrwe};if(a[U(429)]!==U(416)){_0x539d25[U(444)](),_0x490a7b[U(434)]?.setPointerCapture?.(_0xa209ae[U(388)]),_0x9b54c0.current&&(_0x422ae8.current[U(402)].cursor=U(445)+"/tsumami/"+U(435));const W=_0x56dcc1.flowers[U(432)](T=>T.id===_0x4274e6);if(!W)return;const X=_0x402103(_0x438d84),_=P.CxSAO(_0x319a89[U(460)](P[U(386)](X.y,W.position.y),P[U(386)](X.x,W[U(443)].x)),180/_0x48e174.PI),w=P[U(412)](_0xfed717,"layer")&&_0xa2b4bd?.layerId?W.layers[U(432)](T=>T.id===_0x468faa.layerId)?.offsetAngle??0:W[U(450)]??0;_0x24eb27.current={mode:_0x1dfd30,flowerId:_0x21f58f,layerId:_0x3880ff?.layerId,startAngle:_,startRotation:w}}else{const W=v[U(400)];if(!W)return;const X=r[U(468)][U(432)](j=>j.id===W[U(456)]);if(!X)return;const _=h(q),w=Math[U(422)](a[U(472)](_.x,X[U(443)].x),_.y-X[U(443)].y),T=Math.max(1,W[U(414)]??1),D=a.HNIEF(je,a[U(437)](w,T),.3,3);a.QQanQ(x,j=>{const L=U,Y=j[L(468)][L(432)](Z=>Z.id===W.flowerId);if(Y){for(const Z of W.startScales)if(L(395)==="deOVr"){const k=Y.layers[L(432)](z=>z.id===Z[L(419)]);if(!k)continue;k.scale=je(Z.scale*D,.3,3),P.XQQor(W.mode,P.JqiYL)&&(k[L(418)]=je(P.CxSAO(Z[L(418)],D),2,120))}else{const k=_0x29a580[L(400)];if(!k)return;const z=_0x568514.flowers[L(432)](Se=>Se.id===k.flowerId);if(!z)return;const B=_0x3f724c(_0x5bc7a8),H=P[L(433)](B.x,z.position.x),J=P[L(408)](B.y,z.position.y),ae=-_0x310436[L(405)](k[L(431)]),oe=_0x202829.cos(k.petalAngle),de=_0x2ef4dc.abs(P[L(480)](P[L(421)](H,ae),J*oe)),_e=P[L(423)](_0x5a029e,P.QQroa(de,k[L(414)]),.3,3),he=P[L(404)](_0x5cee13,P.CxSAO(k.startWidthScale,_e),.3,3);P.oZLEo(_0x30b380,Se=>{const xe=L,Be=Se[xe(468)].find(ot=>ot.id===k[xe(456)]);if(!Be)return;const $e=Be[xe(458)][xe(432)](ot=>ot.id===k[xe(419)]);$e&&($e[xe(440)]=he)},!1)}W.mode===P[L(389)]&&(Y.flowerDiameter=P[L(404)](je,W[L(462)]*D,10,200))}},!1)}},g=()=>{const q=i;v.current&&(x(()=>{},!0),f[q(400)]&&(f[q(400)].style.cursor=""),v.current=null)},p=$.useRef(null),N=(q,U,P,W)=>{const X=i;if(P.preventDefault(),P.currentTarget?.[X(449)]?.(P.pointerId),f[X(400)])if(a.rOZph(a.jeVCd,"GWXLo")){const j=_0x5f2c4c.layers[X(432)](L=>L.id===_0x588e4d[X(419)]);j&&(j.offsetAngle=_0x42b6ce)}else f.current.style[X(397)]='url("/tsumami/rotate_cursor_active_32.png") 16 16, grabbing';const _=r.flowers.find(j=>j.id===U);if(!_)return;const w=h(P),T=Math.atan2(a.uxZcg(w.y,_[X(443)].y),w.x-_.position.x)*a[X(406)](180,Math.PI),D=q===a.QIkPR&&W?.[X(419)]?_.layers[X(432)](j=>j.id===W.layerId)?.[X(464)]??0:_.rotation??0;p.current={mode:q,flowerId:U,layerId:W?.layerId,startAngle:T,startRotation:D}},b=q=>{const U=i,P=p.current;if(!P)return;const W=r[U(468)][U(432)](D=>D.id===P.flowerId);if(!W)return;const X=h(q),_=Math[U(460)](a[U(471)](X.y,W.position.y),a[U(471)](X.x,W[U(443)].x))*a.sSjwj(180,Math.PI);let w=a.lvfHO(_,P.startAngle);for(;a.RmUQY(w,180);)w-=360;for(;w<-180;)w+=360;const T=a.TeFjm(P[U(413)],w);x(D=>{const j=U,L=D[j(468)][j(432)](Y=>Y.id===P[j(456)]);if(L)if(P[j(478)]===a.QIkPR&&P.layerId){const Y=L[j(458)][j(432)](Z=>Z.id===P[j(419)]);Y&&(Y[j(464)]=T)}else L.rotation=T},!1)},M=()=>{const q=i;if(q(473)===q(442))_0x245cf3[q(400)][q(402)].cursor=q(445)+q(391)+'rotate_cursor_active_32.png") 16 16, grabbing';else{if(!p[q(400)])return;x(()=>{},!0),f[q(400)]&&(f[q(400)][q(402)][q(397)]=""),p.current=null}},C=a[i(396)]($.useRef,null),S=(q,U,P,W)=>{const X=i;if(a[X(453)]!==a.xBtnp)return _0xd43b25[X(475)]()[X(425)](DdRQeh.cFLmI)[X(475)]()[X(411)](_0x35b0ee)[X(425)](X(465));{P.preventDefault(),P[X(434)]?.setPointerCapture?.(P[X(388)]),f.current&&(f[X(400)].style[X(397)]=X(445)+"/tsumami/"+X(467));const _=r[X(468)][X(432)](ae=>ae.id===U);if(!_)return;const w=W?.[X(419)]?_[X(458)][X(432)](ae=>ae.id===W[X(419)]):null;if(!w)return;const T=h(P),D=_[X(443)].x,j=_[X(443)].y,L=W?.[X(455)]??0,Y=360/Math[X(420)](1,w.petalCount),Z=a[X(476)](a[X(483)](w[X(464)]+L*Y,_[X(450)]),a.HumTI(Math.PI,180)),k=T.x-D,z=T.y-j,B=-Math.sin(Z),H=Math[X(428)](Z),J=Math[X(430)](a.EVFFh(k*B,a[X(446)](z,H)));C[X(400)]={mode:q,flowerId:U,layerId:W?.[X(419)],petalAngle:Z,startDist:Math[X(420)](1,J),startWidthScale:w.widthScale??1}}},E=q=>{const U=i,P=C[U(400)];if(!P)return;const W=r[U(468)][U(432)](Z=>Z.id===P.flowerId);if(!W)return;const X=a[U(424)](h,q),_=a[U(472)](X.x,W.position.x),w=a.FhBXE(X.y,W[U(443)].y),T=-Math[U(405)](P[U(431)]),D=Math[U(428)](P[U(431)]),j=Math[U(430)](a.mypqH(a[U(476)](_,T),a[U(474)](w,D))),L=a.HNIEF(je,j/P[U(414)],.3,3),Y=je(a[U(477)](P.startWidthScale,L),.3,3);a[U(417)](x,Z=>{const k=U,z=Z.flowers.find(H=>H.id===P[k(456)]);if(!z)return;const B=z[k(458)].find(H=>H.id===P.layerId);B&&(B[k(440)]=Y)},!1)},R=()=>{const q=i;C[q(400)]&&(a.nkehc(x,()=>{},!0),f[q(400)]&&(f.current[q(402)][q(397)]=""),C[q(400)]=null)},G=a.iAvaz($.useRef,null);return{scaleDragRef:v,beginScaleDrag:m,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:p,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:M,widthScaleDragRef:C,beginWidthScaleDrag:S,updateWidthScaleDrag:E,endWidthScaleDrag:R,radiusDragRef:G,beginRadiusDrag:(q,U,P,W)=>{const X=i;P[X(444)](),P[X(434)]?.[X(449)]?.(P.pointerId),f.current&&(f.current[X(402)][X(397)]=X(445)+a.fMbBk+X(387));const _=r.flowers.find(j=>j.id===U);if(!_)return;const w=W?.layerId?_.layers.find(j=>j.id===W[X(419)]):null;if(!w)return;const T=a[X(394)](h,P),D=Math[X(422)](a[X(426)](T.x,_.position.x),a[X(439)](T.y,_.position.y));G.current={mode:q,flowerId:U,layerId:W?.layerId,startDist:Math.max(1,D),startRadius:w[X(418)]??28}},updateRadiusDrag:q=>{const U=i,P=G[U(400)];if(!P)return;const W=r.flowers[U(432)](D=>D.id===P[U(456)]);if(!W)return;const X=h(q),_=Math.hypot(X.x-W.position.x,X.y-W.position.y),w=_-P.startDist,T=je(a.TeFjm(P[U(454)],w),5,100);a.nkehc(x,D=>{const j=U,L=D.flowers.find(Z=>Z.id===P[j(456)]);if(!L)return;const Y=L.layers.find(Z=>Z.id===P[j(419)]);Y&&(Y[j(418)]=T)},!1)},endRadiusDrag:()=>{const q=i;G.current&&(a[q(484)](x,()=>{},!0),f.current&&(f.current.style[q(397)]=""),G.current=null)}}}(function(u,i){const a=Et,r=u();for(;;)try{if(-parseInt(a(213))/1*(-parseInt(a(170))/2)+parseInt(a(167))/3*(parseInt(a(182))/4)+-parseInt(a(133))/5+-parseInt(a(209))/6*(parseInt(a(200))/7)+parseInt(a(139))/8*(-parseInt(a(172))/9)+parseInt(a(194))/10+-parseInt(a(180))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,526918);const em=(function(){const u={wBfFW:"radius",QaDuR:function(a,r){return a!==r},ZNtTT:"eUcDu"};let i=!0;return function(a,r){const x=Et,f={RyoXR:function(h,v){return h<=v},msTuf:u[x(155)]};if(u.QaDuR(u[x(195)],x(178))){const v=_0xc2ad2f[x(175)](_0x44340e-_0x11110c);if(f.RyoXR(v,6))return{zone:f[x(145)],layerId:_0x5cc5ed.id}}else{const h=i?function(){const v=x;if(r){const m=r[v(176)](a,arguments);return r=null,m}}:function(){};return i=!1,h}}})(),_s=em(void 0,function(){const u=Et;return _s[u(177)]().search("(((.+)+)+)+$")[u(177)]()[u(198)](_s).search("(((.+)+)+)+$")});_s();function ai(u,i,a,r,x){const f=Et,h={KgFfB:"scale",oXaTC:function(I,Q){return I-Q},vaSEh:function(I,Q){return I<=Q},ynWDg:function(I,Q){return I===Q},QXcqh:function(I,Q){return I*Q},qyqtm:function(I,Q){return I-Q},cOAEb:function(I,Q){return I*Q},FVHvq:function(I,Q){return I!==Q},meRQi:"LXtMN",DkByV:function(I,Q){return I(Q)},AhnaP:function(I,Q){return I/Q},UZoLE:function(I,Q){return I/Q},FMWqN:function(I,Q){return I*Q},hCYDe:function(I,Q){return I*Q},KUdea:function(I,Q){return I+Q},WigIs:function(I,Q){return I/Q},NWrsa:function(I,Q){return I>=Q},CmOkh:function(I,Q){return I>Q},TZhSR:function(I,Q){return I===Q},dtFGm:"JbbyW",DVODX:"rotate",lCWek:"move",AMJjp:function(I,Q){return I===Q}},{length:v}=It(a[f(141)]??r.fabricSquareSize),m=u-a[f(174)].x,d=i-a[f(174)].y,g=Math[f(217)](m,d);let p=1/0;for(const I of a[f(211)]){if(!I.visible)continue;const Q=I[f(157)]??1,q=v*Q,U=.28,P=Math[f(161)](0,h[f(197)](I[f(183)],q*U));P<p&&(p=P)}isFinite(p)||(p=0);const N=Math.max(p*.9,8);if(h[f(165)](g,N))return{zone:"center"};if(h.ynWDg(x.kind,"layer")){const I=a[f(211)][f(168)](Q=>Q.id===x[f(191)]&&Q[f(164)]);if(I){const Q=I[f(157)]??1,q=h[f(186)](v,Q),U=.28,P=Math.max(0,h[f(214)](I.radius,h.cOAEb(q,U)));if(P>0&&Math.abs(g-P)<=6){if(h.FVHvq(f(184),h[f(205)]))return{zone:f(183),layerId:I.id};_0x3aa664=_0x2d32ea,_0x287342=_0x473d7c.id}}}const b=h.DkByV(va,-(a.rotation??0)),M=h.cOAEb(m,Math.cos(b))-d*Math.sin(b),C=h[f(159)](m,Math.sin(b))+d*Math[f(148)](b),S=x[f(221)]===f(173)?a[f(211)].filter(I=>I.id===x.layerId&&I.visible):a[f(211)][f(202)](I=>I.visible);let E=f(171),R,G,O=1/0;for(const I of S){const Q=I[f(157)]??1,q=v*Q,U=I.widthScale??1,P=h.QXcqh(h.AhnaP(v,2),U)*Q,W=.28,X=Math[f(161)](0,h.qyqtm(I.radius,q*W)),_=h[f(204)](360,Math.max(1,I[f(163)]));for(let w=0;w<I.petalCount;w++){const T=I[f(190)]+w*_,D=va(T),j=Math.cos(D)*X,L=Math.sin(D)*X,Y=M-j,Z=C-L,k=Math[f(148)](-D),z=Math.sin(-D),B=h.FMWqN(Y,k)-h.hCYDe(Z,z),H=h[f(220)](h[f(185)](Y,z),Z*k),J=h.WigIs(B,q),ae=H/P;if(J<-.05||J>1.08||Math.abs(ae)>.75)continue;const oe=Math[f(217)](J-.5,ae);h[f(196)](oe,O)||(O=oe,R=I.id,G=w,h[f(193)](Math.abs(ae),.45)?E="width":h.CmOkh(J,.75)?h[f(201)]("MuVHp",h[f(203)])?_0x498aa8=h[f(134)]:E=h.DVODX:J>.3?E=h.KgFfB:E=h.lCWek)}}if(h[f(143)](E,"none")){let I=12;for(const U of a.layers){if(!U.visible)continue;const P=U.scale??1,W=v*P,X=.28,_=Math.max(0,U[f(183)]-W*X);I=Math.max(I,_+W)}if(Math[f(175)](g-I)<=8)return{zone:h[f(134)]}}return{zone:E,layerId:R,petalIndex:G}}function S0(u,i,a){const r=Et,x={HtdXz:"center",GdQvm:"none",vtJkn:function(f,h){return f===h},NDVxa:"scale",kBaSX:function(f,h){return f===h},sKcRu:r(137),Xfvka:function(f,h){return f*h},nOgse:function(f,h){return f-h},PtOpr:function(f,h){return f+h},MxgQJ:function(f,h){return f>h},hnfeq:function(f,h){return f===h},FeaOS:r(153),FTelY:function(f,h){return f===h},PZtwK:r(169),fuEwB:r(158),LTGWx:"layer",dJSiB:"petals"};if(u===r(192))return x[r(142)];if(u===x[r(149)])return x[r(149)];switch(i){case"flower":{if(x[r(138)](u,r(158)))return r(158);if(x.vtJkn(u,x.NDVxa))return x[r(210)];if(x.vtJkn(u,"rotate")&&a?.[r(140)]&&a.flower&&a.length!=null)if(x.kBaSX(x.sKcRu,"LSLkn")){let f,h=-1/0;for(const v of a.flower[r(211)]){if(!v.visible)continue;const m=v[r(157)]??1,d=x.Xfvka(a.length,m),g=.28,p=Math.max(0,x.nOgse(v.radius,d*g)),N=x.PtOpr(p,d);if(x.MxgQJ(N,h))if(x.hnfeq(r(153),x[r(144)]))h=N,f=v.id;else return'url("'+_0x398e03+r(136)}return x.FTelY(a[r(140)],f)?x.PZtwK:x.fuEwB}else _0xff2cd7="width";return x[r(207)]}case x[r(181)]:return u;case"petal":case x.dJSiB:return x.fuEwB;default:return r(158)}}function tm(u,i,a,r){const x=Et,f={jqfio:function(G,O){return G(O)},lAGDt:function(G,O){return G*O},RnveI:function(G,O){return G*O},gEtYR:function(G,O){return G-O},eNHle:function(G,O){return G*O},wAzAu:function(G,O){return G/O},wJPsV:function(G,O){return G<O},QmGky:function(G,O){return G>O},escVY:"rotate"},h=a.fabricSquareSize??r[x(141)],{length:v,width:m}=f[x(208)](It,h),d=a[x(157)]??1,g=f.lAGDt(v,d),p=f.lAGDt(f[x(162)](m,a.widthScale??1),d),N=f[x(156)](u,a.position.x),b=f[x(156)](i,a[x(174)].y),M=va(-(a[x(179)]??0)),C=f[x(156)](f[x(162)](N,Math.cos(M)),b*Math[x(132)](M)),S=N*Math[x(132)](M)+f[x(206)](b,Math.cos(M)),E=C/g,R=f[x(189)](S,p);return f[x(147)](E,-.05)||f[x(199)](E,1.08)||Math[x(175)](R)>.75?"none":Math[x(175)](R)>.45?x(216):E>.75?f[x(166)]:E>.3?"scale":x(158)}function $i(u,i){const a=Et,r={bMyIH:"rotate",KWetY:a(158),EkjPs:"none",haGEc:"grab"};switch(u){case r.bMyIH:return'url("'+i+a(154);case"scale":return a(160)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case r.KWetY:return ar(i);case r[a(188)]:default:return r[a(152)]}}function Rd(u,i){const a=Et,r={KKGcK:a(219),FDaSo:"rotate",qnwHp:"scale",IxejY:"width",vwSwq:a(183)};switch(u){case a(192):return r.KKGcK;case r[a(151)]:return a(160)+i+'rotate_cursor_32.png") 16 16, crosshair';case r.qnwHp:return a(160)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case r[a(215)]:return'url("'+i+a(212);case r[a(187)]:return'url("'+i+a(150);case a(158):return ar(i);case a(171):default:return"grab"}}function ar(u){const i=Et;return'url("'+u+i(135)}function Pn(u){return'url("'+u+'move_object_active_32.png") 16 16, grabbing'}function nm(u){const i=Et;return i(160)+u+i(146)}function Et(u,i){u=u-132;const a=B0();let r=a[u];if(Et.IsTXZD===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Et.OVTdob=x,Et.EdioXe={},Et.IsTXZD=!0}const f=a[0],h=u+f,v=Et.EdioXe[h];if(v)r=v;else{const m=function(d){this.QMxJEn=d,this.rIuFOd=[1,0,0],this.xvKmpY=function(){return"newState"},this.ELPqAi="\\w+ *\\(\\) *{\\w+ *",this.dqzzbY=`['|"].+['|"];? *}`};m.prototype.cnqQul=function(){const d=new RegExp(this.ELPqAi+this.dqzzbY),g=d.test(this.xvKmpY.toString())?--this.rIuFOd[1]:--this.rIuFOd[0];return this.VJbYTq(g)},m.prototype.VJbYTq=function(d){return~d?this.stGPTa(this.QMxJEn):d},m.prototype.stGPTa=function(d){for(let g=0,p=this.rIuFOd.length;g<p;g++)this.rIuFOd.push(Math.round(Math.random())),p=this.rIuFOd.length;return d(this.rIuFOd[0])},new m(Et).cnqQul(),r=Et.OVTdob(r),Et.EdioXe[h]=r}return r}function B0(){const u=["tKrwEge","Bgf5zxjZ","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","nxjjD2HouG","CxLXDg0","sxHLALK","D2LKDgG","AhLWB3q","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","Cg9PBNrLCG","s1vKzwe","A2LUza","C2LU","otmXmJmWz0f5tgDq","s2DgzKi","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","tfnmA24","DNrkA24","mtzLqvf2Cei","AgL0tgf5zxjjza","zMfICMLJu3f1yxjLu2L6zq","shrKwhO","qu1kANa","rMvHt1m","BxnuDwy","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","D0PqC1y","y29Z","r2rrDM0","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","rKrHu28","Agfhrwm","s3ryt3y","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","D0jMrLC","z0v0wvi","C2nHBgu","Bw92zq","y09brwi","DxjSkci","Bwf4","uM52zuK","Cgv0ywXdB3vUDa","DMLZAwjSzq","DMftrwG","zxnJvLK","m05pv01MzW","zMLUza","CM90yxrL","mtK2odq2uNHNvxvQ","BM9Uzq","mZe0mZeWnLzOsgrkvW","Bgf5zxi","Cg9ZAxrPB24","ywjZ","yxbWBhK","Dg9tDhjPBMC","zvvJrhu","CM90yxrPB24","oda2mJu2DxDcBuv6","tfrhv3G","mJyZmZqWnhfrBKvxza","CMfKAxvZ","tuPHwNq","Aenzrgu","uvHJCwG","DNDtD3e","rwTQuhm","D0f6qxu","B2zMC2v0qw5NBgu","Bgf5zxjjza","y2vUDgvY","q21pA2G","ode4nJK5mhPyqKHxDW","wK50vfq","tLDYC2e","B1HHvem","y29UC3rYDwn0B3i","uw1hA3K","mJyWnZqZA3rfB1Ds","vfPOu1i","zMLSDgvY","zhrgr20","vvPVteu","BwvsuwK","zu5iBgu","zNvfD0i","ANfMAw8","nZHQDLnrtvu"];return B0=function(){return u},B0()}function lm(u){return'url("'+u+'move_stencil_active_32.png") 16 16, grabbing'}function Gn(u,i){u=u-349;const a=G0();let r=a[u];if(Gn.tGWwZL===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Gn.xkTchD=x,Gn.jXdCyJ={},Gn.tGWwZL=!0}const f=a[0],h=u+f,v=Gn.jXdCyJ[h];if(v)r=v;else{const m=function(d){this.sdckSk=d,this.tlnVCU=[1,0,0],this.JrnjWw=function(){return"newState"},this.gzDAhW="\\w+ *\\(\\) *{\\w+ *",this.YUlHOK=`['|"].+['|"];? *}`};m.prototype.eOoKLB=function(){const d=new RegExp(this.gzDAhW+this.YUlHOK),g=d.test(this.JrnjWw.toString())?--this.tlnVCU[1]:--this.tlnVCU[0];return this.tEHqnc(g)},m.prototype.tEHqnc=function(d){return~d?this.PtdgAT(this.sdckSk):d},m.prototype.PtdgAT=function(d){for(let g=0,p=this.tlnVCU.length;g<p;g++)this.tlnVCU.push(Math.round(Math.random())),p=this.tlnVCU.length;return d(this.tlnVCU[0])},new m(Gn).eOoKLB(),r=Gn.xkTchD(r),Gn.jXdCyJ[h]=r}return r}(function(u,i){const a=Gn,r=u();for(;;)try{if(parseInt(a(354))/1*(parseInt(a(363))/2)+parseInt(a(371))/3*(-parseInt(a(415))/4)+parseInt(a(439))/5*(parseInt(a(387))/6)+parseInt(a(365))/7+parseInt(a(431))/8+parseInt(a(432))/9+parseInt(a(440))/10*(-parseInt(a(438))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(G0,391288);const am=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const x=a.apply(i,arguments);return a=null,x}}:function(){};return u=!1,r}})(),Ss=am(void 0,function(){const u=Gn,i={SDvWL:u(372)};return Ss.toString()[u(379)]("(((.+)+)+)+$").toString().constructor(Ss).search(i.SDvWL)});Ss();function G0(){const u=["ywjZ","ChjLDMvUDerLzMf1Bhq","sNjLsNm","Cg9ZAxrPB24","nM1wt3rwCG","zMLUza","mZy4nZy0owrsq3z3yW","Cgv0ywW","zMXVD2vYCW","BvD0ENu","yKneqKC","y1jvCxa","otnqthLXBe0","kcGOlISPkYKRksSK","BgvHDMvZ","yMvNAw5sywrPDxneCMfN","Bw92zwq","whLkqxq","AvbXs1O","B0nsr00","C2vHCMnO","Cg9PBNrLCKLK","yxvKr1O","wvn5wfy","tffUDhG","zw5Ku2nHBgveCMfN","wKTLsu8","C2Dpsfu","ntKYntbxr3fbt24","BgvUz3rO","y3vYCMvUDfrHCMDLDa","C2v0ug9PBNrLCKnHChr1CMu","tg1Ysgi","y3vYCMvUDa","C3rHCNq","yMvNAw5sB3rHDgLVBKrYywC","y3vYCMvUDfn2zW","v3nTExO","zMXVD2vYswq","tgLMzuS","y2XPzw50wa","A2LUza","uLzltMi","EhPpDLK","uencDKy","zM1wsei","y2XPy2TqzxrHBa","BwfW","sNzXq2e","ChjVAMvJDa","zg5muhK","zMHLs0S","sLPtCxm","C2HPzNrlzxK","sNfWuNi","C3rHCNrdBgLLBNq","odmXmJHwtwrVBuO","BgvHzG","DxbKyxrLv2LKDgHty2fSzurYywC","CxzqwvG","zMXVD2vY","AhLWB3q","r1bbq28","EvHMz24","Bgf5zxjjza","uwvurK0","BxHbvwu","qxfvC1m","wgXHuK4","qxflAhy","CgfUma","C3rHCNrAB29T","ntq4otmYoeTPEwLXAG","mtyXnJqXogjgue5Oqq","CLrYtxi","zw5KuM90yxrPB25eCMfN","Aw5KzxG","zw5Kv2LKDgHty2fSzurYywC","C2nHBgveCMfNuMvM","nZDct0vsDfq","otvywKD5rey","mtqXntm5mffnwxffBG","BerQt3i","veXeqvq","AxntAgLMDfbYzxnZzwq","seTdrKi","svPdCuG","y2XPzw50wq","mtq4nZaXr0TMBfHr","C3rHCNrtDMC","BwLU","C3rHCNrqB3m","yMLly3m"];return G0=function(){return u},G0()}const _0=500*an;function im(u){const i=Gn,a={lFjWC:function(_,w){return _-w},mxAUe:function(_,w){return _(w)},AqKhv:function(_,w){return _+w},YSyXV:function(_,w){return _(w)},JqpRr:function(_,w){return _===w},dnLPy:function(_,w){return _+w},UaPqn:function(_,w){return _>=w},trVxH:function(_,w){return _-w},GpJeW:function(_,w){return _===w},JreJs:i(421),oCRGM:"vOEvf",iPqKZ:i(408),NkgPd:function(_,w){return _(w)},jvWxz:function(_,w){return _-w},audGZ:function(_,w){return _<=w},fheKK:function(_,w){return _>=w},SmvzU:function(_,w){return _<=w},aVpKc:function(_,w){return _>w},ONyIx:"flowers",ZKeIO:i(416),LifeK:"leaves",TLDAT:function(_,w){return _(w)},bZzFE:function(_,w,T){return _(w,T)},ySPJq:function(_,w){return _??w},ZQmEC:function(_,w,T,D){return _(w,T,D)},AqUsS:function(_,w){return _/w},XlaRN:function(_,w){return _-w},QUPxW:function(_,w){return _>w},LfakN:function(_,w,T){return _(w,T)},QeTFM:function(_,w){return _!==w},biKcs:"ZLeaS",LQntx:i(407),IZCqH:function(_,w,T,D,j){return _(w,T,D,j)},yXfgn:function(_,w){return _===w},OmwfW:i(419),xzOvY:"layer",Wsmyz:i(366),cRUqp:function(_,w){return _!==w},PCBvF:"QtqYP",fmVHB:function(_,w){return _(w)},bCDBG:function(_,w){return _(w)}},{project:r,selection:x,setSelection:f,applyUpdate:h,dragRef:v,zoom:m,pan:d,setPan:g,stageRef:p,clientToSvgPoint:N,togglePetalSelection:b}=u,M=a[i(425)]($h,{project:r,applyUpdate:h,stageRef:p,clientToSvgPoint:N}),C=a[i(369)]($.useRef,null),S=_=>{const w=i;_[w(360)](),_.currentTarget?.[w(390)]?.(_[w(380)]),C[w(392)]={start:{x:_.clientX,y:_[w(353)]},pan0:{...d}}},E=_=>{const w=i;if(!C[w(392)])return;const T=a.lFjWC(_.clientX,C[w(392)].start.x),D=a.lFjWC(_[w(353)],C[w(392)][w(393)].y);a[w(425)](g,{x:a.AqKhv(C.current[w(429)].x,T),y:C[w(392)].pan0.y+D})},R=()=>{const _=i;a[_(413)](_(351),"HKCFB")?C.current=null:a[_(382)](_0x9a723,{kind:_(367),flowerIds:_0x4cc198})},G=$.useRef(null),[O,I]=$.useState(null);return{beginPan:S,updatePan:E,endPan:R,marqueeRef:G,marqueeRect:O,beginMarquee:_=>{const w=i;_[w(360)](),_[w(389)]?.[w(390)]?.(_.pointerId);const T=N(_);G[w(392)]={startSvg:T,currentSvg:T},I(null)},updateMarquee:_=>{const w=i;if(!G.current)return;const T=a[w(382)](N,_);G.current[w(395)]=T;const D=G.current[w(355)],j=Math[w(356)](D.x,T.x),L=Math.min(D.y,T.y),Y=Math[w(359)](a.lFjWC(T.x,D.x)),Z=Math.abs(T.y-D.y);I({x:j,y:L,w:Y,h:Z})},endMarquee:()=>{const _=i,w=G[_(392)];if(G[_(392)]=null,!w){I(null);return}const T=w.startSvg,D=w[_(395)];if(Math[_(420)](D.x-T.x,a.trVxH(D.y,T.y))<3)if(a.GpJeW(a[_(361)],a[_(378)]))_0x2f3842[_(362)].x>=_0x10c9c9&&_0x455664.position.x<=a.dnLPy(_0x1e10fb,_0x3e9d6b)&&a.UaPqn(_0x3a221e.position.y,_0x43456c)&&_0xa0d715.position.y<=a.dnLPy(_0x5688d9,_0x53570c)&&_0xef979b.push(_0x3f0c12.id);else{f({kind:a.iPqKZ}),a.NkgPd(I,null);return}const L=Math[_(356)](T.x,D.x),Y=Math[_(356)](T.y,D.y),Z=Math.abs(a.jvWxz(D.x,T.x)),k=Math.abs(D.y-T.y),z=[];for(const H of r[_(367)])H[_(362)].x>=L&&a[_(381)](H.position.x,a[_(409)](L,Z))&&a[_(410)](H[_(362)].y,Y)&&a[_(381)](H[_(362)].y,Y+k)&&z.push(H.id);const B=[];for(const H of r.leaves??[])a[_(410)](H.position.x,L)&&a.SmvzU(H.position.x,a.AqKhv(L,Z))&&H[_(362)].y>=Y&&H.position.y<=a[_(428)](Y,k)&&B.push(H.id);a.aVpKc(z.length,0)?a.GpJeW(z.length,1)?f({kind:"flower",flowerId:z[0]}):f({kind:a.ONyIx,flowerIds:z}):B[_(388)]>0?B.length===1?f({kind:a.ZKeIO,leafId:B[0]}):f({kind:a[_(398)],leafIds:B}):a[_(382)](f,{kind:_(408)}),I(null)},beginFlowerDrag:(_,w,T)=>{const D=i,j={mWtzu:function(Z,k){return a[Gn(349)](Z,k)},LmrHb:"DLzvs"};w.preventDefault(),w.currentTarget?.[D(390)]?.(w.pointerId);const L=r.flowers[D(364)](Z=>Z.id===_);if(!L)return;let Y=null;if(x.kind===a.ONyIx&&x.flowerIds.includes(_))Y=x.flowerIds[D(406)](Z=>{const k=D;if(j[k(391)]===j[k(391)]){const z=r[k(367)].find(B=>B.id===Z);return{id:Z,x:z?.[k(362)].x??0,y:z?.position.y??0}}else{MmCbWx.eLUXu(_0x495f1c,null);return}});else if(D(401)==="RVKNb"){const Z=a.bZzFE(_h,r,_);Z.length>1&&(Y=Z[D(406)](k=>{const z=D,B=r.flowers[z(364)](H=>H.id===k);return{id:k,x:B?.position.x??0,y:B?.position.y??0}}))}else _0x3d5a00({kind:D(419),flowerId:_0x33a8eb[D(397)]});v.current={flowerId:_,startClient:{x:w[D(399)],y:w.clientY},startPos:{...L[D(362)]},moved:!1,clickPetal:a.ySPJq(T,null),isShiftPressed:w[D(412)]||!1,multiStartPositions:Y,startZoom:m}},updateFlowerDrag:_=>{const w=i,T={JZSqs:w(433),XyJAt:function(k,z,B,H){return a.ZQmEC(k,z,B,H)},mhRlg:function(k,z){return k+z}},D=v[w(392)];if(!D)return;const j=a[w(426)](a.lFjWC(_.clientX,D[w(414)].x),D.startZoom),L=a[w(426)](a[w(427)](_[w(353)],D.startClient.y),D[w(430)]),Y=_[w(399)]-D.startClient.x,Z=_[w(353)]-D.startClient.y;a.QUPxW(Math[w(359)](Y)+Math.abs(Z),4)&&(D[w(375)]=!0),a.LfakN(h,k=>{const z=w;if(D.multiStartPositions)if(T[z(411)]===z(433))for(const B of D.multiStartPositions){const H=k[z(367)].find(J=>J.id===B.id);H&&(H.position.x=T.XyJAt(je,B.x+j,0,_0),H[z(362)].y=je(B.y+L,0,_0))}else{const B=_0x32aab4(_0x372790,_0x24aaa9);iladXY[z(441)](B[z(388)],1)&&(_0x247d13=B.map(H=>{const J=z,ae=_0x1aaac2[J(367)][J(364)](oe=>oe.id===H);return{id:H,x:ae?.position.x??0,y:ae?.position.y??0}}))}else{const B=k.flowers[z(364)](H=>H.id===D[z(397)]);if(!B)return;B.position.x=je(T.mhRlg(D[z(357)].x,j),0,_0),B.position.y=T[z(376)](je,D.startPos.y+L,0,_0)}},!1)},endFlowerDrag:()=>{const _=i;if(a[_(385)],a[_(424)](a[_(358)],a.biKcs))_0x5161c8.push(_0x231a27.id);else{const w=v[_(392)];if(!w)return;if(!w[_(375)]&&w[_(405)])if(a[_(383)]!==a.LQntx){if(!_0x3cf1dd[_(392)])return;const T=_0x5b3bca[_(399)]-_0x177faf.current.start.x,D=_0x4220cc.clientY-_0x4df8d9.current[_(393)].y;nxYtqI[_(386)](_0x3531ae,{x:nxYtqI.fBtMk(_0xeea389.current.pan0.x,T),y:nxYtqI.fvEDh(_0x3602a4[_(392)][_(429)].y,D)})}else w[_(350)]?a[_(352)](b,w.flowerId,w.clickPetal[_(423)],w[_(405)][_(435)],!0):f({kind:"petal",flowerId:w.flowerId,layerId:w.clickPetal.layerId,index:w[_(405)].index});else w.moved&&((x.kind===a[_(377)]||a[_(422)](x[_(400)],a.OmwfW)&&a.QeTFM(x[_(397)],w.flowerId)||x[_(400)]===a[_(402)]&&a.QeTFM(x[_(397)],w.flowerId)||x.kind===a[_(396)]&&a.QeTFM(x.flowerId,w[_(397)]))&&(a[_(370)](a[_(403)],_(418))?a[_(404)](f,{kind:"flower",flowerId:w[_(397)]}):nxYtqI.CuOty(_0x7a7eac.length,1)?nxYtqI[_(386)](_0xc90d76,{kind:nxYtqI.innfi,leafId:_0xa41ce2[0]}):_0x299ef2({kind:_(373),leafIds:_0x707502})),h(()=>{},!0));v.current=null}},scaleDragRef:M[i(437)],beginScaleDrag:M.beginScaleDrag,updateScaleDrag:M.updateScaleDrag,endScaleDrag:M[i(384)],rotationDragRef:M.rotationDragRef,beginRotationDrag:M[i(394)],updateRotationDrag:M.updateRotationDrag,endRotationDrag:M[i(434)],widthScaleDragRef:M.widthScaleDragRef,beginWidthScaleDrag:M.beginWidthScaleDrag,updateWidthScaleDrag:M[i(417)],endWidthScaleDrag:M[i(436)],radiusDragRef:M.radiusDragRef,beginRadiusDrag:M[i(374)],updateRadiusDrag:M.updateRadiusDrag,endRadiusDrag:M.endRadiusDrag}}function rm({className:u}){return s.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function da(u){const i=!!u.selected,a=!!u.muted,r=4+(u.level||0)*12+(u.leftOffset||0),x=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",h="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:x},onDoubleClick:v=>{u.onDoubleClick&&(v.stopPropagation(),u.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?s.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?s.jsx("button",{type:"button",className:`${h} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(rm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${h} shrink-0`,"aria-hidden":!0})]})]})}function cm(u){const{project:i,selection:a,setSelection:r,isExpanded:x,toggleExpanded:f,scheduleFlowerRowClick:h,handleFlowerRowDoubleClick:v,addFlower:m,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:p,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:M,setExpandedFlowers:C}=u,S=(q,U)=>{const P=a.kind==="flower"&&a.flowerId===q.id,W=a.kind==="flowers"&&a.flowerIds.includes(q.id),X=P||W,_="",w=x(q.id),T=q.layers&&q.layers.length>0,D=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),g(q.id)},"aria-label":"Add outer layer",children:"+"}),T&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),p(q.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":q.id,"data-testid":`tree-flower-${q.id}`,style:{paddingLeft:U},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${w?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:w?"Collapse layers":"Expand layers",onClick:j=>{j.stopPropagation(),f(q.id)},"aria-label":w?"collapse":"expand","data-tree-toggle":!0,children:w?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:q.name,marker:_,selected:X,showTrash:P,onTrash:()=>N(q.id),rightActions:D,onClick:()=>h(q.id),onDoubleClick:()=>v(q.id),level:0,leftOffset:-18})})]}),w&&q.layers.slice().sort((j,L)=>L.order-j.order).map(j=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===j.id;return s.jsx(da,{label:`${j.order}. ${j.name}`,marker:"",selected:L,showTrash:L,onTrash:()=>b(q.id,j.id),onClick:()=>{r({kind:"layer",flowerId:q.id,layerId:j.id}),C(Y=>({...Y,[q.id]:!0}))},level:0,leftOffset:10,muted:!j.visible},j.id)})]},q.id)},E=u.groups,R=new Set(E.flatMap(q=>q.flowerIds)),G=i.flowers.filter(q=>!R.has(q.id)),O=u.leafGroups,I=new Set(O.flatMap(q=>q.leafIds)),Q=u.leaves.filter(q=>!I.has(q.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:M,"data-testid":"layer-tree",children:[s.jsx(da,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),E.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...E].reverse().map(q=>{const U=a.kind==="group"&&a.groupId===q.id,P="",W=u.isGroupExpanded(q.id);return s.jsxs("div",{"data-group-id":q.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:X=>{X.stopPropagation(),u.toggleGroupExpanded(q.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:q.name,marker:P,selected:U,onClick:()=>u.onSelectGroup(q.id),level:0,leftOffset:-18})})]}),W&&q.flowerIds.map(X=>{const _=i.flowers.find(w=>w.id===X);return _?S(_,12):null})]},q.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...G].reverse().map(q=>S(q,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[O.map(q=>{const U=a.kind==="leafGroup"&&a.leafGroupId===q.id;return s.jsxs("div",{children:[s.jsx(da,{label:` ${q.name}`,selected:U,onClick:()=>u.onSelectLeafGroup(q.id),level:0,leftOffset:0}),q.leafIds.map(P=>{const W=u.leaves.find(_=>_.id===P);if(!W)return null;const X=a.kind==="leaf"&&a.leafId===W.id;return s.jsx(da,{label:W.name,selected:X,showTrash:X,onTrash:()=>u.onDeleteLeaf(W.id),onClick:()=>u.onSelectLeaf(W.id),level:0,leftOffset:12,muted:!W.visible},W.id)})]},q.id)}),[...Q].reverse().map(q=>{const U=a.kind==="leaf"&&a.leafId===q.id;return s.jsx(da,{label:q.name,selected:U,showTrash:U,onTrash:()=>u.onDeleteLeaf(q.id),onClick:()=>u.onSelectLeaf(q.id),level:0,leftOffset:0,muted:!q.visible},q.id)}),u.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ue=bn;(function(u,i){const a=bn,r=u();for(;;)try{if(parseInt(a(399))/1+-parseInt(a(349))/2+-parseInt(a(379))/3+parseInt(a(440))/4*(-parseInt(a(408))/5)+parseInt(a(374))/6+parseInt(a(433))/7+parseInt(a(371))/8===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,624118);function k0(){const u=["tsaWida","CgTyug0","qYa1nYa3msWGntKGnZuSidyZidC5","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","nZmWntztseHPugi","u1vOuxa","qYaTmJGGndySic00mca0ncWGltuWidq0","mZi5nJGYnLj3BMvOvW","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","CMLNAhq","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","mJK1odG3ywvwwMDh","qYa0oca5mcWGntaGmta0lca0ocaXmty","sLb1CKm","qYaTncaTmsWGlteGlteSidaGma","ugTmvxq","v3rTtuK","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","BhLhywu","tsaTndyGmJy","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","C2vHCMnO","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYaTntyGmZySic01mcaYnIWGltqYide4","qxz3C0u","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","swfOExa","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYa0oca3ncWGmJaGnJqSic04idu4","mJG0nZvqCLPnzLi","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","ntbpDuXNtxm","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa2nsa4msWGnJyGodmSidy2idG1","qYa2mcaZocWGnJqGntiSidy0idy4","tcaTnZaGmJqW","qYa2nca3ocWGnJyGodySidy2idK0","tsaTndaGmtqY","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaTodaGmta4lcaTodGGotySic04oca4na","tcaTmZaGmJqW","CwjdELu","vhnpEvm","tcaTotiGmJGW","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTmJiGnIWGlteWideSidaGma","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","r1zouhO","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","nZaWodG2owrmC3fbuG","qYaTndmGmZiSic00ncaYocWGltq2idi2","D2DqC0W","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYa2mIa2mcWGntKGnJqSidu3idy4","yMfJAW","qYa3mIaXndiSidyWide1mIWGndGGmtyY","mZeZmJyWqvzhA3L5","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa2nsa4mcWGnJGGoduSidC0idKW","AM9PBG","ywr1Bhq","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaTndqGnIWGltiWidaSidaGma","tcaTmtaWidi0ma","wurqt3q","qYa1nYa5msWGntCGotmSidu5idK1","BgvMDa","qYaTnJGGotySic03mca4ncWGlty2idC0","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","sKThtNm","qYa2ocaZmcWGnZyGndqSidGWidyY","y29UC3rYDwn0B3i","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa2nca0ncWGnJqGntaSidyZidu2","wuPvz2m","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaXocaXlca0mcaXmcWGntiGmJy","qYaYmcaXndGSideWide1mcWGmcaXnta","l3rZDw1HBwKV","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","tsaWidCW","mty0odK2uw5gzwv0","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","Dg9tDhjPBMC","AgvPz2H0","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTntGGntaSic01nca1ocWGltuWidCW","B1bUEKu","vevHs3y","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","s3PXt0e","zgXMB2y","qYaTndqGmZqSic0ZocaYmIWGltmWide0","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","tcaTndaGmtqY"];return k0=function(){return u},k0()}const um=(function(){const u=bn,i={oPnzE:u(452),TEaKv:u(445),HhDLy:function(r,x){return r!==x},jUxkO:u(341)};let a=!0;return function(r,x){const f=a?function(){const h=bn,v={pkXPm:function(m,d){return m===d},TsOyS:i[h(358)],SUhQp:i[h(359)]};if(i.HhDLy(h(384),i.jUxkO)){if(x){const m=x.apply(r,arguments);return x=null,m}}else{const m=v[h(367)](_0x1036e4,"right")||_0x56abed===v[h(421)];return _0x4c0eec===v[h(372)]?m?_0x1c11ce:_0x266d19:m?_0x82cbc2:_0x329329}}:function(){};return a=!1,f}})(),Cs=um(void 0,function(){const u=bn,i={wgPsL:"(((.+)+)+)+$"};return Cs[u(352)]().search(i[u(435)]).toString()[u(457)](Cs)[u(390)](i.wgPsL)});Cs();const Vd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function bn(u,i){u=u-340;const a=k0();let r=a[u];if(bn.VWrAlV===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};bn.KEdzQp=x,bn.oOMEFY={},bn.VWrAlV=!0}const f=a[0],h=u+f,v=bn.oOMEFY[h];if(v)r=v;else{const m=function(d){this.mQiLLD=d,this.hyrXKG=[1,0,0],this.oYhZAa=function(){return"newState"},this.qXhggz="\\w+ *\\(\\) *{\\w+ *",this.LXqbZp=`['|"].+['|"];? *}`};m.prototype.zCBGAt=function(){const d=new RegExp(this.qXhggz+this.LXqbZp),g=d.test(this.oYhZAa.toString())?--this.hyrXKG[1]:--this.hyrXKG[0];return this.Ypahfv(g)},m.prototype.Ypahfv=function(d){return~d?this.LSzZMH(this.mQiLLD):d},m.prototype.LSzZMH=function(d){for(let g=0,p=this.hyrXKG.length;g<p;g++)this.hyrXKG.push(Math.round(Math.random())),p=this.hyrXKG.length;return d(this.hyrXKG[0])},new m(bn).zCBGAt(),r=bn.KEdzQp(r),bn.oOMEFY[h]=r}return r}const Qd={adult:"",child:""},Pd={right:"",left:"",back:""},sm=["M 0 0","C 15 -2, 38 -5, 55 5",ue(369),"C 78 52, 77 60, 74 66",ue(403),ue(443),"C 78 93, 82 96, 83 99",ue(405),"C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118",ue(436),"C 56 137, 49 142, 43 146",ue(406),"C 23 171, 21 181, 19 191",ue(424),ue(459),"L -36 280","L -125 280",ue(386),"C -68 212, -56 200, -48 190",ue(458),"C -34 158, -36 150, -40 142","C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",ue(392),ue(377),ue(382),"Z"][ue(444)](" "),om=["M 0 0","C 20 0, 44 6, 58 20",ue(456),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134",ue(439),ue(351),ue(342),ue(427),ue(422),"C -74 258, -58 240, -48 228",ue(394),ue(425),"C -60 152, -72 142, -78 134",ue(375),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",ue(348),"C 16 66, 34 70, 42 82",ue(380),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",ue(407),"C -40 136, -46 126, -48 116",ue(402),ue(404),"Z"].join(" "),xm=[ue(366),"C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",ue(340),ue(437),ue(368),ue(411),"C 66 86, 62 88, 58 90",ue(451),ue(454),"C 50 111, 44 116, 38 120",ue(354),ue(378),"C -10 195, -18 209, -22 221",ue(419),ue(449),ue(431),ue(430),ue(355),ue(417),ue(453),ue(347),"C -44 34, -38 22, -30 14",ue(426),"Z"][ue(444)](" "),fm=[ue(366),ue(344),"C 60 38, 64 52, 64 68",ue(414),ue(389),ue(385),"C 30 152, 32 166, 55 202",ue(447),ue(413),"C -66 228, -60 214, -55 202",ue(370),ue(446),ue(356),"C -66 86, -64 78, -64 68",ue(396),"C -40 10, -18 1, 0 0","Z","M 46 26",ue(416),"C 78 40, 78 54, 72 62",ue(410),"C 42 62, 40 50, 42 38",ue(400),"Z","M -46 26",ue(401),ue(343),ue(360),"C -42 62, -40 50, -42 38",ue(434),"Z"].join(" "),dm=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",ue(403),ue(398),ue(391),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z",ue(415),"C -48 134, -58 126, -68 118",ue(418),"C -88 72, -84 62, -76 56",ue(409),ue(357),"C -46 86, -42 106, -40 126",ue(365),"Z"][ue(444)](" "),hm=["M 0 0","C 20 0, 44 6, 58 20",ue(456),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116","C 84 122, 82 128, 78 134","C 62 142, 42 152, 20 158",ue(423),ue(432),ue(375),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",ue(448),"Z",ue(348),"C 16 66, 34 70, 42 82",ue(380),"C 46 126, 40 136, 30 142",ue(345),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",ue(402),"C -34 70, -16 66, 0 70","Z"][ue(444)](" "),mm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",ue(340),ue(442),ue(373),ue(363),ue(426),"Z","M -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",ue(441),"C -38 94, -36 112, -38 126","L -40 134","Z"][ue(444)](" "),bm=[ue(366),ue(344),ue(412),ue(414),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124",ue(397),ue(356),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26",ue(416),"C 78 40, 78 54, 72 62",ue(410),"C 42 62, 40 50, 42 38",ue(400),"Z",ue(388),ue(401),ue(343),"C -66 68, -56 70, -48 66",ue(350),ue(434),"Z"].join(" ");function vm(u,i){const a=ue,r={jBMho:function(f,h){return f===h},lyGae:a(452)},x=i===a(376)||r.jBMho(i,r[a(387)]);return r.jBMho(u,a(445))?x?sm:om:x?xm:fm}function gm(u,i){const a=ue,r={kWjrv:function(f,h){return f===h},qbCzU:a(376),AvwsE:function(f,h){return f===h},PkLUt:"adult"},x=r.kWjrv(i,r[a(420)])||i==="left";return r[a(393)](u,r[a(383)])?x?dm:hm:x?mm:bm}const ym={right:"/tsumami/stencils/adult_right.png",left:ue(346)+ue(364),back:"/tsumami/stencils/adult_back.png"},pm={right:ue(346)+ue(428),left:ue(346)+"stencils/child_left.png",back:"/tsumami/stencils/child_back.png"},_m={adult:ym,child:pm};function Sm(u,i){const a=ue,r={Xbjaq:a(452),Iahyp:"side",KzqOA:function(v,m,d){return v(m,d)},JKGNs:function(v,m){return v===m}},x=i==="right"||i===r.Xbjaq?r[a(395)]:"back",f=Vd[u][x],h=_m[u]?.[i]??null;return{path:vm(u,i),hairPath:r[a(361)](gm,u,i),scaleX:r[a(455)](i,"left")?-1:1,imageUrl:h,imageWidthMm:f.width,imageHeightMm:f[a(353)]}}(function(u,i){const a=vn,r=u();for(;;)try{if(-parseInt(a(194))/1*(-parseInt(a(212))/2)+-parseInt(a(219))/3+-parseInt(a(192))/4+-parseInt(a(166))/5+parseInt(a(216))/6+parseInt(a(206))/7*(-parseInt(a(168))/8)+-parseInt(a(218))/9*(-parseInt(a(202))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,666462);const Cm=(function(){let u=!0;return function(i,a){const r=u?function(){const x=vn;if(a){const f=a[x(211)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),ws=Cm(void 0,function(){const u=vn,i={JqUcT:u(175)};return ws.toString().search(i.JqUcT)[u(225)]()[u(184)](ws).search("(((.+)+)+)+$")});function vn(u,i){u=u-165;const a=R0();let r=a[u];if(vn.WzWuIQ===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};vn.vghspx=x,vn.RcAMpJ={},vn.WzWuIQ=!0}const f=a[0],h=u+f,v=vn.RcAMpJ[h];if(v)r=v;else{const m=function(d){this.tGRLme=d,this.RRKJsX=[1,0,0],this.cGLQgx=function(){return"newState"},this.XEVXRU="\\w+ *\\(\\) *{\\w+ *",this.bXtIkp=`['|"].+['|"];? *}`};m.prototype.YhWobk=function(){const d=new RegExp(this.XEVXRU+this.bXtIkp),g=d.test(this.cGLQgx.toString())?--this.RRKJsX[1]:--this.RRKJsX[0];return this.xVYCcP(g)},m.prototype.xVYCcP=function(d){return~d?this.pcHCsZ(this.tGRLme):d},m.prototype.pcHCsZ=function(d){for(let g=0,p=this.RRKJsX.length;g<p;g++)this.RRKJsX.push(Math.round(Math.random())),p=this.RRKJsX.length;return d(this.RRKJsX[0])},new m(vn).YhWobk(),r=vn.vghspx(r),vn.RcAMpJ[h]=r}return r}ws();const cs=520;function Od(u,i,a,r,x,f,h){const v=vn,m={lQHAM:function(g,p){return g-p},BJBns:function(g,p){return g*p},EhiqV:function(g,p){return g+p},fFNRi:function(g,p){return g-p},OHqWa:function(g,p){return g+p}},d=r/a-1;return{x:m[v(209)](h.x,m[v(227)](d,m.EhiqV(-h.x,u*x))),y:m[v(193)](h.y,d*m[v(196)](-h.y,i*f))}}function R0(){const u=["tLffz2C","z2v0qM91BMrPBMDdBgLLBNrszwn0","Dg91y2HTB3zL","BgHOzfy","y2XPzw50wq","mZaXnta4meTeD1fytW","zKzouMK","nZqWmtnKDvLxwfe","EM9VBuXLDMvS","t0HXv2e","Aw5PDgLHBfPVB20","D0HYse8","BgvUz3rO","rffyC2K","D2LKDgG","nda0mZe1mfv1B2XYzW","Dg91y2HLBMq","tvD0D3G","Cu1QCfG","mZvMtfzHq1G","t0nby3C","y3vYCMvUDa","Bffiqu0","zxHW","yxbWBhK","mZrABvDssKK","sMDwwey","uxnIu08","Aw5PDgLHBerPC3q","nduWndm1mhfVB1LvCW","Dg91y2HLCW","mtHyC05UsLy","mte3nJGXnM5xC0LnAW","CvHbEum","AgvPz2H0","zeToBLa","z3DPs1K","Axf2DMm","Dg9tDhjPBMC","y2XPzw50wa","qKPcBNm","CgfU","mJmWmteWy2D5q05i","wvvHu24","mtuZndq4mgDwrhPbta","ChjLDMvUDerLzMf1Bhq","wNnkyvi","Dg91y2HZDgfYDa","u0rOwLy","s09iAw0","sKPoBMC","kcGOlISPkYKRksSK","ywrKrxzLBNrmAxn0zw5LCG","Aw5PDgLHBenLBNrLCG","sLDxCxy","BgvMDa","z0jVwMe","qMvfDg8","q0LZsum","rLryDxu","y29UC3rYDwn0B3i","z29qtwu","CMvTB3zLrxzLBNrmAxn0zw5LCG"];return R0=function(){return u},R0()}function wm(u){const i=vn,a={ZakTW:function(T,D){return T!==D},gwiKY:i(180),FTXuu:function(T,D){return T===D},dKNnP:function(T){return T()},JJNng:function(T){return T()},fLGVS:function(T){return T()},EhGfz:function(T){return T()},FOEXR:function(T,D){return T/D},DQXsi:function(T,D){return T+D},NQEgg:function(T,D){return T+D},KOHim:function(T,D){return T-D},goPMe:"qXAyC",ZsJaR:function(T,D){return T-D},TQVPq:function(T,D){return T/D},kocbT:function(T,D,j,L){return T(D,j,L)},WWqzL:function(T,D){return T-D},RlibD:function(T,D){return T-D},OCAcw:function(T,D){return T/D},eWKGy:function(T,D){return T*D},aCqyu:function(T,D){return T-D},kCmYR:function(T,D){return T(D)},CIsIC:function(T,D){return T*D},lhhdV:function(T,D){return T<D},QsbSO:function(T,D){return T/D},YUaSn:function(T,D,j,L,Y,Z,k,z){return T(D,j,L,Y,Z,k,z)},oGXrR:"touchmove",WJCjZ:"wheel",qMjpX:function(T,D){return T(D)},EPftw:function(T,D){return T*D},qSvNX:function(T,D){return T(D)},IsszM:function(T,D){return T(D)},SDhZV:function(T,D,j){return T(D,j)},JgVXF:function(T,D){return T(D)},iqvvc:function(T,D){return T(D)},yHPMV:function(T,D){return T(D)},tikvs:function(T,D,j){return T(D,j)},Lcxhy:function(T,D,j){return T(D,j)},LIDJU:function(T,D,j){return T(D,j)}},{setZoom:r,setPan:x,setZoomLevel:f,ZOOM_LEVELS:h,stageRef:v,endPan:m,endFlowerDrag:d,endMarquee:g,endRotationDrag:p,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:M}=u,C=$.useRef(null),S=a.IsszM($.useRef,u[i(165)]),E=a.kCmYR($.useRef,u.zoom);a[i(172)]($.useEffect,()=>{const T=i;a.ZakTW(a[T(223)],T(204))?S[T(208)]=u[T(165)]:_0x2f114b.current=_0x4f4fb8.zoom},[u[i(165)]]),$.useEffect(()=>{E.current=u.zoom},[u.zoom]);const R=a[i(213)]($.useRef,u[i(195)]);$.useEffect(()=>{const T=i;R[T(208)]=u[T(195)]},[u[i(195)]]);const G=a[i(224)]($.useRef,null),O=a.yHPMV($.useRef,null),I=$.useCallback(T=>{const D=i;if(a[D(183)](D(178),D(178))){if(T[D(217)].length===2){T[D(169)](),a[D(222)](m),a[D(174)](d),a[D(222)](g),a.fLGVS(p),a.dKNnP(N),a.EhGfz(b),M(),G[D(208)]=null,O.current=null;const j=T[D(217)][0],L=T.touches[1],Y=a.FOEXR(a[D(200)](j[D(226)],L[D(226)]),2),Z=a.NQEgg(j[D(191)],L[D(191)])/2,k=Math.hypot(a.KOHim(L[D(226)],j[D(226)]),a[D(173)](L.clientY,j[D(191)]));C.current={initialCenter:{x:Y,y:Z},initialDist:k,initialPan:{...S.current},initialZoom:E[D(208)]}}}else _0x3f226b.current=_0x4142a4},[m,d,g,p,N,b,M]),Q=$.useCallback(T=>{const D=i;if(a[D(185)]!==D(220)){_0x4384f8(_0x28edcf);return}else if(T.touches.length===2&&C[D(208)]){T.preventDefault();const j=T[D(217)][0],L=T[D(217)][1],Y=(j[D(226)]+L.clientX)/2,Z=(j.clientY+L.clientY)/2,k=Math.hypot(L[D(226)]-j.clientX,a[D(170)](L.clientY,j.clientY)),z=C.current,B=a.TQVPq(k,Math.max(1,z[D(215)])),H=a.kocbT(je,Number((z[D(197)]*B).toFixed(3)),h[0],h[a.WWqzL(h.length,1)]),J=z.initialZoom,ae=a[D(170)](Y,z[D(177)].x),oe=a.RlibD(Z,z[D(177)].y);let de=z.initialPan.x+ae,_e=z.initialPan.y+oe;const he=v[D(208)];if(he&&J!==H){const xe=he[D(188)](),Be=(z.initialCenter.x-xe.left)/xe[D(201)],$e=a.FOEXR(z.initialCenter.y-xe.top,xe.height),ot=a[D(207)](xe[D(201)],xe[D(221)]),xt=cs,bt=a.eWKGy(xt,ot),zt=a.aCqyu(H/J,1)*(-z.initialPan.x+Be*bt),ht=(H/J-1)*a[D(187)](-z.initialPan.y,a.eWKGy($e,xt));de-=zt,_e-=ht}const Se={x:de,y:_e};E[D(208)]=H,S.current=Se,a.kCmYR(x,Se),r(H)}},[x,r,v,h]),q=$.useCallback(T=>{T.touches.length<2&&(C.current=null)},[]),U=.003,P=a.tikvs($.useCallback,T=>{const D=i;T.preventDefault();const j=v.current;if(!j)return;const L=E.current,Y=a[D(182)](L,Math[D(210)](-T.deltaY*U)),Z=je(Y,h[0],h[h.length-1]);if(a[D(190)](Math.abs(a.KOHim(Z,L)),1e-6))return;const k=j[D(188)](),z=(T.clientX-k[D(179)])/k.width,B=(T[D(191)]-k.top)/k[D(221)],H=a[D(214)](k[D(201)],k.height),J=cs,ae=J*H,oe=a[D(167)](Od,z,B,L,Z,ae,J,S[D(208)]);E[D(208)]=Z,S.current=oe,r(Z),x(oe)},[r,x,v,h]);a.Lcxhy($.useEffect,()=>{const T=i,D={BeEto:T(171),wHrHO:"wheel"},j=v[T(208)];if(j)return j.addEventListener("touchstart",I,{passive:!1}),j.addEventListener(a.oGXrR,Q,{passive:!1}),j[T(176)]("touchend",q),j[T(176)](a.WJCjZ,P,{passive:!1}),()=>{const L=T;j[L(186)](D[L(181)],I),j[L(186)](L(189),Q),j.removeEventListener(L(203),q),j.removeEventListener(D[L(198)],P)}},[v,I,Q,q,P]);const W=$.useCallback(T=>{const D=i,j=R[D(208)],L=je(j+T,0,h[D(199)]-1);if(L===j)return;const Y=E.current,Z=h[L],k=v[D(208)];if(!k){a[D(205)](f,L);return}const z=k[D(188)](),B=a.FOEXR(z[D(201)],z[D(221)]),H=cs,J=a.EPftw(H,B),ae=Od(.5,.5,Y,Z,J,H,S.current);E[D(208)]=Z,R.current=L,S.current=ae,f(L),a.qSvNX(x,ae)},[f,x,v,h]),X=a.LIDJU($.useCallback,(T,D)=>{const j=i;R.current=T,E.current=D,S[j(208)]={x:0,y:0},a.kCmYR(f,T),x({x:0,y:0})},[f,x]),_=$.useCallback(T=>{const D=i;G[D(208)]=T},[]),w=$.useCallback(T=>{O.current=T},[]);return{multiTouchRef:C,touchBgStartRef:G,mouseBgStartRef:O,zoomAtCenter:W,resetView:X,setTouchBgStart:_,setMouseBgStart:w}}function li(u,i){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),r=parseInt(u.slice(3,5),16),x=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(x))return u;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(x*f).toString(16).padStart(2,"0")}`}function jm(u){const{flower:i,project:a,paletteMap:r}=u,x=$.useRef(null),f=$.useRef(!1),h=$.useRef(null);$.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const v=$.useMemo(()=>[...i.layers||[]].sort((R,G)=>R.order-G.order),[i.layers]),m=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=It(m),{flowerOuterR:p,centerHitR:N}=$.useMemo(()=>{let R=12,G=1/0;for(const I of v){if(!I.visible)continue;const Q=I.scale??1,q=d*Q,P=Math.max(0,I.radius-q*.28),W=P+q;R=Math.max(R,W),P<G&&(G=P)}isFinite(G)||(G=0);const O=Math.max(G*.9,8);return{flowerOuterR:R,centerHitR:O}},[v,d]),b=(R,G)=>R?.petalOverrides?.find(O=>O.index===G)??null,M="pointer",C=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,S=u.zoneCursorValue??"grab",E=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(R)}};return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),u.onDoubleClick?.()},style:{cursor:C?S:ar("/tsumami/")},"data-testid":`flower-${i.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(R=>{if(!R.visible)return null;const O=r.get(R.colorId)?.hex??"#999",I=360/Math.max(1,R.petalCount),Q=R.scale??1,q=d*Q,P=g*(R.widthScale??1)*Q,X=Math.max(0,R.radius-q*.28),_=xs(""),w=xs(""),T=X+q,D=u.isSelected&&u.selectedLayerId===R.id,j=u.isSelected&&(u.selectedPetal?.layerId===R.id||(u.selectedPetals?.some(L=>L.layerId===R.id)??!1));return s.jsxs("g",{children:[Array.from({length:R.petalCount}).map((L,Y)=>{const Z=b(R,Y),z=(Z?.petalType??R.petalType)===""?_:w,B=r.get(Z?.colorId??R.colorId)?.hex??O,H=R.offsetAngle+Y*I,J=va(H),ae=Math.cos(J)*X,oe=Math.sin(J)*X,de=u.isSelected&&u.selectedPetal?.layerId===R.id&&u.selectedPetal?.index===Y,_e=u.isSelected&&(u.selectedPetals?.some(xe=>xe.layerId===R.id&&xe.index===Y)??!1),he=de||_e,Se=C?S:ar("/tsumami/");return s.jsxs("g",{transform:`translate(${ae} ${oe}) rotate(${H})`,children:[s.jsx("path",{d:z,transform:`scale(${q} ${P})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:Se},onPointerDown:xe=>{if(xe.stopPropagation(),xe.button!==0)return;const Be=xe.shiftKey,$e=xe.pointerType==="touch";if(x.current&&(clearTimeout(x.current),x.current=null),f.current=!1,Be&&u.onTogglePetalSelection){xe.preventDefault(),xe.stopPropagation(),u.onTogglePetalSelection(R.id,Y,!0);return}if($e&&u.onTogglePetalSelection){h.current={x:xe.clientX,y:xe.clientY};const zt=R.id,ht=Y;x.current=window.setTimeout(()=>{f.current=!0,x.current=null,u.onTogglePetalSelection?.(zt,ht,!0),navigator.vibrate?.(30)},500)}const ot=u.isSelected&&u.selectedLayerId!=null,xt=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||ot||xt){u.onBeginDragFromLayerPetal(R.id,Y,xe);return}u.onBeginDragFromLayerPetal(R.id,Y,xe)},onPointerMove:xe=>{if(x.current&&h.current){const Be=xe.clientX-h.current.x,$e=xe.clientY-h.current.y;Math.hypot(Be,$e)>10&&(clearTimeout(x.current),x.current=null)}},onPointerUp:()=>{x.current&&(clearTimeout(x.current),x.current=null)},onDoubleClick:xe=>{xe.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const xe=R.doublePetal,Be=Z?.innerSizeReduction??xe.innerSizeReduction??2,$e=m*(Q||1);if($e<=0)return null;const xt=Math.max($e*.3,$e-Be)/$e,bt=z,zt=Z?.innerColorId??xe.innerColorId??Z?.colorId??R.colorId,ht=r.get(zt)?.hex??B,st=q*xt,Dt=P*xt;return s.jsx("path",{d:bt,transform:`scale(${st} ${Dt})`,fill:ht,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(he||D||u.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${q} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${R.id}-${Y}`)]},Y)}),D&&!j&&s.jsx("circle",{r:T,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),D&&!j&&X>0&&s.jsx("circle",{r:X,fill:"none",stroke:"#111",strokeWidth:1.2,strokeDasharray:"3 2",className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.7,vectorEffect:"non-scaling-stroke",pointerEvents:"none"},`inner-dash-${u.dashSyncToken??0}-${R.id}`)]},R.id)}),u.isFlowerSelected&&s.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const R=i.center,G=Th(R.size),O=r.get(R.color)?.hex??"#D4A843",I=R.color2?r.get(R.color2)?.hex??"#C0C0C0":"#D4A843",Q=Math.max(G,N);switch(R.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:O,stroke:li(O,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:M},onPointerDown:E})]});case"":{const U=G*.42,P=G,W=G*.12,X=G*.13,_=G*.45,w=I,T=O;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((D,j)=>{const L=j/10*360,Y=va(L),Z=Math.cos(Y)*P,k=Math.sin(Y)*P,z=-Math.sin(Y)*W,B=Math.cos(Y)*W,H=Math.cos(Y)*U,J=Math.sin(Y)*U;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+z).toFixed(2)} ${(J+B).toFixed(2)} L ${Z.toFixed(2)} ${k.toFixed(2)} L ${(H-z).toFixed(2)} ${(J-B).toFixed(2)} Z`,fill:w,stroke:li(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:Z,cy:k,r:X,fill:w,stroke:li(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),s.jsx("circle",{r:U,fill:w,stroke:li(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:_,fill:T,stroke:li(T,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:M},onPointerDown:E})]})}case"":{const q=R.pepCount??12,U=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:q}).map((P,W)=>{const X=W/q*360,_=va(X),w=Math.cos(_)*G,T=Math.sin(_)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:w,y2:T,stroke:O,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:w,cy:T,r:Math.max(U,1),fill:O,stroke:li(O,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),s.jsx("circle",{r:Q,fill:"transparent",style:{cursor:M},onPointerDown:E})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:M},onPointerDown:E})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:M},onPointerDown:E})]}),u.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function Mm(u){const{leaf:i,project:a,paletteMap:r}=u,x=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:h}=It(x),v=i.scale??1,m=f*v,d=h*(i.widthScale??1)*v,g=xs(i.petalType),p=r.get(i.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":u.cursor??ar("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!i.locked){if(N.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(N)}},children:[s.jsx("path",{d:g,transform:`scale(${m} ${d})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const N=i.doublePetal,b=N.innerSizeReduction??2,M=x*(v||1);if(M<=0)return null;const S=Math.max(M*.3,M-b)/M,E=N.innerColorId??i.colorId,R=r.get(E)?.hex??p,G=m*S,O=d*S;return s.jsx("path",{d:g,transform:`scale(${G} ${O})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&s.jsx("path",{d:g,transform:`scale(${m} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${i.id}`)]})}const O0=1350;function zm(u){const{stencils:i,selectedStencilId:a,selection:r,stageRef:x,applyUpdateRef:f,clientToSvgPointRef:h,stencilDraggingRef:v,onSelectStencil:m}=u,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const g=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return s.jsx(s.Fragment,{children:i.map(p=>{const N=Sm(p.variant,p.pose),b=a===p.id,M=an,C=N.imageUrl?1:N.scaleX,S=g||!!p.locked;return s.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${M*C} ${M})`,style:{cursor:g?"default":p.locked?"pointer":nm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:E=>{if(E.button!==0)return;if(S){m(p.id);return}if(E.stopPropagation(),m(p.id),!x.current)return;v.current=!0,x.current&&(x.current.style.cursor=lm("/tsumami/"));const G=h.current(E),O={...p.position},I=p.id;let Q=O.x,q=O.y;const U=W=>{const X=h.current(W),_=X.x-G.x,w=X.y-G.y;Q=je(O.x+_,0,O0),q=je(O.y+w,0,O0),f.current(T=>{const D=(T.stencils??[]).find(j=>j.id===I);D&&(D.position.x=Q,D.position.y=q)},!1)},P=()=>{v.current=!1,x.current&&(x.current.style.cursor=""),document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",P),d.current=null,f.current(W=>{const X=(W.stencils??[]).find(_=>_.id===I);X&&(X.position.x=Q,X.position.y=q)},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",P),d.current=()=>{v.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",P)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function Dm(u){const{project:i,selection:a,setSelection:r,paletteMap:x,selectedFlowerId:f,zoneCursorValue:h,dashSyncToken:v,stageRef:m,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:p,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:M,beginScaleDrag:C,beginRotationDrag:S,beginWidthScaleDrag:E,beginRadiusDrag:R,clickOriginRef:G,zoneActivatedRef:O,setZoneCursorValue:I,setTouchZoneIndicator:Q,hoverZoneRef:q,hoverHitLayerIdRef:U,hoverHitPetalIndexRef:P}=u;return s.jsx(s.Fragment,{children:i.flowers.map(W=>s.jsx(jm,{flower:W,project:i,paletteMap:x,isSelected:a.kind!=="project"&&f===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const X=ba(i,W.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:X.id});return}r({kind:"flower",flowerId:W.id})},onSelectLayer:X=>r({kind:"layer",flowerId:W.id,layerId:X}),onSelectPetal:(X,_)=>r({kind:"petal",flowerId:W.id,layerId:X,index:_}),onTogglePetalSelection:(X,_,w)=>p(W.id,X,_,w),onShiftSelect:()=>N(W.id),isGroupHighlighted:b.has(W.id),zoneCursorValue:h,onBeginDragFromLayerPetal:(X,_,w)=>{if(d.current)return;const T=ba(i,W.id);if(T&&!(a.kind==="group"&&a.groupId===T.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&T.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:T.id}),M(W.id,w);return}const D=g(w),j=w.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(j&&L){const{zone:k,layerId:z,petalIndex:B}=ai(D.x,D.y,W,i,a),{length:H}=It(W.fabricSquareSize??i.fabricSquareSize),J=S0(k,a.kind,{hitLayerId:z,flower:W,length:H});if(J!=="none"&&J!=="center"&&J!=="move"){Q({x:D.x,y:D.y,zone:J});const ae=a.kind==="layer"?"layer":"flower",oe=a.kind==="layer"?a.layerId:X;switch(J){case"rotate":S(ae,W.id,w,{layerId:oe});return;case"scale":C(ae,W.id,w,{layerId:oe});return;case"width":E(ae,W.id,w,{layerId:oe,petalIndex:B});return;case"radius":R(ae,W.id,w,{layerId:oe});return}}M(W.id,w,{layerId:X,index:_});return}const Y=O.current;G.current={x:D.x,y:D.y},O.current=!1;const Z=q.current;if(L&&(Y||Z!=="none"&&Z!=="center")){const k=Z,z=U.current,B=P.current,H=a.kind==="layer"?"layer":"flower",J=a.kind==="layer"?a.layerId:z??X;switch(k){case"rotate":S(H,W.id,w,{layerId:J});return;case"scale":C(H,W.id,w,{layerId:J});return;case"width":E(H,W.id,w,{layerId:J,petalIndex:B});return;case"radius":R(H,W.id,w,{layerId:J});return;default:I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),M(W.id,w,{layerId:X,index:_});return}}I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),M(W.id,w,{layerId:X,index:_})},onDoubleClick:()=>r({kind:"flower",flowerId:W.id}),onPointerDown:X=>{if(d.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),N(W.id);return}const _=ba(i,W.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:_.id}),M(W.id,X);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||r({kind:"flower",flowerId:W.id});const T=g(X);G.current={x:T.x,y:T.y},O.current=!1,I(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),M(W.id,X)},dashSyncToken:v},W.id))})}function Nm(u){const{leaves:i,leafGroups:a,project:r,selection:x,paletteMap:f,dashSyncToken:h,leafGroupHighlightedLeafIds:v,zoneCursorValue:m,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:p,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:M,setZoneCursorValue:C,onSelectLeaf:S,onShiftSelectLeaf:E,hoverLeafZoneRef:R}=u,G=$.useRef(null);return $.useEffect(()=>()=>{G.current?.()},[]),s.jsx(s.Fragment,{children:i.map(O=>{if(!O.visible)return null;const I=x.kind==="leaf"&&x.leafId===O.id,Q=x.kind==="leaves"&&x.leafIds?.includes(O.id),q=v.has(O.id),U=X0({leaves:i,leafGroups:a},O.id),P=U?.rotation??0;let W=O;if(U&&P!==0){const X=Sh({leaves:i,leafGroups:a},U.id),_=P*Math.PI/180,w=O.position.x-X.x,T=O.position.y-X.y;W={...O,position:{x:X.x+w*Math.cos(_)-T*Math.sin(_),y:X.y+w*Math.sin(_)+T*Math.cos(_)},rotation:O.rotation+P}}return s.jsx(Mm,{leaf:W,project:r,paletteMap:f,isSelected:I||Q,isLeafGroupHighlighted:q,dashSyncToken:h,cursor:I?m:void 0,onPointerDown:X=>{if(O.locked)return;X.stopPropagation();const _=p.current(X),w=I&&M.current;S(O.id),b.current={x:_.x,y:_.y},M.current=!1,C(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/"));const T=R.current,D=w||T!=="none"?T:"move";if(D!=="move"){const j=$i(D,"/tsumami/");C(j),d.current&&(d.current.style.cursor=j)}if(N.current=!0,D==="rotate"){const j=W.position,L=O.rotation,Y=Math.atan2(_.y-j.y,_.x-j.x)*180/Math.PI;let Z=!1;const k=B=>{const H=p.current(B),ae=Math.atan2(H.y-j.y,H.x-j.x)*180/Math.PI-Y;Math.abs(ae)>.5&&(Z=!0),g.current(oe=>{const de=(oe.leaves??[]).find(_e=>_e.id===O.id);de&&(de.rotation=((L+ae)%360+360)%360)},!1)},z=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),Z&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}else if(D==="scale"){const j=W.position,L=O.scale??1,Y=Math.max(1,Math.hypot(_.x-j.x,_.y-j.y));let Z=!1;const k=B=>{const H=p.current(B),ae=Math.hypot(H.x-j.x,H.y-j.y)/Y;Math.abs(ae-1)>.01&&(Z=!0),g.current(oe=>{const de=(oe.leaves??[]).find(_e=>_e.id===O.id);de&&(de.scale=je(L*ae,.3,3))},!1)},z=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),Z&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}else if(D==="width"){const j=W.position,L=O.rotation*Math.PI/180,Y=-Math.sin(L),Z=Math.cos(L),k=O.widthScale??1,z=Math.abs((_.x-j.x)*Y+(_.y-j.y)*Z),B=Math.max(1,z);let H=!1;const J=oe=>{const de=p.current(oe),he=Math.abs((de.x-j.x)*Y+(de.y-j.y)*Z)/B;Math.abs(he-1)>.01&&(H=!0),g.current(Se=>{const xe=(Se.leaves??[]).find(Be=>Be.id===O.id);xe&&(xe.widthScale=je(k*he,.3,3))},!1)},ae=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ae),H&&g.current(()=>{},!0)};document.addEventListener("pointermove",J),document.addEventListener("pointerup",ae),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",ae)}}else{const j=_,L=Ch({leaves:i,leafGroups:a},O.id),Y=new Map;for(const B of L){const H=i.find(J=>J.id===B);H&&Y.set(B,{...H.position})}let Z=!1;const k=B=>{const H=p.current(B),J=H.x-j.x,ae=H.y-j.y;Math.abs(J)+Math.abs(ae)>1&&(Z=!0),g.current(oe=>{for(const[de,_e]of Y){const he=(oe.leaves??[]).find(Se=>Se.id===de);he&&(he.position.x=je(_e.x+J,0,O0),he.position.y=je(_e.y+ae,0,O0))}},!1)},z=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z),Z&&g.current(()=>{},!0)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",z),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",z)}}},onShiftSelect:()=>E(O.id)},O.id)})})}function Am({rect:u}){return u?s.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Tm({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?s.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ha=1350;function Lm(u){const{project:i,selection:a,setSelection:r,paletteMap:x,selectedFlowerId:f,setZoom:h,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:d,setPan:g,showGrid:p,setShowGrid:N,setShowHelp:b,stageRef:M,viewBox:C,dashDelay:S,dashSyncToken:E,beginPan:R,updatePan:G,endPan:O,beginMarquee:I,updateMarquee:Q,endMarquee:q,marqueeRef:U,marqueeRect:P,beginFlowerDrag:W,updateFlowerDrag:X,endFlowerDrag:_,scaleDragRef:w,updateScaleDrag:T,endScaleDrag:D,rotationDragRef:j,updateRotationDrag:L,endRotationDrag:Y,widthScaleDragRef:Z,updateWidthScaleDrag:k,endWidthScaleDrag:z,radiusDragRef:B,updateRadiusDrag:H,endRadiusDrag:J,beginScaleDrag:ae,beginRotationDrag:oe,beginWidthScaleDrag:de,beginRadiusDrag:_e,togglePetalSelection:he,clientToSvgPoint:Se}=u,xe=$.useRef(!1),Be=$.useRef(!1),$e=$.useRef(u.applyUpdate),ot=$.useRef(Se);$.useEffect(()=>{$e.current=u.applyUpdate},[u.applyUpdate]),$.useEffect(()=>{ot.current=Se},[Se]);const[xt,bt]=$.useState(!1),zt=$.useRef(null);$.useEffect(()=>{if(!xt)return;const se=Ee=>{zt.current&&!zt.current.contains(Ee.target)&&bt(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[xt]);const[ht,st]=$.useState("grab"),Dt=$.useRef("none"),Wt=$.useRef("none"),rn=$.useRef(void 0),$n=$.useRef(void 0),Ke=$.useRef(null),yn=$.useRef(!0),_l=5,Wl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Wl.current&&(Wl.current=a.kind,yn.current=!1,Ke.current=null)},[a.kind]);const[On,ga]=$.useState(!1),Hn=$.useRef(!1),[ci,Jl]=$.useState(null),el=5,qt=10,We=wm({zoom:u.zoom,pan:u.pan,setZoom:h,setPan:g,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:d,stageRef:M,endPan:O,endFlowerDrag:_,endMarquee:q,endRotationDrag:Y,endScaleDrag:D,endWidthScaleDrag:z,endRadiusDrag:J});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(1),disabled:v>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(se=>!se),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>We.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:zt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${xt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>bt(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),xt&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[se]}),["right","left","back"].map(Ee=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(se,Ee),bt(!1)},"data-testid":`stencil-add-${se}-${Ee}`,children:Pd[Ee]},`${se}-${Ee}`))]},se)),u.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),bt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[se,,Ee,qe]=C.split(/\s+/).map(Number),Ce=an,ge=Math.max(Ee,qe)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ge/Ae<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,He=Math.floor(se/Ce/ve)*ve-ve,Ve=Math.ceil((se+Ee)/Ce/ve)*ve+ve,Qe=[];for(let Ae=He;Ae<=Ve;Ae+=ve){const Fe=(Ae*Ce-se)/Ee*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Ae),et=Me%ze===0,tt=Me%Je===0,nt=et?10:tt?6:3;Qe.push(s.jsx("line",{x1:`${Fe}%`,y1:20-nt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:et?.8:.4},Ae)),et&&Qe.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),p&&(()=>{const[,se,Ee,qe]=C.split(/\s+/).map(Number),Ce=an,ge=Math.max(Ee,qe)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>ge/Ae<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,He=Math.floor(se/Ce/ve)*ve-ve,Ve=Math.ceil((se+qe)/Ce/ve)*ve+ve,Qe=[];for(let Ae=He;Ae<=Ve;Ae+=ve){const Fe=(Ae*Ce-se)/qe*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Ae),et=Me%ze===0,tt=Me%Je===0,nt=et?10:tt?6:3;Qe.push(s.jsx("line",{x1:24-nt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:et?.8:.4},Ae)),et&&Qe.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),s.jsxs("svg",{ref:M,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":S,cursor:On?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(ga(Ee=>!Ee),r({kind:"project"}))},onPointerDown:se=>{if(We.multiTouchRef.current)return;if(se.button===1){Hn.current=!0,M.current&&(M.current.style.cursor="grabbing"),R(se);return}if(se.button!==0)return;const Ee=se.pointerType==="touch";if(Ee&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=i.flowers.find(ge=>ge.id===f);if(Ce){const ge=Se(se),{zone:Ne,layerId:ze,petalIndex:ve}=ai(ge.x,ge.y,Ce,i,a),{length:Je}=It(Ce.fabricSquareSize??i.fabricSquareSize),He=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Je});if(He!=="none"&&He!=="center"){Jl({x:ge.x,y:ge.y,zone:He});const Ve=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:ze;switch(He){case"rotate":oe(Ve,f,se,{layerId:Qe});return;case"scale":ae(Ve,f,se,{layerId:Qe});return;case"width":de(Ve,f,se,{layerId:Qe,petalIndex:ve});return;case"radius":_e(Ve,f,se,{layerId:Qe});return;case"move":W(f,se);return}}}}We.setTouchBgStart({x:se.clientX,y:se.clientY}),R(se);return}if(se.target===se.currentTarget&&f&&ht!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Dt.current;if(Ce!=="none"&&Ce!=="center"){const ge=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:rn.current;switch(Ce){case"rotate":oe(ge,f,se,{layerId:Ne});return;case"scale":ae(ge,f,se,{layerId:Ne});return;case"width":de(ge,f,se,{layerId:Ne,petalIndex:$n.current});return;case"radius":_e(ge,f,se,{layerId:Ne});return;case"move":W(f,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&ht!=="grab"){const qe=Wt.current;if(qe!=="none"){const Ce=u.leaves.find(ge=>ge.id===u.selectedLeafId);if(Ce){se.preventDefault();const ge=Se(se);if(Be.current=!0,qe==="rotate"){const Ne=Ce.position,ze=Ce.rotation,ve=Math.atan2(ge.y-Ne.y,ge.x-Ne.x)*180/Math.PI,Je=Ce.id,He=$i(qe,"/tsumami/");st(He),M.current&&(M.current.style.cursor=He);let Ve=!1;const Qe=yt=>{const Fe=Se(yt),et=Math.atan2(Fe.y-Ne.y,Fe.x-Ne.x)*180/Math.PI-ve;Math.abs(et)>.5&&(Ve=!0),u.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(pn=>pn.id===Je);nt&&(nt.rotation=((ze+et)%360+360)%360)},!1)},Ae=()=>{Be.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),Ve&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(qe==="scale"){const Ne=Ce.position,ze=Ce.scale??1,ve=Math.max(1,Math.hypot(ge.x-Ne.x,ge.y-Ne.y)),Je=Ce.id,He=$i(qe,"/tsumami/");st(He),M.current&&(M.current.style.cursor=He);let Ve=!1;const Qe=yt=>{const Fe=Se(yt),et=Math.hypot(Fe.x-Ne.x,Fe.y-Ne.y)/ve;Math.abs(et-1)>.01&&(Ve=!0),u.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(pn=>pn.id===Je);nt&&(nt.scale=Math.max(.3,Math.min(3,ze*et)))},!1)},Ae=()=>{Be.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ae),Ve&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ae);return}else if(qe==="width"){const Ne=Ce.position,ze=Ce.rotation*Math.PI/180,ve=-Math.sin(ze),Je=Math.cos(ze),He=Ce.widthScale??1,Ve=Math.max(1,Math.abs((ge.x-Ne.x)*ve+(ge.y-Ne.y)*Je)),Qe=Ce.id,Ae=$i(qe,"/tsumami/");st(Ae),M.current&&(M.current.style.cursor=Ae);let yt=!1;const Fe=et=>{const tt=Se(et),pn=Math.abs((tt.x-Ne.x)*ve+(tt.y-Ne.y)*Je)/Ve;Math.abs(pn-1)>.01&&(yt=!0),u.applyUpdate(ya=>{const Vl=(ya.leaves??[]).find(_n=>_n.id===Qe);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,He*pn)))},!1)},Me=()=>{Be.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Me),yt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Me);return}else{const Ne=ge,ze={...Ce.position},ve=Ce.id;st(Pn("/tsumami/")),M.current&&(M.current.style.cursor=Pn("/tsumami/"));let Je=!1;const He=Qe=>{const Ae=Se(Qe),yt=Ae.x-Ne.x,Fe=Ae.y-Ne.y;Math.abs(yt)+Math.abs(Fe)>1&&(Je=!0),u.applyUpdate(Me=>{const et=(Me.leaves??[]).find(tt=>tt.id===ve);et&&(et.position.x=Math.max(0,Math.min(ha,ze.x+yt)),et.position.y=Math.max(0,Math.min(ha,ze.y+Fe)))},!1)},Ve=()=>{Be.current=!1,document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",Ve),Je&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",He),document.addEventListener("pointerup",Ve);return}}}}if(se.target===se.currentTarget){Ee?(We.setTouchBgStart({x:se.clientX,y:se.clientY}),R(se)):On?I(se):(We.setMouseBgStart({x:se.clientX,y:se.clientY}),Hn.current=!0,M.current&&(M.current.style.cursor="grabbing"),R(se));return}},onPointerMove:se=>{if(xe.current||Be.current)return;if(U.current){Q(se);return}if(j.current){L(se);return}if(w.current){T(se);return}if(Z.current){k(se);return}if(B.current){H(se);return}X(se),G(se);const Ee=!!u.dragRef?.current||!!U.current||!!j.current||!!w.current||!!Z.current||!!B.current||Hn.current,qe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ee&&qe){const Ce=i.flowers.find(ge=>ge.id===f);if(Ce){const ge=Se(se);if(Ke.current&&!yn.current){if(Math.hypot(ge.x-Ke.current.x,ge.y-Ke.current.y)<_l){const{zone:Ae}=ai(ge.x,ge.y,Ce,i,a);Ae==="center"&&(st("pointer"),M.current&&(M.current.style.cursor="pointer"));return}yn.current=!0,Ke.current=null}const{zone:Ne,layerId:ze,petalIndex:ve}=ai(ge.x,ge.y,Ce,i,a),{length:Je}=It(Ce.fabricSquareSize??i.fabricSquareSize),He=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Je});He!=="none"&&(Dt.current=He,rn.current=ze,$n.current=ve);const Ve=Rd(He,"/tsumami/");st(Ve),M.current&&(M.current.style.cursor=Ve)}}if(!Ee&&a.kind==="leaf"&&u.selectedLeafId){const Ce=u.leaves.find(ge=>ge.id===u.selectedLeafId);if(Ce){const ge=Se(se);if(Ke.current&&!yn.current){if(Math.hypot(ge.x-Ke.current.x,ge.y-Ke.current.y)<_l)return;yn.current=!0,Ke.current=null}const Ne=tm(ge.x,ge.y,Ce,i);Ne!=="none"&&(Wt.current=Ne);const ze=$i(Ne,"/tsumami/");st(ze),M.current&&(M.current.style.cursor=ze)}}},onPointerUp:se=>{if(!xe.current&&!Be.current){if(Jl(null),U.current&&On&&ga(!1),q(),Y(),D(),z(),J(),_(),O(),Hn.current&&(Hn.current=!1,M.current&&(M.current.style.cursor=On?"crosshair":"grab")),We.touchBgStartRef.current&&se.pointerType==="touch"){const Ee=se.clientX-We.touchBgStartRef.current.x,qe=se.clientY-We.touchBgStartRef.current.y;Math.hypot(Ee,qe)<qt&&r({kind:"project"}),We.setTouchBgStart(null);return}if(We.setTouchBgStart(null),We.mouseBgStartRef.current&&se.pointerType==="mouse"){const Ee=se.clientX-We.mouseBgStartRef.current.x,qe=se.clientY-We.mouseBgStartRef.current.y;if(We.setMouseBgStart(null),Math.hypot(Ee,qe)<el){r({kind:"project"});return}}if(We.setMouseBgStart(null),f){const Ee=i.flowers.find(qe=>qe.id===f);if(Ee){const qe=Se(se);if(Ke.current&&Math.hypot(qe.x-Ke.current.x,qe.y-Ke.current.y)<_l){const{zone:Ve}=ai(qe.x,qe.y,Ee,i,a);Ve==="center"&&(st("pointer"),M.current&&(M.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ge,petalIndex:Ne}=ai(qe.x,qe.y,Ee,i,a),{length:ze}=It(Ee.fabricSquareSize??i.fabricSquareSize),ve=S0(Ce,a.kind,{hitLayerId:ge,flower:Ee,length:ze});ve!=="none"&&(Dt.current=ve,rn.current=ge,$n.current=Ne);const Je=Rd(ve,"/tsumami/");st(Je),M.current&&(M.current.style.cursor=Je)}}}},onPointerLeave:()=>{q(),Y(),D(),z(),J(),_(),O(),Hn.current=!1,We.setTouchBgStart(null),We.setMouseBgStart(null),st("grab"),Ke.current=null,yn.current=!0,Dt.current="none",Wt.current="none",rn.current=void 0,$n.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Ee,qe,Ce]=C.split(/\s+/).map(Number),ge=ha;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:se,y:Ee,width:qe,height:Ce,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ge,height:ge,fill:"black"})]})}),s.jsx("rect",{x:se,y:Ee,width:qe,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ha,height:ha,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ha,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ha,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const se=an,[Ee,qe,Ce,ge]=C.split(/\s+/).map(Number),Ne=Math.max(Ce,ge)/se,ve=[10,20,50,100,200,500,1e3].find(tt=>Ne/tt<=15)??1e3,Je=Math.floor(Ee/se/ve)*ve-ve,He=Math.ceil((Ee+Ce)/se/ve)*ve+ve,Ve=Math.floor(qe/se/ve)*ve-ve,Qe=Math.ceil((qe+ge)/se/ve)*ve+ve,Ae=Ve*se,yt=Qe*se,Fe=Je*se,Me=He*se,et=[];for(let tt=Je;tt<=He;tt+=ve){const nt=tt*se;et.push(s.jsx("line",{x1:nt,y1:Ae,x2:nt,y2:yt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${tt}`))}for(let tt=Ve;tt<=Qe;tt+=ve){const nt=tt*se;et.push(s.jsx("line",{x1:Fe,y1:nt,x2:Me,y2:nt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${tt}`))}return s.jsx("g",{children:et})})(),s.jsx(zm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:M,applyUpdateRef:$e,clientToSvgPointRef:ot,stencilDraggingRef:xe,onSelectStencil:u.onSelectStencil}),s.jsx(Dm,{project:i,selection:a,setSelection:r,paletteMap:x,selectedFlowerId:f,zoneCursorValue:ht,dashSyncToken:E,stageRef:M,multiTouchRef:We.multiTouchRef,clientToSvgPoint:Se,togglePetalSelection:he,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:ae,beginRotationDrag:oe,beginWidthScaleDrag:de,beginRadiusDrag:_e,clickOriginRef:Ke,zoneActivatedRef:yn,setZoneCursorValue:st,setTouchZoneIndicator:Jl,hoverZoneRef:Dt,hoverHitLayerIdRef:rn,hoverHitPetalIndexRef:$n}),s.jsx(Nm,{leaves:u.leaves,leafGroups:u.leafGroups,project:i,selection:a,paletteMap:x,dashSyncToken:E,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:ht,stageRef:M,applyUpdateRef:$e,clientToSvgPointRef:ot,leafDraggingRef:Be,clickOriginRef:Ke,zoneActivatedRef:yn,setZoneCursorValue:st,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:Wt}),s.jsx(Am,{rect:P}),s.jsx(Tm,{indicator:ci})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(u,i,a){return Math.min(a,Math.max(i,u))}function Ie({value:u,onChange:i,min:a=-1/0,max:r=1/0,step:x,className:f,...h}){const[v,m]=$.useState(null),d=$.useRef(null),g=$.useCallback(b=>{const M=Number(b);isNaN(M)||i(Hd(M,a,r)),m(null)},[i,a,r]),p=$.useCallback(()=>{m(null)},[]),N=$.useCallback(b=>{const M=x??1,S=(Number(v??u)||0)+M*b,E=Hd(S,a,r),R=String(M).includes(".")?String(M).split(".")[1].length:0,G=Number(E.toFixed(R));m(String(G)),i(G)},[v,u,x,a,r,i]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(u),onChange:b=>m(b.target.value),onFocus:b=>{m(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{v!==null&&g(v)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),v!==null&&g(v),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),p(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...h}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function cr({title:u,compact:i,children:a}){return s.jsxs("div",{className:i?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),s.jsx("div",{className:"space-y-3",children:a})]})}function Em({flower:u,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=$.useMemo(()=>{const S=[...u.layers||[]].sort((P,W)=>P.order-W.order);if(S.length<2)return{mode:"uniform",step:2};const E=S.map(P=>P.scale??1);if(E.every(P=>Math.abs(P-E[0])<.001))return{mode:"uniform",step:2};const G=S[0],O=S[S.length-1],I=(O.order??1)-(G.order??1);if(I<=0)return{mode:"gradual",step:2};const q=((G.scale??1)-(O.scale??1))/I,U=Math.round(q*i*2)/2;return{mode:"gradual",step:je(U,0,10)}},[u.id]),[h,v]=$.useState(f.mode),[m,d]=$.useState(f.step),[g,p]=$.useState(0);$.useEffect(()=>{v(f.mode),d(f.step),p(0)},[f]);const N=$.useMemo(()=>[...u.layers||[]].sort((S,E)=>S.order-E.order),[u.layers]),b=N[0],M=b?b.order:0,C=$.useMemo(()=>{if(!b)return[];const S=b.scale??1,E=b.radius,R=new Map;for(const P of N){const W=P.order-M;if(W===0)R.set(P.id,S);else if(h==="uniform")R.set(P.id,S);else{const X=m/i;R.set(P.id,je(S-W*X,.3,3))}}const{length:G}=It(i),O=N.length,I=70*Math.PI/180,Q=new Map;let q=E;Q.set(b.id,E);for(let P=1;P<O;P++){const W=N[P-1],X=R.get(W.id)??1,_=G*X;let w;if(a===""){const T=O-1-P,D=O>1?T/(O-1)*I:0;w=_*(30/100)*Math.cos(D)}else w=_/3;q=q-w,Q.set(N[P].id,Math.max(2,q))}const U=N.map(P=>{const W=R.get(P.id)??1,X=Math.round((Q.get(P.id)??E)*10)/10,_=Math.round(i*W*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:W,effFabricSize:_,effRadius:X}});if(U.length>0){const P=U[U.length-1],W=G*P.effScale,X=Math.floor(W*.28*10)/10;P.effRadius>X&&(P.effRadius=X)}return U},[N,b,M,h,m,30,i,a]);return $.useEffect(()=>{g!==0&&(!b||C.length===0||r(S=>{const E=S.flowers.find(G=>G.id===u.id);if(!E)return;for(const G of C){const O=E.layers.find(I=>I.id===G.id);O&&(O.scale=je(G.effScale,.3,3),O.radius=je(G.effRadius,2,120))}const R=[...E.layers].sort((G,O)=>O.order-G.order);for(let G=1;G<R.length;G++){const O=R[G-1],I=R[G];I.offsetAngle=Fn(O.petalCount,O.offsetAngle,I.petalCount)}}))},[g]),N.length<2?null:s.jsxs(cr,{title:"",children:[s.jsxs(ys,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:S=>{v(S.target.value),p(E=>E+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&s.jsxs(ys,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:S=>{d(S),p(E=>E+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(S=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:S.name}),s.jsxs("span",{children:[" ",S.effFabricSize,"mm /  ",Math.round(tr(S.effRadius,S.effScale,i)),"mm"]})]},S.id))]})]})}const Fd="tsumami_recent_colors_v1",qs=10;function qm(u){const i=new Set;for(const a of u.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const x of r.petalOverrides)x.colorId&&i.add(x.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function js(){try{const u=localStorage.getItem(Fd);if(u){const i=JSON.parse(u);if(Array.isArray(i))return i.slice(0,qs)}}catch{}return[]}function Bm(u){try{localStorage.setItem(Fd,JSON.stringify(u.slice(0,qs)))}catch{}}function Gm(u){const i=js(),a=[u,...i.filter(r=>r!==u)].slice(0,qs);Bm(a)}function Xn({palette:u,project:i,selectedColorId:a,onChange:r,size:x="md"}){const[f,h]=$.useState(!1),v=$.useRef(null),[m,d]=$.useState(js);$.useEffect(()=>{if(!f)return;const C=S=>{v.current&&!v.current.contains(S.target)&&h(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[f]);const g=$.useMemo(()=>qm(i),[i]),p=$.useMemo(()=>{const C=new Set;C.add(a);for(const S of g)C.add(S);for(const S of m)C.add(S);return u.filter(S=>C.has(S.id))},[u,a,g,m]),N=$.useCallback(C=>{Gm(C),d(js()),r(C)},[r]),b=x==="sm"?"h-4 w-4":"h-5 w-5",M=f?u:p;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[M.map(C=>s.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>N(C.id)},C.id)),u.length>p.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>h(C=>!C),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:x==="sm"?8:10,height:x==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function km({project:u,applyUpdate:i,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(r=>{const x=a.layers.every(f=>f.petalType===r);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${x?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(v=>v.id===a.id);if(h)for(const v of h.layers)v.petalType=r}),children:r},r)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Kd.map(r=>{const x=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${x===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{x!==r&&i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;h.placementMode=r;const v=h.fabricSquareSize??f.fabricSquareSize;r===""?h.baseDiameter=er(h.flowerDiameter):h.baseDiameter||(h.baseDiameter=f.baseDiameter),Eh(h.layers,v,r,h.flowerDiameter)},!0)},children:r},r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ie,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f&&(f.baseDiameter=r)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(x=>{const f=x.flowers.find(m=>m.id===a.id);if(!f)return;const h=ri(r);for(const m of f.layers)m.petalCount=r,m.widthScale=h;const v=[...f.layers].sort((m,d)=>d.order-m.order);for(let m=1;m<v.length;m++)v[m].offsetAngle=Fn(v[m-1].petalCount,v[m-1].offsetAngle,v[m].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(x=>{const f=x.flowers.find(v=>v.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=er(r));const h=[...f.layers].sort((v,m)=>v.order-m.order);K0(h,f.fabricSquareSize??x.fabricSquareSize,r);for(const v of h){const m=f.layers.find(d=>d.id===v.id);m&&(m.radius=v.radius,m.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.widthScale=r})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f&&(f.rotation=r)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.colorId=r})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)if(r.target.checked){if(!h.doublePetal){const v=h._doublePetalCache;h.doublePetal=v??{innerSizeReduction:2},delete h._doublePetalCache}}else h.doublePetal&&(h._doublePetalCache={...h.doublePetal}),delete h.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],x=r.length===1?r[0]:null,f=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],h=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:x??"",placeholder:"",onChange:v=>i(m=>{const d=m.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=je(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:h??"",onChange:v=>i(m=>{const d=m.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(v===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(r=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:r},r))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f?.center&&(f.center.size=r)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(x=>{const f=x.flowers.find(h=>h.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const x=r.flowers.find(f=>f.id===a.id);x&&delete x.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const x=r.flowers.find(f=>f.id===a.id);x&&(x.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Em,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function Rm({project:u,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:x,onAddToGroup:f,onMergeGroups:h}){const v=a,m=[...new Set(v.flatMap(p=>p.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,g=p=>{i(N=>{for(const b of v){const M=N.flowers.find(C=>C.id===b.id);M&&p(M)}},!0)};return s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(p=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=p.id})},p.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=p}),children:p},p))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const N=ri(p);g(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=N;const M=[...b.layers].sort((C,S)=>S.order-C.order);for(let C=1;C<M.length;C++)M[C].offsetAngle=Fn(M[C-1].petalCount,M[C-1].offsetAngle,M[C].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(p=>s.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=v.map(S=>ba(u,S.id)),N=v.filter(S=>!ba(u,S.id)).map(S=>S.id),b=[...new Set(p.filter(Boolean).map(S=>S.id))],M=N.length===v.length,C=b.length===1&&p.every(S=>S!=null);return s.jsxs(s.Fragment,{children:[M&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(v.map(S=>S.id)),children:""}),C&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(b[0]),children:""}),b.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Om({project:u,applyUpdate:i,selectedFlowers:a,groups:r,groupId:x,onUngroupFlowers:f}){const h=r.find(p=>p.id===x);if(!h)return null;const v=a,m=[...new Set(v.flatMap(p=>p.layers.map(N=>N.petalType)))],d=m.length===1?m[0]:null,g=p=>{i(N=>{for(const b of v){const M=N.flowers.find(C=>C.id===b.id);M&&p(M)}},!0)};return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:h.name,onChange:p=>i(N=>{const b=(N.groups??[]).find(M=>M.id===h.id);b&&(b.name=p.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(p=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=p.id})},p.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=p}),children:p},p))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const N=ri(p);g(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=N;const M=[...b.layers].sort((C,S)=>S.order-C.order);for(let C=1;C<M.length;C++)M[C].offsetAngle=Fn(M[C-1].petalCount,M[C-1].offsetAngle,M[C].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(p=>s.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(h.id),children:""})]})}function Hm({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.name=x.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(x=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===x?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.petalType=x)}),children:x},x))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:r.petalCount,onChange:x=>{i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);if(v){v.petalCount=x,v.widthScale=ri(x);const m=[...h.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<m.length;d++)m[d].offsetAngle=Fn(m[d-1].petalCount,m[d-1].offsetAngle,m[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:1,max:200,step:.5,value:Math.round(tr(r.radius,r.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.radius=je(Lh(x,v.scale??1,h.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(r.scale??1)*10)/10,onChange:x=>i(f=>{const h=f.flowers.find(p=>p.id===a.id);if(!h)return;const v=h.layers.find(p=>p.id===r.id);if(!v)return;const m=h.fabricSquareSize??f.fabricSquareSize;v.scale=je(Math.round(x/m*100)/100,.3,3);const d=[...h.layers].sort((p,N)=>p.order-N.order),g=d.findIndex(p=>p.id===v.id);if(g>=0)for(let p=g-1;p>=0;p--){const N=d[p],b=d[p+1],C=It(m).length*(b.scale??1)/3;N.radius=Math.round((b.radius+C)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.scale=x)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.widthScale=x)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:Number(r.offsetAngle??0).toFixed(1),onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.offsetAngle=x)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:r.colorId,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.colorId=x)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);if(v)if(x.target.checked){const m=v._doublePetalCache;v.doublePetal=m??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=je(x,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v?.doublePetal&&(x===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=x)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.visible=x.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:x=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const v=h.layers.find(m=>m.id===r.id);v&&(v.locked=x.target.checked)})}),""]})]})]})]})}function Ym({project:u,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const x=r,f=x.map(S=>{const E=a.layers.find(R=>R.id===S.layerId);return{...S,layer:E}}).filter(S=>S.layer!=null),h=(S,E)=>{const R=a.layers.find(O=>O.id===S);return R?(R?.petalOverrides?.find(O=>O.index===E)??null)?.colorId??R.colorId:null},v=(S,E)=>{const R=a.layers.find(O=>O.id===S);return R?(R?.petalOverrides?.find(O=>O.index===E)??null)?.petalType??R.petalType:null},m=f.map(S=>h(S.layerId,S.index)),d=f.map(S=>v(S.layerId,S.index)),g=m.length>0&&m.every(S=>S===m[0]),N=d.length>0&&d.every(S=>S===d[0])?d[0]:null,b=S=>{i(E=>{const R=E.flowers.find(G=>G.id===a.id);if(R)for(const G of x){const O=R.layers.find(Q=>Q.id===G.layerId);if(!O)continue;O.petalOverrides||(O.petalOverrides=[]);const I=O.petalOverrides.find(Q=>Q.index===G.index);if(I)S.colorId!==void 0&&(S.colorId===O.colorId?delete I.colorId:I.colorId=S.colorId),S.petalType!==void 0&&(S.petalType===O.petalType?delete I.petalType:I.petalType=S.petalType),!I.colorId&&!I.petalType&&(O.petalOverrides=O.petalOverrides.filter(Q=>Q.index!==G.index),O.petalOverrides.length===0&&(O.petalOverrides=void 0));else{const Q={index:G.index};S.colorId!==void 0&&S.colorId!==O.colorId&&(Q.colorId=S.colorId),S.petalType!==void 0&&S.petalType!==O.petalType&&(Q.petalType=S.petalType),(Q.colorId!==void 0||Q.petalType!==void 0)&&O.petalOverrides.push(Q)}}},!0)},M=()=>{i(S=>{const E=S.flowers.find(R=>R.id===a.id);if(E)for(const R of x){const G=E.layers.find(O=>O.id===R.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(O=>O.index!==R.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},C=f.some(S=>S.layer?.petalOverrides?.find(E=>E.index===S.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",x.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[x.length,"",C&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&m[0]===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>b({colorId:S.id})},S.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:S}),children:S},S))})]}),C&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:M,children:""})]})]})}function Im({project:u,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:x}){const f=r?.petalOverrides?.find(p=>p.index===x)??null,h=f?.colorId??r.colorId,v=f?.petalType??r.petalType,m=f!=null,d=p=>{i(N=>{const b=N.flowers.find(S=>S.id===a.id);if(!b)return;const M=b.layers.find(S=>S.id===r.id);if(!M)return;M.petalOverrides||(M.petalOverrides=[]);const C=M.petalOverrides.find(S=>S.index===x);if(C)p.colorId!==void 0&&(C.colorId=p.colorId),p.petalType!==void 0&&(C.petalType=p.petalType),p.innerColorId!==void 0&&(C.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(C.innerSizeReduction=p.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(M.petalOverrides=M.petalOverrides.filter(E=>E.index!==x),M.petalOverrides.length===0&&(M.petalOverrides=void 0));else{const S={index:x};p.colorId!==void 0&&(S.colorId=p.colorId),p.petalType!==void 0&&(S.petalType=p.petalType),p.innerColorId!==void 0&&(S.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(S.innerSizeReduction=p.innerSizeReduction),(S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0)&&M.petalOverrides.push(S)}},!0)},g=()=>{i(p=>{const N=p.flowers.find(M=>M.id===a.id);if(!N)return;const b=N.layers.find(M=>M.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(M=>M.index!==x),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",x+1,m&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:h,onChange:p=>{p===r.colorId?d({colorId:void 0}):d({colorId:p})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===r.petalType?d({petalType:void 0}):d({petalType:p})},children:p},p))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:p=>i(N=>{const b=N.flowers.find(C=>C.id===a.id);if(!b)return;const M=b.layers.find(C=>C.id===r.id);if(M)if(p.target.checked){const C=M._doublePetalCache;M.doublePetal=C??{innerSizeReduction:2},delete M._doublePetalCache}else M.doublePetal&&(M._doublePetalCache={...M.doublePetal}),delete M.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const p=r.doublePetal,N=f?.innerSizeReduction??p.innerSizeReduction,b=f?.innerColorId??p.innerColorId??h;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ie,{min:1,max:30,step:1,value:N,onChange:M=>{const C=je(M,1,30);C===p.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:C})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:M=>{const C=p.innerColorId??r.colorId;d(M===C?{innerColorId:void 0}:{innerColorId:M})}})]})]})})(),m&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Um({project:u,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const x=a,f=h=>{i(v=>{const m=(v.stencils??[]).find(d=>d.id===x.id);m&&Object.assign(m,h)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:x.variant,onChange:h=>f({variant:h.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(h=>s.jsx("option",{value:h,children:Qd[h]},h))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:x.pose,onChange:h=>f({pose:h.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(h=>s.jsx("option",{value:h,children:Pd[h]},h))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!x.locked,onChange:h=>f({locked:h.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(x.position.x/2.7),"mm, ",Math.round(x.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(x.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:u,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:x,onAddLeafToGroup:f,onRemoveLeafFromGroup:h}){const v=a,m=g=>{i(p=>{const N=(p.leaves??[]).find(b=>b.id===v.id);N&&g(N)},!0)},d=X0(u,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:g=>m(p=>{p.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(p=>{p.petalType=g}),children:g},g))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:v.colorId,onChange:g=>m(p=>{p.colorId=g})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??u.fabricSquareSize)*(v.scale??1)*10)/10,onChange:g=>m(p=>{const N=p.fabricSquareSize??u.fabricSquareSize;p.scale=je(Math.round(g/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:g=>m(p=>{p.scale=g})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:g=>m(p=>{p.widthScale=g})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ie,{value:Number(v.rotation).toFixed(1),onChange:g=>m(p=>{p.rotation=g})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:g=>m(p=>{if(g.target.checked){const N=p._doublePetalCache;p.doublePetal=N??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:g=>m(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=je(g,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:g=>m(p=>{p.doublePetal&&(g===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=g)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:g=>m(p=>{p.visible=g.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:g=>m(p=>{p.locked=g.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>h(v.id),children:""})]}):r.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(v.id,g.target.value)},children:[s.jsx("option",{value:"",children:"..."}),r.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>x(v.id),children:""})]})]})}function Xm({project:u,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const x=(u.leaves??[]).filter(f=>a.includes(f.id));return x.length===0?null:s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[x.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xn,{palette:u.palette,project:u,selectedColorId:"",onChange:f=>i(h=>{for(const v of a){const m=(h.leaves??[]).find(d=>d.id===v);m&&(m.colorId=f)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(f=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(h=>{for(const v of a){const m=(h.leaves??[]).find(d=>d.id===v);m&&(m.petalType=f)}},!0),children:f},f))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Km({project:u,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const x=a,f=(u.leaves??[]).filter(h=>x.leafIds.includes(h.id));return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:x.name,onChange:h=>i(v=>{const m=(v.leafGroups??[]).find(d=>d.id===x.id);m&&(m.name=h.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ie,{value:Number(x.rotation).toFixed(1),onChange:h=>i(v=>{const m=(v.leafGroups??[]).find(d=>d.id===x.id);m&&(m.rotation=h)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:x.linkedFlowerGroupId??"",onChange:h=>i(v=>{const m=(v.leafGroups??[]).find(d=>d.id===x.id);m&&(h.target.value?m.linkedFlowerGroupId=h.target.value:delete m.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(u.groups??[]).map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(h=>s.jsx("div",{children:h.name},h.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(x.id),children:""})]})}function Wm(u){const{project:i,selection:a,applyUpdate:r,selectedFlower:x,selectedFlowers:f,selectedLayer:h,selectedPetalIndex:v,selectedPetals:m}=u;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Kl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Kl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(g=>g.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&x&&s.jsx(km,{project:i,applyUpdate:r,selectedFlower:x}),a.kind==="flowers"&&f.length>0&&s.jsx(Rm,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(Om,{project:i,applyUpdate:r,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&x&&h&&s.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:x,selectedLayer:h}),a.kind==="petals"&&x&&m.length>0&&s.jsx(Ym,{project:i,applyUpdate:r,selectedFlower:x,selectedPetals:m}),a.kind==="petal"&&x&&h&&v!==null&&s.jsx(Im,{project:i,applyUpdate:r,selectedFlower:x,selectedLayer:h,selectedPetalIndex:v}),a.kind==="stencil"&&u.selectedStencil&&s.jsx(Um,{project:i,applyUpdate:r,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&s.jsx(Zm,{project:i,applyUpdate:r,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Xm,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves}),a.kind==="leafGroup"&&u.selectedLeafGroup&&s.jsx(Km,{project:i,applyUpdate:r,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!x?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Jm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Kl(u.baseDiameter,u.fabricSquareSize,i).diameter:lr(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Vm(u){const i={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Dh(u.flowerDiameter,u.baseDiameter,i):zh(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Qm({palette:u,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:x}){const f=m=>{a(d=>{const g={...d,...m};return m.placementMode&&m.placementMode!==d.placementMode&&(m.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Jm(g),g})},h=m=>{a(d=>{const g={...d,flowerDiameter:m};return g.fabricSquareSize=Vm(g),g})},v=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&v.push("");const m=Nh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>m&&v.push(`${m}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:x,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Kd.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:m}),children:m},m))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:m=>f({fabricSquareSize:m})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:m=>f({layerCount:m})})]})]}),i.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:m=>f({baseDiameter:m})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:m=>a(d=>({...d,petalCount:m}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:h})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((m,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:m},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(m=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||u[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(d=>({...d,colorId:m.id}))},m.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:m})),children:m},m))})]}),i.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:m=>f({sizeStepMm:m})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:x,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(u,i){const a=Ot,r=u();for(;;)try{if(-parseInt(a(366))/1*(parseInt(a(320))/2)+parseInt(a(322))/3*(parseInt(a(337))/4)+parseInt(a(362))/5*(parseInt(a(341))/6)+-parseInt(a(328))/7*(-parseInt(a(371))/8)+-parseInt(a(351))/9*(-parseInt(a(340))/10)+-parseInt(a(361))/11*(-parseInt(a(334))/12)+-parseInt(a(370))/13===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,985888);const Pm=(function(){const u=Ot,i={airsV:"pointerup",hhZQW:"WpDWt",EGMnB:u(348)};let a=!0;return function(r,x){const f=a?function(){const h=Ot,v={bUSsi:h(358),kaTdy:i.airsV};if(x)if(i[h(367)]===i.EGMnB){const m=v[h(343)][h(364)]("|");let d=0;for(;;){switch(m[d++]){case"0":_0x1e3625[h(323)]("pointermove",_0x2f54e3);continue;case"1":_0x35dfe3(!1);continue;case"2":_0x485255[h(323)](v[h(313)],_0xd15e67);continue;case"3":_0x4e4232[h(338)]=null;continue;case"4":_0x34107b[h(355)][h(354)].cursor="";continue;case"5":_0xb00db2.body[h(354)].userSelect="";continue}break}}else{const m=x.apply(r,arguments);return x=null,m}}:function(){};return a=!1,f}})(),Ms=Pm(void 0,function(){const u=Ot,i={GXjtc:"(((.+)+)+)+$"};return Ms.toString().search(i[u(379)])[u(346)]().constructor(Ms)[u(321)]("(((.+)+)+)+$")});Ms();function Ot(u,i){u=u-308;const a=H0();let r=a[u];if(Ot.pGYaRN===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ot.qrvvqf=x,Ot.bTgpQC={},Ot.pGYaRN=!0}const f=a[0],h=u+f,v=Ot.bTgpQC[h];if(v)r=v;else{const m=function(d){this.gMtGOw=d,this.HVhXto=[1,0,0],this.SVIGDy=function(){return"newState"},this.zOgYKo="\\w+ *\\(\\) *{\\w+ *",this.RSWBvI=`['|"].+['|"];? *}`};m.prototype.BsTuIL=function(){const d=new RegExp(this.zOgYKo+this.RSWBvI),g=d.test(this.SVIGDy.toString())?--this.HVhXto[1]:--this.HVhXto[0];return this.XzBCSP(g)},m.prototype.XzBCSP=function(d){return~d?this.ItKSFD(this.gMtGOw):d},m.prototype.ItKSFD=function(d){for(let g=0,p=this.HVhXto.length;g<p;g++)this.HVhXto.push(Math.round(Math.random())),p=this.HVhXto.length;return d(this.HVhXto[0])},new m(Ot).BsTuIL(),r=Ot.qrvvqf(r),Ot.bTgpQC[h]=r}return r}const $d="tsumami-panel-widths",e1={left:25,right:25},zs=15,Ds=15,ir=30;function Fm(){const u=Ot,i={ikwtO:function(a,r){return a===r},gUhte:u(350),sWPkb:function(a,r){return a===r},Fkdzs:function(a,r){return a>=r},mAETL:function(a,r){return a-r}};try{const a=localStorage[u(311)]($d);if(a){const r=JSON.parse(a);if(i[u(356)](typeof r[u(380)],i[u(365)])&&i.sWPkb(typeof r.right,u(350))&&i.Fkdzs(r[u(380)],zs)&&r[u(326)]>=Ds&&i[u(308)](100,r.left)-r[u(326)]>=ir)return r}}catch{}return e1}function Yd(u,i){const a=Ot,r={QVYfd:function(v,m){return v<m},fQiLE:function(v,m){return v/m},CfbQI:function(v,m){return v*m}};let x=Math[a(363)](zs,u),f=Math[a(363)](Ds,i);const h=100-x-f;if(r.QVYfd(h,ir)){const v=ir-h;x-=r.fQiLE(v,2),f-=v/2,x=Math[a(363)](zs,x),f=Math.max(Ds,f)}return{left:Math.round(r.CfbQI(x,100))/100,right:Math[a(317)](r[a(382)](f,100))/100}}function H0(){const u=["Cg9PBNrLCNvW","D1f3qvK","r1HQDgm","BgvMDa","CwncuKq","q2zIuuK","BuffveW","B0j3uLy","DgXisMq","z2v0sxrLBq","qvn6sfC","A2fuzhK","sujqvey","Cg9PBNrLCM1VDMu","y2HHBMDL","CM91BMq","sNrms0K","shz4z0e","mtC4ndr1tvbfuKC","C2vHCMnO","nJnQD1zisgi","CMvTB3zLrxzLBNrmAxn0zw5LCG","ywrKrxzLBNrmAxn0zw5LCG","BM9Uzq","CMLNAhq","Bwf0y2HLCW","odaZmdG3nNbgwKfisW","qLfQv0i","ELzzCwy","z2v0qM91BMrPBMDdBgLLBNrszwn0","seXRBMO","DxnLCLnLBgvJDa","mtyZodeYmgLAA0Tsza","kg1PBI13Awr0AdOGnZy4ChGP","CNbsrM8","mJC3nda0D01dB052","y3vYCMvUDa","veDUBfy","mtbeEePTuxi","mtqXodeXofrgD3rmta","EKnmtxC","yLvtC2K","y0DQwei","y2XPzw50wa","Dg9tDhjPBMC","y3vYC29Y","ChrpyMu","D2LKDgG","BNvTyMvY","mte5mJa0otfTshjPBKy","u2fkqNa","v0H4wNa","C3r5Bgu","yM9KEq","AwT3De8","r0TRwMi","mhWYFdn8mxW0Fdu","r1nZtgW","wMjeCMK","mtmYwNryuePI","mtbqC2rsyNu","Bwf4","C3bSAxq","z1vODgu","mJLez3LvwNy","AgHAuvC","BLjgrxm","kcGOlISPkYKRksSK","nJiZmJyZotrnCxzou2e","oe13vuXTrG","C3rHCNrxAwr0Ahm","BwLU","y29UC3rYDwn0B3i","vffMqKi","seHQy04"];return H0=function(){return u},H0()}function $m(){const u=Ot,i={EatFp:u(369),HQYTW:function(M,C){return M===C},byjTm:u(376),SaJBp:u(335),DSaYE:u(316),YCuQf:function(M,C){return M-C},ASzHW:function(M,C){return M+C},nQIZJ:function(M,C){return M-C},ZbDri:function(M,C){return M-C},WHxZp:function(M,C,S){return M(C,S)},jXayO:"0|1|4|3|2|5",XuXyO:"left",zVYqf:function(M,C){return M-C},ksOlF:function(M,C){return M===C},GiMlZ:"0|3|4|2|1|5",tlHJd:"pointermove",JtLKI:function(M,C){return M(C)},cGjXB:"pointerup",nRFEs:u(342),ctcji:u(325),GKkZb:"BQUKf",BQjWB:"number",LSRnz:function(M,C){return M>=C},jwgCI:function(M,C){return M-C},TYwhw:u(314),AWDXt:function(M,C){return M(C)},TGnlV:function(M,C){return M(C)},cufMw:function(M,C){return M(C)}},[a,r]=$.useState(Fm),x=$.useRef(null),f=$.useRef(null),[h,v]=i[u(318)]($.useState,!1),[m,d]=i.AWDXt($.useState,()=>typeof window<"u"?window.matchMedia("(min-width: 768px)")[u(327)]:!0);i[u(353)]($.useEffect,()=>{const M=u;if(i.HQYTW("IagND",i.byjTm))return _0x5de7a0.toString()[M(321)](rJznsd.EatFp).toString()[M(374)](_0x10ac51)[M(321)](rJznsd.EatFp);{const C=window.matchMedia(i[M(352)]),S=E=>d(E[M(327)]);return C[M(324)](i.DSaYE,S),()=>C.removeEventListener(M(316),S)}},[]),$.useEffect(()=>{localStorage.setItem($d,JSON.stringify(a))},[a]);const g=i[u(339)]($.useRef,a);$.useEffect(()=>{const M=u;g[M(338)]=a},[a]);const p=i[u(353)]($.useCallback,(M,C)=>{const S=u,E={qcBRD:i.jXayO,DRjUG:function(R,G){return i.HQYTW(R,G)},TQfBB:i.XuXyO,HvxgA:function(R,G){return R-G},bAuMG:function(R,G,O){return R(G,O)},KsJNM:function(R,G){return i[Ot(330)](R,G)},HLknj:function(R,G){return i.ksOlF(R,G)},LeqfY:i.GiMlZ,Ulwqh:i.tlHJd,MqgHO:function(R,G){return i.JtLKI(R,G)},GSsLl:i[S(344)]};if(i[S(368)]!=="zCLMw")_0x4f10be.current=_0xa0df66;else{C.preventDefault();const R=x[S(338)];if(!R)return;f.current={side:M,startX:C.clientX,startWidths:{...g[S(338)]}},i[S(318)](v,!0),document[S(355)][S(354)].cursor="col-resize",document[S(355)].style[S(333)]=i.ctcji;const G=I=>{const Q=S,q=f.current;if(!q)return;const U=R.getBoundingClientRect()[Q(349)];if(U===0)return;const P=i.YCuQf(I.clientX,q.startX),W=P/U*100;if(q.side===Q(380)){const X=i[Q(312)](q[Q(372)][Q(380)],W),_=i.nQIZJ(i[Q(360)](100,q[Q(372)][Q(326)]),ir);r(Yd(Math.min(X,_),q[Q(372)].right))}else{const X=q.startWidths[Q(326)]-W,_=100-q[Q(372)].left-ir;r(i[Q(353)](Yd,q.startWidths[Q(380)],Math.min(X,_)))}},O=()=>{const I=S,Q=E[I(381)][I(364)]("|");let q=0;for(;;){switch(Q[q++]){case"0":f.current=null;continue;case"1":v(!1);continue;case"2":window[I(323)](I(315),G);continue;case"3":document[I(355)][I(354)].userSelect="";continue;case"4":document[I(355)][I(354)].cursor="";continue;case"5":window.removeEventListener(I(377),O);continue}break}};window.addEventListener(i[S(310)],G),window.addEventListener(i[S(344)],O),N[S(338)]=()=>{const I=S;if(E[I(375)],E[I(332)]("wnyRa",I(309))){const Q=_0x42e430[I(338)];if(!Q)return;const q=_0x203360[I(331)]()[I(349)];if(cZnOwM.kzCGj(q,0))return;const U=_0xa50792[I(345)]-Q.startX,P=U/q*100;if(Q.side===cZnOwM.Uwvif){const W=Q[I(372)][I(380)]+P,X=cZnOwM.hyAOO(100,Q.startWidths[I(326)])-_0x57bdb5;_0x4e9977(cZnOwM.yPuWx(_0x1e6a0e,_0x24f152[I(373)](W,X),Q.startWidths.right))}else{const W=cZnOwM[I(378)](Q[I(372)].right,P),X=cZnOwM.pRZQz(cZnOwM.hyAOO(100,Q[I(372)].left),_0x5a0048);_0x2e62f3(_0x33b08a(Q[I(372)][I(380)],_0x4b0d42.min(W,X)))}}else{const Q=E.LeqfY.split("|");let q=0;for(;;){switch(Q[q++]){case"0":window.removeEventListener(E.Ulwqh,G);continue;case"1":document.body.style[I(347)]="";continue;case"2":E.MqgHO(v,!1);continue;case"3":window[I(323)](E[I(359)],O);continue;case"4":f.current=null;continue;case"5":document.body[I(354)].userSelect="";continue}break}}}}},[]),N=i.cufMw($.useRef,null);i[u(353)]($.useEffect,()=>{const M=u;if(i.TYwhw===i.TYwhw)return()=>{const C=Ot;C(336)!==i[C(357)]?N.current?.():_0x2bc921.current?.()};{const C=_0x2ff0fb.parse(_0xb799f9);if(typeof C[M(380)]===M(350)&&typeof C[M(326)]===rJznsd[M(329)]&&C[M(380)]>=_0x3d0896&&C[M(326)]>=_0x330f44&&rJznsd.LSRnz(rJznsd[M(360)](rJznsd.jwgCI(100,C.left),C.right),_0x35dda3))return C}},[]);const b=i.WHxZp($.useCallback,()=>{i.JtLKI(r,e1)},[]);return{widths:a,containerRef:x,onDividerPointerDown:p,onDividerDoubleClick:b,isDragging:h,isDesktop:m}}function Id({side:u,onPointerDown:i,onDoubleClick:a,isDragging:r}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:x=>i(u,x),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(x=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},x))})})}(function(u,i){const a=Ht,r=u();for(;;)try{if(-parseInt(a(343))/1+-parseInt(a(287))/2+-parseInt(a(313))/3+-parseInt(a(349))/4+-parseInt(a(363))/5*(parseInt(a(312))/6)+-parseInt(a(257))/7*(parseInt(a(267))/8)+parseInt(a(277))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,197401);const eb=(function(){let u=!0;return function(i,a){const r=u?function(){const x=Ht;if(a){const f=a[x(300)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Ns=eb(void 0,function(){const u=Ht;return Ns[u(295)]()[u(283)]("(((.+)+)+)+$").toString().constructor(Ns)[u(283)]("(((.+)+)+)+$")});function Ht(u,i){u=u-234;const a=Y0();let r=a[u];if(Ht.HxIkbT===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ht.bymwkB=x,Ht.vKkZLI={},Ht.HxIkbT=!0}const f=a[0],h=u+f,v=Ht.vKkZLI[h];if(v)r=v;else{const m=function(d){this.EndNSD=d,this.MWLgHd=[1,0,0],this.IByVyG=function(){return"newState"},this.GgiYtd="\\w+ *\\(\\) *{\\w+ *",this.rEcDok=`['|"].+['|"];? *}`};m.prototype.RCyPiJ=function(){const d=new RegExp(this.GgiYtd+this.rEcDok),g=d.test(this.IByVyG.toString())?--this.MWLgHd[1]:--this.MWLgHd[0];return this.uCmVaa(g)},m.prototype.uCmVaa=function(d){return~d?this.VuCGQu(this.EndNSD):d},m.prototype.VuCGQu=function(d){for(let g=0,p=this.MWLgHd.length;g<p;g++)this.MWLgHd.push(Math.round(Math.random())),p=this.MWLgHd.length;return d(this.MWLgHd[0])},new m(Ht).RCyPiJ(),r=Ht.bymwkB(r),Ht.vKkZLI[h]=r}return r}Ns();function Y0(){const u=["AunevLG","C2nHBgu","vhbmEva","s1rby2C","B2zMC2v0qw5NBgu","C29Tzq","DML2veW","Bgf5zxjjza","rxrqtei","C2XPy2u","vwfMtvy","C29YDa","qM9msfO","s01KzhC","s0jqC2y","A2LUza","zgLHBwv0zxi","z3jVDxa","zMLSDgvY","44kW44oR44o844oxia","DfPzv1y","B1rsChq","Bgf5zxjZ","vuHLyvu","qu1ZrLi","tNzMwhO","mta3ntq5neXvsgHJra","DNnwr0K","s1z2CKu","rMr4DM4","wLnlBhe","zMXVD2vYswrZ","sw5urMS","tKToCLG","Cgv0ywW","AhrYD1G","ogDiA2XxzW","z3jVDxbZ","BgvHDMvZ","BgvHzKDYB3vWCW","ueTruxy","zMXVD2vYswq","B2f2tva","qvHor1u","C3rLBMnPBeLK","z3jVDxbjza","mtmXmtu3otbzrNzPCg8","zMLUza","zM9YrwfJAa","AMjXrNq","wvbuyxa","yK13rw8","C2vHCMnO","wfLfqwG","Aw5KzxG","ANrqs1C","nduWndq2zxzttujx","wvbNqLa","qNLfzLu","CMfKAxvZ","CwnTtLy","Cgv0ywXdB3vUDa","CM91BMq","yKPSvKG","Dg9tDhjPBMC","zMXVD2vY","zMXVD2vYrgLHBwv0zxi","CgXHy2vTzw50tw9Kzq","yu1WuM0","yxbWBhK","rLnjs1C","ueHIC3q","CMv2zxjZzq","Aw5JBhvKzxm","AMrsCxu","Bw9jyxu","q1jrCxO","Cgv0ywXZ","yNfTu0C","CLrlyNq","C3rLBMnPBhm","mta5nJHuqwf6zgW","ndaXnta4wNnUv2De","r0LRr24","yMfZzurPyw1LDgvY","qwDYAgO","CfDWC1K","zMfICMLJu3f1yxjLu2L6zq","zLbkAwW","Bgf5zxi","z1zNrgG","zMXVD2vYCW","D3fOwLC","zhnpAKm","BgvHzG","z0DTqLq","BwfW","vfD4u0S","uLfuDuO","C2zyChy","CvHgAKS","ChvZAa","r1DfDeW","B0rprwG","CNzmvK8","zK1Trvi","CeLUuKW","BKn1Evm","tufSz1C","Bwf0y2G","zxzLCNK","rLvPDMe","mZiXnJe5AKvWD0r5","DLzIwvq","C2HIDwi","Bwf4","BgvHzKLKCW","r21druq","mtm2nJaWnfLozwfMDG","wfnOD3a","zeXJA0W","Cgv0ywXuExbL","y0DvCM4","zerrAgW","BgvUz3rO","qxHhu20","ELbrBxa","B3jKzxi","EhrluLK","BgvHzKDYB3vWswq","yxfeywO","C1v0tNi","mJmWCuH5EMT5"];return Y0=function(){return u},Y0()}function tb({project:u,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:x,setExpandedGroups:f,zoom:h,pan:v,stageSize:m,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:p}){const N=Ht,b={sfXpv:function(_,w){return _*w},bqmSG:function(_,w){return _===w},txSXS:function(_,w){return _/w},Jarla:function(_,w){return _-w},zvSUS:function(_,w){return _>w},Fdxvn:N(316),iCDVX:function(_,w){return _!==w},jtPKW:function(_,w){return _(w)},moIau:"project",NKNrX:N(351),jbqFt:"flower",aMpRm:function(_,w,T,D){return _(w,T,D)},pInRL:function(_,w){return _===w},oTRpt:"uniform",KTAcg:function(_,w){return _<w},oavMP:function(_,w){return _-w},Fshfi:function(_,w){return _>=w},KBPsf:function(_,w){return _>w},shbub:"UXqxy",UHeaU:function(_,w,T,D){return _(w,T,D)},aqDaj:"",VGSJN:"Zbtky",TLJnu:N(320),dDQhl:function(_,w){return _(w)},kpdWq:function(_,w){return _-w},MAlgW:function(_,w,T){return _(w,T)},EWNtg:function(_,w){return _<=w},bJlVH:function(_,w){return _===w},qXFjK:function(_,w){return _!==w},dsOjC:"sbdMG",qcmNV:N(271),ByEfU:function(_,w){return _>w},vivTL:N(336),tsfOY:function(_,w){return _===w},mfVEL:N(263),AXNGU:function(_,w){return _===w},CRQqz:function(_,w,T,D,j){return _(w,T,D,j)},YDrnF:"XHXCk",pqbcm:function(_,w){return _===w},YPTap:N(325),ZSKlq:function(_,w){return _(w)},QmJQj:"leafGroup",fPJil:N(269),XYEAh:"flowers",AdEwJ:function(_,w){return _(w)},rTKbt:function(_,w){return _(w)},GmCED:function(_,w){return _===w},kYLTj:function(_,w,T){return _(w,T)},RQTuJ:function(_,w){return _(w)},YChdF:"petal",HWmQU:"grp",tfxlV:function(_,w,T){return _(w,T)},YPgBP:N(248),NvfXz:N(356),htrwX:N(282),TWxSK:function(_,w){return _(w)},twwhL:function(_,w){return _(w)},vsVGI:function(_,w){return _(w)},AMsFR:function(_,w){return _+w},bJjqY:function(_,w){return _+w},XShwp:function(_,w){return _/w},BlJHS:"back",jdRqu:function(_,w){return _-w},BviNj:"stencil",elFMK:function(_,w){return _(w)},xtKRY:function(_,w){return _===w},kXWUf:N(326),tivxD:N(344),pWpsY:function(_,w){return _(w)},cGUrn:function(_,w){return _!==w},OyojQ:N(333),xDAHR:"RJxob",sUtNr:function(_,w){return _===w},VQXBi:function(_,w){return _===w},oDOEh:function(_,w){return _(w)},BoLHZ:N(338),zPQmp:"wQXpx",GbPFt:"rtxxV",ErYiT:"petals",cGAHq:function(_,w,T){return _(w,T)},mJkNH:function(_,w,T){return _(w,T)}},M=_=>{const w=N,T=[..._[w(253)]][w(242)]((k,z)=>k.order-z[w(358)]),D=T[0];if(!D)return 28;const j=_.fabricSquareSize??u.fabricSquareSize,{length:L}=It(j),Y=b[w(330)](L,D.scale??1);let Z;if(b.bqmSG(_.placementMode,""))Z=Y/3;else{const z=b.txSXS(b[w(330)](70,Math.PI),180),B=T.length+1,H=b.Jarla(B,1),J=b.zvSUS(B,1)?H/(B-1)*z:0;Z=b[w(330)](b[w(330)](Y,b.txSXS(30,100)),Math.cos(J))}return Math.round(b[w(330)]((D[w(290)]??28)+Z,10))/10},C=_=>{const w=N,T={PHbst:function(D,j,L,Y){return D(j,L,Y)},SpxAs:function(D,j){return D+j},GIkGn:b[w(260)]};if(b[w(364)]("gVgDh",w(321))){const D=_0x9ed6e8[_0x500a6b-1],j=_0x4ca3f3[_0x5f59ce];j.offsetAngle=T.PHbst(_0x2cdf93,D[w(292)],D.offsetAngle,j.petalCount)}else i(D=>{const j=w;if(D.flowers=(D.flowers||[]).filter(L=>L.id!==_),D[j(268)])if(j(316)!==T[j(314)]){const L=((_0xd74840.scale??1)-(_0x27a602[j(365)]??1))/_0x248fa4;_0x330b9e=T[j(302)](_0x29b3b9,T.SpxAs(_0x2f125e[j(365)]??1,L),.3,3)}else{for(const L of D.groups)L[j(262)]=L.flowerIds[j(249)](Y=>Y!==_);D.groups=D[j(268)][j(249)](L=>L[j(262)].length>0)}},!0),b.jtPKW(r,{kind:b.moIau}),x(D=>{const j={...D||{}};return delete j[_],j})},S=(_,w)=>{const T=N,D=u.flowers.find(j=>j.id===_);if(D&&(D[T(253)]||[]).length<=1){C(_);return}i(j=>{const L=T,Y={FUiva:function(Z,k,z){return Z(k,z)},ZJkEA:"project"};if(L(323)===b[L(264)]){const Z=_0x5928aa[L(347)];Y[L(342)](_0x1f8f62,k=>{const z=L;if(k.leaves=(k.leaves??[]).filter(B=>!Z[z(304)](B.id)),k.leafGroups){for(const B of k.leafGroups)B[z(347)]=B[z(347)][z(249)](H=>!Z[z(304)](H));k[z(270)]=k.leafGroups[z(249)](B=>B[z(347)].length>0)}},!0),_0x14ac42({kind:Y.ZJkEA});return}else{const Z=(j.flowers||[])[L(278)](k=>k.id===_);if(!Z)return;Z[L(253)]=(Z.layers||[])[L(249)](k=>k.id!==w),Z[L(253)][L(240)]().sort((k,z)=>k[L(358)]-z.order).forEach((k,z)=>k.order=z+1)}},!0),r({kind:b[T(280)],flowerId:_})},E=_=>{const w=N,T=u[w(322)].find(H=>H.id===_);if(!T)return;const D=[...T[w(253)]][w(242)]((H,J)=>H.order-J[w(358)]),j=D[0],L=je(j?.petalCount??6,5,24),Y=D[w(327)](H=>H.scale??1),Z=b.KTAcg(Y[w(355)],2)||Y[w(341)](H=>Math.abs(H-Y[0])<.001);let k=j?.scale??1;if(!Z&&b.Fshfi(D.length,2)){const H=D[b.Jarla(D.length,1)],J=(H.order??1)-(j.order??1);if(b[w(245)](J,0))if(b.iCDVX(b[w(345)],"UXqxy")){const ae={layerId:_0x13e7b7.layerId,index:_0x3fe54f[w(285)]},oe={layerId:_0x1cdc0c,index:_0x248d61};if(ae.layerId+":"+ae.index===_0x4a321e)return;_0x1ad66e({kind:w(308),flowerId:_0x468b72,petals:[ae,oe]})}else{const ae=b.txSXS((j[w(365)]??1)-(H[w(365)]??1),J);k=b[w(254)](je,(j[w(365)]??1)+ae,.3,3)}}const z=b[w(286)](M,T),B={id:Yt("lay"),name:"Outer+",order:1,petalType:j?.[w(352)]??b[w(361)],petalCount:L,radius:z,scale:k,widthScale:b[w(286)](ri,L),offsetAngle:j?.offsetAngle??0,colorId:j?.colorId??u.palette?.[0]?.id??"col_green",visible:!0,locked:!1};if(j)if(b.VGSJN!=="Zbtky"){for(const H of _0x55b9ca.groups)H[w(262)]=H[w(262)].filter(J=>!_0x24c8ac.includes(J));_0x322ecd.groups=_0x2c2651[w(268)][w(249)](H=>H[w(262)].length>0)}else B[w(235)]=Fn(j.petalCount,j[w(235)]??0,L);i(H=>{const J=w,ae=H[J(322)].find(xe=>xe.id===_);if(!ae)return;ae[J(253)][J(279)](xe=>xe[J(358)]+=1),ae[J(253)].unshift(B);const oe=Math[J(293)](b.aMpRm(tr,B[J(290)],B[J(365)],ae[J(318)]??H.fabricSquareSize)),de=ae.fabricSquareSize??H.fabricSquareSize,_e=b.pInRL(ae[J(298)],"")?lr(de,ae[J(253)][J(355)],b.oTRpt,0):b[J(299)](Kl,ae[J(315)]??H[J(315)],de,{layerCount:ae.layers[J(355)]}).diameter;ae[J(297)]=Math[J(346)](ae[J(297)]||_e,oe);const he=[...ae.layers][J(242)]((xe,Be)=>xe[J(358)]-Be[J(358)]),Se=he[J(303)]();for(let xe=1;b[J(234)](xe,Se[J(355)]);xe++){const Be=Se[b[J(273)](xe,1)],$e=Se[xe];$e.offsetAngle=Fn(Be[J(292)],Be.offsetAngle,$e[J(292)])}},!0),r({kind:b.TLJnu,flowerId:_,layerId:B.id}),b.dDQhl(x,H=>({...H,[_]:!0}))},R=_=>{const w=N,T={TpLyP:function(Y,Z){return b.KBPsf(Y,Z)},QiwPY:function(Y,Z,k,z){return b.UHeaU(Y,Z,k,z)},wVmxv:function(Y,Z){return b.kpdWq(Y,Z)},unWwO:function(Y,Z,k,z){return Y(Z,k,z)},ufDna:function(Y,Z,k){return b[Ht(339)](Y,Z,k)},zlHTI:function(Y,Z){return b[Ht(354)](Y,Z)},FSIKW:b[w(306)]},D=u[w(322)].find(Y=>Y.id===_);if(!D||!D[w(253)]||D[w(253)][w(355)]===0)return;if(b.EWNtg(D[w(253)].length,1)){C(_);return}const j=[...D.layers].sort((Y,Z)=>Y[w(358)]-Z[w(358)]),L=j[0];if(L){if(i(Y=>{const Z=w,k=Y[Z(322)][Z(278)](H=>H.id===_);if(!k)return;k.layers=k.layers.filter(H=>H.id!==L.id),k.layers.slice().sort((H,J)=>H[Z(358)]-J[Z(358)])[Z(279)]((H,J)=>H.order=J+1);const z=[...k.layers].sort((H,J)=>H.order-J[Z(358)]),B=k[Z(318)]??Y.fabricSquareSize;if(T[Z(366)](z[Z(355)],0)){fs(z,B);for(const ae of z){const oe=k[Z(253)][Z(278)](de=>de.id===ae.id);oe&&(oe[Z(290)]=ae[Z(290)])}const H=z[0];k[Z(297)]=Math[Z(293)](T.QiwPY(tr,H.radius,H.scale??1,B));const J=[...z].reverse();for(let ae=1;ae<J[Z(355)];ae++){const oe=J[T.wVmxv(ae,1)],de=J[ae];de.offsetAngle=T.unWwO(Fn,oe[Z(292)],oe[Z(235)],de.petalCount)}}},!0),b[w(294)](a.kind,"layer")&&a.layerId===L.id)r({kind:"flower",flowerId:_});else if(a.kind==="petal"&&b.bqmSG(a[w(238)],L.id))if(b[w(364)]("jHaDD",w(251)))b.dDQhl(r,{kind:"flower",flowerId:_});else{const Y=_0x34ab49.flowerIds;T.ufDna(_0x554d0a,Z=>{const k=w;if(Z.flowers=Z.flowers[k(249)](z=>!Y[k(304)](z.id)),Z.groups){for(const z of Z.groups)z[k(262)]=z[k(262)].filter(B=>!Y.includes(B));Z[k(268)]=Z[k(268)][k(249)](z=>z[k(262)][k(355)]>0)}},!0),T.zlHTI(_0x117f8c,{kind:T[w(301)]});return}}},G=()=>{const _=N,w={bpoLu:function(T,D){return T(D)},KVvrE:_(239),rvLVO:"akPXG"};if(!b.pqbcm(a.kind,"project")){if(a.kind===b[_(281)]){b[_(261)](g,a.leafId);return}if(b.pqbcm(a.kind,b.QmJQj)){p(a.leafGroupId);return}if(a.kind===b[_(319)]){const T=a[_(347)];b[_(339)](i,D=>{const j=_,L={VcGbB:function(Y,Z){return b.jtPKW(Y,Z)},KMddw:"flowers"};if(b[j(331)](b.dsOjC,b[j(324)])){w.bpoLu(_0x22e389,_0x58ca45[j(360)]);return}else if(D[j(269)]=(D.leaves??[]).filter(Y=>!T.includes(Y.id)),D[j(270)])if(b[j(291)]==="igoRo"){const Y=(_0x4298a6.groups??[])[j(278)](k=>k.id===_0x1efe0a.groupId),Z=Y?Y[j(262)]:[];if(Z.includes(_0x98be90))return;L.VcGbB(_0xc4511e,{kind:L[j(244)],flowerIds:[...Z,_0x2ef818]})}else{for(const Y of D[j(270)])Y.leafIds=Y.leafIds[j(249)](Z=>!T.includes(Z));D[j(270)]=D[j(270)].filter(Y=>Y[j(347)][j(355)]>0)}},!0),r({kind:b.moIau});return}if(a.kind===b.XYEAh){const T=a.flowerIds;b.MAlgW(i,D=>{const j=_;if(w[j(259)]===w[j(335)])_0x45fa59({kind:"flower",flowerId:_0x5d74d4});else if(D[j(322)]=D[j(322)].filter(L=>!T.includes(L.id)),D.groups){for(const L of D[j(268)])L.flowerIds=L.flowerIds[j(249)](Y=>!T.includes(Y));D.groups=D[j(268)][j(249)](L=>L[j(262)].length>0)}},!0),b.AdEwJ(r,{kind:b.moIau});return}if(b.tsfOY(a[_(246)],"group")){i(T=>{const D=_;T[D(268)]&&(T.groups=T[D(268)][D(249)](j=>j.id!==a.groupId))},!0),b[_(310)](r,{kind:b[_(306)]});return}if(b[_(309)](a[_(246)],"stencil")){i(T=>{const D=_;T[D(311)]=(T.stencils??[]).filter(j=>j.id!==a[D(275)])},!0),r({kind:b.moIau});return}if(b[_(274)](a.kind,"petals")){b.rTKbt(r,{kind:b[_(280)],flowerId:a[_(272)]});return}if(b[_(348)](a.kind,_(296))){b.kYLTj(i,T=>{const D=_;if(T[D(322)]=T.flowers.filter(j=>j.id!==a.flowerId),T.groups){for(const j of T[D(268)])j.flowerIds=j.flowerIds.filter(L=>L!==a[D(272)]);T[D(268)]=T.groups.filter(j=>j[D(262)][D(355)]>0)}},!0),b.RQTuJ(r,{kind:"project"});return}if(a[_(246)]===_(320)||a.kind===b.YChdF){const T=u.flowers.find(j=>j.id===a[_(272)]),D=T?[...T[_(253)]][_(242)]((j,L)=>j[_(358)]-L.order)[0]?.id===a[_(238)]:!1;i(j=>{const L=_,Y=j[L(322)][L(278)](Z=>Z.id===a.flowerId);if(Y&&(Y.layers=Y.layers[L(249)](Z=>Z.id!==a[L(238)]),Y[L(253)].slice()[L(242)]((Z,k)=>Z.order-k[L(358)])[L(279)]((Z,k)=>Z.order=k+1),b[L(289)](Y.layers[L(355)],0))){const Z=[...Y.layers][L(242)]((B,H)=>B.order-H.order),k=Y.fabricSquareSize??j.fabricSquareSize;b[L(339)](fs,Z,k);for(const B of Z){const H=Y.layers.find(J=>J.id===B.id);H&&(H.radius=B[L(290)])}if(D){if(b[L(237)]===L(336)){const B=Z[0];Y[L(297)]=Math[L(293)](tr(B[L(290)],B[L(365)]??1,k))}else if(_0x3a9c1c.flowers=(_0x43f34d.flowers||[])[L(249)](B=>B.id!==_0x1f2090),_0x1a3b61[L(268)]){for(const B of _0x5b37f0[L(268)])B[L(262)]=B.flowerIds.filter(H=>H!==_0x3a6f10);_0xdf29b1[L(268)]=_0x2a7f5e.groups[L(249)](B=>B.flowerIds[L(355)]>0)}}else if(b.tsfOY(b.mfVEL,L(263))){const B=b[L(274)](Y.placementMode,"")?b[L(307)](lr,k,Y.layers[L(355)],b[L(252)],0):Kl(Y[L(315)]??j.baseDiameter,k,{layerCount:Y[L(253)].length})[L(247)];K0(Z,k,Y.flowerDiameter||B);for(const H of Z)if(b[L(294)](b.YDrnF,b.YDrnF)){const J=Y[L(253)].find(ae=>ae.id===H.id);J&&(J[L(290)]=H[L(290)],J[L(365)]=H[L(365)])}else{for(const J of _0x18e527.leafGroups)J.leafIds=J[L(347)].filter(ae=>!_0x3f1011.includes(ae));_0x2c7486[L(270)]=_0x727ef2[L(270)][L(249)](J=>J[L(347)].length>0)}}else{const B=_0x2716cf.layers.find(H=>H.id===_0x1ae6f6.id);B&&(B.radius=_0x130ff3.radius,B.scale=_0x43a43f.scale)}const z=[...Z].reverse();for(let B=1;B<z[L(355)];B++){const H=z[b[L(273)](B,1)],J=z[B];J.offsetAngle=Fn(H.petalCount,H[L(235)],J.petalCount)}}},!0),r({kind:_(296),flowerId:a.flowerId})}}},O=b.cGAHq($.useCallback,_=>{const w={BqCln:function(D,j,L){return D(j,L)}},T=Yt(b.HWmQU);b.tfxlV(i,D=>{const j=Ht;D.groups||(D.groups=[]);const L=D[j(268)][j(327)](Z=>{const k=j,z=Z.name[k(340)](/^ (\d+)$/);return z?w.BqCln(parseInt,z[1],10):0}),Y=L[j(355)]>0?Math.max(...L)+1:1;D.groups[j(332)]({id:T,name:j(250)+Y,flowerIds:[..._]})},!0),r({kind:b.YPgBP,groupId:T}),f(D=>({...D,[T]:!0}))},[i,r,f]),I=$.useCallback(_=>{const w=N;i(T=>{const D=Ht;T[D(268)]&&(T.groups=T.groups[D(249)](j=>j.id!==_))},!0),r({kind:b[w(306)]})},[i,r]),Q=b.mJkNH($.useCallback,(_,w)=>{const T=N,D={vzLeQ:function(j,L){return b[Ht(329)](j,L)}};b[T(256)]===b[T(266)]?(_0x3f2d9e(j=>{const L=T,Y=(j[L(268)]??[]).find(Z=>Z.id===_0x54b98d);if(Y)for(const Z of _0x3dbbf8)Y[L(262)].includes(Z)||Y[L(262)].push(Z)},!0),D.vzLeQ(_0x5c2518,{kind:"group",groupId:_0x335f52})):(i(j=>{const L=T,Y=(j[L(268)]??[])[L(278)](Z=>Z.id===_);if(Y)for(const Z of w)Y[L(262)][L(304)](Z)||Y.flowerIds[L(332)](Z)},!0),b[T(328)](r,{kind:b[T(288)],groupId:_}))},[i,r]),q=b.MAlgW($.useCallback,(_,w)=>{const T=N,D=_[0],j=_[T(240)](1);b[T(339)](i,L=>{const Y=T;if(!L[Y(268)])return;const Z=L.groups.find(k=>k.id===D);if(Z){for(const k of j){const z=L[Y(268)][Y(278)](B=>B.id===k);if(z)for(const B of z.flowerIds)Z.flowerIds.includes(B)||Z.flowerIds[Y(332)](B)}for(const k of w)Z[Y(262)][Y(304)](k)||Z.flowerIds[Y(332)](k);L.groups=L[Y(268)].filter(k=>!j.includes(k.id))}},!0),b.twwhL(r,{kind:T(248),groupId:D}),b[T(258)](f,L=>({...L,[D]:!0}))},[i,r,f]),U=(_,w)=>{const T=N,D=m.w/m.h,j=520/h,L=j*D,Y=b.txSXS(-v.x,h),Z=-v.y/h,k=b[T(255)](Y,L/2),z=b.bJjqY(Z,b[T(350)](j,2)),B=w===b.BlJHS?"back":"side",H=Vd[_][B].height*an,J=je(k,0,d),ae=b.aMpRm(je,b[T(305)](z,H/2),0,d),oe={id:b[T(258)](Yt,"stl"),variant:_,pose:w,position:{x:J,y:ae}};i(de=>{const _e=T;de.stencils||(de[_e(311)]=[]),de.stencils[_e(332)](oe)},!0),r({kind:b.BviNj,stencilId:oe.id})},P=_=>{const w=N;if(b[w(364)](w(241),w(241))){const T=(_0x3b091f[w(322)]||[])[w(278)](D=>D.id===_0xe243dc);if(!T)return;T[w(253)]=(T.layers||[]).filter(D=>D.id!==_0x55c49d),T.layers.slice()[w(242)]((D,j)=>D.order-j.order).forEach((D,j)=>D[w(358)]=j+1)}else i(T=>{const D=w;T[D(311)]=(T[D(311)]??[]).filter(j=>j.id!==_)},!0),a[w(246)]==="stencil"&&a.stencilId===_&&b.TWxSK(r,{kind:b[w(306)]})},W=$.useCallback(_=>{const w=N;if(a[w(246)]===b[w(284)]){const T=a[w(262)];if(T.includes(_)){const D=T[w(249)](j=>j!==_);if(D.length===0)b.AdEwJ(r,{kind:b.moIau});else if(D[w(355)]===1)b.elFMK(r,{kind:b[w(280)],flowerId:D[0]});else if(b[w(359)](b.kXWUf,b.tivxD)){for(const j of _0x29b38d[w(268)])j[w(262)]=j.flowerIds[w(249)](L=>L!==_0x5eeacc);_0x551930[w(268)]=_0x4b2477[w(268)].filter(j=>j.flowerIds.length>0)}else b[w(317)](r,{kind:b[w(284)],flowerIds:D})}else b[w(353)](b.OyojQ,b.xDAHR)?r({kind:w(322),flowerIds:[...T,_]}):_0x13cdc8.stencils=(_0x565f7b[w(311)]??[])[w(249)](D=>D.id!==_0x53559a)}else if(a.kind==="flower"){if(b[w(309)](a[w(272)],_))return;b.twwhL(r,{kind:"flowers",flowerIds:[a[w(272)],_]})}else if(b[w(362)](a[w(246)],b.YPgBP)){const T=(u[w(268)]??[])[w(278)](j=>j.id===a[w(276)]),D=T?T[w(262)]:[];if(D[w(304)](_))return;b[w(286)](r,{kind:b[w(284)],flowerIds:[...D,_]})}else b.sUtNr("ThYTj","ThYTj")?r({kind:b[w(284)],flowerIds:[_]}):_0x1b9292({kind:b[w(284)],flowerIds:_0x283559})},[a,r,u[N(268)]]);return{deleteFlowerById:C,deleteLayerById:S,computeNewOuterRadius:M,addOuterLayer:E,deleteOuterLayer:R,deleteSelected:G,groupSelectedFlowers:O,ungroupFlowers:I,addToGroup:Q,mergeGroups:q,addStencil:U,deleteStencil:P,handleShiftFlowerSelect:W,togglePetalSelection:(_,w,T,D)=>{const j=N;if(!D){r({kind:"petal",flowerId:_,layerId:w,index:T});return}const L=w+":"+T;if(a.kind==="petals"&&a[j(272)]===_){const Y=a[j(308)]||[];if(Y[j(236)](k=>k[j(238)]+":"+k[j(285)]===L)){const k=Y.filter(z=>z[j(238)]+":"+z[j(285)]!==L);if(k[j(355)]===0)r({kind:b[j(280)],flowerId:_});else if(b.VQXBi(k.length,1))b[j(334)](r,{kind:j(265),flowerId:_,layerId:k[0][j(238)],index:k[0].index});else if(b[j(243)]!=="vBbWn")r({kind:j(308),flowerId:_,petals:k});else if(_0x38824f.flowers=_0x4a1673.flowers.filter(z=>z.id!==_0x187d1d.flowerId),_0x315f45.groups){for(const z of _0x44c456[j(268)])z[j(262)]=z[j(262)].filter(B=>B!==_0xb36250[j(272)]);_0x2c2012.groups=_0x3c811b.groups.filter(z=>z.flowerIds[j(355)]>0)}}else if(b[j(357)]!==b.GbPFt)r({kind:b.ErYiT,flowerId:_,petals:[...Y,{layerId:w,index:T}]});else{_0x15eae2({kind:j(265),flowerId:_0x3756f9,layerId:_0x2d583b,index:_0x1269db});return}}else if(a.kind==="petal"&&a[j(272)]===_){const Y={layerId:a.layerId,index:a[j(285)]},Z={layerId:w,index:T};if(b[j(337)](Y[j(238)]+":"+Y[j(285)],L))return;r({kind:j(308),flowerId:_,petals:[Y,Z]})}else r({kind:b.ErYiT,flowerId:_,petals:[{layerId:w,index:T}]})}}}(function(u,i){const a=gn,r=u();for(;;)try{if(parseInt(a(297))/1+parseInt(a(324))/2*(-parseInt(a(281))/3)+parseInt(a(300))/4*(parseInt(a(336))/5)+-parseInt(a(306))/6*(-parseInt(a(311))/7)+parseInt(a(332))/8*(-parseInt(a(293))/9)+-parseInt(a(316))/10+parseInt(a(322))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,557959);const nb=(function(){let u=!0;return function(i,a){const r=u?function(){if(a){const x=a.apply(i,arguments);return a=null,x}}:function(){};return u=!1,r}})(),As=nb(void 0,function(){const u=gn;return As.toString().search(u(292))[u(283)]().constructor(As).search(u(292))});function gn(u,i){u=u-281;const a=I0();let r=a[u];if(gn.oRKPKo===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};gn.rXHxNx=x,gn.ohpUxG={},gn.oRKPKo=!0}const f=a[0],h=u+f,v=gn.ohpUxG[h];if(v)r=v;else{const m=function(d){this.ttZEzc=d,this.NWlNHf=[1,0,0],this.OtuBnk=function(){return"newState"},this.Ixjniu="\\w+ *\\(\\) *{\\w+ *",this.ISTxUi=`['|"].+['|"];? *}`};m.prototype.cwOhPS=function(){const d=new RegExp(this.Ixjniu+this.ISTxUi),g=d.test(this.OtuBnk.toString())?--this.NWlNHf[1]:--this.NWlNHf[0];return this.mmgDEX(g)},m.prototype.mmgDEX=function(d){return~d?this.GHMoxk(this.ttZEzc):d},m.prototype.GHMoxk=function(d){for(let g=0,p=this.NWlNHf.length;g<p;g++)this.NWlNHf.push(Math.round(Math.random())),p=this.NWlNHf.length;return d(this.NWlNHf[0])},new m(gn).cwOhPS(),r=gn.rXHxNx(r),gn.ohpUxG[h]=r}return r}As();function I0(){const u=["y29Sx2rHCMTNCMvLBG","txPNvMW","EuXkC0O","qvDSB1u","kcGOlISPkYKRksSK","mtq0mtK1m3bhu1rIvq","ChvZAa","5yMJ44gK44g+44g/","CM1jz3e","ndyYmte0t3LXD2XX","BgvHzKDYB3vWCW","svDQv0K","nfbfrLPjwa","AxLXrNG","zhjXBeK","zMLUza","vKv5sMu","BgvUz3rO","nNbbqvLZqq","y29Sx2DYzwvU","BgvHDMvZ","CgfSzxr0zq","tMrtBgu","mJiZnJu3n3zPwKL5Aa","BgvHzKDYB3vW","yu1rB2m","ChjVAMvJDa","zMLSDgvY","odK5nJGWy1jzB3j6","AuXbEe0","vNDHru8","B3bktfC","ywjZ","yMTdt2u","odG0mtq0ognlvgHYyG","vMDPA2i","mJu1nJGYyvzrugrT","rgnRCui","Dhr2rwO","t1biv0q","Cg9ZAxrPB24","ANPmyNy","vwvhtwW","tuvwrgC","mZjqtNPMAu4","twH5EKW","DeDQCeC","BgvHzKLKCW","mtCXmZaZnxrOywLetG","mtvUqwrnBNa","Cej5vg4","Dg9tDhjPBMC","BgvHzG","tg10DMy","r3bPsvG","AKnJDhy"];return I0=function(){return u},I0()}function lb({project:u,applyUpdate:i,selection:a,setSelection:r,zoom:x,pan:f,stageSize:h,CANVAS_MAX_SVG:v}){const m=gn,d={sUtFz:function(E,R){return E/R},NdSle:function(E,R){return E*R},jzLbv:function(E,R){return E+R},GQlbS:function(E,R){return E!==R},tGjpG:"lUtIR",iyqFx:function(E,R){return E(R)},RVvRN:function(E,R){return E+R},aMQoc:m(295),AWloU:function(E,R,G){return E(R,G)},opJLW:function(E,R){return E(R)},ArdyL:m(284),DckqB:"project",VEyJe:function(E,R,G){return E(R,G)},BwOLf:function(E,R){return E(R)},jCctv:function(E,R){return E===R},Vgikb:function(E,R){return E===R},bkCOe:"jjvNv",OPHWD:m(296),drqlI:function(E,R){return E(R)},VwaEO:"leaves",HdvWP:function(E,R){return E===R},MhyzL:function(E,R){return E===R},iLAxM:m(289),ttvEj:m(312),LNpQT:"NgHQY",IqPyB:function(E,R){return E(R)},MEVDg:function(E,R,G){return E(R,G)},hdBQe:function(E,R){return E!==R},UeGMl:function(E,R,G){return E(R,G)}},g=()=>{const E=m,R={MAypt:function(_,w){return _(w)}},G=d.sUtFz(h.w,h.h),O=520/x,I=d[E(310)](O,G),Q=-f.x/x,q=-f.y/x;let U=d.jzLbv(Q,I/2),P=q+d.sUtFz(O,2),W=0;for(;W<50&&(u.leaves??[]).some(_=>Math.abs(_[E(328)].x-U)<5&&Math[E(320)](_[E(328)].y-P)<5);)d.GQlbS(d[E(334)],"vXSWO")?(U+=25,P+=25,U=je(U,0,v),P=je(P,0,v),W++):R.MAypt(_0x501b22,{kind:E(308),leafIds:[..._0x5d36c4,_0x4f8d6b]});const X={id:d[E(301)](Yt,"leaf"),name:"Leaf "+d.RVvRN((u[E(308)]??[])[E(305)],1),position:{x:U,y:P},rotation:135,petalType:d[E(313)],colorId:u[E(309)]?.[E(303)](_=>_.id===E(307)||_.id===E(288))?.id??u.palette?.[0]?.id??E(307),scale:1,widthScale:1,visible:!0,locked:!1};d[E(291)](i,_=>{const w=E;_[w(308)]||(_.leaves=[]),_[w(308)][w(294)](X)},!0),d.opJLW(r,{kind:d.ArdyL,leafId:X.id})},p=E=>{i(R=>{const G=gn;if(R.leaves=(R[G(308)]??[])[G(315)](O=>O.id!==E),R.leafGroups){for(const O of R.leafGroups)O[G(335)]=O.leafIds.filter(I=>I!==E);R.leafGroups=R[G(298)][G(315)](O=>O.leafIds.length>0)}},!0),r({kind:d.DckqB})},N=d.AWloU($.useCallback,E=>{const R=m,G={yLJsJ:function(O,I){return d.BwOLf(O,I)},pByTn:d.ArdyL};if(d[R(287)](a.kind,"leaves")){const O=a.leafIds;if(O.includes(E)){const I=O.filter(Q=>Q!==E);if(d[R(323)](I.length,0))d.BwOLf(r,{kind:d[R(325)]});else if(I[R(305)]===1)if(d[R(321)]==="VNRjC"){const Q=(_0x20bbb6.leafGroups??[]).find(q=>q.id===_0x2a35d3);Q&&!Q.leafIds.includes(_0x3de773)&&Q.leafIds.push(_0x3fbf70)}else r({kind:d.ArdyL,leafId:I[0]});else d.OPHWD===d[R(327)]?d[R(302)](r,{kind:d[R(318)],leafIds:I}):G[R(290)](_0xaa97d4,{kind:G[R(282)],leafId:_0x1ee7f7[0]})}else r({kind:d.VwaEO,leafIds:[...O,E]})}else if(d.HdvWP(a.kind,R(284))){if(d[R(333)](a.leafId,E))return;r({kind:"leaves",leafIds:[a.leafId,E]})}else d.GQlbS("MzgVl",d[R(317)])?(d[R(304)](_0x1260e4,O=>{const I=R;O[I(298)]&&(O.leafGroups=O[I(298)].filter(Q=>Q.id!==_0x56c92e))},!0),d.BwOLf(_0x4e59dd,{kind:R(314)})):r({kind:d[R(318)],leafIds:[E]})},[a,r]),b=d.VEyJe($.useCallback,E=>{const R=m,G=d[R(319)](Yt,"lg"),O=" "+d[R(329)]((u[R(298)]??[]).length,1);d.AWloU(i,I=>{const Q=R;I[Q(298)]||(I[Q(298)]=[]),I[Q(298)].push({id:G,name:O,leafIds:[...E],rotation:0})},!0),r({kind:d[R(326)],leafGroupId:G})},[u[m(298)],i,r]),M=d[m(304)]($.useCallback,E=>{const R=m,G={CQzGt:function(O,I,Q){return O(I,Q)},eTWha:function(O,I){return O!==I},Lmtvf:d.LNpQT,WYvAG:"JEtdV"};d.VEyJe(i,O=>{const I=gn;if(G.eTWha(G[I(285)],G.WYvAG)){if(!O.leafGroups)return;O.leafGroups=O.leafGroups[I(315)](Q=>Q.id!==E)}else G.CQzGt(_0x181ba7,Q=>{const q=I,U=(Q.leafGroups??[])[q(303)](P=>P.id===_0x216ccf);U&&!U.leafIds.includes(_0x3cc711)&&U.leafIds.push(_0x482e17)},!0)},!0),d.IqPyB(r,{kind:d[R(325)]})},[i,r]),C=d.UeGMl($.useCallback,(E,R)=>{const G=m;d[G(331)](i,O=>{const I=G,Q=(O[I(298)]??[])[I(303)](q=>q.id===R);Q&&!Q[I(335)].includes(E)&&Q[I(335)].push(E)},!0)},[i]),S=d[m(331)]($.useCallback,E=>{const R=m,G={GpiIX:function(O,I){return d.hdBQe(O,I)},IWjWI:"meHHZ"};d[R(330)](i,O=>{const I=R;if(O.leafGroups){for(const Q of O.leafGroups)if(G[I(286)]("meHHZ",G[I(299)])){if(!_0x24785c.leafGroups)return;for(const q of _0x580728[I(298)])q[I(335)]=q[I(335)][I(315)](U=>U!==_0x48b125);_0x2af383[I(298)]=_0x4d56da[I(298)][I(315)](q=>q[I(335)].length>0)}else Q.leafIds=Q[I(335)][I(315)](q=>q!==E);O.leafGroups=O[I(298)].filter(Q=>Q.leafIds[I(305)]>0)}},!0)},[i]);return{addLeaf:g,deleteLeafById:p,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:M,addLeafToGroup:C,removeLeafFromGroup:S}}(function(u,i){const a=kn,r=u();for(;;)try{if(parseInt(a(505))/1+-parseInt(a(495))/2*(-parseInt(a(566))/3)+parseInt(a(564))/4+parseInt(a(509))/5*(parseInt(a(524))/6)+parseInt(a(550))/7*(parseInt(a(520))/8)+-parseInt(a(562))/9+-parseInt(a(508))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(U0,718369);const ab=(function(){const u=kn,i={ZdwxW:function(r,x){return r===x},ZcgLu:u(531)};let a=!0;return function(r,x){const f=u,h={RPgOo:function(m,d){return i.ZdwxW(m,d)},ZHjJB:i[f(532)]},v=a?function(){const m=f;if(h[m(510)](m(531),h[m(525)])){if(x){const d=x.apply(r,arguments);return x=null,d}}else _0x7d243a=_0x3ff81b}:function(){};return a=!1,v}})(),Ts=ab(void 0,function(){const u=kn,i={AmNCs:u(497)};return Ts[u(547)]().search(i.AmNCs).toString()[u(504)](Ts).search(i.AmNCs)});Ts();function kn(u,i){u=u-492;const a=U0();let r=a[u];if(kn.LCMWdB===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};kn.nOikVC=x,kn.hZsOkS={},kn.LCMWdB=!0}const f=a[0],h=u+f,v=kn.hZsOkS[h];if(v)r=v;else{const m=function(d){this.PhOAZK=d,this.TvNhbg=[1,0,0],this.KazMjl=function(){return"newState"},this.DDCLHh="\\w+ *\\(\\) *{\\w+ *",this.DHZXWI=`['|"].+['|"];? *}`};m.prototype.AEYlVD=function(){const d=new RegExp(this.DDCLHh+this.DHZXWI),g=d.test(this.KazMjl.toString())?--this.TvNhbg[1]:--this.TvNhbg[0];return this.OGOkMl(g)},m.prototype.OGOkMl=function(d){return~d?this.dLgntW(this.PhOAZK):d},m.prototype.dLgntW=function(d){for(let g=0,p=this.TvNhbg.length;g<p;g++)this.TvNhbg.push(Math.round(Math.random())),p=this.TvNhbg.length;return d(this.TvNhbg[0])},new m(kn).AEYlVD(),r=kn.nOikVC(r),kn.hZsOkS[h]=r}return r}function U0(){const u=["CK9qtuO","AKHRDxy","Dg9tDhjPBMC","Ae55zfa","CxzNy3C","n3vrrMzTCG","CgXHy2vTzw50tw9Kzq","y2nVvMS","ChvZAa","uxHfrKW","tgf5zxiG","Bgf5zxjdB3vUDa","rMXVD2vYia","44or44o844oR","y29SB3jjza","zMLUza","CMfKAxvZ","oti2nJuZnuTqCgjJyq","zMXVD2vYCW","mJq1otyYmeHKseDPEG","y29Sx3DOAxrL","m3LrDLPssW","z05uB2e","ywjZ","CM91BMq","txn5A0y","t3v0zxi","odiWndC4A0XmqwHl","u3HNB2G","kcGOlISPkYKRksSK","yNnMy1G","z3jHzhvHBa","sevVsKe","zMfICMLJu3f1yxjLu2L6zq","yuXuuhC","qMDTq3a","y29UC3rYDwn0B3i","odm0nJa0CfzRAxrO","C2nHBgu","re1KtLK","mtq5mJK4mZbAAxjssg8","nu9sCujoqq","uLbNt28","C2L6zvn0zxbnBq","5y2k44gp44gz","CePdvvq","yMfZzurPyw1LDgvY","C2L6zu1Vzgu","yxfkDLq","EfLeBfu","Dfjnru0","CM5cyvu","mZGYotu3nLvcz09SAW","CgX1reO","t3v0zxiR","Cg9ZAxrPB24","ntqXnteZmM9QrwfArG","wKHQsKi","zgLHBwv0zxi","Dw5PzM9YBq","CgfSzxr0zq","CvjWtMS","DvP4DMe","D2fSDxm","wMnNthu","BNr2thG","tenoDgu","yNPVtwK","B3jKzxi","zMXVD2vYrgLHBwv0zxi","qw1UEhe","te1zAfa","s1f4DLC","BeHbyxu","q0PXv2O","y29Z","C1bYwgG"];return U0=function(){return u},U0()}function ib({project:u,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:x,pan:f,stageSize:h,CANVAS_MAX_SVG:v}){const m=kn,d={pluDJ:function(S,E){return S(E)},gNToa:function(S,E){return S===E},HEoJA:m(499),ZmFIO:function(S,E){return S/E},FHIQH:function(S,E){return S-E},KQxvW:function(S,E){return S*E},rnBaU:m(512),bzoMi:function(S,E){return S/E},nYrKT:function(S,E){return S*E},Sxgoh:function(S,E){return S>E},tRMEM:function(S,E){return S*E},uZxva:function(S,E){return S/E},CJqWj:function(S,E){return S*E},lHAau:function(S,E){return S/E},EaEbX:function(S,E){return S+E},QxEFL:function(S,E){return S(E)},DDmwQ:function(S,E){return S*E},jdihS:"Center",EQXPz:function(S,E){return S<E},ccoVk:m(527),bsfcX:"zILxR",hNydP:function(S,E){return S===E},GaWaU:m(503),qvgcw:function(S,E,R,G){return S(E,R,G)},mrWGD:function(S,E){return S+E},aqJvT:function(S,E){return S===E},jHkuv:m(545),xYDlU:function(S,E,R,G){return S(E,R,G)},sPrXh:function(S,E){return S*E},LCNte:function(S,E){return S-E},aqGvT:m(533),Ciuww:function(S,E){return S/E},MsykF:function(S,E){return S+E},qRpNk:function(S,E){return S===E},Amnxq:function(S,E){return S+E},WpXMx:function(S,E){return S-E},LMYhP:function(S,E){return S/E},pJCUT:function(S,E,R,G){return S(E,R,G)},wJSHS:function(S,E){return S===E},FgKqB:""},[g,p]=$.useState(!1),[N,b]=d.pluDJ($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:u[m(514)],layerCount:1,petalCount:6,petalType:d.FgKqB,sizeMode:d.ccoVk,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:p,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const S=m,E=u[S(501)],R=u[S(514)];d.pluDJ(b,G=>{const O=S,I={...G,fabricSquareSize:E,baseDiameter:R};return I[O(551)]===O(512)?I[O(537)]=Kl(R,E,{layerCount:I.layerCount,sizeMode:I[O(515)],sizeStepMm:I[O(511)]})[O(526)]:I.flowerDiameter=lr(E,I.layerCount,I[O(515)],I[O(511)]),I}),p(!0)},confirmAddFlower:()=>{const S=m,E={LRQrN:function(he,Se,xe,Be){return he(Se,xe,Be)}},{placementMode:R,layerCount:G,petalCount:O,petalType:I,sizeMode:Q,sizeStepMm:q}=N,U=N.fabricSquareSize,{length:P}=d[S(554)](It,U),W=.28,X=Math[S(492)](d.DDmwQ(P*W,10))/10,_=[],w=[d.jdihS,"Inner","Middle",S(494),S(522)];let T=X,D=0;for(let he=0;d.EQXPz(he,G);he++){const Se=he,xe=1;let Be;if(d.gNToa(Q,d[S(552)]))if(d.gNToa(d[S(498)],d.bsfcX))Be=xe;else{const bt=d[S(567)](_0x520617,d[S(500)])?_0x1cb598(1+d.ZmFIO(d.FHIQH(_0x24b392,1)*_0x90943a,_0x11f5f6),.3,3):1,zt=d[S(540)](_0xc1ea08,bt);let ht;if(d[S(567)](_0x40f8e9,d.rnBaU)){const Dt=d[S(535)](d.nYrKT(70,_0x5d5135.PI),180),Wt=d[S(496)](_0x3574bd,1)?d[S(518)](d.uZxva(_0x253a2b,_0x413155-1),Dt):0,rn=_0x6e615e.cos(Wt);ht=d[S(542)](zt,d[S(541)](30,100))*rn}else ht=zt/3;_0x3baeac=d.EaEbX(_0x1c97de,ht),_0x324cb2=_0x3fd2d0.round(_0xbf7c16*10)/10}else if(d[S(548)]("GzVrB",d.GaWaU))_0x309cf6+=_0x27a5ca,_0x5d9790+=_0x2212b1,_0x5df0f4=E.LRQrN(_0x582f80,_0x31eb39,0,_0x203818),_0x3ae3ac=_0x6545b2(_0x455c84,0,_0x324cab),_0x577fd1++;else{const bt=q/U;Be=d[S(549)](je,d.mrWGD(xe,Se*bt),.3,3)}let $e;if(d[S(516)](he,0))$e=X;else if(d[S(546)]==="tfmWK")_0xd5126f[S(537)]=_0x37efe9(_0xaf2de0,_0x3be59a,{layerCount:_0x3cee25[S(556)],sizeMode:_0x24355e.sizeMode,sizeStepMm:_0x23ade5[S(511)]})[S(526)];else{const bt=d.gNToa(Q,"gradual")?d[S(517)](je,1+d[S(530)](d[S(544)](d[S(534)](he,1),q),U),.3,3):1,zt=P*bt;let ht;if(R===S(512))if(d.aqGvT!==S(507)){const Dt=70*Math.PI/180,Wt=G>1?d.Ciuww(he,G-1)*Dt:0,rn=Math[S(543)](Wt);ht=d.nYrKT(zt*(30/100),rn)}else{const st=_0xaff6[S(560)](Dt=>Dt.id===_0x2c9caa.id);st&&(st[S(561)]=_0x19ec71[S(561)],st[S(506)]=_0x359382[S(506)])}else S(502)==="CIhyT"?_0x58c56e.flowers.push(_0x2c8fbd):ht=zt/3;T=d[S(493)](T,ht),$e=Math[S(492)](d.nYrKT(T,10))/10}const ot=he===0?0:Fn(O,D,O);D=ot;let xt;if(d[S(548)](G,1))xt="Layer";else if(G<=5){const bt=G===2?[0,3]:d[S(529)](G,3)?[0,1,3]:d.aqJvT(G,4)?[0,1,2,3]:[0,1,2,3,4];xt=w[bt[he]]??S(555)+d[S(538)](he,1)}else xt=S(555)+(he+1);_[S(553)]({id:Yt("lay"),name:xt,order:d.WpXMx(G,he),petalType:I,petalCount:O,radius:$e,scale:Be,widthScale:ri(O),offsetAngle:ot,colorId:N[S(559)]||(u[S(528)]?.[0]?.id??S(565)),visible:!0,locked:!1})}_.reverse();const j=[..._].sort((he,Se)=>he.order-Se[S(536)]),L=d[S(516)](R,d.rnBaU)?d[S(549)](Kl,N[S(514)],U,{layerCount:G,sizeMode:Q,sizeStepMm:q}).diameter:lr(U,G,Q,q);K0(j,U,N.flowerDiameter||L);for(const he of j){const Se=_.find(xe=>xe.id===he.id);Se&&(Se.radius=he.radius,Se.scale=he.scale)}const Y=d.bzoMi(h.w,h.h),Z=d.LMYhP(520,x),k=Z*Y,z=-f.x/x,B=d[S(539)](-f.y,x);let H=z+k/2,J=B+Z/2;const ae=25;let oe=0;for(;oe<50&&u.flowers.some(he=>Math[S(568)](he.position.x-H)<5&&Math.abs(he[S(523)].y-J)<5);)H+=ae,J+=ae,H=d.xYDlU(je,H,0,v),J=d[S(513)](je,J,0,v),oe++;const de=N.flowerDiameter||L,_e={id:Yt("flw"),name:S(557)+d[S(493)](u[S(563)].length,1),position:{x:H,y:J},flowerDiameter:de,rotation:0,layers:_,center:{type:S(558),size:6,color:"col_white"},fabricSquareSize:U,placementMode:R,baseDiameter:d.wJSHS(R,d[S(519)])?N.baseDiameter:er(de)};i(he=>{he.flowers.push(_e)},!0),d[S(521)](a,{kind:"flower",flowerId:_e.id}),d.QxEFL(r,he=>({...he,[_e.id]:!0})),p(!1)}}}(function(u,i){const a=Rn,r=u();for(;;)try{if(-parseInt(a(306))/1+-parseInt(a(314))/2+parseInt(a(286))/3*(-parseInt(a(287))/4)+parseInt(a(284))/5+parseInt(a(313))/6*(parseInt(a(278))/7)+-parseInt(a(293))/8*(-parseInt(a(280))/9)+parseInt(a(301))/10*(parseInt(a(285))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,501322);const rb=(function(){let u=!0;return function(i,a){const r=u?function(){const x=Rn;if(a){const f=a[x(315)](i,arguments);return a=null,f}}:function(){};return u=!1,r}})(),Ls=rb(void 0,function(){const u=Rn,i={ZdnTm:u(304)};return Ls.toString()[u(271)](u(304))[u(276)]()[u(273)](Ls)[u(271)](i.ZdnTm)});Ls();function Rn(u,i){u=u-266;const a=Z0();let r=a[u];if(Rn.FwsaDN===void 0){var x=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",p="",N=g+x;for(let b=0,M,C,S=0;C=m.charAt(S++);~C&&(M=b%4?M*64+C:C,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,M=g.length;b<M;b++)p+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Rn.FwHmDb=x,Rn.HXwStP={},Rn.FwsaDN=!0}const f=a[0],h=u+f,v=Rn.HXwStP[h];if(v)r=v;else{const m=function(d){this.Vtaqfg=d,this.yGlEUt=[1,0,0],this.eWHxOe=function(){return"newState"},this.ufsNqQ="\\w+ *\\(\\) *{\\w+ *",this.uMmThi=`['|"].+['|"];? *}`};m.prototype.eUWWoR=function(){const d=new RegExp(this.ufsNqQ+this.uMmThi),g=d.test(this.eWHxOe.toString())?--this.yGlEUt[1]:--this.yGlEUt[0];return this.YEYqOa(g)},m.prototype.YEYqOa=function(d){return~d?this.GfaVzn(this.Vtaqfg):d},m.prototype.GfaVzn=function(d){for(let g=0,p=this.yGlEUt.length;g<p;g++)this.yGlEUt.push(Math.round(Math.random())),p=this.yGlEUt.length;return d(this.yGlEUt[0])},new m(Rn).eUWWoR(),r=Rn.FwHmDb(r),Rn.HXwStP[h]=r}return r}function cb(u,i){const a=Rn,r={xOWvE:function(C,S){return C===S},CvTJd:function(C,S){return C===S},VPFog:a(282),ZClVB:function(C,S){return C===S},wLxlx:"flowers",bllkL:a(266),WmQxd:function(C,S){return C===S},ylbgh:a(277),IUwMy:a(275),vFObc:a(279),VCtvz:function(C,S){return C===S},ZCuPq:function(C,S){return C===S},Pgrnu:"petals",TXDxQ:function(C,S,E){return C(S,E)},ZPqNa:function(C,S){return C===S},latbR:a(296),avQgh:function(C,S){return C===S},JbZKs:a(312),AdkLA:function(C,S,E){return C(S,E)},GaSGa:"stencil",IMzAO:function(C,S){return C===S}},x=r[a(298)]($.useMemo,()=>{const C=a;return r[C(309)](i.kind,"flower")||r.CvTJd(i[C(303)],C(275))||i[C(303)]===r.VPFog||r.CvTJd(i.kind,"petals")?u.flowers[C(274)](S=>S.id===i.flowerId)??null:null},[u[a(283)],i]),f=$.useMemo(()=>{const C=a;if(r.ZClVB(i.kind,r[C(297)]))return u[C(283)][C(302)](S=>i.flowerIds.includes(S.id));if(i.kind===r.bllkL){const S=(u[C(288)]??[]).find(E=>E.id===i.groupId);if(S)return u[C(283)][C(302)](E=>S[C(295)][C(305)](E.id))}return[]},[u.flowers,u[a(288)],i]),h=$.useMemo(()=>{const C=a;return r[C(307)](i[C(303)],C(289))?(u.leaves??[]).find(S=>S.id===i.leafId)??null:null},[u[a(294)],i]),v=r[a(268)]($.useMemo,()=>{const C=a;return i[C(303)]===r[C(308)]?(u[C(300)]??[]).find(S=>S.id===i.leafGroupId)??null:null},[u[a(300)],i]),m=$.useMemo(()=>{const C=a;return x&&(i.kind===r.IUwMy||r.xOWvE(i[C(303)],"petal"))?x[C(270)].find(S=>S.id===i[C(291)])??null:null},[x,i]),d=i.kind===a(282)?i.index:null,g=i[a(303)]===a(299)?i.petals:[],p=i.kind===r[a(311)]?(u.stencils??[]).find(C=>C.id===i.stencilId)??null:null,N=i.kind===r.vFObc||r.IMzAO(i[a(303)],"layer")||i[a(303)]===r.VPFog||r.WmQxd(i.kind,r[a(290)])?i[a(316)]:null,b=$.useMemo(()=>{const C=a;if(r.ZClVB(i.kind,r[C(317)])){const S=(u[C(288)]??[])[C(274)](E=>E.id===i.groupId);if(S)return new Set(S.flowerIds)}if(i.kind==="flowers")return new Set(i[C(295)]);if(r.CvTJd(i[C(303)],r[C(272)])||r[C(292)](i.kind,C(275))||r[C(307)](i[C(303)],r.VPFog)||r.ZCuPq(i[C(303)],r.Pgrnu)){const S=r[C(268)](ba,u,i.flowerId);if(S){if(r[C(281)](i[C(303)],r[C(272)])){if(r.latbR===r[C(267)])return new Set(S.flowerIds.filter(E=>E!==i.flowerId));{const E=(_0x17ce03.groups??[])[C(274)](R=>R.id===_0x2c759d[C(310)]);if(E)return new _0x4a7e13(E[C(295)])}}return new Set(S.flowerIds)}}return new Set},[i,u]),M=$.useMemo(()=>{const C=a;if(r[C(269)](i.kind,r.ylbgh)){if(r.ZClVB("kTQTs",r.JbZKs))return new _0x306eda(_0x54966d.flowerIds);{const S=(u.leafGroups??[]).find(E=>E.id===i.leafGroupId);if(S)return new Set(S.leafIds)}}if(i[C(303)]===C(289)){const S=X0(u,i.leafId);if(S)return new Set(S.leafIds[C(302)](E=>E!==i.leafId))}return new Set},[i,u]);return{selectedFlower:x,selectedFlowers:f,selectedLeaf:h,selectedLeafGroup:v,selectedLayer:m,selectedPetalIndex:d,selectedPetals:g,selectedStencil:p,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:M}}function Z0(){const u=["Bgf5zxjjza","vKn0DNO","ogLHDw5jtq","BgvHDMvZ","zMXVD2vYswrZ","u3PIy1q","D0X4BhG","qwrRtee","Cgv0ywXZ","BgvHzKDYB3vWCW","ntbIqMjJEem","zMLSDgvY","A2LUza","kcGOlISPkYKRksSK","Aw5JBhvKzxm","nJm4mJzkt3HqBKe","v21rEgq","EwXIz2G","Ee9xDKu","z3jVDxbjza","r2ftr2e","twDqtwy","mJm3mezMBuHJvG","odmXodi0s1vwrMDs","yxbWBhK","zMXVD2vYswq","yMXSA0W","z3jVDxa","Bgf0yLi","vfHeEfe","yxzrz2G","Bgf5zxjZ","C2vHCMnO","DKzpyMm","y29UC3rYDwn0B3i","zMLUza","Bgf5zxi","Dg9tDhjPBMC","BgvHzKDYB3vW","mtm3odn3yNrwBvm","zMXVD2vY","mJGYmtq5mvLVzxnIvq","wLbXtMe","Cgv0ywW","zMXVD2vYCW","mZa0nZu4nxbSB2neDW","mJm2ota3uML1sNfP","nJiWntq3y1HSsNjy","mtzLELfHCM4","z3jVDxbZ","BgvHzG","ugDYBNu"];return Z0=function(){return u},Z0()}function ub(u){const{project:i,selection:a,setSelection:r,applyUpdate:x}=u,f=$.useMemo(()=>new Map((i.palette||[]).map(fe=>[fe.id,fe])),[i.palette]),{widths:h,containerRef:v,onDividerPointerDown:m,onDividerDoubleClick:d,isDragging:g,isDesktop:p}=$m(),N=$.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,M]=$.useState({});$.useEffect(()=>{try{const ye=localStorage.getItem(N);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){M(Ue);return}}}catch{}const fe=i.flowers?.[0];fe&&M({[fe.id]:!0})},[N]),$.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const fe=a.flowerId;M(ye=>ye?.[fe]?ye:{...ye,[fe]:!0})}a.kind==="flowers"&&M(fe=>{const ye={...fe};for(const Ue of a.flowerIds)ye[Ue]=!0;return ye})},[a]);const C=fe=>b?.[fe]??!1,S=fe=>M(ye=>({...ye,[fe]:!(ye?.[fe]??!1)})),E=$.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[R,G]=$.useState({});$.useEffect(()=>{try{const ye=localStorage.getItem(E);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){G(Ue);return}}}catch{}const fe=i.groups??[];if(fe.length>0){const ye={};for(const Ue of fe)ye[Ue.id]=!0;G(ye)}},[E]),$.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(R))}catch{}},[E,R]);const O=fe=>R?.[fe]??!0,I=fe=>G(ye=>({...ye,[fe]:!(ye?.[fe]??!0)})),Q=$.useRef({flowerId:null,timer:null}),q=fe=>{const ye=Q.current.timer;ye&&window.clearTimeout(ye),Q.current.flowerId=fe,Q.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:fe}),M(Ue=>({...Ue,[fe]:!0})),Q.current.timer=null,Q.current.flowerId=null},200)},U=fe=>{const ye=Q.current.timer;ye&&Q.current.flowerId===fe&&window.clearTimeout(ye),Q.current.timer=null,Q.current.flowerId=null,r({kind:"flower",flowerId:fe}),S(fe)},P=$.useRef(null),[W,X]=$.useState({w:520,h:520});$.useEffect(()=>{const fe=P.current;if(!fe)return;const ye=new ResizeObserver(Ue=>{for(const Jt of Ue){const{width:St,height:cn}=Jt.contentRect;St>0&&cn>0&&X({w:St,h:cn})}});return ye.observe(fe),()=>ye.disconnect()},[]);const _=fe=>{const ye=P.current;if(!ye)return{x:0,y:0};const Ue=ye.createSVGPoint();Ue.x=fe.clientX,Ue.y=fe.clientY;const Jt=ye.getScreenCTM();if(!Jt)return{x:0,y:0};const St=Ue.matrixTransform(Jt.inverse());return{x:St.x,y:St.y}},w=500*an,T=-300*an,D=800*an,j=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,Y]=$.useState(6),[Z,k]=$.useState(j[6]),z=$.useCallback(fe=>{Y(ye=>{const Ue=typeof fe=="function"?fe(ye):fe;return k(j[Ue]),Ue})},[j]),B=$.useCallback(fe=>{const ye=je(fe,j[0],j[j.length-1]);k(ye);let Ue=0,Jt=Math.abs(j[0]-ye);for(let St=1;St<j.length;St++){const cn=Math.abs(j[St]-ye);cn<Jt&&(Ue=St,Jt=cn)}Y(Ue)},[j]),[H,J]=$.useState({x:0,y:0}),[ae,oe]=$.useState(!0),[de,_e]=$.useState(!1),he=$.useRef(null),Se=$.useMemo(()=>{const fe=W.w/W.h,ye=520,Ue=ye*fe;return(Jt,St=Z)=>{const cn=je(Jt.x,-(D*St-Ue),-T*St),ui=je(Jt.y,-(D*St-ye),-T*St);return{x:cn,y:ui}}},[W,Z,T,D]),xe=$.useMemo(()=>Se(H),[H,Se]),Be=$.useCallback(fe=>J(fe),[]),$e=$.useMemo(()=>{const fe=W.w/W.h,ye=520,Ue=ye*fe,Jt=-xe.x/Z,St=-xe.y/Z;return`${Jt} ${St} ${Ue/Z} ${ye/Z}`},[Z,xe,W]),{addLeaf:ot,deleteLeafById:xt,handleShiftLeafSelect:bt,groupSelectedLeaves:zt,ungroupLeaves:ht,addLeafToGroup:st,removeLeafFromGroup:Dt}=lb({project:i,applyUpdate:x,selection:a,setSelection:r,zoom:Z,pan:xe,stageSize:W,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:Wt,setShowAddFlowerDialog:rn,addFlowerOpts:$n,setAddFlowerOpts:Ke,addFlower:yn,confirmAddFlower:_l}=ib({project:i,applyUpdate:x,setSelection:r,setExpandedFlowers:M,zoom:Z,pan:xe,stageSize:W,CANVAS_MAX_SVG:w}),{selectedFlower:Wl,selectedFlowers:On,selectedLeaf:ga,selectedLeafGroup:Hn,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:qt,selectedFlowerId:We,groupHighlightedFlowerIds:se,leafGroupHighlightedLeafIds:Ee}=cb(i,a),{deleteFlowerById:qe,deleteLayerById:Ce,addOuterLayer:ge,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ve,ungroupFlowers:Je,addToGroup:He,mergeGroups:Ve,addStencil:Qe,deleteStencil:Ae,handleShiftFlowerSelect:yt,togglePetalSelection:Fe}=tb({project:i,applyUpdate:x,selection:a,setSelection:r,setExpandedFlowers:M,setExpandedGroups:G,zoom:Z,pan:xe,stageSize:W,CANVAS_MAX_SVG:w,deleteLeafById:xt,ungroupLeaves:ht}),Me=im({project:i,selection:a,setSelection:r,applyUpdate:x,dragRef:u.dragRef,zoom:Z,pan:xe,setPan:Be,stageRef:P,clientToSvgPoint:_,togglePetalSelection:Fe}),[et,tt]=$.useState(0),nt=a.kind,pn=nt==="flower"?a.flowerId:null,ya=nt==="flowers"?a.flowerIds?.join(","):null,Vl=nt==="layer"||nt==="petal"?a.layerId:null,_n=nt==="petal"?a.index:null,Nt=nt==="petals"?a.petals?.length:null;$.useEffect(()=>{nt!=="project"&&tt(Date.now())},[nt,pn,ya,Vl,_n,Nt]),$.useEffect(()=>{if(!he.current)return;const fe=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!fe)return;const ye=he.current.querySelector(`[data-flower-id="${fe}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ut=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[et]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${h.left}%`}:void 0,children:s.jsx(cm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:M,isExpanded:C,toggleExpanded:S,scheduleFlowerRowClick:q,handleFlowerRowDoubleClick:U,addFlower:yn,deleteSelected:ze,addOuterLayer:ge,deleteOuterLayer:Ne,deleteFlowerById:qe,deleteLayerById:Ce,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:he,groups:i.groups??[],expandedGroups:R,isGroupExpanded:O,toggleGroupExpanded:I,onSelectGroup:fe=>r({kind:"group",groupId:fe}),onUngroupFlowers:Je,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:fe=>r({kind:"leaf",leafId:fe}),onSelectLeafGroup:fe=>r({kind:"leafGroup",leafGroupId:fe}),onAddLeaf:ot,onDeleteLeaf:xt})}),s.jsx(Id,{side:"left",onPointerDown:m,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Lm,{project:i,selection:a,setSelection:r,applyUpdate:x,paletteMap:f,selectedFlowerId:We,zoom:Z,setZoom:B,zoomLevel:L,setZoomLevel:z,ZOOM_LEVELS:j,pan:xe,panRaw:H,setPan:Be,showGrid:ae,setShowGrid:oe,showHelp:de,setShowHelp:_e,stageRef:P,viewBox:$e,dashSyncToken:et,dashDelay:Ut,beginPan:Me.beginPan,updatePan:Me.updatePan,endPan:Me.endPan,beginMarquee:Me.beginMarquee,updateMarquee:Me.updateMarquee,endMarquee:Me.endMarquee,marqueeRef:Me.marqueeRef,marqueeRect:Me.marqueeRect,beginFlowerDrag:Me.beginFlowerDrag,updateFlowerDrag:Me.updateFlowerDrag,endFlowerDrag:Me.endFlowerDrag,scaleDragRef:Me.scaleDragRef,beginScaleDrag:Me.beginScaleDrag,updateScaleDrag:Me.updateScaleDrag,endScaleDrag:Me.endScaleDrag,rotationDragRef:Me.rotationDragRef,beginRotationDrag:Me.beginRotationDrag,updateRotationDrag:Me.updateRotationDrag,endRotationDrag:Me.endRotationDrag,widthScaleDragRef:Me.widthScaleDragRef,beginWidthScaleDrag:Me.beginWidthScaleDrag,updateWidthScaleDrag:Me.updateWidthScaleDrag,endWidthScaleDrag:Me.endWidthScaleDrag,radiusDragRef:Me.radiusDragRef,beginRadiusDrag:Me.beginRadiusDrag,updateRadiusDrag:Me.updateRadiusDrag,endRadiusDrag:Me.endRadiusDrag,togglePetalSelection:Fe,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Qe,onDeleteStencil:Ae,onSelectStencil:fe=>r({kind:"stencil",stencilId:fe}),handleShiftFlowerSelect:yt,groupHighlightedFlowerIds:se,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Ee,onSelectLeaf:fe=>r({kind:"leaf",leafId:fe}),onShiftSelectLeaf:bt})}),s.jsx(Id,{side:"right",onPointerDown:m,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${h.right}%`}:void 0,children:s.jsx(Wm,{project:i,selection:a,applyUpdate:x,selectedFlower:Wl,selectedFlowers:On,selectedLayer:ci,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:qt,onDeleteStencil:Ae,groups:i.groups??[],onGroupFlowers:ve,onUngroupFlowers:Je,onAddToGroup:He,onMergeGroups:Ve,selectedLeaf:ga,selectedLeafGroup:Hn,leafGroups:i.leafGroups??[],onDeleteLeaf:xt,onGroupLeaves:zt,onUngroupLeaves:ht,onAddLeafToGroup:st,onRemoveLeafFromGroup:Dt})})]}),Wt&&s.jsx(Qm,{palette:i.palette,addFlowerOpts:$n,setAddFlowerOpts:Ke,onConfirm:_l,onCancel:()=>rn(!1)}),de&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>_e(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:fe=>fe.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>_e(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([fe,ye])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:fe}),s.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},fe))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:u}){const[i,a]=$.useState("w"),[r,x]=$.useState(""),f=u.totalAreaCm2,h=parseFloat(r),m=r!==""&&Number.isFinite(h)&&h>0?Math.round(f/h*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>x(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),x("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>x(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),x("")},title:"",children:""})]})})]})]})}function ob(u){const{recipe:i}=u;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[i.colors.map(a=>s.jsx(sb,{cg:a},a.colorId)),i.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function xb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(u){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[u,i]=$.useState("home"),[a,r]=$.useState([]),[x,f]=$.useState(null),[h,v]=$.useState({kind:"project"}),[m,d]=$.useState([]),[g,p]=$.useState(0),N=$.useRef(x),b=$.useRef(m),M=$.useRef(g);$.useEffect(()=>{N.current=x},[x]),$.useEffect(()=>{b.current=m},[m]),$.useEffect(()=>{M.current=g},[g]);const C=$.useRef(null),S=$.useRef(null),E=$.useRef(null),R=$.useRef(null),[G,O]=$.useState(null);$.useEffect(()=>{const k=G?window.setTimeout(()=>O(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[G]),$.useEffect(()=>{r(nr())},[]);function I(k){const z=JSON.stringify(k);d([z]),p(0)}function Q(k,z=!0){if(!z){f(Se=>{if(!Se)return Se;const xe=Xl(Se);return k(xe),xe.updatedAt=w0(),xe});return}const B=N.current;if(!B)return;const H=Xl(B);k(H),H.updatedAt=w0(),f(H);const J=b.current,ae=M.current;if(J.length===0){I(H);return}const oe=JSON.stringify(H);let _e=[...J.slice(0,ae+1),oe];const he=50;_e.length>he&&(_e=_e.slice(_e.length-he)),d(_e),p(_e.length-1)}function q(){p(k=>{if(k<=0)return k;const z=k-1,B=b.current[z];return B&&f(ma(JSON.parse(B))),O("Undo"),z})}function U(){p(k=>{if(k>=b.current.length-1)return k;const z=k+1,B=b.current[z];return B&&f(ma(JSON.parse(B))),O("Redo"),z})}function P(){if(!x)return;const k=Yh(x);r(nr()),O(k?"Saved":" ")}function W(){if(!x)return;const k=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),z=URL.createObjectURL(k),B=document.createElement("a");B.href=z,B.download=`${x.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(z),O("JSON exported")}function X(k){const z=new FileReader;z.onload=()=>{try{const B=JSON.parse(String(z.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const H=ma(B);f(H),v({kind:"project"}),I(H),i("editor"),O("Imported")}catch{O("Import failed")}},z.readAsText(k)}function _(k){const z=ma(k);f(z),v({kind:"project"}),I(z),i("editor")}function w(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function T(){if(!x)return;const k=w(h);if(!k)return;const z=x.flowers.find(B=>B.id===k);z&&(S.current=Xl(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),O("Flower copied"))}function D(){if(!x||h.kind!=="leaf")return;const k=(x.leaves??[]).find(z=>z.id===h.leafId);k&&(E.current=Xl(k),O("Leaf copied"))}function j(){if(!x)return;const k=S.current;if(!k){O("Nothing to paste");return}const z=Gh(k,{x:12+Math.random()*10,y:12+Math.random()*10});Q(B=>{B.flowers.push(z)},!0),v({kind:"flower",flowerId:z.id}),O("Flower pasted")}function L(){if(!x)return;const k=E.current;if(!k)return;const z=Yt("leaf"),B={...Xl(k),id:z,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};Q(H=>{H.leaves||(H.leaves=[]),H.leaves.push(B)},!0),v({kind:"leaf",leafId:B.id}),O("Leaf pasted")}function Y(k){if(!x)return;const z=w(h);z&&(Q(B=>{const H=B.flowers.findIndex(de=>de.id===z);if(H<0)return;const J=B.flowers,ae=J[H];if(!ae)return;if(J.splice(H,1),k==="front"){J.push(ae);return}if(k==="back"){J.unshift(ae);return}if(k==="forward"){if(H>=J.length){J.push(ae);return}J.splice(H+1,0,ae);return}const oe=je(H-1,0,J.length);J.splice(oe,0,ae)},!0),O(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function k(B){const H=B;if(!H)return!1;const J=String(H.tagName||"").toLowerCase();return J==="input"||J==="textarea"||J==="select"||!!H.isContentEditable}function z(B){if(!(k(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(u==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),h.kind==="leaf"?D():T();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),E.current&&(h.kind==="leaf"||h.kind==="leaves"||h.kind==="leafGroup"||!S.current)?L():j();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?U():q()),B.key.toLowerCase()==="s"&&(B.preventDefault(),P())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[x,m,g,h,u]);const Z=$.useMemo(()=>x?Zh(x):null,[x]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Vh,{view:u,onNavigate:i,project:x,onSave:P,onLoad:()=>i("home"),onImportJson:()=>R.current?.click(),onExportJson:W,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&x&&Kh(k,`${x.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&x&&Wh(k,`${x.title||"tsumami"}.png`)}}),s.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const z=k.target.files?.[0];z&&X(z),k.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1",children:[u==="home"&&s.jsx(Qh,{saved:a,onNew:()=>i("new"),onOpen:k=>{const z=ma(Xl(k));f(z),v({kind:"project"}),I(z),i("editor")},onDelete:k=>{Ih(k),r(nr()),O("Deleted")}}),u==="new"&&s.jsx(Ph,{onBack:()=>i("home"),onCreate:k=>{const z=Bh({title:k});_(z)}}),u==="editor"&&x&&s.jsx(ub,{project:x,selection:h,setSelection:v,applyUpdate:Q,onGoRecipe:()=>i("recipe"),onImport:X,dragRef:C,onCopyFlower:T,onPasteFlower:j,onArrangeFlower:Y,canPasteFlower:!!S.current,onUndo:q,onRedo:U,canUndo:g>0,canRedo:g<m.length-1}),u==="recipe"&&x&&Z&&s.jsx(ob,{project:x,recipe:Z,onBack:()=>i("editor"),onExportJson:W}),u==="terms"&&s.jsx(xb,{onBack:()=>i("home")}),u==="privacy"&&s.jsx(fb,{onBack:()=>i("home")}),(u==="editor"||u==="recipe")&&!x&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&s.jsx(db,{onNavigate:i})]})}class mb extends $.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}yh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(mb,{children:s.jsx(hb,{})})}));

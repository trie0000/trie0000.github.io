(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))i(x);new MutationObserver(x=>{for(const f of x)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(x){const f={};return x.integrity&&(f.integrity=x.integrity),x.referrerPolicy&&(f.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?f.credentials="include":x.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(x){if(x.ep)return;x.ep=!0;const f=a(x);fetch(x.href,f)}})();var es={exports:{}},$i={};var Md;function o2(){if(Md)return $i;Md=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,x,f){var m=null;if(f!==void 0&&(m=""+f),x.key!==void 0&&(m=""+x.key),"key"in x){f={};for(var v in x)v!=="key"&&(f[v]=x[v])}else f=x;return x=f.ref,{$$typeof:c,type:i,key:m,ref:x!==void 0?x:null,props:f}}return $i.Fragment=r,$i.jsx=a,$i.jsxs=a,$i}var zd;function x2(){return zd||(zd=1,es.exports=o2()),es.exports}var s=x2(),ts={exports:{}},Ne={};var Dd;function f2(){if(Dd)return Ne;Dd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),A=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function U(M,q,H){this.props=M,this.context=q,this.refs=C,this.updater=H||D}U.prototype.isReactComponent={},U.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function V(){}V.prototype=U.prototype;function E(M,q,H){this.props=M,this.context=q,this.refs=C,this.updater=H||D}var G=E.prototype=new V;G.constructor=E,_(G,U.prototype),G.isPureReactComponent=!0;var R=Array.isArray;function K(){}var B={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function Q(M,q,H){var J=H.ref;return{$$typeof:c,type:M,key:q,ref:J!==void 0?J:null,props:H}}function Z(M,q){return Q(M.type,q,M.props)}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===c}function S(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(H){return q[H]})}var w=/\/+/g;function T(M,q){return typeof M=="object"&&M!==null&&M.key!=null?S(""+M.key):q.toString(36)}function z(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(K,K):(M.status="pending",M.then(function(q){M.status==="pending"&&(M.status="fulfilled",M.value=q)},function(q){M.status==="pending"&&(M.status="rejected",M.reason=q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function j(M,q,H,J,le){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var fe=!1;if(M===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(M.$$typeof){case c:case r:fe=!0;break;case g:return fe=M._init,j(fe(M._payload),q,H,J,le)}}if(fe)return le=le(M),fe=J===""?"."+T(M,0):J,R(le)?(H="",fe!=null&&(H=fe.replace(w,"$&/")+"/"),j(le,q,H,"",function(Se){return Se})):le!=null&&(P(le)&&(le=Z(le,H+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(w,"$&/")+"/")+fe)),q.push(le)),1;fe=0;var xe=J===""?".":J+":";if(R(M))for(var me=0;me<M.length;me++)J=M[me],ce=xe+T(J,me),fe+=j(J,q,H,ce,le);else if(me=b(M),typeof me=="function")for(M=me.call(M),me=0;!(J=M.next()).done;)J=J.value,ce=xe+T(J,me++),fe+=j(J,q,H,ce,le);else if(ce==="object"){if(typeof M.then=="function")return j(z(M),q,H,J,le);throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function N(M,q,H){if(M==null)return M;var J=[],le=0;return j(M,J,"","",function(ce){return q.call(H,ce,le++)}),J}function O(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(H){(M._status===0||M._status===-1)&&(M._status=1,M._result=H)},function(H){(M._status===0||M._status===-1)&&(M._status=2,M._result=H)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var X=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},k={map:N,forEach:function(M,q,H){N(M,function(){q.apply(this,arguments)},H)},count:function(M){var q=0;return N(M,function(){q++}),q},toArray:function(M){return N(M,function(q){return q})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=y,Ne.Children=k,Ne.Component=U,Ne.Fragment=a,Ne.Profiler=x,Ne.PureComponent=E,Ne.StrictMode=i,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return B.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,q,H){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=_({},M.props),le=M.key;if(q!=null)for(ce in q.key!==void 0&&(le=""+q.key),q)!Y.call(q,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&q.ref===void 0||(J[ce]=q[ce]);var ce=arguments.length-2;if(ce===1)J.children=H;else if(1<ce){for(var fe=Array(ce),xe=0;xe<ce;xe++)fe[xe]=arguments[xe+2];J.children=fe}return Q(M.type,le,J)},Ne.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},Ne.createElement=function(M,q,H){var J,le={},ce=null;if(q!=null)for(J in q.key!==void 0&&(ce=""+q.key),q)Y.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(le[J]=q[J]);var fe=arguments.length-2;if(fe===1)le.children=H;else if(1<fe){for(var xe=Array(fe),me=0;me<fe;me++)xe[me]=arguments[me+2];le.children=xe}if(M&&M.defaultProps)for(J in fe=M.defaultProps,fe)le[J]===void 0&&(le[J]=fe[J]);return Q(M,ce,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:v,render:M}},Ne.isValidElement=P,Ne.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:O}},Ne.memo=function(M,q){return{$$typeof:d,type:M,compare:q===void 0?null:q}},Ne.startTransition=function(M){var q=B.T,H={};B.T=H;try{var J=M(),le=B.S;le!==null&&le(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(K,X)}catch(ce){X(ce)}finally{q!==null&&H.types!==null&&(q.types=H.types),B.T=q}},Ne.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ne.use=function(M){return B.H.use(M)},Ne.useActionState=function(M,q,H){return B.H.useActionState(M,q,H)},Ne.useCallback=function(M,q){return B.H.useCallback(M,q)},Ne.useContext=function(M){return B.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,q){return B.H.useDeferredValue(M,q)},Ne.useEffect=function(M,q){return B.H.useEffect(M,q)},Ne.useEffectEvent=function(M){return B.H.useEffectEvent(M)},Ne.useId=function(){return B.H.useId()},Ne.useImperativeHandle=function(M,q,H){return B.H.useImperativeHandle(M,q,H)},Ne.useInsertionEffect=function(M,q){return B.H.useInsertionEffect(M,q)},Ne.useLayoutEffect=function(M,q){return B.H.useLayoutEffect(M,q)},Ne.useMemo=function(M,q){return B.H.useMemo(M,q)},Ne.useOptimistic=function(M,q){return B.H.useOptimistic(M,q)},Ne.useReducer=function(M,q,H){return B.H.useReducer(M,q,H)},Ne.useRef=function(M){return B.H.useRef(M)},Ne.useState=function(M){return B.H.useState(M)},Ne.useSyncExternalStore=function(M,q,H){return B.H.useSyncExternalStore(M,q,H)},Ne.useTransition=function(){return B.H.useTransition()},Ne.version="19.2.3",Ne}var Nd;function Es(){return Nd||(Nd=1,ts.exports=f2()),ts.exports}var $=Es(),ns={exports:{}},er={},ls={exports:{}},as={};var Ad;function d2(){return Ad||(Ad=1,(function(c){function r(j,N){var O=j.length;j.push(N);e:for(;0<O;){var X=O-1>>>1,k=j[X];if(0<x(k,N))j[X]=N,j[O]=k,O=X;else break e}}function a(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var N=j[0],O=j.pop();if(O!==N){j[0]=O;e:for(var X=0,k=j.length,M=k>>>1;X<M;){var q=2*(X+1)-1,H=j[q],J=q+1,le=j[J];if(0>x(H,O))J<k&&0>x(le,H)?(j[X]=le,j[J]=O,X=J):(j[X]=H,j[q]=O,X=q);else if(J<k&&0>x(le,O))j[X]=le,j[J]=O,X=J;else break e}}return N}function x(j,N){var O=j.sortIndex-N.sortIndex;return O!==0?O:j.id-N.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var m=Date,v=m.now();c.unstable_now=function(){return m.now()-v}}var h=[],d=[],g=1,y=null,A=3,b=!1,D=!1,_=!1,C=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function G(j){for(var N=a(d);N!==null;){if(N.callback===null)i(d);else if(N.startTime<=j)i(d),N.sortIndex=N.expirationTime,r(h,N);else break;N=a(d)}}function R(j){if(_=!1,G(j),!D)if(a(h)!==null)D=!0,K||(K=!0,S());else{var N=a(d);N!==null&&z(R,N.startTime-j)}}var K=!1,B=-1,Y=5,Q=-1;function Z(){return C?!0:!(c.unstable_now()-Q<Y)}function P(){if(C=!1,K){var j=c.unstable_now();Q=j;var N=!0;try{e:{D=!1,_&&(_=!1,V(B),B=-1),b=!0;var O=A;try{t:{for(G(j),y=a(h);y!==null&&!(y.expirationTime>j&&Z());){var X=y.callback;if(typeof X=="function"){y.callback=null,A=y.priorityLevel;var k=X(y.expirationTime<=j);if(j=c.unstable_now(),typeof k=="function"){y.callback=k,G(j),N=!0;break t}y===a(h)&&i(h),G(j)}else i(h);y=a(h)}if(y!==null)N=!0;else{var M=a(d);M!==null&&z(R,M.startTime-j),N=!1}}break e}finally{y=null,A=O,b=!1}N=void 0}}finally{N?S():K=!1}}}var S;if(typeof E=="function")S=function(){E(P)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,T=w.port2;w.port1.onmessage=P,S=function(){T.postMessage(null)}}else S=function(){U(P,0)};function z(j,N){B=U(function(){j(c.unstable_now())},N)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(j){j.callback=null},c.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<j?Math.floor(1e3/j):5},c.unstable_getCurrentPriorityLevel=function(){return A},c.unstable_next=function(j){switch(A){case 1:case 2:case 3:var N=3;break;default:N=A}var O=A;A=N;try{return j()}finally{A=O}},c.unstable_requestPaint=function(){C=!0},c.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var O=A;A=j;try{return N()}finally{A=O}},c.unstable_scheduleCallback=function(j,N,O){var X=c.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?X+O:X):O=X,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=O+k,j={id:g++,callback:N,priorityLevel:j,startTime:O,expirationTime:k,sortIndex:-1},O>X?(j.sortIndex=O,r(d,j),a(h)===null&&j===a(d)&&(_?(V(B),B=-1):_=!0,z(R,O-X))):(j.sortIndex=k,r(h,j),D||b||(D=!0,K||(K=!0,S()))),j},c.unstable_shouldYield=Z,c.unstable_wrapCallback=function(j){var N=A;return function(){var O=A;A=N;try{return j.apply(this,arguments)}finally{A=O}}}})(as)),as}var Ld;function h2(){return Ld||(Ld=1,ls.exports=d2()),ls.exports}var is={exports:{}},Jt={};var Td;function m2(){if(Td)return Jt;Td=1;var c=Es();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},x=Symbol.for("react.portal");function f(h,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:y==null?null:""+y,children:h,containerInfo:d,implementation:g}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jt.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return f(h,d,null,g)},Jt.flushSync=function(h){var d=m.T,g=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=g,i.d.f()}},Jt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Jt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Jt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,y=v(g,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:A,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:y,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Jt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=v(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Jt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=v(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Jt.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=v(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Jt.requestFormReset=function(h){i.d.r(h)},Jt.unstable_batchedUpdates=function(h,d){return h(d)},Jt.useFormState=function(h,d,g){return m.H.useFormState(h,d,g)},Jt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var Ed;function b2(){if(Ed)return is.exports;Ed=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),is.exports=m2(),is.exports}var qd;function g2(){if(qd)return er;qd=1;var c=h2(),r=Es(),a=b2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return h(u),e;if(o===l)return h(u),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=o;else{for(var p=!1,L=u.child;L;){if(L===n){p=!0,n=u,l=o;break}if(L===l){p=!0,l=u,n=o;break}L=L.sibling}if(!p){for(L=o.child;L;){if(L===n){p=!0,n=o,l=u;break}if(L===l){p=!0,l=o,n=u;break}L=L.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),E=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function S(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function T(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case U:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case K:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case E:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case Y:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}var z=Array.isArray,j=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},X=[],k=-1;function M(e){return{current:e}}function q(e){0>k||(e.current=X[k],X[k]=null,k--)}function H(e,t){k++,X[k]=e.current,e.current=t}var J=M(null),le=M(null),ce=M(null),fe=M(null);function xe(e,t){switch(H(ce,t),H(le,e),H(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Vf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(J),H(J,e)}function me(){q(J),q(le),q(ce)}function Se(e){e.memoizedState!==null&&H(fe,e);var t=J.current,n=Vf(t,e.type);t!==n&&(H(le,e),H(J,n))}function de(e){le.current===e&&(q(J),q(le)),fe.current===e&&(q(fe),Qi._currentValue=O)}var ze,Ue;function Ie(e){if(ze===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Ue=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Ue}var at=!1;function Dt(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),p=o[0],L=o[1];if(p&&L){var I=p.split(`
`),te=L.split(`
`);for(u=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===I.length||u===te.length)for(l=I.length-1,u=te.length-1;1<=l&&0<=u&&I[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(I[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||I[l]!==te[u]){var ie=`
`+I[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ie(n):""}function Bt(e,t){switch(e.tag){case 26:case 27:case 5:return Ie(e.type);case 16:return Ie("Lazy");case 13:return e.child!==t&&t!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Dt(e.type,!1);case 11:return Dt(e.type.render,!1);case 1:return Dt(e.type,!0);case 31:return Ie("Activity");default:return""}}function it(e){try{var t="",n=null;do t+=Bt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,sn=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Pe=c.unstable_now,_n=c.unstable_getCurrentPriorityLevel,Sl=c.unstable_ImmediatePriority,el=c.unstable_UserBlockingPriority,tl=c.unstable_NormalPriority,Cl=c.unstable_LowPriority,Pl=c.unstable_IdlePriority,Wn=c.log,si=c.unstable_setDisableYieldValue,On=null,Gt=null;function Sn(e){if(typeof Wn=="function"&&si(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(On,e)}catch{}}var ke=Math.clz32?Math.clz32:Be,oe=Math.log,qe=Math.LN2;function Be(e){return e>>>=0,e===0?32:31-(oe(e)/qe|0)|0}var ye=256,ve=262144,Ae=4194304;function De(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~o,l!==0?u=De(l):(p&=L,p!==0?u=De(p):n||(n=L&~e,n!==0&&(u=De(n))))):(L=l&~o,L!==0?u=De(L):p!==0?u=De(p):n||(n=l&~e,n!==0&&(u=De(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function We(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nt(e,t,n,l,u,o){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,I=e.expirationTimes,te=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-ke(n),ue=1<<ie;L[ie]=0,I[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&tt(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(p&~t))}function tt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-ke(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function St(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-ke(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function Ce(e,t){var n=t&-t;return n=(n&42)!==0?1:$e(n),(n&(e.suspendedLanes|t))!==0?0:n}function $e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ht(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function At(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:yd(e.type))}function _a(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var on=Math.random().toString(36).slice(2),gt="__reactFiber$"+on,Xt="__reactProps$"+on,wl="__reactContainer$"+on,oi="__reactEvents$"+on,he="__reactListeners$"+on,we="__reactHandles$"+on,Ke="__reactResources$"+on,Lt="__reactMarker$"+on;function vt(e){delete e[gt],delete e[Xt],delete e[oi],delete e[he],delete e[we]}function Vt(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wl]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[gt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function jl(e){if(e=e[gt]||e[wl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Sa(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[Lt]=!0}var Bs=new Set,Gs={};function Fl(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Gs[e]=t,e=0;e<t.length;e++)Bs.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rs={},ks={};function n1(e){return dt.call(ks,e)?!0:dt.call(Rs,e)?!1:t1.test(e)?ks[e]=!0:(Rs[e]=!0,!1)}function or(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){n=""+p,o.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function J0(e){if(!e._valueTracker){var t=Os(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Ys(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Os(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function wn(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function W0(e,t,n,l,u,o,p,L){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Q0(e,p,Cn(t)):n!=null?Q0(e,p,Cn(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Cn(L):e.removeAttribute("name")}function Hs(e,t,n,l,u,o,p,L){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){J0(e);return}n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),J0(e)}function Q0(e,t,n){t==="number"&&fr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Us(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function Is(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(z(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),J0(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ks(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Ks(e,o,t[o])}function V0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var P0=null;function F0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Xs(e){var t=jl(e);if(t&&(e=t.stateNode)){var n=e[Xt]||null;e:switch(e=t.stateNode,t.type){case"input":if(W0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Xt]||null;if(!u)throw Error(i(90));W0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Ys(l)}break e;case"textarea":Us(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var $0=!1;function Js(e,t,n){if($0)return e(t,n);$0=!0;try{var l=e(t);return l}finally{if($0=!1,(Ma!==null||za!==null)&&(e0(),Ma&&(t=Ma,e=za,za=Ma=null,Xs(t),e)))for(t=0;t<e.length;t++)Xs(e[t])}}function fi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Xt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(al)try{var di={};Object.defineProperty(di,"passive",{get:function(){ec=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{ec=!1}var Ml=null,tc=null,hr=null;function Ws(){if(hr)return hr;var e,t=tc,n=t.length,l,u="value"in Ml?Ml.value:Ml.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===u[o-l];l++);return hr=u.slice(e,1<l?1-l:void 0)}function mr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function Qs(){return!1}function Pt(e){function t(n,l,u,o,p){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=p,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(o):o[L]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?br:Qs,this.isPropagationStopped=Qs,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),t}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=Pt($l),hi=y({},$l,{view:0,detail:0}),u1=Pt(hi),nc,lc,mi,vr=y({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(nc=e.screenX-mi.screenX,lc=e.screenY-mi.screenY):lc=nc=0,mi=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),Vs=Pt(vr),s1=y({},vr,{dataTransfer:0}),o1=Pt(s1),x1=y({},hi,{relatedTarget:0}),ac=Pt(x1),f1=y({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Pt(f1),h1=y({},$l,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Pt(h1),b1=y({},$l,{data:0}),Ps=Pt(b1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function ic(){return p1}var _1=y({},hi,{key:function(e){if(e.key){var t=g1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Pt(_1),C1=y({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=Pt(C1),w1=y({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),j1=Pt(w1),M1=y({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Pt(M1),D1=y({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Pt(D1),A1=y({},$l,{newState:0,oldState:0}),L1=Pt(A1),T1=[9,13,27,32],rc=al&&"CompositionEvent"in window,bi=null;al&&"documentMode"in document&&(bi=document.documentMode);var E1=al&&"TextEvent"in window&&!bi,$s=al&&(!rc||bi&&8<bi&&11>=bi),eo=" ",to=!1;function no(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function q1(e,t){switch(e){case"compositionend":return lo(t);case"keypress":return t.which!==32?null:(to=!0,eo);case"textInput":return e=t.data,e===eo&&to?null:e;default:return null}}function B1(e,t){if(Da)return e==="compositionend"||!rc&&no(e,t)?(e=Ws(),hr=tc=Ml=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $s&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function io(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=c0(t,"onChange"),0<t.length&&(n=new gr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var gi=null,vi=null;function R1(e){If(e,0)}function yr(e){var t=xi(e);if(Ys(t))return e}function ro(e,t){if(e==="change")return t}var co=!1;if(al){var cc;if(al){var uc="oninput"in document;if(!uc){var uo=document.createElement("div");uo.setAttribute("oninput","return;"),uc=typeof uo.oninput=="function"}cc=uc}else cc=!1;co=cc&&(!document.documentMode||9<document.documentMode)}function so(){gi&&(gi.detachEvent("onpropertychange",oo),vi=gi=null)}function oo(e){if(e.propertyName==="value"&&yr(vi)){var t=[];io(t,vi,e,F0(e)),Js(R1,t)}}function k1(e,t,n){e==="focusin"?(so(),gi=t,vi=n,gi.attachEvent("onpropertychange",oo)):e==="focusout"&&so()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yr(vi)}function Y1(e,t){if(e==="click")return yr(t)}function H1(e,t){if(e==="input"||e==="change")return yr(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:U1;function yi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!dt.call(t,u)||!xn(e[u],t[u]))return!1}return!0}function xo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,t){var n=xo(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xo(n)}}function ho(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ho(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fr(e.document)}return t}function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var I1=al&&"documentMode"in document&&11>=document.documentMode,Na=null,oc=null,pi=null,xc=!1;function bo(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Na==null||Na!==fr(l)||(l=Na,"selectionStart"in l&&sc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pi&&yi(pi,l)||(pi=l,l=c0(oc,"onSelect"),0<l.length&&(t=new gr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},fc={},go={};al&&(go=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function ta(e){if(fc[e])return fc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in go)return fc[e]=t[n];return e}var vo=ta("animationend"),yo=ta("animationiteration"),po=ta("animationstart"),K1=ta("transitionrun"),Z1=ta("transitionstart"),X1=ta("transitioncancel"),_o=ta("transitionend"),So=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function Yn(e,t){So.set(e,t),Fl(t,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],La=0,hc=0;function _r(){for(var e=La,t=hc=La=0;t<e;){var n=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var u=jn[t];jn[t++]=null;var o=jn[t];if(jn[t++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}o!==0&&Co(n,u,o)}}function Sr(e,t,n,l){jn[La++]=e,jn[La++]=t,jn[La++]=n,jn[La++]=l,hc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mc(e,t,n,l){return Sr(e,t,n,l),Cr(e)}function na(e,t){return Sr(e,null,null,t),Cr(e)}function Co(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-ke(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function Cr(e){if(50<Ui)throw Ui=0,wu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,l){return new J1(e,t,n,l)}function bc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function wo(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wr(e,t,n,l,u,o){var p=0;if(l=e,typeof e=="function")bc(e)&&(p=1);else if(typeof e=="string")p=Fh(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=fn(31,n,t,u),e.elementType=Q,e.lanes=o,e;case _:return la(n.children,u,o,t);case C:p=8,u|=24;break;case U:return e=fn(12,n,t,u|2),e.elementType=U,e.lanes=o,e;case R:return e=fn(13,n,t,u),e.elementType=R,e.lanes=o,e;case K:return e=fn(19,n,t,u),e.elementType=K,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:p=10;break e;case V:p=9;break e;case G:p=11;break e;case B:p=14;break e;case Y:p=16,l=null;break e}p=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=fn(p,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function la(e,t,n,l){return e=fn(7,e,l,t),e.lanes=n,e}function gc(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function jo(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function vc(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mo=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=Mo.get(e);return n!==void 0?n:(t={value:e,source:t,stack:it(t)},Mo.set(e,t),t)}return{value:e,source:t,stack:it(t)}}var Ea=[],qa=0,jr=null,_i=0,zn=[],Dn=0,zl=null,Qn=1,Vn="";function rl(e,t){Ea[qa++]=_i,Ea[qa++]=jr,jr=e,_i=t}function zo(e,t,n){zn[Dn++]=Qn,zn[Dn++]=Vn,zn[Dn++]=zl,zl=e;var l=Qn;e=Vn;var u=32-ke(l)-1;l&=~(1<<u),n+=1;var o=32-ke(t)+u;if(30<o){var p=u-u%5;o=(l&(1<<p)-1).toString(32),l>>=p,u-=p,Qn=1<<32-ke(t)+u|n<<u|l,Vn=o+e}else Qn=1<<o|n<<u|l,Vn=e}function yc(e){e.return!==null&&(rl(e,1),zo(e,1,0))}function pc(e){for(;e===jr;)jr=Ea[--qa],Ea[qa]=null,_i=Ea[--qa],Ea[qa]=null;for(;e===zl;)zl=zn[--Dn],zn[Dn]=null,Vn=zn[--Dn],zn[Dn]=null,Qn=zn[--Dn],zn[Dn]=null}function Do(e,t){zn[Dn++]=Qn,zn[Dn++]=Vn,zn[Dn++]=zl,Qn=t.id,Vn=t.overflow,zl=e}var Rt=null,ot=null,He=!1,Dl=null,Nn=!1,_c=Error(i(519));function Nl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Si(Mn(t,e)),_c}function No(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Xt]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ki.length;n++)Re(Ki[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Hs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Is(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Jf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||Nl(e,!0)}function Ao(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:Rt=Rt.return}}function Ba(e){if(e!==Rt)return!1;if(!He)return Ao(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&ot&&Nl(e),Ao(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=nd(e)}else t===27?(t=ot,Il(e.type)?(e=Ku,Ku=null,ot=e):ot=t):ot=Rt?Ln(e.stateNode.nextSibling):null;return!0}function aa(){ot=Rt=null,He=!1}function Sc(){var e=Dl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Dl=null),e}function Si(e){Dl===null?Dl=[e]:Dl.push(e)}var Cc=M(null),ia=null,cl=null;function Al(e,t,n){H(Cc,t._currentValue),t._currentValue=n}function ul(e){e._currentValue=Cc.current,q(Cc)}function wc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var p=u.child;o=o.firstContext;e:for(;o!==null;){var L=o;o=u;for(var I=0;I<t.length;I++)if(L.context===t[I]){o.lanes|=n,L=o.alternate,L!==null&&(L.lanes|=n),wc(o.return,n,e),l||(p=null);break e}o=L.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(i(341));p.lanes|=n,o=p.alternate,o!==null&&(o.lanes|=n),wc(p,n,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Ga(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var L=u.type;xn(u.pendingProps.value,p.value)||(e!==null?e.push(L):e=[L])}}else if(u===fe.current){if(p=u.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}u=u.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function Mr(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Lo(ia,e)}function zr(e,t){return ia===null&&ra(e),Lo(e,t)}function Lo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cl===null){if(e===null)throw Error(i(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return n}var W1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Q1=c.unstable_scheduleCallback,V1=c.unstable_NormalPriority,Ct={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new W1,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&Q1(V1,function(){e.controller.abort()})}var wi=null,zc=0,Ra=0,ka=null;function P1(e,t){if(wi===null){var n=wi=[];zc=0,Ra=Au(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return zc++,t.then(To,To),t}function To(){if(--zc===0&&wi!==null){ka!==null&&(ka.status="fulfilled");var e=wi;wi=null,Ra=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Eo=j.S;j.S=function(e,t){gf=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Eo!==null&&Eo(e,t)};var ca=M(null);function Dc(){var e=ca.current;return e!==null?e:st.pooledCache}function Dr(e,t){t===null?H(ca,ca.current):H(ca,t.pool)}function qo(){var e=Dc();return e===null?null:{parent:Ct._currentValue,pool:e}}var Oa=Error(i(460)),Nc=Error(i(474)),Nr=Error(i(542)),Ar={then:function(){}};function Bo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ll,ll),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ko(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ko(e),e}throw sa=t,Oa}}function ua(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,Oa):n}}var sa=null;function Ro(){if(sa===null)throw Error(i(459));var e=sa;return sa=null,e}function ko(e){if(e===Oa||e===Nr)throw Error(i(483))}var Ya=null,ji=0;function Lr(e){var t=ji;return ji+=1,Ya===null&&(Ya=[]),Go(Ya,e,t)}function Mi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===A?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oo(e){function t(F,W){if(e){var ee=F.deletions;ee===null?(F.deletions=[W],F.flags|=16):ee.push(W)}}function n(F,W){if(!e)return null;for(;W!==null;)t(F,W),W=W.sibling;return null}function l(F){for(var W=new Map;F!==null;)F.key!==null?W.set(F.key,F):W.set(F.index,F),F=F.sibling;return W}function u(F,W){return F=il(F,W),F.index=0,F.sibling=null,F}function o(F,W,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<W?(F.flags|=67108866,W):ee):(F.flags|=67108866,W)):(F.flags|=1048576,W)}function p(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function L(F,W,ee,re){return W===null||W.tag!==6?(W=gc(ee,F.mode,re),W.return=F,W):(W=u(W,ee),W.return=F,W)}function I(F,W,ee,re){var _e=ee.type;return _e===_?ie(F,W,ee.props.children,re,ee.key):W!==null&&(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&ua(_e)===W.type)?(W=u(W,ee.props),Mi(W,ee),W.return=F,W):(W=wr(ee.type,ee.key,ee.props,null,F.mode,re),Mi(W,ee),W.return=F,W)}function te(F,W,ee,re){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=vc(ee,F.mode,re),W.return=F,W):(W=u(W,ee.children||[]),W.return=F,W)}function ie(F,W,ee,re,_e){return W===null||W.tag!==7?(W=la(ee,F.mode,re,_e),W.return=F,W):(W=u(W,ee),W.return=F,W)}function ue(F,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=gc(""+W,F.mode,ee),W.return=F,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return ee=wr(W.type,W.key,W.props,null,F.mode,ee),Mi(ee,W),ee.return=F,ee;case D:return W=vc(W,F.mode,ee),W.return=F,W;case Y:return W=ua(W),ue(F,W,ee)}if(z(W)||S(W))return W=la(W,F.mode,ee,null),W.return=F,W;if(typeof W.then=="function")return ue(F,Lr(W),ee);if(W.$$typeof===E)return ue(F,zr(F,W),ee);Tr(F,W)}return null}function ne(F,W,ee,re){var _e=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:L(F,W,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===_e?I(F,W,ee,re):null;case D:return ee.key===_e?te(F,W,ee,re):null;case Y:return ee=ua(ee),ne(F,W,ee,re)}if(z(ee)||S(ee))return _e!==null?null:ie(F,W,ee,re,null);if(typeof ee.then=="function")return ne(F,W,Lr(ee),re);if(ee.$$typeof===E)return ne(F,W,zr(F,ee),re);Tr(F,ee)}return null}function ae(F,W,ee,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(ee)||null,L(W,F,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return F=F.get(re.key===null?ee:re.key)||null,I(W,F,re,_e);case D:return F=F.get(re.key===null?ee:re.key)||null,te(W,F,re,_e);case Y:return re=ua(re),ae(F,W,ee,re,_e)}if(z(re)||S(re))return F=F.get(ee)||null,ie(W,F,re,_e,null);if(typeof re.then=="function")return ae(F,W,ee,Lr(re),_e);if(re.$$typeof===E)return ae(F,W,ee,zr(W,re),_e);Tr(W,re)}return null}function be(F,W,ee,re){for(var _e=null,Qe=null,ge=W,Ee=W=0,Ye=null;ge!==null&&Ee<ee.length;Ee++){ge.index>Ee?(Ye=ge,ge=null):Ye=ge.sibling;var Ve=ne(F,ge,ee[Ee],re);if(Ve===null){ge===null&&(ge=Ye);break}e&&ge&&Ve.alternate===null&&t(F,ge),W=o(Ve,W,Ee),Qe===null?_e=Ve:Qe.sibling=Ve,Qe=Ve,ge=Ye}if(Ee===ee.length)return n(F,ge),He&&rl(F,Ee),_e;if(ge===null){for(;Ee<ee.length;Ee++)ge=ue(F,ee[Ee],re),ge!==null&&(W=o(ge,W,Ee),Qe===null?_e=ge:Qe.sibling=ge,Qe=ge);return He&&rl(F,Ee),_e}for(ge=l(ge);Ee<ee.length;Ee++)Ye=ae(ge,F,Ee,ee[Ee],re),Ye!==null&&(e&&Ye.alternate!==null&&ge.delete(Ye.key===null?Ee:Ye.key),W=o(Ye,W,Ee),Qe===null?_e=Ye:Qe.sibling=Ye,Qe=Ye);return e&&ge.forEach(function(Wl){return t(F,Wl)}),He&&rl(F,Ee),_e}function Me(F,W,ee,re){if(ee==null)throw Error(i(151));for(var _e=null,Qe=null,ge=W,Ee=W=0,Ye=null,Ve=ee.next();ge!==null&&!Ve.done;Ee++,Ve=ee.next()){ge.index>Ee?(Ye=ge,ge=null):Ye=ge.sibling;var Wl=ne(F,ge,Ve.value,re);if(Wl===null){ge===null&&(ge=Ye);break}e&&ge&&Wl.alternate===null&&t(F,ge),W=o(Wl,W,Ee),Qe===null?_e=Wl:Qe.sibling=Wl,Qe=Wl,ge=Ye}if(Ve.done)return n(F,ge),He&&rl(F,Ee),_e;if(ge===null){for(;!Ve.done;Ee++,Ve=ee.next())Ve=ue(F,Ve.value,re),Ve!==null&&(W=o(Ve,W,Ee),Qe===null?_e=Ve:Qe.sibling=Ve,Qe=Ve);return He&&rl(F,Ee),_e}for(ge=l(ge);!Ve.done;Ee++,Ve=ee.next())Ve=ae(ge,F,Ee,Ve.value,re),Ve!==null&&(e&&Ve.alternate!==null&&ge.delete(Ve.key===null?Ee:Ve.key),W=o(Ve,W,Ee),Qe===null?_e=Ve:Qe.sibling=Ve,Qe=Ve);return e&&ge.forEach(function(s2){return t(F,s2)}),He&&rl(F,Ee),_e}function ut(F,W,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===_&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var _e=ee.key;W!==null;){if(W.key===_e){if(_e=ee.type,_e===_){if(W.tag===7){n(F,W.sibling),re=u(W,ee.props.children),re.return=F,F=re;break e}}else if(W.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Y&&ua(_e)===W.type){n(F,W.sibling),re=u(W,ee.props),Mi(re,ee),re.return=F,F=re;break e}n(F,W);break}else t(F,W);W=W.sibling}ee.type===_?(re=la(ee.props.children,F.mode,re,ee.key),re.return=F,F=re):(re=wr(ee.type,ee.key,ee.props,null,F.mode,re),Mi(re,ee),re.return=F,F=re)}return p(F);case D:e:{for(_e=ee.key;W!==null;){if(W.key===_e)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){n(F,W.sibling),re=u(W,ee.children||[]),re.return=F,F=re;break e}else{n(F,W);break}else t(F,W);W=W.sibling}re=vc(ee,F.mode,re),re.return=F,F=re}return p(F);case Y:return ee=ua(ee),ut(F,W,ee,re)}if(z(ee))return be(F,W,ee,re);if(S(ee)){if(_e=S(ee),typeof _e!="function")throw Error(i(150));return ee=_e.call(ee),Me(F,W,ee,re)}if(typeof ee.then=="function")return ut(F,W,Lr(ee),re);if(ee.$$typeof===E)return ut(F,W,zr(F,ee),re);Tr(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(n(F,W.sibling),re=u(W,ee),re.return=F,F=re):(n(F,W),re=gc(ee,F.mode,re),re.return=F,F=re),p(F)):n(F,W)}return function(F,W,ee,re){try{ji=0;var _e=ut(F,W,ee,re);return Ya=null,_e}catch(ge){if(ge===Oa||ge===Nr)throw ge;var Qe=fn(29,ge,null,F.mode);return Qe.lanes=re,Qe.return=F,Qe}}}var oa=Oo(!0),Yo=Oo(!1),Ll=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function El(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Cr(e),Co(e,null,n),t}return Sr(e,l,t,n),Cr(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,St(e,n)}}function Tc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=p:o=o.next=p,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ec=!1;function Di(){if(Ec){var e=ka;if(e!==null)throw e}}function Ni(e,t,n,l){Ec=!1;var u=e.updateQueue;Ll=!1;var o=u.firstBaseUpdate,p=u.lastBaseUpdate,L=u.shared.pending;if(L!==null){u.shared.pending=null;var I=L,te=I.next;I.next=null,p===null?o=te:p.next=te,p=I;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==p&&(L===null?ie.firstBaseUpdate=te:L.next=te,ie.lastBaseUpdate=I))}if(o!==null){var ue=u.baseState;p=0,ie=te=I=null,L=o;do{var ne=L.lane&-536870913,ae=ne!==L.lane;if(ae?(Oe&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ra&&(Ec=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var be=e,Me=L;ne=t;var ut=n;switch(Me.tag){case 1:if(be=Me.payload,typeof be=="function"){ue=be.call(ut,ue,ne);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Me.payload,ne=typeof be=="function"?be.call(ut,ue,ne):be,ne==null)break e;ue=y({},ue,ne);break e;case 2:Ll=!0}}ne=L.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(te=ie=ae,I=ue):ie=ie.next=ae,p|=ne;if(L=L.next,L===null){if(L=u.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(I=ue),u.baseState=I,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,o===null&&(u.shared.lanes=0),kl|=p,e.lanes=p,e.memoizedState=ue}}function Ho(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Uo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ho(n[e],t)}var Ha=M(null),Er=M(0);function Io(e,t){e=gl,H(Er,e),H(Ha,t),gl=e|t.baseLanes}function qc(){H(Er,gl),H(Ha,Ha.current)}function Bc(){gl=Er.current,q(Ha),q(Er)}var dn=M(null),An=null;function ql(e){var t=e.alternate;H(yt,yt.current&1),H(dn,e),An===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(An=e)}function Gc(e){H(yt,yt.current),H(dn,e),An===null&&(An=e)}function Ko(e){e.tag===22?(H(yt,yt.current),H(dn,e),An===null&&(An=e)):Bl()}function Bl(){H(yt,yt.current),H(dn,dn.current)}function hn(e){q(dn),An===e&&(An=null),q(yt)}var yt=M(0);function qr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uu(n)||Iu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=0,Te=null,rt=null,wt=null,Br=!1,Ua=!1,xa=!1,Gr=0,Ai=0,Ia=null,$1=0;function mt(){throw Error(i(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function kc(e,t,n,l,u,o){return sl=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?zx:$c,xa=!1,o=n(l,u),xa=!1,Ua&&(o=Xo(t,n,l,u)),Zo(e),o}function Zo(e){j.H=Ei;var t=rt!==null&&rt.next!==null;if(sl=0,wt=rt=Te=null,Br=!1,Ai=0,Ia=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Mr(e)&&(jt=!0))}function Xo(e,t,n,l){Te=e;var u=0;do{if(Ua&&(Ia=null),Ai=0,Ua=!1,25<=u)throw Error(i(301));if(u+=1,wt=rt=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Dx,o=t(n,l)}while(Ua);return o}function eh(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(Te.flags|=1024),t}function Oc(){var e=Gr!==0;return Gr=0,e}function Yc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Br){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Br=!1}sl=0,wt=rt=Te=null,Ua=!1,Ai=Gr=0,Ia=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Te.memoizedState=wt=e:wt=wt.next=e,wt}function pt(){if(rt===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=wt===null?Te.memoizedState:wt.next;if(t!==null)wt=t,rt=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},wt===null?Te.memoizedState=wt=e:wt=wt.next=e}return wt}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=Ai;return Ai+=1,Ia===null&&(Ia=[]),e=Go(Ia,e,t),t=Te,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?zx:$c),e}function kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===E)return kt(e)}throw Error(i(438,String(e)))}function Uc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Z;return t.index++,n}function ol(e,t){return typeof t=="function"?t(e):t}function Or(e){var t=pt();return Ic(t,rt,e)}function Ic(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var p=u.next;u.next=o.next,o.next=p}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var L=p=null,I=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(Oe&ue)===ue:(sl&ue)===ue){var ne=te.revertLane;if(ne===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ra&&(ie=!0);else if((sl&ne)===ne){te=te.next,ne===Ra&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},I===null?(L=I=ue,p=o):I=I.next=ue,Te.lanes|=ne,kl|=ne;ue=te.action,xa&&n(o,ue),o=te.hasEagerState?te.eagerState:n(o,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},I===null?(L=I=ne,p=o):I=I.next=ne,Te.lanes|=ue,kl|=ue;te=te.next}while(te!==null&&te!==t);if(I===null?p=o:I.next=L,!xn(o,e.memoizedState)&&(jt=!0,ie&&(n=ka,n!==null)))throw n;e.memoizedState=o,e.baseState=p,e.baseQueue=I,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kc(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var p=u=u.next;do o=e(o,p.action),p=p.next;while(p!==u);xn(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Jo(e,t,n){var l=Te,u=pt(),o=He;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var p=!xn((rt||u).memoizedState,n);if(p&&(u.memoizedState=n,jt=!0),u=u.queue,Jc(Vo.bind(null,l,u,e),[e]),u.getSnapshot!==t||p||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Qo.bind(null,l,u,n,t),null),st===null)throw Error(i(349));o||(sl&127)!==0||Wo(l,t,n)}return n}function Wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Rr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qo(e,t,n,l){t.value=n,t.getSnapshot=l,Po(t)&&Fo(e)}function Vo(e,t,n){return n(function(){Po(t)&&Fo(e)})}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Fo(e){var t=na(e,2);t!==null&&nn(t,e,2)}function Zc(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),xa){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:e},t}function $o(e,t,n,l){return e.baseState=n,Ic(e,rt,typeof l=="function"?l:ol)}function th(e,t,n,l,u){if(Ur(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){o.listeners.push(p)}};j.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,ex(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ex(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=j.T,p={};j.T=p;try{var L=n(u,l),I=j.S;I!==null&&I(p,L),tx(e,t,L)}catch(te){Xc(e,t,te)}finally{o!==null&&p.types!==null&&(o.types=p.types),j.T=o}}else try{o=n(u,l),tx(e,t,o)}catch(te){Xc(e,t,te)}}function tx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){nx(e,t,l)},function(l){return Xc(e,t,l)}):nx(e,t,n)}function nx(e,t,n){t.status="fulfilled",t.value=n,lx(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ex(e,n)))}function Xc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lx(t),t=t.next;while(t!==l)}e.action=null}function lx(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ax(e,t){return t}function ix(e,t){if(He){var n=st.formState;if(n!==null){e:{var l=Te;if(He){if(ot){t:{for(var u=ot,o=Nn;u.nodeType!==8;){if(!o){u=null;break t}if(u=Ln(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){ot=Ln(u.nextSibling),l=u.data==="F!";break e}}Nl(l)}l=!1}l&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ax,lastRenderedState:t},n.queue=l,n=wx.bind(null,Te,l),l.dispatch=n,l=Zc(!1),o=Fc.bind(null,Te,!1,l.queue),l=Wt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=th.bind(null,Te,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function rx(e){var t=pt();return cx(t,rt,e)}function cx(e,t,n){if(t=Ic(e,t,ax)[0],e=Or(ol)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Li(t)}catch(p){throw p===Oa?Nr:p}else l=t;t=pt();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ka(9,{destroy:void 0},nh.bind(null,u,n),null)),[l,o,e]}function nh(e,t){e.action=t}function ux(e){var t=pt(),n=rt;if(n!==null)return cx(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ka(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Rr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function sx(){return pt().memoizedState}function Yr(e,t,n,l){var u=Wt();Te.flags|=e,u.memoizedState=Ka(1|t,{destroy:void 0},n,l===void 0?null:l)}function Hr(e,t,n,l){var u=pt();l=l===void 0?null:l;var o=u.memoizedState.inst;rt!==null&&l!==null&&Rc(l,rt.memoizedState.deps)?u.memoizedState=Ka(t,o,n,l):(Te.flags|=e,u.memoizedState=Ka(1|t,o,n,l))}function ox(e,t){Yr(8390656,8,e,t)}function Jc(e,t){Hr(2048,8,e,t)}function lh(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Rr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function xx(e){var t=pt().memoizedState;return lh({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fx(e,t){return Hr(4,2,e,t)}function dx(e,t){return Hr(4,4,e,t)}function hx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mx(e,t,n){n=n!=null?n.concat([e]):null,Hr(4,4,hx.bind(null,t,e),n)}function Wc(){}function bx(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Rc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function gx(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Rc(t,l[1]))return l[0];if(l=e(),xa){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l}function Qc(e,t,n){return n===void 0||(sl&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=yf(),Te.lanes|=e,kl|=e,n)}function vx(e,t,n,l){return xn(n,t)?n:Ha.current!==null?(e=Qc(e,n,l),xn(e,t)||(jt=!0),e):(sl&42)===0||(sl&1073741824)!==0&&(Oe&261930)===0?(jt=!0,e.memoizedState=n):(e=yf(),Te.lanes|=e,kl|=e,t)}function yx(e,t,n,l,u){var o=N.p;N.p=o!==0&&8>o?o:8;var p=j.T,L={};j.T=L,Fc(e,!1,t,n);try{var I=u(),te=j.S;if(te!==null&&te(L,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ie=F1(I,l);Ti(e,t,ie,gn(e))}else Ti(e,t,l,gn(e))}catch(ue){Ti(e,t,{then:function(){},status:"rejected",reason:ue},gn())}finally{N.p=o,p!==null&&L.types!==null&&(p.types=L.types),j.T=p}}function ah(){}function Vc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=px(e).queue;yx(e,u,t,O,n===null?ah:function(){return _x(e),n(l)})}function px(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:O},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _x(e){var t=px(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},gn())}function Pc(){return kt(Qi)}function Sx(){return pt().memoizedState}function Cx(){return pt().memoizedState}function ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=gn();e=Tl(n);var l=El(t,e,n);l!==null&&(nn(l,t,n),zi(l,t,n)),t={cache:Mc()},e.payload=t;return}t=t.return}}function rh(e,t,n){var l=gn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ur(e)?jx(t,n):(n=mc(e,t,n,l),n!==null&&(nn(n,e,l),Mx(n,t,l)))}function wx(e,t,n){var l=gn();Ti(e,t,n,l)}function Ti(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))jx(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var p=t.lastRenderedState,L=o(p,n);if(u.hasEagerState=!0,u.eagerState=L,xn(L,p))return Sr(e,t,u,0),st===null&&_r(),!1}catch{}if(n=mc(e,t,u,l),n!==null)return nn(n,e,l),Mx(n,t,l),!0}return!1}function Fc(e,t,n,l){if(l={lane:2,revertLane:Au(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(t)throw Error(i(479))}else t=mc(e,n,l,2),t!==null&&nn(t,e,2)}function Ur(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function jx(e,t){Ua=Br=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mx(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,St(e,n)}}var Ei={readContext:kt,use:kr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Ei.useEffectEvent=mt;var zx={readContext:kt,use:kr,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:ox,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Yr(4194308,4,hx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){Yr(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var l=e();if(xa){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Wt();if(n!==void 0){var u=n(t);if(xa){Sn(!0);try{n(t)}finally{Sn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=rh.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zc(e);var t=e.queue,n=wx.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wc,useDeferredValue:function(e,t){var n=Wt();return Qc(n,e,t)},useTransition:function(){var e=Zc(!1);return e=yx.bind(null,Te,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Wt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),st===null)throw Error(i(349));(Oe&127)!==0||Wo(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,ox(Vo.bind(null,l,o,e),[e]),l.flags|=2048,Ka(9,{destroy:void 0},Qo.bind(null,l,o,n,t),null),n},useId:function(){var e=Wt(),t=st.identifierPrefix;if(He){var n=Vn,l=Qn;n=(l&~(1<<32-ke(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Pc,useFormState:ix,useActionState:ix,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Fc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uc,useCacheRefresh:function(){return Wt().memoizedState=ih.bind(null,Te)},useEffectEvent:function(e){var t=Wt(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},$c={readContext:kt,use:kr,useCallback:bx,useContext:kt,useEffect:Jc,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:Or,useRef:sx,useState:function(){return Or(ol)},useDebugValue:Wc,useDeferredValue:function(e,t){var n=pt();return vx(n,rt.memoizedState,e,t)},useTransition:function(){var e=Or(ol)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Jo,useId:Sx,useHostTransitionStatus:Pc,useFormState:rx,useActionState:rx,useOptimistic:function(e,t){var n=pt();return $o(n,rt,e,t)},useMemoCache:Uc,useCacheRefresh:Cx};$c.useEffectEvent=xx;var Dx={readContext:kt,use:kr,useCallback:bx,useContext:kt,useEffect:Jc,useImperativeHandle:mx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:gx,useReducer:Kc,useRef:sx,useState:function(){return Kc(ol)},useDebugValue:Wc,useDeferredValue:function(e,t){var n=pt();return rt===null?Qc(n,e,t):vx(n,rt.memoizedState,e,t)},useTransition:function(){var e=Kc(ol)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Jo,useId:Sx,useHostTransitionStatus:Pc,useFormState:ux,useActionState:ux,useOptimistic:function(e,t){var n=pt();return rt!==null?$o(n,rt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:Cx};Dx.useEffectEvent=xx;function eu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=gn(),u=Tl(l);u.payload=t,n!=null&&(u.callback=n),t=El(e,u,l),t!==null&&(nn(t,e,l),zi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=gn(),u=Tl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=El(e,u,l),t!==null&&(nn(t,e,l),zi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gn(),l=Tl(n);l.tag=2,t!=null&&(l.callback=t),t=El(e,l,n),t!==null&&(nn(t,e,n),zi(t,e,n))}};function Nx(e,t,n,l,u,o,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,p):t.prototype&&t.prototype.isPureReactComponent?!yi(n,l)||!yi(u,o):!0}function Ax(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&tu.enqueueReplaceState(t,t.state,null)}function fa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Lx(e){pr(e)}function Tx(e){console.error(e)}function Ex(e){pr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qx(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function nu(e,t,n){return n=Tl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Bx(e){return e=Tl(e),e.tag=3,e}function Gx(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){qx(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qx(t,n,l),typeof u!="function"&&(Ol===null?Ol=new Set([this]):Ol.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function ch(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,u,!0),n=dn.current,n!==null){switch(n.tag){case 31:case 13:return An===null?t0():n.alternate===null&&bt===0&&(bt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),zu(e,l,u)),!1;case 22:return n.flags|=65536,l===Ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),zu(e,l,u)),!1}throw Error(i(435,n.tag))}return zu(e,l,u),t0(),!1}if(He)return t=dn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==_c&&(e=Error(i(422),{cause:l}),Si(Mn(e,n)))):(l!==_c&&(t=Error(i(423),{cause:l}),Si(Mn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,n),u=nu(e.stateNode,l,u),Tc(e,u),bt!==4&&(bt=2)),!1;var o=Error(i(520),{cause:l});if(o=Mn(o,n),Hi===null?Hi=[o]:Hi.push(o),bt!==4&&(bt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=nu(n.stateNode,l,e),Tc(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ol===null||!Ol.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Bx(u),Gx(u,e,n,l),Tc(n,u),!1}n=n.return}while(n!==null);return!1}var lu=Error(i(461)),jt=!1;function Ot(e,t,n,l){t.child=e===null?Yo(t,null,n,l):oa(t,e.child,n,l)}function Rx(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var p={};for(var L in l)L!=="ref"&&(p[L]=l[L])}else p=l;return ra(t),l=kc(e,t,n,p,o,u),L=Oc(),e!==null&&!jt?(Yc(e,t,u),xl(e,t,u)):(He&&L&&yc(t),t.flags|=1,Ot(e,t,l,u),t.child)}function kx(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!bc(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Ox(e,t,o,l,u)):(e=wr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!xu(e,u)){var p=o.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(p,l)&&e.ref===t.ref)return xl(e,t,u)}return t.flags|=1,e=il(o,l),e.ref=t.ref,e.return=t,t.child=e}function Ox(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(yi(o,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=o,xu(e,u))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,xl(e,t,u)}return au(e,t,n,l,u)}function Yx(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Hx(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dr(t,o!==null?o.cachePool:null),o!==null?Io(t,o):qc(),Ko(t);else return l=t.lanes=536870912,Hx(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Dr(t,o.cachePool),Io(t,o),Bl(),t.memoizedState=null):(e!==null&&Dr(t,null),qc(),Bl());return Ot(e,t,u,n),t.child}function qi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hx(e,t,n,l,u){var o=Dc();return o=o===null?null:{parent:Ct._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Dr(t,null),qc(),Ko(t),e!==null&&Ga(e,t,l,!0),t.childLanes=u,null}function Kr(e,t){return t=Xr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ux(e,t,n){return oa(t,e.child,null,n),e=Kr(t,t.pendingProps),e.flags|=2,hn(t),t.memoizedState=null,e}function uh(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Kr(t,l),t.lanes=536870912,qi(null,e);if(Gc(t),(e=ot)?(e=td(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Qn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw Nl(t);return t.lanes=536870912,null}return Kr(t,l)}var o=e.memoizedState;if(o!==null){var p=o.dehydrated;if(Gc(t),u)if(t.flags&256)t.flags&=-257,t=Ux(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||Ga(e,t,n,!1),u=(n&e.childLanes)!==0,jt||u){if(l=st,l!==null&&(p=Ce(l,n),p!==0&&p!==o.retryLane))throw o.retryLane=p,na(e,p),nn(l,e,p),lu;t0(),t=Ux(e,t,n)}else e=o.treeContext,ot=Ln(p.nextSibling),Rt=t,He=!0,Dl=null,Nn=!1,e!==null&&Do(t,e),t=Kr(t,l),t.flags|=4096;return t}return e=il(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function au(e,t,n,l,u){return ra(t),n=kc(e,t,n,l,void 0,u),l=Oc(),e!==null&&!jt?(Yc(e,t,u),xl(e,t,u)):(He&&l&&yc(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Ix(e,t,n,l,u,o){return ra(t),t.updateQueue=null,n=Xo(t,l,n,u),Zo(e),l=Oc(),e!==null&&!jt?(Yc(e,t,o),xl(e,t,o)):(He&&l&&yc(t),t.flags|=1,Ot(e,t,n,o),t.child)}function Kx(e,t,n,l,u){if(ra(t),t.stateNode===null){var o=Ta,p=n.contextType;typeof p=="object"&&p!==null&&(o=kt(p)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=tu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Ac(t),p=n.contextType,o.context=typeof p=="object"&&p!==null?kt(p):Ta,o.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(eu(t,n,p,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(p=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),p!==o.state&&tu.enqueueReplaceState(o,o.state,null),Ni(t,l,o,u),Di(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var L=t.memoizedProps,I=fa(n,L);o.props=I;var te=o.context,ie=n.contextType;p=Ta,typeof ie=="object"&&ie!==null&&(p=kt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof o.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ie||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(L||te!==p)&&Ax(t,o,l,p),Ll=!1;var ne=t.memoizedState;o.state=ne,Ni(t,l,o,u),Di(),te=t.memoizedState,L||ne!==te||Ll?(typeof ue=="function"&&(eu(t,n,ue,l),te=t.memoizedState),(I=Ll||Nx(t,n,I,l,ne,te,p))?(ie||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),o.props=l,o.state=te,o.context=p,l=I):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,Lc(e,t),p=t.memoizedProps,ie=fa(n,p),o.props=ie,ue=t.pendingProps,ne=o.context,te=n.contextType,I=Ta,typeof te=="object"&&te!==null&&(I=kt(te)),L=n.getDerivedStateFromProps,(te=typeof L=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p!==ue||ne!==I)&&Ax(t,o,l,I),Ll=!1,ne=t.memoizedState,o.state=ne,Ni(t,l,o,u),Di();var ae=t.memoizedState;p!==ue||ne!==ae||Ll||e!==null&&e.dependencies!==null&&Mr(e.dependencies)?(typeof L=="function"&&(eu(t,n,L,l),ae=t.memoizedState),(ie=Ll||Nx(t,n,ie,l,ne,ae,I)||e!==null&&e.dependencies!==null&&Mr(e.dependencies))?(te||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,ae,I),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,ae,I)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),o.props=l,o.state=ae,o.context=I,l=ie):(typeof o.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Zr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=oa(t,e.child,null,u),t.child=oa(t,null,n,u)):Ot(e,t,n,u),t.memoizedState=o.state,e=t.child):e=xl(e,t,u),e}function Zx(e,t,n,l){return aa(),t.flags|=256,Ot(e,t,n,l),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:qo()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=bn),e}function Xx(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,p;if((p=o)||(p=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(u?ql(t):Bl(),(e=ot)?(e=td(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Qn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=jo(e),n.return=t,t.child=n,Rt=t,ot=null)):e=null,e===null)throw Nl(t);return Iu(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,u?(Bl(),u=t.mode,L=Xr({mode:"hidden",children:L},u),l=la(l,u,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,p,n),t.memoizedState=iu,qi(null,l)):(ql(t),uu(t,L))}var I=e.memoizedState;if(I!==null&&(L=I.dehydrated,L!==null)){if(o)t.flags&256?(ql(t),t.flags&=-257,t=su(e,t,n)):t.memoizedState!==null?(Bl(),t.child=e.child,t.flags|=128,t=null):(Bl(),L=l.fallback,u=t.mode,l=Xr({mode:"visible",children:l.children},u),L=la(L,u,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,oa(t,e.child,null,n),l=t.child,l.memoizedState=ru(n),l.childLanes=cu(e,p,n),t.memoizedState=iu,t=qi(null,l));else if(ql(t),Iu(L)){if(p=L.nextSibling&&L.nextSibling.dataset,p)var te=p.dgst;p=te,l=Error(i(419)),l.stack="",l.digest=p,Si({value:l,source:null,stack:null}),t=su(e,t,n)}else if(jt||Ga(e,t,n,!1),p=(n&e.childLanes)!==0,jt||p){if(p=st,p!==null&&(l=Ce(p,n),l!==0&&l!==I.retryLane))throw I.retryLane=l,na(e,l),nn(p,e,l),lu;Uu(L)||t0(),t=su(e,t,n)}else Uu(L)?(t.flags|=192,t.child=e.child,t=null):(e=I.treeContext,ot=Ln(L.nextSibling),Rt=t,He=!0,Dl=null,Nn=!1,e!==null&&Do(t,e),t=uu(t,l.children),t.flags|=4096);return t}return u?(Bl(),L=l.fallback,u=t.mode,I=e.child,te=I.sibling,l=il(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,te!==null?L=il(te,L):(L=la(L,u,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,qi(null,l),l=t.child,L=e.child.memoizedState,L===null?L=ru(n):(u=L.cachePool,u!==null?(I=Ct._currentValue,u=u.parent!==I?{parent:I,pool:I}:u):u=qo(),L={baseLanes:L.baseLanes|n,cachePool:u}),l.memoizedState=L,l.childLanes=cu(e,p,n),t.memoizedState=iu,qi(e.child,l)):(ql(t),n=e.child,e=n.sibling,n=il(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function uu(e,t){return t=Xr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xr(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function su(e,t,n){return oa(t,e.child,null,n),e=uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jx(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wc(e.return,t,n)}function ou(e,t,n,l,u,o){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=u,p.treeForkCount=o)}function Wx(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var p=yt.current,L=(p&2)!==0;if(L?(p=p&1|2,t.flags|=128):p&=1,H(yt,p),Ot(e,t,l,n),l=He?_i:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jx(e,n,t);else if(e.tag===19)Jx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&qr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ou(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&qr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ou(t,!0,n,null,o,l);break;case"together":ou(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Mr(e)))}function sh(e,t,n){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),Al(t,Ct,e.memoizedState.cache),aa();break;case 27:case 5:Se(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:Al(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ql(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Xx(e,t,n):(ql(t),e=xl(e,t,n),e!==null?e.sibling:null);ql(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Wx(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Yx(e,t,n,t.pendingProps);case 24:Al(t,Ct,e.memoizedState.cache)}return xl(e,t,n)}function Qx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!xu(e,n)&&(t.flags&128)===0)return jt=!1,sh(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,He&&(t.flags&1048576)!==0&&zo(t,_i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ua(t.elementType),t.type=e,typeof e=="function")bc(e)?(l=fa(e,l),t.tag=1,t=Kx(null,t,e,l,n)):(t.tag=0,t=au(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Rx(null,t,e,l,n);break e}else if(u===B){t.tag=14,t=kx(null,t,e,l,n);break e}}throw t=T(e)||e,Error(i(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=fa(l,t.pendingProps),Kx(e,t,l,u,n);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,Lc(e,t),Ni(t,l,null,n);var p=t.memoizedState;if(l=p.cache,Al(t,Ct,l),l!==o.cache&&jc(t,[Ct],n,!0),Di(),l=p.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Zx(e,t,l,n);break e}else if(l!==u){u=Mn(Error(i(424)),t),Si(u),t=Zx(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=Ln(e.firstChild),Rt=t,He=!0,Dl=null,Nn=!0,n=Yo(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),l===u){t=xl(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return Zr(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=u0(ce.current).createElement(n),l[gt]=t,l[Xt]=e,Yt(l,n,e),Tt(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Se(t),e===null&&He&&(l=t.stateNode=ad(t.type,t.pendingProps,ce.current),Rt=t,Nn=!0,u=ot,Il(t.type)?(Ku=u,ot=Ln(l.firstChild)):ot=u),Ot(e,t,t.pendingProps.children,n),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((u=l=ot)&&(l=Oh(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,Rt=t,ot=Ln(l.firstChild),Nn=!1,u=!0):u=!1),u||Nl(t)),Se(t),u=t.type,o=t.pendingProps,p=e!==null?e.memoizedProps:null,l=o.children,Ou(u,o)?l=null:p!==null&&Ou(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=kc(e,t,eh,null,null,n),Qi._currentValue=u),Zr(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=ot)&&(n=Yh(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,Rt=t,ot=null,e=!0):e=!1),e||Nl(t)),null;case 13:return Xx(e,t,n);case 4:return xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=oa(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Rx(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Al(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ra(t),u=kt(u),l=l(u),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return kx(e,t,t.type,t.pendingProps,n);case 15:return Ox(e,t,t.type,t.pendingProps,n);case 19:return Wx(e,t,n);case 31:return uh(e,t,n);case 22:return Yx(e,t,n,t.pendingProps);case 24:return ra(t),l=kt(Ct),e===null?(u=Dc(),u===null&&(u=st,o=Mc(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},Ac(t),Al(t,Ct,u)):((e.lanes&n)!==0&&(Lc(e,t),Ni(t,null,null,n),Di()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Al(t,Ct,l)):(l=o.cache,Al(t,Ct,l),l!==u.cache&&jc(t,[Ct],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function fl(e){e.flags|=4}function fu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw sa=Ar,Nc}else e.flags&=-16777217}function Vx(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw sa=Ar,Nc}function Jr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Je():536870912,e.lanes|=t,Wa|=t)}function Bi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function oh(e,t,n){var l=t.pendingProps;switch(pc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ul(Ct),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?fl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sc())),xt(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(fl(t),o!==null?(xt(t),Vx(t,o)):(xt(t),fu(t,u,null,l,n))):o?o!==e.memoizedState?(fl(t),xt(t),Vx(t,o)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&fl(t),xt(t),fu(t,u,e,l,n)),null;case 27:if(de(t),n=ce.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return xt(t),null}e=J.current,Ba(t)?No(t):(e=ad(u,l,n),t.stateNode=e,fl(t))}return xt(t),null;case 5:if(de(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return xt(t),null}if(o=J.current,Ba(t))No(t);else{var p=u0(ce.current);switch(o){case 1:o=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=p.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}o[gt]=t,o[Xt]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=o;e:switch(Yt(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fl(t)}}return xt(t),fu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ce.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Rt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[gt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Jf(e.nodeValue,n)),e||Nl(t,!0)}else e=u0(e).createTextNode(l),e[gt]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ba(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[gt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(hn(t),t):(hn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return xt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ba(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[gt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),u=!1}else u=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(hn(t),t):(hn(t),null)}return hn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Jr(t,t.updateQueue),xt(t),null);case 4:return me(),e===null&&qu(t.stateNode.containerInfo),xt(t),null;case 10:return ul(t.type),xt(t),null;case 19:if(q(yt),l=t.memoizedState,l===null)return xt(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)Bi(l,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=qr(e),o!==null){for(t.flags|=128,Bi(l,!1),e=o.updateQueue,t.updateQueue=e,Jr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)wo(n,e),n=n.sibling;return H(yt,yt.current&1|2),He&&rl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pe()>Fr&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304)}else{if(!u)if(e=qr(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Jr(t,e),Bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!He)return xt(t),null}else 2*Pe()-l.renderingStartTime>Fr&&n!==536870912&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,n=yt.current,H(yt,u?n&1|2:n&1),He&&rl(t,l.treeForkCount),e):(xt(t),null);case 22:case 23:return hn(t),Bc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&Jr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&q(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ul(Ct),xt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function xh(e,t){switch(pc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(Ct),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(hn(t),t.alternate===null)throw Error(i(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(yt),null;case 4:return me(),null;case 10:return ul(t.type),null;case 22:case 23:return hn(t),Bc(),e!==null&&q(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ul(Ct),null;case 25:return null;default:return null}}function Px(e,t){switch(pc(t),t.tag){case 3:ul(Ct),me();break;case 26:case 27:case 5:de(t);break;case 4:me();break;case 31:t.memoizedState!==null&&hn(t);break;case 13:hn(t);break;case 19:q(yt);break;case 10:ul(t.type);break;case 22:case 23:hn(t),Bc(),e!==null&&q(ca);break;case 24:ul(Ct)}}function Gi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,p=n.inst;l=o(),p.destroy=l}n=n.next}while(n!==u)}}catch(L){lt(t,t.return,L)}}function Gl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var p=l.inst,L=p.destroy;if(L!==void 0){p.destroy=void 0,u=t;var I=n,te=L;try{te()}catch(ie){lt(u,I,ie)}}}l=l.next}while(l!==o)}}catch(ie){lt(t,t.return,ie)}}function Fx(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Uo(t,n)}catch(l){lt(e,e.return,l)}}}function $x(e,t,n){n.props=fa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){lt(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){lt(e,t,u)}}function Pn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){lt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){lt(e,t,u)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){lt(e,e.return,u)}}function du(e,t,n){try{var l=e.stateNode;Eh(l,e.type,n,t),l[Xt]=t}catch(u){lt(e,e.return,u)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Il(e.type)||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Il(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(l!==4&&(l===27&&Il(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,n),e=e.sibling;e!==null;)mu(e,t,n),e=e.sibling}function Wr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Il(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Wr(e,t,n),e=e.sibling;e!==null;)Wr(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Yt(t,l,n),t[gt]=e,t[Xt]=n}catch(o){lt(e,e.return,o)}}var dl=!1,Mt=!1,bu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Et=null;function fh(e,t){if(e=e.containerInfo,Ru=m0,e=mo(e),sc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var p=0,L=-1,I=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||u!==0&&ue.nodeType!==3||(L=p+u),ue!==o||l!==0&&ue.nodeType!==3||(I=p+l),ue.nodeType===3&&(p+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===u&&(L=p),ne===o&&++ie===l&&(I=p),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=L===-1||I===-1?null:{start:L,end:I}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},m0=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var be=fa(n.type,u);e=l.getSnapshotBeforeUpdate(be,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(Me){lt(n,n.return,Me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function af(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),l&4&&Gi(5,n);break;case 1:if(ml(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){lt(n,n.return,p)}else{var u=fa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(n,n.return,p)}}l&64&&Fx(n),l&512&&Ri(n,n.return);break;case 3:if(ml(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Uo(e,t)}catch(p){lt(n,n.return,p)}}break;case 27:t===null&&l&4&&nf(n);case 26:case 5:ml(e,n),t===null&&l&4&&ef(n),l&512&&Ri(n,n.return);break;case 12:ml(e,n);break;case 31:ml(e,n),l&4&&uf(e,n);break;case 13:ml(e,n),l&4&&sf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_h.bind(null,n),Hh(e,n))));break;case 22:if(l=n.memoizedState!==null||dl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=dl;var o=Mt;dl=l,(Mt=t)&&!o?bl(e,n,(n.subtreeFlags&8772)!==0):ml(e,n),dl=u,Mt=o}break;case 30:break;default:ml(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Ft=!1;function hl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(On,n)}catch{}switch(n.tag){case 26:Mt||Pn(n,t),hl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Pn(n,t);var l=ft,u=Ft;Il(n.type)&&(ft=n.stateNode,Ft=!1),hl(e,t,n),Xi(n.stateNode),ft=l,Ft=u;break;case 5:Mt||Pn(n,t);case 6:if(l=ft,u=Ft,ft=null,hl(e,t,n),ft=l,Ft=u,ft!==null)if(Ft)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(o){lt(n,t,o)}else try{ft.removeChild(n.stateNode)}catch(o){lt(n,t,o)}break;case 18:ft!==null&&(Ft?(e=ft,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):$f(ft,n.stateNode));break;case 4:l=ft,u=Ft,ft=n.stateNode.containerInfo,Ft=!0,hl(e,t,n),ft=l,Ft=u;break;case 0:case 11:case 14:case 15:Gl(2,n,t),Mt||Gl(4,n,t),hl(e,t,n);break;case 1:Mt||(Pn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$x(n,t,l)),hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,hl(e,t,n),Mt=l;break;default:hl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){lt(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){lt(t,t.return,n)}}function dh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(i(435,e.tag))}}function Qr(e,t){var n=dh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Sh.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,p=t,L=p;e:for(;L!==null;){switch(L.tag){case 27:if(Il(L.type)){ft=L.stateNode,Ft=!1;break e}break;case 5:ft=L.stateNode,Ft=!1;break e;case 3:case 4:ft=L.stateNode.containerInfo,Ft=!0;break e}L=L.return}if(ft===null)throw Error(i(160));cf(o,p,u),ft=null,Ft=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var Hn=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Gl(3,e,e.return),Gi(3,e),Gl(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Mt||n===null||Pn(n,n.return)),l&64&&dl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Hn;if($t(t,e),en(e),l&512&&(Mt||n===null||Pn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Lt]||o[gt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),Yt(o,l,n),o[gt]=e,Tt(o),l=o;break e;case"link":var p=od("link","href",u).get(l+(n.href||""));if(p){for(var L=0;L<p.length;L++)if(o=p[L],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(L,1);break t}}o=u.createElement(l),Yt(o,l,n),u.head.appendChild(o);break;case"meta":if(p=od("meta","content",u).get(l+(n.content||""))){for(L=0;L<p.length;L++)if(o=p[L],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(L,1);break t}}o=u.createElement(l),Yt(o,l,n),u.head.appendChild(o);break;default:throw Error(i(468,l))}o[gt]=e,Tt(o),l=o}e.stateNode=l}else xd(u,e.type,e.stateNode);else e.stateNode=sd(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?xd(u,e.type,e.stateNode):sd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&du(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Mt||n===null||Pn(n,n.return)),n!==null&&l&4&&du(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Mt||n===null||Pn(n,n.return)),e.flags&32){u=e.stateNode;try{ja(u,"")}catch(be){lt(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,du(e,u,n!==null?n.memoizedProps:u)),l&1024&&(bu=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){lt(e,e.return,be)}}break;case 3:if(x0=null,u=Hn,Hn=s0(t.containerInfo),$t(t,e),Hn=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(be){lt(e,e.return,be)}bu&&(bu=!1,xf(e));break;case 4:l=Hn,Hn=s0(e.stateNode.containerInfo),$t(t,e),en(e),Hn=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pr=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 22:u=e.memoizedState!==null;var I=n!==null&&n.memoizedState!==null,te=dl,ie=Mt;if(dl=te||u,Mt=ie||I,$t(t,e),Mt=ie,dl=te,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||I||dl||Mt||da(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){I=n=t;try{if(o=I.stateNode,u)p=o.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{L=I.stateNode;var ue=I.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){lt(I,I.return,be)}}}else if(t.tag===6){if(n===null){I=t;try{I.stateNode.nodeValue=u?"":I.memoizedProps}catch(be){lt(I,I.return,be)}}}else if(t.tag===18){if(n===null){I=t;try{var ae=I.stateNode;u?ed(ae,!0):ed(I.stateNode,!1)}catch(be){lt(I,I.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Qr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(tf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,o=hu(e);Wr(e,o,u);break;case 5:var p=n.stateNode;n.flags&32&&(ja(p,""),n.flags&=-33);var L=hu(e);Wr(e,L,p);break;case 3:case 4:var I=n.stateNode.containerInfo,te=hu(e);mu(e,te,I);break;default:throw Error(i(161))}}catch(ie){lt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function da(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gl(4,t,t.return),da(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$x(t,t.return,n),da(t);break;case 27:Xi(t.stateNode);case 26:case 5:Pn(t,t.return),da(t);break;case 22:t.memoizedState===null&&da(t);break;case 30:da(t);break;default:da(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,p=o.flags;switch(o.tag){case 0:case 11:case 15:bl(u,o,n),Gi(4,o);break;case 1:if(bl(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){lt(l,l.return,te)}if(l=o,u=l.updateQueue,u!==null){var L=l.stateNode;try{var I=u.shared.hiddenCallbacks;if(I!==null)for(u.shared.hiddenCallbacks=null,u=0;u<I.length;u++)Ho(I[u],L)}catch(te){lt(l,l.return,te)}}n&&p&64&&Fx(o),Ri(o,o.return);break;case 27:nf(o);case 26:case 5:bl(u,o,n),n&&l===null&&p&4&&ef(o),Ri(o,o.return);break;case 12:bl(u,o,n);break;case 31:bl(u,o,n),n&&p&4&&uf(u,o);break;case 13:bl(u,o,n),n&&p&4&&sf(u,o);break;case 22:o.memoizedState===null&&bl(u,o,n),Ri(o,o.return);break;case 30:break;default:bl(u,o,n)}t=t.sibling}}function gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Un(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,l),t=t.sibling}function ff(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,l),u&2048&&Gi(9,t);break;case 1:Un(e,t,n,l);break;case 3:Un(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Un(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,p=o.id,L=o.onPostCommit;typeof L=="function"&&L(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){lt(t,t.return,I)}}else Un(e,t,n,l);break;case 31:Un(e,t,n,l);break;case 13:Un(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,p=t.alternate,t.memoizedState!==null?o._visibility&2?Un(e,t,n,l):ki(e,t):o._visibility&2?Un(e,t,n,l):(o._visibility|=2,Za(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&gu(p,t);break;case 24:Un(e,t,n,l),u&2048&&vu(t.alternate,t);break;default:Un(e,t,n,l)}}function Za(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,p=t,L=n,I=l,te=p.flags;switch(p.tag){case 0:case 11:case 15:Za(o,p,L,I,u),Gi(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Za(o,p,L,I,u):ki(o,p):(ie._visibility|=2,Za(o,p,L,I,u)),u&&te&2048&&gu(p.alternate,p);break;case 24:Za(o,p,L,I,u),u&&te&2048&&vu(p.alternate,p);break;default:Za(o,p,L,I,u)}t=t.sibling}}function ki(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:ki(n,l),u&2048&&gu(l.alternate,l);break;case 24:ki(n,l),u&2048&&vu(l.alternate,l);break;default:ki(n,l)}t=t.sibling}}var Oi=8192;function Xa(e,t,n){if(e.subtreeFlags&Oi)for(e=e.child;e!==null;)df(e,t,n),e=e.sibling}function df(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&Oi&&e.memoizedState!==null&&$h(n,Hn,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=Hn;Hn=s0(e.stateNode.containerInfo),Xa(e,t,n),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Oi,Oi=16777216,Xa(e,t,n),Oi=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,bf(l,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Yi(e),e.flags&2048&&Gl(9,e,e.return);break;case 3:Yi(e);break;case 12:Yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Yi(e);break;default:Yi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,bf(l,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gl(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function bf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:Gl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,o=l.return;if(rf(l),l===n){Et=null;break e}if(u!==null){u.return=o,Et=u;break e}Et=o}}}var hh={getCacheForType:function(e){var t=kt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return kt(Ct).controller.signal}},mh=typeof WeakMap=="function"?WeakMap:Map,et=0,st=null,Ge=null,Oe=0,nt=0,mn=null,Rl=!1,Ja=!1,yu=!1,gl=0,bt=0,kl=0,ha=0,pu=0,bn=0,Wa=0,Hi=null,tn=null,_u=!1,Pr=0,gf=0,Fr=1/0,$r=null,Ol=null,zt=0,Yl=null,Qa=null,vl=0,Su=0,Cu=null,vf=null,Ui=0,wu=null;function gn(){return(et&2)!==0&&Oe!==0?Oe&-Oe:j.T!==null?Au():At()}function yf(){if(bn===0)if((Oe&536870912)===0||He){var e=ve;ve<<=1,(ve&3932160)===0&&(ve=262144),bn=e}else bn=536870912;return e=dn.current,e!==null&&(e.flags|=32),bn}function nn(e,t,n){(e===st&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Hl(e,Oe,bn,!1)),Le(e,n),((et&2)===0||e!==st)&&(e===st&&((et&2)===0&&(ha|=n),bt===4&&Hl(e,Oe,bn,!1)),Fn(e))}function pf(e,t,n){if((et&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?vh(e,t):Mu(e,t,!0),o=l;do{if(u===0){Ja&&!l&&Hl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!bh(n)){u=Mu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var L=e;u=Hi;var I=L.current.memoizedState.isDehydrated;if(I&&(Va(L,p).flags|=256),p=Mu(L,p,!1),p!==2){if(yu&&!I){L.errorRecoveryDisabledLanes|=o,ha|=o,u=4;break e}o=tn,tn=u,o!==null&&(tn===null?tn=o:tn.push.apply(tn,o))}u=p}if(o=!1,u!==2)continue}}if(u===1){Va(e,0),Hl(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Hl(l,t,bn,!Rl);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Pr+300-Pe(),10<u)){if(Hl(l,t,bn,!Rl),pe(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Pf(_f.bind(null,l,n,tn,$r,_u,t,bn,ha,Wa,Rl,o,"Throttled",-0,0),u);break e}_f(l,n,tn,$r,_u,t,bn,ha,Wa,Rl,o,null,-0,0)}}break}while(!0);Fn(e)}function _f(e,t,n,l,u,o,p,L,I,te,ie,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},df(t,o,ue);var be=(o&62914560)===o?Pr-Pe():(o&4194048)===o?gf-Pe():0;if(be=e2(ue,be),be!==null){vl=o,e.cancelPendingCommit=be(Nf.bind(null,e,t,o,n,l,u,p,L,I,ie,ue,null,ne,ae)),Hl(e,o,p,!te);return}}Nf(e,t,o,n,l,u,p,L,I)}function bh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!xn(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hl(e,t,n,l){t&=~pu,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-ke(u),p=1<<o;l[o]=-1,u&=~p}n!==0&&tt(e,n,t)}function e0(){return(et&6)===0?(Ii(0),!1):!0}function ju(){if(Ge!==null){if(nt===0)var e=Ge.return;else e=Ge,cl=ia=null,Hc(e),Ya=null,ji=0,e=Ge;for(;e!==null;)Px(e.alternate,e),e=e.return;Ge=null}}function Va(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,ju(),st=e,Ge=n=il(e.current,null),Oe=t,nt=0,mn=null,Rl=!1,Ja=Fe(e,t),yu=!1,Wa=bn=pu=ha=kl=bt=0,tn=Hi=null,_u=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-ke(l),o=1<<u;t|=e[u],l&=~o}return gl=t,_r(),n}function Sf(e,t){Te=null,j.H=Ei,t===Oa||t===Nr?(t=Ro(),nt=3):t===Nc?(t=Ro(),nt=4):nt=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,Ge===null&&(bt=1,Ir(e,Mn(t,e.current)))}function Cf(){var e=dn.current;return e===null?!0:(Oe&4194048)===Oe?An===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===An:!1}function wf(){var e=j.H;return j.H=Ei,e===null?Ei:e}function jf(){var e=j.A;return j.A=hh,e}function t0(){bt=4,Rl||(Oe&4194048)!==Oe&&dn.current!==null||(Ja=!0),(kl&134217727)===0&&(ha&134217727)===0||st===null||Hl(st,Oe,bn,!1)}function Mu(e,t,n){var l=et;et|=2;var u=wf(),o=jf();(st!==e||Oe!==t)&&($r=null,Va(e,t)),t=!1;var p=bt;e:do try{if(nt!==0&&Ge!==null){var L=Ge,I=mn;switch(nt){case 8:ju(),p=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(t=!0);var te=nt;if(nt=0,mn=null,Pa(e,L,I,te),n&&Ja){p=0;break e}break;default:te=nt,nt=0,mn=null,Pa(e,L,I,te)}}gh(),p=bt;break}catch(ie){Sf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,cl=ia=null,et=l,j.H=u,j.A=o,Ge===null&&(st=null,Oe=0,_r()),p}function gh(){for(;Ge!==null;)Mf(Ge)}function vh(e,t){var n=et;et|=2;var l=wf(),u=jf();st!==e||Oe!==t?($r=null,Fr=Pe()+500,Va(e,t)):Ja=Fe(e,t);e:do try{if(nt!==0&&Ge!==null){t=Ge;var o=mn;t:switch(nt){case 1:nt=0,mn=null,Pa(e,t,o,1);break;case 2:case 9:if(Bo(o)){nt=0,mn=null,zf(t);break}t=function(){nt!==2&&nt!==9||st!==e||(nt=7),Fn(e)},o.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Bo(o)?(nt=0,mn=null,zf(t)):(nt=0,mn=null,Pa(e,t,o,7));break;case 5:var p=null;switch(Ge.tag){case 26:p=Ge.memoizedState;case 5:case 27:var L=Ge;if(p?fd(p):L.stateNode.complete){nt=0,mn=null;var I=L.sibling;if(I!==null)Ge=I;else{var te=L.return;te!==null?(Ge=te,n0(te)):Ge=null}break t}}nt=0,mn=null,Pa(e,t,o,5);break;case 6:nt=0,mn=null,Pa(e,t,o,6);break;case 8:ju(),bt=6;break e;default:throw Error(i(462))}}yh();break}catch(ie){Sf(e,ie)}while(!0);return cl=ia=null,j.H=l,j.A=u,et=n,Ge!==null?0:(st=null,Oe=0,_r(),bt)}function yh(){for(;Ge!==null&&!Xn();)Mf(Ge)}function Mf(e){var t=Qx(e.alternate,e,gl);e.memoizedProps=e.pendingProps,t===null?n0(e):Ge=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ix(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Ix(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Hc(t);default:Px(n,t),t=Ge=wo(t,gl),t=Qx(n,t,gl)}e.memoizedProps=e.pendingProps,t===null?n0(e):Ge=t}function Pa(e,t,n,l){cl=ia=null,Hc(t),Ya=null,ji=0;var u=t.return;try{if(ch(e,u,t,n,Oe)){bt=1,Ir(e,Mn(n,e.current)),Ge=null;return}}catch(o){if(u!==null)throw Ge=u,o;bt=1,Ir(e,Mn(n,e.current)),Ge=null;return}t.flags&32768?(He||l===1?e=!0:Ja||(Oe&536870912)!==0?e=!1:(Rl=e=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):n0(t)}function n0(e){var t=e;do{if((t.flags&32768)!==0){Df(t,Rl);return}e=t.return;var n=oh(t.alternate,t,gl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);bt===0&&(bt=5)}function Df(e,t){do{var n=xh(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);bt=6,Ge=null}function Nf(e,t,n,l,u,o,p,L,I){e.cancelPendingCommit=null;do l0();while(zt!==0);if((et&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=hc,Nt(e,n,o,p,L,I),e===st&&(Ge=st=null,Oe=0),Qa=t,Yl=e,vl=n,Su=o,Cu=u,vf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ch(tl,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,u=N.p,N.p=2,p=et,et|=4;try{fh(e,t,n)}finally{et=p,N.p=u,j.T=l}}zt=1,Af(),Lf(),Tf()}}function Af(){if(zt===1){zt=0;var e=Yl,t=Qa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=N.p;N.p=2;var u=et;et|=4;try{of(t,e);var o=ku,p=mo(e.containerInfo),L=o.focusedElem,I=o.selectionRange;if(p!==L&&L&&L.ownerDocument&&ho(L.ownerDocument.documentElement,L)){if(I!==null&&sc(L)){var te=I.start,ie=I.end;if(ie===void 0&&(ie=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ie,L.value.length);else{var ue=L.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),be=L.textContent.length,Me=Math.min(I.start,be),ut=I.end===void 0?Me:Math.min(I.end,be);!ae.extend&&Me>ut&&(p=ut,ut=Me,Me=p);var F=fo(L,Me),W=fo(L,ut);if(F&&W&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var ee=ue.createRange();ee.setStart(F.node,F.offset),ae.removeAllRanges(),Me>ut?(ae.addRange(ee),ae.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),ae.addRange(ee))}}}}for(ue=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var re=ue[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}m0=!!Ru,ku=Ru=null}finally{et=u,N.p=l,j.T=n}}e.current=t,zt=2}}function Lf(){if(zt===2){zt=0;var e=Yl,t=Qa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=N.p;N.p=2;var u=et;et|=4;try{af(e,t.alternate,t)}finally{et=u,N.p=l,j.T=n}}zt=3}}function Tf(){if(zt===4||zt===3){zt=0,Jn();var e=Yl,t=Qa,n=vl,l=vf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?zt=5:(zt=0,Qa=Yl=null,Ef(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Ol=null),ht(n),t=t.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(On,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,u=N.p,N.p=2,j.T=null;try{for(var o=e.onRecoverableError,p=0;p<l.length;p++){var L=l[p];o(L.value,{componentStack:L.stack})}}finally{j.T=t,N.p=u}}(vl&3)!==0&&l0(),Fn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===wu?Ui++:(Ui=0,wu=e):Ui=0,Ii(0)}}function Ef(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function l0(){return Af(),Lf(),Tf(),qf()}function qf(){if(zt!==5)return!1;var e=Yl,t=Su;Su=0;var n=ht(vl),l=j.T,u=N.p;try{N.p=32>n?32:n,j.T=null,n=Cu,Cu=null;var o=Yl,p=vl;if(zt=0,Qa=Yl=null,vl=0,(et&6)!==0)throw Error(i(331));var L=et;if(et|=4,mf(o.current),ff(o,o.current,p,n),et=L,Ii(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(On,o)}catch{}return!0}finally{N.p=u,j.T=l,Ef(e,t)}}function Bf(e,t,n){t=Mn(n,t),t=nu(e.stateNode,t,2),e=El(e,t,2),e!==null&&(Le(e,2),Fn(e))}function lt(e,t,n){if(e.tag===3)Bf(e,e,n);else for(;t!==null;){if(t.tag===3){Bf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ol===null||!Ol.has(l))){e=Mn(n,e),n=Bx(2),l=El(t,n,2),l!==null&&(Gx(n,l,t,e),Le(l,2),Fn(l));break}}t=t.return}}function zu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new mh;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(yu=!0,u.add(n),e=ph.bind(null,e,t,n),t.then(e,e))}function ph(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(Oe&n)===n&&(bt===4||bt===3&&(Oe&62914560)===Oe&&300>Pe()-Pr?(et&2)===0&&Va(e,0):pu|=n,Wa===Oe&&(Wa=0)),Fn(e)}function Gf(e,t){t===0&&(t=Je()),e=na(e,t),e!==null&&(Le(e,t),Fn(e))}function _h(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Gf(e,n)}function Ch(e,t){return Zt(e,t)}var a0=null,Fa=null,Du=!1,i0=!1,Nu=!1,Ul=0;function Fn(e){e!==Fa&&e.next===null&&(Fa===null?a0=Fa=e:Fa=Fa.next=e),i0=!0,Du||(Du=!0,jh())}function Ii(e,t){if(!Nu&&i0){Nu=!0;do for(var n=!1,l=a0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var p=l.suspendedLanes,L=l.pingedLanes;o=(1<<31-ke(42|e)+1)-1,o&=u&~(p&~L),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Yf(l,o))}else o=Oe,o=pe(l,l===st?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Fe(l,o)||(n=!0,Yf(l,o));l=l.next}while(n);Nu=!1}}function wh(){Rf()}function Rf(){i0=Du=!1;var e=0;Ul!==0&&Bh()&&(e=Ul);for(var t=Pe(),n=null,l=a0;l!==null;){var u=l.next,o=kf(l,t);o===0?(l.next=null,n===null?a0=u:n.next=u,u===null&&(Fa=n)):(n=l,(e!==0||(o&3)!==0)&&(i0=!0)),l=u}zt!==0&&zt!==5||Ii(e),Ul!==0&&(Ul=0)}function kf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var p=31-ke(o),L=1<<p,I=u[p];I===-1?((L&n)===0||(L&l)!==0)&&(u[p]=Xe(L,t)):I<=t&&(e.expiredLanes|=L),o&=~L}if(t=st,n=Oe,n=pe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&sn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&sn(l),ht(n)){case 2:case 8:n=el;break;case 32:n=tl;break;case 268435456:n=Pl;break;default:n=tl}return l=Of.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&sn(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(l0()&&e.callbackNode!==n)return null;var l=Oe;return l=pe(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pf(e,l,t),kf(e,Pe()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Yf(e,t){if(l0())return null;pf(e,t,!0)}function jh(){Rh(function(){(et&6)!==0?Zt(Sl,wh):Rf()})}function Au(){if(Ul===0){var e=Ra;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Ul=e}return Ul}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mh(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Hf((u[Xt]||null).action),p=l.submitter;p&&(t=(t=p[Xt]||null)?Hf(t.formAction):p.getAttribute("formAction"),t!==null&&(o=t,p=null));var L=new gr("action","action",null,l,u);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ul!==0){var I=p?Uf(u,p):new FormData(u);Vc(n,{pending:!0,data:I,method:u.method,action:o},null,I)}}else typeof o=="function"&&(L.preventDefault(),I=p?Uf(u,p):new FormData(u),Vc(n,{pending:!0,data:I,method:u.method,action:o},o,I))},currentTarget:u}]})}}for(var Lu=0;Lu<dc.length;Lu++){var Tu=dc[Lu],zh=Tu.toLowerCase(),Dh=Tu[0].toUpperCase()+Tu.slice(1);Yn(zh,"on"+Dh)}Yn(vo,"onAnimationEnd"),Yn(yo,"onAnimationIteration"),Yn(po,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(K1,"onTransitionRun"),Yn(Z1,"onTransitionStart"),Yn(X1,"onTransitionCancel"),Yn(_o,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ki));function If(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var p=l.length-1;0<=p;p--){var L=l[p],I=L.instance,te=L.currentTarget;if(L=L.listener,I!==o&&u.isPropagationStopped())break e;o=L,u.currentTarget=te;try{o(u)}catch(ie){pr(ie)}u.currentTarget=null,o=I}else for(p=0;p<l.length;p++){if(L=l[p],I=L.instance,te=L.currentTarget,L=L.listener,I!==o&&u.isPropagationStopped())break e;o=L,u.currentTarget=te;try{o(u)}catch(ie){pr(ie)}u.currentTarget=null,o=I}}}}function Re(e,t){var n=t[oi];n===void 0&&(n=t[oi]=new Set);var l=e+"__bubble";n.has(l)||(Kf(t,e,2,!1),n.add(l))}function Eu(e,t,n){var l=0;t&&(l|=4),Kf(n,e,l,t)}var r0="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[r0]){e[r0]=!0,Bs.forEach(function(n){n!=="selectionchange"&&(Nh.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[r0]||(t[r0]=!0,Eu("selectionchange",!1,t))}}function Kf(e,t,n,l){switch(yd(t)){case 2:var u=l2;break;case 8:u=a2;break;default:u=Qu}n=u.bind(null,t,n,e),u=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Bu(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var L=l.stateNode.containerInfo;if(L===u)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;L!==null;){if(p=Vt(L),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=o=p;continue e}L=L.parentNode}}l=l.return}Js(function(){var te=o,ie=F0(n),ue=[];e:{var ne=So.get(e);if(ne!==void 0){var ae=gr,be=e;switch(e){case"keypress":if(mr(n)===0)break e;case"keydown":case"keyup":ae=S1;break;case"focusin":be="focus",ae=ac;break;case"focusout":be="blur",ae=ac;break;case"beforeblur":case"afterblur":ae=ac;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=j1;break;case vo:case yo:case po:ae=d1;break;case _o:ae=z1;break;case"scroll":case"scrollend":ae=u1;break;case"wheel":ae=N1;break;case"copy":case"cut":case"paste":ae=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Fs;break;case"toggle":case"beforetoggle":ae=L1}var Me=(t&4)!==0,ut=!Me&&(e==="scroll"||e==="scrollend"),F=Me?ne!==null?ne+"Capture":null:ne;Me=[];for(var W=te,ee;W!==null;){var re=W;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||F===null||(re=fi(W,F),re!=null&&Me.push(Zi(W,re,ee))),ut)break;W=W.return}0<Me.length&&(ne=new ae(ne,be,null,n,ie),ue.push({event:ne,listeners:Me}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==P0&&(be=n.relatedTarget||n.fromElement)&&(Vt(be)||be[wl]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(be=n.relatedTarget||n.toElement,ae=te,be=be?Vt(be):null,be!==null&&(ut=f(be),Me=be.tag,be!==ut||Me!==5&&Me!==27&&Me!==6)&&(be=null)):(ae=null,be=te),ae!==be)){if(Me=Vs,re="onMouseLeave",F="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(Me=Fs,re="onPointerLeave",F="onPointerEnter",W="pointer"),ut=ae==null?ne:xi(ae),ee=be==null?ne:xi(be),ne=new Me(re,W+"leave",ae,n,ie),ne.target=ut,ne.relatedTarget=ee,re=null,Vt(ie)===te&&(Me=new Me(F,W+"enter",be,n,ie),Me.target=ee,Me.relatedTarget=ut,re=Me),ut=re,ae&&be)t:{for(Me=Ah,F=ae,W=be,ee=0,re=F;re;re=Me(re))ee++;re=0;for(var _e=W;_e;_e=Me(_e))re++;for(;0<ee-re;)F=Me(F),ee--;for(;0<re-ee;)W=Me(W),re--;for(;ee--;){if(F===W||W!==null&&F===W.alternate){Me=F;break t}F=Me(F),W=Me(W)}Me=null}else Me=null;ae!==null&&Zf(ue,ne,ae,Me,!1),be!==null&&ut!==null&&Zf(ue,ut,be,Me,!0)}}e:{if(ne=te?xi(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Qe=ro;else if(ao(ne))if(co)Qe=H1;else{Qe=O1;var ge=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&V0(te.elementType)&&(Qe=ro):Qe=Y1;if(Qe&&(Qe=Qe(e,te))){io(ue,Qe,n,ie);break e}ge&&ge(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Q0(ne,"number",ne.value)}switch(ge=te?xi(te):window,e){case"focusin":(ao(ge)||ge.contentEditable==="true")&&(Na=ge,oc=te,pi=null);break;case"focusout":pi=oc=Na=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,bo(ue,n,ie);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":bo(ue,n,ie)}var Ee;if(rc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Da?no(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&($s&&n.locale!=="ko"&&(Da||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Da&&(Ee=Ws()):(Ml=ie,tc="value"in Ml?Ml.value:Ml.textContent,Da=!0)),ge=c0(te,Ye),0<ge.length&&(Ye=new Ps(Ye,e,null,n,ie),ue.push({event:Ye,listeners:ge}),Ee?Ye.data=Ee:(Ee=lo(n),Ee!==null&&(Ye.data=Ee)))),(Ee=E1?q1(e,n):B1(e,n))&&(Ye=c0(te,"onBeforeInput"),0<Ye.length&&(ge=new Ps("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ge,listeners:Ye}),ge.data=Ee)),Mh(ue,e,te,n,ie)}If(ue,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function c0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=fi(e,n),u!=null&&l.unshift(Zi(e,u,o)),u=fi(e,t),u!=null&&l.push(Zi(e,u,o))),e.tag===3)return l;e=e.return}return[]}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zf(e,t,n,l,u){for(var o=t._reactName,p=[];n!==null&&n!==l;){var L=n,I=L.alternate,te=L.stateNode;if(L=L.tag,I!==null&&I===l)break;L!==5&&L!==26&&L!==27||te===null||(I=te,u?(te=fi(n,o),te!=null&&p.unshift(Zi(n,te,I))):u||(te=fi(n,o),te!=null&&p.push(Zi(n,te,I)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Lh=/\r\n?/g,Th=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(Lh,`
`).replace(Th,"")}function Jf(e,t){return t=Xf(t),Xf(e)===t}function ct(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Zs(e,l,o);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=dr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ct(e,t,"name",u.name,u,null),ct(e,t,"formEncType",u.formEncType,u,null),ct(e,t,"formMethod",u.formMethod,u,null),ct(e,t,"formTarget",u.formTarget,u,null)):(ct(e,t,"encType",u.encType,u,null),ct(e,t,"method",u.method,u,null),ct(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=dr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ll);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=dr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),or(e,"popover",l);break;case"xlinkActuate":nl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,or(e,n,l))}}function Gu(e,t,n,l,u,o){switch(n){case"style":Zs(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[Xt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):or(e,n,l)}}}function Yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var p=n[o];if(p!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,o,p,n,null)}}u&&ct(e,t,"srcSet",n.srcSet,n,null),l&&ct(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var L=o=p=u=null,I=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":p=ie;break;case"checked":I=ie;break;case"defaultChecked":te=ie;break;case"value":o=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ct(e,t,l,ie,n,null)}}Hs(e,o,L,I,te,p,u,!1);return;case"select":Re("invalid",e),l=p=o=null;for(u in n)if(n.hasOwnProperty(u)&&(L=n[u],L!=null))switch(u){case"value":o=L;break;case"defaultValue":p=L;break;case"multiple":l=L;default:ct(e,t,u,L,n,null)}t=o,n=p,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":Re("invalid",e),o=u=l=null;for(p in n)if(n.hasOwnProperty(p)&&(L=n[p],L!=null))switch(p){case"value":l=L;break;case"defaultValue":u=L;break;case"children":o=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:ct(e,t,p,L,n,null)}Is(e,l,u,o);return;case"option":for(I in n)n.hasOwnProperty(I)&&(l=n[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ct(e,t,I,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ki.length;l++)Re(Ki[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ct(e,t,te,l,n,null)}return;default:if(V0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Gu(e,t,ie,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&ct(e,t,L,l,n,null))}function Eh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,p=null,L=null,I=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":I=ue;default:l.hasOwnProperty(ae)||ct(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":o=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ue&&ct(e,t,ne,ae,l,ue)}}W0(e,p,L,I,te,ie,o,u);return;case"select":ae=p=L=ne=null;for(o in n)if(I=n[o],n.hasOwnProperty(o)&&I!=null)switch(o){case"value":break;case"multiple":ae=I;default:l.hasOwnProperty(o)||ct(e,t,o,null,l,I)}for(u in l)if(o=l[u],I=n[u],l.hasOwnProperty(u)&&(o!=null||I!=null))switch(u){case"value":ne=o;break;case"defaultValue":L=o;break;case"multiple":p=o;default:o!==I&&ct(e,t,u,o,l,I)}t=L,n=p,l=ae,ne!=null?wa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(L in n)if(u=n[L],n.hasOwnProperty(L)&&u!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ct(e,t,L,null,l,u)}for(p in l)if(u=l[p],o=n[p],l.hasOwnProperty(p)&&(u!=null||o!=null))switch(p){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==o&&ct(e,t,p,u,l,o)}Us(e,ne,ae);return;case"option":for(var be in n)ne=n[be],n.hasOwnProperty(be)&&ne!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ct(e,t,be,null,l,ne));for(I in l)ne=l[I],ae=n[I],l.hasOwnProperty(I)&&ne!==ae&&(ne!=null||ae!=null)&&(I==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":ct(e,t,I,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in n)ne=n[Me],n.hasOwnProperty(Me)&&ne!=null&&!l.hasOwnProperty(Me)&&ct(e,t,Me,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:ct(e,t,te,ne,l,ae)}return;default:if(V0(t)){for(var ut in n)ne=n[ut],n.hasOwnProperty(ut)&&ne!==void 0&&!l.hasOwnProperty(ut)&&Gu(e,t,ut,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Gu(e,t,ie,ne,l,ae);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&ct(e,t,F,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||ct(e,t,ue,ne,l,ae)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,p=u.initiatorType,L=u.duration;if(o&&L&&Wf(p)){for(p=0,L=u.responseEnd,l+=1;l<n.length;l++){var I=n[l],te=I.startTime;if(te>L)break;var ie=I.transferSize,ue=I.initiatorType;ie&&Wf(ue)&&(I=I.responseEnd,p+=ie*(I<L?1:(L-te)/(I-te)))}if(--l,t+=8*(o+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ru=null,ku=null;function u0(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function Bh(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(kh)}:Pf;function kh(e){setTimeout(function(){throw e})}function Il(e){return e==="head"}function $f(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Xi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Xi(n);for(var o=n.firstChild;o;){var p=o.nextSibling,L=o.nodeName;o[Lt]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=p}}else n==="body"&&Xi(e.ownerDocument.body);n=u}while(n);ni(t)}function ed(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),vt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Oh(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Lt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function Yh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ln(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function Iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ln(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ad(e,t,n){switch(t=u0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Xi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vt(e)}var Tn=new Map,id=new Set;function s0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=N.d;N.d={f:Uh,r:Ih,D:Kh,C:Zh,L:Xh,m:Jh,X:Qh,S:Wh,M:Vh};function Uh(){var e=yl.f(),t=e0();return e||t}function Ih(e){var t=jl(e);t!==null&&t.tag===5&&t.type==="form"?_x(t):yl.r(e)}var $a=typeof document>"u"?null:document;function rd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var u=wn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),id.has(u)||(id.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Yt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Kh(e){yl.D(e),rd("dns-prefetch",e,null)}function Zh(e,t){yl.C(e,t),rd("preconnect",e,t)}function Xh(e,t,n){yl.L(e,t,n);var l=$a;if(l&&e&&t){var u='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+wn(n.imageSizes)+'"]')):u+='[href="'+wn(e)+'"]';var o=u;switch(t){case"style":o=ei(e);break;case"script":o=ti(e)}Tn.has(o)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ji(o))||t==="script"&&l.querySelector(Wi(o))||(t=l.createElement("link"),Yt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Jh(e,t){yl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ti(e)}if(!Tn.has(o)&&(e=y({rel:"modulepreload",href:e},t),Tn.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(o)))return}l=n.createElement("link"),Yt(l,"link",e),Tt(l),n.head.appendChild(l)}}}function Wh(e,t,n){yl.S(e,t,n);var l=$a;if(l&&e){var u=Sa(l).hoistableStyles,o=ei(e);t=t||"default";var p=u.get(o);if(!p){var L={loading:0,preload:null};if(p=l.querySelector(Ji(o)))L.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(o))&&Zu(e,n);var I=p=l.createElement("link");Tt(I),Yt(I,"link",e),I._p=new Promise(function(te,ie){I.onload=te,I.onerror=ie}),I.addEventListener("load",function(){L.loading|=1}),I.addEventListener("error",function(){L.loading|=2}),L.loading|=4,o0(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:L},u.set(o,p)}}}function Qh(e,t){yl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),o=l.get(u);o||(o=n.querySelector(Wi(u)),o||(e=y({src:e,async:!0},t),(t=Tn.get(u))&&Xu(e,t),o=n.createElement("script"),Tt(o),Yt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function Vh(e,t){yl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),o=l.get(u);o||(o=n.querySelector(Wi(u)),o||(e=y({src:e,async:!0,type:"module"},t),(t=Tn.get(u))&&Xu(e,t),o=n.createElement("script"),Tt(o),Yt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function cd(e,t,n,l){var u=(u=ce.current)?s0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var o=Sa(u).hoistableStyles,p=o.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,p),(o=u.querySelector(Ji(e)))&&!o._p&&(p.instance=o,p.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),o||Ph(u,e,n,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ei(e){return'href="'+wn(e)+'"'}function Ji(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Ph(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Yt(t,"link",n),Tt(t),e.head.appendChild(t))}function ti(e){return'[src="'+wn(e)+'"]'}function Wi(e){return"script[async]"+e}function sd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(l)return t.instance=l,Tt(l),l;var u=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),Yt(l,"style",u),o0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ei(n.href);var o=e.querySelector(Ji(u));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;l=ud(n),(u=Tn.get(u))&&Zu(l,u),o=(e.ownerDocument||e).createElement("link"),Tt(o);var p=o;return p._p=new Promise(function(L,I){p.onload=L,p.onerror=I}),Yt(o,"link",l),t.state.loading|=4,o0(o,n.precedence,e),t.instance=o;case"script":return o=ti(n.src),(u=e.querySelector(Wi(o)))?(t.instance=u,Tt(u),u):(l=n,(u=Tn.get(o))&&(l=y({},n),Xu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Tt(u),Yt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,o0(l,n.precedence,e));return t.instance}function o0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,p=0;p<l.length;p++){var L=l[p];if(L.dataset.precedence===t)o=L;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var x0=null;function od(e,t,n){if(x0===null){var l=new Map,u=x0=new Map;u.set(n,l)}else u=x0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Lt]||o[gt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var p=o.getAttribute(t)||"";p=e+p;var L=l.get(p);L?L.push(o):l.set(p,[o])}}return l}function xd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $h(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ei(l.href),o=t.querySelector(Ji(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=f0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Tt(o);return}o=t.ownerDocument||t,l=ud(l),(u=Tn.get(u))&&Zu(l,u),o=o.createElement("link"),Tt(o);var p=o;p._p=new Promise(function(L,I){p.onload=L,p.onerror=I}),Yt(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=f0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ju=0;function e2(e,t){return e.stylesheets&&e.count===0&&h0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&h0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Ju===0&&(Ju=62500*qh());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&h0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Ju?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function f0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)h0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var d0=null;function h0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,d0=new Map,t.forEach(t2,e),d0=null,f0.call(e))}function t2(e,t){if(!(t.state.loading&4)){var n=d0.get(e);if(n)var l=n.get(null);else{n=new Map,d0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var p=u[o];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}u=t.instance,p=u.getAttribute("data-precedence"),o=n.get(p)||l,o===l&&n.set(null,u),n.set(p,u),this.count++,l=f0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:E,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function n2(e,t,n,l,u,o,p,L,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function dd(e,t,n,l,u,o,p,L,I,te,ie,ue){return e=new n2(e,t,n,p,I,te,ie,ue,L),t=1,o===!0&&(t|=24),o=fn(3,null,null,t),e.current=o,o.stateNode=e,t=Mc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},Ac(o),e}function hd(e){return e?(e=Ta,e):Ta}function md(e,t,n,l,u,o){u=hd(u),l.context===null?l.context=u:l.pendingContext=u,l=Tl(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=El(e,l,t),n!==null&&(nn(n,e,t),zi(n,e,t))}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wu(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=na(e,67108864);t!==null&&nn(t,e,67108864),Wu(e,67108864)}}function vd(e){if(e.tag===13||e.tag===31){var t=gn();t=$e(t);var n=na(e,t);n!==null&&nn(n,e,t),Wu(e,t)}}var m0=!0;function l2(e,t,n,l){var u=j.T;j.T=null;var o=N.p;try{N.p=2,Qu(e,t,n,l)}finally{N.p=o,j.T=u}}function a2(e,t,n,l){var u=j.T;j.T=null;var o=N.p;try{N.p=8,Qu(e,t,n,l)}finally{N.p=o,j.T=u}}function Qu(e,t,n,l){if(m0){var u=Vu(l);if(u===null)Bu(e,t,l,b0,n),pd(e,l);else if(r2(u,e,t,n,l))l.stopPropagation();else if(pd(e,l),t&4&&-1<i2.indexOf(e)){for(;u!==null;){var o=jl(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var p=De(o.pendingLanes);if(p!==0){var L=o;for(L.pendingLanes|=2,L.entangledLanes|=2;p;){var I=1<<31-ke(p);L.entanglements[1]|=I,p&=~I}Fn(o),(et&6)===0&&(Fr=Pe()+500,Ii(0))}}break;case 31:case 13:L=na(o,2),L!==null&&nn(L,o,2),e0(),Wu(o,2)}if(o=Vu(l),o===null&&Bu(e,t,l,b0,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else Bu(e,t,l,null,n)}}function Vu(e){return e=F0(e),Pu(e)}var b0=null;function Pu(e){if(b0=null,e=Vt(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return b0=e,null}function yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_n()){case Sl:return 2;case el:return 8;case tl:case Cl:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var Fu=!1,Kl=null,Zl=null,Xl=null,Vi=new Map,Pi=new Map,Jl=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Kl=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function Fi(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=jl(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function r2(e,t,n,l,u){switch(t){case"focusin":return Kl=Fi(Kl,e,t,n,l,u),!0;case"dragenter":return Zl=Fi(Zl,e,t,n,l,u),!0;case"mouseover":return Xl=Fi(Xl,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return Vi.set(o,Fi(Vi.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,Pi.set(o,Fi(Pi.get(o)||null,e,t,n,l,u)),!0}return!1}function _d(e){var t=Vt(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,_a(e.priority,function(){vd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,_a(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function g0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);P0=l,n.target.dispatchEvent(l),P0=null}else return t=jl(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){g0(e)&&n.delete(t)}function c2(){Fu=!1,Kl!==null&&g0(Kl)&&(Kl=null),Zl!==null&&g0(Zl)&&(Zl=null),Xl!==null&&g0(Xl)&&(Xl=null),Vi.forEach(Sd),Pi.forEach(Sd)}function v0(e,t){e.blockedOn===t&&(e.blockedOn=null,Fu||(Fu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,c2)))}var y0=null;function Cd(e){y0!==e&&(y0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){y0===e&&(y0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Pu(l||n)===null)continue;break}var o=jl(n);o!==null&&(e.splice(t,3),t-=3,Vc(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ni(e){function t(I){return v0(I,e)}Kl!==null&&v0(Kl,e),Zl!==null&&v0(Zl,e),Xl!==null&&v0(Xl,e),Vi.forEach(t),Pi.forEach(t);for(var n=0;n<Jl.length;n++){var l=Jl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Jl.length&&(n=Jl[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Jl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],p=u[Xt]||null;if(typeof o=="function")p||Cd(n);else if(p){var L=null;if(o&&o.hasAttribute("formAction")){if(u=o,p=o[Xt]||null)L=p.formAction;else if(Pu(u)!==null)continue}else L=p.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Cd(n)}}}function wd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function $u(e){this._internalRoot=e}p0.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=gn();md(n,l,e,t,null,null)},p0.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),e0(),t[wl]=null}};function p0(e){this._internalRoot=e}p0.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jl.length&&t!==0&&t<Jl[n].priority;n++);Jl.splice(n,0,e),n===0&&_d(e)}};var jd=r.version;if(jd!=="19.2.3")throw Error(i(527,jd,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var u2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_0.isDisabled&&_0.supportsFiber)try{On=_0.inject(u2),Gt=_0}catch{}}return er.createRoot=function(e,t){if(!x(e))throw Error(i(299));var n=!1,l="",u=Lx,o=Tx,p=Ex;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=dd(e,1,!1,null,null,n,l,null,u,o,p,wd),e[wl]=t.current,qu(e),new $u(t)},er.hydrateRoot=function(e,t,n){if(!x(e))throw Error(i(299));var l=!1,u="",o=Lx,p=Tx,L=Ex,I=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(I=n.formState)),t=dd(e,1,!0,t,n??null,l,u,I,o,p,L,wd),t.context=hd(null),n=t.current,l=gn(),l=$e(l),u=Tl(l),u.callback=null,El(n,u,l),n=l,t.current.lanes=n,Le(t,n),Fn(t),e[wl]=t.current,qu(e),new p0(t)},er.version="19.2.3",er}var Bd;function v2(){if(Bd)return ns.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ns.exports=g2(),ns.exports}var y2=v2();const pa=En;(function(c,r){const a=En,i=c();for(;;)try{if(-parseInt(a(388))/1*(-parseInt(a(406))/2)+parseInt(a(399))/3*(-parseInt(a(383))/4)+parseInt(a(396))/5+-parseInt(a(380))/6+-parseInt(a(390))/7*(-parseInt(a(393))/8)+parseInt(a(394))/9+-parseInt(a(387))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(M0,921615);const p2=(function(){const c=En,r={ZSARW:function(i,x){return i===x},GynQd:c(391)};let a=!0;return function(i,x){const f=c,m={bTytq:function(v,h){return v/h}};if(r.ZSARW(r[f(402)],r.GynQd)){const v=a?function(){const h=f;if(x){const d=x[h(386)](i,arguments);return x=null,d}}:function(){};return a=!1,v}else{const v=(_0x4a9ebd.leafGroups??[]).find(y=>y.id===_0x40cb75);if(!v||v.leafIds.length===0)return{x:0,y:0};const h=v[f(382)].map(y=>(_0x3cb490.leaves??[])[f(408)](A=>A.id===y)).filter(y=>!!y);if(h[f(407)]===0)return{x:0,y:0};const d=h.reduce((y,A)=>y+A[f(395)].x,0),g=h.reduce((y,A)=>y+A[f(395)].y,0);return{x:m[f(404)](d,h.length),y:g/h[f(407)]}}}})(),us=p2(void 0,function(){const c=En,r={gpXaP:"(((.+)+)+)+$"};return us.toString()[c(397)]("(((.+)+)+)+$").toString().constructor(us).search(r.gpXaP)});us();const j0=()=>new Date().toISOString(),It=c=>c+"_"+Math[pa(381)]()[pa(384)](36).slice(2,10),je=(c,r,a)=>Math[pa(385)](r,Math.min(a,c)),Ql=c=>{const r=pa;return c===void 0||{ktpkA:function(i,x){return i===x}}[r(389)](c,null)?c:JSON[r(392)](JSON.stringify(c))};function M0(){const c=["mZmYAMnytNj5","A3rWA0e","mtyXDwnWAgXL","v1HPq0e","CgfYC2u","mJKWnJriCLfwrMi","mtyZodC5nZrrze1Uwxa","Cg9ZAxrPB24","mJCZmZiXmfrkrLzMrW","C2vHCMnO","zMXVD2vYswrZ","mJCZBurtqNjn","BgvHzKDYB3vWCW","z3jVDxbZ","r3LUuwq","Aw5JBhvKzxm","yLr5Dhe","CMvKDwnL","otG4mKvQqNH3za","BgvUz3rO","zMLUza","ntq4mdqYnfP3Dvnwva","CMfUzg9T","BgvHzKLKCW","mJiXmJrdt0v2EKu","Dg9tDhjPBMC","Bwf4","yxbWBhK","mtC1mZe1otbtrg5etgK"];return M0=function(){return c},M0()}const nr=c=>Math.floor(c*.7/5)*5;function En(c,r){c=c-380;const a=M0();let i=a[c];if(En.jxJkfV===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};En.KGgOlQ=x,En.SKUFLq={},En.jxJkfV=!0}const f=a[0],m=c+f,v=En.SKUFLq[m];if(v)i=v;else{const h=function(d){this.zXMqFT=d,this.FBurKZ=[1,0,0],this.RQatku=function(){return"newState"},this.XRqodR="\\w+ *\\(\\) *{\\w+ *",this.LdCorm=`['|"].+['|"];? *}`};h.prototype.DPhBUz=function(){const d=new RegExp(this.XRqodR+this.LdCorm),g=d.test(this.RQatku.toString())?--this.FBurKZ[1]:--this.FBurKZ[0];return this.JAFapR(g)},h.prototype.JAFapR=function(d){return~d?this.YxeNMq(this.zXMqFT):d},h.prototype.YxeNMq=function(d){for(let g=0,y=this.FBurKZ.length;g<y;g++)this.FBurKZ.push(Math.round(Math.random())),y=this.FBurKZ.length;return d(this.FBurKZ[0])},new h(En).DPhBUz(),i=En.KGgOlQ(i),En.SKUFLq[m]=i}return i}function va(c,r){const a=pa;return c[a(401)]?c[a(401)].find(i=>i[a(398)].includes(r))??null:null}function _2(c,r){const a=va(c,r);return a?a.flowerIds:[r]}function ci(c,r){const a=pa;return c[a(400)]?c[a(400)].find(i=>i.leafIds[a(403)](r))??null:null}function S2(c,r){const a=pa,i={NAFRg:function(h,d){return h===d}},x=(c[a(400)]??[])[a(408)](h=>h.id===r);if(!x||i.NAFRg(x[a(382)][a(407)],0))return{x:0,y:0};const f=x.leafIds.map(h=>(c.leaves??[]).find(d=>d.id===h)).filter(h=>!!h);if(f[a(407)]===0)return{x:0,y:0};const m=f[a(405)]((h,d)=>h+d.position.x,0),v=f[a(405)]((h,d)=>h+d.position.y,0);return{x:m/f[a(407)],y:v/f[a(407)]}}function Gd(c,r){const a={kIHUh:function(x,f,m){return x(f,m)}},i=a.kIHUh(ci,c,r);return i?i.leafIds:[r]}(function(c,r){const a=Ht,i=c();for(;;)try{if(-parseInt(a(386))/1*(parseInt(a(332))/2)+parseInt(a(367))/3+parseInt(a(366))/4+-parseInt(a(343))/5*(-parseInt(a(340))/6)+parseInt(a(364))/7*(parseInt(a(375))/8)+parseInt(a(357))/9*(-parseInt(a(335))/10)+parseInt(a(342))/11*(-parseInt(a(355))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(z0,658400);const C2=(function(){const c=Ht,r={DlgkK:c(372)};let a=!0;return function(i,x){const f=a?function(){const m=Ht;if(m(349)!==r.DlgkK){if(x){const v=x[m(352)](i,arguments);return x=null,v}}else{const v=(_0x2d0c60+_0x5b6ac)/2,{diameter:h}=_0x20c3a0(_0x447ca9,v,_0x3e9ed5);h<_0x214dec?_0x3f78a3=v:_0x20f445=v}}:function(){};return a=!1,f}})(),ss=C2(void 0,function(){const c=Ht,r={RZKGJ:c(345)};return ss[c(353)]().search(c(345))[c(353)]().constructor(ss).search(r.RZKGJ)});ss();const ii=2/3,Rd=.6,w2=.25,j2=.75;function Ht(c,r){c=c-332;const a=z0();let i=a[c];if(Ht.wsZdwA===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ht.mCUfoS=x,Ht.YhrcLF={},Ht.wsZdwA=!0}const f=a[0],m=c+f,v=Ht.YhrcLF[m];if(v)i=v;else{const h=function(d){this.cwaTtb=d,this.RQSiNr=[1,0,0],this.ydPlCp=function(){return"newState"},this.fZVCqC="\\w+ *\\(\\) *{\\w+ *",this.RcXMdC=`['|"].+['|"];? *}`};h.prototype.APEZia=function(){const d=new RegExp(this.fZVCqC+this.RcXMdC),g=d.test(this.ydPlCp.toString())?--this.RQSiNr[1]:--this.RQSiNr[0];return this.SCrVDt(g)},h.prototype.SCrVDt=function(d){return~d?this.HWkihb(this.cwaTtb):d},h.prototype.HWkihb=function(d){for(let g=0,y=this.RQSiNr.length;g<y;g++)this.RQSiNr.push(Math.round(Math.random())),y=this.RQSiNr.length;return d(this.RQSiNr[0])},new h(Ht).APEZia(),i=Ht.mCUfoS(i),Ht.YhrcLF[m]=i}return i}function Vl(c,r,a){const i=Ht,x={FlQUj:function(E,G){return E/G},NPONO:function(E,G){return E<=G},LIVBX:i(338),qGnwi:function(E,G){return E/G},vzcyL:function(E,G){return E===G},lYGmp:function(E,G){return E*G},smiHy:function(E,G){return E+G},lGmzl:function(E,G){return E*G},ffnUk:function(E,G){return E*G},NvPCX:function(E,G){return E/G},AyGsH:function(E,G){return E*G},xNoHA:function(E,G){return E/G},XHboE:function(E,G){return E<G},TCXwZ:function(E,G){return E===G},TTlGU:"QaeWV",RkfSa:"gradual",gtXka:function(E,G){return E+G},KdafA:function(E,G){return E/G},duWrb:function(E,G){return E*G},gxdbb:function(E,G){return E*G},OFIWu:function(E,G){return E-G}},f=c/2,m=r*Math[i(373)]/2;if(x.NPONO(m,0)||f<=0)return{diameter:c,layerCount:1};const v=a?.[i(351)]??x.LIVBX,h=a?.[i(383)]??0,d=m*(1-ii),g=Math.PI*f/2,y=a?.[i(374)]??Math[i(344)](1,Math.round(x.qGnwi(g,d))),A=x.vzcyL(v,i(358))?r+(y-1)*h:r,b=x.qGnwi(x[i(365)](A,Math[i(373)]),2),D=x[i(380)](x.lGmzl(m,w2),x.ffnUk(b,j2));if(x[i(368)](y,1)){const E=Math.min(x[i(347)](Math.PI,2),b*ii/f),G=x[i(365)](f,Math[i(354)](E)),R=x.AyGsH(b*Rd,Math.sin(E));return{diameter:Math.round(Math.max(c,2*(G+R))),layerCount:y}}let _=x.xNoHA(m*ii,f);for(let E=1;x.XHboE(E,y);E++)if(x.TCXwZ("QaeWV",x.TTlGU)){const G=x.TCXwZ(v,x.RkfSa)?x.gtXka(r,E*h):r,R=x[i(334)](x.duWrb(G,Math[i(373)]),2);_+=R*(1-ii)/f}else _0x2b9f9b+=x[i(369)](_0x2f0efd[_0x5ec533],3);_=Math.min(_,x[i(356)](Math.PI,2));const C=x[i(376)](f+x.gxdbb(D,Rd),Math[i(354)](_)),U=Math[i(344)](0,x[i(341)](C,f));return{diameter:Math[i(371)](c+2*U),layerCount:y}}function z0(){const c=["zhHuve4","u1fsvdi","Bgf5zxjdB3vUDa","ndC3ody0t0DpuunL","z3HKyMi","sNnoEvy","yu5dEvK","DMLqzNG","C21PshK","C3nnu1q","tMveDgG","C2L6zvn0zxbnBq","DwHhsLu","q1fNrfm","mJaZnJC3EuXLug9A","ognQs1jtvG","t09ru2m","s2rHzKe","mtb3thjcA2W","rNjxA1C","BgDdvKu","Dw5PzM9YBq","C3DoB08","mJGYwvHrq0rc","t0zjv3u","nJq5CLvJvNn0","mte3oda1Be9Ku0HR","Bwf4","kcGOlISPkYKRksSK","wNjzyMm","tNzqq1G","q1LLA3G","rLP3v0G","vengELK","C2L6zu1Vzgu","yxbWBhK","Dg9tDhjPBMC","C2LU","mtK1nty0q1HrzKLn","Ee5Vsee","nJmWmtCXz0rguKz3","z3jHzhvHBa","swXzr1q","u25yC1G","sMzkqKK","whHNsxe","rxHNseS","ndjku1LcDhO","BfLhBxa","mtK3ntq2mfvOANvXBG","mtyZnta2meH6vg9NDq","DNPJEuW","rMXrvwO","zfzct1O","CM91BMq"];return z0=function(){return c},z0()}function ir(c,r,a="uniform",i=0){const x=Ht,f={JfJBI:function(h,d){return h<=d},ssMST:function(h,d){return h===d},lgCVE:"gradual",XjonR:function(h,d){return h*d},viPfx:function(h,d){return h/d},dVBOZ:function(h,d){return h*d},gwNTv:function(h,d){return h<d},KDODQ:function(h,d){return h/d}};if(r<=0||f[x(361)](c,0))return 0;const m=[];for(let h=0;h<r;h++){const d=f[x(381)](a,f[x(337)])?c+f.XjonR(h,i):c;m.push(f[x(379)](f[x(370)](d,Math[x(373)]),2))}let v=m[0];for(let h=1;f.gwNTv(h,r);h++)v+=f.KDODQ(m[h],3);return Math.round(v*2)}function M2(c,r,a="uniform",i=0){const x=Ht,f={QFzHK:function(y,A){return y<=A},NeDth:function(y,A){return y<=A},TCFzY:function(y,A){return y/A},CQgDS:function(y,A){return y===A},XxgIq:function(y,A){return y*A},nriID:function(y,A){return y-A},GmwLY:function(y,A){return y*A}};if(f.QFzHK(r,0)||f[x(382)](c,0))return 0;const m=f[x(350)](c,2),v=Math[x(373)]/2,h=r;if(a===x(338)||f[x(385)](i,0)){const y=v*(h+2)/3;return Math[x(344)](1,Math[x(371)](m/y))}const d=f[x(362)](i,f.nriID(h,1))*h/6,g=f.GmwLY(m/v-d,3)/(h+2);return Math.max(1,Math.round(g))}function z2(c,r,a){const i=Ht,x={uhGJU:function(v,h){return v<h},swNoO:function(v,h){return v+h},UggAk:function(v,h){return v===h}};if(c<=r)return 1;let f=1,m=80;for(let v=0;x[i(384)](v,30);v++){const h=x[i(339)](f,m)/2,{diameter:d}=Vl(r,h,a);d<c?f=h:x.UggAk("xYxUc","xYxUc")?m=h:_0x1ffe38=_0x36f6ec}return Math[i(344)](1,Math.round(x[i(339)](f,m)/2))}function D2(c,r,a){const i=Ht,x={ZrYbc:function(A,b){return A/b},sxmPQ:function(A,b){return A===b},IlYGT:function(A,b){return A+b},aNCyY:function(A,b){return A*b},akagz:function(A,b){return A-b},eGGWD:function(A,b){return A<=b},bYAnv:i(338),CYekx:function(A,b){return A/b},SnXsX:function(A,b){return A/b},OOQSc:function(A,b){return A<b},ExgHK:i(377),MOvjC:function(A,b){return A*b},jUkrR:function(A,b){return A+b}},f=c/2,m=x[i(346)](x[i(378)](r,Math.SQRT2),2);if(x.eGGWD(m,0)||x.eGGWD(f,0))return 1;const v=a?.[i(351)]??x.bYAnv,h=a?.sizeStepMm??0,d=Math.PI/2;if(v===x.bYAnv||h===0)if(i(336)!==i(336)){const A=_0x2a86aa/3,b=x.ZrYbc(_0x315743.PI*_0xb0f2ff,2);return _0x2952a4.max(1,_0x521d9e.round(b/A))}else{const A=x[i(348)](m,3),b=x[i(360)](x.aNCyY(Math.PI,f),2);return Math.max(1,Math[i(371)](b/A))}let g=x[i(348)](x.aNCyY(m,ii),f);if(g>=d)return 1;let y=1;for(let A=1;x[i(333)](A,100);A++)if(x[i(363)]===x[i(363)]){const b=r+x.MOvjC(A,h),D=b*Math[i(373)]/2,_=D*x.akagz(1,ii)/f;if(g+=_,g>x[i(359)](d,_/2))break;y=x.jUkrR(A,1)}else{const b=JzlTrz.sxmPQ(_0x1a6c23,"gradual")?JzlTrz[i(359)](_0xcc6824,JzlTrz[i(378)](_0x1c4762,_0x11a20f)):_0x15c485,D=JzlTrz.aNCyY(b,_0x2d763d[i(373)])/2;_0x5a5748+=JzlTrz.aNCyY(D,JzlTrz.akagz(1,_0x9bf5cb))/_0x42ea12}return Math.max(1,y)}function qn(c,r){c=c-441;const a=D0();let i=a[c];if(qn.jPMiEt===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};qn.DHlLLA=x,qn.ALgtIw={},qn.jPMiEt=!0}const f=a[0],m=c+f,v=qn.ALgtIw[m];if(v)i=v;else{const h=function(d){this.mHcPgS=d,this.QTCqFQ=[1,0,0],this.FoieIu=function(){return"newState"},this.BjHJhR="\\w+ *\\(\\) *{\\w+ *",this.mZsgMH=`['|"].+['|"];? *}`};h.prototype.oCFsYR=function(){const d=new RegExp(this.BjHJhR+this.mZsgMH),g=d.test(this.FoieIu.toString())?--this.QTCqFQ[1]:--this.QTCqFQ[0];return this.ObZKNH(g)},h.prototype.ObZKNH=function(d){return~d?this.ZJSfzV(this.mHcPgS):d},h.prototype.ZJSfzV=function(d){for(let g=0,y=this.QTCqFQ.length;g<y;g++)this.QTCqFQ.push(Math.round(Math.random())),y=this.QTCqFQ.length;return d(this.QTCqFQ[0])},new h(qn).oCFsYR(),i=qn.DHlLLA(i),qn.ALgtIw[m]=i}return i}const pl=qn;(function(c,r){const a=qn,i=c();for(;;)try{if(-parseInt(a(465))/1+parseInt(a(491))/2+parseInt(a(487))/3+parseInt(a(482))/4+parseInt(a(469))/5*(-parseInt(a(458))/6)+-parseInt(a(480))/7*(-parseInt(a(490))/8)+-parseInt(a(485))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,570112);const N2=(function(){let c=!0;return function(r,a){const i=c?function(){const x=qn;if(a){const f=a[x(462)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),os=N2(void 0,function(){const c=qn,r={hmfVP:c(476)};return os[c(489)]()[c(474)](r.hmfVP)[c(489)]().constructor(os).search("(((.+)+)+)+$")});os();const ur=.28,kd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:pl(446)};function xs(c){const r=pl,a={pMewC:"",zmaRr:""};return c===""?kd[a[r(477)]]:kd[a.zmaRr]}function ya(c){return{PCCqI:function(i,x){return i*x}}[pl(448)](c,Math.PI)/180}const un=2.7;function Kt(c){const r=c*Math.SQRT2/2,a=r*un,i=a/2;return{length:a,width:i}}function A2(c){return c*un/2}function D0(){const c=["CeXYDKK","y29Z","wM9fExq","sw1gu1m","C2vHCMnO","uMXzyvG","kcGOlISPkYKRksSK","Ce1LD0m","5y2k44gp44gz","zeveALK","mJe3n2DIsxvNEa","C2nHBgu","mtyYndm2ohbovgHgAG","B3jKzxi","vvj1thq","mte5mJaYnZviwLj5CKe","CMfKAxvZ","mJm5nZyYn21UEKTsAa","u1LLEwu","Dg9tDhjPBMC","nty4qwfsu1jt","mJi3otu2ogjYCKnADq","sfnLuLm","Awnrz2C","BwLU","CM91BMq","q0Lurgy","BgvUz3rO","zeX1AgO","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","A3HxAfq","uendCuK","zMLUza","su13r3K","C2LU","q3zwrKK","t0f1tuG","sxvAEM0","we9Muxq","Dg9gAxHLza","Bwf4","mti2DezTtuXY","Afb4DKC","z2zsv3u","C2XTz2W","yxbWBhK","AM9PBG","D0jMEhq","mJeXotKWwxfSC1vN","qLHlww0","s3rTuK8","AMLOyw4","nJiWndv5CMLIEMC"];return D0=function(){return c},D0()}function lr(c,r,a){const i=pl,x={mHtlQ:function(d,g){return d*g},pLrvI:function(d,g){return d*g},CvVFI:function(d,g){return d+g}},{length:f}=Kt(a),m=x.mHtlQ(f,r),v=Math[i(457)](0,c-x[i(470)](m,ur));return x[i(452)](v,m)*2/un}function L2(c,r,a){const i={MgLAS:function(v,h){return v(h)},jjufL:function(v,h){return v/h},NEMrz:function(v,h){return v*h}},{length:x}=i.MgLAS(Kt,a),f=x*r,m=i.jjufL(c*un,2);return Math.max(2,m-i.NEMrz(f,1-ur))}function $n(c,r,a){const i=pl,x={XOfQt:function(g,y){return g<=y},ZcRbe:function(g,y){return g??y},dLuhj:function(g,y){return g/y},icQgg:i(479),IuZzm:function(g,y){return g+y},kxWhT:function(g,y){return g%y},SfPzP:function(g,y){return g+y},RlYaX:function(g,y){return g/y},wOeSw:function(g,y){return g*y},AmfRZ:function(g,y){return g-y},ZoEyt:function(g,y){return g>y},CITDf:function(g,y){return g<y}};if(!c||x[i(455)](c,0)||!a||a<=0)return x.ZcRbe(r,0);const f=360/c,m=x[i(445)](360,a),v=[];for(let g=0;g<c;g++)x[i(493)]!==i(479)?_0x8d4358.radius=_0x23627e:v.push(x.IuZzm(x.kxWhT(x.SfPzP(r,g*f),360),360)%360);let h=r+x[i(475)](f,2),d=-1;for(let g=0;g<c;g++){const y=x[i(454)](r,x.wOeSw(g,f))+f/2;let A=1/0;for(let b=0;b<a;b++){const D=x[i(447)]((y+b*m)%360+360,360);for(const _ of v){let C=Math.abs(x.AmfRZ(D,_));x[i(472)](C,180)&&(C=360-C),x[i(443)](C,A)&&(A=C)}}x[i(472)](A,d)&&(d=A,h=y)}return Math.round(h*10)/10}function Z0(c,r,a){const i=pl,x={URuLt:function(b,D){return b===D},OAuMH:function(b,D){return b+D},hPxvG:function(b,D){return b<=D},uQref:function(b,D){return b/D}};if(x[i(484)](c[i(444)],0))return;const{length:f}=Kt(r),m=c[0],v=m.scale??1,h=f*v,d=Math.max(0,m.radius-h*ur),g=x[i(453)](d,h);if(x[i(459)](g,0))return;const y=a*un/2,A=x.uQref(y,g);for(const b of c)b[i(486)]=Math[i(457)](2,Math.round(b.radius*A*10)/10),b.scale=Math.round((b[i(481)]??1)*A*100)/100;fs(c,r)}function fs(c,r){const a=pl,i={NmPjf:function(h,d){return h-d},MYSRh:function(h,d){return h*d},IMwGy:function(h,d){return h/d}};if(c.length===0)return;const x=c[i.NmPjf(c.length,1)],{length:f}=Kt(r),m=i.MYSRh(f,x[a(481)]??1),v=i[a(450)](Math.floor(m*ur*10),10);x[a(486)]>v&&(x.radius=v)}function T2(c,r,a,i){const x=pl,f={wBfxt:function(A,b){return A*b},KtmRO:function(A,b){return A/b},mXxfH:function(A,b){return A-b},BXKYm:function(A,b){return A===b},HSeRS:function(A,b){return A>b}};if(c.length===0)return;const m=[...c].sort((A,b)=>b.order-A[x(483)]),{length:v}=Kt(r),h=m[x(444)],d=m[0].scale??1,g=f[x(464)](v,d);m[0][x(486)]=f[x(467)](Math.floor(g*ur*10),10);for(let A=1;A<h;A++){const b=m[f.mXxfH(A,1)],D=v*(b[x(481)]??1);let _;if(f[x(466)](a,x(478))){const U=f[x(464)](70,Math.PI)/180,V=f[x(492)](h,1)?A/(h-1)*U:0;_=f.wBfxt(D*(30/100),Math[x(471)](V))}else _=D/3;m[A].radius=f.KtmRO(Math.round((b[x(486)]+_)*10),10)}const y=[...c].sort((A,b)=>A.order-b.order);Z0(y,r,i);for(const A of y){const b=c[x(449)](D=>D.id===A.id);b&&(b.radius=A[x(486)],b.scale=A.scale)}}function ui(c){const r=pl,a={zRUaQ:function(h,d){return h/d},SYeye:function(h,d){return h*d}},i=360/c,x=Math[r(451)](ya(i/2))*2,f=.96,m=1.2,v=a.zRUaQ(a.SYeye(x,m),f);return Math[r(442)](a[r(488)](Math.max(.3,Math[r(441)](3,v)),100))/100}function N0(){const c=["wxnywxm","odG0mZeYnffRzg1Nqq","Bgf5","i0yWoencnG","Cg9ZAxrPB24","uuDSy2K","C29YDa","ota5D09cv2Pk","r3n1yxe","AMTdqNu","sffXsfC","iZjgqKy0qq","s1PMv28","sgjkuK4","s0Xxqw4","D2fJDvK","mJHqvKzKzKC","y29Sx3LLBgXVDW","y29Sx2nVCMfS","Cgv0ywXdB3vUDa","i0m4qtjena","A3Hps0i","B2zMC2v0qw5NBgu","iZncn0reoa","BMfTzq","B3nXzM8","uhvzCfy","s25LExC","mti5nty3oxzrCfjgzW","5y2k44gp44gz","B3jKzxi","t3v0zxi","ienVChK","nty2mZK0AePjEg9T","nJC5oteYBMj1r1j6","vhPZteK","EuPdq1u","mti5y1PYtg5o","kcGOlISPkYKRksSK","r3jgvLm","y29Sx2DYzwvU","iZjdm0u2qG","i0y1rJvgnq","sw5Uzxi","sfLhv3a","iZmZmZmZmW","rMXVD2vYide","uKPQt1O","uM5ivKi","B2vrt2u","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","DfPkrfy","yLfmwMG","END3r20","i0yYrda0qG","y29Sx2DVBgq","ugzAELu","mZCYotbwtLrbEve","rKfqqwO","DMroAM4","Cgv0ywXpDMvYCMLKzxm","zuLJAKm","s0vQv2q","mZaWmJHYwM5hD1K","i0uZndG1ma","y29Sx3DOAxrL","y29Sx3b1CNbSzq","A1PmALi","yxbWBhK","u0P4zgK","C2nHBgu","odm1mZa1DwX3rhvf","qwrMr1q","y29Sx3jLza","CMfKAxvZ","zMX3","y29Sx25HDNK","i0mWqZbdma","ChDlugC","ufrpEw8","CNfmzee","y29Sx2jYB3DU","i0yWoeeZqG","i0zerJvdoq","tuP0ALa","zhLJCem","tgnou3C","tNjOsee","BwfW","5lI444gK44g+44g/","y29Sx2HVDhbPBMS","A25IBuK","ruj5t3m","Dg9tDhjPBMC","nKHkwMfsyW","wxjjzNq","B3DxDva","mxrHy09kyG","y29Sx2XPz2H0yMX1zq","q2vUDgvY","CwnJrKy","seH6ANC","5yMJ44gK44g+44g/"];return N0=function(){return c},N0()}(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(534))/1*(-parseInt(a(470))/2)+-parseInt(a(474))/3*(-parseInt(a(500))/4)+parseInt(a(508))/5*(parseInt(a(531))/6)+-parseInt(a(453))/7*(parseInt(a(471))/8)+parseInt(a(444))/9*(parseInt(a(494))/10)+parseInt(a(465))/11+-parseInt(a(541))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,190594);const E2=(function(){const c=ln,r={kxOKB:c(542),UCWwt:"",vdNjn:c(502),qAWKr:function(i,x){return i/x},qccFF:"Inner",FVhOb:c(512),HHzjw:c(483),tZJDV:""};let a=!0;return function(i,x){const f=c;r[f(458)],r[f(496)],r[f(537)],f(468),r[f(538)],r[f(488)],f(487);const m=a?function(){const v=f;if(x){const h=x[v(505)](i,arguments);return x=null,h}}:function(){};return a=!1,m}})(),ds=E2(void 0,function(){const c=ln,r={ftCZg:"(((.+)+)+)+$"};return ds.toString().search(c(475))[c(530)]().constructor(ds).search(r.ftCZg)});ds();function Kd(){const c=ln,r={EByOs:"col_red",oOjHb:"col_pink",DOYZy:c(519),MJtjP:"col_lightyellow",osqfo:c(520),HsdXl:c(448),RJjOZ:c(535),UlOuh:"#7EC8E3",YrIft:c(503),TzsLI:"#9B59B6",rqLdA:c(457),jfpHp:c(492),yUqvF:"col_cream",rhNCn:"#F5E6CC",HYGWp:c(518),OzVWH:"col_black",VOAGD:c(482),RwYPv:c(455),HQqHW:"#F08080"};return[{id:"col_white",name:"",hex:c(479)},{id:r[c(529)],name:"",hex:c(501)},{id:r.oOjHb,name:"",hex:c(543)},{id:c(527),name:"",hex:"#E0457B"},{id:"col_orange",name:"",hex:r.DOYZy},{id:c(454),name:"",hex:c(491)},{id:r[c(521)],name:"",hex:r[c(462)]},{id:c(477),name:"",hex:r.HsdXl},{id:"col_darkgreen",name:"",hex:"#1A7A3A"},{id:r[c(484)],name:"",hex:r.UlOuh},{id:"col_blue",name:"",hex:c(460)},{id:c(513),name:"",hex:c(478)},{id:r[c(532)],name:"",hex:r[c(472)]},{id:"col_lavender",name:"",hex:r[c(517)]},{id:r.jfpHp,name:"",hex:"#D4A843"},{id:"col_silver",name:"",hex:c(514)},{id:r.yUqvF,name:"",hex:r.rhNCn},{id:r[c(481)],name:"",hex:"#8B5E3C"},{id:r.OzVWH,name:"",hex:r.VOAGD},{id:r.RwYPv,name:"",hex:r[c(447)]}]}function q2({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=ln,x={HbJRN:function(v){return v()},NrhHA:function(v,h){return v??h}},f=x[i(450)](j0),m=Kd();return ga({id:It("prj"),title:x.NrhHA(c,""),unit:"mm",fabricSquareSize:r??20,baseDiameter:x[i(524)](a,30),notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function ln(c,r){c=c-441;const a=N0();let i=a[c];if(ln.xtUUli===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};ln.fYHuEZ=x,ln.qWQLkC={},ln.xtUUli=!0}const f=a[0],m=c+f,v=ln.qWQLkC[m];if(v)i=v;else{const h=function(d){this.RogcRJ=d,this.RkPMCu=[1,0,0],this.eoACzT=function(){return"newState"},this.gAzqLW="\\w+ *\\(\\) *{\\w+ *",this.LBAQIb=`['|"].+['|"];? *}`};h.prototype.UHFTpK=function(){const d=new RegExp(this.gAzqLW+this.LBAQIb),g=d.test(this.eoACzT.toString())?--this.RkPMCu[1]:--this.RkPMCu[0];return this.yifQmk(g)},h.prototype.yifQmk=function(d){return~d?this.kAMfEQ(this.RogcRJ):d},h.prototype.kAMfEQ=function(d){for(let g=0,y=this.RkPMCu.length;g<y;g++)this.RkPMCu.push(Math.round(Math.random())),y=this.RkPMCu.length;return d(this.RkPMCu[0])},new h(ln).UHFTpK(),i=ln.fYHuEZ(i),ln.qWQLkC[m]=i}return i}function B2(c,r){const a=ln,i={YvJAk:function(v,h){return v(h)},nvLpc:function(v,h){return v(h)},KZfWo:function(v,h){return v+h}},x=i.YvJAk(Ql,c);x.id=i.nvLpc(It,a(512)),x[a(461)]=c.name+a(469);const f=r?.x??12,m=r?.y??12;return x[a(441)]={x:i[a(449)](c[a(441)]?.x??0,f),y:(c[a(441)]?.y??0)+m},x.layers=(x.layers||[])[a(525)](v=>({...v,id:It(a(542)),petalOverrides:v[a(497)]?v.petalOverrides.map(h=>({...h})):void 0})),x}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(415))/1*(parseInt(a(379))/2)+-parseInt(a(414))/3+-parseInt(a(383))/4+-parseInt(a(435))/5+-parseInt(a(395))/6*(parseInt(a(453))/7)+parseInt(a(396))/8*(-parseInt(a(354))/9)+-parseInt(a(449))/10*(-parseInt(a(432))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,840543);const G2=(function(){let c=!0;return function(r,a){const i=c?function(){const x=vn;if(a){const f=a[x(443)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),hs=G2(void 0,function(){const c=vn,r={VbTYj:c(386)};return hs.toString()[c(404)](r.VbTYj).toString().constructor(hs)[c(404)](c(386))});hs();function rs(c){const r=vn,a={NYIkS:function(i,x){return i===x},useUG:r(362),IcrEX:"ken",OERpl:""};return a[r(454)](c,"maru")?a.useUG:c===a.IcrEX?a.OERpl:c===a.useUG||a.NYIkS(c,"")?c:r(362)}function vn(c,r){c=c-352;const a=A0();let i=a[c];if(vn.AXUmnL===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};vn.TeEmds=x,vn.zPgwMg={},vn.AXUmnL=!0}const f=a[0],m=c+f,v=vn.zPgwMg[m];if(v)i=v;else{const h=function(d){this.SNvKih=d,this.ePloku=[1,0,0],this.LUCmOx=function(){return"newState"},this.DsvFmb="\\w+ *\\(\\) *{\\w+ *",this.CElmHA=`['|"].+['|"];? *}`};h.prototype.KDucCi=function(){const d=new RegExp(this.DsvFmb+this.CElmHA),g=d.test(this.LUCmOx.toString())?--this.ePloku[1]:--this.ePloku[0];return this.wTgJRG(g)},h.prototype.wTgJRG=function(d){return~d?this.hBzuFq(this.SNvKih):d},h.prototype.hBzuFq=function(d){for(let g=0,y=this.ePloku.length;g<y;g++)this.ePloku.push(Math.round(Math.random())),y=this.ePloku.length;return d(this.ePloku[0])},new h(vn).KDucCi(),i=vn.TeEmds(i),vn.zPgwMg[m]=i}return i}function A0(){const c=["mZKWmtmWwufuz2Tj","BgvHzG","zMX3","C2L6zq","ntGXodG0muDmrNPUDq","tLLjA1m","x2rVDwjSzvbLDgfSq2fJAgu","B0Dqwe8","veHZzw8","BgvHzKLKCW","y2HPBgq","5y2k44gp44gz","DMvYC2LVBG","Aw5UzxjtAxPLuMvKDwn0Aw9U","DMLZAwjSzq","Cg9Zzq","BwfW","Aw5UzxjdB2XVCKLK","zMXVD2vYswrZ","Aw5UzxjqzxrHBfr5Cgu","C3rMBfi","mJDnCfbArMe","y29Sx3DOAxrL","CgvWq291BNq","DhLWzq","BMfTzq","swvtCMy","vNbRueW","BuDPDfm","5lI444gK44g+44g/","C3bSAxq","z3zYqxO","BgLUA2vKrMXVD2vYr3jVDxbjza","qMn4B1e","y29SB3i","ugjjCeq","yM9VBgvHBG","yMfZzurPyw1LDgvY","CgXHy2vTzw50tw9Kzq","C3rYAw5N","ELDuwNa","CMLNAhq","y2vUDgvY","zg91yMXLugv0ywW","44oA44od44ox","BgvHDMvZ","nZyXnti4qxDdu2nU","Cg9ZAxrPB24","C1brDgC","yMfJAW","mJa1nZaWAMnRsgXk","tw5Xu1C","Aw5JBhvKzxm","kcGOlISPkYKRksSK","zMfICMLJu3f1yxjLu2L6zq","tw55Ce0","Bgf5zxjZ","AxngAw5PDgu","Cgv0ywXpDMvYCMLKzxm","B2zMC2v0qw5NBgu","B2jQzwn0","C2nHBgu","nLP2yuTOza","mtKYmZGWmfzLr3bMBa","CgfSzxr0zq","CNz4CKC","zg1bDwi","DMfYAwfUDa","tK9WyKK","wNbNBNu","AxnbCNjHEq","C2vHCMnO","y29SB3jjza","Dw5PDa","EerYEuu","z3jVDxbZ","zMXVD2vYrgLHBwv0zxi","zfbTCKO","AgfZ","C3rLBMnPBhm","Bgf5","mJG2ndqZm3rKzMD1BW","m2fiBhD2AW","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","ENvuqve","CMfKAxvZ","ANbithG","44kW44oR44o844ox","ywr1Bhq","D2LKDgHty2fSzq","tgvHzG","shjorNq","wKvgthe","CKzjre4","rMXVD2vY","zMXVD2vYCW","ChjVAG","B2HREge","DgL0Bgu","odaZvhrurgT0","BgvHzKDYB3vWCW","zMLSDgvY","mJK1mZG3mhzyv05Wsa","44or44o844oR77Yl5BQN6yEr","Bg9JA2vK","y29SB3iY","tLbqsey","Cgv0ywXuExbL","EgXLy3q","DxbKyxrLzef0","yxbWBhK","y3jLyxrLzef0","rhvABgm","ExP2txC","rgrJBNG","u2zLswu"];return A0=function(){return c},A0()}function ga(c){const r=vn,a={HrNFt:function(f,m){return f(m)},VpkPL:r(420),dmAub:"child",SqXcL:"left",BdHFf:r(382),MnqSW:r(372),xlect:r(427),JAzgc:r(413),stflR:function(f,m){return f!==m},Xkdjp:function(f,m,v,h){return f(m,v,h)},NOpbI:"QkGOA",yzvMw:r(393),zWTZp:r(381),rvxrG:r(430),GnLLt:function(f,m){return f!=m},mGitS:function(f,m){return f==m},nNtPg:function(f,m){return f*m},xDryE:function(f,m){return f-m},KNNFO:function(f,m){return f!=m},MnypM:function(f,m){return f!=m},Ddcnx:function(f,m){return f!=m},DkgbL:function(f,m,v,h){return f(m,v,h)},DuZlc:function(f,m){return f!==m},tTGuI:r(355),NKffy:function(f,m){return f!==m},BZdcP:function(f,m){return f<=m},Zpgnu:r(368),THseo:function(f){return f()},oqHny:function(f,m){return f(m)},dPmrJ:r(416),rFIDN:function(f,m){return f!==m},BcxoQ:"grp",eTUtD:"10|5|7|6|0|2|4|9|8|11|1|3",SfeIe:function(f,m){return f(m)},IeSrf:function(f,m){return f!==m},jpHLx:"col_green",JiLHW:function(f,m){return f!==m},jlxiH:function(f,m){return f===m},zuTAQ:function(f,m){return f!=m},gvrAz:r(423),oGPXO:function(f,m){return f(m)},HgHLA:r(450),xzUMR:r(369),yggPl:function(f,m){return f!==m},NPPHF:"HZgEY",spUzJ:r(421)},i=a.HrNFt(Ql,c||{});Array[r(403)](i.flowers)||(i.flowers=[]);for(const f of i.flowers){f.id||(f.id=It(r(451))),(typeof f.name!==a[r(384)]||!f.name)&&(f.name=a[r(441)]),(!f.position||!Number[r(390)](f.position.x)||!Number[r(390)](f[r(380)].y))&&(f.position={x:260,y:260}),Array.isArray(f[r(389)])||(f.layers=[]);for(const m of f.layers){if(m.id||(m.id=It(a.JAzgc)),(a.stflR(typeof m[r(405)],a.MnqSW)||!m.colorId)&&(m.colorId=i[r(397)]?.[0]?.id??"col_white"),m.petalType=a[r(424)](rs,m.petalType),m.petalCount=a.Xkdjp(je,Number(m.petalCount||0),5,24),Number.isFinite(m[r(394)])||(m.scale=1),Number.isFinite(m[r(422)])||(m.widthScale=1),Number[r(390)](m[r(418)])||(m.radius=28),Number.isFinite(m.offsetAngle)||(m[r(392)]=0),delete m[r(455)],m[r(376)])if(a[r(353)](a[r(401)],"QkGOA"))_0x557809.center[r(367)]=_0x1f4808.palette?.[0]?.id??r(355);else if(typeof m.doublePetal!==a[r(446)]||m[r(376)]===null)a.zWTZp===a[r(373)]?delete m[r(376)]:delete _0x421811.doublePetal;else if(a.rvxrG===a[r(398)]){if(a.GnLLt(m.doublePetal.innerScale,null)&&a[r(361)](m[r(376)].innerSizeReduction,null)){const v=f[r(387)]??i.fabricSquareSize??20;m[r(376)][r(462)]=Math.round(a.nNtPg(v,a[r(407)](1,m.doublePetal.innerScale)))}delete m.doublePetal.innerScale,Number[r(390)](m[r(376)].innerSizeReduction)||(m[r(376)].innerSizeReduction=2),m.doublePetal[r(462)]=je(m.doublePetal[r(462)],1,30),delete m[r(376)][r(352)],a.KNNFO(m[r(376)][r(466)],null)&&a.stflR(typeof m[r(376)][r(466)],r(372))&&delete m.doublePetal[r(466)]}else _0x25a782.isArray(_0x497690[r(467)])||(_0xae702a.flowerIds=[]),_0x22047c[r(467)]=_0x602eb0.flowerIds.filter(v=>_0x1de0e3.has(v)),_0x1dc3dd.id||(_0x13ad99.id=a.HrNFt(_0x2f9cea,"grp")),(typeof _0x3b2ae1[r(358)]!==r(372)||!_0x415a2d.name)&&(_0x5a5d37[r(358)]=a[r(360)]);if(Array[r(403)](m[r(391)])){for(const v of m[r(391)])if(v&&v[r(440)]!=null&&(v[r(440)]=rs(v[r(440)])),v&&delete v[r(352)],v&&a[r(388)](v.innerColorId,null)&&typeof v[r(466)]!="string"&&delete v[r(466)],v&&a.Ddcnx(v.innerSizeReduction,null))if(Number[r(390)](v[r(462)]))v.innerSizeReduction=a.DkgbL(je,v[r(462)],1,30);else if(a[r(353)]("jGjtp","tsotv"))delete v.innerSizeReduction;else{const h=["adult",a[r(399)]],d=["right",a.SqXcL,a.BdHFf];_0x77a2df.stencils=_0x4e9430[r(412)][r(434)](g=>g&&typeof g.id=="string"&&h.includes(g[r(400)])&&d.includes(g[r(464)])&&g[r(380)]&&_0x2f63c1.isFinite(g[r(380)].x)&&_0x58837d[r(390)](g[r(380)].y))}}}(!Number.isFinite(f[r(409)])||f[r(409)]<=0)&&(f.flowerDiameter=60),f[r(375)]&&(f[r(375)].type===r(436)&&(f.center[r(357)]=""),["","",r(377)].includes(f.center.type)||(f[r(375)].type=""),Number.isFinite(f[r(375)][r(452)])||(f.center[r(452)]=6),f.center[r(452)]=je(f.center.size,1,30),(a[r(445)](typeof f[r(375)][r(367)],a[r(384)])||!f[r(375)][r(367)])&&(f[r(375)].color=i.palette?.[0]?.id??a.tTGuI),f.center[r(357)]===""&&(r(425)==="XOzEm"?_0x409ddf[r(380)]={x:675,y:675}:(Number[r(390)](f[r(375)].pepCount)||(f[r(375)].pepCount=12),f.center.pepCount=je(f[r(375)][r(356)],4,30))),f[r(375)].type!==""&&delete f.center[r(438)]),a.NKffy(f[r(371)],r(460))&&f[r(371)]!==""&&(f[r(371)]=r(460)),f[r(370)]!==void 0&&(!Number[r(390)](f.baseDiameter)||a.BZdcP(f.baseDiameter,0))&&(r(368)!==a[r(402)]?_0x2f4612.placementMode=r(460):delete f[r(370)])}Array.isArray(i.palette)||(i.palette=[]);const x=new Set(i.palette[r(465)](f=>f.id));for(const f of a[r(457)](Kd))x.has(f.id)||i.palette.push(f);i[r(444)]||(i[r(444)]=j0()),i[r(442)]||(i.updatedAt=i[r(444)]),i.id||(i.id=a.oqHny(It,r(429))),i.title||(i[r(431)]=a[r(410)]),i[r(406)]="mm",Number.isFinite(i[r(387)])||(i.fabricSquareSize=20),(!Number[r(390)](i[r(370)])||i[r(370)]<=0)&&(i.baseDiameter=30),a[r(426)](typeof i.notes,"string")&&(i.notes=""),Array.isArray(i[r(408)])||(i.groups=[]);{const f=new Set(i[r(428)].map(m=>m.id));for(const m of i.groups)Array[r(403)](m.flowerIds)||(m[r(467)]=[]),m.flowerIds=m[r(467)][r(434)](v=>f[r(411)](v)),m.id||(m.id=a.oqHny(It,a[r(366)])),(typeof m[r(358)]!==a.MnqSW||!m.name)&&(m.name=r(420));i.groups=i[r(408)].filter(m=>m.flowerIds&&m[r(467)].length>0)}Array[r(403)](i[r(378)])||(i.leaves=[]);for(const f of i.leaves){const m=a.eTUtD[r(363)]("|");let v=0;for(;;){switch(m[v++]){case"0":f.petalType=a[r(448)](rs,f[r(440)]);continue;case"1":delete f._doublePetalCache;continue;case"2":(a.IeSrf(typeof f[r(405)],r(372))||!f[r(405)])&&(f.colorId=i[r(397)]?.[0]?.id??a[r(419)]);continue;case"3":f.doublePetal&&(a.JiLHW(typeof f.doublePetal,a.yzvMw)||a.jlxiH(f[r(376)],null)?delete f.doublePetal:(Number[r(390)](f.doublePetal[r(462)])||(f.doublePetal[r(462)]=2),f.doublePetal[r(462)]=je(f[r(376)].innerSizeReduction,1,30),a[r(417)](f.doublePetal.innerColorId,null)&&typeof f.doublePetal[r(466)]!="string"&&delete f[r(376)][r(466)]));continue;case"4":Number[r(390)](f.scale)||(f[r(394)]=1);continue;case"5":(a[r(445)](typeof f[r(358)],a.MnqSW)||!f[r(358)])&&(f.name=a[r(364)]);continue;case"6":Number[r(390)](f.rotation)||(f.rotation=0);continue;case"7":(!f.position||!Number[r(390)](f[r(380)].x)||!Number[r(390)](f[r(380)].y))&&(f[r(380)]={x:675,y:675});continue;case"8":a[r(359)](typeof f.visible,"boolean")&&(f[r(463)]=!0);continue;case"9":Number.isFinite(f[r(422)])||(f.widthScale=1);continue;case"10":f.id||(f.id=a[r(456)](It,a.HgHLA));continue;case"11":a.IeSrf(typeof f.locked,a.xzUMR)&&(f[r(437)]=!1);continue}break}}Array[r(403)](i[r(433)])||(i.leafGroups=[]);{const f=new Set(i[r(378)].map(m=>m.id));for(const m of i.leafGroups)m.id||(m.id=It("lg")),(a.yggPl(typeof m[r(358)],a.MnqSW)||!m[r(358)])&&(m[r(358)]=""),Array[r(403)](m[r(458)])||(m[r(458)]=[]),m[r(458)]=m.leafIds[r(434)](v=>f[r(411)](v)),Number[r(390)](m.rotation)||(m.rotation=0),a[r(447)](m.linkedFlowerGroupId,null)&&((i[r(408)]??[]).some(h=>h.id===m.linkedFlowerGroupId)||delete m[r(365)]);i[r(433)]=i.leafGroups.filter(m=>m[r(458)]&&m.leafIds.length>0)}if(Array.isArray(i.stencils))if(a.jlxiH("VvLqq",a[r(439)]))_0x1c8825[r(411)](_0xd0020a.id)||_0x21ade2.palette.push(_0x3c042a);else{const f=[a.spUzJ,r(459)],m=[r(374),"left","back"];i[r(412)]=i.stencils.filter(v=>v&&typeof v.id=="string"&&f[r(385)](v[r(400)])&&m[r(385)](v[r(464)])&&v.position&&Number[r(390)](v[r(380)].x)&&Number[r(390)](v[r(380)].y))}return Number[r(390)](i.version)||(i[r(461)]=1),i}const R2=Bn;(function(c,r){const a=Bn,i=c();for(;;)try{if(-parseInt(a(181))/1+parseInt(a(173))/2*(-parseInt(a(182))/3)+-parseInt(a(178))/4+-parseInt(a(176))/5+parseInt(a(177))/6+-parseInt(a(184))/7+parseInt(a(174))/8===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,347642);const k2=(function(){let c=!0;return function(r,a){const i=c?function(){const x=Bn;if(a){const f=a[x(175)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ms=k2(void 0,function(){const c=Bn,r={qjoBA:"(((.+)+)+)+$"};return ms[c(180)]().search(r.qjoBA)[c(180)]()[c(172)](ms)[c(183)](r.qjoBA)});function L0(){const c=["Dg9tDhjPBMC","nZeZn0DSvMfuCW","mtH0wefjzhG","C2vHCMnO","ndqYodaWne5lvuXdvW","y29UC3rYDwn0B3i","mJi2otqYAwfIDMP5","mti1nZqWodblvxLgB0q","yxbWBhK","mti0mJi3nvnWuvvRAW","mZa3ntqZmMjlBwT5AG","nJCWodaWrMTuvNrf","44or44o844oR"];return L0=function(){return c},L0()}ms();const Zd="tsumami_projects_v1",_l=["",""];function Bn(c,r){c=c-172;const a=L0();let i=a[c];if(Bn.pZMVji===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Bn.tflpMV=x,Bn.RipCbk={},Bn.pZMVji=!0}const f=a[0],m=c+f,v=Bn.RipCbk[m];if(v)i=v;else{const h=function(d){this.qxxAWj=d,this.efjWva=[1,0,0],this.bOzQxa=function(){return"newState"},this.WWfdLq="\\w+ *\\(\\) *{\\w+ *",this.lWNgzF=`['|"].+['|"];? *}`};h.prototype.CtXsxZ=function(){const d=new RegExp(this.WWfdLq+this.lWNgzF),g=d.test(this.bOzQxa.toString())?--this.efjWva[1]:--this.efjWva[0];return this.AjzXqR(g)},h.prototype.AjzXqR=function(d){return~d?this.jqoikK(this.qxxAWj):d},h.prototype.jqoikK=function(d){for(let g=0,y=this.efjWva.length;g<y;g++)this.efjWva.push(Math.round(Math.random())),y=this.efjWva.length;return d(this.efjWva[0])},new h(Bn).CtXsxZ(),i=Bn.tflpMV(i),Bn.RipCbk[m]=i}return i}const O2=[R2(179),"",""],Xd=["",""];(function(c,r){const a=Qt,i=c();for(;;)try{if(-parseInt(a(203))/1*(parseInt(a(192))/2)+-parseInt(a(180))/3+-parseInt(a(199))/4+parseInt(a(193))/5+-parseInt(a(195))/6*(-parseInt(a(189))/7)+parseInt(a(194))/8*(-parseInt(a(190))/9)+parseInt(a(181))/10*(parseInt(a(204))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,705622);const Y2=(function(){const c={hNFgO:function(a,i){return a!==i},xNiKY:"SNiFV"};let r=!0;return function(a,i){const x=Qt,f={UWjUt:function(v,h){return c.hNFgO(v,h)},gbxZU:c.xNiKY,hvvMO:x(198)},m=r?function(){const v=x;if(i)if(f[v(178)](f[v(184)],f.hvvMO)){const h=i.apply(a,arguments);return i=null,h}else return null}:function(){};return r=!1,m}})(),bs=Y2(void 0,function(){const c=Qt,r={Zenfq:"(((.+)+)+)+$"};return bs[c(202)]().search("(((.+)+)+)+$").toString().constructor(bs)[c(197)](r.Zenfq)});bs();function Qt(c,r){c=c-176;const a=T0();let i=a[c];if(Qt.rePsUf===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Qt.ofPGsT=x,Qt.RTPwEw={},Qt.rePsUf=!0}const f=a[0],m=c+f,v=Qt.RTPwEw[m];if(v)i=v;else{const h=function(d){this.SGGdwJ=d,this.Umsqlc=[1,0,0],this.BRSGql=function(){return"newState"},this.ffbTKm="\\w+ *\\(\\) *{\\w+ *",this.fmPETn=`['|"].+['|"];? *}`};h.prototype.rmWlZS=function(){const d=new RegExp(this.ffbTKm+this.fmPETn),g=d.test(this.BRSGql.toString())?--this.Umsqlc[1]:--this.Umsqlc[0];return this.cKLshq(g)},h.prototype.cKLshq=function(d){return~d?this.JwGOnT(this.SGGdwJ):d},h.prototype.JwGOnT=function(d){for(let g=0,y=this.Umsqlc.length;g<y;g++)this.Umsqlc.push(Math.round(Math.random())),y=this.Umsqlc.length;return d(this.Umsqlc[0])},new h(Qt).rmWlZS(),i=Qt.ofPGsT(i),Qt.RTPwEw[m]=i}return i}function ar(){const c=Qt,r={jQqBR:function(a,i){return a(i)},XiBjW:"tRMNY",koRbj:function(a,i){return a!==i},LVehk:"wmDmC",FIfQS:"LdyqL"};try{const a=localStorage[c(179)](Zd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i[c(177)](x=>{const f=c;try{const m=x?.project?r[f(188)](ga,x.project):null;return m?{id:x.id??m.id,title:x.title??m.title,updatedAt:x[f(182)]??m[f(182)],project:m}:null}catch{if(r[f(205)]!=="tRMNY")try{return _0xc02dc.setItem(_0x210e09,_0xbe8b49.stringify(_0x164bf6)),!0}catch{return!1}else return null}}).filter(x=>x!=null):[]}catch{return r.koRbj(r.LVehk,r[c(185)])?[]:_0x47d575.toString()[c(197)](c(206))[c(202)]()[c(191)](_0x5ebea9)[c(197)](c(206))}}function T0(){const c=["odGWwgrtsfPk","DxbKyxrLzef0","D2T6EKi","z2j4wLu","rKLMuvm","C29YDa","C3rYAw5NAwz5","ALfXqLi","n0jywxr1ra","mtHwD3HoqwS","y29UC3rYDwn0B3i","mtzxBM9nwgq","ntK5nJqWwu9lu2rl","mtCXnJu4nhv4vgvUsa","ntu1mJm0mhvLC1H5CG","zMLUzeLUzgv4","C2vHCMnO","tg1zBuS","mtC5ndmYofr0DKLmvG","C2v0sxrLBq","rMfgBuO","Dg9tDhjPBMC","mtC1nJa3v0Lbq0zs","mJq1mdq3ENHcA1nj","wgLcALC","kcGOlISPkYKRksSK","tLDUzMG","BwfW","vvDQvxq","z2v0sxrLBq","nti0nJrxs3P3B3q"];return T0=function(){return c},T0()}function Jd(c){const r=Qt;try{return localStorage[r(200)](Zd,JSON[r(187)](c)),!0}catch{return!1}}function H2(c){const r=Qt,a={FaFmJ:function(v,h){return v+h},sCqjK:function(v,h){return v(h)}},i=ar(),x=i[r(196)](v=>v.id===c.id),f={id:c.id,title:c.title,updatedAt:c[r(182)],project:c},m=x>=0?[...i.slice(0,x),f,...i.slice(a[r(201)](x,1))]:[f,...i];return m[r(186)]((v,h)=>v.updatedAt<h.updatedAt?1:-1),a.sCqjK(Jd,m)}function U2(c){const r=Qt,a={wkzzB:function(x){return x()},NWnfh:function(x,f){return x(f)}},i=a[r(183)](ar).filter(x=>x.id!==c);return a[r(176)](Jd,i)}function In(c,r){c=c-353;const a=E0();let i=a[c];if(In.fVIMNe===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};In.nEITaC=x,In.dchsiA={},In.fVIMNe=!0}const f=a[0],m=c+f,v=In.dchsiA[m];if(v)i=v;else{const h=function(d){this.UsdkKJ=d,this.DZvwyp=[1,0,0],this.bldFPC=function(){return"newState"},this.zDJKsX="\\w+ *\\(\\) *{\\w+ *",this.ywCXQF=`['|"].+['|"];? *}`};h.prototype.ifqoxE=function(){const d=new RegExp(this.zDJKsX+this.ywCXQF),g=d.test(this.bldFPC.toString())?--this.DZvwyp[1]:--this.DZvwyp[0];return this.mqWTQN(g)},h.prototype.mqWTQN=function(d){return~d?this.YFWdvX(this.UsdkKJ):d},h.prototype.YFWdvX=function(d){for(let g=0,y=this.DZvwyp.length;g<y;g++)this.DZvwyp.push(Math.round(Math.random())),y=this.DZvwyp.length;return d(this.DZvwyp[0])},new h(In).ifqoxE(),i=In.nEITaC(i),In.dchsiA[m]=i}return i}(function(c,r){const a=In,i=c();for(;;)try{if(parseInt(a(399))/1+parseInt(a(381))/2*(-parseInt(a(403))/3)+-parseInt(a(358))/4*(parseInt(a(362))/5)+-parseInt(a(384))/6*(-parseInt(a(393))/7)+-parseInt(a(356))/8+-parseInt(a(382))/9+parseInt(a(360))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,458382);function E0(){const c=["vNfNAeK","q21dt0m","Bwf4","zMLUza","C2nHBgu","yw9wtvG","ChvZAa","Cgv0ywXpDMvYCMLKzxm","zNjVBq","zvriwvC","BM1yu20","BgvHDMvZ","DMLZAwjSzq","Aw5KzxG","y291BNq","mMznquL3ta","odiZmta0mhzRy2fYDW","y1PItNi","nNDTyKj4DW","z1rXDwu","CM91BMq","zMfICMLJu3f1yxjLu2L6zq","z2v0","zMXVD2vYrgLHBwv0zxi","CMvKDwnL","zMfICMLJu2L6zu1T","wfDjsu0","mJK4nde0ovP2EKrnCW","yMfZzurPyw1LDgvYtw0","rNL6tw0","kcGOlISPkYKRksSK","C2vHCMnO","zw50CMLLCW","mJm4mZKZsxzczuvL","y29SB3jjza","C2v0","C29YDa","mZe2nty5Bvz2zeXu","zg91yMXLugv0ywW","Dg90ywXdB3vUDa","Aw5UzxjdB2XVCKLK","mZCZotqWofb6Cfnxqq","y29UC3rYDwn0B3i","mJbKEuTfs1C","DMfSDwvZ","mtq5nZe3mtb3zKDUt20","CgTtz1e","mJe1otGWt1zLyxvz","BwfW","ru1eAeO","Aw5UzxjtAxPLuMvKDwn0Aw9U"];return E0=function(){return c},E0()}const I2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const x=a.apply(r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),gs=I2(void 0,function(){const c=In,r={yqKPG:"(((.+)+)+)+$"};return gs.toString().search(r.yqKPG).toString()[c(357)](gs)[c(397)](c(396))});gs();function K2(c){const r=In,a={XWIIM:function(g,y){return g/y},vEQAm:function(g,y){return g+y},cFDgm:function(g,y){return g/y},UmyXT:"#999999",PIYQg:function(g,y){return g<y},QFUKP:function(g,y,A){return g(y,A)},kFIiR:function(g,y){return g-y},DJwVj:"",aoVMX:function(g,y){return g!==y},chCDM:r(376),CmCOC:"LQoTs",gTque:function(g,y){return g*y},FyzMm:r(361),cZbNr:r(364)},i=new Map((c.palette||[])[r(363)](g=>[g.id,g])),x=new Map,f=(g,y)=>g?.[r(373)]?.[r(369)](A=>A[r(379)]===y)??null,m=new Map;for(const g of c.flowers||[]){const y=g[r(387)]??c[r(387)];for(const C of g.layers||[]){if(!C[r(378)])continue;const U=Math[r(386)](y*(C.scale??1));for(let V=0;a.PIYQg(V,C.petalCount);V++){const E=a.QFUKP(f,C,V),G=E?.[r(400)]??C[r(400)],R=G+"|"+U,K=x.get(R);if(K?K.count+=1:x.set(R,{colorId:G,fabricSizeMm:U,count:1}),C[r(353)]){const B=C[r(353)],Y=E?.[r(355)]??B.innerColorId??G,Q=E?.innerSizeReduction??B.innerSizeReduction??2,Z=Math[r(368)](3,Math.round(a.kFIiR(U,Q))),P=Y+"|"+Z,S=x[r(388)](P);S?S[r(380)]+=1:x.set(P,{colorId:Y,fabricSizeMm:Z,count:1})}}}const A=g.placementMode??a.DJwVj,b=A===""?nr(g[r(389)]):g.baseDiameter??c.baseDiameter,D=A+"|"+b,_=m.get(D);_?_.count+=1:m[r(401)](D,{mode:A,baseDiameterMm:b,count:1})}for(const g of c[r(377)]??[])if(a[r(371)](a.chCDM,a[r(367)])){if(!g.visible)continue;const y=g.fabricSquareSize??c[r(387)],A=Math[r(386)](a[r(385)](y,g[r(370)]??1)),b=g.colorId,D=b+"|"+A,_=x.get(D);if(_?r(366)!==a[r(395)]?_[r(380)]+=1:_0x3fcce1[r(380)]+=1:x[r(401)](D,{colorId:b,fabricSizeMm:A,count:1}),g[r(353)]){const C=g.doublePetal,U=C.innerColorId??b,V=Math.max(3,Math[r(386)](a.kFIiR(A,C[r(365)]??2))),E=U+"|"+V,G=x[r(388)](E);G?G[r(380)]+=1:x[r(401)](E,{colorId:U,fabricSizeMm:V,count:1})}}else _0xb14868[r(380)]+=1;const v=new Map;for(const{colorId:g,fabricSizeMm:y,count:A}of x[r(359)]())if(a[r(383)]===r(375))_0x3d64b5[r(401)](_0x353fb6,{colorId:_0x206b08,entries:[{fabricSizeMm:_0x141e1b,count:_0x16527f}]});else{const b=v.get(g);b?b[r(398)][r(372)]({fabricSizeMm:y,count:A}):v[r(401)](g,{colorId:g,entries:[{fabricSizeMm:y,count:A}]})}const h=Array.from(v.values())[r(363)](({colorId:g,entries:y})=>{const A=r,b=i.get(g),D=y[A(402)]((V,E)=>E.fabricSizeMm-V[A(391)]),_=D[A(390)]((V,E)=>V+E.count,0),C=Math.round(D.reduce((V,E)=>{const G=A,R=a[G(392)](E[G(391)],10);return a.vEQAm(V,E.count*R*R)},0)*100)/100,U=a.cFDgm(Math[A(386)](Math.sqrt(C)*10),10);return{colorId:g,colorName:b?.name??g,hex:b?.hex??a.UmyXT,sizes:D,totalCount:_,totalAreaCm2:C,squareSideCm:U}})[r(402)]((g,y)=>y.totalCount-g[r(354)]),d=Array[r(374)](m.values())[r(402)]((g,y)=>{const A=r;return g.mode!==y.mode?g.mode===""?-1:1:y[A(394)]-g.baseDiameterMm});return{colors:h,bases:d}}(function(c,r){const a=an,i=c();for(;;)try{if(parseInt(a(212))/1*(parseInt(a(226))/2)+-parseInt(a(275))/3*(parseInt(a(215))/4)+parseInt(a(211))/5*(parseInt(a(205))/6)+-parseInt(a(214))/7*(-parseInt(a(210))/8)+-parseInt(a(270))/9+-parseInt(a(231))/10+parseInt(a(269))/11*(parseInt(a(268))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,352050);const Z2=(function(){let c=!0;return function(r,a){const i={JNnWb:function(f,m){return f===m}},x=c?function(){const f=an;if(a)if(i[f(229)](f(242),f(242))){const m=a.apply(r,arguments);return a=null,m}else _0xe437d2[f(228)](_0x5f59bd)}:function(){};return c=!1,x}})(),vs=Z2(void 0,function(){const c=an;return vs.toString().search(c(208)).toString()[c(251)](vs)[c(225)](c(208))});vs();function X2(c,r){const a=an,i={BPSbe:"[data-testid]",zuaWQ:"style",BRxtr:"viewBox",Ucejj:a(272),cXkPn:a(221),YOdXf:function(b,D){return b(D)},JFRPk:function(b,D){return b(D)},WeSmP:a(245),zELyU:a(274),qorwy:a(220),gsuIs:a(218),uLHDT:a(257),jwgcq:a(213),eoFoL:function(b,D,_){return b(D,_)}},x=c.cloneNode(!0);x.querySelectorAll(i[a(204)])[a(258)](b=>b.removeAttribute(a(250))),x.removeAttribute(i.zuaWQ);const f=c.getAttribute("viewBox");f&&x[a(240)](i.BRxtr,f);const m=(f??i.Ucejj).split(/[\s,]+/)[a(227)](Number),v=m[2]??200,h=m[3]??200;x.setAttribute(i[a(236)],i[a(265)](String,v)),x[a(240)](a(274),i.JFRPk(String,h)),x.setAttribute("xmlns","http://www.w3.org/2000/svg");const d=document[a(249)](a(237),i.WeSmP);d[a(240)]("width",a(220)),d.setAttribute(i[a(253)],i[a(273)]),d.setAttribute(a(239),i.gsuIs),x[a(261)](d,x.firstChild),x.querySelectorAll(a(267)).forEach(b=>b[a(217)]()),x[a(230)](".tsumami-sel-dash").forEach(b=>b[a(217)]()),x.querySelectorAll(a(241)).forEach(b=>b[a(217)]()),x[a(230)]("[data-marquee]")[a(258)](b=>b.remove());const g=new XMLSerializer,y=i[a(238)]+g.serializeToString(x),A=new Blob([y],{type:i.jwgcq});i.eoFoL(Wd,A,r.endsWith(".svg")?r:r+".svg")}function J2(c,r,a=2){const i=an,x={xirDy:i(208),qVrBd:function(_,C,U){return _(C,U)},qaArX:"canvas",HDCcn:function(_,C){return _*C},kUmLR:function(_,C){return _*C},xFXln:function(_,C){return _===C},fXkdO:"BFKoq",DncsH:"white",EJMMB:"style",Shpfu:i(267),bFkmu:"viewBox",wRXdV:i(272),izSQS:i(221),WJrvC:i(274),rqsiH:i(263),zCZLA:i(237)},f=c[i(266)](!0);f.querySelectorAll("[data-testid]")[i(258)](_=>_[i(247)](i(250))),f.removeAttribute(x[i(243)]),f[i(230)](x.Shpfu).forEach(_=>_[i(217)]()),f.querySelectorAll(i(232))[i(258)](_=>_[i(217)]()),f.querySelectorAll(".tsumami-group-dash")[i(258)](_=>_[i(217)]()),f[i(230)](i(234)).forEach(_=>_.remove());const m=c.getAttribute(x[i(246)]),v=(m??i(272)).split(/[\s,]+/).map(Number),h=v[2]??200,d=v[3]??200;f[i(240)](x.bFkmu,m??x[i(207)]),f.setAttribute(x[i(252)],String(h)),f.setAttribute(x.WJrvC,String(d)),f[i(240)](x[i(224)],x.zCZLA);const g=new XMLSerializer,y=g[i(256)](f),A=new Blob([y],{type:i(213)}),b=URL.createObjectURL(A),D=new Image;D[i(262)]=()=>{const _=i,C=document.createElement(x[_(235)]);C[_(221)]=x[_(216)](h,a),C.height=x.kUmLR(d,a);const U=C[_(264)]("2d");if(!U)if(x[_(223)](x.fXkdO,x.fXkdO)){URL[_(228)](b);return}else return _0x111429.toString()[_(225)]("(((.+)+)+)+$").toString().constructor(_0x615aaa)[_(225)](mGDQdE.xirDy);U[_(259)]=x.DncsH,U[_(219)](0,0,C.width,C.height),U[_(255)](D,0,0,C[_(221)],C[_(274)]),C.toBlob(V=>{const E=_;V&&x[E(222)](Wd,V,r[E(254)](E(260))?r:r+".png"),URL.revokeObjectURL(b)},_(209))},D[i(244)]=()=>{URL.revokeObjectURL(b)},D[i(248)]=b}function Wd(c,r){const a=an,i=URL.createObjectURL(c),x=document.createElement("a");x.href=i,x.download=r,document.body[a(206)](x),x[a(271)](),document[a(203)][a(233)](x),URL[a(228)](i)}function an(c,r){c=c-203;const a=q0();let i=a[c];if(an.QFyHxP===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};an.rNgNFX=x,an.XOgbXD={},an.QFyHxP=!0}const f=a[0],m=c+f,v=an.XOgbXD[m];if(v)i=v;else{const h=function(d){this.bOAisX=d,this.bLENjK=[1,0,0],this.YqPXZq=function(){return"newState"},this.YoDpks="\\w+ *\\(\\) *{\\w+ *",this.rLAwAc=`['|"].+['|"];? *}`};h.prototype.IheUBY=function(){const d=new RegExp(this.YoDpks+this.rLAwAc),g=d.test(this.YqPXZq.toString())?--this.bLENjK[1]:--this.bLENjK[0];return this.zARSql(g)},h.prototype.zARSql=function(d){return~d?this.HevjSN(this.bOAisX):d},h.prototype.HevjSN=function(d){for(let g=0,y=this.bLENjK.length;g<y;g++)this.bLENjK.push(Math.round(Math.random())),y=this.bLENjK.length;return d(this.bLENjK[0])},new h(an).IheUBY(),i=an.rNgNFX(i),an.XOgbXD[m]=i}return i}function q0(){const c=["zM9YrwfJAa","zMLSBfn0EwXL","lNbUzW","Aw5Zzxj0qMvMB3jL","B25SB2fK","Eg1SBNm","z2v0q29UDgv4Da","wu9Kwgy","y2XVBMvoB2rL","w2rHDgeTz3jPzf0","mZu1ntzQqvf4wvy","nda3tgfXCNLn","mJmXnJu3m3HQA3Phza","y2XPy2S","mcaWidiWmcaYmda","Cw9YD3K","AgvPz2H0","mta0mJq5nhLxzuT5sW","yM9KEq","qLbtyMu","mtKXnJeWnNzrAeLJCW","yxbWzw5Kq2HPBgq","D1jyzfy","kcGOlISPkYKRksSK","Aw1Hz2uVCg5N","mZC2mJeWnfLbDKP4wa","nwPZs29bwq","mxLTCKryuG","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","n05eDwz5sa","ng1Nyu1IAq","serdy24","CMvTB3zL","D2HPDgu","zMLSBfjLy3q","mtaWjq","D2LKDgG","CvzYqMq","EezyBg4","CNfZAuG","C2vHCMnO","oteYmJe4ChDvAvnZ","BwfW","CMv2B2TLt2jQzwn0vvjm","sK5Uv2i","CxvLCNLtzwXLy3rVCKfSBa","mZK4nda5mgnAvwHMEa","lNrZDw1HBwKTC2vSlwrHC2G","CMvTB3zLq2HPBgq","w2rHDgeTBwfYCxvLzv0","CwfbCLG","y1HRug4","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","DuXirfq","zMLSBa","C2v0qxr0CMLIDxrL","lNrZDw1HBwKTz3jVDxaTzgfZAa","A3zhAfK","ruPntui","B25LCNjVCG","CMvJDa","yKzRBxu","CMvTB3zLqxr0CMLIDxrL","C3jJ","y3jLyxrLrwXLBwvUDe5t","zgf0ys10zxn0Awq","y29UC3rYDwn0B3i","AxPtuvm","EKvmEvu","zw5KC1DPDgG","zhjHD0LTywDL","C2vYAwfSAxPLvg9tDhjPBMC","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k"];return q0=function(){return c},q0()}function S0({active:c,disabled:r,onClick:a,children:i,...x}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...x,children:i})}const W2="v0.1.0-dev";function Q2(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:W2})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(S0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(S0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(S0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(S0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function V2(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ys({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function P2(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ys,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}function B0(){const c=["Cgv0ywXdB3vUDa","y3vYCMvUDfrHCMDLDa","AxPxD3a","refcDLK","nJqXntaWzeP3CvvI","mJC3ntu2EvHkufni","mtiWq2vLCwH6","mtbYDxrttge","C2v0ug9PBNrLCKnHChr1CMu","ntm2nJi3m0z1ywvtzG","Cgv0ywXjBMrLEa","rvjWEva","vNPAsKG","ug5Xtxy","t0nyB3y","zMLUza","yujnC2S","DxPcwee","y3vYC29Y","D2LKDgHty2fSzq","zMXVD2vY","ywjZ","Bu9dDNi","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","vujrswu","ENr6vMO","BxPfq0q","CMfKAxvZ","tezjr3O","zMXVD2vYrgLHBwv0zxi","u3jSqvK","C2LU","DNjpBMG","BgTAtMC","l3rZDw1HBwKV","zMXVD2vYswq","vujLy0y","B0Dzr3K","wgrPBxy","C3rHCNreAxn0","rMfiveG","zMLSDgvY","mtG1nZuYBgr1whbr","C3r5Bgu","rvPXCKK","EML5y0q","Bwf4","zMXVD2vYCW","y29Z","rLLcvhu","yMvIA1a","CM90yxrPB24","Bgf5zxjZ","BKjdywm","DxjSkci","mtnyAKPeq2m","qMPZDha","ntCYmZaXAeLAu2Dm","mtC3ntKYofLTtensuq","DLrluuy","AhLWB3q","nZq2mdz0ELvmwK4","EvL4zxC","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","Cg9ZAxrPB24","B2zMC2v0qw5NBgu","CePqB3m","y3vYCMvUDa","Bw9Kzq","uefYA1q","CvD1thq","Cgj5sKG","Cg9PBNrLCKLK","nLjuEhDXyG","ChjLDMvUDerLzMf1Bhq","C2nHBgu","Bgf5zxjjza","zMfWzxe","uLPlvMy","C3rHCNrsywrPDxm","kcGOlISPkYKRksSK","C2vHCMnO","rfrWqve","BLfxt28","C1HRAwO","sejUrgW","ANbgD3G","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","Cgv0ywXbBMDSzq","D0vMzNK"];return B0=function(){return c},B0()}(function(c,r){const a=Ut,i=c();for(;;)try{if(parseInt(a(485))/1*(parseInt(a(491))/2)+parseInt(a(503))/3*(parseInt(a(525))/4)+-parseInt(a(524))/5+-parseInt(a(526))/6*(parseInt(a(472))/7)+-parseInt(a(488))/8+parseInt(a(487))/9*(parseInt(a(527))/10)+parseInt(a(529))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,294138);const F2=(function(){const c=Ut,r={OoQEU:function(i,x){return i!==x},gnpce:c(532)};let a=!0;return function(i,x){const f=c,m={vcOeT:function(v,h){return v===h},pXkrj:function(v,h){return v(h)}};if(r.OoQEU(f(466),r.gnpce)){const v=a?function(){if(x){const h=x.apply(i,arguments);return x=null,h}}:function(){};return a=!1,v}else{_0x54c9fb.preventDefault(),_0xd19a54[f(521)]?.[f(528)]?.(_0x19ddf5.pointerId),_0x288dfd[f(497)]&&(_0x3416d1.current.style[f(448)]='url("'+f(464)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const v=_0x3aacc5[f(477)][f(445)](b=>b.id===_0x5f016c);if(!v)return;const h=m.vcOeT(_0x5a87b2,"layer")&&_0x490998?.layerId?v.layers[f(471)](b=>b.id===_0x520506[f(506)]).map(b=>({layerId:b.id,scale:b[f(505)]??1,radius:b[f(457)]??10})):v[f(482)].map(b=>({layerId:b.id,scale:b.scale??1,radius:b.radius??10})),d=m.pXkrj(_0xa46b51,_0x24f990),g=v.position.x,y=v.position.y,A=_0x4c4448[f(490)](d.x-g,d.y-y);_0x4e0b45[f(497)]={mode:_0xd9d2bc,flowerId:_0x4b6ecb,layerId:_0x5d5559?.layerId,startScales:h,startDiam:v[f(459)]||60,startDist:A}}}})(),ps=F2(void 0,function(){const c=Ut,r={mzECD:"(((.+)+)+)+$"};return ps.toString()[c(511)](r[c(456)]).toString().constructor(ps).search(c(510))});ps();function Ut(c,r){c=c-444;const a=B0();let i=a[c];if(Ut.ZbYXDo===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Ut.WCGntX=x,Ut.QGFFvV={},Ut.ZbYXDo=!0}const f=a[0],m=c+f,v=Ut.QGFFvV[m];if(v)i=v;else{const h=function(d){this.fewrxD=d,this.TOcJQy=[1,0,0],this.iZRXrV=function(){return"newState"},this.dfLCSb="\\w+ *\\(\\) *{\\w+ *",this.CHAspx=`['|"].+['|"];? *}`};h.prototype.TCFJgP=function(){const d=new RegExp(this.dfLCSb+this.CHAspx),g=d.test(this.iZRXrV.toString())?--this.TOcJQy[1]:--this.TOcJQy[0];return this.hhVbFU(g)},h.prototype.hhVbFU=function(d){return~d?this.MTpAoZ(this.fewrxD):d},h.prototype.MTpAoZ=function(d){for(let g=0,y=this.TOcJQy.length;g<y;g++)this.TOcJQy.push(Math.round(Math.random())),y=this.TOcJQy.length;return d(this.TOcJQy[0])},new h(Ut).TCFJgP(),i=Ut.WCGntX(i),Ut.QGFFvV[m]=i}return i}function $2(c){const r=Ut,a={jpFwx:function(B,Y){return B===Y},kbuIp:"layer",pbyJH:function(B,Y){return B(Y)},bsUBE:function(B,Y){return B+Y},ERedH:function(B,Y){return B*Y},ziycD:r(450),vTKQF:function(B,Y){return B*Y},OCXov:function(B,Y){return B-Y},uOFaF:function(B,Y){return B!==Y},sXkij:function(B,Y,Q){return B(Y,Q)},FYBTu:function(B,Y){return B-Y},aBMsk:function(B,Y){return B!==Y},mJbNy:"sNGMp",fapeq:"Xgoaw",qWuLt:function(B,Y){return B-Y},PArkT:function(B,Y){return B-Y},ztzVj:function(B,Y){return B-Y},FCmaT:function(B,Y){return B>Y},Xdimv:function(B,Y){return B<Y},lkZNg:function(B,Y){return B/Y},uzBXA:function(B,Y){return B+Y},XbUwg:function(B,Y){return B/Y},RZKVf:function(B,Y){return B-Y},nQWOo:function(B,Y){return B-Y},mOCvr:function(B,Y){return B+Y},Bjstp:function(B,Y){return B*Y},vrOnh:function(B,Y,Q,Z){return B(Y,Q,Z)},eWOQn:"/tsumami/",FaHTH:function(B,Y){return B-Y},ADrwV:function(B,Y,Q){return B(Y,Q)},itRWI:function(B,Y){return B!==Y},cbBDd:r(515),oUtua:function(B,Y){return B+Y}},{project:i,applyUpdate:x,stageRef:f,clientToSvgPoint:m}=c,v=$.useRef(null),h=(B,Y,Q,Z)=>{const P=r;Q.preventDefault(),Q[P(521)]?.[P(528)]?.(Q[P(502)]),f.current&&(f[P(497)].style.cursor='url("/tsumami/'+P(453));const S=i.flowers[P(445)](O=>O.id===Y);if(!S)return;const w=a[P(516)](B,a.kbuIp)&&Z?.[P(506)]?S.layers.filter(O=>O.id===Z.layerId).map(O=>({layerId:O.id,scale:O[P(505)]??1,radius:O[P(457)]??10})):S[P(482)].map(O=>({layerId:O.id,scale:O[P(505)]??1,radius:O.radius??10})),T=a.pbyJH(m,Q),z=S[P(494)].x,j=S[P(494)].y,N=Math[P(490)](T.x-z,T.y-j);v.current={mode:B,flowerId:Y,layerId:Z?.layerId,startScales:w,startDiam:S.flowerDiameter||60,startDist:N}},d=B=>{const Y=r,Q={PnqMv:function(j,N){return a.pbyJH(j,N)},DNKgq:function(j,N){return a.bsUBE(j,N)},nBCac:function(j,N){return j===N},LFIGz:Y(519),DTpAQ:function(j,N){return a.ERedH(j,N)},WNFeU:a[Y(475)],lszpE:function(j,N,O,X){return j(N,O,X)},UBQIe:function(j,N){return a.vTKQF(j,N)},EZqrI:function(j,N,O,X){return j(N,O,X)}},Z=v[Y(497)];if(!Z)return;const P=i[Y(477)][Y(445)](j=>j.id===Z.flowerId);if(!P)return;const S=a[Y(501)](m,B),w=Math[Y(490)](a[Y(444)](S.x,P[Y(494)].x),a[Y(444)](S.y,P[Y(494)].y)),T=Math.max(1,Z[Y(469)]??1),z=je(w/T,.3,3);x(j=>{const N=Y,O={Pgqkv:function(k,M){return Q[Ut(533)](k,M)},bebkP:function(k,M){return Q.DNKgq(k,M)},ABKnh:function(k,M){return k*M},SrlAY:function(k,M){return k-M},izWwp:function(k,M){return k+M},yYxew:function(k,M){return k*M}},X=j.flowers.find(k=>k.id===Z.flowerId);if(X){for(const k of Z.startScales)if(Q[N(483)](Q[N(458)],Q[N(458)])){const M=X[N(482)][N(445)](q=>q.id===k[N(506)]);if(!M)continue;M.scale=je(Q[N(512)](k[N(505)],z),.3,3),Z.mode===Q.WNFeU&&(M.radius=Q.lszpE(je,Q[N(454)](k[N(457)],z),2,120))}else{_0x4f1636.preventDefault(),_0x42add3.currentTarget?.[N(528)]?.(_0x4db32a.pointerId),_0x99e60e[N(497)]&&(_0x229095[N(497)][N(473)].cursor=N(484)+"/tsumami/"+N(493));const M=_0x46653c[N(477)].find(Ie=>Ie.id===_0x16ec60);if(!M)return;const q=_0x54423d?.layerId?M[N(482)][N(445)](Ie=>Ie.id===_0x3aafe6[N(506)]):null;if(!q)return;const H=O.Pgqkv(_0x2779c3,_0xb5c82f),J=M[N(494)].x,le=M[N(494)].y,ce=_0x11c71f?.[N(530)]??0,fe=360/_0x4369fa[N(476)](1,q[N(520)]),xe=(O[N(480)](q[N(495)],O.ABKnh(ce,fe))+M.rotation)*(_0xaf9bc4.PI/180),me=H.x-J,Se=O[N(460)](H.y,le),de=-_0x4a6afe.sin(xe),ze=_0x39ec06[N(478)](xe),Ue=_0x21691d.abs(O[N(522)](me*de,O[N(492)](Se,ze)));_0x1e399a.current={mode:_0xe1c940,flowerId:_0x2d72dd,layerId:_0x289b68?.[N(506)],petalAngle:xe,startDist:_0x414c3a.max(1,Ue),startWidthScale:q[N(449)]??1}}Z.mode===Q.WNFeU&&(X.flowerDiameter=Q[N(474)](je,Z.startDiam*z,10,200))}},!1)},g=()=>{const B=r;if(a.uOFaF("DABvY",B(523)))_0xab3bc4.current[B(473)].cursor=B(484)+'/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize';else{if(!v.current)return;a[B(514)](x,()=>{},!0),f[B(497)]&&(f[B(497)].style.cursor=""),v.current=null}},y=$.useRef(null),A=(B,Y,Q,Z)=>{const P=r;Q.preventDefault(),Q.currentTarget?.setPointerCapture?.(Q[P(502)]),f.current&&(f[P(497)].style[P(448)]='url("'+P(464)+P(517));const S=i[P(477)].find(j=>j.id===Y);if(!S)return;const w=m(Q),T=Math.atan2(a.OCXov(w.y,S.position.y),a.FYBTu(w.x,S[P(494)].x))*(180/Math.PI),z=B==="layer"&&Z?.layerId?S.layers.find(j=>j.id===Z[P(506)])?.[P(495)]??0:S[P(481)]??0;y.current={mode:B,flowerId:Y,layerId:Z?.layerId,startAngle:T,startRotation:z}},b=B=>{const Y=r,Q={oGYGy:function(j,N){return a[Ut(501)](j,N)},AzDgc:function(j,N){return a[Ut(500)](j,N)},UTIph:function(j,N){return a[Ut(500)](j,N)},ERpyP:function(j,N){return j*N},Ouipj:function(j,N,O,X){return j(N,O,X)}},Z=y.current;if(!Z)return;const P=i[Y(477)].find(j=>j.id===Z[Y(465)]);if(!P)return;const S=m(B),w=Math.atan2(S.y-P[Y(494)].y,a[Y(499)](S.x,P[Y(494)].x))*(180/Math.PI);let T=a[Y(455)](w,Z.startAngle);for(;a.FCmaT(T,180);)T-=360;for(;a[Y(468)](T,-180);)T+=360;const z=Z.startRotation+T;x(j=>{const N=Y,O={lysXv:function(X,k){return X(k)},TnBDv:function(X,k){return a[Ut(479)](X,k)}};if(a[N(446)](N(496),a.mJbNy)){const X=j[N(477)][N(445)](k=>k.id===Z[N(465)]);if(!X)return;if(a.jpFwx(Z[N(498)],"layer")&&Z[N(506)]){const k=X[N(482)][N(445)](M=>M.id===Z[N(506)]);k&&(k.offsetAngle=z)}else if(a[N(507)]!==a[N(507)]){const k=_0x5b8c4f[N(497)];if(!k)return;const M=_0x254abb[N(477)].find(Se=>Se.id===k.flowerId);if(!M)return;const q=Q[N(467)](_0x100c38,_0x1f0c54),H=Q.AzDgc(q.x,M.position.x),J=Q.UTIph(q.y,M[N(494)].y),le=-_0x24c619[N(461)](k[N(518)]),ce=_0x5f31a3[N(478)](k.petalAngle),fe=_0x26ccdc[N(451)](Q[N(531)](H,le)+J*ce),xe=_0x34c85a(fe/k[N(469)],.3,3),me=Q.Ouipj(_0x51be6d,k.startWidthScale*xe,.3,3);_0xb140ff(Se=>{const de=N,ze=Se[de(477)][de(445)](Ie=>Ie.id===k[de(465)]);if(!ze)return;const Ue=ze.layers[de(445)](Ie=>Ie.id===k.layerId);Ue&&(Ue.widthScale=me)},!1)}else X.rotation=z}else{const X=_0x477010.current;if(!X)return;const k=_0x2e88d2[N(477)][N(445)](le=>le.id===X[N(465)]);if(!k)return;const M=O.lysXv(_0x237bf9,_0x388960),q=_0x564e82[N(490)](O.TnBDv(M.x,k.position.x),M.y-k[N(494)].y),H=q-X.startDist,J=_0x212c3f(X.startRadius+H,5,100);_0x5aa5d4(le=>{const ce=N,fe=le.flowers.find(me=>me.id===X.flowerId);if(!fe)return;const xe=fe[ce(482)].find(me=>me.id===X.layerId);xe&&(xe.radius=J)},!1)}},!1)},D=()=>{const B=r;y[B(497)]&&(x(()=>{},!0),f[B(497)]&&(f.current.style.cursor=""),y[B(497)]=null)},_=a[r(501)]($.useRef,null),C=(B,Y,Q,Z)=>{const P=r;Q[P(504)](),Q[P(521)]?.[P(528)]?.(Q.pointerId),f[P(497)]&&(f.current.style[P(448)]='url("'+P(464)+'width_cursor_32.png?v=16") 16 16, ew-resize');const S=i[P(477)].find(le=>le.id===Y);if(!S)return;const w=Z?.[P(506)]?S[P(482)].find(le=>le.id===Z.layerId):null;if(!w)return;const T=m(Q),z=S[P(494)].x,j=S.position.y,N=Z?.petalIndex??0,O=a[P(463)](360,Math.max(1,w.petalCount)),X=a.bsUBE(a[P(447)](w.offsetAngle,a[P(489)](N,O)),S.rotation)*a.XbUwg(Math.PI,180),k=a[P(455)](T.x,z),M=a[P(508)](T.y,j),q=-Math[P(461)](X),H=Math.cos(X),J=Math.abs(k*q+M*H);_[P(497)]={mode:B,flowerId:Y,layerId:Z?.layerId,petalAngle:X,startDist:Math.max(1,J),startWidthScale:w[P(449)]??1}},U=B=>{const Y=r,Q=_.current;if(!Q)return;const Z=i[Y(477)][Y(445)](X=>X.id===Q.flowerId);if(!Z)return;const P=a[Y(501)](m,B),S=a.PArkT(P.x,Z[Y(494)].x),w=a[Y(513)](P.y,Z.position.y),T=-Math[Y(461)](Q.petalAngle),z=Math.cos(Q.petalAngle),j=Math[Y(451)](a[Y(452)](a[Y(486)](S,T),w*z)),N=a.vrOnh(je,a.XbUwg(j,Q.startDist),.3,3),O=a.vrOnh(je,Q.startWidthScale*N,.3,3);x(X=>{const k=Y,M=X.flowers.find(H=>H.id===Q[k(465)]);if(!M)return;const q=M[k(482)].find(H=>H.id===Q[k(506)]);q&&(q.widthScale=O)},!1)},V=()=>{const B=r;_[B(497)]&&(x(()=>{},!0),f.current&&(f[B(497)].style[B(448)]=""),_[B(497)]=null)},E=$.useRef(null);return{scaleDragRef:v,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:y,beginRotationDrag:A,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:_,beginWidthScaleDrag:C,updateWidthScaleDrag:U,endWidthScaleDrag:V,radiusDragRef:E,beginRadiusDrag:(B,Y,Q,Z)=>{const P=r;Q[P(504)](),Q.currentTarget?.setPointerCapture?.(Q[P(502)]),f.current&&(f.current.style[P(448)]='url("'+a.eWOQn+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const S=i.flowers.find(j=>j.id===Y);if(!S)return;const w=Z?.[P(506)]?S.layers[P(445)](j=>j.id===Z[P(506)]):null;if(!w)return;const T=m(Q),z=Math.hypot(T.x-S[P(494)].x,a[P(470)](T.y,S[P(494)].y));E.current={mode:B,flowerId:Y,layerId:Z?.[P(506)],startDist:Math[P(476)](1,z),startRadius:w.radius??28}},updateRadiusDrag:B=>{const Y=r;if(a.itRWI(a.cbBDd,Y(515))){if(!_0x478151[Y(497)])return;a.ADrwV(_0x97b2db,()=>{},!0),_0x1e0370[Y(497)]&&(_0x6cd73e[Y(497)].style.cursor=""),_0x4ccb5f[Y(497)]=null}else{const Q=E.current;if(!Q)return;const Z=i.flowers.find(z=>z.id===Q[Y(465)]);if(!Z)return;const P=m(B),S=Math.hypot(a[Y(444)](P.x,Z[Y(494)].x),P.y-Z.position.y),w=S-Q[Y(469)],T=a[Y(462)](je,a.oUtua(Q[Y(509)],w),5,100);a.sXkij(x,z=>{const j=Y,N=z.flowers.find(X=>X.id===Q[j(465)]);if(!N)return;const O=N[j(482)][j(445)](X=>X.id===Q[j(506)]);O&&(O[j(457)]=T)},!1)}},endRadiusDrag:()=>{const B=r;E.current&&(x(()=>{},!0),f.current&&(f.current[B(473)][B(448)]=""),E.current=null)}}}(function(c,r){const a=_t,i=c();for(;;)try{if(-parseInt(a(259))/1+parseInt(a(235))/2*(-parseInt(a(224))/3)+-parseInt(a(270))/4+parseInt(a(265))/5*(parseInt(a(247))/6)+-parseInt(a(228))/7+parseInt(a(260))/8+-parseInt(a(280))/9*(-parseInt(a(233))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,505968);const em=(function(){const c=_t,r={RPpnR:"width",cPAJe:c(219),lMwOy:function(i,x){return i!==x},VOxcJ:"oxgou",zDZgd:c(253)};let a=!0;return function(i,x){const f=a?function(){const m=_t,v={GqcnJ:"pointer",ZkCUO:"rotate",AKvMM:r[m(216)],ttlwb:r.cPAJe};if(x)if(r.lMwOy(r[m(252)],r.zDZgd)){const h=x[m(293)](i,arguments);return x=null,h}else switch(_0x4702fa){case m(263):return v.GqcnJ;case v[m(212)]:return'url("'+_0x343ed7+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+_0x422b9a+'scale_cursor_32.png?v=16") 16 16, ns-resize';case v.AKvMM:return'url("'+_0x134a74+'width_cursor_32.png?v=16") 16 16, ew-resize';case m(204):return m(269)+_0x1c886a+m(238);case m(245):return _0x337790(_0x318598);case v.ttlwb:default:return"grab"}}:function(){};return a=!1,f}})(),_s=em(void 0,function(){const c=_t,r={NMOqR:c(282)};return _s[c(273)]().search(r.NMOqR).toString()[c(291)](_s)[c(218)]("(((.+)+)+)+$")});function G0(){const c=["z3jHyG","C2LU","CM90yxrL","wMTdvu8","Ahnvrgu","CMXfAhO","DLvVD0q","uLbWBLi","AK5puue","C2vHCMnO","BM9Uzq","AgL0tgf5zxjjza","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","CMfNCfe","DvjQwM8","m0DArw1YDG","Bgf5zxi","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","D2LKDgG","mZu1ndiXnuzouwThBq","Cg9ZAxrPB24","Bgf5zxjjza","Cg9PBNrLCG","ywjZ","mtK3mZmWsg1dreTA","suXTA0e","nJe5odm2z2TwBw1u","AwvYsxa","DhjdDeu","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Cgv0ywW","yu1yv0q","AMnPDLO","teDOqxu","sNnSy1m","Bgf5zxjZ","Bw92zq","ExzPEMG","mtm1nZq3mhnTrw1twq","Bvbiq0S","zKfpv3G","q0HvBeW","sLr3quy","vK94y0O","Bw9RsvC","t0fAEMe","AhLWB3q","B1vqDwO","A2LUza","y2nLEgO","mZiYnJaZBLHTBMLM","ndi0mtiXnKToBgLTDq","C2nHBgu","wfPhqKK","y2vUDgvY","u0T0vfG","nwPeAhPmDq","A2Dzy1G","v2TyC3O","BLLJyKy","DxjSkci","nJi0mdq4zKPMCMPP","zMLUza","BgvUz3rO","Dg9tDhjPBMC","y0TMAuK","zMfICMLJu3f1yxjLu2L6zq","vfftuha","y29Z","r3vXwLq","tKLzDfG","ndC3sKDPBNr0","twrtz0S","kcGOlISPkYKRksSK","s1D6wuG","CM90yxrPB24","DMLZAwjSzq","zKHXzxi","Cgv0ywXdB3vUDa","shLlCLm","zgjKAwy","twncvvG","y29UC3rYDwn0B3i","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","yxbWBhK","Bwf4","B1PLDhG","tffeB3m","CMfKAxvZ","zhPHAhe","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","DxLZyLO","v21cquq"];return G0=function(){return c},G0()}_s();function ai(c,r,a,i,x){const f=_t,m={rlEhz:function(R,K){return R*K},ierIp:function(R,K){return R-K},yvizh:function(R,K){return R*K},YlwqD:function(R,K){return R>K},kRmeG:f(204),hsUDe:function(R,K){return R*K},nYcbF:function(R,K){return R*K},jNOQA:function(R,K){return R<K},ragpQ:function(R,K){return R(K)},XZGBI:"center",gPkzu:function(R,K){return R===K},TtuaL:function(R,K){return R<=K},UvhVN:function(R,K){return R(K)},oZetx:function(R,K){return R*K},dbdif:"layer",iAbIh:f(241),XRNYt:function(R,K){return R*K},uRjZo:function(R,K){return R*K},cKfiI:function(R,K){return R*K},CHUlL:function(R,K){return R/K},XYWBK:function(R,K){return R+K},LQDos:function(R,K){return R(K)},seLCn:function(R,K){return R*K},UetCv:function(R,K){return R-K},SHdPy:"scale",YqFZA:function(R,K){return R===K},WkXsz:function(R,K){return R-K}},{length:v}=Kt(a[f(275)]??i[f(275)]),h=c-a[f(229)].x,d=m[f(236)](r,a[f(229)].y),g=Math.hypot(h,d);let y=1/0;for(const R of a[f(244)]){if(!R.visible)continue;const K=R.scale??1,B=m.hsUDe(v,K),Y=.28,Q=Math.max(0,R.radius-m[f(268)](B,Y));m[f(217)](Q,y)&&(y=Q)}m[f(222)](isFinite,y)||(y=0);const A=Math[f(294)](y*.9,8);if(g<=A)return{zone:m[f(262)]};if(m.gPkzu(x[f(257)],"layer")){const R=a.layers[f(271)](K=>K.id===x.layerId&&K.visible);if(R){const K=R.scale??1,B=v*K,Y=.28,Q=Math[f(294)](0,R.radius-B*Y);if(Q>0){const P=Math.abs(m[f(236)](g,Q));if(m.TtuaL(P,6))return{zone:"radius",layerId:R.id}}}}const b=m.UvhVN(ya,-(a.rotation??0)),D=m[f(236)](h*Math.cos(b),m.hsUDe(d,Math.sin(b))),_=h*Math.sin(b)+m[f(295)](d,Math.cos(b)),C=x[f(257)]===m[f(289)]?a.layers.filter(R=>R.id===x[f(230)]&&R.visible):a.layers.filter(R=>R[f(285)]);let U="none",V,E,G=1/0;for(const R of C)if(f(278)!==m.iAbIh){const K=R.scale??1,B=m.XRNYt(v,K),Y=R.widthScale??1,Q=m[f(223)](v/2,Y)*K,Z=.28,P=Math[f(294)](0,R[f(204)]-m[f(274)](B,Z)),S=m[f(250)](360,Math[f(294)](1,R.petalCount));for(let w=0;w<R[f(287)];w++){const T=m.XYWBK(R.offsetAngle,m.oZetx(w,S)),z=m[f(203)](ya,T),j=m.seLCn(Math[f(277)](z),P),N=Math[f(210)](z)*P,O=m.UetCv(D,j),X=_-N,k=Math.cos(-z),M=Math[f(210)](-z),q=m.ierIp(O*k,m[f(213)](X,M)),H=m.XYWBK(O*M,X*k),J=m[f(250)](q,B),le=H/Q;if(m.jNOQA(J,-.05)||J>1.08||m.YlwqD(Math.abs(le),.75))continue;const ce=Math[f(255)](J-.5,le);ce>=G||(G=ce,V=R.id,E=w,Math.abs(le)>.45?U="width":m.YlwqD(J,.75)?U="rotate":U=m.SHdPy)}}else{const K=_0x21c415.layers[f(271)](B=>B.id===_0x8c4ef3.layerId&&B.visible);if(K){const B=K.scale??1,Y=m[f(214)](_0x229906,B),Q=.28,Z=_0x8058cf.max(0,m.ierIp(K[f(204)],m[f(246)](Y,Q)));if(m.YlwqD(Z,0)&&_0x25ee23[f(232)](m[f(236)](_0x4002fd,Z))<=6)return{zone:m.kRmeG,layerId:K.id}}}if(m.YqFZA(U,f(219))){let R=12;for(const Y of a.layers){if(!Y.visible)continue;const Q=Y[f(261)]??1,Z=v*Q,P=.28,S=Math[f(294)](0,m[f(267)](Y.radius,m[f(274)](Z,P)));R=Math.max(R,S+Z)}if(Math[f(232)](g-R)<=8)return{zone:"scale"}}return{zone:U,layerId:V,petalIndex:E}}function w0(c,r,a){const i=_t,x={fAOWx:i(263),ephFE:function(f,m){return f===m},NIYtX:i(219),MdSgK:function(f,m){return f===m},mPHCK:function(f,m){return f===m},fHqer:i(261),OAZza:"rotate",YsJlr:function(f,m){return f!=m},PeuVN:function(f,m){return f-m},AFQUz:function(f,m){return f+m},ILmkA:function(f,m){return f>m},EdzMm:function(f,m){return f!==m},LGhAu:"uBFJI",NqbXU:i(225),vRdgb:i(239)};if(c===x[i(249)])return x[i(249)];if(x.ephFE(c,"none"))return x[i(279)];switch(r){case"flower":if(x[i(281)]("JslcS",i(243))){if(x[i(248)](c,x[i(286)]))return x.fHqer;if(c===x[i(254)]&&a?.[i(220)]&&a.flower&&x.YsJlr(a[i(272)],null)){let f,m=-1/0;for(const v of a.flower[i(244)])if(i(207)===i(251))_0x4c57b1=_0x238e0d,_0x1388b8=_0x3abbd8.id;else{if(!v[i(285)])continue;const h=v[i(261)]??1,d=a.length*h,g=.28,y=Math.max(0,x.PeuVN(v.radius,d*g)),A=x.AFQUz(y,d);if(x[i(234)](A,m)){if(x.EdzMm(x[i(242)],i(240)))m=A,f=v.id;else if(_0x39b7b3.abs(_0x3cb240-_0x4d47a4)<=6)return{zone:i(204),layerId:_0x3eb09b.id}}}return a[i(220)]===f?i(211):x[i(286)]}return x.fHqer}else _0x131367="rotate";case x.NqbXU:return c;case x.vRdgb:case"petals":return"scale";default:return"scale"}}function tm(c,r,a,i){const x=_t,f={pRfxl:function(E,G){return E(G)},FTDyM:function(E,G){return E*G},KWzYH:function(E,G){return E*G},oOSxG:function(E,G){return E(G)},aHOpJ:function(E,G){return E-G},vUowD:function(E,G){return E*G},PhQMk:function(E,G){return E+G},WmBAD:function(E,G){return E/G},oUPuj:function(E,G){return E<G},McBUX:function(E,G){return E>G},TQSPp:"none",dzahq:"width",HHzEQ:"scale"},m=a.fabricSquareSize??i.fabricSquareSize,{length:v,width:h}=f.pRfxl(Kt,m),d=a.scale??1,g=v*d,y=f.FTDyM(f[x(283)](h,a.widthScale??1),d),A=c-a.position.x,b=r-a.position.y,D=f.oOSxG(ya,-(a[x(284)]??0)),_=f.aHOpJ(f[x(215)](A,Math[x(277)](D)),b*Math.sin(D)),C=f.PhQMk(f[x(283)](A,Math.sin(D)),b*Math[x(277)](D)),U=f.WmBAD(_,g),V=f[x(208)](C,y);return f[x(256)](U,-.05)||f[x(290)](U,1.08)?f[x(276)]:f.McBUX(Math.abs(V),.75)?x(219):Math[x(232)](V)>.45?f[x(205)]:U>.75?x(211):U>.3?f.HHzEQ:"move"}function tr(c,r){const a=_t,i={NzwFe:"rotate",kgYcX:a(261),SKtTX:function(x,f){return x(f)},TmhHf:"none"};switch(c){case i.NzwFe:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(266)]:return'url("'+r+a(221);case a(227):return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return i[a(264)](rr,r);case i.TmhHf:default:return a(209)}}function Od(c,r){const a=_t,i={ccexj:a(263),HyKrS:a(261),EIIBD:a(227),cvgYL:a(245),trCtE:"none"};switch(c){case i[a(258)]:return a(231);case a(211):return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(288)]:return a(269)+r+a(221);case i.EIIBD:return a(269)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case"radius":return a(269)+r+a(238);case i.cvgYL:return rr(r);case i[a(237)]:default:return"grab"}}function rr(c){return _t(269)+c+'move_object_cursor_32.png") 16 16, move'}function _t(c,r){c=c-203;const a=G0();let i=a[c];if(_t.TqnDdP===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};_t.gBNHTf=x,_t.tuUxKK={},_t.TqnDdP=!0}const f=a[0],m=c+f,v=_t.tuUxKK[m];if(v)i=v;else{const h=function(d){this.XToIOB=d,this.aOAwGp=[1,0,0],this.fSLIBI=function(){return"newState"},this.tphvIX="\\w+ *\\(\\) *{\\w+ *",this.nAjPOT=`['|"].+['|"];? *}`};h.prototype.QNZqne=function(){const d=new RegExp(this.tphvIX+this.nAjPOT),g=d.test(this.fSLIBI.toString())?--this.aOAwGp[1]:--this.aOAwGp[0];return this.oGzZhj(g)},h.prototype.oGzZhj=function(d){return~d?this.xYNCHW(this.XToIOB):d},h.prototype.xYNCHW=function(d){for(let g=0,y=this.aOAwGp.length;g<y;g++)this.aOAwGp.push(Math.round(Math.random())),y=this.aOAwGp.length;return d(this.aOAwGp[0])},new h(_t).QNZqne(),i=_t.gBNHTf(i),_t.tuUxKK[m]=i}return i}function kn(c){const r=_t;return'url("'+c+r(226)}function nm(c){const r=_t;return'url("'+c+r(206)}function lm(c){const r=_t;return r(269)+c+r(292)}(function(c,r){const a=yn,i=c();for(;;)try{if(parseInt(a(319))/1+parseInt(a(266))/2*(-parseInt(a(293))/3)+parseInt(a(263))/4+parseInt(a(312))/5+-parseInt(a(335))/6*(parseInt(a(283))/7)+-parseInt(a(329))/8+-parseInt(a(316))/9*(parseInt(a(282))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,982441);function R0(){const c=["ChjVAMvJDa","zMXVD2vYCW","zMLUza","C3rHCNrtDMC","tM5kze4","ntaWmZKYmfn1EKziDW","y3vYCMvUDa","y2XPzw50wq","yMvNAw5sywrPDxneCMfN","odu1C1DcD2Hu","sKDPCg8","Aw5KzxG","mtG2mJGZmwzhvKvwBW","wfjcAM0","AMzbBem","Bgf5zxi","ChvZAa","tffzvwu","ChjLDMvUDerLzMf1Bhq","Dg9tDhjPBMC","AfLgzM0","C3rHCNrAB29T","mteYotq3ntj5rMHTvMO","CLrswM0","CgfUma","tgHyyu8","ywjZ","BwT6Dhy","mty5nJa3ne95EMHuwG","A2LUza","yMvNAw5xAwr0AfnJywXLrhjHzW","y2XPy2TqzxrHBa","zw5Ku2nHBgveCMfN","kcGOlISPkYKRksSK","BgvHzG","yMvNAw5sB3rHDgLVBKrYywC","r2HYy3y","BwfW","y3vYCMvUDfrHCMDLDa","DLfOv0C","nZi1mte4oe94svrSwq","Bw92zwq","y2XPzw50wa","mte2mhDtrLLnBG","DfDJt20","Axzsz1C","CfLnyuq","BxvSDgLtDgfYDfbVC2L0Aw9UCW","Bgf5zxjjza","ELDdveS","C3rHCNrdBgLLBNq","D2LKDgHty2fSzurYywDszwy","CMfKAxvZrhjHz1jLzG","sM53r3u","EMX0uvi","u0f5DM0","C3rHCNrqB3m","zMXVD2vYswq","C2nHBgveCMfNuMvM","mtqZmdiWBfDStg1h","mJfjC3r5rMm","y29UC3rYDwn0B3i","teDxsKO","ANzOv0y","AxntAgLMDfbYzxnZzwq","y3vYCMvUDfn2zW","t1LizLO","EwT6v0C","EKrUDei","C2v0ug9PBNrLCKnHChr1CMu","mZKWzgjhrKvj","yMH1uKW","Cg9PBNrLCKLK","EvfgrKi","yu5Wy1K","vvfnAuS","BgvUz3rO","zMXVD2vYswrZ","v2LOChO","BwLU","zNrfqNa","C3rHCNq","Cg9ZAxrPB24","rfLrAvu"];return R0=function(){return c},R0()}const am=(function(){const c={gNlcB:function(a,i){return a===i},LGWJJ:"UoFtc"};let r=!0;return function(a,i){const x=r?function(){const f=yn;if(i)if(c.gNlcB(c.LGWJJ,c[f(285)])){const m=i.apply(a,arguments);return i=null,m}else _0x492516[f(313)]=null}:function(){};return r=!1,x}})(),Ss=am(void 0,function(){const c=yn,r={tWcOm:c(340)};return Ss[c(326)]().search(r[c(267)]).toString()[c(284)](Ss).search(r.tWcOm)});Ss();const C0=500*un;function yn(c,r){c=c-257;const a=R0();let i=a[c];if(yn.NvWQKS===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};yn.eBIGRd=x,yn.tktPUf={},yn.NvWQKS=!0}const f=a[0],m=c+f,v=yn.tktPUf[m];if(v)i=v;else{const h=function(d){this.AbRITp=d,this.QRNGns=[1,0,0],this.gDOQks=function(){return"newState"},this.LMtxCj="\\w+ *\\(\\) *{\\w+ *",this.bOPEEV=`['|"].+['|"];? *}`};h.prototype.fpqsSi=function(){const d=new RegExp(this.LMtxCj+this.bOPEEV),g=d.test(this.gDOQks.toString())?--this.QRNGns[1]:--this.QRNGns[0];return this.XJWCnz(g)},h.prototype.XJWCnz=function(d){return~d?this.wOpfIp(this.AbRITp):d},h.prototype.wOpfIp=function(d){for(let g=0,y=this.QRNGns.length;g<y;g++)this.QRNGns.push(Math.round(Math.random())),y=this.QRNGns.length;return d(this.QRNGns[0])},new h(yn).fpqsSi(),i=yn.eBIGRd(i),yn.tktPUf[m]=i}return i}function im(c){const r=yn,a={QcEXs:function(S,w){return S-w},Wihpz:function(S,w){return S+w},ykzWG:function(S,w){return S(w)},aNpcY:function(S,w){return S(w)},DnhUa:function(S,w){return S(w)},ATAAN:function(S,w){return S-w},hYFfm:r(307),NnJdN:function(S,w){return S(w)},yQFFB:function(S,w){return S<=w},BrLhO:function(S,w){return S>=w},ENXah:function(S,w){return S+w},LhXaO:function(S,w){return S>w},TXVlh:function(S,w){return S===w},HNnFf:function(S,w){return S!==w},mkztv:"flower",UQMiK:function(S,w){return S(w)},OYHfZ:"leaves",XRBjm:function(S,w){return S!==w},xgwmk:function(S,w){return S===w},WYttM:r(308),nztyr:r(268),zDntB:r(330),EzvHH:function(S,w,T,z){return S(w,T,z)},zWCTK:function(S,w){return S/w},LQYUe:function(S,w){return S-w},MiGey:function(S,w){return S>w},tHlbE:function(S,w,T){return S(w,T)},vQhWG:"leaf",OYpQi:"petal",rvEqW:function(S,w){return S!==w},qXNjP:function(S,w){return S===w},ZDtmU:"PfRRP",youbQ:function(S,w,T){return S(w,T)}},{project:i,selection:x,setSelection:f,applyUpdate:m,dragRef:v,zoom:h,pan:d,setPan:g,stageRef:y,clientToSvgPoint:A,togglePetalSelection:b}=c,D=$2({project:i,applyUpdate:m,stageRef:y,clientToSvgPoint:A}),_=$.useRef(null),C=S=>{const w=r;S[w(325)](),S.currentTarget?.setPointerCapture?.(S.pointerId),_[w(313)]={start:{x:S[w(265)],y:S.clientY},pan0:{...d}}},U=S=>{const w=r;if(!_.current)return;const T=S.clientX-_[w(313)][w(304)].x,z=a.QcEXs(S[w(314)],_.current[w(304)].y);g({x:a[w(301)](_.current[w(331)].x,T),y:_[w(313)][w(331)].y+z})},V=()=>{const S=r;_[S(313)]=null},E=a[r(290)]($.useRef,null),[G,R]=$.useState(null);return{beginPan:C,updatePan:U,endPan:V,marqueeRef:E,marqueeRect:G,beginMarquee:S=>{const w=r;S.preventDefault(),S[w(261)]?.setPointerCapture?.(S[w(295)]);const T=a[w(290)](A,S);E.current={startSvg:T,currentSvg:T},R(null)},updateMarquee:S=>{const w=r;if(!E[w(313)])return;const T=a[w(297)](A,S);E[w(313)][w(288)]=T;const z=E[w(313)].startSvg,j=Math.min(z.x,T.x),N=Math.min(z.y,T.y),O=Math.abs(a.QcEXs(T.x,z.x)),X=Math[w(333)](T.y-z.y);R({x:j,y:N,w:O,h:X})},endMarquee:()=>{const S=r,w={seYEJ:function(J,le){return a[yn(297)](J,le)}},T=E.current;if(E.current=null,!T){a.DnhUa(R,null);return}const z=T[S(310)],j=T[S(288)];if(Math.hypot(j.x-z.x,a.ATAAN(j.y,z.y))<3){f({kind:a[S(327)]}),a[S(311)](R,null);return}const O=Math[S(302)](z.x,j.x),X=Math.min(z.y,j.y),k=Math.abs(j.x-z.x),M=Math.abs(j.y-z.y),q=[];for(const J of i.flowers)J.position.x>=O&&a.yQFFB(J[S(305)].x,a.Wihpz(O,k))&&a.BrLhO(J[S(305)].y,X)&&J[S(305)].y<=X+M&&q[S(323)](J.id);const H=[];for(const J of i.leaves??[])J[S(305)].x>=O&&J[S(305)].x<=a.ENXah(O,k)&&J[S(305)].y>=X&&a[S(296)](J[S(305)].y,X+M)&&H[S(323)](J.id);a[S(332)](q.length,0)?a.TXVlh(q[S(299)],1)?a.HNnFf("Qzauy","qxJqV")?a.NnJdN(f,{kind:a[S(334)],flowerId:q[0]}):w.seYEJ(_0x259414,{kind:S(307)}):f({kind:S(308),flowerIds:q}):a.LhXaO(H[S(299)],0)?H[S(299)]===1?a[S(298)](f,{kind:S(257),leafId:H[0]}):f({kind:a[S(289)],leafIds:H}):a.ykzWG(f,{kind:"project"}),a.ykzWG(R,null)},beginFlowerDrag:(S,w,T)=>{const z=r,j={jvhWF:function(N,O,X,k,M){return N(O,X,k,M)},SAyvm:function(N,O){return N(O)}};if(a[z(320)](z(277),"Noqto")){w[z(325)](),w[z(261)]?.[z(292)]?.(w.pointerId);const N=i[z(308)][z(309)](X=>X.id===S);if(!N)return;let O=null;if(a.xgwmk(x.kind,a.WYttM)&&x.flowerIds.includes(S))O=x[z(300)][z(260)](X=>{const k=i.flowers.find(M=>M.id===X);return{id:X,x:k?.position.x??0,y:k?.position.y??0}});else if(z(259)!==z(317)){const X=_2(i,S);X[z(299)]>1&&(O=X[z(260)](k=>{const M=z,q=i[M(308)].find(H=>H.id===k);return{id:k,x:q?.position.x??0,y:q?.[M(305)].y??0}}))}else j[z(286)](_0x165316,_0x30adae[z(280)],_0x1cf255.clickPetal[z(271)],_0x35d786.clickPetal[z(318)],!0);v.current={flowerId:S,startClient:{x:w[z(265)],y:w.clientY},startPos:{...N[z(305)]},moved:!1,clickPetal:T??null,isShiftPressed:w.shiftKey||!1,multiStartPositions:O,startZoom:h}}else j[z(278)](_0x387f2b,{kind:"petal",flowerId:_0x21b12d[z(280)],layerId:_0x4c78ff[z(338)][z(271)],index:_0x4ff689[z(338)].index})},updateFlowerDrag:S=>{const w=r,T={XnFif:a.nztyr,hUGhT:a[w(291)],ftEBp:function(k,M){return k!==M},JnwGu:w(306),pYMaD:function(k,M,q,H){return k(M,q,H)},bhuRL:function(k,M,q,H){return a.EzvHH(k,M,q,H)}},z=v.current;if(!z)return;const j=a.QcEXs(S[w(265)],z[w(273)].x)/z[w(328)],N=a[w(272)](S.clientY-z.startClient.y,z.startZoom),O=a[w(324)](S.clientX,z[w(273)].x),X=S.clientY-z.startClient.y;a.MiGey(Math[w(333)](O)+Math[w(333)](X),4)&&(z.moved=!0),a.tHlbE(m,k=>{const M=w;if(T.XnFif===T.hUGhT){const q=_0x3d7d53.flowers.find(H=>H.id===_0x58ad6b);return{id:_0x391cca,x:q?.[M(305)].x??0,y:q?.position.y??0}}else if(z[M(270)])if(T[M(303)](T[M(276)],"pRlTR"))for(const q of z.multiStartPositions){const H=k.flowers[M(309)](J=>J.id===q.id);H&&(H[M(305)].x=T[M(269)](je,q.x+j,0,C0),H.position.y=T[M(269)](je,q.y+N,0,C0))}else{const q=_0x59c511(_0x4e9d2c,_0x3608ec);ONSxby.OIDwa(q.length,1)&&(_0x755cb=q.map(H=>{const J=M,le=_0x39c66c.flowers[J(309)](ce=>ce.id===H);return{id:H,x:le?.position.x??0,y:le?.[J(305)].y??0}}))}else{const q=k.flowers.find(H=>H.id===z.flowerId);if(!q)return;q.position.x=je(z.startPos.x+j,0,C0),q.position.y=T[M(294)](je,z[M(279)].y+N,0,C0)}},!1)},endFlowerDrag:()=>{const S=r,w=v.current;w&&(!w[S(264)]&&w.clickPetal?w[S(287)]?b(w.flowerId,w.clickPetal.layerId,w.clickPetal[S(318)],!0):a.UQMiK(f,{kind:a.OYpQi,flowerId:w[S(280)],layerId:w[S(338)].layerId,index:w[S(338)][S(318)]}):w.moved&&((x[S(336)]===a[S(327)]||x[S(336)]==="flower"&&a.rvEqW(x[S(280)],w[S(280)])||a.qXNjP(x.kind,S(322))&&x[S(280)]!==w[S(280)]||x[S(336)]==="petal"&&x[S(280)]!==w.flowerId)&&(S(321)===a.ZDtmU?_0x4b2e64({kind:a[S(262)],leafId:_0x1cc0d7[0]}):a.DnhUa(f,{kind:a[S(334)],flowerId:w.flowerId})),a.youbQ(m,()=>{},!0)),v[S(313)]=null)},scaleDragRef:D[r(281)],beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D.updateScaleDrag,endScaleDrag:D[r(339)],rotationDragRef:D.rotationDragRef,beginRotationDrag:D[r(258)],updateRotationDrag:D.updateRotationDrag,endRotationDrag:D.endRotationDrag,widthScaleDragRef:D[r(274)],beginWidthScaleDrag:D[r(337)],updateWidthScaleDrag:D.updateWidthScaleDrag,endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D[r(275)],beginRadiusDrag:D[r(315)],updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D.endRadiusDrag}}function rm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ma(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),x=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:x},onDoubleClick:v=>{c.onDoubleClick&&(v.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(rm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function cm(c){const{project:r,selection:a,setSelection:i,isExpanded:x,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:v,addFlower:h,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:y,deleteFlowerById:A,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:_}=c,C=(B,Y)=>{const Q=a.kind==="flower"&&a.flowerId===B.id,Z=a.kind==="flowers"&&a.flowerIds.includes(B.id),P=Q||Z,S="",w=x(B.id),T=B.layers&&B.layers.length>0,z=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),g(B.id)},"aria-label":"Add outer layer",children:"+"}),T&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:j=>{j.stopPropagation(),y(B.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":B.id,"data-testid":`tree-flower-${B.id}`,style:{paddingLeft:Y},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${w?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:w?"Collapse layers":"Expand layers",onClick:j=>{j.stopPropagation(),f(B.id)},"aria-label":w?"collapse":"expand","data-tree-toggle":!0,children:w?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ma,{label:B.name,marker:S,selected:P,showTrash:Q,onTrash:()=>A(B.id),rightActions:z,onClick:()=>m(B.id),onDoubleClick:()=>v(B.id),level:0,leftOffset:-18})})]}),w&&B.layers.slice().sort((j,N)=>N.order-j.order).map(j=>{const N=(a.kind==="layer"||a.kind==="petal")&&a.layerId===j.id;return s.jsx(ma,{label:`${j.order}. ${j.name}`,marker:"",selected:N,showTrash:N,onTrash:()=>b(B.id,j.id),onClick:()=>{i({kind:"layer",flowerId:B.id,layerId:j.id}),_(O=>({...O,[B.id]:!0}))},level:0,leftOffset:10,muted:!j.visible},j.id)})]},B.id)},U=c.groups,V=new Set(U.flatMap(B=>B.flowerIds)),E=r.flowers.filter(B=>!V.has(B.id)),G=c.leafGroups,R=new Set(G.flatMap(B=>B.leafIds)),K=c.leaves.filter(B=>!R.has(B.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[s.jsx(ma,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),U.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...U].reverse().map(B=>{const Y=a.kind==="group"&&a.groupId===B.id,Q="",Z=c.isGroupExpanded(B.id);return s.jsxs("div",{"data-group-id":B.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Z?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Z?"":"",onClick:P=>{P.stopPropagation(),c.toggleGroupExpanded(B.id)},"aria-label":Z?"collapse group":"expand group",children:Z?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ma,{label:B.name,marker:Q,selected:Y,onClick:()=>c.onSelectGroup(B.id),level:0,leftOffset:-18})})]}),Z&&B.flowerIds.map(P=>{const S=r.flowers.find(w=>w.id===P);return S?C(S,12):null})]},B.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...E].reverse().map(B=>C(B,0)),E.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[G.map(B=>{const Y=a.kind==="leafGroup"&&a.leafGroupId===B.id;return s.jsxs("div",{children:[s.jsx(ma,{label:` ${B.name}`,selected:Y,onClick:()=>c.onSelectLeafGroup(B.id),level:0,leftOffset:0}),B.leafIds.map(Q=>{const Z=c.leaves.find(S=>S.id===Q);if(!Z)return null;const P=a.kind==="leaf"&&a.leafId===Z.id;return s.jsx(ma,{label:Z.name,selected:P,showTrash:P,onTrash:()=>c.onDeleteLeaf(Z.id),onClick:()=>c.onSelectLeaf(Z.id),level:0,leftOffset:12,muted:!Z.visible},Z.id)})]},B.id)}),[...K].reverse().map(B=>{const Y=a.kind==="leaf"&&a.leafId===B.id;return s.jsx(ma,{label:B.name,selected:Y,showTrash:Y,onTrash:()=>c.onDeleteLeaf(B.id),onClick:()=>c.onSelectLeaf(B.id),level:0,leftOffset:0,muted:!B.visible},B.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=rn;(function(c,r){const a=rn,i=c();for(;;)try{if(parseInt(a(196))/1*(parseInt(a(271))/2)+parseInt(a(272))/3+parseInt(a(229))/4+-parseInt(a(266))/5*(-parseInt(a(182))/6)+parseInt(a(227))/7+parseInt(a(264))/8*(parseInt(a(230))/9)+parseInt(a(249))/10*(-parseInt(a(198))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,896373);function rn(c,r){c=c-160;const a=k0();let i=a[c];if(rn.SXnqwc===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};rn.inDQSl=x,rn.GGjWPK={},rn.SXnqwc=!0}const f=a[0],m=c+f,v=rn.GGjWPK[m];if(v)i=v;else{const h=function(d){this.xzjbMz=d,this.xUpwje=[1,0,0],this.phXMaq=function(){return"newState"},this.MSVxby="\\w+ *\\(\\) *{\\w+ *",this.ikPwVO=`['|"].+['|"];? *}`};h.prototype.Rtyxda=function(){const d=new RegExp(this.MSVxby+this.ikPwVO),g=d.test(this.phXMaq.toString())?--this.xUpwje[1]:--this.xUpwje[0];return this.tTCVSk(g)},h.prototype.tTCVSk=function(d){return~d?this.lBXBLn(this.xzjbMz):d},h.prototype.lBXBLn=function(d){for(let g=0,y=this.xUpwje.length;g<y;g++)this.xUpwje.push(Math.round(Math.random())),y=this.xUpwje.length;return d(this.xUpwje[0])},new h(rn).Rtyxda(),i=rn.inDQSl(i),rn.GGjWPK[m]=i}return i}const um=(function(){const c={KyHZV:function(a,i){return a*i}};let r=!0;return function(a,i){const x=rn,f={anZyW:function(v,h){return v===h},Vzbwy:function(v,h){return c[rn(161)](v,h)},RDYdj:x(189),lcMei:x(170)},m=r?function(){const v=x,h={eDklD:function(d,g){return f[rn(186)](d,g)},udeMu:"right",QqJFE:"left",YkGFt:v(253),EZhYj:"back",teNtV:function(d,g){return f.Vzbwy(d,g)}};if(f[v(174)]!=="GhXjv"){if(i)if(f[v(246)]!==v(170)){const d=h[v(242)](_0xd5f2ce,h.udeMu)||h.eDklD(_0xa75c40,h[v(223)])?h[v(236)]:h.EZhYj,g=_0x4560c3[_0xb62149][d];return{width:g.width*_0x3e46c1,height:h.teNtV(g[v(251)],_0xc2bf13)}}else{const d=i.apply(a,arguments);return i=null,d}}else return _0x1fbf4b?_0x541816:_0x9ddd5f}:function(){};return r=!1,m}})(),Cs=um(void 0,function(){const c=rn,r={oyShT:"(((.+)+)+)+$"};return Cs[c(204)]().search(c(179)).toString().constructor(Cs).search(r[c(234)])});Cs();function k0(){const c=["ndiZmZi3m2Djz2vQza","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","tcaTnZaGmJqW","D2LKDgG","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","wgPOrfm","s3LiwLy","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","AM9PBG","EuHPy2e","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTndqGmZqSic0ZocaYmIWGltmWide0","uKrzzgO","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","tsaWidCW","BgvMDa","qYaTnJGGotySic03mca4ncWGlty2idC0","kcGOlISPkYKRksSK","qYa2mcaZocWGnJqGntiSidy0idy4","tcaTmZaGmJqW","mte0yxnirwXh","ENn2tMq","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","yw5AEvC","qYa2nca0ncWGnJqGntaSidyZidu2","qYa3mIa2osWGnJKGnZiSidy2idC2","DhLjshO","qYa1nYa3msWGntKGnZuSidyZidC5","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","yMfJAW","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","mte0otK0ovjkwM1OEq","s2LhB1C","mJK3mdC3CujKr2Ph","ugLyyxy","qYaTntyGmZySic01mcaYnIWGltqYide4","tcaTndaGmtqY","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","tcaTmZyGmJGW","Dg9tDhjPBMC","qMLPzMG","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","5BEM5zcr44gn","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYaTnJqGntiSic02mcaZocWGltuYidi2","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTmJGGndySic00mca0ncWGltuWidq0","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTncaTmsWGlteGlteSidaGma","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","qYaXncaTncWGmZyGltqSidq4idq","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTndaGmtaSic0XocaXlcaWida","l3rZDw1HBwKV","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","uxfkrKu","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","tsaTndaGmtqY","tsa0nIaYnG","mtK1nJy0uwTjzurc","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","nJaWnZeZmLPkvwDVEa","mZqYAhfWu29Y","ANrHsgy","tfjuyxK","qYaTmJiGnIWGlteWideSidaGma","B3LtAfq","tcaTotiGmJGW","wwThrNq","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYa2nIa2ocWGntyGnZaSidq4idy2","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","zurRBeq","qYa0mIa2mIWGndaGntaSidqYidm4","qYa4mIa3ncWGodmGodySidGYidK4","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","BgnnzwK","qYa2nsa4msWGnJyGodmSidy2idG1","qYaTnZaGntiSic02nIa0ocWGltyYidq0","mtCYmeXwEgDqsG","qYaTndqGnIWGltiWidaSidaGma","AgvPz2H0","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","C2LKzq","swXbsLy","AefMrKy","tsaTndyGmJy","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","tsaWida","CMLNAhq","qYa2ocaZmcWGnZyGndqSidGWidyY","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","ntuXnJHItvjbBfu","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","mZeYodmWA0vsuwHW","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","mKvIufvRva"];return k0=function(){return c},k0()}const Qd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Vd={adult:"",child:""},Pd={right:"",left:se(209),back:""},sm=[se(258),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",se(188),"C 65 80, 68 85, 74 90","C 78 93, 82 96, 83 99",se(162),"C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118",se(164),se(269),se(202),"C 23 171, 21 181, 19 191","C 15 206, 5 221, -9 239",se(270),se(203),"L -125 280","C -112 260, -96 242, -82 226",se(175),"C -42 182, -38 174, -36 166",se(228),se(273),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",se(248),se(200),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"][se(169)](" "),om=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62",se(244),se(262),se(165),"C 72 142, 60 152, 48 162",se(171),"C 28 198, 34 212, 48 228","C 58 240, 74 258, 92 280",se(235),se(261),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162",se(206),"C -82 128, -84 122, -84 116",se(217),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",se(250),"Z",se(176),"C 16 66, 34 70, 42 82",se(240),se(172),"C 20 148, 10 150, 0 150",se(224),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),xm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",se(187),"C 62 60, 59 64, 57 68",se(190),se(247),"C 66 86, 62 88, 58 90","C 57 91, 57 93, 59 95","C 60 97, 58 101, 54 106",se(219),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",se(181),"L -100 240",se(222),"C -48 176, -42 168, -38 158",se(263),se(252),"C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(173),se(233),"Z"].join(" "),fm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94",se(267),se(185),se(166),se(163),se(274),se(208),se(241),se(265),se(193),se(167),se(212),se(220),"Z",se(226),se(215),"C 78 40, 78 54, 72 62",se(239),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26",se(213),se(237),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"][se(169)](" "),dm=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58",se(211),"C -56 36, -50 26, -42 18",se(238),se(216),"Z",se(225),se(273),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",se(248),"C -58 50, -54 58, -50 70","C -46 86, -42 106, -40 126",se(201),"Z"][se(169)](" "),hm=["M 0 0","C 20 0, 44 6, 58 20",se(260),se(244),se(262),se(165),se(195),se(191),se(168),se(277),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",se(250),"Z","M 0 70","C 16 66, 34 70, 42 82",se(240),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",se(224),se(257),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),mm=["M 0 0",se(218),se(268),se(187),"C 44 54, 16 48, -10 46",se(214),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106",se(178),"C -62 64, -56 54, -50 44","C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126","L -40 134","Z"][se(169)](" "),bm=[se(258),"C 18 1, 40 10, 52 26",se(180),"C 64 78, 66 86, 66 94",se(267),se(276),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",se(220),"Z",se(226),"C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(243),"C 43 32, 44 28, 46 26","Z",se(256),"C -54 20, -66 22, -72 32",se(237),se(184),se(207),"C -43 32, -44 28, -46 26","Z"][se(169)](" ");function gm(c,r){const a=se,i={omUAZ:function(f,m){return f===m},Gntbg:"adult",Biifh:function(f,m){return f!==m},LRTay:a(199)},x=r==="right"||r==="left";return i.omUAZ(c,i.Gntbg)?i[a(205)]("ESsFA",i[a(232)])?x?sm:om:_0x50311a?_0x2470b4:_0x3362e1:x?xm:fm}function vm(c,r){const a=se,i={uVoFJ:"right",jtaHf:function(f,m){return f===m},IlAJV:"left"},x=r===i.uVoFJ||i[a(231)](r,i[a(254)]);return i.jtaHf(c,"adult")?x?dm:hm:x?mm:bm}const ym={right:se(221)+"stencils/adult_right.png",left:se(221)+se(245),back:se(221)+"stencils/adult_back.png"},pm={right:"/tsumami/stencils/child_right.png",left:"/tsumami/"+se(194),back:se(221)+se(210)},_m={adult:ym,child:pm};function Sm(c,r){const a=se,i={EPDEK:function(v,h){return v===h},KiGoW:a(259),gpnCR:a(177),PKHiL:a(253),JihPR:a(192),hAfFF:function(v,h,d){return v(h,d)},XjhDS:function(v,h,d){return v(h,d)}},x=i.EPDEK(r,i[a(197)])||r===i.gpnCR?i.PKHiL:i.JihPR,f=Qd[c][x],m=_m[c]?.[r]??null;return{path:i[a(255)](gm,c,r),hairPath:i[a(160)](vm,c,r),scaleX:r==="left"?-1:1,imageUrl:m,imageWidthMm:f.width,imageHeightMm:f.height}}(function(c,r){const a=pn,i=c();for(;;)try{if(-parseInt(a(446))/1*(-parseInt(a(484))/2)+-parseInt(a(452))/3+-parseInt(a(468))/4*(-parseInt(a(440))/5)+-parseInt(a(490))/6+parseInt(a(450))/7*(parseInt(a(463))/8)+parseInt(a(474))/9+parseInt(a(470))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,734065);const Cm=(function(){const c={KTnxx:"wuGCY"};let r=!0;return function(a,i){const x=pn,f={vOPQT:function(v,h){return v===h},pKylx:c[x(469)]},m=r?function(){const v=x;if(i)if(f[v(433)]("wuGCY",f[v(486)])){const h=i.apply(a,arguments);return i=null,h}else{_0x339e0f(_0x44376c);return}}:function(){};return r=!1,m}})(),ws=Cm(void 0,function(){const c=pn;return ws.toString()[c(492)]("(((.+)+)+)+$").toString()[c(473)](ws).search(c(495))});function O0(){const c=["Dg91y2HLCW","ugngDvy","otq1nZG0Cwvttxrx","vMjWyu8","Efzmyu8","tMr0ANa","BePSsvC","mJHvrMzWrMy","s1rUEhG","mtG4nJKYodbmDKncuLi","Dg9tDhjPBMC","y2XPzw50wa","y29UC3rYDwn0B3i","mJKWmJi0ofjKy1fHta","tfzQCe8","q3HLz1G","wLbLAKm","svvsBMO","v1bLtMK","EM9VBuXLDMvS","AgvPz2H0","Dg91y2HTB3zL","EM9VBq","mtqYs3jnCgXj","zxr1veS","CeT5BhG","z2nXzeO","Aw5PDgLHBfPVB20","CMvTB3zLrxzLBNrmAxn0zw5LCG","nJC5nJeXmgrZsgnPqG","u095uM4","C2vHCMnO","zgvSDgfz","y3vYCMvUDa","kcGOlISPkYKRksSK","ChjLDMvUDerLzMf1Bhq","D2LKDgG","qNjbs0u","wKHUCgu","mNWZFdf8mhW0","qNjZvvq","Aw5PDgLHBfbHBG","DK9quvq","DMvtuuK","q1Dhq0W","y2XPzw50wq","Dg9gAxHLza","rMHlC2q","txn2yNa","mZC3mZy1rfDJEefr","qwzzzMO","Aw5PDgLHBenLBNrLCG","Aw5PDgLHBerPC3q","wejvEhC","s3fhz3q","ndyYoxbqsxv5Bq","Dg91y2HZDgfYDa","zxHW","BgvUz3rO","mtrrwfvNzLO","ywrKrxzLBNrmAxn0zw5LCG","ndmWode5oe1qrwvNAa","qMzlD3i","Bw91Afe","EhLqzKG","ENb3D1e","D2nwCem","C3bSAxq","z2v0qM91BMrPBMDdBgLLBNrszwn0","vK5ct0G"];return O0=function(){return c},O0()}ws();const cs=520;function pn(c,r){c=c-433;const a=O0();let i=a[c];if(pn.UhaZZr===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};pn.CKzgEn=x,pn.bTOTVr={},pn.UhaZZr=!0}const f=a[0],m=c+f,v=pn.bTOTVr[m];if(v)i=v;else{const h=function(d){this.wBjvup=d,this.uQAYfU=[1,0,0],this.wKXOZs=function(){return"newState"},this.qxGYby="\\w+ *\\(\\) *{\\w+ *",this.wUyIhC=`['|"].+['|"];? *}`};h.prototype.fgRVSe=function(){const d=new RegExp(this.qxGYby+this.wUyIhC),g=d.test(this.wKXOZs.toString())?--this.uQAYfU[1]:--this.uQAYfU[0];return this.eQDtea(g)},h.prototype.eQDtea=function(d){return~d?this.cSKhzu(this.wBjvup):d},h.prototype.cSKhzu=function(d){for(let g=0,y=this.uQAYfU.length;g<y;g++)this.uQAYfU.push(Math.round(Math.random())),y=this.uQAYfU.length;return d(this.uQAYfU[0])},new h(pn).fgRVSe(),i=pn.CKzgEn(i),pn.bTOTVr[m]=i}return i}function Yd(c,r,a,i,x,f,m){const v=pn,h={XBUxw:function(g,y){return g-y},dNSzx:function(g,y){return g/y},KqGgt:function(g,y){return g*y},BfKwr:function(g,y){return g-y},DTcNW:function(g,y){return g+y}},d=h[v(444)](h.dNSzx(i,a),1);return{x:h[v(444)](m.x,d*(-m.x+h[v(445)](c,x))),y:h[v(453)](m.y,d*h.DTcNW(-m.y,r*f))}}function wm(c){const r=pn,a={fLzVr:function(T,z){return T===z},PcFuV:function(T){return T()},qGZgC:function(T){return T()},AfYfj:function(T,z){return T/z},IURnj:function(T,z){return T-z},BrsUT:function(T,z){return T+z},CkBCC:function(T,z){return T/z},zpwwQ:function(T,z,j,N){return T(z,j,N)},VNBOH:function(T,z){return T-z},wcVpC:function(T,z){return T!==z},ZHnpe:r(455),IsjDP:r(434),ttRWh:function(T,z){return T/z},lJlIW:function(T,z){return T*z},BeAQI:function(T,z){return T*z},ZPejC:function(T,z){return T+z},xVLaO:function(T,z){return T*z},LLEYV:function(T,z){return T*z},SOyRn:function(T,z){return T(z)},ISqUp:r(500),SSDzN:function(T,z){return T<z},QFVNk:function(T,z){return T(z)},FGsMZ:r(447),VbpaO:"touchend",BrAKE:"wheel",etuTK:function(T,z){return T===z},Ndtjp:function(T,z){return T===z},nXsKB:function(T,z){return T(z)},wtZnL:function(T,z){return T(z)},LVjpO:function(T,z){return T(z)},QRtrO:function(T,z,j){return T(z,j)},FhKsd:function(T,z,j){return T(z,j)},Msvbp:function(T,z,j){return T(z,j)},WPeNi:function(T,z,j){return T(z,j)}},{setZoom:i,setPan:x,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:v,endPan:h,endFlowerDrag:d,endMarquee:g,endRotationDrag:y,endScaleDrag:A,endWidthScaleDrag:b,endRadiusDrag:D}=c,_=a.QFVNk($.useRef,null),C=a.nXsKB($.useRef,c.pan),U=$.useRef(c[r(483)]);$.useEffect(()=>{const T=r;C[T(494)]=c.pan},[c.pan]),$.useEffect(()=>{const T=r;U[T(494)]=c.zoom},[c.zoom]);const V=a[r(475)]($.useRef,c.zoomLevel);$.useEffect(()=>{const T=r;V[T(494)]=c.zoomLevel},[c.zoomLevel]);const E=a[r(491)]($.useRef,null),G=$.useRef(null),R=$.useCallback(T=>{const z=r;if(a.fLzVr(T[z(461)].length,2)){T[z(496)](),h(),d(),a.PcFuV(g),y(),a.qGZgC(A),b(),a[z(462)](D),E.current=null,G[z(494)]=null;const j=T.touches[0],N=T[z(461)][1],O=a[z(441)](j.clientX+N.clientX,2),X=a.AfYfj(j.clientY+N.clientY,2),k=Math.hypot(N.clientX-j.clientX,a[z(478)](N.clientY,j[z(436)]));_[z(494)]={initialCenter:{x:O,y:X},initialDist:k,initialPan:{...C[z(494)]},initialZoom:U.current}}},[h,d,g,y,A,b,D]),K=a.QRtrO($.useCallback,T=>{const z=r;if(T.touches[z(449)]===2&&_[z(494)]){T[z(496)]();const j=T[z(461)][0],N=T[z(461)][1],O=a.AfYfj(a[z(501)](j[z(472)],N[z(472)]),2),X=a.CkBCC(a.BrsUT(j.clientY,N.clientY),2),k=Math.hypot(a[z(478)](N[z(472)],j[z(472)]),N.clientY-j[z(436)]),M=_.current,q=k/Math.max(1,M[z(443)]),H=a[z(456)](je,Number((M[z(488)]*q)[z(437)](3)),m[0],m[a[z(460)](m.length,1)]),J=M.initialZoom,le=O-M[z(442)].x,ce=a[z(478)](X,M[z(442)].y);let fe=M.initialPan.x+le,xe=M[z(502)].y+ce;const me=v[z(494)];if(me&&a[z(457)](J,H))if(a[z(499)]===a.IsjDP)_0x1f566f.current=_0x3e5f68[z(480)];else{const de=me[z(459)](),ze=(M[z(442)].x-de.left)/de[z(497)],Ue=a.ttRWh(M[z(442)].y-de.top,de.height),Ie=de[z(497)]/de[z(481)],at=cs,Dt=a[z(467)](at,Ie),Bt=a.BeAQI(H/J-1,a[z(477)](-M[z(502)].x,a[z(467)](ze,Dt))),it=a[z(465)](a.CkBCC(H,J)-1,-M.initialPan.y+a.LLEYV(Ue,at));fe-=Bt,xe-=it}const Se={x:fe,y:xe};U.current=H,C[z(494)]=Se,a[z(491)](x,Se),i(H)}},[x,i,v,m]),B=a[r(438)]($.useCallback,T=>{const z=r;if(a.SSDzN(T.touches.length,2))if(z(435)!==z(476))_[z(494)]=null;else{const j=a.ISqUp[z(458)]("|");let N=0;for(;;){switch(j[N++]){case"0":_0x36f204(_0x1f956a);continue;case"1":_0x2f34a9[z(494)]={x:0,y:0};continue;case"2":_0x1930cc.current=_0x308cdc;continue;case"3":_0xed1e1c.current=_0x2e641a;continue;case"4":a.SOyRn(_0x55b59a,{x:0,y:0});continue}break}}},[]),Y=.003,Q=a.QRtrO($.useCallback,T=>{const z=r;T[z(496)]();const j=v.current;if(!j)return;const N=U.current,O=N*Math[z(448)](-T[z(493)]*Y),X=je(O,m[0],m[m[z(449)]-1]);if(a.SSDzN(Math.abs(X-N),1e-6))return;const k=j[z(459)](),M=a.ttRWh(a[z(478)](T[z(472)],k.left),k.width),q=(T[z(436)]-k.top)/k.height,H=k[z(497)]/k[z(481)],J=cs,le=J*H,ce=Yd(M,q,N,X,le,J,C.current);U.current=X,C[z(494)]=ce,i(X),a.QFVNk(x,ce)},[i,x,v,m]);$.useEffect(()=>{const T=r;if(T(495),a[T(485)](T(487),T(454)))return _0x56f0ed[T(471)]().search(FpDadb.nZKIr)[T(471)]()[T(473)](_0x4221a2)[T(492)]("(((.+)+)+)+$");{const z=v.current;return z?(z.addEventListener("touchstart",R,{passive:!1}),z.addEventListener(T(482),K,{passive:!1}),z[T(451)]("touchend",B),z[T(451)](a.BrAKE,Q,{passive:!1}),()=>{const j=T;z.removeEventListener(a.FGsMZ,R),z[j(489)]("touchmove",K),z[j(489)](a[j(464)],B),z.removeEventListener(a[j(498)],Q)}):void 0}},[v,R,K,B,Q]);const Z=a[r(439)]($.useCallback,T=>{const z=r,j=V[z(494)],N=je(j+T,0,a.VNBOH(m.length,1));if(a[z(466)](N,j))return;const O=U.current,X=m[N],k=v.current;if(!k){f(N);return}const M=k[z(459)](),q=M[z(497)]/M[z(481)],H=cs,J=H*q,le=Yd(.5,.5,O,X,J,H,C[z(494)]);U[z(494)]=X,V[z(494)]=N,C[z(494)]=le,a.nXsKB(f,N),a.wtZnL(x,le)},[f,x,v,m]),P=a.FhKsd($.useCallback,(T,z)=>{const j=r,N="4|0|3|1|2".split("|");let O=0;for(;;){switch(N[O++]){case"0":U[j(494)]=z;continue;case"1":f(T);continue;case"2":x({x:0,y:0});continue;case"3":C[j(494)]={x:0,y:0};continue;case"4":V.current=T;continue}break}},[f,x]),S=$.useCallback(T=>{const z=r;E[z(494)]=T},[]),w=a[r(479)]($.useCallback,T=>{G.current=T},[]);return{multiTouchRef:_,touchBgStartRef:E,mouseBgStartRef:G,zoomAtCenter:Z,resetView:P,setTouchBgStart:S,setMouseBgStart:w}}function li(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),x=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(x))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(x*f).toString(16).padStart(2,"0")}`}function jm(c){const{flower:r,project:a,paletteMap:i}=c,x=$.useRef(null),f=$.useRef(!1),m=$.useRef(null);$.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const v=$.useMemo(()=>[...r.layers||[]].sort((V,E)=>V.order-E.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=Kt(h),{flowerOuterR:y,centerHitR:A}=$.useMemo(()=>{let V=12,E=1/0;for(const R of v){if(!R.visible)continue;const K=R.scale??1,B=d*K,Q=Math.max(0,R.radius-B*.28),Z=Q+B;V=Math.max(V,Z),Q<E&&(E=Q)}isFinite(E)||(E=0);const G=Math.max(E*.9,8);return{flowerOuterR:V,centerHitR:G}},[v,d]),b=(V,E)=>V?.petalOverrides?.find(G=>G.index===E)??null,D="pointer",_=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,C=c.zoneCursorValue??"grab",U=V=>{if(V.stopPropagation(),V.button===0){if(V.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(V)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:V=>{V.stopPropagation(),c.onDoubleClick?.()},style:{cursor:_?C:rr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(V=>{if(!V.visible)return null;const G=i.get(V.colorId)?.hex??"#999",R=360/Math.max(1,V.petalCount),K=V.scale??1,B=d*K,Q=g*(V.widthScale??1)*K,P=Math.max(0,V.radius-B*.28),S=xs(""),w=xs(""),T=P+B,z=c.isSelected&&c.selectedLayerId===V.id,j=c.isSelected&&(c.selectedPetal?.layerId===V.id||(c.selectedPetals?.some(N=>N.layerId===V.id)??!1));return s.jsxs("g",{children:[Array.from({length:V.petalCount}).map((N,O)=>{const X=b(V,O),M=(X?.petalType??V.petalType)===""?S:w,q=i.get(X?.colorId??V.colorId)?.hex??G,H=V.offsetAngle+O*R,J=ya(H),le=Math.cos(J)*P,ce=Math.sin(J)*P,fe=c.isSelected&&c.selectedPetal?.layerId===V.id&&c.selectedPetal?.index===O,xe=c.isSelected&&(c.selectedPetals?.some(de=>de.layerId===V.id&&de.index===O)??!1),me=fe||xe,Se=_?C:rr("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${ce}) rotate(${H})`,children:[s.jsx("path",{d:M,transform:`scale(${B} ${Q})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:V.locked?.55:.95,style:{cursor:Se},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const ze=de.shiftKey,Ue=de.pointerType==="touch";if(x.current&&(clearTimeout(x.current),x.current=null),f.current=!1,ze&&c.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),c.onTogglePetalSelection(V.id,O,!0);return}if(Ue&&c.onTogglePetalSelection){m.current={x:de.clientX,y:de.clientY};const Bt=V.id,it=O;x.current=window.setTimeout(()=>{f.current=!0,x.current=null,c.onTogglePetalSelection?.(Bt,it,!0),navigator.vibrate?.(30)},500)}const Ie=c.isSelected&&c.selectedLayerId!=null,at=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ie||at){c.onBeginDragFromLayerPetal(V.id,O,de);return}c.onBeginDragFromLayerPetal(V.id,O,de)},onPointerMove:de=>{if(x.current&&m.current){const ze=de.clientX-m.current.x,Ue=de.clientY-m.current.y;Math.hypot(ze,Ue)>10&&(clearTimeout(x.current),x.current=null)}},onPointerUp:()=>{x.current&&(clearTimeout(x.current),x.current=null)},onDoubleClick:de=>{de.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(V.id)}}),V.doublePetal&&(()=>{const de=V.doublePetal,ze=X?.innerSizeReduction??de.innerSizeReduction??2,Ue=h*(K||1);if(Ue<=0)return null;const at=Math.max(Ue*.3,Ue-ze)/Ue,Dt=M,Bt=X?.innerColorId??de.innerColorId??X?.colorId??V.colorId,it=i.get(Bt)?.hex??q,dt=B*at,Zt=Q*at;return s.jsx("path",{d:Dt,transform:`scale(${dt} ${Zt})`,fill:it,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:V.locked?.55:.95,pointerEvents:"none"})})(),(me||z||c.isFlowerSelected)&&s.jsx("path",{d:M,transform:`scale(${B} ${Q})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${V.id}-${O}`)]},O)}),z&&!j&&s.jsx("circle",{r:T,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},V.id)}),c.isFlowerSelected&&s.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const V=r.center,E=A2(V.size),G=i.get(V.color)?.hex??"#D4A843",R=V.color2?i.get(V.color2)?.hex??"#C0C0C0":"#D4A843",K=Math.max(E,A);switch(V.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:E,fill:G,stroke:li(G,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:U})]});case"":{const Y=E*.42,Q=E,Z=E*.12,P=E*.13,S=E*.45,w=R,T=G;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((z,j)=>{const N=j/10*360,O=ya(N),X=Math.cos(O)*Q,k=Math.sin(O)*Q,M=-Math.sin(O)*Z,q=Math.cos(O)*Z,H=Math.cos(O)*Y,J=Math.sin(O)*Y;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+M).toFixed(2)} ${(J+q).toFixed(2)} L ${X.toFixed(2)} ${k.toFixed(2)} L ${(H-M).toFixed(2)} ${(J-q).toFixed(2)} Z`,fill:w,stroke:li(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:X,cy:k,r:P,fill:w,stroke:li(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},j)}),s.jsx("circle",{r:Y,fill:w,stroke:li(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:S,fill:T,stroke:li(T,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:U})]})}case"":{const B=V.pepCount??12,Y=E*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:B}).map((Q,Z)=>{const P=Z/B*360,S=ya(P),w=Math.cos(S)*E,T=Math.sin(S)*E;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:w,y2:T,stroke:G,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:w,cy:T,r:Math.max(Y,1),fill:G,stroke:li(G,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Z)})}),s.jsx("circle",{r:K,fill:"transparent",style:{cursor:D},onPointerDown:U})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:U})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:U})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const V=v.find(Y=>Y.id===c.selectedLayerId);if(!V||!V.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const G=V.scale??1,R=d*G,B=Math.max(0,V.radius-R*.28);return B<=0?null:s.jsx("circle",{r:B,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,y+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Mm(c){const{leaf:r,project:a,paletteMap:i}=c,x=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Kt(x),v=r.scale??1,h=f*v,d=m*(r.widthScale??1)*v,g=xs(r.petalType),y=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??rr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:A=>{if(A.stopPropagation(),A.button===0&&!r.locked){if(A.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(A)}},children:[s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:y,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const A=r.doublePetal,b=A.innerSizeReduction??2,D=x*(v||1);if(D<=0)return null;const C=Math.max(D*.3,D-b)/D,U=A.innerColorId??r.colorId,V=i.get(U)?.hex??y,E=h*C,G=d*C;return s.jsx("path",{d:g,transform:`scale(${E} ${G})`,fill:V,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&s.jsx("path",{d:g,transform:`scale(${h*1.06} ${d*1.06})`,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`),c.isSelected&&s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const ri=1350;function zm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:x,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:v,onSelectStencil:h}=c,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const g=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(y=>{const A=Sm(y.variant,y.pose),b=a===y.id,D=un,_=A.imageUrl?1:A.scaleX,C=g||!!y.locked;return s.jsx("g",{transform:`translate(${y.position.x} ${y.position.y}) scale(${D*_} ${D})`,style:{cursor:g?"default":y.locked?"pointer":nm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${y.id}`,onPointerDown:U=>{if(U.button!==0)return;if(C){h(y.id);return}if(U.stopPropagation(),h(y.id),!x.current)return;v.current=!0,x.current&&(x.current.style.cursor=lm("/tsumami/"));const E=m.current(U),G={...y.position},R=y.id;let K=G.x,B=G.y;const Y=Z=>{const P=m.current(Z),S=P.x-E.x,w=P.y-E.y;K=je(G.x+S,0,ri),B=je(G.y+w,0,ri),f.current(T=>{const z=(T.stencils??[]).find(j=>j.id===R);z&&(z.position.x=K,z.position.y=B)},!1)},Q=()=>{v.current=!1,x.current&&(x.current.style.cursor=""),document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q),d.current=null,f.current(Z=>{const P=(Z.stencils??[]).find(S=>S.id===R);P&&(P.position.x=K,P.position.y=B)},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",Q),d.current=()=>{v.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q)}},children:A.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:A.imageUrl,x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:A.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:A.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:A.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},y.id)})})}function Dm(c){const{project:r,selection:a,setSelection:i,paletteMap:x,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:v,stageRef:h,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:y,handleShiftFlowerSelect:A,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:_,beginRotationDrag:C,beginWidthScaleDrag:U,beginRadiusDrag:V,clickOriginRef:E,zoneActivatedRef:G,setZoneCursorValue:R,setTouchZoneIndicator:K,hoverZoneRef:B,hoverHitLayerIdRef:Y,hoverHitPetalIndexRef:Q}=c;return s.jsx(s.Fragment,{children:r.flowers.map(Z=>s.jsx(jm,{flower:Z,project:r,paletteMap:x,isSelected:a.kind!=="project"&&f===Z.id||a.kind==="flowers"&&a.flowerIds.includes(Z.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Z.id||a.kind==="flowers"&&a.flowerIds.includes(Z.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Z.id?a.petals:null,onSelect:()=>{const P=va(r,Z.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:P.id});return}i({kind:"flower",flowerId:Z.id})},onSelectLayer:P=>i({kind:"layer",flowerId:Z.id,layerId:P}),onSelectPetal:(P,S)=>i({kind:"petal",flowerId:Z.id,layerId:P,index:S}),onTogglePetalSelection:(P,S,w)=>y(Z.id,P,S,w),onShiftSelect:()=>A(Z.id),isGroupHighlighted:b.has(Z.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(P,S,w)=>{if(d.current)return;const T=va(r,Z.id);if(T&&!(a.kind==="group"&&a.groupId===T.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&T.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:T.id}),D(Z.id,w);return}const z=g(w),j=w.pointerType==="touch",N=a.kind==="flower"&&a.flowerId===Z.id||a.kind==="layer"&&a.flowerId===Z.id||a.kind==="petal"&&a.flowerId===Z.id||a.kind==="petals"&&a.flowerId===Z.id;if(j&&N){const{zone:k,layerId:M,petalIndex:q}=ai(z.x,z.y,Z,r,a),{length:H}=Kt(Z.fabricSquareSize??r.fabricSquareSize),J=w0(k,a.kind,{hitLayerId:M,flower:Z,length:H});if(J!=="none"&&J!=="center"&&J!=="move"){K({x:z.x,y:z.y,zone:J});const le=a.kind==="layer"?"layer":"flower",ce=a.kind==="layer"?a.layerId:P;switch(J){case"rotate":C(le,Z.id,w,{layerId:ce});return;case"scale":_(le,Z.id,w,{layerId:ce});return;case"width":U(le,Z.id,w,{layerId:ce,petalIndex:q});return;case"radius":V(le,Z.id,w,{layerId:ce});return}}D(Z.id,w,{layerId:P,index:S});return}const O=G.current;E.current={x:z.x,y:z.y},G.current=!1;const X=B.current;if(N&&(O||X!=="none"&&X!=="center")){const k=X,M=Y.current,q=Q.current,H=a.kind==="layer"?"layer":"flower",J=a.kind==="layer"?a.layerId:M??P;switch(k){case"rotate":C(H,Z.id,w,{layerId:J});return;case"scale":_(H,Z.id,w,{layerId:J});return;case"width":U(H,Z.id,w,{layerId:J,petalIndex:q});return;case"radius":V(H,Z.id,w,{layerId:J});return;default:R(kn("/tsumami/")),h.current&&(h.current.style.cursor=kn("/tsumami/")),D(Z.id,w,{layerId:P,index:S});return}}R(kn("/tsumami/")),h.current&&(h.current.style.cursor=kn("/tsumami/")),D(Z.id,w,{layerId:P,index:S})},onDoubleClick:()=>i({kind:"flower",flowerId:Z.id}),onPointerDown:P=>{if(d.current||P.button!==0)return;if(P.shiftKey){P.stopPropagation(),A(Z.id);return}const S=va(r,Z.id);if(S&&!(a.kind==="group"&&a.groupId===S.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&S.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:S.id}),D(Z.id,P);return}a.kind==="flower"&&a.flowerId===Z.id||a.kind==="layer"&&a.flowerId===Z.id||a.kind==="flowers"&&a.flowerIds.includes(Z.id)||i({kind:"flower",flowerId:Z.id});const T=g(P);E.current={x:T.x,y:T.y},G.current=!1,R(kn("/tsumami/")),h.current&&(h.current.style.cursor=kn("/tsumami/")),D(Z.id,P)},dashSyncToken:v},Z.id))})}function Nm(c){const{leaves:r,leafGroups:a,project:i,selection:x,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:v,zoneCursorValue:h,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:y,leafDraggingRef:A,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:_,onSelectLeaf:C,onSelectLeafGroup:U,onShiftSelectLeaf:V,hoverLeafZoneRef:E}=c,G=$.useRef(null);return $.useEffect(()=>()=>{G.current?.()},[]),s.jsx(s.Fragment,{children:r.map(R=>{if(!R.visible)return null;const K=x.kind==="leaf"&&x.leafId===R.id,B=x.kind==="leaves"&&x.leafIds?.includes(R.id),Y=v.has(R.id),Q=ci({leaves:r,leafGroups:a},R.id),Z=Q?.rotation??0;let P=R;if(Q&&Z!==0){const S=S2({leaves:r,leafGroups:a},Q.id),w=Z*Math.PI/180,T=R.position.x-S.x,z=R.position.y-S.y;P={...R,position:{x:S.x+T*Math.cos(w)-z*Math.sin(w),y:S.y+T*Math.sin(w)+z*Math.cos(w)},rotation:R.rotation+Z}}return s.jsx(Mm,{leaf:P,project:i,paletteMap:f,isSelected:K||B,isLeafGroupHighlighted:Y,dashSyncToken:m,cursor:K?h:void 0,onPointerDown:S=>{if(R.locked)return;S.stopPropagation();const w=y.current(S);if(Q&&!(x.kind==="leafGroup"&&x.leafGroupId===Q.id||x.kind==="leaf"&&Q.leafIds.includes(x.leafId))){U(Q.id),A.current=!0,b.current={x:w.x,y:w.y},D.current=!1,_(kn("/tsumami/")),d.current&&(d.current.style.cursor=kn("/tsumami/"));const O=w,X=Gd({leaves:r,leafGroups:a},R.id),k=new Map;for(const J of X){const le=r.find(ce=>ce.id===J);le&&k.set(J,{...le.position})}let M=!1;const q=J=>{const le=y.current(J),ce=le.x-O.x,fe=le.y-O.y;Math.abs(ce)+Math.abs(fe)>1&&(M=!0),g.current(xe=>{for(const[me,Se]of k){const de=(xe.leaves??[]).find(ze=>ze.id===me);de&&(de.position.x=je(Se.x+ce,0,ri),de.position.y=je(Se.y+fe,0,ri))}},!1)},H=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",H),M&&g.current(()=>{},!0)};document.addEventListener("pointermove",q),document.addEventListener("pointerup",H),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",H)};return}const T=K&&D.current;C(R.id),b.current={x:w.x,y:w.y},D.current=!1,_(kn("/tsumami/")),d.current&&(d.current.style.cursor=kn("/tsumami/"));const z=E.current,j=K&&(T||z!=="none")?z:"move";if(j!=="move"){const N=tr(j,"/tsumami/");_(N),d.current&&(d.current.style.cursor=N)}if(A.current=!0,j==="rotate"){const N=P.position,O=R.rotation,X=Math.atan2(w.y-N.y,w.x-N.x)*180/Math.PI;let k=!1;const M=H=>{const J=y.current(H),ce=Math.atan2(J.y-N.y,J.x-N.x)*180/Math.PI-X;Math.abs(ce)>.5&&(k=!0),g.current(fe=>{const xe=(fe.leaves??[]).find(me=>me.id===R.id);xe&&(xe.rotation=((O+ce)%360+360)%360)},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",M),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q)}}else if(j==="scale"){const N=P.position,O=R.scale??1,X=Math.max(1,Math.hypot(w.x-N.x,w.y-N.y));let k=!1;const M=H=>{const J=y.current(H),ce=Math.hypot(J.x-N.x,J.y-N.y)/X;Math.abs(ce-1)>.01&&(k=!0),g.current(fe=>{const xe=(fe.leaves??[]).find(me=>me.id===R.id);xe&&(xe.scale=je(O*ce,.3,3))},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",M),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q)}}else if(j==="width"){const N=P.position,O=R.rotation*Math.PI/180,X=-Math.sin(O),k=Math.cos(O),M=R.widthScale??1,q=Math.abs((w.x-N.x)*X+(w.y-N.y)*k),H=Math.max(1,q);let J=!1;const le=fe=>{const xe=y.current(fe),Se=Math.abs((xe.x-N.x)*X+(xe.y-N.y)*k)/H;Math.abs(Se-1)>.01&&(J=!0),g.current(de=>{const ze=(de.leaves??[]).find(Ue=>Ue.id===R.id);ze&&(ze.widthScale=je(M*Se,.3,3))},!1)},ce=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce),J&&g.current(()=>{},!0)};document.addEventListener("pointermove",le),document.addEventListener("pointerup",ce),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ce)}}else{const N=w,O=Gd({leaves:r,leafGroups:a},R.id),X=new Map;for(const H of O){const J=r.find(le=>le.id===H);J&&X.set(H,{...J.position})}let k=!1;const M=H=>{const J=y.current(H),le=J.x-N.x,ce=J.y-N.y;Math.abs(le)+Math.abs(ce)>1&&(k=!0),g.current(fe=>{for(const[xe,me]of X){const Se=(fe.leaves??[]).find(de=>de.id===xe);Se&&(Se.position.x=je(me.x+le,0,ri),Se.position.y=je(me.y+ce,0,ri))}},!1)},q=()=>{G.current=null,A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q),k&&g.current(()=>{},!0)};document.addEventListener("pointermove",M),document.addEventListener("pointerup",q),G.current=()=>{A.current=!1,document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",q)}}},onShiftSelect:()=>V(R.id)},R.id)})})}function Am({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Lm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ba=1350;function Tm(c){const{project:r,selection:a,setSelection:i,paletteMap:x,selectedFlowerId:f,setZoom:m,zoomLevel:v,setZoomLevel:h,ZOOM_LEVELS:d,setPan:g,showGrid:y,setShowGrid:A,setShowHelp:b,stageRef:D,viewBox:_,dashDelay:C,dashSyncToken:U,beginPan:V,updatePan:E,endPan:G,beginMarquee:R,updateMarquee:K,endMarquee:B,marqueeRef:Y,marqueeRect:Q,beginFlowerDrag:Z,updateFlowerDrag:P,endFlowerDrag:S,scaleDragRef:w,updateScaleDrag:T,endScaleDrag:z,rotationDragRef:j,updateRotationDrag:N,endRotationDrag:O,widthScaleDragRef:X,updateWidthScaleDrag:k,endWidthScaleDrag:M,radiusDragRef:q,updateRadiusDrag:H,endRadiusDrag:J,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:xe,togglePetalSelection:me,clientToSvgPoint:Se}=c,de=$.useRef(!1),ze=$.useRef(!1),Ue=$.useRef(c.applyUpdate),Ie=$.useRef(Se);$.useEffect(()=>{Ue.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{Ie.current=Se},[Se]);const[at,Dt]=$.useState(!1),Bt=$.useRef(null);$.useEffect(()=>{if(!at)return;const oe=qe=>{Bt.current&&!Bt.current.contains(qe.target)&&Dt(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[at]);const[it,dt]=$.useState("grab"),Zt=$.useRef("none"),sn=$.useRef("none"),Xn=$.useRef(void 0),Jn=$.useRef(void 0),Pe=$.useRef(null),_n=$.useRef(!0),Sl=5,el=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="leafGroup"?`leafGroup:${a.leafGroupId}`:a.kind==="group"?`group:${a.groupId}`:a.kind,tl=$.useRef(el);$.useEffect(()=>{el!==tl.current&&(tl.current=el,_n.current=!1,Pe.current=null,Zt.current="none",sn.current="none",Xn.current=void 0,Jn.current=void 0)},[el]);const[Cl,Pl]=$.useState(!1),Wn=$.useRef(!1),[si,On]=$.useState(null),Gt=5,Sn=10,ke=wm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:g,zoomLevel:v,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:D,endPan:G,endFlowerDrag:S,endMarquee:B,endRotationDrag:O,endScaleDrag:z,endWidthScaleDrag:M,endRadiusDrag:J});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ke.zoomAtCenter(1),disabled:v>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ke.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>A(oe=>!oe),title:"","aria-label":"","aria-pressed":y,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>ke.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Bt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${at?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>Dt(oe=>!oe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),at&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(oe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Vd[oe]}),["right","left","back"].map(qe=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(oe,qe),Dt(!1)},"data-testid":`stencil-add-${oe}-${qe}`,children:Pd[qe]},`${oe}-${qe}`))]},oe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),Dt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:y?"24px 1fr":"1fr",gridTemplateRows:y?"20px 1fr":"1fr"},children:[y&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),y&&(()=>{const[oe,,qe,Be]=_.split(/\s+/).map(Number),ye=un,ve=Math.max(qe,Be)/ye,De=[10,20,50,100,200,500,1e3].find(Le=>ve/Le<=15)??1e3,pe=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Fe=De<=10?5:De/2,Xe=Math.floor(oe/ye/pe)*pe-pe,Je=Math.ceil((oe+qe)/ye/pe)*pe+pe,We=[];for(let Le=Xe;Le<=Je;Le+=pe){const tt=(Le*ye-oe)/qe*100;if(tt<-2||tt>102)continue;const St=Math.abs(Le),Ce=St%De===0,$e=St%Fe===0,ht=Ce?10:$e?6:3;We.push(s.jsx("line",{x1:`${tt}%`,y1:20-ht,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:Ce?.8:.4},Le)),Ce&&We.push(s.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:We})})(),y&&(()=>{const[,oe,qe,Be]=_.split(/\s+/).map(Number),ye=un,ve=Math.max(qe,Be)/ye,De=[10,20,50,100,200,500,1e3].find(Le=>ve/Le<=15)??1e3,pe=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,Fe=De<=10?5:De/2,Xe=Math.floor(oe/ye/pe)*pe-pe,Je=Math.ceil((oe+Be)/ye/pe)*pe+pe,We=[];for(let Le=Xe;Le<=Je;Le+=pe){const tt=(Le*ye-oe)/Be*100;if(tt<-2||tt>102)continue;const St=Math.abs(Le),Ce=St%De===0,$e=St%Fe===0,ht=Ce?10:$e?6:3;We.push(s.jsx("line",{x1:24-ht,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:Ce?.8:.4},Le)),Ce&&We.push(s.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:We})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:_,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":C,cursor:Cl?"crosshair":"grab"},onDoubleClick:oe=>{oe.target===oe.currentTarget&&(Pl(qe=>!qe),i({kind:"project"}))},onPointerDown:oe=>{if(ke.multiTouchRef.current)return;if(oe.button===1){Wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),V(oe);return}if(oe.button!==0)return;const qe=oe.pointerType==="touch";if(qe&&oe.target===oe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const ye=r.flowers.find(ve=>ve.id===f);if(ye){const ve=Se(oe),{zone:Ae,layerId:De,petalIndex:pe}=ai(ve.x,ve.y,ye,r,a),{length:Fe}=Kt(ye.fabricSquareSize??r.fabricSquareSize),Xe=w0(Ae,a.kind,{hitLayerId:De,flower:ye,length:Fe});if(Xe!=="none"&&Xe!=="center"){On({x:ve.x,y:ve.y,zone:Xe});const Je=a.kind==="layer"?"layer":"flower",We=a.kind==="layer"?a.layerId:De;switch(Xe){case"rotate":ce(Je,f,oe,{layerId:We});return;case"scale":le(Je,f,oe,{layerId:We});return;case"width":fe(Je,f,oe,{layerId:We,petalIndex:pe});return;case"radius":xe(Je,f,oe,{layerId:We});return;case"move":Z(f,oe);return}}}}ke.setTouchBgStart({x:oe.clientX,y:oe.clientY}),V(oe);return}if(oe.target===oe.currentTarget&&f&&it!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const ye=Zt.current;if(ye!=="none"&&ye!=="center"){const ve=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(ye){case"rotate":ce(ve,f,oe,{layerId:Ae});return;case"scale":le(ve,f,oe,{layerId:Ae});return;case"width":fe(ve,f,oe,{layerId:Ae,petalIndex:Jn.current});return;case"radius":xe(ve,f,oe,{layerId:Ae});return;case"move":Z(f,oe);return}}}if(oe.target===oe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&it!=="grab"){const Be=sn.current;if(Be!=="none"){const ye=c.leaves.find(ve=>ve.id===c.selectedLeafId);if(ye){oe.preventDefault();const ve=Se(oe);if(ze.current=!0,Be==="rotate"){const Ae=ye.position,De=ye.rotation,pe=Math.atan2(ve.y-Ae.y,ve.x-Ae.x)*180/Math.PI,Fe=ye.id,Xe=tr(Be,"/tsumami/");dt(Xe),D.current&&(D.current.style.cursor=Xe);let Je=!1;const We=Nt=>{const tt=Se(Nt),Ce=Math.atan2(tt.y-Ae.y,tt.x-Ae.x)*180/Math.PI-pe;Math.abs(Ce)>.5&&(Je=!0),c.applyUpdate($e=>{const ht=($e.leaves??[]).find(At=>At.id===Fe);ht&&(ht.rotation=((De+Ce)%360+360)%360)},!1)},Le=()=>{ze.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Le),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Le);return}else if(Be==="scale"){const Ae=ye.position,De=ye.scale??1,pe=Math.max(1,Math.hypot(ve.x-Ae.x,ve.y-Ae.y)),Fe=ye.id,Xe=tr(Be,"/tsumami/");dt(Xe),D.current&&(D.current.style.cursor=Xe);let Je=!1;const We=Nt=>{const tt=Se(Nt),Ce=Math.hypot(tt.x-Ae.x,tt.y-Ae.y)/pe;Math.abs(Ce-1)>.01&&(Je=!0),c.applyUpdate($e=>{const ht=($e.leaves??[]).find(At=>At.id===Fe);ht&&(ht.scale=Math.max(.3,Math.min(3,De*Ce)))},!1)},Le=()=>{ze.current=!1,document.removeEventListener("pointermove",We),document.removeEventListener("pointerup",Le),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",We),document.addEventListener("pointerup",Le);return}else if(Be==="width"){const Ae=ye.position,De=ye.rotation*Math.PI/180,pe=-Math.sin(De),Fe=Math.cos(De),Xe=ye.widthScale??1,Je=Math.max(1,Math.abs((ve.x-Ae.x)*pe+(ve.y-Ae.y)*Fe)),We=ye.id,Le=tr(Be,"/tsumami/");dt(Le),D.current&&(D.current.style.cursor=Le);let Nt=!1;const tt=Ce=>{const $e=Se(Ce),At=Math.abs(($e.x-Ae.x)*pe+($e.y-Ae.y)*Fe)/Je;Math.abs(At-1)>.01&&(Nt=!0),c.applyUpdate(_a=>{const on=(_a.leaves??[]).find(gt=>gt.id===We);on&&(on.widthScale=Math.max(.3,Math.min(3,Xe*At)))},!1)},St=()=>{ze.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",St),Nt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",St);return}else{const Ae=ve,De={...ye.position},pe=ye.id;dt(kn("/tsumami/")),D.current&&(D.current.style.cursor=kn("/tsumami/"));let Fe=!1;const Xe=We=>{const Le=Se(We),Nt=Le.x-Ae.x,tt=Le.y-Ae.y;Math.abs(Nt)+Math.abs(tt)>1&&(Fe=!0),c.applyUpdate(St=>{const Ce=(St.leaves??[]).find($e=>$e.id===pe);Ce&&(Ce.position.x=Math.max(0,Math.min(ba,De.x+Nt)),Ce.position.y=Math.max(0,Math.min(ba,De.y+tt)))},!1)},Je=()=>{ze.current=!1,document.removeEventListener("pointermove",Xe),document.removeEventListener("pointerup",Je),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Xe),document.addEventListener("pointerup",Je);return}}}}if(oe.target===oe.currentTarget){qe?(ke.setTouchBgStart({x:oe.clientX,y:oe.clientY}),V(oe)):Cl?R(oe):(ke.setMouseBgStart({x:oe.clientX,y:oe.clientY}),Wn.current=!0,D.current&&(D.current.style.cursor="grabbing"),V(oe));return}},onPointerMove:oe=>{if(de.current||ze.current)return;if(Y.current){K(oe);return}if(j.current){N(oe);return}if(w.current){T(oe);return}if(X.current){k(oe);return}if(q.current){H(oe);return}P(oe),E(oe);const qe=!!c.dragRef?.current||!!Y.current||!!j.current||!!w.current||!!X.current||!!q.current||Wn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!qe&&Be){const ye=r.flowers.find(ve=>ve.id===f);if(ye){const ve=Se(oe);if(Pe.current&&!_n.current){if(Math.hypot(ve.x-Pe.current.x,ve.y-Pe.current.y)<Sl){const{zone:Le}=ai(ve.x,ve.y,ye,r,a);Le==="center"&&(dt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}_n.current=!0,Pe.current=null}const{zone:Ae,layerId:De,petalIndex:pe}=ai(ve.x,ve.y,ye,r,a),{length:Fe}=Kt(ye.fabricSquareSize??r.fabricSquareSize),Xe=w0(Ae,a.kind,{hitLayerId:De,flower:ye,length:Fe});Xe!=="none"&&(Zt.current=Xe,Xn.current=De,Jn.current=pe);const Je=Od(Xe,"/tsumami/");dt(Je),D.current&&(D.current.style.cursor=Je)}}if(!qe&&a.kind==="leaf"&&c.selectedLeafId){const ye=c.leaves.find(ve=>ve.id===c.selectedLeafId);if(ye){const ve=Se(oe);if(Pe.current&&!_n.current){if(Math.hypot(ve.x-Pe.current.x,ve.y-Pe.current.y)<Sl)return;_n.current=!0,Pe.current=null}const Ae=tm(ve.x,ve.y,ye,r);Ae!=="none"&&(sn.current=Ae);const De=tr(Ae,"/tsumami/");dt(De),D.current&&(D.current.style.cursor=De)}}},onPointerUp:oe=>{if(!de.current&&!ze.current){if(On(null),Y.current&&Cl&&Pl(!1),B(),O(),z(),M(),J(),S(),G(),Wn.current&&(Wn.current=!1,D.current&&(D.current.style.cursor=Cl?"crosshair":"grab")),ke.touchBgStartRef.current&&oe.pointerType==="touch"){const qe=oe.clientX-ke.touchBgStartRef.current.x,Be=oe.clientY-ke.touchBgStartRef.current.y;Math.hypot(qe,Be)<Sn&&i({kind:"project"}),ke.setTouchBgStart(null);return}if(ke.setTouchBgStart(null),ke.mouseBgStartRef.current&&oe.pointerType==="mouse"){const qe=oe.clientX-ke.mouseBgStartRef.current.x,Be=oe.clientY-ke.mouseBgStartRef.current.y;if(ke.setMouseBgStart(null),Math.hypot(qe,Be)<Gt){i({kind:"project"});return}}if(ke.setMouseBgStart(null),f){const qe=r.flowers.find(Be=>Be.id===f);if(qe){const Be=Se(oe);if(Pe.current&&Math.hypot(Be.x-Pe.current.x,Be.y-Pe.current.y)<Sl){const{zone:Je}=ai(Be.x,Be.y,qe,r,a);Je==="center"&&(dt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:ye,layerId:ve,petalIndex:Ae}=ai(Be.x,Be.y,qe,r,a),{length:De}=Kt(qe.fabricSquareSize??r.fabricSquareSize),pe=w0(ye,a.kind,{hitLayerId:ve,flower:qe,length:De});pe!=="none"&&(Zt.current=pe,Xn.current=ve,Jn.current=Ae);const Fe=Od(pe,"/tsumami/");dt(Fe),D.current&&(D.current.style.cursor=Fe)}}}},onPointerLeave:()=>{B(),O(),z(),M(),J(),S(),G(),Wn.current=!1,ke.setTouchBgStart(null),ke.setMouseBgStart(null),dt("grab"),Pe.current=null,_n.current=!0,Zt.current="none",sn.current="none",Xn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[oe,qe,Be,ye]=_.split(/\s+/).map(Number),ve=ba;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:oe,y:qe,width:Be,height:ye,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ve,height:ve,fill:"black"})]})}),s.jsx("rect",{x:oe,y:qe,width:Be,height:ye,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ba,height:ba,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ba,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ba,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),y&&(()=>{const oe=un,[qe,Be,ye,ve]=_.split(/\s+/).map(Number),Ae=Math.max(ye,ve)/oe,pe=[10,20,50,100,200,500,1e3].find($e=>Ae/$e<=15)??1e3,Fe=Math.floor(qe/oe/pe)*pe-pe,Xe=Math.ceil((qe+ye)/oe/pe)*pe+pe,Je=Math.floor(Be/oe/pe)*pe-pe,We=Math.ceil((Be+ve)/oe/pe)*pe+pe,Le=Je*oe,Nt=We*oe,tt=Fe*oe,St=Xe*oe,Ce=[];for(let $e=Fe;$e<=Xe;$e+=pe){const ht=$e*oe;Ce.push(s.jsx("line",{x1:ht,y1:Le,x2:ht,y2:Nt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${$e}`))}for(let $e=Je;$e<=We;$e+=pe){const ht=$e*oe;Ce.push(s.jsx("line",{x1:tt,y1:ht,x2:St,y2:ht,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${$e}`))}return s.jsx("g",{children:Ce})})(),s.jsx(zm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ue,clientToSvgPointRef:Ie,stencilDraggingRef:de,onSelectStencil:c.onSelectStencil}),s.jsx(Dm,{project:r,selection:a,setSelection:i,paletteMap:x,selectedFlowerId:f,zoneCursorValue:it,dashSyncToken:U,stageRef:D,multiTouchRef:ke.multiTouchRef,clientToSvgPoint:Se,togglePetalSelection:me,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Z,beginScaleDrag:le,beginRotationDrag:ce,beginWidthScaleDrag:fe,beginRadiusDrag:xe,clickOriginRef:Pe,zoneActivatedRef:_n,setZoneCursorValue:dt,setTouchZoneIndicator:On,hoverZoneRef:Zt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),s.jsx(Nm,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:x,dashSyncToken:U,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:it,stageRef:D,applyUpdateRef:Ue,clientToSvgPointRef:Ie,leafDraggingRef:ze,clickOriginRef:Pe,zoneActivatedRef:_n,setZoneCursorValue:dt,onSelectLeaf:c.onSelectLeaf,onSelectLeafGroup:c.onSelectLeafGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:sn}),s.jsx(Am,{rect:Q}),s.jsx(Lm,{indicator:si})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(c,r,a){return Math.min(a,Math.max(r,c))}function Ze({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:x,className:f,...m}){const[v,h]=$.useState(null),d=$.useRef(null),g=$.useCallback(b=>{const D=Number(b);isNaN(D)||r(Hd(D,a,i)),h(null)},[r,a,i]),y=$.useCallback(()=>{h(null)},[]),A=$.useCallback(b=>{const D=x??1,C=(Number(v??c)||0)+D*b,U=Hd(C,a,i),V=String(D).includes(".")?String(D).split(".")[1].length:0,E=Number(U.toFixed(V));h(String(E)),r(E)},[v,c,x,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(c),onChange:b=>h(b.target.value),onFocus:b=>{h(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{v!==null&&g(v)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),v!==null&&g(v),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),y(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),A(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),A(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),A(-1)},children:""})]})]})}function sr({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Em({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=$.useMemo(()=>{const C=[...c.layers||[]].sort((Q,Z)=>Q.order-Z.order);if(C.length<2)return{mode:"uniform",step:2};const U=C.map(Q=>Q.scale??1);if(U.every(Q=>Math.abs(Q-U[0])<.001))return{mode:"uniform",step:2};const E=C[0],G=C[C.length-1],R=(G.order??1)-(E.order??1);if(R<=0)return{mode:"gradual",step:2};const B=((E.scale??1)-(G.scale??1))/R,Y=Math.round(B*r*2)/2;return{mode:"gradual",step:je(Y,0,10)}},[c.id]),[m,v]=$.useState(f.mode),[h,d]=$.useState(f.step),[g,y]=$.useState(0);$.useEffect(()=>{v(f.mode),d(f.step),y(0)},[f]);const A=$.useMemo(()=>[...c.layers||[]].sort((C,U)=>C.order-U.order),[c.layers]),b=A[0],D=b?b.order:0,_=$.useMemo(()=>{if(!b)return[];const C=b.scale??1,U=b.radius,V=new Map;for(const Q of A){const Z=Q.order-D;if(Z===0)V.set(Q.id,C);else if(m==="uniform")V.set(Q.id,C);else{const P=h/r;V.set(Q.id,je(C-Z*P,.3,3))}}const{length:E}=Kt(r),G=A.length,R=70*Math.PI/180,K=new Map;let B=U;K.set(b.id,U);for(let Q=1;Q<G;Q++){const Z=A[Q-1],P=V.get(Z.id)??1,S=E*P;let w;if(a===""){const T=G-1-Q,z=G>1?T/(G-1)*R:0;w=S*(30/100)*Math.cos(z)}else w=S/3;B=B-w,K.set(A[Q].id,Math.max(2,B))}const Y=A.map(Q=>{const Z=V.get(Q.id)??1,P=Math.round((K.get(Q.id)??U)*10)/10,S=Math.round(r*Z*10)/10;return{id:Q.id,name:Q.name,order:Q.order,effScale:Z,effFabricSize:S,effRadius:P}});if(Y.length>0){const Q=Y[Y.length-1],Z=E*Q.effScale,P=Math.floor(Z*.28*10)/10;Q.effRadius>P&&(Q.effRadius=P)}return Y},[A,b,D,m,h,30,r,a]);return $.useEffect(()=>{g!==0&&(!b||_.length===0||i(C=>{const U=C.flowers.find(E=>E.id===c.id);if(!U)return;for(const E of _){const G=U.layers.find(R=>R.id===E.id);G&&(G.scale=je(E.effScale,.3,3),G.radius=je(E.effRadius,2,120))}const V=[...U.layers].sort((E,G)=>G.order-E.order);for(let E=1;E<V.length;E++){const G=V[E-1],R=V[E];R.offsetAngle=$n(G.petalCount,G.offsetAngle,R.petalCount)}}))},[g]),A.length<2?null:s.jsxs(sr,{title:"",children:[s.jsxs(ys,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:C=>{v(C.target.value),y(U=>U+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(ys,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:C=>{d(C),y(U=>U+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),_.map(C=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:C.name}),s.jsxs("span",{children:[" ",C.effFabricSize,"mm /  ",Math.round(lr(C.effRadius,C.effScale,r)),"mm"]})]},C.id))]})]})}const Fd="tsumami_recent_colors_v1",qs=10;function qm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const x of i.petalOverrides)x.colorId&&r.add(x.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function js(){try{const c=localStorage.getItem(Fd);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qs)}}catch{}return[]}function Bm(c){try{localStorage.setItem(Fd,JSON.stringify(c.slice(0,qs)))}catch{}}function Gm(c){const r=js(),a=[c,...r.filter(i=>i!==c)].slice(0,qs);Bm(a)}function Zn({palette:c,project:r,selectedColorId:a,onChange:i,size:x="md"}){const[f,m]=$.useState(!1),v=$.useRef(null),[h,d]=$.useState(js);$.useEffect(()=>{if(!f)return;const _=C=>{v.current&&!v.current.contains(C.target)&&m(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[f]);const g=$.useMemo(()=>qm(r),[r]),y=$.useMemo(()=>{const _=new Set;_.add(a);for(const C of g)_.add(C);for(const C of h)_.add(C);return c.filter(C=>_.has(C.id))},[c,a,g,h]),A=$.useCallback(_=>{Gm(_),d(js()),i(_)},[i]),b=x==="sm"?"h-4 w-4":"h-5 w-5",D=f?c:y;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(_=>s.jsx("button",{className:`${b} rounded border-2 ${a===_.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:_.hex},title:_.name,"aria-label":`: ${_.name}`,onClick:()=>A(_.id)},_.id)),c.length>y.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(_=>!_),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:x==="sm"?8:10,height:x==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Rm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(i=>{const x=a.layers.every(f=>f.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${x?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(v=>v.id===a.id);if(m)for(const v of m.layers)v.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Xd.map(i=>{const x=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${x===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{x!==i&&r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const v=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=nr(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),T2(m.layers,v,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ze,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[nr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(x=>{const f=x.flowers.find(h=>h.id===a.id);if(!f)return;const m=ui(i);for(const h of f.layers)h.petalCount=i,h.widthScale=m;const v=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<v.length;h++)v[h].offsetAngle=$n(v[h-1].petalCount,v[h-1].offsetAngle,v[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(x=>{const f=x.flowers.find(v=>v.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=nr(i));const m=[...f.layers].sort((v,h)=>v.order-h.order);Z0(m,f.fabricSquareSize??x.fabricSquareSize,i);for(const v of m){const h=f.layers.find(d=>d.id===v.id);h&&(h.radius=v.radius,h.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const v=m._doublePetalCache;m.doublePetal=v??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],x=i.length===1?i[0]:null,f=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],m=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:x??"",placeholder:"",onChange:v=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=je(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:m??"",onChange:v=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(v===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:O2.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(x=>{const f=x.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const x=i.flowers.find(f=>f.id===a.id);x&&delete x.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const x=i.flowers.find(f=>f.id===a.id);x&&(x.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Em,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function km({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:x,onAddToGroup:f,onMergeGroups:m}){const v=a,h=[...new Set(v.flatMap(y=>y.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,g=y=>{r(A=>{for(const b of v){const D=A.flowers.find(_=>_.id===b.id);D&&y(D)}},!0)};return s.jsxs(sr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>g(A=>{for(const b of A.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(A=>{for(const b of A.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const A=ui(y);g(b=>{for(const _ of b.layers)_.petalCount=y,_.widthScale=A;const D=[...b.layers].sort((_,C)=>C.order-_.order);for(let _=1;_<D.length;_++)D[_].offsetAngle=$n(D[_-1].petalCount,D[_-1].offsetAngle,D[_].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),(()=>{const y=v.map(C=>va(c,C.id)),A=v.filter(C=>!va(c,C.id)).map(C=>C.id),b=[...new Set(y.filter(Boolean).map(C=>C.id))],D=A.length===v.length,_=b.length===1&&y.every(C=>C!=null);return s.jsxs(s.Fragment,{children:[D&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(v.map(C=>C.id)),children:""}),_&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(b[0]),children:""}),b.length===1&&A.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],A),children:[" (+",A.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,A),children:[" (",b.length,"",A.length>0?` +${A.length}`:"",")"]})]})})()]})}function Om({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:x,onUngroupFlowers:f}){const m=i.find(y=>y.id===x);if(!m)return null;const v=a,h=[...new Set(v.flatMap(y=>y.layers.map(A=>A.petalType)))],d=h.length===1?h[0]:null,g=y=>{r(A=>{for(const b of v){const D=A.flowers.find(_=>_.id===b.id);D&&y(D)}},!0)};return s.jsxs(sr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:y=>r(A=>{const b=(A.groups??[]).find(D=>D.id===m.id);b&&(b.name=y.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(y=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:y.hex},title:y.name,onClick:()=>g(A=>{for(const b of A.layers)b.colorId=y.id})},y.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(A=>{for(const b of A.layers)b.petalType=y}),children:y},y))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:y=>{const A=ui(y);g(b=>{for(const _ of b.layers)_.petalCount=y,_.widthScale=A;const D=[...b.layers].sort((_,C)=>C.order-_.order);for(let _=1;_<D.length;_++)D[_].offsetAngle=$n(D[_-1].petalCount,D[_-1].offsetAngle,D[_].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(y=>s.jsxs("div",{children:[y.name," (",y.layers.length,")"]},y.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Ym({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.name=x.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(x=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===x?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.petalType=x)}),children:x},x))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:5,max:24,value:i.petalCount,onChange:x=>{r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);if(v){v.petalCount=x,v.widthScale=ui(x);const h=[...m.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=$n(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:1,max:200,step:.5,value:Math.round(lr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.radius=je(L2(x,v.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:x=>r(f=>{const m=f.flowers.find(y=>y.id===a.id);if(!m)return;const v=m.layers.find(y=>y.id===i.id);if(!v)return;const h=m.fabricSquareSize??f.fabricSquareSize;v.scale=je(Math.round(x/h*100)/100,.3,3);const d=[...m.layers].sort((y,A)=>y.order-A.order),g=d.findIndex(y=>y.id===v.id);if(g>=0)for(let y=g-1;y>=0;y--){const A=d[y],b=d[y+1],_=Kt(h).length*(b.scale??1)/3;A.radius=Math.round((b.radius+_)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.scale=x)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.widthScale=x)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{value:Number(i.offsetAngle??0).toFixed(1),onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.offsetAngle=x)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.colorId=x)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);if(v)if(x.target.checked){const h=v._doublePetalCache;v.doublePetal=h??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=je(x,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v?.doublePetal&&(x===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=x)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.visible=x.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:x=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const v=m.layers.find(h=>h.id===i.id);v&&(v.locked=x.target.checked)})}),""]})]})]})]})}function Hm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const x=i,f=x.map(C=>{const U=a.layers.find(V=>V.id===C.layerId);return{...C,layer:U}}).filter(C=>C.layer!=null),m=(C,U)=>{const V=a.layers.find(G=>G.id===C);return V?(V?.petalOverrides?.find(G=>G.index===U)??null)?.colorId??V.colorId:null},v=(C,U)=>{const V=a.layers.find(G=>G.id===C);return V?(V?.petalOverrides?.find(G=>G.index===U)??null)?.petalType??V.petalType:null},h=f.map(C=>m(C.layerId,C.index)),d=f.map(C=>v(C.layerId,C.index)),g=h.length>0&&h.every(C=>C===h[0]),A=d.length>0&&d.every(C=>C===d[0])?d[0]:null,b=C=>{r(U=>{const V=U.flowers.find(E=>E.id===a.id);if(V)for(const E of x){const G=V.layers.find(K=>K.id===E.layerId);if(!G)continue;G.petalOverrides||(G.petalOverrides=[]);const R=G.petalOverrides.find(K=>K.index===E.index);if(R)C.colorId!==void 0&&(C.colorId===G.colorId?delete R.colorId:R.colorId=C.colorId),C.petalType!==void 0&&(C.petalType===G.petalType?delete R.petalType:R.petalType=C.petalType),!R.colorId&&!R.petalType&&(G.petalOverrides=G.petalOverrides.filter(K=>K.index!==E.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0));else{const K={index:E.index};C.colorId!==void 0&&C.colorId!==G.colorId&&(K.colorId=C.colorId),C.petalType!==void 0&&C.petalType!==G.petalType&&(K.petalType=C.petalType),(K.colorId!==void 0||K.petalType!==void 0)&&G.petalOverrides.push(K)}}},!0)},D=()=>{r(C=>{const U=C.flowers.find(V=>V.id===a.id);if(U)for(const V of x){const E=U.layers.find(G=>G.id===V.layerId);!E||!E.petalOverrides||(E.petalOverrides=E.petalOverrides.filter(G=>G.index!==V.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0))}},!0)},_=f.some(C=>C.layer?.petalOverrides?.find(U=>U.index===C.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",x.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[x.length,"",_&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(C=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&h[0]===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>b({colorId:C.id})},C.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(C=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${A===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:C}),children:C},C))})]}),_&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Um({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:x}){const f=i?.petalOverrides?.find(y=>y.index===x)??null,m=f?.colorId??i.colorId,v=f?.petalType??i.petalType,h=f!=null,d=y=>{r(A=>{const b=A.flowers.find(C=>C.id===a.id);if(!b)return;const D=b.layers.find(C=>C.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const _=D.petalOverrides.find(C=>C.index===x);if(_)y.colorId!==void 0&&(_.colorId=y.colorId),y.petalType!==void 0&&(_.petalType=y.petalType),y.innerColorId!==void 0&&(_.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(_.innerSizeReduction=y.innerSizeReduction),_.colorId!==void 0||_.petalType!==void 0||_.innerColorId!==void 0||_.innerSizeReduction!==void 0?(_.colorId===void 0&&delete _.colorId,_.petalType===void 0&&delete _.petalType,_.innerColorId===void 0&&delete _.innerColorId,_.innerSizeReduction===void 0&&delete _.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(U=>U.index!==x),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const C={index:x};y.colorId!==void 0&&(C.colorId=y.colorId),y.petalType!==void 0&&(C.petalType=y.petalType),y.innerColorId!==void 0&&(C.innerColorId=y.innerColorId),y.innerSizeReduction!==void 0&&(C.innerSizeReduction=y.innerSizeReduction),(C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0)&&D.petalOverrides.push(C)}},!0)},g=()=>{r(y=>{const A=y.flowers.find(D=>D.id===a.id);if(!A)return;const b=A.layers.find(D=>D.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==x),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",x+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:m,onChange:y=>{y===i.colorId?d({colorId:void 0}):d({colorId:y})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(y=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===y?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{y===i.petalType?d({petalType:void 0}):d({petalType:y})},children:y},y))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:y=>r(A=>{const b=A.flowers.find(_=>_.id===a.id);if(!b)return;const D=b.layers.find(_=>_.id===i.id);if(D)if(y.target.checked){const _=D._doublePetalCache;D.doublePetal=_??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const y=i.doublePetal,A=f?.innerSizeReduction??y.innerSizeReduction,b=f?.innerColorId??y.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ze,{min:1,max:30,step:1,value:A,onChange:D=>{const _=je(D,1,30);_===y.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:_})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:D=>{const _=y.innerColorId??i.colorId;d(D===_?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Im({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const x=a,f=m=>{r(v=>{const h=(v.stencils??[]).find(d=>d.id===x.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:x.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Vd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:x.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Pd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!x.locked,onChange:m=>f({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(x.position.x/2.7),"mm, ",Math.round(x.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(x.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Km({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:x,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const v=a,h=g=>{r(y=>{const A=(y.leaves??[]).find(b=>b.id===v.id);A&&g(A)},!0)},d=ci(c,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:g=>h(y=>{y.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(y=>{y.petalType=g}),children:g},g))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.colorId,onChange:g=>h(y=>{y.colorId=g})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ze,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??c.fabricSquareSize)*(v.scale??1)*10)/10,onChange:g=>h(y=>{const A=y.fabricSquareSize??c.fabricSquareSize;y.scale=je(Math.round(g/A*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:g=>h(y=>{y.scale=g})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ze,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:g=>h(y=>{y.widthScale=g})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ze,{value:Number(v.rotation).toFixed(1),onChange:g=>h(y=>{y.rotation=g})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:g=>h(y=>{if(g.target.checked){const A=y._doublePetalCache;y.doublePetal=A??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:g=>h(y=>{y.doublePetal&&(y.doublePetal.innerSizeReduction=je(g,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:g=>h(y=>{y.doublePetal&&(g===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=g)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:g=>h(y=>{y.visible=g.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:g=>h(y=>{y.locked=g.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(v.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(v.id,g.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>x(v.id),children:""})]})]})}function Zm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:x,onAddLeavesToGroup:f,onMergeLeafGroups:m}){const v=(c.leaves??[]).filter(h=>a.includes(h.id));return v.length===0?null:s.jsxs(sr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:h=>r(d=>{for(const g of a){const y=(d.leaves??[]).find(A=>A.id===g);y&&(y.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(d=>{for(const g of a){const y=(d.leaves??[]).find(A=>A.id===g);y&&(y.petalType=h)}},!0),children:h},h))}),(()=>{const h=v.map(b=>ci(c,b.id)),d=v.filter(b=>!ci(c,b.id)).map(b=>b.id),g=[...new Set(h.filter(Boolean).map(b=>b.id))],y=d.length===v.length,A=g.length===1&&h.every(b=>b!=null);return s.jsxs(s.Fragment,{children:[y&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),A&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>x(g[0]),children:""}),g.length===1&&d.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(g[0],d),children:[" (+",d.length,")"]}),g.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(g,d),children:[" (",g.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function Xm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const x=a,f=(c.leaves??[]).filter(m=>x.leafIds.includes(m.id));return s.jsxs(sr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:x.name,onChange:m=>r(v=>{const h=(v.leafGroups??[]).find(d=>d.id===x.id);h&&(h.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ze,{value:Number(x.rotation).toFixed(1),onChange:m=>r(v=>{const h=(v.leafGroups??[]).find(d=>d.id===x.id);h&&(h.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:x.linkedFlowerGroupId??"",onChange:m=>r(v=>{const h=(v.leafGroups??[]).find(d=>d.id===x.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(x.id),children:""})]})}function Jm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:x,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:v,selectedPetals:h}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ze,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Vl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Vl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(g=>g.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&x&&s.jsx(Rm,{project:r,applyUpdate:i,selectedFlower:x}),a.kind==="flowers"&&f.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&x&&m&&s.jsx(Ym,{project:r,applyUpdate:i,selectedFlower:x,selectedLayer:m}),a.kind==="petals"&&x&&h.length>0&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:x,selectedPetals:h}),a.kind==="petal"&&x&&m&&v!==null&&s.jsx(Um,{project:r,applyUpdate:i,selectedFlower:x,selectedLayer:m,selectedPetalIndex:v}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Im,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Km,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Zm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(Xm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!x?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Wm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Vl(c.baseDiameter,c.fabricSquareSize,r).diameter:ir(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Qm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?z2(c.flowerDiameter,c.baseDiameter,r):M2(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Vm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:x}){const f=h=>{a(d=>{const g={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Wm(g),g})},m=h=>{a(d=>{const g={...d,flowerDiameter:h};return g.fabricSquareSize=Qm(g),g})},v=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&v.push("");const h=D2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&v.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:x,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Xd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>f({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ze,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:x,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function Gn(c,r){c=c-257;const a=Y0();let i=a[c];if(Gn.uIPGME===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Gn.GaFLYc=x,Gn.lsZBbA={},Gn.uIPGME=!0}const f=a[0],m=c+f,v=Gn.lsZBbA[m];if(v)i=v;else{const h=function(d){this.kGGyti=d,this.ssDlcu=[1,0,0],this.JzMGCU=function(){return"newState"},this.MNccwx="\\w+ *\\(\\) *{\\w+ *",this.ugLPIt=`['|"].+['|"];? *}`};h.prototype.pkCQkH=function(){const d=new RegExp(this.MNccwx+this.ugLPIt),g=d.test(this.JzMGCU.toString())?--this.ssDlcu[1]:--this.ssDlcu[0];return this.YepHTT(g)},h.prototype.YepHTT=function(d){return~d?this.sDTYuU(this.kGGyti):d},h.prototype.sDTYuU=function(d){for(let g=0,y=this.ssDlcu.length;g<y;g++)this.ssDlcu.push(Math.round(Math.random())),y=this.ssDlcu.length;return d(this.ssDlcu[0])},new h(Gn).pkCQkH(),i=Gn.GaFLYc(i),Gn.lsZBbA[m]=i}return i}const X0=Gn;(function(c,r){const a=Gn,i=c();for(;;)try{if(parseInt(a(274))/1*(-parseInt(a(331))/2)+parseInt(a(269))/3*(-parseInt(a(289))/4)+parseInt(a(325))/5*(-parseInt(a(296))/6)+-parseInt(a(329))/7+parseInt(a(300))/8*(parseInt(a(316))/9)+parseInt(a(268))/10*(-parseInt(a(301))/11)+parseInt(a(294))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,319592);const Pm=(function(){let c=!0;return function(r,a){const i=c?function(){const x=Gn;if(a){const f=a[x(314)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ms=Pm(void 0,function(){const c=Gn;return Ms.toString()[c(291)](c(285)).toString()[c(328)](Ms).search("(((.+)+)+)+$")});function Y0(){const c=["BNvTyMvY","y29SlxjLC2L6zq","CgrTruK","Bwf0y2HnzwrPyq","BwLU","yxbWBhK","rMjPwfq","mtaWohfMBNPUEq","EhHgzNi","EMvHzM0","uMLMy2S","qMfwsuC","D2LKDgG","y2XPzw50wa","z2f0s0O","DxnLCLnLBgvJDa","mtG1mdv6tMvcyLy","BM9Uzq","z1jAsge","y29UC3rYDwn0B3i","ndm2mZC2nuHKrM9OvW","Cg9PBNrLCNvW","mtiYnKH4AxPmDW","CMLNAhq","Cg9PBNrLCM1VDMu","s3PqqLm","A3nvuw4","m3WYFdb8nxW0Fde","zvL1y2O","y3vYC29Y","uM92Cvi","C3rHCNrxAwr0Ahm","u2fzuuy","Bwf4","z2v0qM91BMrPBMDdBgLLBNrszwn0","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","EevQwve","mtb3Cw5otNC","mtv6uM14tgO","CMvTB3zLrxzLBNrmAxn0zw5LCG","sMPREum","yM9KEq","ug1kwKO","nZy5zLn6q09U","z2v0sxrLBq","wu5otLC","C2v0sxrLBq","BM1hrKW","EK1uwMe","vwHprwW","DgDirui","tufZBuC","uuzqu2C","rNPrBK8","kcGOlISPkYKRksSK","C3bSAxq","ywrHwuC","Ag11Du0","mZmWnZqWs3jur2rL","rujttgW","C2vHCMnO","C2LKzq","Bwf0y2HLCW","mJC2odi4mJrXDxzcwg8","Aw11ruO","mZCYzLfwC2LH","tejiwfG","rerNwMy","u3frsKm","mZi3mMPtAe5zDq","mZi0otGYowrMDKT3wq","C3r5Bgu","ywrKrxzLBNrmAxn0zw5LCG","kg1PBI13Awr0AdOGnZy4ChGP","y3vYCMvUDa","DwrLCei","EunxqMi","BgvMDa"];return Y0=function(){return c},Y0()}Ms();const $d=X0(266),e1={left:25,right:25},zs=15,Ds=15,cr=30;function Fm(){const c=X0,r={MAsmG:function(a,i){return a-i},mXRkm:function(a,i){return a!==i},VOOKl:c(263),JSnVY:function(a,i){return a===i},udepB:function(a,i){return a>=i},FRUSj:function(a,i){return a>=i},NGtnM:function(a,i){return a===i},pdwEV:c(317)};try{const a=localStorage.getItem($d);if(a)if(r.mXRkm("SaYQF",r.VOOKl)){const i=_0x14e608[c(262)].left+_0x15ba6f,x=r[c(282)](100,_0x1aae3f[c(262)].right)-_0x1b1f6c;_0x3fe854(_0x484daa(_0x520b77[c(313)](i,x),_0x1897af.startWidths[c(332)]))}else{const i=JSON.parse(a);if(r.JSnVY(typeof i.left,c(309))&&r.JSnVY(typeof i.right,"number")&&i.left>=zs&&r[c(306)](i.right,Ds)&&r.FRUSj(r[c(282)](r.MAsmG(100,i[c(308)]),i[c(332)]),cr))return r.NGtnM(r.pdwEV,c(261))?_0x3db248:i}}catch{}return e1}function Ud(c,r){const a=X0,i={FbiXT:function(v,h){return v===h},ksUQn:"number",eYucj:function(v,h){return v>=h},hmuuM:function(v,h){return v-h},cPHEI:a(281),tLHxH:a(334),PYBLS:function(v,h){return v/h},BRHXP:function(v,h){return v*h}};let x=Math.max(zs,c),f=Math[a(264)](Ds,r);const m=i[a(288)](100-x,f);if(m<cr)if(i.cPHEI===i.tLHxH){const v=_0x2bedfa[a(275)](_0x49e7e1);if(v){const h=_0x59c2fa.parse(v);if(mAUYRz.FbiXT(typeof h.left,mAUYRz[a(257)])&&mAUYRz[a(315)](typeof h.right,mAUYRz[a(257)])&&mAUYRz.eYucj(h.left,_0x2710fe)&&mAUYRz[a(259)](h.right,_0x282075)&&mAUYRz.eYucj(100-h.left-h[a(332)],_0x3a0891))return h}}else{const v=cr-m;x-=v/2,f-=v/2,x=Math[a(264)](zs,x),f=Math.max(Ds,f)}return{left:Math.round(x*100)/100,right:i.PYBLS(Math.round(i.BRHXP(f,100)),100)}}function $m(){const c=X0,r={imuEJ:function(D,_){return D-_},AUmWE:function(D,_){return D*_},zeafm:function(D,_){return D===_},nmGFL:function(D,_){return D(_)},PmJZJ:"0|4|1|2|5|3",xEjYQ:c(330),gRZHa:function(D,_){return D(_)},BaVIG:c(333),JjkyC:function(D,_){return D(_)},uYThB:c(310),yCWBb:function(D,_){return D-_},SqQJC:function(D,_,C){return D(_,C)},QcAHf:function(D,_){return D!==_},pdmEI:"DCFtC",gatKJ:"kBGAq",LBHXX:function(D,_){return D(_)},FzQnO:function(D,_){return D(_)},drEQD:function(D,_,C){return D(_,C)}},[a,i]=$.useState(Fm),x=r[c(278)]($.useRef,null),f=r[c(271)]($.useRef,null),[m,v]=r.LBHXX($.useState,!1),[h,d]=r[c(284)]($.useState,()=>typeof window<"u"?window[c(312)](c(304))[c(293)]:!0);r[c(299)]($.useEffect,()=>{const D=c,_=window.matchMedia("(min-width: 768px)"),C=U=>d(U.matches);return _.addEventListener("change",C),()=>_[D(270)]("change",C)},[]),r.drEQD($.useEffect,()=>{const D=c;localStorage[D(277)]($d,JSON.stringify(a))},[a]);const g=$.useRef(a);$.useEffect(()=>{g.current=a},[a]);const y=$.useCallback((D,_)=>{const C=c,U={Rifck:"pointerup",UhOEl:function(V,E){return r.nmGFL(V,E)}};if(C(290)==="EBSLl"){_.preventDefault();const V=x[C(305)];if(!V)return;f.current={side:D,startX:_.clientX,startWidths:{...g.current}},r[C(271)](v,!0),document[C(272)][C(302)].cursor=r.uYThB,document[C(272)][C(302)][C(324)]=C(326);const E=R=>{const K=C,B=f.current;if(!B)return;const Y=V[K(265)]()[K(321)];if(Y===0)return;const Q=r.imuEJ(R[K(322)],B.startX),Z=r.AUmWE(Q/Y,100);if(r[K(318)](B[K(292)],K(308))){const P=B.startWidths.left+Z,S=r[K(295)](r.imuEJ(100,B.startWidths.right),cr);i(Ud(Math[K(313)](P,S),B[K(262)][K(332)]))}else{const P=B.startWidths.right-Z,S=100-B[K(262)][K(308)]-cr;r.nmGFL(i,Ud(B.startWidths[K(308)],Math[K(313)](P,S)))}},G=()=>{const R=C,K=r[R(273)].split("|");let B=0;for(;;){switch(K[B++]){case"0":f[R(305)]=null;continue;case"1":document.body[R(302)][R(260)]="";continue;case"2":document[R(272)][R(302)][R(324)]="";continue;case"3":window.removeEventListener(r[R(267)],G);continue;case"4":r[R(327)](v,!1);continue;case"5":window[R(270)](r.BaVIG,E);continue}break}};window[C(303)]("pointermove",E),window[C(303)](r[C(267)],G),A.current=()=>{const R=C,K=R(258)[R(286)]("|");let B=0;for(;;){switch(K[B++]){case"0":f[R(305)]=null;continue;case"1":document.body.style[R(324)]="";continue;case"2":window[R(270)](U[R(319)],G);continue;case"3":window.removeEventListener(R(333),E);continue;case"4":document[R(272)][R(302)][R(260)]="";continue;case"5":U[R(280)](v,!1);continue}break}}}else _0x371c10[C(305)]=_0x5d1a1c},[]),A=r[c(297)]($.useRef,null);$.useEffect(()=>{const D=c;if(r[D(318)](D(283),D(298)))_0x1e5a1[D(305)]?.();else return()=>{const _=D;if(r.QcAHf(r[_(311)],"DCFtC")){const C=_0x72970c.current;if(!C)return;const U=_0x5e9eac.getBoundingClientRect()[_(321)];if(EQiTUr[_(287)](U,0))return;const V=_0x4cbb68[_(322)]-C.startX,E=V/U*100;if(EQiTUr.zHmHx(C.side,"left")){const G=C.startWidths[_(308)]+E,R=EQiTUr.tMahb(100-C.startWidths[_(332)],_0x1c11d6);_0x25d96f(EQiTUr[_(276)](_0x4d55bd,_0x229fd3[_(313)](G,R),C.startWidths.right))}else{const G=C.startWidths.right-E,R=EQiTUr[_(279)](100,C.startWidths.left)-_0x3d768e;EQiTUr.VzTIA(_0x2a70a6,EQiTUr.YNNNW(_0x462cfe,C[_(262)][_(308)],_0x5f3ef6[_(313)](G,R)))}}else A.current?.()}},[]);const b=r.drEQD($.useCallback,()=>{const D=c;if(r[D(320)],r[D(323)]!==r[D(323)]){const _="5|1|3|0|4|2".split("|");let C=0;for(;;){switch(_[C++]){case"0":_0x5261a2(!1);continue;case"1":_0xff369e.removeEventListener("pointerup",_0x3d4339);continue;case"2":_0x387586.body.style.userSelect="";continue;case"3":_0x52e74c[D(305)]=null;continue;case"4":_0x3261af[D(272)].style.cursor="";continue;case"5":_0x24d697[D(270)](xTrvDt.hxyeI,_0x5449bb);continue}break}}else r[D(278)](i,e1)},[]);return{widths:a,containerRef:x,onDividerPointerDown:y,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Id({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:x=>r(c,x),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(x=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},x))})})}function cn(c,r){c=c-210;const a=H0();let i=a[c];if(cn.eNEHPS===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};cn.QqFfiE=x,cn.WGqcgl={},cn.eNEHPS=!0}const f=a[0],m=c+f,v=cn.WGqcgl[m];if(v)i=v;else{const h=function(d){this.qzjIQc=d,this.qYxbhw=[1,0,0],this.FQWbkb=function(){return"newState"},this.RKIqAl="\\w+ *\\(\\) *{\\w+ *",this.zATFZK=`['|"].+['|"];? *}`};h.prototype.Vbbmtq=function(){const d=new RegExp(this.RKIqAl+this.zATFZK),g=d.test(this.FQWbkb.toString())?--this.qYxbhw[1]:--this.qYxbhw[0];return this.XhBDsU(g)},h.prototype.XhBDsU=function(d){return~d?this.FxJZvt(this.qzjIQc):d},h.prototype.FxJZvt=function(d){for(let g=0,y=this.qYxbhw.length;g<y;g++)this.qYxbhw.push(Math.round(Math.random())),y=this.qYxbhw.length;return d(this.qYxbhw[0])},new h(cn).Vbbmtq(),i=cn.QqFfiE(i),cn.WGqcgl[m]=i}return i}(function(c,r){const a=cn,i=c();for(;;)try{if(-parseInt(a(297))/1*(-parseInt(a(263))/2)+parseInt(a(265))/3+-parseInt(a(290))/4+-parseInt(a(325))/5*(parseInt(a(327))/6)+parseInt(a(219))/7+-parseInt(a(211))/8+parseInt(a(333))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,562749);const eb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const x=a.apply(r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ns=eb(void 0,function(){const c=cn;return Ns[c(300)]()[c(235)](c(234)).toString()[c(248)](Ns).search(c(234))});Ns();function tb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:x,setExpandedGroups:f,zoom:m,pan:v,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:y}){const A=cn,b={SopQG:function(S,w){return S+w},nRCkU:function(S,w){return S===w},VrNEU:"JLCAT",Rhcah:function(S,w){return S/w},spHXn:A(276),Kjyqk:function(S,w){return S*w},mxpIe:function(S,w){return S>w},FCeqh:function(S,w){return S*w},bXAVy:function(S,w){return S/w},ygssA:function(S,w){return S/w},iBSiB:function(S,w){return S+w},dhiNI:function(S,w){return S||w},wIaPi:"project",qQfjG:function(S,w){return S!==w},dQHEa:"LIPTL",imLey:function(S,w){return S<=w},iRVpV:function(S,w){return S(w)},kbWjn:function(S,w){return S(w)},HGVyq:function(S,w,T){return S(w,T)},DzEmn:function(S,w){return S!==w},BPaCr:function(S,w,T,z){return S(w,T,z)},olvhj:function(S,w){return S>=w},bcKZB:function(S,w){return S-w},Mwxdn:function(S,w){return S(w)},AMzbR:A(261),FOaYb:function(S,w,T,z){return S(w,T,z)},Tymkg:function(S,w,T){return S(w,T)},SRRqi:function(S,w,T){return S(w,T)},ZgSFq:function(S,w){return S-w},DBAQE:function(S,w,T,z){return S(w,T,z)},ZoRWN:function(S,w){return S===w},lHUOH:"petals",DjjTJ:function(S,w,T){return S(w,T)},ZRkoO:A(250),dDmUy:function(S,w){return S===w},LTTLz:A(287),QFZEy:function(S,w){return S===w},TJNuK:A(351),sLKCY:function(S,w){return S+w},XWESo:A(305),cLPsL:function(S,w){return S!==w},sStwi:A(316),gFYwW:A(311),FlTha:function(S,w){return S<w},kktmb:function(S,w,T,z){return S(w,T,z)},wtHsK:"EGzVd",EcClc:function(S,w){return S(w)},ZsqJP:function(S,w,T){return S(w,T)},bUGPG:function(S,w,T){return S(w,T)},FFelb:function(S,w){return S(w)},kYNwW:function(S,w){return S===w},ZMcOr:function(S,w){return S!==w},oiTev:A(247),yyCqb:function(S,w){return S===w},EJdPU:"aEeep",myuho:function(S,w){return S===w},Zugyn:A(257),MLUgL:function(S,w){return S>w},KPexX:A(273),KxOyN:function(S,w){return S(w)},cWTbd:function(S,w){return S(w)},JhFEP:function(S,w,T){return S(w,T)},sgUtE:function(S,w){return S(w)},MTqPh:function(S,w){return S(w)},aOOSY:function(S,w){return S!==w},OHwnh:function(S,w,T){return S(w,T)},ATKZn:function(S,w){return S/w},ShNlu:function(S,w){return S*w},YmMkP:function(S,w){return S/w},mwedJ:function(S,w){return S/w},OSJLB:function(S,w){return S/w},rDnDs:function(S,w){return S===w},kuSzw:"back",jhiVF:A(314),Biwgv:"stl",wKigx:A(289),ciLDg:"flowers",ENtHQ:"aqwjQ",LFusS:function(S,w){return S(w)},UlsvD:function(S,w){return S(w)},hmJsj:function(S,w){return S===w},iOnBO:A(336),gqoiE:function(S,w){return S(w)},ixDhm:"zqQvt",Grleq:"Aouwi",HVqwZ:function(S,w){return S(w)},Abqtx:function(S,w){return S===w},VTLuq:function(S,w){return S!==w},wLwha:A(245)},D=S=>{const w=A,T={Rnwua:function(M,q){return M/q},FzjML:function(M,q){return M-q},NTNzx:function(M,q){return b[cn(279)](M,q)}},z=[...S.layers][w(341)]((M,q)=>M.order-q[w(281)]),j=z[0];if(!j)return 28;const N=S.fabricSquareSize??c.fabricSquareSize,{length:O}=Kt(N),X=O*(j[w(267)]??1);let k;if(b.nRCkU(S[w(217)],""))if(w(256)!==b.VrNEU)k=b.Rhcah(X,3);else{const M=T[w(277)](T.FzjML(_0x2376d2.scale??1,_0xf56fc9[w(267)]??1),_0xad9cac);_0x1541c4=_0x1c0c7f(T[w(354)](_0x5e1492.scale??1,M),.3,3)}else if(b[w(253)](b.spHXn,"wJBsx")){for(const M of _0x261a20[w(258)])M.flowerIds=M[w(221)].filter(q=>q!==_0x31b25c);_0xa13946.groups=_0x2cf31f[w(258)].filter(M=>M.flowerIds[w(301)]>0)}else{const q=b.Rhcah(b[w(295)](70,Math.PI),180),H=z[w(301)]+1,J=H-1,le=b.mxpIe(H,1)?b.FCeqh(J/(H-1),q):0;k=X*b[w(218)](30,100)*Math.cos(le)}return b[w(254)](Math[w(313)](b.iBSiB(j[w(340)]??28,k)*10),10)},_=S=>{const w=A,T={MMyHm:function(z,j,N){return z(j,N)},ZmGxK:function(z,j){return z(j)},ZIItw:b[w(280)]};if(b.qQfjG(b[w(226)],b.dQHEa)){T[w(241)](_0x10eb3d,z=>{const j=w;z.stencils=(z[j(270)]??[]).filter(N=>N.id!==_0x542df0[j(303)])},!0),T.ZmGxK(_0x3e4f0a,{kind:T.ZIItw});return}else r(z=>{const j=w;if(z.flowers=(z[j(268)]||[])[j(310)](N=>N.id!==S),z.groups){for(const N of z.groups)N[j(221)]=N.flowerIds[j(310)](O=>O!==S);z[j(258)]=z.groups[j(310)](N=>N[j(221)][j(301)]>0)}},!0),i({kind:b[w(280)]}),x(z=>{const j={...b.dhiNI(z,{})};return delete j[S],j})},C=(S,w)=>{const T=A,z=c.flowers[T(278)](j=>j.id===S);if(z&&b.imLey((z.layers||[]).length,1)){b[T(288)](_,S);return}r(j=>{const N=T,O=(j[N(268)]||[])[N(278)](X=>X.id===S);O&&(O[N(317)]=(O[N(317)]||[]).filter(X=>X.id!==w),O.layers[N(215)]()[N(341)]((X,k)=>X[N(281)]-k.order).forEach((X,k)=>X[N(281)]=k+1))},!0),b.kbWjn(i,{kind:"flower",flowerId:S})},U=S=>{const w=A,T={XoGqt:function(z,j,N,O){return z(j,N,O)},ZJHJV:function(z,j){return z-j}};if(b.DzEmn("tWHeH","yaHNH")){const z=c.flowers[w(278)](J=>J.id===S);if(!z)return;const j=[...z[w(317)]].sort((J,le)=>J.order-le.order),N=j[0],O=b[w(229)](je,N?.petalCount??6,5,24),X=j.map(J=>J.scale??1),k=X[w(301)]<2||X.every(J=>Math[w(345)](J-X[0])<.001);let M=N?.[w(267)]??1;if(!k&&b.olvhj(j[w(301)],2)){const J=j[j[w(301)]-1],le=b[w(306)](J.order??1,N.order??1);if(le>0){const ce=b.ygssA((N.scale??1)-(J.scale??1),le);M=je(b[w(239)](N.scale??1,ce),.3,3)}}const q=D(z),H={id:b[w(216)](It,w(298)),name:w(330),order:1,petalType:N?.[w(225)]??"",petalCount:O,radius:q,scale:M,widthScale:ui(O),offsetAngle:N?.offsetAngle??0,colorId:N?.colorId??c[w(344)]?.[0]?.id??b.AMzbR,visible:!0,locked:!1};N&&(H.offsetAngle=b.FOaYb($n,N.petalCount,N[w(238)]??0,O)),b.Tymkg(r,J=>{const le=w,ce=J[le(268)][le(278)](ze=>ze.id===S);if(!ce)return;ce.layers.forEach(ze=>ze[le(281)]+=1),ce[le(317)].unshift(H);const fe=Math.round(T.XoGqt(lr,H.radius,H[le(267)],ce[le(331)]??J.fabricSquareSize)),xe=ce.fabricSquareSize??J[le(331)],me=ce[le(217)]===""?ir(xe,ce[le(317)][le(301)],"uniform",0):T[le(312)](Vl,ce.baseDiameter??J.baseDiameter,xe,{layerCount:ce.layers.length}).diameter;ce.flowerDiameter=Math.max(ce.flowerDiameter||me,fe);const Se=[...ce.layers].sort((ze,Ue)=>ze[le(281)]-Ue[le(281)]),de=Se.reverse();for(let ze=1;ze<de[le(301)];ze++){const Ue=de[T[le(260)](ze,1)],Ie=de[ze];Ie.offsetAngle=$n(Ue[le(353)],Ue.offsetAngle,Ie[le(353)])}},!0),i({kind:"layer",flowerId:S,layerId:H.id}),x(J=>({...J,[S]:!0}))}else b.HGVyq(_0x5f2daf,z=>{const j=w;z[j(258)]&&(z[j(258)]=z[j(258)].filter(N=>N.id!==_0x2c43fc))},!0),_0x2e43a4({kind:"project"})},V=S=>{const w=A,T={ZFJgW:function(z,j){return b[cn(228)](z,j)},dIrJO:function(z,j){return z(j)},bFFgk:b.lHUOH};if(w(232)==="WbjHC"){const z=_0x3f4684.layers[w(278)](j=>j.id===_0x158cf6.id);z&&(z.radius=_0xe26011[w(340)])}else{const z=c.flowers[w(278)](O=>O.id===S);if(!z||!z.layers||z[w(317)].length===0)return;if(z.layers.length<=1){_(S);return}const j=[...z.layers].sort((O,X)=>O[w(281)]-X[w(281)]),N=j[0];if(!N)return;if(b.DjjTJ(r,O=>{const X=w,k=O.flowers[X(278)](H=>H.id===S);if(!k)return;k[X(317)]=k[X(317)][X(310)](H=>H.id!==N.id),k.layers[X(215)]()[X(341)]((H,J)=>H.order-J.order).forEach((H,J)=>H.order=J+1);const M=[...k[X(317)]].sort((H,J)=>H.order-J[X(281)]),q=k[X(331)]??O[X(331)];if(M[X(301)]>0){b[X(324)](fs,M,q);for(const le of M){const ce=k.layers.find(fe=>fe.id===le.id);ce&&(ce[X(340)]=le[X(340)])}const H=M[0];k.flowerDiameter=Math.round(lr(H[X(340)],H[X(267)]??1,q));const J=[...M].reverse();for(let le=1;le<J.length;le++){const ce=J[b[X(332)](le,1)],fe=J[le];fe.offsetAngle=b.DBAQE($n,ce.petalCount,ce.offsetAngle,fe[X(353)])}}},!0),a.kind==="layer"&&b.nRCkU(a.layerId,N.id))i({kind:b.ZRkoO,flowerId:S});else if(b[w(307)](a[w(255)],b.LTTLz)&&b[w(266)](a.layerId,N.id))if(b[w(337)]==="cCuYf"){const O={layerId:_0x3be9a2.layerId,index:_0x2b7508[w(242)]},X={layerId:_0x4d1bf5,index:_0x5dcaac};if(T[w(237)](O.layerId+":"+O[w(242)],_0x39c806))return;T.dIrJO(_0x3b03fd,{kind:T.bFFgk,flowerId:_0x5cea9c,petals:[O,X]})}else i({kind:w(250),flowerId:S})}},E=()=>{const S=A,w={juBNR:function(T,z){return T(z)},UwpJy:b.ZRkoO};if(a.kind!=="project"){if(b[S(307)](a[S(255)],S(230))){g(a[S(321)]);return}if(a.kind===S(328)){y(a[S(291)]);return}if(a[S(255)]===S(346))if(b[S(319)]!=="EGzVd"){_0x501f20[S(258)]||(_0x5bfabd.groups=[]);const T=_0x404a32[S(258)][S(259)](j=>{const N=S,O=j.name[N(244)](/^ (\d+)$/);return O?_0x158b21(O[1],10):0}),z=T.length>0?b.sLKCY(_0x1277b8.max(...T),1):1;_0x3157fe.groups[S(271)]({id:_0xfa93fe,name:S(283)+z,flowerIds:[..._0x413bec]})}else{const T=a[S(302)];r(z=>{const j=S;if(z.leaves=(z.leaves??[])[j(310)](N=>!T[j(343)](N.id)),z.leafGroups){for(const N of z[j(231)]){if(b[j(308)](b[j(220)],j(305)))return;N.leafIds=N.leafIds[j(310)](O=>!T[j(343)](O))}z.leafGroups=z.leafGroups.filter(N=>N[j(302)].length>0)}},!0),b.EcClc(i,{kind:"project"});return}if(a[S(255)]==="flowers"){const T=a[S(221)];b[S(222)](r,z=>{const j=S;if(z.flowers=z[j(268)][j(310)](N=>!T.includes(N.id)),z.groups){for(const N of z[j(258)])N.flowerIds=N[j(221)][j(310)](O=>!T[j(343)](O));z[j(258)]=z[j(258)][j(310)](N=>N[j(221)][j(301)]>0)}},!0),b[S(288)](i,{kind:"project"});return}if(a.kind==="group"){b.bUGPG(r,T=>{const z=S;T[z(258)]&&(T.groups=T[z(258)].filter(j=>j.id!==a[z(251)]))},!0),i({kind:"project"});return}if(b[S(307)](a.kind,"stencil")){r(T=>{const z=S;b.cLPsL("Dylsu",b.sStwi)?T.stencils=(T.stencils??[]).filter(j=>j.id!==a.stencilId):_0x2878ef.stencils=(_0x5a68a9[z(270)]??[])[z(310)](j=>j.id!==_0x34404b)},!0),b.FFelb(i,{kind:b[S(280)]});return}if(b[S(249)](a[S(255)],b[S(318)]))if(b.ZMcOr(b[S(338)],S(247))){w[S(264)](_0x58fb97,{kind:w.UwpJy,flowerId:_0x3e8548.flowerId});return}else{b.FFelb(i,{kind:S(250),flowerId:a.flowerId});return}if(b[S(275)](a.kind,"flower"))if(b[S(329)]!==b[S(329)]){for(const T of _0x46a021.groups)T[S(221)]=T[S(221)].filter(z=>!_0x4f57a4.includes(z));_0x47c758[S(258)]=_0x58fcd2.groups[S(310)](T=>T[S(221)][S(301)]>0)}else{r(T=>{const z=S;if(T[z(268)]=T.flowers[z(310)](j=>j.id!==a.flowerId),T.groups){for(const j of T.groups)j.flowerIds=j.flowerIds[z(310)](N=>N!==a.flowerId);T.groups=T.groups[z(310)](j=>j.flowerIds[z(301)]>0)}},!0),i({kind:"project"});return}if(b.myuho(a[S(255)],b.Zugyn)||b.QFZEy(a.kind,b.LTTLz)){const T=c[S(268)][S(278)](j=>j.id===a[S(323)]),z=T?[...T[S(317)]][S(341)]((j,N)=>j.order-N[S(281)])[0]?.id===a[S(252)]:!1;r(j=>{const N=S,O=j.flowers[N(278)](X=>X.id===a.flowerId);if(O&&(O[N(317)]=O.layers[N(310)](X=>X.id!==a.layerId),O[N(317)][N(215)]()[N(341)]((X,k)=>X.order-k[N(281)])[N(294)]((X,k)=>X[N(281)]=k+1),O[N(317)].length>0)){const X=[...O.layers][N(341)]((q,H)=>q[N(281)]-H[N(281)]),k=O[N(331)]??j[N(331)];b[N(324)](fs,X,k);for(const q of X){const H=O.layers.find(J=>J.id===q.id);H&&(H[N(340)]=q.radius)}if(z){const q=X[0];O.flowerDiameter=Math.round(b.BPaCr(lr,q.radius,q[N(267)]??1,k))}else{const q=b[N(253)](O.placementMode,"")?ir(k,O.layers[N(301)],b[N(274)],0):Vl(O.baseDiameter??j.baseDiameter,k,{layerCount:O[N(317)][N(301)]}).diameter;Z0(X,k,O.flowerDiameter||q);for(const H of X){const J=O.layers[N(278)](le=>le.id===H.id);J&&(J[N(340)]=H[N(340)],J[N(267)]=H.scale)}}const M=[...X][N(335)]();for(let q=1;b.FlTha(q,M[N(301)]);q++){const H=M[b.bcKZB(q,1)],J=M[q];J[N(238)]=b.kktmb($n,H.petalCount,H.offsetAngle,J[N(353)])}}},!0),i({kind:S(250),flowerId:a[S(323)]})}}},G=$.useCallback(S=>{const w=A,T=b.Mwxdn(It,b.KPexX);b.DjjTJ(r,z=>{const j=cn;z.groups||(z[j(258)]=[]);const N=z[j(258)][j(259)](X=>{const k=j,M=X[k(349)].match(/^ (\d+)$/);return M?parseInt(M[1],10):0}),O=b[j(352)](N.length,0)?Math[j(299)](...N)+1:1;z[j(258)].push({id:T,name:" "+O,flowerIds:[...S]})},!0),b.KxOyN(i,{kind:"group",groupId:T}),b[w(339)](f,z=>({...z,[T]:!0}))},[r,i,f]),R=$.useCallback(S=>{const w=A;b[w(212)](r,T=>{const z=w;T[z(258)]&&(T[z(258)]=T.groups.filter(j=>j.id!==S))},!0),b.sgUtE(i,{kind:"project"})},[r,i]),K=$.useCallback((S,w)=>{const T=A;b[T(233)](r,z=>{const j=T,N=(z[j(258)]??[]).find(O=>O.id===S);if(N)for(const O of w)N[j(221)].includes(O)||N.flowerIds[j(271)](O)},!0),b.MTqPh(i,{kind:"group",groupId:S})},[r,i]),B=b[A(212)]($.useCallback,(S,w)=>{const T=A;b[T(280)];const z=S[0],j=S[T(215)](1);b[T(210)](r,N=>{const O=T;if(!N[O(258)])return;const X=N[O(258)].find(k=>k.id===z);if(X){for(const k of j)if(b[O(285)](O(342),O(342))){const M=(_0x5c39ce.flowers||[]).find(q=>q.id===_0x3bdc58);if(!M)return;M[O(317)]=(M[O(317)]||[])[O(310)](q=>q.id!==_0x39c02c),M.layers.slice().sort((q,H)=>q.order-H.order)[O(294)]((q,H)=>q[O(281)]=H+1)}else{const M=N.groups[O(278)](q=>q.id===k);if(!M)continue;for(const q of M[O(221)])if(b.aOOSY(O(284),"wGYZd"))X[O(221)].includes(q)||X[O(221)][O(271)](q);else{const H={..._0x1c70c5||{}};return delete H[_0x154904],H}}for(const k of w)if(O(348)===O(224)){uSYfja[O(213)](_0x3fb38b,M=>{const q=O;if(M[q(268)]=M[q(268)].filter(H=>H.id!==_0x455941[q(323)]),M.groups){for(const H of M.groups)H[q(221)]=H.flowerIds[q(310)](J=>J!==_0x36dbe5[q(323)]);M[q(258)]=M.groups[q(310)](H=>H[q(221)].length>0)}},!0),uSYfja[O(296)](_0x2b6086,{kind:uSYfja.mfOHW});return}else X.flowerIds[O(343)](k)||X[O(221)][O(271)](k);N.groups=N[O(258)][O(310)](k=>!j.includes(k.id))}},!0),b.cWTbd(i,{kind:T(246),groupId:z}),f(N=>({...N,[z]:!0}))},[r,i,f]),Y=(S,w)=>{const T=A,z=b.ATKZn(h.w,h.h),j=520/m,N=b.ShNlu(j,z),O=b.YmMkP(-v.x,m),X=b.mwedJ(-v.y,m),k=b[T(279)](O,N/2),M=X+b[T(243)](j,2),q=b[T(262)](w,b[T(293)])?T(334):b.jhiVF,H=Qd[S][q][T(214)]*un,J=je(k,0,d),le=b[T(236)](je,M-b.bXAVy(H,2),0,d),ce={id:It(b.Biwgv),variant:S,pose:w,position:{x:J,y:le}};b.JhFEP(r,fe=>{const xe=T;fe[xe(270)]||(fe[xe(270)]=[]),fe.stencils.push(ce)},!0),i({kind:b.wKigx,stencilId:ce.id})},Q=S=>{const w=A,T={qlLUP:function(z,j){return z(j)},wxzBl:b.ciLDg};b[w(212)](r,z=>{const j=w;z.stencils=(z.stencils??[])[j(310)](N=>N.id!==S)},!0),a.kind===w(289)&&a.stencilId===S&&(b.ENtHQ==="Xszdy"?T[w(347)](_0x2ead3b,{kind:T[w(282)],flowerIds:[..._0x19fa95,_0x4ff394]}):i({kind:b.wIaPi}))},Z=$.useCallback(S=>{const w=A;if(a[w(255)]==="flowers"){const T=a.flowerIds;if(T.includes(S)){const z=T[w(310)](j=>j!==S);b.nRCkU(z.length,0)?b[w(269)](i,{kind:b.wIaPi}):z.length===1?b.UlsvD(i,{kind:w(250),flowerId:z[0]}):b.sgUtE(i,{kind:"flowers",flowerIds:z})}else b[w(339)](i,{kind:b[w(326)],flowerIds:[...T,S]})}else if(b[w(309)](a.kind,b.ZRkoO)){if(a.flowerId===S)return;i({kind:b.ciLDg,flowerIds:[a.flowerId,S]})}else if(a.kind==="group")if(b.yyCqb(b.iOnBO,"gQmwR")){const T=(c[w(258)]??[]).find(j=>j.id===a.groupId),z=T?T[w(221)]:[];if(z[w(343)](S))return;i({kind:"flowers",flowerIds:[...z,S]})}else{_0x57039a(T=>{const z=w;T.groups&&(T.groups=T[z(258)][z(310)](j=>j.id!==_0x5f4b1a[z(251)]))},!0),_0x4e46c8({kind:"project"});return}else b.gqoiE(i,{kind:b.ciLDg,flowerIds:[S]})},[a,i,c.groups]);return{deleteFlowerById:_,deleteLayerById:C,computeNewOuterRadius:D,addOuterLayer:U,deleteOuterLayer:V,deleteSelected:E,groupSelectedFlowers:G,ungroupFlowers:R,addToGroup:K,mergeGroups:B,addStencil:Y,deleteStencil:Q,handleShiftFlowerSelect:Z,togglePetalSelection:(S,w,T,z)=>{const j=A;if(!z){i({kind:"petal",flowerId:S,layerId:w,index:T});return}const N=w+":"+T;if(a.kind===b.lHUOH&&a.flowerId===S)if(b[j(322)]!==j(350)){const O=_0x216f98[VMgDdn.NOZhY(_0x195c67,1)],X=_0x1da00b[_0x1eb593];X[j(238)]=VMgDdn[j(320)](_0xe93744,O.petalCount,O.offsetAngle,X[j(353)])}else{const O=a[j(304)]||[];if(O[j(223)](k=>k[j(252)]+":"+k.index===N)){const k=O.filter(M=>M[j(252)]+":"+M[j(242)]!==N);b.kYNwW(k.length,0)?i({kind:b[j(292)],flowerId:S}):k.length===1?i({kind:b[j(272)],flowerId:S,layerId:k[0].layerId,index:k[0][j(242)]}):i({kind:b[j(318)],flowerId:S,petals:k})}else if(b[j(286)]!==j(227)){const k=_0x17bc7f.layers[j(278)](M=>M.id===_0x3e6ec0.id);k&&(k.radius=_0x398643[j(340)],k.scale=_0x480400.scale)}else b[j(240)](i,{kind:"petals",flowerId:S,petals:[...O,{layerId:w,index:T}]})}else if(b[j(266)](a[j(255)],b[j(272)])&&b.Abqtx(a[j(323)],S))if(b.VTLuq("ZTqKf",b[j(315)])){const O={layerId:a.layerId,index:a[j(242)]},X={layerId:w,index:T};if(b.myuho(O.layerId+":"+O[j(242)],N))return;i({kind:b[j(318)],flowerId:S,petals:[O,X]})}else _0x2aa4df.flowerIds=_0x11bb82.flowerIds.filter(O=>!_0x4262a9.includes(O));else b.EcClc(i,{kind:b.lHUOH,flowerId:S,petals:[{layerId:w,index:T}]})}}}function H0(){const c=["zMXVD2vYCW","tez1C1m","C3rLBMnPBhm","ChvZAa","tfruthO","z3jW","z0zzD1C","ExLdCwi","DxrzuvC","uM53Dwe","zMLUza","u29WuuC","D0LHugK","B3jKzxi","D3H6qMW","44kW44oR44o844oxia","vND5qMK","CvfMAKC","r3jSzxe","Cgv0ywW","AvjwCfy","C3rLBMnPBa","mJK2nZa3nLrYAen1va","BgvHzKDYB3vWswq","wLjRB08","A3vtENC","zM9YrwfJAa","s2P5CwS","tfrJv3C","mJe0nZG2D3jhsxvK","Bgf5","Bwf4","Dg9tDhjPBMC","BgvUz3rO","BgvHzKLKCW","C3rLBMnPBeLK","Cgv0ywXZ","uK1uC2K","yMnlwKi","zerTvxK","rhPfBw4","Ag1kC2O","zMLSDgvY","Dw5PzM9YBq","wg9hCxq","CM91BMq","C2LKzq","D0X3Age","CNjgqxC","Bgf5zxjZ","BeHvt0G","D3riC0S","r3fwwuy","BgvHzKLK","AxHeAg0","zMXVD2vYswq","u1jsCwK","mti0mJaWq01OzMHZ","y2LmrgC","odrUEhvOAfi","BgvHzKDYB3vW","ruPKufu","t3v0zxiR","zMfICMLJu3f1yxjLu2L6zq","wMDtrNe","mta0nZyWmdbYtwDxsNG","yMfJAW","CMv2zxjZzq","z1fTD1i","vePoDuS","B2Luzxy","y1DuyMq","CMfKAxvZ","C29YDa","vwzJDe8","Aw5JBhvKzxm","CgfSzxr0zq","ywjZ","BgvHDMvZ","CwXmvva","AMnVu1K","BMfTzq","ENfrDNq","sePiCu8","tuXvz0W","Cgv0ywXdB3vUDa","tLroENG","t0H3BMG","odmXnZaXnKrKBw54vW","sMHgrva","v3nIvgG","AgvPz2H0","C2XPy2u","txD4zg4","CgXHy2vTzw50tw9Kzq","yLHbvNK","mJK3nZi3nvfNvLDeCq","wfDfu28","zMXVD2vYswrZ","wNnXsLa","C29Tzq","tNbTt1m","Cgv0ywXuExbL","zffirwe","qw91D2K","wM9sv04","qLbHq3i","BgvHzG","BgvHzKDYB3vWCW","uNrXtwi","yLvhueC","kcGOlISPkYKRksSK","C2vHCMnO","A2T0Bwi","wKzkz1C","B2zMC2v0qw5NBgu","AujtAui","sfzXD1O","tu15sg0","Aw5KzxG","t1nktei","Bwf0y2G","AKjtqKi","z3jVDxa","Dxjezhq","y29UC3rYDwn0B3i","A1LoD1C","zMXVD2vY","z3jVDxbjza","Bgf5zxjjza","BLjdA1u","EwDZC0e","A2LUza","zxLTtwC","Bgf5zxi","z3jVDxbZ","BwfW","wKPisLy","y29Sx2DYzwvU","CKrUrhm","mLH5rgrmCa","ANvctLi","mJy2mZm4mNL2tw1Sta","uuzArxK","C2nHBgu"];return H0=function(){return c},H0()}function U0(){const c=["A2LUza","BgvUz3rO","otK3ntbYvNnjCMm","Aw5JBhvKzxm","C2XPy2u","u3LMveC","A2XMrxG","zKXXB3G","CMTorw8","y1vyr2u","u2DTExy","r0Tcs1e","ota0C3POEvbj","wvr2Ewy","ChvZAa","y29Sx2DYzwvU","Cg9ZAxrPB24","5yMJ44gK44g+44g/","BgvHzKLKCW","ntm0ndaYwhHiBKHb","uvvkC3O","re1pCem","zMLSDgvY","ENnLvLG","rwfXsNi","qxPewxa","ywjZ","AwfuvNy","mZaZm3D2Ae1fuG","BgvHDMvZ","ChjVAMvJDa","ntbpzLbYu2q","CgfSzxr0zq","zMLUza","mZq3mJCWrg5SzvvP","BgvHzKLK","EvforvO","BgvHzKDYB3vWCW","EMrWqwi","Dg9tDhjPBMC","kcGOlISPkYKRksSK","mtCZmtK0nvnmswLdCW","mZzyshDMCu8","uxvkr0u","tgvHzIa","rxvTrNe","D0TJA2W","C2vHCMnO","muzvr0HUqG","mtG1mdiXour2tK9WAq","6jgj44kW44oR44o844oxia","Bwf4","BgvHzG","BgvHzKDYB3vW","mti1nJq2A2PIweXg"];return U0=function(){return c},U0()}(function(c,r){const a=qt,i=c();for(;;)try{if(-parseInt(a(417))/1*(parseInt(a(388))/2)+parseInt(a(423))/3*(parseInt(a(411))/4)+-parseInt(a(410))/5+-parseInt(a(426))/6+parseInt(a(418))/7+parseInt(a(381))/8*(parseInt(a(397))/9)+-parseInt(a(400))/10*(-parseInt(a(403))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,206971);const nb=(function(){const c=qt,r={DZvhx:"leaf",UKigE:function(i,x){return i!==x},OBIsx:c(407)};let a=!0;return function(i,x){const f=a?function(){const m=qt,v={Cmibm:r.DZvhx};if(r.UKigE(r.OBIsx,m(393))){if(x){const h=x.apply(i,arguments);return x=null,h}}else _0x2625d3({kind:v.Cmibm,leafId:_0x2ab45a[0]})}:function(){};return a=!1,f}})(),As=nb(void 0,function(){const c=qt,r={oAssW:c(409)};return As[c(408)]()[c(416)](r.oAssW)[c(408)]().constructor(As)[c(416)](c(409))});function qt(c,r){c=c-377;const a=U0();let i=a[c];if(qt.BHkMvT===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};qt.gRBcAC=x,qt.auEiHq={},qt.BHkMvT=!0}const f=a[0],m=c+f,v=qt.auEiHq[m];if(v)i=v;else{const h=function(d){this.ALryZi=d,this.QuGWsG=[1,0,0],this.habGgx=function(){return"newState"},this.uumeNP="\\w+ *\\(\\) *{\\w+ *",this.IBoLOR=`['|"].+['|"];? *}`};h.prototype.axCwJh=function(){const d=new RegExp(this.uumeNP+this.IBoLOR),g=d.test(this.habGgx.toString())?--this.QuGWsG[1]:--this.QuGWsG[0];return this.OJYQFC(g)},h.prototype.OJYQFC=function(d){return~d?this.TlZLSx(this.ALryZi):d},h.prototype.TlZLSx=function(d){for(let g=0,y=this.QuGWsG.length;g<y;g++)this.QuGWsG.push(Math.round(Math.random())),y=this.QuGWsG.length;return d(this.QuGWsG[0])},new h(qt).axCwJh(),i=qt.gRBcAC(i),qt.auEiHq[m]=i}return i}As();function lb({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:x,pan:f,stageSize:m,CANVAS_MAX_SVG:v}){const h=qt,d={rkNEo:function(E,G){return E/G},cUXGe:function(E,G){return E/G},AzDYp:function(E,G){return E*G},nKPZw:function(E,G){return E/G},Ftkng:function(E,G,R,K){return E(G,R,K)},HnLYD:h(384),GKBKQ:function(E,G,R){return E(G,R)},oWBmm:h(421),QUJsz:function(E,G){return E(G)},RuoVr:function(E,G){return E===G},EumFq:"leaves",PFfHM:function(E,G){return E(G)},wKckl:h(422),zseVX:function(E,G){return E!==G},iaTVv:"wSiAE",QuJGE:h(379),YeIIL:"xblkA",yQNEZ:function(E,G,R){return E(G,R)},fLqox:h(430),HOTYn:"SdDby",NFUXi:function(E,G,R){return E(G,R)},avKEX:function(E,G,R){return E(G,R)}},g=()=>{const E=h,G=d[E(377)](m.w,m.h),R=d[E(378)](520,x),K=d[E(394)](R,G),B=-f.x/x,Y=d.nKPZw(-f.y,x);let Q=B+d.cUXGe(K,2),Z=Y+R/2,P=0;for(;P<50&&(c[E(398)]??[]).some(w=>Math.abs(w[E(385)].x-Q)<5&&Math[E(395)](w.position.y-Z)<5);)Q+=25,Z+=25,Q=d.Ftkng(je,Q,0,v),Z=je(Z,0,v),P++;const S={id:It("leaf"),name:E(413)+((c.leaves??[])[E(425)]+1),position:{x:Q,y:Z},rotation:135,petalType:E(386),colorId:c[E(401)]?.[E(402)](w=>w.id===E(384)||w.id==="col_darkgreen")?.id??c[E(401)]?.[0]?.id??d.HnLYD,scale:1,widthScale:1,visible:!0,locked:!1};d[E(380)](r,w=>{const T=E;w.leaves||(w[T(398)]=[]),w.leaves[T(383)](S)},!0),i({kind:d.oWBmm,leafId:S.id})},y=E=>{const G=h;r(R=>{const K=qt;if(R.leaves=(R[K(398)]??[])[K(391)](B=>B.id!==E),R.leafGroups){for(const B of R.leafGroups)B[K(387)]=B.leafIds.filter(Y=>Y!==E);R.leafGroups=R[K(406)].filter(B=>B[K(387)][K(425)]>0)}},!0),d[G(389)](i,{kind:G(399)})},A=$.useCallback(E=>{const G=h;if(a.kind==="leaves"){const R=a[G(387)];if(R.includes(E)){const K=R[G(391)](B=>B!==E);d.RuoVr(K.length,0)?i({kind:G(399)}):K.length===1?d[G(389)](i,{kind:"leaf",leafId:K[0]}):d[G(389)](i,{kind:d[G(414)],leafIds:K})}else i({kind:d.EumFq,leafIds:[...R,E]})}else if(a[G(424)]==="leaf"){if(a[G(404)]===E)return;i({kind:d[G(414)],leafIds:[a[G(404)],E]})}else if(a.kind===G(422)){const R=(c[G(406)]??[]).find(B=>B.id===a.leafGroupId),K=R?R.leafIds:[];if(K[G(427)](E))return;d.PFfHM(i,{kind:d[G(414)],leafIds:[...K,E]})}else i({kind:G(398),leafIds:[E]})},[a,i,c.leafGroups]),b=$.useCallback(E=>{const G=h,R=It("lg"),K=(c.leafGroups??[]).map(Y=>{const Q=Y.name.match(/^ (\d+)$/);return Q?parseInt(Q[1],10):0}),B=K[G(425)]>0?Math[G(420)](...K)+1:1;r(Y=>{const Q=G;Y.leafGroups||(Y.leafGroups=[]),Y.leafGroups.push({id:R,name:Q(419)+B,leafIds:[...E],rotation:0})},!0),d[G(389)](i,{kind:d[G(415)],leafGroupId:R})},[c.leafGroups,r,i]),D=d.yQNEZ($.useCallback,(E,G)=>{const R=h,K={YTvyf:function(B,Y,Q){return B(Y,Q)}};r(B=>{const Y=qt;if(d[Y(392)](d[Y(396)],d[Y(412)])){const Q=(B.leafGroups??[])[Y(402)](Z=>Z.id===E);if(!Q)return;for(const Z of G)Q.leafIds[Y(427)](Z)||Q[Y(387)].push(Z)}else K[Y(382)](_0x4e5e71,Q=>{const Z=Y,P=(Q[Z(406)]??[])[Z(402)](S=>S.id===_0x2aee42);P&&!P.leafIds[Z(427)](_0x31f71e)&&P.leafIds[Z(383)](_0x521345)},!0)},!0),d[R(389)](i,{kind:d.wKckl,leafGroupId:E})},[r,i]),_=$.useCallback((E,G)=>{const R=h,K={xpSWw:function(B,Y){return B!==Y},SyfTG:"crhxn"};if(d.YeIIL==="xblkA"){const B=E[0],Y=E[R(428)](1);d[R(405)](r,Q=>{const Z=R;if(!Q.leafGroups)return;const P=Q[Z(406)].find(S=>S.id===B);if(P){for(const S of Y){const w=Q.leafGroups.find(T=>T.id===S);if(w)for(const T of w.leafIds)if(K.xpSWw(K[Z(429)],K[Z(429)])){if(_0x470fad.leaves=(_0x2c8414[Z(398)]??[])[Z(391)](z=>z.id!==_0x5e062d),_0x44ea96[Z(406)]){for(const z of _0x590e4c[Z(406)])z[Z(387)]=z[Z(387)].filter(j=>j!==_0x3835d2);_0x277c72.leafGroups=_0x33f9b0.leafGroups[Z(391)](z=>z.leafIds.length>0)}}else P[Z(387)].includes(T)||P.leafIds[Z(383)](T)}for(const S of G)P[Z(387)].includes(S)||P.leafIds.push(S);Q[Z(406)]=Q.leafGroups.filter(S=>!Y.includes(S.id))}},!0),d.QUJsz(i,{kind:R(422),leafGroupId:B})}else _0x375994[R(387)]=_0x2a4318[R(387)][R(391)](B=>B!==_0x502e1d)},[r,i]),C=d.NFUXi($.useCallback,E=>{r(G=>{const R=qt;G[R(406)]&&(G[R(406)]=G[R(406)].filter(K=>K.id!==E))},!0),d.PFfHM(i,{kind:"project"})},[r,i]),U=d.avKEX($.useCallback,(E,G)=>{const R=h,K={Hyqgl:d[R(431)],DMOpC:"HNLky"};r(B=>{const Y=R;if(K.Hyqgl!==K[Y(390)]){const Q=(B[Y(406)]??[]).find(Z=>Z.id===G);Q&&!Q[Y(387)][Y(427)](E)&&Q.leafIds[Y(383)](E)}else{for(const Q of _0x4c5b09[Y(406)])Q[Y(387)]=Q[Y(387)][Y(391)](Z=>Z!==_0x2174e7);_0x9fc00c[Y(406)]=_0x48d1d0[Y(406)][Y(391)](Q=>Q.leafIds[Y(425)]>0)}},!0)},[r]),V=$.useCallback(E=>{const G=h;d.HOTYn!=="cxgYr"?r(R=>{const K=qt;if(R[K(406)]){for(const B of R[K(406)])B.leafIds=B[K(387)][K(391)](Y=>Y!==E);R[K(406)]=R[K(406)].filter(B=>B[K(387)][K(425)]>0)}},!0):(d.GKBKQ(_0x21b20b,R=>{const K=qt,B=(R[K(406)]??[]).find(Y=>Y.id===_0x32f625);if(B)for(const Y of _0x49cf13)B.leafIds[K(427)](Y)||B[K(387)].push(Y)},!0),_0x5d4800({kind:G(422),leafGroupId:_0x34554e}))},[r]);return{addLeaf:g,deleteLeafById:y,handleShiftLeafSelect:A,groupSelectedLeaves:b,ungroupLeaves:C,addLeafToGroup:U,removeLeafFromGroup:V,addLeavesToGroup:D,mergeLeafGroups:_}}(function(c,r){const a=Kn,i=c();for(;;)try{if(-parseInt(a(250))/1+parseInt(a(257))/2*(-parseInt(a(197))/3)+parseInt(a(212))/4+parseInt(a(216))/5+parseInt(a(251))/6+-parseInt(a(237))/7*(parseInt(a(221))/8)+parseInt(a(253))/9*(-parseInt(a(210))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,139173);const ab=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const x=a.apply(r,arguments);return a=null,x}}:function(){};return c=!1,i}})(),Ls=ab(void 0,function(){const c=Kn,r={WmSBG:"(((.+)+)+)+$"};return Ls[c(246)]()[c(218)](c(195)).toString().constructor(Ls)[c(218)](r[c(235)])});function Kn(c,r){c=c-193;const a=I0();let i=a[c];if(Kn.aGXYFI===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Kn.RosccQ=x,Kn.bqVXWc={},Kn.aGXYFI=!0}const f=a[0],m=c+f,v=Kn.bqVXWc[m];if(v)i=v;else{const h=function(d){this.NhfCPJ=d,this.mWbYPN=[1,0,0],this.Xpwjeu=function(){return"newState"},this.lnwVzW="\\w+ *\\(\\) *{\\w+ *",this.fEibNM=`['|"].+['|"];? *}`};h.prototype.brGwpO=function(){const d=new RegExp(this.lnwVzW+this.fEibNM),g=d.test(this.Xpwjeu.toString())?--this.mWbYPN[1]:--this.mWbYPN[0];return this.tbEpmo(g)},h.prototype.tbEpmo=function(d){return~d?this.aSGNAA(this.NhfCPJ):d},h.prototype.aSGNAA=function(d){for(let g=0,y=this.mWbYPN.length;g<y;g++)this.mWbYPN.push(Math.round(Math.random())),y=this.mWbYPN.length;return d(this.mWbYPN[0])},new h(Kn).brGwpO(),i=Kn.RosccQ(i),Kn.bqVXWc[m]=i}return i}function I0(){const c=["rLrorKW","z1fYwKi","BhrPs2i","DwLMBNu","v21tqKC","zvzPBMK","mtrVsLHgt3i","BhP2yKC","sw5Uzxi","rKDrAxq","44or44o844oR","Bgf5","qvnSCeq","tgf5zxi","C2nHBgu","Dg9tDhjPBMC","y29Sx3DOAxrL","AwTpC2q","zMXVD2vYCW","mZK1BhzhqvDT","mta3mtGWnhH0sNDgsG","q09ivuu","owftDNfUrq","u2n0zwK","zgLHBwv0zxi","AuPkD3q","nZy2nNnrB0LkDa","wvnOz0e","C3bSAxq","q2vhrLu","ywjZ","B3jKzxi","BgvUz3rO","zMfICMLJu3f1yxjLu2L6zq","sK52DxG","kcGOlISPkYKRksSK","C2L6zvn0zxbnBq","mtC3rM5hs0rn","DLbAsu0","B2H5wwK","t3v0zxiR","tLvMquW","DxreAgi","twjHq3C","CgfSzxr0zq","twLKzgXL","yMfZzurPyw1LDgvY","yLPTDM0","CMfKAxvZ","weP0DfK","nZG3mdCWwfvAs3jT","zMXVD2vYrgLHBwv0zxi","mta0nta5nLPbzxjJrq","CM91BMq","y29SB3jjza","y29Z","mZC4nZKWDhjhruvK","ANPJANm","C2vHCMnO","D2H2t0G","qM5rEe0","mJG0otC2ALjvzwLU","sMXfCvi","5y2k44gp44gz","C2L6zu1Vzgu","DuXcyKC","Bgf5zxjdB3vUDa","CLvLwgO","C29YDa","m3WYFdr8mxWW","Dw5PzM9YBq"];return I0=function(){return c},I0()}Ls();function ib({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:x,pan:f,stageSize:m,CANVAS_MAX_SVG:v}){const h=Kn,d={jzcjs:function(C,U){return C!==U},vPZIM:"DbTnm",XJttY:function(C,U){return C===U},WTWYL:"oRCqe",rsdJu:function(C,U,V,E,G){return C(U,V,E,G)},bpakO:function(C,U){return C(U)},uLBbG:function(C,U){return C/U},JNvux:function(C,U){return C*U},bZKkB:function(C,U,V,E){return C(U,V,E)},iJJwt:function(C,U,V,E,G){return C(U,V,E,G)},gQrZB:function(C,U){return C*U},yaMcL:h(239),uifnu:h(200),COHUE:function(C,U){return C===U},lcPUg:function(C,U){return C===U},Kydge:"RVaHB",KSvvC:"xjALj",ohyYi:function(C,U){return C/U},JlEqR:function(C,U){return C+U},BnQxM:"gradual",FGQit:function(C,U){return C-U},CeGFU:function(C,U){return C*U},SNkJU:h(243),RsVBQ:function(C,U){return C/U},ltiKb:function(C,U){return C*U},utDhb:function(C,U){return C+U},bZmvm:function(C,U){return C===U},vnLzp:function(C,U){return C<=U},yGSWP:function(C,U){return C===U},oUhLf:h(242),EQXmP:h(247),RAXzP:"",PFVjX:function(C,U,V,E){return C(U,V,E)},yhfXx:function(C,U,V,E,G){return C(U,V,E,G)},Sctei:function(C,U){return C/U},mYTQq:function(C,U){return C+U},oNAkH:function(C,U){return C/U},eQJKV:function(C,U){return C<U},eVini:function(C,U,V,E){return C(U,V,E)},rUeXj:function(C,U){return C+U},NUfAL:function(C,U,V){return C(U,V)},dQVlv:function(C,U){return C(U)},whvOH:function(C,U){return C(U)},ikOsd:"",cqJTt:h(230)},[g,y]=$.useState(!1),[A,b]=d[h(219)]($.useState,{placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d[h(248)],sizeMode:d.cqJTt,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:y,addFlowerOpts:A,setAddFlowerOpts:b,addFlower:()=>{const C=h,U={FTNFL:function(G,R){return G/R},UqBUX:function(G,R){return G*R},sKWmZ:function(G,R){return G-R},YShgA:function(G,R){return G*R}},V=c.fabricSquareSize,E=c[C(206)];b(G=>{const R=C;if(d[R(217)](d[R(198)],R(238))){const K={...G,fabricSquareSize:V,baseDiameter:E};return K.placementMode===""?d[R(209)](d.WTWYL,d.WTWYL)?K[R(211)]=Vl(E,V,{layerCount:K[R(226)],sizeMode:K[R(224)],sizeStepMm:K.sizeStepMm})[R(255)]:(_0x4d77c7[R(208)]=_0x318a48.radius,_0x5b2150.scale=_0x23d731[R(245)]):K[R(211)]=d.rsdJu(ir,V,K[R(226)],K.sizeMode,K.sizeStepMm),K}else{const B=U[R(231)](U.UqBUX(70,_0x40de5b.PI),180),Y=_0x1e9ddb>1?U.UqBUX(_0x4e58e8/U.sKWmZ(_0x52f5c8,1),B):0,Q=_0x1d0427[R(215)](Y);_0x344954=U[R(258)](U[R(258)](_0x32c9d2,30/100),Q)}}),d.bpakO(y,!0)},confirmAddFlower:()=>{const C=h,{placementMode:U,layerCount:V,petalCount:E,petalType:G,sizeMode:R,sizeStepMm:K}=A,B=A[C(193)],{length:Y}=Kt(B),Q=.28,Z=d.uLBbG(Math.round(d[C(232)](Y,Q)*10),10),P=[],S=["Center",d.yaMcL,C(205),"Outer",d[C(234)]];let w=Z,T=0;for(let xe=0;xe<V;xe++){const me=xe,Se=1;let de;if(d[C(252)](R,C(230)))if(d.lcPUg(d.Kydge,d.KSvvC)){const at=d[C(225)](_0x2284f4,_0x1ac8d2);_0x4fe7ce=_0x2df3ac(_0xa8eab0+d[C(194)](_0x5c093b,at),.3,3)}else de=Se;else{const at=d[C(199)](K,B);de=je(d[C(222)](Se,me*at),.3,3)}let ze;if(d.XJttY(xe,0))C(203)!=="owkSn"?ze=Z:_0x50a526=_0x5a3c7e;else{const at=R===d[C(220)]?je(1+d.uLBbG(d.JNvux(d.FGQit(xe,1),K),B),.3,3):1,Dt=d[C(260)](Y,at);let Bt;if(U==="")if(d.SNkJU!=="ASlpD"){const it={..._0x18833b,fabricSquareSize:_0x628ade,baseDiameter:_0x34d0eb};return d.XJttY(it.placementMode,"")?it[C(211)]=d.bZKkB(_0x50a1b4,_0x272c18,_0x57d8c1,{layerCount:it.layerCount,sizeMode:it[C(224)],sizeStepMm:it[C(196)]})[C(255)]:it.flowerDiameter=d[C(256)](_0x597ea6,_0x4f1f9a,it.layerCount,it[C(224)],it[C(196)]),it}else{const dt=d.RsVBQ(70*Math.PI,180),Zt=V>1?xe/(V-1)*dt:0,sn=Math.cos(Zt);Bt=d[C(233)](Dt,d[C(225)](30,100))*sn}else Bt=Dt/3;w=d[C(202)](w,Bt),ze=Math[C(213)](d.ltiKb(w,10))/10}const Ue=d[C(207)](xe,0)?0:$n(E,T,E);T=Ue;let Ie;if(d.lcPUg(V,1))Ie=C(244);else if(d.vnLzp(V,5)){const at=d[C(209)](V,2)?[0,3]:d.yGSWP(V,3)?[0,1,3]:V===4?[0,1,2,3]:[0,1,2,3,4];Ie=S[at[xe]]??"Layer "+(xe+1)}else Ie="Layer "+d[C(202)](xe,1);P.push({id:It(d.oUhLf),name:Ie,order:d[C(240)](V,xe),petalType:G,petalCount:E,radius:ze,scale:de,widthScale:ui(E),offsetAngle:Ue,colorId:A[C(214)]||(c[C(204)]?.[0]?.id??d.EQXmP),visible:!0,locked:!1})}P.reverse();const z=[...P][C(228)]((xe,me)=>xe[C(262)]-me[C(262)]),j=U===d.RAXzP?d.PFVjX(Vl,A[C(206)],B,{layerCount:V,sizeMode:R,sizeStepMm:K})[C(255)]:d.yhfXx(ir,B,V,R,K);Z0(z,B,A[C(211)]||j);for(const xe of z){const me=P.find(Se=>Se.id===xe.id);me&&(me.radius=xe.radius,me[C(245)]=xe.scale)}const N=m.w/m.h,O=520/x,X=d[C(233)](O,N),k=d[C(254)](-f.x,x),M=d.uLBbG(-f.y,x);let q=d.mYTQq(k,d.oNAkH(X,2)),H=M+O/2;const J=25;let le=0;for(;d.eQJKV(le,50)&&c.flowers.some(xe=>Math.abs(xe.position.x-q)<5&&Math[C(261)](xe.position.y-H)<5);){const xe=C(229)[C(259)]("|");let me=0;for(;;){switch(xe[me++]){case"0":le++;continue;case"1":H=d[C(236)](je,H,0,v);continue;case"2":H+=J;continue;case"3":q+=J;continue;case"4":q=je(q,0,v);continue}break}}const ce=A[C(211)]||j,fe={id:It("flw"),name:"Flower "+d[C(227)](c.flowers[C(263)],1),position:{x:q,y:H},flowerDiameter:ce,rotation:0,layers:P,center:{type:C(241),size:6,color:"col_white"},fabricSquareSize:B,placementMode:U,baseDiameter:U===C(223)?A.baseDiameter:nr(ce)};d[C(201)](r,xe=>{xe[C(249)].push(fe)},!0),d.dQVlv(a,{kind:"flower",flowerId:fe.id}),i(xe=>({...xe,[fe.id]:!0})),y(!1)}}}(function(c,r){const a=Rn,i=c();for(;;)try{if(-parseInt(a(401))/1*(-parseInt(a(395))/2)+parseInt(a(427))/3*(parseInt(a(438))/4)+parseInt(a(437))/5*(-parseInt(a(432))/6)+parseInt(a(405))/7*(-parseInt(a(396))/8)+-parseInt(a(444))/9*(-parseInt(a(392))/10)+-parseInt(a(400))/11*(-parseInt(a(394))/12)+parseInt(a(414))/13===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,568785);const rb=(function(){let c=!0;return function(r,a){const i=c?function(){const x=Rn;if(a){const f=a[x(397)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ts=rb(void 0,function(){const c=Rn,r={WdgFy:c(423)};return Ts.toString()[c(417)]("(((.+)+)+)+$").toString().constructor(Ts)[c(417)](r.WdgFy)});Ts();function Rn(c,r){c=c-391;const a=K0();let i=a[c];if(Rn.fILbLt===void 0){var x=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",y="",A=g+x;for(let b=0,D,_,C=0;_=h.charAt(C++);~_&&(D=b%4?D*64+_:_,b++%4)?g+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)_=d.indexOf(_);for(let b=0,D=g.length;b<D;b++)y+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(y)};Rn.ocWAyn=x,Rn.nXKVdL={},Rn.fILbLt=!0}const f=a[0],m=c+f,v=Rn.nXKVdL[m];if(v)i=v;else{const h=function(d){this.pKmTgD=d,this.LrnTMi=[1,0,0],this.YNoTcA=function(){return"newState"},this.bOcfLD="\\w+ *\\(\\) *{\\w+ *",this.vaywVn=`['|"].+['|"];? *}`};h.prototype.GXiyjr=function(){const d=new RegExp(this.bOcfLD+this.vaywVn),g=d.test(this.YNoTcA.toString())?--this.LrnTMi[1]:--this.LrnTMi[0];return this.ITAeER(g)},h.prototype.ITAeER=function(d){return~d?this.kioqBd(this.pKmTgD):d},h.prototype.kioqBd=function(d){for(let g=0,y=this.LrnTMi.length;g<y;g++)this.LrnTMi.push(Math.round(Math.random())),y=this.LrnTMi.length;return d(this.LrnTMi[0])},new h(Rn).GXiyjr(),i=Rn.ocWAyn(i),Rn.nXKVdL[m]=i}return i}function K0(){const c=["mtqXodK2BLjJr2rv","ota2mti4og9yrw5TEG","yxbWBhK","z3jVDxa","uKL1uK4","mtaYm1HXwg9Qyq","ng9AvKvPrq","sKvquxG","BgvHzKDYB3vW","veL1Ahq","n1z0AgDZEG","C25SEvO","t0zgEMq","Cgv0ywW","Dg9tDhjPBMC","Cgv0ywXZ","shLYEfO","C3rLBMnPBeLK","BgvHzKDYB3vWCW","odeWntuWmhjcr1jeuG","BgvHzKLKCW","A2LUza","C2vHCMnO","s3jms3u","zMXVD2vYswrZ","zMXVD2vY","zLz3EuK","zMXVD2vYCW","kcGOlISPkYKRksSK","rvfjEw8","z3jVDxbZ","zMLSDgvY","mta4nJy3nxz0CfjMCq","twPwDva","txfqDwm","y25UB1y","BgvHzKDYB3vWswq","mJKWmJK4nNr5q3r6Da","B2HJAhe","zMXVD2vYswq","Bgf5zxjZ","BgvHzKLK","mtbQzw1zCNO","mtjUCePZEw0","BeTzteu","suT0AM4","AePdvuO","zhHUB3q","q2LTuLi","mty3ntKXn1jMr2zsBW","tgPps2C","t3LZAwm","re5pENi","Ew1Xs3y","BvbPthO","Aw5JBhvKzxm","vwj2BNa","mJbuD2LetgO","zMLUza","mZKWnJbLufP0sNe"];return K0=function(){return c},K0()}function cb(c,r){const a=Rn,i={fVwyI:function(_,C){return _===C},RIuRN:a(420),UNKWW:"layer",EQIyo:"mPiLz",vrfBp:a(422),MqPuc:function(_,C){return _===C},OFFzd:"lKYLE",tuAlz:function(_,C){return _===C},dxFRz:"leaf",ymqKv:function(_,C){return _===C},hJCUJ:a(403),igQiJ:"(((.+)+)+)+$",IKtjn:function(_,C){return _!==C},CimRR:a(411),cnnoV:a(446),LjOKg:function(_,C){return _===C},MjVuP:a(408),WSpLC:"group",aSXUH:function(_,C){return _===C},lDvxg:"axKBt",KrLKu:function(_,C,U){return _(C,U)},TIuht:function(_,C){return _===C},JEPQx:a(410),DNOzr:"stencil",nGvtW:function(_,C){return _===C},ohchq:function(_,C,U){return _(C,U)}},x=i[a(418)]($.useMemo,()=>{const _=a;return i.fVwyI(r[_(416)],i.RIuRN)||i[_(421)](r.kind,i.UNKWW)||r[_(416)]===_(408)||r.kind==="petals"?c.flowers[_(393)](C=>C.id===r[_(434)])??null:null},[c.flowers,r]),f=$.useMemo(()=>{const _=a,C={dxnot:function(U,V){return U===V},rmWcZ:"flower"};if(i[_(424)]===_(449)){if(r.kind===i.vrfBp)return c[_(422)].filter(U=>r.flowerIds.includes(U.id));if(i[_(421)](r.kind,_(398))){const U=(c[_(425)]??[])[_(393)](V=>V.id===r.groupId);if(U)return c[_(422)][_(426)](V=>U[_(419)][_(450)](V.id))}return[]}else return C[_(442)](_0x1739cf[_(416)],C.rmWcZ)?new _0x5171f4(_0x32354c.flowerIds.filter(U=>U!==_0x3ac346[_(434)])):new _0x5e7666(_0x10911a[_(419)])},[c[a(422)],c[a(425)],r]),m=i.KrLKu($.useMemo,()=>{const _=a;return i[_(429)](_(439),i[_(407)])?i.tuAlz(r[_(416)],i.dxFRz)?(c.leaves??[]).find(C=>C.id===r.leafId)??null:null:(_0x1bc85c.leafGroups??[])[_(393)](C=>C.id===_0x4e4eb8[_(431)])??null},[c.leaves,r]),v=$.useMemo(()=>{const _=a;return i[_(448)](r.kind,i[_(441)])?(c[_(413)]??[]).find(C=>C.id===r[_(431)])??null:null},[c.leafGroups,r]),h=$.useMemo(()=>{const _=a;return i[_(440)](i[_(443)],i[_(430)])?x&&(r.kind==="layer"||i[_(445)](r[_(416)],i[_(428)]))?x[_(435)][_(393)](C=>C.id===r.layerId)??null:null:_0x4d9536[_(409)]()[_(417)](FqpADJ.igQiJ)[_(409)]().constructor(_0x3e6049)[_(417)]("(((.+)+)+)+$")},[x,r]),d=i[a(429)](r.kind,i[a(428)])?r.index:null,g=i.TIuht(r.kind,i[a(402)])?r.petals:[],y=r[a(416)]===i[a(447)]?(c.stencils??[]).find(_=>_.id===r[a(412)])??null:null,A=i.nGvtW(r.kind,"flower")||i.fVwyI(r[a(416)],"layer")||r[a(416)]==="petal"||i[a(404)](r.kind,i.JEPQx)?r[a(434)]:null,b=$.useMemo(()=>{const _=a;if(_(398),r[_(416)]===i.WSpLC){const C=(c.groups??[])[_(393)](U=>U.id===r.groupId);if(C)return new Set(C[_(419)])}if(i[_(421)](r.kind,"flowers"))return new Set(r.flowerIds);if(r[_(416)]===i[_(399)]||i.MqPuc(r[_(416)],i.UNKWW)||r[_(416)]===i.MjVuP||i.aSXUH(r.kind,"petals"))if(i.lDvxg==="SyAhh"){if(jocVyF.SvLTm(_0x5946f3[_(416)],"flowers"))return _0x350f9a[_(422)].filter(C=>_0x528236.flowerIds.includes(C.id));if(jocVyF[_(391)](_0x371652.kind,jocVyF[_(406)])){const C=(_0x2e63d9.groups??[]).find(U=>U.id===_0x32c250.groupId);if(C)return _0x8f0aaa.flowers.filter(U=>C.flowerIds[_(450)](U.id))}return[]}else{const C=i[_(418)](va,c,r[_(434)]);if(C)return r.kind==="flower"?new Set(C.flowerIds[_(426)](U=>U!==r[_(434)])):new Set(C.flowerIds)}return new Set},[r,c]),D=i[a(433)]($.useMemo,()=>{const _=a;if(r[_(416)]===_(403)){const C=(c.leafGroups??[])[_(393)](U=>U.id===r[_(431)]);if(C)return new Set(C[_(415)])}if(i.aSXUH(r.kind,"leaf")){const C=ci(c,r[_(436)]);if(C)return new Set(C.leafIds[_(426)](U=>U!==r[_(436)]))}return new Set},[r,c]);return{selectedFlower:x,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:v,selectedLayer:h,selectedPetalIndex:d,selectedPetals:g,selectedStencil:y,selectedFlowerId:A,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function ub(c){const{project:r,selection:a,setSelection:i,applyUpdate:x}=c,f=$.useMemo(()=>new Map((r.palette||[]).map(he=>[he.id,he])),[r.palette]),{widths:m,containerRef:v,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:g,isDesktop:y}=$m(),A=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,D]=$.useState({});$.useEffect(()=>{try{const we=localStorage.getItem(A);if(we){const Ke=JSON.parse(we);if(Ke&&typeof Ke=="object"){D(Ke);return}}}catch{}const he=r.flowers?.[0];he&&D({[he.id]:!0})},[A]),$.useEffect(()=>{try{localStorage.setItem(A,JSON.stringify(b))}catch{}},[A,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const he=a.flowerId;D(we=>we?.[he]?we:{...we,[he]:!0})}a.kind==="flowers"&&D(he=>{const we={...he};for(const Ke of a.flowerIds)we[Ke]=!0;return we})},[a]);const _=he=>b?.[he]??!1,C=he=>D(we=>({...we,[he]:!(we?.[he]??!1)})),U=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[V,E]=$.useState({});$.useEffect(()=>{try{const we=localStorage.getItem(U);if(we){const Ke=JSON.parse(we);if(Ke&&typeof Ke=="object"){E(Ke);return}}}catch{}const he=r.groups??[];if(he.length>0){const we={};for(const Ke of he)we[Ke.id]=!0;E(we)}},[U]),$.useEffect(()=>{try{localStorage.setItem(U,JSON.stringify(V))}catch{}},[U,V]);const G=he=>V?.[he]??!0,R=he=>E(we=>({...we,[he]:!(we?.[he]??!0)})),K=$.useRef({flowerId:null,timer:null}),B=he=>{const we=K.current.timer;we&&window.clearTimeout(we),K.current.flowerId=he,K.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:he}),D(Ke=>({...Ke,[he]:!0})),K.current.timer=null,K.current.flowerId=null},200)},Y=he=>{const we=K.current.timer;we&&K.current.flowerId===he&&window.clearTimeout(we),K.current.timer=null,K.current.flowerId=null,i({kind:"flower",flowerId:he}),C(he)},Q=$.useRef(null),[Z,P]=$.useState({w:520,h:520});$.useEffect(()=>{const he=Q.current;if(!he)return;const we=new ResizeObserver(Ke=>{for(const Lt of Ke){const{width:vt,height:Vt}=Lt.contentRect;vt>0&&Vt>0&&P({w:vt,h:Vt})}});return we.observe(he),()=>we.disconnect()},[]);const S=he=>{const we=Q.current;if(!we)return{x:0,y:0};const Ke=we.createSVGPoint();Ke.x=he.clientX,Ke.y=he.clientY;const Lt=we.getScreenCTM();if(!Lt)return{x:0,y:0};const vt=Ke.matrixTransform(Lt.inverse());return{x:vt.x,y:vt.y}},w=500*un,T=-300*un,z=800*un,j=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[N,O]=$.useState(6),[X,k]=$.useState(j[6]),M=$.useCallback(he=>{O(we=>{const Ke=typeof he=="function"?he(we):he;return k(j[Ke]),Ke})},[j]),q=$.useCallback(he=>{const we=je(he,j[0],j[j.length-1]);k(we);let Ke=0,Lt=Math.abs(j[0]-we);for(let vt=1;vt<j.length;vt++){const Vt=Math.abs(j[vt]-we);Vt<Lt&&(Ke=vt,Lt=Vt)}O(Ke)},[j]),[H,J]=$.useState({x:0,y:0}),[le,ce]=$.useState(!0),[fe,xe]=$.useState(!1),me=$.useRef(null),Se=$.useMemo(()=>{const he=Z.w/Z.h,we=520,Ke=we*he;return(Lt,vt=X)=>{const Vt=je(Lt.x,-(z*vt-Ke),-T*vt),jl=je(Lt.y,-(z*vt-we),-T*vt);return{x:Vt,y:jl}}},[Z,X,T,z]),de=$.useMemo(()=>Se(H),[H,Se]),ze=$.useCallback(he=>J(he),[]),Ue=$.useMemo(()=>{const he=Z.w/Z.h,we=520,Ke=we*he,Lt=-de.x/X,vt=-de.y/X;return`${Lt} ${vt} ${Ke/X} ${we/X}`},[X,de,Z]),{addLeaf:Ie,deleteLeafById:at,handleShiftLeafSelect:Dt,groupSelectedLeaves:Bt,ungroupLeaves:it,addLeafToGroup:dt,removeLeafFromGroup:Zt,addLeavesToGroup:sn,mergeLeafGroups:Xn}=lb({project:r,applyUpdate:x,selection:a,setSelection:i,zoom:X,pan:de,stageSize:Z,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:Jn,setShowAddFlowerDialog:Pe,addFlowerOpts:_n,setAddFlowerOpts:Sl,addFlower:el,confirmAddFlower:tl}=ib({project:r,applyUpdate:x,setSelection:i,setExpandedFlowers:D,zoom:X,pan:de,stageSize:Z,CANVAS_MAX_SVG:w}),{selectedFlower:Cl,selectedFlowers:Pl,selectedLeaf:Wn,selectedLeafGroup:si,selectedLayer:On,selectedPetalIndex:Gt,selectedPetals:Sn,selectedStencil:ke,selectedFlowerId:oe,groupHighlightedFlowerIds:qe,leafGroupHighlightedLeafIds:Be}=cb(r,a),{deleteFlowerById:ye,deleteLayerById:ve,addOuterLayer:Ae,deleteOuterLayer:De,deleteSelected:pe,groupSelectedFlowers:Fe,ungroupFlowers:Xe,addToGroup:Je,mergeGroups:We,addStencil:Le,deleteStencil:Nt,handleShiftFlowerSelect:tt,togglePetalSelection:St}=tb({project:r,applyUpdate:x,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:E,zoom:X,pan:de,stageSize:Z,CANVAS_MAX_SVG:w,deleteLeafById:at,ungroupLeaves:it}),Ce=im({project:r,selection:a,setSelection:i,applyUpdate:x,dragRef:c.dragRef,zoom:X,pan:de,setPan:ze,stageRef:Q,clientToSvgPoint:S,togglePetalSelection:St}),[$e,ht]=$.useState(0),At=a.kind,_a=At==="flower"?a.flowerId:null,on=At==="flowers"?a.flowerIds?.join(","):null,gt=At==="layer"||At==="petal"?a.layerId:null,Xt=At==="petal"?a.index:null,wl=At==="petals"?a.petals?.length:null;$.useEffect(()=>{At!=="project"&&ht(Date.now())},[At,_a,on,gt,Xt,wl]),$.useEffect(()=>{if(!me.current)return;const he=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!he)return;const we=me.current.querySelector(`[data-flower-id="${he}"]`);we&&we.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const oi=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[$e]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${m.left}%`}:void 0,children:s.jsx(cm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:D,isExpanded:_,toggleExpanded:C,scheduleFlowerRowClick:B,handleFlowerRowDoubleClick:Y,addFlower:el,deleteSelected:pe,addOuterLayer:Ae,deleteOuterLayer:De,deleteFlowerById:ye,deleteLayerById:ve,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:me,groups:r.groups??[],expandedGroups:V,isGroupExpanded:G,toggleGroupExpanded:R,onSelectGroup:he=>i({kind:"group",groupId:he}),onUngroupFlowers:Xe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>i({kind:"leafGroup",leafGroupId:he}),onAddLeaf:Ie,onDeleteLeaf:at})}),s.jsx(Id,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Tm,{project:r,selection:a,setSelection:i,applyUpdate:x,paletteMap:f,selectedFlowerId:oe,zoom:X,setZoom:q,zoomLevel:N,setZoomLevel:M,ZOOM_LEVELS:j,pan:de,panRaw:H,setPan:ze,showGrid:le,setShowGrid:ce,showHelp:fe,setShowHelp:xe,stageRef:Q,viewBox:Ue,dashSyncToken:$e,dashDelay:oi,beginPan:Ce.beginPan,updatePan:Ce.updatePan,endPan:Ce.endPan,beginMarquee:Ce.beginMarquee,updateMarquee:Ce.updateMarquee,endMarquee:Ce.endMarquee,marqueeRef:Ce.marqueeRef,marqueeRect:Ce.marqueeRect,beginFlowerDrag:Ce.beginFlowerDrag,updateFlowerDrag:Ce.updateFlowerDrag,endFlowerDrag:Ce.endFlowerDrag,scaleDragRef:Ce.scaleDragRef,beginScaleDrag:Ce.beginScaleDrag,updateScaleDrag:Ce.updateScaleDrag,endScaleDrag:Ce.endScaleDrag,rotationDragRef:Ce.rotationDragRef,beginRotationDrag:Ce.beginRotationDrag,updateRotationDrag:Ce.updateRotationDrag,endRotationDrag:Ce.endRotationDrag,widthScaleDragRef:Ce.widthScaleDragRef,beginWidthScaleDrag:Ce.beginWidthScaleDrag,updateWidthScaleDrag:Ce.updateWidthScaleDrag,endWidthScaleDrag:Ce.endWidthScaleDrag,radiusDragRef:Ce.radiusDragRef,beginRadiusDrag:Ce.beginRadiusDrag,updateRadiusDrag:Ce.updateRadiusDrag,endRadiusDrag:Ce.endRadiusDrag,togglePetalSelection:St,clientToSvgPoint:S,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Le,onDeleteStencil:Nt,onSelectStencil:he=>i({kind:"stencil",stencilId:he}),handleShiftFlowerSelect:tt,groupHighlightedFlowerIds:qe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Be,onSelectLeaf:he=>i({kind:"leaf",leafId:he}),onSelectLeafGroup:he=>i({kind:"leafGroup",leafGroupId:he}),onShiftSelectLeaf:Dt})}),s.jsx(Id,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0 shrink-0",style:y?{width:`${m.right}%`}:void 0,children:s.jsx(Jm,{project:r,selection:a,applyUpdate:x,selectedFlower:Cl,selectedFlowers:Pl,selectedLayer:On,selectedPetalIndex:Gt,selectedPetals:Sn,selectedStencil:ke,onDeleteStencil:Nt,groups:r.groups??[],onGroupFlowers:Fe,onUngroupFlowers:Xe,onAddToGroup:Je,onMergeGroups:We,selectedLeaf:Wn,selectedLeafGroup:si,leafGroups:r.leafGroups??[],onDeleteLeaf:at,onGroupLeaves:Bt,onUngroupLeaves:it,onAddLeafToGroup:dt,onRemoveLeafFromGroup:Zt,onAddLeavesToGroup:sn,onMergeLeafGroups:Xn})})]}),Jn&&s.jsx(Vm,{palette:r.palette,addFlowerOpts:_n,setAddFlowerOpts:Sl,onConfirm:tl,onCancel:()=>Pe(!1)}),fe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>xe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:he=>he.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>xe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([he,we])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:he}),s.jsx("td",{className:"py-2 text-neutral-700",children:we})]},he))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:c}){const[r,a]=$.useState("w"),[i,x]=$.useState(""),f=c.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>x(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),x("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>x(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),x("")},title:"",children:""})]})})]})]})}function ob(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(sb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function xb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[x,f]=$.useState(null),[m,v]=$.useState({kind:"project"}),[h,d]=$.useState([]),[g,y]=$.useState(0),A=$.useRef(x),b=$.useRef(h),D=$.useRef(g);$.useEffect(()=>{A.current=x},[x]),$.useEffect(()=>{b.current=h},[h]),$.useEffect(()=>{D.current=g},[g]);const _=$.useRef(null),C=$.useRef(null),U=$.useRef(null),V=$.useRef(null),[E,G]=$.useState(null);$.useEffect(()=>{const k=E?window.setTimeout(()=>G(null),2200):null;return()=>{k&&window.clearTimeout(k)}},[E]),$.useEffect(()=>{i(ar())},[]);function R(k){const M=JSON.stringify(k);d([M]),y(0)}function K(k,M=!0){if(!M){f(Se=>{if(!Se)return Se;const de=Ql(Se);return k(de),de.updatedAt=j0(),de});return}const q=A.current;if(!q)return;const H=Ql(q);k(H),H.updatedAt=j0(),f(H);const J=b.current,le=D.current;if(J.length===0){R(H);return}const ce=JSON.stringify(H);let xe=[...J.slice(0,le+1),ce];const me=50;xe.length>me&&(xe=xe.slice(xe.length-me)),d(xe),y(xe.length-1)}function B(){y(k=>{if(k<=0)return k;const M=k-1,q=b.current[M];return q&&f(ga(JSON.parse(q))),G("Undo"),M})}function Y(){y(k=>{if(k>=b.current.length-1)return k;const M=k+1,q=b.current[M];return q&&f(ga(JSON.parse(q))),G("Redo"),M})}function Q(){if(!x)return;const k=H2(x);i(ar()),G(k?"Saved":" ")}function Z(){if(!x)return;const k=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),M=URL.createObjectURL(k),q=document.createElement("a");q.href=M,q.download=`${x.title||"tsumami"}.json`,q.click(),URL.revokeObjectURL(M),G("JSON exported")}function P(k){const M=new FileReader;M.onload=()=>{try{const q=JSON.parse(String(M.result??""));if(!q||typeof q!="object"||!Array.isArray(q.flowers))throw new Error("Invalid JSON");const H=ga(q);f(H),v({kind:"project"}),R(H),r("editor"),G("Imported")}catch{G("Import failed")}},M.readAsText(k)}function S(k){const M=ga(k);f(M),v({kind:"project"}),R(M),r("editor")}function w(k){return k&&(k.kind==="flower"||k.kind==="layer"||k.kind==="petal")?k.flowerId:null}function T(){if(!x)return;const k=w(m);if(!k)return;const M=x.flowers.find(q=>q.id===k);M&&(C.current=Ql(M),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:M},null,2)).catch(()=>{}),G("Flower copied"))}function z(){if(!x||m.kind!=="leaf")return;const k=(x.leaves??[]).find(M=>M.id===m.leafId);k&&(U.current=Ql(k),G("Leaf copied"))}function j(){if(!x)return;const k=C.current;if(!k){G("Nothing to paste");return}const M=B2(k,{x:12+Math.random()*10,y:12+Math.random()*10});K(q=>{q.flowers.push(M)},!0),v({kind:"flower",flowerId:M.id}),G("Flower pasted")}function N(){if(!x)return;const k=U.current;if(!k)return;const M=It("leaf"),q={...Ql(k),id:M,name:k.name+" (copy)",position:{x:k.position.x+30,y:k.position.y+30}};K(H=>{H.leaves||(H.leaves=[]),H.leaves.push(q)},!0),v({kind:"leaf",leafId:q.id}),G("Leaf pasted")}function O(k){if(!x)return;const M=w(m);M&&(K(q=>{const H=q.flowers.findIndex(fe=>fe.id===M);if(H<0)return;const J=q.flowers,le=J[H];if(!le)return;if(J.splice(H,1),k==="front"){J.push(le);return}if(k==="back"){J.unshift(le);return}if(k==="forward"){if(H>=J.length){J.push(le);return}J.splice(H+1,0,le);return}const ce=je(H-1,0,J.length);J.splice(ce,0,le)},!0),G(k==="front"?"Brought to front":k==="back"?"Sent to back":k==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function k(q){const H=q;if(!H)return!1;const J=String(H.tagName||"").toLowerCase();return J==="input"||J==="textarea"||J==="select"||!!H.isContentEditable}function M(q){if(!(k(q.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?q.metaKey:q.ctrlKey))){if(c==="editor"){if(q.key.toLowerCase()==="c"){q.preventDefault(),m.kind==="leaf"?z():T();return}if(q.key.toLowerCase()==="v"){q.preventDefault(),U.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!C.current)?N():j();return}}q.key.toLowerCase()==="z"&&(q.preventDefault(),q.shiftKey?Y():B()),q.key.toLowerCase()==="s"&&(q.preventDefault(),Q())}}return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[x,h,g,m,c]);const X=$.useMemo(()=>x?K2(x):null,[x]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Q2,{view:c,onNavigate:r,project:x,onSave:Q,onLoad:()=>r("home"),onImportJson:()=>V.current?.click(),onExportJson:Z,onExportSvg:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&x&&X2(k,`${x.title||"tsumami"}.svg`)},onExportPng:()=>{const k=document.querySelector('[data-testid="canvas-svg"]');k&&x&&J2(k,`${x.title||"tsumami"}.png`)}}),s.jsx("input",{ref:V,type:"file",accept:"application/json",className:"hidden",onChange:k=>{const M=k.target.files?.[0];M&&P(M),k.currentTarget.value=""}}),E&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:E}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(V2,{saved:a,onNew:()=>r("new"),onOpen:k=>{const M=ga(Ql(k));f(M),v({kind:"project"}),R(M),r("editor")},onDelete:k=>{U2(k),i(ar()),G("Deleted")}}),c==="new"&&s.jsx(P2,{onBack:()=>r("home"),onCreate:k=>{const M=q2({title:k});S(M)}}),c==="editor"&&x&&s.jsx(ub,{project:x,selection:m,setSelection:v,applyUpdate:K,onGoRecipe:()=>r("recipe"),onImport:P,dragRef:_,onCopyFlower:T,onPasteFlower:j,onArrangeFlower:O,canPasteFlower:!!C.current,onUndo:B,onRedo:Y,canUndo:g>0,canRedo:g<h.length-1}),c==="recipe"&&x&&X&&s.jsx(ob,{project:x,recipe:X,onBack:()=>r("editor"),onExportJson:Z}),c==="terms"&&s.jsx(xb,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(fb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!x&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(db,{onNavigate:r})]})}class mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}y2.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(mb,{children:s.jsx(hb,{})})}));

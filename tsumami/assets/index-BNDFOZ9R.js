(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var tx={exports:{}},Vi={};var zd;function d2(){if(zd)return Vi;zd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:c,type:i,key:m,ref:o!==void 0?o:null,props:f}}return Vi.Fragment=r,Vi.jsx=a,Vi.jsxs=a,Vi}var Dd;function h2(){return Dd||(Dd=1,tx.exports=d2()),tx.exports}var x=h2(),nx={exports:{}},Me={};var Nd;function m2(){if(Nd)return Me;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),D=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,j={};function B(N,G,U){this.props=N,this.context=G,this.refs=j,this.updater=U||A}B.prototype.isReactComponent={},B.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=B.prototype;function q(N,G,U){this.props=N,this.context=G,this.refs=j,this.updater=U||A}var E=q.prototype=new O;E.constructor=q,C(E,B.prototype),E.isPureReactComponent=!0;var K=Array.isArray;function V(){}var R={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Q(N,G,U){var X=U.ref;return{$$typeof:c,type:N,key:G,ref:X!==void 0?X:null,props:U}}function ne(N,G){return Q(N.type,G,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===c}function y(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(U){return G[U]})}var w=/\/+/g;function z(N,G){return typeof N=="object"&&N!==null&&N.key!=null?y(""+N.key):G.toString(36)}function g(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(V,V):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function M(N,G,U,X,ie){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case c:case r:fe=!0;break;case v:return fe=N._init,M(fe(N._payload),G,U,X,ie)}}if(fe)return ie=ie(N),fe=X===""?"."+z(N,0):X,K(ie)?(U="",fe!=null&&(U=fe.replace(w,"$&/")+"/"),M(ie,G,U,"",function(je){return je})):ie!=null&&(P(ie)&&(ie=ne(ie,U+(ie.key==null||N&&N.key===ie.key?"":(""+ie.key).replace(w,"$&/")+"/")+fe)),G.push(ie)),1;fe=0;var ye=X===""?".":X+":";if(K(N))for(var he=0;he<N.length;he++)X=N[he],se=ye+z(X,he),fe+=M(X,G,U,se,ie);else if(he=b(N),typeof he=="function")for(N=he.call(N),he=0;!(X=N.next()).done;)X=X.value,se=ye+z(X,he++),fe+=M(X,G,U,se,ie);else if(se==="object"){if(typeof N.then=="function")return M(g(N),G,U,X,ie);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return fe}function T(N,G,U){if(N==null)return N;var X=[],ie=0;return M(N,X,"","",function(se){return G.call(U,se,ie++)}),X}function k(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(U){(N._status===0||N._status===-1)&&(N._status=1,N._result=U)},function(U){(N._status===0||N._status===-1)&&(N._status=2,N._result=U)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var I=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Y={map:T,forEach:function(N,G,U){T(N,function(){G.apply(this,arguments)},U)},count:function(N){var G=0;return T(N,function(){G++}),G},toArray:function(N){return T(N,function(G){return G})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Me.Activity=p,Me.Children=Y,Me.Component=B,Me.Fragment=a,Me.Profiler=o,Me.PureComponent=q,Me.StrictMode=i,Me.Suspense=h,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Me.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Me.cache=function(N){return function(){return N.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(N,G,U){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=C({},N.props),ie=N.key;if(G!=null)for(se in G.key!==void 0&&(ie=""+G.key),G)!H.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(X[se]=G[se]);var se=arguments.length-2;if(se===1)X.children=U;else if(1<se){for(var fe=Array(se),ye=0;ye<se;ye++)fe[ye]=arguments[ye+2];X.children=fe}return Q(N.type,ie,X)},Me.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},Me.createElement=function(N,G,U){var X,ie={},se=null;if(G!=null)for(X in G.key!==void 0&&(se=""+G.key),G)H.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=G[X]);var fe=arguments.length-2;if(fe===1)ie.children=U;else if(1<fe){for(var ye=Array(fe),he=0;he<fe;he++)ye[he]=arguments[he+2];ie.children=ye}if(N&&N.defaultProps)for(X in fe=N.defaultProps,fe)ie[X]===void 0&&(ie[X]=fe[X]);return Q(N,se,ie)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(N){return{$$typeof:_,render:N}},Me.isValidElement=P,Me.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:k}},Me.memo=function(N,G){return{$$typeof:d,type:N,compare:G===void 0?null:G}},Me.startTransition=function(N){var G=R.T,U={};R.T=U;try{var X=N(),ie=R.S;ie!==null&&ie(U,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,I)}catch(se){I(se)}finally{G!==null&&U.types!==null&&(G.types=U.types),R.T=G}},Me.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Me.use=function(N){return R.H.use(N)},Me.useActionState=function(N,G,U){return R.H.useActionState(N,G,U)},Me.useCallback=function(N,G){return R.H.useCallback(N,G)},Me.useContext=function(N){return R.H.useContext(N)},Me.useDebugValue=function(){},Me.useDeferredValue=function(N,G){return R.H.useDeferredValue(N,G)},Me.useEffect=function(N,G){return R.H.useEffect(N,G)},Me.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Me.useId=function(){return R.H.useId()},Me.useImperativeHandle=function(N,G,U){return R.H.useImperativeHandle(N,G,U)},Me.useInsertionEffect=function(N,G){return R.H.useInsertionEffect(N,G)},Me.useLayoutEffect=function(N,G){return R.H.useLayoutEffect(N,G)},Me.useMemo=function(N,G){return R.H.useMemo(N,G)},Me.useOptimistic=function(N,G){return R.H.useOptimistic(N,G)},Me.useReducer=function(N,G,U){return R.H.useReducer(N,G,U)},Me.useRef=function(N){return R.H.useRef(N)},Me.useState=function(N){return R.H.useState(N)},Me.useSyncExternalStore=function(N,G,U){return R.H.useSyncExternalStore(N,G,U)},Me.useTransition=function(){return R.H.useTransition()},Me.version="19.2.3",Me}var Ad;function Bx(){return Ad||(Ad=1,nx.exports=m2()),nx.exports}var F=Bx(),lx={exports:{}},Wi={},ax={exports:{}},ix={};var Ld;function b2(){return Ld||(Ld=1,(function(c){function r(M,T){var k=M.length;M.push(T);e:for(;0<k;){var I=k-1>>>1,Y=M[I];if(0<o(Y,T))M[I]=T,M[k]=Y,k=I;else break e}}function a(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var T=M[0],k=M.pop();if(k!==T){M[0]=k;e:for(var I=0,Y=M.length,N=Y>>>1;I<N;){var G=2*(I+1)-1,U=M[G],X=G+1,ie=M[X];if(0>o(U,k))X<Y&&0>o(ie,U)?(M[I]=ie,M[X]=k,I=X):(M[I]=U,M[G]=k,I=G);else if(X<Y&&0>o(ie,k))M[I]=ie,M[X]=k,I=X;else break e}}return T}function o(M,T){var k=M.sortIndex-T.sortIndex;return k!==0?k:M.id-T.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var m=Date,_=m.now();c.unstable_now=function(){return m.now()-_}}var h=[],d=[],v=1,p=null,D=3,b=!1,A=!1,C=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function E(M){for(var T=a(d);T!==null;){if(T.callback===null)i(d);else if(T.startTime<=M)i(d),T.sortIndex=T.expirationTime,r(h,T);else break;T=a(d)}}function K(M){if(C=!1,E(M),!A)if(a(h)!==null)A=!0,V||(V=!0,y());else{var T=a(d);T!==null&&g(K,T.startTime-M)}}var V=!1,R=-1,H=5,Q=-1;function ne(){return j?!0:!(c.unstable_now()-Q<H)}function P(){if(j=!1,V){var M=c.unstable_now();Q=M;var T=!0;try{e:{A=!1,C&&(C=!1,O(R),R=-1),b=!0;var k=D;try{t:{for(E(M),p=a(h);p!==null&&!(p.expirationTime>M&&ne());){var I=p.callback;if(typeof I=="function"){p.callback=null,D=p.priorityLevel;var Y=I(p.expirationTime<=M);if(M=c.unstable_now(),typeof Y=="function"){p.callback=Y,E(M),T=!0;break t}p===a(h)&&i(h),E(M)}else i(h);p=a(h)}if(p!==null)T=!0;else{var N=a(d);N!==null&&g(K,N.startTime-M),T=!1}}break e}finally{p=null,D=k,b=!1}T=void 0}}finally{T?y():V=!1}}}var y;if(typeof q=="function")y=function(){q(P)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,z=w.port2;w.port1.onmessage=P,y=function(){z.postMessage(null)}}else y=function(){B(P,0)};function g(M,T){R=B(function(){M(c.unstable_now())},T)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return D},c.unstable_next=function(M){switch(D){case 1:case 2:case 3:var T=3;break;default:T=D}var k=D;D=T;try{return M()}finally{D=k}},c.unstable_requestPaint=function(){j=!0},c.unstable_runWithPriority=function(M,T){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var k=D;D=M;try{return T()}finally{D=k}},c.unstable_scheduleCallback=function(M,T,k){var I=c.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?I+k:I):k=I,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=k+Y,M={id:v++,callback:T,priorityLevel:M,startTime:k,expirationTime:Y,sortIndex:-1},k>I?(M.sortIndex=k,r(d,M),a(h)===null&&M===a(d)&&(C?(O(R),R=-1):C=!0,g(K,k-I))):(M.sortIndex=Y,r(h,M),A||b||(A=!0,V||(V=!0,y()))),M},c.unstable_shouldYield=ne,c.unstable_wrapCallback=function(M){var T=D;return function(){var k=D;D=T;try{return M.apply(this,arguments)}finally{D=k}}}})(ix)),ix}var Td;function v2(){return Td||(Td=1,ax.exports=b2()),ax.exports}var rx={exports:{}},Zt={};var Ed;function g2(){if(Ed)return Zt;Ed=1;var c=Bx();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,v){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:h,containerInfo:d,implementation:v}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return f(h,d,null,v)},Zt.flushSync=function(h){var d=m.T,v=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=v,i.d.f()}},Zt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Zt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Zt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var v=d.as,p=_(v,d.crossOrigin),D=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:D,fetchPriority:b}):v==="script"&&i.d.X(h,{crossOrigin:p,integrity:D,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=_(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Zt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,p=_(v,d.crossOrigin);i.d.L(h,v,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(h,d){if(typeof h=="string")if(d){var v=_(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Zt.requestFormReset=function(h){i.d.r(h)},Zt.unstable_batchedUpdates=function(h,d){return h(d)},Zt.useFormState=function(h,d,v){return m.H.useFormState(h,d,v)},Zt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Bd;function y2(){if(Bd)return rx.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rx.exports=g2(),rx.exports}var qd;function p2(){if(qd)return Wi;qd=1;var c=v2(),r=Bx(),a=y2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return h(u),e;if(s===l)return h(u),t;s=s.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=s;else{for(var S=!1,L=u.child;L;){if(L===n){S=!0,n=u,l=s;break}if(L===l){S=!0,l=u,n=s;break}L=L.sibling}if(!S){for(L=s.child;L;){if(L===n){S=!0,n=s,l=u;break}if(L===l){S=!0,l=s,n=u;break}L=L.sibling}if(!S)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),q=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function y(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case B:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case q:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var g=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},I=[],Y=-1;function N(e){return{current:e}}function G(e){0>Y||(e.current=I[Y],I[Y]=null,Y--)}function U(e,t){Y++,I[Y]=e.current,e.current=t}var X=N(null),ie=N(null),se=N(null),fe=N(null);function ye(e,t){switch(U(se,t),U(ie,e),U(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(X),U(X,e)}function he(){G(X),G(ie),G(se)}function je(e){e.memoizedState!==null&&U(fe,e);var t=X.current,n=Pf(t,e.type);t!==n&&(U(ie,e),U(X,n))}function oe(e){ie.current===e&&(G(X),G(ie)),fe.current===e&&(G(fe),Ui._currentValue=k)}var Ne,ke;function et(e){if(Ne===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ne=t&&t[1]||"",ke=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+e+ke}var We=!1;function tt(e,t){if(!e||We)return"";We=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(le){var te=le}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(le){te=le}e.call(ce.prototype)}}else{try{throw Error()}catch(le){te=le}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(le){if(le&&te&&typeof le.stack=="string")return[le.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),S=s[0],L=s[1];if(S&&L){var Z=S.split(`
`),ee=L.split(`
`);for(u=l=0;l<Z.length&&!Z[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ee.length&&!ee[u].includes("DetermineComponentFrameRoot");)u++;if(l===Z.length||u===ee.length)for(l=Z.length-1,u=ee.length-1;1<=l&&0<=u&&Z[l]!==ee[u];)u--;for(;1<=l&&0<=u;l--,u--)if(Z[l]!==ee[u]){if(l!==1||u!==1)do if(l--,u--,0>u||Z[l]!==ee[u]){var ae=`
`+Z[l].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=l&&0<=u);break}}}finally{We=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?et(n):""}function ft(e,t){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return e.child!==t&&t!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return tt(e.type,!1);case 11:return tt(e.type.render,!1);case 1:return tt(e.type,!0);case 31:return et("Activity");default:return""}}function it(e){try{var t="",n=null;do t+=ft(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,dt=c.unstable_scheduleCallback,Ue=c.unstable_cancelCallback,Bt=c.unstable_shouldYield,Wn=c.unstable_requestPaint,vt=c.unstable_now,Tn=c.unstable_getCurrentPriorityLevel,Pn=c.unstable_ImmediatePriority,rn=c.unstable_UserBlockingPriority,Zn=c.unstable_NormalPriority,Ul=c.unstable_LowPriority,ha=c.unstable_IdlePriority,li=c.log,ut=c.unstable_setDisableYieldValue,xe=null,pe=null;function Te(e){if(typeof li=="function"&&ut(e),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(xe,e)}catch{}}var _e=Math.clz32?Math.clz32:Oe,ze=Math.log,qt=Math.LN2;function Oe(e){return e>>>=0,e===0?32:31-(ze(e)/qt|0)|0}var we=256,gt=262144,at=4194304;function nt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~s,l!==0?u=nt(l):(S&=L,S!==0?u=nt(S):n||(n=L&~e,n!==0&&(u=nt(n))))):(L=l&~s,L!==0?u=nt(L):S!==0?u=nt(S):n||(n=l&~e,n!==0&&(u=nt(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function Je(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Xl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var e=at;return at<<=1,(at&62914560)===0&&(at=4194304),e}function Qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yt(e,t,n,l,u,s){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,Z=e.expirationTimes,ee=e.hiddenUpdates;for(n=S&~n;0<n;){var ae=31-_e(n),ce=1<<ae;L[ae]=0,Z[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var le=te[ae];le!==null&&(le.lane&=-536870913)}n&=~ce}l!==0&&Le(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(S&~t))}function Le(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-_e(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-_e(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rr(e,t){var n=t&-t;return n=(n&42)!==0?1:gn(n),(n&(e.suspendedLanes|t))!==0?0:n}function gn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cr(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function ur(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var Kn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Kn,It="__reactProps$"+Kn,de="__reactContainer$"+Kn,ve="__reactEvents$"+Kn,Ye="__reactListeners$"+Kn,Vt="__reactHandles$"+Kn,pt="__reactResources$"+Kn,cn="__reactMarker$"+Kn;function ri(e){delete e[Mt],delete e[It],delete e[ve],delete e[Ye],delete e[Vt]}function ma(e){var t=e[Mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[Mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[Mt])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function ba(e){if(e=e[Mt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ci(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function va(e){var t=e[pt];return t||(t=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[cn]=!0}var Gx=new Set,Rx={};function Jl(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(Rx[e]=t,e=0;e<t.length;e++)Gx.add(t[e])}var a1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kx={},Ox={};function i1(e){return At.call(Ox,e)?!0:At.call(kx,e)?!1:a1.test(e)?Ox[e]=!0:(kx[e]=!0,!1)}function xr(e,t,n){if(i1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function sr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function r1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(S){n=""+S,s.call(this,S)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qc(e){if(!e._valueTracker){var t=Hx(e)?"checked":"value";e._valueTracker=r1(e,t,""+e[t])}}function Yx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Hx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var c1=/[\n"\\]/g;function pn(e){return e.replace(c1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vc(e,t,n,l,u,s,S,L){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+yn(t)):e.value!==""+yn(t)&&(e.value=""+yn(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?Wc(e,S,yn(t)):n!=null?Wc(e,S,yn(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+yn(L):e.removeAttribute("name")}function Ix(e,t,n,l,u,s,S,L){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Qc(e);return}n=n!=null?""+yn(n):"",t=t!=null?""+yn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Qc(e)}function Wc(e,t,n){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ya(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+yn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Zx(e,t,n){if(t!=null&&(t=""+yn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+yn(n):""}function Kx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(g(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=yn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Qc(e)}function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var u1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ux(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||u1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ux(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Ux(e,s,t[s])}function Pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return s1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Fc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Sa=null;function Jx(e){var t=ba(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[It]||null;if(!u)throw Error(i(90));Vc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Yx(l)}break e;case"textarea":Zx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ya(e,!!n.multiple,t,!1)}}}var e0=!1;function Qx(e,t,n){if(e0)return e(t,n);e0=!0;try{var l=e(t);return l}finally{if(e0=!1,(_a!==null||Sa!==null)&&($r(),_a&&(t=_a,e=Sa,Sa=_a=null,Jx(t),e)))for(t=0;t<e.length;t++)Jx(e[t])}}function ui(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var el=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=!1;if(el)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){t0=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{t0=!1}var vl=null,n0=null,dr=null;function Vx(){if(dr)return dr;var e,t=n0,n=t.length,l,u="value"in vl?vl.value:vl.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var S=n-e;for(l=1;l<=S&&t[n-l]===u[s-l];l++);return dr=u.slice(e,1<l?1-l:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Wx(){return!1}function Wt(e){function t(n,l,u,s,S){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=S,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(s):s[L]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mr:Wx,this.isPropagationStopped=Wx,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Wt(Ql),si=p({},Ql,{view:0,detail:0}),o1=Wt(si),l0,a0,oi,vr=p({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(l0=e.screenX-oi.screenX,a0=e.screenY-oi.screenY):a0=l0=0,oi=e),l0)},movementY:function(e){return"movementY"in e?e.movementY:a0}}),Px=Wt(vr),f1=p({},vr,{dataTransfer:0}),d1=Wt(f1),h1=p({},si,{relatedTarget:0}),i0=Wt(h1),m1=p({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),b1=Wt(m1),v1=p({},Ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Wt(v1),y1=p({},Ql,{data:0}),Fx=Wt(y1),p1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S1[e])?!!t[e]:!1}function r0(){return C1}var w1=p({},si,{key:function(e){if(e.key){var t=p1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=Wt(w1),M1=p({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$x=Wt(M1),z1=p({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),D1=Wt(z1),N1=p({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),A1=Wt(N1),L1=p({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=Wt(L1),E1=p({},Ql,{newState:0,oldState:0}),B1=Wt(E1),q1=[9,13,27,32],c0=el&&"CompositionEvent"in window,fi=null;el&&"documentMode"in document&&(fi=document.documentMode);var G1=el&&"TextEvent"in window&&!fi,es=el&&(!c0||fi&&8<fi&&11>=fi),ts=" ",ns=!1;function ls(e,t){switch(e){case"keyup":return q1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function R1(e,t){switch(e){case"compositionend":return as(t);case"keypress":return t.which!==32?null:(ns=!0,ts);case"textInput":return e=t.data,e===ts&&ns?null:e;default:return null}}function k1(e,t){if(Ca)return e==="compositionend"||!c0&&ls(e,t)?(e=Vx(),dr=n0=vl=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return es&&t.locale!=="ko"?null:t.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function is(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O1[e.type]:t==="textarea"}function rs(e,t,n,l){_a?Sa?Sa.push(l):Sa=[l]:_a=l,t=rc(t,"onChange"),0<t.length&&(n=new br("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var di=null,hi=null;function H1(e){Kf(e,0)}function gr(e){var t=ci(e);if(Yx(t))return e}function cs(e,t){if(e==="change")return t}var us=!1;if(el){var u0;if(el){var x0="oninput"in document;if(!x0){var xs=document.createElement("div");xs.setAttribute("oninput","return;"),x0=typeof xs.oninput=="function"}u0=x0}else u0=!1;us=u0&&(!document.documentMode||9<document.documentMode)}function ss(){di&&(di.detachEvent("onpropertychange",os),hi=di=null)}function os(e){if(e.propertyName==="value"&&gr(hi)){var t=[];rs(t,hi,e,$c(e)),Qx(H1,t)}}function Y1(e,t,n){e==="focusin"?(ss(),di=t,hi=n,di.attachEvent("onpropertychange",os)):e==="focusout"&&ss()}function I1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(hi)}function Z1(e,t){if(e==="click")return gr(t)}function K1(e,t){if(e==="input"||e==="change")return gr(t)}function U1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:U1;function mi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!At.call(t,u)||!un(e[u],t[u]))return!1}return!0}function fs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n=fs(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fs(n)}}function hs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ms(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=or(e.document)}return t}function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var X1=el&&"documentMode"in document&&11>=document.documentMode,wa=null,o0=null,bi=null,f0=!1;function bs(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||wa==null||wa!==or(l)||(l=wa,"selectionStart"in l&&s0(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bi&&mi(bi,l)||(bi=l,l=rc(o0,"onSelect"),0<l.length&&(t=new br("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=wa)))}function Vl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},d0={},vs={};el&&(vs=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Wl(e){if(d0[e])return d0[e];if(!ja[e])return e;var t=ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vs)return d0[e]=t[n];return e}var gs=Wl("animationend"),ys=Wl("animationiteration"),ps=Wl("animationstart"),J1=Wl("transitionrun"),Q1=Wl("transitionstart"),V1=Wl("transitioncancel"),_s=Wl("transitionend"),Ss=new Map,h0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h0.push("scrollEnd");function En(e,t){Ss.set(e,t),Jl(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],Ma=0,m0=0;function pr(){for(var e=Ma,t=m0=Ma=0;t<e;){var n=_n[t];_n[t++]=null;var l=_n[t];_n[t++]=null;var u=_n[t];_n[t++]=null;var s=_n[t];if(_n[t++]=null,l!==null&&u!==null){var S=l.pending;S===null?u.next=u:(u.next=S.next,S.next=u),l.pending=u}s!==0&&Cs(n,u,s)}}function _r(e,t,n,l){_n[Ma++]=e,_n[Ma++]=t,_n[Ma++]=n,_n[Ma++]=l,m0|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function b0(e,t,n,l){return _r(e,t,n,l),Sr(e)}function Pl(e,t){return _r(e,null,null,t),Sr(e)}function Cs(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-_e(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function Sr(e){if(50<ki)throw ki=0,ju=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function W1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new W1(e,t,n,l)}function v0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tl(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ws(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,t,n,l,u,s){var S=0;if(l=e,typeof e=="function")v0(e)&&(S=1);else if(typeof e=="string")S=t2(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=xn(31,n,t,u),e.elementType=Q,e.lanes=s,e;case C:return Fl(n.children,u,s,t);case j:S=8,u|=24;break;case B:return e=xn(12,n,t,u|2),e.elementType=B,e.lanes=s,e;case K:return e=xn(13,n,t,u),e.elementType=K,e.lanes=s,e;case V:return e=xn(19,n,t,u),e.elementType=V,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:S=10;break e;case O:S=9;break e;case E:S=11;break e;case R:S=14;break e;case H:S=16,l=null;break e}S=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=xn(S,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function Fl(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function g0(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function js(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function y0(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ms=new WeakMap;function Sn(e,t){if(typeof e=="object"&&e!==null){var n=Ms.get(e);return n!==void 0?n:(t={value:e,source:t,stack:it(t)},Ms.set(e,t),t)}return{value:e,source:t,stack:it(t)}}var Da=[],Na=0,wr=null,vi=0,Cn=[],wn=0,gl=null,Un=1,Xn="";function nl(e,t){Da[Na++]=vi,Da[Na++]=wr,wr=e,vi=t}function zs(e,t,n){Cn[wn++]=Un,Cn[wn++]=Xn,Cn[wn++]=gl,gl=e;var l=Un;e=Xn;var u=32-_e(l)-1;l&=~(1<<u),n+=1;var s=32-_e(t)+u;if(30<s){var S=u-u%5;s=(l&(1<<S)-1).toString(32),l>>=S,u-=S,Un=1<<32-_e(t)+u|n<<u|l,Xn=s+e}else Un=1<<s|n<<u|l,Xn=e}function p0(e){e.return!==null&&(nl(e,1),zs(e,1,0))}function _0(e){for(;e===wr;)wr=Da[--Na],Da[Na]=null,vi=Da[--Na],Da[Na]=null;for(;e===gl;)gl=Cn[--wn],Cn[wn]=null,Xn=Cn[--wn],Cn[wn]=null,Un=Cn[--wn],Cn[wn]=null}function Ds(e,t){Cn[wn++]=Un,Cn[wn++]=Xn,Cn[wn++]=gl,Un=t.id,Xn=t.overflow,gl=e}var Gt=null,rt=null,Re=!1,yl=null,jn=!1,S0=Error(i(519));function pl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(Sn(t,e)),S0}function Ns(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Mt]=e,t[It]=l,n){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(n=0;n<Hi.length;n++)Be(Hi[n],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),Ix(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),Kx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Qf(t.textContent,n)?(l.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),l.onScroll!=null&&Be("scroll",t),l.onScrollEnd!=null&&Be("scrollend",t),l.onClick!=null&&(t.onclick=$n),t=!0):t=!1,t||pl(e,!0)}function As(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Gt=Gt.return}}function Aa(e){if(e!==Gt)return!1;if(!Re)return As(e),Re=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hu(e.type,e.memoizedProps)),n=!n),n&&rt&&pl(e),As(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));rt=ld(e)}else t===27?(t=rt,Bl(e.type)?(e=Uu,Uu=null,rt=e):rt=t):rt=Gt?zn(e.stateNode.nextSibling):null;return!0}function $l(){rt=Gt=null,Re=!1}function C0(){var e=yl;return e!==null&&(en===null?en=e:en.push.apply(en,e),yl=null),e}function gi(e){yl===null?yl=[e]:yl.push(e)}var w0=N(null),ea=null,ll=null;function _l(e,t,n){U(w0,t._currentValue),t._currentValue=n}function al(e){e._currentValue=w0.current,G(w0)}function j0(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function M0(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var S=u.child;s=s.firstContext;e:for(;s!==null;){var L=s;s=u;for(var Z=0;Z<t.length;Z++)if(L.context===t[Z]){s.lanes|=n,L=s.alternate,L!==null&&(L.lanes|=n),j0(s.return,n,e),l||(S=null);break e}s=L.next}}else if(u.tag===18){if(S=u.return,S===null)throw Error(i(341));S.lanes|=n,s=S.alternate,s!==null&&(s.lanes|=n),j0(S,n,e),S=null}else S=u.child;if(S!==null)S.return=u;else for(S=u;S!==null;){if(S===e){S=null;break}if(u=S.sibling,u!==null){u.return=S.return,S=u;break}S=S.return}u=S}}function La(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var S=u.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var L=u.type;un(u.pendingProps.value,S.value)||(e!==null?e.push(L):e=[L])}}else if(u===fe.current){if(S=u.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}u=u.return}e!==null&&M0(t,e,n,l),t.flags|=262144}function jr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ta(e){ea=e,ll=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Ls(ea,e)}function Mr(e,t){return ea===null&&ta(e),Ls(e,t)}function Ls(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ll===null){if(e===null)throw Error(i(308));ll=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ll=ll.next=t;return n}var P1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},F1=c.unstable_scheduleCallback,$1=c.unstable_NormalPriority,_t={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z0(){return{controller:new P1,data:new Map,refCount:0}}function yi(e){e.refCount--,e.refCount===0&&F1($1,function(){e.controller.abort()})}var pi=null,D0=0,Ta=0,Ea=null;function eh(e,t){if(pi===null){var n=pi=[];D0=0,Ta=Lu(),Ea={status:"pending",value:void 0,then:function(l){n.push(l)}}}return D0++,t.then(Ts,Ts),t}function Ts(){if(--D0===0&&pi!==null){Ea!==null&&(Ea.status="fulfilled");var e=pi;pi=null,Ta=0,Ea=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function th(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Es=M.S;M.S=function(e,t){gf=vt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&eh(e,t),Es!==null&&Es(e,t)};var na=N(null);function N0(){var e=na.current;return e!==null?e:lt.pooledCache}function zr(e,t){t===null?U(na,na.current):U(na,t.pool)}function Bs(){var e=N0();return e===null?null:{parent:_t._currentValue,pool:e}}var Ba=Error(i(460)),A0=Error(i(474)),Dr=Error(i(542)),Nr={then:function(){}};function qs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then($n,$n),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e;default:if(typeof t.status=="string")t.then($n,$n);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e}throw aa=t,Ba}}function la(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(aa=n,Ba):n}}var aa=null;function Rs(){if(aa===null)throw Error(i(459));var e=aa;return aa=null,e}function ks(e){if(e===Ba||e===Dr)throw Error(i(483))}var qa=null,_i=0;function Ar(e){var t=_i;return _i+=1,qa===null&&(qa=[]),Gs(qa,e,t)}function Si(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lr(e,t){throw t.$$typeof===D?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Os(e){function t(W,J){if(e){var $=W.deletions;$===null?(W.deletions=[J],W.flags|=16):$.push(J)}}function n(W,J){if(!e)return null;for(;J!==null;)t(W,J),J=J.sibling;return null}function l(W){for(var J=new Map;W!==null;)W.key!==null?J.set(W.key,W):J.set(W.index,W),W=W.sibling;return J}function u(W,J){return W=tl(W,J),W.index=0,W.sibling=null,W}function s(W,J,$){return W.index=$,e?($=W.alternate,$!==null?($=$.index,$<J?(W.flags|=67108866,J):$):(W.flags|=67108866,J)):(W.flags|=1048576,J)}function S(W){return e&&W.alternate===null&&(W.flags|=67108866),W}function L(W,J,$,re){return J===null||J.tag!==6?(J=g0($,W.mode,re),J.return=W,J):(J=u(J,$),J.return=W,J)}function Z(W,J,$,re){var ge=$.type;return ge===C?ae(W,J,$.props.children,re,$.key):J!==null&&(J.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===H&&la(ge)===J.type)?(J=u(J,$.props),Si(J,$),J.return=W,J):(J=Cr($.type,$.key,$.props,null,W.mode,re),Si(J,$),J.return=W,J)}function ee(W,J,$,re){return J===null||J.tag!==4||J.stateNode.containerInfo!==$.containerInfo||J.stateNode.implementation!==$.implementation?(J=y0($,W.mode,re),J.return=W,J):(J=u(J,$.children||[]),J.return=W,J)}function ae(W,J,$,re,ge){return J===null||J.tag!==7?(J=Fl($,W.mode,re,ge),J.return=W,J):(J=u(J,$),J.return=W,J)}function ce(W,J,$){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=g0(""+J,W.mode,$),J.return=W,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return $=Cr(J.type,J.key,J.props,null,W.mode,$),Si($,J),$.return=W,$;case A:return J=y0(J,W.mode,$),J.return=W,J;case H:return J=la(J),ce(W,J,$)}if(g(J)||y(J))return J=Fl(J,W.mode,$,null),J.return=W,J;if(typeof J.then=="function")return ce(W,Ar(J),$);if(J.$$typeof===q)return ce(W,Mr(W,J),$);Lr(W,J)}return null}function te(W,J,$,re){var ge=J!==null?J.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:L(W,J,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ge?Z(W,J,$,re):null;case A:return $.key===ge?ee(W,J,$,re):null;case H:return $=la($),te(W,J,$,re)}if(g($)||y($))return ge!==null?null:ae(W,J,$,re,null);if(typeof $.then=="function")return te(W,J,Ar($),re);if($.$$typeof===q)return te(W,J,Mr(W,$),re);Lr(W,$)}return null}function le(W,J,$,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return W=W.get($)||null,L(J,W,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return W=W.get(re.key===null?$:re.key)||null,Z(J,W,re,ge);case A:return W=W.get(re.key===null?$:re.key)||null,ee(J,W,re,ge);case H:return re=la(re),le(W,J,$,re,ge)}if(g(re)||y(re))return W=W.get($)||null,ae(J,W,re,ge,null);if(typeof re.then=="function")return le(W,J,$,Ar(re),ge);if(re.$$typeof===q)return le(W,J,$,Mr(J,re),ge);Lr(J,re)}return null}function me(W,J,$,re){for(var ge=null,Ie=null,be=J,Ae=J=0,Ge=null;be!==null&&Ae<$.length;Ae++){be.index>Ae?(Ge=be,be=null):Ge=be.sibling;var Ze=te(W,be,$[Ae],re);if(Ze===null){be===null&&(be=Ge);break}e&&be&&Ze.alternate===null&&t(W,be),J=s(Ze,J,Ae),Ie===null?ge=Ze:Ie.sibling=Ze,Ie=Ze,be=Ge}if(Ae===$.length)return n(W,be),Re&&nl(W,Ae),ge;if(be===null){for(;Ae<$.length;Ae++)be=ce(W,$[Ae],re),be!==null&&(J=s(be,J,Ae),Ie===null?ge=be:Ie.sibling=be,Ie=be);return Re&&nl(W,Ae),ge}for(be=l(be);Ae<$.length;Ae++)Ge=le(be,W,Ae,$[Ae],re),Ge!==null&&(e&&Ge.alternate!==null&&be.delete(Ge.key===null?Ae:Ge.key),J=s(Ge,J,Ae),Ie===null?ge=Ge:Ie.sibling=Ge,Ie=Ge);return e&&be.forEach(function(Ol){return t(W,Ol)}),Re&&nl(W,Ae),ge}function Se(W,J,$,re){if($==null)throw Error(i(151));for(var ge=null,Ie=null,be=J,Ae=J=0,Ge=null,Ze=$.next();be!==null&&!Ze.done;Ae++,Ze=$.next()){be.index>Ae?(Ge=be,be=null):Ge=be.sibling;var Ol=te(W,be,Ze.value,re);if(Ol===null){be===null&&(be=Ge);break}e&&be&&Ol.alternate===null&&t(W,be),J=s(Ol,J,Ae),Ie===null?ge=Ol:Ie.sibling=Ol,Ie=Ol,be=Ge}if(Ze.done)return n(W,be),Re&&nl(W,Ae),ge;if(be===null){for(;!Ze.done;Ae++,Ze=$.next())Ze=ce(W,Ze.value,re),Ze!==null&&(J=s(Ze,J,Ae),Ie===null?ge=Ze:Ie.sibling=Ze,Ie=Ze);return Re&&nl(W,Ae),ge}for(be=l(be);!Ze.done;Ae++,Ze=$.next())Ze=le(be,W,Ae,Ze.value,re),Ze!==null&&(e&&Ze.alternate!==null&&be.delete(Ze.key===null?Ae:Ze.key),J=s(Ze,J,Ae),Ie===null?ge=Ze:Ie.sibling=Ze,Ie=Ze);return e&&be.forEach(function(f2){return t(W,f2)}),Re&&nl(W,Ae),ge}function $e(W,J,$,re){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ge=$.key;J!==null;){if(J.key===ge){if(ge=$.type,ge===C){if(J.tag===7){n(W,J.sibling),re=u(J,$.props.children),re.return=W,W=re;break e}}else if(J.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===H&&la(ge)===J.type){n(W,J.sibling),re=u(J,$.props),Si(re,$),re.return=W,W=re;break e}n(W,J);break}else t(W,J);J=J.sibling}$.type===C?(re=Fl($.props.children,W.mode,re,$.key),re.return=W,W=re):(re=Cr($.type,$.key,$.props,null,W.mode,re),Si(re,$),re.return=W,W=re)}return S(W);case A:e:{for(ge=$.key;J!==null;){if(J.key===ge)if(J.tag===4&&J.stateNode.containerInfo===$.containerInfo&&J.stateNode.implementation===$.implementation){n(W,J.sibling),re=u(J,$.children||[]),re.return=W,W=re;break e}else{n(W,J);break}else t(W,J);J=J.sibling}re=y0($,W.mode,re),re.return=W,W=re}return S(W);case H:return $=la($),$e(W,J,$,re)}if(g($))return me(W,J,$,re);if(y($)){if(ge=y($),typeof ge!="function")throw Error(i(150));return $=ge.call($),Se(W,J,$,re)}if(typeof $.then=="function")return $e(W,J,Ar($),re);if($.$$typeof===q)return $e(W,J,Mr(W,$),re);Lr(W,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,J!==null&&J.tag===6?(n(W,J.sibling),re=u(J,$),re.return=W,W=re):(n(W,J),re=g0($,W.mode,re),re.return=W,W=re),S(W)):n(W,J)}return function(W,J,$,re){try{_i=0;var ge=$e(W,J,$,re);return qa=null,ge}catch(be){if(be===Ba||be===Dr)throw be;var Ie=xn(29,be,null,W.mode);return Ie.lanes=re,Ie.return=W,Ie}}}var ia=Os(!0),Hs=Os(!1),Sl=!1;function L0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function T0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Sr(e),Cs(e,null,n),t}return _r(e,l,t,n),Sr(e)}function Ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ai(e,n)}}function E0(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=S:s=s.next=S,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var B0=!1;function wi(){if(B0){var e=Ea;if(e!==null)throw e}}function ji(e,t,n,l){B0=!1;var u=e.updateQueue;Sl=!1;var s=u.firstBaseUpdate,S=u.lastBaseUpdate,L=u.shared.pending;if(L!==null){u.shared.pending=null;var Z=L,ee=Z.next;Z.next=null,S===null?s=ee:S.next=ee,S=Z;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==S&&(L===null?ae.firstBaseUpdate=ee:L.next=ee,ae.lastBaseUpdate=Z))}if(s!==null){var ce=u.baseState;S=0,ae=ee=Z=null,L=s;do{var te=L.lane&-536870913,le=te!==L.lane;if(le?(qe&te)===te:(l&te)===te){te!==0&&te===Ta&&(B0=!0),ae!==null&&(ae=ae.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var me=e,Se=L;te=t;var $e=n;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ce=me.call($e,ce,te);break e}ce=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,te=typeof me=="function"?me.call($e,ce,te):me,te==null)break e;ce=p({},ce,te);break e;case 2:Sl=!0}}te=L.callback,te!==null&&(e.flags|=64,le&&(e.flags|=8192),le=u.callbacks,le===null?u.callbacks=[te]:le.push(te))}else le={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(ee=ae=le,Z=ce):ae=ae.next=le,S|=te;if(L=L.next,L===null){if(L=u.shared.pending,L===null)break;le=L,L=le.next,le.next=null,u.lastBaseUpdate=le,u.shared.pending=null}}while(!0);ae===null&&(Z=ce),u.baseState=Z,u.firstBaseUpdate=ee,u.lastBaseUpdate=ae,s===null&&(u.shared.lanes=0),Nl|=S,e.lanes=S,e.memoizedState=ce}}function Ys(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Is(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ys(n[e],t)}var Ga=N(null),Tr=N(0);function Zs(e,t){e=dl,U(Tr,e),U(Ga,t),dl=e|t.baseLanes}function q0(){U(Tr,dl),U(Ga,Ga.current)}function G0(){dl=Tr.current,G(Ga),G(Tr)}var sn=N(null),Mn=null;function jl(e){var t=e.alternate;U(ht,ht.current&1),U(sn,e),Mn===null&&(t===null||Ga.current!==null||t.memoizedState!==null)&&(Mn=e)}function R0(e){U(ht,ht.current),U(sn,e),Mn===null&&(Mn=e)}function Ks(e){e.tag===22?(U(ht,ht.current),U(sn,e),Mn===null&&(Mn=e)):Ml()}function Ml(){U(ht,ht.current),U(sn,sn.current)}function on(e){G(sn),Mn===e&&(Mn=null),G(ht)}var ht=N(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Zu(n)||Ku(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=0,De=null,Pe=null,St=null,Br=!1,Ra=!1,ra=!1,qr=0,Mi=0,ka=null,nh=0;function st(){throw Error(i(321))}function k0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function O0(e,t,n,l,u,s){return il=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Do:eu,ra=!1,s=n(l,u),ra=!1,Ra&&(s=Xs(t,n,l,u)),Us(e),s}function Us(e){M.H=Ni;var t=Pe!==null&&Pe.next!==null;if(il=0,St=Pe=De=null,Br=!1,Mi=0,ka=null,t)throw Error(i(300));e===null||Ct||(e=e.dependencies,e!==null&&jr(e)&&(Ct=!0))}function Xs(e,t,n,l){De=e;var u=0;do{if(Ra&&(ka=null),Mi=0,Ra=!1,25<=u)throw Error(i(301));if(u+=1,St=Pe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}M.H=No,s=t(n,l)}while(Ra);return s}function lh(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?zi(t):t,e=e.useState()[0],(Pe!==null?Pe.memoizedState:null)!==e&&(De.flags|=1024),t}function H0(){var e=qr!==0;return qr=0,e}function Y0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function I0(e){if(Br){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Br=!1}il=0,St=Pe=De=null,Ra=!1,Mi=qr=0,ka=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?De.memoizedState=St=e:St=St.next=e,St}function mt(){if(Pe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=St===null?De.memoizedState:St.next;if(t!==null)St=t,Pe=e;else{if(e===null)throw De.alternate===null?Error(i(467)):Error(i(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},St===null?De.memoizedState=St=e:St=St.next=e}return St}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zi(e){var t=Mi;return Mi+=1,ka===null&&(ka=[]),e=Gs(ka,e,t),t=De,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Do:eu),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zi(e);if(e.$$typeof===q)return Rt(e)}throw Error(i(438,String(e)))}function Z0(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Gr(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=ne;return t.index++,n}function rl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=mt();return K0(t,Pe,e)}function K0(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var S=u.next;u.next=s.next,s.next=S}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var L=S=null,Z=null,ee=t,ae=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(qe&ce)===ce:(il&ce)===ce){var te=ee.revertLane;if(te===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Ta&&(ae=!0);else if((il&te)===te){ee=ee.next,te===Ta&&(ae=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Z===null?(L=Z=ce,S=s):Z=Z.next=ce,De.lanes|=te,Nl|=te;ce=ee.action,ra&&n(s,ce),s=ee.hasEagerState?ee.eagerState:n(s,ce)}else te={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Z===null?(L=Z=te,S=s):Z=Z.next=te,De.lanes|=ce,Nl|=ce;ee=ee.next}while(ee!==null&&ee!==t);if(Z===null?S=s:Z.next=L,!un(s,e.memoizedState)&&(Ct=!0,ae&&(n=Ea,n!==null)))throw n;e.memoizedState=s,e.baseState=S,e.baseQueue=Z,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function U0(e){var t=mt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var S=u=u.next;do s=e(s,S.action),S=S.next;while(S!==u);un(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Js(e,t,n){var l=De,u=mt(),s=Re;if(s){if(n===void 0)throw Error(i(407));n=n()}else n=t();var S=!un((Pe||u).memoizedState,n);if(S&&(u.memoizedState=n,Ct=!0),u=u.queue,Q0(Ws.bind(null,l,u,e),[e]),u.getSnapshot!==t||S||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Oa(9,{destroy:void 0},Vs.bind(null,l,u,n,t),null),lt===null)throw Error(i(349));s||(il&127)!==0||Qs(l,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=Gr(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vs(e,t,n,l){t.value=n,t.getSnapshot=l,Ps(t)&&Fs(e)}function Ws(e,t,n){return n(function(){Ps(t)&&Fs(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Fs(e){var t=Pl(e,2);t!==null&&tn(t,e,2)}function X0(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),ra){Te(!0);try{n()}finally{Te(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function $s(e,t,n,l){return e.baseState=n,K0(e,Pe,typeof l=="function"?l:rl)}function ah(e,t,n,l,u){if(Yr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){s.listeners.push(S)}};M.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,eo(t,s)):(s.next=n.next,t.pending=n.next=s)}}function eo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=M.T,S={};M.T=S;try{var L=n(u,l),Z=M.S;Z!==null&&Z(S,L),to(e,t,L)}catch(ee){J0(e,t,ee)}finally{s!==null&&S.types!==null&&(s.types=S.types),M.T=s}}else try{s=n(u,l),to(e,t,s)}catch(ee){J0(e,t,ee)}}function to(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){no(e,t,l)},function(l){return J0(e,t,l)}):no(e,t,n)}function no(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eo(e,n)))}function J0(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lo(t),t=t.next;while(t!==l)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function io(e,t){if(Re){var n=lt.formState;if(n!==null){e:{var l=De;if(Re){if(rt){t:{for(var u=rt,s=jn;u.nodeType!==8;){if(!s){u=null;break t}if(u=zn(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){rt=zn(u.nextSibling),l=u.data==="F!";break e}}pl(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=l,n=jo.bind(null,De,l),l.dispatch=n,l=X0(!1),s=$0.bind(null,De,!1,l.queue),l=Kt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=ah.bind(null,De,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function ro(e){var t=mt();return co(t,Pe,e)}function co(e,t,n){if(t=K0(e,t,ao)[0],e=kr(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=zi(t)}catch(S){throw S===Ba?Dr:S}else l=t;t=mt();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(De.flags|=2048,Oa(9,{destroy:void 0},ih.bind(null,u,n),null)),[l,s,e]}function ih(e,t){e.action=t}function uo(e){var t=mt(),n=Pe;if(n!==null)return co(t,n,e);mt(),t=t.memoizedState,n=mt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Oa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=De.updateQueue,t===null&&(t=Gr(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function xo(){return mt().memoizedState}function Or(e,t,n,l){var u=Kt();De.flags|=e,u.memoizedState=Oa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Hr(e,t,n,l){var u=mt();l=l===void 0?null:l;var s=u.memoizedState.inst;Pe!==null&&l!==null&&k0(l,Pe.memoizedState.deps)?u.memoizedState=Oa(t,s,n,l):(De.flags|=e,u.memoizedState=Oa(1|t,s,n,l))}function so(e,t){Or(8390656,8,e,t)}function Q0(e,t){Hr(2048,8,e,t)}function rh(e){De.flags|=4;var t=De.updateQueue;if(t===null)t=Gr(),De.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oo(e){var t=mt().memoizedState;return rh({ref:t,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fo(e,t){return Hr(4,2,e,t)}function ho(e,t){return Hr(4,4,e,t)}function mo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bo(e,t,n){n=n!=null?n.concat([e]):null,Hr(4,4,mo.bind(null,t,e),n)}function V0(){}function vo(e,t){var n=mt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&k0(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=mt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&k0(t,l[1]))return l[0];if(l=e(),ra){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[l,t],l}function W0(e,t,n){return n===void 0||(il&1073741824)!==0&&(qe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),De.lanes|=e,Nl|=e,n)}function yo(e,t,n,l){return un(n,t)?n:Ga.current!==null?(e=W0(e,n,l),un(e,t)||(Ct=!0),e):(il&42)===0||(il&1073741824)!==0&&(qe&261930)===0?(Ct=!0,e.memoizedState=n):(e=pf(),De.lanes|=e,Nl|=e,t)}function po(e,t,n,l,u){var s=T.p;T.p=s!==0&&8>s?s:8;var S=M.T,L={};M.T=L,$0(e,!1,t,n);try{var Z=u(),ee=M.S;if(ee!==null&&ee(L,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ae=th(Z,l);Di(e,t,ae,hn(e))}else Di(e,t,l,hn(e))}catch(ce){Di(e,t,{then:function(){},status:"rejected",reason:ce},hn())}finally{T.p=s,S!==null&&L.types!==null&&(S.types=L.types),M.T=S}}function ch(){}function P0(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=_o(e).queue;po(e,u,t,k,n===null?ch:function(){return So(e),n(l)})}function _o(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:k},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function So(e){var t=_o(e);t.next===null&&(t=e.alternate.memoizedState),Di(e,t.next.queue,{},hn())}function F0(){return Rt(Ui)}function Co(){return mt().memoizedState}function wo(){return mt().memoizedState}function uh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Cl(n);var l=wl(t,e,n);l!==null&&(tn(l,t,n),Ci(l,t,n)),t={cache:z0()},e.payload=t;return}t=t.return}}function xh(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yr(e)?Mo(t,n):(n=b0(e,t,n,l),n!==null&&(tn(n,e,l),zo(n,t,l)))}function jo(e,t,n){var l=hn();Di(e,t,n,l)}function Di(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yr(e))Mo(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var S=t.lastRenderedState,L=s(S,n);if(u.hasEagerState=!0,u.eagerState=L,un(L,S))return _r(e,t,u,0),lt===null&&pr(),!1}catch{}if(n=b0(e,t,u,l),n!==null)return tn(n,e,l),zo(n,t,l),!0}return!1}function $0(e,t,n,l){if(l={lane:2,revertLane:Lu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yr(e)){if(t)throw Error(i(479))}else t=b0(e,n,l,2),t!==null&&tn(t,e,2)}function Yr(e){var t=e.alternate;return e===De||t!==null&&t===De}function Mo(e,t){Ra=Br=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,ai(e,n)}}var Ni={readContext:Rt,use:Rr,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ni.useEffectEvent=st;var Do={readContext:Rt,use:Rr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:so,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(ra){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var u=n(t);if(ra){Te(!0);try{n(t)}finally{Te(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=xh.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=X0(e);var t=e.queue,n=jo.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:V0,useDeferredValue:function(e,t){var n=Kt();return W0(n,e,t)},useTransition:function(){var e=X0(!1);return e=po.bind(null,De,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=De,u=Kt();if(Re){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),lt===null)throw Error(i(349));(qe&127)!==0||Qs(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,so(Ws.bind(null,l,s,e),[e]),l.flags|=2048,Oa(9,{destroy:void 0},Vs.bind(null,l,s,n,t),null),n},useId:function(){var e=Kt(),t=lt.identifierPrefix;if(Re){var n=Xn,l=Un;n=(l&~(1<<32-_e(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nh++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:F0,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$0.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:Z0,useCacheRefresh:function(){return Kt().memoizedState=uh.bind(null,De)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Ke&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},eu={readContext:Rt,use:Rr,useCallback:vo,useContext:Rt,useEffect:Q0,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:kr,useRef:xo,useState:function(){return kr(rl)},useDebugValue:V0,useDeferredValue:function(e,t){var n=mt();return yo(n,Pe.memoizedState,e,t)},useTransition:function(){var e=kr(rl)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:F0,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=mt();return $s(n,Pe,e,t)},useMemoCache:Z0,useCacheRefresh:wo};eu.useEffectEvent=oo;var No={readContext:Rt,use:Rr,useCallback:vo,useContext:Rt,useEffect:Q0,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:U0,useRef:xo,useState:function(){return U0(rl)},useDebugValue:V0,useDeferredValue:function(e,t){var n=mt();return Pe===null?W0(n,e,t):yo(n,Pe.memoizedState,e,t)},useTransition:function(){var e=U0(rl)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:zi(e),t]},useSyncExternalStore:Js,useId:Co,useHostTransitionStatus:F0,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){var n=mt();return Pe!==null?$s(n,Pe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Z0,useCacheRefresh:wo};No.useEffectEvent=oo;function tu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Cl(l);u.payload=t,n!=null&&(u.callback=n),t=wl(e,u,l),t!==null&&(tn(t,e,l),Ci(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Cl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=wl(e,u,l),t!==null&&(tn(t,e,l),Ci(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Cl(n);l.tag=2,t!=null&&(l.callback=t),t=wl(e,l,n),t!==null&&(tn(t,e,n),Ci(t,e,n))}};function Ao(e,t,n,l,u,s,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,S):t.prototype&&t.prototype.isPureReactComponent?!mi(n,l)||!mi(u,s):!0}function Lo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function ca(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function To(e){yr(e)}function Eo(e){console.error(e)}function Bo(e){yr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function lu(e,t,n){return n=Cl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Go(e){return e=Cl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){qo(t,n,l)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof u!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function sh(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&La(t,n,u,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return Mn===null?ec():n.alternate===null&&ot===0&&(ot=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Du(e,l,u)),!1;case 22:return n.flags|=65536,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Du(e,l,u)),!1}throw Error(i(435,n.tag))}return Du(e,l,u),ec(),!1}if(Re)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==S0&&(e=Error(i(422),{cause:l}),gi(Sn(e,n)))):(l!==S0&&(t=Error(i(423),{cause:l}),gi(Sn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Sn(l,n),u=lu(e.stateNode,l,u),E0(e,u),ot!==4&&(ot=2)),!1;var s=Error(i(520),{cause:l});if(s=Sn(s,n),Ri===null?Ri=[s]:Ri.push(s),ot!==4&&(ot=2),t===null)return!0;l=Sn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=lu(n.stateNode,l,e),E0(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Al===null||!Al.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Go(u),Ro(u,e,n,l),E0(n,u),!1}n=n.return}while(n!==null);return!1}var au=Error(i(461)),Ct=!1;function kt(e,t,n,l){t.child=e===null?Hs(t,null,n,l):ia(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var S={};for(var L in l)L!=="ref"&&(S[L]=l[L])}else S=l;return ta(t),l=O0(e,t,n,S,s,u),L=H0(),e!==null&&!Ct?(Y0(e,t,u),cl(e,t,u)):(Re&&L&&p0(t),t.flags|=1,kt(e,t,l,u),t.child)}function Oo(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!v0(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Ho(e,t,s,l,u)):(e=Cr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fu(e,u)){var S=s.memoizedProps;if(n=n.compare,n=n!==null?n:mi,n(S,l)&&e.ref===t.ref)return cl(e,t,u)}return t.flags|=1,e=tl(s,l),e.ref=t.ref,e.return=t,t.child=e}function Ho(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(mi(s,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=s,fu(e,u))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,cl(e,t,u)}return iu(e,t,n,l,u)}function Yo(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Io(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zr(t,s!==null?s.cachePool:null),s!==null?Zs(t,s):q0(),Ks(t);else return l=t.lanes=536870912,Io(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(zr(t,s.cachePool),Zs(t,s),Ml(),t.memoizedState=null):(e!==null&&zr(t,null),q0(),Ml());return kt(e,t,u,n),t.child}function Ai(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,n,l,u){var s=N0();return s=s===null?null:{parent:_t._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&zr(t,null),q0(),Ks(t),e!==null&&La(e,t,l,!0),t.childLanes=u,null}function Zr(e,t){return t=Ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zo(e,t,n){return ia(t,e.child,null,n),e=Zr(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function oh(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(l.mode==="hidden")return e=Zr(t,l),t.lanes=536870912,Ai(null,e);if(R0(t),(e=rt)?(e=nd(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gl!==null?{id:Un,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Gt=t,rt=null)):e=null,e===null)throw pl(t);return t.lanes=536870912,null}return Zr(t,l)}var s=e.memoizedState;if(s!==null){var S=s.dehydrated;if(R0(t),u)if(t.flags&256)t.flags&=-257,t=Zo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ct||La(e,t,n,!1),u=(n&e.childLanes)!==0,Ct||u){if(l=lt,l!==null&&(S=rr(l,n),S!==0&&S!==s.retryLane))throw s.retryLane=S,Pl(e,S),tn(l,e,S),au;ec(),t=Zo(e,t,n)}else e=s.treeContext,rt=zn(S.nextSibling),Gt=t,Re=!0,yl=null,jn=!1,e!==null&&Ds(t,e),t=Zr(t,l),t.flags|=4096;return t}return e=tl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function iu(e,t,n,l,u){return ta(t),n=O0(e,t,n,l,void 0,u),l=H0(),e!==null&&!Ct?(Y0(e,t,u),cl(e,t,u)):(Re&&l&&p0(t),t.flags|=1,kt(e,t,n,u),t.child)}function Ko(e,t,n,l,u,s){return ta(t),t.updateQueue=null,n=Xs(t,l,n,u),Us(e),l=H0(),e!==null&&!Ct?(Y0(e,t,s),cl(e,t,s)):(Re&&l&&p0(t),t.flags|=1,kt(e,t,n,s),t.child)}function Uo(e,t,n,l,u){if(ta(t),t.stateNode===null){var s=za,S=n.contextType;typeof S=="object"&&S!==null&&(s=Rt(S)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},L0(t),S=n.contextType,s.context=typeof S=="object"&&S!==null?Rt(S):za,s.state=t.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(tu(t,n,S,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(S=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),S!==s.state&&nu.enqueueReplaceState(s,s.state,null),ji(t,l,s,u),wi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var L=t.memoizedProps,Z=ca(n,L);s.props=Z;var ee=s.context,ae=n.contextType;S=za,typeof ae=="object"&&ae!==null&&(S=Rt(ae));var ce=n.getDerivedStateFromProps;ae=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ae||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(L||ee!==S)&&Lo(t,s,l,S),Sl=!1;var te=t.memoizedState;s.state=te,ji(t,l,s,u),wi(),ee=t.memoizedState,L||te!==ee||Sl?(typeof ce=="function"&&(tu(t,n,ce,l),ee=t.memoizedState),(Z=Sl||Ao(t,n,Z,l,te,ee,S))?(ae||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),s.props=l,s.state=ee,s.context=S,l=Z):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,T0(e,t),S=t.memoizedProps,ae=ca(n,S),s.props=ae,ce=t.pendingProps,te=s.context,ee=n.contextType,Z=za,typeof ee=="object"&&ee!==null&&(Z=Rt(ee)),L=n.getDerivedStateFromProps,(ee=typeof L=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(S!==ce||te!==Z)&&Lo(t,s,l,Z),Sl=!1,te=t.memoizedState,s.state=te,ji(t,l,s,u),wi();var le=t.memoizedState;S!==ce||te!==le||Sl||e!==null&&e.dependencies!==null&&jr(e.dependencies)?(typeof L=="function"&&(tu(t,n,L,l),le=t.memoizedState),(ae=Sl||Ao(t,n,ae,l,te,le,Z)||e!==null&&e.dependencies!==null&&jr(e.dependencies))?(ee||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,le,Z),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,le,Z)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||S===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=le),s.props=l,s.state=le,s.context=Z,l=ae):(typeof s.componentDidUpdate!="function"||S===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Kr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ia(t,e.child,null,u),t.child=ia(t,null,n,u)):kt(e,t,n,u),t.memoizedState=s.state,e=t.child):e=cl(e,t,u),e}function Xo(e,t,n,l){return $l(),t.flags|=256,kt(e,t,n,l),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:Bs()}}function uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Jo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,S;if((S=s)||(S=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),S&&(u=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(u?jl(t):Ml(),(e=rt)?(e=nd(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:gl!==null?{id:Un,overflow:Xn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Gt=t,rt=null)):e=null,e===null)throw pl(t);return Ku(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,u?(Ml(),u=t.mode,L=Ur({mode:"hidden",children:L},u),l=Fl(l,u,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,S,n),t.memoizedState=ru,Ai(null,l)):(jl(t),xu(t,L))}var Z=e.memoizedState;if(Z!==null&&(L=Z.dehydrated,L!==null)){if(s)t.flags&256?(jl(t),t.flags&=-257,t=su(e,t,n)):t.memoizedState!==null?(Ml(),t.child=e.child,t.flags|=128,t=null):(Ml(),L=l.fallback,u=t.mode,l=Ur({mode:"visible",children:l.children},u),L=Fl(L,u,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ia(t,e.child,null,n),l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,S,n),t.memoizedState=ru,t=Ai(null,l));else if(jl(t),Ku(L)){if(S=L.nextSibling&&L.nextSibling.dataset,S)var ee=S.dgst;S=ee,l=Error(i(419)),l.stack="",l.digest=S,gi({value:l,source:null,stack:null}),t=su(e,t,n)}else if(Ct||La(e,t,n,!1),S=(n&e.childLanes)!==0,Ct||S){if(S=lt,S!==null&&(l=rr(S,n),l!==0&&l!==Z.retryLane))throw Z.retryLane=l,Pl(e,l),tn(S,e,l),au;Zu(L)||ec(),t=su(e,t,n)}else Zu(L)?(t.flags|=192,t.child=e.child,t=null):(e=Z.treeContext,rt=zn(L.nextSibling),Gt=t,Re=!0,yl=null,jn=!1,e!==null&&Ds(t,e),t=xu(t,l.children),t.flags|=4096);return t}return u?(Ml(),L=l.fallback,u=t.mode,Z=e.child,ee=Z.sibling,l=tl(Z,{mode:"hidden",children:l.children}),l.subtreeFlags=Z.subtreeFlags&65011712,ee!==null?L=tl(ee,L):(L=Fl(L,u,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Ai(null,l),l=t.child,L=e.child.memoizedState,L===null?L=cu(n):(u=L.cachePool,u!==null?(Z=_t._currentValue,u=u.parent!==Z?{parent:Z,pool:Z}:u):u=Bs(),L={baseLanes:L.baseLanes|n,cachePool:u}),l.memoizedState=L,l.childLanes=uu(e,S,n),t.memoizedState=ru,Ai(e.child,l)):(jl(t),n=e.child,e=n.sibling,n=tl(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=n,t.memoizedState=null,n)}function xu(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function su(e,t,n){return ia(t,e.child,null,n),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),j0(e.return,t,n)}function ou(e,t,n,l,u,s){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=n,S.tailMode=u,S.treeForkCount=s)}function Vo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var S=ht.current,L=(S&2)!==0;if(L?(S=S&1|2,t.flags|=128):S&=1,U(ht,S),kt(e,t,l,n),l=Re?vi:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qo(e,n,t);else if(e.tag===19)Qo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Er(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ou(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Er(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ou(t,!0,n,null,s,l);break;case"together":ou(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function cl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(La(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=tl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jr(e)))}function fh(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),_l(t,_t,e.memoizedState.cache),$l();break;case 27:case 5:je(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:_l(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,R0(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(jl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(jl(t),e=cl(e,t,n),e!==null?e.sibling:null);jl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(La(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Vo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),U(ht,ht.current),l)break;return null;case 22:return t.lanes=0,Yo(e,t,n,t.pendingProps);case 24:_l(t,_t,e.memoizedState.cache)}return cl(e,t,n)}function Wo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!fu(e,n)&&(t.flags&128)===0)return Ct=!1,fh(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Re&&(t.flags&1048576)!==0&&zs(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=la(t.elementType),t.type=e,typeof e=="function")v0(e)?(l=ca(e,l),t.tag=1,t=Uo(null,t,e,l,n)):(t.tag=0,t=iu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===E){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===R){t.tag=14,t=Oo(null,t,e,l,n);break e}}throw t=z(e)||e,Error(i(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=ca(l,t.pendingProps),Uo(e,t,l,u,n);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,T0(e,t),ji(t,l,null,n);var S=t.memoizedState;if(l=S.cache,_l(t,_t,l),l!==s.cache&&M0(t,[_t],n,!0),wi(),l=S.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Xo(e,t,l,n);break e}else if(l!==u){u=Sn(Error(i(424)),t),gi(u),t=Xo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,rt=zn(e.firstChild),Gt=t,Re=!0,yl=null,jn=!0,n=Hs(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),l===u){t=cl(e,t,n);break e}kt(e,t,l,n)}t=t.child}return t;case 26:return Kr(e,t),e===null?(n=ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:Re||(n=t.type,e=t.pendingProps,l=cc(se.current).createElement(n),l[Mt]=t,l[It]=e,Ot(l,n,e),Tt(l),t.stateNode=l):t.memoizedState=ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return je(t),e===null&&Re&&(l=t.stateNode=id(t.type,t.pendingProps,se.current),Gt=t,jn=!0,u=rt,Bl(t.type)?(Uu=u,rt=zn(l.firstChild)):rt=u),kt(e,t,t.pendingProps.children,n),Kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((u=l=rt)&&(l=Ih(l,t.type,t.pendingProps,jn),l!==null?(t.stateNode=l,Gt=t,rt=zn(l.firstChild),jn=!1,u=!0):u=!1),u||pl(t)),je(t),u=t.type,s=t.pendingProps,S=e!==null?e.memoizedProps:null,l=s.children,Hu(u,s)?l=null:S!==null&&Hu(u,S)&&(t.flags|=32),t.memoizedState!==null&&(u=O0(e,t,lh,null,null,n),Ui._currentValue=u),Kr(e,t),kt(e,t,l,n),t.child;case 6:return e===null&&Re&&((e=n=rt)&&(n=Zh(n,t.pendingProps,jn),n!==null?(t.stateNode=n,Gt=t,rt=null,e=!0):e=!1),e||pl(t)),null;case 13:return Jo(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ia(t,null,l,n):kt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,_l(t,t.type,l.value),kt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,ta(t),u=Rt(u),l=l(u),t.flags|=1,kt(e,t,l,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Ho(e,t,t.type,t.pendingProps,n);case 19:return Vo(e,t,n);case 31:return oh(e,t,n);case 22:return Yo(e,t,n,t.pendingProps);case 24:return ta(t),l=Rt(_t),e===null?(u=N0(),u===null&&(u=lt,s=z0(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},L0(t),_l(t,_t,u)):((e.lanes&n)!==0&&(T0(e,t),ji(t,null,null,n),wi()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),_l(t,_t,l)):(l=s.cache,_l(t,_t,l),l!==u.cache&&M0(t,[_t],n,!0))),kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ul(e){e.flags|=4}function du(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(wf())e.flags|=8192;else throw aa=Nr,A0}else e.flags&=-16777217}function Po(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(wf())e.flags|=8192;else throw aa=Nr,A0}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Lt():536870912,e.lanes|=t,Za|=t)}function Li(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function dh(e,t,n){var l=t.pendingProps;switch(_0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),al(_t),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?ul(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,C0())),ct(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(ul(t),s!==null?(ct(t),Po(t,s)):(ct(t),du(t,u,null,l,n))):s?s!==e.memoizedState?(ul(t),ct(t),Po(t,s)):(ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ul(t),ct(t),du(t,u,e,l,n)),null;case 27:if(oe(t),n=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ul(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ct(t),null}e=X.current,Aa(t)?Ns(t):(e=id(u,l,n),t.stateNode=e,ul(t))}return ct(t),null;case 5:if(oe(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ul(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ct(t),null}if(s=X.current,Aa(t))Ns(t);else{var S=cc(se.current);switch(s){case 1:s=S.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=S.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?S.createElement("select",{is:l.is}):S.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?S.createElement(u,{is:l.is}):S.createElement(u)}}s[Mt]=t,s[It]=l;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)s.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=s;e:switch(Ot(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ul(t)}}return ct(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ul(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=se.current,Aa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Qf(e.nodeValue,n)),e||pl(t,!0)}else e=cc(e).createTextNode(l),e[Mt]=t,t.stateNode=e}return ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Aa(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Mt]=t}else $l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),e=!1}else n=C0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ct(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Aa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Mt]=t}else $l(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),u=!1}else u=C0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),ct(t),null);case 4:return he(),e===null&&qu(t.stateNode.containerInfo),ct(t),null;case 10:return al(t.type),ct(t),null;case 19:if(G(ht),l=t.memoizedState,l===null)return ct(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)Li(l,!1);else{if(ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Er(e),s!==null){for(t.flags|=128,Li(l,!1),e=s.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ws(n,e),n=n.sibling;return U(ht,ht.current&1|2),Re&&nl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&vt()>Pr&&(t.flags|=128,u=!0,Li(l,!1),t.lanes=4194304)}else{if(!u)if(e=Er(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Re)return ct(t),null}else 2*vt()-l.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,u=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=vt(),e.sibling=null,n=ht.current,U(ht,u?n&1|2:n&1),Re&&nl(t,l.treeForkCount),e):(ct(t),null);case 22:case 23:return on(t),G0(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&G(na),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),al(_t),ct(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function hh(e,t){switch(_0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return al(_t),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oe(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(i(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(ht),null;case 4:return he(),null;case 10:return al(t.type),null;case 22:case 23:return on(t),G0(),e!==null&&G(na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return al(_t),null;case 25:return null;default:return null}}function Fo(e,t){switch(_0(t),t.tag){case 3:al(_t),he();break;case 26:case 27:case 5:oe(t);break;case 4:he();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:G(ht);break;case 10:al(t.type);break;case 22:case 23:on(t),G0(),e!==null&&G(na);break;case 24:al(_t)}}function Ti(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,S=n.inst;l=s(),S.destroy=l}n=n.next}while(n!==u)}}catch(L){Ve(t,t.return,L)}}function zl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var S=l.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,u=t;var Z=n,ee=L;try{ee()}catch(ae){Ve(u,Z,ae)}}}l=l.next}while(l!==s)}}catch(ae){Ve(t,t.return,ae)}}function $o(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Is(t,n)}catch(l){Ve(e,e.return,l)}}}function ef(e,t,n){n.props=ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Ve(e,t,l)}}function Ei(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){Ve(e,t,u)}}function Jn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){Ve(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ve(e,t,u)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){Ve(e,e.return,u)}}function hu(e,t,n){try{var l=e.stateNode;Gh(l,e.type,n,t),l[It]=t}catch(u){Ve(e,e.return,u)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bl(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$n));else if(l!==4&&(l===27&&Bl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Bl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ot(t,l,n),t[Mt]=e,t[It]=n}catch(s){Ve(e,e.return,s)}}var xl=!1,wt=!1,vu=!1,af=typeof WeakSet=="function"?WeakSet:Set,Et=null;function mh(e,t){if(e=e.containerInfo,ku=hc,e=ms(e),s0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var S=0,L=-1,Z=-1,ee=0,ae=0,ce=e,te=null;t:for(;;){for(var le;ce!==n||u!==0&&ce.nodeType!==3||(L=S+u),ce!==s||l!==0&&ce.nodeType!==3||(Z=S+l),ce.nodeType===3&&(S+=ce.nodeValue.length),(le=ce.firstChild)!==null;)te=ce,ce=le;for(;;){if(ce===e)break t;if(te===n&&++ee===u&&(L=S),te===s&&++ae===l&&(Z=S),(le=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=le}n=L===-1||Z===-1?null:{start:L,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ou={focusedElem:e,selectionRange:n},hc=!1,Et=t;Et!==null;)if(t=Et,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Et=e;else for(;Et!==null;){switch(t=Et,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var me=ca(n.type,u);e=l.getSnapshotBeforeUpdate(me,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Ve(n,n.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Iu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Et=e;break}Et=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ol(e,n),l&4&&Ti(5,n);break;case 1:if(ol(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){Ve(n,n.return,S)}else{var u=ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ve(n,n.return,S)}}l&64&&$o(n),l&512&&Ei(n,n.return);break;case 3:if(ol(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Is(e,t)}catch(S){Ve(n,n.return,S)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:ol(e,n),t===null&&l&4&&tf(n),l&512&&Ei(n,n.return);break;case 12:ol(e,n);break;case 31:ol(e,n),l&4&&xf(e,n);break;case 13:ol(e,n),l&4&&sf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wh.bind(null,n),Kh(e,n))));break;case 22:if(l=n.memoizedState!==null||xl,!l){t=t!==null&&t.memoizedState!==null||wt,u=xl;var s=wt;xl=l,(wt=t)&&!s?fl(e,n,(n.subtreeFlags&8772)!==0):ol(e,n),xl=u,wt=s}break;case 30:break;default:ol(e,n)}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ri(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,Pt=!1;function sl(e,t,n){for(n=n.child;n!==null;)uf(e,t,n),n=n.sibling}function uf(e,t,n){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(xe,n)}catch{}switch(n.tag){case 26:wt||Jn(n,t),sl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Jn(n,t);var l=xt,u=Pt;Bl(n.type)&&(xt=n.stateNode,Pt=!1),sl(e,t,n),Ii(n.stateNode),xt=l,Pt=u;break;case 5:wt||Jn(n,t);case 6:if(l=xt,u=Pt,xt=null,sl(e,t,n),xt=l,Pt=u,xt!==null)if(Pt)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(s){Ve(n,t,s)}else try{xt.removeChild(n.stateNode)}catch(s){Ve(n,t,s)}break;case 18:xt!==null&&(Pt?(e=xt,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Pa(e)):ed(xt,n.stateNode));break;case 4:l=xt,u=Pt,xt=n.stateNode.containerInfo,Pt=!0,sl(e,t,n),xt=l,Pt=u;break;case 0:case 11:case 14:case 15:zl(2,n,t),wt||zl(4,n,t),sl(e,t,n);break;case 1:wt||(Jn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),sl(e,t,n);break;case 21:sl(e,t,n);break;case 22:wt=(l=wt)||n.memoizedState!==null,sl(e,t,n),wt=l;break;default:sl(e,t,n)}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(n){Ve(t,t.return,n)}}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(n){Ve(t,t.return,n)}}function bh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(i(435,e.tag))}}function Qr(e,t){var n=bh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=jh.bind(null,e,l);l.then(u,u)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,S=t,L=S;e:for(;L!==null;){switch(L.tag){case 27:if(Bl(L.type)){xt=L.stateNode,Pt=!1;break e}break;case 5:xt=L.stateNode,Pt=!1;break e;case 3:case 4:xt=L.stateNode.containerInfo,Pt=!0;break e}L=L.return}if(xt===null)throw Error(i(160));uf(s,S,u),xt=null,Pt=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var Bn=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(zl(3,e,e.return),Ti(3,e),zl(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(wt||n===null||Jn(n,n.return)),l&64&&xl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Bn;if(Ft(t,e),$t(e),l&512&&(wt||n===null||Jn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[cn]||s[Mt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),Ot(s,l,n),s[Mt]=e,Tt(s),l=s;break e;case"link":var S=od("link","href",u).get(l+(n.href||""));if(S){for(var L=0;L<S.length;L++)if(s=S[L],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(L,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;case"meta":if(S=od("meta","content",u).get(l+(n.content||""))){for(L=0;L<S.length;L++)if(s=S[L],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(L,1);break t}}s=u.createElement(l),Ot(s,l,n),u.head.appendChild(s);break;default:throw Error(i(468,l))}s[Mt]=e,Tt(s),l=s}e.stateNode=l}else fd(u,e.type,e.stateNode);else e.stateNode=sd(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?fd(u,e.type,e.stateNode):sd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(wt||n===null||Jn(n,n.return)),n!==null&&l&4&&hu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(wt||n===null||Jn(n,n.return)),e.flags&32){u=e.stateNode;try{pa(u,"")}catch(me){Ve(e,e.return,me)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(vu=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(me){Ve(e,e.return,me)}}break;case 3:if(sc=null,u=Bn,Bn=uc(t.containerInfo),Ft(t,e),Bn=u,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(t.containerInfo)}catch(me){Ve(e,e.return,me)}vu&&(vu=!1,ff(e));break;case 4:l=Bn,Bn=uc(e.stateNode.containerInfo),Ft(t,e),$t(e),Bn=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wr=vt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 22:u=e.memoizedState!==null;var Z=n!==null&&n.memoizedState!==null,ee=xl,ae=wt;if(xl=ee||u,wt=ae||Z,Ft(t,e),wt=ae,xl=ee,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||Z||xl||wt||ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Z=n=t;try{if(s=Z.stateNode,u)S=s.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=Z.stateNode;var ce=Z.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(me){Ve(Z,Z.return,me)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=u?"":Z.memoizedProps}catch(me){Ve(Z,Z.return,me)}}}else if(t.tag===18){if(n===null){Z=t;try{var le=Z.stateNode;u?td(le,!0):td(Z.stateNode,!1)}catch(me){Ve(Z,Z.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Qr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,s=mu(e);Jr(e,s,u);break;case 5:var S=n.stateNode;n.flags&32&&(pa(S,""),n.flags&=-33);var L=mu(e);Jr(e,L,S);break;case 3:case 4:var Z=n.stateNode.containerInfo,ee=mu(e);bu(e,ee,Z);break;default:throw Error(i(161))}}catch(ae){Ve(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ol(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zl(4,t,t.return),ua(t);break;case 1:Jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),ua(t);break;case 27:Ii(t.stateNode);case 26:case 5:Jn(t,t.return),ua(t);break;case 22:t.memoizedState===null&&ua(t);break;case 30:ua(t);break;default:ua(t)}e=e.sibling}}function fl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,S=s.flags;switch(s.tag){case 0:case 11:case 15:fl(u,s,n),Ti(4,s);break;case 1:if(fl(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ee){Ve(l,l.return,ee)}if(l=s,u=l.updateQueue,u!==null){var L=l.stateNode;try{var Z=u.shared.hiddenCallbacks;if(Z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<Z.length;u++)Ys(Z[u],L)}catch(ee){Ve(l,l.return,ee)}}n&&S&64&&$o(s),Ei(s,s.return);break;case 27:lf(s);case 26:case 5:fl(u,s,n),n&&l===null&&S&4&&tf(s),Ei(s,s.return);break;case 12:fl(u,s,n);break;case 31:fl(u,s,n),n&&S&4&&xf(u,s);break;case 13:fl(u,s,n),n&&S&4&&sf(u,s);break;case 22:s.memoizedState===null&&fl(u,s,n),Ei(s,s.return);break;case 30:break;default:fl(u,s,n)}t=t.sibling}}function gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yi(n))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e))}function qn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:qn(e,t,n,l),u&2048&&Ti(9,t);break;case 1:qn(e,t,n,l);break;case 3:qn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e)));break;case 12:if(u&2048){qn(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,S=s.id,L=s.onPostCommit;typeof L=="function"&&L(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){Ve(t,t.return,Z)}}else qn(e,t,n,l);break;case 31:qn(e,t,n,l);break;case 13:qn(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,S=t.alternate,t.memoizedState!==null?s._visibility&2?qn(e,t,n,l):Bi(e,t):s._visibility&2?qn(e,t,n,l):(s._visibility|=2,Ha(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&gu(S,t);break;case 24:qn(e,t,n,l),u&2048&&yu(t.alternate,t);break;default:qn(e,t,n,l)}}function Ha(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,S=t,L=n,Z=l,ee=S.flags;switch(S.tag){case 0:case 11:case 15:Ha(s,S,L,Z,u),Ti(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?Ha(s,S,L,Z,u):Bi(s,S):(ae._visibility|=2,Ha(s,S,L,Z,u)),u&&ee&2048&&gu(S.alternate,S);break;case 24:Ha(s,S,L,Z,u),u&&ee&2048&&yu(S.alternate,S);break;default:Ha(s,S,L,Z,u)}t=t.sibling}}function Bi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Bi(n,l),u&2048&&gu(l.alternate,l);break;case 24:Bi(n,l),u&2048&&yu(l.alternate,l);break;default:Bi(n,l)}t=t.sibling}}var qi=8192;function Ya(e,t,n){if(e.subtreeFlags&qi)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Ya(e,t,n),e.flags&qi&&e.memoizedState!==null&&n2(n,Bn,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,n);break;case 3:case 4:var l=Bn;Bn=uc(e.stateNode.containerInfo),Ya(e,t,n),Bn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=qi,qi=16777216,Ya(e,t,n),qi=l):Ya(e,t,n));break;default:Ya(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&zl(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Gi(e);break;default:Gi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Et=l,vf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zl(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function vf(e,t){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:zl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Et=l;else e:for(n=e;Et!==null;){l=Et;var u=l.sibling,s=l.return;if(cf(l),l===n){Et=null;break e}if(u!==null){u.return=s,Et=u;break e}Et=s}}}var vh={getCacheForType:function(e){var t=Rt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(_t).controller.signal}},gh=typeof WeakMap=="function"?WeakMap:Map,Ke=0,lt=null,Ee=null,qe=0,Qe=0,fn=null,Dl=!1,Ia=!1,pu=!1,dl=0,ot=0,Nl=0,xa=0,_u=0,dn=0,Za=0,Ri=null,en=null,Su=!1,Wr=0,gf=0,Pr=1/0,Fr=null,Al=null,zt=0,Ll=null,Ka=null,hl=0,Cu=0,wu=null,yf=null,ki=0,ju=null;function hn(){return(Ke&2)!==0&&qe!==0?qe&-qe:M.T!==null?Lu():cr()}function pf(){if(dn===0)if((qe&536870912)===0||Re){var e=gt;gt<<=1,(gt&3932160)===0&&(gt=262144),dn=e}else dn=536870912;return e=sn.current,e!==null&&(e.flags|=32),dn}function tn(e,t,n){(e===lt&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Tl(e,qe,dn,!1)),jt(e,n),((Ke&2)===0||e!==lt)&&(e===lt&&((Ke&2)===0&&(xa|=n),ot===4&&Tl(e,qe,dn,!1)),Qn(e))}function _f(e,t,n){if((Ke&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Je(e,t),u=l?_h(e,t):zu(e,t,!0),s=l;do{if(u===0){Ia&&!l&&Tl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!yh(n)){u=zu(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var L=e;u=Ri;var Z=L.current.memoizedState.isDehydrated;if(Z&&(Ua(L,S).flags|=256),S=zu(L,S,!1),S!==2){if(pu&&!Z){L.errorRecoveryDisabledLanes|=s,xa|=s,u=4;break e}s=en,en=u,s!==null&&(en===null?en=s:en.push.apply(en,s))}u=S}if(s=!1,u!==2)continue}}if(u===1){Ua(e,0),Tl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Tl(l,t,dn,!Dl);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Wr+300-vt(),10<u)){if(Tl(l,t,dn,!Dl),Xe(l,0,!0)!==0)break e;hl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,en,Fr,Su,t,dn,xa,Za,Dl,s,"Throttled",-0,0),u);break e}Sf(l,n,en,Fr,Su,t,dn,xa,Za,Dl,s,null,-0,0)}}break}while(!0);Qn(e)}function Sf(e,t,n,l,u,s,S,L,Z,ee,ae,ce,te,le){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},hf(t,s,ce);var me=(s&62914560)===s?Wr-vt():(s&4194048)===s?gf-vt():0;if(me=l2(ce,me),me!==null){hl=s,e.cancelPendingCommit=me(Af.bind(null,e,t,s,n,l,u,S,L,Z,ae,ce,null,te,le)),Tl(e,s,S,!ee);return}}Af(e,t,s,n,l,u,S,L,Z)}function yh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!un(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tl(e,t,n,l){t&=~_u,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-_e(u),S=1<<s;l[s]=-1,u&=~S}n!==0&&Le(e,n,t)}function $r(){return(Ke&6)===0?(Oi(0),!1):!0}function Mu(){if(Ee!==null){if(Qe===0)var e=Ee.return;else e=Ee,ll=ea=null,I0(e),qa=null,_i=0,e=Ee;for(;e!==null;)Fo(e.alternate,e),e=e.return;Ee=null}}function Ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Oh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),hl=0,Mu(),lt=e,Ee=n=tl(e.current,null),qe=t,Qe=0,fn=null,Dl=!1,Ia=Je(e,t),pu=!1,Za=dn=_u=xa=Nl=ot=0,en=Ri=null,Su=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-_e(l),s=1<<u;t|=e[u],l&=~s}return dl=t,pr(),n}function Cf(e,t){De=null,M.H=Ni,t===Ba||t===Dr?(t=Rs(),Qe=3):t===A0?(t=Rs(),Qe=4):Qe=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Ee===null&&(ot=1,Ir(e,Sn(t,e.current)))}function wf(){var e=sn.current;return e===null?!0:(qe&4194048)===qe?Mn===null:(qe&62914560)===qe||(qe&536870912)!==0?e===Mn:!1}function jf(){var e=M.H;return M.H=Ni,e===null?Ni:e}function Mf(){var e=M.A;return M.A=vh,e}function ec(){ot=4,Dl||(qe&4194048)!==qe&&sn.current!==null||(Ia=!0),(Nl&134217727)===0&&(xa&134217727)===0||lt===null||Tl(lt,qe,dn,!1)}function zu(e,t,n){var l=Ke;Ke|=2;var u=jf(),s=Mf();(lt!==e||qe!==t)&&(Fr=null,Ua(e,t)),t=!1;var S=ot;e:do try{if(Qe!==0&&Ee!==null){var L=Ee,Z=fn;switch(Qe){case 8:Mu(),S=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var ee=Qe;if(Qe=0,fn=null,Xa(e,L,Z,ee),n&&Ia){S=0;break e}break;default:ee=Qe,Qe=0,fn=null,Xa(e,L,Z,ee)}}ph(),S=ot;break}catch(ae){Cf(e,ae)}while(!0);return t&&e.shellSuspendCounter++,ll=ea=null,Ke=l,M.H=u,M.A=s,Ee===null&&(lt=null,qe=0,pr()),S}function ph(){for(;Ee!==null;)zf(Ee)}function _h(e,t){var n=Ke;Ke|=2;var l=jf(),u=Mf();lt!==e||qe!==t?(Fr=null,Pr=vt()+500,Ua(e,t)):Ia=Je(e,t);e:do try{if(Qe!==0&&Ee!==null){t=Ee;var s=fn;t:switch(Qe){case 1:Qe=0,fn=null,Xa(e,t,s,1);break;case 2:case 9:if(qs(s)){Qe=0,fn=null,Df(t);break}t=function(){Qe!==2&&Qe!==9||lt!==e||(Qe=7),Qn(e)},s.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:qs(s)?(Qe=0,fn=null,Df(t)):(Qe=0,fn=null,Xa(e,t,s,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var L=Ee;if(S?dd(S):L.stateNode.complete){Qe=0,fn=null;var Z=L.sibling;if(Z!==null)Ee=Z;else{var ee=L.return;ee!==null?(Ee=ee,tc(ee)):Ee=null}break t}}Qe=0,fn=null,Xa(e,t,s,5);break;case 6:Qe=0,fn=null,Xa(e,t,s,6);break;case 8:Mu(),ot=6;break e;default:throw Error(i(462))}}Sh();break}catch(ae){Cf(e,ae)}while(!0);return ll=ea=null,M.H=l,M.A=u,Ke=n,Ee!==null?0:(lt=null,qe=0,pr(),ot)}function Sh(){for(;Ee!==null&&!Bt();)zf(Ee)}function zf(e){var t=Wo(e.alternate,e,dl);e.memoizedProps=e.pendingProps,t===null?tc(e):Ee=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:I0(t);default:Fo(n,t),t=Ee=ws(t,dl),t=Wo(n,t,dl)}e.memoizedProps=e.pendingProps,t===null?tc(e):Ee=t}function Xa(e,t,n,l){ll=ea=null,I0(t),qa=null,_i=0;var u=t.return;try{if(sh(e,u,t,n,qe)){ot=1,Ir(e,Sn(n,e.current)),Ee=null;return}}catch(s){if(u!==null)throw Ee=u,s;ot=1,Ir(e,Sn(n,e.current)),Ee=null;return}t.flags&32768?(Re||l===1?e=!0:Ia||(qe&536870912)!==0?e=!1:(Dl=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):tc(t)}function tc(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,Dl);return}e=t.return;var n=dh(t.alternate,t,dl);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);ot===0&&(ot=5)}function Nf(e,t){do{var n=hh(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);ot=6,Ee=null}function Af(e,t,n,l,u,s,S,L,Z){e.cancelPendingCommit=null;do nc();while(zt!==0);if((Ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=m0,yt(e,n,s,S,L,Z),e===lt&&(Ee=lt=null,qe=0),Ka=t,Ll=e,hl=n,Cu=s,wu=u,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Mh(Zn,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,u=T.p,T.p=2,S=Ke,Ke|=4;try{mh(e,t,n)}finally{Ke=S,T.p=u,M.T=l}}zt=1,Lf(),Tf(),Ef()}}function Lf(){if(zt===1){zt=0;var e=Ll,t=Ka,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var l=T.p;T.p=2;var u=Ke;Ke|=4;try{of(t,e);var s=Ou,S=ms(e.containerInfo),L=s.focusedElem,Z=s.selectionRange;if(S!==L&&L&&L.ownerDocument&&hs(L.ownerDocument.documentElement,L)){if(Z!==null&&s0(L)){var ee=Z.start,ae=Z.end;if(ae===void 0&&(ae=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(ae,L.value.length);else{var ce=L.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var le=te.getSelection(),me=L.textContent.length,Se=Math.min(Z.start,me),$e=Z.end===void 0?Se:Math.min(Z.end,me);!le.extend&&Se>$e&&(S=$e,$e=Se,Se=S);var W=ds(L,Se),J=ds(L,$e);if(W&&J&&(le.rangeCount!==1||le.anchorNode!==W.node||le.anchorOffset!==W.offset||le.focusNode!==J.node||le.focusOffset!==J.offset)){var $=ce.createRange();$.setStart(W.node,W.offset),le.removeAllRanges(),Se>$e?(le.addRange($),le.extend(J.node,J.offset)):($.setEnd(J.node,J.offset),le.addRange($))}}}}for(ce=[],le=L;le=le.parentNode;)le.nodeType===1&&ce.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var re=ce[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hc=!!ku,Ou=ku=null}finally{Ke=u,T.p=l,M.T=n}}e.current=t,zt=2}}function Tf(){if(zt===2){zt=0;var e=Ll,t=Ka,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var l=T.p;T.p=2;var u=Ke;Ke|=4;try{rf(e,t.alternate,t)}finally{Ke=u,T.p=l,M.T=n}}zt=3}}function Ef(){if(zt===4||zt===3){zt=0,Wn();var e=Ll,t=Ka,n=hl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?zt=5:(zt=0,Ka=Ll=null,Bf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Al=null),ii(n),t=t.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(xe,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,u=T.p,T.p=2,M.T=null;try{for(var s=e.onRecoverableError,S=0;S<l.length;S++){var L=l[S];s(L.value,{componentStack:L.stack})}}finally{M.T=t,T.p=u}}(hl&3)!==0&&nc(),Qn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===ju?ki++:(ki=0,ju=e):ki=0,Oi(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yi(t)))}function nc(){return Lf(),Tf(),Ef(),qf()}function qf(){if(zt!==5)return!1;var e=Ll,t=Cu;Cu=0;var n=ii(hl),l=M.T,u=T.p;try{T.p=32>n?32:n,M.T=null,n=wu,wu=null;var s=Ll,S=hl;if(zt=0,Ka=Ll=null,hl=0,(Ke&6)!==0)throw Error(i(331));var L=Ke;if(Ke|=4,bf(s.current),df(s,s.current,S,n),Ke=L,Oi(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(xe,s)}catch{}return!0}finally{T.p=u,M.T=l,Bf(e,t)}}function Gf(e,t,n){t=Sn(n,t),t=lu(e.stateNode,t,2),e=wl(e,t,2),e!==null&&(jt(e,2),Qn(e))}function Ve(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Al===null||!Al.has(l))){e=Sn(n,e),n=Go(2),l=wl(t,n,2),l!==null&&(Ro(n,l,t,e),jt(l,2),Qn(l));break}}t=t.return}}function Du(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new gh;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(pu=!0,u.add(n),e=Ch.bind(null,e,t,n),t.then(e,e))}function Ch(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,lt===e&&(qe&n)===n&&(ot===4||ot===3&&(qe&62914560)===qe&&300>vt()-Wr?(Ke&2)===0&&Ua(e,0):_u|=n,Za===qe&&(Za=0)),Qn(e)}function Rf(e,t){t===0&&(t=Lt()),e=Pl(e,t),e!==null&&(jt(e,t),Qn(e))}function wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function jh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function Mh(e,t){return dt(e,t)}var lc=null,Ja=null,Nu=!1,ac=!1,Au=!1,El=0;function Qn(e){e!==Ja&&e.next===null&&(Ja===null?lc=Ja=e:Ja=Ja.next=e),ac=!0,Nu||(Nu=!0,Dh())}function Oi(e,t){if(!Au&&ac){Au=!0;do for(var n=!1,l=lc;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var S=l.suspendedLanes,L=l.pingedLanes;s=(1<<31-_e(42|e)+1)-1,s&=u&~(S&~L),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Yf(l,s))}else s=qe,s=Xe(l,l===lt?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Je(l,s)||(n=!0,Yf(l,s));l=l.next}while(n);Au=!1}}function zh(){kf()}function kf(){ac=Nu=!1;var e=0;El!==0&&kh()&&(e=El);for(var t=vt(),n=null,l=lc;l!==null;){var u=l.next,s=Of(l,t);s===0?(l.next=null,n===null?lc=u:n.next=u,u===null&&(Ja=n)):(n=l,(e!==0||(s&3)!==0)&&(ac=!0)),l=u}zt!==0&&zt!==5||Oi(e),El!==0&&(El=0)}function Of(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var S=31-_e(s),L=1<<S,Z=u[S];Z===-1?((L&n)===0||(L&l)!==0)&&(u[S]=Xl(L,t)):Z<=t&&(e.expiredLanes|=L),s&=~L}if(t=lt,n=qe,n=Xe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ue(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Je(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Ue(l),ii(n)){case 2:case 8:n=rn;break;case 32:n=Zn;break;case 268435456:n=ha;break;default:n=Zn}return l=Hf.bind(null,e),n=dt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Ue(l),e.callbackPriority=2,e.callbackNode=null,2}function Hf(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nc()&&e.callbackNode!==n)return null;var l=qe;return l=Xe(e,e===lt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Of(e,vt()),e.callbackNode!=null&&e.callbackNode===n?Hf.bind(null,e):null)}function Yf(e,t){if(nc())return null;_f(e,t,!0)}function Dh(){Hh(function(){(Ke&6)!==0?dt(Pn,zh):kf()})}function Lu(){if(El===0){var e=Ta;e===0&&(e=we,we<<=1,(we&261888)===0&&(we=256)),El=e}return El}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Zf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nh(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=If((u[It]||null).action),S=l.submitter;S&&(t=(t=S[It]||null)?If(t.formAction):S.getAttribute("formAction"),t!==null&&(s=t,S=null));var L=new br("action","action",null,l,u);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(El!==0){var Z=S?Zf(u,S):new FormData(u);P0(n,{pending:!0,data:Z,method:u.method,action:s},null,Z)}}else typeof s=="function"&&(L.preventDefault(),Z=S?Zf(u,S):new FormData(u),P0(n,{pending:!0,data:Z,method:u.method,action:s},s,Z))},currentTarget:u}]})}}for(var Tu=0;Tu<h0.length;Tu++){var Eu=h0[Tu],Ah=Eu.toLowerCase(),Lh=Eu[0].toUpperCase()+Eu.slice(1);En(Ah,"on"+Lh)}En(gs,"onAnimationEnd"),En(ys,"onAnimationIteration"),En(ps,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(J1,"onTransitionRun"),En(Q1,"onTransitionStart"),En(V1,"onTransitionCancel"),En(_s,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Th=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hi));function Kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var S=l.length-1;0<=S;S--){var L=l[S],Z=L.instance,ee=L.currentTarget;if(L=L.listener,Z!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=ee;try{s(u)}catch(ae){yr(ae)}u.currentTarget=null,s=Z}else for(S=0;S<l.length;S++){if(L=l[S],Z=L.instance,ee=L.currentTarget,L=L.listener,Z!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=ee;try{s(u)}catch(ae){yr(ae)}u.currentTarget=null,s=Z}}}}function Be(e,t){var n=t[ve];n===void 0&&(n=t[ve]=new Set);var l=e+"__bubble";n.has(l)||(Uf(t,e,2,!1),n.add(l))}function Bu(e,t,n){var l=0;t&&(l|=4),Uf(n,e,l,t)}var ic="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[ic]){e[ic]=!0,Gx.forEach(function(n){n!=="selectionchange"&&(Th.has(n)||Bu(n,!1,e),Bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ic]||(t[ic]=!0,Bu("selectionchange",!1,t))}}function Uf(e,t,n,l){switch(pd(t)){case 2:var u=r2;break;case 8:u=c2;break;default:u=Wu}n=u.bind(null,t,n,e),u=void 0,!t0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gu(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var L=l.stateNode.containerInfo;if(L===u)break;if(S===4)for(S=l.return;S!==null;){var Z=S.tag;if((Z===3||Z===4)&&S.stateNode.containerInfo===u)return;S=S.return}for(;L!==null;){if(S=ma(L),S===null)return;if(Z=S.tag,Z===5||Z===6||Z===26||Z===27){l=s=S;continue e}L=L.parentNode}}l=l.return}Qx(function(){var ee=s,ae=$c(n),ce=[];e:{var te=Ss.get(e);if(te!==void 0){var le=br,me=e;switch(e){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":le=j1;break;case"focusin":me="focus",le=i0;break;case"focusout":me="blur",le=i0;break;case"beforeblur":case"afterblur":le=i0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=d1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=D1;break;case gs:case ys:case ps:le=b1;break;case _s:le=A1;break;case"scroll":case"scrollend":le=o1;break;case"wheel":le=T1;break;case"copy":case"cut":case"paste":le=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=$x;break;case"toggle":case"beforetoggle":le=B1}var Se=(t&4)!==0,$e=!Se&&(e==="scroll"||e==="scrollend"),W=Se?te!==null?te+"Capture":null:te;Se=[];for(var J=ee,$;J!==null;){var re=J;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||W===null||(re=ui(J,W),re!=null&&Se.push(Yi(J,re,$))),$e)break;J=J.return}0<Se.length&&(te=new le(te,me,null,n,ae),ce.push({event:te,listeners:Se}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",le=e==="mouseout"||e==="pointerout",te&&n!==Fc&&(me=n.relatedTarget||n.fromElement)&&(ma(me)||me[de]))break e;if((le||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,le?(me=n.relatedTarget||n.toElement,le=ee,me=me?ma(me):null,me!==null&&($e=f(me),Se=me.tag,me!==$e||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(le=null,me=ee),le!==me)){if(Se=Px,re="onMouseLeave",W="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Se=$x,re="onPointerLeave",W="onPointerEnter",J="pointer"),$e=le==null?te:ci(le),$=me==null?te:ci(me),te=new Se(re,J+"leave",le,n,ae),te.target=$e,te.relatedTarget=$,re=null,ma(ae)===ee&&(Se=new Se(W,J+"enter",me,n,ae),Se.target=$,Se.relatedTarget=$e,re=Se),$e=re,le&&me)t:{for(Se=Eh,W=le,J=me,$=0,re=W;re;re=Se(re))$++;re=0;for(var ge=J;ge;ge=Se(ge))re++;for(;0<$-re;)W=Se(W),$--;for(;0<re-$;)J=Se(J),re--;for(;$--;){if(W===J||J!==null&&W===J.alternate){Se=W;break t}W=Se(W),J=Se(J)}Se=null}else Se=null;le!==null&&Xf(ce,te,le,Se,!1),me!==null&&$e!==null&&Xf(ce,$e,me,Se,!0)}}e:{if(te=ee?ci(ee):window,le=te.nodeName&&te.nodeName.toLowerCase(),le==="select"||le==="input"&&te.type==="file")var Ie=cs;else if(is(te))if(us)Ie=K1;else{Ie=I1;var be=Y1}else le=te.nodeName,!le||le.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Pc(ee.elementType)&&(Ie=cs):Ie=Z1;if(Ie&&(Ie=Ie(e,ee))){rs(ce,Ie,n,ae);break e}be&&be(e,te,ee),e==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Wc(te,"number",te.value)}switch(be=ee?ci(ee):window,e){case"focusin":(is(be)||be.contentEditable==="true")&&(wa=be,o0=ee,bi=null);break;case"focusout":bi=o0=wa=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,bs(ce,n,ae);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":bs(ce,n,ae)}var Ae;if(c0)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ca?ls(e,n)&&(Ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ge="onCompositionStart");Ge&&(es&&n.locale!=="ko"&&(Ca||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ca&&(Ae=Vx()):(vl=ae,n0="value"in vl?vl.value:vl.textContent,Ca=!0)),be=rc(ee,Ge),0<be.length&&(Ge=new Fx(Ge,e,null,n,ae),ce.push({event:Ge,listeners:be}),Ae?Ge.data=Ae:(Ae=as(n),Ae!==null&&(Ge.data=Ae)))),(Ae=G1?R1(e,n):k1(e,n))&&(Ge=rc(ee,"onBeforeInput"),0<Ge.length&&(be=new Fx("onBeforeInput","beforeinput",null,n,ae),ce.push({event:be,listeners:Ge}),be.data=Ae)),Nh(ce,e,ee,n,ae)}Kf(ce,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rc(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=ui(e,n),u!=null&&l.unshift(Yi(e,u,s)),u=ui(e,t),u!=null&&l.push(Yi(e,u,s))),e.tag===3)return l;e=e.return}return[]}function Eh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,u){for(var s=t._reactName,S=[];n!==null&&n!==l;){var L=n,Z=L.alternate,ee=L.stateNode;if(L=L.tag,Z!==null&&Z===l)break;L!==5&&L!==26&&L!==27||ee===null||(Z=ee,u?(ee=ui(n,s),ee!=null&&S.unshift(Yi(n,ee,Z))):u||(ee=ui(n,s),ee!=null&&S.push(Yi(n,ee,Z)))),n=n.return}S.length!==0&&e.push({event:t,listeners:S})}var Bh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(Bh,`
`).replace(qh,"")}function Qf(e,t){return t=Jf(t),Jf(e)===t}function Fe(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||pa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&pa(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,n,l);break;case"style":Xx(e,l,s);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Fe(e,t,"name",u.name,u,null),Fe(e,t,"formEncType",u.formEncType,u,null),Fe(e,t,"formMethod",u.formMethod,u,null),Fe(e,t,"formTarget",u.formTarget,u,null)):(Fe(e,t,"encType",u.encType,u,null),Fe(e,t,"method",u.method,u,null),Fe(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),xr(e,"popover",l);break;case"xlinkActuate":Fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=x1.get(n)||n,xr(e,n,l))}}function Ru(e,t,n,l,u,s){switch(n){case"style":Xx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?pa(e,l):(typeof l=="number"||typeof l=="bigint")&&pa(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[It]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):xr(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var S=n[s];if(S!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,s,S,n,null)}}u&&Fe(e,t,"srcSet",n.srcSet,n,null),l&&Fe(e,t,"src",n.src,n,null);return;case"input":Be("invalid",e);var L=s=S=u=null,Z=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ae=n[l];if(ae!=null)switch(l){case"name":u=ae;break;case"type":S=ae;break;case"checked":Z=ae;break;case"defaultChecked":ee=ae;break;case"value":s=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:Fe(e,t,l,ae,n,null)}}Ix(e,s,L,Z,ee,S,u,!1);return;case"select":Be("invalid",e),l=S=s=null;for(u in n)if(n.hasOwnProperty(u)&&(L=n[u],L!=null))switch(u){case"value":s=L;break;case"defaultValue":S=L;break;case"multiple":l=L;default:Fe(e,t,u,L,n,null)}t=s,n=S,e.multiple=!!l,t!=null?ya(e,!!l,t,!1):n!=null&&ya(e,!!l,n,!0);return;case"textarea":Be("invalid",e),s=u=l=null;for(S in n)if(n.hasOwnProperty(S)&&(L=n[S],L!=null))switch(S){case"value":l=L;break;case"defaultValue":u=L;break;case"children":s=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:Fe(e,t,S,L,n,null)}Kx(e,l,u,s);return;case"option":for(Z in n)n.hasOwnProperty(Z)&&(l=n[Z],l!=null)&&(Z==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Fe(e,t,Z,l,n,null));return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<Hi.length;l++)Be(Hi[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,ee,l,n,null)}return;default:if(Pc(t)){for(ae in n)n.hasOwnProperty(ae)&&(l=n[ae],l!==void 0&&Ru(e,t,ae,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&Fe(e,t,L,l,n,null))}function Gh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,S=null,L=null,Z=null,ee=null,ae=null;for(le in n){var ce=n[le];if(n.hasOwnProperty(le)&&ce!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Z=ce;default:l.hasOwnProperty(le)||Fe(e,t,le,null,l,ce)}}for(var te in l){var le=l[te];if(ce=n[te],l.hasOwnProperty(te)&&(le!=null||ce!=null))switch(te){case"type":s=le;break;case"name":u=le;break;case"checked":ee=le;break;case"defaultChecked":ae=le;break;case"value":S=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,t));break;default:le!==ce&&Fe(e,t,te,le,l,ce)}}Vc(e,S,L,Z,ee,ae,s,u);return;case"select":le=S=L=te=null;for(s in n)if(Z=n[s],n.hasOwnProperty(s)&&Z!=null)switch(s){case"value":break;case"multiple":le=Z;default:l.hasOwnProperty(s)||Fe(e,t,s,null,l,Z)}for(u in l)if(s=l[u],Z=n[u],l.hasOwnProperty(u)&&(s!=null||Z!=null))switch(u){case"value":te=s;break;case"defaultValue":L=s;break;case"multiple":S=s;default:s!==Z&&Fe(e,t,u,s,l,Z)}t=L,n=S,l=le,te!=null?ya(e,!!n,te,!1):!!l!=!!n&&(t!=null?ya(e,!!n,t,!0):ya(e,!!n,n?[]:"",!1));return;case"textarea":le=te=null;for(L in n)if(u=n[L],n.hasOwnProperty(L)&&u!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Fe(e,t,L,null,l,u)}for(S in l)if(u=l[S],s=n[S],l.hasOwnProperty(S)&&(u!=null||s!=null))switch(S){case"value":te=u;break;case"defaultValue":le=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==s&&Fe(e,t,S,u,l,s)}Zx(e,te,le);return;case"option":for(var me in n)te=n[me],n.hasOwnProperty(me)&&te!=null&&!l.hasOwnProperty(me)&&(me==="selected"?e.selected=!1:Fe(e,t,me,null,l,te));for(Z in l)te=l[Z],le=n[Z],l.hasOwnProperty(Z)&&te!==le&&(te!=null||le!=null)&&(Z==="selected"?e.selected=te&&typeof te!="function"&&typeof te!="symbol":Fe(e,t,Z,te,l,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in n)te=n[Se],n.hasOwnProperty(Se)&&te!=null&&!l.hasOwnProperty(Se)&&Fe(e,t,Se,null,l,te);for(ee in l)if(te=l[ee],le=n[ee],l.hasOwnProperty(ee)&&te!==le&&(te!=null||le!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,t));break;default:Fe(e,t,ee,te,l,le)}return;default:if(Pc(t)){for(var $e in n)te=n[$e],n.hasOwnProperty($e)&&te!==void 0&&!l.hasOwnProperty($e)&&Ru(e,t,$e,void 0,l,te);for(ae in l)te=l[ae],le=n[ae],!l.hasOwnProperty(ae)||te===le||te===void 0&&le===void 0||Ru(e,t,ae,te,l,le);return}}for(var W in n)te=n[W],n.hasOwnProperty(W)&&te!=null&&!l.hasOwnProperty(W)&&Fe(e,t,W,null,l,te);for(ce in l)te=l[ce],le=n[ce],!l.hasOwnProperty(ce)||te===le||te==null&&le==null||Fe(e,t,ce,te,l,le)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,S=u.initiatorType,L=u.duration;if(s&&L&&Vf(S)){for(S=0,L=u.responseEnd,l+=1;l<n.length;l++){var Z=n[l],ee=Z.startTime;if(ee>L)break;var ae=Z.transferSize,ce=Z.initiatorType;ae&&Vf(ce)&&(Z=Z.responseEnd,S+=ae*(Z<L?1:(L-ee)/(Z-ee)))}if(--l,t+=8*(s+S)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Ou=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function kh(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Oh=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Hh=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(Yh)}:Ff;function Yh(e){setTimeout(function(){throw e})}function Bl(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),Pa(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ii(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ii(n);for(var s=n.firstChild;s;){var S=s.nextSibling,L=s.nodeName;s[cn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=S}}else n==="body"&&Ii(e.ownerDocument.body);n=u}while(n);Pa(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Iu(n),ri(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ih(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function Zh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=zn(e.nextSibling),e===null))return null;return e}function Zu(e){return e.data==="$?"||e.data==="$~"}function Ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Uu=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return zn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=cc(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ii(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ri(e)}var Dn=new Map,rd=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ml=T.d;T.d={f:Uh,r:Xh,D:Jh,C:Qh,L:Vh,m:Wh,X:Fh,S:Ph,M:$h};function Uh(){var e=ml.f(),t=$r();return e||t}function Xh(e){var t=ba(e);t!==null&&t.tag===5&&t.type==="form"?So(t):ml.r(e)}var Qa=typeof document>"u"?null:document;function cd(e,t,n){var l=Qa;if(l&&typeof t=="string"&&t){var u=pn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),rd.has(u)||(rd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ot(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Jh(e){ml.D(e),cd("dns-prefetch",e,null)}function Qh(e,t){ml.C(e,t),cd("preconnect",e,t)}function Vh(e,t,n){ml.L(e,t,n);var l=Qa;if(l&&e&&t){var u='link[rel="preload"][as="'+pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+pn(n.imageSizes)+'"]')):u+='[href="'+pn(e)+'"]';var s=u;switch(t){case"style":s=Va(e);break;case"script":s=Wa(e)}Dn.has(s)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Dn.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Zi(s))||t==="script"&&l.querySelector(Ki(s))||(t=l.createElement("link"),Ot(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Wh(e,t){ml.m(e,t);var n=Qa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wa(e)}if(!Dn.has(s)&&(e=p({rel:"modulepreload",href:e},t),Dn.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ki(s)))return}l=n.createElement("link"),Ot(l,"link",e),Tt(l),n.head.appendChild(l)}}}function Ph(e,t,n){ml.S(e,t,n);var l=Qa;if(l&&e){var u=va(l).hoistableStyles,s=Va(e);t=t||"default";var S=u.get(s);if(!S){var L={loading:0,preload:null};if(S=l.querySelector(Zi(s)))L.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Dn.get(s))&&Xu(e,n);var Z=S=l.createElement("link");Tt(Z),Ot(Z,"link",e),Z._p=new Promise(function(ee,ae){Z.onload=ee,Z.onerror=ae}),Z.addEventListener("load",function(){L.loading|=1}),Z.addEventListener("error",function(){L.loading|=2}),L.loading|=4,xc(S,t,l)}S={type:"stylesheet",instance:S,count:1,state:L},u.set(s,S)}}}function Fh(e,t){ml.X(e,t);var n=Qa;if(n&&e){var l=va(n).hoistableScripts,u=Wa(e),s=l.get(u);s||(s=n.querySelector(Ki(u)),s||(e=p({src:e,async:!0},t),(t=Dn.get(u))&&Ju(e,t),s=n.createElement("script"),Tt(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function $h(e,t){ml.M(e,t);var n=Qa;if(n&&e){var l=va(n).hoistableScripts,u=Wa(e),s=l.get(u);s||(s=n.querySelector(Ki(u)),s||(e=p({src:e,async:!0,type:"module"},t),(t=Dn.get(u))&&Ju(e,t),s=n.createElement("script"),Tt(s),Ot(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function ud(e,t,n,l){var u=(u=se.current)?uc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Va(n.href),n=va(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Va(n.href);var s=va(u).hoistableStyles,S=s.get(e);if(S||(u=u.ownerDocument||u,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,S),(s=u.querySelector(Zi(e)))&&!s._p&&(S.instance=s,S.state.loading=5),Dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dn.set(e,n),s||e2(u,e,n,S.state))),t&&l===null)throw Error(i(528,""));return S}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wa(n),n=va(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Va(e){return'href="'+pn(e)+'"'}function Zi(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function e2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Tt(t),e.head.appendChild(t))}function Wa(e){return'[src="'+pn(e)+'"]'}function Ki(e){return"script[async]"+e}function sd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+pn(n.href)+'"]');if(l)return t.instance=l,Tt(l),l;var u=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),Ot(l,"style",u),xc(l,n.precedence,e),t.instance=l;case"stylesheet":u=Va(n.href);var s=e.querySelector(Zi(u));if(s)return t.state.loading|=4,t.instance=s,Tt(s),s;l=xd(n),(u=Dn.get(u))&&Xu(l,u),s=(e.ownerDocument||e).createElement("link"),Tt(s);var S=s;return S._p=new Promise(function(L,Z){S.onload=L,S.onerror=Z}),Ot(s,"link",l),t.state.loading|=4,xc(s,n.precedence,e),t.instance=s;case"script":return s=Wa(n.src),(u=e.querySelector(Ki(s)))?(t.instance=u,Tt(u),u):(l=n,(u=Dn.get(s))&&(l=p({},n),Ju(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Tt(u),Ot(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,xc(l,n.precedence,e));return t.instance}function xc(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,S=0;S<l.length;S++){var L=l[S];if(L.dataset.precedence===t)s=L;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sc=null;function od(e,t,n){if(sc===null){var l=new Map,u=sc=new Map;u.set(n,l)}else u=sc,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[cn]||s[Mt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var S=s.getAttribute(t)||"";S=e+S;var L=l.get(S);L?L.push(s):l.set(S,[s])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function t2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function n2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Va(l.href),s=t.querySelector(Zi(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Tt(s);return}s=t.ownerDocument||t,l=xd(l),(u=Dn.get(u))&&Xu(l,u),s=s.createElement("link"),Tt(s);var S=s;S._p=new Promise(function(L,Z){S.onload=L,S.onerror=Z}),Ot(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=oc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Qu=0;function l2(e,t){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Qu===0&&(Qu=62500*Rh());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Qu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,t.forEach(a2,e),fc=null,oc.call(e))}function a2(e,t){if(!(t.state.loading&4)){var n=fc.get(e);if(n)var l=n.get(null);else{n=new Map,fc.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var S=u[s];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),l=S)}l&&n.set(null,l)}u=t.instance,S=u.getAttribute("data-precedence"),s=n.get(S)||l,s===l&&n.set(null,u),n.set(S,u),this.count++,l=oc.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:q,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function i2(e,t,n,l,u,s,S,L,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function hd(e,t,n,l,u,s,S,L,Z,ee,ae,ce){return e=new i2(e,t,n,S,Z,ee,ae,ce,L),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=z0(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},L0(s),e}function md(e){return e?(e=za,e):za}function bd(e,t,n,l,u,s){u=md(u),l.context===null?l.context=u:l.pendingContext=u,l=Cl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=wl(e,l,t),n!==null&&(tn(n,e,t),Ci(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=Pl(e,67108864);t!==null&&tn(t,e,67108864),Vu(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=hn();t=gn(t);var n=Pl(e,t);n!==null&&tn(n,e,t),Vu(e,t)}}var hc=!0;function r2(e,t,n,l){var u=M.T;M.T=null;var s=T.p;try{T.p=2,Wu(e,t,n,l)}finally{T.p=s,M.T=u}}function c2(e,t,n,l){var u=M.T;M.T=null;var s=T.p;try{T.p=8,Wu(e,t,n,l)}finally{T.p=s,M.T=u}}function Wu(e,t,n,l){if(hc){var u=Pu(l);if(u===null)Gu(e,t,l,mc,n),_d(e,l);else if(x2(u,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<u2.indexOf(e)){for(;u!==null;){var s=ba(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var S=nt(s.pendingLanes);if(S!==0){var L=s;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var Z=1<<31-_e(S);L.entanglements[1]|=Z,S&=~Z}Qn(s),(Ke&6)===0&&(Pr=vt()+500,Oi(0))}}break;case 31:case 13:L=Pl(s,2),L!==null&&tn(L,s,2),$r(),Vu(s,2)}if(s=Pu(l),s===null&&Gu(e,t,l,mc,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else Gu(e,t,l,null,n)}}function Pu(e){return e=$c(e),Fu(e)}var mc=null;function Fu(e){if(mc=null,e=ma(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mc=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case Pn:return 2;case rn:return 8;case Zn:case Ul:return 32;case ha:return 268435456;default:return 32}default:return 32}}var $u=!1,ql=null,Gl=null,Rl=null,Xi=new Map,Ji=new Map,kl=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":ql=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function Qi(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=ba(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function x2(e,t,n,l,u){switch(t){case"focusin":return ql=Qi(ql,e,t,n,l,u),!0;case"dragenter":return Gl=Qi(Gl,e,t,n,l,u),!0;case"mouseover":return Rl=Qi(Rl,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Xi.set(s,Qi(Xi.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Ji.set(s,Qi(Ji.get(s)||null,e,t,n,l,u)),!0}return!1}function Sd(e){var t=ma(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,ur(e.priority,function(){yd(n)});return}}else if(t===31){if(t=_(n),t!==null){e.blockedOn=t,ur(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Fc=l,n.target.dispatchEvent(l),Fc=null}else return t=ba(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){bc(e)&&n.delete(t)}function s2(){$u=!1,ql!==null&&bc(ql)&&(ql=null),Gl!==null&&bc(Gl)&&(Gl=null),Rl!==null&&bc(Rl)&&(Rl=null),Xi.forEach(Cd),Ji.forEach(Cd)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,s2)))}var gc=null;function wd(e){gc!==e&&(gc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Fu(l||n)===null)continue;break}var s=ba(n);s!==null&&(e.splice(t,3),t-=3,P0(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function Pa(e){function t(Z){return vc(Z,e)}ql!==null&&vc(ql,e),Gl!==null&&vc(Gl,e),Rl!==null&&vc(Rl,e),Xi.forEach(t),Ji.forEach(t);for(var n=0;n<kl.length;n++){var l=kl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kl.length&&(n=kl[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&kl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],S=u[It]||null;if(typeof s=="function")S||wd(n);else if(S){var L=null;if(s&&s.hasAttribute("formAction")){if(u=s,S=s[It]||null)L=S.formAction;else if(Fu(u)!==null)continue}else L=S.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),wd(n)}}}function jd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(S){return u=S})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ex(e){this._internalRoot=e}yc.prototype.render=ex.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=hn();bd(n,l,e,t,null,null)},yc.prototype.unmount=ex.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),$r(),t[de]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=cr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kl.length&&t!==0&&t<kl[n].priority;n++);kl.splice(n,0,e),n===0&&Sd(e)}};var Md=r.version;if(Md!=="19.2.3")throw Error(i(527,Md,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var o2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{xe=pc.inject(o2),pe=pc}catch{}}return Wi.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=To,s=Eo,S=Bo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,u,s,S,jd),e[de]=t.current,qu(e),new ex(t)},Wi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",s=To,S=Eo,L=Bo,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(Z=n.formState)),t=hd(e,1,!0,t,n??null,l,u,Z,s,S,L,jd),t.context=md(null),n=t.current,l=hn(),l=gn(l),u=Cl(l),u.callback=null,wl(n,u,l),n=l,t.current.lanes=n,jt(t,n),Qn(t),e[de]=t.current,qu(e),new yc(t)},Wi.version="19.2.3",Wi}var Gd;function _2(){if(Gd)return lx.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),lx.exports=p2(),lx.exports}var S2=_2();const Zl=Gn;function Gn(c,r){c=c-213;const a=wc();let i=a[c];if(Gn.CWxtnQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Gn.bppAcT=o,Gn.LclnJW={},Gn.CWxtnQ=!0}const f=a[0],m=c+f,_=Gn.LclnJW[m];if(_)i=_;else{const h=function(d){this.xvroHp=d,this.BDJgDS=[1,0,0],this.wblNey=function(){return"newState"},this.OhrqMA="\\w+ *\\(\\) *{\\w+ *",this.qmjbOy=`['|"].+['|"];? *}`};h.prototype.NjFEyF=function(){const d=new RegExp(this.OhrqMA+this.qmjbOy),v=d.test(this.wblNey.toString())?--this.BDJgDS[1]:--this.BDJgDS[0];return this.naUCdC(v)},h.prototype.naUCdC=function(d){return~d?this.ZYpAHS(this.xvroHp):d},h.prototype.ZYpAHS=function(d){for(let v=0,p=this.BDJgDS.length;v<p;v++)this.BDJgDS.push(Math.round(Math.random())),p=this.BDJgDS.length;return d(this.BDJgDS[0])},new h(Gn).NjFEyF(),i=Gn.bppAcT(i),Gn.LclnJW[m]=i}return i}(function(c,r){const a=Gn,i=c();for(;;)try{if(-parseInt(a(223))/1*(-parseInt(a(235))/2)+-parseInt(a(231))/3*(parseInt(a(236))/4)+parseInt(a(225))/5+parseInt(a(237))/6*(parseInt(a(239))/7)+parseInt(a(219))/8*(parseInt(a(221))/9)+parseInt(a(229))/10+parseInt(a(215))/11*(-parseInt(a(218))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(wc,496740);const C2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),xx=C2(void 0,function(){const c=Gn;return xx.toString().search("(((.+)+)+)+$")[c(220)]().constructor(xx)[c(226)]("(((.+)+)+)+$")});xx();const Cc=()=>new Date().toISOString(),Yt=c=>c+"_"+Math.random()[Zl(220)](36).slice(2,10),Ce=(c,r,a)=>Math[Zl(214)](r,Math[Zl(238)](a,c)),Hl=c=>{const r=Zl;return c==null?c:JSON[r(233)](JSON.stringify(c))},Fi=c=>Math.floor(c*.7/5)*5;function fa(c,r){const a=Zl;return c.groups?c[a(222)].find(i=>i.flowerIds.includes(r))??null:null}function wc(){const c=["BgvHzKLKCW","nte3nty1AM9sr2L3","C2vHCMnO","zMLSDgvY","BwfW","ndeXmZqYmgriDfjWvG","zMXVD2vYswrZ","mtaXnZaYn3fhsfvcuG","u0vczNC","CgfYC2u","zMLUza","mZuXoer3y1LdCG","ne1OCw1KCG","mJu5ntmWwKjHDvPz","BwLU","otHjA3jLDvC","BgvHzKDYB3vWCW","Bwf4","mtC0nJq1mtnozNLTsNK","vevXv08","BgvUz3rO","mtjsrxjRDfq","nZiWofPjvu5qtq","Dg9tDhjPBMC","mZe0mxvQDgjIwq","z3jVDxbZ","ntyYBNjNvMPV"];return wc=function(){return c},wc()}function w2(c,r){const a=Zl,i=fa(c,r);return i?i[a(230)]:[r]}function Kc(c,r){const a=Zl;return c[a(213)]?c.leafGroups[a(234)](i=>i[a(224)].includes(r))??null:null}function j2(c,r){const a=Zl,i={TEqWO:function(h,d){return h===d},IsNON:function(h,d){return h===d},lRCzF:function(h,d){return h/d},SEBfw:function(h,d){return h/d}},o=(c[a(213)]??[])[a(234)](h=>h.id===r);if(!o||i[a(216)](o[a(224)].length,0))return{x:0,y:0};const f=o[a(224)][a(228)](h=>(c.leaves??[]).find(d=>d.id===h))[a(227)](h=>!!h);if(i.IsNON(f.length,0))return{x:0,y:0};const m=f.reduce((h,d)=>h+d.position.x,0),_=f.reduce((h,d)=>h+d.position.y,0);return{x:i.lRCzF(m,f[a(217)]),y:i[a(232)](_,f.length)}}function M2(c,r){const a={TNJKD:function(o,f,m){return o(f,m)}},i=a.TNJKD(Kc,c,r);return i?i.leafIds:[r]}const ti=mn;function mn(c,r){c=c-452;const a=jc();let i=a[c];if(mn.WNGmLS===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};mn.pKycvr=o,mn.XPhvVC={},mn.WNGmLS=!0}const f=a[0],m=c+f,_=mn.XPhvVC[m];if(_)i=_;else{const h=function(d){this.AXKcvS=d,this.CeKLdx=[1,0,0],this.YoRrkG=function(){return"newState"},this.NSdOaH="\\w+ *\\(\\) *{\\w+ *",this.bETUFG=`['|"].+['|"];? *}`};h.prototype.imKrZL=function(){const d=new RegExp(this.NSdOaH+this.bETUFG),v=d.test(this.YoRrkG.toString())?--this.CeKLdx[1]:--this.CeKLdx[0];return this.DVzVpN(v)},h.prototype.DVzVpN=function(d){return~d?this.dVtlyt(this.AXKcvS):d},h.prototype.dVtlyt=function(d){for(let v=0,p=this.CeKLdx.length;v<p;v++)this.CeKLdx.push(Math.round(Math.random())),p=this.CeKLdx.length;return d(this.CeKLdx[0])},new h(mn).imKrZL(),i=mn.pKycvr(i),mn.XPhvVC[m]=i}return i}(function(c,r){const a=mn,i=c();for(;;)try{if(-parseInt(a(484))/1*(parseInt(a(494))/2)+parseInt(a(452))/3*(parseInt(a(500))/4)+parseInt(a(487))/5+parseInt(a(465))/6*(parseInt(a(454))/7)+-parseInt(a(497))/8*(parseInt(a(496))/9)+parseInt(a(490))/10*(parseInt(a(479))/11)+parseInt(a(493))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(jc,255431);const z2=(function(){let c=!0;return function(r,a){const i=c?function(){const o=mn;if(a){const f=a[o(464)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),sx=z2(void 0,function(){const c=mn,r={pqjxk:c(476)};return sx.toString().search(r[c(502)])[c(482)]()[c(468)](sx)[c(455)](r[c(502)])});sx();const $a=2/3,Rd=.6,D2=.25,N2=.75;function Kl(c,r,a){const i=mn,o={jmVWm:"(((.+)+)+)+$",fwfIk:function(q,E){return q<=E},KNkdM:function(q,E){return q*E},PLRbH:function(q,E){return q/E},tFzTv:function(q,E){return q/E},WKShu:function(q,E){return q===E},hCoTP:i(470),STOwV:function(q,E){return q+E},npLmg:function(q,E){return q*E},iePYv:function(q,E){return q-E},cYmLi:i(478),PRdjM:function(q,E){return q<E},kidyt:function(q,E){return q*E}},f=c/2,m=r*Math[i(469)]/2;if(o[i(475)](m,0)||o[i(475)](f,0))return{diameter:c,layerCount:1};const _=a?.sizeMode??i(466),h=a?.[i(463)]??0,d=o.KNkdM(m,1-$a),v=o.PLRbH(o.KNkdM(Math.PI,f),2),p=a?.layerCount??Math.max(1,Math.round(o.tFzTv(v,d))),D=o[i(492)](_,o.hCoTP)?o[i(461)](r,o[i(472)](o.iePYv(p,1),h)):r,b=o.KNkdM(D,Math.SQRT2)/2,A=o.KNkdM(m,D2)+b*N2;if(p===1){if(i(478)!==o.cYmLi)return _0x33e283[i(482)]().search(fmzaix[i(457)])[i(482)]().constructor(_0x36ae74).search(i(476));{const q=Math.min(Math.PI/2,o.PLRbH(o.npLmg(b,$a),f)),E=f*Math.sin(q),K=b*Rd*Math.sin(q);return{diameter:Math[i(474)](Math[i(462)](c,2*(E+K))),layerCount:p}}}let C=m*$a/f;for(let q=1;o.PRdjM(q,p);q++){const E=o[i(492)](_,"gradual")?r+o[i(481)](q,h):r,K=o.tFzTv(E*Math[i(469)],2);C+=o[i(467)](K,o.iePYv(1,$a))/f}C=Math.min(C,Math.PI/2);const j=o.kidyt(f+A*Rd,Math.sin(C)),B=Math[i(462)](0,j-f);return{diameter:Math.round(o.STOwV(c,2*B)),layerCount:p}}function tr(c,r,a=ti(466),i=0){const o=ti,f={kINrd:function(h,d){return h*d},ROaGv:function(h,d){return h+d},WlERd:function(h,d){return h/d},kQcVH:function(h,d){return h<=d},sybYY:function(h,d){return h/d},aOrqz:function(h,d){return h===d},YnYNc:o(466),Zmwrs:function(h,d){return h*d},Tjgev:function(h,d){return h*d},ijEqY:function(h,d){return h-d},kDZXC:function(h,d){return h*d},kHruk:function(h,d){return h/d},mAhIY:function(h,d){return h<d},RiViP:"CChjt",MFBFF:o(470),yaMsb:function(h,d){return h*d},mgyEm:function(h,d){return h*d},rglbH:function(h,d){return h!==d},MlrBO:o(495),KdmDB:"DyZMr",pCfYC:function(h,d){return h*d}};if(f.kQcVH(r,0)||c<=0)return 0;const m=[];for(let h=0;f.mAhIY(h,r);h++)if(f.RiViP!=="CChjt"){const d=f.kINrd(_0x46a2ed,f.ROaGv(_0xfa442c,2))/3;return _0x2d6571[o(462)](1,_0x3a3cd4[o(474)](f[o(471)](_0x1dd31d,d)))}else{const d=a===f[o(477)]?f[o(473)](c,f[o(491)](h,i)):c;m.push(f.mgyEm(d,Math.SQRT2)/2)}let _=m[0];for(let h=1;h<r;h++)if(f[o(486)](f[o(453)],f[o(458)]))_+=m[h]/3;else{if(f[o(459)](_0x78868d,0)||_0x26141f<=0)return 0;const d=f.sybYY(_0x1e714b,2),v=f[o(483)](_0x3dd13b[o(469)],2),p=_0x11b977;if(f[o(498)](_0x3da5d8,f.YnYNc)||_0x595366===0){const A=f[o(471)](v*f[o(473)](p,2),3);return _0xa2be7.max(1,_0x13232b[o(474)](d/A))}const D=f[o(483)](f.Zmwrs(f.Tjgev(_0x19a011,f.ijEqY(p,1)),p),6),b=f[o(483)](f.kDZXC(f.kHruk(d,v)-D,3),p+2);return _0x378e77[o(462)](1,_0x46b4c9.round(b))}return Math.round(f.pCfYC(_,2))}function A2(c,r,a=ti(466),i=0){const o=ti,f={eMzxb:function(p,D){return p<=D},oDUhK:function(p,D){return p/D},yowhF:function(p,D){return p===D},ezFDN:function(p,D){return p===D},UQKdk:function(p,D){return p*D},ZnnRP:function(p,D){return p+D},gjOTo:function(p,D){return p/D},AISxo:function(p,D){return p/D},AmxJT:function(p,D){return p*D},oSapW:function(p,D){return p/D}};if(f.eMzxb(r,0)||c<=0)return 0;const m=f.oDUhK(c,2),_=Math.SQRT2/2,h=r;if(f.yowhF(a,o(466))||f.ezFDN(i,0)){const p=f.oDUhK(f.UQKdk(_,f[o(488)](h,2)),3);return Math[o(462)](1,Math.round(f.gjOTo(m,p)))}const d=f.AISxo(i*(h-1)*h,6),v=f[o(485)](f[o(501)](f[o(456)](m,_)-d,3),f[o(488)](h,2));return Math[o(462)](1,Math[o(474)](v))}function L2(c,r,a){const i=ti,o={QNOmn:function(_,h){return _+h},DLztw:function(_,h,d,v){return _(h,d,v)}};if(c<=r)return 1;let f=1,m=80;for(let _=0;_<30;_++){const h=o.QNOmn(f,m)/2,{diameter:d}=o[i(499)](Kl,r,h,a);d<c?f=h:m=h}return Math.max(1,Math.round(o[i(489)](f,m)/2))}function T2(c,r,a){const i=ti,o={tdorV:function(D,b){return D/b},KvQlL:function(D,b){return D*b},evRuI:function(D,b){return D<=b},NKoac:"uniform",SHxBu:function(D,b){return D+b}},f=o[i(480)](c,2),m=o.tdorV(o[i(460)](r,Math.SQRT2),2);if(o.evRuI(m,0)||f<=0)return 1;const _=a?.sizeMode??i(466),h=a?.sizeStepMm??0,d=Math.PI/2;if(_===o.NKoac||h===0){const D=m/3,b=o[i(480)](Math.PI*f,2);return Math[i(462)](1,Math[i(474)](b/D))}let v=m*$a/f;if(v>=d)return 1;let p=1;for(let D=1;D<100;D++){const b=o.SHxBu(r,o.KvQlL(D,h)),A=o.tdorV(b*Math.SQRT2,2),C=A*(1-$a)/f;if(v+=C,v>o.SHxBu(d,C/2))break;p=o.SHxBu(D,1)}return Math[i(462)](1,p)}function jc(){const c=["uu5pBw4","nZbIrgf3vhq","EwfnC2i","v0TtAhu","mJi0mdG5mKLsBMLyzq","ntrgt2vzqxa","AKTICLG","nJy2AgXOu01x","ntG0we1vAurk","yu9YCxO","reX6DhC","nhnyqNDmqG","qw14sLq","ChfQEgS","ntaYndfoDK96t2K","twXYqK8","otHYuMf3tKm","C2vHCMnO","B1nHCfC","AM1wv20","s2rTrei","A1fJvKG","s3zrBeW","u1rpD1y","Bwf4","C2L6zvn0zxbnBq","yxbWBhK","mZiXnJblBeT3z2e","Dw5PzM9YBq","s05Rze0","y29UC3rYDwn0B3i","u1fsvdi","z3jHzhvHBa","v2XfuMq","BNbmBwC","uK9Hr3y","CM91BMq","zNDMswS","kcGOlISPkYKRksSK","tuzcrKy","Cu9ss0y","odq2mdfrrufKC0u","DgrVCLy","A2LKExq","Dg9tDhjPBMC","C3LIwvK","mtuWntnnv2Xfuwm","quLtEg8","CMDSyKG","mty3ndq5nuLIt0fOEq","wM5UuLa"];return jc=function(){return c},jc()}const In=Rn;function Mc(){const c=["zMXVB3i","Dhfot3q","C2LU","y29Z","ywjZ","mJm2mdyWmLPAC3rKAq","ALrmshG","ohnKvKzSsq","Dg9gAxHLza","mJu2odq4ofvbzhbryG","B2Lxq3K","B3jKzxi","C2nHBgu","mtmWwLjkwgDn","mwHpsvDLDW","Dg9tDhjPBMC","t3vpzem","BhfQChy","qwjrBxO","ChvdzNO","CMfKAxvZ","BgvUz3rO","C29YDa","5y2k44gp44gz","DuDsvfC","v3bXBLG","ndLLvLPpwum","Bwf4","mty1odKYmwjUDMntAq","EuHQC1e","AM9PBG","CufbvvK","q2LVte0","mJiYntu5ogz4DeTJtW","rMnHB0m","ELHeExG","vu5sz3m","ntm4ndm0CgTtDxvw","ChvZAa","yuXODeO","tunouve","5lI444gK44g+44g/","C2vHCMnO","mZy4nJq0nuDhAvrbzW","A3juA0e","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","u1rmz1e","DMnjsfm","vM56BLK","rwjZCKK","tgrqEKC","5yMJ44gK44g+44g/","DMLJB2i","AwLStKS","ufHhsui","DMvwBNm","u1fsvdi","uNjTCuG","AfnrDuC","mteYntG0mgXwyMLoqW","AefcrKS","vgnKuxu","vgH5DMC","qxrHy1e","sLjUq2i"];return Mc=function(){return c},Mc()}(function(c,r){const a=Rn,i=c();for(;;)try{if(-parseInt(a(414))/1*(parseInt(a(405))/2)+-parseInt(a(368))/3+parseInt(a(407))/4*(-parseInt(a(394))/5)+-parseInt(a(372))/6*(-parseInt(a(426))/7)+parseInt(a(409))/8+parseInt(a(378))/9+-parseInt(a(413))/10*(-parseInt(a(428))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Mc,946879);const E2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),ox=E2(void 0,function(){const c=Rn,r={UNRgs:"(((.+)+)+)+$"};return ox.toString()[c(377)](r[c(371)])[c(415)]().constructor(ox)[c(377)]("(((.+)+)+)+$")});function Rn(c,r){c=c-364;const a=Mc();let i=a[c];if(Rn.qamZVz===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Rn.aYzPCD=o,Rn.bMkcpG={},Rn.qamZVz=!0}const f=a[0],m=c+f,_=Rn.bMkcpG[m];if(_)i=_;else{const h=function(d){this.UpqLFL=d,this.fQvfdO=[1,0,0],this.XuJluJ=function(){return"newState"},this.cWGBKe="\\w+ *\\(\\) *{\\w+ *",this.GMRErr=`['|"].+['|"];? *}`};h.prototype.LEOFed=function(){const d=new RegExp(this.cWGBKe+this.GMRErr),v=d.test(this.XuJluJ.toString())?--this.fQvfdO[1]:--this.fQvfdO[0];return this.SxGxWe(v)},h.prototype.SxGxWe=function(d){return~d?this.rvGFZV(this.UpqLFL):d},h.prototype.rvGFZV=function(d){for(let v=0,p=this.fQvfdO.length;v<p;v++)this.fQvfdO.push(Math.round(Math.random())),p=this.fQvfdO.length;return d(this.fQvfdO[0])},new h(Rn).LEOFed(),i=Rn.aYzPCD(i),Rn.bMkcpG[m]=i}return i}ox();const ar=.28,kd={:In(380),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function fx(c){const r=In,a={qqxCa:function(i,o){return i===o},FEOPo:r(386)};return a.qqxCa(c,a.FEOPo)?kd.:kd[r(376)]}function da(c){return{dryWW:function(a,i){return a/i}}.dryWW(c*Math.PI,180)}const an=2.7;function Nt(c){const r=In,a={AtacQ:function(m,_){return m/_},oJhOg:function(m,_){return m*_}},i=a[r(398)](c*Math[r(391)],2),o=a.oJhOg(i,an),f=o/2;return{length:o,width:f}}function B2(c){return{qAAUY:function(i,o){return i*o}}[In(366)](c,an)/2}function $i(c,r,a){const i=In,o={oiWCy:function(d,v){return d*v},sUgYK:function(d,v){return d-v},cDqyk:function(d,v){return d*v}},{length:f}=Nt(a),m=o[i(410)](f,r);return(Math.max(0,o.sUgYK(c,o.cDqyk(m,ar)))+m)*2/an}function q2(c,r,a){const i=In,o={GIwwV:function(h,d){return h(d)},UHNiE:function(h,d){return h/d},XqeRB:function(h,d){return h*d},qzNyn:function(h,d){return h-d}},{length:f}=o.GIwwV(Nt,a),m=f*r,_=o.UHNiE(o.XqeRB(c,an),2);return Math[i(427)](2,o.qzNyn(_,m*o.qzNyn(1,ar)))}function Vn(c,r,a){const i=In,o={veVns:function(v,p){return v<=p},RrmqH:function(v,p){return v??p},TcdQu:function(v,p){return v/p},uGRTW:function(v,p){return v<p},BYkRc:function(v,p){return v%p},hABFK:function(v,p){return v+p},tqNOt:function(v,p){return v*p},FgIqK:function(v,p){return v/p},MCNQQ:function(v,p){return v+p},AbQmz:function(v,p){return v>p},vcIHS:function(v,p){return v*p}};if(!c||c<=0||!a||o[i(390)](a,0))return o[i(392)](r,0);const f=360/c,m=o[i(396)](360,a),_=[];for(let v=0;o[i(424)](v,c);v++)_.push(o.BYkRc(o.hABFK((r+o[i(401)](v,f))%360,360),360));let h=o[i(395)](r,o.TcdQu(f,2)),d=-1;for(let v=0;v<c;v++){const p=r+v*f+o.FgIqK(f,2);let D=1/0;for(let b=0;b<a;b++){const A=o.BYkRc(o[i(375)](o[i(375)](p,b*m)%360,360),360);for(const C of _){let j=Math[i(404)](A-C);o[i(418)](j,180)&&(j=360-j),j<D&&(D=j)}}o[i(418)](D,d)&&(d=D,h=p)}return Math.round(o[i(382)](h,10))/10}function Uc(c,r,a){const i=In,o={aLhtJ:function(b,A){return b*A},STLgQ:function(b,A){return b-A},LodrM:function(b,A){return b<=A},IdisH:function(b,A){return b/A},WcPeD:function(b,A){return b/A},hhacT:function(b,A){return b*A}};if(c[i(421)]===0)return;const{length:f}=Nt(r),m=c[0],_=m[i(412)]??1,h=o.aLhtJ(f,_),d=Math.max(0,o[i(381)](m.radius,o[i(374)](h,ar))),v=d+h;if(o.LodrM(v,0))return;const p=o.IdisH(a*an,2),D=o.WcPeD(p,v);for(const b of c)b[i(420)]=Math.max(2,Math.round(o[i(374)](o.hhacT(b[i(420)],D),10))/10),b.scale=o.WcPeD(Math.round((b[i(412)]??1)*D*100),100);dx(c,r)}function dx(c,r){const a=In,i={ZXUkg:function(h,d){return h-d},QLFiy:function(h,d){return h(d)},QIIKN:function(h,d){return h*d},jOLjm:function(h,d){return h*d}};if(c.length===0)return;const o=c[i.ZXUkg(c.length,1)],{length:f}=i.QLFiy(Nt,r),m=f*(o[a(412)]??1),_=Math[a(400)](i.QIIKN(i.jOLjm(m,ar),10))/10;o.radius>_&&(o.radius=_)}function G2(c,r,a,i){const o=In,f={FcaoC:function(D,b){return D/b},SEsfG:function(D,b){return D*b},Thyvg:function(D,b){return D*b},CioLM:function(D,b){return D*b},HgdiD:function(D,b){return D<b},jTLHx:function(D,b){return D-b},LdPzG:function(D,b){return D===b},iilNK:o(423),OuOdC:function(D,b){return D!==b},hVpOD:function(D,b){return D/b},gwsrd:function(D,b){return D>b},krTkA:function(D,b){return D*b},EbsrI:function(D,b){return D*b},hSQuG:function(D,b){return D/b},puCfz:function(D,b){return D/b},PXGIB:function(D,b){return D+b}};if(c[o(421)]===0)return;const m=[...c][o(422)]((D,b)=>b.order-D[o(411)]),{length:_}=Nt(r),h=m[o(421)],d=m[0].scale??1,v=f.CioLM(_,d);m[0].radius=f[o(369)](Math[o(400)](v*ar*10),10);for(let D=1;f.HgdiD(D,h);D++){const b=m[f.jTLHx(D,1)],A=_*(b[o(412)]??1);let C;if(f[o(385)](a,f[o(388)]))if(f[o(416)]("zXDyx",o(370)))_0x539ca0[o(420)]=_0x163110[o(427)](2,ZzxzGi[o(369)](_0x3ee7ea.round(ZzxzGi.SEsfG(_0x5ed55b[o(420)],_0x3534f8)*10),10)),_0x36f3e0[o(412)]=_0x2acb96.round(ZzxzGi[o(397)](ZzxzGi[o(397)](_0x459e89[o(412)]??1,_0x503af5),100))/100;else{const B=f.hVpOD(f[o(367)](70,Math.PI),180),O=f.gwsrd(h,1)?D/f[o(406)](h,1)*B:0;C=f[o(379)](f[o(384)](A,f[o(393)](30,100)),Math[o(403)](O))}else C=f.FcaoC(A,3);m[D][o(420)]=f[o(419)](Math.round(f.krTkA(f[o(389)](b[o(420)],C),10)),10)}const p=[...c].sort((D,b)=>D[o(411)]-b.order);Uc(p,r,i);for(const D of p){const b=c.find(A=>A.id===D.id);b&&(b[o(420)]=D[o(420)],b[o(412)]=D.scale)}}function ni(c){const r=In,a={WpqnX:function(h,d){return h/d},xOPpH:function(h,d){return h(d)},JRnCb:function(h,d){return h/d}},i=a[r(425)](360,c),o=Math[r(402)](a.xOPpH(da,a[r(399)](i,2)))*2,f=.96,m=1.2,_=a.JRnCb(o*m,f);return a[r(425)](Math.round(Math[r(427)](.3,Math.min(3,_))*100),100)}(function(c,r){const a=nn,i=c();for(;;)try{if(parseInt(a(359))/1+-parseInt(a(329))/2*(parseInt(a(283))/3)+-parseInt(a(355))/4*(-parseInt(a(302))/5)+-parseInt(a(316))/6+parseInt(a(315))/7*(-parseInt(a(343))/8)+parseInt(a(297))/9*(-parseInt(a(306))/10)+parseInt(a(361))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(zc,138471);const R2=(function(){const c=nn,r={PtPqx:function(i){return i()},qdRzE:"lay",ervrf:function(i,o){return i/o},NHIXK:c(319),wmsfP:c(334),tgdcT:function(i,o){return i(o)},STwtS:function(i,o){return i(o)},ELqVj:"proj",Juavt:function(i,o){return i??o},zvlWJ:"ofEXW"};let a=!0;return function(i,o){const f=c,m={POFkQ:function(_){return r.PtPqx(_)},rTmOB:r[f(356)],xHudD:"Center",AViiw:f(357),henFC:function(_,h){return _/h},dIgij:function(_,h){return r.ervrf(_,h)},KxPjZ:f(354),zBXcE:function(_,h,d){return _(h,d)},jOeQI:function(_,h,d,v){return _(h,d,v)},GHOti:r.NHIXK,MpQvc:"Flower 1",Eqljs:r.wmsfP,iVHsb:function(_,h){return r[f(336)](_,h)},kuthL:function(_,h){return r[f(284)](_,h)},HznGL:r[f(310)],wTfKP:function(_,h){return r[f(280)](_,h)}};if(f(289)===r.zvlWJ){const _=a?function(){const h=f;if(o){const d=o[h(296)](i,arguments);return o=null,d}}:function(){};return a=!1,_}else{const _=m[f(344)](_0x3c11b5),h=_0x48f4b0(),d={id:_0x3c61a1(m.rTmOB),name:m.xHudD,order:3,petalType:"",petalCount:6,radius:12,scale:1,widthScale:1,offsetAngle:0,colorId:m.AViiw,visible:!0,locked:!1},v=m[f(364)](360,d.petalCount),p={id:_0x35f967("lay"),name:f(337),order:2,petalType:f(354),petalCount:6,radius:20,scale:1,widthScale:1,offsetAngle:d.offsetAngle+m.henFC(v,2),colorId:"col_white",visible:!0,locked:!1},D=m[f(331)](360,p[f(281)]),b={id:_0x291478(f(363)),name:"Outer",order:1,petalType:m[f(328)],petalCount:6,radius:28,scale:1,widthScale:1,offsetAngle:p[f(326)]+D/2,colorId:"col_green",visible:!0,locked:!1},A=_0x4929a6??20,C=_0x4f3bed??30,{diameter:j}=m.zBXcE(_0x4c0662,C,A),B=[b,p,d],O=[...B][f(321)]((E,K)=>E.order-K.order);m[f(348)](_0x4d06c1,O,A,j);for(const E of O){const K=B[f(291)](V=>V.id===E.id);K&&(K.radius=E[f(286)],K.scale=E.scale)}const q={id:_0x3cfd9e(m.GHOti),name:m.MpQvc,position:{x:_0x125688,y:_0x8f7f2},flowerDiameter:j,rotation:0,layers:B,fabricSquareSize:A,placementMode:m.Eqljs,baseDiameter:C};return m.iVHsb(_0x34302f,{version:1,id:m.kuthL(_0x3e7db6,m.HznGL),title:m[f(295)](_0x246aaf,f(327)),unit:"mm",fabricSquareSize:A,baseDiameter:C,notes:"",createdAt:_,updatedAt:_,palette:h,flowers:[q]})}}})(),hx=R2(void 0,function(){const c=nn,r={LZtGq:"(((.+)+)+)+$"};return hx[c(314)]().search("(((.+)+)+)+$")[c(314)]().constructor(hx).search(r.LZtGq)});hx();function Kd(){const c=nn,r={BUfIR:c(338),hlDdV:"col_pink",RMxob:"#E0457B",PZPTQ:c(285),UWRzc:c(349),hEvuL:c(324),vlkly:"#7EC8E3",KviZG:c(341),tSMHG:"col_purple",bPeXD:"col_gold",wpEvK:c(303),ezqKI:c(287),WrtVi:c(365),LpuAf:c(347),xpPvB:c(352),AcouR:"#F08080"};return[{id:"col_white",name:"",hex:c(332)},{id:r[c(351)],name:"",hex:"#E34850"},{id:r[c(342)],name:"",hex:"#F08CB6"},{id:c(339),name:"",hex:r.RMxob},{id:r.PZPTQ,name:"",hex:"#F08A3B"},{id:"col_yellow",name:"",hex:r[c(294)]},{id:"col_lightyellow",name:"",hex:"#FDF5C9"},{id:"col_green",name:"",hex:c(333)},{id:r[c(340)],name:"",hex:"#1A7A3A"},{id:"col_lightblue",name:"",hex:r[c(325)]},{id:"col_blue",name:"",hex:r.KviZG},{id:c(305),name:"",hex:c(293)},{id:r[c(311)],name:"",hex:"#9B59B6"},{id:"col_lavender",name:"",hex:c(335)},{id:r[c(308)],name:"",hex:r.wpEvK},{id:"col_silver",name:"",hex:c(350)},{id:r.ezqKI,name:"",hex:"#F5E6CC"},{id:"col_brown",name:"",hex:r.WrtVi},{id:r.LpuAf,name:"",hex:r[c(353)]},{id:c(346),name:"",hex:r.AcouR}]}function k2({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=nn,o={rlWup:function(_,h){return _(h)},HUsco:"prj",ObCqv:function(_,h){return _??h}},f=Cc(),m=Kd();return oa({id:o[i(358)](Yt,o[i(307)]),title:c??"",unit:"mm",fabricSquareSize:r??20,baseDiameter:o.ObCqv(a,30),notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function zc(){const c=["sNvHDNq","Cgv0ywXdB3vUDa","BwfW","mtiZB0rhww5o","u1r3Dfm","y29Sx29Yyw5Nzq","CMfKAxvZ","y29Sx2nYzwfT","shLMBe8","B2zfwfC","DLDRyMS","zMLUza","q2vUDgvY","iZjdm0u2qG","vvDsEMm","D1rMs1a","yxbWBhK","mZzMtMvjDLi","ywLcD3y","y29Sx3bPBMS","u2zluei","BMfTzq","mtq5mgvvtxbPtG","i0q0qtG0mW","rhHOsLq","y29Sx25HDNK","mJu2mdeWBeDtBfb3","sfvZy28","yLbLweq","BeLAufa","ruXXvMO","DfnnseC","uMHduwG","B3jKzxi","Dg9tDhjPBMC","ntu5mZDJEhbgt3y","nJi1otaYuurdDhv4","Bhnly1y","rMXVD2vYide","zMX3","sxvluhO","C29YDa","CfzLAeC","C2nHBgu","y29Sx2rHCMTNCMvLBG","DMXRBhK","B2zMC2v0qw5NBgu","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","s3HqALO","nde4nevMq3r1ua","DLf6yKW","zeLNAwO","i0y1rJvgnq","iZjgqKy0qq","5y2k44gp44gz","i0m4qtjena","DgDKy1q","sw5Uzxi","y29Sx3jLza","y29Sx2HVDhbPBMS","Aev2DuW","iZncn0reoa","AgXezfy","ndbLs3DvC0e","ue9gA1e","r2XrtNu","y29Sx2nVCMfS","y29Sx2jSywnR","AK9LuuK","i0yYrda0qG","i0mWqZbdma","qLvMsvi","iZmZmZmZmW","EhbqDKi","5lI444gK44g+44g/","mJG0nfbdquzMzG","CwrsEKu","y29Sx3DOAxrL","CMXxDxa","mta1mdCYtMT3q2vd","rfPdsLu","mty5mZy1ou5VqxPMBG","v25wEe4","Bgf5","AgvUrKm","iZHcnuuZqW"];return zc=function(){return c},zc()}function nn(c,r){c=c-280;const a=zc();let i=a[c];if(nn.ywiVWV===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};nn.OnoAwI=o,nn.Jhynck={},nn.ywiVWV=!0}const f=a[0],m=c+f,_=nn.Jhynck[m];if(_)i=_;else{const h=function(d){this.NhWhug=d,this.xPUfkD=[1,0,0],this.ggWcJJ=function(){return"newState"},this.NPCkUn="\\w+ *\\(\\) *{\\w+ *",this.SjdXzA=`['|"].+['|"];? *}`};h.prototype.LCXdRX=function(){const d=new RegExp(this.NPCkUn+this.SjdXzA),v=d.test(this.ggWcJJ.toString())?--this.xPUfkD[1]:--this.xPUfkD[0];return this.oDiCjg(v)},h.prototype.oDiCjg=function(d){return~d?this.XpUJMH(this.NhWhug):d},h.prototype.XpUJMH=function(d){for(let v=0,p=this.xPUfkD.length;v<p;v++)this.xPUfkD.push(Math.round(Math.random())),p=this.xPUfkD.length;return d(this.xPUfkD[0])},new h(nn).LCXdRX(),i=nn.OnoAwI(i),nn.Jhynck[m]=i}return i}function O2(c,r){const a=nn,i={IiQLN:function(_,h){return _(h)},memag:"flw",GlQNu:function(_,h){return _+h}},o=Hl(c);o.id=i.IiQLN(Yt,i.memag),o[a(301)]=c.name+" Copy";const f=r?.x??12,m=r?.y??12;return o.position={x:i[a(345)](c.position?.x??0,f),y:(c.position?.y??0)+m},o.layers=(o.layers||[])[a(282)](_=>({..._,id:Yt("lay"),petalOverrides:_.petalOverrides?_.petalOverrides.map(h=>({...h})):void 0})),o}(function(c,r){const a=bn,i=c();for(;;)try{if(parseInt(a(179))/1*(parseInt(a(225))/2)+parseInt(a(210))/3*(parseInt(a(195))/4)+-parseInt(a(234))/5*(-parseInt(a(271))/6)+-parseInt(a(240))/7+-parseInt(a(219))/8*(-parseInt(a(182))/9)+-parseInt(a(247))/10+-parseInt(a(166))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Dc,820846);const H2=(function(){const c=bn,r={WtmnU:function(i,o,f,m){return i(o,f,m)},NrfDV:function(i,o){return i!==o},oMaJS:"nHYKJ",CkgUl:c(209)};let a=!0;return function(i,o){const f=c;if(r[f(203)](r.oMaJS,r[f(215)])){const m=a?function(){const _=f;if(o){const h=o[_(232)](i,arguments);return o=null,h}}:function(){};return a=!1,m}else _0x4fe9b2[f(241)]=r.WtmnU(_0x20f35a,_0x43775f[f(241)],1,30)}})(),mx=H2(void 0,function(){const c=bn;return mx.toString().search("(((.+)+)+)+$").toString()[c(184)](mx)[c(192)]("(((.+)+)+)+$")});mx();function bn(c,r){c=c-163;const a=Dc();let i=a[c];if(bn.BlgKId===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};bn.uuhFXm=o,bn.TFQzzi={},bn.BlgKId=!0}const f=a[0],m=c+f,_=bn.TFQzzi[m];if(_)i=_;else{const h=function(d){this.pvRLHQ=d,this.fCiQPs=[1,0,0],this.xbxRgf=function(){return"newState"},this.iEbbhE="\\w+ *\\(\\) *{\\w+ *",this.wNOaUu=`['|"].+['|"];? *}`};h.prototype.kbJJzS=function(){const d=new RegExp(this.iEbbhE+this.wNOaUu),v=d.test(this.xbxRgf.toString())?--this.fCiQPs[1]:--this.fCiQPs[0];return this.zGxrqd(v)},h.prototype.zGxrqd=function(d){return~d?this.JMLLFI(this.pvRLHQ):d},h.prototype.JMLLFI=function(d){for(let v=0,p=this.fCiQPs.length;v<p;v++)this.fCiQPs.push(Math.round(Math.random())),p=this.fCiQPs.length;return d(this.fCiQPs[0])},new h(bn).kbJJzS(),i=bn.uuhFXm(i),bn.TFQzzi[m]=i}return i}function cx(c){const r=bn,a={xKDqK:r(259),vwKth:r(270),zRGGu:r(213),jQsDo:function(i,o){return i===o}};return c===a.xKDqK?a.vwKth:c===r(243)?a[r(256)]:a.jQsDo(c,a[r(188)])||a.jQsDo(c,"")?c:""}function Dc(){const c=["mJmXoduXn01YsNbqAW","BgvHDMvZ","y29UC3rYDwn0B3i","DMLkqxe","Cgv0ywXpDMvYCMLKzxm","Aw5UzxjqzxrHBfr5Cgu","DNDlDgG","zMXVD2vYswrZ","CMfKAxvZ","zhffAxC","C2vHCMnO","yNPMBgG","y29SB3i","mJiWrwDlz1DI","BgvUz3rO","CKzzweO","zMX3","rMXVD2vY","v1LsCw0","zMXVD2vYrgLHBwv0zxi","y01zwuy","tNjMrfy","y29Sx3DOAxrL","BgLUA2vKrMXVD2vYr3jVDxbjza","AxngAw5PDgu","CgvWq291BNq","CgfSzxr0zq","q2LIDeS","nZG4mdfhve5kCgC","vg5oq2i","rMz3uKC","5yMJ44gK44g+44g/","y29SB3jjza","q2TNvwW","sK1Itvu","zLfcBMS","yNbMEhi","mJrKvxfcwwS","seLVAuS","Bgf5","Dxn5tMi","BM90zxm","CgHMzxq","mteXnJjpCwTszve","Cgv0ywXuExbL","BgvHzKDYB3vWCW","shriC3i","zKDhvuy","C29Tzq","BeLcyvy","yxbWBhK","BgvHzG","mZvyuKDSs1y","BMfTzq","44oA44od44ox","BgvHzKLKCW","wfjIvgy","Cg9Zzq","ntaWnZm1mML1rMTOAq","Aw5UzxjtAxPLuMvKDwn0Aw9U","Dw5PDa","A2vU","D2jXvK0","zMfICMLJu3f1yxjLu2L6zq","Cgv0ywXdB3vUDa","mtaXnZK4mgLyB1Ljuq","CM90yxrPB24","y3jLyxrLzef0","AgfZ","Bgf5zxjZ","sNfiuuK","C2L6zq","zMLSDgvY","C2nHBgu","ELjhr3u","z3jW","y2HPBgq","BwfYDq","zg91yMXLugv0ywW","BgvMDa","vgXKtwu","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","CgXHy2vTzw50tw9Kzq","Aw5JBhvKzxm","D2LKDgHty2fSzq","wLjXzvu","AxnbCNjHEq","6jgj44kW44oR44o844ox","5lI444gK44g+44g/","mta5mJiXmhjyAwLnEq","44or44o844oR77Yl5BQN6yEr","yMfZzurPyw1LDgvY","DxbKyxrLzef0","Aw5Uzxjty2fSzq","y29SB3iY","mJCWodmYotHbEMfsthm","zMXVD2vYCW","5y2k44gp44gz","y29Sx2DYzwvU","DhLWzq","C3rLBMnPBhm","B2zMC2v0qw5NBgu","thP1vwG","z3jVDxbZ","ywr1Bhq","ruX5Cwy","y2vUDgvY","Cg9ZAxrPB24","mta5zNrVuhfm","BwfW","C3rYAw5N"];return Dc=function(){return c},Dc()}function oa(c){const r=bn,a={XRbTf:r(270),ELyqf:function(f,m){return f===m},lIBaV:r(243),fGGUF:"",mkvWG:r(198),dqEiw:function(f,m){return f(m)},wXBYN:r(221),HIoiK:function(f,m){return f!==m},bpfxr:function(f,m){return f(m)},viJAq:function(f,m){return f!==m},ZRqeU:"object",phfet:function(f,m,_,h){return f(m,_,h)},TNbaM:function(f,m){return f!=m},bzflh:r(181),JqHQI:function(f,m){return f===m},JMbMU:"usyNb",ijwwF:function(f,m){return f!==m},rFYXJ:r(272),jJJTE:"",LzuUh:r(236),FfwRG:r(168),MSePR:r(244),WYRqm:function(f){return f()},oiPPj:function(f){return f()},cMYYF:"proj",fQBnk:r(263),xpFNL:r(262),GJKED:r(257),JzvZg:r(228),ZsHfG:"prpKN",btLGe:r(169),ZqzDi:function(f,m){return f!==m},UuJgu:function(f,m){return f!=m},EPEJV:r(175),TnNCb:r(261)},i=Hl(c||{});Array[r(268)](i.flowers)||(i[r(167)]=[]);for(const f of i[r(167)]){f.id||(f.id=Yt(a.mkvWG)),(typeof f[r(235)]!==r(181)||!f[r(235)])&&(f[r(235)]=r(199)),(!f.position||!Number.isFinite(f.position.x)||!Number.isFinite(f.position.y))&&(f.position={x:260,y:260}),Array[r(268)](f.layers)||(f[r(251)]=[]);for(const m of f.layers){if(m.id||(m.id=a.dqEiw(Yt,a.wXBYN)),(a.HIoiK(typeof m.colorId,"string")||!m[r(214)])&&(m[r(214)]=i.palette?.[0]?.id??"col_white"),m[r(226)]=cx(m.petalType),m[r(246)]=Ce(a[r(218)](Number,m.petalCount||0),5,24),Number[r(206)](m[r(255)])||(m[r(255)]=1),Number[r(206)](m.widthScale)||(m.widthScale=1),Number.isFinite(m.radius)||(m[r(190)]=28),Number[r(206)](m.offsetAngle)||(m[r(172)]=0),delete m._doublePetalCache,m[r(260)])if(a.viJAq(typeof m.doublePetal,a[r(267)])||m[r(260)]===null)delete m.doublePetal;else{if(m[r(260)].innerScale!=null&&m.doublePetal[r(241)]==null){const _=f[r(245)]??i.fabricSquareSize??20;m[r(260)].innerSizeReduction=Math.round(_*(1-m[r(260)].innerScale))}delete m.doublePetal[r(164)],Number[r(206)](m[r(260)].innerSizeReduction)||(m.doublePetal.innerSizeReduction=2),m[r(260)].innerSizeReduction=a[r(224)](Ce,m.doublePetal.innerSizeReduction,1,30),delete m.doublePetal[r(187)],a.TNbaM(m[r(260)].innerColorId,null)&&a[r(220)](typeof m.doublePetal.innerColorId,a.bzflh)&&(a[r(252)](a[r(216)],r(222))?delete m[r(260)].innerColorId:delete _0xf29f89[r(260)].innerColorId)}if(Array.isArray(m[r(186)]))for(const _ of m.petalOverrides)_&&a.TNbaM(_.petalType,null)&&(_[r(226)]=a.bpfxr(cx,_.petalType)),_&&delete _[r(187)],_&&_.innerColorId!=null&&a.ijwwF(typeof _.innerColorId,"string")&&delete _.innerColorId,_&&_.innerSizeReduction!=null&&(Number.isFinite(_[r(241)])?_[r(241)]=a.phfet(Ce,_.innerSizeReduction,1,30):delete _.innerSizeReduction)}if((!Number[r(206)](f.flowerDiameter)||f[r(201)]<=0)&&(f.flowerDiameter=60),f[r(177)]&&(f.center.type===a[r(197)]&&(f[r(177)][r(170)]=""),[a.jJJTE,"",""][r(265)](f[r(177)].type)||(f.center.type=a.jJJTE),Number[r(206)](f.center[r(253)])||(f.center[r(253)]=6),f.center[r(253)]=Ce(f[r(177)][r(253)],1,30),(a[r(185)](typeof f[r(177)][r(194)],a[r(193)])||!f[r(177)][r(194)])&&(f.center.color=i[r(208)]?.[0]?.id??r(204)),f[r(177)].type===a[r(173)]&&(Number.isFinite(f.center[r(207)])||(f.center.pepCount=12),f[r(177)][r(207)]=Ce(f.center[r(207)],4,30)),a.HIoiK(f[r(177)][r(170)],"")&&delete f[r(177)][r(165)]),f.placementMode!==a[r(212)]&&f[r(264)]!==""&&(f.placementMode=r(168)),a.viJAq(f.baseDiameter,void 0)){if(a[r(185)](a.MSePR,"wbqVM"))return _0x2bb329===r(259)?BrszXI[r(238)]:BrszXI[r(176)](_0x9414ed,BrszXI[r(231)])?BrszXI[r(229)]:BrszXI.ELyqf(_0x1b4f31,"")||BrszXI[r(176)](_0x3e2cdf,"")?_0x3a86b2:BrszXI[r(238)];(!Number[r(206)](f.baseDiameter)||f[r(273)]<=0)&&delete f[r(273)]}}Array[r(268)](i[r(208)])||(i.palette=[]);const o=new Set(i.palette[r(180)](f=>f.id));for(const f of a[r(200)](Kd))o.has(f.id)||i[r(208)].push(f);i.createdAt||(i[r(249)]=a.oiPPj(Cc)),i[r(163)]||(i.updatedAt=i.createdAt),i.id||(i.id=a.dqEiw(Yt,a[r(202)])),i.title||(i.title=a[r(217)]),i[r(242)]="mm",Number[r(206)](i[r(245)])||(i[r(245)]=20),(!Number.isFinite(i.baseDiameter)||i.baseDiameter<=0)&&(i[r(273)]=30),typeof i[r(223)]!==r(181)&&(i[r(223)]=""),Array.isArray(i[r(174)])||(i[r(174)]=[]);{const f=new Set(i.flowers.map(m=>m.id));for(const m of i[r(174)])a.xpFNL===r(262)?(Array[r(268)](m[r(189)])||(m[r(189)]=[]),m.flowerIds=m[r(189)].filter(_=>f[r(250)](_)),m.id||(m.id=a[r(218)](Yt,a.GJKED)),(typeof m.name!==a[r(193)]||!m.name)&&(m.name="")):delete _0x343b4d.center.color2;i[r(174)]=i.groups.filter(m=>m.flowerIds&&m.flowerIds[r(196)]>0)}Array[r(268)](i.leaves)||(i.leaves=[]);for(const f of i[r(183)])f.id||(f.id=Yt(r(233))),(typeof f.name!==a[r(193)]||!f.name)&&(f[r(235)]="Leaf"),(!f[r(178)]||!Number.isFinite(f[r(178)].x)||!Number.isFinite(f[r(178)].y))&&(a.JzvZg!==a.ZsHfG?f[r(178)]={x:675,y:675}:delete _0x2841cb[r(273)]),Number.isFinite(f[r(248)])||(f[r(248)]=0),f[r(226)]=cx(f[r(226)]),(typeof f.colorId!="string"||!f[r(214)])&&(f.colorId=i.palette?.[0]?.id??a.btLGe),Number.isFinite(f.scale)||(f[r(255)]=1),Number[r(206)](f[r(266)])||(f.widthScale=1),a.ijwwF(typeof f.visible,"boolean")&&(f.visible=!0),typeof f.locked!="boolean"&&(f.locked=!1),delete f._doublePetalCache,f.doublePetal&&(a.ZqzDi(typeof f.doublePetal,a.ZRqeU)||f.doublePetal===null?delete f[r(260)]:(Number.isFinite(f[r(260)].innerSizeReduction)||(f.doublePetal.innerSizeReduction=2),f.doublePetal[r(241)]=Ce(f.doublePetal[r(241)],1,30),f[r(260)].innerColorId!=null&&typeof f.doublePetal.innerColorId!==r(181)&&delete f[r(260)].innerColorId));Array[r(268)](i.leafGroups)||(i.leafGroups=[]);{const f=new Set(i.leaves[r(180)](m=>m.id));for(const m of i.leafGroups)m.id||(m.id=a[r(191)](Yt,"lg")),(typeof m[r(235)]!==a.bzflh||!m.name)&&(m.name=r(269)),Array.isArray(m[r(237)])||(m[r(237)]=[]),m[r(237)]=m.leafIds[r(254)](_=>f.has(_)),Number.isFinite(m[r(248)])||(m.rotation=0),a.UuJgu(m.linkedFlowerGroupId,null)&&((i[r(174)]??[])[r(230)](h=>h.id===m.linkedFlowerGroupId)||delete m[r(205)]);i[r(227)]=i.leafGroups.filter(m=>m.leafIds&&m.leafIds.length>0)}if(Array.isArray(i.stencils)){const f=[a.EPEJV,r(258)],m=["right",a[r(211)],"back"];i[r(171)]=i.stencils[r(254)](_=>_&&typeof _.id===r(181)&&f[r(265)](_.variant)&&m[r(265)](_[r(239)])&&_.position&&Number.isFinite(_.position.x)&&Number[r(206)](_.position.y))}return Number[r(206)](i.version)||(i.version=1),i}const Ud=kn;(function(c,r){const a=kn,i=c();for(;;)try{if(parseInt(a(430))/1*(parseInt(a(433))/2)+parseInt(a(441))/3+parseInt(a(442))/4*(parseInt(a(434))/5)+-parseInt(a(445))/6*(parseInt(a(438))/7)+parseInt(a(439))/8+parseInt(a(435))/9+-parseInt(a(437))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Nc,185354);function kn(c,r){c=c-430;const a=Nc();let i=a[c];if(kn.cXGFKM===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};kn.YXmSVs=o,kn.OJmFMe={},kn.cXGFKM=!0}const f=a[0],m=c+f,_=kn.OJmFMe[m];if(_)i=_;else{const h=function(d){this.VZwfHZ=d,this.hFkALY=[1,0,0],this.BkTifo=function(){return"newState"},this.PcUCiu="\\w+ *\\(\\) *{\\w+ *",this.sdtVfC=`['|"].+['|"];? *}`};h.prototype.RoqhMg=function(){const d=new RegExp(this.PcUCiu+this.sdtVfC),v=d.test(this.BkTifo.toString())?--this.hFkALY[1]:--this.hFkALY[0];return this.ovqahO(v)},h.prototype.ovqahO=function(d){return~d?this.vAZdUq(this.VZwfHZ):d},h.prototype.vAZdUq=function(d){for(let v=0,p=this.hFkALY.length;v<p;v++)this.hFkALY.push(Math.round(Math.random())),p=this.hFkALY.length;return d(this.hFkALY[0])},new h(kn).RoqhMg(),i=kn.YXmSVs(i),kn.OJmFMe[m]=i}return i}const Y2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),bx=Y2(void 0,function(){const c=kn,r={lvVow:c(431)};return bx.toString()[c(436)](r.lvVow)[c(443)]().constructor(bx)[c(436)](r[c(444)])});bx();function Nc(){const c=["mJiZmZaWme9YB25xAa","5yMJ44gK44g+44g/","mZa5nJmWDK5OExL6","ntGZnJrVtxrKswy","Dg9tDhjPBMC","BhzwB3C","mJGYwLvfCvHK","mtC4nZaWq0Lvuerr","kcGOlISPkYKRksSK","5y2k44gp44gz","mNfSv1H1Aq","odvzBKjbCfG","mta4mJCZnM5UuxfTwq","C2vHCMnO","ndeWmZC5mgLmrNn5zq","ndK2otnwCgzcq2W"];return Nc=function(){return c},Nc()}const Xd="tsumami_projects_v1",bl=["",Ud(440)],I2=["","",""],Jd=["",Ud(432)];function Ht(c,r){c=c-441;const a=Ac();let i=a[c];if(Ht.ciMGoq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ht.fzaMMM=o,Ht.jfkxRe={},Ht.ciMGoq=!0}const f=a[0],m=c+f,_=Ht.jfkxRe[m];if(_)i=_;else{const h=function(d){this.vUDWpS=d,this.REGZsh=[1,0,0],this.jGnGFi=function(){return"newState"},this.fLyRid="\\w+ *\\(\\) *{\\w+ *",this.ygmOdN=`['|"].+['|"];? *}`};h.prototype.OUTUtO=function(){const d=new RegExp(this.fLyRid+this.ygmOdN),v=d.test(this.jGnGFi.toString())?--this.REGZsh[1]:--this.REGZsh[0];return this.lZecdy(v)},h.prototype.lZecdy=function(d){return~d?this.ERepxs(this.vUDWpS):d},h.prototype.ERepxs=function(d){for(let v=0,p=this.REGZsh.length;v<p;v++)this.REGZsh.push(Math.round(Math.random())),p=this.REGZsh.length;return d(this.REGZsh[0])},new h(Ht).OUTUtO(),i=Ht.fzaMMM(i),Ht.jfkxRe[m]=i}return i}(function(c,r){const a=Ht,i=c();for(;;)try{if(parseInt(a(465))/1*(-parseInt(a(463))/2)+parseInt(a(441))/3*(parseInt(a(444))/4)+parseInt(a(453))/5*(parseInt(a(468))/6)+parseInt(a(472))/7*(parseInt(a(469))/8)+parseInt(a(467))/9+-parseInt(a(466))/10+-parseInt(a(456))/11*(parseInt(a(451))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ac,776902);const Z2=(function(){const c=Ht,r={gqOHL:function(i,o){return i>=o},mWEoL:function(i,o){return i+o},kHuUC:function(i,o){return i(o)},fGjmD:c(446)};let a=!0;return function(i,o){const f=c,m={StbGO:function(h,d){return r.gqOHL(h,d)},gHHeE:function(h,d){return r[Ht(474)](h,d)},gmxEC:function(h,d){return r[Ht(471)](h,d)},FbzKM:r[f(455)]},_=a?function(){const h=f;if(o)if(m[h(454)]===m.FbzKM){const d=o.apply(i,arguments);return o=null,d}else{const d=_0x6b3b90(),v=d.findIndex(b=>b.id===_0x3e7fd2.id),p={id:_0x5927fe.id,title:_0xb3dc.title,updatedAt:_0x37744b.updatedAt,project:_0x59f0b7},D=m.StbGO(v,0)?[...d[h(445)](0,v),p,...d[h(445)](m.gHHeE(v,1))]:[p,...d];return D.sort((b,A)=>b[h(452)]<A[h(452)]?1:-1),m.gmxEC(_0xf16cb0,D)}}:function(){};return a=!1,_}})(),vx=Z2(void 0,function(){const c=Ht,r={CTkQv:"(((.+)+)+)+$"};return vx[c(458)]()[c(464)](c(443))[c(458)]().constructor(vx)[c(464)](r.CTkQv)});vx();function Ac(){const c=["mZCWnZq5merlr0Tkzq","rMj6s00","zKDQBuq","mtiWmdftBgf0DfK","zMLSDgvY","Dg9tDhjPBMC","C2v0sxrLBq","DgL0Bgu","CgfYC2u","C3rYAw5NAwz5","mKvxt052AW","C2vHCMnO","oti5mdKWBxj1z0Lp","nJq0mJC3mfjfsMDywG","nZiZotzeB0zOqLC","nNzluNPpDq","mti0mdq0ntz1CMf5wKu","BuLnEue","A0H1vum","n1Dtzwz1qG","zxPoyNK","BvDfB0W","mta5ntLez3jctfC","C29YDa","kcGOlISPkYKRksSK","mtmZmM5lrK5Iyq","C2XPy2u","wNLNwfC","z2v0sxrLBq","AeHNzMq","ChjVAMvJDa","BwfW","mti4mJHnEhn3vvC","DxbKyxrLzef0"];return Ac=function(){return c},Ac()}function er(){const c=Ht,r={mIMyA:"zwwvJ",ezNby:"PQONF",NAQbZ:function(a,i){return a!==i}};try{const a=localStorage[c(447)](Xd);if(!a)return[];const i=JSON[c(461)](a);return Array.isArray(i)?i[c(450)](o=>{const f=c;try{if(r[f(470)]!==r[f(473)]){const m=o?.[f(449)]?oa(o[f(449)]):null;return m?{id:o.id??m.id,title:o.title??m.title,updatedAt:o.updatedAt??m.updatedAt,project:m}:null}else try{const m=_0x5b4dda?.project?_0x2a0926(_0x4783f1.project):null;return m?{id:_0x355171.id??m.id,title:_0x433b42[f(460)]??m.title,updatedAt:_0x5b724b[f(452)]??m[f(452)],project:m}:null}catch{return null}}catch{return null}}).filter(o=>o!=null):[]}catch{if(r.NAQbZ(c(448),c(448)))try{return _0x8395d5[c(459)](_0x4cb93c,_0x2586b0[c(462)](_0x5247cb)),!0}catch{return!1}else return[]}}function Qd(c){const r=Ht;try{return localStorage[r(459)](Xd,JSON[r(462)](c)),!0}catch{return!1}}function K2(c){const r=Ht,a={xUMPW:function(_){return _()},Ysklr:function(_,h){return _(h)}},i=a.xUMPW(er),o=i.findIndex(_=>_.id===c.id),f={id:c.id,title:c.title,updatedAt:c.updatedAt,project:c},m=o>=0?[...i.slice(0,o),f,...i.slice(o+1)]:[f,...i];return m[r(442)]((_,h)=>_.updatedAt<h.updatedAt?1:-1),a.Ysklr(Qd,m)}function U2(c){const r=Ht,a=er()[r(457)](i=>i.id!==c);return Qd(a)}(function(c,r){const a=Nn,i=c();for(;;)try{if(parseInt(a(347))/1+parseInt(a(351))/2+parseInt(a(354))/3+-parseInt(a(317))/4*(parseInt(a(303))/5)+-parseInt(a(349))/6*(-parseInt(a(332))/7)+parseInt(a(346))/8*(-parseInt(a(305))/9)+-parseInt(a(333))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Lc,163018);const X2=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Nn;if(a){const f=a[o(324)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),gx=X2(void 0,function(){const c=Nn,r={fYkIZ:"(((.+)+)+)+$"};return gx.toString()[c(311)](r.fYkIZ).toString().constructor(gx)[c(311)](r[c(327)])});gx();function Lc(){const c=["vLfjqNK","mtqYmvDdyuvbtq","mJqXndeZmgHLDKLWzG","zhbMvxO","CM91BMq","y29SB3jjza","iZK5otK5oq","yMfZzurPyw1LDgvYtw0","ChvZAa","y291BNq","tLP2uNO","Bw9Kzq","Aw5UzxjdB2XVCKLK","C2nHBgu","BhLorxm","mti0mdK2ohzTEMXLCa","mJCZmZa2wwLzy3fW","zMXVD2vYCW","mJiWofDftunwua","Bwf4","ndCXnJy0tfrYuu9J","C29YDa","CK1xsw8","nJiWmJeXs0j2zwn5","zxrkvMG","zw50CMLLCW","zMfICMLJu2L6zu1T","yLPYy0C","Cgv0ywXpDMvYCMLKzxm","mtvmuw1Awhy","CMvKDwnL","ouzUEKvZEG","5y2k44gp44gz","DMfSDwvZ","C2v0","A0Hoz2S","yMfZzurPyw1LDgvY","C2vHCMnO","zNLACwW","BuHSu1y","v2LRAKC","B2Hyrxi","Cgv0ywXdB3vUDa","mZa4mdm2wLPpuKrc","Aw5UzxjtAxPLuMvKDwn0Aw9U","ywjsrue","BwfW","zMfICMLJu3f1yxjLu2L6zq","zg91yMXLugv0ywW","tKXoBK0","yxbWBhK","C3fYDa","svDhtgi","zLLRsvO","Dg90ywXdB3vUDa","DMLZAwjSzq","z2v0"];return Lc=function(){return c},Lc()}function Nn(c,r){c=c-302;const a=Lc();let i=a[c];if(Nn.aEzJcx===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Nn.IbDIXD=o,Nn.HlYFgy={},Nn.aEzJcx=!0}const f=a[0],m=c+f,_=Nn.HlYFgy[m];if(_)i=_;else{const h=function(d){this.ETuhMD=d,this.zrvMZo=[1,0,0],this.IfnfUo=function(){return"newState"},this.JAWBcD="\\w+ *\\(\\) *{\\w+ *",this.SydiWT=`['|"].+['|"];? *}`};h.prototype.ZLNQXe=function(){const d=new RegExp(this.JAWBcD+this.SydiWT),v=d.test(this.IfnfUo.toString())?--this.zrvMZo[1]:--this.zrvMZo[0];return this.DRueDW(v)},h.prototype.DRueDW=function(d){return~d?this.hNGrhR(this.ETuhMD):d},h.prototype.hNGrhR=function(d){for(let v=0,p=this.zrvMZo.length;v<p;v++)this.zrvMZo.push(Math.round(Math.random())),p=this.zrvMZo.length;return d(this.zrvMZo[0])},new h(Nn).ZLNQXe(),i=Nn.IbDIXD(i),Nn.HlYFgy[m]=i}return i}function J2(c){const r=Nn,a={ohXEr:function(v,p){return v/p},XJeqf:function(v,p){return v+p},VQIBy:function(v,p){return v*p},YjrXI:function(v,p){return v/p},fyZql:function(v,p){return v/p},qTiyP:r(337),NZvRz:function(v,p){return v/p},lyNEs:function(v,p){return v*p},NLNnM:function(v,p){return v===p},dpfUz:r(306),IWGLb:function(v,p){return v-p},cJzCN:function(v,p){return v*p},mHlSV:function(v,p){return v<p},ArwMA:function(v,p,D){return v(p,D)},WUarF:function(v,p){return v!==p},rMWIo:r(358),pqjUh:"iVEwZ",abREA:"VOZEf",kHNgk:"sKSjZ",dSenX:r(314),bplhO:function(v,p){return v-p}},i=new Map((c.palette||[]).map(v=>[v.id,v])),o=new Map,f=(v,p)=>v?.[r(302)]?.find(D=>D.index===p)??null,m=new Map;for(const v of c[r(348)]||[]){const p=v[r(321)]??c.fabricSquareSize;for(const j of v.layers||[]){if(!j[r(329)])continue;const B=Math[r(335)](a.cJzCN(p,j[r(344)]??1));for(let O=0;a[r(313)](O,j[r(316)]);O++){const q=a.ArwMA(f,j,O),E=q?.colorId??j[r(336)],K=E+"|"+B,V=o.get(K);if(V?V[r(340)]+=1:o.set(K,{colorId:E,fabricSizeMm:B,count:1}),j.doublePetal)if(r(355)==="uSGqp")_0x569bba.entries[r(339)]({fabricSizeMm:_0x559b61,count:_0x5a4a7a});else{const R=j[r(322)],H=q?.[r(343)]??R.innerColorId??E,Q=q?.innerSizeReduction??R[r(318)]??2,ne=Math[r(350)](3,Math[r(335)](B-Q)),P=H+"|"+ne,y=o[r(330)](P);if(y)a.WUarF(a[r(353)],a[r(353)])?_0x5b263c.count+=1:y.count+=1;else if(a[r(323)](a.pqjUh,a[r(319)])){const w=_0x4ea700.get(_0x3fd35a),z=_0x530c34[r(352)]((k,I)=>I[r(357)]-k[r(357)]),g=z.reduce((k,I)=>k+I[r(340)],0),M=a.YjrXI(_0x35aa71.round(z.reduce((k,I)=>{const Y=r,N=a[Y(315)](I[Y(357)],10);return a.XJeqf(k,a.VQIBy(I[Y(340)],N)*N)},0)*100),100),T=a[r(312)](_0x28d235.round(_0x1423ac[r(325)](M)*10),10);return{colorId:_0x2fb2e7,colorName:w?.name??_0x44f51f,hex:w?.hex??a.qTiyP,sizes:z,totalCount:g,totalAreaCm2:M,squareSideCm:T}}else o[r(308)](P,{colorId:H,fabricSizeMm:ne,count:1})}}}const D=v.placementMode??a.dpfUz,b=D===""?Fi(v.flowerDiameter):v[r(310)]??c[r(310)],A=D+"|"+b,C=m.get(A);C?C.count+=1:m.set(A,{mode:D,baseDiameterMm:b,count:1})}for(const v of c.leaves??[])if(a[r(309)]===a.dSenX)_0x683244[r(308)](_0x3ffe25,{colorId:_0x3381bf,fabricSizeMm:_0x200234,count:1});else{if(!v.visible)continue;const p=v[r(321)]??c[r(321)],D=Math.round(a.VQIBy(p,v[r(344)]??1)),b=v[r(336)],A=b+"|"+D,C=o[r(330)](A);if(C?C.count+=1:o.set(A,{colorId:b,fabricSizeMm:D,count:1}),v[r(322)]){const j=v[r(322)],B=j[r(343)]??b,O=Math[r(350)](3,Math[r(335)](a.bplhO(D,j[r(318)]??2))),q=B+"|"+O,E=o[r(330)](q);E?E.count+=1:o[r(308)](q,{colorId:B,fabricSizeMm:O,count:1})}}const _=new Map;for(const{colorId:v,fabricSizeMm:p,count:D}of o.values()){const b=_[r(330)](v);b?b[r(356)].push({fabricSizeMm:p,count:D}):_.set(v,{colorId:v,entries:[{fabricSizeMm:p,count:D}]})}const h=Array.from(_[r(307)]())[r(320)](({colorId:v,entries:p})=>{const D=r,b=i[D(330)](v),A=p.sort((O,q)=>q.fabricSizeMm-O.fabricSizeMm),C=A[D(304)]((O,q)=>O+q.count,0),j=a.ohXEr(Math[D(335)](A[D(304)]((O,q)=>{const E=D,K=a.ohXEr(q[E(357)],10);return O+a[E(331)](q.count,K)*K},0)*100),100),B=a[D(341)](Math.round(a[D(345)](Math.sqrt(j),10)),10);return{colorId:v,colorName:b?.name??v,hex:b?.hex??"#999999",sizes:A,totalCount:C,totalAreaCm2:j,squareSideCm:B}}).sort((v,p)=>p[r(328)]-v[r(328)]),d=Array.from(m[r(307)]())[r(352)]((v,p)=>{const D=r;return v.mode!==p.mode?a[D(323)](v[D(342)],a[D(334)])?-1:1:a[D(326)](p.baseDiameterMm,v[D(338)])});return{colors:h,bases:d}}function Tc(){const c=["CMv2B2TLt2jQzwn0vvjm","CMvTB3zL","D2LKDgG","lNbUzW","zwPSuxy","z2v0qxr0CMLIDxrL","mJGYnZa5meLor3rKtG","zw5KC1DPDgG","C2LQB3y","lNn2zW","Eg1SBNm","y29UC3rYDwn0B3i","w2rHDgeTz3jPzf0","rwDruwy","rwfru2i","r0fZwgy","vgfJrKq","AhjLzG","lNrZDw1HBwKTC2vSlwrHC2G","uMrqB1i","A2DkzLq","mZu3mtC0A2vjqNjk","AgvPz2H0","Dejgvvi","rMTPsKe","v1vWCKK","mtaWjq","y2XPy2S","D2HPDgu","yxbWzw5Kq2HPBgq","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","rhztuNG","qNbHyNK","y1bvzgi","ote0nta4z3HVtgDK","zgf0ys10zxn0Awq","C2vYAwfSAxPLvg9tDhjPBMC","mtK2nteXmLHMuK9fsq","ndiXmZqYmM5pv0joDq","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","lNrZDw1HBwKTz3jVDxaTzgfZAa","CMvTB3zLqxr0CMLIDxrL","C3r5Bgu","zhjHD0LTywDL","Aw5Zzxj0qMvMB3jL","tvrmq0W","y3jLyxrLt2jQzwn0vvjm","CxvLCNLtzwXLy3rVCKfSBa","ww5ZzKS","nJm5odf1ugvxCKm","z2v0q29UDgv4Da","mZe5odu3mNzfAMnJsG","y2fUDMfZ","C2v0qxr0CMLIDxrL","nxHIvwrhEq","vgHutu8","w2rHDgeTBwfYCxvLzv0","B25LCNjVCG","mJD5CKnJCKO","CMvJDa","y2XVBMvoB2rL","y3jLyxrLrwXLBwvUDa","u1j3qw0","ugXWCvm","mcaWidiWmcaYmda","EKf2uhy","Aw1Hz2uVCg5N","C0HTEuy","Dg9tDhjPBMC","yxbWBhK","zMLSBfjLy3q","C3bSAxq","C2vHCMnO","y1f4s2i","yM9KEq","qK1rsem","zM9YrwfJAa"];return Tc=function(){return c},Tc()}(function(c,r){const a=Ut,i=c();for(;;)try{if(-parseInt(a(434))/1+-parseInt(a(447))/2+-parseInt(a(462))/3+-parseInt(a(464))/4*(-parseInt(a(467))/5)+-parseInt(a(451))/6+parseInt(a(419))/7+parseInt(a(450))/8*(parseInt(a(471))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Tc,402438);function Ut(c,r){c=c-395;const a=Tc();let i=a[c];if(Ut.SgNQdr===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ut.AHDOSF=o,Ut.efdPhB={},Ut.SgNQdr=!0}const f=a[0],m=c+f,_=Ut.efdPhB[m];if(_)i=_;else{const h=function(d){this.qgtHpm=d,this.jXdHwr=[1,0,0],this.QYhQsY=function(){return"newState"},this.AnBiCd="\\w+ *\\(\\) *{\\w+ *",this.lqKNIE=`['|"].+['|"];? *}`};h.prototype.CFkrot=function(){const d=new RegExp(this.AnBiCd+this.lqKNIE),v=d.test(this.QYhQsY.toString())?--this.jXdHwr[1]:--this.jXdHwr[0];return this.yaYCLP(v)},h.prototype.yaYCLP=function(d){return~d?this.fntsDK(this.qgtHpm):d},h.prototype.fntsDK=function(d){for(let v=0,p=this.jXdHwr.length;v<p;v++)this.jXdHwr.push(Math.round(Math.random())),p=this.jXdHwr.length;return d(this.jXdHwr[0])},new h(Ut).CFkrot(),i=Ut.AHDOSF(i),Ut.efdPhB[m]=i}return i}const Q2=(function(){const c=Ut,r={SRwAm:function(i,o,f){return i(o,f)},YnsfK:c(416),ejlQv:c(444),RdPoR:function(i,o){return i!==o},tBFUR:c(438)};let a=!0;return function(i,o){const f=c,m={FkiJA:function(_,h,d){return r[Ut(398)](_,h,d)},cPUdb:r[f(461)],MTLCL:r[f(417)]};if(r[f(432)](r[f(436)],r.tBFUR)){const _=_0x40187f[f(459)](_0x56e9e4),h=_0x507a3e.createElement("a");h[f(430)]=_,h.download=_0x2d0852,_0x4cc410[f(410)].appendChild(h),h[f(440)](),_0x18b543.body.removeChild(h),_0x15c502[f(413)](_)}else{const _=a?function(){const h=f;if(m.MTLCL!==m[h(458)])_0x35134e&&m[h(437)](_0x4180ab,_0x164f09,_0x124f3d.endsWith(m[h(446)])?_0x2613c4:_0x6cb0d0+".png"),_0xa1d76f.revokeObjectURL(_0x50bbc2);else if(o){const d=o[h(405)](i,arguments);return o=null,d}}:function(){};return a=!1,_}}})(),yx=Q2(void 0,function(){const c=Ut,r={dgtkU:"(((.+)+)+)+$"};return yx.toString().search(r.dgtkU)[c(404)]()[c(424)](yx)[c(408)](r.dgtkU)});yx();function V2(c,r){const a=Ut,i={Oezwh:"viewBox",VLSpg:function(b,A){return b??A},MgBPt:a(400),sijov:"width",VjbWG:a(443),HaZHH:a(395),PQWcr:a(439),kgJfT:"height",bNkIP:a(453),BMQHC:a(469),GAsXf:function(b,A){return b+A},EgQQf:a(452)},o=c.cloneNode(!0);o.querySelectorAll("[data-testid]")[a(412)](b=>b.removeAttribute(a(448))),o.removeAttribute("style");const f=c[a(418)](i.Oezwh);f&&o[a(466)](i.Oezwh,f);const m=i.VLSpg(f,i.MgBPt)[a(407)](/[\s,]+/).map(Number),_=m[2]??200,h=m[3]??200;o.setAttribute(i.sijov,String(_)),o.setAttribute(a(435),String(h)),o.setAttribute("xmlns",i.VjbWG);const d=document.createElementNS(a(443),i.HaZHH);d[a(466)](i[a(421)],i.PQWcr),d.setAttribute(i[a(433)],a(439)),d.setAttribute("fill",a(441)),o[a(457)](d,o.firstChild),o.querySelectorAll(a(425)).forEach(b=>b[a(414)]()),o.querySelectorAll(a(431)).forEach(b=>b[a(414)]()),o[a(460)](i.bNkIP).forEach(b=>b[a(414)]()),o[a(460)](i[a(411)])[a(412)](b=>b.remove());const v=new XMLSerializer,p=i[a(428)](i[a(426)],v[a(449)](o)),D=new Blob([p],{type:"image/svg+xml;charset=utf-8"});Vd(D,r[a(420)](a(422))?r:r+a(422))}function W2(c,r,a=2){const i=Ut,o={uChcR:function(C,j,B){return C(j,B)},Bpaby:".png",TacFD:i(465),PISKW:function(C,j){return C*j},cQxKb:i(431),zAvPv:"[data-marquee]",PlpqS:"viewBox",PrTiV:"0 0 200 200",sHmyF:"width",EaQSb:i(435),rbmRZ:function(C,j){return C(j)},ThTMO:i(423),mSish:"image/svg+xml;charset=utf-8"},f=c[i(396)](!0);f.querySelectorAll("[data-testid]")[i(412)](C=>C[i(454)](i(448))),f.removeAttribute(i(455)),f.querySelectorAll(i(425)).forEach(C=>C.remove()),f.querySelectorAll(o[i(409)])[i(412)](C=>C[i(414)]()),f.querySelectorAll(".tsumami-group-dash")[i(412)](C=>C[i(414)]()),f[i(460)](o[i(401)]).forEach(C=>C.remove());const m=c[i(418)](o[i(399)]),_=(m??i(400)).split(/[\s,]+/).map(Number),h=_[2]??200,d=_[3]??200;f[i(466)](o.PlpqS,m??o.PrTiV),f[i(466)](o[i(403)],String(h)),f[i(466)](o[i(427)],o.rbmRZ(String,d)),f[i(466)](o[i(468)],i(443));const v=new XMLSerializer,p=v.serializeToString(f),D=new Blob([p],{type:o.mSish}),b=URL[i(459)](D),A=new Image;A.onload=()=>{const C=i,j=document[C(397)](o[C(429)]);j[C(415)]=h*a,j[C(435)]=o.PISKW(d,a);const B=j[C(463)]("2d");if(!B){URL[C(413)](b);return}B.fillStyle="white",B[C(406)](0,0,j.width,j[C(435)]),B[C(456)](A,0,0,j[C(415)],j.height),j.toBlob(O=>{const q=C;O&&o.uChcR(Vd,O,r[q(420)](o[q(445)])?r:r+".png"),URL.revokeObjectURL(b)},C(402))},A[i(470)]=()=>{URL.revokeObjectURL(b)},A.src=b}function Vd(c,r){const a=Ut,i=URL[a(459)](c),o=document.createElement("a");o.href=i,o.download=r,document.body[a(442)](o),o[a(440)](),document.body.removeChild(o),URL.revokeObjectURL(i)}function _c({active:c,disabled:r,onClick:a,children:i,...o}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const P2="v0.1.0-dev";function F2(c){const{view:r,onNavigate:a,project:i}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:P2})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(_c,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(_c,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(_c,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(_c,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function $2(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function px({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function em(c){const[r,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(px,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=On,i=c();for(;;)try{if(-parseInt(a(196))/1+parseInt(a(159))/2+-parseInt(a(188))/3+parseInt(a(210))/4+-parseInt(a(167))/5+parseInt(a(161))/6+-parseInt(a(172))/7*(-parseInt(a(179))/8)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ec,857977);const tm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),_x=tm(void 0,function(){const c=On,r={PjokH:"(((.+)+)+)+$"};return _x.toString().search(r.PjokH)[c(162)]()[c(169)](_x)[c(192)]("(((.+)+)+)+$")});_x();function nm(c){const r=On,a={gYffY:function(R,H){return R===H},zyPoB:"layer",zLxcN:function(R,H){return R(H)},WsZzM:function(R,H){return R-H},yfcnK:function(R,H){return R-H},KKoog:function(R,H){return R!==H},HiiGp:function(R,H){return R*H},VPlxg:function(R,H){return R===H},viGyb:function(R,H,Q,ne){return R(H,Q,ne)},FzJlE:function(R,H){return R(H)},HtNzq:function(R,H){return R/H},ouFza:function(R,H){return R===H},khKvb:function(R,H){return R(H)},qohLv:function(R,H){return R-H},ZNzVk:r(160),CLOTT:function(R,H){return R*H},eFEAr:function(R,H){return R>H},cHUmM:function(R,H){return R+H},QvsnX:function(R,H,Q){return R(H,Q)},FVSVf:function(R,H){return R*H},bBsdj:function(R,H){return R+H},mlKwv:function(R,H){return R-H},Lhrcz:function(R,H){return R-H},bbeRG:function(R,H){return R*H},jewcL:function(R,H){return R(H)},szPHu:function(R,H){return R*H},JNzfO:function(R,H,Q){return R(H,Q)},eDICK:function(R,H,Q){return R(H,Q)},EGLcJ:function(R,H){return R(H)},aqTEN:function(R,H){return R(H)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=c,_=F.useRef(null),h=(R,H,Q,ne)=>{const P=r;Q[P(175)](),Q[P(203)]?.[P(197)]?.(Q[P(153)]),f[P(176)]&&(f[P(176)][P(183)][P(212)]=P(199)+P(221)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const y=i.flowers.find(k=>k.id===H);if(!y)return;const w=a.gYffY(R,a.zyPoB)&&ne?.layerId?y[P(209)][P(164)](k=>k.id===ne[P(218)])[P(189)](k=>({layerId:k.id,scale:k[P(216)]??1,radius:k.radius??10})):y.layers.map(k=>({layerId:k.id,scale:k.scale??1,radius:k.radius??10})),z=a[P(191)](m,Q),g=y.position.x,M=y.position.y,T=Math.hypot(a.WsZzM(z.x,g),a[P(217)](z.y,M));_[P(176)]={mode:R,flowerId:H,layerId:ne?.[P(218)],startScales:w,startDiam:y.flowerDiameter||60,startDist:T}},d=R=>{const H=r,Q={ABTQH:function(M,T){return a.KKoog(M,T)},khWbK:"TpYFu",yIjfg:function(M,T){return a.HiiGp(M,T)},SKFaH:function(M,T){return a.VPlxg(M,T)},tTZPW:function(M,T,k,I){return a.viGyb(M,T,k,I)},FhqnH:H(156),fmLsO:function(M,T){return M*T}},ne=_[H(176)];if(!ne)return;const P=i[H(211)][H(185)](M=>M.id===ne[H(219)]);if(!P)return;const y=a[H(202)](m,R),w=Math.hypot(a.yfcnK(y.x,P.position.x),y.y-P.position.y),z=Math[H(206)](1,ne.startDist??1),g=a.viGyb(Ce,w/z,.3,3);o(M=>{const T=H,k={UHQpl:function(Y,N){return Y*N}},I=M[T(211)].find(Y=>Y.id===ne[T(219)]);if(I){for(const Y of ne[T(178)])if(Q.ABTQH("PCoUS",Q.khWbK)){const N=I[T(209)][T(185)](G=>G.id===Y[T(218)]);if(!N)continue;N[T(216)]=Ce(Q.yIjfg(Y.scale,g),.3,3),Q[T(213)](ne[T(158)],"flower")&&(N[T(170)]=Q[T(154)](Ce,Y.radius*g,2,120))}else _0x277251[T(184)]=_0x4020d7(k.UHQpl(_0x4343a4.startDiam,_0x111d37),10,200);Q.SKFaH(ne.mode,Q[T(222)])&&(Q.ABTQH("oheoe","oheoe")?_0xe03a66.current[T(183)][T(212)]=T(199)+T(221)+'width_cursor_32.png?v=16") 16 16, ew-resize':I[T(184)]=Q.tTZPW(Ce,Q.fmLsO(ne[T(163)],g),10,200))}},!1)},v=()=>{const R=r;_.current&&(o(()=>{},!0),f.current&&(f.current[R(183)].cursor=""),_[R(176)]=null)},p=F.useRef(null),D=(R,H,Q,ne)=>{const P=r;Q.preventDefault(),Q.currentTarget?.setPointerCapture?.(Q[P(153)]),f.current&&(f.current.style[P(212)]=P(199)+P(221)+'rotate_cursor_active_32.png") 16 16, grabbing');const y=i.flowers[P(185)](M=>M.id===H);if(!y)return;const w=a[P(191)](m,Q),z=a.HiiGp(Math[P(204)](a[P(195)](w.y,y.position.y),a[P(217)](w.x,y[P(157)].x)),a[P(198)](180,Math.PI)),g=R===a.zyPoB&&ne?.layerId?y[P(209)][P(185)](M=>M.id===ne.layerId)?.offsetAngle??0:y[P(171)]??0;p.current={mode:R,flowerId:H,layerId:ne?.[P(218)],startAngle:z,startRotation:g}},b=R=>{const H=r;if(a.ZNzVk!=="GduVm"){const Q=p.current;if(!Q)return;const ne=i.flowers.find(g=>g.id===Q.flowerId);if(!ne)return;const P=m(R),y=a[H(166)](Math[H(204)](a[H(217)](P.y,ne.position.y),P.x-ne.position.x),a.HtNzq(180,Math.PI));let w=a.yfcnK(y,Q.startAngle);for(;a[H(182)](w,180);)w-=360;for(;w<-180;)w+=360;const z=a[H(186)](Q[H(187)],w);a.QvsnX(o,g=>{const M=H,T=g[M(211)][M(185)](k=>k.id===Q.flowerId);if(T)if(Q.mode===M(200)&&Q.layerId){const k=T[M(209)].find(I=>I.id===Q[M(218)]);k&&(k[M(181)]=z)}else T[M(171)]=z},!1)}else{_0xafa939.preventDefault(),_0x228a88[H(203)]?.[H(197)]?.(_0x5f5cfa.pointerId),_0x37fd8f[H(176)]&&(_0x3e2d06.current[H(183)][H(212)]=H(199)+H(221)+'scale_cursor_32.png?v=16") 16 16, ns-resize');const Q=_0x246163.flowers.find(g=>g.id===_0x3c3e11);if(!Q)return;const ne=a[H(168)](_0x392481,H(200))&&_0x3d3f53?.layerId?Q[H(209)][H(164)](g=>g.id===_0x24c6e0.layerId)[H(189)](g=>({layerId:g.id,scale:g[H(216)]??1,radius:g.radius??10})):Q[H(209)][H(189)](g=>({layerId:g.id,scale:g[H(216)]??1,radius:g[H(170)]??10})),P=a[H(190)](_0x43a761,_0x3a69e6),y=Q[H(157)].x,w=Q.position.y,z=_0x51c6f7.hypot(a[H(155)](P.x,y),P.y-w);_0x78d23e.current={mode:_0x35a09b,flowerId:_0x46940c,layerId:_0x4d9c04?.layerId,startScales:ne,startDiam:Q.flowerDiameter||60,startDist:z}}},A=()=>{const R=r;p.current&&(o(()=>{},!0),f[R(176)]&&(f.current[R(183)][R(212)]=""),p.current=null)},C=a[r(177)](F.useRef,null),j=(R,H,Q,ne)=>{const P=r;Q[P(175)](),Q.currentTarget?.[P(197)]?.(Q[P(153)]),f.current&&(f[P(176)].style[P(212)]='url("/tsumami/'+P(165));const y=i.flowers.find(ie=>ie.id===H);if(!y)return;const w=ne?.layerId?y.layers[P(185)](ie=>ie.id===ne[P(218)]):null;if(!w)return;const z=m(Q),g=y.position.x,M=y[P(157)].y,T=ne?.[P(208)]??0,k=360/Math[P(206)](1,w[P(173)]),I=a[P(207)](a[P(194)](w[P(181)]+a[P(166)](T,k),y.rotation),a.HtNzq(Math.PI,180)),Y=a[P(201)](z.x,g),N=a.Lhrcz(z.y,M),G=-Math.sin(I),U=Math.cos(I),X=Math.abs(a.bBsdj(a.bbeRG(Y,G),a.HiiGp(N,U)));C[P(176)]={mode:R,flowerId:H,layerId:ne?.[P(218)],petalAngle:I,startDist:Math[P(206)](1,X),startWidthScale:w.widthScale??1}},B=R=>{const H=r,Q=C[H(176)];if(!Q)return;const ne=i.flowers[H(185)](I=>I.id===Q.flowerId);if(!ne)return;const P=a[H(205)](m,R),y=P.x-ne[H(157)].x,w=P.y-ne[H(157)].y,z=-Math[H(215)](Q.petalAngle),g=Math.cos(Q.petalAngle),M=Math.abs(a[H(194)](y*z,w*g)),T=a[H(193)](Ce,M/Q.startDist,.3,3),k=a.viGyb(Ce,a[H(174)](Q[H(214)],T),.3,3);a.JNzfO(o,I=>{const Y=H,N=I.flowers.find(U=>U.id===Q.flowerId);if(!N)return;const G=N[Y(209)].find(U=>U.id===Q.layerId);G&&(G.widthScale=k)},!1)},O=()=>{const R=r;C[R(176)]&&(a.QvsnX(o,()=>{},!0),f[R(176)]&&(f.current[R(183)][R(212)]=""),C[R(176)]=null)},q=a[r(220)](F.useRef,null);return{scaleDragRef:_,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:v,rotationDragRef:p,beginRotationDrag:D,updateRotationDrag:b,endRotationDrag:A,widthScaleDragRef:C,beginWidthScaleDrag:j,updateWidthScaleDrag:B,endWidthScaleDrag:O,radiusDragRef:q,beginRadiusDrag:(R,H,Q,ne)=>{const P=r;Q.preventDefault(),Q[P(203)]?.[P(197)]?.(Q.pointerId),f[P(176)]&&(f.current[P(183)][P(212)]=P(199)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const y=i[P(211)].find(M=>M.id===H);if(!y)return;const w=ne?.[P(218)]?y.layers[P(185)](M=>M.id===ne[P(218)]):null;if(!w)return;const z=m(Q),g=Math.hypot(a.WsZzM(z.x,y.position.x),z.y-y[P(157)].y);q.current={mode:R,flowerId:H,layerId:ne?.layerId,startDist:Math[P(206)](1,g),startRadius:w[P(170)]??28}},updateRadiusDrag:R=>{const H=r,Q=q[H(176)];if(!Q)return;const ne=i[H(211)][H(185)](g=>g.id===Q.flowerId);if(!ne)return;const P=a.FzJlE(m,R),y=Math.hypot(P.x-ne[H(157)].x,P.y-ne.position.y),w=y-Q.startDist,z=a.viGyb(Ce,Q[H(180)]+w,5,100);o(g=>{const M=H,T=g[M(211)][M(185)](I=>I.id===Q.flowerId);if(!T)return;const k=T[M(209)][M(185)](I=>I.id===Q.layerId);k&&(k[M(170)]=z)},!1)},endRadiusDrag:()=>{const R=r;q[R(176)]&&(a.eDICK(o,()=>{},!0),f[R(176)]&&(f.current[R(183)][R(212)]=""),q.current=null)}}}function On(c,r){c=c-153;const a=Ec();let i=a[c];if(On.nkVuKn===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};On.UVrZcF=o,On.fPynkk={},On.nkVuKn=!0}const f=a[0],m=c+f,_=On.fPynkk[m];if(_)i=_;else{const h=function(d){this.ueQgwQ=d,this.BXMZYy=[1,0,0],this.XmALLZ=function(){return"newState"},this.ufDXwz="\\w+ *\\(\\) *{\\w+ *",this.eNzgAB=`['|"].+['|"];? *}`};h.prototype.Xysjvx=function(){const d=new RegExp(this.ufDXwz+this.eNzgAB),v=d.test(this.XmALLZ.toString())?--this.BXMZYy[1]:--this.BXMZYy[0];return this.KIYEyQ(v)},h.prototype.KIYEyQ=function(d){return~d?this.famprm(this.ueQgwQ):d},h.prototype.famprm=function(d){for(let v=0,p=this.BXMZYy.length;v<p;v++)this.BXMZYy.push(Math.round(Math.random())),p=this.BXMZYy.length;return d(this.BXMZYy[0])},new h(On).Xysjvx(),i=On.UVrZcF(i),On.fPynkk[m]=i}return i}function Ec(){const c=["zMXVD2vYswq","yxfuru4","l3rZDw1HBwKV","rMHXBKG","Cg9PBNrLCKLK","DfrAufC","Cw9Othy","zMXVD2vY","Cg9ZAxrPB24","Bw9Kzq","mtq0ndCWnfbkrMzWDW","rgnHrvG","nti4nte5mgzKuLLRyW","Dg9tDhjPBMC","C3rHCNreAwfT","zMLSDgvY","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","q0Xpvfq","ndmXntCXmgLTv2nQuq","B3vgEMe","y29UC3rYDwn0B3i","CMfKAxvZ","CM90yxrPB24","mtaXmti5DhvhC1bS","Cgv0ywXdB3vUDa","C3Pqshu","ChjLDMvUDerLzMf1Bhq","y3vYCMvUDa","ruDmy0O","C3rHCNrty2fSzxm","nJG4A09uA2XT","C3rHCNrsywrPDxm","B2zMC2v0qw5NBgu","zuzfqxi","C3r5Bgu","zMXVD2vYrgLHBwv0zxi","zMLUza","y0HvBu0","C3rHCNrsB3rHDgLVBG","mta0odm2nu1oAMHeuG","BwfW","A2HlDMi","EKX4y04","C2vHCMnO","DMLhEwi","yKjZzgO","v3nAEK0","mte1mdmXm1nMtMXdzq","C2v0ug9PBNrLCKnHChr1CMu","shroENe","DxjSkci","Bgf5zxi","BwXlD3y","rNPkBeu","y3vYCMvUDfrHCMDLDa","yxrHBJi","AMv3y0W","Bwf4","rLztvMy","Cgv0ywXjBMrLEa","Bgf5zxjZ","mtuWmdKXmNjztfPQCq","zMXVD2vYCW","y3vYC29Y","u0TgyuG","C3rHCNrxAwr0AfnJywXL","C2LU","C2nHBgu","EwzJBKS","Bgf5zxjjza"];return Ec=function(){return c},Ec()}(function(c,r){const a=bt,i=c();for(;;)try{if(-parseInt(a(195))/1+parseInt(a(245))/2+parseInt(a(189))/3+parseInt(a(187))/4+parseInt(a(211))/5+parseInt(a(186))/6+-parseInt(a(199))/7*(parseInt(a(215))/8)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Bc,336997);function Bc(){const c=["Bgf5zxjjza","tMDIDM8","D2LKDgHty2fSzq","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","y29Z","zvvjA3O","uw92q2u","Cg9PBNrLCG","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","BgvUz3rO","tNrNuhe","CMfKAxvZ","Cgv0ywXZ","shz3re8","BM9Uzq","zu1ir2W","u2Hfu1a","v1bbqMO","zMLSDgvY","wvzTCMy","wfzdve8","Bgf5zxi","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","y2vUDgvY","uMvPAeG","vfDss08","mJeWmZjsC01ZsK4","CM90yxrPB24","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","DxjSkci","Bgf5zxjZ","Bwzewha","y2DuBvG","DhDdq0y","vLPtu2q","yxbWBhK","EvvZwMW","CKzRBMm","s2PtEMu","C2vHCMnO","Ae9ituG","C2nHBgu","v2jdC2W","CM90yxrL","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","mZe2nJe0mgvZAwzsAW","mtCXodiWnhHfDujRrW","AgL0tgf5zxjjza","mte4oty5mKPuyuzzAW","Dg9tDhjPBMC","DMLZAwjSzq","qKXpsvO","C3nKv3a","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","nda5odeZBM13u0nT","C2LU","D2LKDgG","A1z1q3C","mZK5oda1wLvpwKLu","EgDXt0e","vhH6uvu","sgjsy1C","Cg9ZAxrPB24","zMfICMLJu3f1yxjLu2L6zq","A09IEfK","zMXVD2vY","ywjZ","Bwf4","yuv1wem","kcGOlISPkYKRksSK","mte5nJa3mhrHr0L5wq","Bw92zq","wevtrvK","yMH3AhO","mtiWqvj1vNvI","zMjfyLK","AhLWB3q","vhveEum"];return Bc=function(){return c},Bc()}const lm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=bt;if(a){const f=a[o(176)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Sx=lm(void 0,function(){const c=bt,r={mfDXp:c(210)};return Sx[c(190)]()[c(180)](r[c(172)]).toString().constructor(Sx).search(r[c(172)])});Sx();function Yl(c,r,a,i,o){const f=bt,m={psVRI:"width",KjSze:function(K,V){return K-V},NtgPq:function(K,V){return K*V},Ngbvo:function(K,V){return K(V)},WbCsl:function(K,V){return K<=V},ByGCX:f(242),Avsrf:function(K,V){return K*V},TxzQU:function(K,V){return K+V},HvwDO:function(K,V){return K===V},mzDLb:f(240),QovCe:function(K,V){return K*V},bhwhz:function(K,V){return K*V},ssdWp:function(K,V){return K-V},XVCTO:function(K,V){return K/V},wihnr:function(K,V){return K/V},hOHMH:function(K,V){return K<V},PsSLT:function(K,V){return K>V},HbRcW:function(K,V){return K>=V},Womjp:function(K,V){return K>V},YVmrf:f(184),ShESP:f(230),xgqOA:"scale",fbEbY:f(233),kObxY:function(K,V){return K-V},eLRhl:function(K,V){return K*V},ZUzVi:function(K,V){return K<=V}},{length:_}=Nt(a[f(204)]??i.fabricSquareSize),h=c-a.position.x,d=m[f(179)](r,a[f(203)].y),v=Math[f(217)](h,d);let p=1/0;for(const K of a[f(171)]){if(!K[f(191)])continue;const V=K.scale??1,R=m[f(229)](_,V),H=.28,Q=Math[f(208)](0,K.radius-R*H);Q<p&&(p=Q)}m[f(220)](isFinite,p)||(p=0);const D=Math[f(208)](p*.9,8);if(m[f(183)](v,D))if(f(198)==="jDlCt")_0x4c936d=m.psVRI;else return{zone:m.ByGCX};const b=m[f(220)](da,-(a.rotation??0)),A=m.KjSze(m.Avsrf(h,Math[f(223)](b)),m[f(229)](d,Math[f(196)](b))),C=m.TxzQU(m.NtgPq(h,Math.sin(b)),d*Math[f(223)](b)),j=m.HvwDO(o.kind,m.mzDLb)?a[f(171)][f(237)](K=>K.id===o[f(219)]&&K.visible):a[f(171)][f(237)](K=>K.visible);let B="none",O,q,E=1/0;for(const K of j){const V=K[f(182)]??1,R=m[f(229)](_,V),H=K[f(221)]??1,Q=m[f(225)](_/2*H,V),ne=.28,P=Math[f(208)](0,K[f(230)]-R*ne),y=360/Math[f(208)](1,K.petalCount);for(let w=0;w<K.petalCount;w++){const z=K.offsetAngle+m[f(214)](w,y),g=da(z),M=Math[f(223)](g)*P,T=Math.sin(g)*P,k=m[f(193)](A,M),I=C-T,Y=Math.cos(-g),N=Math[f(196)](-g),G=k*Y-m[f(214)](I,N),U=m[f(201)](k*N,I*Y),X=m[f(239)](G,R),ie=m.wihnr(U,Q);if(m[f(181)](X,-.05)||m.PsSLT(X,1.08)||Math[f(207)](ie)>.75)continue;const se=Math[f(217)](X-.5,ie);m[f(202)](se,E)||(E=se,O=K.id,q=w,m.Womjp(Math[f(207)](ie),.45)?B=f(197):m.PsSLT(X,.75)?B=m[f(238)]:X>.3?B=m[f(235)]:B=m[f(200)])}}if(m[f(232)](B,m[f(216)])){let K=12;for(const H of a[f(171)]){if(!H.visible)continue;const Q=H[f(182)]??1,ne=_*Q,P=.28,y=Math[f(208)](0,m[f(205)](H[f(230)],m.eLRhl(ne,P)));K=Math.max(K,y+ne)}const V=8,R=Math.abs(v-K);if(m.ZUzVi(R,V))return{zone:m[f(200)]}}return{zone:B,layerId:O,petalIndex:q}}function ei(c,r,a){const i=bt,o={JeAnw:i(182),cgTmX:"move",TWRKO:function(f,m){return f(m)},lvMlv:function(f,m){return f===m},WPABj:"center",eMHGl:function(f,m){return f===m},fVrFM:i(178),VZSSd:function(f,m){return f===m},yUsZl:function(f,m){return f===m},aEuXC:function(f,m){return f!=m},JRvXW:function(f,m){return f*m},ipQHU:function(f,m){return f>m},wXhFV:"petal",rFaxP:i(231)};if(o.lvMlv(c,o[i(236)]))return"center";if(o[i(234)](c,"none"))return"none";switch(r){case i(206):if(i(178)!==o.fVrFM)switch(_0x1e54c2){case"rotate":return'url("'+_0x2a7cc9+'rotate_cursor_32.png") 16 16, crosshair';case o.JeAnw:return i(170)+_0x545bd7+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+_0x1f5bc9+'width_cursor_32.png?v=16") 16 16, ew-resize';case o.cgTmX:return _0x5d1636(_0x4b41f8);default:return o[i(244)](_0x18565f,_0x235da7)}else{if(o[i(175)](c,o.cgTmX))return"move";if(o[i(177)](c,i(182)))return i(182);if(c==="rotate"&&a?.[i(188)]&&a.flower&&o[i(209)](a[i(228)],null)){let f,m=-1/0;for(const _ of a.flower.layers){if(!_.visible)continue;const h=_.scale??1,d=o.JRvXW(a.length,h),v=.28,p=Math.max(0,_[i(230)]-d*v),D=p+d;o.ipQHU(D,m)&&(m=D,f=_.id)}return a[i(188)]===f?"rotate":o.cgTmX}return"move"}case"layer":return c;case o.wXhFV:case o.rFaxP:return o[i(173)];default:return i(212)}}function Wd(c,r,a,i){const o=bt,f={TNWLp:function(q,E){return q*E},Kweqg:function(q,E){return q-E},Qlmgx:function(q,E){return q(E)},ebDMT:function(q,E){return q*E},suQFQ:function(q,E){return q*E},Nzxaz:function(q,E){return q/E},TuDyC:function(q,E){return q<E},TGZib:o(233),RAaZR:function(q,E){return q>E},BLOIZ:"width",twCCF:function(q,E){return q>E}},m=a.fabricSquareSize??i[o(204)],{length:_,width:h}=Nt(m),d=a[o(182)]??1,v=_*d,p=f.TNWLp(h,a.widthScale??1)*d,D=f.Kweqg(c,a[o(203)].x),b=r-a[o(203)].y,A=f.Qlmgx(da,-(a[o(246)]??0)),C=f.Kweqg(f.ebDMT(D,Math[o(223)](A)),b*Math.sin(A)),j=D*Math[o(196)](A)+f.suQFQ(b,Math.cos(A)),B=f.Nzxaz(C,v),O=f.Nzxaz(j,p);return f[o(218)](B,-.05)||B>1.08?f.TGZib:Math[o(207)](O)>.75?"none":f.RAaZR(Math[o(207)](O),.45)?f[o(192)]:f[o(174)](B,.75)?"rotate":o(182)}function Pd(c,r){const a=bt,i={nKpOV:a(197),eUIkz:a(212)};switch(c){case a(184):return a(170)+r+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return a(170)+r+a(227);case i.nKpOV:return a(170)+r+a(194);case i[a(224)]:return nr(r);case a(233):default:return Xc(r)}}function Od(c,r){const a=bt,i={ReihH:"center",XESEY:a(184),qswpD:a(182),bJjRR:function(o,f){return o(f)},fvbUd:"none"};switch(c){case i[a(243)]:return a(226);case i[a(213)]:return a(170)+r+'rotate_cursor_32.png") 16 16, crosshair';case i.qswpD:return a(170)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+a(194);case a(230):return'url("'+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case a(212):return i.bJjRR(nr,r);case i.fvbUd:default:return i.bJjRR(Xc,r)}}function Xc(c){const r=bt;return r(170)+c+r(169)}function nr(c){return bt(170)+c+'move_object_cursor_32.png") 16 16, move'}function bt(c,r){c=c-169;const a=Bc();let i=a[c];if(bt.HITMCY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};bt.jfgvvo=o,bt.BfuzvQ={},bt.HITMCY=!0}const f=a[0],m=c+f,_=bt.BfuzvQ[m];if(_)i=_;else{const h=function(d){this.lcrzlG=d,this.EFrmZw=[1,0,0],this.EEyNcA=function(){return"newState"},this.ZQJwIW="\\w+ *\\(\\) *{\\w+ *",this.lJVJUI=`['|"].+['|"];? *}`};h.prototype.aZrnVp=function(){const d=new RegExp(this.ZQJwIW+this.lJVJUI),v=d.test(this.EEyNcA.toString())?--this.EFrmZw[1]:--this.EFrmZw[0];return this.PEthQe(v)},h.prototype.PEthQe=function(d){return~d?this.oCXLHo(this.lcrzlG):d},h.prototype.oCXLHo=function(d){for(let v=0,p=this.EFrmZw.length;v<p;v++)this.EFrmZw.push(Math.round(Math.random())),p=this.EFrmZw.length;return d(this.EFrmZw[0])},new h(bt).aZrnVp(),i=bt.jfgvvo(i),bt.BfuzvQ[m]=i}return i}function Il(c){const r=bt;return r(170)+c+r(241)}function am(c){const r=bt;return r(170)+c+r(185)}function im(c){const r=bt;return r(170)+c+r(222)}function vn(c,r){c=c-297;const a=qc();let i=a[c];if(vn.Sujgqm===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};vn.vRZzlo=o,vn.gotmWG={},vn.Sujgqm=!0}const f=a[0],m=c+f,_=vn.gotmWG[m];if(_)i=_;else{const h=function(d){this.aloiVZ=d,this.wsATMr=[1,0,0],this.bISRVT=function(){return"newState"},this.twmQpp="\\w+ *\\(\\) *{\\w+ *",this.VAZHpS=`['|"].+['|"];? *}`};h.prototype.LJOwQQ=function(){const d=new RegExp(this.twmQpp+this.VAZHpS),v=d.test(this.bISRVT.toString())?--this.wsATMr[1]:--this.wsATMr[0];return this.xfACde(v)},h.prototype.xfACde=function(d){return~d?this.LycvCV(this.aloiVZ):d},h.prototype.LycvCV=function(d){for(let v=0,p=this.wsATMr.length;v<p;v++)this.wsATMr.push(Math.round(Math.random())),p=this.wsATMr.length;return d(this.wsATMr[0])},new h(vn).LJOwQQ(),i=vn.vRZzlo(i),vn.gotmWG[m]=i}return i}(function(c,r){const a=vn,i=c();for(;;)try{if(-parseInt(a(303))/1*(parseInt(a(410))/2)+parseInt(a(399))/3*(parseInt(a(353))/4)+parseInt(a(371))/5+parseInt(a(349))/6+-parseInt(a(350))/7+parseInt(a(380))/8+parseInt(a(368))/9*(-parseInt(a(373))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(qc,200294);const rm=(function(){const c={MIxUz:function(a,i){return a(i)},TpXAQ:function(a,i){return a===i}};let r=!0;return function(a,i){const o=vn,f={cmqhQ:function(_,h){return c.MIxUz(_,h)},IyZYE:function(_,h){return c.TpXAQ(_,h)},tIXGh:o(395),yllBd:o(300),GvHhU:o(387)},m=r?function(){const _=o,h={JGmUt:function(d,v){return f[vn(308)](d,v)}};if(f[_(384)](f[_(297)],_(395))){if(i)if(f[_(364)]!==f[_(319)]){const d=i.apply(a,arguments);return i=null,d}else{h[_(306)](_0x1c7792,null);return}}else _0x315f93({kind:"flower",flowerId:_0xb32f90[0]})}:function(){};return r=!1,m}})(),Cx=rm(void 0,function(){const c=vn;return Cx.toString().search("(((.+)+)+)+$")[c(401)]().constructor(Cx)[c(378)]("(((.+)+)+)+$")});Cx();function qc(){const c=["ywjZ","tMzYu08","Ee1iD0O","y2XPzw50wq","qKX3Cwy","Cg9PBNrLCKLK","y0P5B1y","B1fjreK","y2XPzw50wa","tuPiuva","D1zPuNG","C2nHBgveCMfNuMvM","zMLUza","u21luMK","yMvNAw5ty2fSzurYywC","vLvyD3u","yMvNAw5xAwr0AfnJywXLrhjHzW","t3DQtgK","wevADe8","zMzguKy","zw5KuMfKAxvZrhjHzW","zMXVD2vYswq","verTsvm","BhHSrKG","D2jjDg0","ENrIsuK","ChjVAMvJDa","zMXVD2vYCW","nJG3ote4zLnbChHA","otqWmZGWswf4tuTv","Aw5KzxG","Bw92zwq","ndm0mZjZCe1PEMu","BgvUz3rO","yMvNAw5sywrPDxneCMfN","yK94s2q","zMXVD2vYswrZ","CgfUma","AKv6zK8","ChvZAa","BxvSDgLtDgfYDfbVC2L0Aw9UCW","u211wK8","Cg9ZAxrPB24","EwXSqMq","uM1uuNO","zufkCfa","EKH5t3i","mJqZou53y0HlsW","Aw1WA2O","sg1ov2W","mty2mti1nuLhzxjVDq","vuLfCMq","mJqZmZbOue9Os2i","zw5KuM90yxrPB25eCMfN","BwLU","svbyAgS","DhryrKe","C2vHCMnO","zgzyCLC","mtC1oda0ohnZzKvesW","BgvHzG","D2HODuy","wvbTyvO","sxLAwuu","C3rHCNrtDMC","vuDHEgm","quTHquW","C3rHCNrdBgLLBNq","kcGOlISPkYKRksSK","uMHetu0","Dg9uAu0","C3rHCNrqB3m","C2v0ug9PBNrLCKnHChr1CMu","C3rHCNrAB29T","r2vrwvC","AxntAgLMDfbYzxnZzwq","A2LUza","tLfOALO","otzyEhn4Dfy","BNrbuum","Dg9tDhjPBMC","zMXVD2vY","CgTiqLy","vhfks0G","y3vYCMvUDa","yLvLCLi","CeHVtKe","BwfW","DxbKyxrLv2LKDgHty2fSzurYywC","nLzrA2Xera","BgvHDMvZ","sKn0Dgy","DeLyr2G","Bgf5zxjjza","z3L4wLO","zhHUz2e","y3vYCMvUDfrHCMDLDa","CMfKAxvZrhjHz1jLzG","nJCXm2vpwgrTBq","quvYt3a","C3rHCNq","sKDTvxq","EhrlsxC","y21XAfe","ufHQqNi","Ehfer3m","y3vYCMvUDfn2zW","ChjLDMvUDerLzMf1Bhq","BwDzA2m","Aw5JBhvKzxm","y2XPy2TqzxrHBa","Cgv0ywW","A1jpu1i","AxvcENy","r3ziAfu","D0DdCfi"];return qc=function(){return c},qc()}const Sc=500*an;function cm(c){const r=vn,a={HEqAM:function(y,w){return y-w},nvWpY:function(y,w){return y(w)},bOxKd:function(y,w){return y(w)},toTiM:function(y,w){return y-w},pZFNU:function(y,w){return y+w},BMCXo:function(y,w,z,g,M){return y(w,z,g,M)},EhhCy:r(316),ttXFA:function(y,w){return y(w)},HmNWl:r(411),VEaOV:"leaf",VUXwu:function(y,w){return y!==w},UWQSC:r(382),zXZpR:r(340),jEzfO:"ztwSo",eAJpP:function(y,w){return y-w},xmNpp:function(y,w){return y(w)},MJHQP:function(y,w){return y<=w},lphbL:function(y,w){return y+w},xtKIw:function(y,w){return y>=w},KQvhF:function(y,w){return y<=w},uCguZ:function(y,w){return y+w},cJyoV:function(y,w){return y>=w},lOxdL:function(y,w){return y+w},ykCRF:function(y,w){return y===w},kROSR:r(346),dfXrW:function(y,w){return y>w},YPmaZ:function(y,w){return y!==w},TqJKH:r(338),NQhjZ:"flowers",qAJYC:function(y,w){return y===w},SLPNn:"SYiBc",zHyOr:r(369),pkHBV:function(y,w){return y(w)},IPXhk:r(322),dXKIe:r(334),PXjBr:function(y,w){return y(w)},wbItm:r(347),BLwqf:function(y,w,z){return y(w,z)},vXJTL:"DAWPl",rlZvb:r(390),bUerR:function(y,w){return y===w},RmTRz:"hvTzC",mOfWs:function(y,w){return y/w},wViRx:function(y,w){return y+w},AErOp:function(y,w){return y===w},qUPbb:function(y,w){return y>=w},gRHxA:function(y,w){return y<=w},wGCpR:function(y,w){return y+w},JCttf:r(344),agfaJ:function(y,w){return y(w)},mgYkc:r(362),TDmIS:"flower",RQBOR:"layer",FcteX:function(y,w){return y(w)}},{project:i,selection:o,setSelection:f,applyUpdate:m,dragRef:_,zoom:h,pan:d,setPan:v,stageRef:p,clientToSvgPoint:D,togglePetalSelection:b}=c,A=a.FcteX(nm,{project:i,applyUpdate:m,stageRef:p,clientToSvgPoint:D}),C=a[r(403)](F.useRef,null),j=y=>{const w=r;y[w(312)](),y[w(301)]?.setPointerCapture?.(y.pointerId),C[w(405)]={start:{x:y[w(329)],y:y.clientY},pan0:{...d}}},B=y=>{const w=r;if(!C[w(405)])return;const z=a.HEqAM(y.clientX,C.current.start.x),g=y[w(324)]-C[w(405)][w(305)].y;a.nvWpY(v,{x:C[w(405)].pan0.x+z,y:C[w(405)].pan0.y+g})},O=()=>{C.current=null},q=F.useRef(null),[E,K]=F.useState(null);return{beginPan:j,updatePan:B,endPan:O,marqueeRef:q,marqueeRect:E,beginMarquee:y=>{const w=r;y[w(312)](),y[w(301)]?.[w(393)]?.(y.pointerId);const z=D(y);q[w(405)]={startSvg:z,currentSvg:z},K(null)},updateMarquee:y=>{const w=r;if(!q.current)return;const z=a[w(356)](D,y);q.current.currentSvg=z;const g=q[w(405)][w(385)],M=Math[w(375)](g.x,z.x),T=Math.min(g.y,z.y),k=Math.abs(z.x-g.x),I=Math[w(321)](z.y-g.y);a.nvWpY(K,{x:M,y:T,w:k,h:I})},endMarquee:()=>{const y=r,w={UGaxc:function(z,g,M,T){return z(g,M,T)},bTEHo:function(z,g){return z+g},jaiyl:function(z,g,M,T){return z(g,M,T)},QIlWY:function(z,g){return z(g)},wKkYL:function(z,g){return z(g)}};if(a[y(336)]("whhuF",a.UWQSC)){_0x1fffd9.preventDefault(),_0xf325db.currentTarget?.setPointerCapture?.(_0x267e11.pointerId);const z=_0x228ea9(_0x73e1d3);_0x5f3efc.current={startSvg:z,currentSvg:z},_0x44b604(null)}else{const z=q[y(405)];if(q.current=null,!z)if(a.zXZpR!==a[y(359)]){K(null);return}else{if(!_0xf96130.current)return;const X=a[y(391)](_0x31a432.clientX,_0xfc5143[y(405)][y(305)].x),ie=_0x42b10[y(324)]-_0x55bfc1[y(405)][y(305)].y;_0x510448({x:_0x70bb0b[y(405)].pan0.x+X,y:a.pZFNU(_0x39ce7b.current[y(358)].y,ie)})}const g=z.startSvg,M=z[y(311)];if(Math.hypot(a[y(366)](M.x,g.x),M.y-g.y)<3){a.xmNpp(f,{kind:y(347)}),a.nvWpY(K,null);return}const k=Math[y(375)](g.x,M.x),I=Math.min(g.y,M.y),Y=Math.abs(M.x-g.x),N=Math[y(321)](M.y-g.y),G=[];for(const X of i.flowers)X.position.x>=k&&a.MJHQP(X.position.x,k+Y)&&X.position.y>=I&&X.position.y<=a.lphbL(I,N)&&G[y(360)](X.id);const U=[];for(const X of i.leaves??[])a[y(307)](X[y(363)].x,k)&&a.KQvhF(X[y(363)].x,a.uCguZ(k,Y))&&a[y(327)](X[y(363)].y,I)&&a[y(330)](X[y(363)].y,a.lOxdL(I,N))&&(a.ykCRF("ztbII",a[y(317)])?U.push(X.id):_0x323a19.isShiftPressed?a.BMCXo(_0xf815e,_0x39dc87[y(342)],_0x254f3a.clickPetal[y(298)],_0x206364.clickPetal[y(351)],!0):_0x3781f6({kind:a.EhhCy,flowerId:_0x1240f8[y(342)],layerId:_0x1e6f7f.clickPetal.layerId,index:_0x2ae896[y(315)][y(351)]}));if(a[y(379)](G.length,0))G.length===1?a[y(383)](a[y(404)],a.TqJKH)?_0x4393f8[y(354)]===1?a[y(377)](_0xa2154,{kind:"leaf",leafId:_0x58d6a2[0]}):_0x2580b8({kind:a[y(370)],leafIds:_0x1053f7}):f({kind:y(402),flowerId:G[0]}):a.bOxKd(f,{kind:a[y(398)],flowerIds:G});else if(U[y(354)]>0)a.qAJYC("uxZUa",a.SLPNn)?a[y(356)](_0x5b0458,{kind:a.VEaOV,leafId:_0x1b651c[0]}):U.length===1?a[y(377)](f,{kind:y(381),leafId:U[0]}):f({kind:y(411),leafIds:U});else if(a.zHyOr!==a[y(367)]){w.QIlWY(_0x39a5a8,{kind:y(347)}),w.wKkYL(_0x30f3d4,null);return}else f({kind:y(347)});a[y(403)](K,null)}},beginFlowerDrag:(y,w,z)=>{const g=r;a[g(345)],w.preventDefault(),w.currentTarget?.[g(393)]?.(w[g(326)]);const M=i.flowers.find(k=>k.id===y);if(!M)return;let T=null;if(a.ykCRF(o.kind,g(348))&&o.flowerIds[g(314)](y))T=o[g(357)][g(408)](k=>{const I=g;if(a[I(336)](a[I(376)],a.dXKIe)){const Y=i.flowers.find(N=>N.id===k);return{id:k,x:Y?.[I(363)].x??0,y:Y?.position.y??0}}else raLRys.VpvMX(_0x2e3c39,{kind:raLRys.vyGjt})});else if(g(339)===g(323)){const k=_0x8cd27a.flowers[g(333)](I=>I.id===_0x1ad2b1);return{id:_0x5668e0,x:k?.position.x??0,y:k?.position.y??0}}else{const k=a[g(325)](w2,i,y);k.length>1&&(a.VUXwu("DAWPl",a.vXJTL)?(_0x5603e3[g(312)](),_0x41ec10[g(301)]?.setPointerCapture?.(_0x1e83e6[g(326)]),_0x55784c[g(405)]={start:{x:_0x19119d.clientX,y:_0x42e821.clientY},pan0:{..._0x1a41a8}}):T=k.map(I=>{const Y=g,N=i.flowers.find(G=>G.id===I);return{id:I,x:N?.[Y(363)].x??0,y:N?.position.y??0}}))}_.current={flowerId:y,startClient:{x:w[g(329)],y:w[g(324)]},startPos:{...M.position},moved:!1,clickPetal:z??null,isShiftPressed:w.shiftKey||!1,multiStartPositions:T,startZoom:h}},updateFlowerDrag:y=>{const w=r,z={rdMpS:function(g,M,T,k,I){return g(M,T,k,I)},xqDGs:w(389),UvcGY:function(g,M){return a.pZFNU(g,M)},gyxZZ:a.rlZvb,ntAQC:function(g,M,T,k){return g(M,T,k)}};if(a.bUerR("gocQY",a[w(365)]))z.rdMpS(_0xd62e94,_0x43434f[w(342)],_0x44ef29.clickPetal[w(298)],_0x310f23.clickPetal[w(351)],!0);else{const g=_[w(405)];if(!g)return;const M=a.HEqAM(y[w(329)],g[w(388)].x)/g[w(394)],T=a.mOfWs(y.clientY-g.startClient.y,g.startZoom),k=y.clientX-g[w(388)].x,I=y.clientY-g.startClient.y;a[w(331)](Math.abs(k),Math[w(321)](I))>4&&(g.moved=!0),a.BLwqf(m,Y=>{const N=w;if(z[N(310)],g[N(361)])if(N(372)===N(372))for(const G of g[N(361)]){const U=Y[N(348)].find(X=>X.id===G.id);U&&(U.position.x=Ce(z.UvcGY(G.x,M),0,Sc),U.position.y=Ce(G.y+T,0,Sc))}else return _0x23d119.toString().search(N(389))[N(401)]().constructor(_0x45bb38).search(cjpTCo.zLkRR);else if(z[N(299)]!==z.gyxZZ)_0x11c9a7[N(360)](_0x393337.id);else{const G=Y.flowers[N(333)](U=>U.id===g.flowerId);if(!G)return;G.position.x=z[N(400)](Ce,g.startPos.x+M,0,Sc),G[N(363)].y=Ce(g.startPos.y+T,0,Sc)}},!1)}},endFlowerDrag:()=>{const y=r,w=_.current;w&&(!w[y(352)]&&w[y(315)]?y(344)!==a[y(412)]?a[y(304)](_0x46a46e.length,1)?_0x82037b({kind:y(402),flowerId:_0x57a0f1[0]}):a.bOxKd(_0x246f22,{kind:y(348),flowerIds:_0x25cbf1}):w[y(396)]?b(w[y(342)],w.clickPetal[y(298)],w[y(315)][y(351)],!0):a.agfaJ(f,{kind:a.EhhCy,flowerId:w.flowerId,layerId:w.clickPetal.layerId,index:w.clickPetal[y(351)]}):w[y(352)]&&(a[y(313)]!==a[y(313)]?qDQBQG.wZHkS(_0x567144[y(363)].x,_0x3f208e)&&qDQBQG.gOKra(_0x11a6c2[y(363)].x,qDQBQG.wadPH(_0x405c60,_0xcc2beb))&&qDQBQG[y(407)](_0x2962aa.position.y,_0x454543)&&qDQBQG[y(328)](_0x42c111.position.y,_0x57eb2a+_0x2caeda)&&_0x27a908.push(_0xa9c33d.id):((o.kind===a[y(345)]||o[y(397)]===a[y(343)]&&o[y(342)]!==w[y(342)]||a[y(406)](o[y(397)],a.RQBOR)&&o[y(342)]!==w.flowerId||a.AErOp(o.kind,y(316))&&o.flowerId!==w.flowerId)&&(y(318)==="GCdPz"?_0x30bbf7({kind:y(402),flowerId:_0x451c52.flowerId}):a.pkHBV(f,{kind:a[y(343)],flowerId:w.flowerId})),m(()=>{},!0))),_[y(405)]=null)},scaleDragRef:A[r(332)],beginScaleDrag:A[r(335)],updateScaleDrag:A.updateScaleDrag,endScaleDrag:A.endScaleDrag,rotationDragRef:A.rotationDragRef,beginRotationDrag:A.beginRotationDrag,updateRotationDrag:A.updateRotationDrag,endRotationDrag:A[r(374)],widthScaleDragRef:A.widthScaleDragRef,beginWidthScaleDrag:A[r(337)],updateWidthScaleDrag:A[r(409)],endWidthScaleDrag:A.endWidthScaleDrag,radiusDragRef:A[r(302)],beginRadiusDrag:A[r(355)],updateRadiusDrag:A.updateRadiusDrag,endRadiusDrag:A[r(341)]}}function um({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function sa(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:_=>{c.onDoubleClick&&(_.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:_=>{_.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(um,{className:"h-4 w-4"})}):x.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function xm(c){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:_,addFlower:h,deleteSelected:d,addOuterLayer:v,deleteOuterLayer:p,deleteFlowerById:D,deleteLayerById:b,treeScrollRef:A,setExpandedFlowers:C}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsx("div",{className:"text-sm font-semibold px-0.5",children:""}),x.jsxs("div",{className:"mt-1.5 flex gap-1 flex-wrap",children:[x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M12 3c1.2 2 .5 4-1 5.5C9.5 10 9 11.5 12 12c3 .5 2.5-1.5 1-3S10.8 5 12 3z"}),x.jsx("path",{d:"M12 3c-1.2 2-.5 4 1 5.5 1.5 1.5 2 3-1 3.5-3 .5-2.5-1.5-1-3S13.2 5 12 3z"}),x.jsx("path",{d:"M12 12c-2 1.5-4 1.2-5 0s0-3 2-3.5"}),x.jsx("path",{d:"M12 12c2 1.5 4 1.2 5 0s0-3-2-3.5"}),x.jsx("path",{d:"M12 12v5M10 15h4"}),x.jsx("circle",{cx:"12",cy:"11",r:"1.2",fill:"currentColor",stroke:"none"}),x.jsx("line",{x1:"20",y1:"2",x2:"20",y2:"7",stroke:"currentColor",strokeWidth:"2"}),x.jsx("line",{x1:"17.5",y1:"4.5",x2:"22.5",y2:"4.5",stroke:"currentColor",strokeWidth:"2"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]}),x.jsxs("div",{className:"mt-1.5 max-h-[420px] overflow-y-auto overflow-x-auto",ref:A,"data-testid":"layer-tree",children:[x.jsx(sa,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),(()=>{const j=c.groups,B=new Set(j.flatMap(E=>E.flowerIds)),O=r.flowers.filter(E=>!B.has(E.id)),q=(E,K)=>{const V=a.kind==="flower"&&a.flowerId===E.id,R=a.kind==="flowers"&&a.flowerIds.includes(E.id),H=V||R,Q="",ne=o(E.id),P=E.layers&&E.layers.length>0,y=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),v(E.id)},"aria-label":"Add outer layer",children:"+"}),P&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),p(E.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":E.id,"data-testid":`tree-flower-${E.id}`,style:{paddingLeft:K},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${ne?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:ne?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),f(E.id)},"aria-label":ne?"collapse":"expand","data-tree-toggle":!0,children:ne?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(sa,{label:E.name,marker:Q,selected:H,showTrash:V,onTrash:()=>D(E.id),rightActions:y,onClick:()=>m(E.id),onDoubleClick:()=>_(E.id),level:0,leftOffset:-18})})]}),ne&&E.layers.slice().sort((w,z)=>z.order-w.order).map(w=>{const z=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return x.jsx(sa,{label:`${w.order}. ${w.name}`,marker:"",selected:z,showTrash:z,onTrash:()=>b(E.id,w.id),onClick:()=>{i({kind:"layer",flowerId:E.id,layerId:w.id}),C(g=>({...g,[E.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},E.id)};return x.jsxs(x.Fragment,{children:[[...j].reverse().map(E=>{const K=a.kind==="group"&&a.groupId===E.id,V="",R=c.isGroupExpanded(E.id);return x.jsxs("div",{"data-group-id":E.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${R?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:R?"":"",onClick:H=>{H.stopPropagation(),c.toggleGroupExpanded(E.id)},"aria-label":R?"collapse group":"expand group",children:R?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(sa,{label:` ${E.name}`,marker:V,selected:K,onClick:()=>c.onSelectGroup(E.id),level:0,leftOffset:-18})})]}),R&&E.flowerIds.map(H=>{const Q=r.flowers.find(ne=>ne.id===H);return Q?q(Q,12):null})]},E.id)}),[...O].reverse().map(E=>q(E,0))]})})()]}),x.jsxs("div",{className:"mt-2 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsx("div",{className:"mt-1 max-h-[200px] overflow-y-auto",children:(()=>{const j=c.leafGroups,B=new Set(j.flatMap(q=>q.leafIds)),O=c.leaves.filter(q=>!B.has(q.id));return x.jsxs(x.Fragment,{children:[j.map(q=>{const E=a.kind==="leafGroup"&&a.leafGroupId===q.id;return x.jsxs("div",{children:[x.jsx(sa,{label:` ${q.name}`,selected:E,onClick:()=>c.onSelectLeafGroup(q.id),level:0,leftOffset:0}),q.leafIds.map(K=>{const V=c.leaves.find(H=>H.id===K);if(!V)return null;const R=a.kind==="leaf"&&a.leafId===V.id;return x.jsx(sa,{label:V.name,selected:R,showTrash:R,onTrash:()=>c.onDeleteLeaf(V.id),onClick:()=>c.onSelectLeaf(V.id),level:0,leftOffset:12,muted:!V.visible},V.id)})]},q.id)}),[...O].reverse().map(q=>{const E=a.kind==="leaf"&&a.leafId===q.id;return x.jsx(sa,{label:q.name,selected:E,showTrash:E,onTrash:()=>c.onDeleteLeaf(q.id),onClick:()=>c.onSelectLeaf(q.id),level:0,leftOffset:0,muted:!q.visible},q.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})})()})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ue=Hn;(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(235))/1*(-parseInt(a(230))/2)+parseInt(a(225))/3*(parseInt(a(204))/4)+parseInt(a(243))/5+-parseInt(a(265))/6+parseInt(a(267))/7+parseInt(a(249))/8*(parseInt(a(247))/9)+parseInt(a(259))/10*(-parseInt(a(273))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Gc,496678);const sm=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),wx=sm(void 0,function(){const c=Hn,r={OzBFU:"(((.+)+)+)+$"};return wx[c(176)]().search(r.OzBFU).toString().constructor(wx).search(r[c(226)])});wx();const Fd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function Hn(c,r){c=c-174;const a=Gc();let i=a[c];if(Hn.DCrVVX===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Hn.cHUnxJ=o,Hn.RUjvTE={},Hn.DCrVVX=!0}const f=a[0],m=c+f,_=Hn.RUjvTE[m];if(_)i=_;else{const h=function(d){this.LORrtl=d,this.pAnOPq=[1,0,0],this.aejKnF=function(){return"newState"},this.lwGNSZ="\\w+ *\\(\\) *{\\w+ *",this.jKmlFJ=`['|"].+['|"];? *}`};h.prototype.EvqshK=function(){const d=new RegExp(this.lwGNSZ+this.jKmlFJ),v=d.test(this.aejKnF.toString())?--this.pAnOPq[1]:--this.pAnOPq[0];return this.HBlWRm(v)},h.prototype.HBlWRm=function(d){return~d?this.mqYEvF(this.LORrtl):d},h.prototype.mqYEvF=function(d){for(let v=0,p=this.pAnOPq.length;v<p;v++)this.pAnOPq.push(Math.round(Math.random())),p=this.pAnOPq.length;return d(this.pAnOPq[0])},new h(Hn).EvqshK(),i=Hn.cHUnxJ(i),Hn.RUjvTE[m]=i}return i}const $d={adult:ue(220),child:""},e1={right:ue(190),left:"",back:ue(277)},om=[ue(205),"C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42",ue(275),ue(272),ue(274),ue(179),"C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110",ue(175),"C 69 121, 65 126, 61 131",ue(174),ue(180),ue(236),"C 15 206, 5 221, -9 239",ue(214),ue(240),"L -125 280",ue(188),ue(227),ue(219),ue(253),ue(218),"C -80 108, -88 96, -88 84",ue(213),"C -70 52, -66 48, -62 44",ue(189),ue(251),ue(222),"Z"].join(" "),fm=["M 0 0","C 20 0, 44 6, 58 20",ue(223),"C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",ue(187),ue(184),"C 38 172, 32 180, 30 188",ue(279),"C 58 240, 74 258, 92 280",ue(216),ue(197),"C -34 212, -28 198, -30 188",ue(268),ue(178),"C -82 128, -84 122, -84 116",ue(198),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",ue(281),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",ue(211),"Z"].join(" "),dm=[ue(205),"C 14 -4, 36 -4, 48 4",ue(193),ue(250),ue(271),ue(224),"C 65 81, 66 83, 66 85",ue(200),ue(177),ue(246),"C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139",ue(186),ue(232),ue(257),"L -100 240","C -86 218, -72 200, -58 186",ue(209),ue(276),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74",ue(195),ue(278),ue(215),"Z"].join(" "),hm=["M 0 0",ue(183),"C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112","C 54 120, 44 130, 38 140","C 30 152, 32 166, 55 202","C 60 214, 66 228, 70 240","L -70 240",ue(228),ue(203),"C -44 130, -54 120, -60 112",ue(245),ue(262),ue(181),ue(239),"Z","M 46 26",ue(256),"C 78 40, 78 54, 72 62",ue(266),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",ue(182),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",ue(263),"Z"].join(" "),mm=[ue(205),"C 15 -2, 38 -5, 55 5",ue(196),ue(275),"C 72 69, 69 72, 66 76",ue(206),"C -30 54, -48 48, -62 44",ue(189),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z","M -40 142","C -48 134, -58 126, -68 118",ue(212),"C -88 72, -84 62, -76 56",ue(254),"C -58 50, -54 58, -50 70",ue(210),"L -40 142","Z"][ue(208)](" "),bm=[ue(205),ue(244),"C 68 30, 76 44, 80 62",ue(270),ue(237),ue(187),ue(221),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",ue(192),"C 16 66, 34 70, 42 82",ue(229),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",ue(281),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",ue(211),"Z"][ue(208)](" "),vm=["M 0 0","C 14 -4, 36 -4, 48 4",ue(193),"C 64 44, 64 50, 63 56",ue(264),"C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z",ue(233),ue(207),"C -68 96, -70 84, -66 74",ue(195),"C -46 52, -42 64, -40 78","C -38 94, -36 112, -38 126","L -40 134","Z"][ue(208)](" "),gm=["M 0 0",ue(183),ue(242),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ue(194),ue(238),ue(234),"C -64 106, -66 100, -66 94",ue(262),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26",ue(256),ue(231),ue(266),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",ue(182),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"][ue(208)](" ");function Gc(){const c=["qKPhrwC","nJa3mgPqsgPKBW","uerHELa","C2LKzq","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYa0nca1ncWGmtyGndGSic0Xmca0nG","mJC4ndyZmhv2CvbmwG","qYa2nIa2ocWGntyGnZaSidq4idy2","mZCZmty0nhHrvunIBW","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","t0TSrfy","qYa4mIa3ncWGodmGodySidGYidK4","qYa2mIa2mcWGntKGnJqSidu3idy4","qYa3mIa2osWGnJKGnZiSidy2idC2","mJG3mZj1wenuuxu","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","5B6m44kn5zcr44gn","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaYocaXotGSidm0idiXmIWGndGGmJi4","yMfJAW","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","Dg9tDhjPBMC","qYa1nYa5msWGntCGotmSidu5idK1","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYa3oca5mYWGodiGotySidGZidK5","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTnJqGntiSic02mcaZocWGltuYidi2","tsaTndyGmJy","qYaXocaXlca0mcaXmcWGntiGmJy","qYa3mIaXndiSidyWide1mIWGndGGmtyY","ywr1Bhq","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","qYaTntyGmZySic01mcaYnIWGltqYide4","5y+Z5zcr44gn","AgvPz2H0","tsaWidCW","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYa2nIa4nIWGnJiGodGSidu4idKW","BgvMDa","sePxweW","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","ota2mtzRvMLsy2u","tsaWida","qYa0oca3ncWGmJaGnJqSic04idu4","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","AM9PBG","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYaTmJiGnIWGlteWideSidaGma","tcaTotiGmJGW","l3rZDw1HBwKV","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","5OIq5lQ65AwZ5OcN","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTncaTmsWGlteGlteSidaGma","qYa2ocaZmcWGnZyGndqSidGWidyY","qYa1nYa3msWGntKGnZuSidyZidC5","odD1EwXsDxG","t3PcrLu","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYa0oca5mcWGntaGmta0lca0ocaXmty","mZiXogrHvMHtEq","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","tsaTndaGmtm0","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","mteXENbxEuTf","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaTndaGmtaSic0XocaXlcaWida","tcaTmZyGmJGW","C3rLBMnPBhmVywr1BhrFBgvMDc5WBMC","qYa2mcaZocWGnJqGntiSidy0idy4","ndmZnZy4nxD6vwvvAG","qYaYmcaWlca0nca2lca1ocaYma","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","nJq4otLpzLbgv0q","CMLNAhq","mZq0rg5pr1Dj","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","vNbLsLu","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYaTnZaGntiSic02nIa0ocWGltyYidq0","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYa1ncaYmcWGnJyGmJiSidCYidmY","tcaTmZaGmJqW"];return Gc=function(){return c},Gc()}function ym(c,r){const a=ue,i={pEleF:a(248),npzxH:function(f,m){return f===m},PDazP:a(201)},o=r===i.pEleF||i.npzxH(r,i[a(260)]);return c===a(185)?o?om:fm:o?dm:hm}function pm(c,r){const a=ue,i={rYCZR:"left",BJGEg:function(f,m){return f===m}},o=r==="right"||r===i.rYCZR;return i[a(258)](c,a(185))?o?mm:bm:o?vm:gm}const _m={right:ue(217)+"stencils/adult_right.png",left:"/tsumami/"+ue(241),back:ue(217)+"stencils/adult_back.png"},Sm={right:ue(217)+"stencils/child_right.png",left:"/tsumami/"+ue(255),back:"/tsumami/"+ue(199)},Cm={adult:_m,child:Sm};function wm(c,r){const a=ue,i={HJWXL:function(_,h){return _===h},jOlDg:a(201),QLkCy:a(261),OKlDV:a(280),VpeJU:function(_,h,d){return _(h,d)}},o=i[a(202)](r,a(248))||r===i.jOlDg?i.QLkCy:i[a(269)],f=Fd[c][o],m=Cm[c]?.[r]??null;return{path:i[a(252)](ym,c,r),hairPath:pm(c,r),scaleX:r==="left"?-1:1,imageUrl:m,imageWidthMm:f.width,imageHeightMm:f[a(191)]}}function ln(c,r){c=c-149;const a=Rc();let i=a[c];if(ln.iqLcYY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};ln.rjMUai=o,ln.uwatkB={},ln.iqLcYY=!0}const f=a[0],m=c+f,_=ln.uwatkB[m];if(_)i=_;else{const h=function(d){this.jPyhKW=d,this.vpMKhT=[1,0,0],this.veRnfm=function(){return"newState"},this.kIpxiO="\\w+ *\\(\\) *{\\w+ *",this.xlrcOO=`['|"].+['|"];? *}`};h.prototype.YOpjVv=function(){const d=new RegExp(this.kIpxiO+this.xlrcOO),v=d.test(this.veRnfm.toString())?--this.vpMKhT[1]:--this.vpMKhT[0];return this.dLzCuZ(v)},h.prototype.dLzCuZ=function(d){return~d?this.YpqCTU(this.jPyhKW):d},h.prototype.YpqCTU=function(d){for(let v=0,p=this.vpMKhT.length;v<p;v++)this.vpMKhT.push(Math.round(Math.random())),p=this.vpMKhT.length;return d(this.vpMKhT[0])},new h(ln).YOpjVv(),i=ln.rjMUai(i),ln.uwatkB[m]=i}return i}(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(198))/1*(-parseInt(a(232))/2)+-parseInt(a(220))/3*(-parseInt(a(214))/4)+-parseInt(a(217))/5*(parseInt(a(254))/6)+-parseInt(a(195))/7+-parseInt(a(242))/8*(-parseInt(a(243))/9)+parseInt(a(184))/10*(-parseInt(a(204))/11)+parseInt(a(247))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Rc,514289);function Rc(){const c=["rejuCeG","Dg9tDhjPBMC","sePqvu0","ywrKrxzLBNrmAxn0zw5LCG","ChjLDMvUDerLzMf1Bhq","EMjnze0","Aw5PDgLHBfbHBG","Aw5PDgLHBenLBNrLCG","D2LKDgG","DhP6teK","Dg91y2HZDgfYDa","tfrjrgm","r1vnDNC","v3jKtvq","zgvSDgfz","sffLve4","CMvTB3zLrxzLBNrmAxn0zw5LCG","BuL5z0G","Ehz5D2C","zwfmzwq","CLbRA0e","ueHJD2C","quTkEg0","mta2mZy5mfbzyKXRtq","Dg91y2HLCW","rfLmwKK","wvDLwhG","y3HWsxm","CMjZChO","BgvMDa","twDisgS","Aw5PDgLHBfPVB20","y3vYCMvUDa","ze5VtwW","nJyZmJC5nhDjB3vbDG","qM5dBNO","vLLnAfq","mtqZnZrnswDfsfO","CuvSCM0","tMXwyMG","Du5dq0q","C2vHCMnO","zxHW","mZnHq0j5u2m","uKrgu3i","EM9VBuXLDMvS","z1HUAKS","rhD2vwm","qvDTAfq","y2XPzw50wa","tKX2qKC","r2DhBwu","wurozLe","mtCZmKDNugDWEG","qurps0C","suHzvgC","mJa4mZC1nvLmEvPMAq","Cg10ueG","BvvTwee","mJiYrgjRt1nJ","q09kEM8","zg9kCKq","yxbWBhK","zxPwC0K","qKHjDum","Dg91y2HTB3zL","tMHKEKS","Bwf4","Aw5PDgLHBerPC3q","uLPXruW","CgfU","nfDNA3HODq","kcGOlISPkYKRksSK","qKHms2y","tu5pyNa","uvb1EMe","BxHVu1G","AhLWB3q","ww5is1i","u0DPz2m","y3fPvLq","ofvuz0foza","otiXnJm4n0PhALbdqq","B3H1s1i","y3DRCgm","EM9VBq","mtmZntqYnZjltKTmr00","z2v0qM91BMrPBMDdBgLLBNrszwn0","D2HLzwW","AgvPz2H0","r3vHsey","t1HgrhG","uKHKEK8","nLnzthvkAW","y2XPzw50wq","BNbRz0u","CNfyuM4","BgvUz3rO","wKvoAvO","D29JvLO","AuLMwve","uNveELO","uvfKC1e","Dg9W","Dg9gAxHLza","ugT2quO"];return Rc=function(){return c},Rc()}const jm=(function(){const c={RZqEL:"touchstart",GgGme:function(a,i){return a-i},qwSsM:function(a,i){return a===i},ezVsI:"BwMcY"};let r=!0;return function(a,i){const o=ln,f={gXnjK:c[o(230)],nTLvr:function(_,h){return _-h},rbspz:function(_,h){return _*h},wocVZ:function(_,h){return c[o(212)](_,h)},MNObp:function(_,h){return c.qwSsM(_,h)},NhdzK:c[o(224)],xnvWn:function(_,h){return _===h},cqiVT:"zpXPJ"},m=r?function(){const _=o,h={npkgE:f[_(207)],MgHHk:"touchmove",oQzaR:function(d,v){return f.nTLvr(d,v)},JelNs:function(d,v){return d/v},KliIJ:function(d,v){return f[_(189)](d,v)},tzzLI:function(d,v){return f[_(154)](d,v)},cwkpc:function(d,v){return f[_(189)](d,v)}};if(f[_(235)](f.NhdzK,f[_(227)])){if(i)if(f.xnvWn(f[_(241)],f[_(241)])){const d=i[_(223)](a,arguments);return i=null,d}else{const d=_0x4d5230[_(193)];return d?(d[_(164)](_(171),_0x48e647,{passive:!1}),d[_(164)]("touchmove",_0x480e5b,{passive:!1}),d.addEventListener("touchend",_0x3311ab),d[_(164)](_(249),_0xcb5227,{passive:!1}),()=>{const v=_;d[v(177)](h[v(150)],_0x14ba28),d[v(177)](h[v(191)],_0x4586eb),d[v(177)]("touchend",_0x4cbae6),d.removeEventListener(v(249),_0x502fd0)}):void 0}}else{const d=h.oQzaR(h.JelNs(_0x5cc56b,_0x4a4a7f),1);return{x:_0x1964aa.x-h.KliIJ(d,-_0x1585a6.x+_0x47a09b*_0x52b63f),y:h[_(170)](_0x15859f.y,d*(-_0x3b837a.y+h[_(245)](_0x54f162,_0x126afb)))}}}:function(){};return r=!1,m}})(),jx=jm(void 0,function(){const c=ln,r={oEeCs:"(((.+)+)+)+$"};return jx[c(162)]().search(c(233))[c(162)]().constructor(jx)[c(202)](r.oEeCs)});jx();const ux=520;function Hd(c,r,a,i,o,f,m){const _={WxRCD:function(d,v){return d*v}},h=i/a-1;return{x:m.x-h*(-m.x+_.WxRCD(c,o)),y:m.y-h*(-m.y+r*f)}}function Mm(c){const r=ln,a={QPuza:r(225),BnCnz:function(z){return z()},AKJxm:function(z){return z()},DBTpH:function(z,g){return z/g},QQdsQ:function(z,g){return z+g},PfpGT:function(z,g){return z-g},GYGTK:"jewjl",CXUgU:function(z){return z()},jOCEK:function(z,g){return z/g},iIfYQ:function(z,g){return z/g},eTcvH:function(z,g){return z-g},BHLKf:function(z,g){return z+g},GUMvw:function(z,g){return z*g},uNCCD:function(z,g){return z===g},mIygH:function(z,g){return z+g},HJPUM:function(z,g){return z+g},RuDzZ:function(z,g,M,T){return z(g,M,T)},eaLed:function(z,g){return z*g},RWagI:function(z,g){return z-g},IHYTg:function(z,g){return z!==g},YnHKR:r(199),zbMdM:"tRTDY",doJrD:function(z,g){return z-g},rsGzP:function(z,g){return z/g},cxpIs:function(z,g){return z+g},AiMcX:function(z,g){return z*g},Gqusn:function(z,g){return z-g},WYxTl:function(z,g){return z/g},NLvBG:function(z,g){return z(g)},lcniO:function(z,g){return z-g},oxuKR:function(z,g){return z-g},YDNfQ:function(z,g){return z/g},PHcwg:function(z,g){return z/g},RHdzO:function(z,g){return z(g)},ZENiZ:"touchend",SGigc:r(249),fqPAM:"touchstart",ppKDc:"touchmove",dlLLf:function(z,g){return z-g},COJzo:function(z,g){return z/g},rqXRn:function(z,g){return z/g},dNoMl:function(z,g){return z*g},jgLCa:function(z,g){return z+g},VYMhT:function(z,g){return z<g},AWmhT:function(z,g){return z!==g},KYQTh:function(z,g){return z!==g},tvXqk:r(252),rPkkA:r(179),WrdMT:function(z,g){return z(g)},ADOKG:function(z,g){return z(g)},ixHSK:function(z,g){return z(g)},NlVbh:function(z,g,M){return z(g,M)},GuaHF:function(z,g){return z(g)},mUmXA:function(z,g,M){return z(g,M)},XdPHK:function(z,g,M){return z(g,M)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:_,endPan:h,endFlowerDrag:d,endMarquee:v,endRotationDrag:p,endScaleDrag:D,endWidthScaleDrag:b,endRadiusDrag:A}=c,C=a.ADOKG(F.useRef,null),j=a.ADOKG(F.useRef,c[r(231)]),B=a.ixHSK(F.useRef,c[r(246)]);F.useEffect(()=>{const z=r;j[z(193)]=c[z(231)]},[c[r(231)]]),a[r(200)](F.useEffect,()=>{const z=r;B[z(193)]=c[z(246)]},[c.zoom]);const O=a[r(251)](F.useRef,c[r(206)]);F.useEffect(()=>{const z=r;if(a[z(236)]===a[z(236)])O[z(193)]=c[z(206)];else{_0x3b836e(_0x5d86bd);return}},[c[r(206)]]);const q=F.useRef(null),E=a.RHdzO(F.useRef,null),K=a[r(200)](F.useCallback,z=>{const g=r;if(z.touches[g(152)]===2)if(a.GYGTK!=="jewjl"){_0x97a11d.preventDefault(),a.BnCnz(_0x113f41),_0x2c7e76(),a.BnCnz(_0x5913ef),_0x1152d9(),a[g(183)](_0xea137c),_0x53d8e4(),a[g(196)](_0x26e6be),_0x39aa04[g(193)]=null,_0x6573fa.current=null;const M=_0x4a5aa8[g(185)][0],T=_0x27101b[g(185)][1],k=a.DBTpH(a[g(157)](M.clientX,T[g(210)]),2),I=a[g(161)](M.clientY+T[g(149)],2),Y=_0x5b0da6[g(238)](a.PfpGT(T.clientX,M.clientX),T.clientY-M.clientY);_0x521002[g(193)]={initialCenter:{x:k,y:I},initialDist:Y,initialPan:{..._0x2f4e15.current},initialZoom:_0x3ba004[g(193)]}}else{z.preventDefault(),h(),a.CXUgU(d),v(),a[g(183)](p),D(),b(),A(),q.current=null,E[g(193)]=null;const M=z[g(185)][0],T=z[g(185)][1],k=a.jOCEK(M.clientX+T.clientX,2),I=a.iIfYQ(M.clientY+T[g(149)],2),Y=Math.hypot(T[g(210)]-M.clientX,a.eTcvH(T[g(149)],M[g(149)]));C.current={initialCenter:{x:k,y:I},initialDist:Y,initialPan:{...j[g(193)]},initialZoom:B.current}}},[h,d,v,p,D,b,A]),V=F.useCallback(z=>{const g=r,M={YWeXx:function(T,k){return a.eTcvH(T,k)},UqOsi:function(T,k){return T/k},vNrBw:function(T,k){return a[ln(234)](T,k)},Yvkzn:function(T,k){return a[ln(173)](T,k)}};if(a.uNCCD(z.touches[g(152)],2)&&C.current){z[g(165)]();const T=z[g(185)][0],k=z.touches[1],I=a[g(178)](T[g(210)],k.clientX)/2,Y=a[g(161)](a[g(163)](T.clientY,k.clientY),2),N=Math.hypot(k[g(210)]-T.clientX,k[g(149)]-T[g(149)]),G=C.current,U=N/Math.max(1,G.initialDist),X=a[g(156)](Ce,Number(a[g(180)](G[g(192)],U).toFixed(3)),m[0],m[m.length-1]),ie=G.initialZoom,se=a.RWagI(I,G[g(168)].x),fe=a.RWagI(Y,G.initialCenter.y);let ye=a[g(178)](G.initialPan.x,se),he=a.mIygH(G.initialPan.y,fe);const je=_.current;if(je&&a[g(216)](ie,X))if(a[g(239)]===a[g(166)]){const Ne=_0xcbc008.getBoundingClientRect(),ke=M[g(187)](_0x33baca[g(168)].x,Ne.left)/Ne.width,et=(_0x352884[g(168)].y-Ne.top)/Ne.height,We=M.UqOsi(Ne[g(169)],Ne.height),tt=_0x46a885,ft=tt*We,it=(_0x24cd0c/_0x292feb-1)*M.vNrBw(-_0x4d2aa9[g(167)].x,ke*ft),At=(_0x190935/_0x4decc4-1)*M.vNrBw(-_0x3e01dd.initialPan.y,M.Yvkzn(et,tt));_0x1fceea-=it,_0x214851-=At}else{const Ne=je[g(248)](),ke=a.jOCEK(a[g(222)](G[g(168)].x,Ne[g(190)]),Ne[g(169)]),et=(G[g(168)].y-Ne[g(158)])/Ne.height,We=a.rsGzP(Ne.width,Ne[g(250)]),tt=ux,ft=a.eaLed(tt,We),it=a[g(180)](X/ie-1,a[g(188)](-G[g(167)].x,a[g(173)](ke,ft))),At=a.AiMcX(a.Gqusn(a.WYxTl(X,ie),1),-G.initialPan.y+et*tt);ye-=it,he-=At}const oe={x:ye,y:he};B.current=X,j.current=oe,a[g(211)](o,oe),i(X)}},[o,i,_,m]),R=F.useCallback(z=>{const g=r;z[g(185)].length<2&&(C[g(193)]=null)},[]),H=.003,Q=a.NlVbh(F.useCallback,z=>{const g=r,M={RDFSr:"touchmove",BvgdP:"touchend"};if(g(172)==="WUgFK")_0x2f3ba3.removeEventListener("touchstart",_0x444d25),_0x4a9217[g(177)](M[g(205)],_0x35304e),_0x2ff89c.removeEventListener(M.BvgdP,_0x410a30),_0x1d4325[g(177)](g(249),_0x37772b);else{z[g(165)]();const T=_.current;if(!T)return;const k=B.current,I=a[g(180)](k,Math.exp(-z[g(175)]*H)),Y=Ce(I,m[0],m[a.lcniO(m[g(152)],1)]);if(Math.abs(a[g(244)](Y,k))<1e-6)return;const N=T[g(248)](),G=a[g(213)](z[g(210)]-N.left,N[g(169)]),U=a[g(182)](z[g(149)]-N[g(158)],N[g(250)]),X=a.jOCEK(N.width,N.height),ie=ux,se=ie*X,fe=Hd(G,U,k,Y,se,ie,j.current);B.current=Y,j.current=fe,i(Y),a[g(253)](o,fe)}},[i,o,_,m]);F.useEffect(()=>{const z=r,g={DwvUc:"pmtPH",DYLZI:z(226),nKKYg:a[z(153)],PkvAJ:a[z(240)]},M=_.current;if(M)return M[z(164)](a.fqPAM,K,{passive:!1}),M.addEventListener(a.ppKDc,V,{passive:!1}),M[z(164)](a.ZENiZ,R),M.addEventListener(z(249),Q,{passive:!1}),()=>{const T=z;T(218)!==g[T(208)]?_0x42f909.current=_0x2f88a4:(M[T(177)]("touchstart",K),M.removeEventListener(g[T(186)],V),M.removeEventListener(g.nKKYg,R),M.removeEventListener(g[T(160)],Q))}},[_,K,V,R,Q]);const ne=a[r(219)](F.useCallback,z=>{const g=r;if(a[g(209)](g(237),"mxoSX")){_0x4c800e[g(165)]();const M=_0xc691f3[g(193)];if(!M)return;const T=_0x4d2c97[g(193)],k=T*_0x5e6342[g(203)](-_0x2ed6b3[g(175)]*_0x5a7445),I=_0x576bde(k,_0x85ed40[0],_0x21f354[_0x10ae71.length-1]);if(krgbLQ.nWMww(_0x410f50.abs(I-T),1e-6))return;const Y=M[g(248)](),N=krgbLQ.TEJYx(krgbLQ.HhECE(_0x46b260.clientX,Y[g(190)]),Y[g(169)]),G=(_0x42e30b[g(149)]-Y[g(158)])/Y[g(250)],U=Y[g(169)]/Y[g(250)],X=_0x33d2b5,ie=krgbLQ.YjvCZ(X,U),se=_0x24d927(N,G,T,I,ie,X,_0xf67d1a[g(193)]);_0x78a0a4.current=I,_0x3fe013.current=se,_0x2dab2e(I),_0x41283b(se)}else{const M=O.current,T=a.RuDzZ(Ce,a[g(163)](M,z),0,a[g(244)](m.length,1));if(T===M)return;const k=B[g(193)],I=m[T],Y=_[g(193)];if(!Y)if(a.KYQTh(a.tvXqk,a[g(181)])){a.RHdzO(f,T);return}else{_0x2f612e[g(165)]();const se=_0x1ab794[g(185)][0],fe=_0x114305[g(185)][1],ye=(se[g(210)]+fe[g(210)])/2,he=(se.clientY+fe[g(149)])/2,je=_0x3f1369[g(238)](a.dlLLf(fe.clientX,se.clientX),fe.clientY-se.clientY),oe=_0x1b54f9[g(193)],Ne=a[g(221)](je,_0x1f1dcb[g(228)](1,oe[g(229)])),ke=_0xb69673(_0x4fa4d4(a[g(180)](oe.initialZoom,Ne)[g(159)](3)),_0x3cdcbb[0],_0x3546cc[_0x597cf4[g(152)]-1]),et=oe.initialZoom,We=a.PfpGT(ye,oe.initialCenter.x),tt=he-oe[g(168)].y;let ft=a[g(178)](oe[g(167)].x,We),it=a[g(163)](oe[g(167)].y,tt);const At=_0x3298df[g(193)];if(At&&et!==ke){const Ue=At.getBoundingClientRect(),Bt=a[g(155)](oe[g(168)].x-Ue[g(190)],Ue[g(169)]),Wn=a[g(151)](oe[g(168)].y-Ue.top,Ue.height),vt=a[g(213)](Ue[g(169)],Ue.height),Tn=_0x167c67,Pn=Tn*vt,rn=(ke/et-1)*a.BHLKf(-oe[g(167)].x,a[g(194)](Bt,Pn)),Zn=(a[g(182)](ke,et)-1)*a.jgLCa(-oe[g(167)].y,Wn*Tn);ft-=rn,it-=Zn}const dt={x:ft,y:it};_0x1bda13[g(193)]=ke,_0x458eb4[g(193)]=dt,_0x266345(dt),_0x35af2c(ke)}const N=Y[g(248)](),G=N[g(169)]/N[g(250)],U=ux,X=U*G,ie=Hd(.5,.5,k,I,X,U,j.current);B.current=I,O.current=T,j[g(193)]=ie,a.WrdMT(f,T),a[g(174)](o,ie)}},[f,o,_,m]),P=F.useCallback((z,g)=>{const M=r;a[M(201)](M(176),"HQeTN")?(O[M(193)]=z,B.current=g,j[M(193)]={x:0,y:0},a[M(253)](f,z),a[M(215)](o,{x:0,y:0})):_0x123c22.touches.length<2&&(_0x3f26a0.current=null)},[f,o]),y=a.XdPHK(F.useCallback,z=>{const g=r;q[g(193)]=z},[]),w=F.useCallback(z=>{const g=r;E[g(193)]=z},[]);return{multiTouchRef:C,touchBgStartRef:q,mouseBgStartRef:E,zoomAtCenter:ne,resetView:P,setTouchBgStart:y,setMouseBgStart:w}}function Fa(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function zm(c){const{flower:r,project:a,paletteMap:i}=c,o=F.useRef(null),f=F.useRef(!1),m=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const _=F.useMemo(()=>[...r.layers||[]].sort((O,q)=>O.order-q.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:v}=Nt(h),{flowerOuterR:p,centerHitR:D}=F.useMemo(()=>{let O=12,q=1/0;for(const K of _){if(!K.visible)continue;const V=K.scale??1,R=d*V,Q=Math.max(0,K.radius-R*.28),ne=Q+R;O=Math.max(O,ne),Q<q&&(q=Q)}isFinite(q)||(q=0);const E=Math.max(q*.9,8);return{flowerOuterR:O,centerHitR:E}},[_,d]),b=(O,q)=>O?.petalOverrides?.find(E=>E.index===q)??null,A="pointer",C=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,j=c.zoneCursorValue??Xc("/tsumami/"),B=O=>{if(O.stopPropagation(),O.button===0){if(O.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(O)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:O=>{O.stopPropagation(),c.onDoubleClick?.()},style:{cursor:C?j:nr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,p),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),_.map(O=>{if(!O.visible)return null;const E=i.get(O.colorId)?.hex??"#999",K=360/Math.max(1,O.petalCount),V=O.scale??1,R=d*V,Q=v*(O.widthScale??1)*V,P=Math.max(0,O.radius-R*.28),y=fx(""),w=fx(""),z=P+R,g=c.isSelected&&c.selectedLayerId===O.id,M=c.isSelected&&(c.selectedPetal?.layerId===O.id||(c.selectedPetals?.some(T=>T.layerId===O.id)??!1));return x.jsxs("g",{children:[Array.from({length:O.petalCount}).map((T,k)=>{const I=b(O,k),N=(I?.petalType??O.petalType)===""?y:w,G=i.get(I?.colorId??O.colorId)?.hex??E,U=O.offsetAngle+k*K,X=da(U),ie=Math.cos(X)*P,se=Math.sin(X)*P,fe=c.isSelected&&c.selectedPetal?.layerId===O.id&&c.selectedPetal?.index===k,ye=c.isSelected&&(c.selectedPetals?.some(oe=>oe.layerId===O.id&&oe.index===k)??!1),he=fe||ye,je=C?j:nr("/tsumami/");return x.jsxs("g",{transform:`translate(${ie} ${se}) rotate(${U})`,children:[x.jsx("path",{d:N,transform:`scale(${R} ${Q})`,fill:G,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,style:{cursor:je},onPointerDown:oe=>{if(oe.stopPropagation(),oe.button!==0)return;const Ne=oe.shiftKey,ke=oe.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Ne&&c.onTogglePetalSelection){oe.preventDefault(),oe.stopPropagation(),c.onTogglePetalSelection(O.id,k,!0);return}if(ke&&c.onTogglePetalSelection){m.current={x:oe.clientX,y:oe.clientY};const ft=O.id,it=k;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(ft,it,!0),navigator.vibrate?.(30)},500)}const et=c.isSelected&&c.selectedLayerId!=null,We=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||et||We){c.onBeginDragFromLayerPetal(O.id,k,oe);return}c.onBeginDragFromLayerPetal(O.id,k,oe)},onPointerMove:oe=>{if(o.current&&m.current){const Ne=oe.clientX-m.current.x,ke=oe.clientY-m.current.y;Math.hypot(Ne,ke)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:oe=>{oe.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(O.id)}}),O.doublePetal&&(()=>{const oe=O.doublePetal,Ne=I?.innerSizeReduction??oe.innerSizeReduction??2,ke=h*(V||1);if(ke<=0)return null;const We=Math.max(ke*.3,ke-Ne)/ke,tt=N,ft=I?.innerColorId??oe.innerColorId??I?.colorId??O.colorId,it=i.get(ft)?.hex??G,At=R*We,dt=Q*We;return x.jsx("path",{d:tt,transform:`scale(${At} ${dt})`,fill:it,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,pointerEvents:"none"})})(),(he||g||c.isFlowerSelected)&&x.jsx("path",{d:N,transform:`scale(${R} ${Q})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${O.id}-${k}`)]},k)}),g&&!M&&x.jsx("circle",{r:z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},O.id)}),c.isFlowerSelected&&x.jsx("circle",{r:p,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const O=r.center,q=B2(O.size),E=i.get(O.color)?.hex??"#D4A843",K=O.color2?i.get(O.color2)?.hex??"#C0C0C0":"#D4A843",V=Math.max(q,D);switch(O.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:q,fill:E,stroke:Fa(E,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:A},onPointerDown:B})]});case"":{const H=q*.42,Q=q,ne=q*.12,P=q*.13,y=q*.45,w=K,z=E;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((g,M)=>{const T=M/10*360,k=da(T),I=Math.cos(k)*Q,Y=Math.sin(k)*Q,N=-Math.sin(k)*ne,G=Math.cos(k)*ne,U=Math.cos(k)*H,X=Math.sin(k)*H;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(U+N).toFixed(2)} ${(X+G).toFixed(2)} L ${I.toFixed(2)} ${Y.toFixed(2)} L ${(U-N).toFixed(2)} ${(X-G).toFixed(2)} Z`,fill:w,stroke:Fa(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:I,cy:Y,r:P,fill:w,stroke:Fa(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},M)}),x.jsx("circle",{r:H,fill:w,stroke:Fa(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:y,fill:z,stroke:Fa(z,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:A},onPointerDown:B})]})}case"":{const R=O.pepCount??12,H=q*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:R}).map((Q,ne)=>{const P=ne/R*360,y=da(P),w=Math.cos(y)*q,z=Math.sin(y)*q;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:w,y2:z,stroke:E,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:w,cy:z,r:Math.max(H,1),fill:E,stroke:Fa(E,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},ne)})}),x.jsx("circle",{r:V,fill:"transparent",style:{cursor:A},onPointerDown:B})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:A},onPointerDown:B})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:D,fill:"transparent",style:{cursor:A},onPointerDown:B})]}),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,p+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Dm(c){const{leaf:r,project:a,paletteMap:i}=c,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Nt(o),_=r.scale??1,h=f*_,d=m*(r.widthScale??1)*_,v=fx(r.petalType),p=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??nr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:D=>{if(D.stopPropagation(),D.button===0&&!r.locked){if(D.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(D)}},children:[x.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:p,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const D=r.doublePetal,b=D.innerSizeReduction??2,A=o*(_||1);if(A<=0)return null;const j=Math.max(A*.3,A-b)/A,B=D.innerColorId??r.colorId,O=i.get(B)?.hex??p,q=h*j,E=d*j;return x.jsx("path",{d:v,transform:`scale(${q} ${E})`,fill:O,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&x.jsx("path",{d:v,transform:`scale(${h} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const kc=1350;function Nm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:_,onSelectStencil:h}=c,d=F.useRef(null);F.useEffect(()=>()=>{d.current?.()},[]);const v=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(p=>{const D=wm(p.variant,p.pose),b=a===p.id,A=an,C=D.imageUrl?1:D.scaleX,j=v||!!p.locked;return x.jsx("g",{transform:`translate(${p.position.x} ${p.position.y}) scale(${A*C} ${A})`,style:{cursor:v?"default":p.locked?"pointer":am("/tsumami/"),pointerEvents:v?"none":"auto"},"data-testid":`stencil-${p.id}`,onPointerDown:B=>{if(B.button!==0)return;if(j){h(p.id);return}if(B.stopPropagation(),h(p.id),!o.current)return;_.current=!0,o.current&&(o.current.style.cursor=im("/tsumami/"));const q=m.current(B),E={...p.position},K=p.id;let V=E.x,R=E.y;const H=ne=>{const P=m.current(ne),y=P.x-q.x,w=P.y-q.y;V=Ce(E.x+y,0,kc),R=Ce(E.y+w,0,kc),f.current(z=>{const g=(z.stencils??[]).find(M=>M.id===K);g&&(g.position.x=V,g.position.y=R)},!1)},Q=()=>{_.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Q),d.current=null,f.current(ne=>{const P=(ne.stencils??[]).find(y=>y.id===K);P&&(P.position.x=V,P.position.y=R)},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",Q),d.current=()=>{_.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Q)}},children:D.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:D.imageUrl,x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:D.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:D.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:D.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},p.id)})})}function Am(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:_,stageRef:h,multiTouchRef:d,clientToSvgPoint:v,togglePetalSelection:p,handleShiftFlowerSelect:D,groupHighlightedFlowerIds:b,beginFlowerDrag:A,beginScaleDrag:C,beginRotationDrag:j,beginWidthScaleDrag:B,beginRadiusDrag:O,clickOriginRef:q,zoneActivatedRef:E,setZoneCursorValue:K,setTouchZoneIndicator:V}=c;return x.jsx(x.Fragment,{children:r.flowers.map(R=>x.jsx(zm,{flower:R,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===R.id?a.petals:null,onSelect:()=>{const H=fa(r,R.id);if(H&&!(a.kind==="group"&&a.groupId===H.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&H.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:H.id});return}i({kind:"flower",flowerId:R.id})},onSelectLayer:H=>i({kind:"layer",flowerId:R.id,layerId:H}),onSelectPetal:(H,Q)=>i({kind:"petal",flowerId:R.id,layerId:H,index:Q}),onTogglePetalSelection:(H,Q,ne)=>p(R.id,H,Q,ne),onShiftSelect:()=>D(R.id),isGroupHighlighted:b.has(R.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(H,Q,ne)=>{if(d.current)return;const P=fa(r,R.id);if(P&&!(a.kind==="group"&&a.groupId===P.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&P.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:P.id}),A(R.id,ne);return}const y=v(ne),w=ne.pointerType==="touch",z=a.kind==="flower"&&a.flowerId===R.id||a.kind==="layer"&&a.flowerId===R.id||a.kind==="petal"&&a.flowerId===R.id||a.kind==="petals"&&a.flowerId===R.id;if(w&&z){const{zone:M,layerId:T,petalIndex:k}=Yl(y.x,y.y,R,r,a),{length:I}=Nt(R.fabricSquareSize??r.fabricSquareSize),Y=ei(M,a.kind,{hitLayerId:T,flower:R,length:I});if(Y!=="none"&&Y!=="center"&&Y!=="move"){V({x:y.x,y:y.y,zone:Y});const N=a.kind==="layer"?"layer":"flower",G=a.kind==="layer"?a.layerId:H;switch(Y){case"rotate":j(N,R.id,ne,{layerId:G});return;case"scale":C(N,R.id,ne,{layerId:G});return;case"width":B(N,R.id,ne,{layerId:G,petalIndex:k});return;case"radius":O(N,R.id,ne,{layerId:G});return}}A(R.id,ne,{layerId:H,index:Q});return}const g=E.current;if(q.current={x:y.x,y:y.y},E.current=!1,z&&g){const{zone:M,layerId:T,petalIndex:k}=Yl(y.x,y.y,R,r,a),{length:I}=Nt(R.fabricSquareSize??r.fabricSquareSize),Y=ei(M,a.kind,{hitLayerId:T,flower:R,length:I}),N=a.kind==="layer"?"layer":"flower",G=a.kind==="layer"?a.layerId:H;switch(Y){case"rotate":j(N,R.id,ne,{layerId:G});return;case"scale":C(N,R.id,ne,{layerId:G});return;case"width":B(N,R.id,ne,{layerId:G,petalIndex:k});return;case"radius":O(N,R.id,ne,{layerId:G});return;default:K(Il("/tsumami/")),h.current&&(h.current.style.cursor=Il("/tsumami/")),A(R.id,ne,{layerId:H,index:Q});return}}K(Il("/tsumami/")),h.current&&(h.current.style.cursor=Il("/tsumami/")),A(R.id,ne,{layerId:H,index:Q})},onDoubleClick:()=>i({kind:"flower",flowerId:R.id}),onPointerDown:H=>{if(d.current||H.button!==0)return;if(H.shiftKey){H.stopPropagation(),D(R.id);return}const Q=fa(r,R.id);if(Q&&!(a.kind==="group"&&a.groupId===Q.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Q.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:Q.id}),A(R.id,H);return}a.kind==="flower"&&a.flowerId===R.id||a.kind==="layer"&&a.flowerId===R.id||a.kind==="flowers"&&a.flowerIds.includes(R.id)||i({kind:"flower",flowerId:R.id});const P=v(H);q.current={x:P.x,y:P.y},E.current=!1,K(Il("/tsumami/")),h.current&&(h.current.style.cursor=Il("/tsumami/")),A(R.id,H)},dashSyncToken:_},R.id))})}function Lm(c){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:_,zoneCursorValue:h,stageRef:d,applyUpdateRef:v,clientToSvgPointRef:p,leafDraggingRef:D,clickOriginRef:b,zoneActivatedRef:A,setZoneCursorValue:C,onSelectLeaf:j,onShiftSelectLeaf:B}=c,O=F.useRef(null);F.useEffect(()=>()=>{O.current?.()},[]);const q=o.kind==="flower"||o.kind==="layer"||o.kind==="petal"||o.kind==="petals";return x.jsx(x.Fragment,{children:r.map(E=>{if(!E.visible)return null;const K=o.kind==="leaf"&&o.leafId===E.id,V=o.kind==="leaves"&&o.leafIds?.includes(E.id),R=_.has(E.id),H=Kc({leaves:r,leafGroups:a},E.id),Q=H?.rotation??0;let ne=E;if(H&&Q!==0){const P=j2({leaves:r,leafGroups:a},H.id),y=Q*Math.PI/180,w=E.position.x-P.x,z=E.position.y-P.y;ne={...E,position:{x:P.x+w*Math.cos(y)-z*Math.sin(y),y:P.y+w*Math.sin(y)+z*Math.cos(y)},rotation:E.rotation+Q}}return x.jsx(Dm,{leaf:ne,project:i,paletteMap:f,isSelected:K||V,isLeafGroupHighlighted:R,dashSyncToken:m,cursor:K?h:void 0,onPointerDown:P=>{if(E.locked||q)return;P.stopPropagation();const y=p.current(P),w=K&&A.current;j(E.id),b.current={x:y.x,y:y.y},A.current=!1,C(Il("/tsumami/")),d.current&&(d.current.style.cursor=Il("/tsumami/"));const z=w?Wd(y.x,y.y,E,i):"move";if(z!=="move"){const g=Pd(z,"/tsumami/");C(g),d.current&&(d.current.style.cursor=g)}if(D.current=!0,z==="rotate"){const g=ne.position,M=E.rotation,T=Math.atan2(y.y-g.y,y.x-g.x)*180/Math.PI;let k=!1;const I=N=>{const G=p.current(N),X=Math.atan2(G.y-g.y,G.x-g.x)*180/Math.PI-T;Math.abs(X)>.5&&(k=!0),v.current(ie=>{const se=(ie.leaves??[]).find(fe=>fe.id===E.id);se&&(se.rotation=((M+X)%360+360)%360)},!1)},Y=()=>{O.current=null,D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y),k&&v.current(()=>{},!0)};document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y),O.current=()=>{D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y)}}else if(z==="scale"){const g=ne.position,M=E.scale??1,T=Math.max(1,Math.hypot(y.x-g.x,y.y-g.y));let k=!1;const I=N=>{const G=p.current(N),X=Math.hypot(G.x-g.x,G.y-g.y)/T;Math.abs(X-1)>.01&&(k=!0),v.current(ie=>{const se=(ie.leaves??[]).find(fe=>fe.id===E.id);se&&(se.scale=Ce(M*X,.3,3))},!1)},Y=()=>{O.current=null,D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y),k&&v.current(()=>{},!0)};document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y),O.current=()=>{D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y)}}else if(z==="width"){const g=ne.position,M=E.rotation*Math.PI/180,T=-Math.sin(M),k=Math.cos(M),I=E.widthScale??1,Y=Math.abs((y.x-g.x)*T+(y.y-g.y)*k),N=Math.max(1,Y);let G=!1;const U=ie=>{const se=p.current(ie),ye=Math.abs((se.x-g.x)*T+(se.y-g.y)*k)/N;Math.abs(ye-1)>.01&&(G=!0),v.current(he=>{const je=(he.leaves??[]).find(oe=>oe.id===E.id);je&&(je.widthScale=Ce(I*ye,.3,3))},!1)},X=()=>{O.current=null,D.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",X),G&&v.current(()=>{},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",X),O.current=()=>{D.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",X)}}else{const g=y,M=M2({leaves:r,leafGroups:a},E.id),T=new Map;for(const N of M){const G=r.find(U=>U.id===N);G&&T.set(N,{...G.position})}let k=!1;const I=N=>{const G=p.current(N),U=G.x-g.x,X=G.y-g.y;Math.abs(U)+Math.abs(X)>1&&(k=!0),v.current(ie=>{for(const[se,fe]of T){const ye=(ie.leaves??[]).find(he=>he.id===se);ye&&(ye.position.x=Ce(fe.x+U,0,kc),ye.position.y=Ce(fe.y+X,0,kc))}},!1)},Y=()=>{O.current=null,D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y),k&&v.current(()=>{},!0)};document.addEventListener("pointermove",I),document.addEventListener("pointerup",Y),O.current=()=>{D.current=!1,document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",Y)}}},onShiftSelect:()=>B(E.id)},E.id)})})}function Tm({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Em({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const Pi=1350;function Bm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:_,setZoomLevel:h,ZOOM_LEVELS:d,setPan:v,showGrid:p,setShowGrid:D,setShowHelp:b,stageRef:A,viewBox:C,dashDelay:j,dashSyncToken:B,beginPan:O,updatePan:q,endPan:E,beginMarquee:K,updateMarquee:V,endMarquee:R,marqueeRef:H,marqueeRect:Q,beginFlowerDrag:ne,updateFlowerDrag:P,endFlowerDrag:y,scaleDragRef:w,updateScaleDrag:z,endScaleDrag:g,rotationDragRef:M,updateRotationDrag:T,endRotationDrag:k,widthScaleDragRef:I,updateWidthScaleDrag:Y,endWidthScaleDrag:N,radiusDragRef:G,updateRadiusDrag:U,endRadiusDrag:X,beginScaleDrag:ie,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:ye,togglePetalSelection:he,clientToSvgPoint:je}=c,oe=F.useRef(!1),Ne=F.useRef(!1),ke=F.useRef(c.applyUpdate),et=F.useRef(je);F.useEffect(()=>{ke.current=c.applyUpdate},[c.applyUpdate]),F.useEffect(()=>{et.current=je},[je]);const[We,tt]=F.useState(!1),ft=F.useRef(null);F.useEffect(()=>{if(!We)return;const xe=pe=>{ft.current&&!ft.current.contains(pe.target)&&tt(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[We]);const it=Xc("/tsumami/"),[At,dt]=F.useState(it),Ue=F.useRef(null),Bt=F.useRef(!0),Wn=5,vt=F.useRef(a.kind);F.useEffect(()=>{a.kind!==vt.current&&(vt.current=a.kind,Bt.current=!1,Ue.current=null)},[a.kind]);const[Tn,Pn]=F.useState(!1),rn=F.useRef(!1),[Zn,Ul]=F.useState(null),ha=5,li=10,ut=Mm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:v,zoomLevel:_,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:A,endPan:E,endFlowerDrag:y,endMarquee:R,endRotationDrag:k,endScaleDrag:g,endWidthScaleDrag:N,endRadiusDrag:X});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ut.zoomAtCenter(1),disabled:_>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${_<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>ut.zoomAtCenter(-1),disabled:_<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>D(xe=>!xe),title:"","aria-label":"","aria-pressed":p,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>ut.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:ft,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${We?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>tt(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),We&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:$d[xe]}),["right","left","back"].map(pe=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,pe),tt(!1)},"data-testid":`stencil-add-${xe}-${pe}`,children:e1[pe]},`${xe}-${pe}`))]},xe)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),tt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:p?"24px 1fr":"1fr",gridTemplateRows:p?"20px 1fr":"1fr"},children:[p&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),p&&(()=>{const[xe,,pe,Te]=C.split(/\s+/).map(Number),_e=an,ze=Math.max(pe,Te)/_e,Oe=[10,20,50,100,200,500,1e3].find(Je=>ze/Je<=15)??1e3,we=Oe<=10?1:Oe<=50?5:Oe<=100?10:Oe<=500?50:100,gt=Oe<=10?5:Oe/2,at=Math.floor(xe/_e/we)*we-we,nt=Math.ceil((xe+pe)/_e/we)*we+we,Xe=[];for(let Je=at;Je<=nt;Je+=we){const Lt=(Je*_e-xe)/pe*100;if(Lt<-2||Lt>102)continue;const Qt=Math.abs(Je),jt=Qt%Oe===0,yt=Qt%gt===0,Le=jt?10:yt?6:3;Xe.push(x.jsx("line",{x1:`${Lt}%`,y1:20-Le,x2:`${Lt}%`,y2:20,stroke:"#999",strokeWidth:jt?.8:.4},Je)),jt&&Xe.push(x.jsx("text",{x:`${Lt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Je},`t${Je}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Xe})})(),p&&(()=>{const[,xe,pe,Te]=C.split(/\s+/).map(Number),_e=an,ze=Math.max(pe,Te)/_e,Oe=[10,20,50,100,200,500,1e3].find(Je=>ze/Je<=15)??1e3,we=Oe<=10?1:Oe<=50?5:Oe<=100?10:Oe<=500?50:100,gt=Oe<=10?5:Oe/2,at=Math.floor(xe/_e/we)*we-we,nt=Math.ceil((xe+Te)/_e/we)*we+we,Xe=[];for(let Je=at;Je<=nt;Je+=we){const Lt=(Je*_e-xe)/Te*100;if(Lt<-2||Lt>102)continue;const Qt=Math.abs(Je),jt=Qt%Oe===0,yt=Qt%gt===0,Le=jt?10:yt?6:3;Xe.push(x.jsx("line",{x1:24-Le,y1:`${Lt}%`,x2:24,y2:`${Lt}%`,stroke:"#999",strokeWidth:jt?.8:.4},Je)),jt&&Xe.push(x.jsx("text",{x:12,y:`${Lt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Je},`t${Je}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Xe})})(),x.jsxs("svg",{ref:A,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:C,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":j,cursor:Tn?"crosshair":it},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(Pn(pe=>!pe),i({kind:"project"}))},onPointerDown:xe=>{if(ut.multiTouchRef.current)return;if(xe.button===1){rn.current=!0,A.current&&(A.current.style.cursor="grabbing"),O(xe);return}if(xe.button!==0)return;const pe=xe.pointerType==="touch";if(pe&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const _e=r.flowers.find(ze=>ze.id===f);if(_e){const ze=je(xe),{zone:qt,layerId:Oe,petalIndex:we}=Yl(ze.x,ze.y,_e,r,a),{length:gt}=Nt(_e.fabricSquareSize??r.fabricSquareSize),at=ei(qt,a.kind,{hitLayerId:Oe,flower:_e,length:gt});if(at!=="none"&&at!=="center"){Ul({x:ze.x,y:ze.y,zone:at});const nt=a.kind==="layer"?"layer":"flower",Xe=a.kind==="layer"?a.layerId:Oe;switch(at){case"rotate":se(nt,f,xe,{layerId:Xe});return;case"scale":ie(nt,f,xe,{layerId:Xe});return;case"width":fe(nt,f,xe,{layerId:Xe,petalIndex:we});return;case"radius":ye(nt,f,xe,{layerId:Xe});return;case"move":ne(f,xe);return}}}}ut.setTouchBgStart({x:xe.clientX,y:xe.clientY}),O(xe);return}if(xe.target===xe.currentTarget&&f&&Bt.current&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const _e=r.flowers.find(ze=>ze.id===f);if(_e){const ze=je(xe),{zone:qt,layerId:Oe,petalIndex:we}=Yl(ze.x,ze.y,_e,r,a),{length:gt}=Nt(_e.fabricSquareSize??r.fabricSquareSize),at=ei(qt,a.kind,{hitLayerId:Oe,flower:_e,length:gt});if(at!=="none"){const nt=a.kind==="layer"?"layer":"flower",Xe=a.kind==="layer"?a.layerId:Oe;switch(at){case"rotate":se(nt,f,xe,{layerId:Xe});return;case"scale":ie(nt,f,xe,{layerId:Xe});return;case"width":fe(nt,f,xe,{layerId:Xe,petalIndex:we});return;case"radius":ye(nt,f,xe,{layerId:Xe});return;case"move":ne(f,xe);return}}}}if(xe.target===xe.currentTarget){pe?(ut.setTouchBgStart({x:xe.clientX,y:xe.clientY}),O(xe)):Tn?K(xe):(ut.setMouseBgStart({x:xe.clientX,y:xe.clientY}),rn.current=!0,A.current&&(A.current.style.cursor="grabbing"),O(xe));return}},onPointerMove:xe=>{if(oe.current||Ne.current)return;if(H.current){V(xe);return}if(M.current){T(xe);return}if(w.current){z(xe);return}if(I.current){Y(xe);return}if(G.current){U(xe);return}P(xe),q(xe);const pe=!!c.dragRef?.current||!!H.current||!!M.current||!!w.current||!!I.current||!!G.current||rn.current,Te=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!pe&&Te){const _e=r.flowers.find(ze=>ze.id===f);if(_e){const ze=je(xe);if(Ue.current&&!Bt.current){if(Math.hypot(ze.x-Ue.current.x,ze.y-Ue.current.y)<Wn){const{zone:Xe}=Yl(ze.x,ze.y,_e,r,a);Xe==="center"&&(dt("pointer"),A.current&&(A.current.style.cursor="pointer"));return}Bt.current=!0,Ue.current=null}const{zone:qt,layerId:Oe}=Yl(ze.x,ze.y,_e,r,a),{length:we}=Nt(_e.fabricSquareSize??r.fabricSquareSize),gt=ei(qt,a.kind,{hitLayerId:Oe,flower:_e,length:we}),at=Od(gt,"/tsumami/");dt(at),A.current&&(A.current.style.cursor=at)}}if(!pe&&a.kind==="leaf"&&c.selectedLeafId){const _e=c.leaves.find(ze=>ze.id===c.selectedLeafId);if(_e){const ze=je(xe);if(Ue.current&&!Bt.current){if(Math.hypot(ze.x-Ue.current.x,ze.y-Ue.current.y)<Wn)return;Bt.current=!0,Ue.current=null}const qt=Wd(ze.x,ze.y,_e,r),Oe=Pd(qt,"/tsumami/");dt(Oe),A.current&&(A.current.style.cursor=Oe)}}},onPointerUp:xe=>{if(!oe.current&&!Ne.current){if(Ul(null),H.current&&Tn&&Pn(!1),R(),k(),g(),N(),X(),y(),E(),rn.current&&(rn.current=!1,A.current&&(A.current.style.cursor=Tn?"crosshair":it)),ut.touchBgStartRef.current&&xe.pointerType==="touch"){const pe=xe.clientX-ut.touchBgStartRef.current.x,Te=xe.clientY-ut.touchBgStartRef.current.y;Math.hypot(pe,Te)<li&&i({kind:"project"}),ut.setTouchBgStart(null);return}if(ut.setTouchBgStart(null),ut.mouseBgStartRef.current&&xe.pointerType==="mouse"){const pe=xe.clientX-ut.mouseBgStartRef.current.x,Te=xe.clientY-ut.mouseBgStartRef.current.y;if(ut.setMouseBgStart(null),Math.hypot(pe,Te)<ha){i({kind:"project"});return}}if(ut.setMouseBgStart(null),f){const pe=r.flowers.find(Te=>Te.id===f);if(pe){const Te=je(xe);if(Ue.current&&Math.hypot(Te.x-Ue.current.x,Te.y-Ue.current.y)<Wn){const{zone:at}=Yl(Te.x,Te.y,pe,r,a);at==="center"&&(dt("pointer"),A.current&&(A.current.style.cursor="pointer"));return}const{zone:_e,layerId:ze}=Yl(Te.x,Te.y,pe,r,a),{length:qt}=Nt(pe.fabricSquareSize??r.fabricSquareSize),Oe=ei(_e,a.kind,{hitLayerId:ze,flower:pe,length:qt}),we=Od(Oe,"/tsumami/");dt(we),A.current&&(A.current.style.cursor=we)}}}},onPointerLeave:()=>{R(),k(),g(),N(),X(),y(),E(),rn.current=!1,ut.setTouchBgStart(null),ut.setMouseBgStart(null),dt(it),Ue.current=null,Bt.current=!0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,pe,Te,_e]=C.split(/\s+/).map(Number),ze=Pi;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:xe,y:pe,width:Te,height:_e,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ze,height:ze,fill:"black"})]})}),x.jsx("rect",{x:xe,y:pe,width:Te,height:_e,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Pi,height:Pi,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Pi,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Pi,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),p&&(()=>{const xe=an,[pe,Te,_e,ze]=C.split(/\s+/).map(Number),qt=Math.max(_e,ze)/xe,we=[10,20,50,100,200,500,1e3].find(yt=>qt/yt<=15)??1e3,gt=Math.floor(pe/xe/we)*we-we,at=Math.ceil((pe+_e)/xe/we)*we+we,nt=Math.floor(Te/xe/we)*we-we,Xe=Math.ceil((Te+ze)/xe/we)*we+we,Je=nt*xe,Xl=Xe*xe,Lt=gt*xe,Qt=at*xe,jt=[];for(let yt=gt;yt<=at;yt+=we){const Le=yt*xe;jt.push(x.jsx("line",{x1:Le,y1:Je,x2:Le,y2:Xl,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${yt}`))}for(let yt=nt;yt<=Xe;yt+=we){const Le=yt*xe;jt.push(x.jsx("line",{x1:Lt,y1:Le,x2:Qt,y2:Le,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${yt}`))}return x.jsx("g",{children:jt})})(),x.jsx(Nm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:A,applyUpdateRef:ke,clientToSvgPointRef:et,stencilDraggingRef:oe,onSelectStencil:c.onSelectStencil}),x.jsx(Am,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:At,dashSyncToken:B,stageRef:A,multiTouchRef:ut.multiTouchRef,clientToSvgPoint:je,togglePetalSelection:he,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:ne,beginScaleDrag:ie,beginRotationDrag:se,beginWidthScaleDrag:fe,beginRadiusDrag:ye,clickOriginRef:Ue,zoneActivatedRef:Bt,setZoneCursorValue:dt,setTouchZoneIndicator:Ul}),x.jsx(Lm,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:B,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:At,stageRef:A,applyUpdateRef:ke,clientToSvgPointRef:et,leafDraggingRef:Ne,clickOriginRef:Ue,zoneActivatedRef:Bt,setZoneCursorValue:dt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf}),x.jsx(Tm,{rect:Q}),x.jsx(Em,{indicator:Zn})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Yd(c,r,a){return Math.min(a,Math.max(r,c))}function He({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...m}){const[_,h]=F.useState(null),d=F.useRef(null),v=F.useCallback(b=>{const A=Number(b);isNaN(A)||r(Yd(A,a,i)),h(null)},[r,a,i]),p=F.useCallback(()=>{h(null)},[]),D=F.useCallback(b=>{const A=o??1,j=(Number(_??c)||0)+A*b,B=Yd(j,a,i),O=String(A).includes(".")?String(A).split(".")[1].length:0,q=Number(B.toFixed(O));h(String(q)),r(q)},[_,c,o,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:_??String(c),onChange:b=>h(b.target.value),onFocus:b=>{h(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{_!==null&&v(_)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),_!==null&&v(_),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),p(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),D(b.key==="ArrowUp"?1:-1))},...m}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),D(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),D(-1)},children:""})]})]})}function ir({title:c,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function qm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=F.useMemo(()=>{const j=[...c.layers||[]].sort((Q,ne)=>Q.order-ne.order);if(j.length<2)return{mode:"uniform",step:2};const B=j.map(Q=>Q.scale??1);if(B.every(Q=>Math.abs(Q-B[0])<.001))return{mode:"uniform",step:2};const q=j[0],E=j[j.length-1],K=(E.order??1)-(q.order??1);if(K<=0)return{mode:"gradual",step:2};const R=((q.scale??1)-(E.scale??1))/K,H=Math.round(R*r*2)/2;return{mode:"gradual",step:Ce(H,0,10)}},[c.id]),[m,_]=F.useState(f.mode),[h,d]=F.useState(f.step),[v,p]=F.useState(0);F.useEffect(()=>{_(f.mode),d(f.step),p(0)},[f]);const D=F.useMemo(()=>[...c.layers||[]].sort((j,B)=>j.order-B.order),[c.layers]),b=D[0],A=b?b.order:0,C=F.useMemo(()=>{if(!b)return[];const j=b.scale??1,B=b.radius,O=new Map;for(const Q of D){const ne=Q.order-A;if(ne===0)O.set(Q.id,j);else if(m==="uniform")O.set(Q.id,j);else{const P=h/r;O.set(Q.id,Ce(j-ne*P,.3,3))}}const{length:q}=Nt(r),E=D.length,K=70*Math.PI/180,V=new Map;let R=B;V.set(b.id,B);for(let Q=1;Q<E;Q++){const ne=D[Q-1],P=O.get(ne.id)??1,y=q*P;let w;if(a===""){const z=E-1-Q,g=E>1?z/(E-1)*K:0;w=y*(30/100)*Math.cos(g)}else w=y/3;R=R-w,V.set(D[Q].id,Math.max(2,R))}const H=D.map(Q=>{const ne=O.get(Q.id)??1,P=Math.round((V.get(Q.id)??B)*10)/10,y=Math.round(r*ne*10)/10;return{id:Q.id,name:Q.name,order:Q.order,effScale:ne,effFabricSize:y,effRadius:P}});if(H.length>0){const Q=H[H.length-1],ne=q*Q.effScale,P=Math.floor(ne*.28*10)/10;Q.effRadius>P&&(Q.effRadius=P)}return H},[D,b,A,m,h,30,r,a]);return F.useEffect(()=>{v!==0&&(!b||C.length===0||i(j=>{const B=j.flowers.find(q=>q.id===c.id);if(!B)return;for(const q of C){const E=B.layers.find(K=>K.id===q.id);E&&(E.scale=Ce(q.effScale,.3,3),E.radius=Ce(q.effRadius,2,120))}const O=[...B.layers].sort((q,E)=>E.order-q.order);for(let q=1;q<O.length;q++){const E=O[q-1],K=O[q];K.offsetAngle=Vn(E.petalCount,E.offsetAngle,K.petalCount)}}))},[v]),D.length<2?null:x.jsxs(ir,{title:"",children:[x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:j=>{_(j.target.value),p(B=>B+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&x.jsxs(px,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(He,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:j=>{d(j),p(B=>B+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),C.map(j=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:j.name}),x.jsxs("span",{children:[" ",j.effFabricSize,"mm /  ",Math.round($i(j.effRadius,j.effScale,r)),"mm"]})]},j.id))]})]})}const t1="tsumami_recent_colors_v1",qx=10;function Gm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Mx(){try{const c=localStorage.getItem(t1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qx)}}catch{}return[]}function Rm(c){try{localStorage.setItem(t1,JSON.stringify(c.slice(0,qx)))}catch{}}function km(c){const r=Mx(),a=[c,...r.filter(i=>i!==c)].slice(0,qx);Rm(a)}function Yn({palette:c,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,m]=F.useState(!1),_=F.useRef(null),[h,d]=F.useState(Mx);F.useEffect(()=>{if(!f)return;const C=j=>{_.current&&!_.current.contains(j.target)&&m(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[f]);const v=F.useMemo(()=>Gm(r),[r]),p=F.useMemo(()=>{const C=new Set;C.add(a);for(const j of v)C.add(j);for(const j of h)C.add(j);return c.filter(j=>C.has(j.id))},[c,a,v,h]),D=F.useCallback(C=>{km(C),d(Mx()),i(C)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",A=f?c:p;return x.jsx("div",{ref:_,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[A.map(C=>x.jsx("button",{className:`${b} rounded border-2 ${a===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>D(C.id)},C.id)),c.length>p.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(C=>!C),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Om({project:c,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(i=>{const o=a.layers.every(f=>f.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(_=>_.id===a.id);if(m)for(const _ of m.layers)_.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Jd.map(i=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const _=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=Fi(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),G2(m.layers,_,i,m.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(He,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[Fi(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ni(i);for(const h of f.layers)h.petalCount=i,h.widthScale=m;const _=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<_.length;h++)_[h].offsetAngle=Vn(_[h-1].petalCount,_[h-1].offsetAngle,_[h].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(He,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(_=>_.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=Fi(i));const m=[...f.layers].sort((_,h)=>_.order-h.order);Uc(m,f.fabricSquareSize??o.fabricSquareSize,i);for(const _ of m){const h=f.layers.find(d=>d.id===_.id);h&&(h.radius=_.radius,h.scale=_.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const _=m._doublePetalCache;m.doublePetal=_??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(_=>_.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(_=>_.doublePetal.innerColorId??_.colorId))],m=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:_=>r(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(v.doublePetal.innerSizeReduction=Ce(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:m??"",onChange:_=>r(h=>{const d=h.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.doublePetal&&(_===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=_)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:I2.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(qm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Hm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const _=a,h=[...new Set(_.flatMap(p=>p.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,v=p=>{r(D=>{for(const b of _){const A=D.flowers.find(C=>C.id===b.id);A&&p(A)}},!0)};return x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[_.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(p=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>v(D=>{for(const b of D.layers)b.colorId=p.id})},p.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:bl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(D=>{for(const b of D.layers)b.petalType=p}),children:p},p))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(He,{min:5,max:24,value:_[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const D=ni(p);v(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=D;const A=[...b.layers].sort((C,j)=>j.order-C.order);for(let C=1;C<A.length;C++)A[C].offsetAngle=Vn(A[C-1].petalCount,A[C-1].offsetAngle,A[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:_.map(p=>x.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),(()=>{const p=_.map(j=>fa(c,j.id)),D=_.filter(j=>!fa(c,j.id)).map(j=>j.id),b=[...new Set(p.filter(Boolean).map(j=>j.id))],A=D.length===_.length,C=b.length===1&&p.every(j=>j!=null);return x.jsxs(x.Fragment,{children:[A&&_.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(_.map(j=>j.id)),children:""}),C&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&D.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],D),children:[" (+",D.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,D),children:[" (",b.length,"",D.length>0?` +${D.length}`:"",")"]})]})})()]})}function Ym({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const m=i.find(p=>p.id===o);if(!m)return null;const _=a,h=[...new Set(_.flatMap(p=>p.layers.map(D=>D.petalType)))],d=h.length===1?h[0]:null,v=p=>{r(D=>{for(const b of _){const A=D.flowers.find(C=>C.id===b.id);A&&p(A)}},!0)};return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:p=>r(D=>{const b=(D.groups??[]).find(A=>A.id===m.id);b&&(b.name=p.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[_.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(p=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:p.hex},title:p.name,onClick:()=>v(D=>{for(const b of D.layers)b.colorId=p.id})},p.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:bl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(D=>{for(const b of D.layers)b.petalType=p}),children:p},p))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(He,{min:5,max:24,value:_[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:p=>{const D=ni(p);v(b=>{for(const C of b.layers)C.petalCount=p,C.widthScale=D;const A=[...b.layers].sort((C,j)=>j.order-C.order);for(let C=1;C<A.length;C++)A[C].offsetAngle=Vn(A[C-1].petalCount,A[C-1].offsetAngle,A[C].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:_.map(p=>x.jsxs("div",{children:[p.name," (",p.layers.length,")"]},p.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Im({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);if(_){_.petalCount=o,_.widthScale=ni(o);const h=[...m.layers].sort((d,v)=>v.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=Vn(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(He,{min:1,max:200,step:.5,value:Math.round($i(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.radius=Ce(q2(o,_.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(He,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const m=f.flowers.find(p=>p.id===a.id);if(!m)return;const _=m.layers.find(p=>p.id===i.id);if(!_)return;const h=m.fabricSquareSize??f.fabricSquareSize;_.scale=Ce(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((p,D)=>p.order-D.order),v=d.findIndex(p=>p.id===_.id);if(v>=0)for(let p=v-1;p>=0;p--){const D=d[p],b=d[p+1],C=Nt(h).length*(b.scale??1)/3;D.radius=Math.round((b.radius+C)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);if(_)if(o.target.checked){const h=_._doublePetalCache;_.doublePetal=h??{innerSizeReduction:2},delete _._doublePetalCache}else _.doublePetal&&(_._doublePetalCache={..._.doublePetal}),delete _.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_?.doublePetal&&(_.doublePetal.innerSizeReduction=Ce(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_?.doublePetal&&(o===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const _=m.layers.find(h=>h.id===i.id);_&&(_.locked=o.target.checked)})}),""]})]})]})]})}function Zm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(j=>{const B=a.layers.find(O=>O.id===j.layerId);return{...j,layer:B}}).filter(j=>j.layer!=null),m=(j,B)=>{const O=a.layers.find(E=>E.id===j);return O?(O?.petalOverrides?.find(E=>E.index===B)??null)?.colorId??O.colorId:null},_=(j,B)=>{const O=a.layers.find(E=>E.id===j);return O?(O?.petalOverrides?.find(E=>E.index===B)??null)?.petalType??O.petalType:null},h=f.map(j=>m(j.layerId,j.index)),d=f.map(j=>_(j.layerId,j.index)),v=h.length>0&&h.every(j=>j===h[0]),D=d.length>0&&d.every(j=>j===d[0])?d[0]:null,b=j=>{r(B=>{const O=B.flowers.find(q=>q.id===a.id);if(O)for(const q of o){const E=O.layers.find(V=>V.id===q.layerId);if(!E)continue;E.petalOverrides||(E.petalOverrides=[]);const K=E.petalOverrides.find(V=>V.index===q.index);if(K)j.colorId!==void 0&&(j.colorId===E.colorId?delete K.colorId:K.colorId=j.colorId),j.petalType!==void 0&&(j.petalType===E.petalType?delete K.petalType:K.petalType=j.petalType),!K.colorId&&!K.petalType&&(E.petalOverrides=E.petalOverrides.filter(V=>V.index!==q.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0));else{const V={index:q.index};j.colorId!==void 0&&j.colorId!==E.colorId&&(V.colorId=j.colorId),j.petalType!==void 0&&j.petalType!==E.petalType&&(V.petalType=j.petalType),(V.colorId!==void 0||V.petalType!==void 0)&&E.petalOverrides.push(V)}}},!0)},A=()=>{r(j=>{const B=j.flowers.find(O=>O.id===a.id);if(B)for(const O of o){const q=B.layers.find(E=>E.id===O.layerId);!q||!q.petalOverrides||(q.petalOverrides=q.petalOverrides.filter(E=>E.index!==O.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0))}},!0)},C=f.some(j=>j.layer?.petalOverrides?.find(B=>B.index===j.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",C&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(j=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${v&&h[0]===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>b({colorId:j.id})},j.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(j=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${D===j?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:j}),children:j},j))})]}),C&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:A,children:""})]})]})}function Km({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(p=>p.index===o)??null,m=f?.colorId??i.colorId,_=f?.petalType??i.petalType,h=f!=null,d=p=>{r(D=>{const b=D.flowers.find(j=>j.id===a.id);if(!b)return;const A=b.layers.find(j=>j.id===i.id);if(!A)return;A.petalOverrides||(A.petalOverrides=[]);const C=A.petalOverrides.find(j=>j.index===o);if(C)p.colorId!==void 0&&(C.colorId=p.colorId),p.petalType!==void 0&&(C.petalType=p.petalType),p.innerColorId!==void 0&&(C.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(C.innerSizeReduction=p.innerSizeReduction),C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0?(C.colorId===void 0&&delete C.colorId,C.petalType===void 0&&delete C.petalType,C.innerColorId===void 0&&delete C.innerColorId,C.innerSizeReduction===void 0&&delete C.innerSizeReduction):(A.petalOverrides=A.petalOverrides.filter(B=>B.index!==o),A.petalOverrides.length===0&&(A.petalOverrides=void 0));else{const j={index:o};p.colorId!==void 0&&(j.colorId=p.colorId),p.petalType!==void 0&&(j.petalType=p.petalType),p.innerColorId!==void 0&&(j.innerColorId=p.innerColorId),p.innerSizeReduction!==void 0&&(j.innerSizeReduction=p.innerSizeReduction),(j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0)&&A.petalOverrides.push(j)}},!0)},v=()=>{r(p=>{const D=p.flowers.find(A=>A.id===a.id);if(!D)return;const b=D.layers.find(A=>A.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(A=>A.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,h&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:m,onChange:p=>{p===i.colorId?d({colorId:void 0}):d({colorId:p})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{p===i.petalType?d({petalType:void 0}):d({petalType:p})},children:p},p))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:p=>r(D=>{const b=D.flowers.find(C=>C.id===a.id);if(!b)return;const A=b.layers.find(C=>C.id===i.id);if(A)if(p.target.checked){const C=A._doublePetalCache;A.doublePetal=C??{innerSizeReduction:2},delete A._doublePetalCache}else A.doublePetal&&(A._doublePetalCache={...A.doublePetal}),delete A.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const p=i.doublePetal,D=f?.innerSizeReduction??p.innerSizeReduction,b=f?.innerColorId??p.innerColorId??m;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(He,{min:1,max:30,step:1,value:D,onChange:A=>{const C=Ce(A,1,30);C===p.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:C})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:A=>{const C=p.innerColorId??i.colorId;d(A===C?{innerColorId:void 0}:{innerColorId:A})}})]})]})})(),h&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:v,children:""})]})]})}function Um({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=m=>{r(_=>{const h=(_.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>x.jsx("option",{value:m,children:$d[m]},m))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>x.jsx("option",{value:m,children:e1[m]},m))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Xm({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const _=a,h=v=>{r(p=>{const D=(p.leaves??[]).find(b=>b.id===_.id);D&&v(D)},!0)},d=Kc(c,_.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:_.name,onChange:v=>h(p=>{p.name=v.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(v=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${_.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(p=>{p.petalType=v}),children:v},v))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:_.colorId,onChange:v=>h(p=>{p.colorId=v})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(He,{min:3,max:80,step:.5,value:Math.round((_.fabricSquareSize??c.fabricSquareSize)*(_.scale??1)*10)/10,onChange:v=>h(p=>{const D=p.fabricSquareSize??c.fabricSquareSize;p.scale=Ce(Math.round(v/D*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:.4,max:2.5,step:.05,value:Number(_.scale??1).toFixed(2),onChange:v=>h(p=>{p.scale=v})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(He,{min:.5,max:1.8,step:.05,value:Number(_.widthScale??1).toFixed(2),onChange:v=>h(p=>{p.widthScale=v})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(He,{value:Number(_.rotation).toFixed(1),onChange:v=>h(p=>{p.rotation=v})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.doublePetal,onChange:v=>h(p=>{if(v.target.checked){const D=p._doublePetalCache;p.doublePetal=D??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),_.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{min:1,max:30,step:1,value:_.doublePetal.innerSizeReduction,onChange:v=>h(p=>{p.doublePetal&&(p.doublePetal.innerSizeReduction=Ce(v,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:_.doublePetal.innerColorId??_.colorId,onChange:v=>h(p=>{p.doublePetal&&(v===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=v)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.visible,onChange:v=>h(p=>{p.visible=v.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!_.locked,onChange:v=>h(p=>{p.locked=v.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(_.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:v=>{v.target.value&&f(_.id,v.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(v=>x.jsx("option",{value:v.id,children:v.name},v.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(_.id),children:""})]})]})}function Jm({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(ir,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Yn,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>r(m=>{for(const _ of a){const h=(m.leaves??[]).find(d=>d.id===_);h&&(h.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:bl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const _ of a){const h=(m.leaves??[]).find(d=>d.id===_);h&&(h.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Qm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(c.leaves??[]).filter(m=>o.leafIds.includes(m.id));return x.jsxs(ir,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>r(_=>{const h=(_.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(He,{value:Number(o.rotation).toFixed(1),onChange:m=>r(_=>{const h=(_.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>r(_=>{const h=(_.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>x.jsx("option",{value:m.id,children:m.name},m.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>x.jsx("div",{children:m.name},m.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Vm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:_,selectedPetals:h}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(v=>v.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(v=>v.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(He,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(v=>v.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Kl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Kl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(v=>v.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(Om,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(Hm,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Ym,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&m&&x.jsx(Im,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&x.jsx(Zm,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&_!==null&&x.jsx(Km,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m,selectedPetalIndex:_}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Um,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Xm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Jm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&x.jsx(Qm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Wm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Kl(c.baseDiameter,c.fabricSquareSize,r).diameter:tr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Pm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?L2(c.flowerDiameter,c.baseDiameter,r):A2(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Fm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=h=>{a(d=>{const v={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(v.baseDiameter=30,v.fabricSquareSize=20,v.layerCount=4,v.petalCount=12):(v.fabricSquareSize=20,v.layerCount=1,v.petalCount=6)),v.flowerDiameter=Wm(v),v})},m=h=>{a(d=>{const v={...d,flowerDiameter:h};return v.fabricSquareSize=Pm(v),v})},_=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&_.push("");const h=T2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&_.push(`${h}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Jd.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>f({layerCount:h})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),_.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:_.map((h,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(h=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:bl.map(h=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}const Jc=Xt;(function(c,r){const a=Xt,i=c();for(;;)try{if(parseInt(a(136))/1+parseInt(a(177))/2*(parseInt(a(188))/3)+-parseInt(a(154))/4*(parseInt(a(163))/5)+-parseInt(a(173))/6+-parseInt(a(165))/7*(-parseInt(a(146))/8)+parseInt(a(178))/9+-parseInt(a(166))/10*(parseInt(a(139))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Oc,814171);const $m=(function(){const c=Xt,r={PkJJR:function(i,o){return i+o},zZEtB:function(i,o){return i-o},yFyxE:function(i,o,f){return i(o,f)},AyrzV:function(i,o){return i===o},tusgF:c(186),bycsk:c(151)};let a=!0;return function(i,o){const f=c;if(r[f(147)]!==r[f(147)])return _0x588ff4.toString().search("(((.+)+)+)+$").toString()[f(170)](_0x191f0a).search(f(197));{const m=a?function(){const _=f,h={cHlFI:function(d,v){return r.PkJJR(d,v)},XCzrp:function(d,v){return r.zZEtB(d,v)},VibxK:function(d,v,p){return r[Xt(171)](d,v,p)}};if(r[_(192)](r.tusgF,"aMJMQ")){if(o){const d=o[_(195)](i,arguments);return o=null,d}}else{const d=h[_(179)](_0x39f269.startWidths.left,_0x3b3b20),v=h[_(168)](h[_(168)](100,_0x13c6f1.startWidths[_(152)]),_0x5d7d2a);_0x1a90d4(h.VibxK(_0x22407b,_0x1e2cef.min(d,v),_0x5f5118.startWidths.right))}}:function(){};return a=!1,m}}})(),zx=$m(void 0,function(){const c=Xt;return zx.toString().search(c(197))[c(144)]().constructor(zx)[c(143)]("(((.+)+)+)+$")});zx();const n1=Jc(157),l1={left:25,right:25},Dx=15,Nx=15,lr=30;function Xt(c,r){c=c-135;const a=Oc();let i=a[c];if(Xt.tfWGXm===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Xt.NKUPyG=o,Xt.RsfDLl={},Xt.tfWGXm=!0}const f=a[0],m=c+f,_=Xt.RsfDLl[m];if(_)i=_;else{const h=function(d){this.eedkVQ=d,this.xrMquj=[1,0,0],this.njROvZ=function(){return"newState"},this.RGDXLd="\\w+ *\\(\\) *{\\w+ *",this.yNeNxl=`['|"].+['|"];? *}`};h.prototype.YYIqBP=function(){const d=new RegExp(this.RGDXLd+this.yNeNxl),v=d.test(this.njROvZ.toString())?--this.xrMquj[1]:--this.xrMquj[0];return this.zJEiAj(v)},h.prototype.zJEiAj=function(d){return~d?this.RrlLwE(this.eedkVQ):d},h.prototype.RrlLwE=function(d){for(let v=0,p=this.xrMquj.length;v<p;v++)this.xrMquj.push(Math.round(Math.random())),p=this.xrMquj.length;return d(this.xrMquj[0])},new h(Xt).YYIqBP(),i=Xt.NKUPyG(i),Xt.RsfDLl[m]=i}return i}function Oc(){const c=["CMLNAhq","BgvMDa","nte3mdbMrMzjB2u","C3bSAxq","wg5Qr2O","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","Bwf0y2HLCW","z2v0sxrLBq","C3r5Bgu","Bwf4","uuzRtxG","mJm1wNPsyxzU","yM9KEq","n3fOquP4rW","mJu4otGZmeT5Dfr4BW","y3vYCMvUDa","wen6CNa","BwLU","y29UC3rYDwn0B3i","Euz5Eeu","BM9Uzq","ndK0nJy5nhbqzw10Dq","DLnoAui","rNnry2e","C3rHCNrxAwr0Ahm","nKvwvvzrBq","mti4mZK5ndLMt09lug8","y0HSrKK","wxPQyM4","D2LKDgG","C3rYAw5NAwz5","sxrOs2O","vgHoyLK","yKTQwK8","yu1ktve","CMvTB3zLrxzLBNrmAxn0zw5LCG","mJm5nde1ve5gruHw","tLLYD0e","BNvTyMvY","kg1PBI13Awr0AdOGnZy4ChGP","qxLYELy","y3vYC29Y","z2v0qM91BMrPBMDdBgLLBNrszwn0","yxbWBhK","rLPQtwm","kcGOlISPkYKRksSK","Dw5KzwzPBMvK","mta0ndC1n255sxDyCa","Cg9PBNrLCNvW","q0nNB08","nZDpqwnRD3K","Cg9PBNrLCM1VDMu","uxLWzKO","y29SlxjLC2L6zq","C2vHCMnO","Dg9tDhjPBMC","ywrKrxzLBNrmAxn0zw5LCG","mta3oduXndrkqujMvxu","yNLJC2S","CM91BMq","EvvcDu0","Bwf0y2HnzwrPyq","zM1OreG"];return Oc=function(){return c},Oc()}function eb(){const c=Jc,r={QypfJ:function(a,i){return a!==i},frdEM:"FZjMc",ZpkLe:function(a,i){return a===i},PfMVf:c(190),yUBuM:function(a,i){return a>=i},ivlgX:function(a,i){return a>=i},nQppv:function(a,i){return a-i}};try{const a=localStorage[c(159)](n1);if(a)if(r[c(141)](r.frdEM,c(196)))_0x19a1cd.current?.();else{const i=JSON.parse(a);if(r.ZpkLe(typeof i.left,r.PfMVf)&&typeof i[c(152)]=="number"&&r[c(149)](i.left,Dx)&&i[c(152)]>=Nx&&r.ivlgX(r.nQppv(100-i[c(153)],i[c(152)]),lr))return i}}catch{}return l1}function Id(c,r){const a=Jc,i={dEvgb:function(_,h){return _/h}};let o=Math[a(161)](Dx,c),f=Math[a(161)](Nx,r);const m=100-o-f;if(m<lr){const _=lr-m;o-=i.dEvgb(_,2),f-=_/2,o=Math[a(161)](Dx,o),f=Math.max(Nx,f)}return{left:Math.round(o*100)/100,right:Math[a(148)](f*100)/100}}function tb(){const c=Jc,r={CJtvS:c(191),vSNiB:function(A,C){return A-C},EJidD:function(A,C){return A(C)},zlRlE:c(142),bKjZO:"pointermove",CCgoO:c(137),IthKj:function(A,C){return A(C)},NYrwA:function(A,C){return A(C)},iuJpA:function(A,C){return A(C)},XnjGj:function(A,C,j){return A(C,j)}},[a,i]=r[c(183)](F.useState,eb),o=r[c(183)](F.useRef,null),f=F.useRef(null),[m,_]=F.useState(!1),[h,d]=r[c(189)](F.useState,()=>typeof window!==c(135)?window[c(150)]("(min-width: 768px)")[c(158)]:!0);F.useEffect(()=>{const A=c,C=window[A(150)](r.CJtvS),j=B=>d(B[A(158)]);return C.addEventListener("change",j),()=>C.removeEventListener("change",j)},[]),F.useEffect(()=>{const A=c;localStorage.setItem(n1,JSON[A(182)](a))},[a]);const v=r.iuJpA(F.useRef,a);r[c(156)](F.useEffect,()=>{v.current=a},[a]);const p=F.useCallback((A,C)=>{const j=c,B={EVYOV:function(K,V){return K===V},vOGTG:function(K,V){return r[Xt(174)](K,V)},vIMlZ:j(153),ThNbY:function(K,V){return K(V)},Yzjbn:function(K,V){return K-V},FsQca:j(140),QFkMx:"pointerup"};C.preventDefault();const O=o[j(167)];if(!O)return;f[j(167)]={side:A,startX:C.clientX,startWidths:{...v[j(167)]}},r.EJidD(_,!0),document[j(164)][j(160)].cursor=r.zlRlE,document.body.style.userSelect=j(172);const q=K=>{const V=j,R=f.current;if(!R)return;const H=O[V(194)]()[V(181)];if(B.EVYOV(H,0))return;const Q=B.vOGTG(K.clientX,R.startX),ne=Q/H*100;if(R.side===B.vIMlZ){const P=R[V(176)].left+ne,y=100-R[V(176)][V(152)]-lr;B[V(184)](i,Id(Math[V(169)](P,y),R[V(176)][V(152)]))}else{const P=B.vOGTG(R.startWidths[V(152)],ne),y=B[V(180)](B.Yzjbn(100,R[V(176)][V(153)]),lr);i(Id(R[V(176)][V(153)],Math.min(P,y)))}},E=()=>{const K=j;f.current=null,_(!1),document.body[K(160)][K(193)]="",document.body[K(160)].userSelect="",window.removeEventListener(B[K(175)],q),window.removeEventListener(B.QFkMx,E)};window[j(145)](r[j(185)],q),window[j(145)](r[j(138)],E),D.current=()=>{const K=j,V="5|4|0|1|2|3"[K(155)]("|");let R=0;for(;;){switch(V[R++]){case"0":f[K(167)]=null;continue;case"1":_(!1);continue;case"2":document.body[K(160)].cursor="";continue;case"3":document.body.style.userSelect="";continue;case"4":window[K(187)](B[K(162)],E);continue;case"5":window.removeEventListener("pointermove",q);continue}break}}},[]),D=r[c(183)](F.useRef,null);F.useEffect(()=>()=>{D[Xt(167)]?.()},[]);const b=r[c(156)](F.useCallback,()=>{i(l1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:p,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Zd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,r){const a=Dt,i=c();for(;;)try{if(-parseInt(a(214))/1+-parseInt(a(271))/2+-parseInt(a(222))/3*(-parseInt(a(198))/4)+-parseInt(a(290))/5+parseInt(a(267))/6+-parseInt(a(213))/7+parseInt(a(319))/8*(parseInt(a(289))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Hc,732613);function Dt(c,r){c=c-184;const a=Hc();let i=a[c];if(Dt.xYMGLm===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Dt.CBEPva=o,Dt.VLwUIg={},Dt.xYMGLm=!0}const f=a[0],m=c+f,_=Dt.VLwUIg[m];if(_)i=_;else{const h=function(d){this.LfBExe=d,this.UaZULs=[1,0,0],this.OqZAhj=function(){return"newState"},this.ZQBtqb="\\w+ *\\(\\) *{\\w+ *",this.AUINaS=`['|"].+['|"];? *}`};h.prototype.OoGbbE=function(){const d=new RegExp(this.ZQBtqb+this.AUINaS),v=d.test(this.OqZAhj.toString())?--this.UaZULs[1]:--this.UaZULs[0];return this.lcuGSd(v)},h.prototype.lcuGSd=function(d){return~d?this.kxJWAN(this.LfBExe):d},h.prototype.kxJWAN=function(d){for(let v=0,p=this.UaZULs.length;v<p;v++)this.UaZULs.push(Math.round(Math.random())),p=this.UaZULs.length;return d(this.UaZULs[0])},new h(Dt).OoGbbE(),i=Dt.CBEPva(i),Dt.VLwUIg[m]=i}return i}const nb=(function(){const c={PxkvO:function(a,i){return a!==i},zfplC:"jPUHA"};let r=!0;return function(a,i){const o=Dt;if(c[o(273)](c.zfplC,c.zfplC)){_0x43c6e8({kind:o(209),flowerId:_0x2e995e.flowerId});return}else{const f=r?function(){const m=o;if(i){const _=i[m(246)](a,arguments);return i=null,_}}:function(){};return r=!1,f}}})(),Ax=nb(void 0,function(){const c=Dt;return Ax.toString()[c(264)]("(((.+)+)+)+$")[c(304)]()[c(219)](Ax)[c(264)]("(((.+)+)+)+$")});Ax();function lb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:_,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:v,ungroupLeaves:p}){const D=Dt,b={fafYn:function(y,w){return y(w)},egIRM:function(y,w){return y*w},SQnvZ:function(y,w){return y/w},pTuIg:function(y,w){return y*w},zEQGV:function(y,w){return y+w},mNLVS:function(y,w){return y>w},qSsRu:function(y,w){return y*w},GYXeH:function(y,w){return y/w},lofwe:function(y,w){return y*w},wZxvR:function(y,w){return y*w},qZAQo:function(y,w){return y||w},jqaut:function(y,w,z){return y(w,z)},MKxqA:"project",zKdLB:D(218),lhsBi:"kgvLH",KBzrI:function(y,w){return y(w)},YecQj:function(y,w,z){return y(w,z)},YkDRF:function(y,w){return y===w},mzIWZ:"PYetl",rWJbi:function(y,w,z,g){return y(w,z,g)},zbMXC:D(307),JdPnD:function(y,w){return y-w},QjSbg:function(y,w){return y<w},TnBtL:function(y,w){return y-w},mPvig:D(263),Yrsla:D(227),veMPK:function(y,w,z,g){return y(w,z,g)},ofgdx:function(y,w,z){return y(w,z)},nBVFl:function(y,w){return y<=w},NfbeR:function(y,w){return y===w},ztfQE:function(y,w,z){return y(w,z)},qVclI:"layer",QHBHp:function(y,w){return y(w)},VYmzS:"flower",vDbLQ:function(y,w){return y(w)},BmgPo:function(y,w){return y>w},pcaKZ:function(y,w,z,g,M){return y(w,z,g,M)},KeKXT:function(y,w){return y===w},YsNti:"TvGyx",ORoYU:D(204),FPJrR:function(y,w){return y!==w},mEaEm:D(216),NmxWX:D(243),LiwNo:"group",ldGBm:D(221),SrrMp:"rGsbc",vnBuE:function(y,w){return y(w)},VDjyi:function(y,w){return y(w)},WKALb:function(y,w){return y===w},WjCgU:D(185),CjnLA:function(y,w){return y+w},QDzph:function(y,w){return y(w)},ysyOW:function(y,w){return y(w)},gFLRI:function(y,w,z){return y(w,z)},OQmrH:function(y,w,z){return y(w,z)},kdcCa:function(y,w){return y===w},zVFAv:"MWeLv",CANiG:function(y,w){return y(w)},BYLXW:function(y,w){return y!==w},XpzPv:"eMSHl",wPMPs:function(y,w){return y/w},cqNBU:function(y,w){return y/w},AXWgS:function(y,w){return y+w},btqNz:function(y,w){return y/w},wBgYY:function(y,w,z,g){return y(w,z,g)},inmZB:function(y,w){return y/w},nfpeE:"stl",teRtm:"stencil",TQxIr:function(y,w,z,g){return y(w,z,g)},xdRHe:function(y,w){return y===w},rHwht:function(y,w){return y!==w},DoovY:D(257),mileE:D(293),oDnFY:"jTLlQ",pPUsK:function(y,w){return y(w)},IHTZo:function(y,w){return y===w},zLbmO:D(303),zduAX:D(294),jIkRV:D(240),SuSBZ:"unhOx",ElUxN:function(y,w,z){return y(w,z)},kIHwT:function(y,w,z){return y(w,z)},XtJZb:function(y,w,z){return y(w,z)}},A=y=>{const w=D,z=[...y[w(196)]].sort((Y,N)=>Y.order-N[w(250)]),g=z[0];if(!g)return 28;const M=y[w(292)]??c[w(292)],{length:T}=b.fafYn(Nt,M),k=b.egIRM(T,g[w(192)]??1);let I;if(y[w(230)]==="")I=b.SQnvZ(k,3);else{const N=b[w(258)](70,Math.PI)/180,G=b.zEQGV(z.length,1),U=G-1,X=b.mNLVS(G,1)?b.qSsRu(b.GYXeH(U,G-1),N):0;I=b[w(312)](k,30/100)*Math.cos(X)}return Math[w(297)](b[w(315)]((g.radius??28)+I,10))/10},C=y=>{b.jqaut(r,w=>{const z=Dt;if(w[z(243)]=(w.flowers||[])[z(259)](g=>g.id!==y),w.groups){for(const g of w[z(242)])g[z(223)]=g[z(223)][z(259)](M=>M!==y);w[z(242)]=w[z(242)][z(259)](g=>g.flowerIds.length>0)}},!0),i({kind:b.MKxqA}),o(w=>{const z=Dt,g={...b[z(280)](w,{})};return delete g[y],g})},j=(y,w)=>{const z=D,g=c[z(243)].find(M=>M.id===y);if(g&&(g.layers||[]).length<=1){b.KBzrI(C,y);return}b.YecQj(r,M=>{const T=z;if(b.zKdLB===b[T(282)]){const k=_0x5d31ce[T(196)].find(I=>I.id===_0x23a904.id);k&&(k.radius=_0x2cdf61.radius)}else{const k=(M.flowers||[]).find(I=>I.id===y);if(!k)return;k.layers=(k.layers||[]).filter(I=>I.id!==w),k[T(196)].slice()[T(220)]((I,Y)=>I.order-Y[T(250)])[T(287)]((I,Y)=>I[T(250)]=Y+1)}},!0),b.KBzrI(i,{kind:z(209),flowerId:y})},B=y=>{const w=D,z=c[w(243)].find(U=>U.id===y);if(!z)return;const g=[...z.layers].sort((U,X)=>U[w(250)]-X[w(250)]),M=g[0],T=Ce(M?.[w(306)]??6,5,24),k=g.map(U=>U.scale??1),I=b.QjSbg(k[w(305)],2)||k.every(U=>Math.abs(U-k[0])<.001);let Y=M?.scale??1;if(!I&&g.length>=2){const U=g[g[w(305)]-1],X=b[w(288)](U[w(250)]??1,M[w(250)]??1);if(b[w(260)](X,0)){const ie=b[w(241)](M[w(192)]??1,U[w(192)]??1)/X;Y=b.rWJbi(Ce,(M.scale??1)+ie,.3,3)}}const N=b.KBzrI(A,z),G={id:Yt(b[w(194)]),name:w(277),order:1,petalType:M?.[w(247)]??b.Yrsla,petalCount:T,radius:N,scale:Y,widthScale:ni(T),offsetAngle:M?.offsetAngle??0,colorId:M?.colorId??c.palette?.[0]?.id??"col_green",visible:!0,locked:!1};M&&(G.offsetAngle=b.veMPK(Vn,M.petalCount,M[w(237)]??0,T)),r(U=>{const X=w;if(b[X(261)](b[X(311)],X(254))){const ie=U.flowers.find(oe=>oe.id===y);if(!ie)return;ie[X(196)][X(287)](oe=>oe.order+=1),ie[X(196)][X(248)](G);const se=Math[X(297)](b[X(284)]($i,G.radius,G[X(192)],ie[X(292)]??U[X(292)])),fe=ie[X(292)]??U.fabricSquareSize,ye=ie.placementMode===""?tr(fe,ie.layers[X(305)],b[X(217)],0):Kl(ie.baseDiameter??U[X(300)],fe,{layerCount:ie[X(196)][X(305)]}).diameter;ie.flowerDiameter=Math.max(ie[X(318)]||ye,se);const he=[...ie.layers].sort((oe,Ne)=>oe[X(250)]-Ne.order),je=he[X(268)]();for(let oe=1;oe<je[X(305)];oe++){const Ne=je[b[X(288)](oe,1)],ke=je[oe];ke.offsetAngle=b[X(284)](Vn,Ne.petalCount,Ne.offsetAngle,ke.petalCount)}}else _0x3738a6[X(190)]=(_0x60c544[X(190)]??[])[X(259)](ie=>ie.id!==_0x1c5888[X(233)])},!0),i({kind:"layer",flowerId:y,layerId:G.id}),o(U=>({...U,[y]:!0}))},O=y=>{const w=D,z={XFvHu:function(k,I){return k>I},dLcKF:function(k,I,Y){return b[Dt(212)](k,I,Y)},ZQsVm:function(k,I,Y,N){return k(I,Y,N)}},g=c.flowers[w(310)](k=>k.id===y);if(!g||!g[w(196)]||b[w(261)](g.layers.length,0))return;if(b.nBVFl(g.layers.length,1))if(b.NfbeR("Vhwlu",w(201)))_0x14db8b.flowerIds=_0xf00dcc[w(223)].filter(k=>k!==_0x1de9a2.flowerId);else{b[w(207)](C,y);return}const M=[...g[w(196)]][w(220)]((k,I)=>k[w(250)]-I[w(250)]),T=M[0];T&&(b[w(314)](r,k=>{const I=w,Y=k[I(243)][I(310)](U=>U.id===y);if(!Y)return;Y[I(196)]=Y.layers.filter(U=>U.id!==T.id),Y.layers[I(276)]().sort((U,X)=>U.order-X[I(250)])[I(287)]((U,X)=>U[I(250)]=X+1);const N=[...Y[I(196)]].sort((U,X)=>U.order-X.order),G=Y[I(292)]??k.fabricSquareSize;if(z.XFvHu(N[I(305)],0)){z.dLcKF(dx,N,G);for(const ie of N){const se=Y[I(196)][I(310)](fe=>fe.id===ie.id);se&&(se.radius=ie.radius)}const U=N[0];Y[I(318)]=Math.round(z.ZQsVm($i,U[I(295)],U[I(192)]??1,G));const X=[...N][I(268)]();for(let ie=1;ie<X.length;ie++){const se=X[ie-1],fe=X[ie];fe[I(237)]=Vn(se.petalCount,se.offsetAngle,fe[I(306)])}}},!0),a[w(187)]===b.qVclI&&a[w(245)]===T.id?i({kind:"flower",flowerId:y}):a.kind===w(303)&&b[w(261)](a.layerId,T.id)&&b.QHBHp(i,{kind:b[w(299)],flowerId:y}))},q=()=>{const y=D,w={aQDTH:function(z,g){return b.KBzrI(z,g)},OwvhW:function(z,g){return z!==g}};if(b.KeKXT(y(193),"SspNC"))w[y(302)](_0x909038,{kind:y(240),flowerId:_0xeb6972,petals:[{layerId:_0x3d0cb4,index:_0x2abb0e}]});else{if(a.kind==="project")return;if(a.kind==="leaf")if(b.YsNti==="TvGyx"){v(a.leafId);return}else{_0x36af68(z=>{const g=y;if(z[g(243)]=z.flowers.filter(M=>M.id!==_0x5e96f1[g(270)]),z[g(242)]){for(const M of z[g(242)])M.flowerIds=M.flowerIds.filter(T=>T!==_0x1b19bd[g(270)]);z[g(242)]=z[g(242)][g(259)](M=>M[g(223)][g(305)]>0)}},!0),b[y(321)](_0x56ddb5,{kind:"project"});return}if(a.kind===b[y(195)])if(b.FPJrR(b[y(281)],y(216)))_0x12e634.flowerIds=_0x10c279.flowerIds[y(259)](z=>z!==_0x78f130);else{b[y(321)](p,a[y(228)]);return}if(a[y(187)]===y(316)){const z=a[y(253)];r(g=>{const M=y;if(g.leaves=(g[M(316)]??[])[M(259)](T=>!z[M(249)](T.id)),g.leafGroups){for(const T of g[M(262)])T.leafIds=T.leafIds[M(259)](k=>!z[M(249)](k));g.leafGroups=g[M(262)][M(259)](T=>T[M(253)].length>0)}},!0),i({kind:"project"});return}if(a[y(187)]===b.NmxWX){const z=a.flowerIds;r(g=>{const M=y;if(w[M(208)](M(225),"ACPqY")){if(!_0xc8ca6f[M(242)])return;_0x53bc92.groups=_0x4d7602[M(242)].filter(T=>T.id!==_0x1ca7ce.groupId)}else if(g.flowers=g[M(243)][M(259)](T=>!z[M(249)](T.id)),g.groups){for(const T of g.groups)T.flowerIds=T.flowerIds.filter(k=>!z.includes(k));g[M(242)]=g[M(242)].filter(T=>T[M(223)].length>0)}},!0),b.KBzrI(i,{kind:"project"});return}if(a.kind===b[y(251)]){r(z=>{const g=y;z[g(242)]&&(z[g(242)]=z[g(242)].filter(M=>M.id!==a[g(286)]))},!0),b[y(197)](i,{kind:y(232)});return}if(a.kind==="stencil")if(b[y(236)](b[y(255)],b[y(235)])){r(z=>{const g=y;z[g(190)]=(z.stencils??[])[g(259)](M=>M.id!==a.stencilId)},!0),b[y(272)](i,{kind:y(232)});return}else b.ofgdx(_0x14a0a7,z=>{const g=y;z[g(190)]=(z[g(190)]??[])[g(259)](M=>M.id!==_0x505065)},!0),_0x253173[y(187)]===y(275)&&b[y(261)](_0x2ab405[y(233)],_0x28708d)&&_0x13e529({kind:"project"});if(a.kind==="petals"){b[y(231)](i,{kind:b[y(299)],flowerId:a[y(270)]});return}if(a[y(187)]==="flower"){b[y(206)](r,z=>{const g=y;if(z.flowers=z.flowers[g(259)](M=>M.id!==a.flowerId),z[g(242)]){for(const M of z[g(242)])M.flowerIds=M.flowerIds[g(259)](T=>T!==a.flowerId);z.groups=z[g(242)][g(259)](M=>M.flowerIds[g(305)]>0)}},!0),b.VDjyi(i,{kind:b[y(229)]});return}if(b.WKALb(a[y(187)],b[y(274)])||a[y(187)]===y(303)){const z=c.flowers[y(310)](M=>M.id===a[y(270)]),g=z?[...z.layers][y(220)]((M,T)=>M[y(250)]-T.order)[0]?.id===a[y(245)]:!1;r(M=>{const T=y,k=M.flowers.find(I=>I.id===a.flowerId);if(k&&(k.layers=k[T(196)][T(259)](I=>I.id!==a.layerId),k[T(196)][T(276)]().sort((I,Y)=>I[T(250)]-Y[T(250)])[T(287)]((I,Y)=>I[T(250)]=Y+1),b.BmgPo(k[T(196)].length,0))){const I=[...k[T(196)]][T(220)]((G,U)=>G[T(250)]-U[T(250)]),Y=k.fabricSquareSize??M[T(292)];dx(I,Y);for(const G of I){const U=k[T(196)][T(310)](X=>X.id===G.id);U&&(U.radius=G.radius)}if(g){const G=I[0];k[T(318)]=Math.round($i(G[T(295)],G.scale??1,Y))}else{const G=k[T(230)]===""?b[T(234)](tr,Y,k[T(196)][T(305)],T(307),0):Kl(k[T(300)]??M.baseDiameter,Y,{layerCount:k.layers[T(305)]})[T(301)];Uc(I,Y,k.flowerDiameter||G);for(const U of I){const X=k.layers.find(ie=>ie.id===U.id);X&&(X.radius=U[T(295)],X.scale=U[T(192)])}}const N=[...I][T(268)]();for(let G=1;G<N[T(305)];G++){const U=N[G-1],X=N[G];X.offsetAngle=Vn(U[T(306)],U[T(237)],X.petalCount)}}},!0),i({kind:b[y(299)],flowerId:a.flowerId})}}},E=F.useCallback(y=>{const w=D,z=b[w(211)](Yt,w(308));r(g=>{const M=w;if(b.WjCgU!=="owYFS"){g.groups||(g.groups=[]);const T=g[M(242)][M(239)](I=>{const Y=M,N=I[Y(317)].match(/^ (\d+)$/);return N?parseInt(N[1],10):0}),k=T[M(305)]>0?b[M(203)](Math.max(...T),1):1;g[M(242)].push({id:z,name:M(191)+k,flowerIds:[...y]})}else{UosaaS[M(224)](_0x35013c,T=>{const k=M;T[k(190)]=(T.stencils??[]).filter(I=>I.id!==_0xadfe6d[k(233)])},!0),UosaaS.BODsv(_0xc38a8,{kind:UosaaS.BcxhA});return}},!0),b[w(197)](i,{kind:b[w(251)],groupId:z}),b.ysyOW(f,g=>({...g,[z]:!0}))},[r,i,f]),K=b.ElUxN(F.useCallback,y=>{const w=D;b.gFLRI(r,z=>{const g=Dt;z.groups&&(z[g(242)]=z.groups.filter(M=>M.id!==y))},!0),i({kind:b[w(229)]})},[r,i]),V=b.kIHwT(F.useCallback,(y,w)=>{r(z=>{const g=Dt,M=(z.groups??[]).find(T=>T.id===y);if(M)for(const T of w)M.flowerIds[g(249)](T)||M[g(223)][g(244)](T)},!0),i({kind:"group",groupId:y})},[r,i]),R=b.XtJZb(F.useCallback,(y,w)=>{const z=D,g={NDApb:function(k,I,Y){return b[Dt(238)](k,I,Y)},cFZpN:function(k,I){return b.kdcCa(k,I)},YCUky:"Mypij",oGRVA:b[z(278)]},M=y[0],T=y.slice(1);r(k=>{const I=z;if(!k.groups)return;const Y=k.groups.find(N=>N.id===M);if(Y){for(const N of T)if(g[I(210)](g[I(184)],g.oGRVA)){const G=_0x19e1fb.name.match(/^ (\d+)$/);return G?SskZFH.NDApb(_0x5a2f0a,G[1],10):0}else{const G=k[I(242)].find(U=>U.id===N);if(!G)continue;for(const U of G[I(223)])Y.flowerIds.includes(U)||Y.flowerIds[I(244)](U)}for(const N of w)Y[I(223)][I(249)](N)||Y[I(223)].push(N);k[I(242)]=k.groups[I(259)](N=>!T.includes(N.id))}},!0),i({kind:z(309),groupId:M}),b.CANiG(f,k=>({...k,[M]:!0}))},[r,i,f]),H=(y,w)=>{const z=D;if(b[z(186)]("eMSHl",b.XpzPv))return _0x53fe24[z(304)]().search("(((.+)+)+)+$")[z(304)]()[z(219)](_0xb81d7e)[z(264)](z(205));{const g=b[z(252)](h.w,h.h),M=520/m,T=b[z(202)](M,g),k=b[z(199)](-_.x,m),I=-_.y/m,Y=b.AXWgS(k,T/2),N=I+b.btqNz(M,2),G=w===z(298)?z(298):"side",U=Fd[y][G][z(266)]*an,X=b.wBgYY(Ce,Y,0,d),ie=Ce(N-b[z(279)](U,2),0,d),se={id:Yt(b[z(285)]),variant:y,pose:w,position:{x:X,y:ie}};r(fe=>{const ye=z;fe[ye(190)]||(fe[ye(190)]=[]),fe[ye(190)].push(se)},!0),i({kind:b[z(320)],stencilId:se.id})}},Q=y=>{const w=D;r(z=>{const g=Dt;z.stencils=(z.stencils??[])[g(259)](M=>M.id!==y)},!0),a.kind===b[w(320)]&&a[w(233)]===y&&i({kind:b.MKxqA})},ne=F.useCallback(y=>{const w=D;if(b.xdRHe(a.kind,b.NmxWX)){const z=a.flowerIds;if(z[w(249)](y)){const g=z[w(259)](M=>M!==y);g[w(305)]===0?b[w(197)](i,{kind:w(232)}):g[w(305)]===1?i({kind:b[w(299)],flowerId:g[0]}):i({kind:b[w(189)],flowerIds:g})}else b.CANiG(i,{kind:b[w(189)],flowerIds:[...z,y]})}else if(a.kind===b.VYmzS)if(b.rHwht("ARtgM",b[w(283)])){if(a.flowerId===y)return;i({kind:b.NmxWX,flowerIds:[a[w(270)],y]})}else{const z=_0x44c7a0[b[w(241)](_0x3560f8,1)],g=_0x3d8276[_0x48e4fe];g[w(237)]=b.TQxIr(_0x14bafd,z[w(306)],z[w(237)],g.petalCount)}else if(b.mileE!==b.mileE){const z=(_0x9469d7.groups??[])[w(310)](g=>g.id===_0x50576c);if(!z)return;for(const g of _0x167b3f)z[w(223)].includes(g)||z.flowerIds.push(g)}else i({kind:b[w(189)],flowerIds:[y]})},[a,i]);return{deleteFlowerById:C,deleteLayerById:j,computeNewOuterRadius:A,addOuterLayer:B,deleteOuterLayer:O,deleteSelected:q,groupSelectedFlowers:E,ungroupFlowers:K,addToGroup:V,mergeGroups:R,addStencil:H,deleteStencil:Q,handleShiftFlowerSelect:ne,togglePetalSelection:(y,w,z,g)=>{const M=D;if(b[M(186)](b[M(256)],M(269))){if(!g){b.KBzrI(i,{kind:"petal",flowerId:y,layerId:w,index:z});return}const T=w+":"+z;if(a[M(187)]==="petals"&&a.flowerId===y){const k=a.petals||[];if(k[M(313)](Y=>Y[M(245)]+":"+Y[M(291)]===T)){const Y=k.filter(N=>N.layerId+":"+N.index!==T);Y[M(305)]===0?b.pPUsK(i,{kind:"flower",flowerId:y}):b.IHTZo(Y[M(305)],1)?i({kind:b.zLbmO,flowerId:y,layerId:Y[0].layerId,index:Y[0][M(291)]}):b.vDbLQ(i,{kind:M(240),flowerId:y,petals:Y})}else b[M(188)]!==b.zduAX?_0x2567e4({kind:"project"}):b.vnBuE(i,{kind:b.jIkRV,flowerId:y,petals:[...k,{layerId:w,index:z}]})}else if(a.kind===M(303)&&a.flowerId===y)if(b[M(215)](M(296),b[M(200)])){b[M(265)](_0x8db8a,_0x310b32.leafGroupId);return}else{const k={layerId:a[M(245)],index:a[M(291)]},I={layerId:w,index:z};if(b[M(261)](k.layerId+":"+k.index,T))return;i({kind:b.jIkRV,flowerId:y,petals:[k,I]})}else b[M(226)](i,{kind:"petals",flowerId:y,petals:[{layerId:w,index:z}]})}else if(_0x305494[M(243)]=_0x177e67.flowers.filter(T=>T.id!==_0xea6e9c.flowerId),_0x4a807c.groups){for(const T of _0xcce4d5[M(242)])T.flowerIds=T.flowerIds[M(259)](k=>k!==_0x3298ae[M(270)]);_0x169883[M(242)]=_0x27bc54.groups[M(259)](T=>T.flowerIds.length>0)}}}}function Hc(){const c=["rwL1yM8","qLLmwfC","A2LUza","EMr1qvG","tM14v1G","C3rLBMnPBhm","44kW44oR44o844oxia","C2nHBgu","tNnjChi","Bvb2AwC","t1jVwvu","Bgf5zxjZ","uuHcsha","mZmYAMXuu09o","y3foqLu","u3vtqLO","vvrfzva","zwDjuK0","q2PUtee","BgvHzKDYB3vW","kcGOlISPkYKRksSK","ANfHDxq","zMfMww4","t3D2AfC","zMXVD2vY","y0zACe4","uur6CgG","B2zNzhG","nJa0mteYnNPMvvz6wa","mteWndu0mMjcwwjfDW","CKH3Ahq","zMPQDNu","EMjnwem","wvP0AeK","y29UC3rYDwn0B3i","C29YDa","CxbxuuC","mJy5mtbTEKXdzu4","zMXVD2vYswrZ","zxDczwK","qunqCvK","CfbvC0S","5lI444gK44g+44g/","BgvHzKDYB3vWswq","tuT4Cue","CgXHy2vTzw50tw9Kzq","s0j6CKK","ChjVAMvJDa","C3rLBMnPBeLK","CgnHs1O","u3jYtxa","rLbkCLi","B2zMC2v0qw5NBgu","t1fTCKG","BwfW","Cgv0ywXZ","vg5cDeW","z3jVDxbZ","zMXVD2vYCW","ChvZAa","Bgf5zxjjza","yxbWBhK","Cgv0ywXuExbL","Dw5ZAgLMDa","Aw5JBhvKzxm","B3jKzxi","tgL3tM8","D1bnuhm","BgvHzKLKCW","ufLLDgW","BgrhqM0","B0rUrLK","yKfMre8","Cfr1swC","zMLSDgvY","Bu5mvLm","wwTeuKy","BgvHzKDYB3vWCW","Bgf5","C2vHCMnO","Exn5t1C","AgvPz2H0","nte2nJzKExfotKS","CMv2zxjZzq","senkzNe","zMXVD2vYswq","otuYoty0B3Diy1jV","DM5cDuu","uhHRDK8","CvzJBeK","C3rLBMnPBa","C2XPy2u","t3v0zxiR","ELzgqxy","Aw5TwKi","CvPbuw8","BuvHrw0","BgHZqMK","rg9VDLK","CLDkyMK","BMzWzuu","z3jVDxbjza","zM9YrwfJAa","sMrqBKq","mJi4mZa1ndn4vuzoCfO","nty1oty1EMfVsMff","Aw5KzxG","zMfICMLJu3f1yxjLu2L6zq","r2nXDeq","sgj4qLG","CMfKAxvZ","Dw5Ot3G","CM91BMq","yMfJAW","vLLTELm","yMfZzurPyw1LDgvY","zgLHBwv0zxi","yvfeveG","Cgv0ywW","Dg9tDhjPBMC","BgvUz3rO","Cgv0ywXdB3vUDa","Dw5PzM9YBq","z3jW","z3jVDxa","zMLUza","BxPjv1O","Bg9MD2u","C29Tzq","ENrMuuu","D1P4DLi","BgvHDMvZ","BMfTzq","zMXVD2vYrgLHBwv0zxi","ohP4qK9cCG","DgvsDg0","DKrItfe","wunvA3K"];return Hc=function(){return c},Hc()}(function(c,r){const a=Jt,i=c();for(;;)try{if(parseInt(a(432))/1+-parseInt(a(456))/2*(-parseInt(a(450))/3)+-parseInt(a(445))/4*(parseInt(a(468))/5)+parseInt(a(448))/6+-parseInt(a(425))/7+parseInt(a(444))/8+-parseInt(a(441))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Yc,572936);const ab=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Lx=ab(void 0,function(){const c=Jt;return Lx.toString()[c(434)](c(443)).toString()[c(463)](Lx)[c(434)]("(((.+)+)+)+$")});Lx();function Jt(c,r){c=c-425;const a=Yc();let i=a[c];if(Jt.QWMCPV===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Jt.IzMOyt=o,Jt.nlCvQY={},Jt.QWMCPV=!0}const f=a[0],m=c+f,_=Jt.nlCvQY[m];if(_)i=_;else{const h=function(d){this.qQBmHp=d,this.ZtcELo=[1,0,0],this.diQLgX=function(){return"newState"},this.oJWQUk="\\w+ *\\(\\) *{\\w+ *",this.aBlZge=`['|"].+['|"];? *}`};h.prototype.fFsMqD=function(){const d=new RegExp(this.oJWQUk+this.aBlZge),v=d.test(this.diQLgX.toString())?--this.ZtcELo[1]:--this.ZtcELo[0];return this.VXqunM(v)},h.prototype.VXqunM=function(d){return~d?this.yfPnyO(this.qQBmHp):d},h.prototype.yfPnyO=function(d){for(let v=0,p=this.ZtcELo.length;v<p;v++)this.ZtcELo.push(Math.round(Math.random())),p=this.ZtcELo.length;return d(this.ZtcELo[0])},new h(Jt).fFsMqD(),i=Jt.IzMOyt(i),Jt.nlCvQY[m]=i}return i}function ib({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:_}){const h=Jt,d={hLJIm:h(454),YMbVO:"fRkaJ",Ntica:function(B,O){return B/O},TrNYS:function(B,O){return B*O},kpBfv:function(B,O){return B/O},EoEfK:function(B,O){return B<O},gLFIr:function(B,O,q,E){return B(O,q,E)},SUXkr:function(B,O){return B(O)},KWEQV:"col_green",fOZJB:function(B,O,q){return B(O,q)},sNaSr:"VKOIh",OnupR:"leaves",Jhgqb:function(B,O){return B===O},FQvHz:"VqDaH",QBTYW:function(B,O){return B(O)},UhbhJ:h(459),igFco:h(470),gzYAe:function(B,O){return B===O},EAYLP:function(B,O){return B(O)},IHeJP:function(B,O){return B+O},calHA:function(B,O){return B===O},fgjlA:function(B,O,q){return B(O,q)},JmdJa:function(B,O,q){return B(O,q)},YrQgr:function(B,O,q){return B(O,q)}},v=()=>{const B=h;if(d.hLJIm!==d.YMbVO){const O=m.w/m.h,q=d.Ntica(520,o),E=d.TrNYS(q,O),K=-f.x/o,V=d.Ntica(-f.y,o);let R=K+E/2,H=V+d.kpBfv(q,2),Q=0;for(;d.EoEfK(Q,50)&&(c.leaves??[]).some(P=>Math[B(433)](P[B(431)].x-R)<5&&Math[B(433)](P[B(431)].y-H)<5);)R+=25,H+=25,R=d[B(469)](Ce,R,0,_),H=Ce(H,0,_),Q++;const ne={id:d.SUXkr(Yt,"leaf"),name:B(428)+((c[B(451)]??[]).length+1),position:{x:R,y:H},rotation:135,petalType:"",colorId:c.palette?.find(P=>P.id===B(461)||P.id==="col_darkgreen")?.id??c[B(439)]?.[0]?.id??d[B(449)],scale:1,widthScale:1,visible:!0,locked:!1};d.fOZJB(r,P=>{const y=B;P.leaves||(P.leaves=[]),P[y(451)][y(442)](ne)},!0),i({kind:"leaf",leafId:ne.id})}else _0xf1d5d7({kind:"leaves",leafIds:_0x37b4d9})},p=B=>{const O=h;r(q=>{const E=Jt;if(d[E(464)]===d.sNaSr){if(q[E(451)]=(q[E(451)]??[]).filter(K=>K.id!==B),q[E(427)]){for(const K of q.leafGroups)K.leafIds=K.leafIds[E(460)](V=>V!==B);q[E(427)]=q.leafGroups.filter(K=>K[E(465)][E(462)]>0)}}else _0x126844.leaves||(_0x1a6a7b.leaves=[]),_0x4170f6[E(451)][E(442)](_0x1099e0)},!0),i({kind:O(459)})},D=d[h(429)](F.useCallback,B=>{const O=h;if(a[O(437)]===d.OnupR){const q=a[O(465)];if(q[O(438)](B)){const E=q.filter(K=>K!==B);d.Jhgqb(E[O(462)],0)?d[O(452)]!==O(436)?_0x550955({kind:d.OnupR,leafIds:[..._0x58eeb8,_0x5ea5d0]}):d.QBTYW(i,{kind:d.UhbhJ}):d.Jhgqb(E[O(462)],1)?i({kind:d[O(446)],leafId:E[0]}):d.SUXkr(i,{kind:O(451),leafIds:E})}else i({kind:d.OnupR,leafIds:[...q,B]})}else if(d[O(440)](a.kind,d.igFco)){if(d[O(447)](a.leafId,B))return;i({kind:O(451),leafIds:[a[O(426)],B]})}else d[O(467)](i,{kind:"leaves",leafIds:[B]})},[a,i]),b=d[h(455)](F.useCallback,B=>{const O=h,q=Yt("lg"),E=O(453)+d.IHeJP((c.leafGroups??[]).length,1);d[O(457)](r,K=>{const V=O;K[V(427)]||(K[V(427)]=[]),K.leafGroups.push({id:q,name:E,leafIds:[...B],rotation:0})},!0),i({kind:O(466),leafGroupId:q})},[c.leafGroups,r,i]),A=d.YrQgr(F.useCallback,B=>{const O=h;r(q=>{const E=Jt;q[E(427)]&&(q[E(427)]=q[E(427)].filter(K=>K.id!==B))},!0),i({kind:O(459)})},[r,i]),C=d.YrQgr(F.useCallback,(B,O)=>{d.fOZJB(r,q=>{const E=Jt;if(d.calHA("grHyP","grHyP")){const K=(q[E(427)]??[])[E(430)](V=>V.id===O);K&&!K.leafIds[E(438)](B)&&K.leafIds.push(B)}else QWpDck[E(458)](_0x3975fe,K=>{const V=E;K.leafGroups&&(K.leafGroups=K.leafGroups[V(460)](R=>R.id!==_0x36e6bf))},!0),QWpDck.CGkQq(_0x3855c8,{kind:E(459)})},!0)},[r]),j=F.useCallback(B=>{d.JmdJa(r,O=>{const q=Jt;if(O[q(427)]){for(const E of O[q(427)])E[q(465)]=E[q(465)].filter(K=>K!==B);O[q(427)]=O.leafGroups[q(460)](E=>E.leafIds.length>0)}},!0)},[r]);return{addLeaf:v,deleteLeafById:p,handleShiftLeafSelect:D,groupSelectedLeaves:b,ungroupLeaves:A,addLeafToGroup:C,removeLeafFromGroup:j}}function Yc(){const c=["mtG1mM1UAvvyuW","AwDgy28","z3Pzqwu","mtaZmJy0mMLkAMTJBa","s1Dfuvy","mJm4ndeXnu5dCvzIwG","BgvHDMvZ","rLf2shO","6jgj44kW44oR44o844oxia","rfL3Aum","wxjrz3i","mM93u2fKyW","zK9AsKi","Bhbbzey","ChjVAMvJDa","zMLSDgvY","y29Sx2DYzwvU","BgvUz3rO","y29UC3rYDwn0B3i","C05Hu3i","BgvHzKLKCW","BgvHzKDYB3vW","rufztfa","nZKXmernsK5YrW","z0Xgsxi","BgvHzG","mJyXmteWnu5qzMvmzW","BgvHzKLK","BgvHzKDYB3vWCW","tgvHzIa","sM1KsMe","zMLUza","Cg9ZAxrPB24","odmWmZy1swnxAw51","ywjZ","C2vHCMnO","zMDQBee","vNfeyuG","A2LUza","Aw5JBhvKzxm","CgfSzxr0zq","sMHNCwi","mteYmJe3mtneqK5lEwG","ChvZAa","kcGOlISPkYKRksSK","otaYndC3nNf2Cvjfvq"];return Yc=function(){return c},Yc()}(function(c,r){const a=An,i=c();for(;;)try{if(-parseInt(a(372))/1*(-parseInt(a(337))/2)+parseInt(a(397))/3+parseInt(a(362))/4+parseInt(a(354))/5+parseInt(a(352))/6+parseInt(a(346))/7+-parseInt(a(388))/8*(parseInt(a(384))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ic,806172);function Ic(){const c=["Cwn2A1C","C2L6zvn0zxbnBq","B3rOuKS","D0Hts0S","nZq0ndi1nenbwwr3Bq","q1r4tw0","mJq3mdKWmgTsvgrLtG","BgvUz3rO","vw9mywG","r1nxvK4","CMfKAxvZ","CffcDMq","kcGOlISPkYKRksSK","B3jKzxi","ntGYmJe0ngPRrezmsa","Dg9tDhjPBMC","q0fSrxC","BLLSDgS","5lI444gK44g+44g/","ywjZ","rMXVD2vYia","EejKuhm","svnbwha","Cffvteu","mw9rtK9SEa","zMXVD2vYCW","C2L6zu1Vzgu","q2vUDgvY","zxLLB1u","DMD5zMm","zNfJq2S","y29Z","zwXnAxu","qwn2BM0","rMX3t0i","C2nHBgu","ndqZmdy4odnYzLPprMG","5y2k44gp44gz","BwvIqwS","ywv3A00","ohHwyMLOtW","C2vHCMnO","y29SB3jjza","Bgf5zxjdB3vUDa","B1bwEha","zMXVD2vYrgLHBwv0zxi","tMHHBvO","uxLKBvq","Dw5PzM9YBq","mJqZmZiXm1zIren0Aq","ChvZAa","AML2uMW","mtiZmtqXngPlsKLUva","zMfICMLJu3f1yxjLu2L6zq","yMfZzurPyw1LDgvY","t2rrCMK","zgLHBwv0zxi","EMfPD3m","CfPoALK","tgf5zxiG","zMXVD2vY","nZC4mZy5mLbLv2nUua","Cg9ZAxrPB24"];return Ic=function(){return c},Ic()}const rb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Tx=rb(void 0,function(){const c=An,r={xFZIA:c(360)};return Tx[c(363)]().search("(((.+)+)+)+$")[c(363)]().constructor(Tx)[c(389)](r.xFZIA)});Tx();function An(c,r){c=c-336;const a=Ic();let i=a[c];if(An.HdXUiK===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};An.bpRVID=o,An.Zzvhmh={},An.HdXUiK=!0}const f=a[0],m=c+f,_=An.Zzvhmh[m];if(_)i=_;else{const h=function(d){this.osWRMs=d,this.OwEjrD=[1,0,0],this.tqbjhF=function(){return"newState"},this.YdpGbV="\\w+ *\\(\\) *{\\w+ *",this.HgxNgZ=`['|"].+['|"];? *}`};h.prototype.XswmOo=function(){const d=new RegExp(this.YdpGbV+this.HgxNgZ),v=d.test(this.tqbjhF.toString())?--this.OwEjrD[1]:--this.OwEjrD[0];return this.OBlBJb(v)},h.prototype.OBlBJb=function(d){return~d?this.PapkBY(this.osWRMs):d},h.prototype.PapkBY=function(d){for(let v=0,p=this.OwEjrD.length;v<p;v++)this.OwEjrD.push(Math.round(Math.random())),p=this.OwEjrD.length;return d(this.OwEjrD[0])},new h(An).XswmOo(),i=An.bpRVID(i),An.Zzvhmh[m]=i}return i}function cb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:_}){const h=An,d={QydmT:h(385),oPVxp:function(j,B){return j===B},UoLah:function(j,B,O,q){return j(B,O,q)},zaiws:function(j,B){return j*B},fqcCk:function(j,B){return j===B},jivRl:h(382),pQULE:function(j,B){return j*B},WqLqC:"Inner",NdcLL:"Outer",FlSbo:function(j,B){return j<B},ISAXp:function(j,B){return j/B},OdQri:function(j,B,O,q){return j(B,O,q)},pQBvd:function(j,B){return j===B},ioCmX:"gradual",GSWVN:function(j,B){return j+B},CAlEw:function(j,B){return j-B},pZNjY:function(j,B){return j/B},Acvnm:function(j,B){return j/B},BWuRa:function(j,B){return j<=B},kltSZ:function(j,B){return j===B},xyWUw:h(394),nYltk:h(348),YOQVP:"lay",vgyfc:function(j,B){return j(B)},xBdPs:function(j,B){return j===B},tgrqv:function(j,B){return j/B},wHSKK:function(j,B){return j/B},IOjzw:function(j,B){return j/B},elMiu:function(j,B){return j<B},lObfq:"flw",WFJtw:"",othRK:function(j,B){return j===B},eyeoU:h(366),YsSLP:h(396)},[v,p]=F.useState(!1),[D,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d[h(376)],sizeMode:d.YsSLP,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:v,setShowAddFlowerDialog:p,addFlowerOpts:D,setAddFlowerOpts:b,addFlower:()=>{const j=h,B=c[j(338)],O=c[j(339)];b(q=>{const E=j,K={...q,fabricSquareSize:B,baseDiameter:O};return K.placementMode===d[E(395)]?d[E(392)](E(387),E(353))?_0x566c0e[E(373)].push(_0x56cd4f):K[E(393)]=d[E(356)](Kl,O,B,{layerCount:K.layerCount,sizeMode:K[E(374)],sizeStepMm:K.sizeStepMm})[E(341)]:K[E(393)]=tr(B,K[E(391)],K[E(374)],K[E(349)]),K}),p(!0)},confirmAddFlower:()=>{const j=h,B={mebAk:function(O,q,E,K){return d.UoLah(O,q,E,K)},XPhod:function(O,q){return O+q},hwcUV:function(O,q){return d[An(342)](O,q)}};if(d[j(378)](d[j(336)],"FlwOB")){const{placementMode:O,layerCount:q,petalCount:E,petalType:K,sizeMode:V,sizeStepMm:R}=D,H=D.fabricSquareSize,{length:Q}=Nt(H),ne=.28,P=Math.round(d[j(371)](Q,ne)*10)/10,y=[],w=[j(375),d.WqLqC,"Middle",d.NdcLL,"Outer+"];let z=P,g=0;for(let he=0;d.FlSbo(he,q);he++){const je=he,oe=1;let Ne;if(V===j(396))Ne=oe;else{const tt=d.ISAXp(R,H);Ne=d.OdQri(Ce,oe+je*tt,.3,3)}let ke;if(d.fqcCk(he,0))ke=P;else{const tt=d.pQBvd(V,d.ioCmX)?Ce(d[j(357)](1,d.zaiws(d[j(364)](he,1),R)/H),.3,3):1,ft=Q*tt;let it;if(d[j(359)](O,d[j(395)])){const dt=d.pZNjY(70*Math.PI,180),Ue=q>1?d.zaiws(d[j(381)](he,d[j(364)](q,1)),dt):0,Bt=Math[j(379)](Ue);it=ft*d[j(343)](30,100)*Bt}else it=ft/3;z=z+it,ke=Math.round(d[j(342)](z,10))/10}const et=he===0?0:Vn(E,g,E);g=et;let We;if(q===1)We="Layer";else if(d.BWuRa(q,5)){const tt=q===2?[0,3]:q===3?[0,1,3]:d.kltSZ(q,4)?[0,1,2,3]:[0,1,2,3,4];We=w[tt[he]]??"Layer "+(he+1)}else d.xyWUw===d[j(365)]?_0xa7e962=_0xd25d6d:We=j(344)+(he+1);y[j(398)]({id:Yt(d.YOQVP),name:We,order:q-he,petalType:K,petalCount:E,radius:ke,scale:Ne,widthScale:d.vgyfc(ni,E),offsetAngle:et,colorId:D[j(390)]||(c.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}y.reverse();const M=[...y].sort((he,je)=>he.order-je[j(361)]),T=d[j(369)](O,"")?Kl(D[j(339)],H,{layerCount:q,sizeMode:V,sizeStepMm:R}).diameter:tr(H,q,V,R);d[j(340)](Uc,M,H,D[j(393)]||T);for(const he of M){const je=y.find(oe=>oe.id===he.id);je&&(je[j(358)]=he.radius,je[j(383)]=he[j(383)])}const k=d.pZNjY(m.w,m.h),I=d[j(370)](520,o),Y=I*k,N=d.tgrqv(-f.x,o),G=-f.y/o;let U=d.GSWVN(N,d[j(351)](Y,2)),X=G+d.IOjzw(I,2);const ie=25;let se=0;for(;d[j(380)](se,50)&&c.flowers.some(he=>Math.abs(he[j(347)].x-U)<5&&Math[j(367)](he.position.y-X)<5);)U+=ie,X+=ie,U=d[j(340)](Ce,U,0,_),X=Ce(X,0,_),se++;const fe=D[j(393)]||T,ye={id:d[j(377)](Yt,d.lObfq),name:j(368)+d[j(357)](c[j(373)][j(355)],1),position:{x:U,y:X},flowerDiameter:fe,rotation:0,layers:y,center:{type:d.WFJtw,size:6,color:"col_white"},fabricSquareSize:H,placementMode:O,baseDiameter:d[j(350)](O,d.QydmT)?D.baseDiameter:Fi(fe)};r(he=>{const je=j;he.flowers[je(398)](ye)},!0),d.vgyfc(a,{kind:j(345),flowerId:ye.id}),d.vgyfc(i,he=>({...he,[ye.id]:!0})),d.vgyfc(p,!1)}else{const O=_0x5823c5/_0x1ec33b;_0x2ff51e=B[j(386)](_0x4e7c23,B.XPhod(_0x3765e7,B.hwcUV(_0x25a09,O)),.3,3)}}}}(function(c,r){const a=Ln,i=c();for(;;)try{if(-parseInt(a(478))/1*(-parseInt(a(457))/2)+-parseInt(a(480))/3+parseInt(a(452))/4+-parseInt(a(440))/5*(parseInt(a(444))/6)+parseInt(a(482))/7+-parseInt(a(466))/8+-parseInt(a(462))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Zc,459526);function Zc(){const c=["zhPPvLK","zMLSDgvY","EKnsrgG","zLPKAei","mZKXmJKZBLHLBMHS","z3jVDxbZ","z3jVDxbjza","CLPyDwG","mte3odiZmKPHwe9IEa","rwrhsuu","Aw5JBhvKzxm","BgvHzKDYB3vWCW","CeHHs0u","sejQAei","C3rLBMnPBeLK","Cgv0ywXZ","vermBLi","BKjvz2W","vfD6vKy","BgvHzKDYB3vW","m1jZwwzPqG","zMXVD2vYswrZ","mZK1mJjHqLjdsNK","Cgv0ywW","mJuYntuYm2HirhPbsa","kcGOlISPkYKRksSK","BgvHzKLK","mtm1nJC4nxfoA0Howq","A2LUza","q01kDNe","BgvHzKDYB3vWswq","nKnOvKD3va","BMLADfG","BgvHzKLKCW","yxbWBhK","zgLjqu4","C2vHCMnO","uNLytxi","zMXVD2vYCW","mtKWmti4nener0nzrG","BgvHzG","zMLUza","Aw5KzxG","Dg9tDhjPBMC","nJu4mdjYCMXnCxq"];return Zc=function(){return c},Zc()}const ub=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Ln;if(a){const f=a[o(447)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Ex=ub(void 0,function(){const c=Ln,r={RyXMr:c(483)};return Ex[c(456)]()[c(449)](c(483))[c(456)]().constructor(Ex)[c(449)](r[c(450)])});Ex();function Ln(c,r){c=c-439;const a=Zc();let i=a[c];if(Ln.apIAJv===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",p="",D=v+o;for(let b=0,A,C,j=0;C=h.charAt(j++);~C&&(A=b%4?A*64+C:C,b++%4)?v+=D.charCodeAt(j+10)-10!==0?String.fromCharCode(255&A>>(-2*b&6)):b:0)C=d.indexOf(C);for(let b=0,A=v.length;b<A;b++)p+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(p)};Ln.txacqZ=o,Ln.craWoO={},Ln.apIAJv=!0}const f=a[0],m=c+f,_=Ln.craWoO[m];if(_)i=_;else{const h=function(d){this.ZayIZt=d,this.SkvQpv=[1,0,0],this.wRFTpI=function(){return"newState"},this.KWzRPf="\\w+ *\\(\\) *{\\w+ *",this.AkApXq=`['|"].+['|"];? *}`};h.prototype.puBzzv=function(){const d=new RegExp(this.KWzRPf+this.AkApXq),v=d.test(this.wRFTpI.toString())?--this.SkvQpv[1]:--this.SkvQpv[0];return this.pdtjXm(v)},h.prototype.pdtjXm=function(d){return~d?this.TWAarx(this.ZayIZt):d},h.prototype.TWAarx=function(d){for(let v=0,p=this.SkvQpv.length;v<p;v++)this.SkvQpv.push(Math.round(Math.random())),p=this.SkvQpv.length;return d(this.SkvQpv[0])},new h(Ln).puBzzv(),i=Ln.txacqZ(i),Ln.craWoO[m]=i}return i}function xb(c,r){const a=Ln,i={fZdhB:function(C,j){return C===j},diIAN:function(C,j){return C===j},TKBLQ:a(473),HBjhB:a(451),aKSQg:"group",BKiLy:function(C,j){return C===j},ATfUv:a(458),RcAZl:function(C,j){return C===j},niZtX:a(477),pHaKE:function(C,j){return C===j},CMJvq:"tjpar",rZXuh:function(C,j){return C===j},TDLnR:"layer",TWzVF:a(481),gfSAY:function(C,j){return C===j},zCRDh:function(C,j,B){return C(j,B)},PzPPQ:function(C,j,B){return C(j,B)},nBUgl:"stencil",EdGIE:function(C,j){return C===j},LwLhT:function(C,j,B){return C(j,B)}},o=i.zCRDh(F.useMemo,()=>{const C=a;return r[C(441)]==="flower"||i[C(461)](r.kind,"layer")||r[C(441)]===C(481)||i.diIAN(r[C(441)],i.TKBLQ)?c.flowers.find(j=>j.id===r.flowerId)??null:null},[c.flowers,r]),f=i[a(460)](F.useMemo,()=>{const C=a;if(i.BKiLy("EFyHl",i.ATfUv)){if(i.fZdhB(_0x2300a9.kind,i.HBjhB))return _0x3ba3c6.flowers.filter(j=>_0x4d8ab9.flowerIds[C(468)](j.id));if(_0x26c427.kind===i.aKSQg){const j=(_0x597dc1.groups??[]).find(B=>B.id===_0x46ddb4[C(464)]);if(j)return _0x3f824c[C(451)][C(459)](B=>j.flowerIds[C(468)](B.id))}return[]}else{if(r[C(441)]===C(451))return c.flowers[C(459)](j=>r[C(479)].includes(j.id));if(i.RcAZl(r.kind,"group")){const j=(c.groups??[])[C(454)](B=>B.id===r[C(464)]);if(j)return c.flowers.filter(B=>j.flowerIds.includes(B.id))}return[]}},[c.flowers,c[a(463)],r]),m=i[a(460)](F.useMemo,()=>{const C=a;return r.kind===C(453)?(c.leaves??[])[C(454)](j=>j.id===r.leafId)??null:null},[c.leaves,r]),_=i.PzPPQ(F.useMemo,()=>{const C=a;return i.BKiLy(r[C(441)],i.niZtX)?i[C(470)](i[C(442)],i[C(442)])?(c[C(469)]??[])[C(454)](j=>j.id===r[C(443)])??null:i.diIAN(_0x4b2b0d[C(441)],"leafGroup")?(_0x18f400.leafGroups??[])[C(454)](j=>j.id===_0x4389cf.leafGroupId)??null:null:null},[c[a(469)],r]),h=i.zCRDh(F.useMemo,()=>{const C=a;return o&&(r[C(441)]==="layer"||r[C(441)]===C(481))?o.layers[C(454)](j=>j.id===r.layerId)??null:null},[o,r]),d=r[a(441)]===i[a(476)]?r[a(455)]:null,v=i.rZXuh(r.kind,i.TKBLQ)?r[a(473)]:[],p=r.kind===i[a(475)]?(c.stencils??[])[a(454)](C=>C.id===r[a(472)])??null:null,D=r.kind==="flower"||i[a(467)](r.kind,i.TDLnR)||i[a(448)](r.kind,i.TWzVF)||i.pHaKE(r[a(441)],i.TKBLQ)?r.flowerId:null,b=i.zCRDh(F.useMemo,()=>{const C=a;if(r[C(441)]===i.aKSQg){const j=(c.groups??[])[C(454)](B=>B.id===r.groupId);if(j)return new Set(j.flowerIds)}if(i.diIAN(r.kind,i[C(471)]))return new Set(r.flowerIds);if(i[C(465)](r[C(441)],"flower")||r.kind===i[C(474)]||r[C(441)]===i[C(476)]||i.gfSAY(r[C(441)],i.TKBLQ)){const j=i[C(460)](fa,c,r.flowerId);if(j)return r[C(441)]==="flower"?new Set(j.flowerIds[C(459)](B=>B!==r.flowerId)):new Set(j.flowerIds)}return new Set},[r,c]),A=i.LwLhT(F.useMemo,()=>{const C=a;if(r[C(441)]===i[C(445)]){const j=(c.leafGroups??[])[C(454)](B=>B.id===r.leafGroupId);if(j)return new Set(j.leafIds)}if(r.kind==="leaf"){const j=Kc(c,r[C(439)]);if(j)return new Set(j[C(446)].filter(B=>B!==r[C(439)]))}return new Set},[r,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:_,selectedLayer:h,selectedPetalIndex:d,selectedPetals:v,selectedStencil:p,selectedFlowerId:D,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:A}}function sb(c){const{project:r,selection:a,setSelection:i,applyUpdate:o}=c,f=F.useMemo(()=>new Map((r.palette||[]).map(de=>[de.id,de])),[r.palette]),{widths:m,containerRef:_,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:v,isDesktop:p}=tb(),D=F.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,A]=F.useState({});F.useEffect(()=>{try{const ve=localStorage.getItem(D);if(ve){const Ye=JSON.parse(ve);if(Ye&&typeof Ye=="object"){A(Ye);return}}}catch{}const de=r.flowers?.[0];de&&A({[de.id]:!0})},[D]),F.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(b))}catch{}},[D,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;A(ve=>ve?.[de]?ve:{...ve,[de]:!0})}a.kind==="flowers"&&A(de=>{const ve={...de};for(const Ye of a.flowerIds)ve[Ye]=!0;return ve})},[a]);const C=de=>b?.[de]??!1,j=de=>A(ve=>({...ve,[de]:!(ve?.[de]??!1)})),B=F.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[O,q]=F.useState({});F.useEffect(()=>{try{const ve=localStorage.getItem(B);if(ve){const Ye=JSON.parse(ve);if(Ye&&typeof Ye=="object"){q(Ye);return}}}catch{}const de=r.groups??[];if(de.length>0){const ve={};for(const Ye of de)ve[Ye.id]=!0;q(ve)}},[B]),F.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(O))}catch{}},[B,O]);const E=de=>O?.[de]??!0,K=de=>q(ve=>({...ve,[de]:!(ve?.[de]??!0)})),V=F.useRef({flowerId:null,timer:null}),R=de=>{const ve=V.current.timer;ve&&window.clearTimeout(ve),V.current.flowerId=de,V.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:de}),A(Ye=>({...Ye,[de]:!0})),V.current.timer=null,V.current.flowerId=null},200)},H=de=>{const ve=V.current.timer;ve&&V.current.flowerId===de&&window.clearTimeout(ve),V.current.timer=null,V.current.flowerId=null,i({kind:"flower",flowerId:de}),j(de)},Q=F.useRef(null),[ne,P]=F.useState({w:520,h:520});F.useEffect(()=>{const de=Q.current;if(!de)return;const ve=new ResizeObserver(Ye=>{for(const Vt of Ye){const{width:pt,height:cn}=Vt.contentRect;pt>0&&cn>0&&P({w:pt,h:cn})}});return ve.observe(de),()=>ve.disconnect()},[]);const y=de=>{const ve=Q.current;if(!ve)return{x:0,y:0};const Ye=ve.createSVGPoint();Ye.x=de.clientX,Ye.y=de.clientY;const Vt=ve.getScreenCTM();if(!Vt)return{x:0,y:0};const pt=Ye.matrixTransform(Vt.inverse());return{x:pt.x,y:pt.y}},w=500*an,z=-300*an,g=800*an,M=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,k]=F.useState(6),[I,Y]=F.useState(M[6]),N=F.useCallback(de=>{k(ve=>{const Ye=typeof de=="function"?de(ve):de;return Y(M[Ye]),Ye})},[M]),G=F.useCallback(de=>{const ve=Ce(de,M[0],M[M.length-1]);Y(ve);let Ye=0,Vt=Math.abs(M[0]-ve);for(let pt=1;pt<M.length;pt++){const cn=Math.abs(M[pt]-ve);cn<Vt&&(Ye=pt,Vt=cn)}k(Ye)},[M]),[U,X]=F.useState({x:0,y:0}),[ie,se]=F.useState(!0),[fe,ye]=F.useState(!1),he=F.useRef(null),je=F.useMemo(()=>{const de=ne.w/ne.h,ve=520,Ye=ve*de;return(Vt,pt=I)=>{const cn=Ce(Vt.x,-(g*pt-Ye),-z*pt),ri=Ce(Vt.y,-(g*pt-ve),-z*pt);return{x:cn,y:ri}}},[ne,I,z,g]),oe=F.useMemo(()=>je(U),[U,je]),Ne=F.useCallback(de=>X(de),[]),ke=F.useMemo(()=>{const de=ne.w/ne.h,ve=520,Ye=ve*de,Vt=-oe.x/I,pt=-oe.y/I;return`${Vt} ${pt} ${Ye/I} ${ve/I}`},[I,oe,ne]),{addLeaf:et,deleteLeafById:We,handleShiftLeafSelect:tt,groupSelectedLeaves:ft,ungroupLeaves:it,addLeafToGroup:At,removeLeafFromGroup:dt}=ib({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:I,pan:oe,stageSize:ne,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:Ue,setShowAddFlowerDialog:Bt,addFlowerOpts:Wn,setAddFlowerOpts:vt,addFlower:Tn,confirmAddFlower:Pn}=cb({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:A,zoom:I,pan:oe,stageSize:ne,CANVAS_MAX_SVG:w}),{selectedFlower:rn,selectedFlowers:Zn,selectedLeaf:Ul,selectedLeafGroup:ha,selectedLayer:li,selectedPetalIndex:ut,selectedPetals:xe,selectedStencil:pe,selectedFlowerId:Te,groupHighlightedFlowerIds:_e,leafGroupHighlightedLeafIds:ze}=xb(r,a),{deleteFlowerById:qt,deleteLayerById:Oe,addOuterLayer:we,deleteOuterLayer:gt,deleteSelected:at,groupSelectedFlowers:nt,ungroupFlowers:Xe,addToGroup:Je,mergeGroups:Xl,addStencil:Lt,deleteStencil:Qt,handleShiftFlowerSelect:jt,togglePetalSelection:yt}=lb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:A,setExpandedGroups:q,zoom:I,pan:oe,stageSize:ne,CANVAS_MAX_SVG:w,deleteLeafById:We,ungroupLeaves:it}),Le=cm({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:c.dragRef,zoom:I,pan:oe,setPan:Ne,stageRef:Q,clientToSvgPoint:y,togglePetalSelection:yt}),[ai,rr]=F.useState(0),gn=a.kind,ii=gn==="flower"?a.flowerId:null,cr=gn==="flowers"?a.flowerIds?.join(","):null,ur=gn==="layer"||gn==="petal"?a.layerId:null,Kn=gn==="petal"?a.index:null,Mt=gn==="petals"?a.petals?.length:null;F.useEffect(()=>{gn!=="project"&&rr(Date.now())},[gn,ii,cr,ur,Kn,Mt]),F.useEffect(()=>{if(!he.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const ve=he.current.querySelector(`[data-flower-id="${de}"]`);ve&&ve.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const It=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[ai]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:_,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${m.left}%`}:void 0,children:x.jsx(xm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:A,isExpanded:C,toggleExpanded:j,scheduleFlowerRowClick:R,handleFlowerRowDoubleClick:H,addFlower:Tn,deleteSelected:at,addOuterLayer:we,deleteOuterLayer:gt,deleteFlowerById:qt,deleteLayerById:Oe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:he,groups:r.groups??[],expandedGroups:O,isGroupExpanded:E,toggleGroupExpanded:K,onSelectGroup:de=>i({kind:"group",groupId:de}),onUngroupFlowers:Xe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>i({kind:"leafGroup",leafGroupId:de}),onAddLeaf:et,onDeleteLeaf:We})}),x.jsx(Zd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:v}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Bm,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Te,zoom:I,setZoom:G,zoomLevel:T,setZoomLevel:N,ZOOM_LEVELS:M,pan:oe,panRaw:U,setPan:Ne,showGrid:ie,setShowGrid:se,showHelp:fe,setShowHelp:ye,stageRef:Q,viewBox:ke,dashSyncToken:ai,dashDelay:It,beginPan:Le.beginPan,updatePan:Le.updatePan,endPan:Le.endPan,beginMarquee:Le.beginMarquee,updateMarquee:Le.updateMarquee,endMarquee:Le.endMarquee,marqueeRef:Le.marqueeRef,marqueeRect:Le.marqueeRect,beginFlowerDrag:Le.beginFlowerDrag,updateFlowerDrag:Le.updateFlowerDrag,endFlowerDrag:Le.endFlowerDrag,scaleDragRef:Le.scaleDragRef,beginScaleDrag:Le.beginScaleDrag,updateScaleDrag:Le.updateScaleDrag,endScaleDrag:Le.endScaleDrag,rotationDragRef:Le.rotationDragRef,beginRotationDrag:Le.beginRotationDrag,updateRotationDrag:Le.updateRotationDrag,endRotationDrag:Le.endRotationDrag,widthScaleDragRef:Le.widthScaleDragRef,beginWidthScaleDrag:Le.beginWidthScaleDrag,updateWidthScaleDrag:Le.updateWidthScaleDrag,endWidthScaleDrag:Le.endWidthScaleDrag,radiusDragRef:Le.radiusDragRef,beginRadiusDrag:Le.beginRadiusDrag,updateRadiusDrag:Le.updateRadiusDrag,endRadiusDrag:Le.endRadiusDrag,togglePetalSelection:yt,clientToSvgPoint:y,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Lt,onDeleteStencil:Qt,onSelectStencil:de=>i({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:jt,groupHighlightedFlowerIds:_e,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:ze,onSelectLeaf:de=>i({kind:"leaf",leafId:de}),onShiftSelectLeaf:tt})}),x.jsx(Zd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:v}),x.jsx("div",{className:"min-w-0 shrink-0",style:p?{width:`${m.right}%`}:void 0,children:x.jsx(Vm,{project:r,selection:a,applyUpdate:o,selectedFlower:rn,selectedFlowers:Zn,selectedLayer:li,selectedPetalIndex:ut,selectedPetals:xe,selectedStencil:pe,onDeleteStencil:Qt,groups:r.groups??[],onGroupFlowers:nt,onUngroupFlowers:Xe,onAddToGroup:Je,onMergeGroups:Xl,selectedLeaf:Ul,selectedLeafGroup:ha,leafGroups:r.leafGroups??[],onDeleteLeaf:We,onGroupLeaves:ft,onUngroupLeaves:it,onAddLeafToGroup:At,onRemoveLeafFromGroup:dt})})]}),Ue&&x.jsx(Fm,{palette:r.palette,addFlowerOpts:Wn,setAddFlowerOpts:vt,onConfirm:Pn,onCancel:()=>Bt(!1)}),fe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>ye(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>ye(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,ve])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:ve})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function ob({cg:c}){const[r,a]=F.useState("w"),[i,o]=F.useState(""),f=c.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function fb(c){const{recipe:r}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(ob,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function db(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function hb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function mb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function bb(){const[c,r]=F.useState("home"),[a,i]=F.useState([]),[o,f]=F.useState(null),[m,_]=F.useState({kind:"project"}),[h,d]=F.useState([]),[v,p]=F.useState(0),D=F.useRef(o),b=F.useRef(h),A=F.useRef(v);F.useEffect(()=>{D.current=o},[o]),F.useEffect(()=>{b.current=h},[h]),F.useEffect(()=>{A.current=v},[v]);const C=F.useRef(null),j=F.useRef(null),B=F.useRef(null),O=F.useRef(null),[q,E]=F.useState(null);F.useEffect(()=>{const Y=q?window.setTimeout(()=>E(null),2200):null;return()=>{Y&&window.clearTimeout(Y)}},[q]),F.useEffect(()=>{i(er())},[]);function K(Y){const N=JSON.stringify(Y);d([N]),p(0)}function V(Y,N=!0){if(!N){f(je=>{if(!je)return je;const oe=Hl(je);return Y(oe),oe.updatedAt=Cc(),oe});return}const G=D.current;if(!G)return;const U=Hl(G);Y(U),U.updatedAt=Cc(),f(U);const X=b.current,ie=A.current;if(X.length===0){K(U);return}const se=JSON.stringify(U);let ye=[...X.slice(0,ie+1),se];const he=50;ye.length>he&&(ye=ye.slice(ye.length-he)),d(ye),p(ye.length-1)}function R(){p(Y=>{if(Y<=0)return Y;const N=Y-1,G=b.current[N];return G&&f(oa(JSON.parse(G))),E("Undo"),N})}function H(){p(Y=>{if(Y>=b.current.length-1)return Y;const N=Y+1,G=b.current[N];return G&&f(oa(JSON.parse(G))),E("Redo"),N})}function Q(){if(!o)return;const Y=K2(o);i(er()),E(Y?"Saved":" ")}function ne(){if(!o)return;const Y=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),N=URL.createObjectURL(Y),G=document.createElement("a");G.href=N,G.download=`${o.title||"tsumami"}.json`,G.click(),URL.revokeObjectURL(N),E("JSON exported")}function P(Y){const N=new FileReader;N.onload=()=>{try{const G=JSON.parse(String(N.result??""));if(!G||typeof G!="object"||!Array.isArray(G.flowers))throw new Error("Invalid JSON");const U=oa(G);f(U),_({kind:"project"}),K(U),r("editor"),E("Imported")}catch{E("Import failed")}},N.readAsText(Y)}function y(Y){const N=oa(Y);f(N),_({kind:"project"}),K(N),r("editor")}function w(Y){return Y&&(Y.kind==="flower"||Y.kind==="layer"||Y.kind==="petal")?Y.flowerId:null}function z(){if(!o)return;const Y=w(m);if(!Y)return;const N=o.flowers.find(G=>G.id===Y);N&&(j.current=Hl(N),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:N},null,2)).catch(()=>{}),E("Flower copied"))}function g(){if(!o||m.kind!=="leaf")return;const Y=(o.leaves??[]).find(N=>N.id===m.leafId);Y&&(B.current=Hl(Y),E("Leaf copied"))}function M(){if(!o)return;const Y=j.current;if(!Y){E("Nothing to paste");return}const N=O2(Y,{x:12+Math.random()*10,y:12+Math.random()*10});V(G=>{G.flowers.push(N)},!0),_({kind:"flower",flowerId:N.id}),E("Flower pasted")}function T(){if(!o)return;const Y=B.current;if(!Y)return;const N=Yt("leaf"),G={...Hl(Y),id:N,name:Y.name+" (copy)",position:{x:Y.position.x+30,y:Y.position.y+30}};V(U=>{U.leaves||(U.leaves=[]),U.leaves.push(G)},!0),_({kind:"leaf",leafId:G.id}),E("Leaf pasted")}function k(Y){if(!o)return;const N=w(m);N&&(V(G=>{const U=G.flowers.findIndex(fe=>fe.id===N);if(U<0)return;const X=G.flowers,ie=X[U];if(!ie)return;if(X.splice(U,1),Y==="front"){X.push(ie);return}if(Y==="back"){X.unshift(ie);return}if(Y==="forward"){if(U>=X.length){X.push(ie);return}X.splice(U+1,0,ie);return}const se=Ce(U-1,0,X.length);X.splice(se,0,ie)},!0),E(Y==="front"?"Brought to front":Y==="back"?"Sent to back":Y==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function Y(G){const U=G;if(!U)return!1;const X=String(U.tagName||"").toLowerCase();return X==="input"||X==="textarea"||X==="select"||!!U.isContentEditable}function N(G){if(!(Y(G.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?G.metaKey:G.ctrlKey))){if(c==="editor"){if(G.key.toLowerCase()==="c"){G.preventDefault(),m.kind==="leaf"?g():z();return}if(G.key.toLowerCase()==="v"){G.preventDefault(),B.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!j.current)?T():M();return}}G.key.toLowerCase()==="z"&&(G.preventDefault(),G.shiftKey?H():R()),G.key.toLowerCase()==="s"&&(G.preventDefault(),Q())}}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,h,v,m,c]);const I=F.useMemo(()=>o?J2(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(F2,{view:c,onNavigate:r,project:o,onSave:Q,onLoad:()=>r("home"),onImportJson:()=>O.current?.click(),onExportJson:ne,onExportSvg:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&V2(Y,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&W2(Y,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:Y=>{const N=Y.target.files?.[0];N&&P(N),Y.currentTarget.value=""}}),q&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:q}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx($2,{saved:a,onNew:()=>r("new"),onOpen:Y=>{const N=oa(Hl(Y));f(N),_({kind:"project"}),K(N),r("editor")},onDelete:Y=>{U2(Y),i(er()),E("Deleted")}}),c==="new"&&x.jsx(em,{onBack:()=>r("home"),onCreate:Y=>{const N=k2({title:Y});y(N)}}),c==="editor"&&o&&x.jsx(sb,{project:o,selection:m,setSelection:_,applyUpdate:V,onGoRecipe:()=>r("recipe"),onImport:P,dragRef:C,onCopyFlower:z,onPasteFlower:M,onArrangeFlower:k,canPasteFlower:!!j.current,onUndo:R,onRedo:H,canUndo:v>0,canRedo:v<h.length-1}),c==="recipe"&&o&&I&&x.jsx(fb,{project:o,recipe:I,onBack:()=>r("editor"),onExportJson:ne}),c==="terms"&&x.jsx(db,{onBack:()=>r("home")}),c==="privacy"&&x.jsx(hb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(mb,{onNavigate:r})]})}class vb extends F.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}S2.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(vb,{children:x.jsx(bb,{})})}));

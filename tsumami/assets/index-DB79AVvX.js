(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var ts={exports:{}},Fi={};var zd;function xh(){if(zd)return Fi;zd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var v in o)v!=="key"&&(f[v]=o[v])}else f=o;return o=f.ref,{$$typeof:c,type:i,key:d,ref:o!==void 0?o:null,props:f}}return Fi.Fragment=r,Fi.jsx=a,Fi.jsxs=a,Fi}var Dd;function oh(){return Dd||(Dd=1,ts.exports=xh()),ts.exports}var s=oh(),ns={exports:{}},Ne={};var Nd;function fh(){if(Nd)return Ne;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),D=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=D&&N[D]||N["@@iterator"],typeof N=="function"?N:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function B(N,k,H){this.props=N,this.context=k,this.refs=w,this.updater=H||z}B.prototype.isReactComponent={},B.prototype.setState=function(N,k){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,k,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=B.prototype;function T(N,k,H){this.props=N,this.context=k,this.refs=w,this.updater=H||z}var q=T.prototype=new O;q.constructor=T,j(q,B.prototype),q.isPureReactComponent=!0;var U=Array.isArray;function J(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function F(N,k,H){var K=H.ref;return{$$typeof:c,type:N,key:k,ref:K!==void 0?K:null,props:H}}function Q(N,k){return F(N.type,k,N.props)}function X(N){return typeof N=="object"&&N!==null&&N.$$typeof===c}function _(N){var k={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(H){return k[H]})}var C=/\/+/g;function E(N,k){return typeof N=="object"&&N!==null&&N.key!=null?_(""+N.key):k.toString(36)}function M(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(J,J):(N.status="pending",N.then(function(k){N.status==="pending"&&(N.status="fulfilled",N.value=k)},function(k){N.status==="pending"&&(N.status="rejected",N.reason=k)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function S(N,k,H,K,le){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var de=!1;if(N===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(N.$$typeof){case c:case r:de=!0;break;case p:return de=N._init,S(de(N._payload),k,H,K,le)}}if(de)return le=le(N),de=K===""?"."+E(N,0):K,U(le)?(H="",de!=null&&(H=de.replace(C,"$&/")+"/"),S(le,k,H,"",function(ze){return ze})):le!=null&&(X(le)&&(le=Q(le,H+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+de)),k.push(le)),1;de=0;var fe=K===""?".":K+":";if(U(N))for(var ge=0;ge<N.length;ge++)K=N[ge],xe=fe+E(K,ge),de+=S(K,k,H,xe,le);else if(ge=b(N),typeof ge=="function")for(N=ge.call(N),ge=0;!(K=N.next()).done;)K=K.value,xe=fe+E(K,ge++),de+=S(K,k,H,xe,le);else if(xe==="object"){if(typeof N.then=="function")return S(M(N),k,H,K,le);throw k=String(N),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return de}function L(N,k,H){if(N==null)return N;var K=[],le=0;return S(N,K,"","",function(xe){return k.call(H,xe,le++)}),K}function R(N){if(N._status===-1){var k=N._result;k=k(),k.then(function(H){(N._status===0||N._status===-1)&&(N._status=1,N._result=H)},function(H){(N._status===0||N._status===-1)&&(N._status=2,N._result=H)}),N._status===-1&&(N._status=0,N._result=k)}if(N._status===1)return N._result.default;throw N._result}var I=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Y={map:L,forEach:function(N,k,H){L(N,function(){k.apply(this,arguments)},H)},count:function(N){var k=0;return L(N,function(){k++}),k},toArray:function(N){return L(N,function(k){return k})||[]},only:function(N){if(!X(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Ne.Activity=g,Ne.Children=Y,Ne.Component=B,Ne.Fragment=a,Ne.Profiler=o,Ne.PureComponent=T,Ne.StrictMode=i,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(N){return G.H.useMemoCache(N)}},Ne.cache=function(N){return function(){return N.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(N,k,H){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=j({},N.props),le=N.key;if(k!=null)for(xe in k.key!==void 0&&(le=""+k.key),k)!W.call(k,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&k.ref===void 0||(K[xe]=k[xe]);var xe=arguments.length-2;if(xe===1)K.children=H;else if(1<xe){for(var de=Array(xe),fe=0;fe<xe;fe++)de[fe]=arguments[fe+2];K.children=de}return F(N.type,le,K)},Ne.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},Ne.createElement=function(N,k,H){var K,le={},xe=null;if(k!=null)for(K in k.key!==void 0&&(xe=""+k.key),k)W.call(k,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(le[K]=k[K]);var de=arguments.length-2;if(de===1)le.children=H;else if(1<de){for(var fe=Array(de),ge=0;ge<de;ge++)fe[ge]=arguments[ge+2];le.children=fe}if(N&&N.defaultProps)for(K in de=N.defaultProps,de)le[K]===void 0&&(le[K]=de[K]);return F(N,xe,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(N){return{$$typeof:v,render:N}},Ne.isValidElement=X,Ne.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:R}},Ne.memo=function(N,k){return{$$typeof:h,type:N,compare:k===void 0?null:k}},Ne.startTransition=function(N){var k=G.T,H={};G.T=H;try{var K=N(),le=G.S;le!==null&&le(H,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(J,I)}catch(xe){I(xe)}finally{k!==null&&H.types!==null&&(k.types=H.types),G.T=k}},Ne.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ne.use=function(N){return G.H.use(N)},Ne.useActionState=function(N,k,H){return G.H.useActionState(N,k,H)},Ne.useCallback=function(N,k){return G.H.useCallback(N,k)},Ne.useContext=function(N){return G.H.useContext(N)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(N,k){return G.H.useDeferredValue(N,k)},Ne.useEffect=function(N,k){return G.H.useEffect(N,k)},Ne.useEffectEvent=function(N){return G.H.useEffectEvent(N)},Ne.useId=function(){return G.H.useId()},Ne.useImperativeHandle=function(N,k,H){return G.H.useImperativeHandle(N,k,H)},Ne.useInsertionEffect=function(N,k){return G.H.useInsertionEffect(N,k)},Ne.useLayoutEffect=function(N,k){return G.H.useLayoutEffect(N,k)},Ne.useMemo=function(N,k){return G.H.useMemo(N,k)},Ne.useOptimistic=function(N,k){return G.H.useOptimistic(N,k)},Ne.useReducer=function(N,k,H){return G.H.useReducer(N,k,H)},Ne.useRef=function(N){return G.H.useRef(N)},Ne.useState=function(N){return G.H.useState(N)},Ne.useSyncExternalStore=function(N,k,H){return G.H.useSyncExternalStore(N,k,H)},Ne.useTransition=function(){return G.H.useTransition()},Ne.version="19.2.3",Ne}var Ad;function Bs(){return Ad||(Ad=1,ns.exports=fh()),ns.exports}var $=Bs(),ls={exports:{}},$i={},as={exports:{}},is={};var Ed;function dh(){return Ed||(Ed=1,(function(c){function r(S,L){var R=S.length;S.push(L);e:for(;0<R;){var I=R-1>>>1,Y=S[I];if(0<o(Y,L))S[I]=L,S[R]=Y,R=I;else break e}}function a(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var L=S[0],R=S.pop();if(R!==L){S[0]=R;e:for(var I=0,Y=S.length,N=Y>>>1;I<N;){var k=2*(I+1)-1,H=S[k],K=k+1,le=S[K];if(0>o(H,R))K<Y&&0>o(le,H)?(S[I]=le,S[K]=R,I=K):(S[I]=H,S[k]=R,I=k);else if(K<Y&&0>o(le,R))S[I]=le,S[K]=R,I=K;else break e}}return L}function o(S,L){var R=S.sortIndex-L.sortIndex;return R!==0?R:S.id-L.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var d=Date,v=d.now();c.unstable_now=function(){return d.now()-v}}var m=[],h=[],p=1,g=null,D=3,b=!1,z=!1,j=!1,w=!1,B=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function q(S){for(var L=a(h);L!==null;){if(L.callback===null)i(h);else if(L.startTime<=S)i(h),L.sortIndex=L.expirationTime,r(m,L);else break;L=a(h)}}function U(S){if(j=!1,q(S),!z)if(a(m)!==null)z=!0,J||(J=!0,_());else{var L=a(h);L!==null&&M(U,L.startTime-S)}}var J=!1,G=-1,W=5,F=-1;function Q(){return w?!0:!(c.unstable_now()-F<W)}function X(){if(w=!1,J){var S=c.unstable_now();F=S;var L=!0;try{e:{z=!1,j&&(j=!1,O(G),G=-1),b=!0;var R=D;try{t:{for(q(S),g=a(m);g!==null&&!(g.expirationTime>S&&Q());){var I=g.callback;if(typeof I=="function"){g.callback=null,D=g.priorityLevel;var Y=I(g.expirationTime<=S);if(S=c.unstable_now(),typeof Y=="function"){g.callback=Y,q(S),L=!0;break t}g===a(m)&&i(m),q(S)}else i(m);g=a(m)}if(g!==null)L=!0;else{var N=a(h);N!==null&&M(U,N.startTime-S),L=!1}}break e}finally{g=null,D=R,b=!1}L=void 0}}finally{L?_():J=!1}}}var _;if(typeof T=="function")_=function(){T(X)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,E=C.port2;C.port1.onmessage=X,_=function(){E.postMessage(null)}}else _=function(){B(X,0)};function M(S,L){G=B(function(){S(c.unstable_now())},L)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(S){S.callback=null},c.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<S?Math.floor(1e3/S):5},c.unstable_getCurrentPriorityLevel=function(){return D},c.unstable_next=function(S){switch(D){case 1:case 2:case 3:var L=3;break;default:L=D}var R=D;D=L;try{return S()}finally{D=R}},c.unstable_requestPaint=function(){w=!0},c.unstable_runWithPriority=function(S,L){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var R=D;D=S;try{return L()}finally{D=R}},c.unstable_scheduleCallback=function(S,L,R){var I=c.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,S={id:p++,callback:L,priorityLevel:S,startTime:R,expirationTime:Y,sortIndex:-1},R>I?(S.sortIndex=R,r(h,S),a(m)===null&&S===a(h)&&(j?(O(G),G=-1):j=!0,M(U,R-I))):(S.sortIndex=Y,r(m,S),z||b||(z=!0,J||(J=!0,_()))),S},c.unstable_shouldYield=Q,c.unstable_wrapCallback=function(S){var L=D;return function(){var R=D;D=L;try{return S.apply(this,arguments)}finally{D=R}}}})(is)),is}var Ld;function hh(){return Ld||(Ld=1,as.exports=dh()),as.exports}var rs={exports:{}},Ut={};var Td;function mh(){if(Td)return Ut;Td=1;var c=Bs();function r(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:m,containerInfo:h,implementation:p}}var d=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ut.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return f(m,h,null,p)},Ut.flushSync=function(m){var h=d.T,p=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=h,i.p=p,i.d.f()}},Ut.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(m,h))},Ut.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Ut.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,g=v(p,h.crossOrigin),D=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:D,fetchPriority:b}):p==="script"&&i.d.X(m,{crossOrigin:g,integrity:D,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ut.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=v(h.as,h.crossOrigin);i.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(m)},Ut.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=v(p,h.crossOrigin);i.d.L(m,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ut.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=v(h.as,h.crossOrigin);i.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(m)},Ut.requestFormReset=function(m){i.d.r(m)},Ut.unstable_batchedUpdates=function(m,h){return m(h)},Ut.useFormState=function(m,h,p){return d.H.useFormState(m,h,p)},Ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Bd;function bh(){if(Bd)return rs.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rs.exports=mh(),rs.exports}var qd;function vh(){if(qd)return $i;qd=1;var c=hh(),r=Bs(),a=bh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return m(u),e;if(x===l)return m(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var y=!1,A=u.child;A;){if(A===n){y=!0,n=u,l=x;break}if(A===l){y=!0,l=u,n=x;break}A=A.sibling}if(!y){for(A=x.child;A;){if(A===n){y=!0,n=x,l=u;break}if(A===l){y=!0,l=x,n=u;break}A=A.sibling}if(!y)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,D=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),T=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function E(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case B:return"Profiler";case w:return"StrictMode";case U:return"Suspense";case J:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case T:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:E(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return E(e(t))}catch{}}return null}var M=Array.isArray,S=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},I=[],Y=-1;function N(e){return{current:e}}function k(e){0>Y||(e.current=I[Y],I[Y]=null,Y--)}function H(e,t){Y++,I[Y]=e.current,e.current=t}var K=N(null),le=N(null),xe=N(null),de=N(null);function fe(e,t){switch(H(xe,t),H(le,e),H(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(K),H(K,e)}function ge(){k(K),k(le),k(xe)}function ze(e){e.memoizedState!==null&&H(de,e);var t=K.current,n=Pf(t,e.type);t!==n&&(H(le,e),H(K,n))}function me(e){le.current===e&&(k(K),k(le)),de.current===e&&(k(de),Wi._currentValue=R)}var we,ct;function ot(e){if(we===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);we=t&&t[1]||"",ct=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+e+ct}var ut=!1;function mt(e,t){if(!e||ut)return"";ut=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ne=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),y=x[0],A=x[1];if(y&&A){var Z=y.split(`
`),te=A.split(`
`);for(u=l=0;l<Z.length&&!Z[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===Z.length||u===te.length)for(l=Z.length-1,u=te.length-1;1<=l&&0<=u&&Z[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(Z[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||Z[l]!==te[u]){var ie=`
`+Z[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{ut=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function Mt(e,t){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return e.child!==t&&t!==null?ot("Suspense Fallback"):ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return mt(e.type,!1);case 11:return mt(e.type.render,!1);case 1:return mt(e.type,!0);case 31:return ot("Activity");default:return""}}function zt(e){try{var t="",n=null;do t+=Mt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,Ht=c.unstable_scheduleCallback,rn=c.unstable_cancelCallback,Kn=c.unstable_shouldYield,Xn=c.unstable_requestPaint,Xe=c.unstable_now,yn=c.unstable_getCurrentPriorityLevel,pl=c.unstable_ImmediatePriority,Jl=c.unstable_UserBlockingPriority,qn=c.unstable_NormalPriority,ga=c.unstable_LowPriority,Rn=c.unstable_IdlePriority,ui=c.log,Wl=c.unstable_setDisableYieldValue,el=null,Bt=null;function Je(e){if(typeof ui=="function"&&Wl(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(el,e)}catch{}}var se=Math.clz32?Math.clz32:Se,Be=Math.log,qe=Math.LN2;function Se(e){return e>>>=0,e===0?32:31-(Be(e)/qe|0)|0}var ye=256,Ae=262144,De=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function We(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var A=l&134217727;return A!==0?(l=A&~x,l!==0?u=ve(l):(y&=A,y!==0?u=ve(y):n||(n=A&~e,n!==0&&(u=ve(n))))):(A=l&~x,A!==0?u=ve(A):y!==0?u=ve(y):n||(n=l&~e,n!==0&&(u=ve(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function Ye(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var e=De;return De<<=1,(De&62914560)===0&&(De=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n,l,u,x){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var A=e.entanglements,Z=e.expirationTimes,te=e.hiddenUpdates;for(n=y&~n;0<n;){var ie=31-se(n),ce=1<<ie;A[ie]=0,Z[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ce}l!==0&&Me(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(y&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-se(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function $e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-se(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function et(e,t){var n=t&-t;return n=(n&42)!==0?1:tt(n),(n&(e.suspendedLanes|t))!==0?0:n}function tt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function Vl(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var _n=Math.random().toString(36).slice(2),Dt="__reactFiber$"+_n,It="__reactProps$"+_n,oe="__reactContainer$"+_n,pe="__reactEvents$"+_n,Ue="__reactListeners$"+_n,Jt="__reactHandles$"+_n,_t="__reactResources$"+_n,cn="__reactMarker$"+_n;function si(e){delete e[Dt],delete e[It],delete e[pe],delete e[Ue],delete e[Jt]}function pa(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oe]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[Dt])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Dt]||e[oe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Sa(e){var t=e[_t];return t||(t=e[_t]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[cn]=!0}var Rs=new Set,Gs={};function Ql(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Gs[e]=t,e=0;e<t.length;e++)Rs.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Os={};function n1(e){return xt.call(Os,e)?!0:xt.call(ks,e)?!1:t1.test(e)?Os[e]=!0:(ks[e]=!0,!1)}function sr(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ys(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){n=""+y,x.call(this,y)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wc(e){if(!e._valueTracker){var t=Ys(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Hs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ys(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function Cn(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vc(e,t,n,l,u,x,y,A){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Qc(e,y,Sn(t)):n!=null?Qc(e,y,Sn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+Sn(A):e.removeAttribute("name")}function Is(e,t,n,l,u,x,y,A){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){Wc(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Wc(e)}function Qc(e,t,n){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Us(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Zs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(M(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Wc(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ks(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Ks(e,x,t[x])}function Pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var Fc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Js(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[It]||null;if(!u)throw Error(i(90));Vc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hs(l)}break e;case"textarea":Us(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var eu=!1;function Ws(e,t,n){if(eu)return e(t,n);eu=!0;try{var l=e(t);return l}finally{if(eu=!1,(Ma!==null||za!==null)&&($r(),Ma&&(t=Ma,e=za,za=Ma=null,Js(t),e)))for(t=0;t<e.length;t++)Js(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(ll)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){tu=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{tu=!1}var _l=null,nu=null,dr=null;function Vs(){if(dr)return dr;var e,t=nu,n=t.length,l,u="value"in _l?_l.value:_l.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var y=n-e;for(l=1;l<=y&&t[n-l]===u[x-l];l++);return dr=u.slice(e,1<l?1-l:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Qs(){return!1}function Wt(e){function t(n,l,u,x,y){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=y,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(n=e[A],this[A]=n?n(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mr:Qs,this.isPropagationStopped=Qs,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Wt(Pl),di=g({},Pl,{view:0,detail:0}),u1=Wt(di),lu,au,hi,vr=g({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(lu=e.screenX-hi.screenX,au=e.screenY-hi.screenY):au=lu=0,hi=e),lu)},movementY:function(e){return"movementY"in e?e.movementY:au}}),Ps=Wt(vr),s1=g({},vr,{dataTransfer:0}),x1=Wt(s1),o1=g({},di,{relatedTarget:0}),iu=Wt(o1),f1=g({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Wt(f1),h1=g({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Wt(h1),b1=g({},Pl,{data:0}),Fs=Wt(b1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function ru(){return p1}var _1=g({},di,{key:function(e){if(e.key){var t=v1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ru,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Wt(_1),C1=g({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Wt(C1),j1=g({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ru}),w1=Wt(j1),M1=g({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Wt(M1),D1=g({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Wt(D1),A1=g({},Pl,{newState:0,oldState:0}),E1=Wt(A1),L1=[9,13,27,32],cu=ll&&"CompositionEvent"in window,mi=null;ll&&"documentMode"in document&&(mi=document.documentMode);var T1=ll&&"TextEvent"in window&&!mi,ex=ll&&(!cu||mi&&8<mi&&11>=mi),tx=" ",nx=!1;function lx(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function B1(e,t){switch(e){case"compositionend":return ax(t);case"keypress":return t.which!==32?null:(nx=!0,tx);case"textInput":return e=t.data,e===tx&&nx?null:e;default:return null}}function q1(e,t){if(Da)return e==="compositionend"||!cu&&lx(e,t)?(e=Vs(),dr=nu=_l=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ex&&t.locale!=="ko"?null:t.data;default:return null}}var R1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R1[e.type]:t==="textarea"}function rx(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=rc(t,"onChange"),0<t.length&&(n=new br("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,vi=null;function G1(e){Zf(e,0)}function gr(e){var t=xi(e);if(Hs(t))return e}function cx(e,t){if(e==="change")return t}var ux=!1;if(ll){var uu;if(ll){var su="oninput"in document;if(!su){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),su=typeof sx.oninput=="function"}uu=su}else uu=!1;ux=uu&&(!document.documentMode||9<document.documentMode)}function xx(){bi&&(bi.detachEvent("onpropertychange",ox),vi=bi=null)}function ox(e){if(e.propertyName==="value"&&gr(vi)){var t=[];rx(t,vi,e,$c(e)),Ws(G1,t)}}function k1(e,t,n){e==="focusin"?(xx(),bi=t,vi=n,bi.attachEvent("onpropertychange",ox)):e==="focusout"&&xx()}function O1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gr(vi)}function Y1(e,t){if(e==="click")return gr(t)}function H1(e,t){if(e==="input"||e==="change")return gr(t)}function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:I1;function gi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!xt.call(t,u)||!un(e[u],t[u]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dx(e,t){var n=fx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=or(e.document)}return t}function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var U1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,ou=null,yi=null,fu=!1;function bx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||Na==null||Na!==or(l)||(l=Na,"selectionStart"in l&&xu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&gi(yi,l)||(yi=l,l=rc(ou,"onSelect"),0<l.length&&(t=new br("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},du={},vx={};ll&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function $l(e){if(du[e])return du[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vx)return du[e]=t[n];return e}var gx=$l("animationend"),yx=$l("animationiteration"),px=$l("animationstart"),Z1=$l("transitionrun"),K1=$l("transitionstart"),X1=$l("transitioncancel"),_x=$l("transitionend"),Sx=new Map,hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hu.push("scrollEnd");function Gn(e,t){Sx.set(e,t),Ql(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ea=0,mu=0;function pr(){for(var e=Ea,t=mu=Ea=0;t<e;){var n=jn[t];jn[t++]=null;var l=jn[t];jn[t++]=null;var u=jn[t];jn[t++]=null;var x=jn[t];if(jn[t++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}x!==0&&Cx(n,u,x)}}function _r(e,t,n,l){jn[Ea++]=e,jn[Ea++]=t,jn[Ea++]=n,jn[Ea++]=l,mu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bu(e,t,n,l){return _r(e,t,n,l),Sr(e)}function ea(e,t){return _r(e,null,null,t),Sr(e)}function Cx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-se(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Sr(e){if(50<Hi)throw Hi=0,w0=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function J1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,l){return new J1(e,t,n,l)}function vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,t,n,l,u,x){var y=0;if(l=e,typeof e=="function")vu(e)&&(y=1);else if(typeof e=="string")y=F2(e,n,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=sn(31,n,t,u),e.elementType=F,e.lanes=x,e;case j:return ta(n.children,u,x,t);case w:y=8,u|=24;break;case B:return e=sn(12,n,t,u|2),e.elementType=B,e.lanes=x,e;case U:return e=sn(13,n,t,u),e.elementType=U,e.lanes=x,e;case J:return e=sn(19,n,t,u),e.elementType=J,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:y=10;break e;case O:y=9;break e;case q:y=11;break e;case G:y=14;break e;case W:y=16,l=null;break e}y=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=sn(y,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function ta(e,t,n,l){return e=sn(7,e,l,t),e.lanes=n,e}function gu(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function wx(e){var t=sn(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mx=new WeakMap;function wn(e,t){if(typeof e=="object"&&e!==null){var n=Mx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zt(t)},Mx.set(e,t),t)}return{value:e,source:t,stack:zt(t)}}var Ta=[],Ba=0,jr=null,pi=0,Mn=[],zn=0,Sl=null,Jn=1,Wn="";function il(e,t){Ta[Ba++]=pi,Ta[Ba++]=jr,jr=e,pi=t}function zx(e,t,n){Mn[zn++]=Jn,Mn[zn++]=Wn,Mn[zn++]=Sl,Sl=e;var l=Jn;e=Wn;var u=32-se(l)-1;l&=~(1<<u),n+=1;var x=32-se(t)+u;if(30<x){var y=u-u%5;x=(l&(1<<y)-1).toString(32),l>>=y,u-=y,Jn=1<<32-se(t)+u|n<<u|l,Wn=x+e}else Jn=1<<x|n<<u|l,Wn=e}function pu(e){e.return!==null&&(il(e,1),zx(e,1,0))}function _u(e){for(;e===jr;)jr=Ta[--Ba],Ta[Ba]=null,pi=Ta[--Ba],Ta[Ba]=null;for(;e===Sl;)Sl=Mn[--zn],Mn[zn]=null,Wn=Mn[--zn],Mn[zn]=null,Jn=Mn[--zn],Mn[zn]=null}function Dx(e,t){Mn[zn++]=Jn,Mn[zn++]=Wn,Mn[zn++]=Sl,Jn=t.id,Wn=t.overflow,Sl=e}var qt=null,ft=null,He=!1,Cl=null,Dn=!1,Su=Error(i(519));function jl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(wn(t,e)),Su}function Nx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Dt]=e,t[It]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Ge(Ui[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Is(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Zs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Wf(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||jl(e,!0)}function Ax(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function qa(e){if(e!==qt)return!1;if(!He)return Ax(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Y0(e.type,e.memoizedProps)),n=!n),n&&ft&&jl(e),Ax(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ft=ld(e)}else t===27?(t=ft,kl(e.type)?(e=K0,K0=null,ft=e):ft=t):ft=qt?An(e.stateNode.nextSibling):null;return!0}function na(){ft=qt=null,He=!1}function Cu(){var e=Cl;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Cl=null),e}function _i(e){Cl===null?Cl=[e]:Cl.push(e)}var ju=N(null),la=null,rl=null;function wl(e,t,n){H(ju,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=ju.current,k(ju)}function wu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Mu(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var y=u.child;x=x.firstContext;e:for(;x!==null;){var A=x;x=u;for(var Z=0;Z<t.length;Z++)if(A.context===t[Z]){x.lanes|=n,A=x.alternate,A!==null&&(A.lanes|=n),wu(x.return,n,e),l||(y=null);break e}x=A.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=n,x=y.alternate,x!==null&&(x.lanes|=n),wu(y,n,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Ra(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var A=u.type;un(u.pendingProps.value,y.value)||(e!==null?e.push(A):e=[A])}}else if(u===de.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}u=u.return}e!==null&&Mu(t,e,n,l),t.flags|=262144}function wr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Ex(la,e)}function Mr(e,t){return la===null&&aa(e),Ex(e,t)}function Ex(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(i(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var W1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},V1=c.unstable_scheduleCallback,Q1=c.unstable_NormalPriority,St={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new W1,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&V1(Q1,function(){e.controller.abort()})}var Ci=null,Du=0,Ga=0,ka=null;function P1(e,t){if(Ci===null){var n=Ci=[];Du=0,Ga=E0(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Du++,t.then(Lx,Lx),t}function Lx(){if(--Du===0&&Ci!==null){ka!==null&&(ka.status="fulfilled");var e=Ci;Ci=null,Ga=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Tx=S.S;S.S=function(e,t){gf=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Tx!==null&&Tx(e,t)};var ia=N(null);function Nu(){var e=ia.current;return e!==null?e:st.pooledCache}function zr(e,t){t===null?H(ia,ia.current):H(ia,t.pool)}function Bx(){var e=Nu();return e===null?null:{parent:St._currentValue,pool:e}}var Oa=Error(i(460)),Au=Error(i(474)),Dr=Error(i(542)),Nr={then:function(){}};function qx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e}throw ca=t,Oa}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ca=n,Oa):n}}var ca=null;function Gx(){if(ca===null)throw Error(i(459));var e=ca;return ca=null,e}function kx(e){if(e===Oa||e===Dr)throw Error(i(483))}var Ya=null,ji=0;function Ar(e){var t=ji;return ji+=1,Ya===null&&(Ya=[]),Rx(Ya,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Er(e,t){throw t.$$typeof===D?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ox(e){function t(P,V){if(e){var ee=P.deletions;ee===null?(P.deletions=[V],P.flags|=16):ee.push(V)}}function n(P,V){if(!e)return null;for(;V!==null;)t(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function u(P,V){return P=al(P,V),P.index=0,P.sibling=null,P}function x(P,V,ee){return P.index=ee,e?(ee=P.alternate,ee!==null?(ee=ee.index,ee<V?(P.flags|=67108866,V):ee):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function A(P,V,ee,re){return V===null||V.tag!==6?(V=gu(ee,P.mode,re),V.return=P,V):(V=u(V,ee),V.return=P,V)}function Z(P,V,ee,re){var _e=ee.type;return _e===j?ie(P,V,ee.props.children,re,ee.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&ra(_e)===V.type)?(V=u(V,ee.props),wi(V,ee),V.return=P,V):(V=Cr(ee.type,ee.key,ee.props,null,P.mode,re),wi(V,ee),V.return=P,V)}function te(P,V,ee,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=yu(ee,P.mode,re),V.return=P,V):(V=u(V,ee.children||[]),V.return=P,V)}function ie(P,V,ee,re,_e){return V===null||V.tag!==7?(V=ta(ee,P.mode,re,_e),V.return=P,V):(V=u(V,ee),V.return=P,V)}function ce(P,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gu(""+V,P.mode,ee),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return ee=Cr(V.type,V.key,V.props,null,P.mode,ee),wi(ee,V),ee.return=P,ee;case z:return V=yu(V,P.mode,ee),V.return=P,V;case W:return V=ra(V),ce(P,V,ee)}if(M(V)||_(V))return V=ta(V,P.mode,ee,null),V.return=P,V;if(typeof V.then=="function")return ce(P,Ar(V),ee);if(V.$$typeof===T)return ce(P,Mr(P,V),ee);Er(P,V)}return null}function ne(P,V,ee,re){var _e=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:A(P,V,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===_e?Z(P,V,ee,re):null;case z:return ee.key===_e?te(P,V,ee,re):null;case W:return ee=ra(ee),ne(P,V,ee,re)}if(M(ee)||_(ee))return _e!==null?null:ie(P,V,ee,re,null);if(typeof ee.then=="function")return ne(P,V,Ar(ee),re);if(ee.$$typeof===T)return ne(P,V,Mr(P,ee),re);Er(P,ee)}return null}function ae(P,V,ee,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return P=P.get(ee)||null,A(V,P,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return P=P.get(re.key===null?ee:re.key)||null,Z(V,P,re,_e);case z:return P=P.get(re.key===null?ee:re.key)||null,te(V,P,re,_e);case W:return re=ra(re),ae(P,V,ee,re,_e)}if(M(re)||_(re))return P=P.get(ee)||null,ie(V,P,re,_e,null);if(typeof re.then=="function")return ae(P,V,ee,Ar(re),_e);if(re.$$typeof===T)return ae(P,V,ee,Mr(V,re),_e);Er(V,re)}return null}function he(P,V,ee,re){for(var _e=null,Ze=null,be=V,Te=V=0,Oe=null;be!==null&&Te<ee.length;Te++){be.index>Te?(Oe=be,be=null):Oe=be.sibling;var Ke=ne(P,be,ee[Te],re);if(Ke===null){be===null&&(be=Oe);break}e&&be&&Ke.alternate===null&&t(P,be),V=x(Ke,V,Te),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke,be=Oe}if(Te===ee.length)return n(P,be),He&&il(P,Te),_e;if(be===null){for(;Te<ee.length;Te++)be=ce(P,ee[Te],re),be!==null&&(V=x(be,V,Te),Ze===null?_e=be:Ze.sibling=be,Ze=be);return He&&il(P,Te),_e}for(be=l(be);Te<ee.length;Te++)Oe=ae(be,P,Te,ee[Te],re),Oe!==null&&(e&&Oe.alternate!==null&&be.delete(Oe.key===null?Te:Oe.key),V=x(Oe,V,Te),Ze===null?_e=Oe:Ze.sibling=Oe,Ze=Oe);return e&&be.forEach(function(Ul){return t(P,Ul)}),He&&il(P,Te),_e}function Ce(P,V,ee,re){if(ee==null)throw Error(i(151));for(var _e=null,Ze=null,be=V,Te=V=0,Oe=null,Ke=ee.next();be!==null&&!Ke.done;Te++,Ke=ee.next()){be.index>Te?(Oe=be,be=null):Oe=be.sibling;var Ul=ne(P,be,Ke.value,re);if(Ul===null){be===null&&(be=Oe);break}e&&be&&Ul.alternate===null&&t(P,be),V=x(Ul,V,Te),Ze===null?_e=Ul:Ze.sibling=Ul,Ze=Ul,be=Oe}if(Ke.done)return n(P,be),He&&il(P,Te),_e;if(be===null){for(;!Ke.done;Te++,Ke=ee.next())Ke=ce(P,Ke.value,re),Ke!==null&&(V=x(Ke,V,Te),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke);return He&&il(P,Te),_e}for(be=l(be);!Ke.done;Te++,Ke=ee.next())Ke=ae(be,P,Te,Ke.value,re),Ke!==null&&(e&&Ke.alternate!==null&&be.delete(Ke.key===null?Te:Ke.key),V=x(Ke,V,Te),Ze===null?_e=Ke:Ze.sibling=Ke,Ze=Ke);return e&&be.forEach(function(sh){return t(P,sh)}),He&&il(P,Te),_e}function rt(P,V,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var _e=ee.key;V!==null;){if(V.key===_e){if(_e=ee.type,_e===j){if(V.tag===7){n(P,V.sibling),re=u(V,ee.props.children),re.return=P,P=re;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===W&&ra(_e)===V.type){n(P,V.sibling),re=u(V,ee.props),wi(re,ee),re.return=P,P=re;break e}n(P,V);break}else t(P,V);V=V.sibling}ee.type===j?(re=ta(ee.props.children,P.mode,re,ee.key),re.return=P,P=re):(re=Cr(ee.type,ee.key,ee.props,null,P.mode,re),wi(re,ee),re.return=P,P=re)}return y(P);case z:e:{for(_e=ee.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){n(P,V.sibling),re=u(V,ee.children||[]),re.return=P,P=re;break e}else{n(P,V);break}else t(P,V);V=V.sibling}re=yu(ee,P.mode,re),re.return=P,P=re}return y(P);case W:return ee=ra(ee),rt(P,V,ee,re)}if(M(ee))return he(P,V,ee,re);if(_(ee)){if(_e=_(ee),typeof _e!="function")throw Error(i(150));return ee=_e.call(ee),Ce(P,V,ee,re)}if(typeof ee.then=="function")return rt(P,V,Ar(ee),re);if(ee.$$typeof===T)return rt(P,V,Mr(P,ee),re);Er(P,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(n(P,V.sibling),re=u(V,ee),re.return=P,P=re):(n(P,V),re=gu(ee,P.mode,re),re.return=P,P=re),y(P)):n(P,V)}return function(P,V,ee,re){try{ji=0;var _e=rt(P,V,ee,re);return Ya=null,_e}catch(be){if(be===Oa||be===Dr)throw be;var Ze=sn(29,be,null,P.mode);return Ze.lanes=re,Ze.return=P,Ze}}}var ua=Ox(!0),Yx=Ox(!1),Ml=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Sr(e),Cx(e,null,n),t}return _r(e,l,t,n),Sr(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,$e(e,n)}}function Tu(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=y:x=x.next=y,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bu=!1;function zi(){if(Bu){var e=ka;if(e!==null)throw e}}function Di(e,t,n,l){Bu=!1;var u=e.updateQueue;Ml=!1;var x=u.firstBaseUpdate,y=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var Z=A,te=Z.next;Z.next=null,y===null?x=te:y.next=te,y=Z;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==y&&(A===null?ie.firstBaseUpdate=te:A.next=te,ie.lastBaseUpdate=Z))}if(x!==null){var ce=u.baseState;y=0,ie=te=Z=null,A=x;do{var ne=A.lane&-536870913,ae=ne!==A.lane;if(ae?(ke&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ga&&(Bu=!0),ie!==null&&(ie=ie.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var he=e,Ce=A;ne=t;var rt=n;switch(Ce.tag){case 1:if(he=Ce.payload,typeof he=="function"){ce=he.call(rt,ce,ne);break e}ce=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ce.payload,ne=typeof he=="function"?he.call(rt,ce,ne):he,ne==null)break e;ce=g({},ce,ne);break e;case 2:Ml=!0}}ne=A.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(te=ie=ae,Z=ce):ie=ie.next=ae,y|=ne;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ae=A,A=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(Z=ce),u.baseState=Z,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,x===null&&(u.shared.lanes=0),Tl|=y,e.lanes=y,e.memoizedState=ce}}function Hx(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ix(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hx(n[e],t)}var Ha=N(null),Lr=N(0);function Ux(e,t){e=bl,H(Lr,e),H(Ha,t),bl=e|t.baseLanes}function qu(){H(Lr,bl),H(Ha,Ha.current)}function Ru(){bl=Lr.current,k(Ha),k(Lr)}var xn=N(null),Nn=null;function Nl(e){var t=e.alternate;H(yt,yt.current&1),H(xn,e),Nn===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(Nn=e)}function Gu(e){H(yt,yt.current),H(xn,e),Nn===null&&(Nn=e)}function Zx(e){e.tag===22?(H(yt,yt.current),H(xn,e),Nn===null&&(Nn=e)):Al()}function Al(){H(yt,yt.current),H(xn,xn.current)}function on(e){k(xn),Nn===e&&(Nn=null),k(yt)}var yt=N(0);function Tr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||U0(n)||Z0(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Le=null,at=null,Ct=null,Br=!1,Ia=!1,sa=!1,qr=0,Ni=0,Ua=null,$1=0;function bt(){throw Error(i(321))}function ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function Ou(e,t,n,l,u,x){return ul=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,S.H=e===null||e.memoizedState===null?Do:e0,sa=!1,x=n(l,u),sa=!1,Ia&&(x=Xx(t,n,l,u)),Kx(e),x}function Kx(e){S.H=Li;var t=at!==null&&at.next!==null;if(ul=0,Ct=at=Le=null,Br=!1,Ni=0,Ua=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&wr(e)&&(jt=!0))}function Xx(e,t,n,l){Le=e;var u=0;do{if(Ia&&(Ua=null),Ni=0,Ia=!1,25<=u)throw Error(i(301));if(u+=1,Ct=at=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}S.H=No,x=t(n,l)}while(Ia);return x}function e2(){var e=S.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(at!==null?at.memoizedState:null)!==e&&(Le.flags|=1024),t}function Yu(){var e=qr!==0;return qr=0,e}function Hu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Iu(e){if(Br){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Br=!1}ul=0,Ct=at=Le=null,Ia=!1,Ni=qr=0,Ua=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Le.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function pt(){if(at===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=Ct===null?Le.memoizedState:Ct.next;if(t!==null)Ct=t,at=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ct===null?Le.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ni;return Ni+=1,Ua===null&&(Ua=[]),e=Rx(Ua,e,t),t=Le,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,S.H=t===null||t.memoizedState===null?Do:e0),e}function Gr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===T)return Rt(e)}throw Error(i(438,String(e)))}function Uu(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function sl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=pt();return Zu(t,at,e)}function Zu(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var y=u.next;u.next=x.next,x.next=y}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var A=y=null,Z=null,te=t,ie=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(ke&ce)===ce:(ul&ce)===ce){var ne=te.revertLane;if(ne===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===Ga&&(ie=!0);else if((ul&ne)===ne){te=te.next,ne===Ga&&(ie=!0);continue}else ce={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Z===null?(A=Z=ce,y=x):Z=Z.next=ce,Le.lanes|=ne,Tl|=ne;ce=te.action,sa&&n(x,ce),x=te.hasEagerState?te.eagerState:n(x,ce)}else ne={lane:ce,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},Z===null?(A=Z=ne,y=x):Z=Z.next=ne,Le.lanes|=ce,Tl|=ce;te=te.next}while(te!==null&&te!==t);if(Z===null?y=x:Z.next=A,!un(x,e.memoizedState)&&(jt=!0,ie&&(n=ka,n!==null)))throw n;e.memoizedState=x,e.baseState=y,e.baseQueue=Z,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ku(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var y=u=u.next;do x=e(x,y.action),y=y.next;while(y!==u);un(x,t.memoizedState)||(jt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Jx(e,t,n){var l=Le,u=pt(),x=He;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var y=!un((at||u).memoizedState,n);if(y&&(u.memoizedState=n,jt=!0),u=u.queue,Wu(Qx.bind(null,l,u,e),[e]),u.getSnapshot!==t||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Vx.bind(null,l,u,n,t),null),st===null)throw Error(i(349));x||(ul&127)!==0||Wx(l,t,n)}return n}function Wx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Rr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vx(e,t,n,l){t.value=n,t.getSnapshot=l,Px(t)&&Fx(e)}function Qx(e,t,n){return n(function(){Px(t)&&Fx(e)})}function Px(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Fx(e){var t=ea(e,2);t!==null&&$t(t,e,2)}function Xu(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),sa){Je(!0);try{n()}finally{Je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t}function $x(e,t,n,l){return e.baseState=n,Zu(e,at,typeof l=="function"?l:sl)}function t2(e,t,n,l,u){if(Hr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){x.listeners.push(y)}};S.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,eo(t,x)):(x.next=n.next,t.pending=n.next=x)}}function eo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=S.T,y={};S.T=y;try{var A=n(u,l),Z=S.S;Z!==null&&Z(y,A),to(e,t,A)}catch(te){Ju(e,t,te)}finally{x!==null&&y.types!==null&&(x.types=y.types),S.T=x}}else try{x=n(u,l),to(e,t,x)}catch(te){Ju(e,t,te)}}function to(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){no(e,t,l)},function(l){return Ju(e,t,l)}):no(e,t,n)}function no(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eo(e,n)))}function Ju(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lo(t),t=t.next;while(t!==l)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function io(e,t){if(He){var n=st.formState;if(n!==null){e:{var l=Le;if(He){if(ft){t:{for(var u=ft,x=Dn;u.nodeType!==8;){if(!x){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){ft=An(u.nextSibling),l=u.data==="F!";break e}}jl(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=l,n=wo.bind(null,Le,l),l.dispatch=n,l=Xu(!1),x=$u.bind(null,Le,!1,l.queue),l=Kt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=t2.bind(null,Le,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function ro(e){var t=pt();return co(t,at,e)}function co(e,t,n){if(t=Zu(e,t,ao)[0],e=kr(sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(y){throw y===Oa?Dr:y}else l=t;t=pt();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Za(9,{destroy:void 0},n2.bind(null,u,n),null)),[l,x,e]}function n2(e,t){e.action=t}function uo(e){var t=pt(),n=at;if(n!==null)return co(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Rr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function so(){return pt().memoizedState}function Or(e,t,n,l){var u=Kt();Le.flags|=e,u.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Yr(e,t,n,l){var u=pt();l=l===void 0?null:l;var x=u.memoizedState.inst;at!==null&&l!==null&&ku(l,at.memoizedState.deps)?u.memoizedState=Za(t,x,n,l):(Le.flags|=e,u.memoizedState=Za(1|t,x,n,l))}function xo(e,t){Or(8390656,8,e,t)}function Wu(e,t){Yr(2048,8,e,t)}function l2(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Rr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oo(e){var t=pt().memoizedState;return l2({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fo(e,t){return Yr(4,2,e,t)}function ho(e,t){return Yr(4,4,e,t)}function mo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bo(e,t,n){n=n!=null?n.concat([e]):null,Yr(4,4,mo.bind(null,t,e),n)}function Vu(){}function vo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&ku(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&ku(t,l[1]))return l[0];if(l=e(),sa){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[l,t],l}function Qu(e,t,n){return n===void 0||(ul&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),Le.lanes|=e,Tl|=e,n)}function yo(e,t,n,l){return un(n,t)?n:Ha.current!==null?(e=Qu(e,n,l),un(e,t)||(jt=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(ke&261930)===0?(jt=!0,e.memoizedState=n):(e=pf(),Le.lanes|=e,Tl|=e,t)}function po(e,t,n,l,u){var x=L.p;L.p=x!==0&&8>x?x:8;var y=S.T,A={};S.T=A,$u(e,!1,t,n);try{var Z=u(),te=S.S;if(te!==null&&te(A,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ie=F1(Z,l);Ei(e,t,ie,hn(e))}else Ei(e,t,l,hn(e))}catch(ce){Ei(e,t,{then:function(){},status:"rejected",reason:ce},hn())}finally{L.p=x,y!==null&&A.types!==null&&(y.types=A.types),S.T=y}}function a2(){}function Pu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=_o(e).queue;po(e,u,t,R,n===null?a2:function(){return So(e),n(l)})}function _o(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function So(e){var t=_o(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},hn())}function Fu(){return Rt(Wi)}function Co(){return pt().memoizedState}function jo(){return pt().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=zl(n);var l=Dl(t,e,n);l!==null&&($t(l,t,n),Mi(l,t,n)),t={cache:zu()},e.payload=t;return}t=t.return}}function r2(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?Mo(t,n):(n=bu(e,t,n,l),n!==null&&($t(n,e,l),zo(n,t,l)))}function wo(e,t,n){var l=hn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))Mo(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var y=t.lastRenderedState,A=x(y,n);if(u.hasEagerState=!0,u.eagerState=A,un(A,y))return _r(e,t,u,0),st===null&&pr(),!1}catch{}if(n=bu(e,t,u,l),n!==null)return $t(n,e,l),zo(n,t,l),!0}return!1}function $u(e,t,n,l){if(l={lane:2,revertLane:E0(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(i(479))}else t=bu(e,n,l,2),t!==null&&$t(t,e,2)}function Hr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Mo(e,t){Ia=Br=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,$e(e,n)}}var Li={readContext:Rt,use:Gr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Li.useEffectEvent=bt;var Do={readContext:Rt,use:Gr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:xo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(sa){Je(!0);try{e()}finally{Je(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var u=n(t);if(sa){Je(!0);try{n(t)}finally{Je(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=r2.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xu(e);var t=e.queue,n=wo.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vu,useDeferredValue:function(e,t){var n=Kt();return Qu(n,e,t)},useTransition:function(){var e=Xu(!1);return e=po.bind(null,Le,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Kt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),st===null)throw Error(i(349));(ke&127)!==0||Wx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,xo(Qx.bind(null,l,x,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Vx.bind(null,l,x,n,t),null),n},useId:function(){var e=Kt(),t=st.identifierPrefix;if(He){var n=Wn,l=Jn;n=(l&~(1<<32-se(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$u.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uu,useCacheRefresh:function(){return Kt().memoizedState=i2.bind(null,Le)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Pe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},e0={readContext:Rt,use:Gr,useCallback:vo,useContext:Rt,useEffect:Wu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:kr,useRef:so,useState:function(){return kr(sl)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=pt();return yo(n,at.memoizedState,e,t)},useTransition:function(){var e=kr(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Jx,useId:Co,useHostTransitionStatus:Fu,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=pt();return $x(n,at,e,t)},useMemoCache:Uu,useCacheRefresh:jo};e0.useEffectEvent=oo;var No={readContext:Rt,use:Gr,useCallback:vo,useContext:Rt,useEffect:Wu,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:Ku,useRef:so,useState:function(){return Ku(sl)},useDebugValue:Vu,useDeferredValue:function(e,t){var n=pt();return at===null?Qu(n,e,t):yo(n,at.memoizedState,e,t)},useTransition:function(){var e=Ku(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Jx,useId:Co,useHostTransitionStatus:Fu,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){var n=pt();return at!==null?$x(n,at,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:jo};No.useEffectEvent=oo;function t0(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var n0={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),u=zl(l);u.payload=t,n!=null&&(u.callback=n),t=Dl(e,u,l),t!==null&&($t(t,e,l),Mi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),u=zl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Dl(e,u,l),t!==null&&($t(t,e,l),Mi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=zl(n);l.tag=2,t!=null&&(l.callback=t),t=Dl(e,l,n),t!==null&&($t(t,e,n),Mi(t,e,n))}};function Ao(e,t,n,l,u,x,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,y):t.prototype&&t.prototype.isPureReactComponent?!gi(n,l)||!gi(u,x):!0}function Eo(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&n0.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Lo(e){yr(e)}function To(e){console.error(e)}function Bo(e){yr(e)}function Ir(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function l0(e,t,n){return n=zl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ir(e,t)},n}function Ro(e){return e=zl(e),e.tag=3,e}function Go(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){qo(t,n,l)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof u!="function"&&(Bl===null?Bl=new Set([this]):Bl.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function c2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?ec():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),D0(e,l,u)),!1;case 22:return n.flags|=65536,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),D0(e,l,u)),!1}throw Error(i(435,n.tag))}return D0(e,l,u),ec(),!1}if(He)return t=xn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Su&&(e=Error(i(422),{cause:l}),_i(wn(e,n)))):(l!==Su&&(t=Error(i(423),{cause:l}),_i(wn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=wn(l,n),u=l0(e.stateNode,l,u),Tu(e,u),vt!==4&&(vt=2)),!1;var x=Error(i(520),{cause:l});if(x=wn(x,n),Yi===null?Yi=[x]:Yi.push(x),vt!==4&&(vt=2),t===null)return!0;l=wn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=l0(n.stateNode,l,e),Tu(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bl===null||!Bl.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ro(u),Go(u,e,n,l),Tu(n,u),!1}n=n.return}while(n!==null);return!1}var a0=Error(i(461)),jt=!1;function Gt(e,t,n,l){t.child=e===null?Yx(t,null,n,l):ua(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var y={};for(var A in l)A!=="ref"&&(y[A]=l[A])}else y=l;return aa(t),l=Ou(e,t,n,y,x,u),A=Yu(),e!==null&&!jt?(Hu(e,t,u),xl(e,t,u)):(He&&A&&pu(t),t.flags|=1,Gt(e,t,l,u),t.child)}function Oo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!vu(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Yo(e,t,x,l,u)):(e=Cr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!f0(e,u)){var y=x.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(y,l)&&e.ref===t.ref)return xl(e,t,u)}return t.flags|=1,e=al(x,l),e.ref=t.ref,e.return=t,t.child=e}function Yo(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(gi(x,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=x,f0(e,u))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,xl(e,t,u)}return i0(e,t,n,l,u)}function Ho(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Io(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zr(t,x!==null?x.cachePool:null),x!==null?Ux(t,x):qu(),Zx(t);else return l=t.lanes=536870912,Io(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(zr(t,x.cachePool),Ux(t,x),Al(),t.memoizedState=null):(e!==null&&zr(t,null),qu(),Al());return Gt(e,t,u,n),t.child}function Ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,n,l,u){var x=Nu();return x=x===null?null:{parent:St._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&zr(t,null),qu(),Zx(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Ur(e,t){return t=Kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return ua(t,e.child,null,n),e=Ur(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function u2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ti(null,e);if(Gu(t),(e=ft)?(e=nd(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=wx(e),n.return=t,t.child=n,qt=t,ft=null)):e=null,e===null)throw jl(t);return t.lanes=536870912,null}return Ur(t,l)}var x=e.memoizedState;if(x!==null){var y=x.dehydrated;if(Gu(t),u)if(t.flags&256)t.flags&=-257,t=Uo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,jt||u){if(l=st,l!==null&&(y=et(l,n),y!==0&&y!==x.retryLane))throw x.retryLane=y,ea(e,y),$t(l,e,y),a0;ec(),t=Uo(e,t,n)}else e=x.treeContext,ft=An(y.nextSibling),qt=t,He=!0,Cl=null,Dn=!1,e!==null&&Dx(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function i0(e,t,n,l,u){return aa(t),n=Ou(e,t,n,l,void 0,u),l=Yu(),e!==null&&!jt?(Hu(e,t,u),xl(e,t,u)):(He&&l&&pu(t),t.flags|=1,Gt(e,t,n,u),t.child)}function Zo(e,t,n,l,u,x){return aa(t),t.updateQueue=null,n=Xx(t,l,n,u),Kx(e),l=Yu(),e!==null&&!jt?(Hu(e,t,x),xl(e,t,x)):(He&&l&&pu(t),t.flags|=1,Gt(e,t,n,x),t.child)}function Ko(e,t,n,l,u){if(aa(t),t.stateNode===null){var x=La,y=n.contextType;typeof y=="object"&&y!==null&&(x=Rt(y)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=n0,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Eu(t),y=n.contextType,x.context=typeof y=="object"&&y!==null?Rt(y):La,x.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(t0(t,n,y,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(y=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),y!==x.state&&n0.enqueueReplaceState(x,x.state,null),Di(t,l,x,u),zi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var A=t.memoizedProps,Z=xa(n,A);x.props=Z;var te=x.context,ie=n.contextType;y=La,typeof ie=="object"&&ie!==null&&(y=Rt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A||te!==y)&&Eo(t,x,l,y),Ml=!1;var ne=t.memoizedState;x.state=ne,Di(t,l,x,u),zi(),te=t.memoizedState,A||ne!==te||Ml?(typeof ce=="function"&&(t0(t,n,ce,l),te=t.memoizedState),(Z=Ml||Ao(t,n,Z,l,ne,te,y))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=y,l=Z):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Lu(e,t),y=t.memoizedProps,ie=xa(n,y),x.props=ie,ce=t.pendingProps,ne=x.context,te=n.contextType,Z=La,typeof te=="object"&&te!==null&&(Z=Rt(te)),A=n.getDerivedStateFromProps,(te=typeof A=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(y!==ce||ne!==Z)&&Eo(t,x,l,Z),Ml=!1,ne=t.memoizedState,x.state=ne,Di(t,l,x,u),zi();var ae=t.memoizedState;y!==ce||ne!==ae||Ml||e!==null&&e.dependencies!==null&&wr(e.dependencies)?(typeof A=="function"&&(t0(t,n,A,l),ae=t.memoizedState),(ie=Ml||Ao(t,n,ie,l,ne,ae,Z)||e!==null&&e.dependencies!==null&&wr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,Z),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,Z)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=Z,l=ie):(typeof x.componentDidUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Zr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ua(t,e.child,null,u),t.child=ua(t,null,n,u)):Gt(e,t,n,u),t.memoizedState=x.state,e=t.child):e=xl(e,t,u),e}function Xo(e,t,n,l){return na(),t.flags|=256,Gt(e,t,n,l),t.child}var r0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c0(e){return{baseLanes:e,cachePool:Bx()}}function u0(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Jo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,y;if((y=x)||(y=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(u?Nl(t):Al(),(e=ft)?(e=nd(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sl!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=wx(e),n.return=t,t.child=n,qt=t,ft=null)):e=null,e===null)throw jl(t);return Z0(e)?t.lanes=32:t.lanes=536870912,null}var A=l.children;return l=l.fallback,u?(Al(),u=t.mode,A=Kr({mode:"hidden",children:A},u),l=ta(l,u,n,null),A.return=t,l.return=t,A.sibling=l,t.child=A,l=t.child,l.memoizedState=c0(n),l.childLanes=u0(e,y,n),t.memoizedState=r0,Ti(null,l)):(Nl(t),s0(t,A))}var Z=e.memoizedState;if(Z!==null&&(A=Z.dehydrated,A!==null)){if(x)t.flags&256?(Nl(t),t.flags&=-257,t=x0(e,t,n)):t.memoizedState!==null?(Al(),t.child=e.child,t.flags|=128,t=null):(Al(),A=l.fallback,u=t.mode,l=Kr({mode:"visible",children:l.children},u),A=ta(A,u,n,null),A.flags|=2,l.return=t,A.return=t,l.sibling=A,t.child=l,ua(t,e.child,null,n),l=t.child,l.memoizedState=c0(n),l.childLanes=u0(e,y,n),t.memoizedState=r0,t=Ti(null,l));else if(Nl(t),Z0(A)){if(y=A.nextSibling&&A.nextSibling.dataset,y)var te=y.dgst;y=te,l=Error(i(419)),l.stack="",l.digest=y,_i({value:l,source:null,stack:null}),t=x0(e,t,n)}else if(jt||Ra(e,t,n,!1),y=(n&e.childLanes)!==0,jt||y){if(y=st,y!==null&&(l=et(y,n),l!==0&&l!==Z.retryLane))throw Z.retryLane=l,ea(e,l),$t(y,e,l),a0;U0(A)||ec(),t=x0(e,t,n)}else U0(A)?(t.flags|=192,t.child=e.child,t=null):(e=Z.treeContext,ft=An(A.nextSibling),qt=t,He=!0,Cl=null,Dn=!1,e!==null&&Dx(t,e),t=s0(t,l.children),t.flags|=4096);return t}return u?(Al(),A=l.fallback,u=t.mode,Z=e.child,te=Z.sibling,l=al(Z,{mode:"hidden",children:l.children}),l.subtreeFlags=Z.subtreeFlags&65011712,te!==null?A=al(te,A):(A=ta(A,u,n,null),A.flags|=2),A.return=t,l.return=t,l.sibling=A,t.child=l,Ti(null,l),l=t.child,A=e.child.memoizedState,A===null?A=c0(n):(u=A.cachePool,u!==null?(Z=St._currentValue,u=u.parent!==Z?{parent:Z,pool:Z}:u):u=Bx(),A={baseLanes:A.baseLanes|n,cachePool:u}),l.memoizedState=A,l.childLanes=u0(e,y,n),t.memoizedState=r0,Ti(e.child,l)):(Nl(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function s0(e,t){return t=Kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kr(e,t){return e=sn(22,e,null,t),e.lanes=0,e}function x0(e,t,n){return ua(t,e.child,null,n),e=s0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),wu(e.return,t,n)}function o0(e,t,n,l,u,x){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=u,y.treeForkCount=x)}function Vo(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var y=yt.current,A=(y&2)!==0;if(A?(y=y&1|2,t.flags|=128):y&=1,H(yt,y),Gt(e,t,l,n),l=He?pi:0,!A&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wo(e,n,t);else if(e.tag===19)Wo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Tr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),o0(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Tr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}o0(t,!0,n,null,x,l);break;case"together":o0(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function f0(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wr(e)))}function s2(e,t,n){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),wl(t,St,e.memoizedState.cache),na();break;case 27:case 5:ze(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:wl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Nl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jo(e,t,n):(Nl(t),e=xl(e,t,n),e!==null?e.sibling:null);Nl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Vo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:wl(t,St,e.memoizedState.cache)}return xl(e,t,n)}function Qo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!f0(e,n)&&(t.flags&128)===0)return jt=!1,s2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,He&&(t.flags&1048576)!==0&&zx(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")vu(e)?(l=xa(e,l),t.tag=1,t=Ko(null,t,e,l,n)):(t.tag=0,t=i0(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===q){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===G){t.tag=14,t=Oo(null,t,e,l,n);break e}}throw t=E(e)||e,Error(i(306,t,""))}}return t;case 0:return i0(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=xa(l,t.pendingProps),Ko(e,t,l,u,n);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,Lu(e,t),Di(t,l,null,n);var y=t.memoizedState;if(l=y.cache,wl(t,St,l),l!==x.cache&&Mu(t,[St],n,!0),zi(),l=y.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Xo(e,t,l,n);break e}else if(l!==u){u=wn(Error(i(424)),t),_i(u),t=Xo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ft=An(e.firstChild),qt=t,He=!0,Cl=null,Dn=!0,n=Yx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),l===u){t=xl(e,t,n);break e}Gt(e,t,l,n)}t=t.child}return t;case 26:return Zr(e,t),e===null?(n=ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=cc(xe.current).createElement(n),l[Dt]=t,l[It]=e,kt(l,n,e),Et(l),t.stateNode=l):t.memoizedState=ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&He&&(l=t.stateNode=id(t.type,t.pendingProps,xe.current),qt=t,Dn=!0,u=ft,kl(t.type)?(K0=u,ft=An(l.firstChild)):ft=u),Gt(e,t,t.pendingProps.children,n),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((u=l=ft)&&(l=O2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,qt=t,ft=An(l.firstChild),Dn=!1,u=!0):u=!1),u||jl(t)),ze(t),u=t.type,x=t.pendingProps,y=e!==null?e.memoizedProps:null,l=x.children,Y0(u,x)?l=null:y!==null&&Y0(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Ou(e,t,e2,null,null,n),Wi._currentValue=u),Zr(e,t),Gt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=ft)&&(n=Y2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,qt=t,ft=null,e=!0):e=!1),e||jl(t)),null;case 13:return Jo(e,t,n);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ua(t,null,l,n):Gt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,wl(t,t.type,l.value),Gt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,aa(t),u=Rt(u),l=l(u),t.flags|=1,Gt(e,t,l,n),t.child;case 14:return Oo(e,t,t.type,t.pendingProps,n);case 15:return Yo(e,t,t.type,t.pendingProps,n);case 19:return Vo(e,t,n);case 31:return u2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return aa(t),l=Rt(St),e===null?(u=Nu(),u===null&&(u=st,x=zu(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},Eu(t),wl(t,St,u)):((e.lanes&n)!==0&&(Lu(e,t),Di(t,null,null,n),zi()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),wl(t,St,l)):(l=x.cache,wl(t,St,l),l!==u.cache&&Mu(t,[St],n,!0))),Gt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function d0(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ca=Nr,Au}else e.flags&=-16777217}function Po(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(jf())e.flags|=8192;else throw ca=Nr,Au}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qe():536870912,e.lanes|=t,Wa|=t)}function Bi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function x2(e,t,n){var l=t.pendingProps;switch(_u(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return dt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(St),ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),dt(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(ol(t),x!==null?(dt(t),Po(t,x)):(dt(t),d0(t,u,null,l,n))):x?x!==e.memoizedState?(ol(t),dt(t),Po(t,x)):(dt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),dt(t),d0(t,u,e,l,n)),null;case 27:if(me(t),n=xe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}e=K.current,qa(t)?Nx(t):(e=id(u,l,n),t.stateNode=e,ol(t))}return dt(t),null;case 5:if(me(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(x=K.current,qa(t))Nx(t);else{var y=cc(xe.current);switch(x){case 1:x=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=y.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}x[Dt]=t,x[It]=l;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)x.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=x;e:switch(kt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return dt(t),d0(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=xe.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=qt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Wf(e.nodeValue,n)),e||jl(t,!0)}else e=cc(e).createTextNode(l),e[Dt]=t,t.stateNode=e}return dt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),e=!1}else n=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(i(558))}return dt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),u=!1}else u=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),dt(t),null);case 4:return ge(),e===null&&q0(t.stateNode.containerInfo),dt(t),null;case 10:return cl(t.type),dt(t),null;case 19:if(k(yt),l=t.memoizedState,l===null)return dt(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Bi(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Tr(e),x!==null){for(t.flags|=128,Bi(l,!1),e=x.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jx(n,e),n=n.sibling;return H(yt,yt.current&1|2),He&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Xe()>Pr&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Tr(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!He)return dt(t),null}else 2*Xe()-l.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xe(),e.sibling=null,n=yt.current,H(yt,u?n&1|2:n&1),He&&il(t,l.treeForkCount),e):(dt(t),null);case 22:case 23:return on(t),Ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&k(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(St),dt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function o2(e,t){switch(_u(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(St),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(i(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(yt),null;case 4:return ge(),null;case 10:return cl(t.type),null;case 22:case 23:return on(t),Ru(),e!==null&&k(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(St),null;case 25:return null;default:return null}}function Fo(e,t){switch(_u(t),t.tag){case 3:cl(St),ge();break;case 26:case 27:case 5:me(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:k(yt);break;case 10:cl(t.type);break;case 22:case 23:on(t),Ru(),e!==null&&k(ia);break;case 24:cl(St)}}function qi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,y=n.inst;l=x(),y.destroy=l}n=n.next}while(n!==u)}}catch(A){lt(t,t.return,A)}}function El(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var y=l.inst,A=y.destroy;if(A!==void 0){y.destroy=void 0,u=t;var Z=n,te=A;try{te()}catch(ie){lt(u,Z,ie)}}}l=l.next}while(l!==x)}}catch(ie){lt(t,t.return,ie)}}function $o(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ix(t,n)}catch(l){lt(e,e.return,l)}}}function ef(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){lt(e,t,l)}}function Ri(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){lt(e,t,u)}}function Vn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){lt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){lt(e,t,u)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){lt(e,e.return,u)}}function h0(e,t,n){try{var l=e.stateNode;T2(l,e.type,n,t),l[It]=t}catch(u){lt(e,e.return,u)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kl(e.type)||e.tag===4}function m0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&kl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(b0(e,t,n),e=e.sibling;e!==null;)b0(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&kl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);kt(t,l,n),t[Dt]=e,t[It]=n}catch(x){lt(e,e.return,x)}}var fl=!1,wt=!1,v0=!1,af=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function f2(e,t){if(e=e.containerInfo,k0=hc,e=mx(e),xu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var y=0,A=-1,Z=-1,te=0,ie=0,ce=e,ne=null;t:for(;;){for(var ae;ce!==n||u!==0&&ce.nodeType!==3||(A=y+u),ce!==x||l!==0&&ce.nodeType!==3||(Z=y+l),ce.nodeType===3&&(y+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ne=ce,ce=ae;for(;;){if(ce===e)break t;if(ne===n&&++te===u&&(A=y),ne===x&&++ie===l&&(Z=y),(ae=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=ae}n=A===-1||Z===-1?null:{start:A,end:Z}}else n=null}n=n||{start:0,end:0}}else n=null;for(O0={focusedElem:e,selectionRange:n},hc=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var he=xa(n.type,u);e=l.getSnapshotBeforeUpdate(he,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){lt(n,n.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)I0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":I0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&qi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){lt(n,n.return,y)}else{var u=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){lt(n,n.return,y)}}l&64&&$o(n),l&512&&Ri(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ix(e,t)}catch(y){lt(n,n.return,y)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:hl(e,n),t===null&&l&4&&tf(n),l&512&&Ri(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&sf(e,n);break;case 13:hl(e,n),l&4&&xf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_2.bind(null,n),H2(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||wt,u=fl;var x=wt;fl=l,(wt=t)&&!x?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=u,wt=x}break;case 30:break;default:hl(e,n)}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&si(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Vt=!1;function dl(e,t,n){for(n=n.child;n!==null;)uf(e,t,n),n=n.sibling}function uf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:wt||Vn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Vn(n,t);var l=ht,u=Vt;kl(n.type)&&(ht=n.stateNode,Vt=!1),dl(e,t,n),Ki(n.stateNode),ht=l,Vt=u;break;case 5:wt||Vn(n,t);case 6:if(l=ht,u=Vt,ht=null,dl(e,t,n),ht=l,Vt=u,ht!==null)if(Vt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(n.stateNode)}catch(x){lt(n,t,x)}else try{ht.removeChild(n.stateNode)}catch(x){lt(n,t,x)}break;case 18:ht!==null&&(Vt?(e=ht,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):ed(ht,n.stateNode));break;case 4:l=ht,u=Vt,ht=n.stateNode.containerInfo,Vt=!0,dl(e,t,n),ht=l,Vt=u;break;case 0:case 11:case 14:case 15:El(2,n,t),wt||El(4,n,t),dl(e,t,n);break;case 1:wt||(Vn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:wt=(l=wt)||n.memoizedState!==null,dl(e,t,n),wt=l;break;default:dl(e,t,n)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){lt(t,t.return,n)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){lt(t,t.return,n)}}function d2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(i(435,e.tag))}}function Wr(e,t){var n=d2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=S2.bind(null,e,l);l.then(u,u)}})}function Qt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,y=t,A=y;e:for(;A!==null;){switch(A.tag){case 27:if(kl(A.type)){ht=A.stateNode,Vt=!1;break e}break;case 5:ht=A.stateNode,Vt=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Vt=!0;break e}A=A.return}if(ht===null)throw Error(i(160));uf(x,y,u),ht=null,Vt=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var kn=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qt(t,e),Pt(e),l&4&&(El(3,e,e.return),qi(3,e),El(5,e,e.return));break;case 1:Qt(t,e),Pt(e),l&512&&(wt||n===null||Vn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=kn;if(Qt(t,e),Pt(e),l&512&&(wt||n===null||Vn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[cn]||x[Dt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),kt(x,l,n),x[Dt]=e,Et(x),l=x;break e;case"link":var y=od("link","href",u).get(l+(n.href||""));if(y){for(var A=0;A<y.length;A++)if(x=y[A],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(A,1);break t}}x=u.createElement(l),kt(x,l,n),u.head.appendChild(x);break;case"meta":if(y=od("meta","content",u).get(l+(n.content||""))){for(A=0;A<y.length;A++)if(x=y[A],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(A,1);break t}}x=u.createElement(l),kt(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[Dt]=e,Et(x),l=x}e.stateNode=l}else fd(u,e.type,e.stateNode);else e.stateNode=xd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?fd(u,e.type,e.stateNode):xd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&h0(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qt(t,e),Pt(e),l&512&&(wt||n===null||Vn(n,n.return)),n!==null&&l&4&&h0(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qt(t,e),Pt(e),l&512&&(wt||n===null||Vn(n,n.return)),e.flags&32){u=e.stateNode;try{wa(u,"")}catch(he){lt(e,e.return,he)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,h0(e,u,n!==null?n.memoizedProps:u)),l&1024&&(v0=!0);break;case 6:if(Qt(t,e),Pt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(he){lt(e,e.return,he)}}break;case 3:if(xc=null,u=kn,kn=uc(t.containerInfo),Qt(t,e),kn=u,Pt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(he){lt(e,e.return,he)}v0&&(v0=!1,ff(e));break;case 4:l=kn,kn=uc(e.stateNode.containerInfo),Qt(t,e),Pt(e),kn=l;break;case 12:Qt(t,e),Pt(e);break;case 31:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 13:Qt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qr=Xe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 22:u=e.memoizedState!==null;var Z=n!==null&&n.memoizedState!==null,te=fl,ie=wt;if(fl=te||u,wt=ie||Z,Qt(t,e),wt=ie,fl=te,Pt(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||Z||fl||wt||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Z=n=t;try{if(x=Z.stateNode,u)y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=Z.stateNode;var ce=Z.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;A.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(he){lt(Z,Z.return,he)}}}else if(t.tag===6){if(n===null){Z=t;try{Z.stateNode.nodeValue=u?"":Z.memoizedProps}catch(he){lt(Z,Z.return,he)}}}else if(t.tag===18){if(n===null){Z=t;try{var ae=Z.stateNode;u?td(ae,!0):td(Z.stateNode,!1)}catch(he){lt(Z,Z.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Wr(e,n))));break;case 19:Qt(t,e),Pt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 30:break;case 21:break;default:Qt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=m0(e);Jr(e,x,u);break;case 5:var y=n.stateNode;n.flags&32&&(wa(y,""),n.flags&=-33);var A=m0(e);Jr(e,A,y);break;case 3:case 4:var Z=n.stateNode.containerInfo,te=m0(e);b0(e,te,Z);break;default:throw Error(i(161))}}catch(ie){lt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:El(4,t,t.return),oa(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),oa(t);break;case 27:Ki(t.stateNode);case 26:case 5:Vn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,y=x.flags;switch(x.tag){case 0:case 11:case 15:ml(u,x,n),qi(4,x);break;case 1:if(ml(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){lt(l,l.return,te)}if(l=x,u=l.updateQueue,u!==null){var A=l.stateNode;try{var Z=u.shared.hiddenCallbacks;if(Z!==null)for(u.shared.hiddenCallbacks=null,u=0;u<Z.length;u++)Hx(Z[u],A)}catch(te){lt(l,l.return,te)}}n&&y&64&&$o(x),Ri(x,x.return);break;case 27:lf(x);case 26:case 5:ml(u,x,n),n&&l===null&&y&4&&tf(x),Ri(x,x.return);break;case 12:ml(u,x,n);break;case 31:ml(u,x,n),n&&y&4&&sf(u,x);break;case 13:ml(u,x,n),n&&y&4&&xf(u,x);break;case 22:x.memoizedState===null&&ml(u,x,n),Ri(x,x.return);break;case 30:break;default:ml(u,x,n)}t=t.sibling}}function g0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function y0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function On(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:On(e,t,n,l),u&2048&&qi(9,t);break;case 1:On(e,t,n,l);break;case 3:On(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(u&2048){On(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,y=x.id,A=x.onPostCommit;typeof A=="function"&&A(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){lt(t,t.return,Z)}}else On(e,t,n,l);break;case 31:On(e,t,n,l);break;case 13:On(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,y=t.alternate,t.memoizedState!==null?x._visibility&2?On(e,t,n,l):Gi(e,t):x._visibility&2?On(e,t,n,l):(x._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&g0(y,t);break;case 24:On(e,t,n,l),u&2048&&y0(t.alternate,t);break;default:On(e,t,n,l)}}function Ka(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,y=t,A=n,Z=l,te=y.flags;switch(y.tag){case 0:case 11:case 15:Ka(x,y,A,Z,u),qi(8,y);break;case 23:break;case 22:var ie=y.stateNode;y.memoizedState!==null?ie._visibility&2?Ka(x,y,A,Z,u):Gi(x,y):(ie._visibility|=2,Ka(x,y,A,Z,u)),u&&te&2048&&g0(y.alternate,y);break;case 24:Ka(x,y,A,Z,u),u&&te&2048&&y0(y.alternate,y);break;default:Ka(x,y,A,Z,u)}t=t.sibling}}function Gi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Gi(n,l),u&2048&&g0(l.alternate,l);break;case 24:Gi(n,l),u&2048&&y0(l.alternate,l);break;default:Gi(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&$2(n,kn,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=kn;kn=uc(e.stateNode.containerInfo),Xa(e,t,n),kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,vf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&El(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Oi(e);break;default:Oi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,vf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:El(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function vf(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:El(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var u=l.sibling,x=l.return;if(cf(l),l===n){Lt=null;break e}if(u!==null){u.return=x,Lt=u;break e}Lt=x}}}var h2={getCacheForType:function(e){var t=Rt(St),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(St).controller.signal}},m2=typeof WeakMap=="function"?WeakMap:Map,Pe=0,st=null,Re=null,ke=0,nt=0,fn=null,Ll=!1,Ja=!1,p0=!1,bl=0,vt=0,Tl=0,fa=0,_0=0,dn=0,Wa=0,Yi=null,Ft=null,S0=!1,Qr=0,gf=0,Pr=1/0,Fr=null,Bl=null,Nt=0,ql=null,Va=null,vl=0,C0=0,j0=null,yf=null,Hi=0,w0=null;function hn(){return(Pe&2)!==0&&ke!==0?ke&-ke:S.T!==null?E0():ya()}function pf(){if(dn===0)if((ke&536870912)===0||He){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),dn=e}else dn=536870912;return e=xn.current,e!==null&&(e.flags|=32),dn}function $t(e,t,n){(e===st&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Rl(e,ke,dn,!1)),gt(e,n),((Pe&2)===0||e!==st)&&(e===st&&((Pe&2)===0&&(fa|=n),vt===4&&Rl(e,ke,dn,!1)),Qn(e))}function _f(e,t,n){if((Pe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ye(e,t),u=l?g2(e,t):z0(e,t,!0),x=l;do{if(u===0){Ja&&!l&&Rl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!b2(n)){u=z0(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var A=e;u=Yi;var Z=A.current.memoizedState.isDehydrated;if(Z&&(Qa(A,y).flags|=256),y=z0(A,y,!1),y!==2){if(p0&&!Z){A.errorRecoveryDisabledLanes|=x,fa|=x,u=4;break e}x=Ft,Ft=u,x!==null&&(Ft===null?Ft=x:Ft.push.apply(Ft,x))}u=y}if(x=!1,u!==2)continue}}if(u===1){Qa(e,0),Rl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Rl(l,t,dn,!Ll);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Qr+300-Xe(),10<u)){if(Rl(l,t,dn,!Ll),We(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,Ft,Fr,S0,t,dn,fa,Wa,Ll,x,"Throttled",-0,0),u);break e}Sf(l,n,Ft,Fr,S0,t,dn,fa,Wa,Ll,x,null,-0,0)}}break}while(!0);Qn(e)}function Sf(e,t,n,l,u,x,y,A,Z,te,ie,ce,ne,ae){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},hf(t,x,ce);var he=(x&62914560)===x?Qr-Xe():(x&4194048)===x?gf-Xe():0;if(he=eh(ce,he),he!==null){vl=x,e.cancelPendingCommit=he(Af.bind(null,e,t,x,n,l,u,y,A,Z,ie,ce,null,ne,ae)),Rl(e,x,y,!te);return}}Af(e,t,x,n,l,u,y,A,Z)}function b2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!un(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rl(e,t,n,l){t&=~_0,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-se(u),y=1<<x;l[x]=-1,u&=~y}n!==0&&Me(e,n,t)}function $r(){return(Pe&6)===0?(Ii(0),!1):!0}function M0(){if(Re!==null){if(nt===0)var e=Re.return;else e=Re,rl=la=null,Iu(e),Ya=null,ji=0,e=Re;for(;e!==null;)Fo(e.alternate,e),e=e.return;Re=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,R2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,M0(),st=e,Re=n=al(e.current,null),ke=t,nt=0,fn=null,Ll=!1,Ja=Ye(e,t),p0=!1,Wa=dn=_0=fa=Tl=vt=0,Ft=Yi=null,S0=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-se(l),x=1<<u;t|=e[u],l&=~x}return bl=t,pr(),n}function Cf(e,t){Le=null,S.H=Li,t===Oa||t===Dr?(t=Gx(),nt=3):t===Au?(t=Gx(),nt=4):nt=t===a0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Re===null&&(vt=1,Ir(e,wn(t,e.current)))}function jf(){var e=xn.current;return e===null?!0:(ke&4194048)===ke?Nn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Nn:!1}function wf(){var e=S.H;return S.H=Li,e===null?Li:e}function Mf(){var e=S.A;return S.A=h2,e}function ec(){vt=4,Ll||(ke&4194048)!==ke&&xn.current!==null||(Ja=!0),(Tl&134217727)===0&&(fa&134217727)===0||st===null||Rl(st,ke,dn,!1)}function z0(e,t,n){var l=Pe;Pe|=2;var u=wf(),x=Mf();(st!==e||ke!==t)&&(Fr=null,Qa(e,t)),t=!1;var y=vt;e:do try{if(nt!==0&&Re!==null){var A=Re,Z=fn;switch(nt){case 8:M0(),y=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(t=!0);var te=nt;if(nt=0,fn=null,Pa(e,A,Z,te),n&&Ja){y=0;break e}break;default:te=nt,nt=0,fn=null,Pa(e,A,Z,te)}}v2(),y=vt;break}catch(ie){Cf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=la=null,Pe=l,S.H=u,S.A=x,Re===null&&(st=null,ke=0,pr()),y}function v2(){for(;Re!==null;)zf(Re)}function g2(e,t){var n=Pe;Pe|=2;var l=wf(),u=Mf();st!==e||ke!==t?(Fr=null,Pr=Xe()+500,Qa(e,t)):Ja=Ye(e,t);e:do try{if(nt!==0&&Re!==null){t=Re;var x=fn;t:switch(nt){case 1:nt=0,fn=null,Pa(e,t,x,1);break;case 2:case 9:if(qx(x)){nt=0,fn=null,Df(t);break}t=function(){nt!==2&&nt!==9||st!==e||(nt=7),Qn(e)},x.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:qx(x)?(nt=0,fn=null,Df(t)):(nt=0,fn=null,Pa(e,t,x,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var A=Re;if(y?dd(y):A.stateNode.complete){nt=0,fn=null;var Z=A.sibling;if(Z!==null)Re=Z;else{var te=A.return;te!==null?(Re=te,tc(te)):Re=null}break t}}nt=0,fn=null,Pa(e,t,x,5);break;case 6:nt=0,fn=null,Pa(e,t,x,6);break;case 8:M0(),vt=6;break e;default:throw Error(i(462))}}y2();break}catch(ie){Cf(e,ie)}while(!0);return rl=la=null,S.H=l,S.A=u,Pe=n,Re!==null?0:(st=null,ke=0,pr(),vt)}function y2(){for(;Re!==null&&!Kn();)zf(Re)}function zf(e){var t=Qo(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?tc(e):Re=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Iu(t);default:Fo(n,t),t=Re=jx(t,bl),t=Qo(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?tc(e):Re=t}function Pa(e,t,n,l){rl=la=null,Iu(t),Ya=null,ji=0;var u=t.return;try{if(c2(e,u,t,n,ke)){vt=1,Ir(e,wn(n,e.current)),Re=null;return}}catch(x){if(u!==null)throw Re=u,x;vt=1,Ir(e,wn(n,e.current)),Re=null;return}t.flags&32768?(He||l===1?e=!0:Ja||(ke&536870912)!==0?e=!1:(Ll=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):tc(t)}function tc(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,Ll);return}e=t.return;var n=x2(t.alternate,t,bl);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);vt===0&&(vt=5)}function Nf(e,t){do{var n=o2(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);vt=6,Re=null}function Af(e,t,n,l,u,x,y,A,Z){e.cancelPendingCommit=null;do nc();while(Nt!==0);if((Pe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=mu,Fe(e,n,x,y,A,Z),e===st&&(Re=st=null,ke=0),Va=t,ql=e,vl=n,C0=x,j0=u,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C2(qn,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=S.T,S.T=null,u=L.p,L.p=2,y=Pe,Pe|=4;try{f2(e,t,n)}finally{Pe=y,L.p=u,S.T=l}}Nt=1,Ef(),Lf(),Tf()}}function Ef(){if(Nt===1){Nt=0;var e=ql,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=S.T,S.T=null;var l=L.p;L.p=2;var u=Pe;Pe|=4;try{of(t,e);var x=O0,y=mx(e.containerInfo),A=x.focusedElem,Z=x.selectionRange;if(y!==A&&A&&A.ownerDocument&&hx(A.ownerDocument.documentElement,A)){if(Z!==null&&xu(A)){var te=Z.start,ie=Z.end;if(ie===void 0&&(ie=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(ie,A.value.length);else{var ce=A.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),he=A.textContent.length,Ce=Math.min(Z.start,he),rt=Z.end===void 0?Ce:Math.min(Z.end,he);!ae.extend&&Ce>rt&&(y=rt,rt=Ce,Ce=y);var P=dx(A,Ce),V=dx(A,rt);if(P&&V&&(ae.rangeCount!==1||ae.anchorNode!==P.node||ae.anchorOffset!==P.offset||ae.focusNode!==V.node||ae.focusOffset!==V.offset)){var ee=ce.createRange();ee.setStart(P.node,P.offset),ae.removeAllRanges(),Ce>rt?(ae.addRange(ee),ae.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),ae.addRange(ee))}}}}for(ce=[],ae=A;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ce.length;A++){var re=ce[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hc=!!k0,O0=k0=null}finally{Pe=u,L.p=l,S.T=n}}e.current=t,Nt=2}}function Lf(){if(Nt===2){Nt=0;var e=ql,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=S.T,S.T=null;var l=L.p;L.p=2;var u=Pe;Pe|=4;try{rf(e,t.alternate,t)}finally{Pe=u,L.p=l,S.T=n}}Nt=3}}function Tf(){if(Nt===4||Nt===3){Nt=0,Xn();var e=ql,t=Va,n=vl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Va=ql=null,Bf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Bl=null),pn(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=S.T,u=L.p,L.p=2,S.T=null;try{for(var x=e.onRecoverableError,y=0;y<l.length;y++){var A=l[y];x(A.value,{componentStack:A.stack})}}finally{S.T=t,L.p=u}}(vl&3)!==0&&nc(),Qn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===w0?Hi++:(Hi=0,w0=e):Hi=0,Ii(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function nc(){return Ef(),Lf(),Tf(),qf()}function qf(){if(Nt!==5)return!1;var e=ql,t=C0;C0=0;var n=pn(vl),l=S.T,u=L.p;try{L.p=32>n?32:n,S.T=null,n=j0,j0=null;var x=ql,y=vl;if(Nt=0,Va=ql=null,vl=0,(Pe&6)!==0)throw Error(i(331));var A=Pe;if(Pe|=4,bf(x.current),df(x,x.current,y,n),Pe=A,Ii(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(el,x)}catch{}return!0}finally{L.p=u,S.T=l,Bf(e,t)}}function Rf(e,t,n){t=wn(n,t),t=l0(e.stateNode,t,2),e=Dl(e,t,2),e!==null&&(gt(e,2),Qn(e))}function lt(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bl===null||!Bl.has(l))){e=wn(n,e),n=Ro(2),l=Dl(t,n,2),l!==null&&(Go(n,l,t,e),gt(l,2),Qn(l));break}}t=t.return}}function D0(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new m2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(p0=!0,u.add(n),e=p2.bind(null,e,t,n),t.then(e,e))}function p2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(ke&n)===n&&(vt===4||vt===3&&(ke&62914560)===ke&&300>Xe()-Qr?(Pe&2)===0&&Qa(e,0):_0|=n,Wa===ke&&(Wa=0)),Qn(e)}function Gf(e,t){t===0&&(t=Qe()),e=ea(e,t),e!==null&&(gt(e,t),Qn(e))}function _2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gf(e,n)}function S2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Gf(e,n)}function C2(e,t){return Ht(e,t)}var lc=null,Fa=null,N0=!1,ac=!1,A0=!1,Gl=0;function Qn(e){e!==Fa&&e.next===null&&(Fa===null?lc=Fa=e:Fa=Fa.next=e),ac=!0,N0||(N0=!0,w2())}function Ii(e,t){if(!A0&&ac){A0=!0;do for(var n=!1,l=lc;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var y=l.suspendedLanes,A=l.pingedLanes;x=(1<<31-se(42|e)+1)-1,x&=u&~(y&~A),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Hf(l,x))}else x=ke,x=We(l,l===st?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Ye(l,x)||(n=!0,Hf(l,x));l=l.next}while(n);A0=!1}}function j2(){kf()}function kf(){ac=N0=!1;var e=0;Gl!==0&&q2()&&(e=Gl);for(var t=Xe(),n=null,l=lc;l!==null;){var u=l.next,x=Of(l,t);x===0?(l.next=null,n===null?lc=u:n.next=u,u===null&&(Fa=n)):(n=l,(e!==0||(x&3)!==0)&&(ac=!0)),l=u}Nt!==0&&Nt!==5||Ii(e),Gl!==0&&(Gl=0)}function Of(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var y=31-se(x),A=1<<y,Z=u[y];Z===-1?((A&n)===0||(A&l)!==0)&&(u[y]=Ve(A,t)):Z<=t&&(e.expiredLanes|=A),x&=~A}if(t=st,n=ke,n=We(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ye(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&rn(l),pn(n)){case 2:case 8:n=Jl;break;case 32:n=qn;break;case 268435456:n=Rn;break;default:n=qn}return l=Yf.bind(null,e),n=Ht(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&rn(l),e.callbackPriority=2,e.callbackNode=null,2}function Yf(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nc()&&e.callbackNode!==n)return null;var l=ke;return l=We(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Of(e,Xe()),e.callbackNode!=null&&e.callbackNode===n?Yf.bind(null,e):null)}function Hf(e,t){if(nc())return null;_f(e,t,!0)}function w2(){G2(function(){(Pe&6)!==0?Ht(pl,j2):kf()})}function E0(){if(Gl===0){var e=Ga;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Gl=e}return Gl}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function M2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=If((u[It]||null).action),y=l.submitter;y&&(t=(t=y[It]||null)?If(t.formAction):y.getAttribute("formAction"),t!==null&&(x=t,y=null));var A=new br("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gl!==0){var Z=y?Uf(u,y):new FormData(u);Pu(n,{pending:!0,data:Z,method:u.method,action:x},null,Z)}}else typeof x=="function"&&(A.preventDefault(),Z=y?Uf(u,y):new FormData(u),Pu(n,{pending:!0,data:Z,method:u.method,action:x},x,Z))},currentTarget:u}]})}}for(var L0=0;L0<hu.length;L0++){var T0=hu[L0],z2=T0.toLowerCase(),D2=T0[0].toUpperCase()+T0.slice(1);Gn(z2,"on"+D2)}Gn(gx,"onAnimationEnd"),Gn(yx,"onAnimationIteration"),Gn(px,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Z1,"onTransitionRun"),Gn(K1,"onTransitionStart"),Gn(X1,"onTransitionCancel"),Gn(_x,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var y=l.length-1;0<=y;y--){var A=l[y],Z=A.instance,te=A.currentTarget;if(A=A.listener,Z!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(ie){yr(ie)}u.currentTarget=null,x=Z}else for(y=0;y<l.length;y++){if(A=l[y],Z=A.instance,te=A.currentTarget,A=A.listener,Z!==x&&u.isPropagationStopped())break e;x=A,u.currentTarget=te;try{x(u)}catch(ie){yr(ie)}u.currentTarget=null,x=Z}}}}function Ge(e,t){var n=t[pe];n===void 0&&(n=t[pe]=new Set);var l=e+"__bubble";n.has(l)||(Kf(t,e,2,!1),n.add(l))}function B0(e,t,n){var l=0;t&&(l|=4),Kf(n,e,l,t)}var ic="_reactListening"+Math.random().toString(36).slice(2);function q0(e){if(!e[ic]){e[ic]=!0,Rs.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||B0(n,!1,e),B0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ic]||(t[ic]=!0,B0("selectionchange",!1,t))}}function Kf(e,t,n,l){switch(pd(t)){case 2:var u=lh;break;case 8:u=ah;break;default:u=Q0}n=u.bind(null,t,n,e),u=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function R0(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var A=l.stateNode.containerInfo;if(A===u)break;if(y===4)for(y=l.return;y!==null;){var Z=y.tag;if((Z===3||Z===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;A!==null;){if(y=pa(A),y===null)return;if(Z=y.tag,Z===5||Z===6||Z===26||Z===27){l=x=y;continue e}A=A.parentNode}}l=l.return}Ws(function(){var te=x,ie=$c(n),ce=[];e:{var ne=Sx.get(e);if(ne!==void 0){var ae=br,he=e;switch(e){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":ae=S1;break;case"focusin":he="focus",ae=iu;break;case"focusout":he="blur",ae=iu;break;case"beforeblur":case"afterblur":ae=iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w1;break;case gx:case yx:case px:ae=d1;break;case _x:ae=z1;break;case"scroll":case"scrollend":ae=u1;break;case"wheel":ae=N1;break;case"copy":case"cut":case"paste":ae=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=$s;break;case"toggle":case"beforetoggle":ae=E1}var Ce=(t&4)!==0,rt=!Ce&&(e==="scroll"||e==="scrollend"),P=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var V=te,ee;V!==null;){var re=V;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||P===null||(re=oi(V,P),re!=null&&Ce.push(Zi(V,re,ee))),rt)break;V=V.return}0<Ce.length&&(ne=new ae(ne,he,null,n,ie),ce.push({event:ne,listeners:Ce}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Fc&&(he=n.relatedTarget||n.fromElement)&&(pa(he)||he[oe]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(he=n.relatedTarget||n.toElement,ae=te,he=he?pa(he):null,he!==null&&(rt=f(he),Ce=he.tag,he!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(he=null)):(ae=null,he=te),ae!==he)){if(Ce=Ps,re="onMouseLeave",P="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=$s,re="onPointerLeave",P="onPointerEnter",V="pointer"),rt=ae==null?ne:xi(ae),ee=he==null?ne:xi(he),ne=new Ce(re,V+"leave",ae,n,ie),ne.target=rt,ne.relatedTarget=ee,re=null,pa(ie)===te&&(Ce=new Ce(P,V+"enter",he,n,ie),Ce.target=ee,Ce.relatedTarget=rt,re=Ce),rt=re,ae&&he)t:{for(Ce=A2,P=ae,V=he,ee=0,re=P;re;re=Ce(re))ee++;re=0;for(var _e=V;_e;_e=Ce(_e))re++;for(;0<ee-re;)P=Ce(P),ee--;for(;0<re-ee;)V=Ce(V),re--;for(;ee--;){if(P===V||V!==null&&P===V.alternate){Ce=P;break t}P=Ce(P),V=Ce(V)}Ce=null}else Ce=null;ae!==null&&Xf(ce,ne,ae,Ce,!1),he!==null&&rt!==null&&Xf(ce,rt,he,Ce,!0)}}e:{if(ne=te?xi(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ze=cx;else if(ix(ne))if(ux)Ze=H1;else{Ze=O1;var be=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Pc(te.elementType)&&(Ze=cx):Ze=Y1;if(Ze&&(Ze=Ze(e,te))){rx(ce,Ze,n,ie);break e}be&&be(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Qc(ne,"number",ne.value)}switch(be=te?xi(te):window,e){case"focusin":(ix(be)||be.contentEditable==="true")&&(Na=be,ou=te,yi=null);break;case"focusout":yi=ou=Na=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,bx(ce,n,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":bx(ce,n,ie)}var Te;if(cu)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Da?lx(e,n)&&(Oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Oe="onCompositionStart");Oe&&(ex&&n.locale!=="ko"&&(Da||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Da&&(Te=Vs()):(_l=ie,nu="value"in _l?_l.value:_l.textContent,Da=!0)),be=rc(te,Oe),0<be.length&&(Oe=new Fs(Oe,e,null,n,ie),ce.push({event:Oe,listeners:be}),Te?Oe.data=Te:(Te=ax(n),Te!==null&&(Oe.data=Te)))),(Te=T1?B1(e,n):q1(e,n))&&(Oe=rc(te,"onBeforeInput"),0<Oe.length&&(be=new Fs("onBeforeInput","beforeinput",null,n,ie),ce.push({event:be,listeners:Oe}),be.data=Te)),M2(ce,e,te,n,ie)}Zf(ce,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rc(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=oi(e,n),u!=null&&l.unshift(Zi(e,u,x)),u=oi(e,t),u!=null&&l.push(Zi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function A2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,u){for(var x=t._reactName,y=[];n!==null&&n!==l;){var A=n,Z=A.alternate,te=A.stateNode;if(A=A.tag,Z!==null&&Z===l)break;A!==5&&A!==26&&A!==27||te===null||(Z=te,u?(te=oi(n,x),te!=null&&y.unshift(Zi(n,te,Z))):u||(te=oi(n,x),te!=null&&y.push(Zi(n,te,Z)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var E2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Jf(e){return(typeof e=="string"?e:""+e).replace(E2,`
`).replace(L2,"")}function Wf(e,t){return t=Jf(t),Jf(e)===t}function it(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wa(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Xs(e,l,x);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&it(e,t,"name",u.name,u,null),it(e,t,"formEncType",u.formEncType,u,null),it(e,t,"formMethod",u.formMethod,u,null),it(e,t,"formTarget",u.formTarget,u,null)):(it(e,t,"encType",u.encType,u,null),it(e,t,"method",u.method,u,null),it(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,sr(e,n,l))}}function G0(e,t,n,l,u,x){switch(n){case"style":Xs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wa(e,l):(typeof l=="number"||typeof l=="bigint")&&wa(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[It]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):sr(e,n,l)}}}function kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var y=n[x];if(y!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:it(e,t,x,y,n,null)}}u&&it(e,t,"srcSet",n.srcSet,n,null),l&&it(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var A=x=y=u=null,Z=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:it(e,t,l,ie,n,null)}}Is(e,x,A,Z,te,y,u,!1);return;case"select":Ge("invalid",e),l=y=x=null;for(u in n)if(n.hasOwnProperty(u)&&(A=n[u],A!=null))switch(u){case"value":x=A;break;case"defaultValue":y=A;break;case"multiple":l=A;default:it(e,t,u,A,n,null)}t=x,n=y,e.multiple=!!l,t!=null?ja(e,!!l,t,!1):n!=null&&ja(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),x=u=l=null;for(y in n)if(n.hasOwnProperty(y)&&(A=n[y],A!=null))switch(y){case"value":l=A;break;case"defaultValue":u=A;break;case"children":x=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:it(e,t,y,A,n,null)}Zs(e,l,u,x);return;case"option":for(Z in n)n.hasOwnProperty(Z)&&(l=n[Z],l!=null)&&(Z==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":it(e,t,Z,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)Ge(Ui[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:it(e,t,te,l,n,null)}return;default:if(Pc(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&G0(e,t,ie,l,n,void 0));return}}for(A in n)n.hasOwnProperty(A)&&(l=n[A],l!=null&&it(e,t,A,l,n,null))}function T2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,y=null,A=null,Z=null,te=null,ie=null;for(ae in n){var ce=n[ae];if(n.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Z=ce;default:l.hasOwnProperty(ae)||it(e,t,ae,null,l,ce)}}for(var ne in l){var ae=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ce!=null))switch(ne){case"type":x=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":y=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ce&&it(e,t,ne,ae,l,ce)}}Vc(e,y,A,Z,te,ie,x,u);return;case"select":ae=y=A=ne=null;for(x in n)if(Z=n[x],n.hasOwnProperty(x)&&Z!=null)switch(x){case"value":break;case"multiple":ae=Z;default:l.hasOwnProperty(x)||it(e,t,x,null,l,Z)}for(u in l)if(x=l[u],Z=n[u],l.hasOwnProperty(u)&&(x!=null||Z!=null))switch(u){case"value":ne=x;break;case"defaultValue":A=x;break;case"multiple":y=x;default:x!==Z&&it(e,t,u,x,l,Z)}t=A,n=y,l=ae,ne!=null?ja(e,!!n,ne,!1):!!l!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(A in n)if(u=n[A],n.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:it(e,t,A,null,l,u)}for(y in l)if(u=l[y],x=n[y],l.hasOwnProperty(y)&&(u!=null||x!=null))switch(y){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&it(e,t,y,u,l,x)}Us(e,ne,ae);return;case"option":for(var he in n)ne=n[he],n.hasOwnProperty(he)&&ne!=null&&!l.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:it(e,t,he,null,l,ne));for(Z in l)ne=l[Z],ae=n[Z],l.hasOwnProperty(Z)&&ne!==ae&&(ne!=null||ae!=null)&&(Z==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":it(e,t,Z,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in n)ne=n[Ce],n.hasOwnProperty(Ce)&&ne!=null&&!l.hasOwnProperty(Ce)&&it(e,t,Ce,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:it(e,t,te,ne,l,ae)}return;default:if(Pc(t)){for(var rt in n)ne=n[rt],n.hasOwnProperty(rt)&&ne!==void 0&&!l.hasOwnProperty(rt)&&G0(e,t,rt,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||G0(e,t,ie,ne,l,ae);return}}for(var P in n)ne=n[P],n.hasOwnProperty(P)&&ne!=null&&!l.hasOwnProperty(P)&&it(e,t,P,null,l,ne);for(ce in l)ne=l[ce],ae=n[ce],!l.hasOwnProperty(ce)||ne===ae||ne==null&&ae==null||it(e,t,ce,ne,l,ae)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,y=u.initiatorType,A=u.duration;if(x&&A&&Vf(y)){for(y=0,A=u.responseEnd,l+=1;l<n.length;l++){var Z=n[l],te=Z.startTime;if(te>A)break;var ie=Z.transferSize,ce=Z.initiatorType;ie&&Vf(ce)&&(Z=Z.responseEnd,y+=ie*(Z<A?1:(A-te)/(Z-te)))}if(--l,t+=8*(x+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var k0=null,O0=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Y0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H0=null;function q2(){var e=window.event;return e&&e.type==="popstate"?e===H0?!1:(H0=e,!0):(H0=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,R2=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,G2=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(k2)}:Ff;function k2(e){setTimeout(function(){throw e})}function kl(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ki(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ki(n);for(var x=n.firstChild;x;){var y=x.nextSibling,A=x.nodeName;x[cn]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=y}}else n==="body"&&Ki(e.ownerDocument.body);n=u}while(n);ni(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function I0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":I0(n),si(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function O2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Y2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function U0(e){return e.data==="$?"||e.data==="$~"}function Z0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var K0=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=cc(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);si(e)}var En=new Map,rd=new Set;function uc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=L.d;L.d={f:I2,r:U2,D:Z2,C:K2,L:X2,m:J2,X:V2,S:W2,M:Q2};function I2(){var e=gl.f(),t=$r();return e||t}function U2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?So(t):gl.r(e)}var $a=typeof document>"u"?null:document;function cd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var u=Cn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),rd.has(u)||(rd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),kt(t,"link",e),Et(t),l.head.appendChild(t)))}}function Z2(e){gl.D(e),cd("dns-prefetch",e,null)}function K2(e,t){gl.C(e,t),cd("preconnect",e,t)}function X2(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var u='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Cn(n.imageSizes)+'"]')):u+='[href="'+Cn(e)+'"]';var x=u;switch(t){case"style":x=ei(e);break;case"script":x=ti(e)}En.has(x)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),En.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Xi(x))||t==="script"&&l.querySelector(Ji(x))||(t=l.createElement("link"),kt(t,"link",e),Et(t),l.head.appendChild(t)))}}function J2(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ti(e)}if(!En.has(x)&&(e=g({rel:"modulepreload",href:e},t),En.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ji(x)))return}l=n.createElement("link"),kt(l,"link",e),Et(l),n.head.appendChild(l)}}}function W2(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var u=Sa(l).hoistableStyles,x=ei(e);t=t||"default";var y=u.get(x);if(!y){var A={loading:0,preload:null};if(y=l.querySelector(Xi(x)))A.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=En.get(x))&&X0(e,n);var Z=y=l.createElement("link");Et(Z),kt(Z,"link",e),Z._p=new Promise(function(te,ie){Z.onload=te,Z.onerror=ie}),Z.addEventListener("load",function(){A.loading|=1}),Z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,sc(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:A},u.set(x,y)}}}function V2(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),x=l.get(u);x||(x=n.querySelector(Ji(u)),x||(e=g({src:e,async:!0},t),(t=En.get(u))&&J0(e,t),x=n.createElement("script"),Et(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function Q2(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),x=l.get(u);x||(x=n.querySelector(Ji(u)),x||(e=g({src:e,async:!0,type:"module"},t),(t=En.get(u))&&J0(e,t),x=n.createElement("script"),Et(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function ud(e,t,n,l){var u=(u=xe.current)?uc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var x=Sa(u).hoistableStyles,y=x.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,y),(x=u.querySelector(Xi(e)))&&!x._p&&(y.instance=x,y.state.loading=5),En.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},En.set(e,n),x||P2(u,e,n,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ei(e){return'href="'+Cn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function sd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function P2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),kt(t,"link",n),Et(t),e.head.appendChild(t))}function ti(e){return'[src="'+Cn(e)+'"]'}function Ji(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Et(l),l;var u=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Et(l),kt(l,"style",u),sc(l,n.precedence,e),t.instance=l;case"stylesheet":u=ei(n.href);var x=e.querySelector(Xi(u));if(x)return t.state.loading|=4,t.instance=x,Et(x),x;l=sd(n),(u=En.get(u))&&X0(l,u),x=(e.ownerDocument||e).createElement("link"),Et(x);var y=x;return y._p=new Promise(function(A,Z){y.onload=A,y.onerror=Z}),kt(x,"link",l),t.state.loading|=4,sc(x,n.precedence,e),t.instance=x;case"script":return x=ti(n.src),(u=e.querySelector(Ji(x)))?(t.instance=u,Et(u),u):(l=n,(u=En.get(x))&&(l=g({},n),J0(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Et(u),kt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,sc(l,n.precedence,e));return t.instance}function sc(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,y=0;y<l.length;y++){var A=l[y];if(A.dataset.precedence===t)x=A;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function X0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function J0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xc=null;function od(e,t,n){if(xc===null){var l=new Map,u=xc=new Map;u.set(n,l)}else u=xc,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[cn]||x[Dt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var y=x.getAttribute(t)||"";y=e+y;var A=l.get(y);A?A.push(x):l.set(y,[x])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function F2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ei(l.href),x=t.querySelector(Xi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Et(x);return}x=t.ownerDocument||t,l=sd(l),(u=En.get(u))&&X0(l,u),x=x.createElement("link"),Et(x);var y=x;y._p=new Promise(function(A,Z){y.onload=A,y.onerror=Z}),kt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=oc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var W0=0;function eh(e,t){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&W0===0&&(W0=62500*B2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>W0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,t.forEach(th,e),fc=null,oc.call(e))}function th(e,t){if(!(t.state.loading&4)){var n=fc.get(e);if(n)var l=n.get(null);else{n=new Map,fc.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var y=u[x];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),l=y)}l&&n.set(null,l)}u=t.instance,y=u.getAttribute("data-precedence"),x=n.get(y)||l,x===l&&n.set(null,u),n.set(y,u),this.count++,l=oc.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:T,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function nh(e,t,n,l,u,x,y,A,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function hd(e,t,n,l,u,x,y,A,Z,te,ie,ce){return e=new nh(e,t,n,y,Z,te,ie,ce,A),t=1,x===!0&&(t|=24),x=sn(3,null,null,t),e.current=x,x.stateNode=e,t=zu(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Eu(x),e}function md(e){return e?(e=La,e):La}function bd(e,t,n,l,u,x){u=md(u),l.context===null?l.context=u:l.pendingContext=u,l=zl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Dl(e,l,t),n!==null&&($t(n,e,t),Mi(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function V0(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=ea(e,67108864);t!==null&&$t(t,e,67108864),V0(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=hn();t=tt(t);var n=ea(e,t);n!==null&&$t(n,e,t),V0(e,t)}}var hc=!0;function lh(e,t,n,l){var u=S.T;S.T=null;var x=L.p;try{L.p=2,Q0(e,t,n,l)}finally{L.p=x,S.T=u}}function ah(e,t,n,l){var u=S.T;S.T=null;var x=L.p;try{L.p=8,Q0(e,t,n,l)}finally{L.p=x,S.T=u}}function Q0(e,t,n,l){if(hc){var u=P0(l);if(u===null)R0(e,t,l,mc,n),_d(e,l);else if(rh(u,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<ih.indexOf(e)){for(;u!==null;){var x=_a(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var y=ve(x.pendingLanes);if(y!==0){var A=x;for(A.pendingLanes|=2,A.entangledLanes|=2;y;){var Z=1<<31-se(y);A.entanglements[1]|=Z,y&=~Z}Qn(x),(Pe&6)===0&&(Pr=Xe()+500,Ii(0))}}break;case 31:case 13:A=ea(x,2),A!==null&&$t(A,x,2),$r(),V0(x,2)}if(x=P0(l),x===null&&R0(e,t,l,mc,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else R0(e,t,l,null,n)}}function P0(e){return e=$c(e),F0(e)}var mc=null;function F0(e){if(mc=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=v(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mc=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case pl:return 2;case Jl:return 8;case qn:case ga:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var $0=!1,Ol=null,Yl=null,Hl=null,Vi=new Map,Qi=new Map,Il=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Pi(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function rh(e,t,n,l,u){switch(t){case"focusin":return Ol=Pi(Ol,e,t,n,l,u),!0;case"dragenter":return Yl=Pi(Yl,e,t,n,l,u),!0;case"mouseover":return Hl=Pi(Hl,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Vi.set(x,Pi(Vi.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Qi.set(x,Pi(Qi.get(x)||null,e,t,n,l,u)),!0}return!1}function Sd(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===31){if(t=v(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=P0(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Fc=l,n.target.dispatchEvent(l),Fc=null}else return t=_a(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){bc(e)&&n.delete(t)}function ch(){$0=!1,Ol!==null&&bc(Ol)&&(Ol=null),Yl!==null&&bc(Yl)&&(Yl=null),Hl!==null&&bc(Hl)&&(Hl=null),Vi.forEach(Cd),Qi.forEach(Cd)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,$0||($0=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ch)))}var gc=null;function jd(e){gc!==e&&(gc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(F0(l||n)===null)continue;break}var x=_a(n);x!==null&&(e.splice(t,3),t-=3,Pu(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ni(e){function t(Z){return vc(Z,e)}Ol!==null&&vc(Ol,e),Yl!==null&&vc(Yl,e),Hl!==null&&vc(Hl,e),Vi.forEach(t),Qi.forEach(t);for(var n=0;n<Il.length;n++){var l=Il[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Il.length&&(n=Il[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&Il.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],y=u[It]||null;if(typeof x=="function")y||jd(n);else if(y){var A=null;if(x&&x.hasAttribute("formAction")){if(u=x,y=x[It]||null)A=y.formAction;else if(F0(u)!==null)continue}else A=y.action;typeof A=="function"?n[l+1]=A:(n.splice(l,3),l-=3),jd(n)}}}function wd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function es(e){this._internalRoot=e}yc.prototype.render=es.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=hn();bd(n,l,e,t,null,null)},yc.prototype.unmount=es.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),$r(),t[oe]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Il.length&&t!==0&&t<Il[n].priority;n++);Il.splice(n,0,e),n===0&&Sd(e)}};var Md=r.version;if(Md!=="19.2.3")throw Error(i(527,Md,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var uh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{el=pc.inject(uh),Bt=pc}catch{}}return $i.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",u=Lo,x=To,y=Bo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,u,x,y,wd),e[oe]=t.current,q0(e),new es(t)},$i.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,u="",x=Lo,y=To,A=Bo,Z=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.formState!==void 0&&(Z=n.formState)),t=hd(e,1,!0,t,n??null,l,u,Z,x,y,A,wd),t.context=md(null),n=t.current,l=hn(),l=tt(l),u=zl(l),u.callback=null,Dl(n,u,l),n=l,t.current.lanes=n,gt(t,n),Qn(t),e[oe]=t.current,q0(e),new yc(t)},$i.version="19.2.3",$i}var Rd;function gh(){if(Rd)return ls.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ls.exports=vh(),ls.exports}var yh=gh();const Xl=mn;function mn(c,r){c=c-118;const a=jc();let i=a[c];if(mn.WpIhdG===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};mn.VJlcev=o,mn.cEyYCa={},mn.WpIhdG=!0}const f=a[0],d=c+f,v=mn.cEyYCa[d];if(v)i=v;else{const m=function(h){this.bWPDKl=h,this.FakWeA=[1,0,0],this.nauFpo=function(){return"newState"},this.KibpCW="\\w+ *\\(\\) *{\\w+ *",this.PLamza=`['|"].+['|"];? *}`};m.prototype.AWwVOy=function(){const h=new RegExp(this.KibpCW+this.PLamza),p=h.test(this.nauFpo.toString())?--this.FakWeA[1]:--this.FakWeA[0];return this.xHLlyw(p)},m.prototype.xHLlyw=function(h){return~h?this.ZBMhvv(this.bWPDKl):h},m.prototype.ZBMhvv=function(h){for(let p=0,g=this.FakWeA.length;p<g;p++)this.FakWeA.push(Math.round(Math.random())),g=this.FakWeA.length;return h(this.FakWeA[0])},new m(mn).AWwVOy(),i=mn.VJlcev(i),mn.cEyYCa[d]=i}return i}(function(c,r){const a=mn,i=c();for(;;)try{if(-parseInt(a(140))/1*(-parseInt(a(144))/2)+parseInt(a(134))/3+parseInt(a(136))/4+-parseInt(a(137))/5+-parseInt(a(148))/6+parseInt(a(131))/7*(parseInt(a(119))/8)+-parseInt(a(130))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(jc,469482);const ph=(function(){const c=mn,r={wIzte:c(143),AFfEA:function(i,o){return i===o}};let a=!0;return function(i,o){const f={xNJGh:function(v,m){return r.AFfEA(v,m)},psCto:function(v,m){return v===m}},d=a?function(){const v=mn;if(v(143)!==r.wIzte)return f[v(121)](_0x2822d7,void 0)||f.psCto(_0xc9a828,null)?_0x1b2d63:_0x197b36[v(142)](_0x57514c[v(122)](_0x1b2297));if(o){const m=o.apply(i,arguments);return o=null,m}}:function(){};return a=!1,d}})(),ss=ph(void 0,function(){const c=mn,r={krSfc:"(((.+)+)+)+$"};return ss.toString()[c(147)](r[c(138)]).toString().constructor(ss).search("(((.+)+)+)+$")});ss();function jc(){const c=["Cg9ZAxrPB24","BgvHzKLKCW","BwfW","z3jVDxbZ","otaYnZe4mfH0uxfKra","nZa0nJjTweHevuK","BgrSzNK","CMfUzg9T","mtm3mZK0mfnrzgvpsW","zMXVD2vYswrZ","mZqYmJy1mLHXqwnnCa","otqWnZv5sMjYv0q","A3jtzMm","BgvHDMvZ","ntyXmJyYu1j3AfnO","CMvKDwnL","CgfYC2u","sKL3r3K","mLfArwLJzq","BgvHzKDYB3vWCW","zMLUza","C2vHCMnO","mJq4mJCXnM5kAe9wuW","BgvUz3rO","mJrytgvJsMm","z0DUy1m","Ee5kr2G","C3rYAw5NAwz5","Bwf4","zMLSDgvY","Dg9ju09tDhjPBMC"];return jc=function(){return c},jc()}const wc=()=>new Date()[Xl(125)](),Ot=c=>c+"_"+Math[Xl(133)]().toString(36).slice(2,10),je=(c,r,a)=>Math[Xl(123)](r,Math.min(a,c)),Zl=c=>{const r=Xl,a={zVfAx:function(i,o){return i===o}};return a.zVfAx(c,void 0)||a.zVfAx(c,null)?c:JSON[r(142)](JSON.stringify(c))},tr=c=>Math.floor(c*.7/5)*5;function ba(c,r){const a=Xl;return c.groups?c[a(129)].find(i=>i[a(135)].includes(r))??null:null}function _h(c,r){const a=ba(c,r);return a?a.flowerIds:[r]}function Kc(c,r){const a=Xl;return c[a(145)]?c.leafGroups[a(146)](i=>i.leafIds.includes(r))??null:null}function Sh(c,r){const a=Xl,i={cLcjH:function(m,h){return m===h},gGncS:function(m,h){return m/h}},o=(c[a(145)]??[])[a(146)](m=>m.id===r);if(!o||i.cLcjH(o[a(127)][a(118)],0))return{x:0,y:0};const f=o.leafIds[a(128)](m=>(c[a(139)]??[])[a(146)](h=>h.id===m))[a(124)](m=>!!m);if(f[a(118)]===0)return{x:0,y:0};const d=f[a(141)]((m,h)=>m+h[a(126)].x,0),v=f[a(141)]((m,h)=>m+h.position.y,0);return{x:d/f.length,y:i[a(120)](v,f.length)}}function Ch(c,r){const a=Xl,i={ldlfy:function(f,d,v){return f(d,v)}},o=i[a(132)](Kc,c,r);return o?o.leafIds:[r]}function Mc(){const c=["nJmXmtDHsevvExK","qKT5teW","mteWmJvSzhvmzeC","EgnrvMm","Buf5qKW","AgHwr2i","ndm3odq2qLnjEgnp","Bwf4","tuXLrhK","r0vKuLe","mZiWmgntzMnRta","nZuYndqYoxzjs2T1zG","nJGZntC2B3n3C1Di","u2nctKK","q2vIruC","C2L6zvn0zxbnBq","C2LU","u1fsvdi","Dg9tDhjPBMC","wKXOz2S","z3jHzhvHBa","BMrMAva","zfbbsK8","q0XcBvu","EMPKD0S","mJa5mZK5nvDgAMHzqW","Bw9Auui","uxLlv2m","CgrgEw0","qKvvBfO","mtzmu2vbCeq","CuXVzKO","DMPcyNK","B2fxsvG","vur0ENG","mMXVv0foqW","EMr3wM4","tLbZEe8","t29jvNu","Dw5PzM9YBq","AwXNvLu","CM91BMq","ChvZAa","uu1xCxu","C2vHCMnO","wurYv2u","CKPMwwG","mtrjtwDXEu8","ndyZotuWCvzOzevO","Bgf5zxjdB3vUDa","C2L6zu1Vzgu","kcGOlISPkYKRksSK"];return Mc=function(){return c},Mc()}const ri=Ln;(function(c,r){const a=Ln,i=c();for(;;)try{if(-parseInt(a(344))/1*(parseInt(a(367))/2)+-parseInt(a(361))/3*(parseInt(a(339))/4)+parseInt(a(334))/5+-parseInt(a(357))/6*(-parseInt(a(356))/7)+-parseInt(a(321))/8+parseInt(a(363))/9*(-parseInt(a(371))/10)+parseInt(a(320))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Mc,258039);const jh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),xs=jh(void 0,function(){const c=Ln,r={UDtzx:"(((.+)+)+)+$"};return xs.toString()[c(353)](r[c(343)]).toString().constructor(xs)[c(353)]("(((.+)+)+)+$")});xs();const ii=2/3,Gd=.6,wh=.25,Mh=.75;function Kl(c,r,a){const i=Ln,o={xnQHR:function(T,q){return T/q},NPsxO:function(T,q){return T*q},KFXnJ:function(T,q){return T<=q},ndfiP:i(348),NwZBu:function(T,q){return T*q},OoIVu:function(T,q){return T-q},FsDiH:function(T,q){return T*q},ZWHFs:function(T,q){return T/q},zdwZn:function(T,q){return T===q},PBJKb:function(T,q){return T+q},hhVGb:function(T,q){return T*q},BKyLL:function(T,q){return T*q},dPAJO:function(T,q){return T/q},CLBmU:function(T,q){return T+q},moZQB:function(T,q){return T<q},GGJBT:function(T,q){return T===q},vPvbX:i(329),GHcUh:function(T,q){return T*q},QMWqu:function(T,q){return T/q},HcZKt:function(T,q){return T*q},ZDEHS:function(T,q){return T*q},IGCPT:function(T,q){return T+q},rJfYh:function(T,q){return T-q}},f=o.xnQHR(c,2),d=o[i(346)](r,Math[i(326)])/2;if(o.KFXnJ(d,0)||f<=0)return{diameter:c,layerCount:1};const v=a?.[i(359)]??o[i(330)],m=a?.[i(324)]??0,h=o.NwZBu(d,o[i(347)](1,ii)),p=o.xnQHR(o.FsDiH(Math.PI,f),2),g=a?.[i(358)]??Math.max(1,Math[i(350)](o.ZWHFs(p,h))),D=o.zdwZn(v,i(329))?o.PBJKb(r,o[i(366)](g-1,m)):r,b=o[i(362)](D,Math.SQRT2)/2,z=d*wh+b*Mh;if(o[i(345)](g,1)){const T=Math.min(Math.PI/2,o[i(331)](o.NPsxO(b,ii),f)),q=f*Math[i(325)](T),U=o[i(366)](b*Gd,Math.sin(T));return{diameter:Math[i(350)](Math[i(368)](c,o[i(346)](2,o[i(332)](q,U)))),layerCount:g}}let j=o.hhVGb(d,ii)/f;for(let T=1;o[i(335)](T,g);T++){const q=o.GGJBT(v,o.vPvbX)?r+o.GHcUh(T,m):r,U=o[i(352)](o.HcZKt(q,Math.SQRT2),2);j+=o.ZDEHS(U,o.OoIVu(1,ii))/f}j=Math.min(j,o.dPAJO(Math.PI,2));const w=o.IGCPT(f,o.NPsxO(z,Gd))*Math[i(325)](j),B=Math[i(368)](0,o[i(355)](w,f));return{diameter:Math[i(350)](c+2*B),layerCount:g}}function Ln(c,r){c=c-320;const a=Mc();let i=a[c];if(Ln.rNwGKT===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Ln.KOqSxx=o,Ln.NmcFty={},Ln.rNwGKT=!0}const f=a[0],d=c+f,v=Ln.NmcFty[d];if(v)i=v;else{const m=function(h){this.cQCoGK=h,this.CRAJQw=[1,0,0],this.PzaHUY=function(){return"newState"},this.zFACZL="\\w+ *\\(\\) *{\\w+ *",this.TIMdFH=`['|"].+['|"];? *}`};m.prototype.CDFkEL=function(){const h=new RegExp(this.zFACZL+this.TIMdFH),p=h.test(this.PzaHUY.toString())?--this.CRAJQw[1]:--this.CRAJQw[0];return this.HBWLOc(p)},m.prototype.HBWLOc=function(h){return~h?this.zWsjIh(this.cQCoGK):h},m.prototype.zWsjIh=function(h){for(let p=0,g=this.CRAJQw.length;p<g;p++)this.CRAJQw.push(Math.round(Math.random())),g=this.CRAJQw.length;return h(this.CRAJQw[0])},new m(Ln).CDFkEL(),i=Ln.KOqSxx(i),Ln.NmcFty[d]=i}return i}function ar(c,r,a=ri(348),i=0){const o=ri,f={ScBNI:function(m,h){return m<=h},udrUH:o(329),gycRq:function(m,h){return m+h},CebEG:function(m,h){return m/h},VTKhJ:function(m,h){return m*h},jzeXe:function(m,h){return m<h},mAyBL:function(m,h){return m*h}};if(r<=0||f[o(322)](c,0))return 0;const d=[];for(let m=0;m<r;m++){const h=a===f.udrUH?f.gycRq(c,m*i):c;d[o(351)](f.CebEG(f.VTKhJ(h,Math.SQRT2),2))}let v=d[0];for(let m=1;f.jzeXe(m,r);m++)v+=f[o(323)](d[m],3);return Math.round(f[o(365)](v,2))}function zh(c,r,a=ri(348),i=0){const o=ri,f={GVvjr:function(g,D){return g<=D},pdFym:function(g,D){return g<=D},zXqLt:function(g,D){return g/D},YoNyP:function(g,D){return g===D},qLofJ:function(g,D){return g===D},YDrWe:function(g,D){return g+D},zjdwK:function(g,D){return g-D},DviSt:function(g,D){return g*D},ZLhgk:function(g,D){return g/D},MLeDy:function(g,D){return g+D}};if(f.GVvjr(r,0)||f[o(337)](c,0))return 0;const d=c/2,v=f.zXqLt(Math[o(326)],2),m=r;if(f.YoNyP(a,o(348))||f[o(340)](i,0)){const g=v*f[o(354)](m,2)/3;return Math.max(1,Math.round(d/g))}const h=f.zXqLt(i*f[o(333)](m,1)*m,6),p=f.zXqLt(f.DviSt(f[o(328)](d,v)-h,3),f[o(369)](m,2));return Math.max(1,Math.round(p))}function Dh(c,r,a){const i=ri,o={jAFgV:function(v,m){return v<=m},cflKJ:function(v,m){return v<m},BEUlZ:i(360),xSBCp:function(v,m){return v/m},hQfSc:function(v,m){return v!==m},Tuimp:"KhxWF",xqqBL:"mdeUu",ilgVU:"yDwuc",cDWfj:function(v,m){return v+m}};if(c<=r)return 1;let f=1,d=80;for(let v=0;v<30;v++){const m=o.xSBCp(f+d,2),{diameter:h}=Kl(r,m,a);if(h<c)if(o.hQfSc(o.Tuimp,o.xqqBL))f=m;else{if(o.jAFgV(_0x16c4d4,_0x5051b7))return 1;let p=1,g=80;for(let D=0;o.cflKJ(D,30);D++){const b=(p+g)/2,{diameter:z}=_0x499834(_0x5e0678,b,_0x2ee549);z<_0x4ceb5b?p=b:g=b}return _0x2efe86[i(368)](1,_0x32ac20.round((p+g)/2))}else if(o[i(349)]==="yDwuc")d=m;else return _0x41db49[i(327)]()[i(353)](rVMpwr[i(338)]).toString().constructor(_0x1c4ee8).search(i(360))}return Math[i(368)](1,Math.round(o.xSBCp(o.cDWfj(f,d),2)))}function Nh(c,r,a){const i=ri,o={iivqd:function(D,b){return D/b},oaWIX:function(D,b){return D*b},EdvYb:i(348),vjBby:function(D,b){return D===b},zNRqh:function(D,b){return D/b},xcQVc:function(D,b){return D/b},bNAhj:function(D,b){return D>=b},cYtQZ:function(D,b){return D/b},GEdRQ:function(D,b){return D-b},slXnE:function(D,b){return D>b},VOzoD:function(D,b){return D+b},QyKWc:function(D,b){return D/b}},f=c/2,d=o.iivqd(o[i(342)](r,Math[i(326)]),2);if(d<=0||f<=0)return 1;const v=a?.[i(359)]??o.EdvYb,m=a?.[i(324)]??0,h=Math.PI/2;if(o[i(341)](v,i(348))||m===0){const D=o.zNRqh(d,3),b=Math.PI*f/2;return Math.max(1,Math.round(b/D))}let p=o[i(364)](d*ii,f);if(o.bNAhj(p,h))return 1;let g=1;for(let D=1;D<100;D++){const b=r+D*m,z=o.cYtQZ(b*Math[i(326)],2),j=z*o[i(370)](1,ii)/f;if(p+=j,o.slXnE(p,o.VOzoD(h,o[i(336)](j,2))))break;g=D+1}return Math.max(1,g)}const $n=Yn;(function(c,r){const a=Yn,i=c();for(;;)try{if(-parseInt(a(154))/1*(parseInt(a(134))/2)+-parseInt(a(111))/3+-parseInt(a(122))/4+parseInt(a(119))/5*(parseInt(a(113))/6)+-parseInt(a(167))/7+-parseInt(a(180))/8+parseInt(a(158))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(zc,791290);const Ah=(function(){let c=!0;return function(r,a){{const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}}})(),os=Ah(void 0,function(){const c=Yn,r={gWBYB:c(115)};return os[c(117)]().search(r[c(136)]).toString()[c(177)](os)[c(129)](r[c(136)])});os();const cr=.28,kd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:$n(112)};function fs(c){const r=$n,a={VoSbp:function(i,o){return i===o},AQqaE:""};return a[r(131)](c,a.AQqaE)?kd[a[r(169)]]:kd.}function va(c){return{xJZwC:function(a,i){return a*i}}.xJZwC(c,Math.PI)/180}function Yn(c,r){c=c-111;const a=zc();let i=a[c];if(Yn.IPpfUA===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Yn.pNoOMr=o,Yn.ZAjUjq={},Yn.IPpfUA=!0}const f=a[0],d=c+f,v=Yn.ZAjUjq[d];if(v)i=v;else{const m=function(h){this.ATiNWp=h,this.IpTYLO=[1,0,0],this.gCdPnG=function(){return"newState"},this.DxtwvD="\\w+ *\\(\\) *{\\w+ *",this.AthNrU=`['|"].+['|"];? *}`};m.prototype.GeFwYB=function(){const h=new RegExp(this.DxtwvD+this.AthNrU),p=h.test(this.gCdPnG.toString())?--this.IpTYLO[1]:--this.IpTYLO[0];return this.arfATv(p)},m.prototype.arfATv=function(h){return~h?this.eOHpYa(this.ATiNWp):h},m.prototype.eOHpYa=function(h){for(let p=0,g=this.IpTYLO.length;p<g;p++)this.IpTYLO.push(Math.round(Math.random())),g=this.IpTYLO.length;return h(this.IpTYLO[0])},new m(Yn).GeFwYB(),i=Yn.pNoOMr(i),Yn.ZAjUjq[d]=i}return i}const an=2.7;function Yt(c){const r=$n,a={cBxSa:function(d,v){return d/v},wlWcE:function(d,v){return d*v}},i=a[r(128)](c*Math[r(179)],2),o=a.wlWcE(i,an),f=a[r(128)](o,2);return{length:o,width:f}}function Eh(c){return{ICNgo:function(a,i){return a/i}}.ICNgo(c*an,2)}function nr(c,r,a){const i=$n,o={jZlxz:function(h,p){return h(p)},RWqGv:function(h,p){return h*p},YlZhI:function(h,p){return h+p}},{length:f}=o.jZlxz(Yt,a),d=f*r,v=Math[i(168)](0,c-o[i(132)](d,cr));return o.YlZhI(v,d)*2/an}function Lh(c,r,a){const i=$n,o={YFSIi:function(m,h){return m(h)},lzxAP:function(m,h){return m*h},GQFco:function(m,h){return m/h},zUGNM:function(m,h){return m*h},XQwGX:function(m,h){return m-h}},{length:f}=o.YFSIi(Yt,a),d=o[i(172)](f,r),v=o[i(123)](o[i(133)](c,an),2);return Math.max(2,o[i(146)](v,d*(1-cr)))}function zc(){const c=["AerPqK0","y0j4u2e","C2vHCMnO","C3vWufK","vM9tyNa","uLDXr3y","ELvhtK0","mtiZmJy4AfPzCNjP","5y2k44gp44gz","z1Dcwui","vKXSuwW","CeXWC2y","CMfKAxvZ","ywjZ","vuzVCxm","CM91BMq","BwX3Aum","AhzkrvO","y29Z","wff3r1G","reniwgK","ChvZAa","ELHTsLu","vKfrC3C","tffwqMu","ChfJC0C","vuDMy3e","mtDvChbnreG","tu5nwLe","C2LU","DvDKwKe","nti2nZe3mtDhu2vwuwq","zMLUza","AwPuz3u","EwDKqva","DxzTthO","sLDyqKS","BgvUz3rO","rhDPzgO","C29YDa","otqYotmYoxHpwevZyq","Bwf4","qvfXyuu","A0LeCeG","v0LNuxy","BhP4qva","C2nHBgu","AePvvhO","y0jgwgW","s2XgCgm","y29UC3rYDwn0B3i","ANjIsuS","u1fsvdi","mteZmZq2mtzXr1bqAM8","mZKWmte2n29xqKP0sW","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","mJy0mty1nLfwyNfZtq","rKDsrwO","kcGOlISPkYKRksSK","vKHSuuS","Dg9tDhjPBMC","CgLOuKu","nvrbAgzprW","zMXVB3i","Dg9gAxHLza","mtu1nZqZmLzpqMXgtG","r1fgy28","whbUuwu","uvbethO","B3jKzxi"];return zc=function(){return c},zc()}function Fn(c,r,a){const i=$n,o={poXEq:function(p,g){return p<=g},IUnxF:function(p,g){return p/g},DCHXi:function(p,g){return p/g},XpnQe:function(p,g){return p<g},WvGui:function(p,g){return p%g},supPY:function(p,g){return p+g},VHlQK:function(p,g){return p+g},UFoqs:function(p,g){return p+g},gJLbG:function(p,g){return p%g},mBWzY:function(p,g){return p%g},VLlQl:function(p,g){return p*g},MNMZQ:function(p,g){return p-g},kIDpH:function(p,g){return p>g}};if(!c||o.poXEq(c,0)||!a||a<=0)return r??0;const f=o.IUnxF(360,c),d=o[i(147)](360,a),v=[];for(let p=0;o[i(124)](p,c);p++)v.push(o.WvGui(o[i(130)](o.supPY(r,p*f)%360,360),360));let m=o[i(116)](r,o.IUnxF(f,2)),h=-1;for(let p=0;p<c;p++){const g=o[i(141)](r+p*f,o[i(147)](f,2));let D=1/0;for(let b=0;b<a;b++){const z=o.gJLbG(o.mBWzY(g+o[i(137)](b,d),360)+360,360);for(const j of v){let w=Math[i(140)](o[i(155)](z,j));o[i(170)](w,180)&&(w=o[i(155)](360,w)),w<D&&(D=w)}}o[i(170)](D,h)&&(h=D,m=g)}return o.DCHXi(Math[i(142)](m*10),10)}function Xc(c,r,a){const i=$n,o={FGREj:function(b,z){return b*z},hJUTz:function(b,z){return b*z},NMomm:function(b,z){return b/z},hvJEZ:function(b,z){return b*z},wTtVZ:function(b,z){return b/z},sJdHv:function(b,z,j){return b(z,j)}};if(c.length===0)return;const{length:f}=Yt(r),d=c[0],v=d.scale??1,m=o.FGREj(f,v),h=Math.max(0,d[i(139)]-o[i(174)](m,cr)),p=h+m;if(p<=0)return;const g=a*an/2,D=o.NMomm(g,p);for(const b of c)b.radius=Math.max(2,o.NMomm(Math[i(142)](o[i(144)](o[i(114)](b[i(139)],D),10)),10)),b.scale=o.wTtVZ(Math[i(142)](o.hJUTz((b[i(173)]??1)*D,100)),100);o.sJdHv(ds,c,r)}function ds(c,r){const a=$n,i={LQVBe:function(m,h){return m>h}};if(c[a(164)]===0)return;const o=c[c[a(164)]-1],{length:f}=Yt(r),d=f*(o[a(173)]??1),v=Math[a(120)](d*cr*10)/10;i[a(151)](o[a(139)],v)&&(o[a(139)]=v)}function Th(c,r,a,i){const o=$n,f={pihRE:function(D,b){return D/b},WIgQv:function(D,b){return D*b},iGeNB:function(D,b){return D*b},mlwiC:function(D,b){return D===b},uWdZA:function(D,b){return D(b)},uvmLz:function(D,b){return D*b},hDiBM:function(D,b){return D<b},OKmaG:function(D,b){return D===b},KlFpc:function(D,b){return D>b},nPylm:function(D,b){return D!==b},cBFXl:function(D,b){return D+b}};if(f[o(143)](c[o(164)],0))return;const d=[...c].sort((D,b)=>b.order-D[o(126)]),{length:v}=f[o(157)](Yt,r),m=d[o(164)],h=d[0][o(173)]??1,p=f.WIgQv(v,h);d[0][o(139)]=Math[o(120)](f[o(162)](p,cr)*10)/10;for(let D=1;f[o(127)](D,m);D++){const b=d[D-1],z=f.uvmLz(v,b[o(173)]??1);let j;if(f.OKmaG(a,o(135))){const B=f.pihRE(70*Math.PI,180),O=f[o(176)](m,1)?f[o(118)](D,m-1)*B:0;j=f.iGeNB(z*f.pihRE(30,100),Math.cos(O))}else f.nPylm("PCZbB","acCQo")?j=f[o(118)](z,3):(_0x825acf[o(139)]=_0x4532a5.max(2,bTfAfL[o(118)](_0x55956[o(142)](bTfAfL[o(171)](_0x342cd5.radius*_0x2addf1,10)),10)),_0x5db449.scale=_0x2333fc[o(142)](bTfAfL.iGeNB(_0x2ebf03.scale??1,_0x24303d)*100)/100);d[D][o(139)]=Math.round(f[o(175)](b[o(139)],j)*10)/10}const g=[...c][o(166)]((D,b)=>D[o(126)]-b.order);Xc(g,r,i);for(const D of g){const b=c[o(159)](z=>z.id===D.id);b&&(b[o(139)]=D[o(139)],b[o(173)]=D[o(173)])}}function ci(c){const r=$n,a={ijTgu:function(m,h){return m*h},PrpOl:function(m,h){return m*h}},i=360/c,o=a[r(160)](Math[r(156)](va(i/2)),2),f=.96,d=1.2,v=a.PrpOl(o,d)/f;return Math.round(Math[r(168)](.3,Math.min(3,v))*100)/100}function Dc(){const c=["44gK44g+44g/57sW5BEL44oh44k244kK44oZ","5yMJ44gK44g+44g/","i0yWoencnG","CgPuy1u","rKHcELy","mJy0mdi0twLSre9y","i0y1rJvgnq","u3n0rgW","ntyZnJG5nMXKuhjRyW","nMHMq2Hhra","rMXVD2vYide","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","ELfRqNK","y29Sx3LLBgXVDW","y1v5u3e","y29Sx2XPz2H0EwvSBg93","y29Sx2jSywnR","zMLUza","iZHcnuuZqW","y29Sx2DYzwvU","CeDlAKe","wMDpDgy","B3jKzxi","t1PtAhe","CMfKAxvZ","Bgf5","D2nSDvu","i0zerJvdoq","v2fqDMK","i0y1rtzdqW","Cg9ZAxrPB24","yKHAC0y","y29UC3rYDwn0B3i","BxrhDhG","u2fozu0","iZDfqZHfmW","ndCWnZrcq0jHu3y","iZfbn0eZqq","ndn6swDKyKS","C2vHCMnO","C29YDa","iZmZmZmZmW","mJy1nZG2mfnlBKj1va","BMfTzq","y29Sx2jYB3DU","zejUrM8","EhHIChK","y29Sx25HDNK","y29Sx2HVDhbPBMS","mtK4ntu4nhrsAgrNua","ndvXAuzrAg4","Cgv0ywXpDMvYCMLKzxm","B05zvMm","tw5QC2u","y29Sx3nPBhzLCG","Dg9tDhjPBMC","C2nHBgu","ALnOyuW","EeHjuue","i0uWndu3qG","Bgf5zxjZ","q2vUDgvY","D3PqwfO","v2rotgu","C3ztvgu","t1LZvhG","uMDjD1u","ChjVAG","B2zMC2v0qw5NBgu","mty5nZC4nvPmBLL5wG","wLjkEgy","BwfW","s2PfDNm","vxzduNy","i0q0qtG0mW","y29Sx2XPz2H0yMX1zq","rxbTEvu","iZjgqKy0qq","zMX3","sw5Uzxi","y29Sx3bPBMS","EhjbsKi","weT5y3K","B0jQvvu","nZqWody2y093CgPs","t3v0zxi","DKvOBwW"];return Dc=function(){return c},Dc()}(function(c,r){const a=bn,i=c();for(;;)try{if(-parseInt(a(128))/1*(parseInt(a(126))/2)+parseInt(a(182))/3+parseInt(a(139))/4+parseInt(a(159))/5+-parseInt(a(186))/6*(-parseInt(a(174))/7)+-parseInt(a(185))/8+-parseInt(a(140))/9*(-parseInt(a(132))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Dc,642026);const Bh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),hs=Bh(void 0,function(){const c=bn,r={vEhml:"(((.+)+)+)+$"};return hs.toString()[c(129)](r[c(176)])[c(145)]()[c(122)](hs).search(r[c(176)])});hs();function Zd(){const c=bn,r={WdNLe:c(183),xHIQA:"col_red",wzPXZ:"col_pink",TsvhU:c(179),VnTUk:c(138),KjEvs:"col_orange",XdeOI:"#F08A3B",wMmQU:c(190),ooFTB:c(192),OwDHR:c(117),oKeZC:c(109),iXClm:c(167),dzXuD:c(127),SstDl:c(165),rdisa:c(137),uhjwd:c(164),pGKjA:"col_cream",oUOyG:c(131),NHsIa:"col_coral"};return[{id:"col_white",name:"",hex:r[c(153)]},{id:r[c(148)],name:"",hex:"#E34850"},{id:r[c(152)],name:"",hex:r.TsvhU},{id:r.VnTUk,name:"",hex:c(149)},{id:r[c(162)],name:"",hex:r.XdeOI},{id:r.wMmQU,name:"",hex:"#F2D04B"},{id:r.ooFTB,name:"",hex:r.OwDHR},{id:r.oKeZC,name:"",hex:r.iXClm},{id:"col_darkgreen",name:"",hex:r.dzXuD},{id:r[c(184)],name:"",hex:c(125)},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:r.rdisa,name:"",hex:"#2C3E6B"},{id:"col_purple",name:"",hex:"#9B59B6"},{id:"col_lavender",name:"",hex:"#C8A2D4"},{id:"col_gold",name:"",hex:r.uhjwd},{id:c(144),name:"",hex:"#C0C0C0"},{id:r[c(110)],name:"",hex:c(119)},{id:c(134),name:"",hex:c(108)},{id:c(193),name:"",hex:r.oUOyG},{id:r.NHsIa,name:"",hex:"#F08080"}]}function bn(c,r){c=c-108;const a=Dc();let i=a[c];if(bn.kAIpUn===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};bn.Jygfra=o,bn.GfyJpp={},bn.kAIpUn=!0}const f=a[0],d=c+f,v=bn.GfyJpp[d];if(v)i=v;else{const m=function(h){this.ZNeFBr=h,this.YNObqo=[1,0,0],this.aNdIgm=function(){return"newState"},this.oJFSYZ="\\w+ *\\(\\) *{\\w+ *",this.lwrKma=`['|"].+['|"];? *}`};m.prototype.rZrheU=function(){const h=new RegExp(this.oJFSYZ+this.lwrKma),p=h.test(this.aNdIgm.toString())?--this.YNObqo[1]:--this.YNObqo[0];return this.lbSlUm(p)},m.prototype.lbSlUm=function(h){return~h?this.GiOyMP(this.ZNeFBr):h},m.prototype.GiOyMP=function(h){for(let p=0,g=this.YNObqo.length;p<g;p++)this.YNObqo.push(Math.round(Math.random())),g=this.YNObqo.length;return h(this.YNObqo[0])},new m(bn).rZrheU(),i=bn.Jygfra(i),bn.GfyJpp[d]=i}return i}function qh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=bn,o={ZRJxf:function(v){return v()},JCNxN:function(v,m){return v(m)},jShaL:"prj",iQcHV:i(177),UvCRv:function(v,m){return v??m}},f=o[i(160)](wc),d=Zd();return ma({id:o.JCNxN(Ot,o[i(147)]),title:c??o.iQcHV,unit:"mm",fabricSquareSize:r??20,baseDiameter:o[i(163)](a,30),notes:"",createdAt:f,updatedAt:f,palette:d,flowers:[]})}function Rh(c,r){const a=bn,i={WaPvi:function(v,m){return v+m}},o=Zl(c);o.id=Ot("flw"),o.name=c[a(133)]+" Copy";const f=r?.x??12,d=r?.y??12;return o[a(120)]={x:i[a(118)](c.position?.x??0,f),y:(c.position?.y??0)+d},o.layers=(o[a(150)]||[]).map(v=>({...v,id:Ot(a(115)),petalOverrides:v[a(141)]?v.petalOverrides[a(161)](m=>({...m})):void 0})),o}function vn(c,r){c=c-350;const a=Nc();let i=a[c];if(vn.zhaDCG===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};vn.EvziMF=o,vn.wkBlzA={},vn.zhaDCG=!0}const f=a[0],d=c+f,v=vn.wkBlzA[d];if(v)i=v;else{const m=function(h){this.xeCOVQ=h,this.nYSFRj=[1,0,0],this.XMeGyI=function(){return"newState"},this.OZWaMQ="\\w+ *\\(\\) *{\\w+ *",this.urXaWT=`['|"].+['|"];? *}`};m.prototype.MMzjBb=function(){const h=new RegExp(this.OZWaMQ+this.urXaWT),p=h.test(this.XMeGyI.toString())?--this.nYSFRj[1]:--this.nYSFRj[0];return this.aHDWlp(p)},m.prototype.aHDWlp=function(h){return~h?this.SVCnNp(this.xeCOVQ):h},m.prototype.SVCnNp=function(h){for(let p=0,g=this.nYSFRj.length;p<g;p++)this.nYSFRj.push(Math.round(Math.random())),g=this.nYSFRj.length;return h(this.nYSFRj[0])},new m(vn).MMzjBb(),i=vn.EvziMF(i),vn.wkBlzA[d]=i}return i}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(393))/1+-parseInt(a(389))/2*(parseInt(a(377))/3)+-parseInt(a(464))/4*(-parseInt(a(391))/5)+-parseInt(a(452))/6*(-parseInt(a(353))/7)+-parseInt(a(418))/8+parseInt(a(430))/9*(parseInt(a(461))/10)+parseInt(a(370))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Nc,583486);const Gh=(function(){const c=vn,r={wlhnC:function(i,o){return i===o},XvmOx:c(350),mjDiu:"object",fKMDp:function(i,o){return i===o},BqzzJ:function(i,o,f,d){return i(o,f,d)},pZZuW:c(425)};let a=!0;return function(i,o){const f=c,d={VzaQK:r[f(406)],Lgtcq:function(v,m){return r[f(373)](v,m)},IkdIB:function(v,m,h,p){return r[f(394)](v,m,h,p)},bfSlW:function(v,m){return v!=m},UJMvk:function(v,m){return v!==m},LnTqD:"string"};if(f(471)===r[f(429)])typeof _0x524b71.doublePetal!==d.VzaQK||d[f(419)](_0x44ee40.doublePetal,null)?delete _0x4132f5.doublePetal:(_0xb5eeb3[f(411)](_0x386df8.doublePetal.innerSizeReduction)||(_0x4a2576.doublePetal[f(450)]=2),_0x53d71c[f(447)][f(450)]=d.IkdIB(_0xdb75e9,_0x2698ee.doublePetal[f(450)],1,30),d.bfSlW(_0x275f29.doublePetal.innerColorId,null)&&d.UJMvk(typeof _0x193d93.doublePetal.innerColorId,d.LnTqD)&&delete _0x2c44f1.doublePetal[f(435)]);else{const v=a?function(){const m=f;if(o)if(r.wlhnC("HojJv",r[m(420)]))delete _0x11beea[m(414)][m(428)];else{const h=o[m(401)](i,arguments);return o=null,h}}:function(){};return a=!1,v}}})(),ms=Gh(void 0,function(){const c=vn,r={ppdwe:"(((.+)+)+)+$"};return ms.toString().search(r.ppdwe).toString()[c(382)](ms).search(c(379))});ms();function cs(c){const r=vn,a={XGYkO:function(i,o){return i===o},gyHya:r(469),xTWZG:"",SRnzK:function(i,o){return i===o},BZfnF:""};return a[r(444)](c,a[r(367)])?a[r(456)]:a.SRnzK(c,"ken")?r(437):c===r(362)||c===a.BZfnF?c:a[r(456)]}function ma(c){const r=vn,a={tDPYq:function(f,d){return f*d},ZtWYH:function(f,d){return f-d},PhXPf:function(f,d){return f===d},ZZBuj:r(469),AMkuz:r(371),gXgaQ:r(437),tBPJz:function(f,d){return f===d},uEzfm:function(f,d,v,m){return f(d,v,m)},APNJp:function(f,d){return f(d)},sDxXv:function(f,d){return f||d},Vaoqt:function(f,d){return f!==d},wZGWR:r(364),YMdhR:"string",iuCVX:"col_white",MjJhk:function(f,d){return f===d},xeHJM:r(390),BQYHL:"QGPOB",tQXHE:function(f,d){return f==d},bxVbI:function(f,d){return f===d},WKfdI:r(385),CypCK:function(f,d){return f*d},uCAsg:function(f,d){return f-d},wRuKG:function(f,d,v,m){return f(d,v,m)},EaeyD:function(f,d){return f!=d},McYbh:function(f,d){return f!==d},qPzGU:r(427),DEqaP:function(f,d){return f!=d},nLDzG:"",YGQze:"",ambUQ:r(436),ENmij:function(f,d){return f<=d},QyxPk:function(f){return f()},zHRHg:"proj",yVKKq:function(f,d){return f<=d},vOWoM:function(f,d){return f!==d},EiamI:"XBfNU",StsNW:r(372),Rlfax:"11|7|4|5|0|3|10|9|8|1|6|2",ubwDp:function(f,d){return f!==d},kkLdd:function(f,d,v,m){return f(d,v,m)},rQbtc:function(f,d){return f!==d},RRyqm:function(f,d){return f!==d},vVZFz:"col_green",iNtVN:r(357),Wesuk:function(f,d){return f(d)},ybaBC:function(f,d){return f!==d},Mbwgi:"",XBsar:r(387),QVhkx:"child",qiFfK:r(399),nETVt:"back"},i=a[r(351)](Zl,a.sDxXv(c,{}));Array.isArray(i[r(475)])||(i.flowers=[]);for(const f of i[r(475)]){f.id||(f.id=Ot(r(472))),(a.Vaoqt(typeof f[r(415)],"string")||!f[r(415)])&&(f[r(415)]="Flower"),(!f[r(380)]||!Number.isFinite(f[r(380)].x)||!Number.isFinite(f.position.y))&&(f[r(380)]={x:260,y:260}),Array[r(366)](f[r(439)])||(f[r(439)]=[]);for(const d of f[r(439)]){if(d.id||(d.id=a[r(351)](Ot,a[r(458)])),(typeof d.colorId!==a[r(431)]||!d[r(409)])&&(d.colorId=i.palette?.[0]?.id??a.iuCVX),d.petalType=cs(d.petalType),d[r(398)]=je(a[r(351)](Number,d[r(398)]||0),5,24),Number[r(411)](d[r(358)])||(d[r(358)]=1),Number.isFinite(d.widthScale)||(d[r(474)]=1),Number[r(411)](d[r(412)])||(d.radius=28),Number[r(411)](d.offsetAngle)||(d.offsetAngle=0),delete d[r(434)],d.doublePetal)if(typeof d[r(447)]!="object"||a.MjJhk(d[r(447)],null))delete d.doublePetal;else if(a[r(402)]!==a.BQYHL){if(d.doublePetal.innerScale!=null&&a[r(400)](d.doublePetal.innerSizeReduction,null))if(a.bxVbI("CRBaI",a[r(470)])){const v=f.fabricSquareSize??i.fabricSquareSize??20;d.doublePetal[r(450)]=Math[r(463)](a[r(365)](v,a.uCAsg(1,d.doublePetal[r(449)])))}else{const v=_0x51814e[r(448)]??_0x38ef1a.fabricSquareSize??20;_0x31361[r(447)][r(450)]=_0x332a24[r(463)](a.tDPYq(v,a[r(432)](1,_0xcd0516[r(447)].innerScale)))}delete d.doublePetal[r(449)],Number[r(411)](d.doublePetal.innerSizeReduction)||(d.doublePetal.innerSizeReduction=2),d[r(447)][r(450)]=a[r(383)](je,d.doublePetal.innerSizeReduction,1,30),delete d.doublePetal[r(355)],a[r(459)](d.doublePetal.innerColorId,null)&&typeof d[r(447)].innerColorId!="string"&&delete d[r(447)].innerColorId}else return vsMToO[r(453)](_0x4c2f2e,vsMToO[r(462)])?"":vsMToO[r(453)](_0xbbfb04,vsMToO.AMkuz)?vsMToO[r(392)]:vsMToO.tBPJz(_0x1e3cf8,"")||vsMToO.tBPJz(_0x3b95c7,"")?_0x184025:"";if(Array[r(366)](d[r(445)]))if(a.McYbh(r(424),a.qPzGU))for(const v of d[r(445)])v&&v[r(369)]!=null&&(v.petalType=a[r(351)](cs,v.petalType)),v&&delete v.innerPetalType,v&&a.DEqaP(v[r(435)],null)&&a[r(413)](typeof v.innerColorId,"string")&&delete v.innerColorId,v&&v[r(450)]!=null&&(Number.isFinite(v[r(450)])?v[r(450)]=je(v.innerSizeReduction,1,30):delete v.innerSizeReduction);else delete _0x224a94[r(447)][r(435)]}(!Number[r(411)](f.flowerDiameter)||f[r(403)]<=0)&&(f[r(403)]=60),f[r(414)]&&(f[r(414)].type===r(404)&&(f[r(414)].type=""),[a.nLDzG,"",r(423)].includes(f.center.type)||(f.center.type=r(363)),Number[r(411)](f[r(414)][r(426)])||(f.center.size=6),f[r(414)].size=je(f[r(414)].size,1,30),(a[r(413)](typeof f.center.color,a.YMdhR)||!f[r(414)][r(374)])&&(f.center[r(374)]=i.palette?.[0]?.id??r(417)),a[r(368)](f[r(414)][r(381)],a.YGQze)&&(Number.isFinite(f.center[r(375)])||(f.center[r(375)]=12),f[r(414)].pepCount=je(f[r(414)].pepCount,4,30)),f.center[r(381)]!==""&&delete f[r(414)][r(428)]),f.placementMode!==a[r(396)]&&f[r(386)]!==""&&(f.placementMode=r(436)),f[r(410)]!==void 0&&(!Number[r(411)](f[r(410)])||a[r(421)](f[r(410)],0))&&delete f.baseDiameter}Array.isArray(i[r(408)])||(i.palette=[]);const o=new Set(i[r(408)][r(395)](f=>f.id));for(const f of a.QyxPk(Zd))o[r(465)](f.id)||i[r(408)].push(f);if(i[r(376)]||(i.createdAt=wc()),i[r(359)]||(i[r(359)]=i.createdAt),i.id||(i.id=a.APNJp(Ot,a.zHRHg)),i[r(384)]||(i.title=r(467)),i.unit="mm",Number.isFinite(i[r(448)])||(i.fabricSquareSize=20),(!Number.isFinite(i.baseDiameter)||a.yVKKq(i.baseDiameter,0))&&(i.baseDiameter=30),a.vOWoM(typeof i[r(454)],a[r(431)])&&(i.notes=""),Array[r(366)](i[r(451)])||(i[r(451)]=[]),a.EiamI==="XBfNU"){const f=new Set(i[r(475)].map(d=>d.id));for(const d of i[r(451)])Array[r(366)](d[r(407)])||(d[r(407)]=[]),d[r(407)]=d[r(407)][r(422)](v=>f[r(465)](v)),d.id||(d.id=Ot(a.StsNW)),(typeof d.name!==a.YMdhR||!d[r(415)])&&(d[r(415)]="");i.groups=i.groups[r(422)](d=>d.flowerIds&&d[r(407)].length>0)}else delete _0x3d27c9.doublePetal;Array[r(366)](i.leaves)||(i[r(476)]=[]);for(const f of i[r(476)]){const d=a[r(405)][r(460)]("|");let v=0;for(;;){switch(d[v++]){case"0":f.petalType=a[r(351)](cs,f.petalType);continue;case"1":typeof f[r(378)]!==r(441)&&(f.locked=!1);continue;case"2":f.doublePetal&&(a[r(442)](typeof f[r(447)],"object")||f.doublePetal===null?delete f.doublePetal:(Number[r(411)](f[r(447)][r(450)])||(f.doublePetal[r(450)]=2),f.doublePetal[r(450)]=a.kkLdd(je,f.doublePetal.innerSizeReduction,1,30),f.doublePetal.innerColorId!=null&&a[r(466)](typeof f.doublePetal.innerColorId,r(446))&&delete f[r(447)][r(435)]));continue;case"3":(a[r(361)](typeof f[r(409)],a[r(431)])||!f.colorId)&&(f.colorId=i.palette?.[0]?.id??a[r(473)]);continue;case"4":(!f.position||!Number.isFinite(f[r(380)].x)||!Number[r(411)](f[r(380)].y))&&(f.position={x:675,y:675});continue;case"5":Number[r(411)](f[r(433)])||(f[r(433)]=0);continue;case"6":delete f._doublePetalCache;continue;case"7":(typeof f.name!==a[r(431)]||!f.name)&&(f[r(415)]=a[r(352)]);continue;case"8":a[r(442)](typeof f.visible,"boolean")&&(f[r(354)]=!0);continue;case"9":Number.isFinite(f.widthScale)||(f[r(474)]=1);continue;case"10":Number[r(411)](f.scale)||(f[r(358)]=1);continue;case"11":f.id||(f.id=a.Wesuk(Ot,r(468)));continue}break}}Array[r(366)](i.leafGroups)||(i[r(457)]=[]);{const f=new Set(i.leaves[r(395)](d=>d.id));for(const d of i[r(457)])d.id||(d.id=a[r(443)](Ot,"lg")),(a[r(397)](typeof d[r(415)],a.YMdhR)||!d.name)&&(d[r(415)]=a.Mbwgi),Array.isArray(d.leafIds)||(d.leafIds=[]),d.leafIds=d[r(455)].filter(v=>f[r(465)](v)),Number[r(411)](d[r(433)])||(d.rotation=0),d.linkedFlowerGroupId!=null&&((i.groups??[]).some(m=>m.id===d[r(440)])||delete d.linkedFlowerGroupId);i[r(457)]=i.leafGroups[r(422)](d=>d.leafIds&&d[r(455)].length>0)}if(Array[r(366)](i[r(388)])){const f=[a[r(416)],a[r(438)]],d=[r(360),a.qiFfK,a.nETVt];i.stencils=i.stencils.filter(v=>v&&typeof v.id=="string"&&f[r(356)](v.variant)&&d[r(356)](v.pose)&&v.position&&Number[r(411)](v[r(380)].x)&&Number[r(411)](v[r(380)].y))}return Number[r(411)](i.version)||(i.version=1),i}function Nc(){const c=["D1Phv1i","rwfLEuq","C3bSAxq","odmWmdKWzur2v2XJ","wLPcDwO","CM91BMq","nJmWodq0ruXJCMnV","AgfZ","CLfIDgm","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","BgvHzG","BwfYDq","v0TMzeK","t2Xmz2O","zMX3","DLzArNO","D2LKDgHty2fSzq","zMXVD2vYCW","BgvHDMvZ","vgLkA3q","qvbosNa","Au50vK4","otK4oduXD2jKCwnR","DMLZAwjSzq","Aw5UzxjqzxrHBfr5Cgu","Aw5JBhvKzxm","tgvHzG","C2nHBgu","DxbKyxrLzef0","CMLNAhq","uLj5Cw0","5lI444gK44g+44g/","44or44o844oR","Bgf5","q3LWq0S","AxnbCNjHEq","z3LiEwe","twPkAgS","Cgv0ywXuExbL","mti4mZG5mdnHturSvNy","A2vU","z3jW","zKTnrha","y29SB3i","CgvWq291BNq","y3jLyxrLzef0","mteXCNnKDwvv","Bg9JA2vK","kcGOlISPkYKRksSK","Cg9ZAxrPB24","DhLWzq","y29UC3rYDwn0B3i","D1j1s0C","DgL0Bgu","q1jcyuK","CgXHy2vTzw50tw9Kzq","ywr1Bhq","C3rLBMnPBhm","nty1mJbzuNbrEM0","sg5Pvxy","mJbvz2nRtMq","z1HNyve","mZu5mti0q0LYz2fb","qNf6EKO","BwfW","yw1Ivve","EwjHqKm","Cgv0ywXdB3vUDa","BgvMDa","Dffyseu","yxbWBhK","EgvisK0","zMXVD2vYrgLHBwv0zxi","44or44o844oR77Yl5BQN6yEr","uMXMyxG","BwPeAxu","zMXVD2vYswrZ","CgfSzxr0zq","y29SB3jjza","yMfZzurPyw1LDgvY","AxngAw5PDgu","CMfKAxvZ","twnzyMG","y2vUDgvY","BMfTzq","wejZyxi","y29Sx3DOAxrL","ody4nJe4neLxrvvRwq","tgD0y3e","whzTt3G","ru5TAwO","zMLSDgvY","44oA44od44ox","yujZsgq","D2rivuO","C2L6zq","ugLyEvy","y29SB3iY","CfPADvC","ndvvrhrtDg0","wu1KAfi","wNrxwuG","CM90yxrPB24","x2rVDwjSzvbLDgfSq2fJAgu","Aw5UzxjdB2XVCKLK","5y2k44gp44gz","5yMJ44gK44g+44g/","uvzOA3G","Bgf5zxjZ","BgLUA2vKrMXVD2vYr3jVDxbjza","yM9VBgvHBG","Dwj3rha","v2vZDwS","weDzA08","Cgv0ywXpDMvYCMLKzxm","C3rYAw5N","zg91yMXLugv0ywW","zMfICMLJu3f1yxjLu2L6zq","Aw5Uzxjty2fSzq","Aw5UzxjtAxPLuMvKDwn0Aw9U","z3jVDxbZ","nKfsA2P0Eq","ugHyugy","BM90zxm","BgvHzKLKCW","EfrxwKC","BgvHzKDYB3vWCW"];return Nc=function(){return c},Nc()}const Jc=Hn;(function(c,r){const a=Hn,i=c();for(;;)try{if(-parseInt(a(408))/1+parseInt(a(399))/2+-parseInt(a(409))/3+parseInt(a(402))/4+parseInt(a(403))/5+-parseInt(a(411))/6+-parseInt(a(400))/7===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ac,854248);function Ac(){const c=["mZGZmti5mujRvffbtq","uLrABum","mJiYmda3ogDTEKvVCa","5y2k44gp44gz","Dhn1BwfTAv9WCM9Qzwn0C192mq","mZeYndi4mNbMwfrVua","mZC3mduYow5nzg5fAG","Dg9tDhjPBMC","ndu0odyWneLKDwzRyG","ntq3nZe3nunfD1DeAG","5yMJ44gK44g+44g/","kcGOlISPkYKRksSK","44or44o844oR","C2vHCMnO","nZu0nZiYq0j2tgDZ"];return Ac=function(){return c},Ac()}const kh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),bs=kh(void 0,function(){const c=Hn,r={RTZmC:"(((.+)+)+)+$"};return bs[c(401)]().search(r[c(410)])[c(401)]().constructor(bs)[c(407)](c(405))});bs();const Kd=Jc(413);function Hn(c,r){c=c-399;const a=Ac();let i=a[c];if(Hn.GAGLxK===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Hn.xTfNXA=o,Hn.aEipyw={},Hn.GAGLxK=!0}const f=a[0],d=c+f,v=Hn.aEipyw[d];if(v)i=v;else{const m=function(h){this.JkztiQ=h,this.xAjRvN=[1,0,0],this.CJynZI=function(){return"newState"},this.rULYxv="\\w+ *\\(\\) *{\\w+ *",this.qbrSOQ=`['|"].+['|"];? *}`};m.prototype.bgfbLw=function(){const h=new RegExp(this.rULYxv+this.qbrSOQ),p=h.test(this.CJynZI.toString())?--this.xAjRvN[1]:--this.xAjRvN[0];return this.cOrPel(p)},m.prototype.cOrPel=function(h){return~h?this.fgozuT(this.JkztiQ):h},m.prototype.fgozuT=function(h){for(let p=0,g=this.xAjRvN.length;p<g;p++)this.xAjRvN.push(Math.round(Math.random())),g=this.xAjRvN.length;return h(this.xAjRvN[0])},new m(Hn).bgfbLw(),i=Hn.xTfNXA(i),Hn.aEipyw[d]=i}return i}const yl=["",Jc(404)],Oh=[Jc(406),"",""],Xd=["",Jc(412)];(function(c,r){const a=en,i=c();for(;;)try{if(parseInt(a(410))/1+-parseInt(a(402))/2+parseInt(a(404))/3+parseInt(a(415))/4*(-parseInt(a(396))/5)+parseInt(a(406))/6*(-parseInt(a(400))/7)+-parseInt(a(411))/8+parseInt(a(408))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ec,658313);const Yh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=en;if(a){const f=a[o(409)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),vs=Yh(void 0,function(){const c=en,r={BXnXo:c(392)};return vs[c(388)]()[c(391)](c(392)).toString()[c(414)](vs)[c(391)](r[c(395)])});vs();function en(c,r){c=c-387;const a=Ec();let i=a[c];if(en.FpHwGE===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};en.dgTQAA=o,en.PQtNXl={},en.FpHwGE=!0}const f=a[0],d=c+f,v=en.PQtNXl[d];if(v)i=v;else{const m=function(h){this.mUBvxk=h,this.qyqJRo=[1,0,0],this.zDldiQ=function(){return"newState"},this.oHkeuD="\\w+ *\\(\\) *{\\w+ *",this.cDeCyl=`['|"].+['|"];? *}`};m.prototype.eHpxSD=function(){const h=new RegExp(this.oHkeuD+this.cDeCyl),p=h.test(this.zDldiQ.toString())?--this.qyqJRo[1]:--this.qyqJRo[0];return this.oqtpdi(p)},m.prototype.oqtpdi=function(h){return~h?this.ngKiNO(this.mUBvxk):h},m.prototype.ngKiNO=function(h){for(let p=0,g=this.qyqJRo.length;p<g;p++)this.qyqJRo.push(Math.round(Math.random())),g=this.qyqJRo.length;return h(this.qyqJRo[0])},new m(en).eHpxSD(),i=en.dgTQAA(i),en.PQtNXl[d]=i}return i}function lr(){const c=en,r={Hjdiy:c(398),blzlj:function(a,i){return a(i)},GagTM:"ALQgS"};try{const a=localStorage.getItem(Kd);if(!a)return[];const i=JSON.parse(a);return Array[c(399)](i)?i[c(394)](o=>{const f=c,d={XwCxD:function(v,m){return v(m)}};try{if(r.Hjdiy!=="hRBtn"){const v=o?.[f(389)]?r.blzlj(ma,o[f(389)]):null;return v?{id:o.id??v.id,title:o.title??v.title,updatedAt:o.updatedAt??v[f(407)],project:v}:null}else try{const v=_0xe030e9?.project?d.XwCxD(_0x100471,_0x54e205[f(389)]):null;return v?{id:_0x53908d.id??v.id,title:_0x1bfe88.title??v[f(412)],updatedAt:_0x367be8[f(407)]??v.updatedAt,project:v}:null}catch{return null}}catch{return null}})[c(403)](o=>o!=null):[]}catch{return r[c(390)]===c(401)?(_0x574318.setItem(_0x3ff162,_0x2cdd0b[c(393)](_0x4f6ee7)),!0):[]}}function Jd(c){try{return localStorage.setItem(Kd,JSON.stringify(c)),!0}catch{return!1}}function Hh(c){const r=en,a={pMhhi:function(v){return v()},WTugO:function(v,m){return v>=m},pxpWX:function(v,m){return v+m}},i=a.pMhhi(lr),o=i[r(405)](v=>v.id===c.id),f={id:c.id,title:c[r(412)],updatedAt:c.updatedAt,project:c},d=a.WTugO(o,0)?[...i.slice(0,o),f,...i[r(397)](a[r(413)](o,1))]:[f,...i];return d[r(387)]((v,m)=>v.updatedAt<m[r(407)]?1:-1),Jd(d)}function Ih(c){const r=en,a={eFVyo:function(o){return o()}},i=a.eFVyo(lr)[r(403)](o=>o.id!==c);return Jd(i)}function Ec(){const c=["DxbKyxrLzef0","mJq4mdi3ndbZzhztt3u","yxbWBhK","nJyXndK1vvb3zfHn","otuYnte5mMnKwMjxEG","DgL0Bgu","ChHWv1G","y29UC3rYDwn0B3i","mJe1ntK0ogLeqNPerq","C29YDa","Dg9tDhjPBMC","ChjVAMvJDa","r2fNve0","C2vHCMnO","kcGOlISPkYKRksSK","C3rYAw5NAwz5","BwfW","qLHUwg8","mtbAtfLStNu","C2XPy2u","BuDsv3i","AxnbCNjHEq","odC3mJr0vgvsywW","CKjNBxi","mJu1odiWnhzbzgP6wa","zMLSDgvY","mJq3odGZn2LNzxvSEG","zMLUzeLUzgv4","mtHOvM1syxy"];return Ec=function(){return c},Ec()}function Tn(c,r){c=c-415;const a=Lc();let i=a[c];if(Tn.ylmvAJ===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Tn.Zvhprb=o,Tn.oVDSuE={},Tn.ylmvAJ=!0}const f=a[0],d=c+f,v=Tn.oVDSuE[d];if(v)i=v;else{const m=function(h){this.rRLClH=h,this.aJopky=[1,0,0],this.aEEZZv=function(){return"newState"},this.eWYqbO="\\w+ *\\(\\) *{\\w+ *",this.kzOyPp=`['|"].+['|"];? *}`};m.prototype.SypqMj=function(){const h=new RegExp(this.eWYqbO+this.kzOyPp),p=h.test(this.aEEZZv.toString())?--this.aJopky[1]:--this.aJopky[0];return this.ePycvu(p)},m.prototype.ePycvu=function(h){return~h?this.gEpFMl(this.rRLClH):h},m.prototype.gEpFMl=function(h){for(let p=0,g=this.aJopky.length;p<g;p++)this.aJopky.push(Math.round(Math.random())),g=this.aJopky.length;return h(this.aJopky[0])},new m(Tn).SypqMj(),i=Tn.Zvhprb(i),Tn.oVDSuE[d]=i}return i}(function(c,r){const a=Tn,i=c();for(;;)try{if(parseInt(a(431))/1*(-parseInt(a(456))/2)+-parseInt(a(453))/3*(-parseInt(a(437))/4)+-parseInt(a(423))/5+-parseInt(a(466))/6+parseInt(a(468))/7*(-parseInt(a(461))/8)+parseInt(a(452))/9+parseInt(a(422))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Lc,349821);const Uh=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Tn;if(a){const f=a[o(441)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),gs=Uh(void 0,function(){const c=Tn,r={QXkfG:"(((.+)+)+)+$"};return gs.toString().search(c(454))[c(449)]()[c(432)](gs).search(r[c(420)])});function Lc(){const c=["mJiXndK5nKfPuhbzsa","C2nHBgu","nZD3qvvWt2K","zMfICMLJu2L6zu1T","uhbRqM8","y29SB3jjza","sMjUrfC","yMfZzurPyw1LDgvY","uvHRzKC","vKLVyvO","nZe4ndK3mhfswu9era","ntyZmJm1D2LwBKfq","Aw5KzxG","zg91yMXLugv0ywW","tfzOEuC","Bwf4","C3fYDa","zMXVD2vYCW","Aw5UzxjtAxPLuMvKDwn0Aw9U","mZi4ndK4Ee5yCgnx","y29UC3rYDwn0B3i","BMfTzq","CMvKDwnL","zw50CMLLCW","y291BNq","mtC1ndm5mMPIAurZrG","zNjVBq","sLLcrgq","Bw9Kzq","yxbWBhK","zMfICMLJu3f1yxjLu2L6zq","zMLUza","DMLZAwjSzq","BwfW","Cgv0ywXpDMvYCMLKzxm","qujktgW","yMfZzurPyw1LDgvYtw0","Dg9tDhjPBMC","wejPyNa","CgXHy2vTzw50tw9Kzq","mZaYmda0oxDbEu92ra","m2DAA0XMAW","kcGOlISPkYKRksSK","zMXVD2vYrgLHBwv0zxi","ng1iv2LMra","Aw1cCwK","EKrMtM4","C2v0","C29YDa","mJKYofv1uuzhBq","DMfSDwvZ","CM91BMq","z2v0","Aw5UzxjdB2XVCKLK"];return Lc=function(){return c},Lc()}gs();function Zh(c){const r=Tn,a={zhivj:function(p,g){return p+g},LVhyG:function(p,g){return p/g},XaHtY:function(p,g){return p*g},JCkjP:function(p,g){return p!==g},JbnDW:function(p,g){return p-g},tpmVZ:r(450),JYBDd:function(p,g){return p<g},UytlL:function(p,g,D){return p(g,D)},PpkBo:"",zDfNn:r(421),XdJCH:function(p,g){return p===g},ABJLl:"sRHAT",gdUIl:"vXXyB",imBqi:function(p,g){return p-g}},i=new Map((c.palette||[])[r(445)](p=>[p.id,p])),o=new Map,f=(p,g)=>p?.[r(446)]?.[r(443)](D=>D[r(424)]===g)??null,d=new Map;for(const p of c[r(429)]||[]){const g=p.fabricSquareSize??c[r(442)];for(const w of p.layers||[])if(a.tpmVZ!=="XBibp")_0x524125[r(459)](_0x423e93,{mode:_0x52be12,baseDiameterMm:_0x47d316,count:1});else{if(!w[r(444)])continue;const B=Math[r(463)](g*(w.scale??1));for(let O=0;a[r(439)](O,w.petalCount);O++){const T=a.UytlL(f,w,O),q=T?.[r(417)]??w.colorId,U=q+"|"+B,J=o.get(U);if(J?J[r(436)]+=1:o[r(459)](U,{colorId:q,fabricSizeMm:B,count:1}),w[r(425)]){const G=w[r(425)],W=T?.innerColorId??G.innerColorId??q,F=T?.[r(430)]??G[r(430)]??2,Q=Math.max(3,Math[r(463)](B-F)),X=W+"|"+Q,_=o.get(X);_?_.count+=1:o[r(459)](X,{colorId:W,fabricSizeMm:Q,count:1})}}}const D=p[r(451)]??a[r(416)],b=D===""?tr(p[r(455)]):p[r(419)]??c[r(419)],z=D+"|"+b,j=d[r(464)](z);if(j)if(a[r(458)]!==r(421)){const w=_0x15f7c.get(_0x16209f),B=_0x13146c[r(460)]((U,J)=>J.fabricSizeMm-U.fabricSizeMm),O=B.reduce((U,J)=>U+J[r(436)],0),T=a[r(426)](_0x2b6776[r(463)](B.reduce((U,J)=>{const G=r,W=J.fabricSizeMm/10;return a.zhivj(U,J[G(436)]*W*W)},0)*100),100),q=_0x3c160d.round(a.XaHtY(_0x53b6c5[r(428)](T),10))/10;return{colorId:_0x4994a7,colorName:w?.[r(433)]??_0x47e353,hex:w?.hex??"#999999",sizes:B,totalCount:O,totalAreaCm2:T,squareSideCm:q}}else j.count+=1;else d[r(459)](z,{mode:D,baseDiameterMm:b,count:1})}for(const p of c.leaves??[]){if(!p[r(444)])continue;const g=p[r(442)]??c[r(442)],D=Math[r(463)](g*(p[r(467)]??1)),b=p.colorId,z=b+"|"+D,j=o.get(z);if(j?j.count+=1:o.set(z,{colorId:b,fabricSizeMm:D,count:1}),p[r(425)])if(a.XdJCH(a[r(447)],a.gdUIl)){const w=_0x376e9e.doublePetal,B=_0x4c2df5?.[r(465)]??w[r(465)]??_0x48f761,O=_0x262d47?.innerSizeReduction??w.innerSizeReduction??2,T=_0x36cfba[r(427)](3,_0x253091[r(463)](_0x5c15be-O)),q=B+"|"+T,U=_0x2900d3.get(q);U?U.count+=1:_0x101ba6[r(459)](q,{colorId:B,fabricSizeMm:T,count:1})}else{const w=p[r(425)],B=w[r(465)]??b,O=Math.max(3,Math[r(463)](a[r(457)](D,w.innerSizeReduction??2))),T=B+"|"+O,q=o[r(464)](T);q?q[r(436)]+=1:o[r(459)](T,{colorId:B,fabricSizeMm:O,count:1})}}const v=new Map;for(const{colorId:p,fabricSizeMm:g,count:D}of o.values()){const b=v[r(464)](p);b?b[r(435)].push({fabricSizeMm:g,count:D}):v[r(459)](p,{colorId:p,entries:[{fabricSizeMm:g,count:D}]})}const m=Array[r(438)](v.values())[r(445)](({colorId:p,entries:g})=>{const D=r,b={cgdEn:function(T,q){return a.XaHtY(T,q)}},z=i.get(p),j=g.sort((T,q)=>q[D(415)]-T.fabricSizeMm),w=j[D(434)]((T,q)=>T+q.count,0),B=a.LVhyG(Math.round(j.reduce((T,q)=>{const U=q.fabricSizeMm/10;return T+b.cgdEn(q.count*U,U)},0)*100),100),O=Math[D(463)](Math.sqrt(B)*10)/10;return{colorId:p,colorName:z?.name??p,hex:z?.hex??"#999999",sizes:j,totalCount:w,totalAreaCm2:B,squareSideCm:O}}).sort((p,g)=>g.totalCount-p.totalCount),h=Array[r(438)](d[r(462)]()).sort((p,g)=>{const D=r;return a.JCkjP(p[D(440)],g.mode)?p.mode===""?-1:1:a[D(418)](g[D(448)],p[D(448)])});return{colors:m,bases:h}}(function(c,r){const a=tn,i=c();for(;;)try{if(parseInt(a(322))/1+parseInt(a(339))/2*(-parseInt(a(320))/3)+-parseInt(a(379))/4+parseInt(a(344))/5+-parseInt(a(383))/6+parseInt(a(354))/7+parseInt(a(353))/8*(parseInt(a(364))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Tc,205667);const Kh=(function(){const c=tn,r={WjFnF:function(i,o,f){return i(o,f)},JqVVX:c(317),FwgZf:"ySYVD"};let a=!0;return function(i,o){const f=c;if(r[f(334)]===r[f(331)])r[f(377)](_0x2256e0,_0x28f130,_0x36c3df[f(348)](".png")?_0x5a66e2:_0x755536+".png");else{const d=a?function(){const v=f;if(o){const m=o[v(333)](i,arguments);return o=null,m}}:function(){};return a=!1,d}}})(),ys=Kh(void 0,function(){const c=tn,r={LJzhg:"(((.+)+)+)+$"};return ys.toString().search(c(347))[c(370)]()[c(372)](ys).search(r.LJzhg)});ys();function Xh(c,r){const a=tn,i={iMljX:a(338),YEigi:a(341),EDLmG:function(b,z){return b??z},bpVya:"0 0 200 200",PDliQ:"width",ulQUu:"height",zdTrk:function(b,z){return b(z)},yEIqW:a(371),NgvIp:"rect",ygsaE:a(388),iIQzP:".tsumami-group-dash",KfYHK:a(376),xoRsg:function(b,z,j){return b(z,j)}},o=c[a(355)](!0);o.querySelectorAll("[data-testid]")[a(349)](b=>b[a(360)]("data-testid")),o.removeAttribute(i[a(374)]);const f=c.getAttribute(i[a(375)]);f&&o[a(329)](a(341),f);const d=i[a(365)](f,i.bpVya).split(/[\s,]+/)[a(328)](Number),v=d[2]??200,m=d[3]??200;o[a(329)](i.PDliQ,String(v)),o.setAttribute(i.ulQUu,i[a(384)](String,m)),o[a(329)]("xmlns",i[a(319)]);const h=document[a(366)]("http://www.w3.org/2000/svg",i.NgvIp);h.setAttribute(i[a(386)],"100%"),h[a(329)](i.ulQUu,"100%"),h[a(329)](a(351),i[a(352)]),o[a(359)](h,o[a(337)]),o[a(361)]("[data-grid]")[a(349)](b=>b[a(343)]()),o[a(361)](a(321))[a(349)](b=>b[a(343)]()),o.querySelectorAll(i[a(342)])[a(349)](b=>b.remove()),o.querySelectorAll("[data-marquee]").forEach(b=>b[a(343)]());const p=new XMLSerializer,g=`<?xml version="1.0" encoding="UTF-8"?>
`+p[a(385)](o),D=new Blob([g],{type:i[a(389)]});i.xoRsg(Wd,D,r[a(348)](a(330))?r:r+".svg")}function tn(c,r){c=c-317;const a=Tc();let i=a[c];if(tn.LQqFpJ===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};tn.eEigWA=o,tn.QzYkbK={},tn.LQqFpJ=!0}const f=a[0],d=c+f,v=tn.QzYkbK[d];if(v)i=v;else{const m=function(h){this.TyIAKK=h,this.uPANVw=[1,0,0],this.aNncBd=function(){return"newState"},this.DcUKKQ="\\w+ *\\(\\) *{\\w+ *",this.tZBtqC=`['|"].+['|"];? *}`};m.prototype.xCdRVf=function(){const h=new RegExp(this.DcUKKQ+this.tZBtqC),p=h.test(this.aNncBd.toString())?--this.uPANVw[1]:--this.uPANVw[0];return this.plQUtH(p)},m.prototype.plQUtH=function(h){return~h?this.dHMnzc(this.TyIAKK):h},m.prototype.dHMnzc=function(h){for(let p=0,g=this.uPANVw.length;p<g;p++)this.uPANVw.push(Math.round(Math.random())),g=this.uPANVw.length;return h(this.uPANVw[0])},new m(tn).xCdRVf(),i=tn.eEigWA(i),tn.QzYkbK[d]=i}return i}function Tc(){const c=["s2zzseS","qNrKsuy","Dg9cBg9I","EuvjCvC","nZuXmde3yuLsyMPQ","lNrZDw1HBwKTC2vSlwrHC2G","mZu4oty4D0v5BeLX","Eg1SBNm","y2XPy2S","wenRAw4","zMLSBfjLy3q","lNrZDw1HBwKTz3jVDxaTzgfZAa","BwfW","C2v0qxr0CMLIDxrL","lNn2zW","rNDNwMy","yM9KEq","yxbWBhK","sNfwvLG","vKrHy3u","B25SB2fK","zMLYC3rdAgLSza","C3r5Bgu","mKn6r29vAa","mcaWidiWmcaYmda","DMLLD0jVEa","AuLrELa","CMvTB3zL","nZe2mde1B3DbALPY","y3jLyxrLrwXLBwvUDa","DLvJrKW","kcGOlISPkYKRksSK","zw5KC1DPDgG","zM9YrwfJAa","wfnLzu0","zMLSBa","EwDZyuu","oeLHCwzzta","ntG0ndKZreXTCMn0","y2XVBMvoB2rL","B25LCNjVCG","zgf0ys10zxn0Awq","twjuveK","Aw5Zzxj0qMvMB3jL","CMvTB3zLqxr0CMLIDxrL","CxvLCNLtzwXLy3rVCKfSBa","ywHZExe","y0Lesgq","mJqYnZi5mxHSBMTeDa","rurmBuC","y3jLyxrLrwXLBwvUDe5t","y3jLyxrLt2jQzwn0vvjm","y2fUDMfZ","CMvTB3zLq2HPBgq","Dg9tDhjPBMC","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","y29UC3rYDwn0B3i","AgvPz2H0","Au1SALG","wuvPz2K","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","v2PgBKy","lNbUzW","mti2odC5nMnKq2fHCG","ugviEwW","D2LKDgG","tvryq0m","ndKYotG0swHor1jz","EMruCMS","C2vYAwfSAxPLvg9tDhjPBMC","uerSAve","yvPhvMq","D2HPDgu"];return Tc=function(){return c},Tc()}function Jh(c,r,a=2){const i=tn,o={XCkin:function(j,w,B){return j(w,B)},qYsEu:"cshca",vUcFL:i(380),GkUJy:i(368),ahsyq:function(j,w){return j*w},cIDHd:"image/png",MDNqi:function(j,w){return j!==w},MbTTI:i(338),aZGVd:i(327),KiujE:"[data-marquee]",fhaoO:i(341),XSeeM:function(j,w){return j??w},NBhkN:i(323),DcCaV:i(371),VDacu:i(376)},f=c[i(355)](!0);f[i(361)]("[data-testid]")[i(349)](j=>j[i(360)](i(357))),f[i(360)](o[i(358)]),f.querySelectorAll("[data-grid]")[i(349)](j=>j.remove()),f[i(361)](i(321)).forEach(j=>j[i(343)]()),f.querySelectorAll(o[i(387)]).forEach(j=>j[i(343)]()),f.querySelectorAll(o.KiujE).forEach(j=>j[i(343)]());const d=c.getAttribute(o.fhaoO),v=o[i(350)](d,"0 0 200 200").split(/[\s,]+/)[i(328)](Number),m=v[2]??200,h=v[3]??200;f.setAttribute(i(341),d??i(340)),f.setAttribute(i(381),String(m)),f[i(329)]("height",String(h)),f.setAttribute(o.NBhkN,o.DcCaV);const p=new XMLSerializer,g=p.serializeToString(f),D=new Blob([g],{type:o[i(335)]}),b=URL[i(367)](D),z=new Image;z[i(336)]=()=>{const j=i;if(o.qYsEu!==o[j(346)]){const w=document[j(345)](o.GkUJy);w.width=m*a,w[j(373)]=o[j(362)](h,a);const B=w.getContext("2d");if(!B){URL.revokeObjectURL(b);return}B.fillStyle=j(388),B[j(326)](0,0,w.width,w.height),B.drawImage(z,0,0,w[j(381)],w[j(373)]),w[j(318)](O=>{const T=j;O&&o[T(325)](Wd,O,r[T(348)](".png")?r:r+T(378)),URL.revokeObjectURL(b)},o[j(363)])}else _0x4e0632&&o.XCkin(_0x3742b7,_0x353bba,_0x508c0e[j(348)](".png")?_0x176477:_0x1b317c+".png"),_0x3e5c2c.revokeObjectURL(_0x596e41)},z[i(356)]=()=>{const j=i;if(o.MDNqi("MTXCC",j(382)))return _0x5b57be.toString().search(j(347))[j(370)]().constructor(_0x54563d).search(j(347));URL.revokeObjectURL(b)},z.src=b}function Wd(c,r){const a=tn,i=URL.createObjectURL(c),o=document.createElement("a");o.href=i,o.download=r,document.body.appendChild(o),o[a(324)](),document[a(332)][a(369)](o),URL.revokeObjectURL(i)}function _c({active:c,disabled:r,onClick:a,children:i,...o}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const Wh="v0.1.0-dev";function Vh(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Wh})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(_c,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(_c,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(_c,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(_c,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Qh(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ps({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function Ph(c){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ps,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=gn,i=c();for(;;)try{if(-parseInt(a(489))/1+-parseInt(a(521))/2+-parseInt(a(525))/3*(-parseInt(a(540))/4)+parseInt(a(511))/5*(parseInt(a(492))/6)+-parseInt(a(495))/7*(parseInt(a(490))/8)+-parseInt(a(509))/9+parseInt(a(538))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Bc,820144);const Fh=(function(){const c={SlYrL:"Etzzw",lERyK:function(a,i){return a-i},cfjGa:function(a,i){return a-i}};let r=!0;return function(a,i){const o={lKOzX:function(d,v){return c.lERyK(d,v)},wcOmV:function(d,v){return d-v},VJmbC:function(d,v){return c[gn(551)](d,v)},JuDlv:function(d,v){return d+v}},f=r?function(){const d=gn;if(c[d(531)]!=="Etzzw"){const v=_0x5777f2[d(546)];if(!v)return;const m=_0x1e2127[d(501)][d(507)](b=>b.id===v.flowerId);if(!m)return;const h=_0x47b024(_0x1fc0f9),p=_0x3e1c06.hypot(o.lKOzX(h.x,m[d(516)].x),o[d(549)](h.y,m.position.y)),g=o.VJmbC(p,v[d(497)]),D=_0x26ff5b(o.JuDlv(v.startRadius,g),5,100);_0x222b15(b=>{const z=d,j=b.flowers[z(507)](B=>B.id===v[z(547)]);if(!j)return;const w=j[z(493)].find(B=>B.id===v.layerId);w&&(w.radius=D)},!1)}else if(i){const v=i.apply(a,arguments);return i=null,v}}:function(){};return r=!1,f}})(),_s=Fh(void 0,function(){const c=gn;return _s.toString().search(c(554))[c(515)]().constructor(_s)[c(508)]("(((.+)+)+)+$")});function Bc(){const c=["zw1Xzxm","CKTuAgq","mtiZmZKWmhHHC1DTuq","CMfKAxvZ","BwvMzxe","zLfnBNm","mJqZmdaWoujTEuHnrG","Bgf5zxi","Bgf5zxjjza","t2DYAKS","C2v0ug9PBNrLCKnHChr1CMu","C3rHCNrbBMDSzq","u2XzCKW","C3rHCNreAwfT","DxjSkci","D2LKDgHty2fSzq","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Bwf4","vvv1C1m","mJeYnZeXmdb1B3DJuLO","C2LU","nhzqsgLAvq","y2PSsxa","C3nXuwu","yM1cBu0","zMLSDgvY","Bw9Kzq","y3vYCMvUDa","zMXVD2vYswq","B2zMC2v0qw5NBgu","D2npBvy","Cg9PBNrLCKLK","y2zQr2e","zgjWB0m","CMr1tvm","kcGOlISPkYKRksSK","sNbdwLe","C3r5Bgu","qMPwzNC","AhLWB3q","wwH6CK4","uK1oywO","zMXVD2vYrgLHBwv0zxi","uLHvtha","nJq1nJqWvMnwu09k","oeLwD05eEq","Cgv0ywXbBMDSzq","mZCWmKT3wwXMCa","Bgf5zxjZ","zNfQA1i","nJmZntG2mvvIBw1yCq","C3rHCNrxAwr0AfnJywXL","C3rHCNreAxn0","tMzsvNy","l3rZDw1HBwKV","sxnfCLm","zMXVD2vYCW","C3rHCNrsywrPDxm","CM90yxrPB24","qMDHCxC","C2nHBgu","y3vYCMvUDfrHCMDLDa","zMLUza","C2vHCMnO","ndC0nJq2nu5wu0LkuG","zvDcuvy","ndy4nxLvz3HYrq","y3vYC29Y","ChjLDMvUDerLzMf1Bhq","Cgv0ywXjBMrLEa","Dg9tDhjPBMC","Cg9ZAxrPB24","suDjruK","whveCvq"];return Bc=function(){return c},Bc()}_s();function gn(c,r){c=c-485;const a=Bc();let i=a[c];if(gn.HPLBrd===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};gn.lgoSTD=o,gn.xnElXz={},gn.HPLBrd=!0}const f=a[0],d=c+f,v=gn.xnElXz[d];if(v)i=v;else{const m=function(h){this.sOysxv=h,this.TTRwsX=[1,0,0],this.eUmnKc=function(){return"newState"},this.zUvhpM="\\w+ *\\(\\) *{\\w+ *",this.rlYmKa=`['|"].+['|"];? *}`};m.prototype.khIgEE=function(){const h=new RegExp(this.zUvhpM+this.rlYmKa),p=h.test(this.eUmnKc.toString())?--this.TTRwsX[1]:--this.TTRwsX[0];return this.qFrnrq(p)},m.prototype.qFrnrq=function(h){return~h?this.TFNZsr(this.sOysxv):h},m.prototype.TFNZsr=function(h){for(let p=0,g=this.TTRwsX.length;p<g;p++)this.TTRwsX.push(Math.round(Math.random())),g=this.TTRwsX.length;return h(this.TTRwsX[0])},new m(gn).khIgEE(),i=gn.lgoSTD(i),gn.xnElXz[d]=i}return i}function $h(c){const r=gn,a={UMSQa:function(G,W){return G===W},YhzrN:r(526),dbpoC:function(G,W){return G-W},IGIEI:function(G,W,F,Q){return G(W,F,Q)},eWBQV:function(G,W){return G*W},bTPhQ:"flower",RXULp:function(G,W){return G-W},cjlIp:"/tsumami/",bfXeK:function(G,W){return G(W)},mefeq:function(G,W){return G/W},IsErS:r(554),OaHEM:"rQQvs",bmBmM:function(G,W){return G-W},rKThd:function(G,W){return G<W},ssqQe:function(G,W){return G+W},rduMS:function(G,W,F){return G(W,F)},YNNtr:function(G,W){return G!==W},OgrjK:"vGIXG",RMNaj:function(G,W){return G!==W},JpCZQ:function(G,W){return G/W},fQMns:function(G,W){return G+W},ORiDQ:function(G,W){return G*W},AUPvk:function(G,W){return G-W},NfRVv:function(G,W){return G(W)},FOhwf:function(G,W){return G-W},fqjkR:function(G,W){return G*W},SNIGB:function(G,W){return G-W},EksAK:function(G,W){return G-W},emqes:function(G,W){return G(W)},euAbZ:function(G,W){return G(W)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:d}=c,v=$.useRef(null),m=(G,W,F,Q)=>{const X=r;F.preventDefault(),F[X(506)]?.setPointerCapture?.(F[X(550)]),f.current&&(f[X(546)][X(556)].cursor='url("/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize');const _=i.flowers.find(R=>R.id===W);if(!_)return;const C=a.UMSQa(G,a.YhzrN)&&Q?.[X(527)]?_[X(493)][X(544)](R=>R.id===Q.layerId).map(R=>({layerId:R.id,scale:R[X(505)]??1,radius:R[X(522)]??10})):_[X(493)].map(R=>({layerId:R.id,scale:R[X(505)]??1,radius:R.radius??10})),E=d(F),M=_[X(516)].x,S=_[X(516)].y,L=Math[X(558)](E.x-M,a[X(552)](E.y,S));v.current={mode:G,flowerId:W,layerId:Q?.layerId,startScales:C,startDiam:_[X(487)]||60,startDist:L}},h=G=>{const W=r,F=v[W(546)];if(!F)return;const Q=i[W(501)][W(507)](M=>M.id===F[W(547)]);if(!Q)return;const X=d(G),_=Math.hypot(a.RXULp(X.x,Q.position.x),X.y-Q[W(516)].y),C=Math.max(1,F.startDist??1),E=a.IGIEI(je,_/C,.3,3);o(M=>{const S=W,L=M.flowers[S(507)](R=>R.id===F[S(547)]);if(L){for(const R of F.startScales)if(S(537)===S(504)){_0x4dcf7c.preventDefault(),_0x1add39.currentTarget?.[S(529)]?.(_0x524db5.pointerId),_0x4e2c88[S(546)]&&(_0x2b8fb3.current[S(556)].cursor=S(533)+"/tsumami/"+S(535));const I=_0x3a8936.flowers[S(507)](H=>H.id===_0x443e46);if(!I)return;const Y=_0xaac58e?.layerId?I.layers.find(H=>H.id===_0x1f5a77[S(527)]):null;if(!Y)return;const N=_0x4e1a90(_0x1945b9),k=_0x1021fb.hypot(N.x-I.position.x,N.y-I[S(516)].y);_0x73de47.current={mode:_0x19671b,flowerId:_0x13ff20,layerId:_0x1e9bc1?.[S(527)],startDist:_0x119b87.max(1,k),startRadius:Y[S(522)]??28}}else{const I=L[S(493)][S(507)](Y=>Y.id===R.layerId);if(!I)continue;I.scale=a[S(517)](je,a.eWBQV(R[S(505)],E),.3,3),F.mode===a.bTPhQ&&(I.radius=a.IGIEI(je,R[S(522)]*E,2,120))}F[S(545)]==="flower"&&(L.flowerDiameter=je(F.startDiam*E,10,200))}},!1)},p=()=>{const G=r;v[G(546)]&&(o(()=>{},!0),f.current&&(f[G(546)].style[G(512)]=""),v.current=null)},g=a[r(498)]($.useRef,null),D=(G,W,F,Q)=>{const X=r;F[X(513)](),F.currentTarget?.[X(529)]?.(F.pointerId),f[X(546)]&&(f[X(546)].style[X(512)]='url("'+a[X(541)]+'rotate_cursor_active_32.png") 16 16, grabbing');const _=i[X(501)].find(S=>S.id===W);if(!_)return;const C=a.bfXeK(d,F),E=Math.atan2(C.y-_.position.y,a.RXULp(C.x,_[X(516)].x))*a.mefeq(180,Math.PI),M=G===a[X(485)]&&Q?.[X(527)]?_.layers.find(S=>S.id===Q[X(527)])?.[X(548)]??0:_.rotation??0;g.current={mode:G,flowerId:W,layerId:Q?.layerId,startAngle:E,startRotation:M}},b=G=>{const W=r;if(a.OaHEM!=="rQQvs"){const F=_0x3d010e.layers.find(Q=>Q.id===_0x1aae7a[W(527)]);F&&(F[W(548)]=_0x43a1a8)}else{const F=g.current;if(!F)return;const Q=i.flowers[W(507)](M=>M.id===F.flowerId);if(!Q)return;const X=d(G),_=a[W(510)](Math.atan2(a[W(488)](X.y,Q.position.y),X.x-Q[W(516)].x),180/Math.PI);let C=a[W(543)](_,F[W(530)]);for(;C>180;)C-=360;for(;a[W(520)](C,-180);)C+=360;const E=a[W(542)](F.startRotation,C);a.rduMS(o,M=>{const S=W;a[S(500)];const L=M.flowers[S(507)](R=>R.id===F[S(547)]);if(L)if(a.UMSQa(F[S(545)],"layer")&&F[S(527)])if(S(518)!=="wnNjM"){const R=L.layers.find(I=>I.id===F[S(527)]);R&&(R.offsetAngle=E)}else return _0x5a60f3.toString()[S(508)](FZgJgg.zmVHs)[S(515)]().constructor(_0x1b032a)[S(508)](S(554));else L[S(503)]=E},!1)}},z=()=>{const G=r;g[G(546)]&&(a[G(553)](o,()=>{},!0),f[G(546)]&&(f[G(546)].style.cursor=""),g.current=null)},j=a[r(519)]($.useRef,null),w=(G,W,F,Q)=>{const X=r;if(a.YNNtr("Lvbte",a[X(528)])){F[X(513)](),F.currentTarget?.[X(529)]?.(F[X(550)]),f.current&&(a[X(486)](X(557),X(557))?_0x29e4f2.current.style[X(512)]=X(533)+'/tsumami/scale_cursor_32.png?v=16") 16 16, ns-resize':f[X(546)].style[X(512)]='url("'+X(499)+'width_cursor_32.png?v=16") 16 16, ew-resize');const _=i.flowers.find(le=>le.id===W);if(!_)return;const C=Q?.[X(527)]?_[X(493)].find(le=>le.id===Q[X(527)]):null;if(!C)return;const E=d(F),M=_[X(516)].x,S=_[X(516)].y,L=Q?.[X(514)]??0,R=a[X(555)](360,Math.max(1,C.petalCount)),I=a.eWBQV(a.fQMns(C.offsetAngle+a.ORiDQ(L,R),_.rotation),Math.PI/180),Y=a.AUPvk(E.x,M),N=E.y-S,k=-Math[X(539)](I),H=Math.cos(I),K=Math.abs(a.eWBQV(Y,k)+N*H);j[X(546)]={mode:G,flowerId:W,layerId:Q?.layerId,petalAngle:I,startDist:Math[X(536)](1,K),startWidthScale:C[X(534)]??1}}else _0x2d4842[X(487)]=_0x2d2307(a.eWBQV(_0x5a29db[X(532)],_0x4c92d5),10,200)},B=G=>{const W=r,F=j.current;if(!F)return;const Q=i[W(501)][W(507)](I=>I.id===F[W(547)]);if(!Q)return;const X=a[W(498)](d,G),_=a.FOhwf(X.x,Q.position.x),C=X.y-Q.position.y,E=-Math[W(539)](F[W(491)]),M=Math.cos(F[W(491)]),S=Math.abs(a[W(524)](a[W(494)](_,E),C*M)),L=je(a[W(523)](S,F.startDist),.3,3),R=je(F[W(496)]*L,.3,3);o(I=>{const Y=W,N=I[Y(501)].find(H=>H.id===F[Y(547)]);if(!N)return;const k=N[Y(493)].find(H=>H.id===F[Y(527)]);k&&(k.widthScale=R)},!1)},O=()=>{const G=r;j.current&&(o(()=>{},!0),f[G(546)]&&(f.current[G(556)].cursor=""),j[G(546)]=null)},T=a.euAbZ($.useRef,null);return{scaleDragRef:v,beginScaleDrag:m,updateScaleDrag:h,endScaleDrag:p,rotationDragRef:g,beginRotationDrag:D,updateRotationDrag:b,endRotationDrag:z,widthScaleDragRef:j,beginWidthScaleDrag:w,updateWidthScaleDrag:B,endWidthScaleDrag:O,radiusDragRef:T,beginRadiusDrag:(G,W,F,Q)=>{const X=r;F.preventDefault(),F[X(506)]?.[X(529)]?.(F[X(550)]),f[X(546)]&&(f.current[X(556)].cursor=X(533)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const _=i[X(501)].find(S=>S.id===W);if(!_)return;const C=Q?.layerId?_[X(493)].find(S=>S.id===Q[X(527)]):null;if(!C)return;const E=d(F),M=Math[X(558)](a[X(552)](E.x,_.position.x),E.y-_[X(516)].y);T.current={mode:G,flowerId:W,layerId:Q?.[X(527)],startDist:Math[X(536)](1,M),startRadius:C.radius??28}},updateRadiusDrag:G=>{const W=r,F=T.current;if(!F)return;const Q=i.flowers.find(M=>M.id===F.flowerId);if(!Q)return;const X=a.NfRVv(d,G),_=Math.hypot(a.SNIGB(X.x,Q[W(516)].x),a[W(488)](X.y,Q[W(516)].y)),C=a.EksAK(_,F.startDist),E=a.IGIEI(je,a.fQMns(F[W(502)],C),5,100);a.rduMS(o,M=>{const S=W,L=M.flowers[S(507)](I=>I.id===F[S(547)]);if(!L)return;const R=L.layers[S(507)](I=>I.id===F[S(527)]);R&&(R.radius=E)},!1)},endRadiusDrag:()=>{const G=r;T.current&&(o(()=>{},!0),f[G(546)]&&(f[G(546)][G(556)][G(512)]=""),T[G(546)]=null)}}}(function(c,r){const a=At,i=c();for(;;)try{if(parseInt(a(430))/1*(-parseInt(a(446))/2)+-parseInt(a(453))/3*(parseInt(a(499))/4)+parseInt(a(490))/5*(parseInt(a(459))/6)+parseInt(a(439))/7+-parseInt(a(483))/8*(-parseInt(a(488))/9)+-parseInt(a(422))/10*(parseInt(a(487))/11)+parseInt(a(456))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(qc,487660);const em=(function(){const c={smoiX:"UBgUn"};let r=!0;return function(a,i){const o=At;if(c[o(444)]!==c.smoiX)_0x3c592c="width";else{const f=r?function(){const d=o;if(i){const v=i[d(429)](a,arguments);return i=null,v}}:function(){};return r=!1,f}}})(),Ss=em(void 0,function(){const c=At,r={lycYd:c(466)};return Ss[c(449)]()[c(447)](r.lycYd)[c(449)]().constructor(Ss)[c(447)](c(466))});Ss();function ai(c,r,a,i,o){const f=At,d={lBPhV:function(U,J){return U*J},YhDFr:function(U,J){return U<=J},PfudY:function(U,J){return U-J},cdKam:function(U,J){return U*J},KYuHr:function(U,J){return U(J)},kDvGv:f(452),ZlAYf:function(U,J){return U!==J},qmNdS:f(441),NjtaQ:function(U,J){return U===J},ushzs:f(475),WRdaf:function(U,J){return U*J},wCWgQ:function(U,J){return U*J},rOBfS:function(U,J){return U*J},nDLyA:function(U,J){return U+J},JHxam:function(U,J){return U*J},lcMMn:function(U,J){return U/J},DVZMi:function(U,J){return U>J},tsleG:function(U,J){return U>J},njNgm:function(U,J){return U>=J},HFEHu:"width",xeryq:function(U,J){return U===J},GQnrk:function(U,J){return U*J},gTUxl:function(U,J){return U+J},TWRAm:function(U,J){return U-J}},{length:v}=Yt(a.fabricSquareSize??i.fabricSquareSize),m=c-a[f(495)].x,h=d[f(443)](r,a[f(495)].y),p=Math.hypot(m,h);let g=1/0;for(const U of a.layers){if(!U[f(464)])continue;const J=U.scale??1,G=d.cdKam(v,J),W=.28,F=Math[f(428)](0,d.PfudY(U.radius,d[f(482)](G,W)));F<g&&(g=F)}d[f(432)](isFinite,g)||(g=0);const D=Math.max(g*.9,8);if(p<=D)return{zone:"center"};if(o.kind===f(475)){const U=a.layers.find(J=>J.id===o[f(493)]&&J[f(464)]);if(U)if(d[f(433)]!==d[f(433)]){const J=_0x50d32b.layers.find(G=>G.id===_0x3ae3ba[f(493)]&&G.visible);if(J){const G=J[f(476)]??1,W=d[f(421)](_0x27832f,G),F=.28,Q=_0x5d2f46[f(428)](0,J.radius-d.lBPhV(W,F));if(Q>0){const _=_0x48989d[f(431)](_0x3a3db3-Q);if(d[f(423)](_,6))return{zone:f(441),layerId:J.id}}}}else{const J=U[f(476)]??1,G=d.cdKam(v,J),W=.28,F=Math[f(428)](0,U.radius-G*W);if(F>0)if(d.ZlAYf(f(434),"VvXGl")){if(Math[f(431)](p-F)<=6)return{zone:d.qmNdS,layerId:U.id}}else return'url("'+_0x4683f3+f(481)}}const b=va(-(a.rotation??0)),z=m*Math[f(478)](b)-d.cdKam(h,Math.sin(b)),j=m*Math[f(472)](b)+h*Math[f(478)](b),w=d[f(492)](o[f(465)],d[f(427)])?a[f(440)][f(455)](U=>U.id===o[f(493)]&&U[f(464)]):a[f(440)][f(455)](U=>U.visible);let B="none",O,T,q=1/0;for(const U of w){const J=U.scale??1,G=d.WRdaf(v,J),W=U[f(471)]??1,F=d[f(467)](v/2,W)*J,Q=.28,X=Math.max(0,U[f(441)]-d.rOBfS(G,Q)),_=360/Math.max(1,U.petalCount);for(let C=0;C<U.petalCount;C++){const E=d[f(470)](U[f(457)],d[f(482)](C,_)),M=va(E),S=Math[f(478)](M)*X,L=d.JHxam(Math.sin(M),X),R=z-S,I=j-L,Y=Math[f(478)](-M),N=Math[f(472)](-M),k=d[f(443)](R*Y,I*N),H=d.cdKam(R,N)+I*Y,K=d[f(477)](k,G),le=d.lcMMn(H,F);if(K<-.05||d[f(419)](K,1.08)||d[f(435)](Math.abs(le),.75))continue;const xe=Math.hypot(K-.5,le);d.njNgm(xe,q)||(q=xe,O=U.id,T=C,Math.abs(le)>.45?B=d[f(491)]:K>.75?B="rotate":B=f(476))}}if(d.xeryq(B,"none")){let U=12;for(const W of a[f(440)]){if(!W[f(464)])continue;const F=W[f(476)]??1,Q=d.GQnrk(v,F),X=.28,_=Math[f(428)](0,d[f(443)](W[f(441)],Q*X));U=Math.max(U,d.gTUxl(_,Q))}if(Math[f(431)](d.TWRAm(p,U))<=8)return{zone:f(476)}}return{zone:B,layerId:O,petalIndex:T}}function Cc(c,r,a){const i=At,o={YePSw:function(f,d){return f===d},FxNLD:"center",xOibV:"none",yjuaQ:function(f,d){return f===d},AZUpe:"scale",RcZjs:function(f,d){return f!=d},QxOaE:function(f,d){return f-d},CxTxK:i(475),aGRqN:i(480)};if(o[i(484)](c,o[i(479)]))return o[i(479)];if(o.YePSw(c,o.xOibV))return o[i(468)];switch(r){case i(436):{if(o.yjuaQ(c,o[i(424)]))return o.AZUpe;if(c==="rotate"&&a?.[i(442)]&&a[i(436)]&&o.RcZjs(a.length,null)){let f,d=-1/0;for(const v of a.flower[i(440)]){if(!v[i(464)])continue;const m=v[i(476)]??1,h=a[i(460)]*m,p=.28,g=Math.max(0,o[i(450)](v[i(441)],h*p)),D=g+h;D>d&&(d=D,f=v.id)}return a[i(442)]===f?"rotate":i(476)}return o[i(424)]}case o.CxTxK:return c;case o.aGRqN:case"petals":return"scale";default:return o.AZUpe}}function tm(c,r,a,i){const o=At,f={uIpFG:function(T,q){return T(q)},LBTLq:function(T,q){return T*q},hqzav:function(T,q){return T-q},Qufhp:function(T,q){return T+q},rQwwX:function(T,q){return T*q},wevZZ:function(T,q){return T/q},qxPAd:function(T,q){return T>q},aRETp:"none",DzIlI:o(461),jMEcD:"rotate",lyrZX:"scale"},d=a.fabricSquareSize??i.fabricSquareSize,{length:v,width:m}=f[o(485)](Yt,d),h=a[o(476)]??1,p=f[o(445)](v,h),g=f[o(445)](f.LBTLq(m,a[o(471)]??1),h),D=c-a[o(495)].x,b=r-a[o(495)].y,z=f[o(485)](va,-(a[o(418)]??0)),j=f[o(425)](D*Math[o(478)](z),b*Math.sin(z)),w=f[o(474)](f[o(438)](D,Math.sin(z)),b*Math.cos(z)),B=f[o(458)](j,p),O=f.wevZZ(w,g);return B<-.05||f[o(469)](B,1.08)||Math.abs(O)>.75?f[o(451)]:Math.abs(O)>.45?f.DzIlI:f.qxPAd(B,.75)?f.jMEcD:B>.3?f.lyrZX:"move"}function At(c,r){c=c-418;const a=qc();let i=a[c];if(At.UcljGW===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};At.eCvhzZ=o,At.CRTiNZ={},At.UcljGW=!0}const f=a[0],d=c+f,v=At.CRTiNZ[d];if(v)i=v;else{const m=function(h){this.NxDIhw=h,this.NExWEx=[1,0,0],this.pLrMea=function(){return"newState"},this.uEJvCx="\\w+ *\\(\\) *{\\w+ *",this.cIKgBM=`['|"].+['|"];? *}`};m.prototype.eMnIRl=function(){const h=new RegExp(this.uEJvCx+this.cIKgBM),p=h.test(this.pLrMea.toString())?--this.NExWEx[1]:--this.NExWEx[0];return this.iBMnHY(p)},m.prototype.iBMnHY=function(h){return~h?this.vrwBTf(this.NxDIhw):h},m.prototype.vrwBTf=function(h){for(let p=0,g=this.NExWEx.length;p<g;p++)this.NExWEx.push(Math.round(Math.random())),g=this.NExWEx.length;return h(this.NExWEx[0])},new m(At).eMnIRl(),i=At.eCvhzZ(i),At.CRTiNZ[d]=i}return i}function er(c,r){const a=At,i={oiEcs:"scale"};switch(c){case a(454):return a(462)+r+'rotate_cursor_32.png") 16 16, crosshair';case i.oiEcs:return a(462)+r+a(437);case"width":return'url("'+r+a(473);case"move":return ir(r);case a(486):default:return"grab"}}function Od(c,r){const a=At,i={aeUay:a(463),KrdkR:"pointer",bYGzf:a(476),VKCbA:"width",mGmDo:a(441),Dcsgn:"none",YlKxp:a(498)};switch(c){case i.aeUay:return i[a(489)];case"rotate":return a(462)+r+a(448);case i.bYGzf:return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i.VKCbA:return'url("'+r+a(473);case i.mGmDo:return a(462)+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case a(494):return ir(r);case i.Dcsgn:default:return i[a(496)]}}function ir(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function Pn(c){const r=At;return'url("'+c+r(481)}function nm(c){const r=At;return'url("'+c+r(497)}function lm(c){const r=At;return r(462)+c+r(420)}function qc(){const c=["CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","Dg9tDhjPBMC","uxHpyuu","yvjfvha","Aw5mDg0","ndu5otnYrhDgwuG","CM90yxrL","zMLSDgvY","mtC2oti4nZj3BhbmvxC","B2zMC2v0qw5NBgu","D2v2wLO","mtiXmtK0ExDnBNbY","BgvUz3rO","D2LKDgG","DxjSkci","y2vUDgvY","DMLZAwjSzq","A2LUza","kcGOlISPkYKRksSK","D0nxz1e","Ee9PyLy","CxHqqwq","BKrmEue","D2LKDgHty2fSzq","C2LU","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","uxvMAha","Bgf5zxi","C2nHBgu","Bgnntw4","y29Z","rNHoteq","Cgv0ywW","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","y2rlyw0","ogHeDLPrua","wwvqu3C","DuLWrKC","BM9Uzq","odK4mJmXnfzRqK5MBq","mtu2nJC3nfnvvgDiAq","s3jKA1i","mJaWBeHPr1P5","sezfshu","tMP0yve","Bgf5zxjjza","Bw92zq","Cg9ZAxrPB24","wwXlEha","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","z3jHyG","mJiWvvDHD1LV","CM90yxrPB24","rfzAtwK","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","BejqAfy","mtbdB1DQzfK","wwHerNi","qvPvCgu","Ahf6yxy","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","DxnOENm","Bwf4","yxbWBhK","nZCXmZuZzgjjwunu","ywjZ","s1L1shi","A0r2r3y","r2HvC3G","DhnSzuC","zMXVD2vY","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","CLf3D1G","mZiZnJm4mfLZCvPdEa","Bgf5zxjZ","CMfKAxvZ","AgL0tgf5zxjjza","ugz1zfK","C21VAvG","tejuthe","mKnfvMfdsa","C2vHCMnO"];return qc=function(){return c},qc()}(function(c,r){const a=nn,i=c();for(;;)try{if(parseInt(a(529))/1*(parseInt(a(457))/2)+parseInt(a(524))/3*(parseInt(a(458))/4)+parseInt(a(505))/5+parseInt(a(542))/6+parseInt(a(471))/7+-parseInt(a(477))/8+-parseInt(a(490))/9*(parseInt(a(523))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Rc,437053);const am=(function(){const c=nn,r={OPqYt:function(i,o){return i(o)},ComqE:function(i,o){return i===o},KdQUd:c(463)};let a=!0;return function(i,o){const f=c,d={vMOxD:function(v,m){return r[nn(467)](v,m)}};if(r[f(510)](r.KdQUd,f(533))){d.vMOxD(_0x13879f,{kind:"project"}),_0x376e19(null);return}else{const v=a?function(){if(o){const m=o.apply(i,arguments);return o=null,m}}:function(){};return a=!1,v}}})(),Cs=am(void 0,function(){const c=nn,r={KgPyt:"(((.+)+)+)+$"};return Cs.toString()[c(508)](r[c(550)])[c(531)]().constructor(Cs).search("(((.+)+)+)+$")});Cs();function nn(c,r){c=c-457;const a=Rc();let i=a[c];if(nn.vBgUsO===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};nn.xvNgUw=o,nn.sodlAr={},nn.vBgUsO=!0}const f=a[0],d=c+f,v=nn.sodlAr[d];if(v)i=v;else{const m=function(h){this.LOaAfO=h,this.NBkaoc=[1,0,0],this.negoOt=function(){return"newState"},this.iOMEsW="\\w+ *\\(\\) *{\\w+ *",this.gZarcF=`['|"].+['|"];? *}`};m.prototype.vbUwyI=function(){const h=new RegExp(this.iOMEsW+this.gZarcF),p=h.test(this.negoOt.toString())?--this.NBkaoc[1]:--this.NBkaoc[0];return this.SkkLyp(p)},m.prototype.SkkLyp=function(h){return~h?this.XIqwRl(this.LOaAfO):h},m.prototype.XIqwRl=function(h){for(let p=0,g=this.NBkaoc.length;p<g;p++)this.NBkaoc.push(Math.round(Math.random())),g=this.NBkaoc.length;return h(this.NBkaoc[0])},new m(nn).vbUwyI(),i=nn.xvNgUw(i),nn.sodlAr[d]=i}return i}function Rc(){const c=["A3zXu3K","BgvHzG","ntm5mdm2nhDOwfPwDW","C2nHBgveCMfNuMvM","zvvrsvO","C2v0ug9PBNrLCKnHChr1CMu","B0npCee","A2LUza","mtG3ntyWofztB0DbAW","qNHcCNa","tfv4wfG","whPMuva","s2n3CMG","ChvZAa","Bgf5zxi","BgvUz3rO","u05jDee","Bw92zwq","yMr5D0G","AhLWB3q","BgvHDMvZ","mtG0ntq1nJnjzvrNA2C","ChjVAMvJDa","y3vYCMvUDfn2zW","zMXVD2vYswrZ","sxn3r08","t3PktNu","C3rHCNrtDMC","ChjLDMvUDerLzMf1Bhq","Effnq0i","uLnyuKG","qw9JtKK","EhzOzuq","EKPtBvK","BeLoDgW","D01Rv0K","mJq5mtm3nu1mC3vzBq","wxDOteu","CgfUma","C2vHCMnO","yMD4uMu","q29TCuu","DgnIt2e","DgLNr2O","yMvNAw5xAwr0AfnJywXLrhjHzW","C3rHCNrAB29T","y3vYCMvUDfrHCMDLDa","AfHJBxe","C3rHCNrdBgLLBNq","zMXVD2vYswq","B3rVDxi","DuDhyvq","C3rHCNrqB3m","vezZsuy","mtbdsejUtvK","mtu0nda5mxDjwvHKEa","Bgf5zxjjza","y3vYCMvUDa","BxvSDgLtDgfYDfbVC2L0Aw9UCW","qvbcENq","m0v2C3PMEa","Cg9ZAxrPB24","Dg9tDhjPBMC","ugfgAwC","s2HIC3O","Cg9PBNrLCKLK","Bg5nyMe","DxbKyxrLu2nHBgveCMfN","uxPtC0W","AhrevfK","tM5HqMW","ywjZ","C3rHCNq","ndC1oti0ogzRvK1uCq","AxLsDum","yLHYr1u","BwLU","zMXVD2vY","uhH3EM0","zMXVD2vYCW","Cg5gwvO","s2DqExq","CM90yxrPB25eCMfNuMvM","rxfKvvO","CMroAwi","y2XPzw50wq","otCXodzWuLPiwxe","nenzvxnTwq","DxbKyxrLv2LKDgHty2fSzurYywC","BLfTzxa","y2XPy2TqzxrHBa","zMLUza","yufKD1m","EvLvvue","CMfKAxvZrhjHz1jLzG","Aw5JBhvKzxm","t1bXwxq","y2XPzw50wa"];return Rc=function(){return c},Rc()}const Sc=500*an;function im(c){const r=nn,a={htDTY:function(_,C){return _===C},yYUUA:r(500),uGGaT:"HFhLl",Pxwzm:function(_,C){return _(C)},APBzt:function(_,C){return _+C},kvqSy:function(_,C){return _(C)},wAEeq:function(_,C){return _-C},bXrGU:function(_,C){return _(C)},OzJNu:function(_,C){return _-C},oCOpA:function(_,C){return _-C},QzSsL:function(_,C){return _(C)},fitsT:"leaf",IswGO:function(_,C){return _===C},hobwa:"petal",zJSmY:function(_,C){return _!==C},fIWIP:function(_,C){return _!==C},wMkWI:r(516),eUQIZ:function(_,C){return _(C)},AjOoo:"SNItA",pnFYZ:"project",dxsba:function(_,C){return _(C)},PaFig:function(_,C){return _<=C},YwhLE:function(_,C){return _>=C},BxBrp:function(_,C){return _+C},WWylJ:function(_,C){return _>=C},mhwQa:function(_,C){return _>C},ZbaMY:function(_,C){return _===C},bdywH:r(479),EqdUZ:r(548),nQmep:r(512),rdNib:r(499),uAgXM:r(489),XzfQP:function(_,C){return _(C)},THWGc:function(_,C,E){return _(C,E)},btXca:function(_,C){return _??C},FrPBS:function(_,C){return _+C},Kcwrh:function(_,C,E,M){return _(C,E,M)},xvheD:r(503),TFsIF:function(_,C){return _/C},tpUIk:function(_,C){return _(C)},EQdFp:function(_,C){return _===C},iyRuC:"flower",Bpuaq:function(_,C){return _!==C},zFpVE:function(_,C){return _(C)}},{project:i,selection:o,setSelection:f,applyUpdate:d,dragRef:v,zoom:m,pan:h,setPan:p,stageRef:g,clientToSvgPoint:D,togglePetalSelection:b}=c,z=a[r(547)]($h,{project:i,applyUpdate:d,stageRef:g,clientToSvgPoint:D}),j=a.zFpVE($.useRef,null),w=_=>{const C=r;_[C(497)](),_.currentTarget?.[C(474)]?.(_[C(534)]),j[C(526)]={start:{x:_[C(468)],y:_[C(554)]},pan0:{...h}}},B=_=>{const C=r;if(a[C(538)](a[C(464)],a[C(520)]))_0x3d4d59[C(482)](_0xfd3eec.id);else{if(!j[C(526)])return;const E=_.clientX-j.current.start.x,M=_.clientY-j.current.start.y;a.Pxwzm(p,{x:a[C(528)](j[C(526)].pan0.x,E),y:j[C(526)][C(507)].y+M})}},O=()=>{const _=r;j[_(526)]=null},T=$.useRef(null),[q,U]=$.useState(null);return{beginPan:w,updatePan:B,endPan:O,marqueeRef:T,marqueeRect:q,beginMarquee:_=>{const C=r;_.preventDefault(),_[C(515)]?.setPointerCapture?.(_[C(534)]);const E=D(_);T.current={startSvg:E,currentSvg:E},U(null)},updateMarquee:_=>{const C=r;if(!T.current)return;const E=a[C(469)](D,_);T[C(526)][C(492)]=E;const M=T[C(526)][C(496)],S=Math[C(545)](M.x,E.x),L=Math.min(M.y,E.y),R=Math.abs(a.wAEeq(E.x,M.x)),I=Math.abs(E.y-M.y);U({x:S,y:L,w:R,h:I})},endMarquee:()=>{const _=r,C={pgboi:function(K,le){return a[nn(537)](K,le)},Vlxcc:a.fitsT,lnMba:function(K,le){return K===le},eLQqV:_(546),bgxRe:function(K,le){return K!==le},xQMCB:function(K,le){return a[_(494)](K,le)},WnCaF:"layer",tRNfE:a.hobwa,hBBSR:function(K,le){return a[_(502)](K,le)}},E=T[_(526)];if(T[_(526)]=null,!E)if(a.fIWIP(_(511),a[_(504)])){a.eUQIZ(U,null);return}else{if(!_0x1630c1.current)return;const K=a[_(544)](_0x15b839,_0x3c1b54);_0x572736[_(526)][_(492)]=K;const le=_0x5cf08b.current.startSvg,xe=_0xa1876c.min(le.x,K.x),de=_0x21aa4a.min(le.y,K.y),fe=_0x570244[_(540)](K.x-le.x),ge=_0x15359a[_(540)](a[_(495)](K.y,le.y));_0xab0388({x:xe,y:de,w:fe,h:ge})}const M=E.startSvg,S=E[_(492)];if(Math[_(488)](a[_(495)](S.x,M.x),S.y-M.y)<3)if(a.AjOoo===_(485)){a.Pxwzm(f,{kind:a[_(549)]}),a.dxsba(U,null);return}else{if(!_0xe6548c.current)return;const K=a[_(495)](_0x1db56f[_(468)],_0x4c4ef2[_(526)][_(541)].x),le=a[_(475)](_0x432240[_(554)],_0x4465b9[_(526)].start.y);_0x25aa7a({x:a[_(528)](_0xe45615[_(526)].pan0.x,K),y:a.APBzt(_0x2c2dd4.current.pan0.y,le)})}const R=Math[_(545)](M.x,S.x),I=Math.min(M.y,S.y),Y=Math[_(540)](S.x-M.x),N=Math.abs(S.y-M.y),k=[];for(const K of i[_(548)])K.position.x>=R&&a[_(532)](K[_(530)].x,a.APBzt(R,Y))&&a[_(506)](K.position.y,I)&&a.PaFig(K.position.y,a[_(478)](I,N))&&k[_(482)](K.id);const H=[];for(const K of i.leaves??[])K[_(530)].x>=R&&a.PaFig(K.position.x,R+Y)&&a.WWylJ(K.position.y,I)&&K[_(530)].y<=a[_(478)](I,N)&&H.push(K.id);a.mhwQa(k.length,0)?a.ZbaMY(k[_(484)],1)?a[_(473)](f,{kind:_(546),flowerId:k[0]}):a[_(487)]===_(479)?f({kind:a[_(552)],flowerIds:k}):C.pgboi(_0xfd5620,{kind:C.Vlxcc,leafId:_0x5618b8[0]}):H.length>0?H.length===1?a[_(544)](f,{kind:_(470),leafId:H[0]}):a.zJSmY(a[_(460)],a[_(553)])?f({kind:a.uAgXM,leafIds:H}):((C.lnMba(_0x1b6a93[_(476)],"project")||C[_(535)](_0x206db4.kind,C.eLQqV)&&C[_(509)](_0x32e764[_(518)],_0x317f50.flowerId)||C[_(498)](_0x3e71f7.kind,C.WnCaF)&&_0x77ee8[_(518)]!==_0x3c55cb[_(518)]||_0x354a78.kind===C.tRNfE&&C.hBBSR(_0x7ee992[_(518)],_0x3eecbb[_(518)]))&&_0x432c72({kind:C.eLQqV,flowerId:_0x34da95[_(518)]}),_0x14049e(()=>{},!0)):a[_(480)](f,{kind:"project"}),U(null)},beginFlowerDrag:(_,C,E)=>{const M=r;C.preventDefault(),C[M(515)]?.[M(474)]?.(C.pointerId);const S=i[M(548)][M(462)](R=>R.id===_);if(!S)return;let L=null;if(a[M(538)](o.kind,"flowers")&&o.flowerIds[M(466)](_))L=o[M(493)].map(R=>{const I=M,Y=i[I(548)].find(N=>N.id===R);return{id:R,x:Y?.position.x??0,y:Y?.position.y??0}});else{const R=a.THWGc(_h,i,_);a.mhwQa(R.length,1)&&(L=R.map(I=>{const Y=M,N=i.flowers[Y(462)](k=>k.id===I);return{id:I,x:N?.[Y(530)].x??0,y:N?.[Y(530)].y??0}}))}v[M(526)]={flowerId:_,startClient:{x:C[M(468)],y:C.clientY},startPos:{...S.position},moved:!1,clickPetal:a.btXca(E,null),isShiftPressed:C.shiftKey||!1,multiStartPositions:L,startZoom:m}},updateFlowerDrag:_=>{const C=r,E={mECZN:C(519),NnaBl:function(M,S){return a.FrPBS(M,S)},mAist:function(M,S,L,R){return a[C(481)](M,S,L,R)}};if(a.xvheD!==a[C(501)])a.XzfQP(_0x53fdb5,{kind:C(491)});else{const M=v[C(526)];if(!M)return;const S=a[C(522)](_.clientX-M[C(517)].x,M.startZoom),L=(_.clientY-M[C(517)].y)/M[C(514)],R=_[C(468)]-M.startClient.x,I=_[C(554)]-M.startClient.y;Math.abs(R)+Math[C(540)](I)>4&&(M[C(486)]=!0),d(Y=>{const N=C;if(M[N(527)])if(E.mECZN===N(519))for(const k of M[N(527)]){const H=Y.flowers.find(K=>K.id===k.id);H&&(H[N(530)].x=je(k.x+S,0,Sc),H[N(530)].y=je(E[N(539)](k.y,L),0,Sc))}else _0x5095a3({kind:N(548),flowerIds:_0x1442e4});else{const k=Y[N(548)][N(462)](H=>H.id===M.flowerId);if(!k)return;k.position.x=E.mAist(je,M.startPos.x+S,0,Sc),k[N(530)].y=je(E[N(539)](M[N(521)].y,L),0,Sc)}},!1)}},endFlowerDrag:()=>{const _=r,C=v.current;C&&(!C.moved&&C[_(461)]?C.isShiftPressed?b(C.flowerId,C.clickPetal.layerId,C.clickPetal.index,!0):a.tpUIk(f,{kind:"petal",flowerId:C[_(518)],layerId:C.clickPetal[_(525)],index:C[_(461)].index}):C[_(486)]&&((o[_(476)]==="project"||a.EQdFp(o.kind,a.iyRuC)&&o.flowerId!==C[_(518)]||o.kind===_(483)&&o[_(518)]!==C.flowerId||o[_(476)]===a.hobwa&&a.Bpuaq(o.flowerId,C[_(518)]))&&f({kind:a[_(543)],flowerId:C[_(518)]}),d(()=>{},!0)),v[_(526)]=null)},scaleDragRef:z[r(472)],beginScaleDrag:z.beginScaleDrag,updateScaleDrag:z[r(536)],endScaleDrag:z.endScaleDrag,rotationDragRef:z[r(551)],beginRotationDrag:z.beginRotationDrag,updateRotationDrag:z.updateRotationDrag,endRotationDrag:z.endRotationDrag,widthScaleDragRef:z.widthScaleDragRef,beginWidthScaleDrag:z[r(513)],updateWidthScaleDrag:z[r(459)],endWidthScaleDrag:z.endWidthScaleDrag,radiusDragRef:z[r(465)],beginRadiusDrag:z.beginRadiusDrag,updateRadiusDrag:z.updateRadiusDrag,endRadiusDrag:z.endRadiusDrag}}function rm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function da(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",d="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:v=>{c.onDoubleClick&&(v.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${d} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:v=>{v.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(rm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${d} shrink-0`,"aria-hidden":!0})]})]})}function cm(c){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:d,handleFlowerRowDoubleClick:v,addFlower:m,deleteSelected:h,addOuterLayer:p,deleteOuterLayer:g,deleteFlowerById:D,deleteLayerById:b,treeScrollRef:z,setExpandedFlowers:j}=c,w=(G,W)=>{const F=a.kind==="flower"&&a.flowerId===G.id,Q=a.kind==="flowers"&&a.flowerIds.includes(G.id),X=F||Q,_="",C=o(G.id),E=G.layers&&G.layers.length>0,M=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),p(G.id)},"aria-label":"Add outer layer",children:"+"}),E&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:S=>{S.stopPropagation(),g(G.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":G.id,"data-testid":`tree-flower-${G.id}`,style:{paddingLeft:W},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${C?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:C?"Collapse layers":"Expand layers",onClick:S=>{S.stopPropagation(),f(G.id)},"aria-label":C?"collapse":"expand","data-tree-toggle":!0,children:C?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:G.name,marker:_,selected:X,showTrash:F,onTrash:()=>D(G.id),rightActions:M,onClick:()=>d(G.id),onDoubleClick:()=>v(G.id),level:0,leftOffset:-18})})]}),C&&G.layers.slice().sort((S,L)=>L.order-S.order).map(S=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===S.id;return s.jsx(da,{label:`${S.order}. ${S.name}`,marker:"",selected:L,showTrash:L,onTrash:()=>b(G.id,S.id),onClick:()=>{i({kind:"layer",flowerId:G.id,layerId:S.id}),j(R=>({...R,[G.id]:!0}))},level:0,leftOffset:10,muted:!S.visible},S.id)})]},G.id)},B=c.groups,O=new Set(B.flatMap(G=>G.flowerIds)),T=r.flowers.filter(G=>!O.has(G.id)),q=c.leafGroups,U=new Set(q.flatMap(G=>G.leafIds)),J=c.leaves.filter(G=>!U.has(G.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:z,"data-testid":"layer-tree",children:[s.jsx(da,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),B.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...B].reverse().map(G=>{const W=a.kind==="group"&&a.groupId===G.id,F="",Q=c.isGroupExpanded(G.id);return s.jsxs("div",{"data-group-id":G.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:X=>{X.stopPropagation(),c.toggleGroupExpanded(G.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:G.name,marker:F,selected:W,onClick:()=>c.onSelectGroup(G.id),level:0,leftOffset:-18})})]}),Q&&G.flowerIds.map(X=>{const _=r.flowers.find(C=>C.id===X);return _?w(_,12):null})]},G.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...T].reverse().map(G=>w(G,0)),T.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[q.map(G=>{const W=a.kind==="leafGroup"&&a.leafGroupId===G.id;return s.jsxs("div",{children:[s.jsx(da,{label:` ${G.name}`,selected:W,onClick:()=>c.onSelectLeafGroup(G.id),level:0,leftOffset:0}),G.leafIds.map(F=>{const Q=c.leaves.find(_=>_.id===F);if(!Q)return null;const X=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(da,{label:Q.name,selected:X,showTrash:X,onTrash:()=>c.onDeleteLeaf(Q.id),onClick:()=>c.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},G.id)}),[...J].reverse().map(G=>{const W=a.kind==="leaf"&&a.leafId===G.id;return s.jsx(da,{label:G.name,selected:W,showTrash:W,onTrash:()=>c.onDeleteLeaf(G.id),onClick:()=>c.onSelectLeaf(G.id),level:0,leftOffset:0,muted:!G.visible},G.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ue=In;(function(c,r){const a=In,i=c();for(;;)try{if(parseInt(a(220))/1+-parseInt(a(244))/2*(-parseInt(a(267))/3)+-parseInt(a(218))/4+parseInt(a(253))/5*(parseInt(a(192))/6)+-parseInt(a(160))/7+parseInt(a(202))/8*(-parseInt(a(264))/9)+-parseInt(a(247))/10*(parseInt(a(175))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Gc,634687);const um=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),js=um(void 0,function(){const c=In,r={kMWcN:"(((.+)+)+)+$"};return js[c(167)]().search(r.kMWcN)[c(167)]()[c(216)](js)[c(223)](r[c(179)])});js();const Vd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}};function Gc(){const c=["mJmYsgL0rhbY","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","mZi1mJiYme9ItwPAza","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","rfDyrwS","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","nda5odqWyxbnq1nk","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTntqGmJaSic02nIaYmIWGltCYidmY","DLrVugC","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","mtuYodaZogv3CxnIAa","wKzWsw8","rwvRt2O","mJy4mJnnzhrtBNq","D2LKDgG","Bur4B3i","AgTbCgC","qYaTnJqGntiSic02mcaZocWGltuYidi2","tgvQteO","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","l3rZDw1HBwKV","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","C2LKzq","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","5OIq5lQ65AwZ5OcN","qYa0mIa2mIWGndaGntaSidqYidm4","mte5mZC3m1LAt3PozW","qYaTntGGntaSic01nca1ocWGltuWidCW","qYaXncaTncWGmZyGltqSidq4idq","tg9zyvm","tsaWida","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYa3nsaXmtiSidC0ideXnsWGnZiGmte4","Dg9tDhjPBMC","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","mtfRve54Eem","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","qYa2nsaXmIWGnZiGmJySidC2idqY","A01xy04","CMLNAhq","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa1nsaXmcWGnJaGmJiSidyZidm2","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTndaGmtaSic0XocaXlcaWida","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","5B6m44kn5zcr44gn","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa0mYaZmIWGndqGmJGSidq2idi2","qYa1nYa5msWGntCGotmSidu5idK1","mtjXqwLcBeu","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","qYa3oca5mYWGodiGotySidGZidK5","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaYmcaXndGSideWide1mcWGmcaXnta","tcaTndaGmtqY","s2vVrLO","rMj0rwy","whD3C28","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","mJrpCw9nD0S","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTnJGGotySic03mca4ncWGlty2idC0","yMfJAW","qYa2nsa4msWGnJyGodmSidy2idG1","qYa2nIa4nIWGnJiGodGSidu4idKW","qYaTnZyGndqSic02ocaZmcWGltu4idiW","AM9PBG","qYa2nca3ocWGnJyGodySidy2idK0","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","BgvMDa","qYa4mIa3ncWGodmGodySidGYidK4","y29UC3rYDwn0B3i","qYaYmIaXnteSide0ide2nYWGltiGmtGZ","ndaWnZGWA3f0uKTs","ywr1Bhq","ntm4odK3vLLcturu","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","C2vHCMnO","qYaYmcaWlca0nca2lca1ocaYma","qYa3mIa2osWGnJKGnZiSidy2idC2","qYaTnJyGodySic02nca3ocWGlty0idy4","sLDlvLe","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaXnsaTmIWGmZGGltuSidu1idu","tcaTmZyGmJGW","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaXnIa2nIWGmZqGnZaSidqYidGY","5BEM5zcr44gn","qYaTncaTmsWGlteGlteSidaGma","qYaTndqGnIWGltiWidaSidaGma","tsaWidCW","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY"];return Gc=function(){return c},Gc()}const Qd={adult:ue(158),child:""},Pd={right:"",left:ue(237),back:ue(187)},sm=[ue(164),ue(231),ue(178),ue(221),"C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90",ue(194),ue(248),"C 70 106, 70 108, 73 110",ue(166),"C 69 121, 65 126, 61 131","C 56 137, 49 142, 43 146",ue(212),ue(255),"C 15 206, 5 221, -9 239","C -17 249, -25 259, -33 269",ue(232),"L -125 280","C -112 260, -96 242, -82 226","C -68 212, -56 200, -48 190",ue(186),ue(263),ue(165),ue(262),"C -88 72, -84 62, -76 56",ue(169),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"].join(" "),xm=[ue(164),ue(224),"C 68 30, 76 44, 80 62",ue(215),"C 81 104, 84 110, 84 116",ue(252),"C 72 142, 60 152, 48 162","C 38 172, 32 180, 30 188","C 28 198, 34 212, 48 228",ue(259),"L -92 280",ue(171),ue(201),ue(203),ue(246),ue(181),"C -84 110, -81 104, -82 98",ue(184),ue(208),ue(239),"Z",ue(240),ue(236),"C 48 90, 50 104, 48 116",ue(280),ue(196),ue(235),ue(234),ue(258),"C -34 70, -16 66, 0 70","Z"].join(" "),om=[ue(164),"C 14 -4, 36 -4, 48 4",ue(182),"C 64 44, 64 50, 63 56",ue(229),"C 57 71, 59 75, 63 79",ue(206),ue(207),ue(191),ue(211),"C 50 111, 44 116, 38 120",ue(230),ue(217),"C -10 195, -18 209, -22 221","L -30 240","L -100 240","C -86 218, -72 200, -58 186",ue(213),ue(250),"C -48 126, -56 116, -62 106",ue(204),ue(174),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z"][ue(209)](" "),fm=[ue(164),ue(261),ue(242),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ue(233),ue(172),ue(254),"L -70 240",ue(243),ue(177),ue(251),ue(274),ue(226),"C -64 52, -60 38, -52 26",ue(185),"Z","M 46 26","C 54 20, 66 22, 72 32",ue(173),"C 66 68, 56 70, 48 66",ue(159),ue(190),"Z","M -46 26",ue(256),ue(195),"C -66 68, -56 70, -48 66",ue(189),"C -43 32, -44 28, -46 26","Z"].join(" "),dm=[ue(164),ue(231),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",ue(225),"C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44",ue(245),"C -34 10, -22 3, -10 0",ue(238),"Z","M -40 142",ue(165),"C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56",ue(169),ue(161),ue(241),ue(197),"Z"].join(" "),hm=[ue(164),ue(224),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",ue(277),"C 84 122, 82 128, 78 134",ue(176),"C 8 160, -8 160, -20 158","C -42 152, -62 142, -78 134","C -82 128, -84 122, -84 116",ue(222),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",ue(239),"Z","M 0 70",ue(236),ue(273),ue(280),"C 20 148, 10 150, 0 150",ue(235),"C -40 136, -46 126, -48 116",ue(258),ue(275),"Z"].join(" "),mm=["M 0 0",ue(162),ue(182),"C 64 44, 64 50, 63 56","C 44 54, 16 48, -10 46",ue(188),"C -44 34, -38 22, -30 14","C -22 6, -10 1, 0 0","Z","M -40 134","C -48 126, -56 116, -62 106",ue(204),"C -62 64, -56 54, -50 44",ue(228),ue(170),"L -40 134","Z"].join(" "),bm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",ue(210),"C 66 100, 64 106, 60 112",ue(278),"C 0 127, -12 126, -26 124",ue(193),ue(274),"C -66 86, -64 78, -64 68",ue(271),"C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",ue(260),ue(159),"C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32",ue(195),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" ");function vm(c,r){const a=ue,i={WlcAS:function(f,d){return f===d},wrYxZ:function(f,d){return f===d},lHrEl:a(279),SIBDf:"back",TDzvo:function(f,d,v){return f(d,v)},JWKVQ:function(f,d){return f===d},FbtEf:function(f,d){return f===d},EekOj:a(198)},o=i[a(227)](r,a(180))||i[a(199)](r,"left");if(c===a(219)){if(i[a(266)]!=="PIOLq")return o?sm:xm;{const f=i.WlcAS(_0x23ae81,a(180))||i.wrYxZ(_0x57cf1c,"left")?i.lHrEl:i.SIBDf,d=_0x37f0f2[_0x160945][f],v=_0x1c4622[_0x494efa]?.[_0x4f749d]??null;return{path:_0x763543(_0x22ab2e,_0xfdc01b),hairPath:i.TDzvo(_0x5e9d68,_0x3c3bd3,_0x5bc915),scaleX:_0x50e337===a(214)?-1:1,imageUrl:v,imageWidthMm:d.width,imageHeightMm:d.height}}}return o?om:fm}function gm(c,r){const a=ue,i={LoYaS:function(f,d){return f===d},Xwwso:a(214),KWjYO:"adult"},o=i[a(163)](r,a(180))||r===i[a(200)];return i[a(163)](c,i.KWjYO)?o?dm:hm:o?mm:bm}const ym={right:"/tsumami/stencils/adult_right.png",left:ue(276)+"stencils/adult_left.png",back:ue(276)+ue(168)},pm={right:ue(276)+"stencils/child_right.png",left:"/tsumami/stencils/child_left.png",back:"/tsumami/"+ue(183)},_m={adult:ym,child:pm};function In(c,r){c=c-158;const a=Gc();let i=a[c];if(In.WKtLXL===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};In.oFdfcT=o,In.pyifqG={},In.WKtLXL=!0}const f=a[0],d=c+f,v=In.pyifqG[d];if(v)i=v;else{const m=function(h){this.ouUvSN=h,this.nVNmgS=[1,0,0],this.EsEjof=function(){return"newState"},this.ryxZlI="\\w+ *\\(\\) *{\\w+ *",this.URAFNp=`['|"].+['|"];? *}`};m.prototype.OfTTeH=function(){const h=new RegExp(this.ryxZlI+this.URAFNp),p=h.test(this.EsEjof.toString())?--this.nVNmgS[1]:--this.nVNmgS[0];return this.TnbsJo(p)},m.prototype.TnbsJo=function(h){return~h?this.Juqrid(this.ouUvSN):h},m.prototype.Juqrid=function(h){for(let p=0,g=this.nVNmgS.length;p<g;p++)this.nVNmgS.push(Math.round(Math.random())),g=this.nVNmgS.length;return h(this.nVNmgS[0])},new m(In).OfTTeH(),i=In.oFdfcT(i),In.pyifqG[d]=i}return i}function Sm(c,r){const a=ue,i={DWXEk:"right",hkApg:function(v,m){return v===m},vToPg:"left",AdPJd:"side",oYcDj:a(205)},o=r===i[a(249)]||i[a(270)](r,i[a(257)])?i.AdPJd:i.oYcDj,f=Vd[c][o],d=_m[c]?.[r]??null;return{path:vm(c,r),hairPath:gm(c,r),scaleX:r===i[a(257)]?-1:1,imageUrl:d,imageWidthMm:f.width,imageHeightMm:f.height}}function ln(c,r){c=c-274;const a=kc();let i=a[c];if(ln.WLwfJe===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};ln.lEAIzs=o,ln.qgYTld={},ln.WLwfJe=!0}const f=a[0],d=c+f,v=ln.qgYTld[d];if(v)i=v;else{const m=function(h){this.BJZsnn=h,this.dxRjza=[1,0,0],this.XFinBa=function(){return"newState"},this.GGhIqM="\\w+ *\\(\\) *{\\w+ *",this.MbyZHS=`['|"].+['|"];? *}`};m.prototype.giZPzg=function(){const h=new RegExp(this.GGhIqM+this.MbyZHS),p=h.test(this.XFinBa.toString())?--this.dxRjza[1]:--this.dxRjza[0];return this.kLsHGU(p)},m.prototype.kLsHGU=function(h){return~h?this.piVkzT(this.BJZsnn):h},m.prototype.piVkzT=function(h){for(let p=0,g=this.dxRjza.length;p<g;p++)this.dxRjza.push(Math.round(Math.random())),g=this.dxRjza.length;return h(this.dxRjza[0])},new m(ln).giZPzg(),i=ln.lEAIzs(i),ln.qgYTld[d]=i}return i}(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(328))/1*(parseInt(a(308))/2)+-parseInt(a(306))/3*(-parseInt(a(307))/4)+-parseInt(a(295))/5+parseInt(a(327))/6+parseInt(a(317))/7*(parseInt(a(278))/8)+-parseInt(a(285))/9+-parseInt(a(276))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(kc,373275);function kc(){const c=["ChjLDMvUDerLzMf1Bhq","Dg91y2HTB3zL","y2XPzw50wa","uevtt2y","mJiWntzPDKvPsM8","mZmYy3HnDerO","mtbgDg5LD2q","z2v0qM91BMrPBMDdBgLLBNrszwn0","r25jEK0","CNnkreW","Aw5PDgLHBenLBNrLCG","thnsDui","D2LKDgG","yMzpCu4","EMvhv3C","nduWmtm2ng5zq1z5za","BgvMDa","AvveDKq","Aw5PDgLHBfbHBG","BvLxyva","sgfItxa","Dg91y2HZDgfYDa","D1PiCg0","EM9VBq","BK1nA0G","mZe3odC5nejdDK1VDa","odaXmxDOrhLxuq","surmqNy","Dg91y2HLBMq","ve5wweW","y2XPzw50wq","DxfzugW","qLzWDxu","CMHUBgK","vKDuzvO","BgvUz3rO","y3vYCMvUDa","ywrKrxzLBNrmAxn0zw5LCG","Aw5PDgLHBfPVB20","DhbjuLy","ChbquhG","EM9VBuXLDMvS","yxbWBhK","txbozKi","Dg9W","nJq5mJK3meLdD0DLua","AhLWB3q","ogPbrLLUDa","zxHW","q2TQC0e","Aejxuu4","yMHkD2e","rhbAzKW","wgjRs3O","mJG0mtuXnLLku3rPCG","yuDVA3i","C2vHCMnO","yM9sDhe","BKfby0O","zwHRyxm","uhv4AfO","Dg91y2HLCW","rxjgB0e","CMvTB3zLrxzLBNrmAxn0zw5LCG","mJaYmZu4mgjvBLjLyW","teXtDfq","wvPHruu","CgfU","AgvPz2H0","DxfjB3q","CfPltfi"];return kc=function(){return c},kc()}const Cm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=ln;if(a){const f=a[o(344)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ws=Cm(void 0,function(){const c=ln,r={wZHpm:"(((.+)+)+)+$"};return ws.toString()[c(287)](r[c(324)]).toString().constructor(ws)[c(287)]("(((.+)+)+)+$")});ws();const us=520;function Yd(c,r,a,i,o,f,d){const v=ln,m={riNZk:function(p,g){return p/g},BVpuu:function(p,g){return p*g},TNVXL:function(p,g){return p+g},GnIzM:function(p,g){return p*g}},h=m.riNZk(i,a)-1;return{x:d.x-m[v(334)](h,m.TNVXL(-d.x,c*o)),y:d.y-h*m[v(331)](-d.y,m[v(310)](r,f))}}function jm(c){const r=ln,a={YZaEE:function(E){return E()},mYWaP:function(E,M){return E/M},JkSHV:"CkjsA",neUoE:function(E){return E()},uqYPl:function(E,M){return E+M},nAAcJ:function(E,M){return E-M},HabMp:function(E,M){return E*M},sPcFq:function(E,M){return E/M},ehkas:function(E,M){return E(M)},VKJuN:function(E,M){return E-M},zeGWw:function(E,M){return E!==M},LucWO:"BSLWQ",bhJwa:function(E,M){return E/M},aGokr:function(E,M){return E/M},DpZfL:function(E,M,S,L){return E(M,S,L)},VGTeZ:function(E,M){return E-M},unxvi:function(E,M){return E-M},YGDck:function(E,M,S,L,R,I,Y,N){return E(M,S,L,R,I,Y,N)},ErFoA:function(E,M){return E(M)},xMWMR:r(330),XbkKz:"wheel",bGecM:function(E,M){return E+M},pZKLR:function(E,M){return E===M},rNymV:function(E,M){return E(M)},GsvcO:function(E,M){return E*M},LLStT:function(E,M,S,L,R,I,Y,N){return E(M,S,L,R,I,Y,N)},wkGhX:"rhnli",ywdHx:function(E,M){return E(M)},RFcNw:function(E,M){return E(M)},tpIRV:"SJLHi",mfxpg:function(E,M){return E(M)},hBWQN:function(E,M,S){return E(M,S)},bfOqN:function(E,M){return E(M)},iuWpF:function(E,M){return E(M)},PESOf:function(E,M,S){return E(M,S)},MpNfB:function(E,M,S){return E(M,S)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:d,stageRef:v,endPan:m,endFlowerDrag:h,endMarquee:p,endRotationDrag:g,endScaleDrag:D,endWidthScaleDrag:b,endRadiusDrag:z}=c,j=$.useRef(null),w=a.mfxpg($.useRef,c.pan),B=$.useRef(c.zoom);$.useEffect(()=>{const E=r;w[E(338)]=c.pan},[c[r(298)]]),a.hBWQN($.useEffect,()=>{B.current=c.zoom},[c[r(325)]]);const O=$.useRef(c.zoomLevel);a[r(281)]($.useEffect,()=>{const E=r;O[E(338)]=c.zoomLevel},[c[r(343)]]);const T=a[r(315)]($.useRef,null),q=a.iuWpF($.useRef,null),U=a[r(305)]($.useCallback,E=>{const M=r,S={LsRuB:function(L){return a[ln(297)](L)},plFyB:function(L){return L()},PuxhZ:function(L){return a.YZaEE(L)},QiRFu:function(L){return L()},rsJDL:function(L,R){return L+R},XRjbt:function(L,R){return a.mYWaP(L,R)}};if(E[M(292)][M(337)]===2)if(a.JkSHV!==M(280)){_0x414b47[M(302)](),S[M(313)](_0x444f28),S.plFyB(_0x201f5f),S.plFyB(_0x1140ca),S[M(291)](_0x40c973),_0xf05e53(),_0x2a3459(),S.QiRFu(_0x5ea4e2),_0x109293[M(338)]=null,_0x1b70ec[M(338)]=null;const L=_0x313c1e.touches[0],R=_0x5659ac.touches[1],I=S[M(311)](L.clientX,R.clientX)/2,Y=S.XRjbt(S[M(311)](L[M(332)],R[M(332)]),2),N=_0xdb2f2e[M(277)](R[M(304)]-L.clientX,R.clientY-L[M(332)]);_0x569e62[M(338)]={initialCenter:{x:I,y:Y},initialDist:N,initialPan:{..._0xce31e0[M(338)]},initialZoom:_0x844564[M(338)]}}else{E[M(302)](),m(),h(),p(),g(),D(),b(),a.neUoE(z),T.current=null,q[M(338)]=null;const L=E.touches[0],R=E[M(292)][1],I=a[M(333)](L[M(304)],R[M(304)])/2,Y=(L.clientY+R.clientY)/2,N=Math[M(277)](R[M(304)]-L[M(304)],R[M(332)]-L.clientY);j[M(338)]={initialCenter:{x:I,y:Y},initialDist:N,initialPan:{...w.current},initialZoom:B.current}}},[m,h,p,g,D,b,z]),J=a.MpNfB($.useCallback,E=>{const M=r,S={IDLBv:function(L,R){return a.nAAcJ(L,R)},KDyCN:function(L,R){return L-R},uqIot:function(L,R){return a.mYWaP(L,R)},oKdxX:function(L,R){return a.HabMp(L,R)}};if(E.touches[M(337)]===2&&j.current){E[M(302)]();const L=E.touches[0],R=E[M(292)][1],I=a.sPcFq(L.clientX+R.clientX,2),Y=a.uqYPl(L.clientY,R[M(332)])/2,N=Math[M(277)](R.clientX-L.clientX,a[M(289)](R.clientY,L[M(332)])),k=j[M(338)],H=a.sPcFq(N,Math.max(1,k.initialDist)),K=je(a[M(290)](Number,a[M(322)](k[M(340)],H).toFixed(3)),d[0],d[d.length-1]),le=k[M(340)],xe=a[M(289)](I,k[M(312)].x),de=a.VKJuN(Y,k.initialCenter.y);let fe=k.initialPan.x+xe,ge=a[M(333)](k[M(320)].y,de);const ze=v[M(338)];if(ze&&a[M(316)](le,K))if(M(326)===a.LucWO){const we=_0x19b6cf[M(309)](),ct=S[M(329)](_0x4c45bf.initialCenter.x,we.left)/we.width,ot=S.IDLBv(_0x54995f.initialCenter.y,we[M(275)])/we.height,ut=we.width/we[M(299)],mt=_0x27aee9,Mt=mt*ut,zt=S.KDyCN(_0x11100d/_0x115c1b,1)*(-_0x553089.initialPan.x+ct*Mt),xt=(S[M(300)](_0x3dc228,_0x22c0f1)-1)*(-_0x386b19.initialPan.y+S.oKdxX(ot,mt));_0x4e1201-=zt,_0x186397-=xt}else{const we=ze.getBoundingClientRect(),ct=(k[M(312)].x-we[M(318)])/we[M(314)],ot=a[M(321)](a.VKJuN(k.initialCenter.y,we.top),we[M(299)]),ut=a[M(282)](we.width,we.height),mt=us,Mt=mt*ut,zt=a.HabMp(K/le-1,-k.initialPan.x+a[M(322)](ct,Mt)),xt=(a[M(286)](K,le)-1)*(-k.initialPan.y+ot*mt);fe-=zt,ge-=xt}const me={x:fe,y:ge};B[M(338)]=K,w.current=me,o(me),a.ehkas(i,K)}},[o,i,v,d]),G=a.MpNfB($.useCallback,E=>{const M=r;E.touches[M(337)]<2&&(j.current=null)},[]),W=.003,F=a.hBWQN($.useCallback,E=>{const M=r;E.preventDefault();const S=v[M(338)];if(!S)return;const L=B[M(338)],R=a[M(322)](L,Math[M(279)](-E.deltaY*W)),I=a.DpZfL(je,R,d[0],d[a[M(336)](d.length,1)]);if(Math.abs(a[M(336)](I,L))<1e-6)return;const Y=S.getBoundingClientRect(),N=a.sPcFq(a[M(289)](E[M(304)],Y[M(318)]),Y.width),k=a.unxvi(E.clientY,Y[M(275)])/Y[M(299)],H=Y.width/Y[M(299)],K=us,le=K*H,xe=a.YGDck(Yd,N,k,L,I,le,K,w.current);B[M(338)]=I,w.current=xe,a[M(293)](i,I),o(xe)},[i,o,v,d]);$.useEffect(()=>{const E=r,M={boRtq:a.xMWMR},S=v[E(338)];if(S)return S.addEventListener(E(323),U,{passive:!1}),S[E(339)](E(303),J,{passive:!1}),S.addEventListener("touchend",G),S.addEventListener(a[E(284)],F,{passive:!1}),()=>{const L=E;S.removeEventListener("touchstart",U),S.removeEventListener(L(303),J),S[L(294)](M[L(288)],G),S[L(294)]("wheel",F)}},[v,U,J,G,F]);const Q=$.useCallback(E=>{const M=r,S=O.current,L=a[M(283)](je,a.bGecM(S,E),0,d.length-1);if(a[M(301)](L,S))return;const R=B[M(338)],I=d[L],Y=v[M(338)];if(!Y){a.rNymV(f,L);return}const N=Y[M(309)](),k=N.width/N[M(299)],H=us,K=a.GsvcO(H,k),le=a[M(296)](Yd,.5,.5,R,I,K,H,w[M(338)]);B.current=I,O[M(338)]=L,w.current=le,f(L),o(le)},[f,o,v,d]),X=a[r(274)]($.useCallback,(E,M)=>{const S=r;if(a[S(301)](a.wkGhX,S(335)))O[S(338)]=E,B.current=M,w.current={x:0,y:0},a.ywdHx(f,E),a.RFcNw(o,{x:0,y:0});else{const L=_0x1377bb.current,R=_0x2f1987(VBeOaf[S(319)](L,_0x5a5bb5),0,_0x3732c3.length-1);if(R===L)return;const I=_0x1923b8[S(338)],Y=_0x1f4404[R],N=_0x28bbd1[S(338)];if(!N){_0x48aab4(R);return}const k=N.getBoundingClientRect(),H=k[S(314)]/k.height,K=_0x4b1a98,le=VBeOaf.ZZbyO(K,H),xe=_0x4fd4ba(.5,.5,I,Y,le,K,_0xa622c1[S(338)]);_0x4ebe12[S(338)]=Y,_0x6f3877[S(338)]=R,_0x58bd7f.current=xe,VBeOaf[S(342)](_0x142f7,R),_0x371f1f(xe)}},[f,o]),_=$.useCallback(E=>{const M=r;a[M(341)]!=="KpFZZ"?T[M(338)]=E:_0xe353bb[M(338)]=_0x239bcf},[]),C=$.useCallback(E=>{q.current=E},[]);return{multiTouchRef:j,touchBgStartRef:T,mouseBgStartRef:q,zoomAtCenter:Q,resetView:X,setTouchBgStart:_,setMouseBgStart:C}}function li(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function wm(c){const{flower:r,project:a,paletteMap:i}=c,o=$.useRef(null),f=$.useRef(!1),d=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const v=$.useMemo(()=>[...r.layers||[]].sort((O,T)=>O.order-T.order),[r.layers]),m=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:p}=Yt(m),{flowerOuterR:g,centerHitR:D}=$.useMemo(()=>{let O=12,T=1/0;for(const U of v){if(!U.visible)continue;const J=U.scale??1,G=h*J,F=Math.max(0,U.radius-G*.28),Q=F+G;O=Math.max(O,Q),F<T&&(T=F)}isFinite(T)||(T=0);const q=Math.max(T*.9,8);return{flowerOuterR:O,centerHitR:q}},[v,h]),b=(O,T)=>O?.petalOverrides?.find(q=>q.index===T)??null,z="pointer",j=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,w=c.zoneCursorValue??"grab",B=O=>{if(O.stopPropagation(),O.button===0){if(O.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(O)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:O=>{O.stopPropagation(),c.onDoubleClick?.()},style:{cursor:j?w:ir("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,g),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),v.map(O=>{if(!O.visible)return null;const q=i.get(O.colorId)?.hex??"#999",U=360/Math.max(1,O.petalCount),J=O.scale??1,G=h*J,F=p*(O.widthScale??1)*J,X=Math.max(0,O.radius-G*.28),_=fs(""),C=fs(""),E=X+G,M=c.isSelected&&c.selectedLayerId===O.id,S=c.isSelected&&(c.selectedPetal?.layerId===O.id||(c.selectedPetals?.some(L=>L.layerId===O.id)??!1));return s.jsxs("g",{children:[Array.from({length:O.petalCount}).map((L,R)=>{const I=b(O,R),N=(I?.petalType??O.petalType)===""?_:C,k=i.get(I?.colorId??O.colorId)?.hex??q,H=O.offsetAngle+R*U,K=va(H),le=Math.cos(K)*X,xe=Math.sin(K)*X,de=c.isSelected&&c.selectedPetal?.layerId===O.id&&c.selectedPetal?.index===R,fe=c.isSelected&&(c.selectedPetals?.some(me=>me.layerId===O.id&&me.index===R)??!1),ge=de||fe,ze=j?w:ir("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${xe}) rotate(${H})`,children:[s.jsx("path",{d:N,transform:`scale(${G} ${F})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,style:{cursor:ze},onPointerDown:me=>{if(me.stopPropagation(),me.button!==0)return;const we=me.shiftKey,ct=me.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,we&&c.onTogglePetalSelection){me.preventDefault(),me.stopPropagation(),c.onTogglePetalSelection(O.id,R,!0);return}if(ct&&c.onTogglePetalSelection){d.current={x:me.clientX,y:me.clientY};const Mt=O.id,zt=R;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(Mt,zt,!0),navigator.vibrate?.(30)},500)}const ot=c.isSelected&&c.selectedLayerId!=null,ut=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||ot||ut){c.onBeginDragFromLayerPetal(O.id,R,me);return}c.onBeginDragFromLayerPetal(O.id,R,me)},onPointerMove:me=>{if(o.current&&d.current){const we=me.clientX-d.current.x,ct=me.clientY-d.current.y;Math.hypot(we,ct)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:me=>{me.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(O.id)}}),O.doublePetal&&(()=>{const me=O.doublePetal,we=I?.innerSizeReduction??me.innerSizeReduction??2,ct=m*(J||1);if(ct<=0)return null;const ut=Math.max(ct*.3,ct-we)/ct,mt=N,Mt=I?.innerColorId??me.innerColorId??I?.colorId??O.colorId,zt=i.get(Mt)?.hex??k,xt=G*ut,Ht=F*ut;return s.jsx("path",{d:mt,transform:`scale(${xt} ${Ht})`,fill:zt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:O.locked?.55:.95,pointerEvents:"none"})})(),(ge||M||c.isFlowerSelected)&&s.jsx("path",{d:N,transform:`scale(${G} ${F})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${O.id}-${R}`)]},R)}),M&&!S&&s.jsx("circle",{r:E,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},O.id)}),c.isFlowerSelected&&s.jsx("circle",{r:g,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const O=r.center,T=Eh(O.size),q=i.get(O.color)?.hex??"#D4A843",U=O.color2?i.get(O.color2)?.hex??"#C0C0C0":"#D4A843",J=Math.max(T,D);switch(O.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:T,fill:q,stroke:li(q,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:J,fill:"transparent",style:{cursor:z},onPointerDown:B})]});case"":{const W=T*.42,F=T,Q=T*.12,X=T*.13,_=T*.45,C=U,E=q;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,S)=>{const L=S/10*360,R=va(L),I=Math.cos(R)*F,Y=Math.sin(R)*F,N=-Math.sin(R)*Q,k=Math.cos(R)*Q,H=Math.cos(R)*W,K=Math.sin(R)*W;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+N).toFixed(2)} ${(K+k).toFixed(2)} L ${I.toFixed(2)} ${Y.toFixed(2)} L ${(H-N).toFixed(2)} ${(K-k).toFixed(2)} Z`,fill:C,stroke:li(C,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:I,cy:Y,r:X,fill:C,stroke:li(C,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},S)}),s.jsx("circle",{r:W,fill:C,stroke:li(C,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:_,fill:E,stroke:li(E,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:J,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}case"":{const G=O.pepCount??12,W=T*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:G}).map((F,Q)=>{const X=Q/G*360,_=va(X),C=Math.cos(_)*T,E=Math.sin(_)*T;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:C,y2:E,stroke:q,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:C,cy:E,r:Math.max(W,1),fill:q,stroke:li(q,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),s.jsx("circle",{r:J,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:D,fill:"transparent",style:{cursor:z},onPointerDown:B})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const O=v.find(W=>W.id===c.selectedLayerId);if(!O||!O.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const q=O.scale??1,U=h*q,G=Math.max(0,O.radius-U*.28);return G<=0?null:s.jsx("circle",{r:G,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,g+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Mm(c){const{leaf:r,project:a,paletteMap:i}=c,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:d}=Yt(o),v=r.scale??1,m=f*v,h=d*(r.widthScale??1)*v,p=fs(r.petalType),g=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ir("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:D=>{if(D.stopPropagation(),D.button===0&&!r.locked){if(D.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(D)}},children:[s.jsx("path",{d:p,transform:`scale(${m} ${h})`,fill:g,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const D=r.doublePetal,b=D.innerSizeReduction??2,z=o*(v||1);if(z<=0)return null;const w=Math.max(z*.3,z-b)/z,B=D.innerColorId??r.colorId,O=i.get(B)?.hex??g,T=m*w,q=h*w;return s.jsx("path",{d:p,transform:`scale(${T} ${q})`,fill:O,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&s.jsx("path",{d:p,transform:`scale(${m} ${h})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const Oc=1350;function zm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:d,stencilDraggingRef:v,onSelectStencil:m}=c,h=$.useRef(null);$.useEffect(()=>()=>{h.current?.()},[]);const p=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(g=>{const D=Sm(g.variant,g.pose),b=a===g.id,z=an,j=D.imageUrl?1:D.scaleX,w=p||!!g.locked;return s.jsx("g",{transform:`translate(${g.position.x} ${g.position.y}) scale(${z*j} ${z})`,style:{cursor:p?"default":g.locked?"pointer":nm("/tsumami/"),pointerEvents:p?"none":"auto"},"data-testid":`stencil-${g.id}`,onPointerDown:B=>{if(B.button!==0)return;if(w){m(g.id);return}if(B.stopPropagation(),m(g.id),!o.current)return;v.current=!0,o.current&&(o.current.style.cursor=lm("/tsumami/"));const T=d.current(B),q={...g.position},U=g.id;let J=q.x,G=q.y;const W=Q=>{const X=d.current(Q),_=X.x-T.x,C=X.y-T.y;J=je(q.x+_,0,Oc),G=je(q.y+C,0,Oc),f.current(E=>{const M=(E.stencils??[]).find(S=>S.id===U);M&&(M.position.x=J,M.position.y=G)},!1)},F=()=>{v.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",F),h.current=null,f.current(Q=>{const X=(Q.stencils??[]).find(_=>_.id===U);X&&(X.position.x=J,X.position.y=G)},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",F),h.current=()=>{v.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",F)}},children:D.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:D.imageUrl,x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-D.imageWidthMm/2,y:0,width:D.imageWidthMm,height:D.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:D.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:D.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:D.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},g.id)})})}function Dm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:d,dashSyncToken:v,stageRef:m,multiTouchRef:h,clientToSvgPoint:p,togglePetalSelection:g,handleShiftFlowerSelect:D,groupHighlightedFlowerIds:b,beginFlowerDrag:z,beginScaleDrag:j,beginRotationDrag:w,beginWidthScaleDrag:B,beginRadiusDrag:O,clickOriginRef:T,zoneActivatedRef:q,setZoneCursorValue:U,setTouchZoneIndicator:J,hoverZoneRef:G,hoverHitLayerIdRef:W,hoverHitPetalIndexRef:F}=c;return s.jsx(s.Fragment,{children:r.flowers.map(Q=>s.jsx(wm,{flower:Q,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const X=ba(r,Q.id);if(X&&!(a.kind==="group"&&a.groupId===X.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&X.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:X.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:X=>i({kind:"layer",flowerId:Q.id,layerId:X}),onSelectPetal:(X,_)=>i({kind:"petal",flowerId:Q.id,layerId:X,index:_}),onTogglePetalSelection:(X,_,C)=>g(Q.id,X,_,C),onShiftSelect:()=>D(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:d,onBeginDragFromLayerPetal:(X,_,C)=>{if(h.current)return;const E=ba(r,Q.id);if(E&&!(a.kind==="group"&&a.groupId===E.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&E.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:E.id}),z(Q.id,C);return}const M=p(C),S=C.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(S&&L){const{zone:Y,layerId:N,petalIndex:k}=ai(M.x,M.y,Q,r,a),{length:H}=Yt(Q.fabricSquareSize??r.fabricSquareSize),K=Cc(Y,a.kind,{hitLayerId:N,flower:Q,length:H});if(K!=="none"&&K!=="center"&&K!=="move"){J({x:M.x,y:M.y,zone:K});const le=a.kind==="layer"?"layer":"flower",xe=a.kind==="layer"?a.layerId:X;switch(K){case"rotate":w(le,Q.id,C,{layerId:xe});return;case"scale":j(le,Q.id,C,{layerId:xe});return;case"width":B(le,Q.id,C,{layerId:xe,petalIndex:k});return;case"radius":O(le,Q.id,C,{layerId:xe});return}}z(Q.id,C,{layerId:X,index:_});return}const R=q.current;T.current={x:M.x,y:M.y},q.current=!1;const I=G.current;if(L&&(R||I!=="none"&&I!=="center")){const Y=I,N=W.current,k=F.current,H=a.kind==="layer"?"layer":"flower",K=a.kind==="layer"?a.layerId:N??X;switch(Y){case"rotate":w(H,Q.id,C,{layerId:K});return;case"scale":j(H,Q.id,C,{layerId:K});return;case"width":B(H,Q.id,C,{layerId:K,petalIndex:k});return;case"radius":O(H,Q.id,C,{layerId:K});return;default:U(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),z(Q.id,C,{layerId:X,index:_});return}}U(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),z(Q.id,C,{layerId:X,index:_})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:X=>{if(h.current||X.button!==0)return;if(X.shiftKey){X.stopPropagation(),D(Q.id);return}const _=ba(r,Q.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:_.id}),z(Q.id,X);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const E=p(X);T.current={x:E.x,y:E.y},q.current=!1,U(Pn("/tsumami/")),m.current&&(m.current.style.cursor=Pn("/tsumami/")),z(Q.id,X)},dashSyncToken:v},Q.id))})}function Nm(c){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:d,leafGroupHighlightedLeafIds:v,zoneCursorValue:m,stageRef:h,applyUpdateRef:p,clientToSvgPointRef:g,leafDraggingRef:D,clickOriginRef:b,zoneActivatedRef:z,setZoneCursorValue:j,onSelectLeaf:w,onShiftSelectLeaf:B,hoverLeafZoneRef:O}=c,T=$.useRef(null);return $.useEffect(()=>()=>{T.current?.()},[]),s.jsx(s.Fragment,{children:r.map(q=>{if(!q.visible)return null;const U=o.kind==="leaf"&&o.leafId===q.id,J=o.kind==="leaves"&&o.leafIds?.includes(q.id),G=v.has(q.id),W=Kc({leaves:r,leafGroups:a},q.id),F=W?.rotation??0;let Q=q;if(W&&F!==0){const X=Sh({leaves:r,leafGroups:a},W.id),_=F*Math.PI/180,C=q.position.x-X.x,E=q.position.y-X.y;Q={...q,position:{x:X.x+C*Math.cos(_)-E*Math.sin(_),y:X.y+C*Math.sin(_)+E*Math.cos(_)},rotation:q.rotation+F}}return s.jsx(Mm,{leaf:Q,project:i,paletteMap:f,isSelected:U||J,isLeafGroupHighlighted:G,dashSyncToken:d,cursor:U?m:void 0,onPointerDown:X=>{if(q.locked)return;X.stopPropagation();const _=g.current(X),C=U&&z.current;w(q.id),b.current={x:_.x,y:_.y},z.current=!1,j(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/"));const E=O.current,M=C||E!=="none"?E:"move";if(M!=="move"){const S=er(M,"/tsumami/");j(S),h.current&&(h.current.style.cursor=S)}if(D.current=!0,M==="rotate"){const S=Q.position,L=q.rotation,R=Math.atan2(_.y-S.y,_.x-S.x)*180/Math.PI;let I=!1;const Y=k=>{const H=g.current(k),le=Math.atan2(H.y-S.y,H.x-S.x)*180/Math.PI-R;Math.abs(le)>.5&&(I=!0),p.current(xe=>{const de=(xe.leaves??[]).find(fe=>fe.id===q.id);de&&(de.rotation=((L+le)%360+360)%360)},!1)},N=()=>{T.current=null,D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",N),T.current=()=>{D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N)}}else if(M==="scale"){const S=Q.position,L=q.scale??1,R=Math.max(1,Math.hypot(_.x-S.x,_.y-S.y));let I=!1;const Y=k=>{const H=g.current(k),le=Math.hypot(H.x-S.x,H.y-S.y)/R;Math.abs(le-1)>.01&&(I=!0),p.current(xe=>{const de=(xe.leaves??[]).find(fe=>fe.id===q.id);de&&(de.scale=je(L*le,.3,3))},!1)},N=()=>{T.current=null,D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",N),T.current=()=>{D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N)}}else if(M==="width"){const S=Q.position,L=q.rotation*Math.PI/180,R=-Math.sin(L),I=Math.cos(L),Y=q.widthScale??1,N=Math.abs((_.x-S.x)*R+(_.y-S.y)*I),k=Math.max(1,N);let H=!1;const K=xe=>{const de=g.current(xe),ge=Math.abs((de.x-S.x)*R+(de.y-S.y)*I)/k;Math.abs(ge-1)>.01&&(H=!0),p.current(ze=>{const me=(ze.leaves??[]).find(we=>we.id===q.id);me&&(me.widthScale=je(Y*ge,.3,3))},!1)},le=()=>{T.current=null,D.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",le),H&&p.current(()=>{},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",le),T.current=()=>{D.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",le)}}else{const S=_,L=Ch({leaves:r,leafGroups:a},q.id),R=new Map;for(const k of L){const H=r.find(K=>K.id===k);H&&R.set(k,{...H.position})}let I=!1;const Y=k=>{const H=g.current(k),K=H.x-S.x,le=H.y-S.y;Math.abs(K)+Math.abs(le)>1&&(I=!0),p.current(xe=>{for(const[de,fe]of R){const ge=(xe.leaves??[]).find(ze=>ze.id===de);ge&&(ge.position.x=je(fe.x+K,0,Oc),ge.position.y=je(fe.y+le,0,Oc))}},!1)},N=()=>{T.current=null,D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N),I&&p.current(()=>{},!0)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",N),T.current=()=>{D.current=!1,document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",N)}}},onShiftSelect:()=>B(q.id)},q.id)})})}function Am({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Em({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ha=1350;function Lm(c){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:d,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:h,setPan:p,showGrid:g,setShowGrid:D,setShowHelp:b,stageRef:z,viewBox:j,dashDelay:w,dashSyncToken:B,beginPan:O,updatePan:T,endPan:q,beginMarquee:U,updateMarquee:J,endMarquee:G,marqueeRef:W,marqueeRect:F,beginFlowerDrag:Q,updateFlowerDrag:X,endFlowerDrag:_,scaleDragRef:C,updateScaleDrag:E,endScaleDrag:M,rotationDragRef:S,updateRotationDrag:L,endRotationDrag:R,widthScaleDragRef:I,updateWidthScaleDrag:Y,endWidthScaleDrag:N,radiusDragRef:k,updateRadiusDrag:H,endRadiusDrag:K,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:fe,togglePetalSelection:ge,clientToSvgPoint:ze}=c,me=$.useRef(!1),we=$.useRef(!1),ct=$.useRef(c.applyUpdate),ot=$.useRef(ze);$.useEffect(()=>{ct.current=c.applyUpdate},[c.applyUpdate]),$.useEffect(()=>{ot.current=ze},[ze]);const[ut,mt]=$.useState(!1),Mt=$.useRef(null);$.useEffect(()=>{if(!ut)return;const se=Be=>{Mt.current&&!Mt.current.contains(Be.target)&&mt(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[ut]);const[zt,xt]=$.useState("grab"),Ht=$.useRef("none"),rn=$.useRef("none"),Kn=$.useRef(void 0),Xn=$.useRef(void 0),Xe=$.useRef(null),yn=$.useRef(!0),pl=5,Jl=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Jl.current&&(Jl.current=a.kind,yn.current=!1,Xe.current=null,Ht.current="none",rn.current="none",Kn.current=void 0,Xn.current=void 0)},[a.kind]);const[qn,ga]=$.useState(!1),Rn=$.useRef(!1),[ui,Wl]=$.useState(null),el=5,Bt=10,Je=jm({zoom:c.zoom,pan:c.pan,setZoom:d,setPan:p,zoomLevel:v,setZoomLevel:m,ZOOM_LEVELS:h,stageRef:z,endPan:q,endFlowerDrag:_,endMarquee:G,endRotationDrag:R,endScaleDrag:M,endWidthScaleDrag:N,endRadiusDrag:K});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Je.zoomAtCenter(1),disabled:v>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Je.zoomAtCenter(-1),disabled:v<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>D(se=>!se),title:"","aria-label":"","aria-pressed":g,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Je.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Mt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${ut?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>mt(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),ut&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[se]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(se,Be),mt(!1)},"data-testid":`stencil-add-${se}-${Be}`,children:Pd[Be]},`${se}-${Be}`))]},se)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),mt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:g?"24px 1fr":"1fr",gridTemplateRows:g?"20px 1fr":"1fr"},children:[g&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),g&&(()=>{const[se,,Be,qe]=j.split(/\s+/).map(Number),Se=an,ye=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>ye/Ee<=15)??1e3,ve=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,We=De<=10?5:De/2,Ye=Math.floor(se/Se/ve)*ve-ve,Ve=Math.ceil((se+Be)/Se/ve)*ve+ve,Qe=[];for(let Ee=Ye;Ee<=Ve;Ee+=ve){const Fe=(Ee*Se-se)/Be*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Ee),$e=Me%De===0,et=Me%We===0,tt=$e?10:et?6:3;Qe.push(s.jsx("line",{x1:`${Fe}%`,y1:20-tt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:$e?.8:.4},Ee)),$e&&Qe.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),g&&(()=>{const[,se,Be,qe]=j.split(/\s+/).map(Number),Se=an,ye=Math.max(Be,qe)/Se,De=[10,20,50,100,200,500,1e3].find(Ee=>ye/Ee<=15)??1e3,ve=De<=10?1:De<=50?5:De<=100?10:De<=500?50:100,We=De<=10?5:De/2,Ye=Math.floor(se/Se/ve)*ve-ve,Ve=Math.ceil((se+qe)/Se/ve)*ve+ve,Qe=[];for(let Ee=Ye;Ee<=Ve;Ee+=ve){const Fe=(Ee*Se-se)/qe*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Ee),$e=Me%De===0,et=Me%We===0,tt=$e?10:et?6:3;Qe.push(s.jsx("line",{x1:24-tt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:$e?.8:.4},Ee)),$e&&Qe.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ee},`t${Ee}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),s.jsxs("svg",{ref:z,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":w,cursor:qn?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(ga(Be=>!Be),i({kind:"project"}))},onPointerDown:se=>{if(Je.multiTouchRef.current)return;if(se.button===1){Rn.current=!0,z.current&&(z.current.style.cursor="grabbing"),O(se);return}if(se.button!==0)return;const Be=se.pointerType==="touch";if(Be&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(ye=>ye.id===f);if(Se){const ye=ze(se),{zone:Ae,layerId:De,petalIndex:ve}=ai(ye.x,ye.y,Se,r,a),{length:We}=Yt(Se.fabricSquareSize??r.fabricSquareSize),Ye=Cc(Ae,a.kind,{hitLayerId:De,flower:Se,length:We});if(Ye!=="none"&&Ye!=="center"){Wl({x:ye.x,y:ye.y,zone:Ye});const Ve=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:De;switch(Ye){case"rotate":xe(Ve,f,se,{layerId:Qe});return;case"scale":le(Ve,f,se,{layerId:Qe});return;case"width":de(Ve,f,se,{layerId:Qe,petalIndex:ve});return;case"radius":fe(Ve,f,se,{layerId:Qe});return;case"move":Q(f,se);return}}}}Je.setTouchBgStart({x:se.clientX,y:se.clientY}),O(se);return}if(se.target===se.currentTarget&&f&&zt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Ht.current;if(Se!=="none"&&Se!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Kn.current;switch(Se){case"rotate":xe(ye,f,se,{layerId:Ae});return;case"scale":le(ye,f,se,{layerId:Ae});return;case"width":de(ye,f,se,{layerId:Ae,petalIndex:Xn.current});return;case"radius":fe(ye,f,se,{layerId:Ae});return;case"move":Q(f,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&zt!=="grab"){const qe=rn.current;if(qe!=="none"){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){se.preventDefault();const ye=ze(se);if(we.current=!0,qe==="rotate"){const Ae=Se.position,De=Se.rotation,ve=Math.atan2(ye.y-Ae.y,ye.x-Ae.x)*180/Math.PI,We=Se.id,Ye=er(qe,"/tsumami/");xt(Ye),z.current&&(z.current.style.cursor=Ye);let Ve=!1;const Qe=gt=>{const Fe=ze(gt),$e=Math.atan2(Fe.y-Ae.y,Fe.x-Ae.x)*180/Math.PI-ve;Math.abs($e)>.5&&(Ve=!0),c.applyUpdate(et=>{const tt=(et.leaves??[]).find(pn=>pn.id===We);tt&&(tt.rotation=((De+$e)%360+360)%360)},!1)},Ee=()=>{we.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ee),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ee);return}else if(qe==="scale"){const Ae=Se.position,De=Se.scale??1,ve=Math.max(1,Math.hypot(ye.x-Ae.x,ye.y-Ae.y)),We=Se.id,Ye=er(qe,"/tsumami/");xt(Ye),z.current&&(z.current.style.cursor=Ye);let Ve=!1;const Qe=gt=>{const Fe=ze(gt),$e=Math.hypot(Fe.x-Ae.x,Fe.y-Ae.y)/ve;Math.abs($e-1)>.01&&(Ve=!0),c.applyUpdate(et=>{const tt=(et.leaves??[]).find(pn=>pn.id===We);tt&&(tt.scale=Math.max(.3,Math.min(3,De*$e)))},!1)},Ee=()=>{we.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Ee),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Ee);return}else if(qe==="width"){const Ae=Se.position,De=Se.rotation*Math.PI/180,ve=-Math.sin(De),We=Math.cos(De),Ye=Se.widthScale??1,Ve=Math.max(1,Math.abs((ye.x-Ae.x)*ve+(ye.y-Ae.y)*We)),Qe=Se.id,Ee=er(qe,"/tsumami/");xt(Ee),z.current&&(z.current.style.cursor=Ee);let gt=!1;const Fe=$e=>{const et=ze($e),pn=Math.abs((et.x-Ae.x)*ve+(et.y-Ae.y)*We)/Ve;Math.abs(pn-1)>.01&&(gt=!0),c.applyUpdate(ya=>{const Vl=(ya.leaves??[]).find(_n=>_n.id===Qe);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,Ye*pn)))},!1)},Me=()=>{we.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Me),gt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Me);return}else{const Ae=ye,De={...Se.position},ve=Se.id;xt(Pn("/tsumami/")),z.current&&(z.current.style.cursor=Pn("/tsumami/"));let We=!1;const Ye=Qe=>{const Ee=ze(Qe),gt=Ee.x-Ae.x,Fe=Ee.y-Ae.y;Math.abs(gt)+Math.abs(Fe)>1&&(We=!0),c.applyUpdate(Me=>{const $e=(Me.leaves??[]).find(et=>et.id===ve);$e&&($e.position.x=Math.max(0,Math.min(ha,De.x+gt)),$e.position.y=Math.max(0,Math.min(ha,De.y+Fe)))},!1)},Ve=()=>{we.current=!1,document.removeEventListener("pointermove",Ye),document.removeEventListener("pointerup",Ve),We&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ye),document.addEventListener("pointerup",Ve);return}}}}if(se.target===se.currentTarget){Be?(Je.setTouchBgStart({x:se.clientX,y:se.clientY}),O(se)):qn?U(se):(Je.setMouseBgStart({x:se.clientX,y:se.clientY}),Rn.current=!0,z.current&&(z.current.style.cursor="grabbing"),O(se));return}},onPointerMove:se=>{if(me.current||we.current)return;if(W.current){J(se);return}if(S.current){L(se);return}if(C.current){E(se);return}if(I.current){Y(se);return}if(k.current){H(se);return}X(se),T(se);const Be=!!c.dragRef?.current||!!W.current||!!S.current||!!C.current||!!I.current||!!k.current||Rn.current,qe=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=r.flowers.find(ye=>ye.id===f);if(Se){const ye=ze(se);if(Xe.current&&!yn.current){if(Math.hypot(ye.x-Xe.current.x,ye.y-Xe.current.y)<pl){const{zone:Ee}=ai(ye.x,ye.y,Se,r,a);Ee==="center"&&(xt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}yn.current=!0,Xe.current=null}const{zone:Ae,layerId:De,petalIndex:ve}=ai(ye.x,ye.y,Se,r,a),{length:We}=Yt(Se.fabricSquareSize??r.fabricSquareSize),Ye=Cc(Ae,a.kind,{hitLayerId:De,flower:Se,length:We});Ye!=="none"&&(Ht.current=Ye,Kn.current=De,Xn.current=ve);const Ve=Od(Ye,"/tsumami/");xt(Ve),z.current&&(z.current.style.cursor=Ve)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){const ye=ze(se);if(Xe.current&&!yn.current){if(Math.hypot(ye.x-Xe.current.x,ye.y-Xe.current.y)<pl)return;yn.current=!0,Xe.current=null}const Ae=tm(ye.x,ye.y,Se,r);Ae!=="none"&&(rn.current=Ae);const De=er(Ae,"/tsumami/");xt(De),z.current&&(z.current.style.cursor=De)}}},onPointerUp:se=>{if(!me.current&&!we.current){if(Wl(null),W.current&&qn&&ga(!1),G(),R(),M(),N(),K(),_(),q(),Rn.current&&(Rn.current=!1,z.current&&(z.current.style.cursor=qn?"crosshair":"grab")),Je.touchBgStartRef.current&&se.pointerType==="touch"){const Be=se.clientX-Je.touchBgStartRef.current.x,qe=se.clientY-Je.touchBgStartRef.current.y;Math.hypot(Be,qe)<Bt&&i({kind:"project"}),Je.setTouchBgStart(null);return}if(Je.setTouchBgStart(null),Je.mouseBgStartRef.current&&se.pointerType==="mouse"){const Be=se.clientX-Je.mouseBgStartRef.current.x,qe=se.clientY-Je.mouseBgStartRef.current.y;if(Je.setMouseBgStart(null),Math.hypot(Be,qe)<el){i({kind:"project"});return}}if(Je.setMouseBgStart(null),f){const Be=r.flowers.find(qe=>qe.id===f);if(Be){const qe=ze(se);if(Xe.current&&Math.hypot(qe.x-Xe.current.x,qe.y-Xe.current.y)<pl){const{zone:Ve}=ai(qe.x,qe.y,Be,r,a);Ve==="center"&&(xt("pointer"),z.current&&(z.current.style.cursor="pointer"));return}const{zone:Se,layerId:ye,petalIndex:Ae}=ai(qe.x,qe.y,Be,r,a),{length:De}=Yt(Be.fabricSquareSize??r.fabricSquareSize),ve=Cc(Se,a.kind,{hitLayerId:ye,flower:Be,length:De});ve!=="none"&&(Ht.current=ve,Kn.current=ye,Xn.current=Ae);const We=Od(ve,"/tsumami/");xt(We),z.current&&(z.current.style.cursor=We)}}}},onPointerLeave:()=>{G(),R(),M(),N(),K(),_(),q(),Rn.current=!1,Je.setTouchBgStart(null),Je.setMouseBgStart(null),xt("grab"),Xe.current=null,yn.current=!0,Ht.current="none",rn.current="none",Kn.current=void 0,Xn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Be,qe,Se]=j.split(/\s+/).map(Number),ye=ha;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:se,y:Be,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),s.jsx("rect",{x:se,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ha,height:ha,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ha,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ha,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),g&&(()=>{const se=an,[Be,qe,Se,ye]=j.split(/\s+/).map(Number),Ae=Math.max(Se,ye)/se,ve=[10,20,50,100,200,500,1e3].find(et=>Ae/et<=15)??1e3,We=Math.floor(Be/se/ve)*ve-ve,Ye=Math.ceil((Be+Se)/se/ve)*ve+ve,Ve=Math.floor(qe/se/ve)*ve-ve,Qe=Math.ceil((qe+ye)/se/ve)*ve+ve,Ee=Ve*se,gt=Qe*se,Fe=We*se,Me=Ye*se,$e=[];for(let et=We;et<=Ye;et+=ve){const tt=et*se;$e.push(s.jsx("line",{x1:tt,y1:Ee,x2:tt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${et}`))}for(let et=Ve;et<=Qe;et+=ve){const tt=et*se;$e.push(s.jsx("line",{x1:Fe,y1:tt,x2:Me,y2:tt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${et}`))}return s.jsx("g",{children:$e})})(),s.jsx(zm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:z,applyUpdateRef:ct,clientToSvgPointRef:ot,stencilDraggingRef:me,onSelectStencil:c.onSelectStencil}),s.jsx(Dm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:zt,dashSyncToken:B,stageRef:z,multiTouchRef:Je.multiTouchRef,clientToSvgPoint:ze,togglePetalSelection:ge,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:de,beginRadiusDrag:fe,clickOriginRef:Xe,zoneActivatedRef:yn,setZoneCursorValue:xt,setTouchZoneIndicator:Wl,hoverZoneRef:Ht,hoverHitLayerIdRef:Kn,hoverHitPetalIndexRef:Xn}),s.jsx(Nm,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:B,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:zt,stageRef:z,applyUpdateRef:ct,clientToSvgPointRef:ot,leafDraggingRef:we,clickOriginRef:Xe,zoneActivatedRef:yn,setZoneCursorValue:xt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:rn}),s.jsx(Am,{rect:F}),s.jsx(Em,{indicator:ui})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(c,r,a){return Math.min(a,Math.max(r,c))}function Ie({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...d}){const[v,m]=$.useState(null),h=$.useRef(null),p=$.useCallback(b=>{const z=Number(b);isNaN(z)||r(Hd(z,a,i)),m(null)},[r,a,i]),g=$.useCallback(()=>{m(null)},[]),D=$.useCallback(b=>{const z=o??1,w=(Number(v??c)||0)+z*b,B=Hd(w,a,i),O=String(z).includes(".")?String(z).split(".")[1].length:0,T=Number(B.toFixed(O));m(String(T)),r(T)},[v,c,o,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:v??String(c),onChange:b=>m(b.target.value),onFocus:b=>{m(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{v!==null&&p(v)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),v!==null&&p(v),h.current?.blur()):b.key==="Escape"?(b.preventDefault(),g(),h.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),D(b.key==="ArrowUp"?1:-1))},...d}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),D(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),D(-1)},children:""})]})]})}function ur({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Tm({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=$.useMemo(()=>{const w=[...c.layers||[]].sort((F,Q)=>F.order-Q.order);if(w.length<2)return{mode:"uniform",step:2};const B=w.map(F=>F.scale??1);if(B.every(F=>Math.abs(F-B[0])<.001))return{mode:"uniform",step:2};const T=w[0],q=w[w.length-1],U=(q.order??1)-(T.order??1);if(U<=0)return{mode:"gradual",step:2};const G=((T.scale??1)-(q.scale??1))/U,W=Math.round(G*r*2)/2;return{mode:"gradual",step:je(W,0,10)}},[c.id]),[d,v]=$.useState(f.mode),[m,h]=$.useState(f.step),[p,g]=$.useState(0);$.useEffect(()=>{v(f.mode),h(f.step),g(0)},[f]);const D=$.useMemo(()=>[...c.layers||[]].sort((w,B)=>w.order-B.order),[c.layers]),b=D[0],z=b?b.order:0,j=$.useMemo(()=>{if(!b)return[];const w=b.scale??1,B=b.radius,O=new Map;for(const F of D){const Q=F.order-z;if(Q===0)O.set(F.id,w);else if(d==="uniform")O.set(F.id,w);else{const X=m/r;O.set(F.id,je(w-Q*X,.3,3))}}const{length:T}=Yt(r),q=D.length,U=70*Math.PI/180,J=new Map;let G=B;J.set(b.id,B);for(let F=1;F<q;F++){const Q=D[F-1],X=O.get(Q.id)??1,_=T*X;let C;if(a===""){const E=q-1-F,M=q>1?E/(q-1)*U:0;C=_*(30/100)*Math.cos(M)}else C=_/3;G=G-C,J.set(D[F].id,Math.max(2,G))}const W=D.map(F=>{const Q=O.get(F.id)??1,X=Math.round((J.get(F.id)??B)*10)/10,_=Math.round(r*Q*10)/10;return{id:F.id,name:F.name,order:F.order,effScale:Q,effFabricSize:_,effRadius:X}});if(W.length>0){const F=W[W.length-1],Q=T*F.effScale,X=Math.floor(Q*.28*10)/10;F.effRadius>X&&(F.effRadius=X)}return W},[D,b,z,d,m,30,r,a]);return $.useEffect(()=>{p!==0&&(!b||j.length===0||i(w=>{const B=w.flowers.find(T=>T.id===c.id);if(!B)return;for(const T of j){const q=B.layers.find(U=>U.id===T.id);q&&(q.scale=je(T.effScale,.3,3),q.radius=je(T.effRadius,2,120))}const O=[...B.layers].sort((T,q)=>q.order-T.order);for(let T=1;T<O.length;T++){const q=O[T-1],U=O[T];U.offsetAngle=Fn(q.petalCount,q.offsetAngle,U.petalCount)}}))},[p]),D.length<2?null:s.jsxs(ur,{title:"",children:[s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,onChange:w=>{v(w.target.value),g(B=>B+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),d==="gradual"&&s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:w=>{h(w),g(B=>B+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(w=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:w.name}),s.jsxs("span",{children:[" ",w.effFabricSize,"mm /  ",Math.round(nr(w.effRadius,w.effScale,r)),"mm"]})]},w.id))]})]})}const Fd="tsumami_recent_colors_v1",qs=10;function Bm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ms(){try{const c=localStorage.getItem(Fd);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qs)}}catch{}return[]}function qm(c){try{localStorage.setItem(Fd,JSON.stringify(c.slice(0,qs)))}catch{}}function Rm(c){const r=Ms(),a=[c,...r.filter(i=>i!==c)].slice(0,qs);qm(a)}function Zn({palette:c,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,d]=$.useState(!1),v=$.useRef(null),[m,h]=$.useState(Ms);$.useEffect(()=>{if(!f)return;const j=w=>{v.current&&!v.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[f]);const p=$.useMemo(()=>Bm(r),[r]),g=$.useMemo(()=>{const j=new Set;j.add(a);for(const w of p)j.add(w);for(const w of m)j.add(w);return c.filter(w=>j.has(w.id))},[c,a,p,m]),D=$.useCallback(j=>{Rm(j),h(Ms()),i(j)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",z=f?c:g;return s.jsx("div",{ref:v,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[z.map(j=>s.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>D(j.id)},j.id)),c.length>g.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>d(j=>!j),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Gm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(i=>{const o=a.layers.every(f=>f.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const d=f.flowers.find(v=>v.id===a.id);if(d)for(const v of d.layers)v.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Xd.map(i=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;d.placementMode=i;const v=d.fabricSquareSize??f.fabricSquareSize;i===""?d.baseDiameter=tr(d.flowerDiameter):d.baseDiameter||(d.baseDiameter=f.baseDiameter),Th(d.layers,v,i,d.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ie,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[tr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(!f)return;const d=ci(i);for(const m of f.layers)m.petalCount=i,m.widthScale=d;const v=[...f.layers].sort((m,h)=>h.order-m.order);for(let m=1;m<v.length;m++)v[m].offsetAngle=Fn(v[m-1].petalCount,v[m-1].offsetAngle,v[m].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(v=>v.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=tr(i));const d=[...f.layers].sort((v,m)=>v.order-m.order);Xc(d,f.fabricSquareSize??o.fabricSquareSize,i);for(const v of d){const m=f.layers.find(h=>h.id===v.id);m&&(m.radius=v.radius,m.scale=v.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)d.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f&&(f.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)d.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);if(f)for(const d of f.layers)if(i.target.checked){if(!d.doublePetal){const v=d._doublePetalCache;d.doublePetal=v??{innerSizeReduction:2},delete d._doublePetalCache}}else d.doublePetal&&(d._doublePetalCache={...d.doublePetal}),delete d.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(v=>v.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(v=>v.doublePetal.innerColorId??v.colorId))],d=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:v=>r(m=>{const h=m.flowers.find(p=>p.id===a.id);if(h)for(const p of h.layers)p.doublePetal&&(p.doublePetal.innerSizeReduction=je(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:d??"",onChange:v=>r(m=>{const h=m.flowers.find(p=>p.id===a.id);if(h)for(const p of h.layers)p.doublePetal&&(v===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=v)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Oh.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(d=>d.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Tm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function km({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:d}){const v=a,m=[...new Set(v.flatMap(g=>g.layers.map(D=>D.petalType)))],h=m.length===1?m[0]:null,p=g=>{r(D=>{for(const b of v){const z=D.flowers.find(j=>j.id===b.id);z&&g(z)}},!0)};return s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>p(D=>{for(const b of D.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(D=>{for(const b of D.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const D=ci(g);p(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=D;const z=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<z.length;j++)z[j].offsetAngle=Fn(z[j-1].petalCount,z[j-1].offsetAngle,z[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),(()=>{const g=v.map(w=>ba(c,w.id)),D=v.filter(w=>!ba(c,w.id)).map(w=>w.id),b=[...new Set(g.filter(Boolean).map(w=>w.id))],z=D.length===v.length,j=b.length===1&&g.every(w=>w!=null);return s.jsxs(s.Fragment,{children:[z&&v.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(v.map(w=>w.id)),children:""}),j&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&D.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],D),children:[" (+",D.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>d(b,D),children:[" (",b.length,"",D.length>0?` +${D.length}`:"",")"]})]})})()]})}function Om({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const d=i.find(g=>g.id===o);if(!d)return null;const v=a,m=[...new Set(v.flatMap(g=>g.layers.map(D=>D.petalType)))],h=m.length===1?m[0]:null,p=g=>{r(D=>{for(const b of v){const z=D.flowers.find(j=>j.id===b.id);z&&g(z)}},!0)};return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:d.name,onChange:g=>r(D=>{const b=(D.groups??[]).find(z=>z.id===d.id);b&&(b.name=g.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[v.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>p(D=>{for(const b of D.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(D=>{for(const b of D.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:v[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const D=ci(g);p(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=D;const z=[...b.layers].sort((j,w)=>w.order-j.order);for(let j=1;j<z.length;j++)z[j].offsetAngle=Fn(z[j-1].petalCount,z[j-1].offsetAngle,z[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:v.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(d.id),children:""})]})}function Ym({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);if(v){v.petalCount=o,v.widthScale=ci(o);const m=[...d.layers].sort((h,p)=>p.order-h.order);for(let h=1;h<m.length;h++)m[h].offsetAngle=Fn(m[h-1].petalCount,m[h-1].offsetAngle,m[h].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:1,max:200,step:.5,value:Math.round(nr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.radius=je(Lh(o,v.scale??1,d.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const d=f.flowers.find(g=>g.id===a.id);if(!d)return;const v=d.layers.find(g=>g.id===i.id);if(!v)return;const m=d.fabricSquareSize??f.fabricSquareSize;v.scale=je(Math.round(o/m*100)/100,.3,3);const h=[...d.layers].sort((g,D)=>g.order-D.order),p=h.findIndex(g=>g.id===v.id);if(p>=0)for(let g=p-1;g>=0;g--){const D=h[g],b=h[g+1],j=Yt(m).length*(b.scale??1)/3;D.radius=Math.round((b.radius+j)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);if(v)if(o.target.checked){const m=v._doublePetalCache;v.doublePetal=m??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v?.doublePetal&&(v.doublePetal.innerSizeReduction=je(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v?.doublePetal&&(o===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const d=f.flowers.find(m=>m.id===a.id);if(!d)return;const v=d.layers.find(m=>m.id===i.id);v&&(v.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(w=>{const B=a.layers.find(O=>O.id===w.layerId);return{...w,layer:B}}).filter(w=>w.layer!=null),d=(w,B)=>{const O=a.layers.find(q=>q.id===w);return O?(O?.petalOverrides?.find(q=>q.index===B)??null)?.colorId??O.colorId:null},v=(w,B)=>{const O=a.layers.find(q=>q.id===w);return O?(O?.petalOverrides?.find(q=>q.index===B)??null)?.petalType??O.petalType:null},m=f.map(w=>d(w.layerId,w.index)),h=f.map(w=>v(w.layerId,w.index)),p=m.length>0&&m.every(w=>w===m[0]),D=h.length>0&&h.every(w=>w===h[0])?h[0]:null,b=w=>{r(B=>{const O=B.flowers.find(T=>T.id===a.id);if(O)for(const T of o){const q=O.layers.find(J=>J.id===T.layerId);if(!q)continue;q.petalOverrides||(q.petalOverrides=[]);const U=q.petalOverrides.find(J=>J.index===T.index);if(U)w.colorId!==void 0&&(w.colorId===q.colorId?delete U.colorId:U.colorId=w.colorId),w.petalType!==void 0&&(w.petalType===q.petalType?delete U.petalType:U.petalType=w.petalType),!U.colorId&&!U.petalType&&(q.petalOverrides=q.petalOverrides.filter(J=>J.index!==T.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const J={index:T.index};w.colorId!==void 0&&w.colorId!==q.colorId&&(J.colorId=w.colorId),w.petalType!==void 0&&w.petalType!==q.petalType&&(J.petalType=w.petalType),(J.colorId!==void 0||J.petalType!==void 0)&&q.petalOverrides.push(J)}}},!0)},z=()=>{r(w=>{const B=w.flowers.find(O=>O.id===a.id);if(B)for(const O of o){const T=B.layers.find(q=>q.id===O.layerId);!T||!T.petalOverrides||(T.petalOverrides=T.petalOverrides.filter(q=>q.index!==O.index),T.petalOverrides.length===0&&(T.petalOverrides=void 0))}},!0)},j=f.some(w=>w.layer?.petalOverrides?.find(B=>B.index===w.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",j&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(w=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${p&&m[0]===w.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:w.hex},title:w.name,"aria-label":`: ${w.name}`,onClick:()=>b({colorId:w.id})},w.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(w=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${D===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:w}),children:w},w))})]}),j&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:z,children:""})]})]})}function Im({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(g=>g.index===o)??null,d=f?.colorId??i.colorId,v=f?.petalType??i.petalType,m=f!=null,h=g=>{r(D=>{const b=D.flowers.find(w=>w.id===a.id);if(!b)return;const z=b.layers.find(w=>w.id===i.id);if(!z)return;z.petalOverrides||(z.petalOverrides=[]);const j=z.petalOverrides.find(w=>w.index===o);if(j)g.colorId!==void 0&&(j.colorId=g.colorId),g.petalType!==void 0&&(j.petalType=g.petalType),g.innerColorId!==void 0&&(j.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(j.innerSizeReduction=g.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(z.petalOverrides=z.petalOverrides.filter(B=>B.index!==o),z.petalOverrides.length===0&&(z.petalOverrides=void 0));else{const w={index:o};g.colorId!==void 0&&(w.colorId=g.colorId),g.petalType!==void 0&&(w.petalType=g.petalType),g.innerColorId!==void 0&&(w.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(w.innerSizeReduction=g.innerSizeReduction),(w.colorId!==void 0||w.petalType!==void 0||w.innerColorId!==void 0||w.innerSizeReduction!==void 0)&&z.petalOverrides.push(w)}},!0)},p=()=>{r(g=>{const D=g.flowers.find(z=>z.id===a.id);if(!D)return;const b=D.layers.find(z=>z.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(z=>z.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,m&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:d,onChange:g=>{g===i.colorId?h({colorId:void 0}):h({colorId:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g===i.petalType?h({petalType:void 0}):h({petalType:g})},children:g},g))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:g=>r(D=>{const b=D.flowers.find(j=>j.id===a.id);if(!b)return;const z=b.layers.find(j=>j.id===i.id);if(z)if(g.target.checked){const j=z._doublePetalCache;z.doublePetal=j??{innerSizeReduction:2},delete z._doublePetalCache}else z.doublePetal&&(z._doublePetalCache={...z.doublePetal}),delete z.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const g=i.doublePetal,D=f?.innerSizeReduction??g.innerSizeReduction,b=f?.innerColorId??g.innerColorId??d;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ie,{min:1,max:30,step:1,value:D,onChange:z=>{const j=je(z,1,30);j===g.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:j})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:z=>{const j=g.innerColorId??i.colorId;h(z===j?{innerColorId:void 0}:{innerColorId:z})}})]})]})})(),m&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:p,children:""})]})]})}function Um({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=d=>{r(v=>{const m=(v.stencils??[]).find(h=>h.id===o.id);m&&Object.assign(m,d)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:d=>f({variant:d.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(d=>s.jsx("option",{value:d,children:Qd[d]},d))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:d=>f({pose:d.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(d=>s.jsx("option",{value:d,children:Pd[d]},d))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:d=>f({locked:d.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:d}){const v=a,m=p=>{r(g=>{const D=(g.leaves??[]).find(b=>b.id===v.id);D&&p(D)},!0)},h=Kc(c,v.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:v.name,onChange:p=>m(g=>{g.name=p.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(p=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${v.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(g=>{g.petalType=p}),children:p},p))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.colorId,onChange:p=>m(g=>{g.colorId=p})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ie,{min:3,max:80,step:.5,value:Math.round((v.fabricSquareSize??c.fabricSquareSize)*(v.scale??1)*10)/10,onChange:p=>m(g=>{const D=g.fabricSquareSize??c.fabricSquareSize;g.scale=je(Math.round(p/D*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.4,max:2.5,step:.05,value:Number(v.scale??1).toFixed(2),onChange:p=>m(g=>{g.scale=p})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ie,{min:.5,max:1.8,step:.05,value:Number(v.widthScale??1).toFixed(2),onChange:p=>m(g=>{g.widthScale=p})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ie,{value:Number(v.rotation).toFixed(1),onChange:p=>m(g=>{g.rotation=p})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.doublePetal,onChange:p=>m(g=>{if(p.target.checked){const D=g._doublePetalCache;g.doublePetal=D??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),v.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{min:1,max:30,step:1,value:v.doublePetal.innerSizeReduction,onChange:p=>m(g=>{g.doublePetal&&(g.doublePetal.innerSizeReduction=je(p,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:v.doublePetal.innerColorId??v.colorId,onChange:p=>m(g=>{g.doublePetal&&(p===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=p)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.visible,onChange:p=>m(g=>{g.visible=p.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!v.locked,onChange:p=>m(g=>{g.locked=p.target.checked})}),""]})]}),h?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>d(v.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:p=>{p.target.value&&f(v.id,p.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(v.id),children:""})]})]})}function Km({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:s.jsxs(ur,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>r(d=>{for(const v of a){const m=(d.leaves??[]).find(h=>h.id===v);m&&(m.colorId=f)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:yl.map(f=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(d=>{for(const v of a){const m=(d.leaves??[]).find(h=>h.id===v);m&&(m.petalType=f)}},!0),children:f},f))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Xm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(c.leaves??[]).filter(d=>o.leafIds.includes(d.id));return s.jsxs(ur,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:d=>r(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(m.name=d.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ie,{value:Number(o.rotation).toFixed(1),onChange:d=>r(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(m.rotation=d)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:d=>r(v=>{const m=(v.leafGroups??[]).find(h=>h.id===o.id);m&&(d.target.value?m.linkedFlowerGroupId=d.target.value:delete m.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(d=>s.jsx("div",{children:d.name},d.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Jm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:d,selectedPetalIndex:v,selectedPetals:m}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(p=>p.title=h.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(p=>p.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ie,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(p=>p.baseDiameter=h),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Kl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Kl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(p=>p.notes=h.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(Gm,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&d&&s.jsx(Ym,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:d}),a.kind==="petals"&&o&&m.length>0&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:m}),a.kind==="petal"&&o&&d&&v!==null&&s.jsx(Im,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:d,selectedPetalIndex:v}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Um,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Zm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Km,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(Xm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Wm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Kl(c.baseDiameter,c.fabricSquareSize,r).diameter:ar(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Vm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Dh(c.flowerDiameter,c.baseDiameter,r):zh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Qm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=m=>{a(h=>{const p={...h,...m};return m.placementMode&&m.placementMode!==h.placementMode&&(m.placementMode===""?(p.baseDiameter=30,p.fabricSquareSize=20,p.layerCount=4,p.petalCount=12):(p.fabricSquareSize=20,p.layerCount=1,p.petalCount=6)),p.flowerDiameter=Wm(p),p})},d=m=>{a(h=>{const p={...h,flowerDiameter:m};return p.fabricSquareSize=Vm(p),p})},v=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&v.push("");const m=Nh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>m&&v.push(`${m}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Xd.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:m}),children:m},m))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:m=>f({fabricSquareSize:m})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:m=>f({layerCount:m})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:m=>f({baseDiameter:m})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:m=>a(h=>({...h,petalCount:m}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:d})]})]}),v.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:v.map((m,h)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:m},h))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(m=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(h=>({...h,colorId:m.id}))},m.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:yl.map(m=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:m})),children:m},m))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ie,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:m=>f({sizeStepMm:m})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function Yc(){const c=["ugLJu0i","t3LHq0u","C2LKzq","Dg9tDhjPBMC","CM91BMq","C2vHCMnO","owP0qu1ytq","tuXzBhy","B3vhsNy","Cg9PBNrLCM1VDMu","Bwf0y2HnzwrPyq","rvnyzwy","z2v0sxrLBq","t3fuse8","mJCXodC1me5VEMrmzG","AKPtwgO","kcGOlISPkYKRksSK","BgvMDa","Bwf0y2HLCW","y3vYCMvUDa","DeHPuhq","mZDmz2Lnufy","BNLcv0K","mta2mJyXntbOshnJBvq","CMLNAhq","svfwtgq","yM9KEq","A2XVwfe","D2Xgs2C","D2LKDgG","ywrKrxzLBNrmAxn0zw5LCG","C3rHCNrxAwr0Ahm","AeDPAK4","y3vYC29Y","v25vuwO","wMrfANO","mJGYmtqWmhDbD05sAq","CgfYC2u","Cg9PBNrLCNvW","C3r5Bgu","BuDhuxa","nZq5mda0ufPprfri","s1PWqMu","mta3mJjbs3Hpr2K","mJq2mJy0mLvQqw1tEG","mti0oda3mNbhthnYwG","nu5HDwrYzW","yxbWBhK","v1H0Axa","DgjAExe","swDgAxK","rM5tDLC","kg1PBI13Awr0AdOGnZy4ChGP","AK5vBvO","Bwf4","BwLU","CMvTB3zLrxzLBNrmAxn0zw5LCG","EvbmufO","DxnLCLnLBgvJDa","m3W0Fdf8nxWWFdi","vNDvtKe"];return Yc=function(){return c},Yc()}function Tt(c,r){c=c-242;const a=Yc();let i=a[c];if(Tt.mnhSzn===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Tt.vgNSHr=o,Tt.PYIiWz={},Tt.mnhSzn=!0}const f=a[0],d=c+f,v=Tt.PYIiWz[d];if(v)i=v;else{const m=function(h){this.LohzKQ=h,this.CWXflH=[1,0,0],this.BQEJXq=function(){return"newState"},this.rlHjQD="\\w+ *\\(\\) *{\\w+ *",this.CmGTLE=`['|"].+['|"];? *}`};m.prototype.KbFDIh=function(){const h=new RegExp(this.rlHjQD+this.CmGTLE),p=h.test(this.BQEJXq.toString())?--this.CWXflH[1]:--this.CWXflH[0];return this.XCsPcf(p)},m.prototype.XCsPcf=function(h){return~h?this.AkkMmB(this.LohzKQ):h},m.prototype.AkkMmB=function(h){for(let p=0,g=this.CWXflH.length;p<g;p++)this.CWXflH.push(Math.round(Math.random())),g=this.CWXflH.length;return h(this.CWXflH[0])},new m(Tt).KbFDIh(),i=Tt.vgNSHr(i),Tt.PYIiWz[d]=i}return i}(function(c,r){const a=Tt,i=c();for(;;)try{if(parseInt(a(249))/1*(-parseInt(a(271))/2)+parseInt(a(273))/3+-parseInt(a(269))/4*(-parseInt(a(274))/5)+-parseInt(a(242))/6+-parseInt(a(272))/7+-parseInt(a(264))/8+-parseInt(a(295))/9*(-parseInt(a(251))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Yc,309927);const Pm=(function(){let c=!0;return function(r,a){const i=c?function(){const o=Tt;if(a){const f=a[o(275)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),zs=Pm(void 0,function(){const c=Tt,r={MLYlv:c(244)};return zs.toString()[c(294)](c(244))[c(292)]().constructor(zs).search(r[c(296)])});zs();const $d="tsumami-panel-widths",e1={left:25,right:25},Ds=15,Ns=15,rr=30;function Fm(){const c=Tt,r={jJSXj:function(a,i){return a===i},kloXQ:"number",bsAyW:function(a,i){return a===i},WnUQj:function(a,i){return a>=i},IgFiy:function(a,i){return a-i}};try{const a=localStorage[c(301)]($d);if(a){const i=JSON[c(265)](a);if(r[c(243)](typeof i.left,r[c(255)])&&r.bsAyW(typeof i[c(252)],r.kloXQ)&&r[c(262)](i[c(245)],Ds)&&r.WnUQj(i.right,Ns)&&r[c(278)](100,i[c(245)])-i.right>=rr)return i}}catch{}return e1}function Id(c,r){const a=Tt,i={iLLyq:function(v,m){return v-m},NvdaQ:function(v,m){return v<m},tbZyq:function(v,m){return v/m}};let o=Math[a(282)](Ds,c),f=Math[a(282)](Ns,r);const d=i.iLLyq(100-o,f);if(i.NvdaQ(d,rr)){const v=rr-d;o-=i[a(277)](v,2),f-=i.tbZyq(v,2),o=Math[a(282)](Ds,o),f=Math[a(282)](Ns,f)}return{left:i.tbZyq(Math[a(293)](o*100),100),right:Math.round(f*100)/100}}function $m(){const c=Tt,r={jNUmZ:"change",FnSvW:function(z,j){return z-j},Tsfqw:function(z,j){return z/j},tHiPt:function(z,j){return z!==j},wlFKg:function(z,j){return z===j},vnZFu:function(z,j){return z*j},VwUNA:function(z,j,w){return z(j,w)},WXtip:c(287),xBDQa:c(260),ouGJv:"none",jMgLK:"OqTHO",yPLPZ:function(z,j){return z(j)},jvpLk:function(z,j){return z(j)}},[a,i]=r[c(285)]($.useState,Fm),o=$.useRef(null),f=$.useRef(null),[d,v]=r.jvpLk($.useState,!1),[m,h]=$.useState(()=>typeof window<"u"?window[c(299)]("(min-width: 768px)")[c(246)]:!0);r[c(288)]($.useEffect,()=>{const z=c;if(z(268)!==z(268))_0x329c86.setItem(_0x296ff6,_0x2eacf7.stringify(_0x4b0c57));else{const j=window.matchMedia(z(280)),w=B=>h(B[z(246)]);return j[z(258)](r[z(281)],w),()=>j[z(284)]("change",w)}},[]),$.useEffect(()=>{localStorage.setItem($d,JSON.stringify(a))},[a]);const p=$.useRef(a);r[c(288)]($.useEffect,()=>{const z=c;p[z(247)]=a},[a]);const g=$.useCallback((z,j)=>{const w=c,B={PicSB:function(O,T){return r[Tt(256)](O,T)},OAejq:function(O,T){return r.vnZFu(O,T)},hsBzr:"left",KiTRs:function(O,T){return O-T},QYZLR:function(O,T){return O(T)},nyBWI:function(O,T){return r[Tt(279)](O,T)},KZpBe:function(O,T){return O-T},OyaCE:function(O,T,q){return r[Tt(288)](O,T,q)},PYQSZ:r[w(276)]};if(r.tHiPt(w(260),r.xBDQa)){const O=OorpTR.FnSvW(_0x17af91,_0x36408f);_0x11b6d9-=O/2,_0x2bc8a8-=OorpTR.Tsfqw(O,2),_0x3d505f=_0x35415e[w(282)](_0x5425eb,_0x2822af),_0x3d530a=_0x4c92de.max(_0x5c6ded,_0x2dab8e)}else{j.preventDefault();const O=o.current;if(!O)return;f[w(247)]={side:z,startX:j.clientX,startWidths:{...p[w(247)]}},v(!0),document[w(254)][w(267)].cursor="col-resize",document[w(254)][w(267)].userSelect=r[w(297)];const T=U=>{const J=w,G=f.current;if(!G)return;const W=O.getBoundingClientRect()[J(257)];if(B[J(289)](W,0))return;const F=U.clientX-G.startX,Q=B.OAejq(F/W,100);if(G[J(291)]===B.hsBzr){const X=G.startWidths[J(245)]+Q,_=B.KiTRs(100,G.startWidths.right)-rr;B.QYZLR(i,Id(Math[J(283)](X,_),G[J(259)].right))}else{const X=B[J(250)](G.startWidths.right,Q),_=B[J(270)](100-G.startWidths[J(245)],rr);i(B[J(290)](Id,G[J(259)][J(245)],Math.min(X,_)))}},q=()=>{const U=w,J=B.PYQSZ.split("|");let G=0;for(;;){switch(J[G++]){case"0":window[U(284)](U(298),T);continue;case"1":document[U(254)].style.cursor="";continue;case"2":window.removeEventListener("pointerup",q);continue;case"3":f.current=null;continue;case"4":v(!1);continue;case"5":document[U(254)][U(267)][U(286)]="";continue}break}};window[w(258)]("pointermove",T),window[w(258)](w(266),q),D.current=()=>{const U=w;if(r[U(248)]("IQVLd",U(253))){let J=_0x57c3e4[U(282)](_0x46379e,_0x359102),G=_0x440c07.max(_0x428142,_0x28697f);const W=100-J-G;if(W<_0x174c0e){const F=xqLdEw.mowWl(_0x1e0004,W);J-=xqLdEw.ESXef(F,2),G-=xqLdEw[U(300)](F,2),J=_0x212dd5.max(_0x419809,J),G=_0x1dbd81[U(282)](_0x3d9ab8,G)}return{left:_0x31c0eb[U(293)](xqLdEw[U(263)](J,100))/100,right:_0x263913[U(293)](xqLdEw.ZdEjz(G,100))/100}}else{const J="0|4|3|5|2|1".split("|");let G=0;for(;;){switch(J[G++]){case"0":window.removeEventListener("pointermove",T);continue;case"1":document.body.style[U(286)]="";continue;case"2":document.body[U(267)][U(261)]="";continue;case"3":f.current=null;continue;case"4":window[U(284)](U(266),q);continue;case"5":v(!1);continue}break}}}}},[]),D=$.useRef(null);$.useEffect(()=>{const z={pARrQ:r.jMgLK};return()=>{const j=Tt;z.pARrQ===j(302)?D[j(247)]?.():_0xe820d5[j(247)]=_0x27ac51}},[]);const b=$.useCallback(()=>{i(e1)},[]);return{widths:a,containerRef:o,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:d,isDesktop:m}}function Ud({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}function Zt(c,r){c=c-286;const a=Hc();let i=a[c];if(Zt.aiaPpP===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Zt.QwOOwW=o,Zt.LiBrgF={},Zt.aiaPpP=!0}const f=a[0],d=c+f,v=Zt.LiBrgF[d];if(v)i=v;else{const m=function(h){this.ivUlwh=h,this.HkOfCF=[1,0,0],this.EgrBXO=function(){return"newState"},this.wAEYeF="\\w+ *\\(\\) *{\\w+ *",this.eSKoke=`['|"].+['|"];? *}`};m.prototype.GXnDFb=function(){const h=new RegExp(this.wAEYeF+this.eSKoke),p=h.test(this.EgrBXO.toString())?--this.HkOfCF[1]:--this.HkOfCF[0];return this.BcaohZ(p)},m.prototype.BcaohZ=function(h){return~h?this.KvxGhY(this.ivUlwh):h},m.prototype.KvxGhY=function(h){for(let p=0,g=this.HkOfCF.length;p<g;p++)this.HkOfCF.push(Math.round(Math.random())),g=this.HkOfCF.length;return h(this.HkOfCF[0])},new m(Zt).GXnDFb(),i=Zt.QwOOwW(i),Zt.LiBrgF[d]=i}return i}(function(c,r){const a=Zt,i=c();for(;;)try{if(-parseInt(a(351))/1+parseInt(a(288))/2*(-parseInt(a(405))/3)+parseInt(a(376))/4*(-parseInt(a(383))/5)+parseInt(a(415))/6*(-parseInt(a(323))/7)+parseInt(a(335))/8+parseInt(a(336))/9+-parseInt(a(368))/10*(-parseInt(a(447))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Hc,773681);const eb=(function(){const c=Zt,r={BmsaN:function(i,o){return i===o},ODtqT:c(363)};let a=!0;return function(i,o){const f=c;if(r.BmsaN("cYOrf",r.ODtqT)){const d=_0x3b92f7[f(331)].find(v=>v.id===_0x5231d0.id);d&&(d.radius=_0x386a05.radius,d.scale=_0x7a6cbd[f(324)])}else{const d=a?function(){const v=f;if(o){const m=o[v(310)](i,arguments);return o=null,m}}:function(){};return a=!1,d}}})(),As=eb(void 0,function(){const c=Zt;return As.toString()[c(437)]("(((.+)+)+)+$").toString()[c(340)](As).search(c(300))});As();function Hc(){const c=["uK9lrgq","yMfZzurPyw1LDgvY","uhffv1y","q0ngq3K","shfNDgy","zM9dt3y","BvDNueu","C2vHCMnO","BuHnEhm","zMLUza","BeHJC1q","wvLdy3m","BgvHzKDYB3vWswq","BwPIDwe","sgrQrNm","rgzTuwm","zMXVD2vY","ndKZovLNCfjyDG","sKLXBfu","zxzLCNK","whP6tMW","A2LUza","mty5mtu4oef3vvfwuW","yvbzAMC","D3bhrw0","ve9hveC","zhvcDMe","z0j3Dwy","Dfb2A0i","ywjZ","wxvevuC","uejSufC","u0rJDhG","rhHhCKy","kcGOlISPkYKRksSK","C3rLBMnPBhm","runQr0G","r2vdr2m","Cgv0ywXZ","t1bpuvu","C29YDa","tunxBe0","whDoyKe","ChjVAMvJDa","yxbWBhK","CwfevK8","Cgv0ywXdB3vUDa","EuDoEhy","tevltMe","EMrUq1e","zMXVD2vYswq","DhDdugm","DLDjrKe","zMXVD2vYrgLHBwv0zxi","BNrUs0O","C3rLBMnPBa","Aw5KzxG","mtm5nJaWm3ftAMLLyq","C2nHBgu","sfPPtMG","BMfTzq","C2XPy2u","wgrbs3q","z0Xvt2O","AgvPz2H0","Bgf5zxjZ","Ahz0DwS","DgzzEei","B2zMC2v0qw5NBgu","mta2mJKZnJHJAKnvtKm","nJe4nti4nNftwgrIqG","BgvHDMvZ","Bgf5zxjjza","uMv1v3m","y29UC3rYDwn0B3i","yMrJAwm","Bwf4","zMfICMLJu3f1yxjLu2L6zq","uNPotw0","wfLzyLO","rw1Ou0C","ruDJvK0","yMfJAW","wevOBLO","BgvHzKLKCW","odi5mdmYuwj3re5r","AxzWuue","D1Dpv2y","vNjHDw0","BufWyxi","z3jVDxa","vK1IweG","ALr6CvO","BgvHzG","Cw9evva","CgXHy2vTzw50tw9Kzq","ANDbtuS","ruPfC3q","EKrvr2u","Dw5ZAgLMDa","tM1JDw4","z2rothu","mZmWodbxv3LTB3m","D0fvt2m","CMv2zxjZzq","yLjzt0y","BwDXA0K","BgvUz3rO","zMXVD2vYswrZ","rfLgEg8","ndiXodrMA0zfvfG","CMfKAxvZ","yuzPCNu","v3HNu08","B1f0Exe","CxrRBe8","Dej4teq","mZeWEeTvzxfc","uMTMEgq","Aw5JBhvKzxm","Avnzsve","z3jVDxbZ","Dw5PzM9YBq","Agvsz28","rvrLDhO","EMvSC2u","BgvHzKLK","B0fvy0K","C3rLBMnPBeLK","A2X4Aem","zvn2uMS","BMPKzKO","DePVwe8","AKreAKG","B3jKzxi","BgvHzKDYB3vWCW","CM91BMq","zMLSDgvY","yMzRrMe","m1DjtMnNta","DMLRzgW","z3v2whK","BM5AEee","z3jVDxbjza","v1LpDuS","DePiyw0","zM9YrwfJAa","Cgv0ywXuExbL","Chvwtuu","mtjLCgffuNC","zMXVD2vYCW","ANrjsxC","CfbAtw8","ALftCeS","BevjD2G","zKfjyvm","C29Tzq","y29Sx2DYzwvU","ve56yxy","u1bpte8","BhD3r0O","DNDOyvO","tMfeu2u","ChvZAa"];return Hc=function(){return c},Hc()}function tb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:d,pan:v,stageSize:m,CANVAS_MAX_SVG:h,deleteLeafById:p,ungroupLeaves:g}){const D=Zt,b={duBva:function(_,C){return _===C},tYxQm:D(421),ReuWs:function(_,C){return _(C)},bdcic:function(_,C){return _*C},wWOWf:function(_,C){return _/C},xQzdU:function(_,C){return _-C},ROKDd:function(_,C){return _*C},eYQbm:function(_,C){return _/C},GcXwU:function(_,C){return _-C},PBlPW:function(_,C){return _*C},FAzET:function(_,C){return _*C},gBwuf:function(_,C){return _+C},qaDVO:function(_,C){return _!==C},jwAMK:"OtwIj",qoDUP:D(417),nnZxA:D(355),HdjFs:D(309),SDctx:function(_,C){return _<=C},jQSpK:D(410),lwwGJ:D(446),vWIFA:function(_,C,E,M){return _(C,E,M)},Grnvi:function(_,C){return _<C},mgqkI:D(308),aFiru:"gbaqz",SPOLO:function(_,C){return _>=C},NaDSe:function(_,C){return _+C},twCPc:function(_,C,E){return _(C,E)},xVkga:"layer",zelse:function(_,C){return _<=C},EmhSG:function(_,C){return _===C},CCFCy:"petal",lHcsT:function(_,C){return _/C},TAokR:"EfQDm",sxUhv:D(296),vwhaZ:function(_,C,E,M,S){return _(C,E,M,S)},JFsVO:D(388),GeCGc:function(_,C,E,M){return _(C,E,M)},lMmpj:function(_,C){return _-C},wAUOc:function(_,C){return _===C},zDUGe:D(359),klxhC:"leafGroup",aPYjg:function(_,C){return _===C},HZiNh:D(337),qtklO:function(_,C){return _(C)},gLUOj:D(416),XEhnZ:D(304),mWgPE:function(_,C){return _(C)},vikdl:function(_,C){return _===C},VMbXH:function(_,C){return _===C},foCOv:function(_,C){return _+C},ivpQA:"grp",Rlcao:function(_,C,E){return _(C,E)},bfkFa:D(356),yGNxv:D(420),eSvRk:function(_,C,E,M){return _(C,E,M)},guvXy:D(302),uOxlM:function(_,C,E){return _(C,E)},bRYOF:D(386),DxGrF:function(_,C){return _(C)},XYYbZ:function(_,C){return _+C},pPZMo:function(_,C){return _===C},WxgSO:D(348),tJHam:"side",BKHWT:"stl",gdNLu:D(321),ANSgS:function(_,C){return _/C},tfYxB:function(_,C){return _-C},tKrdW:function(_,C){return _*C},tPvkB:function(_,C){return _*C},OPOQU:function(_,C){return _*C},DYFxo:function(_,C){return _===C},mHMxs:function(_,C){return _(C)},eNgjh:function(_,C){return _===C},JIqlU:function(_,C){return _!==C},TpTwa:D(290),DfmQc:function(_,C){return _(C)},kjqvE:function(_,C){return _!==C},Nmcun:D(307),IipDv:function(_,C){return _(C)},ETetz:function(_,C){return _===C},LEKNa:function(_,C){return _(C)},heRgo:"WmSFm"},z=_=>{const C=D;if(b[C(292)](b.tYxQm,"bRMVC")){if(!_0x355e48[C(387)])return;_0x199358.groups=_0x4a78c9[C(387)][C(403)](E=>E.id!==_0x484f72[C(409)])}else{const E=[..._.layers][C(306)]((Y,N)=>Y[C(400)]-N[C(400)]),M=E[0];if(!M)return 28;const S=_.fabricSquareSize??c.fabricSquareSize,{length:L}=b.ReuWs(Yt,S),R=b[C(341)](L,M.scale??1);let I;if(_[C(361)]==="")I=R/3;else{const N=b.wWOWf(70*Math.PI,180),k=E[C(373)]+1,H=b.xQzdU(k,1),K=k>1?b[C(430)](b.eYQbm(H,b.GcXwU(k,1)),N):0;I=b.PBlPW(R*b[C(353)](30,100),Math.cos(K))}return Math.round(b.FAzET(b[C(293)](M[C(377)]??28,I),10))/10}},j=_=>{const C=D,E={puVME:function(M,S){return M!==S},tJoXO:C(315)};if(b.qaDVO(b[C(360)],b[C(408)]))r(M=>{const S=C;if(M[S(416)]=(M.flowers||[]).filter(L=>L.id!==_),M[S(387)])if(b[S(311)]("tjCQk",b[S(362)])){for(const L of M[S(387)])L[S(374)]=L.flowerIds.filter(R=>R!==_);M[S(387)]=M[S(387)].filter(L=>L[S(374)][S(373)]>0)}else{const L=_0xaa8081[S(331)][S(439)](R=>R.id===_0x3954a0.id);L&&(L.radius=_0x4d6118[S(377)])}},!0),b[C(339)](i,{kind:b[C(444)]}),o(M=>{const S=C,L={DxPZz:function(R,I,Y,N){return R(I,Y,N)}};if(E[S(414)](E[S(398)],"zdnCQ"))_0x327f93.offsetAngle=L.DxPZz(_0x670248,_0x4d7a9c[S(312)],_0x9960b7.offsetAngle??0,_0x6ea1a9);else{const R={...M||{}};return delete R[_],R}});else{_0x5ba04b(_0x273ada);return}},w=(_,C)=>{const E=D,M=c.flowers.find(S=>S.id===_);if(M&&b[E(298)]((M[E(331)]||[]).length,1))if(b[E(419)]!=="ufLQq"){b[E(339)](j,_);return}else{const S=_0x2eddb2[E(416)][E(439)](I=>I.id===_0x63dfd6);if(!S)return;S.layers=S[E(331)].filter(I=>I.id!==_0x237850.id),S.layers.slice().sort((I,Y)=>I[E(400)]-Y.order)[E(412)]((I,Y)=>I[E(400)]=Y+1);const L=[...S.layers][E(306)]((I,Y)=>I.order-Y.order),R=S.fabricSquareSize??_0x1d2c20[E(343)];if(L.length>0){_0x426ce0(L,R);for(const N of L){const k=S[E(331)].find(H=>H.id===N.id);k&&(k.radius=N[E(377)])}const I=L[0];S.flowerDiameter=_0x1ab6fb[E(402)](_0x1a8d7e(I.radius,I.scale??1,R));const Y=[...L][E(370)]();for(let N=1;N<Y[E(373)];N++){const k=Y[N-1],H=Y[N];H[E(334)]=_0x48bae9(k[E(312)],k.offsetAngle,H[E(312)])}}}r(S=>{const L=E,R=(S.flowers||[]).find(I=>I.id===_);R&&(R.layers=(R[L(331)]||[]).filter(I=>I.id!==C),R.layers.slice().sort((I,Y)=>I.order-Y.order).forEach((I,Y)=>I[L(400)]=Y+1))},!0),i({kind:b[E(426)],flowerId:_})},B=_=>{const C=D;if(b[C(372)]!==b[C(378)]){const E=c[C(416)].find(H=>H.id===_);if(!E)return;const M=[...E.layers][C(306)]((H,K)=>H.order-K[C(400)]),S=M[0],L=b[C(318)](je,S?.[C(312)]??6,5,24),R=M.map(H=>H.scale??1),I=R.length<2||R[C(449)](H=>Math[C(295)](H-R[0])<.001);let Y=S?.scale??1;if(!I&&b[C(425)](M.length,2)){const H=M[M.length-1],K=(H.order??1)-(S[C(400)]??1);if(K>0){const le=((S[C(324)]??1)-(H.scale??1))/K;Y=je(b[C(428)](S.scale??1,le),.3,3)}}const N=b.ReuWs(z,E),k={id:Ot("lay"),name:"Outer+",order:1,petalType:S?.[C(413)]??"",petalCount:L,radius:N,scale:Y,widthScale:b[C(339)](ci,L),offsetAngle:S?.offsetAngle??0,colorId:S?.colorId??c.palette?.[0]?.id??C(423),visible:!0,locked:!1};S&&(k[C(334)]=b[C(318)](Fn,S[C(312)],S.offsetAngle??0,L)),b[C(317)](r,H=>{const K=C,le=H.flowers[K(439)](me=>me.id===_);if(!le)return;le[K(331)].forEach(me=>me[K(400)]+=1),le.layers[K(365)](k);const xe=Math.round(b.vWIFA(nr,k.radius,k[K(324)],le[K(343)]??H.fabricSquareSize)),de=le[K(343)]??H.fabricSquareSize,fe=le.placementMode===""?ar(de,le[K(331)].length,"uniform",0):Kl(le.baseDiameter??H.baseDiameter,de,{layerCount:le.layers.length}).diameter;le.flowerDiameter=Math.max(le.flowerDiameter||fe,xe);const ge=[...le[K(331)]][K(306)]((me,we)=>me.order-we[K(400)]),ze=ge[K(370)]();for(let me=1;b.Grnvi(me,ze.length);me++){const we=ze[me-1],ct=ze[me];ct.offsetAngle=b.vWIFA(Fn,we.petalCount,we.offsetAngle,ct.petalCount)}},!0),i({kind:b.xVkga,flowerId:_,layerId:k.id}),b.ReuWs(o,H=>({...H,[_]:!0}))}else _0x2f1f35.stencils||(_0x59440d[C(301)]=[]),_0x112cdf.stencils[C(429)](_0x576e73)},O=_=>{const C=D,E={XdAKt:function(R,I){return R>I},fiAUa:function(R,I,Y,N){return R(I,Y,N)},TNzav:function(R,I){return b.xQzdU(R,I)}},M=c[C(416)].find(R=>R.id===_);if(!M||!M.layers||b.duBva(M[C(331)].length,0))return;if(b[C(391)](M.layers.length,1)){b[C(339)](j,_);return}const S=[...M[C(331)]].sort((R,I)=>R.order-I.order),L=S[0];L&&(r(R=>{const I=C,Y=R.flowers[I(439)](H=>H.id===_);if(!Y)return;Y[I(331)]=Y[I(331)].filter(H=>H.id!==L.id),Y.layers[I(327)]().sort((H,K)=>H.order-K.order).forEach((H,K)=>H.order=K+1);const N=[...Y.layers].sort((H,K)=>H[I(400)]-K[I(400)]),k=Y[I(343)]??R.fabricSquareSize;if(E[I(328)](N[I(373)],0)){ds(N,k);for(const le of N){const xe=Y.layers.find(de=>de.id===le.id);xe&&(xe.radius=le[I(377)])}const H=N[0];Y[I(319)]=Math.round(E.fiAUa(nr,H.radius,H[I(324)]??1,k));const K=[...N].reverse();for(let le=1;le<K.length;le++){const xe=K[E[I(424)](le,1)],de=K[le];de.offsetAngle=E.fiAUa(Fn,xe.petalCount,xe.offsetAngle,de.petalCount)}}},!0),a[C(287)]===b.xVkga&&b[C(346)](a[C(338)],L.id)?b.ReuWs(i,{kind:b.lwwGJ,flowerId:_}):a[C(287)]===b[C(433)]&&a.layerId===L.id&&i({kind:b[C(426)],flowerId:_}))},T=()=>{const _=D,C={EGcVM:function(E,M){return E(M)},Hqgtf:_(432)};if(!b.wAUOc(a[_(287)],"project")){if(a.kind===b[_(364)]){p(a[_(392)]);return}if(a[_(287)]===b[_(395)]){b[_(339)](g,a[_(442)]);return}if(b.aPYjg(a.kind,b[_(325)])){const E=a[_(350)];b[_(317)](r,M=>{const S=_,L={uVdiM:function(R,I){return C[Zt(347)](R,I)}};if(M[S(337)]=(M[S(337)]??[]).filter(R=>!E[S(385)](R.id)),M.leafGroups){for(const R of M.leafGroups)C[S(434)]!==S(432)?L.uVdiM(_0x2cba40,{kind:"flower",flowerId:_0x359403}):R[S(350)]=R.leafIds.filter(I=>!E[S(385)](I));M[S(401)]=M[S(401)].filter(R=>R.leafIds[S(373)]>0)}},!0),b.qtklO(i,{kind:_(309)});return}if(b[_(369)](a.kind,b[_(329)]))if(_(380)==="EewPZ")b.ReuWs(_0x273e71,{kind:"flower",flowerId:_0x33225b});else{const E=a.flowerIds;b[_(317)](r,M=>{const S=_;if(M.flowers=M[S(416)].filter(L=>!E.includes(L.id)),M.groups){for(const L of M.groups)L[S(374)]=L.flowerIds.filter(R=>!E[S(385)](R));M.groups=M[S(387)].filter(L=>L.flowerIds.length>0)}},!0),i({kind:b[_(444)]});return}if(a.kind===_(356)){b.twCPc(r,E=>{const M=_;E[M(387)]&&(E[M(387)]=E[M(387)].filter(S=>S.id!==a.groupId))},!0),b.ReuWs(i,{kind:"project"});return}if(b[_(369)](a.kind,"stencil")){r(E=>{const M=_;E.stencils=(E[M(301)]??[]).filter(S=>S.id!==a.stencilId)},!0),b.ReuWs(i,{kind:b[_(444)]});return}if(a.kind===b.XEhnZ){b.mWgPE(i,{kind:_(446),flowerId:a[_(316)]});return}if(a.kind===b.lwwGJ){r(E=>{const M=_;if(E.flowers=E[M(416)].filter(S=>S.id!==a.flowerId),E.groups){for(const S of E[M(387)])S[M(374)]=S.flowerIds[M(403)](L=>L!==a.flowerId);E[M(387)]=E.groups.filter(S=>S.flowerIds.length>0)}},!0),i({kind:b.HdjFs});return}if(b[_(406)](a[_(287)],"layer")||a[_(287)]===b[_(433)]){const E=c[_(416)].find(S=>S.id===a[_(316)]),M=E?b[_(357)]([...E[_(331)]].sort((S,L)=>S[_(400)]-L.order)[0]?.id,a.layerId):!1;r(S=>{const L=_,R=S[L(416)].find(I=>I.id===a.flowerId);if(R&&(R[L(331)]=R.layers[L(403)](I=>I.id!==a.layerId),R[L(331)].slice().sort((I,Y)=>I[L(400)]-Y[L(400)]).forEach((I,Y)=>I[L(400)]=Y+1),R[L(331)][L(373)]>0)){const I=[...R.layers][L(306)]((k,H)=>k[L(400)]-H[L(400)]),Y=R.fabricSquareSize??S[L(343)];ds(I,Y);for(const k of I)if(b.TAokR!=="uBCAY"){const H=R.layers.find(K=>K.id===k.id);H&&(H[L(377)]=k.radius)}else _0x4f95df=qBwAFA.OHEmA(_0x5bcdab,3);if(M)if(L(344)!==b.sxUhv){const k=I[0];R[L(319)]=Math[L(402)](b[L(318)](nr,k[L(377)],k.scale??1,Y))}else{const k=_0x17c828[L(331)].find(H=>H.id===_0x262629.id);k&&(k.radius=_0x147efb[L(377)])}else{const k=R.placementMode===""?b[L(427)](ar,Y,R[L(331)].length,b.JFsVO,0):b[L(303)](Kl,R[L(431)]??S.baseDiameter,Y,{layerCount:R.layers.length}).diameter;Xc(I,Y,R.flowerDiameter||k);for(const H of I){const K=R[L(331)][L(439)](le=>le.id===H.id);K&&(K[L(377)]=H[L(377)],K[L(324)]=H[L(324)])}}const N=[...I][L(370)]();for(let k=1;b.Grnvi(k,N[L(373)]);k++){const H=N[b.lMmpj(k,1)],K=N[k];K.offsetAngle=Fn(H.petalCount,H[L(334)],K[L(312)])}}},!0),i({kind:b[_(426)],flowerId:a.flowerId})}}},q=$.useCallback(_=>{const C=D,E=Ot(b[C(352)]);b.Rlcao(r,M=>{const S=C;M[S(387)]||(M[S(387)]=[]);const L=M[S(387)].map(I=>{const Y=S,N=I[Y(326)].match(/^ (\d+)$/);return N?parseInt(N[1],10):0}),R=L[S(373)]>0?b[S(435)](Math[S(342)](...L),1):1;M[S(387)].push({id:E,name:" "+R,flowerIds:[..._]})},!0),i({kind:b.bfkFa,groupId:E}),f(M=>({...M,[E]:!0}))},[r,i,f]),U=$.useCallback(_=>{const C=D,E={Irtql:function(M,S){return b.EmhSG(M,S)},Vraum:function(M,S){return M-S},TOGTG:function(M,S){return M-S},oAUcI:function(M,S,L,R){return b[Zt(396)](M,S,L,R)}};if(C(332)!==b[C(407)])b.uOxlM(r,M=>{const S=C;if(b[S(313)]==="lEIwh"){if(!M[S(387)])return;M[S(387)]=M.groups[S(403)](L=>L.id!==_)}else{if(E.Irtql(_0x170f52[S(316)],_0x218f1c))return;_0x19c539({kind:S(416),flowerIds:[_0x574d6c[S(316)],_0x451206]})}},!0),i({kind:"project"});else{const M=_0x256a9[oYBoOT[C(354)](_0xaefed7.length,1)],S=(M[C(400)]??1)-(_0x43f02e.order??1);if(S>0){const L=oYBoOT[C(291)](_0x1b06a5.scale??1,M[C(324)]??1)/S;_0x1cd707=oYBoOT[C(393)](_0x3435bc,(_0x1b4440.scale??1)+L,.3,3)}}},[r,i]),J=$.useCallback((_,C)=>{const E=D;r(M=>{const S=Zt,L=(M[S(387)]??[]).find(R=>R.id===_);if(L)for(const R of C)L.flowerIds.includes(R)||L.flowerIds.push(R)},!0),b[E(381)](i,{kind:b.bfkFa,groupId:_})},[r,i]),G=$.useCallback((_,C)=>{const E=D,M={OkDtp:E(309),JYKQe:function(R,I){return b[E(311)](R,I)},hifiO:b[E(371)]},S=_[0],L=_[E(327)](1);r(R=>{const I=E;if(!R[I(387)])return;const Y=R[I(387)][I(439)](N=>N.id===S);if(Y){for(const N of L)if(M.JYKQe(M.hifiO,"uLaFF")){const k=R.groups[I(439)](H=>H.id===N);if(!k)continue;for(const H of k.flowerIds)Y[I(374)][I(385)](H)||Y.flowerIds[I(429)](H)}else _0x569c90({kind:M.OkDtp});for(const N of C)Y[I(374)][I(385)](N)||Y.flowerIds[I(429)](N);R[I(387)]=R[I(387)][I(403)](N=>!L.includes(N.id))}},!0),b[E(299)](i,{kind:b[E(404)],groupId:S}),f(R=>({...R,[S]:!0}))},[r,i,f]),W=(_,C)=>{const E=D,M=m.w/m.h,S=520/d,L=b[E(297)](S,M),R=-v.x/d,I=-v.y/d,Y=R+L/2,N=b[E(345)](I,S/2),k=b.pPZMo(C,b[E(379)])?"back":b[E(411)],H=Vd[_][k][E(330)]*an,K=b[E(318)](je,Y,0,h),le=je(N-H/2,0,h),xe={id:Ot(b.BKHWT),variant:_,pose:C,position:{x:K,y:le}};r(de=>{const fe=E;de.stencils||(de.stencils=[]),de.stencils[fe(429)](xe)},!0),i({kind:"stencil",stencilId:xe.id})},F=_=>{const C=D;r(E=>{const M=Zt;E.stencils=(E[M(301)]??[])[M(403)](S=>S.id!==_)},!0),a.kind===b[C(367)]&&a.stencilId===_&&i({kind:b.HdjFs})},Q=$.useCallback(_=>{const C=D;if(b.duBva("FyWur",C(286)))_0x16bff8.stencils=(_0x3e55ca.stencils??[])[C(403)](E=>E.id!==_0x4ef07c[C(394)]);else if(a.kind===C(416)){const E=a[C(374)];if(E.includes(_)){const M=E.filter(S=>S!==_);M.length===0?b.qtklO(i,{kind:C(309)}):b[C(292)](M.length,1)?b.DxGrF(i,{kind:C(446),flowerId:M[0]}):b[C(381)](i,{kind:b.gLUOj,flowerIds:M})}else if(b.pPZMo("ntnKJ",C(320)))i({kind:b[C(329)],flowerIds:[...E,_]});else{const M=[..._0x5396d9[C(331)]].sort((N,k)=>N.order-k[C(400)]),S=M[0];if(!S)return 28;const L=_0x40ed0e.fabricSquareSize??_0x8ccd86.fabricSquareSize,{length:R}=_0x1902d7(L),I=R*(S.scale??1);let Y;if(b[C(289)](_0x4b3c61.placementMode,""))Y=b.ANSgS(I,3);else{const k=b.lHcsT(70*_0x2c3061.PI,180),H=M[C(373)]+1,K=H-1,le=H>1?K/b[C(333)](H,1)*k:0;Y=b.tKrdW(b[C(294)](I,b[C(440)](30,100)),_0x37cf0f.cos(le))}return b.eYQbm(_0x141a55[C(402)](b[C(305)]((S.radius??28)+Y,10)),10)}}else if(b[C(375)](a[C(287)],C(446))){if(a.flowerId===_)return;b[C(438)](i,{kind:b[C(329)],flowerIds:[a.flowerId,_]})}else if(b.eNgjh(a.kind,C(356)))if(b[C(448)](C(441),"YYCcs"))_0x5a5392.flowerIds.includes(_0x292c26)||_0x1ccef9[C(374)][C(429)](_0xe4af26);else{const E=(c[C(387)]??[]).find(S=>S.id===a.groupId),M=E?E.flowerIds:[];if(M[C(385)](_)){if(b.VMbXH("wpGEm",b.TpTwa))return;b[C(381)](_0x413c33,_0xd22fd6);return}b[C(436)](i,{kind:b.gLUOj,flowerIds:[...M,_]})}else b[C(445)](i,{kind:b.gLUOj,flowerIds:[_]})},[a,i,c[D(387)]]);return{deleteFlowerById:j,deleteLayerById:w,computeNewOuterRadius:z,addOuterLayer:B,deleteOuterLayer:O,deleteSelected:T,groupSelectedFlowers:q,ungroupFlowers:U,addToGroup:J,mergeGroups:G,addStencil:W,deleteStencil:F,handleShiftFlowerSelect:Q,togglePetalSelection:(_,C,E,M)=>{const S=D;if(S(309),!M){b[S(339)](i,{kind:b.CCFCy,flowerId:_,layerId:C,index:E});return}const L=C+":"+E;if(b[S(418)](a[S(287)],b[S(349)])&&b[S(289)](a[S(316)],_)){const R=a.petals||[];if(R[S(422)](Y=>Y[S(338)]+":"+Y[S(322)]===L))if(b.kjqvE(b[S(366)],"MCWlM")){const Y=_0x405555[S(403)](N=>N!==_0x1e8029);SEhOmm.ZMdPB(Y.length,0)?SEhOmm.jDDjH(_0x590cba,{kind:SEhOmm[S(382)]}):Y[S(373)]===1?SEhOmm[S(399)](_0x5588d7,{kind:SEhOmm[S(384)],flowerId:Y[0]}):SEhOmm[S(358)](_0x349371,{kind:SEhOmm[S(443)],flowerIds:Y})}else{const Y=R.filter(N=>N.layerId+":"+N.index!==L);b[S(375)](Y.length,0)?i({kind:b[S(426)],flowerId:_}):b[S(292)](Y[S(373)],1)?i({kind:b.CCFCy,flowerId:_,layerId:Y[0].layerId,index:Y[0].index}):b[S(436)](i,{kind:"petals",flowerId:_,petals:Y})}else b.IipDv(i,{kind:S(304),flowerId:_,petals:[...R,{layerId:C,index:E}]})}else if(a.kind===b.CCFCy&&b[S(390)](a[S(316)],_)){const R={layerId:a[S(338)],index:a.index},I={layerId:C,index:E};if(R[S(338)]+":"+R[S(322)]===L)return;b[S(314)](i,{kind:b.XEhnZ,flowerId:_,petals:[R,I]})}else b[S(389)]!==b[S(389)]?_0x3b6c44.flowerIds=_0x4e460c.flowerIds.filter(R=>R!==_0x1a4ace):i({kind:b[S(349)],flowerId:_,petals:[{layerId:C,index:E}]})}}}function Ic(){const c=["ywjZ","y29Sx2DYzwvU","y29UC3rYDwn0B3i","EgH1u00","s0XRvMe","D1jvEMi","ExnJuLi","Bw5jAxK","mtyXndqYmgTgqxLNvG","DKTPruy","tgjIC2S","mZqXndKYnxLOwxjZra","CgfSzxr0zq","zMLSDgvY","y29Sx2rHCMTNCMvLBG","tgvHzIa","mtmWA0LmALrx","uKnrr24","u2rXrwO","BgvUz3rO","A3HjyuK","mtfyzuLUt04","uhnbrwW","5yMJ44gK44g+44g/","vxfWAMq","Aw5JBhvKzxm","DMLzzxC","mJjfD09TALm","BgvHzKLKCW","mhWZFdr8mNWX","Dg9tDhjPBMC","wxzqz3m","CNfjDg4","BgvHzKDYB3vWCW","ntu1ndy5nKnWuvrUBG","CLPiyvK","nZGXntzIAuDsrwO","BgflBLK","ruHMueu","6jgj44kW44oR44o844oxia","ChvZAa","sxDly1i","mte1nJmZsefkuwLT","A3rYA2W","BgvHzKLK","mZG3meDtq1HYrG","ANrWsfy","zMLUza","mtG0nhHPAw5YzW","mtC0rKXcs293","kcGOlISPkYKRksSK","BgvHDMvZ","D2XvthC","mZiWndHIv0DfwNq","Cg9ZAxrPB24","AejotxC"];return Ic=function(){return c},Ic()}function Bn(c,r){c=c-148;const a=Ic();let i=a[c];if(Bn.MlGRqU===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Bn.jWxXiX=o,Bn.vujVMy={},Bn.MlGRqU=!0}const f=a[0],d=c+f,v=Bn.vujVMy[d];if(v)i=v;else{const m=function(h){this.NAmvnW=h,this.zdJCDR=[1,0,0],this.IMqNkg=function(){return"newState"},this.TaffZJ="\\w+ *\\(\\) *{\\w+ *",this.hXbrxs=`['|"].+['|"];? *}`};m.prototype.pfsOTO=function(){const h=new RegExp(this.TaffZJ+this.hXbrxs),p=h.test(this.IMqNkg.toString())?--this.zdJCDR[1]:--this.zdJCDR[0];return this.oEyxEl(p)},m.prototype.oEyxEl=function(h){return~h?this.EBldYF(this.NAmvnW):h},m.prototype.EBldYF=function(h){for(let p=0,g=this.zdJCDR.length;p<g;p++)this.zdJCDR.push(Math.round(Math.random())),g=this.zdJCDR.length;return h(this.zdJCDR[0])},new m(Bn).pfsOTO(),i=Bn.jWxXiX(i),Bn.vujVMy[d]=i}return i}(function(c,r){const a=Bn,i=c();for(;;)try{if(parseInt(a(160))/1*(parseInt(a(192))/2)+-parseInt(a(184))/3*(-parseInt(a(187))/4)+parseInt(a(150))/5+parseInt(a(188))/6*(-parseInt(a(181))/7)+-parseInt(a(173))/8+-parseInt(a(175))/9*(parseInt(a(155))/10)+-parseInt(a(166))/11*(-parseInt(a(203))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ic,436729);const nb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Es=nb(void 0,function(){const c=Bn;return Es[c(169)]().search("(((.+)+)+)+$").toString()[c(197)](Es).search(c(189))});Es();function lb({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:d,CANVAS_MAX_SVG:v}){const m=Bn,h={ktrkl:function(B,O){return B/O},IwKcR:function(B,O){return B+O},rqItn:function(B,O,T,q){return B(O,T,q)},eLBJF:function(B,O,T,q){return B(O,T,q)},hBNMw:"leaf",jtpHV:function(B,O){return B+O},Lbbsk:function(B,O){return B!==O},Uqpjd:m(200),RCQGn:function(B,O){return B(O)},laKnY:"project",wlULw:"leaves",vKiEF:function(B,O){return B===O},viYew:"iADkU",yscRR:function(B,O){return B(O)},zbRua:function(B,O){return B(O)},xhuSM:function(B,O,T){return B(O,T)},mnIiy:"NRZxt",PsAEl:function(B,O,T){return B(O,T)},TzLFr:function(B,O){return B/O},SdqEj:function(B,O){return B(O)},xSIfd:function(B,O,T){return B(O,T)}},p=()=>{const B=m,O=d.w/d.h,T=520/o,q=T*O,U=-f.x/o,J=-f.y/o;let G=U+h.ktrkl(q,2),W=h[B(180)](J,h[B(182)](T,2)),F=0;for(;F<50&&(c.leaves??[]).some(X=>Math.abs(X[B(193)].x-G)<5&&Math[B(195)](X[B(193)].y-W)<5);){const X=B(168).split("|");let _=0;for(;;){switch(X[_++]){case"0":G+=25;continue;case"1":F++;continue;case"2":W=h[B(171)](je,W,0,v);continue;case"3":W+=25;continue;case"4":G=h.eLBJF(je,G,0,v);continue}break}}const Q={id:Ot(h[B(194)]),name:B(154)+h[B(185)]((c.leaves??[])[B(158)],1),position:{x:G,y:W},rotation:135,petalType:B(162),colorId:c[B(151)]?.[B(186)](X=>X.id==="col_green"||X.id===B(153))?.id??c.palette?.[0]?.id??B(196),scale:1,widthScale:1,visible:!0,locked:!1};r(X=>{const _=B;X.leaves||(X[_(190)]=[]),X[_(190)].push(Q)},!0),i({kind:h.hBNMw,leafId:Q.id})},g=B=>{const O=m;h[O(149)](h[O(163)],O(200))?_0x1a72e4[O(167)]=_0x82731c[O(167)][O(152)](T=>T!==_0x580b66):(r(T=>{const q=O;if(T.leaves=(T.leaves??[]).filter(U=>U.id!==B),T.leafGroups){for(const U of T.leafGroups)U.leafIds=U[q(167)].filter(J=>J!==B);T.leafGroups=T.leafGroups.filter(U=>U.leafIds[q(158)]>0)}},!0),h[O(156)](i,{kind:h[O(176)]}))},D=$.useCallback(B=>{const O=m;if(a.kind===h[O(191)]){const T=a.leafIds;if(T.includes(B)){const q=T.filter(U=>U!==B);q[O(158)]===0?h[O(156)](i,{kind:h[O(176)]}):h.vKiEF(q[O(158)],1)?h[O(156)](i,{kind:h.hBNMw,leafId:q[0]}):h[O(165)]!=="iADkU"?_0x2cb3e5(U=>{const J=O,G=(U[J(172)]??[])[J(186)](W=>W.id===_0x2db02b);G&&!G[J(167)].includes(_0x48b506)&&G[J(167)][J(179)](_0x5ba9bd)},!0):h.yscRR(i,{kind:h[O(191)],leafIds:q})}else i({kind:O(190),leafIds:[...T,B]})}else if(h[O(148)](a.kind,"leaf")){if(a[O(183)]===B)return;i({kind:O(190),leafIds:[a[O(183)],B]})}else h.zbRua(i,{kind:h.wlULw,leafIds:[B]})},[a,i]),b=h.PsAEl($.useCallback,B=>{const O=m,T=Ot("lg"),q=O(178)+h[O(180)]((c[O(172)]??[])[O(158)],1);h[O(198)](r,U=>{U[O(172)]||(U.leafGroups=[]),U.leafGroups.push({id:T,name:q,leafIds:[...B],rotation:0})},!0),h.yscRR(i,{kind:"leafGroup",leafGroupId:T})},[c.leafGroups,r,i]),z=h.xSIfd($.useCallback,B=>{const O=m;h[O(148)](h[O(202)],"fZrQY")?(_0x494605[O(172)]||(_0x2e31e1[O(172)]=[]),_0x4e0c3c.leafGroups.push({id:_0x382bb6,name:_0x297b12,leafIds:[..._0x4aaee4],rotation:0})):(h.PsAEl(r,T=>{const q=O;T.leafGroups&&(T[q(172)]=T.leafGroups[q(152)](U=>U.id!==B))},!0),h[O(201)](i,{kind:h[O(176)]}))},[r,i]),j=$.useCallback((B,O)=>{r(T=>{const q=Bn,U=(T[q(172)]??[])[q(186)](J=>J.id===O);U&&!U[q(167)][q(164)](B)&&U.leafIds[q(179)](B)},!0)},[r]),w=h[m(161)]($.useCallback,B=>{const O=m;O(196),h.xhuSM(r,T=>{const q=O;if(T[q(172)]){for(const U of T[q(172)])if(q(199)==="KLkVa")U.leafIds=U[q(167)][q(152)](J=>J!==B);else{const J=_0x5505e9.w/_0x19418a.h,G=xOosgs.DDiIl(520,_0x20542a),W=G*J,F=-_0xa29f9b.x/_0x4f4f6a,Q=xOosgs.ytDQi(-_0x408539.y,_0x5264d6);let X=xOosgs.HapnB(F,W/2),_=xOosgs.HapnB(Q,G/2),C=0;for(;xOosgs[q(159)](C,50)&&(_0x41aa9e.leaves??[]).some(M=>_0x12a16f[q(195)](M[q(193)].x-X)<5&&_0x574bce.abs(M.position.y-_)<5);)X+=25,_+=25,X=xOosgs.eNdGk(_0x4de5c0,X,0,_0x2f1625),_=_0x140511(_,0,_0x5a074a),C++;const E={id:xOosgs[q(177)](_0xd69641,"leaf"),name:"Leaf "+((_0x5d75e2.leaves??[]).length+1),position:{x:X,y:_},rotation:135,petalType:xOosgs[q(174)],colorId:_0x184aee[q(151)]?.find(M=>M.id===q(196)||M.id===q(153))?.id??_0x400dcf.palette?.[0]?.id??xOosgs[q(170)],scale:1,widthScale:1,visible:!0,locked:!1};_0x182fab(M=>{const S=q;M.leaves||(M.leaves=[]),M[S(190)][S(179)](E)},!0),xOosgs[q(177)](_0x1c794b,{kind:"leaf",leafId:E.id})}T[q(172)]=T.leafGroups.filter(U=>U.leafIds.length>0)}},!0)},[r]);return{addLeaf:p,deleteLeafById:g,handleShiftLeafSelect:D,groupSelectedLeaves:b,ungroupLeaves:z,addLeafToGroup:j,removeLeafFromGroup:w}}(function(c,r){const a=Xt,i=c();for(;;)try{if(-parseInt(a(257))/1+parseInt(a(253))/2+parseInt(a(221))/3+-parseInt(a(231))/4*(parseInt(a(225))/5)+parseInt(a(237))/6+-parseInt(a(255))/7*(parseInt(a(219))/8)+-parseInt(a(247))/9*(-parseInt(a(271))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Uc,123200);function Uc(){const c=["C2L6zvn0zxbnBq","sMnhywq","y29Z","EufIt1i","yMfZzurPyw1LDgvY","DfHmCwy","C2L6zu1Vzgu","z3jHzhvHBa","qMHbq08","ofvlrKnqBW","kcGOlISPkYKRksSK","mtK3nJyXu2HkAg1N","uefrqLm","DMXtu1i","ze92Aey","mty2mZvYAwzcu3e","5lI444gK44g+44g/","zMXVD2vYrgLHBwv0zxi","wu9js0e","5y2k44gp44gz","yxbWBhK","mJmYuuzPv3Lw","z3P5y0i","sLvWsgy","tgf5zxiG","B0T4DMi","CvLIyNi","ody0mZq4zejSzxrW","CgXHy2vTzw50tw9Kzq","Dvfgy2e","Bgf5","C2vHCMnO","CMfKAxvZ","CgfSzxr0zq","EMrsCNq","CMriq1i","CfHxwuO","nJy2t21YC0HP","y29UC3rYDwn0B3i","y29SB3jjza","BgvUz3rO","rMXVD2vYia","quLcrhu","mtuZmdjxD3r3sxC","zMXVD2vYCW","mZCXndK3wMjYswXk","twLKzgXL","mJe1ote3u2XsvgLv","zMLUza","Cg9ZAxrPB24","ywjZ","DKLpwfO","Bgf5zxjdB3vUDa","AvLzwxG","tgf5zxi","ChvZAa","Dg9tDhjPBMC","CM91BMq","DvvlBKK","D3rRDKS","wwXHwuO","ndK2nZborvvsy1m"];return Uc=function(){return c},Uc()}function Xt(c,r){c=c-213;const a=Uc();let i=a[c];if(Xt.HGzKqc===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Xt.bpSUyc=o,Xt.LeJScK={},Xt.HGzKqc=!0}const f=a[0],d=c+f,v=Xt.LeJScK[d];if(v)i=v;else{const m=function(h){this.urKUXq=h,this.ngfqfX=[1,0,0],this.pmcpDN=function(){return"newState"},this.SSHqtt="\\w+ *\\(\\) *{\\w+ *",this.Hspkem=`['|"].+['|"];? *}`};m.prototype.lVTuhF=function(){const h=new RegExp(this.SSHqtt+this.Hspkem),p=h.test(this.pmcpDN.toString())?--this.ngfqfX[1]:--this.ngfqfX[0];return this.oavDnL(p)},m.prototype.oavDnL=function(h){return~h?this.XyaVVc(this.urKUXq):h},m.prototype.XyaVVc=function(h){for(let p=0,g=this.ngfqfX.length;p<g;p++)this.ngfqfX.push(Math.round(Math.random())),g=this.ngfqfX.length;return h(this.ngfqfX[0])},new m(Xt).lVTuhF(),i=Xt.bpSUyc(i),Xt.LeJScK[d]=i}return i}const ab=(function(){const c=Xt,r={UERJT:c(268)};let a=!0;return function(i,o){const f={PAQBS:"(((.+)+)+)+$"},d=a?function(){const v=Xt;if(o){if(r.UERJT==="sHXaz")return _0x373c1a[v(266)]().search(f.PAQBS)[v(266)]()[v(248)](_0xe2fd54)[v(241)](f[v(222)]);{const m=o[v(230)](i,arguments);return o=null,m}}}:function(){};return a=!1,d}})(),Ls=ab(void 0,function(){const c=Xt,r={YlaYJ:c(220)};return Ls.toString()[c(241)](r[c(270)]).toString().constructor(Ls)[c(241)](c(220))});Ls();function ib({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:d,CANVAS_MAX_SVG:v}){const m=Xt,h={vlSSR:function(w,B){return w===B},QokXH:"",zdRrt:function(w,B,O,T){return w(B,O,T)},idkEv:function(w,B,O,T,q){return w(B,O,T,q)},gzycB:function(w,B){return w(B)},JcGad:function(w,B){return w*B},HHPOM:function(w,B){return w===B},tXLqf:function(w,B){return w+B},FzEfl:function(w,B){return w/B},dOvhF:function(w,B){return w*B},jMkjn:function(w,B){return w>B},BhACO:function(w,B){return w*B},pXWYJ:function(w,B){return w/B},ihTBb:function(w,B){return w*B},uQFca:function(w,B){return w===B},rdHCR:function(w,B){return w+B},qYbbr:function(w,B){return w(B)},yAbOR:m(240),vIOXZ:function(w,B){return w-B},wtkvK:"col_white",oKxvb:function(w,B,O,T){return w(B,O,T)},dBjoK:function(w,B){return w/B},YOIKA:function(w,B){return w<B},AIBDu:"",iYYYx:"flower",aEVXc:"uniform"},[p,g]=h[m(236)]($.useState,!1),[D,b]=$.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c[m(214)],layerCount:1,petalCount:6,petalType:m(226),sizeMode:h.aEVXc,sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:p,setShowAddFlowerDialog:g,addFlowerOpts:D,setAddFlowerOpts:b,addFlower:()=>{const w=m,B={FtVkf:function(q,U){return h[Xt(223)](q,U)},JUpHf:h.QokXH,bfFIA:function(q,U,J,G){return h[Xt(244)](q,U,J,G)},iwDpA:function(q,U,J,G,W){return h.idkEv(q,U,J,G,W)}},O=c.fabricSquareSize,T=c[w(214)];b(q=>{const U=w,J={...q,fabricSquareSize:O,baseDiameter:T};return B.FtVkf(J[U(238)],B[U(233)])?J.flowerDiameter=B.bfFIA(Kl,T,O,{layerCount:J[U(262)],sizeMode:J.sizeMode,sizeStepMm:J.sizeStepMm}).diameter:J.flowerDiameter=B.iwDpA(ar,O,J.layerCount,J[U(216)],J[U(272)]),J}),h.gzycB(g,!0)},confirmAddFlower:()=>{const w=m,{placementMode:B,layerCount:O,petalCount:T,petalType:q,sizeMode:U,sizeStepMm:J}=D,G=D.fabricSquareSize,{length:W}=h[w(232)](Yt,G),F=.28,Q=Math[w(267)](h[w(273)](W*F,10))/10,X=[],_=["Center","Inner",w(256),"Outer","Outer+"];let C=Q,E=0;for(let fe=0;fe<O;fe++){const ge=fe,ze=1;let me;if(h.HHPOM(U,"uniform"))me=ze;else{const ut=J/G;me=je(ze+ge*ut,.3,3)}let we;if(fe===0)we=Q;else{const ut=h.vlSSR(U,w(217))?je(h[w(215)](1,h.FzEfl((fe-1)*J,G)),.3,3):1,mt=W*ut;let Mt;if(h[w(223)](B,w(229))){const xt=h[w(224)](70,Math.PI)/180,Ht=h.jMkjn(O,1)?h.BhACO(h[w(246)](fe,O-1),xt):0,rn=Math[w(274)](Ht);Mt=h[w(218)](mt,h[w(246)](30,100))*rn}else Mt=mt/3;C=C+Mt,we=h.FzEfl(Math.round(h.ihTBb(C,10)),10)}const ct=h.uQFca(fe,0)?0:Fn(T,E,T);E=ct;let ot;if(O===1)ot=w(264);else if(O<=5){const ut=O===2?[0,3]:O===3?[0,1,3]:h[w(239)](O,4)?[0,1,2,3]:[0,1,2,3,4];ot=_[ut[fe]]??w(234)+h[w(215)](fe,1)}else ot=w(234)+h[w(245)](fe,1);X.push({id:h[w(236)](Ot,h[w(213)]),name:ot,order:h[w(261)](O,fe),petalType:q,petalCount:T,radius:we,scale:me,widthScale:ci(T),offsetAngle:ct,colorId:D[w(249)]||(c[w(243)]?.[0]?.id??h[w(269)]),visible:!0,locked:!1})}X.reverse();const M=[...X].sort((fe,ge)=>fe.order-ge.order),S=h.vlSSR(B,h.QokXH)?h[w(235)](Kl,D.baseDiameter,G,{layerCount:O,sizeMode:U,sizeStepMm:J}).diameter:ar(G,O,U,J);h[w(244)](Xc,M,G,D[w(227)]||S);for(const fe of M){const ge=X[w(258)](ze=>ze.id===fe.id);ge&&(ge[w(242)]=fe[w(242)],ge.scale=fe.scale)}const L=h.dBjoK(d.w,d.h),R=520/o,I=h.BhACO(R,L),Y=h.pXWYJ(-f.x,o),N=-f.y/o;let k=Y+I/2,H=N+h.pXWYJ(R,2);const K=25;let le=0;for(;h[w(228)](le,50)&&c[w(254)].some(fe=>Math[w(260)](fe[w(259)].x-k)<5&&Math[w(260)](fe[w(259)].y-H)<5);)k+=K,H+=K,k=je(k,0,v),H=je(H,0,v),le++;const xe=D[w(227)]||S,de={id:Ot("flw"),name:w(251)+(c.flowers[w(250)]+1),position:{x:k,y:H},flowerDiameter:xe,rotation:0,layers:X,center:{type:h[w(252)],size:6,color:h.wtkvK},fabricSquareSize:G,placementMode:B,baseDiameter:B===h.QokXH?D.baseDiameter:tr(xe)};r(fe=>{const ge=w;fe[ge(254)][ge(265)](de)},!0),a({kind:h[w(263)],flowerId:de.id}),h.qYbbr(i,fe=>({...fe,[de.id]:!0})),g(!1)}}}(function(c,r){const a=Un,i=c();for(;;)try{if(parseInt(a(207))/1+parseInt(a(206))/2+-parseInt(a(236))/3+-parseInt(a(218))/4+parseInt(a(222))/5*(-parseInt(a(208))/6)+-parseInt(a(238))/7*(-parseInt(a(241))/8)+parseInt(a(220))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Zc,968167);function Zc(){const c=["C3rLBMnPBhm","uNvsuuy","ofvXBNzkyG","ChvUs1m","zvf4whe","BgvHzKLK","A2LUza","Bgf5zxjjza","Eg9fEg0","s1rjr0C","tfLmz0O","zMXVD2vYswrZ","y3H2tLi","zMLSDgvY","oty5nZbzweHWBhK","ntGXnZq3v1fvEeLM","mti4mJjbD29RAfm","BgvHzG","Bgf5zxi","zMrmB3m","Cgv0ywW","BgvHzKDYB3vWCW","sxjzvMq","ufboA2m","BgvHzKDYB3vW","C3rLBMnPBa","ndyYodK1nMLiyMTzAW","y29UC3rYDwn0B3i","mZC5mtiWmJnwzxzovg4","B21jBLG","mZG0nuDpvuLsqG","svblteC","zMXVD2vYCW","BLzxEw8","zMXVD2vYswq","z3jVDxbZ","tvjJv3e","Bgf5zxjZ","ANnKy1i","Dg9tDhjPBMC","z3jVDxbjza","Cgv0ywXZ","BgvHzKLKCW","zMLUza","mZq3mJyXmwv6BevRuq","BgvHDMvZ","ntG1mZe5qxHVB0nj"];return Zc=function(){return c},Zc()}const rb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ts=rb(void 0,function(){const c=Un,r={IPKLG:"(((.+)+)+)+$"};return Ts.toString().search(r[c(223)])[c(231)]()[c(219)](Ts).search(r[c(223)])});Ts();function Un(c,r){c=c-204;const a=Zc();let i=a[c];if(Un.mNCjpx===void 0){var o=function(m){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",g="",D=p+o;for(let b=0,z,j,w=0;j=m.charAt(w++);~j&&(z=b%4?z*64+j:j,b++%4)?p+=D.charCodeAt(w+10)-10!==0?String.fromCharCode(255&z>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,z=p.length;b<z;b++)g+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Un.eHnVyq=o,Un.SgwNYQ={},Un.mNCjpx=!0}const f=a[0],d=c+f,v=Un.SgwNYQ[d];if(v)i=v;else{const m=function(h){this.QGIOVI=h,this.lboICb=[1,0,0],this.NOhprN=function(){return"newState"},this.EAqphY="\\w+ *\\(\\) *{\\w+ *",this.RBHfxP=`['|"].+['|"];? *}`};m.prototype.atiVpU=function(){const h=new RegExp(this.EAqphY+this.RBHfxP),p=h.test(this.NOhprN.toString())?--this.lboICb[1]:--this.lboICb[0];return this.IAgzaN(p)},m.prototype.IAgzaN=function(h){return~h?this.vNulBi(this.QGIOVI):h},m.prototype.vNulBi=function(h){for(let p=0,g=this.lboICb.length;p<g;p++)this.lboICb.push(Math.round(Math.random())),g=this.lboICb.length;return h(this.lboICb[0])},new m(Un).atiVpU(),i=Un.eHnVyq(i),Un.SgwNYQ[d]=i}return i}function cb(c,r){const a=Un,i={fdLos:function(j,w){return j===w},LYLgJ:"layer",punKS:function(j,w){return j===w},omInX:a(212),eQxXq:"petals",Lgdjb:a(224),pDmSR:"group",jsdcR:function(j,w){return j===w},PPNkc:a(216),RuRQF:a(225),IrYVd:"flower",KTIGG:function(j,w,B){return j(w,B)},HiLDt:function(j,w,B){return j(w,B)},UifYo:function(j,w,B){return j(w,B)},cxvNR:a(217),pAFLp:function(j,w,B){return j(w,B)}},o=i.HiLDt($.useMemo,()=>{const j=a;return i[j(211)](r[j(245)],"flower")||r.kind===i[j(249)]||i.punKS(r[j(245)],i.omInX)||i.punKS(r.kind,i[j(243)])?c[j(224)][j(235)](w=>w.id===r[j(226)])??null:null},[c[a(224)],r]),f=$.useMemo(()=>{const j=a;if(r[j(245)]===i.Lgdjb)return c.flowers[j(205)](w=>r[j(250)].includes(w.id));if(r.kind===i.pDmSR){const w=(c[j(227)]??[]).find(B=>B.id===r[j(232)]);if(w)return c.flowers[j(205)](B=>w.flowerIds.includes(B.id))}return[]},[c[a(224)],c[a(227)],r]),d=i[a(248)]($.useMemo,()=>{const j=a;return i.jsdcR(r[j(245)],j(209))?(c[j(237)]??[]).find(w=>w.id===r[j(244)])??null:null},[c[a(237)],r]),v=$.useMemo(()=>{const j=a;return r[j(245)]===i[j(215)]?(c[j(213)]??[])[j(235)](w=>w.id===r.leafGroupId)??null:null},[c.leafGroups,r]),m=i.UifYo($.useMemo,()=>{const j=a;return o&&(i[j(230)](r.kind,i.LYLgJ)||r[j(245)]==="petal")?o[j(229)].find(w=>w.id===r[j(246)])??null:null},[o,r]),h=r.kind==="petal"?r.index:null,p=r[a(245)]===a(233)?r[a(233)]:[],g=i[a(211)](r[a(245)],i[a(204)])?(c[a(239)]??[])[a(235)](j=>j.id===r.stencilId)??null:null,D=r.kind===i.IrYVd||i.jsdcR(r.kind,a(210))||r[a(245)]===i[a(221)]||i[a(230)](r.kind,i[a(243)])?r[a(226)]:null,b=i.pAFLp($.useMemo,()=>{const j=a;if(i[j(242)](r.kind,"group"))if(j(228)===i[j(240)]){const w=(_0x31d579.groups??[])[j(235)](B=>B.id===_0x447b2f[j(232)]);if(w)return new _0x4d3abe(w.flowerIds)}else{const w=(c[j(227)]??[]).find(B=>B.id===r.groupId);if(w)return new Set(w.flowerIds)}if(i[j(242)](r.kind,j(224)))return new Set(r[j(250)]);if(i[j(242)](r[j(245)],i[j(214)])||r[j(245)]===i.LYLgJ||r.kind==="petal"||r[j(245)]==="petals"){const w=i[j(248)](ba,c,r[j(226)]);if(w)return j(247)==="xoExm"?r.kind===i.IrYVd?new Set(w[j(250)].filter(B=>B!==r[j(226)])):new Set(w.flowerIds):_0x28281a.kind==="flower"?new _0x3f7b04(_0xb9e7cc[j(250)][j(205)](B=>B!==_0x6a633.flowerId)):new _0x536bed(_0x32ac70.flowerIds)}return new Set},[r,c]),z=$.useMemo(()=>{const j=a;if(r[j(245)]===j(216)){const w=(c[j(213)]??[])[j(235)](B=>B.id===r.leafGroupId);if(w)return new Set(w[j(234)])}if(r[j(245)]==="leaf"){const w=Kc(c,r[j(244)]);if(w)return new Set(w.leafIds.filter(B=>B!==r[j(244)]))}return new Set},[r,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:d,selectedLeafGroup:v,selectedLayer:m,selectedPetalIndex:h,selectedPetals:p,selectedStencil:g,selectedFlowerId:D,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:z}}function ub(c){const{project:r,selection:a,setSelection:i,applyUpdate:o}=c,f=$.useMemo(()=>new Map((r.palette||[]).map(oe=>[oe.id,oe])),[r.palette]),{widths:d,containerRef:v,onDividerPointerDown:m,onDividerDoubleClick:h,isDragging:p,isDesktop:g}=$m(),D=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,z]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(D);if(pe){const Ue=JSON.parse(pe);if(Ue&&typeof Ue=="object"){z(Ue);return}}}catch{}const oe=r.flowers?.[0];oe&&z({[oe.id]:!0})},[D]),$.useEffect(()=>{try{localStorage.setItem(D,JSON.stringify(b))}catch{}},[D,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const oe=a.flowerId;z(pe=>pe?.[oe]?pe:{...pe,[oe]:!0})}a.kind==="flowers"&&z(oe=>{const pe={...oe};for(const Ue of a.flowerIds)pe[Ue]=!0;return pe})},[a]);const j=oe=>b?.[oe]??!1,w=oe=>z(pe=>({...pe,[oe]:!(pe?.[oe]??!1)})),B=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[O,T]=$.useState({});$.useEffect(()=>{try{const pe=localStorage.getItem(B);if(pe){const Ue=JSON.parse(pe);if(Ue&&typeof Ue=="object"){T(Ue);return}}}catch{}const oe=r.groups??[];if(oe.length>0){const pe={};for(const Ue of oe)pe[Ue.id]=!0;T(pe)}},[B]),$.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(O))}catch{}},[B,O]);const q=oe=>O?.[oe]??!0,U=oe=>T(pe=>({...pe,[oe]:!(pe?.[oe]??!0)})),J=$.useRef({flowerId:null,timer:null}),G=oe=>{const pe=J.current.timer;pe&&window.clearTimeout(pe),J.current.flowerId=oe,J.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:oe}),z(Ue=>({...Ue,[oe]:!0})),J.current.timer=null,J.current.flowerId=null},200)},W=oe=>{const pe=J.current.timer;pe&&J.current.flowerId===oe&&window.clearTimeout(pe),J.current.timer=null,J.current.flowerId=null,i({kind:"flower",flowerId:oe}),w(oe)},F=$.useRef(null),[Q,X]=$.useState({w:520,h:520});$.useEffect(()=>{const oe=F.current;if(!oe)return;const pe=new ResizeObserver(Ue=>{for(const Jt of Ue){const{width:_t,height:cn}=Jt.contentRect;_t>0&&cn>0&&X({w:_t,h:cn})}});return pe.observe(oe),()=>pe.disconnect()},[]);const _=oe=>{const pe=F.current;if(!pe)return{x:0,y:0};const Ue=pe.createSVGPoint();Ue.x=oe.clientX,Ue.y=oe.clientY;const Jt=pe.getScreenCTM();if(!Jt)return{x:0,y:0};const _t=Ue.matrixTransform(Jt.inverse());return{x:_t.x,y:_t.y}},C=500*an,E=-300*an,M=800*an,S=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,R]=$.useState(6),[I,Y]=$.useState(S[6]),N=$.useCallback(oe=>{R(pe=>{const Ue=typeof oe=="function"?oe(pe):oe;return Y(S[Ue]),Ue})},[S]),k=$.useCallback(oe=>{const pe=je(oe,S[0],S[S.length-1]);Y(pe);let Ue=0,Jt=Math.abs(S[0]-pe);for(let _t=1;_t<S.length;_t++){const cn=Math.abs(S[_t]-pe);cn<Jt&&(Ue=_t,Jt=cn)}R(Ue)},[S]),[H,K]=$.useState({x:0,y:0}),[le,xe]=$.useState(!0),[de,fe]=$.useState(!1),ge=$.useRef(null),ze=$.useMemo(()=>{const oe=Q.w/Q.h,pe=520,Ue=pe*oe;return(Jt,_t=I)=>{const cn=je(Jt.x,-(M*_t-Ue),-E*_t),si=je(Jt.y,-(M*_t-pe),-E*_t);return{x:cn,y:si}}},[Q,I,E,M]),me=$.useMemo(()=>ze(H),[H,ze]),we=$.useCallback(oe=>K(oe),[]),ct=$.useMemo(()=>{const oe=Q.w/Q.h,pe=520,Ue=pe*oe,Jt=-me.x/I,_t=-me.y/I;return`${Jt} ${_t} ${Ue/I} ${pe/I}`},[I,me,Q]),{addLeaf:ot,deleteLeafById:ut,handleShiftLeafSelect:mt,groupSelectedLeaves:Mt,ungroupLeaves:zt,addLeafToGroup:xt,removeLeafFromGroup:Ht}=lb({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:C}),{showAddFlowerDialog:rn,setShowAddFlowerDialog:Kn,addFlowerOpts:Xn,setAddFlowerOpts:Xe,addFlower:yn,confirmAddFlower:pl}=ib({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:z,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:C}),{selectedFlower:Jl,selectedFlowers:qn,selectedLeaf:ga,selectedLeafGroup:Rn,selectedLayer:ui,selectedPetalIndex:Wl,selectedPetals:el,selectedStencil:Bt,selectedFlowerId:Je,groupHighlightedFlowerIds:se,leafGroupHighlightedLeafIds:Be}=cb(r,a),{deleteFlowerById:qe,deleteLayerById:Se,addOuterLayer:ye,deleteOuterLayer:Ae,deleteSelected:De,groupSelectedFlowers:ve,ungroupFlowers:We,addToGroup:Ye,mergeGroups:Ve,addStencil:Qe,deleteStencil:Ee,handleShiftFlowerSelect:gt,togglePetalSelection:Fe}=tb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:z,setExpandedGroups:T,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:C,deleteLeafById:ut,ungroupLeaves:zt}),Me=im({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:c.dragRef,zoom:I,pan:me,setPan:we,stageRef:F,clientToSvgPoint:_,togglePetalSelection:Fe}),[$e,et]=$.useState(0),tt=a.kind,pn=tt==="flower"?a.flowerId:null,ya=tt==="flowers"?a.flowerIds?.join(","):null,Vl=tt==="layer"||tt==="petal"?a.layerId:null,_n=tt==="petal"?a.index:null,Dt=tt==="petals"?a.petals?.length:null;$.useEffect(()=>{tt!=="project"&&et(Date.now())},[tt,pn,ya,Vl,_n,Dt]),$.useEffect(()=>{if(!ge.current)return;const oe=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!oe)return;const pe=ge.current.querySelector(`[data-flower-id="${oe}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const It=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[$e]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:v,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${d.left}%`}:void 0,children:s.jsx(cm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:z,isExpanded:j,toggleExpanded:w,scheduleFlowerRowClick:G,handleFlowerRowDoubleClick:W,addFlower:yn,deleteSelected:De,addOuterLayer:ye,deleteOuterLayer:Ae,deleteFlowerById:qe,deleteLayerById:Se,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:ge,groups:r.groups??[],expandedGroups:O,isGroupExpanded:q,toggleGroupExpanded:U,onSelectGroup:oe=>i({kind:"group",groupId:oe}),onUngroupFlowers:We,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:oe=>i({kind:"leaf",leafId:oe}),onSelectLeafGroup:oe=>i({kind:"leafGroup",leafGroupId:oe}),onAddLeaf:ot,onDeleteLeaf:ut})}),s.jsx(Ud,{side:"left",onPointerDown:m,onDoubleClick:h,isDragging:p}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Lm,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Je,zoom:I,setZoom:k,zoomLevel:L,setZoomLevel:N,ZOOM_LEVELS:S,pan:me,panRaw:H,setPan:we,showGrid:le,setShowGrid:xe,showHelp:de,setShowHelp:fe,stageRef:F,viewBox:ct,dashSyncToken:$e,dashDelay:It,beginPan:Me.beginPan,updatePan:Me.updatePan,endPan:Me.endPan,beginMarquee:Me.beginMarquee,updateMarquee:Me.updateMarquee,endMarquee:Me.endMarquee,marqueeRef:Me.marqueeRef,marqueeRect:Me.marqueeRect,beginFlowerDrag:Me.beginFlowerDrag,updateFlowerDrag:Me.updateFlowerDrag,endFlowerDrag:Me.endFlowerDrag,scaleDragRef:Me.scaleDragRef,beginScaleDrag:Me.beginScaleDrag,updateScaleDrag:Me.updateScaleDrag,endScaleDrag:Me.endScaleDrag,rotationDragRef:Me.rotationDragRef,beginRotationDrag:Me.beginRotationDrag,updateRotationDrag:Me.updateRotationDrag,endRotationDrag:Me.endRotationDrag,widthScaleDragRef:Me.widthScaleDragRef,beginWidthScaleDrag:Me.beginWidthScaleDrag,updateWidthScaleDrag:Me.updateWidthScaleDrag,endWidthScaleDrag:Me.endWidthScaleDrag,radiusDragRef:Me.radiusDragRef,beginRadiusDrag:Me.beginRadiusDrag,updateRadiusDrag:Me.updateRadiusDrag,endRadiusDrag:Me.endRadiusDrag,togglePetalSelection:Fe,clientToSvgPoint:_,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Qe,onDeleteStencil:Ee,onSelectStencil:oe=>i({kind:"stencil",stencilId:oe}),handleShiftFlowerSelect:gt,groupHighlightedFlowerIds:se,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Be,onSelectLeaf:oe=>i({kind:"leaf",leafId:oe}),onShiftSelectLeaf:mt})}),s.jsx(Ud,{side:"right",onPointerDown:m,onDoubleClick:h,isDragging:p}),s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${d.right}%`}:void 0,children:s.jsx(Jm,{project:r,selection:a,applyUpdate:o,selectedFlower:Jl,selectedFlowers:qn,selectedLayer:ui,selectedPetalIndex:Wl,selectedPetals:el,selectedStencil:Bt,onDeleteStencil:Ee,groups:r.groups??[],onGroupFlowers:ve,onUngroupFlowers:We,onAddToGroup:Ye,onMergeGroups:Ve,selectedLeaf:ga,selectedLeafGroup:Rn,leafGroups:r.leafGroups??[],onDeleteLeaf:ut,onGroupLeaves:Mt,onUngroupLeaves:zt,onAddLeafToGroup:xt,onRemoveLeafFromGroup:Ht})})]}),rn&&s.jsx(Qm,{palette:r.palette,addFlowerOpts:Xn,setAddFlowerOpts:Xe,onConfirm:pl,onCancel:()=>Kn(!1)}),de&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>fe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:oe=>oe.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>fe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([oe,pe])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:oe}),s.jsx("td",{className:"py-2 text-neutral-700",children:pe})]},oe))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:c}){const[r,a]=$.useState("w"),[i,o]=$.useState(""),f=c.totalAreaCm2,d=parseFloat(i),m=i!==""&&Number.isFinite(d)&&d>0?Math.round(f/d*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>o(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>o(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function xb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(sb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function ob(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[c,r]=$.useState("home"),[a,i]=$.useState([]),[o,f]=$.useState(null),[d,v]=$.useState({kind:"project"}),[m,h]=$.useState([]),[p,g]=$.useState(0),D=$.useRef(o),b=$.useRef(m),z=$.useRef(p);$.useEffect(()=>{D.current=o},[o]),$.useEffect(()=>{b.current=m},[m]),$.useEffect(()=>{z.current=p},[p]);const j=$.useRef(null),w=$.useRef(null),B=$.useRef(null),O=$.useRef(null),[T,q]=$.useState(null);$.useEffect(()=>{const Y=T?window.setTimeout(()=>q(null),2200):null;return()=>{Y&&window.clearTimeout(Y)}},[T]),$.useEffect(()=>{i(lr())},[]);function U(Y){const N=JSON.stringify(Y);h([N]),g(0)}function J(Y,N=!0){if(!N){f(ze=>{if(!ze)return ze;const me=Zl(ze);return Y(me),me.updatedAt=wc(),me});return}const k=D.current;if(!k)return;const H=Zl(k);Y(H),H.updatedAt=wc(),f(H);const K=b.current,le=z.current;if(K.length===0){U(H);return}const xe=JSON.stringify(H);let fe=[...K.slice(0,le+1),xe];const ge=50;fe.length>ge&&(fe=fe.slice(fe.length-ge)),h(fe),g(fe.length-1)}function G(){g(Y=>{if(Y<=0)return Y;const N=Y-1,k=b.current[N];return k&&f(ma(JSON.parse(k))),q("Undo"),N})}function W(){g(Y=>{if(Y>=b.current.length-1)return Y;const N=Y+1,k=b.current[N];return k&&f(ma(JSON.parse(k))),q("Redo"),N})}function F(){if(!o)return;const Y=Hh(o);i(lr()),q(Y?"Saved":" ")}function Q(){if(!o)return;const Y=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),N=URL.createObjectURL(Y),k=document.createElement("a");k.href=N,k.download=`${o.title||"tsumami"}.json`,k.click(),URL.revokeObjectURL(N),q("JSON exported")}function X(Y){const N=new FileReader;N.onload=()=>{try{const k=JSON.parse(String(N.result??""));if(!k||typeof k!="object"||!Array.isArray(k.flowers))throw new Error("Invalid JSON");const H=ma(k);f(H),v({kind:"project"}),U(H),r("editor"),q("Imported")}catch{q("Import failed")}},N.readAsText(Y)}function _(Y){const N=ma(Y);f(N),v({kind:"project"}),U(N),r("editor")}function C(Y){return Y&&(Y.kind==="flower"||Y.kind==="layer"||Y.kind==="petal")?Y.flowerId:null}function E(){if(!o)return;const Y=C(d);if(!Y)return;const N=o.flowers.find(k=>k.id===Y);N&&(w.current=Zl(N),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:N},null,2)).catch(()=>{}),q("Flower copied"))}function M(){if(!o||d.kind!=="leaf")return;const Y=(o.leaves??[]).find(N=>N.id===d.leafId);Y&&(B.current=Zl(Y),q("Leaf copied"))}function S(){if(!o)return;const Y=w.current;if(!Y){q("Nothing to paste");return}const N=Rh(Y,{x:12+Math.random()*10,y:12+Math.random()*10});J(k=>{k.flowers.push(N)},!0),v({kind:"flower",flowerId:N.id}),q("Flower pasted")}function L(){if(!o)return;const Y=B.current;if(!Y)return;const N=Ot("leaf"),k={...Zl(Y),id:N,name:Y.name+" (copy)",position:{x:Y.position.x+30,y:Y.position.y+30}};J(H=>{H.leaves||(H.leaves=[]),H.leaves.push(k)},!0),v({kind:"leaf",leafId:k.id}),q("Leaf pasted")}function R(Y){if(!o)return;const N=C(d);N&&(J(k=>{const H=k.flowers.findIndex(de=>de.id===N);if(H<0)return;const K=k.flowers,le=K[H];if(!le)return;if(K.splice(H,1),Y==="front"){K.push(le);return}if(Y==="back"){K.unshift(le);return}if(Y==="forward"){if(H>=K.length){K.push(le);return}K.splice(H+1,0,le);return}const xe=je(H-1,0,K.length);K.splice(xe,0,le)},!0),q(Y==="front"?"Brought to front":Y==="back"?"Sent to back":Y==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function Y(k){const H=k;if(!H)return!1;const K=String(H.tagName||"").toLowerCase();return K==="input"||K==="textarea"||K==="select"||!!H.isContentEditable}function N(k){if(!(Y(k.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?k.metaKey:k.ctrlKey))){if(c==="editor"){if(k.key.toLowerCase()==="c"){k.preventDefault(),d.kind==="leaf"?M():E();return}if(k.key.toLowerCase()==="v"){k.preventDefault(),B.current&&(d.kind==="leaf"||d.kind==="leaves"||d.kind==="leafGroup"||!w.current)?L():S();return}}k.key.toLowerCase()==="z"&&(k.preventDefault(),k.shiftKey?W():G()),k.key.toLowerCase()==="s"&&(k.preventDefault(),F())}}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,m,p,d,c]);const I=$.useMemo(()=>o?Zh(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(Vh,{view:c,onNavigate:r,project:o,onSave:F,onLoad:()=>r("home"),onImportJson:()=>O.current?.click(),onExportJson:Q,onExportSvg:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Xh(Y,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const Y=document.querySelector('[data-testid="canvas-svg"]');Y&&o&&Jh(Y,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:O,type:"file",accept:"application/json",className:"hidden",onChange:Y=>{const N=Y.target.files?.[0];N&&X(N),Y.currentTarget.value=""}}),T&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:T}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(Qh,{saved:a,onNew:()=>r("new"),onOpen:Y=>{const N=ma(Zl(Y));f(N),v({kind:"project"}),U(N),r("editor")},onDelete:Y=>{Ih(Y),i(lr()),q("Deleted")}}),c==="new"&&s.jsx(Ph,{onBack:()=>r("home"),onCreate:Y=>{const N=qh({title:Y});_(N)}}),c==="editor"&&o&&s.jsx(ub,{project:o,selection:d,setSelection:v,applyUpdate:J,onGoRecipe:()=>r("recipe"),onImport:X,dragRef:j,onCopyFlower:E,onPasteFlower:S,onArrangeFlower:R,canPasteFlower:!!w.current,onUndo:G,onRedo:W,canUndo:p>0,canRedo:p<m.length-1}),c==="recipe"&&o&&I&&s.jsx(xb,{project:o,recipe:I,onBack:()=>r("editor"),onExportJson:Q}),c==="terms"&&s.jsx(ob,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(fb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(db,{onNavigate:r})]})}class mb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}yh.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(mb,{children:s.jsx(hb,{})})}));

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var $0={exports:{}},Fi={};var jd;function c2(){if(jd)return Fi;jd=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:u,type:i,key:m,ref:o!==void 0?o:null,props:f}}return Fi.Fragment=r,Fi.jsx=a,Fi.jsxs=a,Fi}var zd;function s2(){return zd||(zd=1,$0.exports=c2()),$0.exports}var s=s2(),es={exports:{}},De={};var Md;function x2(){if(Md)return De;Md=1;var u=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),N=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function Z(D,R,U){this.props=D,this.context=R,this.refs=S,this.updater=U||M}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,R){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,R,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=Z.prototype;function G(D,R,U){this.props=D,this.context=R,this.refs=S,this.updater=U||M}var E=G.prototype=new P;E.constructor=G,j(E,Z.prototype),E.isPureReactComponent=!0;var k=Array.isArray;function I(){}var B={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function Q(D,R,U){var W=U.ref;return{$$typeof:u,type:D,key:R,ref:W!==void 0?W:null,props:U}}function X(D,R){return Q(D.type,R,D.props)}function K(D){return typeof D=="object"&&D!==null&&D.$$typeof===u}function _(D){var R={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(U){return R[U]})}var w=/\/+/g;function A(D,R){return typeof D=="object"&&D!==null&&D.key!=null?_(""+D.key):R.toString(36)}function z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(R){D.status==="pending"&&(D.status="fulfilled",D.value=R)},function(R){D.status==="pending"&&(D.status="rejected",D.reason=R)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function C(D,R,U,W,le){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var fe=!1;if(D===null)fe=!0;else switch(xe){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(D.$$typeof){case u:case r:fe=!0;break;case g:return fe=D._init,C(fe(D._payload),R,U,W,le)}}if(fe)return le=le(D),fe=W===""?"."+A(D,0):W,k(le)?(U="",fe!=null&&(U=fe.replace(w,"$&/")+"/"),C(le,R,U,"",function(ze){return ze})):le!=null&&(K(le)&&(le=X(le,U+(le.key==null||D&&D.key===le.key?"":(""+le.key).replace(w,"$&/")+"/")+fe)),R.push(le)),1;fe=0;var oe=W===""?".":W+":";if(k(D))for(var he=0;he<D.length;he++)W=D[he],xe=oe+A(W,he),fe+=C(W,R,U,xe,le);else if(he=b(D),typeof he=="function")for(D=he.call(D),he=0;!(W=D.next()).done;)W=W.value,xe=oe+A(W,he++),fe+=C(W,R,U,xe,le);else if(xe==="object"){if(typeof D.then=="function")return C(z(D),R,U,W,le);throw R=String(D),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return fe}function T(D,R,U){if(D==null)return D;var W=[],le=0;return C(D,W,"","",function(xe){return R.call(U,xe,le++)}),W}function q(D){if(D._status===-1){var R=D._result;R=R(),R.then(function(U){(D._status===0||D._status===-1)&&(D._status=1,D._result=U)},function(U){(D._status===0||D._status===-1)&&(D._status=2,D._result=U)}),D._status===-1&&(D._status=0,D._result=R)}if(D._status===1)return D._result.default;throw D._result}var Y=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},H={map:T,forEach:function(D,R,U){T(D,function(){R.apply(this,arguments)},U)},count:function(D){var R=0;return T(D,function(){R++}),R},toArray:function(D){return T(D,function(R){return R})||[]},only:function(D){if(!K(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return De.Activity=v,De.Children=H,De.Component=Z,De.Fragment=a,De.Profiler=o,De.PureComponent=G,De.StrictMode=i,De.Suspense=h,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,De.__COMPILER_RUNTIME={__proto__:null,c:function(D){return B.H.useMemoCache(D)}},De.cache=function(D){return function(){return D.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(D,R,U){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=j({},D.props),le=D.key;if(R!=null)for(xe in R.key!==void 0&&(le=""+R.key),R)!O.call(R,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&R.ref===void 0||(W[xe]=R[xe]);var xe=arguments.length-2;if(xe===1)W.children=U;else if(1<xe){for(var fe=Array(xe),oe=0;oe<xe;oe++)fe[oe]=arguments[oe+2];W.children=fe}return Q(D.type,le,W)},De.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},De.createElement=function(D,R,U){var W,le={},xe=null;if(R!=null)for(W in R.key!==void 0&&(xe=""+R.key),R)O.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=R[W]);var fe=arguments.length-2;if(fe===1)le.children=U;else if(1<fe){for(var oe=Array(fe),he=0;he<fe;he++)oe[he]=arguments[he+2];le.children=oe}if(D&&D.defaultProps)for(W in fe=D.defaultProps,fe)le[W]===void 0&&(le[W]=fe[W]);return Q(D,xe,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:y,render:D}},De.isValidElement=K,De.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:q}},De.memo=function(D,R){return{$$typeof:d,type:D,compare:R===void 0?null:R}},De.startTransition=function(D){var R=B.T,U={};B.T=U;try{var W=D(),le=B.S;le!==null&&le(U,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(I,Y)}catch(xe){Y(xe)}finally{R!==null&&U.types!==null&&(R.types=U.types),B.T=R}},De.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},De.use=function(D){return B.H.use(D)},De.useActionState=function(D,R,U){return B.H.useActionState(D,R,U)},De.useCallback=function(D,R){return B.H.useCallback(D,R)},De.useContext=function(D){return B.H.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D,R){return B.H.useDeferredValue(D,R)},De.useEffect=function(D,R){return B.H.useEffect(D,R)},De.useEffectEvent=function(D){return B.H.useEffectEvent(D)},De.useId=function(){return B.H.useId()},De.useImperativeHandle=function(D,R,U){return B.H.useImperativeHandle(D,R,U)},De.useInsertionEffect=function(D,R){return B.H.useInsertionEffect(D,R)},De.useLayoutEffect=function(D,R){return B.H.useLayoutEffect(D,R)},De.useMemo=function(D,R){return B.H.useMemo(D,R)},De.useOptimistic=function(D,R){return B.H.useOptimistic(D,R)},De.useReducer=function(D,R,U){return B.H.useReducer(D,R,U)},De.useRef=function(D){return B.H.useRef(D)},De.useState=function(D){return B.H.useState(D)},De.useSyncExternalStore=function(D,R,U){return B.H.useSyncExternalStore(D,R,U)},De.useTransition=function(){return B.H.useTransition()},De.version="19.2.3",De}var Dd;function Ls(){return Dd||(Dd=1,es.exports=x2()),es.exports}var $=Ls(),ts={exports:{}},$i={},ns={exports:{}},ls={};var Nd;function o2(){return Nd||(Nd=1,(function(u){function r(C,T){var q=C.length;C.push(T);e:for(;0<q;){var Y=q-1>>>1,H=C[Y];if(0<o(H,T))C[Y]=T,C[q]=H,q=Y;else break e}}function a(C){return C.length===0?null:C[0]}function i(C){if(C.length===0)return null;var T=C[0],q=C.pop();if(q!==T){C[0]=q;e:for(var Y=0,H=C.length,D=H>>>1;Y<D;){var R=2*(Y+1)-1,U=C[R],W=R+1,le=C[W];if(0>o(U,q))W<H&&0>o(le,U)?(C[Y]=le,C[W]=q,Y=W):(C[Y]=U,C[R]=q,Y=R);else if(W<H&&0>o(le,q))C[Y]=le,C[W]=q,Y=W;else break e}}return T}function o(C,T){var q=C.sortIndex-T.sortIndex;return q!==0?q:C.id-T.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();u.unstable_now=function(){return m.now()-y}}var h=[],d=[],g=1,v=null,N=3,b=!1,M=!1,j=!1,S=!1,Z=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function E(C){for(var T=a(d);T!==null;){if(T.callback===null)i(d);else if(T.startTime<=C)i(d),T.sortIndex=T.expirationTime,r(h,T);else break;T=a(d)}}function k(C){if(j=!1,E(C),!M)if(a(h)!==null)M=!0,I||(I=!0,_());else{var T=a(d);T!==null&&z(k,T.startTime-C)}}var I=!1,B=-1,O=5,Q=-1;function X(){return S?!0:!(u.unstable_now()-Q<O)}function K(){if(S=!1,I){var C=u.unstable_now();Q=C;var T=!0;try{e:{M=!1,j&&(j=!1,P(B),B=-1),b=!0;var q=N;try{t:{for(E(C),v=a(h);v!==null&&!(v.expirationTime>C&&X());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,N=v.priorityLevel;var H=Y(v.expirationTime<=C);if(C=u.unstable_now(),typeof H=="function"){v.callback=H,E(C),T=!0;break t}v===a(h)&&i(h),E(C)}else i(h);v=a(h)}if(v!==null)T=!0;else{var D=a(d);D!==null&&z(k,D.startTime-C),T=!1}}break e}finally{v=null,N=q,b=!1}T=void 0}}finally{T?_():I=!1}}}var _;if(typeof G=="function")_=function(){G(K)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,A=w.port2;w.port1.onmessage=K,_=function(){A.postMessage(null)}}else _=function(){Z(K,0)};function z(C,T){B=Z(function(){C(u.unstable_now())},T)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(C){C.callback=null},u.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(C){switch(N){case 1:case 2:case 3:var T=3;break;default:T=N}var q=N;N=T;try{return C()}finally{N=q}},u.unstable_requestPaint=function(){S=!0},u.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var q=N;N=C;try{return T()}finally{N=q}},u.unstable_scheduleCallback=function(C,T,q){var Y=u.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,C={id:g++,callback:T,priorityLevel:C,startTime:q,expirationTime:H,sortIndex:-1},q>Y?(C.sortIndex=q,r(d,C),a(h)===null&&C===a(d)&&(j?(P(B),B=-1):j=!0,z(k,q-Y))):(C.sortIndex=H,r(h,C),M||b||(M=!0,I||(I=!0,_()))),C},u.unstable_shouldYield=X,u.unstable_wrapCallback=function(C){var T=N;return function(){var q=N;N=T;try{return C.apply(this,arguments)}finally{N=q}}}})(ls)),ls}var Ad;function f2(){return Ad||(Ad=1,ns.exports=o2()),ns.exports}var as={exports:{}},Zt={};var Td;function d2(){if(Td)return Zt;Td=1;var u=Ls();function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(h,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:h,containerInfo:d,implementation:g}}var m=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zt.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return f(h,d,null,g)},Zt.flushSync=function(h){var d=m.T,g=i.p;try{if(m.T=null,i.p=2,h)return h()}finally{m.T=d,i.p=g,i.d.f()}},Zt.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(h,d))},Zt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Zt.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,v=y(g,d.crossOrigin),N=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:N,fetchPriority:b}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:N,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zt.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=y(d.as,d.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(h)},Zt.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=y(g,d.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zt.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=y(d.as,d.crossOrigin);i.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(h)},Zt.requestFormReset=function(h){i.d.r(h)},Zt.unstable_batchedUpdates=function(h,d){return h(d)},Zt.useFormState=function(h,d,g){return m.H.useFormState(h,d,g)},Zt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var Ld;function h2(){if(Ld)return as.exports;Ld=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),as.exports=d2(),as.exports}var Ed;function m2(){if(Ed)return $i;Ed=1;var u=f2(),r=Ls(),a=h2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var c=n.return;if(c===null)break;var x=c.alternate;if(x===null){if(l=c.return,l!==null){n=l;continue}break}if(c.child===x.child){for(x=c.child;x;){if(x===n)return h(c),e;if(x===l)return h(c),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=c,l=x;else{for(var p=!1,L=c.child;L;){if(L===n){p=!0,n=c,l=x;break}if(L===l){p=!0,l=c,n=x;break}L=L.sibling}if(!p){for(L=x.child;L;){if(L===n){p=!0,n=x,l=c;break}if(L===l){p=!0,l=x,n=c;break}L=L.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),G=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function _(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case Z:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case G:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var z=Array.isArray,C=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Y=[],H=-1;function D(e){return{current:e}}function R(e){0>H||(e.current=Y[H],Y[H]=null,H--)}function U(e,t){H++,Y[H]=e.current,e.current=t}var W=D(null),le=D(null),xe=D(null),fe=D(null);function oe(e,t){switch(U(xe,t),U(le,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wf(t),e=Vf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(W),U(W,e)}function he(){R(W),R(le),R(xe)}function ze(e){e.memoizedState!==null&&U(fe,e);var t=W.current,n=Vf(t,e.type);t!==n&&(U(le,e),U(W,n))}function de(e){le.current===e&&(R(W),R(le)),fe.current===e&&(R(fe),Wi._currentValue=q)}var Ne,$e;function et(e){if(Ne===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ne=t&&t[1]||"",$e=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+e+$e}var at=!1;function bt(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ue)}else{try{ue.call()}catch(ae){ne=ae}e.call(ue.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ue=e())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),p=x[0],L=x[1];if(p&&L){var J=p.split(`
`),te=L.split(`
`);for(c=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;c<te.length&&!te[c].includes("DetermineComponentFrameRoot");)c++;if(l===J.length||c===te.length)for(l=J.length-1,c=te.length-1;1<=l&&0<=c&&J[l]!==te[c];)c--;for(;1<=l&&0<=c;l--,c--)if(J[l]!==te[c]){if(l!==1||c!==1)do if(l--,c--,0>c||J[l]!==te[c]){var ie=`
`+J[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=c);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?et(n):""}function Mt(e,t){switch(e.tag){case 26:case 27:case 5:return et(e.type);case 16:return et("Lazy");case 13:return e.child!==t&&t!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return et("Activity");default:return""}}function Dt(e){try{var t="",n=null;do t+=Mt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ot=Object.prototype.hasOwnProperty,Yt=u.unstable_scheduleCallback,cn=u.unstable_cancelCallback,Xn=u.unstable_shouldYield,Jn=u.unstable_requestPaint,Je=u.unstable_now,yn=u.unstable_getCurrentPriorityLevel,Sl=u.unstable_ImmediatePriority,Ql=u.unstable_UserBlockingPriority,Rn=u.unstable_NormalPriority,_a=u.unstable_LowPriority,kn=u.unstable_IdlePriority,ci=u.log,Pl=u.unstable_setDisableYieldValue,tl=null,Bt=null;function We(e){if(typeof ci=="function"&&Pl(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(tl,e)}catch{}}var se=Math.clz32?Math.clz32:Ce,Ge=Math.log,Be=Math.LN2;function Ce(e){return e>>>=0,e===0?32:31-(Ge(e)/Be|0)|0}var ye=256,Ae=262144,Me=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var c=0,x=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~x,l!==0?c=ve(l):(p&=L,p!==0?c=ve(p):n||(n=L&~e,n!==0&&(c=ve(n))))):(L=l&~x,L!==0?c=ve(L):p!==0?c=ve(p):n||(n=l&~e,n!==0&&(c=ve(n)))),c===0?0:t!==0&&t!==c&&(t&x)===0&&(x=c&-c,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:c}function Ie(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ze(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ve(){var e=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),e}function Le(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n,l,c,x){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,J=e.expirationTimes,te=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-se(n),ue=1<<ie;L[ie]=0,J[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ue}l!==0&&Nt(e,l,0),x!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=x&~(p&~t))}function Nt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-se(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function tt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-se(n),c=1<<l;c&t|e[l]&t&&(e[l]|=t),n&=~c}}function pe(e,t){var n=t&-t;return n=(n&42)!==0?1:dt(n),(n&(e.suspendedLanes|t))!==0?0:n}function dt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sn(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:vd(e.type))}function Fl(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var _n=Math.random().toString(36).slice(2),At="__reactFiber$"+_n,Ut="__reactProps$"+_n,Cl="__reactContainer$"+_n,si="__reactEvents$"+_n,me="__reactListeners$"+_n,Se="__reactHandles$"+_n,Ye="__reactResources$"+_n,Lt="__reactMarker$"+_n;function vt(e){delete e[At],delete e[Ut],delete e[si],delete e[me],delete e[Se]}function Vt(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cl]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nd(e);e!==null;){if(n=e[At])return n;e=nd(e)}return t}e=n,n=e.parentNode}return null}function wl(e){if(e=e[At]||e[Cl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Sa(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Et(e){e[Lt]=!0}var Gs=new Set,Bs={};function $l(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Bs[e]=t,e=0;e<t.length;e++)Gs.add(t[e])}var $d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},Rs={};function e1(e){return ot.call(Rs,e)?!0:ot.call(qs,e)?!1:$d.test(e)?Rs[e]=!0:(qs[e]=!0,!1)}function sr(e,t,n){if(e1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ks(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){n=""+p,x.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xu(e){if(!e._valueTracker){var t=ks(e)?"checked":"value";e._valueTracker=t1(e,t,""+e[t])}}function Os(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=ks(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var n1=/[\n"\\]/g;function Cn(e){return e.replace(n1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ju(e,t,n,l,c,x,p,L){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Wu(e,p,Sn(t)):n!=null?Wu(e,p,Sn(n)):l!=null&&e.removeAttribute("value"),c==null&&x!=null&&(e.defaultChecked=!!x),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Sn(L):e.removeAttribute("name")}function Is(e,t,n,l,c,x,p,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){Xu(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Xu(e)}function Wu(e,t,n){t==="number"&&or(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,l){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Hs(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Ys(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(z(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Xu(e)}function ja(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var l1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Us(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||l1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&n[c]!==l&&Us(e,c,l)}else for(var x in t)t.hasOwnProperty(x)&&Us(e,x,t[x])}function Vu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(e){return i1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var Qu=null;function Pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Ma=null;function Ks(e){var t=wl(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ju(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var c=l[Ut]||null;if(!c)throw Error(i(90));Ju(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Os(l)}break e;case"textarea":Hs(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var Fu=!1;function Xs(e,t,n){if(Fu)return e(t,n);Fu=!0;try{var l=e(t);return l}finally{if(Fu=!1,(za!==null||Ma!==null)&&($r(),za&&(t=za,e=Ma,Ma=za=null,Ks(t),e)))for(t=0;t<e.length;t++)Ks(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(al)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){$u=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{$u=!1}var jl=null,ec=null,dr=null;function Js(){if(dr)return dr;var e,t=ec,n=t.length,l,c="value"in jl?jl.value:jl.textContent,x=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===c[x-l];l++);return dr=c.slice(e,1<l?1-l:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Ws(){return!1}function Qt(e){function t(n,l,c,x,p){this._reactName=n,this._targetInst=c,this.type=l,this.nativeEvent=x,this.target=p,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mr:Ws,this.isPropagationStopped=Ws,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Qt(ea),di=v({},ea,{view:0,detail:0}),r1=Qt(di),tc,nc,hi,gr=v({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(tc=e.screenX-hi.screenX,nc=e.screenY-hi.screenY):nc=tc=0,hi=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Vs=Qt(gr),u1=v({},gr,{dataTransfer:0}),c1=Qt(u1),s1=v({},di,{relatedTarget:0}),lc=Qt(s1),x1=v({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Qt(x1),f1=v({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d1=Qt(f1),h1=v({},ea,{data:0}),Qs=Qt(h1),m1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function ac(){return v1}var y1=v({},di,{key:function(e){if(e.key){var t=m1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p1=Qt(y1),_1=v({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=Qt(_1),S1=v({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),C1=Qt(S1),w1=v({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=Qt(w1),z1=v({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M1=Qt(z1),D1=v({},ea,{newState:0,oldState:0}),N1=Qt(D1),A1=[9,13,27,32],ic=al&&"CompositionEvent"in window,mi=null;al&&"documentMode"in document&&(mi=document.documentMode);var T1=al&&"TextEvent"in window&&!mi,Fs=al&&(!ic||mi&&8<mi&&11>=mi),$s=" ",ex=!1;function tx(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function L1(e,t){switch(e){case"compositionend":return nx(t);case"keypress":return t.which!==32?null:(ex=!0,$s);case"textInput":return e=t.data,e===$s&&ex?null:e;default:return null}}function E1(e,t){if(Da)return e==="compositionend"||!ic&&tx(e,t)?(e=Js(),dr=ec=jl=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fs&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function ax(e,t,n,l){za?Ma?Ma.push(l):Ma=[l]:za=l,t=ru(t,"onChange"),0<t.length&&(n=new br("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,gi=null;function B1(e){Yf(e,0)}function vr(e){var t=xi(e);if(Os(t))return e}function ix(e,t){if(e==="change")return t}var rx=!1;if(al){var rc;if(al){var uc="oninput"in document;if(!uc){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),uc=typeof ux.oninput=="function"}rc=uc}else rc=!1;rx=rc&&(!document.documentMode||9<document.documentMode)}function cx(){bi&&(bi.detachEvent("onpropertychange",sx),gi=bi=null)}function sx(e){if(e.propertyName==="value"&&vr(gi)){var t=[];ax(t,gi,e,Pu(e)),Xs(B1,t)}}function q1(e,t,n){e==="focusin"?(cx(),bi=t,gi=n,bi.attachEvent("onpropertychange",sx)):e==="focusout"&&cx()}function R1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(gi)}function k1(e,t){if(e==="click")return vr(t)}function O1(e,t){if(e==="input"||e==="change")return vr(t)}function I1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:I1;function vi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var c=n[l];if(!ot.call(t,c)||!xn(e[c],t[c]))return!1}return!0}function xx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ox(e,t){var n=xx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xx(n)}}function fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=or(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=or(e.document)}return t}function cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var H1=al&&"documentMode"in document&&11>=document.documentMode,Na=null,sc=null,yi=null,xc=!1;function hx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xc||Na==null||Na!==or(l)||(l=Na,"selectionStart"in l&&cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&vi(yi,l)||(yi=l,l=ru(sc,"onSelect"),0<l.length&&(t=new br("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},oc={},mx={};al&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function na(e){if(oc[e])return oc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mx)return oc[e]=t[n];return e}var bx=na("animationend"),gx=na("animationiteration"),vx=na("animationstart"),Y1=na("transitionrun"),U1=na("transitionstart"),Z1=na("transitioncancel"),yx=na("transitionend"),px=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function On(e,t){px.set(e,t),$l(t,[e])}var yr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ta=0,dc=0;function pr(){for(var e=Ta,t=dc=Ta=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var c=wn[t];wn[t++]=null;var x=wn[t];if(wn[t++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}x!==0&&_x(n,c,x)}}function _r(e,t,n,l){wn[Ta++]=e,wn[Ta++]=t,wn[Ta++]=n,wn[Ta++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hc(e,t,n,l){return _r(e,t,n,l),Sr(e)}function la(e,t){return _r(e,null,null,t),Sr(e)}function _x(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var c=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(c=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,c&&t!==null&&(c=31-se(n),e=x.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=n|536870912),x):null}function Sr(e){if(50<Hi)throw Hi=0,C0=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function K1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,l){return new K1(e,t,n,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Sx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Cr(e,t,n,l,c,x){var p=0;if(l=e,typeof e=="function")mc(e)&&(p=1);else if(typeof e=="string")p=Qh(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=on(31,n,t,c),e.elementType=Q,e.lanes=x,e;case j:return aa(n.children,c,x,t);case S:p=8,c|=24;break;case Z:return e=on(12,n,t,c|2),e.elementType=Z,e.lanes=x,e;case k:return e=on(13,n,t,c),e.elementType=k,e.lanes=x,e;case I:return e=on(19,n,t,c),e.elementType=I,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:p=10;break e;case P:p=9;break e;case E:p=11;break e;case B:p=14;break e;case O:p=16,l=null;break e}p=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=on(p,n,t,c),t.elementType=e,t.type=l,t.lanes=x,t}function aa(e,t,n,l){return e=on(7,e,l,t),e.lanes=n,e}function bc(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Cx(e){var t=on(18,null,null,0);return t.stateNode=e,t}function gc(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wx=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=wx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Dt(t)},wx.set(e,t),t)}return{value:e,source:t,stack:Dt(t)}}var Ea=[],Ga=0,wr=null,pi=0,zn=[],Mn=0,zl=null,Wn=1,Vn="";function rl(e,t){Ea[Ga++]=pi,Ea[Ga++]=wr,wr=e,pi=t}function jx(e,t,n){zn[Mn++]=Wn,zn[Mn++]=Vn,zn[Mn++]=zl,zl=e;var l=Wn;e=Vn;var c=32-se(l)-1;l&=~(1<<c),n+=1;var x=32-se(t)+c;if(30<x){var p=c-c%5;x=(l&(1<<p)-1).toString(32),l>>=p,c-=p,Wn=1<<32-se(t)+c|n<<c|l,Vn=x+e}else Wn=1<<x|n<<c|l,Vn=e}function vc(e){e.return!==null&&(rl(e,1),jx(e,1,0))}function yc(e){for(;e===wr;)wr=Ea[--Ga],Ea[Ga]=null,pi=Ea[--Ga],Ea[Ga]=null;for(;e===zl;)zl=zn[--Mn],zn[Mn]=null,Vn=zn[--Mn],zn[Mn]=null,Wn=zn[--Mn],zn[Mn]=null}function zx(e,t){zn[Mn++]=Wn,zn[Mn++]=Vn,zn[Mn++]=zl,Wn=t.id,Vn=t.overflow,zl=e}var qt=null,st=null,He=!1,Ml=null,Dn=!1,pc=Error(i(519));function Dl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(jn(t,e)),pc}function Mx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[At]=e,t[Ut]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Is(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Ys(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Xf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||Dl(e,!0)}function Dx(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function Ba(e){if(e!==qt)return!1;if(!He)return Dx(e),He=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||k0(e.type,e.memoizedProps)),n=!n),n&&st&&Dl(e),Dx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));st=td(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));st=td(e)}else t===27?(t=st,Yl(e.type)?(e=U0,U0=null,st=e):st=t):st=qt?An(e.stateNode.nextSibling):null;return!0}function ia(){st=qt=null,He=!1}function _c(){var e=Ml;return e!==null&&(en===null?en=e:en.push.apply(en,e),Ml=null),e}function _i(e){Ml===null?Ml=[e]:Ml.push(e)}var Sc=D(null),ra=null,ul=null;function Nl(e,t,n){U(Sc,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=Sc.current,R(Sc)}function Cc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function wc(e,t,n,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var x=c.dependencies;if(x!==null){var p=c.child;x=x.firstContext;e:for(;x!==null;){var L=x;x=c;for(var J=0;J<t.length;J++)if(L.context===t[J]){x.lanes|=n,L=x.alternate,L!==null&&(L.lanes|=n),Cc(x.return,n,e),l||(p=null);break e}x=L.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(i(341));p.lanes|=n,x=p.alternate,x!==null&&(x.lanes|=n),Cc(p,n,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function qa(e,t,n,l){e=null;for(var c=t,x=!1;c!==null;){if(!x){if((c.flags&524288)!==0)x=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var L=c.type;xn(c.pendingProps.value,p.value)||(e!==null?e.push(L):e=[L])}}else if(c===fe.current){if(p=c.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Wi):e=[Wi])}c=c.return}e!==null&&wc(t,e,n,l),t.flags|=262144}function jr(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){ra=e,ul=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Nx(ra,e)}function zr(e,t){return ra===null&&ua(e),Nx(e,t)}function Nx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ul===null){if(e===null)throw Error(i(308));ul=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ul=ul.next=t;return n}var X1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},J1=u.unstable_scheduleCallback,W1=u.unstable_NormalPriority,_t={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new X1,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&J1(W1,function(){e.controller.abort()})}var Ci=null,zc=0,Ra=0,ka=null;function V1(e,t){if(Ci===null){var n=Ci=[];zc=0,Ra=N0(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return zc++,t.then(Ax,Ax),t}function Ax(){if(--zc===0&&Ci!==null){ka!==null&&(ka.status="fulfilled");var e=Ci;Ci=null,Ra=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Q1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),l}var Tx=C.S;C.S=function(e,t){bf=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&V1(e,t),Tx!==null&&Tx(e,t)};var ca=D(null);function Mc(){var e=ca.current;return e!==null?e:ct.pooledCache}function Mr(e,t){t===null?U(ca,ca.current):U(ca,t.pool)}function Lx(){var e=Mc();return e===null?null:{parent:_t._currentValue,pool:e}}var Oa=Error(i(460)),Dc=Error(i(474)),Dr=Error(i(542)),Nr={then:function(){}};function Ex(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ll,ll),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qx(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=ct,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qx(e),e}throw xa=t,Oa}}function sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xa=n,Oa):n}}var xa=null;function Bx(){if(xa===null)throw Error(i(459));var e=xa;return xa=null,e}function qx(e){if(e===Oa||e===Dr)throw Error(i(483))}var Ia=null,wi=0;function Ar(e){var t=wi;return wi+=1,Ia===null&&(Ia=[]),Gx(Ia,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===N?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rx(e){function t(F,V){if(e){var ee=F.deletions;ee===null?(F.deletions=[V],F.flags|=16):ee.push(V)}}function n(F,V){if(!e)return null;for(;V!==null;)t(F,V),V=V.sibling;return null}function l(F){for(var V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function c(F,V){return F=il(F,V),F.index=0,F.sibling=null,F}function x(F,V,ee){return F.index=ee,e?(ee=F.alternate,ee!==null?(ee=ee.index,ee<V?(F.flags|=67108866,V):ee):(F.flags|=67108866,V)):(F.flags|=1048576,V)}function p(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function L(F,V,ee,re){return V===null||V.tag!==6?(V=bc(ee,F.mode,re),V.return=F,V):(V=c(V,ee),V.return=F,V)}function J(F,V,ee,re){var _e=ee.type;return _e===j?ie(F,V,ee.props.children,re,ee.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&sa(_e)===V.type)?(V=c(V,ee.props),ji(V,ee),V.return=F,V):(V=Cr(ee.type,ee.key,ee.props,null,F.mode,re),ji(V,ee),V.return=F,V)}function te(F,V,ee,re){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=gc(ee,F.mode,re),V.return=F,V):(V=c(V,ee.children||[]),V.return=F,V)}function ie(F,V,ee,re,_e){return V===null||V.tag!==7?(V=aa(ee,F.mode,re,_e),V.return=F,V):(V=c(V,ee),V.return=F,V)}function ue(F,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=bc(""+V,F.mode,ee),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return ee=Cr(V.type,V.key,V.props,null,F.mode,ee),ji(ee,V),ee.return=F,ee;case M:return V=gc(V,F.mode,ee),V.return=F,V;case O:return V=sa(V),ue(F,V,ee)}if(z(V)||_(V))return V=aa(V,F.mode,ee,null),V.return=F,V;if(typeof V.then=="function")return ue(F,Ar(V),ee);if(V.$$typeof===G)return ue(F,zr(F,V),ee);Tr(F,V)}return null}function ne(F,V,ee,re){var _e=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return _e!==null?null:L(F,V,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===_e?J(F,V,ee,re):null;case M:return ee.key===_e?te(F,V,ee,re):null;case O:return ee=sa(ee),ne(F,V,ee,re)}if(z(ee)||_(ee))return _e!==null?null:ie(F,V,ee,re,null);if(typeof ee.then=="function")return ne(F,V,Ar(ee),re);if(ee.$$typeof===G)return ne(F,V,zr(F,ee),re);Tr(F,ee)}return null}function ae(F,V,ee,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(ee)||null,L(V,F,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return F=F.get(re.key===null?ee:re.key)||null,J(V,F,re,_e);case M:return F=F.get(re.key===null?ee:re.key)||null,te(V,F,re,_e);case O:return re=sa(re),ae(F,V,ee,re,_e)}if(z(re)||_(re))return F=F.get(ee)||null,ie(V,F,re,_e,null);if(typeof re.then=="function")return ae(F,V,ee,Ar(re),_e);if(re.$$typeof===G)return ae(F,V,ee,zr(V,re),_e);Tr(V,re)}return null}function be(F,V,ee,re){for(var _e=null,Ke=null,ge=V,Ee=V=0,Oe=null;ge!==null&&Ee<ee.length;Ee++){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var Xe=ne(F,ge,ee[Ee],re);if(Xe===null){ge===null&&(ge=Oe);break}e&&ge&&Xe.alternate===null&&t(F,ge),V=x(Xe,V,Ee),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe,ge=Oe}if(Ee===ee.length)return n(F,ge),He&&rl(F,Ee),_e;if(ge===null){for(;Ee<ee.length;Ee++)ge=ue(F,ee[Ee],re),ge!==null&&(V=x(ge,V,Ee),Ke===null?_e=ge:Ke.sibling=ge,Ke=ge);return He&&rl(F,Ee),_e}for(ge=l(ge);Ee<ee.length;Ee++)Oe=ae(ge,F,Ee,ee[Ee],re),Oe!==null&&(e&&Oe.alternate!==null&&ge.delete(Oe.key===null?Ee:Oe.key),V=x(Oe,V,Ee),Ke===null?_e=Oe:Ke.sibling=Oe,Ke=Oe);return e&&ge.forEach(function(Jl){return t(F,Jl)}),He&&rl(F,Ee),_e}function we(F,V,ee,re){if(ee==null)throw Error(i(151));for(var _e=null,Ke=null,ge=V,Ee=V=0,Oe=null,Xe=ee.next();ge!==null&&!Xe.done;Ee++,Xe=ee.next()){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var Jl=ne(F,ge,Xe.value,re);if(Jl===null){ge===null&&(ge=Oe);break}e&&ge&&Jl.alternate===null&&t(F,ge),V=x(Jl,V,Ee),Ke===null?_e=Jl:Ke.sibling=Jl,Ke=Jl,ge=Oe}if(Xe.done)return n(F,ge),He&&rl(F,Ee),_e;if(ge===null){for(;!Xe.done;Ee++,Xe=ee.next())Xe=ue(F,Xe.value,re),Xe!==null&&(V=x(Xe,V,Ee),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return He&&rl(F,Ee),_e}for(ge=l(ge);!Xe.done;Ee++,Xe=ee.next())Xe=ae(ge,F,Ee,Xe.value,re),Xe!==null&&(e&&Xe.alternate!==null&&ge.delete(Xe.key===null?Ee:Xe.key),V=x(Xe,V,Ee),Ke===null?_e=Xe:Ke.sibling=Xe,Ke=Xe);return e&&ge.forEach(function(u2){return t(F,u2)}),He&&rl(F,Ee),_e}function ut(F,V,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var _e=ee.key;V!==null;){if(V.key===_e){if(_e=ee.type,_e===j){if(V.tag===7){n(F,V.sibling),re=c(V,ee.props.children),re.return=F,F=re;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===O&&sa(_e)===V.type){n(F,V.sibling),re=c(V,ee.props),ji(re,ee),re.return=F,F=re;break e}n(F,V);break}else t(F,V);V=V.sibling}ee.type===j?(re=aa(ee.props.children,F.mode,re,ee.key),re.return=F,F=re):(re=Cr(ee.type,ee.key,ee.props,null,F.mode,re),ji(re,ee),re.return=F,F=re)}return p(F);case M:e:{for(_e=ee.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){n(F,V.sibling),re=c(V,ee.children||[]),re.return=F,F=re;break e}else{n(F,V);break}else t(F,V);V=V.sibling}re=gc(ee,F.mode,re),re.return=F,F=re}return p(F);case O:return ee=sa(ee),ut(F,V,ee,re)}if(z(ee))return be(F,V,ee,re);if(_(ee)){if(_e=_(ee),typeof _e!="function")throw Error(i(150));return ee=_e.call(ee),we(F,V,ee,re)}if(typeof ee.then=="function")return ut(F,V,Ar(ee),re);if(ee.$$typeof===G)return ut(F,V,zr(F,ee),re);Tr(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(n(F,V.sibling),re=c(V,ee),re.return=F,F=re):(n(F,V),re=bc(ee,F.mode,re),re.return=F,F=re),p(F)):n(F,V)}return function(F,V,ee,re){try{wi=0;var _e=ut(F,V,ee,re);return Ia=null,_e}catch(ge){if(ge===Oa||ge===Dr)throw ge;var Ke=on(29,ge,null,F.mode);return Ke.lanes=re,Ke.return=F,Ke}}}var oa=Rx(!0),kx=Rx(!1),Al=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Sr(e),_x(e,null,n),t}return _r(e,l,t,n),Sr(e)}function zi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,tt(e,n)}}function Tc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var c=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?c=x=p:x=x.next=p,n=n.next}while(n!==null);x===null?c=x=t:x=x.next=t}else c=x=t;n={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lc=!1;function Mi(){if(Lc){var e=ka;if(e!==null)throw e}}function Di(e,t,n,l){Lc=!1;var c=e.updateQueue;Al=!1;var x=c.firstBaseUpdate,p=c.lastBaseUpdate,L=c.shared.pending;if(L!==null){c.shared.pending=null;var J=L,te=J.next;J.next=null,p===null?x=te:p.next=te,p=J;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==p&&(L===null?ie.firstBaseUpdate=te:L.next=te,ie.lastBaseUpdate=J))}if(x!==null){var ue=c.baseState;p=0,ie=te=J=null,L=x;do{var ne=L.lane&-536870913,ae=ne!==L.lane;if(ae?(ke&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ra&&(Lc=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var be=e,we=L;ne=t;var ut=n;switch(we.tag){case 1:if(be=we.payload,typeof be=="function"){ue=be.call(ut,ue,ne);break e}ue=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=we.payload,ne=typeof be=="function"?be.call(ut,ue,ne):be,ne==null)break e;ue=v({},ue,ne);break e;case 2:Al=!0}}ne=L.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=c.callbacks,ae===null?c.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(te=ie=ae,J=ue):ie=ie.next=ae,p|=ne;if(L=L.next,L===null){if(L=c.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,c.lastBaseUpdate=ae,c.shared.pending=null}}while(!0);ie===null&&(J=ue),c.baseState=J,c.firstBaseUpdate=te,c.lastBaseUpdate=ie,x===null&&(c.shared.lanes=0),Rl|=p,e.lanes=p,e.memoizedState=ue}}function Ox(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ix(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ox(n[e],t)}var Ha=D(null),Lr=D(0);function Hx(e,t){e=gl,U(Lr,e),U(Ha,t),gl=e|t.baseLanes}function Ec(){U(Lr,gl),U(Ha,Ha.current)}function Gc(){gl=Lr.current,R(Ha),R(Lr)}var fn=D(null),Nn=null;function El(e){var t=e.alternate;U(yt,yt.current&1),U(fn,e),Nn===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(Nn=e)}function Bc(e){U(yt,yt.current),U(fn,e),Nn===null&&(Nn=e)}function Yx(e){e.tag===22?(U(yt,yt.current),U(fn,e),Nn===null&&(Nn=e)):Gl()}function Gl(){U(yt,yt.current),U(fn,fn.current)}function dn(e){R(fn),Nn===e&&(Nn=null),R(yt)}var yt=D(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||H0(n)||Y0(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sl=0,Te=null,it=null,St=null,Gr=!1,Ya=!1,fa=!1,Br=0,Ni=0,Ua=null,P1=0;function ht(){throw Error(i(321))}function qc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Rc(e,t,n,l,c,x){return sl=x,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?zo:Fc,fa=!1,x=n(l,c),fa=!1,Ya&&(x=Zx(t,n,l,c)),Ux(e),x}function Ux(e){C.H=Li;var t=it!==null&&it.next!==null;if(sl=0,St=it=Te=null,Gr=!1,Ni=0,Ua=null,t)throw Error(i(300));e===null||Ct||(e=e.dependencies,e!==null&&jr(e)&&(Ct=!0))}function Zx(e,t,n,l){Te=e;var c=0;do{if(Ya&&(Ua=null),Ni=0,Ya=!1,25<=c)throw Error(i(301));if(c+=1,St=it=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}C.H=Mo,x=t(n,l)}while(Ya);return x}function F1(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Te.flags|=1024),t}function kc(){var e=Br!==0;return Br=0,e}function Oc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ic(e){if(Gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gr=!1}sl=0,St=it=Te=null,Ya=!1,Ni=Br=0,Ua=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Te.memoizedState=St=e:St=St.next=e,St}function pt(){if(it===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=St===null?Te.memoizedState:St.next;if(t!==null)St=t,it=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},St===null?Te.memoizedState=St=e:St=St.next=e}return St}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ni;return Ni+=1,Ua===null&&(Ua=[]),e=Gx(Ua,e,t),t=Te,(St===null?t.memoizedState:St.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?zo:Fc),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===G)return Rt(e)}throw Error(i(438,String(e)))}function Hc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=X;return t.index++,n}function xl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=pt();return Yc(t,it,e)}function Yc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=e.baseQueue,x=l.pending;if(x!==null){if(c!==null){var p=c.next;c.next=x.next,x.next=p}t.baseQueue=c=x,l.pending=null}if(x=e.baseState,c===null)e.memoizedState=x;else{t=c.next;var L=p=null,J=null,te=t,ie=!1;do{var ue=te.lane&-536870913;if(ue!==te.lane?(ke&ue)===ue:(sl&ue)===ue){var ne=te.revertLane;if(ne===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ue===Ra&&(ie=!0);else if((sl&ne)===ne){te=te.next,ne===Ra&&(ie=!0);continue}else ue={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=ue,p=x):J=J.next=ue,Te.lanes|=ne,Rl|=ne;ue=te.action,fa&&n(x,ue),x=te.hasEagerState?te.eagerState:n(x,ue)}else ne={lane:ue,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=ne,p=x):J=J.next=ne,Te.lanes|=ue,Rl|=ue;te=te.next}while(te!==null&&te!==t);if(J===null?p=x:J.next=L,!xn(x,e.memoizedState)&&(Ct=!0,ie&&(n=ka,n!==null)))throw n;e.memoizedState=x,e.baseState=p,e.baseQueue=J,l.lastRenderedState=x}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uc(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,c=n.pending,x=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do x=e(x,p.action),p=p.next;while(p!==c);xn(x,t.memoizedState)||(Ct=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Kx(e,t,n){var l=Te,c=pt(),x=He;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var p=!xn((it||c).memoizedState,n);if(p&&(c.memoizedState=n,Ct=!0),c=c.queue,Xc(Wx.bind(null,l,c,e),[e]),c.getSnapshot!==t||p||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Jx.bind(null,l,c,n,t),null),ct===null)throw Error(i(349));x||(sl&127)!==0||Xx(l,t,n)}return n}function Xx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=qr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jx(e,t,n,l){t.value=n,t.getSnapshot=l,Vx(t)&&Qx(e)}function Wx(e,t,n){return n(function(){Vx(t)&&Qx(e)})}function Vx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Qx(e){var t=la(e,2);t!==null&&tn(t,e,2)}function Zc(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),fa){We(!0);try{n()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t}function Px(e,t,n,l){return e.baseState=n,Yc(e,it,typeof l=="function"?l:xl)}function $1(e,t,n,l,c){if(Hr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){x.listeners.push(p)}};C.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,Fx(t,x)):(x.next=n.next,t.pending=n.next=x)}}function Fx(e,t){var n=t.action,l=t.payload,c=e.state;if(t.isTransition){var x=C.T,p={};C.T=p;try{var L=n(c,l),J=C.S;J!==null&&J(p,L),$x(e,t,L)}catch(te){Kc(e,t,te)}finally{x!==null&&p.types!==null&&(x.types=p.types),C.T=x}}else try{x=n(c,l),$x(e,t,x)}catch(te){Kc(e,t,te)}}function $x(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){eo(e,t,l)},function(l){return Kc(e,t,l)}):eo(e,t,n)}function eo(e,t,n){t.status="fulfilled",t.value=n,to(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Fx(e,n)))}function Kc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,to(t),t=t.next;while(t!==l)}e.action=null}function to(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function no(e,t){return t}function lo(e,t){if(He){var n=ct.formState;if(n!==null){e:{var l=Te;if(He){if(st){t:{for(var c=st,x=Dn;c.nodeType!==8;){if(!x){c=null;break t}if(c=An(c.nextSibling),c===null){c=null;break t}}x=c.data,c=x==="F!"||x==="F"?c:null}if(c){st=An(c.nextSibling),l=c.data==="F!";break e}}Dl(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},n.queue=l,n=Co.bind(null,Te,l),l.dispatch=n,l=Zc(!1),x=Pc.bind(null,Te,!1,l.queue),l=Jt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,n=$1.bind(null,Te,c,x,n),c.dispatch=n,l.memoizedState=e,[t,n,!1]}function ao(e){var t=pt();return io(t,it,e)}function io(e,t,n){if(t=Yc(e,t,no)[0],e=kr(xl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(p){throw p===Oa?Dr:p}else l=t;t=pt();var c=t.queue,x=c.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Za(9,{destroy:void 0},eh.bind(null,c,n),null)),[l,x,e]}function eh(e,t){e.action=t}function ro(e){var t=pt(),n=it;if(n!==null)return io(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=qr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return pt().memoizedState}function Or(e,t,n,l){var c=Jt();Te.flags|=e,c.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ir(e,t,n,l){var c=pt();l=l===void 0?null:l;var x=c.memoizedState.inst;it!==null&&l!==null&&qc(l,it.memoizedState.deps)?c.memoizedState=Za(t,x,n,l):(Te.flags|=e,c.memoizedState=Za(1|t,x,n,l))}function co(e,t){Or(8390656,8,e,t)}function Xc(e,t){Ir(2048,8,e,t)}function th(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=qr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function so(e){var t=pt().memoizedState;return th({ref:t,nextImpl:e}),function(){if((Qe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function xo(e,t){return Ir(4,2,e,t)}function oo(e,t){return Ir(4,4,e,t)}function fo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ho(e,t,n){n=n!=null?n.concat([e]):null,Ir(4,4,fo.bind(null,t,e),n)}function Jc(){}function mo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&qc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function bo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&qc(t,l[1]))return l[0];if(l=e(),fa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l}function Wc(e,t,n){return n===void 0||(sl&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=vf(),Te.lanes|=e,Rl|=e,n)}function go(e,t,n,l){return xn(n,t)?n:Ha.current!==null?(e=Wc(e,n,l),xn(e,t)||(Ct=!0),e):(sl&42)===0||(sl&1073741824)!==0&&(ke&261930)===0?(Ct=!0,e.memoizedState=n):(e=vf(),Te.lanes|=e,Rl|=e,t)}function vo(e,t,n,l,c){var x=T.p;T.p=x!==0&&8>x?x:8;var p=C.T,L={};C.T=L,Pc(e,!1,t,n);try{var J=c(),te=C.S;if(te!==null&&te(L,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ie=Q1(J,l);Ti(e,t,ie,bn(e))}else Ti(e,t,l,bn(e))}catch(ue){Ti(e,t,{then:function(){},status:"rejected",reason:ue},bn())}finally{T.p=x,p!==null&&L.types!==null&&(p.types=L.types),C.T=p}}function nh(){}function Vc(e,t,n,l){if(e.tag!==5)throw Error(i(476));var c=yo(e).queue;vo(e,c,t,q,n===null?nh:function(){return po(e),n(l)})}function yo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function po(e){var t=yo(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},bn())}function Qc(){return Rt(Wi)}function _o(){return pt().memoizedState}function So(){return pt().memoizedState}function lh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=Tl(n);var l=Ll(t,e,n);l!==null&&(tn(l,t,n),zi(l,t,n)),t={cache:jc()},e.payload=t;return}t=t.return}}function ah(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?wo(t,n):(n=hc(e,t,n,l),n!==null&&(tn(n,e,l),jo(n,t,l)))}function Co(e,t,n){var l=bn();Ti(e,t,n,l)}function Ti(e,t,n,l){var c={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))wo(t,c);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var p=t.lastRenderedState,L=x(p,n);if(c.hasEagerState=!0,c.eagerState=L,xn(L,p))return _r(e,t,c,0),ct===null&&pr(),!1}catch{}if(n=hc(e,t,c,l),n!==null)return tn(n,e,l),jo(n,t,l),!0}return!1}function Pc(e,t,n,l){if(l={lane:2,revertLane:N0(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(i(479))}else t=hc(e,n,l,2),t!==null&&tn(t,e,2)}function Hr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function wo(e,t){Ya=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,tt(e,n)}}var Li={readContext:Rt,use:Rr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Li.useEffectEvent=ht;var zo={readContext:Rt,use:Rr,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:co,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(fa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var c=n(t);if(fa){We(!0);try{n(t)}finally{We(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=ah.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zc(e);var t=e.queue,n=Co.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jc,useDeferredValue:function(e,t){var n=Jt();return Wc(n,e,t)},useTransition:function(){var e=Zc(!1);return e=vo.bind(null,Te,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,c=Jt();if(He){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ct===null)throw Error(i(349));(ke&127)!==0||Xx(l,t,n)}c.memoizedState=n;var x={value:n,getSnapshot:t};return c.queue=x,co(Wx.bind(null,l,x,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Jx.bind(null,l,x,n,t),null),n},useId:function(){var e=Jt(),t=ct.identifierPrefix;if(He){var n=Vn,l=Wn;n=(l&~(1<<32-se(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=P1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hc,useCacheRefresh:function(){return Jt().memoizedState=lh.bind(null,Te)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((Qe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Fc={readContext:Rt,use:Rr,useCallback:mo,useContext:Rt,useEffect:Xc,useImperativeHandle:ho,useInsertionEffect:xo,useLayoutEffect:oo,useMemo:bo,useReducer:kr,useRef:uo,useState:function(){return kr(xl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=pt();return go(n,it.memoizedState,e,t)},useTransition:function(){var e=kr(xl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Kx,useId:_o,useHostTransitionStatus:Qc,useFormState:ao,useActionState:ao,useOptimistic:function(e,t){var n=pt();return Px(n,it,e,t)},useMemoCache:Hc,useCacheRefresh:So};Fc.useEffectEvent=so;var Mo={readContext:Rt,use:Rr,useCallback:mo,useContext:Rt,useEffect:Xc,useImperativeHandle:ho,useInsertionEffect:xo,useLayoutEffect:oo,useMemo:bo,useReducer:Uc,useRef:uo,useState:function(){return Uc(xl)},useDebugValue:Jc,useDeferredValue:function(e,t){var n=pt();return it===null?Wc(n,e,t):go(n,it.memoizedState,e,t)},useTransition:function(){var e=Uc(xl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Kx,useId:_o,useHostTransitionStatus:Qc,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=pt();return it!==null?Px(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:So};Mo.useEffectEvent=so;function $c(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var e0={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),c=Tl(l);c.payload=t,n!=null&&(c.callback=n),t=Ll(e,c,l),t!==null&&(tn(t,e,l),zi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),c=Tl(l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Ll(e,c,l),t!==null&&(tn(t,e,l),zi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=Tl(n);l.tag=2,t!=null&&(l.callback=t),t=Ll(e,l,n),t!==null&&(tn(t,e,n),zi(t,e,n))}};function Do(e,t,n,l,c,x,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,p):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(c,x):!0}function No(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&e0.enqueueReplaceState(t,t.state,null)}function da(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function Ao(e){yr(e)}function To(e){console.error(e)}function Lo(e){yr(e)}function Yr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Eo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function t0(e,t,n){return n=Tl(n),n.tag=3,n.payload={element:null},n.callback=function(){Yr(e,t)},n}function Go(e){return e=Tl(e),e.tag=3,e}function Bo(e,t,n,l){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var x=l.value;e.payload=function(){return c(x)},e.callback=function(){Eo(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Eo(t,n,l),typeof c!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function ih(e,t,n,l,c){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&qa(t,n,c,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?eu():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=c,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),z0(e,l,c)),!1;case 22:return n.flags|=65536,l===Nr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),z0(e,l,c)),!1}throw Error(i(435,n.tag))}return z0(e,l,c),eu(),!1}if(He)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==pc&&(e=Error(i(422),{cause:l}),_i(jn(e,n)))):(l!==pc&&(t=Error(i(423),{cause:l}),_i(jn(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=jn(l,n),c=t0(e.stateNode,l,c),Tc(e,c),mt!==4&&(mt=2)),!1;var x=Error(i(520),{cause:l});if(x=jn(x,n),Ii===null?Ii=[x]:Ii.push(x),mt!==4&&(mt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=t0(n.stateNode,l,e),Tc(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kl===null||!kl.has(x))))return n.flags|=65536,c&=-c,n.lanes|=c,c=Go(c),Bo(c,e,n,l),Tc(n,c),!1}n=n.return}while(n!==null);return!1}var n0=Error(i(461)),Ct=!1;function kt(e,t,n,l){t.child=e===null?kx(t,null,n,l):oa(t,e.child,n,l)}function qo(e,t,n,l,c){n=n.render;var x=t.ref;if("ref"in l){var p={};for(var L in l)L!=="ref"&&(p[L]=l[L])}else p=l;return ua(t),l=Rc(e,t,n,p,x,c),L=kc(),e!==null&&!Ct?(Oc(e,t,c),ol(e,t,c)):(He&&L&&vc(t),t.flags|=1,kt(e,t,l,c),t.child)}function Ro(e,t,n,l,c){if(e===null){var x=n.type;return typeof x=="function"&&!mc(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,ko(e,t,x,l,c)):(e=Cr(n.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!x0(e,c)){var p=x.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(p,l)&&e.ref===t.ref)return ol(e,t,c)}return t.flags|=1,e=il(x,l),e.ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,l,c){if(e!==null){var x=e.memoizedProps;if(vi(x,l)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=l=x,x0(e,c))(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,ol(e,t,c)}return l0(e,t,n,l,c)}function Oo(e,t,n,l){var c=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~x}else l=0,t.child=null;return Io(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,x!==null?x.cachePool:null),x!==null?Hx(t,x):Ec(),Yx(t);else return l=t.lanes=536870912,Io(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Mr(t,x.cachePool),Hx(t,x),Gl(),t.memoizedState=null):(e!==null&&Mr(t,null),Ec(),Gl());return kt(e,t,c,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Io(e,t,n,l,c){var x=Mc();return x=x===null?null:{parent:_t._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Mr(t,null),Ec(),Yx(t),e!==null&&qa(e,t,l,!0),t.childLanes=c,null}function Ur(e,t){return t=Kr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,n){return oa(t,e.child,null,n),e=Ur(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function rh(e,t,n){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(He){if(l.mode==="hidden")return e=Ur(t,l),t.lanes=536870912,Ei(null,e);if(Bc(t),(e=st)?(e=ed(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Wn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Cx(e),n.return=t,t.child=n,qt=t,st=null)):e=null,e===null)throw Dl(t);return t.lanes=536870912,null}return Ur(t,l)}var x=e.memoizedState;if(x!==null){var p=x.dehydrated;if(Bc(t),c)if(t.flags&256)t.flags&=-257,t=Ho(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Ct||qa(e,t,n,!1),c=(n&e.childLanes)!==0,Ct||c){if(l=ct,l!==null&&(p=pe(l,n),p!==0&&p!==x.retryLane))throw x.retryLane=p,la(e,p),tn(l,e,p),n0;eu(),t=Ho(e,t,n)}else e=x.treeContext,st=An(p.nextSibling),qt=t,He=!0,Ml=null,Dn=!1,e!==null&&zx(t,e),t=Ur(t,l),t.flags|=4096;return t}return e=il(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function l0(e,t,n,l,c){return ua(t),n=Rc(e,t,n,l,void 0,c),l=kc(),e!==null&&!Ct?(Oc(e,t,c),ol(e,t,c)):(He&&l&&vc(t),t.flags|=1,kt(e,t,n,c),t.child)}function Yo(e,t,n,l,c,x){return ua(t),t.updateQueue=null,n=Zx(t,l,n,c),Ux(e),l=kc(),e!==null&&!Ct?(Oc(e,t,x),ol(e,t,x)):(He&&l&&vc(t),t.flags|=1,kt(e,t,n,x),t.child)}function Uo(e,t,n,l,c){if(ua(t),t.stateNode===null){var x=La,p=n.contextType;typeof p=="object"&&p!==null&&(x=Rt(p)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=e0,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},Nc(t),p=n.contextType,x.context=typeof p=="object"&&p!==null?Rt(p):La,x.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&($c(t,n,p,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(p=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),p!==x.state&&e0.enqueueReplaceState(x,x.state,null),Di(t,l,x,c),Mi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var L=t.memoizedProps,J=da(n,L);x.props=J;var te=x.context,ie=n.contextType;p=La,typeof ie=="object"&&ie!==null&&(p=Rt(ie));var ue=n.getDerivedStateFromProps;ie=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||te!==p)&&No(t,x,l,p),Al=!1;var ne=t.memoizedState;x.state=ne,Di(t,l,x,c),Mi(),te=t.memoizedState,L||ne!==te||Al?(typeof ue=="function"&&($c(t,n,ue,l),te=t.memoizedState),(J=Al||Do(t,n,J,l,ne,te,p))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),x.props=l,x.state=te,x.context=p,l=J):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,Ac(e,t),p=t.memoizedProps,ie=da(n,p),x.props=ie,ue=t.pendingProps,ne=x.context,te=n.contextType,J=La,typeof te=="object"&&te!==null&&(J=Rt(te)),L=n.getDerivedStateFromProps,(te=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(p!==ue||ne!==J)&&No(t,x,l,J),Al=!1,ne=t.memoizedState,x.state=ne,Di(t,l,x,c),Mi();var ae=t.memoizedState;p!==ue||ne!==ae||Al||e!==null&&e.dependencies!==null&&jr(e.dependencies)?(typeof L=="function"&&($c(t,n,L,l),ae=t.memoizedState),(ie=Al||Do(t,n,ie,l,ne,ae,J)||e!==null&&e.dependencies!==null&&jr(e.dependencies))?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,J),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,J)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=J,l=ie):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Zr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=oa(t,e.child,null,c),t.child=oa(t,null,n,c)):kt(e,t,n,c),t.memoizedState=x.state,e=t.child):e=ol(e,t,c),e}function Zo(e,t,n,l){return ia(),t.flags|=256,kt(e,t,n,l),t.child}var a0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(e){return{baseLanes:e,cachePool:Lx()}}function r0(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Ko(e,t,n){var l=t.pendingProps,c=!1,x=(t.flags&128)!==0,p;if((p=x)||(p=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),p&&(c=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(He){if(c?El(t):Gl(),(e=st)?(e=ed(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Wn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=Cx(e),n.return=t,t.child=n,qt=t,st=null)):e=null,e===null)throw Dl(t);return Y0(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,c?(Gl(),c=t.mode,L=Kr({mode:"hidden",children:L},c),l=aa(l,c,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=i0(n),l.childLanes=r0(e,p,n),t.memoizedState=a0,Ei(null,l)):(El(t),u0(t,L))}var J=e.memoizedState;if(J!==null&&(L=J.dehydrated,L!==null)){if(x)t.flags&256?(El(t),t.flags&=-257,t=c0(e,t,n)):t.memoizedState!==null?(Gl(),t.child=e.child,t.flags|=128,t=null):(Gl(),L=l.fallback,c=t.mode,l=Kr({mode:"visible",children:l.children},c),L=aa(L,c,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,oa(t,e.child,null,n),l=t.child,l.memoizedState=i0(n),l.childLanes=r0(e,p,n),t.memoizedState=a0,t=Ei(null,l));else if(El(t),Y0(L)){if(p=L.nextSibling&&L.nextSibling.dataset,p)var te=p.dgst;p=te,l=Error(i(419)),l.stack="",l.digest=p,_i({value:l,source:null,stack:null}),t=c0(e,t,n)}else if(Ct||qa(e,t,n,!1),p=(n&e.childLanes)!==0,Ct||p){if(p=ct,p!==null&&(l=pe(p,n),l!==0&&l!==J.retryLane))throw J.retryLane=l,la(e,l),tn(p,e,l),n0;H0(L)||eu(),t=c0(e,t,n)}else H0(L)?(t.flags|=192,t.child=e.child,t=null):(e=J.treeContext,st=An(L.nextSibling),qt=t,He=!0,Ml=null,Dn=!1,e!==null&&zx(t,e),t=u0(t,l.children),t.flags|=4096);return t}return c?(Gl(),L=l.fallback,c=t.mode,J=e.child,te=J.sibling,l=il(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,te!==null?L=il(te,L):(L=aa(L,c,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Ei(null,l),l=t.child,L=e.child.memoizedState,L===null?L=i0(n):(c=L.cachePool,c!==null?(J=_t._currentValue,c=c.parent!==J?{parent:J,pool:J}:c):c=Lx(),L={baseLanes:L.baseLanes|n,cachePool:c}),l.memoizedState=L,l.childLanes=r0(e,p,n),t.memoizedState=a0,Ei(e.child,l)):(El(t),n=e.child,e=n.sibling,n=il(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function u0(e,t){return t=Kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kr(e,t){return e=on(22,e,null,t),e.lanes=0,e}function c0(e,t,n){return oa(t,e.child,null,n),e=u0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Cc(e.return,t,n)}function s0(e,t,n,l,c,x){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:c,treeForkCount:x}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=c,p.treeForkCount=x)}function Jo(e,t,n){var l=t.pendingProps,c=l.revealOrder,x=l.tail;l=l.children;var p=yt.current,L=(p&2)!==0;if(L?(p=p&1|2,t.flags|=128):p&=1,U(yt,p),kt(e,t,l,n),l=He?pi:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xo(e,n,t);else if(e.tag===19)Xo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Er(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),s0(t,!1,c,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Er(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}s0(t,!0,n,null,x,l);break;case"together":s0(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(qa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x0(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jr(e)))}function uh(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Nl(t,_t,e.memoizedState.cache),ia();break;case 27:case 5:ze(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(El(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ko(e,t,n):(El(t),e=ol(e,t,n),e!==null?e.sibling:null);El(t);break;case 19:var c=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(qa(e,t,n,!1),l=(n&t.childLanes)!==0),c){if(l)return Jo(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),U(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Oo(e,t,n,t.pendingProps);case 24:Nl(t,_t,e.memoizedState.cache)}return ol(e,t,n)}function Wo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ct=!0;else{if(!x0(e,n)&&(t.flags&128)===0)return Ct=!1,uh(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,He&&(t.flags&1048576)!==0&&jx(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=sa(t.elementType),t.type=e,typeof e=="function")mc(e)?(l=da(e,l),t.tag=1,t=Uo(null,t,e,l,n)):(t.tag=0,t=l0(null,t,e,l,n));else{if(e!=null){var c=e.$$typeof;if(c===E){t.tag=11,t=qo(null,t,e,l,n);break e}else if(c===B){t.tag=14,t=Ro(null,t,e,l,n);break e}}throw t=A(e)||e,Error(i(306,t,""))}}return t;case 0:return l0(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,c=da(l,t.pendingProps),Uo(e,t,l,c,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;c=x.element,Ac(e,t),Di(t,l,null,n);var p=t.memoizedState;if(l=p.cache,Nl(t,_t,l),l!==x.cache&&wc(t,[_t],n,!0),Mi(),l=p.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Zo(e,t,l,n);break e}else if(l!==c){c=jn(Error(i(424)),t),_i(c),t=Zo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,st=An(e.firstChild),qt=t,He=!0,Ml=null,Dn=!0,n=kx(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),l===c){t=ol(e,t,n);break e}kt(e,t,l,n)}t=t.child}return t;case 26:return Zr(e,t),e===null?(n=rd(t.type,null,t.pendingProps,null))?t.memoizedState=n:He||(n=t.type,e=t.pendingProps,l=uu(xe.current).createElement(n),l[At]=t,l[Ut]=e,Ot(l,n,e),Et(l),t.stateNode=l):t.memoizedState=rd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ze(t),e===null&&He&&(l=t.stateNode=ld(t.type,t.pendingProps,xe.current),qt=t,Dn=!0,c=st,Yl(t.type)?(U0=c,st=An(l.firstChild)):st=c),kt(e,t,t.pendingProps.children,n),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&He&&((c=l=st)&&(l=Rh(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,qt=t,st=An(l.firstChild),Dn=!1,c=!0):c=!1),c||Dl(t)),ze(t),c=t.type,x=t.pendingProps,p=e!==null?e.memoizedProps:null,l=x.children,k0(c,x)?l=null:p!==null&&k0(c,p)&&(t.flags|=32),t.memoizedState!==null&&(c=Rc(e,t,F1,null,null,n),Wi._currentValue=c),Zr(e,t),kt(e,t,l,n),t.child;case 6:return e===null&&He&&((e=n=st)&&(n=kh(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,qt=t,st=null,e=!0):e=!1),e||Dl(t)),null;case 13:return Ko(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=oa(t,null,l,n):kt(e,t,l,n),t.child;case 11:return qo(e,t,t.type,t.pendingProps,n);case 7:return kt(e,t,t.pendingProps,n),t.child;case 8:return kt(e,t,t.pendingProps.children,n),t.child;case 12:return kt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Nl(t,t.type,l.value),kt(e,t,l.children,n),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ua(t),c=Rt(c),l=l(c),t.flags|=1,kt(e,t,l,n),t.child;case 14:return Ro(e,t,t.type,t.pendingProps,n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 19:return Jo(e,t,n);case 31:return rh(e,t,n);case 22:return Oo(e,t,n,t.pendingProps);case 24:return ua(t),l=Rt(_t),e===null?(c=Mc(),c===null&&(c=ct,x=jc(),c.pooledCache=x,x.refCount++,x!==null&&(c.pooledCacheLanes|=n),c=x),t.memoizedState={parent:l,cache:c},Nc(t),Nl(t,_t,c)):((e.lanes&n)!==0&&(Ac(e,t),Di(t,null,null,n),Mi()),c=e.memoizedState,x=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Nl(t,_t,l)):(l=x.cache,Nl(t,_t,l),l!==c.cache&&wc(t,[_t],n,!0))),kt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function fl(e){e.flags|=4}function o0(e,t,n,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Sf())e.flags|=8192;else throw xa=Nr,Dc}else e.flags&=-16777217}function Vo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!od(t))if(Sf())e.flags|=8192;else throw xa=Nr,Dc}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ve():536870912,e.lanes|=t,Wa|=t)}function Gi(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function ch(e,t,n){var l=t.pendingProps;switch(yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(_t),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?fl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),xt(t),null;case 26:var c=t.type,x=t.memoizedState;return e===null?(fl(t),x!==null?(xt(t),Vo(t,x)):(xt(t),o0(t,c,null,l,n))):x?x!==e.memoizedState?(fl(t),xt(t),Vo(t,x)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&fl(t),xt(t),o0(t,c,e,l,n)),null;case 27:if(de(t),n=xe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return xt(t),null}e=W.current,Ba(t)?Mx(t):(e=ld(c,l,n),t.stateNode=e,fl(t))}return xt(t),null;case 5:if(de(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return xt(t),null}if(x=W.current,Ba(t))Mx(t);else{var p=uu(xe.current);switch(x){case 1:x=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:x=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":x=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":x=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":x=p.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?p.createElement(c,{is:l.is}):p.createElement(c)}}x[At]=t,x[Ut]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)x.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=x;e:switch(Ot(x,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fl(t)}}return xt(t),o0(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=xe.current,Ba(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,c=qt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[At]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Xf(e.nodeValue,n)),e||Dl(t,!0)}else e=uu(e).createTextNode(l),e[At]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ba(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[At]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return xt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ba(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[At]=t}else ia(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),c=!1}else c=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==c&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xr(t,t.updateQueue),xt(t),null);case 4:return he(),e===null&&E0(t.stateNode.containerInfo),xt(t),null;case 10:return cl(t.type),xt(t),null;case 19:if(R(yt),l=t.memoizedState,l===null)return xt(t),null;if(c=(t.flags&128)!==0,x=l.rendering,x===null)if(c)Gi(l,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Er(e),x!==null){for(t.flags|=128,Gi(l,!1),e=x.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Sx(n,e),n=n.sibling;return U(yt,yt.current&1|2),He&&rl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Je()>Pr&&(t.flags|=128,c=!0,Gi(l,!1),t.lanes=4194304)}else{if(!c)if(e=Er(x),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Gi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!He)return xt(t),null}else 2*Je()-l.renderingStartTime>Pr&&n!==536870912&&(t.flags|=128,c=!0,Gi(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,n=yt.current,U(yt,c?n&1|2:n&1),He&&rl(t,l.treeForkCount),e):(xt(t),null);case 22:case 23:return dn(t),Gc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&Xr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&R(ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(_t),xt(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function sh(e,t){switch(yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(_t),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(yt),null;case 4:return he(),null;case 10:return cl(t.type),null;case 22:case 23:return dn(t),Gc(),e!==null&&R(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(_t),null;case 25:return null;default:return null}}function Qo(e,t){switch(yc(t),t.tag){case 3:cl(_t),he();break;case 26:case 27:case 5:de(t);break;case 4:he();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:R(yt);break;case 10:cl(t.type);break;case 22:case 23:dn(t),Gc(),e!==null&&R(ca);break;case 24:cl(_t)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var c=l.next;n=c;do{if((n.tag&e)===e){l=void 0;var x=n.create,p=n.inst;l=x(),p.destroy=l}n=n.next}while(n!==c)}}catch(L){lt(t,t.return,L)}}function Bl(e,t,n){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var x=c.next;l=x;do{if((l.tag&e)===e){var p=l.inst,L=p.destroy;if(L!==void 0){p.destroy=void 0,c=t;var J=n,te=L;try{te()}catch(ie){lt(c,J,ie)}}}l=l.next}while(l!==x)}}catch(ie){lt(t,t.return,ie)}}function Po(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ix(t,n)}catch(l){lt(e,e.return,l)}}}function Fo(e,t,n){n.props=da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){lt(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(c){lt(e,t,c)}}function Qn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(c){lt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){lt(e,t,c)}else n.current=null}function $o(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(c){lt(e,e.return,c)}}function f0(e,t,n){try{var l=e.stateNode;Th(l,e.type,n,t),l[Ut]=t}catch(c){lt(e,e.return,c)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function d0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h0(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(h0(e,t,n),e=e.sibling;e!==null;)h0(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function tf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Ot(t,l,n),t[At]=e,t[Ut]=n}catch(x){lt(e,e.return,x)}}var dl=!1,wt=!1,m0=!1,nf=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function xh(e,t){if(e=e.containerInfo,q0=hu,e=dx(e),cc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var c=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var p=0,L=-1,J=-1,te=0,ie=0,ue=e,ne=null;t:for(;;){for(var ae;ue!==n||c!==0&&ue.nodeType!==3||(L=p+c),ue!==x||l!==0&&ue.nodeType!==3||(J=p+l),ue.nodeType===3&&(p+=ue.nodeValue.length),(ae=ue.firstChild)!==null;)ne=ue,ue=ae;for(;;){if(ue===e)break t;if(ne===n&&++te===c&&(L=p),ne===x&&++ie===l&&(J=p),(ae=ue.nextSibling)!==null)break;ue=ne,ne=ue.parentNode}ue=ae}n=L===-1||J===-1?null:{start:L,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(R0={focusedElem:e,selectionRange:n},hu=!1,Gt=t;Gt!==null;)if(t=Gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Gt=e;else for(;Gt!==null;){switch(t=Gt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,c=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var be=da(n.type,c);e=l.getSnapshotBeforeUpdate(be,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(we){lt(n,n.return,we)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)I0(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":I0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Gt=e;break}Gt=t.return}}function lf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),l&4&&Bi(5,n);break;case 1:if(ml(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){lt(n,n.return,p)}else{var c=da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(n,n.return,p)}}l&64&&Po(n),l&512&&qi(n,n.return);break;case 3:if(ml(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ix(e,t)}catch(p){lt(n,n.return,p)}}break;case 27:t===null&&l&4&&tf(n);case 26:case 5:ml(e,n),t===null&&l&4&&$o(n),l&512&&qi(n,n.return);break;case 12:ml(e,n);break;case 31:ml(e,n),l&4&&uf(e,n);break;case 13:ml(e,n),l&4&&cf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=yh.bind(null,n),Oh(e,n))));break;case 22:if(l=n.memoizedState!==null||dl,!l){t=t!==null&&t.memoizedState!==null||wt,c=dl;var x=wt;dl=l,(wt=t)&&!x?bl(e,n,(n.subtreeFlags&8772)!==0):ml(e,n),dl=c,wt=x}break;case 30:break;default:ml(e,n)}}function af(e){var t=e.alternate;t!==null&&(e.alternate=null,af(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,Pt=!1;function hl(e,t,n){for(n=n.child;n!==null;)rf(e,t,n),n=n.sibling}function rf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 26:wt||Qn(n,t),hl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wt||Qn(n,t);var l=ft,c=Pt;Yl(n.type)&&(ft=n.stateNode,Pt=!1),hl(e,t,n),Ki(n.stateNode),ft=l,Pt=c;break;case 5:wt||Qn(n,t);case 6:if(l=ft,c=Pt,ft=null,hl(e,t,n),ft=l,Pt=c,ft!==null)if(Pt)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(n.stateNode)}catch(x){lt(n,t,x)}else try{ft.removeChild(n.stateNode)}catch(x){lt(n,t,x)}break;case 18:ft!==null&&(Pt?(e=ft,Ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):Ff(ft,n.stateNode));break;case 4:l=ft,c=Pt,ft=n.stateNode.containerInfo,Pt=!0,hl(e,t,n),ft=l,Pt=c;break;case 0:case 11:case 14:case 15:Bl(2,n,t),wt||Bl(4,n,t),hl(e,t,n);break;case 1:wt||(Qn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&Fo(n,t,l)),hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:wt=(l=wt)||n.memoizedState!==null,hl(e,t,n),wt=l;break;default:hl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){lt(t,t.return,n)}}}function cf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){lt(t,t.return,n)}}function oh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nf),t;default:throw Error(i(435,e.tag))}}function Wr(e,t){var n=oh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var c=ph.bind(null,e,l);l.then(c,c)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var c=n[l],x=e,p=t,L=p;e:for(;L!==null;){switch(L.tag){case 27:if(Yl(L.type)){ft=L.stateNode,Pt=!1;break e}break;case 5:ft=L.stateNode,Pt=!1;break e;case 3:case 4:ft=L.stateNode.containerInfo,Pt=!0;break e}L=L.return}if(ft===null)throw Error(i(160));rf(x,p,c),ft=null,Pt=!1,x=c.alternate,x!==null&&(x.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var In=null;function sf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(Bl(3,e,e.return),Bi(3,e),Bl(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(wt||n===null||Qn(n,n.return)),l&64&&dl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var c=In;if(Ft(t,e),$t(e),l&512&&(wt||n===null||Qn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":x=c.getElementsByTagName("title")[0],(!x||x[Lt]||x[At]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=c.createElement(l),c.head.insertBefore(x,c.querySelector("head > title"))),Ot(x,l,n),x[At]=e,Et(x),l=x;break e;case"link":var p=sd("link","href",c).get(l+(n.href||""));if(p){for(var L=0;L<p.length;L++)if(x=p[L],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(L,1);break t}}x=c.createElement(l),Ot(x,l,n),c.head.appendChild(x);break;case"meta":if(p=sd("meta","content",c).get(l+(n.content||""))){for(L=0;L<p.length;L++)if(x=p[L],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(L,1);break t}}x=c.createElement(l),Ot(x,l,n),c.head.appendChild(x);break;default:throw Error(i(468,l))}x[At]=e,Et(x),l=x}e.stateNode=l}else xd(c,e.type,e.stateNode);else e.stateNode=cd(c,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?xd(c,e.type,e.stateNode):cd(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&f0(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(wt||n===null||Qn(n,n.return)),n!==null&&l&4&&f0(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(wt||n===null||Qn(n,n.return)),e.flags&32){c=e.stateNode;try{ja(c,"")}catch(be){lt(e,e.return,be)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,f0(e,c,n!==null?n.memoizedProps:c)),l&1024&&(m0=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){lt(e,e.return,be)}}break;case 3:if(xu=null,c=In,In=cu(t.containerInfo),Ft(t,e),In=c,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(be){lt(e,e.return,be)}m0&&(m0=!1,xf(e));break;case 4:l=In,In=cu(e.stateNode.containerInfo),Ft(t,e),$t(e),In=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qr=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 22:c=e.memoizedState!==null;var J=n!==null&&n.memoizedState!==null,te=dl,ie=wt;if(dl=te||c,wt=ie||J,Ft(t,e),wt=ie,dl=te,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||J||dl||wt||ha(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){J=n=t;try{if(x=J.stateNode,c)p=x.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{L=J.stateNode;var ue=J.memoizedProps.style,ne=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){lt(J,J.return,be)}}}else if(t.tag===6){if(n===null){J=t;try{J.stateNode.nodeValue=c?"":J.memoizedProps}catch(be){lt(J,J.return,be)}}}else if(t.tag===18){if(n===null){J=t;try{var ae=J.stateNode;c?$f(ae,!0):$f(J.stateNode,!1)}catch(be){lt(J,J.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Wr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(ef(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var c=n.stateNode,x=d0(e);Jr(e,x,c);break;case 5:var p=n.stateNode;n.flags&32&&(ja(p,""),n.flags&=-33);var L=d0(e);Jr(e,L,p);break;case 3:case 4:var J=n.stateNode.containerInfo,te=d0(e);h0(e,te,J);break;default:throw Error(i(161))}}catch(ie){lt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lf(e,t.alternate,t),t=t.sibling}function ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bl(4,t,t.return),ha(t);break;case 1:Qn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fo(t,t.return,n),ha(t);break;case 27:Ki(t.stateNode);case 26:case 5:Qn(t,t.return),ha(t);break;case 22:t.memoizedState===null&&ha(t);break;case 30:ha(t);break;default:ha(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,x=t,p=x.flags;switch(x.tag){case 0:case 11:case 15:bl(c,x,n),Bi(4,x);break;case 1:if(bl(c,x,n),l=x,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(te){lt(l,l.return,te)}if(l=x,c=l.updateQueue,c!==null){var L=l.stateNode;try{var J=c.shared.hiddenCallbacks;if(J!==null)for(c.shared.hiddenCallbacks=null,c=0;c<J.length;c++)Ox(J[c],L)}catch(te){lt(l,l.return,te)}}n&&p&64&&Po(x),qi(x,x.return);break;case 27:tf(x);case 26:case 5:bl(c,x,n),n&&l===null&&p&4&&$o(x),qi(x,x.return);break;case 12:bl(c,x,n);break;case 31:bl(c,x,n),n&&p&4&&uf(c,x);break;case 13:bl(c,x,n),n&&p&4&&cf(c,x);break;case 22:x.memoizedState===null&&bl(c,x,n),qi(x,x.return);break;case 30:break;default:bl(c,x,n)}t=t.sibling}}function b0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function g0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)of(e,t,n,l),t=t.sibling}function of(e,t,n,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),c&2048&&Bi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(c&2048){Hn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,p=x.id,L=x.onPostCommit;typeof L=="function"&&L(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){lt(t,t.return,J)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,p=t.alternate,t.memoizedState!==null?x._visibility&2?Hn(e,t,n,l):Ri(e,t):x._visibility&2?Hn(e,t,n,l):(x._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&b0(p,t);break;case 24:Hn(e,t,n,l),c&2048&&g0(t.alternate,t);break;default:Hn(e,t,n,l)}}function Ka(e,t,n,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,p=t,L=n,J=l,te=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(x,p,L,J,c),Bi(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Ka(x,p,L,J,c):Ri(x,p):(ie._visibility|=2,Ka(x,p,L,J,c)),c&&te&2048&&b0(p.alternate,p);break;case 24:Ka(x,p,L,J,c),c&&te&2048&&g0(p.alternate,p);break;default:Ka(x,p,L,J,c)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,c=l.flags;switch(l.tag){case 22:Ri(n,l),c&2048&&b0(l.alternate,l);break;case 24:Ri(n,l),c&2048&&g0(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)ff(e,t,n),e=e.sibling}function ff(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&Ph(n,In,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=In;In=cu(e.stateNode.containerInfo),Xa(e,t,n),In=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Gt=l,mf(l,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:Oi(e),e.flags&2048&&Bl(9,e,e.return);break;case 3:Oi(e);break;case 12:Oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):Oi(e);break;default:Oi(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Gt=l,mf(l,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bl(8,t,t.return),Vr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function mf(e,t){for(;Gt!==null;){var n=Gt;switch(n.tag){case 0:case 11:case 15:Bl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Gt=l;else e:for(n=e;Gt!==null;){l=Gt;var c=l.sibling,x=l.return;if(af(l),l===n){Gt=null;break e}if(c!==null){c.return=x,Gt=c;break e}Gt=x}}}var fh={getCacheForType:function(e){var t=Rt(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(_t).controller.signal}},dh=typeof WeakMap=="function"?WeakMap:Map,Qe=0,ct=null,qe=null,ke=0,nt=0,hn=null,ql=!1,Ja=!1,v0=!1,gl=0,mt=0,Rl=0,ma=0,y0=0,mn=0,Wa=0,Ii=null,en=null,p0=!1,Qr=0,bf=0,Pr=1/0,Fr=null,kl=null,Tt=0,Ol=null,Va=null,vl=0,_0=0,S0=null,gf=null,Hi=0,C0=null;function bn(){return(Qe&2)!==0&&ke!==0?ke&-ke:C.T!==null?N0():sn()}function vf(){if(mn===0)if((ke&536870912)===0||He){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function tn(e,t,n){(e===ct&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Il(e,ke,mn,!1)),gt(e,n),((Qe&2)===0||e!==ct)&&(e===ct&&((Qe&2)===0&&(ma|=n),mt===4&&Il(e,ke,mn,!1)),Pn(e))}function yf(e,t,n){if((Qe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ie(e,t),c=l?bh(e,t):j0(e,t,!0),x=l;do{if(c===0){Ja&&!l&&Il(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!hh(n)){c=j0(e,t,!1),x=!1;continue}if(c===2){if(x=t,e.errorRecoveryDisabledLanes&x)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var L=e;c=Ii;var J=L.current.memoizedState.isDehydrated;if(J&&(Qa(L,p).flags|=256),p=j0(L,p,!1),p!==2){if(v0&&!J){L.errorRecoveryDisabledLanes|=x,ma|=x,c=4;break e}x=en,en=c,x!==null&&(en===null?en=x:en.push.apply(en,x))}c=p}if(x=!1,c!==2)continue}}if(c===1){Qa(e,0),Il(e,t,0,!0);break}e:{switch(l=e,x=c,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Il(l,t,mn,!ql);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Qr+300-Je(),10<c)){if(Il(l,t,mn,!ql),Pe(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Qf(pf.bind(null,l,n,en,Fr,p0,t,mn,ma,Wa,ql,x,"Throttled",-0,0),c);break e}pf(l,n,en,Fr,p0,t,mn,ma,Wa,ql,x,null,-0,0)}}break}while(!0);Pn(e)}function pf(e,t,n,l,c,x,p,L,J,te,ie,ue,ne,ae){if(e.timeoutHandle=-1,ue=t.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},ff(t,x,ue);var be=(x&62914560)===x?Qr-Je():(x&4194048)===x?bf-Je():0;if(be=Fh(ue,be),be!==null){vl=x,e.cancelPendingCommit=be(Df.bind(null,e,t,x,n,l,c,p,L,J,ie,ue,null,ne,ae)),Il(e,x,p,!te);return}}Df(e,t,x,n,l,c,p,L,J)}function hh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var c=n[l],x=c.getSnapshot;c=c.value;try{if(!xn(x(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Il(e,t,n,l){t&=~y0,t&=~ma,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var x=31-se(c),p=1<<x;l[x]=-1,c&=~p}n!==0&&Nt(e,n,t)}function $r(){return(Qe&6)===0?(Yi(0),!1):!0}function w0(){if(qe!==null){if(nt===0)var e=qe.return;else e=qe,ul=ra=null,Ic(e),Ia=null,wi=0,e=qe;for(;e!==null;)Qo(e.alternate,e),e=e.return;qe=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,w0(),ct=e,qe=n=il(e.current,null),ke=t,nt=0,hn=null,ql=!1,Ja=Ie(e,t),v0=!1,Wa=mn=y0=ma=Rl=mt=0,en=Ii=null,p0=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-se(l),x=1<<c;t|=e[c],l&=~x}return gl=t,pr(),n}function _f(e,t){Te=null,C.H=Li,t===Oa||t===Dr?(t=Bx(),nt=3):t===Dc?(t=Bx(),nt=4):nt=t===n0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,qe===null&&(mt=1,Yr(e,jn(t,e.current)))}function Sf(){var e=fn.current;return e===null?!0:(ke&4194048)===ke?Nn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Nn:!1}function Cf(){var e=C.H;return C.H=Li,e===null?Li:e}function wf(){var e=C.A;return C.A=fh,e}function eu(){mt=4,ql||(ke&4194048)!==ke&&fn.current!==null||(Ja=!0),(Rl&134217727)===0&&(ma&134217727)===0||ct===null||Il(ct,ke,mn,!1)}function j0(e,t,n){var l=Qe;Qe|=2;var c=Cf(),x=wf();(ct!==e||ke!==t)&&(Fr=null,Qa(e,t)),t=!1;var p=mt;e:do try{if(nt!==0&&qe!==null){var L=qe,J=hn;switch(nt){case 8:w0(),p=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var te=nt;if(nt=0,hn=null,Pa(e,L,J,te),n&&Ja){p=0;break e}break;default:te=nt,nt=0,hn=null,Pa(e,L,J,te)}}mh(),p=mt;break}catch(ie){_f(e,ie)}while(!0);return t&&e.shellSuspendCounter++,ul=ra=null,Qe=l,C.H=c,C.A=x,qe===null&&(ct=null,ke=0,pr()),p}function mh(){for(;qe!==null;)jf(qe)}function bh(e,t){var n=Qe;Qe|=2;var l=Cf(),c=wf();ct!==e||ke!==t?(Fr=null,Pr=Je()+500,Qa(e,t)):Ja=Ie(e,t);e:do try{if(nt!==0&&qe!==null){t=qe;var x=hn;t:switch(nt){case 1:nt=0,hn=null,Pa(e,t,x,1);break;case 2:case 9:if(Ex(x)){nt=0,hn=null,zf(t);break}t=function(){nt!==2&&nt!==9||ct!==e||(nt=7),Pn(e)},x.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Ex(x)?(nt=0,hn=null,zf(t)):(nt=0,hn=null,Pa(e,t,x,7));break;case 5:var p=null;switch(qe.tag){case 26:p=qe.memoizedState;case 5:case 27:var L=qe;if(p?od(p):L.stateNode.complete){nt=0,hn=null;var J=L.sibling;if(J!==null)qe=J;else{var te=L.return;te!==null?(qe=te,tu(te)):qe=null}break t}}nt=0,hn=null,Pa(e,t,x,5);break;case 6:nt=0,hn=null,Pa(e,t,x,6);break;case 8:w0(),mt=6;break e;default:throw Error(i(462))}}gh();break}catch(ie){_f(e,ie)}while(!0);return ul=ra=null,C.H=l,C.A=c,Qe=n,qe!==null?0:(ct=null,ke=0,pr(),mt)}function gh(){for(;qe!==null&&!Xn();)jf(qe)}function jf(e){var t=Wo(e.alternate,e,gl);e.memoizedProps=e.pendingProps,t===null?tu(e):qe=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Yo(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Yo(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:Ic(t);default:Qo(n,t),t=qe=Sx(t,gl),t=Wo(n,t,gl)}e.memoizedProps=e.pendingProps,t===null?tu(e):qe=t}function Pa(e,t,n,l){ul=ra=null,Ic(t),Ia=null,wi=0;var c=t.return;try{if(ih(e,c,t,n,ke)){mt=1,Yr(e,jn(n,e.current)),qe=null;return}}catch(x){if(c!==null)throw qe=c,x;mt=1,Yr(e,jn(n,e.current)),qe=null;return}t.flags&32768?(He||l===1?e=!0:Ja||(ke&536870912)!==0?e=!1:(ql=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mf(t,e)):tu(t)}function tu(e){var t=e;do{if((t.flags&32768)!==0){Mf(t,ql);return}e=t.return;var n=ch(t.alternate,t,gl);if(n!==null){qe=n;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);mt===0&&(mt=5)}function Mf(e,t){do{var n=sh(e.alternate,e);if(n!==null){n.flags&=32767,qe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=n}while(e!==null);mt=6,qe=null}function Df(e,t,n,l,c,x,p,L,J){e.cancelPendingCommit=null;do nu();while(Tt!==0);if((Qe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=dc,Fe(e,n,x,p,L,J),e===ct&&(qe=ct=null,ke=0),Va=t,Ol=e,vl=n,_0=x,S0=c,gf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_h(Rn,function(){return Ef(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,c=T.p,T.p=2,p=Qe,Qe|=4;try{xh(e,t,n)}finally{Qe=p,T.p=c,C.T=l}}Tt=1,Nf(),Af(),Tf()}}function Nf(){if(Tt===1){Tt=0;var e=Ol,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=C.T,C.T=null;var l=T.p;T.p=2;var c=Qe;Qe|=4;try{sf(t,e);var x=R0,p=dx(e.containerInfo),L=x.focusedElem,J=x.selectionRange;if(p!==L&&L&&L.ownerDocument&&fx(L.ownerDocument.documentElement,L)){if(J!==null&&cc(L)){var te=J.start,ie=J.end;if(ie===void 0&&(ie=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ie,L.value.length);else{var ue=L.ownerDocument||document,ne=ue&&ue.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),be=L.textContent.length,we=Math.min(J.start,be),ut=J.end===void 0?we:Math.min(J.end,be);!ae.extend&&we>ut&&(p=ut,ut=we,we=p);var F=ox(L,we),V=ox(L,ut);if(F&&V&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==V.node||ae.focusOffset!==V.offset)){var ee=ue.createRange();ee.setStart(F.node,F.offset),ae.removeAllRanges(),we>ut?(ae.addRange(ee),ae.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),ae.addRange(ee))}}}}for(ue=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&ue.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ue.length;L++){var re=ue[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}hu=!!q0,R0=q0=null}finally{Qe=c,T.p=l,C.T=n}}e.current=t,Tt=2}}function Af(){if(Tt===2){Tt=0;var e=Ol,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=C.T,C.T=null;var l=T.p;T.p=2;var c=Qe;Qe|=4;try{lf(e,t.alternate,t)}finally{Qe=c,T.p=l,C.T=n}}Tt=3}}function Tf(){if(Tt===4||Tt===3){Tt=0,Jn();var e=Ol,t=Va,n=vl,l=gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,Va=Ol=null,Lf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(kl=null),pn(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,c=T.p,T.p=2,C.T=null;try{for(var x=e.onRecoverableError,p=0;p<l.length;p++){var L=l[p];x(L.value,{componentStack:L.stack})}}finally{C.T=t,T.p=c}}(vl&3)!==0&&nu(),Pn(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===C0?Hi++:(Hi=0,C0=e):Hi=0,Yi(0)}}function Lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function nu(){return Nf(),Af(),Tf(),Ef()}function Ef(){if(Tt!==5)return!1;var e=Ol,t=_0;_0=0;var n=pn(vl),l=C.T,c=T.p;try{T.p=32>n?32:n,C.T=null,n=S0,S0=null;var x=Ol,p=vl;if(Tt=0,Va=Ol=null,vl=0,(Qe&6)!==0)throw Error(i(331));var L=Qe;if(Qe|=4,hf(x.current),of(x,x.current,p,n),Qe=L,Yi(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(tl,x)}catch{}return!0}finally{T.p=c,C.T=l,Lf(e,t)}}function Gf(e,t,n){t=jn(n,t),t=t0(e.stateNode,t,2),e=Ll(e,t,2),e!==null&&(gt(e,2),Pn(e))}function lt(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kl===null||!kl.has(l))){e=jn(n,e),n=Go(2),l=Ll(t,n,2),l!==null&&(Bo(n,l,t,e),gt(l,2),Pn(l));break}}t=t.return}}function z0(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new dh;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(n)||(v0=!0,c.add(n),e=vh.bind(null,e,t,n),t.then(e,e))}function vh(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ct===e&&(ke&n)===n&&(mt===4||mt===3&&(ke&62914560)===ke&&300>Je()-Qr?(Qe&2)===0&&Qa(e,0):y0|=n,Wa===ke&&(Wa=0)),Pn(e)}function Bf(e,t){t===0&&(t=Ve()),e=la(e,t),e!==null&&(gt(e,t),Pn(e))}function yh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bf(e,n)}function ph(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Bf(e,n)}function _h(e,t){return Yt(e,t)}var lu=null,Fa=null,M0=!1,au=!1,D0=!1,Hl=0;function Pn(e){e!==Fa&&e.next===null&&(Fa===null?lu=Fa=e:Fa=Fa.next=e),au=!0,M0||(M0=!0,Ch())}function Yi(e,t){if(!D0&&au){D0=!0;do for(var n=!1,l=lu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var x=0;else{var p=l.suspendedLanes,L=l.pingedLanes;x=(1<<31-se(42|e)+1)-1,x&=c&~(p&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Of(l,x))}else x=ke,x=Pe(l,l===ct?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Ie(l,x)||(n=!0,Of(l,x));l=l.next}while(n);D0=!1}}function Sh(){qf()}function qf(){au=M0=!1;var e=0;Hl!==0&&Eh()&&(e=Hl);for(var t=Je(),n=null,l=lu;l!==null;){var c=l.next,x=Rf(l,t);x===0?(l.next=null,n===null?lu=c:n.next=c,c===null&&(Fa=n)):(n=l,(e!==0||(x&3)!==0)&&(au=!0)),l=c}Tt!==0&&Tt!==5||Yi(e),Hl!==0&&(Hl=0)}function Rf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var p=31-se(x),L=1<<p,J=c[p];J===-1?((L&n)===0||(L&l)!==0)&&(c[p]=Ze(L,t)):J<=t&&(e.expiredLanes|=L),x&=~L}if(t=ct,n=ke,n=Pe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&cn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ie(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&cn(l),pn(n)){case 2:case 8:n=Ql;break;case 32:n=Rn;break;case 268435456:n=kn;break;default:n=Rn}return l=kf.bind(null,e),n=Yt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&cn(l),e.callbackPriority=2,e.callbackNode=null,2}function kf(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(nu()&&e.callbackNode!==n)return null;var l=ke;return l=Pe(e,e===ct?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(yf(e,l,t),Rf(e,Je()),e.callbackNode!=null&&e.callbackNode===n?kf.bind(null,e):null)}function Of(e,t){if(nu())return null;yf(e,t,!0)}function Ch(){Bh(function(){(Qe&6)!==0?Yt(Sl,Sh):qf()})}function N0(){if(Hl===0){var e=Ra;e===0&&(e=ye,ye<<=1,(ye&261888)===0&&(ye=256)),Hl=e}return Hl}function If(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fr(""+e)}function Hf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function wh(e,t,n,l,c){if(t==="submit"&&n&&n.stateNode===c){var x=If((c[Ut]||null).action),p=l.submitter;p&&(t=(t=p[Ut]||null)?If(t.formAction):p.getAttribute("formAction"),t!==null&&(x=t,p=null));var L=new br("action","action",null,l,c);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hl!==0){var J=p?Hf(c,p):new FormData(c);Vc(n,{pending:!0,data:J,method:c.method,action:x},null,J)}}else typeof x=="function"&&(L.preventDefault(),J=p?Hf(c,p):new FormData(c),Vc(n,{pending:!0,data:J,method:c.method,action:x},x,J))},currentTarget:c}]})}}for(var A0=0;A0<fc.length;A0++){var T0=fc[A0],jh=T0.toLowerCase(),zh=T0[0].toUpperCase()+T0.slice(1);On(jh,"on"+zh)}On(bx,"onAnimationEnd"),On(gx,"onAnimationIteration"),On(vx,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Y1,"onTransitionRun"),On(U1,"onTransitionStart"),On(Z1,"onTransitionCancel"),On(yx,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$l("onBeforeInput",["compositionend","keypress","textInput","paste"]),$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],c=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var p=l.length-1;0<=p;p--){var L=l[p],J=L.instance,te=L.currentTarget;if(L=L.listener,J!==x&&c.isPropagationStopped())break e;x=L,c.currentTarget=te;try{x(c)}catch(ie){yr(ie)}c.currentTarget=null,x=J}else for(p=0;p<l.length;p++){if(L=l[p],J=L.instance,te=L.currentTarget,L=L.listener,J!==x&&c.isPropagationStopped())break e;x=L,c.currentTarget=te;try{x(c)}catch(ie){yr(ie)}c.currentTarget=null,x=J}}}}function Re(e,t){var n=t[si];n===void 0&&(n=t[si]=new Set);var l=e+"__bubble";n.has(l)||(Uf(t,e,2,!1),n.add(l))}function L0(e,t,n){var l=0;t&&(l|=4),Uf(n,e,l,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function E0(e){if(!e[iu]){e[iu]=!0,Gs.forEach(function(n){n!=="selectionchange"&&(Mh.has(n)||L0(n,!1,e),L0(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,L0("selectionchange",!1,t))}}function Uf(e,t,n,l){switch(vd(t)){case 2:var c=t2;break;case 8:c=n2;break;default:c=W0}n=c.bind(null,t,n,e),c=void 0,!$u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function G0(e,t,n,l,c){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var L=l.stateNode.containerInfo;if(L===c)break;if(p===4)for(p=l.return;p!==null;){var J=p.tag;if((J===3||J===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;L!==null;){if(p=Vt(L),p===null)return;if(J=p.tag,J===5||J===6||J===26||J===27){l=x=p;continue e}L=L.parentNode}}l=l.return}Xs(function(){var te=x,ie=Pu(n),ue=[];e:{var ne=px.get(e);if(ne!==void 0){var ae=br,be=e;switch(e){case"keypress":if(hr(n)===0)break e;case"keydown":case"keyup":ae=p1;break;case"focusin":be="focus",ae=lc;break;case"focusout":be="blur",ae=lc;break;case"beforeblur":case"afterblur":ae=lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=c1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=C1;break;case bx:case gx:case vx:ae=o1;break;case yx:ae=j1;break;case"scroll":case"scrollend":ae=r1;break;case"wheel":ae=M1;break;case"copy":case"cut":case"paste":ae=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Ps;break;case"toggle":case"beforetoggle":ae=N1}var we=(t&4)!==0,ut=!we&&(e==="scroll"||e==="scrollend"),F=we?ne!==null?ne+"Capture":null:ne;we=[];for(var V=te,ee;V!==null;){var re=V;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||F===null||(re=oi(V,F),re!=null&&we.push(Zi(V,re,ee))),ut)break;V=V.return}0<we.length&&(ne=new ae(ne,be,null,n,ie),ue.push({event:ne,listeners:we}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Qu&&(be=n.relatedTarget||n.fromElement)&&(Vt(be)||be[Cl]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(be=n.relatedTarget||n.toElement,ae=te,be=be?Vt(be):null,be!==null&&(ut=f(be),we=be.tag,be!==ut||we!==5&&we!==27&&we!==6)&&(be=null)):(ae=null,be=te),ae!==be)){if(we=Vs,re="onMouseLeave",F="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(we=Ps,re="onPointerLeave",F="onPointerEnter",V="pointer"),ut=ae==null?ne:xi(ae),ee=be==null?ne:xi(be),ne=new we(re,V+"leave",ae,n,ie),ne.target=ut,ne.relatedTarget=ee,re=null,Vt(ie)===te&&(we=new we(F,V+"enter",be,n,ie),we.target=ee,we.relatedTarget=ut,re=we),ut=re,ae&&be)t:{for(we=Dh,F=ae,V=be,ee=0,re=F;re;re=we(re))ee++;re=0;for(var _e=V;_e;_e=we(_e))re++;for(;0<ee-re;)F=we(F),ee--;for(;0<re-ee;)V=we(V),re--;for(;ee--;){if(F===V||V!==null&&F===V.alternate){we=F;break t}F=we(F),V=we(V)}we=null}else we=null;ae!==null&&Zf(ue,ne,ae,we,!1),be!==null&&ut!==null&&Zf(ue,ut,be,we,!0)}}e:{if(ne=te?xi(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ke=ix;else if(lx(ne))if(rx)Ke=O1;else{Ke=R1;var ge=q1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&Vu(te.elementType)&&(Ke=ix):Ke=k1;if(Ke&&(Ke=Ke(e,te))){ax(ue,Ke,n,ie);break e}ge&&ge(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Wu(ne,"number",ne.value)}switch(ge=te?xi(te):window,e){case"focusin":(lx(ge)||ge.contentEditable==="true")&&(Na=ge,sc=te,yi=null);break;case"focusout":yi=sc=Na=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,hx(ue,n,ie);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":hx(ue,n,ie)}var Ee;if(ic)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Da?tx(e,n)&&(Oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Oe="onCompositionStart");Oe&&(Fs&&n.locale!=="ko"&&(Da||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Da&&(Ee=Js()):(jl=ie,ec="value"in jl?jl.value:jl.textContent,Da=!0)),ge=ru(te,Oe),0<ge.length&&(Oe=new Qs(Oe,e,null,n,ie),ue.push({event:Oe,listeners:ge}),Ee?Oe.data=Ee:(Ee=nx(n),Ee!==null&&(Oe.data=Ee)))),(Ee=T1?L1(e,n):E1(e,n))&&(Oe=ru(te,"onBeforeInput"),0<Oe.length&&(ge=new Qs("onBeforeInput","beforeinput",null,n,ie),ue.push({event:ge,listeners:Oe}),ge.data=Ee)),wh(ue,e,te,n,ie)}Yf(ue,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",l=[];e!==null;){var c=e,x=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||x===null||(c=oi(e,n),c!=null&&l.unshift(Zi(e,c,x)),c=oi(e,t),c!=null&&l.push(Zi(e,c,x))),e.tag===3)return l;e=e.return}return[]}function Dh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zf(e,t,n,l,c){for(var x=t._reactName,p=[];n!==null&&n!==l;){var L=n,J=L.alternate,te=L.stateNode;if(L=L.tag,J!==null&&J===l)break;L!==5&&L!==26&&L!==27||te===null||(J=te,c?(te=oi(n,x),te!=null&&p.unshift(Zi(n,te,J))):c||(te=oi(n,x),te!=null&&p.push(Zi(n,te,J)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Nh=/\r\n?/g,Ah=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(Nh,`
`).replace(Ah,"")}function Xf(e,t){return t=Kf(t),Kf(e)===t}function rt(e,t,n,l,c,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ja(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ja(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Zs(e,l,x);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",c.name,c,null),rt(e,t,"formEncType",c.formEncType,c,null),rt(e,t,"formMethod",c.formMethod,c,null),rt(e,t,"formTarget",c.formTarget,c,null)):(rt(e,t,"encType",c.encType,c,null),rt(e,t,"method",c.method,c,null),rt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=fr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ll);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=fr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":nl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=a1.get(n)||n,sr(e,n,l))}}function B0(e,t,n,l,c,x){switch(n){case"style":Zs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?ja(e,l):(typeof l=="number"||typeof l=="bigint")&&ja(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),x=e[Ut]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,c),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,c);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):sr(e,n,l)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,c=!1,x;for(x in n)if(n.hasOwnProperty(x)){var p=n[x];if(p!=null)switch(x){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:rt(e,t,x,p,n,null)}}c&&rt(e,t,"srcSet",n.srcSet,n,null),l&&rt(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var L=x=p=c=null,J=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":c=ie;break;case"type":p=ie;break;case"checked":J=ie;break;case"defaultChecked":te=ie;break;case"value":x=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:rt(e,t,l,ie,n,null)}}Is(e,x,L,J,te,p,c,!1);return;case"select":Re("invalid",e),l=p=x=null;for(c in n)if(n.hasOwnProperty(c)&&(L=n[c],L!=null))switch(c){case"value":x=L;break;case"defaultValue":p=L;break;case"multiple":l=L;default:rt(e,t,c,L,n,null)}t=x,n=p,e.multiple=!!l,t!=null?wa(e,!!l,t,!1):n!=null&&wa(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=c=l=null;for(p in n)if(n.hasOwnProperty(p)&&(L=n[p],L!=null))switch(p){case"value":l=L;break;case"defaultValue":c=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:rt(e,t,p,L,n,null)}Ys(e,l,c,x);return;case"option":for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(e,t,J,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)Re(Ui[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:rt(e,t,te,l,n,null)}return;default:if(Vu(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&B0(e,t,ie,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&rt(e,t,L,l,n,null))}function Th(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,x=null,p=null,L=null,J=null,te=null,ie=null;for(ae in n){var ue=n[ae];if(n.hasOwnProperty(ae)&&ue!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":J=ue;default:l.hasOwnProperty(ae)||rt(e,t,ae,null,l,ue)}}for(var ne in l){var ae=l[ne];if(ue=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ue!=null))switch(ne){case"type":x=ae;break;case"name":c=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ue&&rt(e,t,ne,ae,l,ue)}}Ju(e,p,L,J,te,ie,x,c);return;case"select":ae=p=L=ne=null;for(x in n)if(J=n[x],n.hasOwnProperty(x)&&J!=null)switch(x){case"value":break;case"multiple":ae=J;default:l.hasOwnProperty(x)||rt(e,t,x,null,l,J)}for(c in l)if(x=l[c],J=n[c],l.hasOwnProperty(c)&&(x!=null||J!=null))switch(c){case"value":ne=x;break;case"defaultValue":L=x;break;case"multiple":p=x;default:x!==J&&rt(e,t,c,x,l,J)}t=L,n=p,l=ae,ne!=null?wa(e,!!n,ne,!1):!!l!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(L in n)if(c=n[L],n.hasOwnProperty(L)&&c!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:rt(e,t,L,null,l,c)}for(p in l)if(c=l[p],x=n[p],l.hasOwnProperty(p)&&(c!=null||x!=null))switch(p){case"value":ne=c;break;case"defaultValue":ae=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==x&&rt(e,t,p,c,l,x)}Hs(e,ne,ae);return;case"option":for(var be in n)ne=n[be],n.hasOwnProperty(be)&&ne!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:rt(e,t,be,null,l,ne));for(J in l)ne=l[J],ae=n[J],l.hasOwnProperty(J)&&ne!==ae&&(ne!=null||ae!=null)&&(J==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":rt(e,t,J,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in n)ne=n[we],n.hasOwnProperty(we)&&ne!=null&&!l.hasOwnProperty(we)&&rt(e,t,we,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:rt(e,t,te,ne,l,ae)}return;default:if(Vu(t)){for(var ut in n)ne=n[ut],n.hasOwnProperty(ut)&&ne!==void 0&&!l.hasOwnProperty(ut)&&B0(e,t,ut,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||B0(e,t,ie,ne,l,ae);return}}for(var F in n)ne=n[F],n.hasOwnProperty(F)&&ne!=null&&!l.hasOwnProperty(F)&&rt(e,t,F,null,l,ne);for(ue in l)ne=l[ue],ae=n[ue],!l.hasOwnProperty(ue)||ne===ae||ne==null&&ae==null||rt(e,t,ue,ne,l,ae)}function Jf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var c=n[l],x=c.transferSize,p=c.initiatorType,L=c.duration;if(x&&L&&Jf(p)){for(p=0,L=c.responseEnd,l+=1;l<n.length;l++){var J=n[l],te=J.startTime;if(te>L)break;var ie=J.transferSize,ue=J.initiatorType;ie&&Jf(ue)&&(J=J.responseEnd,p+=ie*(J<L?1:(L-te)/(J-te)))}if(--l,t+=8*(x+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var q0=null,R0=null;function uu(e){return e.nodeType===9?e:e.ownerDocument}function Wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function k0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O0=null;function Eh(){var e=window.event;return e&&e.type==="popstate"?e===O0?!1:(O0=e,!0):(O0=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Bh=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(e){return Pf.resolve(null).then(e).catch(qh)}:Qf;function qh(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function Ff(e,t){var n=t,l=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(c),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ki(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ki(n);for(var x=n.firstChild;x;){var p=x.nextSibling,L=x.nodeName;x[Lt]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=p}}else n==="body"&&Ki(e.ownerDocument.body);n=c}while(n);ni(t)}function $f(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function I0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":I0(n),vt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Rh(e,t,n,l){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Lt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function kh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function ed(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function H0(e){return e.data==="$?"||e.data==="$~"}function Y0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Oh(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var U0=null;function td(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function nd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ld(e,t,n){switch(t=uu(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vt(e)}var Tn=new Map,ad=new Set;function cu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=T.d;T.d={f:Ih,r:Hh,D:Yh,C:Uh,L:Zh,m:Kh,X:Jh,S:Xh,M:Wh};function Ih(){var e=yl.f(),t=$r();return e||t}function Hh(e){var t=wl(e);t!==null&&t.tag===5&&t.type==="form"?po(t):yl.r(e)}var $a=typeof document>"u"?null:document;function id(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var c=Cn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),ad.has(c)||(ad.add(c),e={rel:e,crossOrigin:n,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),Ot(t,"link",e),Et(t),l.head.appendChild(t)))}}function Yh(e){yl.D(e),id("dns-prefetch",e,null)}function Uh(e,t){yl.C(e,t),id("preconnect",e,t)}function Zh(e,t,n){yl.L(e,t,n);var l=$a;if(l&&e&&t){var c='link[rel="preload"][as="'+Cn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Cn(n.imageSizes)+'"]')):c+='[href="'+Cn(e)+'"]';var x=c;switch(t){case"style":x=ei(e);break;case"script":x=ti(e)}Tn.has(x)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(x,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Xi(x))||t==="script"&&l.querySelector(Ji(x))||(t=l.createElement("link"),Ot(t,"link",e),Et(t),l.head.appendChild(t)))}}function Kh(e,t){yl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Cn(l)+'"][href="'+Cn(e)+'"]',x=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ti(e)}if(!Tn.has(x)&&(e=v({rel:"modulepreload",href:e},t),Tn.set(x,e),n.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ji(x)))return}l=n.createElement("link"),Ot(l,"link",e),Et(l),n.head.appendChild(l)}}}function Xh(e,t,n){yl.S(e,t,n);var l=$a;if(l&&e){var c=Sa(l).hoistableStyles,x=ei(e);t=t||"default";var p=c.get(x);if(!p){var L={loading:0,preload:null};if(p=l.querySelector(Xi(x)))L.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(x))&&Z0(e,n);var J=p=l.createElement("link");Et(J),Ot(J,"link",e),J._p=new Promise(function(te,ie){J.onload=te,J.onerror=ie}),J.addEventListener("load",function(){L.loading|=1}),J.addEventListener("error",function(){L.loading|=2}),L.loading|=4,su(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:L},c.set(x,p)}}}function Jh(e,t){yl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),x=l.get(c);x||(x=n.querySelector(Ji(c)),x||(e=v({src:e,async:!0},t),(t=Tn.get(c))&&K0(e,t),x=n.createElement("script"),Et(x),Ot(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function Wh(e,t){yl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,c=ti(e),x=l.get(c);x||(x=n.querySelector(Ji(c)),x||(e=v({src:e,async:!0,type:"module"},t),(t=Tn.get(c))&&K0(e,t),x=n.createElement("script"),Et(x),Ot(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(c,x))}}function rd(e,t,n,l){var c=(c=xe.current)?cu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(c).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var x=Sa(c).hoistableStyles,p=x.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,p),(x=c.querySelector(Xi(e)))&&!x._p&&(p.instance=x,p.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),x||Vh(c,e,n,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(c).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ei(e){return'href="'+Cn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Vh(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ot(t,"link",n),Et(t),e.head.appendChild(t))}function ti(e){return'[src="'+Cn(e)+'"]'}function Ji(e){return"script[async]"+e}function cd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(l)return t.instance=l,Et(l),l;var c=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Et(l),Ot(l,"style",c),su(l,n.precedence,e),t.instance=l;case"stylesheet":c=ei(n.href);var x=e.querySelector(Xi(c));if(x)return t.state.loading|=4,t.instance=x,Et(x),x;l=ud(n),(c=Tn.get(c))&&Z0(l,c),x=(e.ownerDocument||e).createElement("link"),Et(x);var p=x;return p._p=new Promise(function(L,J){p.onload=L,p.onerror=J}),Ot(x,"link",l),t.state.loading|=4,su(x,n.precedence,e),t.instance=x;case"script":return x=ti(n.src),(c=e.querySelector(Ji(x)))?(t.instance=c,Et(c),c):(l=n,(c=Tn.get(x))&&(l=v({},n),K0(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Et(c),Ot(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,su(l,n.precedence,e));return t.instance}function su(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,x=c,p=0;p<l.length;p++){var L=l[p];if(L.dataset.precedence===t)x=L;else if(x!==c)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Z0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function K0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xu=null;function sd(e,t,n){if(xu===null){var l=new Map,c=xu=new Map;c.set(n,l)}else c=xu,l=c.get(n),l||(l=new Map,c.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var x=n[c];if(!(x[Lt]||x[At]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var p=x.getAttribute(t)||"";p=e+p;var L=l.get(p);L?L.push(x):l.set(p,[x])}}return l}function xd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Qh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function od(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ph(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ei(l.href),x=t.querySelector(Xi(c));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ou.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Et(x);return}x=t.ownerDocument||t,l=ud(l),(c=Tn.get(c))&&Z0(l,c),x=x.createElement("link"),Et(x);var p=x;p._p=new Promise(function(L,J){p.onload=L,p.onerror=J}),Ot(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ou.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var X0=0;function Fh(e,t){return e.stylesheets&&e.count===0&&du(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&du(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&X0===0&&(X0=62500*Lh());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&du(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>X0?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function ou(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fu=null;function du(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fu=new Map,t.forEach($h,e),fu=null,ou.call(e))}function $h(e,t){if(!(t.state.loading&4)){var n=fu.get(e);if(n)var l=n.get(null);else{n=new Map,fu.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<c.length;x++){var p=c[x];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}c=t.instance,p=c.getAttribute("data-precedence"),x=n.get(p)||l,x===l&&n.set(null,c),n.set(p,c),this.count++,l=ou.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),x?x.parentNode.insertBefore(c,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Wi={$$typeof:G,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function e2(e,t,n,l,c,x,p,L,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Le(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Le(0),this.hiddenUpdates=Le(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=x,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function fd(e,t,n,l,c,x,p,L,J,te,ie,ue){return e=new e2(e,t,n,p,J,te,ie,ue,L),t=1,x===!0&&(t|=24),x=on(3,null,null,t),e.current=x,x.stateNode=e,t=jc(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},Nc(x),e}function dd(e){return e?(e=La,e):La}function hd(e,t,n,l,c,x){c=dd(c),l.context===null?l.context=c:l.pendingContext=c,l=Tl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Ll(e,l,t),n!==null&&(tn(n,e,t),zi(n,e,t))}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function J0(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function bd(e){if(e.tag===13||e.tag===31){var t=la(e,67108864);t!==null&&tn(t,e,67108864),J0(e,67108864)}}function gd(e){if(e.tag===13||e.tag===31){var t=bn();t=dt(t);var n=la(e,t);n!==null&&tn(n,e,t),J0(e,t)}}var hu=!0;function t2(e,t,n,l){var c=C.T;C.T=null;var x=T.p;try{T.p=2,W0(e,t,n,l)}finally{T.p=x,C.T=c}}function n2(e,t,n,l){var c=C.T;C.T=null;var x=T.p;try{T.p=8,W0(e,t,n,l)}finally{T.p=x,C.T=c}}function W0(e,t,n,l){if(hu){var c=V0(l);if(c===null)G0(e,t,l,mu,n),yd(e,l);else if(a2(c,e,t,n,l))l.stopPropagation();else if(yd(e,l),t&4&&-1<l2.indexOf(e)){for(;c!==null;){var x=wl(c);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var p=ve(x.pendingLanes);if(p!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;p;){var J=1<<31-se(p);L.entanglements[1]|=J,p&=~J}Pn(x),(Qe&6)===0&&(Pr=Je()+500,Yi(0))}}break;case 31:case 13:L=la(x,2),L!==null&&tn(L,x,2),$r(),J0(x,2)}if(x=V0(l),x===null&&G0(e,t,l,mu,n),x===c)break;c=x}c!==null&&l.stopPropagation()}else G0(e,t,l,null,n)}}function V0(e){return e=Pu(e),Q0(e)}var mu=null;function Q0(e){if(mu=null,e=Vt(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mu=e,null}function vd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case Sl:return 2;case Ql:return 8;case Rn:case _a:return 32;case kn:return 268435456;default:return 32}default:return 32}}var P0=!1,Ul=null,Zl=null,Kl=null,Vi=new Map,Qi=new Map,Xl=[],l2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Kl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Pi(e,t,n,l,c,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[c]},t!==null&&(t=wl(t),t!==null&&bd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function a2(e,t,n,l,c){switch(t){case"focusin":return Ul=Pi(Ul,e,t,n,l,c),!0;case"dragenter":return Zl=Pi(Zl,e,t,n,l,c),!0;case"mouseover":return Kl=Pi(Kl,e,t,n,l,c),!0;case"pointerover":var x=c.pointerId;return Vi.set(x,Pi(Vi.get(x)||null,e,t,n,l,c)),!0;case"gotpointercapture":return x=c.pointerId,Qi.set(x,Pi(Qi.get(x)||null,e,t,n,l,c)),!0}return!1}function pd(e){var t=Vt(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Fl(e.priority,function(){gd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Fl(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=V0(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Qu=l,n.target.dispatchEvent(l),Qu=null}else return t=wl(n),t!==null&&bd(t),e.blockedOn=n,!1;t.shift()}return!0}function _d(e,t,n){bu(e)&&n.delete(t)}function i2(){P0=!1,Ul!==null&&bu(Ul)&&(Ul=null),Zl!==null&&bu(Zl)&&(Zl=null),Kl!==null&&bu(Kl)&&(Kl=null),Vi.forEach(_d),Qi.forEach(_d)}function gu(e,t){e.blockedOn===t&&(e.blockedOn=null,P0||(P0=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,i2)))}var vu=null;function Sd(e){vu!==e&&(vu=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){vu===e&&(vu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Q0(l||n)===null)continue;break}var x=wl(n);x!==null&&(e.splice(t,3),t-=3,Vc(x,{pending:!0,data:c,method:n.method,action:l},l,c))}}))}function ni(e){function t(J){return gu(J,e)}Ul!==null&&gu(Ul,e),Zl!==null&&gu(Zl,e),Kl!==null&&gu(Kl,e),Vi.forEach(t),Qi.forEach(t);for(var n=0;n<Xl.length;n++){var l=Xl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xl.length&&(n=Xl[0],n.blockedOn===null);)pd(n),n.blockedOn===null&&Xl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var c=n[l],x=n[l+1],p=c[Ut]||null;if(typeof x=="function")p||Sd(n);else if(p){var L=null;if(x&&x.hasAttribute("formAction")){if(c=x,p=x[Ut]||null)L=p.formAction;else if(Q0(c)!==null)continue}else L=p.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Sd(n)}}}function Cd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function F0(e){this._internalRoot=e}yu.prototype.render=F0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();hd(n,l,e,t,null,null)},yu.prototype.unmount=F0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hd(e.current,2,null,e,null,null),$r(),t[Cl]=null}};function yu(e){this._internalRoot=e}yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=sn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xl.length&&t!==0&&t<Xl[n].priority;n++);Xl.splice(n,0,e),n===0&&pd(e)}};var wd=r.version;if(wd!=="19.2.3")throw Error(i(527,wd,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=d(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var r2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{tl=pu.inject(r2),Bt=pu}catch{}}return $i.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,l="",c=Ao,x=To,p=Lo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,l,null,c,x,p,Cd),e[Cl]=t.current,E0(e),new F0(t)},$i.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var l=!1,c="",x=Ao,p=To,L=Lo,J=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(J=n.formState)),t=fd(e,1,!0,t,n??null,l,c,J,x,p,L,Cd),t.context=dd(null),n=t.current,l=bn(),l=dt(l),c=Tl(l),c.callback=null,Ll(n,c,l),n=l,t.current.lanes=n,gt(t,n),Pn(t),e[Cl]=t.current,E0(e),new yu(t)},$i.version="19.2.3",$i}var Gd;function b2(){if(Gd)return ts.exports;Gd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),ts.exports=m2(),ts.exports}var g2=b2();const el=Yn;function wu(){const u=["nLPWtNjSqG","BgvHDMvZ","zgTAr3i","Cg9ZAxrPB24","mtCXotiZuhLJyLrb","mtjyzM1hA20","zMXVB3i","BgvUz3rO","otCZnJuXnujrs2f4uW","nZu0mtC5ufH0Agjx","ndeXnti2mJbnBu1nwu8","mtrrAhPvzvO","Aw5JBhvKzxm","Dg9tDhjPBMC","BgvHzKLKCW","Bwf4","CMfUzg9T","C3rYAw5NAwz5","otm1nta1shn5D3Dd","mtbfrxnXqu8","kcGOlISPkYKRksSK","CMvKDwnL","mtrPChjbDuO","mte5mJC2ogXzAgfOCa","nZu4mJKWnxrHywLrCq","zMLUza","C2XPy2u"];return wu=function(){return u},wu()}(function(u,r){const a=Yn,i=u();for(;;)try{if(-parseInt(a(246))/1*(parseInt(a(226))/2)+parseInt(a(251))/3*(parseInt(a(247))/4)+-parseInt(a(233))/5*(parseInt(a(242))/6)+-parseInt(a(237))/7*(parseInt(a(238))/8)+-parseInt(a(250))/9*(parseInt(a(234))/10)+-parseInt(a(239))/11+parseInt(a(252))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(wu,723620);const v2=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),us=v2(void 0,function(){const u=Yn;return us[u(228)]().search(u(235))[u(228)]().constructor(us).search("(((.+)+)+)+$")});us();const ju=()=>new Date().toISOString(),It=u=>u+"_"+Math[el(231)]().toString(36)[el(241)](2,10),je=(u,r,a)=>Math[el(230)](r,Math.min(a,u)),Wl=u=>{const r=el;return u===void 0||{GZKmO:function(i,o){return i===o}}.GZKmO(u,null)?u:JSON.parse(JSON[r(232)](u))};function Yn(u,r){u=u-226;const a=wu();let i=a[u];if(Yn.gAXVny===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Yn.abLUWE=o,Yn.tpnNKJ={},Yn.gAXVny=!0}const f=a[0],m=u+f,y=Yn.tpnNKJ[m];if(y)i=y;else{const h=function(d){this.NBPvpe=d,this.GzYyOb=[1,0,0],this.kZIcqQ=function(){return"newState"},this.cRvayP="\\w+ *\\(\\) *{\\w+ *",this.MoRJrC=`['|"].+['|"];? *}`};h.prototype.VQzNsX=function(){const d=new RegExp(this.cRvayP+this.MoRJrC),g=d.test(this.kZIcqQ.toString())?--this.GzYyOb[1]:--this.GzYyOb[0];return this.yuSrav(g)},h.prototype.yuSrav=function(d){return~d?this.nSRRJg(this.NBPvpe):d},h.prototype.nSRRJg=function(d){for(let g=0,v=this.GzYyOb.length;g<v;g++)this.GzYyOb.push(Math.round(Math.random())),v=this.GzYyOb.length;return d(this.GzYyOb[0])},new h(Yn).VQzNsX(),i=Yn.abLUWE(i),Yn.tpnNKJ[m]=i}return i}const tr=u=>Math[el(248)](u*.7/5)*5;function ya(u,r){const a=el;return u.groups?u.groups[a(240)](i=>i.flowerIds[a(227)](r))??null:null}function y2(u,r){const a=el,i={dkZGr:function(f,m,y){return f(m,y)}},o=i[a(244)](ya,u,r);return o?o.flowerIds:[r]}function ri(u,r){const a=el;return u.leafGroups?u.leafGroups.find(i=>i.leafIds[a(227)](r))??null:null}function p2(u,r){const a=el,i={LtRsw:function(h,d){return h===d}},o=(u.leafGroups??[])[a(240)](h=>h.id===r);if(!o||i.LtRsw(o.leafIds[a(249)],0))return{x:0,y:0};const f=o.leafIds.map(h=>(u[a(243)]??[])[a(240)](d=>d.id===h)).filter(h=>!!h);if(f[a(249)]===0)return{x:0,y:0};const m=f[a(236)]((h,d)=>h+d[a(245)].x,0),y=f.reduce((h,d)=>h+d.position.y,0);return{x:m/f[a(249)],y:y/f.length}}function _2(u,r){const a=el,i=ri(u,r);return i?i[a(229)]:[r]}(function(u,r){const a=Kt,i=u();for(;;)try{if(parseInt(a(334))/1+-parseInt(a(349))/2*(-parseInt(a(313))/3)+parseInt(a(345))/4*(parseInt(a(336))/5)+-parseInt(a(326))/6+-parseInt(a(358))/7*(parseInt(a(329))/8)+parseInt(a(357))/9*(parseInt(a(325))/10)+-parseInt(a(330))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(zu,639520);const S2=(function(){let u=!0;return function(r,a){{const i=u?function(){const o=Kt;if(a){const f=a[o(342)](r,arguments);return a=null,f}}:function(){};return u=!1,i}}})(),cs=S2(void 0,function(){const u=Kt,r={UYsGH:"(((.+)+)+)+$"};return cs.toString().search("(((.+)+)+)+$")[u(337)]().constructor(cs).search(r.UYsGH)});cs();const ii=2/3,Bd=.6,C2=.25,w2=.75;function Kt(u,r){u=u-308;const a=zu();let i=a[u];if(Kt.cruIXb===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Kt.cMcSEN=o,Kt.DtGSTY={},Kt.cruIXb=!0}const f=a[0],m=u+f,y=Kt.DtGSTY[m];if(y)i=y;else{const h=function(d){this.dkDZqV=d,this.uIVUdq=[1,0,0],this.QzdaZf=function(){return"newState"},this.BsDzgU="\\w+ *\\(\\) *{\\w+ *",this.zscxVY=`['|"].+['|"];? *}`};h.prototype.sEJivP=function(){const d=new RegExp(this.BsDzgU+this.zscxVY),g=d.test(this.QzdaZf.toString())?--this.uIVUdq[1]:--this.uIVUdq[0];return this.PHRQuC(g)},h.prototype.PHRQuC=function(d){return~d?this.BNAkrU(this.dkDZqV):d},h.prototype.BNAkrU=function(d){for(let g=0,v=this.uIVUdq.length;g<v;g++)this.uIVUdq.push(Math.round(Math.random())),v=this.uIVUdq.length;return d(this.uIVUdq[0])},new h(Kt).sEJivP(),i=Kt.cMcSEN(i),Kt.DtGSTY[m]=i}return i}function Vl(u,r,a){const i=Kt,o={XLhXO:function(G,E){return G/E},QAUru:function(G,E){return G<=E},tlOik:function(G,E){return G*E},jYnLW:function(G,E){return G+E},RLxwB:function(G,E){return G-E},CQPjP:function(G,E){return G*E},awDPJ:function(G,E){return G===E},qBpsm:function(G,E){return G/E},pUgSG:function(G,E){return G*E},TOovd:function(G,E){return G===E},bPYAe:"gradual",ZYTPp:function(G,E){return G/E},CHFAG:function(G,E){return G/E},ebrwZ:function(G,E){return G*E}},f=u/2,m=o[i(310)](r*Math[i(311)],2);if(o.QAUru(m,0)||o[i(328)](f,0))return{diameter:u,layerCount:1};const y=a?.[i(351)]??"uniform",h=a?.[i(355)]??0,d=o[i(314)](m,1-ii),g=o[i(310)](Math.PI*f,2),v=a?.layerCount??Math.max(1,Math[i(331)](g/d)),N=y===i(309)?o.jYnLW(r,o[i(314)](o.RLxwB(v,1),h)):r,b=o[i(310)](o.CQPjP(N,Math[i(311)]),2),M=o[i(317)](m*C2,b*w2);if(o[i(308)](v,1)){const G=Math[i(356)](o[i(353)](Math.PI,2),o[i(353)](b*ii,f)),E=f*Math[i(333)](G),k=o.tlOik(o.CQPjP(b,Bd),Math.sin(G));return{diameter:Math[i(331)](Math.max(u,o[i(324)](2,o[i(317)](E,k)))),layerCount:v}}let j=o.XLhXO(m*ii,f);for(let G=1;G<v;G++){const E=o[i(339)](y,o[i(346)])?r+o.pUgSG(G,h):r,k=E*Math.SQRT2/2;j+=o[i(340)](o[i(324)](k,1-ii),f)}j=Math[i(356)](j,o[i(338)](Math.PI,2));const S=(f+o.ebrwZ(M,Bd))*Math.sin(j),Z=Math.max(0,o[i(321)](S,f));return{diameter:Math.round(o.jYnLW(u,2*Z)),layerCount:v}}function ar(u,r,a="uniform",i=0){const o=Kt,f={siBxZ:function(h,d){return h<=d},xiIAP:function(h,d){return h<=d},LCtCb:function(h,d){return h<d}};if(f[o(350)](r,0)||f[o(323)](u,0))return 0;const m=[];for(let h=0;f[o(320)](h,r);h++){const d=a===o(309)?u+h*i:u;m[o(360)](d*Math.SQRT2/2)}let y=m[0];for(let h=1;f[o(320)](h,r);h++)y+=m[h]/3;return Math.round(y*2)}function j2(u,r,a="uniform",i=0){const o=Kt,f={ZXiFM:function(v,N){return v<=N},BcXsb:function(v,N){return v/N},KbuYP:function(v,N){return v/N},HUrQJ:function(v,N){return v===N},QADgJ:function(v,N){return v/N},cBtwc:function(v,N){return v+N},fOTBN:function(v,N){return v*N},flZQw:function(v,N){return v/N}};if(f[o(354)](r,0)||u<=0)return 0;const m=f[o(318)](u,2),y=f.KbuYP(Math.SQRT2,2),h=r;if(f.HUrQJ(a,"uniform")||i===0){const v=f.QADgJ(y*f[o(316)](h,2),3);return Math.max(1,Math[o(331)](m/v))}const d=f[o(312)](i,h-1)*h/6,g=f[o(343)]((m/y-d)*3,f[o(316)](h,2));return Math.max(1,Math[o(331)](g))}function zu(){const u=["ten0q2i","uKX4D0i","ruP3q2C","EgLjqva","CfvNu0C","mtbPAMLqsu0","mteZnZGYmMz4ue5stG","z0LNv2S","uufvCNu","nZa0qwXhALLP","mtKYndK2odfMthDjBvG","CM91BMq","Dw5PzM9YBq","C2LU","oti4mJq4CwjfDKXh","wuXnBuO","mte2ota2nu1mB0zhBW","Dg9tDhjPBMC","q0HgquC","ve9VDMq","wLLuuha","Bwf4","yxbWBhK","zMXAuxC","EePMvxe","mtjYALnVr1i","yLbzqwu","ChDqC04","CLvPqKK","mZiYmtjLwe9Ku0i","C2LcEfO","C2L6zu1Vzgu","wNHzuve","CujWC20","wLHPrK0","C2L6zvn0zxbnBq","BwLU","odaYodG1nuHzrePzrW","odG5nJn5s0PPsNO","qw9lBxC","ChvZAa","yxDeueO","z3jHzhvHBa","weXOwe8","u1fsvdi","zK9uqK4","mJe5AKTVuejY","DgXpAwS","AvntDve","y0j0D2m","ALLUtfC","qMnyC2i","v1jWD08"];return zu=function(){return u},zu()}function z2(u,r,a){const i=Kt,o={pwPsN:function(y,h){return y/h},cTyCz:function(y,h){return y*h},pGSQb:function(y,h){return y<h},EJwCg:function(y,h){return y+h},xJfUq:function(y,h){return y<h},nYVEP:function(y,h){return y!==h},yvlOD:function(y,h){return y+h}};if(u<=r)return 1;let f=1,m=80;for(let y=0;o.pGSQb(y,30);y++){const h=o[i(347)](o[i(322)](f,m),2),{diameter:d}=Vl(r,h,a);if(o[i(344)](d,u))f=h;else if(o.nYVEP(i(335),i(327)))m=h;else{const g=o.pwPsN(_0x5ae0ce,3),v=o.cTyCz(_0x43c38d.PI,_0x159722)/2;return _0x38be0a.max(1,_0x533001.round(v/g))}}return Math.max(1,Math[i(331)](o.pwPsN(o.yvlOD(f,m),2)))}function M2(u,r,a){const i=Kt,o={WRpwO:function(N,b){return N*b},AoKmw:function(N,b){return N/b},kbeJu:"uniform",tSJTm:function(N,b){return N===b},CrcAn:function(N,b){return N/b},egnxF:function(N,b){return N/b},ZxYQQ:function(N,b){return N>=b},iSSuQ:function(N,b){return N<b},jWlyf:function(N,b){return N+b},DrqlJ:function(N,b){return N*b},sLBQx:function(N,b){return N-b},rUiBI:function(N,b){return N>b}},f=u/2,m=o[i(319)](r,Math[i(311)])/2;if(m<=0||f<=0)return 1;const y=a?.sizeMode??i(332),h=a?.sizeStepMm??0,d=o[i(359)](Math.PI,2);if(y===o.kbeJu||o.tSJTm(h,0)){const N=o.CrcAn(m,3),b=o.egnxF(o[i(319)](Math.PI,f),2);return Math.max(1,Math[i(331)](b/N))}let g=m*ii/f;if(o[i(352)](g,d))return 1;let v=1;for(let N=1;o[i(315)](N,100);N++){const b=o.jWlyf(r,o.DrqlJ(N,h)),M=o.egnxF(b*Math[i(311)],2),j=o.WRpwO(M,o.sLBQx(1,ii))/f;if(g+=j,o[i(348)](g,d+o.egnxF(j,2)))break;v=N+1}return Math[i(341)](1,v)}const pl=Un;function Mu(){const u=["Evj2C0y","ChvZAa","C2LU","DNfNA1i","weX5AMS","B1DyA28","Au9fqwq","y29Z","qK1kBey","u1fsvdi","q3rOswC","5y2k44gp44gz","Aef6q3K","Dg9gAxHLza","rM5WrMW","yMDPyNm","mJm4otm2mgHjzgDNsq","suPrDgS","AM9PBG","C2nHBgu","uuXct0S","CgzNt3a","yKTLse8","DunpEwe","ueHowwy","Dg9tDhjPBMC","zuLdqwu","y29UC3rYDwn0B3i","C29YDa","zNbtrLm","vxjJBMq","mta2otu0mZHUAM5muMW","z0j3yLK","ndiZndnesLfXwgy","zMXVB3i","tg1oq2y","mti0mZm4ngXZr3vuEq","zMLUza","CM91BMq","seHdDgq","mZCZmtaXugfjwfvP","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","mZu5otG4B2jTtLvP","rvDgrKi","BgvUz3rO","ChzjvwW","BwLU","mJGYsK5xsxjR","vLnXt1q","ywjZ","zfvfq1i","EwzNDeO","C2vHCMnO","zKTNzeG","A29vqNC","veThENe","B3jKzxi","CMfKAxvZ","v0HfyLa","DenAteq","AgLrB04","wLfAqNC","CxzfAei","D0rSz2S","mKXYALziDG","C1PWyuS","DejrwvC","CLHMB1O","Ew55wge","AhfOu1G","CvDHvw4","uhPAChO","D2jrAKK","qwDPwem","mtC0ntqWnM5euxHvtq"];return Mu=function(){return u},Mu()}(function(u,r){const a=Un,i=u();for(;;)try{if(parseInt(a(499))/1*(-parseInt(a(448))/2)+-parseInt(a(458))/3+parseInt(a(501))/4+parseInt(a(475))/5+parseInt(a(506))/6*(-parseInt(a(492))/7)+parseInt(a(495))/8+parseInt(a(490))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Mu,672468);const D2=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),ss=D2(void 0,function(){const u=Un,r={yXfOY:"(((.+)+)+)+$"};return ss.toString()[u(511)](r.yXfOY)[u(484)]()[u(486)](ss).search("(((.+)+)+)+$")});ss();const ur=.28,qd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:pl(500)};function xs(u){const r={bJuPU:""};return u===r.bJuPU?qd[r.bJuPU]:qd.}function pa(u){return{ReNeu:function(a,i){return a*i}}.ReNeu(u,Math.PI)/180}const un=2.7;function Un(u,r){u=u-441;const a=Mu();let i=a[u];if(Un.JJkdjQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Un.snXJQH=o,Un.ucoXFa={},Un.JJkdjQ=!0}const f=a[0],m=u+f,y=Un.ucoXFa[m];if(y)i=y;else{const h=function(d){this.lsqltG=d,this.pAqCQw=[1,0,0],this.ZyWWPH=function(){return"newState"},this.haRNKJ="\\w+ *\\(\\) *{\\w+ *",this.FKYUXn=`['|"].+['|"];? *}`};h.prototype.zmYHap=function(){const d=new RegExp(this.haRNKJ+this.FKYUXn),g=d.test(this.ZyWWPH.toString())?--this.pAqCQw[1]:--this.pAqCQw[0];return this.ievqeK(g)},h.prototype.ievqeK=function(d){return~d?this.rIjlhu(this.lsqltG):d},h.prototype.rIjlhu=function(d){for(let g=0,v=this.pAqCQw.length;g<v;g++)this.pAqCQw.push(Math.round(Math.random())),v=this.pAqCQw.length;return d(this.pAqCQw[0])},new h(Un).zmYHap(),i=Un.snXJQH(i),Un.ucoXFa[m]=i}return i}function Ht(u){const r=pl,a={MHlss:function(m,y){return m/y},tBQYW:function(m,y){return m*y}},i=a.MHlss(a[r(450)](u,Math[r(468)]),2),o=a[r(450)](i,un),f=o/2;return{length:o,width:f}}function N2(u){return{iNzvA:function(a,i){return a*i}}.iNzvA(u,un)/2}function nr(u,r,a){const i=pl,o={mYRdV:function(d,g){return d(g)},rfJfA:function(d,g){return d*g},fKgdH:function(d,g){return d+g},zeFJq:function(d,g){return d*g}},{length:f}=o.mYRdV(Ht,a),m=o.rfJfA(f,r),y=Math.max(0,u-m*ur),h=o[i(512)](y,m);return o.zeFJq(h,2)/un}function A2(u,r,a){const i=pl,o={pfgOp:function(h,d){return h(d)},vqgkR:function(h,d){return h*d},wDlgk:function(h,d){return h/d},MACwY:function(h,d){return h-d}},{length:f}=o[i(480)](Ht,a),m=o[i(462)](f,r),y=o[i(447)](o[i(462)](u,un),2);return Math.max(2,y-m*o.MACwY(1,ur))}function $n(u,r,a){const i=pl,o={AgiXC:function(g,v){return g<=v},wbQjI:function(g,v){return g<v},FyjnN:function(g,v){return g*v},dztCc:function(g,v){return g/v},dUECR:function(g,v){return g*v},IJQtk:function(g,v){return g+v},XdUDN:function(g,v){return g===v},WHEbP:function(g,v){return g??v},HXcnD:function(g,v){return g/v},hiQoN:function(g,v){return g%v},yFqqW:function(g,v){return g+v},PzZpz:function(g,v){return g/v},wlnUY:function(g,v){return g+v},NxRGe:function(g,v){return g-v},qvEhB:function(g,v){return g-v},VSqOT:function(g,v){return g<v},EWFFB:"pvMIn"};if(!u||o[i(457)](u,0)||!a||a<=0)return o[i(442)](r,0);const f=o.HXcnD(360,u),m=360/a,y=[];for(let g=0;o.wbQjI(g,u);g++)y.push(o[i(444)](o[i(444)](r+g*f,360)+360,360));let h=o[i(476)](r,f/2),d=-1;for(let g=0;o[i(456)](g,u);g++){const v=o.yFqqW(r+o.dUECR(g,f),o[i(455)](f,2));let N=1/0;for(let b=0;b<a;b++){const M=o[i(444)](o.wlnUY(o[i(444)](o.yFqqW(v,b*m),360),360),360);for(const j of y){let S=Math[i(508)](o.NxRGe(M,j));S>180&&(S=o[i(446)](360,S)),o[i(507)](S,N)&&(N=S)}}if(N>d)if(i(467)!==o[i(502)])d=N,h=v;else{if(!_0x55cb5e||sOLgGe.AgiXC(_0x33601f,0)||_0x2e6497<=0)return"";const b=[];for(let M=0;sOLgGe.wbQjI(M,_0x50f337);M++){const j=sOLgGe.FyjnN(M/_0x15fa65*2,_0x51d791.PI),S=sOLgGe.FyjnN(sOLgGe.dztCc(M+.5,_0x4b4760)*2,_0x21d58b.PI),Z=sOLgGe.dUECR(sOLgGe.IJQtk(M,1)/_0x3ffe64,2)*_0x5eacbb.PI,P=_0x4ede30[i(466)](j)*_0x7a4403,G=_0x40b6c0.sin(j)*_0x320b0c,E=sOLgGe[i(509)](_0x481841[i(466)](S),_0x17908c),k=sOLgGe[i(509)](_0x4cdf0f.sin(S),_0x185b2e),I=_0x4b8cf4[i(466)](Z)*_0x4d230f,B=sOLgGe.FyjnN(_0x202569.sin(Z),_0xc9e411);sOLgGe.XdUDN(M,0)&&b.push("M "+P.toFixed(2)+" "+G[i(472)](2)),b[i(460)]("Q "+E[i(472)](2)+" "+k.toFixed(2)+" "+I[i(472)](2)+" "+B[i(472)](2))}return b[i(460)]("Z"),b[i(477)](" ")}}return Math.round(h*10)/10}function Ku(u,r,a){const i=pl,o={bKeHO:function(b,M){return b===M},XLyjk:function(b,M){return b(M)},ImkBj:function(b,M){return b*M},sZpaK:function(b,M){return b<=M},CthIg:function(b,M){return b*M},ZQZBw:function(b,M){return b*M},yRvsF:function(b,M,j){return b(M,j)}};if(o[i(481)](u[i(503)],0))return;const{length:f}=o[i(463)](Ht,r),m=u[0],y=m[i(478)]??1,h=f*y,d=Math.max(0,m[i(441)]-o.ImkBj(h,ur)),g=d+h;if(o[i(449)](g,0))return;const v=o[i(469)](a,un)/2,N=v/g;for(const b of u)b[i(441)]=Math.max(2,Math[i(497)](o[i(445)](o.ZQZBw(b[i(441)],N),10))/10),b.scale=Math[i(497)](o.ZQZBw((b[i(478)]??1)*N,100))/100;o[i(459)](os,u,r)}function os(u,r){const a=pl,i={yfgtJ:function(h,d){return h%d},UdJMj:function(h,d){return h+d},hAzCy:function(h,d){return h%d},udsik:function(h,d){return h+d},Urcnd:function(h,d){return h-d},koUBw:function(h,d){return h-d},BSTFS:function(h,d){return h(d)},ynyXa:function(h,d){return h*d},PHNYf:function(h,d){return h/d},yBGEx:function(h,d){return h*d},oWXko:function(h,d){return h>d},tPeny:a(443)};if(u.length===0)return;const o=u[i[a(513)](u.length,1)],{length:f}=i.BSTFS(Ht,r),m=i[a(452)](f,o.scale??1),y=i[a(483)](Math.floor(i.yBGEx(m,ur)*10),10);if(i[a(464)](o.radius,y))if(i.tPeny!=="kjeuf")o.radius=y;else{const h=utdkDo[a(510)](utdkDo.UdJMj(utdkDo[a(471)](utdkDo.udsik(_0x2a1ef6,_0x3c8939*_0xe23ab4),360),360),360);for(const d of _0x2b51e0){let g=_0x15510d[a(508)](utdkDo[a(489)](h,d));g>180&&(g=utdkDo[a(489)](360,g)),g<_0x5a7686&&(_0xadd549=g)}}}function T2(u,r,a,i){const o=pl,f={eICAe:function(N,b){return N*b},GrPRw:function(N,b){return N>b},TKGzq:function(N,b){return N/b},sgNFy:function(N,b){return N-b},rYLyP:function(N,b){return N*b},HHCtd:function(N,b){return N-b},QLBOK:o(470),hqhSX:function(N,b){return N-b},qWaUn:function(N,b){return N*b},fpSFS:function(N,b){return N*b},gejmS:function(N,b){return N(b)},kkxFq:function(N,b){return N!==b},uCOya:o(473),hKmNQ:function(N,b){return N/b},fqKKg:"fgxGJ"};if(u.length===0)return;const m=[...u].sort((N,b)=>b.order-N.order),{length:y}=f.gejmS(Ht,r),h=m.length,d=m[0].scale??1,g=y*d;m[0].radius=f.TKGzq(Math[o(493)](f[o(488)](g,ur)*10),10);for(let N=1;N<h;N++)if(o(474)!=="bgibs"){const M=f.eICAe(70,_0x4c9ece.PI)/180,j=f.GrPRw(_0x35ba8c,1)?f.TKGzq(_0x42caed,f.sgNFy(_0x5cfff3,1))*M:0;_0x3f3116=f.eICAe(f.eICAe(_0x43fbeb,f[o(514)](30,100)),_0x546bba.cos(j))}else{const b=m[f.HHCtd(N,1)],M=f.rYLyP(y,b.scale??1);let j;if(a===f[o(479)]){const Z=f[o(514)](70*Math.PI,180),P=h>1?f[o(454)](N/f.HHCtd(h,1),Z):0;j=f[o(485)](f[o(454)](M,30/100),Math.cos(P))}else{if(f.kkxFq(o(473),f[o(482)]))return DkzEnj.TKGzq(DkzEnj.rYLyP(_0x90c85,_0x2fa67a.PI),180);j=f.hKmNQ(M,3)}m[N].radius=f.TKGzq(Math[o(497)]((b.radius+j)*10),10)}const v=[...u][o(487)]((N,b)=>N[o(515)]-b[o(515)]);Ku(v,r,i);for(const N of v){const b=u[o(496)](M=>M.id===N.id);if(b)if(f.fqKKg!=="gcNcd")b.radius=N.radius,b[o(478)]=N.scale;else{const M=_0x2f167f[f[o(498)](_0x32a78c,1)],j=_0xa778c2*(M.scale??1);let S;if(_0x2af58e===f[o(479)]){const P=70*_0x4c3e21.PI/180,G=_0x12cb20>1?f.rYLyP(f[o(514)](_0x5d1b1a,f[o(453)](_0x15d646,1)),P):0;S=f[o(454)](j*(30/100),_0x277c21[o(466)](G))}else S=j/3;_0x4a2d68[_0x4d9382][o(441)]=_0x276810.round(f[o(488)](M.radius+S,10))/10}}}function ui(u){const r=pl,a={jJIZt:function(h,d){return h/d},pvIUl:function(h,d){return h*d}},i=360/u,o=Math[r(461)](pa(i/2))*2,f=.96,m=1.2,y=a.jJIZt(a[r(504)](o,m),f);return a.jJIZt(Math.round(Math.max(.3,Math[r(505)](3,y))*100),100)}(function(u,r){const a=nn,i=u();for(;;)try{if(-parseInt(a(144))/1*(parseInt(a(205))/2)+parseInt(a(207))/3+-parseInt(a(143))/4*(parseInt(a(139))/5)+-parseInt(a(154))/6+parseInt(a(162))/7+-parseInt(a(129))/8+parseInt(a(155))/9*(parseInt(a(171))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Du,465584);const L2=(function(){const u=nn,r={Fhimt:function(i,o){return i(o)},gsfUA:u(137),wOQkc:function(i,o){return i??o},vSjhS:u(157),TCNsK:function(i,o){return i??o}};let a=!0;return function(i,o){const f=u;if(f(159)===f(159)){const m=a?function(){if(o){const y=o.apply(i,arguments);return o=null,y}}:function(){};return a=!1,m}else{const m=_0x5db3aa(),y=_0x1a50c3();return r.Fhimt(_0x1d318f,{id:r.Fhimt(_0xe78c1f,r[f(134)]),title:r.wOQkc(_0x358338,r[f(198)]),unit:"mm",fabricSquareSize:_0x380d66??20,baseDiameter:r.TCNsK(_0x21b3c4,30),notes:"",createdAt:m,updatedAt:m,palette:y,flowers:[]})}}})(),fs=L2(void 0,function(){const u=nn,r={BWTzx:u(184)};return fs.toString()[u(170)](r[u(214)])[u(213)]()[u(199)](fs).search(r[u(214)])});fs();function Yd(){const u=nn,r={IBLTg:u(136),cdQbZ:"#F5F5F5",uCYpE:u(183),jxFIu:"#E0457B",cnEWp:"col_orange",uhyme:u(201),Nziuu:u(192),AJMjZ:u(148),yqYws:u(209),XDyoe:u(174),IlbtM:u(152),ZzQgT:"#9B59B6",dSREr:"col_lavender",fjcOE:u(138),XsNGN:u(191),YjypE:u(206),fbXpR:"#8B5E3C"};return[{id:r.IBLTg,name:"",hex:r.cdQbZ},{id:"col_red",name:"",hex:u(187)},{id:"col_pink",name:"",hex:u(181)},{id:r.uCYpE,name:"",hex:r.jxFIu},{id:r.cnEWp,name:"",hex:"#F08A3B"},{id:"col_yellow",name:"",hex:"#F2D04B"},{id:r.uhyme,name:"",hex:"#FDF5C9"},{id:u(169),name:"",hex:r.Nziuu},{id:r[u(145)],name:"",hex:r[u(211)]},{id:r[u(176)],name:"",hex:r[u(147)]},{id:"col_blue",name:"",hex:"#3B7DD8"},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:u(141),name:"",hex:r[u(161)]},{id:r.dSREr,name:"",hex:r[u(150)]},{id:r[u(196)],name:"",hex:u(172)},{id:u(194),name:"",hex:"#C0C0C0"},{id:u(210),name:"",hex:r[u(202)]},{id:"col_brown",name:"",hex:r[u(133)]},{id:u(178),name:"",hex:u(135)},{id:"col_coral",name:"",hex:u(200)}]}function Du(){const u=["iZDfqZHfmW","sNbhy0y","mZu3otuYogDyuLnHra","oxrztxv4BG","rMXVD2vYide","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","txLovgu","rgXKDuy","q2vUDgvY","wNPrz1q","ndy3ntCYse15tMfU","rvDxCgq","yK1dAeW","5yMJ44gK44g+44g/","v2jKuhC","Cgv0ywXdB3vUDa","BwfW","y29Sx2DYzwvU","C2vHCMnO","mJmXnZK0odbeAuPkwgG","i0q0qtG0mW","BKztBeK","y29Sx2XPz2H0yMX1zq","B3jKzxi","wer5B2u","BNnyuMq","y29Sx2jSywnR","ChjVAG","v1fREhi","i0yWoencnG","CMfKAxvZ","y29Sx2HVDhbPBMS","kcGOlISPkYKRksSK","5lI444gK44g+44g/","AuzeEuC","i0uZndG1ma","C0vrr1m","Bgf5","Cgv0ywXpDMvYCMLKzxm","y29Sx2DVBgq","iZjgqKy0qq","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","y29Sx3nPBhzLCG","tgjXz2q","whnor04","zMLUza","DLnQAfm","y29UC3rYDwn0B3i","i0yWoda4ma","y29Sx2XPz2H0EwvSBg93","wwP5Ceu","B2zMC2v0qw5NBgu","sw5Uzxi","ndmWnZq4qxPZEfru","i0y1rtzdqW","ndi5otmWq05fBxbb","Bgf5zxjZ","iZfbn0eZqq","y29Sx2nYzwfT","ExfzD3m","y29Sx3jLza","Dg9tDhjPBMC","qLDuENG","ntq2otaWmfz2rgHvyq","C0rYBfG","qK9AD2u","yMTjr3K","zMjyCfi","z3nMvue","iZmZmZmZmW","y29Sx3DOAxrL","ChjQ","i0m4qtjena","nuTfEwDlAq","sKfsAfy","y29Sx3b1CNbSzq","Cg9ZAxrPB24","mtqWnJaZnKDqt2HTvW","mKD5CuDQEq","quPnALO","C29YDa","swXIDe0","y29Sx2rHCMTNCMvLBG","zMX3","zMPJt0u","C2nHBgu"];return Du=function(){return u},Du()}function E2({title:u,fabricSquareSize:r,baseDiameter:a}={}){const i=nn,o={KksTF:function(y){return y()},JpGcF:function(y,h){return y(h)},bMChL:function(y,h){return y??h}},f=ju(),m=o.KksTF(Yd);return o[i(153)](va,{id:o[i(153)](It,i(137)),title:u??"",unit:"mm",fabricSquareSize:o[i(164)](r,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:m,flowers:[]})}function nn(u,r){u=u-129;const a=Du();let i=a[u];if(nn.tbqnky===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};nn.kJxjbG=o,nn.lEijQW={},nn.tbqnky=!0}const f=a[0],m=u+f,y=nn.lEijQW[m];if(y)i=y;else{const h=function(d){this.jCnwgi=d,this.HAlECA=[1,0,0],this.tIaCZN=function(){return"newState"},this.JaojoR="\\w+ *\\(\\) *{\\w+ *",this.JDwOYI=`['|"].+['|"];? *}`};h.prototype.Hkiudj=function(){const d=new RegExp(this.JaojoR+this.JDwOYI),g=d.test(this.tIaCZN.toString())?--this.HAlECA[1]:--this.HAlECA[0];return this.CbQBnp(g)},h.prototype.CbQBnp=function(d){return~d?this.amAvvG(this.jCnwgi):d},h.prototype.amAvvG=function(d){for(let g=0,v=this.HAlECA.length;g<v;g++)this.HAlECA.push(Math.round(Math.random())),v=this.HAlECA.length;return d(this.HAlECA[0])},new h(nn).Hkiudj(),i=nn.kJxjbG(i),nn.lEijQW[m]=i}return i}function G2(u,r){const a=nn,i={MyNTe:function(y,h){return y(h)},iFDyG:a(149)},o=i[a(158)](Wl,u);o.id=It(i[a(186)]),o.name=u.name+" Copy";const f=r?.x??12,m=r?.y??12;return o[a(142)]={x:(u[a(142)]?.x??0)+f,y:(u.position?.y??0)+m},o[a(208)]=(o.layers||[]).map(y=>({...y,id:It(a(189)),petalOverrides:y[a(190)]?y[a(190)][a(168)](h=>({...h})):void 0})),o}function gn(u,r){u=u-405;const a=Nu();let i=a[u];if(gn.vULEuD===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};gn.HFXqbM=o,gn.FmuxTz={},gn.vULEuD=!0}const f=a[0],m=u+f,y=gn.FmuxTz[m];if(y)i=y;else{const h=function(d){this.xpIJFw=d,this.TiSzKy=[1,0,0],this.rpavQp=function(){return"newState"},this.rsjElY="\\w+ *\\(\\) *{\\w+ *",this.TVAGuW=`['|"].+['|"];? *}`};h.prototype.cQYbEM=function(){const d=new RegExp(this.rsjElY+this.TVAGuW),g=d.test(this.rpavQp.toString())?--this.TiSzKy[1]:--this.TiSzKy[0];return this.EMYLbc(g)},h.prototype.EMYLbc=function(d){return~d?this.ulTDdT(this.xpIJFw):d},h.prototype.ulTDdT=function(d){for(let g=0,v=this.TiSzKy.length;g<v;g++)this.TiSzKy.push(Math.round(Math.random())),v=this.TiSzKy.length;return d(this.TiSzKy[0])},new h(gn).cQYbEM(),i=gn.HFXqbM(i),gn.FmuxTz[m]=i}return i}(function(u,r){const a=gn,i=u();for(;;)try{if(parseInt(a(449))/1+parseInt(a(428))/2*(-parseInt(a(512))/3)+-parseInt(a(416))/4*(parseInt(a(433))/5)+parseInt(a(493))/6+-parseInt(a(458))/7*(parseInt(a(414))/8)+-parseInt(a(468))/9+-parseInt(a(440))/10*(-parseInt(a(471))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Nu,109026);const B2=(function(){const u={dCuQd:function(a,i){return a!==i}};let r=!0;return function(a,i){const o={dixdh:function(m,y){return u.dCuQd(m,y)}},f=r?function(){const m=gn;if(i)if(o[m(435)]("MPKWz","MPKWz"))delete _0x1a655a.innerSizeReduction;else{const y=i.apply(a,arguments);return i=null,y}}:function(){};return r=!1,f}})(),ds=B2(void 0,function(){const u=gn,r={huzsl:"(((.+)+)+)+$"};return ds.toString()[u(462)](r[u(505)]).toString()[u(515)](ds)[u(462)](r.huzsl)});ds();function Nu(){const u=["Aw5Uzxjty2fSzq","BgvHzKDYB3vWCW","Bgf5zxjZ","y3jLyxrLzef0","zeHSru0","C3rLBMnPBhm","AxngAw5PDgu","5y2k44gp44gz","BMfTzq","EunxEu4","ChvZAa","r1HhruK","zMX3","C2nHBgu","B2jQzwn0","EhnwwfC","B2zMC2v0qw5NBgu","vLvMEeu","mti5nZK2ohDpz0ztBq","Bg9JA2vK","zg91yMXLugv0ywW","txvsAKC","B1Lvvha","tNbOrvi","CM91BMq","sfLcDhm","Cfvosg8","C2L6zq","tgvHzG","Cgv0ywXpDMvYCMLKzxm","Ahv6C2W","tM54Auu","ChjVAG","uKzHu0i","Aw5JBhvKzxm","y29SB3i","BgvHDMvZ","nJnwCfDov2q","AxnbCNjHEq","CgXHy2vTzw50tw9Kzq","y29UC3rYDwn0B3i","44kW44oR44o844ox","z3zorxG","DhLWzq","y29Sx3DOAxrL","Cgv0ywXuExbL","Cg9Zzq","zMXVD2vYCW","CgvWq291BNq","y2vUDgvY","DMzWswW","Ae9ltKu","oefqrLPpva","vvfIrNa","ngTly3HeyG","DxbKyxrLzef0","zMfICMLJu3f1yxjLu2L6zq","vhLXu2m","AgfZ","C3rYAw5N","Dg9tDhjPBMC","Aw5UzxjdB2XVCKLK","x2rVDwjSzvbLDgfSq2fJAgu","CgfSzxr0zq","yM9VBgvHBG","5yMJ44gK44g+44g/","nZK3mgLezNDluG","zMLSDgvY","BerNuNe","6jgj44kW44oR44o844ox","Cg9ZAxrPB24","nJaWmdiWCePPAxnx","Aw5UzxjqzxrHBfr5Cgu","zgL4zgG","u2Lkrem","vuzZtgG","5lI444gK44g+44g/","ywr1Bhq","mJGWtxLWuNDg","DgL0Bgu","y2HPBgq","DxHizxK","BwfW","BgvUz3rO","twDVAuS","z3jVDxbZ","CM90yxrPB24","oti1nxn0ALDqta","vw9HvLy","Aw5UzxjtAxPLuMvKDwn0Aw9U","qvL6Cve","zMXVD2vYswrZ","zMXVD2vYrgLHBwv0zxi","Dw5PDa","qLfbqNq","kcGOlISPkYKRksSK","mtiYotGZsxrRCMTX","yMfZzurPyw1LDgvY","y29SB3jjza","vwDvv3y","C2vHCMnO","DMLZAwjSzq","44or44o844oR","EMjoDvG","BwfYDq","BgvHzKLKCW","mJe0nJiZvvvSrhPh","DMfYAwfUDa","BNPYu0O","nta1mdfJBNjms2S","BM90zxm","wuLSEhi","quXHtuO"];return Nu=function(){return u},Nu()}function is(u){const r=gn,a={DIAiC:function(i,o){return i===o},BQABt:r(438),AYzqQ:r(427)};return a.DIAiC(u,"maru")?a[r(456)]:u==="ken"?a[r(452)]:u===r(438)||u===a[r(452)]?u:""}function va(u){const r=gn,a={NnxiE:function(f,m){return f===m},MgoiK:r(438),ewntx:"ken",UQbFp:r(427),ALaMJ:function(f,m){return f===m},ejyAS:r(457),UgUWv:function(f,m){return f===m},MuRjG:r(487),CFouR:"Flower",HYBts:function(f,m){return f(m)},xsVXW:function(f,m){return f!==m},gvNEx:"col_white",YIlxr:r(489),JqOqh:r(501),eNiHn:r(484),uxHey:function(f,m){return f!=m},UFsLh:function(f,m){return f*m},zkDGy:function(f,m){return f-m},VUfxE:function(f,m){return f!==m},dHlEM:"string",NphER:function(f,m,y,h){return f(m,y,h)},ScFkz:function(f,m){return f<=m},szMFM:r(436),UoaVV:"",GXGEI:r(464),eDGyH:function(f,m){return f!==m},yrXOc:function(f,m){return f<=m},vfpIl:function(f){return f()},RFaSB:"",XbTeC:"grp",TyqSc:"leaf",nzrSJ:function(f,m){return f!==m},LgIib:r(503),qUUTS:function(f,m){return f!==m},ifPNP:function(f,m){return f===m},tllnk:function(f,m){return f!==m},RQtgh:r(431),WuiNk:r(439),oYUTp:r(442),TZWIV:"left"},i=Wl(u||{});Array.isArray(i[r(409)])||(i.flowers=[]);for(const f of i[r(409)])if(a[r(461)](r(413),r(465)))(!_0x4c361f.isFinite(_0x1fd3dc.baseDiameter)||_0x15c0f5[r(459)]<=0)&&delete _0x446a80.baseDiameter;else{f.id||(f.id=It(a[r(496)])),(typeof f.name!==r(421)||!f.name)&&(f.name=a.CFouR),(!f[r(432)]||!Number.isFinite(f.position.x)||!Number[r(481)](f.position.y))&&(f.position={x:260,y:260}),Array.isArray(f[r(477)])||(f[r(477)]=[]);for(const m of f.layers){if(m.id||(m.id=a.HYBts(It,"lay")),(a[r(490)](typeof m[r(460)],r(421))||!m.colorId)&&(m[r(460)]=i.palette?.[0]?.id??a[r(517)]),m[r(407)]=is(m[r(407)]),m.petalCount=je(Number(m.petalCount||0),5,24),Number[r(481)](m[r(488)])||(m[r(488)]=1),Number.isFinite(m.widthScale)||(m.widthScale=1),Number.isFinite(m.radius)||(m.radius=28),Number.isFinite(m.offsetAngle)||(m[r(491)]=0),delete m[r(424)],m[r(495)])if(a.xsVXW(typeof m.doublePetal,a[r(473)])||m[r(495)]===null)delete m[r(495)];else{if(a.JqOqh===a.eNiHn)return WCkiiV.NnxiE(_0x271a04,r(466))?WCkiiV.MgoiK:WCkiiV[r(506)](_0x5f4b19,WCkiiV.ewntx)?WCkiiV[r(415)]:WCkiiV[r(474)](_0x556914,r(438))||_0x8951b6===r(427)?_0x36e473:WCkiiV[r(446)];if(a.uxHey(m.doublePetal[r(475)],null)&&m[r(495)].innerSizeReduction==null){const y=f[r(418)]??i.fabricSquareSize??20;m[r(495)].innerSizeReduction=Math[r(499)](a[r(437)](y,a.zkDGy(1,m.doublePetal[r(475)])))}delete m[r(495)][r(475)],Number[r(481)](m[r(495)][r(451)])||(m.doublePetal.innerSizeReduction=2),m[r(495)].innerSizeReduction=je(m.doublePetal[r(451)],1,30),delete m[r(495)].innerPetalType,m[r(495)].innerColorId!=null&&a[r(492)](typeof m.doublePetal.innerColorId,a.dHlEM)&&delete m.doublePetal.innerColorId}if(Array.isArray(m.petalOverrides))for(const y of m[r(504)])y&&y[r(407)]!=null&&(y[r(407)]=is(y[r(407)])),y&&delete y[r(434)],y&&a[r(443)](y.innerColorId,null)&&typeof y[r(423)]!="string"&&delete y.innerColorId,y&&y[r(451)]!=null&&(Number[r(481)](y[r(451)])?y.innerSizeReduction=a[r(498)](je,y.innerSizeReduction,1,30):delete y[r(451)])}if((!Number[r(481)](f[r(454)])||a.ScFkz(f.flowerDiameter,0))&&(f.flowerDiameter=60),f.center)if(a.NnxiE(a.szMFM,a.szMFM))f[r(411)].type===""&&(f[r(411)].type=""),["","",a[r(450)]][r(509)](f[r(411)].type)||(f.center[r(405)]=a[r(486)]),Number.isFinite(f.center.size)||(f[r(411)][r(502)]=6),f.center[r(502)]=a.NphER(je,f.center[r(502)],1,30),(a[r(490)](typeof f.center.color,a[r(479)])||!f.center[r(510)])&&(f[r(411)][r(510)]=i[r(425)]?.[0]?.id??r(406)),f.center.type===""&&(r(430)!=="lDgRq"?_0x2d63ef[r(481)](_0x3aa7e6[r(451)])?_0x3a08f9.innerSizeReduction=_0x43b7cc(_0x94d9af[r(451)],1,30):delete _0x1d142d[r(451)]:(Number[r(481)](f.center[r(410)])||(f.center[r(410)]=12),f.center.pepCount=je(f[r(411)].pepCount,4,30))),f.center[r(405)]!==""&&delete f.center.color2;else return _0x64f19c[r(422)]().search(WCkiiV.ejyAS)[r(422)]()[r(515)](_0x2403bb)[r(462)]("(((.+)+)+)+$");a.xsVXW(f[r(514)],r(482))&&a[r(490)](f.placementMode,"")&&(f[r(514)]=""),a.eDGyH(f.baseDiameter,void 0)&&(!Number.isFinite(f.baseDiameter)||a.yrXOc(f.baseDiameter,0))&&delete f.baseDiameter}Array[r(513)](i.palette)||(i.palette=[]);const o=new Set(i.palette[r(444)](f=>f.id));for(const f of a[r(412)](Yd))o[r(420)](f.id)||i.palette[r(485)](f);i.createdAt||(i[r(478)]=a.vfpIl(ju)),i.updatedAt||(i[r(417)]=i.createdAt),i.id||(i.id=a.HYBts(It,r(507))),i.title||(i[r(441)]=a[r(508)]),i[r(455)]="mm",Number.isFinite(i.fabricSquareSize)||(i[r(418)]=20),(!Number.isFinite(i[r(459)])||i.baseDiameter<=0)&&(i.baseDiameter=30),a.eDGyH(typeof i[r(472)],a.dHlEM)&&(i.notes=""),Array[r(513)](i.groups)||(i.groups=[]);{const f=new Set(i.flowers[r(444)](m=>m.id));for(const m of i[r(447)])Array[r(513)](m[r(453)])||(m.flowerIds=[]),m[r(453)]=m[r(453)].filter(y=>f.has(y)),m.id||(m.id=It(a.XbTeC)),(typeof m.name!==a.dHlEM||!m.name)&&(m.name=r(516));i.groups=i.groups.filter(m=>m.flowerIds&&m[r(453)][r(445)]>0)}Array[r(513)](i[r(511)])||(i[r(511)]=[]);for(const f of i[r(511)])f.id||(f.id=a[r(500)](It,a[r(419)])),(a[r(470)](typeof f[r(483)],"string")||!f.name)&&(f.name=a.LgIib),(!f.position||!Number.isFinite(f.position.x)||!Number.isFinite(f[r(432)].y))&&(f[r(432)]={x:675,y:675}),Number.isFinite(f.rotation)||(f.rotation=0),f[r(407)]=is(f[r(407)]),(a.qUUTS(typeof f[r(460)],"string")||!f.colorId)&&(f[r(460)]=i.palette?.[0]?.id??"col_green"),Number.isFinite(f.scale)||(f.scale=1),Number[r(481)](f.widthScale)||(f.widthScale=1),typeof f[r(463)]!="boolean"&&(f.visible=!0),typeof f[r(494)]!==r(426)&&(f.locked=!1),delete f[r(424)],f[r(495)]&&(a[r(470)](typeof f.doublePetal,a.YIlxr)||a.ifPNP(f[r(495)],null)?delete f[r(495)]:(Number[r(481)](f.doublePetal[r(451)])||(f[r(495)][r(451)]=2),f.doublePetal.innerSizeReduction=je(f.doublePetal.innerSizeReduction,1,30),f.doublePetal.innerColorId!=null&&typeof f.doublePetal[r(423)]!="string"&&delete f[r(495)].innerColorId));Array[r(513)](i.leafGroups)||(i.leafGroups=[]);{const f=new Set(i.leaves.map(m=>m.id));for(const m of i.leafGroups)m.id||(m.id=It("lg")),(a.tllnk(typeof m[r(483)],a[r(479)])||!m[r(483)])&&(m.name=a.RQtgh),Array[r(513)](m.leafIds)||(m[r(467)]=[]),m[r(467)]=m.leafIds[r(429)](y=>f.has(y)),Number.isFinite(m[r(448)])||(m[r(448)]=0),m.linkedFlowerGroupId!=null&&((i.groups??[]).some(h=>h.id===m.linkedFlowerGroupId)||delete m.linkedFlowerGroupId);i[r(476)]=i[r(476)].filter(m=>m[r(467)]&&m.leafIds[r(445)]>0)}if(Array.isArray(i[r(480)])){const f=[a.WuiNk,a[r(497)]],m=["right",a.TZWIV,"back"];i.stencils=i[r(480)][r(429)](y=>y&&typeof y.id=="string"&&f[r(509)](y[r(469)])&&m.includes(y[r(408)])&&y[r(432)]&&Number.isFinite(y.position.x)&&Number.isFinite(y.position.y))}return Number[r(481)](i.version)||(i.version=1),i}const q2=Ln;(function(u,r){const a=Ln,i=u();for(;;)try{if(-parseInt(a(208))/1+parseInt(a(213))/2+parseInt(a(209))/3+-parseInt(a(214))/4+-parseInt(a(218))/5+-parseInt(a(210))/6+parseInt(a(217))/7*(parseInt(a(219))/8)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Au,403132);const R2=(function(){let u=!0;return function(r,a){const i=u?function(){const o=Ln;if(a){const f=a[o(216)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),hs=R2(void 0,function(){const u=Ln;return hs[u(215)]().search(u(211)).toString().constructor(hs).search(u(211))});hs();function Ln(u,r){u=u-208;const a=Au();let i=a[u];if(Ln.oWHkdr===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Ln.zMXXkA=o,Ln.YZaLqI={},Ln.oWHkdr=!0}const f=a[0],m=u+f,y=Ln.YZaLqI[m];if(y)i=y;else{const h=function(d){this.hEvuCs=d,this.OieYkw=[1,0,0],this.VSpRwl=function(){return"newState"},this.eZHRFc="\\w+ *\\(\\) *{\\w+ *",this.FjVePW=`['|"].+['|"];? *}`};h.prototype.XyQMVH=function(){const d=new RegExp(this.eZHRFc+this.FjVePW),g=d.test(this.VSpRwl.toString())?--this.OieYkw[1]:--this.OieYkw[0];return this.FMfTcs(g)},h.prototype.FMfTcs=function(d){return~d?this.XlAuXz(this.hEvuCs):d},h.prototype.XlAuXz=function(d){for(let g=0,v=this.OieYkw.length;g<v;g++)this.OieYkw.push(Math.round(Math.random())),v=this.OieYkw.length;return d(this.OieYkw[0])},new h(Ln).XyQMVH(),i=Ln.zMXXkA(i),Ln.YZaLqI[m]=i}return i}const Ud="tsumami_projects_v1";function Au(){const u=["oduWodCYz0fRz3fK","Dg9tDhjPBMC","yxbWBhK","otHIBKDstLK","mJG0mtaZnuvrvhnywq","ode5odi0DMvMAg1x","nZq4mdLXEefPsxu","ote0odeXz0z2sfDz","mZm5otq1nNziufPKyG","kcGOlISPkYKRksSK","5lI444gK44g+44g/","mtCXnJi2tNvjvuXA"];return Au=function(){return u},Au()}const _l=[q2(212),""],k2=["","",""],Zd=["",""];(function(u,r){const a=En,i=u();for(;;)try{if(parseInt(a(354))/1+parseInt(a(341))/2+-parseInt(a(356))/3*(parseInt(a(342))/4)+parseInt(a(353))/5*(-parseInt(a(339))/6)+-parseInt(a(348))/7+parseInt(a(357))/8*(parseInt(a(349))/9)+parseInt(a(346))/10*(-parseInt(a(344))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Tu,842976);const O2=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),ms=O2(void 0,function(){const u=En,r={htAXt:"(((.+)+)+)+$"};return ms[u(340)]().search(r.htAXt)[u(340)]()[u(345)](ms).search(r[u(352)])});ms();function Tu(){const u=["mZu4otzJvgvytNC","AxnbCNjHEq","nLrJseXHuG","Dg9tDhjPBMC","mJK1nZG4ohz4v1HdvG","mZjfs2nzyuC","DgL0Bgu","mtfkyMPrA3C","y29UC3rYDwn0B3i","mtiWmJyWotbZCePuBxG","z2v0sxrLBq","otmXodC5ouzmtwTSqW","mJeYnhb4zvbpyq","DxbKyxrLzef0","zMLUzeLUzgv4","Ahrbwhq","mteWotmWyNzZC0z0","mtq2mta3mNDcyw5yqW","ChjVAMvJDa","mJi0otCWu1LpC01i"];return Tu=function(){return u},Tu()}function lr(){const u=En;try{const r=localStorage[u(347)](Ud);if(!r)return[];const a=JSON.parse(r);return Array[u(358)](a)?a.map(i=>{const o=u;try{const f=i?.[o(355)]?va(i[o(355)]):null;return f?{id:i.id??f.id,title:i[o(343)]??f[o(343)],updatedAt:i[o(350)]??f[o(350)],project:f}:null}catch{return null}}).filter(i=>i!=null):[]}catch{return[]}}function En(u,r){u=u-339;const a=Tu();let i=a[u];if(En.ZaedSw===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};En.VgLsco=o,En.WCAlRW={},En.ZaedSw=!0}const f=a[0],m=u+f,y=En.WCAlRW[m];if(y)i=y;else{const h=function(d){this.dwSYnG=d,this.FVGSoW=[1,0,0],this.JJyBop=function(){return"newState"},this.PrvTMa="\\w+ *\\(\\) *{\\w+ *",this.JRriZp=`['|"].+['|"];? *}`};h.prototype.JgPqRk=function(){const d=new RegExp(this.PrvTMa+this.JRriZp),g=d.test(this.JJyBop.toString())?--this.FVGSoW[1]:--this.FVGSoW[0];return this.gbfJnf(g)},h.prototype.gbfJnf=function(d){return~d?this.oXPKMB(this.dwSYnG):d},h.prototype.oXPKMB=function(d){for(let g=0,v=this.FVGSoW.length;g<v;g++)this.FVGSoW.push(Math.round(Math.random())),v=this.FVGSoW.length;return d(this.FVGSoW[0])},new h(En).JgPqRk(),i=En.VgLsco(i),En.WCAlRW[m]=i}return i}function Kd(u){try{return localStorage.setItem(Ud,JSON.stringify(u)),!0}catch{return!1}}function I2(u){const r=En,a={vuIRe:function(y,h){return y>=h}},i=lr(),o=i[r(351)](y=>y.id===u.id),f={id:u.id,title:u.title,updatedAt:u[r(350)],project:u},m=a.vuIRe(o,0)?[...i.slice(0,o),f,...i.slice(o+1)]:[f,...i];return m.sort((y,h)=>y.updatedAt<h.updatedAt?1:-1),Kd(m)}function H2(u){const r={oIeJW:function(i,o){return i(o)}},a=lr().filter(i=>i.id!==u);return r.oIeJW(Kd,a)}(function(u,r){const a=Gn,i=u();for(;;)try{if(-parseInt(a(329))/1+-parseInt(a(352))/2*(-parseInt(a(336))/3)+-parseInt(a(324))/4*(parseInt(a(369))/5)+-parseInt(a(337))/6+parseInt(a(339))/7+-parseInt(a(349))/8*(-parseInt(a(347))/9)+parseInt(a(323))/10*(parseInt(a(330))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Lu,324902);function Gn(u,r){u=u-320;const a=Lu();let i=a[u];if(Gn.qzUvLY===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Gn.seUVnB=o,Gn.BoJTVi={},Gn.qzUvLY=!0}const f=a[0],m=u+f,y=Gn.BoJTVi[m];if(y)i=y;else{const h=function(d){this.Frbioa=d,this.SbNiro=[1,0,0],this.lounId=function(){return"newState"},this.IutRUx="\\w+ *\\(\\) *{\\w+ *",this.nGKQbW=`['|"].+['|"];? *}`};h.prototype.ARLBFa=function(){const d=new RegExp(this.IutRUx+this.nGKQbW),g=d.test(this.lounId.toString())?--this.SbNiro[1]:--this.SbNiro[0];return this.apFCfc(g)},h.prototype.apFCfc=function(d){return~d?this.KVXEPK(this.Frbioa):d},h.prototype.KVXEPK=function(d){for(let g=0,v=this.SbNiro.length;g<v;g++)this.SbNiro.push(Math.round(Math.random())),v=this.SbNiro.length;return d(this.SbNiro[0])},new h(Gn).ARLBFa(),i=Gn.seUVnB(i),Gn.BoJTVi[m]=i}return i}const Y2=(function(){const u={uUZnU:function(a,i){return a!==i}};let r=!0;return function(a,i){const o=Gn,f={KJFlU:function(y,h){return y!==h},ZWMim:function(y,h){return y===h},prGZk:function(y,h){return y-h},hXbgV:function(y,h){return u.uUZnU(y,h)},wdOns:o(340)},m=r?function(){const y=o;if(f[y(331)](f.wdOns,"ZZXbK")){if(i){const h=i[y(332)](a,arguments);return i=null,h}}else return f.KJFlU(_0x32ba20[y(320)],_0x17c319.mode)?f[y(333)](_0x36c7ce.mode,y(327))?-1:1:f[y(366)](_0x352f87.baseDiameterMm,_0x16951a.baseDiameterMm)}:function(){};return r=!1,m}})(),bs=Y2(void 0,function(){const u=Gn;return bs[u(322)]().search("(((.+)+)+)+$")[u(322)]().constructor(bs).search("(((.+)+)+)+$")});bs();function U2(u){const r=Gn,a={CxNuW:function(g,v){return g+v},wgWum:function(g,v){return g*v},eBDYo:function(g,v){return g*v},Wsrdf:function(g,v){return g*v},XLqsV:function(g,v){return g*v},hvObo:r(368),mLTuA:function(g,v){return g-v},NiEFu:function(g,v){return g<v},zDGQV:function(g,v,N){return g(v,N)},otOGF:r(327),KoWHc:function(g,v){return g===v},ViKeP:function(g,v){return g(v)},pMNvt:function(g,v){return g*v},AQEzA:function(g,v){return g!==v},SUisK:function(g,v){return g-v},dCKHj:"wIxLc"},i=new Map((u.palette||[]).map(g=>[g.id,g])),o=new Map,f=(g,v)=>g?.[r(335)]?.find(N=>N.index===v)??null,m=new Map;for(const g of u[r(362)]||[]){const v=g.fabricSquareSize??u[r(348)];for(const S of g[r(363)]||[]){if(!S.visible)continue;const Z=Math[r(360)](v*(S.scale??1));for(let P=0;a[r(356)](P,S[r(321)]);P++){const G=a.zDGQV(f,S,P),E=G?.colorId??S[r(343)],k=E+"|"+Z,I=o.get(k);if(I?I[r(350)]+=1:o.set(k,{colorId:E,fabricSizeMm:Z,count:1}),S[r(365)]){const B=S[r(365)],O=G?.[r(372)]??B[r(372)]??E,Q=G?.innerSizeReduction??B[r(359)]??2,X=Math.max(3,Math.round(a.mLTuA(Z,Q))),K=O+"|"+X,_=o.get(K);_?_.count+=1:o.set(K,{colorId:O,fabricSizeMm:X,count:1})}}}const N=g.placementMode??a.otOGF,b=a.KoWHc(N,"")?a[r(357)](tr,g.flowerDiameter):g.baseDiameter??u[r(342)],M=N+"|"+b,j=m.get(M);j?j.count+=1:m[r(338)](M,{mode:N,baseDiameterMm:b,count:1})}for(const g of u[r(361)]??[]){if(!g[r(344)])continue;const v=g.fabricSquareSize??u.fabricSquareSize,N=Math[r(360)](a.pMNvt(v,g.scale??1)),b=g.colorId,M=b+"|"+N,j=o[r(353)](M);if(j)if(a.AQEzA(r(358),"iMUWa"))j[r(350)]+=1;else{const S=_0x397b87[r(353)](_0x53d17b),Z=_0x5a230b[r(351)]((k,I)=>I.fabricSizeMm-k.fabricSizeMm),P=Z.reduce((k,I)=>k+I.count,0),G=_0x16b186.round(a[r(367)](Z.reduce((k,I)=>{const B=r,O=I.fabricSizeMm/10;return a[B(364)](k,I.count*O*O)},0),100))/100,E=_0x1d9e20[r(360)](a.eBDYo(_0xa69288.sqrt(G),10))/10;return{colorId:_0x4dc7e3,colorName:S?.[r(345)]??_0x98e871,hex:S?.hex??r(368),sizes:Z,totalCount:P,totalAreaCm2:G,squareSideCm:E}}else o[r(338)](M,{colorId:b,fabricSizeMm:N,count:1});if(g[r(365)]){const S=g[r(365)],Z=S.innerColorId??b,P=Math[r(341)](3,Math[r(360)](a.SUisK(N,S.innerSizeReduction??2))),G=Z+"|"+P,E=o.get(G);if(E)E.count+=1;else if(a[r(328)]!==r(354))o[r(338)](G,{colorId:Z,fabricSizeMm:P,count:1});else{const k=_0x4ba69a.doublePetal,I=_0x52e3e8?.innerColorId??k[r(372)]??_0x4b6f6a,B=_0x107580?.[r(359)]??k.innerSizeReduction??2,O=_0x2eaa5b[r(341)](3,_0x1337b6[r(360)](_0x3f58d5-B)),Q=I+"|"+O,X=_0x57db72.get(Q);X?X.count+=1:_0x38fd23[r(338)](Q,{colorId:I,fabricSizeMm:O,count:1})}}}const y=new Map;for(const{colorId:g,fabricSizeMm:v,count:N}of o.values()){const b=y.get(g);b?b[r(355)].push({fabricSizeMm:v,count:N}):y.set(g,{colorId:g,entries:[{fabricSizeMm:v,count:N}]})}const h=Array.from(y.values())[r(325)](({colorId:g,entries:v})=>{const N=r,b={eUSch:function(G,E){return G/E},CLzgV:function(G,E){return a.Wsrdf(G,E)}},M=i[N(353)](g),j=v[N(351)]((G,E)=>E[N(326)]-G[N(326)]),S=j[N(334)]((G,E)=>G+E.count,0),Z=Math.round(j.reduce((G,E)=>{const k=N,I=b.eUSch(E.fabricSizeMm,10);return G+b[k(373)](E.count*I,I)},0)*100)/100,P=Math.round(a.XLqsV(Math[N(346)](Z),10))/10;return{colorId:g,colorName:M?.name??g,hex:M?.hex??a[N(370)],sizes:j,totalCount:S,totalAreaCm2:Z,squareSideCm:P}}).sort((g,v)=>v[r(371)]-g.totalCount),d=Array.from(m.values()).sort((g,v)=>{const N=r;return g.mode!==v.mode?g[N(320)]===N(327)?-1:1:a.mLTuA(v.baseDiameterMm,g.baseDiameterMm)});return{colors:h,bases:d}}function Lu(){const u=["C2v0","mJaWmJK3m050AhDbAW","wK1NrK0","Bwf4","yMfZzurPyw1LDgvY","y29SB3jjza","DMLZAwjSzq","BMfTzq","C3fYDa","mJDxvLboA08","zMfICMLJu3f1yxjLu2L6zq","mteZmtuZnLP4vNn4Dq","y291BNq","C29YDa","mJaWnJjNzwLezM0","z2v0","yMD4wKm","zw50CMLLCW","tMLfrNu","vMLlzva","CefAAK4","Aw5UzxjtAxPLuMvKDwn0Aw9U","CM91BMq","BgvHDMvZ","zMXVD2vYCW","Bgf5zxjZ","q3HoDvC","zg91yMXLugv0ywW","ChjhwMS","D2DxDw0","iZK5otK5oq","odbbB0n0tNu","AhzpyM8","Dg90ywXdB3vUDa","Aw5UzxjdB2XVCKLK","q0X6z1y","Bw9Kzq","Cgv0ywXdB3vUDa","Dg9tDhjPBMC","nZuWmtbTyLriDNa","otG4odHbC1POvwS","BwfW","zMfICMLJu2L6zu1T","5y2k44gp44gz","zenlsgO","ndG4ndu3rxbbBfzU","ntuWCvzcsvLj","AfHIz1y","yxbWBhK","wLDnAw0","CMvKDwnL","Cgv0ywXpDMvYCMLKzxm","mZLKuKjSELm","ndiWndjYCMvYuvm"];return Lu=function(){return u},Lu()}function ln(u,r){u=u-310;const a=Eu();let i=a[u];if(ln.PKKmtE===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};ln.RsJZxI=o,ln.Xgagpe={},ln.PKKmtE=!0}const f=a[0],m=u+f,y=ln.Xgagpe[m];if(y)i=y;else{const h=function(d){this.gcBrCU=d,this.QWPJVH=[1,0,0],this.VJHsya=function(){return"newState"},this.vamwlg="\\w+ *\\(\\) *{\\w+ *",this.JkHiIr=`['|"].+['|"];? *}`};h.prototype.qvOtCg=function(){const d=new RegExp(this.vamwlg+this.JkHiIr),g=d.test(this.VJHsya.toString())?--this.QWPJVH[1]:--this.QWPJVH[0];return this.YuJlCW(g)},h.prototype.YuJlCW=function(d){return~d?this.JXgDpZ(this.gcBrCU):d},h.prototype.JXgDpZ=function(d){for(let g=0,v=this.QWPJVH.length;g<v;g++)this.QWPJVH.push(Math.round(Math.random())),v=this.QWPJVH.length;return d(this.QWPJVH[0])},new h(ln).qvOtCg(),i=ln.RsJZxI(i),ln.Xgagpe[m]=i}return i}(function(u,r){const a=ln,i=u();for(;;)try{if(-parseInt(a(325))/1*(-parseInt(a(351))/2)+parseInt(a(368))/3+-parseInt(a(342))/4*(parseInt(a(359))/5)+-parseInt(a(335))/6+-parseInt(a(320))/7+parseInt(a(310))/8+parseInt(a(316))/9*(parseInt(a(372))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Eu,670818);const Z2=(function(){let u=!0;return function(r,a){const i=u?function(){const o=ln;if(a){const f=a[o(332)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),gs=Z2(void 0,function(){const u=ln,r={NDHEH:"(((.+)+)+)+$"};return gs.toString().search(r[u(366)])[u(356)]().constructor(gs)[u(362)](r.NDHEH)});gs();function Eu(){const u=["ndvtzfLSr2i","DMLLD0jVEa","mtaWjq","CMvTB3zLqxr0CMLIDxrL","nZeWntiYnfP2DKfIBG","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","lNrZDw1HBwKTC2vSlwrHC2G","DvLwzKe","qwfLsM8","ndaYndG3zfjlAKDA","D2HPDgu","C3bSAxq","Eg1SBNm","Bgf6BhK","Aw5Zzxj0qMvMB3jL","CxvLCNLtzwXLy3rVCKfSBa","yxbWBhK","y2XPy2S","Aw1Hz2uVCg5N","nZe3mZK4nfzjA1nquG","y3jLyxrLt2jQzwn0vvjm","y0H6tgu","A1jdwvG","z2v0q29UDgv4Da","zgf0ys10zxn0Awq","CMvTB3zL","mZq5odC2ofziD1DTwG","CMvTB3zLq2HPBgq","zfnnwwC","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","lNbUzW","BwfW","ugr0weW","C3r5Bgu","mcaWidiWmcaYmda","nLPrELHTtW","zMLYC3rdAgLSza","B25SB2fK","uMnXuKK","zMLSBa","Dg9tDhjPBMC","z2v0qxr0CMLIDxrL","C2v0qxr0CMLIDxrL","nuPMAwrSrG","y2XVBMvoB2rL","lNn2zW","C2vHCMnO","D2LKDgG","u2H0ELO","zhjHD0LTywDL","tKriruG","u0rxrhm","ndCXnJuXAfrVCxrY","DxjcDLa","zeruBKS","w2rHDgeTBwfYCxvLzv0","ndy5mtmYmgXZuwPAvq","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","zM9YrwfJAa","mZy2otq0q1fKrfDo","y3jLyxrLrwXLBwvUDa","zw5KC1DPDgG","yM9KEq","w2rHDgeTz3jPzf0","AgvPz2H0"];return Eu=function(){return u},Eu()}function K2(u,r){const a=ln,i={xwTID:"[data-testid]",BjEfm:a(349),XLOsK:a(317),hnxkv:function(b,M){return b??M},dSMYg:"width",FBNRG:function(b,M){return b(M)},RcqRI:"height",SDWDs:a(345),VFMBG:"rect",lazly:"100%",kRCYX:a(322),YAjzw:a(371),kzDDh:a(361)},o=u[a(360)](!0);o[a(331)](i.xwTID)[a(374)](b=>b.removeAttribute(a(340))),o.removeAttribute(i.BjEfm);const f=u[a(357)](i.XLOsK);f&&o.setAttribute(a(317),f);const m=i.hnxkv(f,a(350))[a(327)](/[\s,]+/)[a(347)](Number),y=m[2]??200,h=m[3]??200;o.setAttribute(i[a(344)],i.FBNRG(String,y)),o[a(358)](i[a(354)],String(h)),o.setAttribute("xmlns",i.SDWDs);const d=document.createElementNS(i[a(367)],i.VFMBG);d.setAttribute(i.dSMYg,i[a(329)]),d[a(358)](i[a(354)],a(318)),d.setAttribute(a(355),a(326)),o[a(330)](d,o[a(352)]),o[a(331)](a(314))[a(374)](b=>b.remove()),o[a(331)](i[a(338)])[a(374)](b=>b[a(341)]()),o[a(331)](".tsumami-group-dash").forEach(b=>b.remove()),o[a(331)](i.YAjzw)[a(374)](b=>b.remove());const g=new XMLSerializer,v=a(321)+g.serializeToString(o),N=new Blob([v],{type:"image/svg+xml;charset=utf-8"});Xd(N,r.endsWith(i.kzDDh)?r:r+a(361))}function X2(u,r,a=2){const i=ln,o={cHzLe:function(j,S,Z){return j(S,Z)},FtvGM:"canvas",uYVfA:function(j,S){return j*S},urBvP:"[data-testid]",ShtzZ:i(349),tDyrC:i(314),dDTnK:".tsumami-sel-dash",DHNoX:i(317),tszsj:"0 0 200 200",PdtXL:i(328),AaeJo:i(345)},f=u.cloneNode(!0);f.querySelectorAll(o[i(369)]).forEach(j=>j.removeAttribute(i(340))),f[i(319)](o[i(364)]),f.querySelectorAll(o.tDyrC).forEach(j=>j[i(341)]()),f.querySelectorAll(o[i(370)]).forEach(j=>j[i(341)]()),f[i(331)](".tsumami-group-dash")[i(374)](j=>j.remove()),f[i(331)](i(371))[i(374)](j=>j.remove());const m=u[i(357)](i(317)),y=(m??"0 0 200 200")[i(327)](/[\s,]+/)[i(347)](Number),h=y[2]??200,d=y[3]??200;f[i(358)](o.DHNoX,m??o.tszsj),f[i(358)]("width",String(h)),f[i(358)](i(315),String(d)),f.setAttribute(o[i(348)],o[i(324)]);const g=new XMLSerializer,v=g.serializeToString(f),N=new Blob([v],{type:i(373)}),b=URL[i(336)](N),M=new Image;M[i(353)]=()=>{const j=i,S=document[j(311)](o.FtvGM);S.width=o.uYVfA(h,a),S.height=o[j(323)](d,a);const Z=S[j(339)]("2d");if(!Z){URL.revokeObjectURL(b);return}Z.fillStyle=j(326),Z.fillRect(0,0,S.width,S.height),Z[j(365)](M,0,0,S[j(363)],S.height),S.toBlob(P=>{const G=j;P&&o[G(337)](Xd,P,r[G(312)](".png")?r:r+G(346)),URL.revokeObjectURL(b)},j(334))},M.onerror=()=>{URL.revokeObjectURL(b)},M.src=b}function Xd(u,r){const a=ln,i=URL[a(336)](u),o=document.createElement("a");o.href=i,o.download=r,document[a(313)].appendChild(o),o[a(333)](),document.body[a(343)](o),URL.revokeObjectURL(i)}function _u({active:u,disabled:r,onClick:a,children:i,...o}){return s.jsx("button",{role:"tab","aria-selected":!!u,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...o,children:i})}const J2="v0.1.0-dev";function W2(u){const{view:r,onNavigate:a,project:i}=u;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:J2})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(_u,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(_u,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(_u,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(_u,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:u.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function V2(u){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:u.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[u.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),u.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>u.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function vs({children:u}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:u})}function Q2(u){const[r,a]=$.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(vs,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>u.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(u,r){const a=an,i=u();for(;;)try{if(-parseInt(a(134))/1*(-parseInt(a(154))/2)+parseInt(a(184))/3+parseInt(a(136))/4+-parseInt(a(180))/5+parseInt(a(171))/6*(-parseInt(a(116))/7)+parseInt(a(168))/8+-parseInt(a(176))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Gu,126678);const P2=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),ys=P2(void 0,function(){const u=an,r={qbzNF:u(129)};return ys[u(107)]().search(r[u(135)])[u(107)]()[u(152)](ys)[u(137)](r.qbzNF)});function Gu(){const u=["ndu3nZG4zwLuwMn1","y3vYC29Y","y2jLEMe","Bwf4","zMXVD2vYswq","Dg9tDhjPBMC","C3rHCNrsB3rHDgLVBG","Bgf5zxjZ","rezPzhm","D2XKr0u","wvnRz3a","Egv0r1u","sxvWz0K","r2DWueK","mZu5muDSAhntDW","zMLUza","C3r5Bgu","BwfW","C2v0ug9PBNrLCKnHChr1CMu","B21YqvC","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","t3fzzgy","D2LKDgHty2fSzq","C2nHBgu","weLSuKy","AhnNzvm","uu1zEgG","kcGOlISPkYKRksSK","zMXVD2vYrgLHBwv0zxi","ANfkrKi","BePiuKW","Cg9ZAxrPB24","mJnjrePNzgi","Cwj6tKy","ndm3mty0v3HpCKn5","C2vHCMnO","Cgv0ywXbBMDSzq","Bfnive4","vM9twhG","C3rHCNreAwfT","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","y3vYCMvUDa","Cg9PBNrLCKLK","C3rHCNrsywrPDxm","C3rHCNreAxn0","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","l3rZDw1HBwKV","wKDHwNu","B2nMDxu","v05wvgy","y29UC3rYDwn0B3i","BMfdqKm","mteZnZjjA1nRvwq","shvotgi","AhLWB3q","ywjZ","vwPjqxe","zMXVD2vYCW","ufrcBMu","yxrHBJi","DxjSkci","B2zMC2v0qw5NBgu","A2vMzLG","Bgf5zxjjza","DunYwKm","Bgf5zxi","mtqXmZC4nhbUv0nhtW","vK1SwKO","zKDksKS","mZbkww5TzuS","CunUshq","ChjLDMvUDerLzMf1Bhq","y29Z","sKHbBKS","mZu2nZC5og5lvLrszq","CM90yxrPB24","BMX3sNK","CMfKAxvZ","mJe4nJe1DuvjqLL3","zujyzM8","y1DjqMm","y3vYCMvUDfrHCMDLDa"];return Gu=function(){return u},Gu()}ys();function an(u,r){u=u-104;const a=Gu();let i=a[u];if(an.fQotGG===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};an.uKCKGt=o,an.ezzpjv={},an.fQotGG=!0}const f=a[0],m=u+f,y=an.ezzpjv[m];if(y)i=y;else{const h=function(d){this.dhxpUP=d,this.zwFcdX=[1,0,0],this.luGwJZ=function(){return"newState"},this.TSDrTk="\\w+ *\\(\\) *{\\w+ *",this.hJuGTH=`['|"].+['|"];? *}`};h.prototype.jwOYTZ=function(){const d=new RegExp(this.TSDrTk+this.hJuGTH),g=d.test(this.luGwJZ.toString())?--this.zwFcdX[1]:--this.zwFcdX[0];return this.AIkjzy(g)},h.prototype.AIkjzy=function(d){return~d?this.uRJJAq(this.dhxpUP):d},h.prototype.uRJJAq=function(d){for(let g=0,v=this.zwFcdX.length;g<v;g++)this.zwFcdX.push(Math.round(Math.random())),v=this.zwFcdX.length;return d(this.zwFcdX[0])},new h(an).jwOYTZ(),i=an.uKCKGt(i),an.ezzpjv[m]=i}return i}function F2(u){const r=an,a={KlddQ:r(167),xetGU:function(B,O){return B-O},ovzai:function(B,O){return B/O},PWRmz:function(B,O){return B*O},QMYxh:function(B,O){return B*O},OkbaR:function(B,O){return B===O},naCBC:r(169),xVDWg:function(B,O,Q,X){return B(O,Q,X)},qCnHt:function(B,O){return B===O},IupgI:"flower",YSkgp:r(181),lSHTN:function(B,O,Q,X){return B(O,Q,X)},jqJFB:function(B,O){return B===O},HuNLb:function(B,O){return B(O)},PTBne:function(B,O,Q,X){return B(O,Q,X)},haWqW:function(B,O,Q){return B(O,Q)},orAUv:function(B,O){return B(O)},omrAW:function(B,O){return B*O},ocfuu:function(B,O){return B-O},sbMWj:function(B,O){return B/O},VoSXx:function(B,O){return B!==O},CBlem:"NlNrI",Nvfke:function(B,O){return B/O},lJHRL:function(B,O){return B-O},ZGaZu:function(B,O){return B>O},wldGE:function(B,O,Q){return B(O,Q)},nlwJy:"/tsumami/",qKCPm:function(B,O){return B(O)},LdnSi:function(B,O){return B/O},cbeza:function(B,O){return B+O},XIlRF:function(B,O){return B-O},fGJJK:function(B,O){return B+O},UjIAq:function(B,O){return B*O},PKhbj:"jxFaS",WNVTf:function(B,O,Q,X){return B(O,Q,X)},GgpPI:"VttXO",keffX:function(B,O){return B(O)},DFids:function(B,O){return B(O)}},{project:i,applyUpdate:o,stageRef:f,clientToSvgPoint:m}=u,y=a.keffX($.useRef,null),h=(B,O,Q,X)=>{const K=r;Q[K(173)](),Q[K(183)]?.setPointerCapture?.(Q[K(144)]),f[K(143)]&&(f.current[K(118)].cursor=K(162)+"/tsumami/"+K(142));const _=i[K(159)][K(117)](q=>q.id===O);if(!_)return;const w=B===a.KlddQ&&X?.[K(165)]?_[K(109)].filter(q=>q.id===X.layerId)[K(119)](q=>({layerId:q.id,scale:q.scale??1,radius:q.radius??10})):_[K(109)].map(q=>({layerId:q.id,scale:q[K(125)]??1,radius:q.radius??10})),A=m(Q),z=_[K(133)].x,C=_[K(133)].y,T=Math[K(156)](a.xetGU(A.x,z),A.y-C);y[K(143)]={mode:B,flowerId:O,layerId:X?.layerId,startScales:w,startDiam:_.flowerDiameter||60,startDist:T}},d=B=>{const O=r,Q=y[O(143)];if(!Q)return;const X=i[O(159)][O(117)](z=>z.id===Q.flowerId);if(!X)return;const K=a[O(155)](m,B),_=Math[O(156)](K.x-X.position.x,a[O(113)](K.y,X[O(133)].y)),w=Math[O(105)](1,Q[O(146)]??1),A=a[O(160)](je,_/w,.3,3);a.haWqW(o,z=>{const C=O,T={uCrZC:function(q,Y){return a.ovzai(q,Y)},zhGdC:function(q,Y){return a.PWRmz(q,Y)},OqYdf:function(q,Y){return q+Y},JHAnK:function(q,Y){return q*Y},hsgeS:function(q,Y){return a[an(113)](q,Y)},RbKOp:function(q,Y){return a.QMYxh(q,Y)}};if(a.OkbaR(a[C(153)],"VMlZJ")){const q=z.flowers[C(117)](Y=>Y.id===Q.flowerId);if(!q)return;for(const Y of Q.startScales){const H=q[C(109)].find(D=>D.id===Y[C(165)]);if(H&&(H.scale=a.xVDWg(je,Y.scale*A,.3,3),a[C(172)](Q.mode,a[C(114)])))if(a[C(112)]==="eBXfo")H.radius=a[C(139)](je,a.QMYxh(Y[C(179)],A),2,120);else{_0x3006e4.preventDefault(),_0x53a61f[C(183)]?.[C(120)]?.(_0x3b3d63[C(144)]),_0x420b91[C(143)]&&(_0x454b2c.current[C(118)].cursor='url("/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize');const D=_0x1e625b[C(159)][C(117)](et=>et.id===_0x590832);if(!D)return;const R=_0x396430?.[C(165)]?D.layers.find(et=>et.id===_0xf1e12[C(165)]):null;if(!R)return;const U=_0x58dee5(_0x15ca39),W=D.position.x,le=D.position.y,xe=_0x12a5ca?.petalIndex??0,fe=T[C(166)](360,_0x1637d6.max(1,R.petalCount)),oe=T.zhGdC(T[C(123)](R[C(163)],T[C(175)](xe,fe))+D.rotation,T.uCrZC(_0x11c9a4.PI,180)),he=T[C(127)](U.x,W),ze=U.y-le,de=-_0x2e77f5.sin(oe),Ne=_0x3ba0bf[C(174)](oe),$e=_0x26a25b[C(157)](T[C(123)](T.RbKOp(he,de),ze*Ne));_0x497524.current={mode:_0x121ff0,flowerId:_0x179499,layerId:_0x41652?.layerId,petalAngle:oe,startDist:_0x5e4a85.max(1,$e),startWidthScale:R.widthScale??1}}}a[C(131)](Q.mode,a.IupgI)&&(q[C(130)]=je(Q[C(141)]*A,10,200))}else{if(!_0x1805c1[C(143)])return;_0x43fad9(()=>{},!0),_0x55d1a7.current&&(_0x29eba4.current.style[C(185)]=""),_0x425de2.current=null}},!1)},g=()=>{const B=r;y[B(143)]&&(a.haWqW(o,()=>{},!0),f[B(143)]&&(f.current[B(118)][B(185)]=""),y.current=null)},v=a.keffX($.useRef,null),N=(B,O,Q,X)=>{const K=r;Q[K(173)](),Q[K(183)]?.[K(120)]?.(Q[K(144)]),f.current&&(f.current.style.cursor=K(162)+K(148)+K(147));const _=i[K(159)][K(117)](C=>C.id===O);if(!_)return;const w=a.orAUv(m,Q),A=a[K(121)](Math[K(161)](a.ocfuu(w.y,_.position.y),w.x-_[K(133)].x),a.sbMWj(180,Math.PI)),z=B===a.KlddQ&&X?.[K(165)]?_.layers.find(C=>C.id===X[K(165)])?.[K(163)]??0:_[K(177)]??0;v[K(143)]={mode:B,flowerId:O,layerId:X?.[K(165)],startAngle:A,startRotation:z}},b=B=>{const O=r,Q={paNGu:function(X,K,_,w){return a[an(160)](X,K,_,w)}};if(a[O(140)](a.CBlem,"eZDRR")){const X=v.current;if(!X)return;const K=i[O(159)].find(C=>C.id===X[O(106)]);if(!K)return;const _=m(B),w=Math[O(161)](_.y-K.position.y,_.x-K.position.x)*a.Nvfke(180,Math.PI);let A=a.lJHRL(w,X.startAngle);for(;a[O(149)](A,180);)A-=360;for(;A<-180;)A+=360;const z=X[O(108)]+A;a[O(111)](o,C=>{const T=O,q=C.flowers[T(117)](Y=>Y.id===X[T(106)]);if(q)if(X.mode===T(167)&&X[T(165)]){const Y=q.layers[T(117)](H=>H.id===X[T(165)]);Y&&(Y[T(163)]=z)}else q.rotation=z},!1)}else{const X=_0x3171d5.current;if(!X)return;const K=_0x5f13e3[O(159)].find(C=>C.id===X.flowerId);if(!K)return;const _=_0x57e52c(_0x2eb5e8),w=_0x358e78[O(156)](_.x-K[O(133)].x,_.y-K.position.y),A=w-X.startDist,z=Q.paNGu(_0x1d9049,X.startRadius+A,5,100);_0xfced6d(C=>{const T=O,q=C[T(159)][T(117)](H=>H.id===X[T(106)]);if(!q)return;const Y=q.layers.find(H=>H.id===X[T(165)]);Y&&(Y[T(179)]=z)},!1)}},M=()=>{const B=r;v[B(143)]&&(o(()=>{},!0),f[B(143)]&&(f[B(143)][B(118)].cursor=""),v.current=null)},j=a[r(164)]($.useRef,null),S=(B,O,Q,X)=>{const K=r;Q[K(173)](),Q.currentTarget?.setPointerCapture?.(Q[K(144)]),f.current&&(f[K(143)][K(118)][K(185)]=K(162)+a.nlwJy+'width_cursor_32.png?v=16") 16 16, ew-resize');const _=i[K(159)].find(le=>le.id===O);if(!_)return;const w=X?.[K(165)]?_[K(109)].find(le=>le.id===X.layerId):null;if(!w)return;const A=a.qKCPm(m,Q),z=_.position.x,C=_[K(133)].y,T=X?.petalIndex??0,q=a.LdnSi(360,Math.max(1,w.petalCount)),Y=(a[K(104)](w.offsetAngle,a[K(128)](T,q))+_[K(177)])*a.LdnSi(Math.PI,180),H=a.XIlRF(A.x,z),D=a[K(132)](A.y,C),R=-Math.sin(Y),U=Math[K(174)](Y),W=Math.abs(a.fGJJK(a[K(121)](H,R),a[K(158)](D,U)));j.current={mode:B,flowerId:O,layerId:X?.[K(165)],petalAngle:Y,startDist:Math.max(1,W),startWidthScale:w[K(124)]??1}},Z=B=>{const O=r,Q={cWIBc:function(X,K){return a[an(150)](X,K)}};if(a.PKhbj!=="jxFaS"){_0x1cab05.preventDefault(),_0x3fdf36.currentTarget?.setPointerCapture?.(_0x514906[O(144)]),_0x51ef2e.current&&(_0x54cf95.current.style[O(185)]=O(162)+'/tsumami/radius_cursor_32.png?v=16") 16 16, nwse-resize');const X=_0x2f370a.flowers[O(117)](A=>A.id===_0x4709e2);if(!X)return;const K=_0x1ded0b?.[O(165)]?X[O(109)].find(A=>A.id===_0xd057c9.layerId):null;if(!K)return;const _=_0x4c035f(_0x5d2b51),w=_0x29d0a1.hypot(_.x-X[O(133)].x,Q[O(182)](_.y,X.position.y));_0x28bb92.current={mode:_0x2aee63,flowerId:_0x4b5ef1,layerId:_0x4ece05?.[O(165)],startDist:_0x2bf3cc[O(105)](1,w),startRadius:K[O(179)]??28}}else{const X=j[O(143)];if(!X)return;const K=i[O(159)].find(H=>H.id===X.flowerId);if(!K)return;const _=m(B),w=a[O(126)](_.x,K[O(133)].x),A=_.y-K[O(133)].y,z=-Math.sin(X.petalAngle),C=Math.cos(X[O(138)]),T=Math.abs(a[O(170)](w*z,a[O(158)](A,C))),q=a.PTBne(je,a.LdnSi(T,X.startDist),.3,3),Y=a[O(151)](je,X.startWidthScale*q,.3,3);o(H=>{const D=O,R=H.flowers[D(117)](W=>W.id===X[D(106)]);if(!R)return;const U=R.layers.find(W=>W.id===X.layerId);U&&(U.widthScale=Y)},!1)}},P=()=>{const B=r;j.current&&(o(()=>{},!0),f.current&&(f.current.style.cursor=""),j[B(143)]=null)},G=a[r(110)]($.useRef,null);return{scaleDragRef:y,beginScaleDrag:h,updateScaleDrag:d,endScaleDrag:g,rotationDragRef:v,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:M,widthScaleDragRef:j,beginWidthScaleDrag:S,updateWidthScaleDrag:Z,endWidthScaleDrag:P,radiusDragRef:G,beginRadiusDrag:(B,O,Q,X)=>{const K=r;Q.preventDefault(),Q.currentTarget?.setPointerCapture?.(Q[K(144)]),f.current&&(f[K(143)][K(118)][K(185)]='url("'+a[K(178)]+K(122));const _=i[K(159)][K(117)](C=>C.id===O);if(!_)return;const w=X?.[K(165)]?_[K(109)].find(C=>C.id===X.layerId):null;if(!w)return;const A=m(Q),z=Math[K(156)](A.x-_[K(133)].x,A.y-_[K(133)].y);G[K(143)]={mode:B,flowerId:O,layerId:X?.layerId,startDist:Math.max(1,z),startRadius:w.radius??28}},updateRadiusDrag:B=>{const O=r,Q=G[O(143)];if(!Q)return;const X=i[O(159)][O(117)](z=>z.id===Q.flowerId);if(!X)return;const K=m(B),_=Math[O(156)](K.x-X.position.x,a.ocfuu(K.y,X.position.y)),w=_-Q.startDist,A=a.WNVTf(je,Q[O(145)]+w,5,100);o(z=>{const C=O,T=z.flowers[C(117)](Y=>Y.id===Q.flowerId);if(!T)return;const q=T[C(109)].find(Y=>Y.id===Q.layerId);q&&(q.radius=A)},!1)},endRadiusDrag:()=>{const B=r;if(a[B(115)]!=="hEzqc"){if(!G.current)return;o(()=>{},!0),f.current&&(f.current[B(118)][B(185)]=""),G[B(143)]=null}else _0x4f30bc.current.style.cursor='url("/tsumami/rotate_cursor_active_32.png") 16 16, grabbing'}}}(function(u,r){const a=jt,i=u();for(;;)try{if(-parseInt(a(478))/1+-parseInt(a(462))/2*(-parseInt(a(435))/3)+parseInt(a(480))/4*(parseInt(a(456))/5)+-parseInt(a(496))/6+parseInt(a(467))/7+-parseInt(a(437))/8*(-parseInt(a(486))/9)+-parseInt(a(507))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Bu,295239);const $2=(function(){let u=!0;return function(r,a){const i=u?function(){const o=jt;if(a){const f=a[o(473)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),ps=$2(void 0,function(){const u=jt;return ps.toString().search("(((.+)+)+)+$")[u(438)]().constructor(ps)[u(447)](u(479))});ps();function ai(u,r,a,i,o){const f=jt,m={JgxcE:function(k,I){return k<=I},MiCkU:f(452),GvRLC:f(454),SDxdx:"(((.+)+)+)+$",mJXGn:function(k,I){return k(I)},NkDtr:function(k,I){return k-I},XrWep:function(k,I){return k*I},PAbCd:f(430),dNHxq:f(450),aWFgx:function(k,I){return k===I},nfGJD:f(439),kcsXw:function(k,I){return k>I},KKxHA:function(k,I){return k+I},DLxgW:function(k,I){return k*I},kaqIu:function(k,I){return k*I},NdvsH:"none",tqqIG:function(k,I){return k*I},QTaFc:function(k,I){return k/I},HfzQI:function(k,I){return k(I)},AwsMo:function(k,I){return k*I},gpocg:function(k,I){return k*I},DFFaS:function(k,I){return k/I},GttAX:function(k,I){return k/I},toYau:function(k,I){return k>I},HJdqn:function(k,I){return k-I},XHQNj:function(k,I){return k>=I},wEWRH:function(k,I){return k!==I},lqtLQ:f(445),ZBQrQ:"width",iKZMR:function(k,I){return k===I},IzKKh:function(k,I){return k-I},HSIIY:function(k,I){return k<=I},nbcRm:"RbjTl"},{length:y}=m.mJXGn(Ht,a.fabricSquareSize??i.fabricSquareSize),h=u-a.position.x,d=m.NkDtr(r,a[f(431)].y),g=Math.hypot(h,d);let v=1/0;for(const k of a[f(468)]){if(!k[f(449)])continue;const I=k[f(443)]??1,B=m[f(427)](y,I),O=.28,Q=Math[f(461)](0,k.radius-m[f(427)](B,O));Q<v&&(v=Q)}m.mJXGn(isFinite,v)||(v=0);const N=Math[f(461)](m.XrWep(v,.9),8);if(g<=N){if(m.PAbCd!=="wzTYP")return{zone:m[f(470)]};{const I=_0x519627.abs(_0x4be269-_0x4fe256);if(m.JgxcE(I,6))return{zone:m[f(493)],layerId:_0x2b042b.id}}}if(m[f(475)](o.kind,m.nfGJD)){const k=a.layers.find(I=>I.id===o[f(460)]&&I.visible);if(k){const I=k[f(443)]??1,B=m.XrWep(y,I),O=.28,Q=Math.max(0,k.radius-m.XrWep(B,O));if(m[f(499)](Q,0)){const K=Math.abs(g-Q);if(m[f(465)](K,6))return{zone:f(452),layerId:k.id}}}}const b=pa(-(a.rotation??0)),M=m.NkDtr(h*Math.cos(b),m[f(427)](d,Math[f(436)](b))),j=m[f(458)](m[f(482)](h,Math[f(436)](b)),m[f(509)](d,Math[f(491)](b))),S=o[f(492)]==="layer"?a.layers.filter(k=>k.id===o[f(460)]&&k[f(449)]):a[f(468)][f(459)](k=>k.visible);let Z=m[f(469)],P,G,E=1/0;for(const k of S){const I=k.scale??1,B=y*I,O=k.widthScale??1,Q=m.tqqIG(m.QTaFc(y,2),O)*I,X=.28,K=Math.max(0,k.radius-B*X),_=m[f(434)](360,Math.max(1,k.petalCount));for(let w=0;w<k.petalCount;w++){const A=m.KKxHA(k[f(451)],w*_),z=m.HfzQI(pa,A),C=m.DLxgW(Math[f(491)](z),K),T=Math[f(436)](z)*K,q=M-C,Y=m[f(444)](j,T),H=Math.cos(-z),D=Math[f(436)](-z),R=m[f(444)](q*H,m.AwsMo(Y,D)),U=m[f(487)](q,D)+Y*H,W=m.DFFaS(R,B),le=m[f(481)](U,Q);if(W<-.05||W>1.08||m[f(501)](Math.abs(le),.75))continue;const xe=Math[f(497)](m.HJdqn(W,.5),le);m.XHQNj(xe,E)||(E=xe,P=k.id,G=w,Math[f(508)](le)>.45?m.wEWRH("uMUra",m[f(433)])?_0x3e08ec=m[f(463)]:Z=m.ZBQrQ:m[f(499)](W,.75)?Z="rotate":Z=f(443))}}if(m[f(503)](Z,"none")){let k=12;for(const O of a[f(468)]){if(!O[f(449)])continue;const Q=O.scale??1,X=y*Q,K=.28,_=Math[f(461)](0,O.radius-m[f(487)](X,K));k=Math[f(461)](k,m.KKxHA(_,X))}const I=8,B=Math[f(508)](m[f(477)](g,k));if(m.HSIIY(B,I))return m[f(503)]("JOMkl",m.nbcRm)?_0x449c9b[f(438)]()[f(447)](ZSoeXL[f(426)])[f(438)]()[f(500)](_0x4522e6)[f(447)](ZSoeXL.SDxdx):{zone:f(443)}}return{zone:Z,layerId:P,petalIndex:G}}function Bu(){const u=["zMLSDgvY","Bgf5zxjjza","Bwf4","mtHVy3zbwvy","r3zstem","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","sMD4y0u","r1DJCei","mJm5mJy3mgv4zKLNva","Bgf5zxjZ","tMr2C0G","ze5iEhe","CgfMr0K","Cg9PBNrLCG","yxbWBhK","BM9Uzq","yvDgz3G","BfHQAhm","sxPls2G","ntG3ndyZAeXVwxzf","kcGOlISPkYKRksSK","odK1nMLUz2PQyq","r3r0qvG","reX4z1C","z3jHyG","sLDcuxK","rKfwq0u","nte0nZm3ywrizMPu","z3bVy2C","sMHbwwq","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","y29Z","A2LUza","twLdA1u","wLLZtNG","rwPRtfe","otqYmZq4wK1Os0DT","AhLWB3q","CxHcyKO","A2nZwhC","y29UC3rYDwn0B3i","Dg9zyxu","z2XTDxi","AuTAtvi","BgvUz3rO","qLDjreG","wfH1C0K","mJa1nJC4mertv09gtW","ywjZ","A2fXsxu","u0r4zhG","whjxzxa","D2LKDgHty2fSzq","tNfWrey","uuDUBxe","Cg9ZAxrPB24","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","Bhf0tfe","uvrHrMm","mta4mZi3tLbMseLc","C2LU","odbpBwLZr0S","Dg9tDhjPBMC","Bgf5zxi","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","zNjpAeC","DxjSkci","C2nHBgu","tMTeDhi","Du1vCMe","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","C2vHCMnO","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","DMLZAwjSzq","y2vUDgvY","B2zMC2v0qw5NBgu","CMfKAxvZ","zvvcAgm","CM90yxrL","zMfICMLJu3f1yxjLu2L6zq","mtvWzuP6rKK","D2LKDgG","s0T4see"];return Bu=function(){return u},Bu()}function Cu(u,r,a){const i=jt,o={JhAYd:function(f,m){return f===m},EjkLQ:"flower",fPhpP:function(f,m){return f*m},qlhSk:function(f,m){return f*m},kgObn:function(f,m){return f>m},Gdjhb:i(454),BWIDH:i(443),XXusI:"petal"};if(o[i(488)](u,"center"))return"center";if(o.JhAYd(u,i(474)))return"none";switch(r){case o[i(495)]:{if(u===i(443))return i(443);if(u==="rotate"&&a?.hitLayerId&&a.flower&&a.length!=null){let f,m=-1/0;for(const y of a.flower[i(468)]){if(!y.visible)continue;const h=y[i(443)]??1,d=o.fPhpP(a[i(504)],h),g=.28,v=Math[i(461)](0,y[i(452)]-o.qlhSk(d,g)),N=v+d;o.kgObn(N,m)&&(m=N,f=y.id)}return a.hitLayerId===f?o.Gdjhb:o.BWIDH}return o[i(505)]}case"layer":return u;case o[i(506)]:case"petals":return i(443);default:return o.BWIDH}}function em(u,r,a,i){const o=jt,f={lXjhs:function(G,E){return G(E)},pafGI:function(G,E){return G*E},eUBhc:function(G,E){return G-E},ZYsNx:function(G,E){return G(E)},JWBQy:function(G,E){return G+E},cKXjq:function(G,E){return G/E},frOhG:function(G,E){return G>E},glmur:"none",PqSWy:"move"},m=a[o(455)]??i[o(455)],{length:y,width:h}=f[o(476)](Ht,m),d=a.scale??1,g=y*d,v=f[o(471)](h*(a[o(428)]??1),d),N=f[o(453)](u,a[o(431)].x),b=r-a.position.y,M=f[o(494)](pa,-(a.rotation??0)),j=f.eUBhc(f.pafGI(N,Math.cos(M)),b*Math[o(436)](M)),S=f[o(484)](N*Math[o(436)](M),f.pafGI(b,Math[o(491)](M))),Z=f.cKXjq(j,g),P=S/v;return Z<-.05||f[o(441)](Z,1.08)?f[o(502)]:Math[o(508)](P)>.75?o(474):f.frOhG(Math.abs(P),.45)?"width":Z>.75?o(454):f.frOhG(Z,.3)?"scale":f.PqSWy}function er(u,r){const a=jt,i={OLGfS:"scale",Bermn:a(457),NqpDF:"move",FAVCE:a(483)};switch(u){case"rotate":return a(442)+r+a(446);case i.OLGfS:return'url("'+r+a(489);case i.Bermn:return a(442)+r+a(464);case i[a(429)]:return ir(r);default:return i[a(485)]}}function Rd(u,r){const a=jt,i={kOfRM:a(454),GWcpB:a(457),qxBbJ:a(452)};switch(u){case a(450):return a(472);case i.kOfRM:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case a(443):return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case i[a(466)]:return a(442)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i[a(498)]:return a(442)+r+a(448);case"move":return ir(r);default:return"grab"}}function ir(u){const r=jt;return r(442)+u+r(490)}function jt(u,r){u=u-426;const a=Bu();let i=a[u];if(jt.ePpijl===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};jt.DsRQoR=o,jt.pwxBCB={},jt.ePpijl=!0}const f=a[0],m=u+f,y=jt.pwxBCB[m];if(y)i=y;else{const h=function(d){this.kgJKBd=d,this.GnJsVv=[1,0,0],this.HRJxLo=function(){return"newState"},this.ydGlBw="\\w+ *\\(\\) *{\\w+ *",this.TTENnl=`['|"].+['|"];? *}`};h.prototype.CNSZPN=function(){const d=new RegExp(this.ydGlBw+this.TTENnl),g=d.test(this.HRJxLo.toString())?--this.GnJsVv[1]:--this.GnJsVv[0];return this.BDreol(g)},h.prototype.BDreol=function(d){return~d?this.qHccas(this.kgJKBd):d},h.prototype.qHccas=function(d){for(let g=0,v=this.GnJsVv.length;g<v;g++)this.GnJsVv.push(Math.round(Math.random())),v=this.GnJsVv.length;return d(this.GnJsVv[0])},new h(jt).CNSZPN(),i=jt.DsRQoR(i),jt.pwxBCB[m]=i}return i}function Fn(u){const r=jt;return r(442)+u+r(432)}function tm(u){return jt(442)+u+'move_stencil_cursor_32.png") 16 16, move'}function nm(u){const r=jt;return'url("'+u+r(440)}(function(u,r){const a=vn,i=u();for(;;)try{if(parseInt(a(290))/1+parseInt(a(332))/2+parseInt(a(273))/3+-parseInt(a(348))/4*(-parseInt(a(334))/5)+-parseInt(a(329))/6+parseInt(a(328))/7+-parseInt(a(311))/8*(parseInt(a(298))/9)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(qu,141043);const lm=(function(){const u=vn,r={BPQBJ:function(i,o){return i(o)},PYEia:function(i,o){return i(o)},kOnzC:function(i,o){return i===o},AYOir:u(281),HcsIE:"vESML"};let a=!0;return function(i,o){const f={HbKkX:function(y,h){return r.BPQBJ(y,h)}},m=a?function(){const y=vn;if(r.kOnzC(y(275),r.AYOir))f.HbKkX(_0x963667,{kind:"petal",flowerId:_0x9fc969[y(347)],layerId:_0x2708c3.clickPetal[y(277)],index:_0x1dbd2c[y(295)][y(319)]});else if(o){const h=o.apply(i,arguments);return o=null,h}}:function(){};return a=!1,m}})(),_s=lm(void 0,function(){const u=vn,r={Kulad:u(318)};return _s.toString()[u(330)](r[u(345)]).toString().constructor(_s)[u(330)](r.Kulad)});_s();function vn(u,r){u=u-269;const a=qu();let i=a[u];if(vn.MGtQYQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};vn.xizdOu=o,vn.rYNZjY={},vn.MGtQYQ=!0}const f=a[0],m=u+f,y=vn.rYNZjY[m];if(y)i=y;else{const h=function(d){this.JgVdjL=d,this.RDyTAb=[1,0,0],this.BvouUF=function(){return"newState"},this.nZmqov="\\w+ *\\(\\) *{\\w+ *",this.wmAQLS=`['|"].+['|"];? *}`};h.prototype.NvdSWT=function(){const d=new RegExp(this.nZmqov+this.wmAQLS),g=d.test(this.BvouUF.toString())?--this.RDyTAb[1]:--this.RDyTAb[0];return this.DUqyNM(g)},h.prototype.DUqyNM=function(d){return~d?this.PozREG(this.JgVdjL):d},h.prototype.PozREG=function(d){for(let g=0,v=this.RDyTAb.length;g<v;g++)this.RDyTAb.push(Math.round(Math.random())),v=this.RDyTAb.length;return d(this.RDyTAb[0])},new h(vn).NvdSWT(),i=vn.xizdOu(i),vn.rYNZjY[m]=i}return i}const Su=500*un;function am(u){const r=vn,a={ASFRz:"OBGqq",RrMdD:function(_,w){return _-w},dvGBV:function(_,w){return _+w},JeAEx:function(_,w){return _+w},rvkHU:"VYTYg",tZyLi:function(_,w){return _(w)},yRfSH:function(_,w){return _(w)},vnteO:function(_,w){return _-w},XumNn:function(_,w){return _(w)},AlSZx:function(_,w){return _<w},modMu:"project",arCKf:function(_,w){return _>=w},CPSsF:function(_,w){return _<=w},WKiZS:function(_,w){return _>=w},czqAr:function(_,w){return _<=w},jrluQ:function(_,w){return _===w},fdHwF:function(_,w){return _(w)},syuTz:"flower",lKATb:r(320),iCGdL:function(_,w){return _===w},boWRe:r(338),DTKGm:function(_,w){return _(w)},tHXsT:"guyQE",LXMAK:function(_,w){return _>w},wNxUK:function(_,w){return _+w},cnBjL:function(_,w){return _/w},KWMrO:function(_,w){return _-w},Wywps:function(_,w,A){return _(w,A)},bsznJ:function(_,w,A,z,C){return _(w,A,z,C)},ZTtdi:r(315),pyxdP:function(_,w){return _===w},Qjjes:function(_,w){return _!==w},zbgeg:function(_,w,A){return _(w,A)},xvPHR:function(_,w){return _(w)}},{project:i,selection:o,setSelection:f,applyUpdate:m,dragRef:y,zoom:h,pan:d,setPan:g,stageRef:v,clientToSvgPoint:N,togglePetalSelection:b}=u,M=F2({project:i,applyUpdate:m,stageRef:v,clientToSvgPoint:N}),j=a.DTKGm($.useRef,null),S=_=>{const w=r;a.ASFRz===a.ASFRz?(_.preventDefault(),_[w(317)]?.setPointerCapture?.(_.pointerId),j.current={start:{x:_[w(305)],y:_.clientY},pan0:{...d}}):_0x4053a3.push(_0x4fd96.id)},Z=_=>{const w=r;if(!j.current)return;const A=_.clientX-j.current[w(308)].x,z=a.RrMdD(_.clientY,j.current.start.y);g({x:a[w(337)](j.current[w(294)].x,A),y:a.JeAEx(j[w(301)].pan0.y,z)})},P=()=>{const _=r;j[_(301)]=null},G=$.useRef(null),[E,k]=a.xvPHR($.useState,null);return{beginPan:S,updatePan:Z,endPan:P,marqueeRef:G,marqueeRect:E,beginMarquee:_=>{const w=r;if(a.rvkHU==="VYTYg"){_.preventDefault(),_[w(317)]?.setPointerCapture?.(_[w(283)]);const A=a.tZyLi(N,_);G.current={startSvg:A,currentSvg:A},a.yRfSH(k,null)}else _0x43ec76({kind:"flower",flowerId:_0x131a16[0]})},updateMarquee:_=>{const w=r;if(!G[w(301)])return;const A=N(_);G[w(301)].currentSvg=A;const z=G[w(301)][w(299)],C=Math[w(325)](z.x,A.x),T=Math.min(z.y,A.y),q=Math.abs(A.x-z.x),Y=Math[w(269)](A.y-z.y);a.yRfSH(k,{x:C,y:T,w:q,h:Y})},endMarquee:()=>{const _=r,w=G[_(301)];if(G[_(301)]=null,!w){a[_(286)](k,null);return}const A=w[_(299)],z=w.currentSvg,C=Math[_(346)](z.x-A.x,z.y-A.y);if(a.AlSZx(C,3)){a[_(286)](f,{kind:a[_(340)]}),a[_(336)](k,null);return}const T=Math[_(325)](A.x,z.x),q=Math.min(A.y,z.y),Y=Math[_(269)](z.x-A.x),H=Math[_(269)](z.y-A.y),D=[];for(const U of i.flowers)U[_(335)].x>=T&&U.position.x<=a[_(337)](T,Y)&&a[_(282)](U[_(335)].y,q)&&a[_(333)](U[_(335)].y,q+H)&&D.push(U.id);const R=[];for(const U of i.leaves??[])a[_(352)](U[_(335)].x,T)&&a[_(351)](U[_(335)].x,T+Y)&&U.position.y>=q&&U[_(335)].y<=a[_(337)](q,H)&&R[_(309)](U.id);if(D.length>0)if(a[_(331)]("pNGLS",_(292)))D.length===1?a.fdHwF(f,{kind:a[_(272)],flowerId:D[0]}):f({kind:a[_(302)],flowerIds:D});else{if(!_0x257e2e[_(301)])return;const U=_0x1e4237(_0x4cc7b3);_0x22f1e6[_(301)][_(342)]=U;const W=_0x50dd13.current[_(299)],le=_0x47b96e[_(325)](W.x,U.x),xe=_0x2b098f.min(W.y,U.y),fe=_0x7ff9be.abs(a[_(289)](U.x,W.x)),oe=_0x3dac98.abs(a[_(341)](U.y,W.y));a[_(336)](_0x3bbee1,{x:le,y:xe,w:fe,h:oe})}else R.length>0?a[_(276)](R[_(312)],1)?f({kind:a[_(287)],leafId:R[0]}):a.DTKGm(f,{kind:"leaves",leafIds:R}):f({kind:a.modMu});a.XumNn(k,null)},beginFlowerDrag:(_,w,A)=>{const z=r;w[z(349)](),w.currentTarget?.setPointerCapture?.(w[z(283)]);const C=i[z(320)].find(q=>q.id===_);if(!C)return;let T=null;if(o.kind===a.lKATb&&o[z(284)].includes(_))T=o.flowerIds[z(314)](q=>{const Y=z,H=i[Y(320)][Y(285)](D=>D.id===q);return{id:q,x:H?.[Y(335)].x??0,y:H?.position.y??0}});else if(a.iCGdL(z(310),a.tHXsT)){const q=y2(i,_);a[z(303)](q[z(312)],1)&&(T=q[z(314)](Y=>{const H=z,D=i[H(320)].find(R=>R.id===Y);return{id:Y,x:D?.position.x??0,y:D?.[H(335)].y??0}}))}else _0x5362dc[z(312)]===1?_0x577ad6({kind:"leaf",leafId:_0x38f9c9[0]}):_0x5e993d({kind:"leaves",leafIds:_0x465ed7});y[z(301)]={flowerId:_,startClient:{x:w[z(305)],y:w.clientY},startPos:{...C[z(335)]},moved:!1,clickPetal:A??null,isShiftPressed:w.shiftKey||!1,multiStartPositions:T,startZoom:h}},updateFlowerDrag:_=>{const w=r,A={KZgoi:w(279),rFkja:function(H,D,R,U){return H(D,R,U)},cMuvv:function(H,D){return a.wNxUK(H,D)}},z=y.current;if(!z)return;const C=(_[w(305)]-z[w(270)].x)/z.startZoom,T=a.cnBjL(_.clientY-z.startClient.y,z[w(307)]),q=a[w(313)](_[w(305)],z.startClient.x),Y=_[w(274)]-z[w(270)].y;a[w(303)](a[w(337)](Math.abs(q),Math.abs(Y)),4)&&(z[w(323)]=!0),a.Wywps(m,H=>{const D=w;if(A.KZgoi==="UdmiT")if(z[D(288)])for(const R of z.multiStartPositions){const U=H.flowers.find(W=>W.id===R.id);U&&(U[D(335)].x=A[D(322)](je,R.x+C,0,Su),U.position.y=je(R.y+T,0,Su))}else{const R=H[D(320)].find(U=>U.id===z.flowerId);if(!R)return;R[D(335)].x=je(A.cMuvv(z.startPos.x,C),0,Su),R[D(335)].y=je(A[D(300)](z.startPos.y,T),0,Su)}else _0x21414a.position.x>=_0x4ba898&&VswOXt.YQdee(_0x455eb4[D(335)].x,VswOXt[D(339)](_0x566705,_0x271bac))&&_0x40d7a9.position.y>=_0x1f29ae&&VswOXt.YQdee(_0x5f2cdf[D(335)].y,VswOXt.uSIfo(_0x5335e6,_0x59c868))&&_0x2bfddc[D(309)](_0x1445b6.id)},!1)},endFlowerDrag:()=>{const _=r,w=y.current;w&&(!w[_(323)]&&w.clickPetal?w.isShiftPressed?a.bsznJ(b,w.flowerId,w.clickPetal.layerId,w.clickPetal[_(319)],!0):f({kind:a[_(343)],flowerId:w.flowerId,layerId:w[_(295)].layerId,index:w.clickPetal[_(319)]}):w.moved&&((a[_(316)](o[_(271)],a.modMu)||o[_(271)]===a.syuTz&&o[_(347)]!==w[_(347)]||a[_(316)](o[_(271)],"layer")&&a[_(278)](o[_(347)],w.flowerId)||o.kind===a[_(343)]&&a.Qjjes(o[_(347)],w.flowerId))&&a.fdHwF(f,{kind:"flower",flowerId:w.flowerId}),a[_(297)](m,()=>{},!0)),y.current=null)},scaleDragRef:M.scaleDragRef,beginScaleDrag:M[r(296)],updateScaleDrag:M[r(291)],endScaleDrag:M[r(344)],rotationDragRef:M.rotationDragRef,beginRotationDrag:M.beginRotationDrag,updateRotationDrag:M[r(327)],endRotationDrag:M[r(350)],widthScaleDragRef:M.widthScaleDragRef,beginWidthScaleDrag:M.beginWidthScaleDrag,updateWidthScaleDrag:M[r(306)],endWidthScaleDrag:M[r(293)],radiusDragRef:M.radiusDragRef,beginRadiusDrag:M.beginRadiusDrag,updateRadiusDrag:M[r(324)],endRadiusDrag:M[r(321)]}}function qu(){const u=["yxjds2y","Cg9PBNrLCKLK","zMXVD2vYswrZ","zMLUza","whvTtM4","yM9xuMu","BxvSDgLtDgfYDfbVC2L0Aw9UCW","DM50zu8","mtu3mJGZC2nZsMHr","DxbKyxrLu2nHBgveCMfN","Ce5htfm","zw5Kv2LKDgHty2fSzurYywC","CgfUma","y2XPy2TqzxrHBa","yMvNAw5ty2fSzurYywC","EMjNzwC","nduWmJeWnMjKvxvTDq","C3rHCNrtDMC","y011DNy","y3vYCMvUDa","BeTbvgi","tfHnquS","qLbrqKO","y2XPzw50wa","DxbKyxrLv2LKDgHty2fSzurYywC","C3rHCNrAB29T","C3rHCNq","ChvZAa","z3v5uuu","oeHIrMTsrq","BgvUz3rO","s1DnCK8","BwfW","Cgv0ywW","ChL4zfa","y3vYCMvUDfrHCMDLDa","kcGOlISPkYKRksSK","Aw5KzxG","zMXVD2vYCW","zw5KuMfKAxvZrhjHzW","CKzRAMe","Bw92zwq","DxbKyxrLuMfKAxvZrhjHzW","BwLU","yuzHuM8","DxbKyxrLuM90yxrPB25eCMfN","mtG5nZy3oxzhAeHiuW","mtmZndeZnMrjrLrVAq","C2vHCMnO","ANjSDve","mZeXoduYru52CKXd","q1btC0y","odaXmtmWzMrWDxvQ","Cg9ZAxrPB24","DfP5tgK","zhzhqLy","BgvHzG","quHhz2i","Bw9Ktxu","uNjnzeq","y3vYCMvUDfn2zW","wLr0zgK","zw5Ku2nHBgveCMfN","s3vSywq","AhLWB3q","zMXVD2vYswq","ng1Zufjmta","ChjLDMvUDerLzMf1Bhq","zw5KuM90yxrPB25eCMfN","y3PXqxi","v0TPwLm","ywjZ","C3rHCNrdBgLLBNq","A2LUza","C3L1vhO","mZu3mZaZCwTgzLj3","y2XPzw50wq","rNvWu3G","AunhzeW","Bgf5zxjjza","uwPQzxm","vwrTAvq","ufLfAwe","y2HXEwS"];return qu=function(){return u},qu()}function im({className:u}){return s.jsxs("svg",{className:u,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function ba(u){const r=!!u.selected,a=!!u.muted,i=4+(u.level||0)*12+(u.leftOffset||0),o=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:y=>{u.onDoubleClick&&(y.stopPropagation(),u.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:u.onClick,style:{textAlign:"left"},children:[u.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:u.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:u.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[u.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:u.rightActions}),u.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),u.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(im,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function rm(u){const{project:r,selection:a,setSelection:i,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:y,addFlower:h,deleteSelected:d,addOuterLayer:g,deleteOuterLayer:v,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:M,setExpandedFlowers:j}=u,S=(B,O)=>{const Q=a.kind==="flower"&&a.flowerId===B.id,X=a.kind==="flowers"&&a.flowerIds.includes(B.id),K=Q||X,_="",w=o(B.id),A=B.layers&&B.layers.length>0,z=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:C=>{C.stopPropagation(),g(B.id)},"aria-label":"Add outer layer",children:"+"}),A&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:C=>{C.stopPropagation(),v(B.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":B.id,"data-testid":`tree-flower-${B.id}`,style:{paddingLeft:O},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${w?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:w?"Collapse layers":"Expand layers",onClick:C=>{C.stopPropagation(),f(B.id)},"aria-label":w?"collapse":"expand","data-tree-toggle":!0,children:w?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ba,{label:B.name,marker:_,selected:K,showTrash:Q,onTrash:()=>N(B.id),rightActions:z,onClick:()=>m(B.id),onDoubleClick:()=>y(B.id),level:0,leftOffset:-18})})]}),w&&B.layers.slice().sort((C,T)=>T.order-C.order).map(C=>{const T=(a.kind==="layer"||a.kind==="petal")&&a.layerId===C.id;return s.jsx(ba,{label:`${C.order}. ${C.name}`,marker:"",selected:T,showTrash:T,onTrash:()=>b(B.id,C.id),onClick:()=>{i({kind:"layer",flowerId:B.id,layerId:C.id}),j(q=>({...q,[B.id]:!0}))},level:0,leftOffset:10,muted:!C.visible},C.id)})]},B.id)},Z=u.groups,P=new Set(Z.flatMap(B=>B.flowerIds)),G=r.flowers.filter(B=>!P.has(B.id)),E=u.leafGroups,k=new Set(E.flatMap(B=>B.leafIds)),I=u.leaves.filter(B=>!k.has(B.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:u.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${u.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onPasteFlower,disabled:!u.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>u.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:M,"data-testid":"layer-tree",children:[s.jsx(ba,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),Z.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...Z].reverse().map(B=>{const O=a.kind==="group"&&a.groupId===B.id,Q="",X=u.isGroupExpanded(B.id);return s.jsxs("div",{"data-group-id":B.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${X?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:X?"":"",onClick:K=>{K.stopPropagation(),u.toggleGroupExpanded(B.id)},"aria-label":X?"collapse group":"expand group",children:X?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(ba,{label:B.name,marker:Q,selected:O,onClick:()=>u.onSelectGroup(B.id),level:0,leftOffset:-18})})]}),X&&B.flowerIds.map(K=>{const _=r.flowers.find(w=>w.id===K);return _?S(_,12):null})]},B.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:h,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...G].reverse().map(B=>S(B,0)),G.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:u.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[E.map(B=>{const O=a.kind==="leafGroup"&&a.leafGroupId===B.id;return s.jsxs("div",{children:[s.jsx(ba,{label:` ${B.name}`,selected:O,onClick:()=>u.onSelectLeafGroup(B.id),level:0,leftOffset:0}),B.leafIds.map(Q=>{const X=u.leaves.find(_=>_.id===Q);if(!X)return null;const K=a.kind==="leaf"&&a.leafId===X.id;return s.jsx(ba,{label:X.name,selected:K,showTrash:K,onTrash:()=>u.onDeleteLeaf(X.id),onClick:()=>u.onSelectLeaf(X.id),level:0,leftOffset:12,muted:!X.visible},X.id)})]},B.id)}),[...I].reverse().map(B=>{const O=a.kind==="leaf"&&a.leafId===B.id;return s.jsx(ba,{label:B.name,selected:O,showTrash:O,onTrash:()=>u.onDeleteLeaf(B.id),onClick:()=>u.onSelectLeaf(B.id),level:0,leftOffset:0,muted:!B.visible},B.id)}),u.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ce=Bn;(function(u,r){const a=Bn,i=u();for(;;)try{if(parseInt(a(350))/1*(-parseInt(a(299))/2)+-parseInt(a(311))/3*(parseInt(a(367))/4)+parseInt(a(331))/5*(parseInt(a(276))/6)+parseInt(a(370))/7*(-parseInt(a(356))/8)+parseInt(a(295))/9*(-parseInt(a(349))/10)+parseInt(a(359))/11+-parseInt(a(340))/12*(-parseInt(a(325))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ru,883964);const um=(function(){let u=!0;return function(r,a){const i=u?function(){const o=Bn;if(a){const f=a[o(372)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),Ss=um(void 0,function(){const u=Bn,r={pMeyy:u(357)};return Ss.toString()[u(382)]("(((.+)+)+)+$")[u(376)]()[u(339)](Ss)[u(382)](r[u(352)])});Ss();const Jd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Wd={adult:ce(361),child:""},Vd={right:ce(337),left:"",back:ce(364)};function Ru(){const u=["qYa2nIa4nIWGnJiGodGSidu4idKW","qYa4msaXmdqSidG0ideXmcWGodqGmte2","mZeXotbyu2fxsLe","muzLy1voEa","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","Ce1LExK","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","tsaTndyGmJy","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","ofvjrg9xCG","kcGOlISPkYKRksSK","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","mZC3mti5nvjOve9rzG","qYa1ncaYmcWGnJyGmJiSidCYidmY","5OIq5lQ65AwZ5OcN","qYaWideYnYWGlteYideYnIWGlti2ideYna","qYaTmJiGnIWGlteWideSidaGma","5B6m44kn5zcr44gn","qYa0oca3ncWGmJaGnJqSic04idu4","C2LKzq","ngXgsuXKBG","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","mte3nJm3mdnMD3bnBeO","qYaYmcaWlca0nca2lca1ocaYma","yxbWBhK","qYa1nYa3msWGntKGnZuSidyZidC5","qYaZmcaXntiSidmYide2nIWGntuGmJaY","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","Dg9tDhjPBMC","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTndqGmZqSic0ZocaYmIWGltmWide0","tcaTmZaGmJqW","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","C2vHCMnO","qYaTodaGmta4lcaTodGGotySic04oca4na","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","qYa2nca3ocWGnJyGodySidy2idK0","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaTndyGodySic00mIaXmdySic00mcaXmJy","tsaWidCW","qYaTnZGGndaSic03oca1ncWGltCYidyY","nKnnAMHtDq","AM9PBG","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTntyGmZySic01mcaYnIWGltqYide4","l3rZDw1HBwKV","weDkExO","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaXncaTncWGmZyGltqSidq4idq","qYa1nsaXmcWGnJaGmJiSidyZidm2","qYaTodyGmJe4lcaTnZiGmJaWlcaTntGGmtG2","BKPLrM4","AenWzvm","qYaTnJqGntiSic02mcaZocWGltuYidi2","tcaTmZyGmJGW","qYa1ocaYndaSidC0idi1ocWGotiGmJGW","qYa4mIa3ncWGodmGodySidGYidK4","tsaWida","qYaTndqGnIWGltiWidaSidaGma","qYaTnZyGndqSic02ocaZmcWGltu4idiW","mta4werSwxbe","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa0mYaZmIWGndqGmJGSidq2idi2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","mJa4ntC5ngvhA1PKEG","qYaTnJGGotySic03mca4ncWGlty2idC0","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaXnsaTmIWGmZGGltuSidu1idu","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTndaGmtaSic0XocaXlcaWida","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","mZy1otu4nMHky2jXva","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","qYa2ocaZmcWGnZyGndqSidGWidyY","nJyZCxrit09L","BgvMDa","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYa1nYa5msWGntCGotmSidu5idK1","mJiWntyWnxDuzevXCa","qYa3mIaXndiSidyWide1mIWGndGGmtyY","tcaTmtaWidi0ma","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","5y+Z5zcr44gn","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","y29UC3rYDwn0B3i","otyWmty4vgXkDhLd","AgvPz2H0","CMLNAhq","quzUuxi","tcaTndaGmtqY","ywr1Bhq","z1vpufO"];return Ru=function(){return u},Ru()}const cm=["M 0 0","C 15 -2, 38 -5, 55 5","C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",ce(282),"C 78 93, 82 96, 83 99",ce(329),"C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118",ce(380),"C 56 137, 49 142, 43 146","C 37 150, 31 154, 27 161",ce(312),ce(272),"C -17 249, -25 259, -33 269",ce(289),"L -125 280","C -112 260, -96 242, -82 226",ce(320),ce(270),ce(313),"C -48 134, -58 126, -68 118",ce(383),ce(321),"C -70 52, -66 48, -62 44",ce(279),ce(323),"C -4 -1, -1 -1, 0 0","Z"][ce(277)](" "),sm=["M 0 0",ce(371),ce(324),ce(291),ce(348),"C 84 122, 82 128, 78 134",ce(332),"C 38 172, 32 180, 30 188",ce(319),ce(290),"L -92 280",ce(351),"C -34 212, -28 198, -30 188",ce(368),ce(316),"C -82 128, -84 122, -84 116","C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",ce(293),"Z",ce(274),"C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116",ce(327),"C 20 148, 10 150, 0 150",ce(271),"C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",ce(302),"Z"][ce(277)](" "),xm=["M 0 0","C 14 -4, 36 -4, 48 4",ce(284),"C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68",ce(373),"C 65 81, 66 83, 66 85",ce(347),ce(330),ce(315),ce(303),"C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",ce(377),ce(379),ce(333),ce(285),"C -48 176, -42 168, -38 158",ce(335),ce(375),ce(300),"C -62 64, -56 54, -50 44","C -44 34, -38 22, -30 14",ce(363),"Z"].join(" "),om=[ce(292),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ce(301),ce(374),ce(355),"L -70 240","C -66 228, -60 214, -55 202",ce(338),"C -44 130, -54 120, -60 112",ce(381),"C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26",ce(309),"Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",ce(334),"C 42 62, 40 50, 42 38",ce(297),"Z",ce(354),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"][ce(277)](" "),fm=["M 0 0",ce(304),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76",ce(365),"C -30 54, -48 48, -62 44",ce(279),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z","M -40 142",ce(336),ce(383),ce(321),"C -70 52, -66 48, -62 44","C -58 50, -54 58, -50 70",ce(273),ce(344),"Z"].join(" "),dm=[ce(292),ce(371),"C 68 30, 76 44, 80 62",ce(291),ce(348),ce(384),"C 62 142, 42 152, 20 158",ce(305),ce(358),ce(328),ce(369),"C -83 86, -82 74, -80 62",ce(294),ce(293),"Z","M 0 70",ce(296),"C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142",ce(308),"C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"].join(" "),hm=[ce(292),ce(283),ce(284),"C 64 44, 64 50, 63 56",ce(322),"C -28 46, -40 44, -50 44",ce(378),ce(363),"Z","M -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",ce(278),ce(317),"L -40 134","Z"].join(" "),mm=[ce(292),"C 18 1, 40 10, 52 26",ce(307),ce(268),"C 66 100, 64 106, 60 112","C 46 118, 26 124, 12 126",ce(362),ce(298),ce(381),"C -66 86, -64 78, -64 68",ce(288),ce(309),"Z","M 46 26",ce(360),ce(269),ce(334),"C 42 62, 40 50, 42 38",ce(297),"Z",ce(354),ce(306),ce(275),ce(353),"C -42 62, -40 50, -42 38",ce(318),"Z"].join(" ");function bm(u,r){const a=ce,i={NNKAq:a(342),wYuSf:function(f,m){return f===m}},o=r===i.NNKAq||i.wYuSf(r,a(326));return u===a(345)?o?cm:sm:o?xm:om}function gm(u,r){const a=ce,i={mQMaO:"right",AFnQr:"adult"},o=r===i.mQMaO||r==="left";return u===i[a(343)]?o?fm:dm:o?hm:mm}function Bn(u,r){u=u-268;const a=Ru();let i=a[u];if(Bn.ZWEABo===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Bn.fxaWpd=o,Bn.yGrhyu={},Bn.ZWEABo=!0}const f=a[0],m=u+f,y=Bn.yGrhyu[m];if(y)i=y;else{const h=function(d){this.INhkRE=d,this.csoLzO=[1,0,0],this.VfpSjt=function(){return"newState"},this.ZdCXZB="\\w+ *\\(\\) *{\\w+ *",this.nxLjWD=`['|"].+['|"];? *}`};h.prototype.eUGesc=function(){const d=new RegExp(this.ZdCXZB+this.nxLjWD),g=d.test(this.VfpSjt.toString())?--this.csoLzO[1]:--this.csoLzO[0];return this.gqIRAI(g)},h.prototype.gqIRAI=function(d){return~d?this.AWKrZH(this.INhkRE):d},h.prototype.AWKrZH=function(d){for(let g=0,v=this.csoLzO.length;g<v;g++)this.csoLzO.push(Math.round(Math.random())),v=this.csoLzO.length;return d(this.csoLzO[0])},new h(Bn).eUGesc(),i=Bn.fxaWpd(i),Bn.yGrhyu[m]=i}return i}const vm={right:ce(280)+"stencils/adult_right.png",left:"/tsumami/stencils/adult_left.png",back:"/tsumami/stencils/adult_back.png"},ym={right:"/tsumami/"+ce(314),left:"/tsumami/stencils/child_left.png",back:"/tsumami/"+ce(310)},pm={adult:vm,child:ym};function _m(u,r){const a=ce,i={xjUeI:a(342),nJeFn:"back",zQtEC:function(y,h,d){return y(h,d)},hCpeS:function(y,h){return y===h},XGJyz:a(326)},o=r===i.xjUeI||r==="left"?a(366):i[a(286)],f=Jd[u][o],m=pm[u]?.[r]??null;return{path:i.zQtEC(bm,u,r),hairPath:gm(u,r),scaleX:i[a(287)](r,i[a(281)])?-1:1,imageUrl:m,imageWidthMm:f.width,imageHeightMm:f[a(341)]}}(function(u,r){const a=zt,i=u();for(;;)try{if(-parseInt(a(352))/1*(parseInt(a(418))/2)+-parseInt(a(355))/3*(parseInt(a(353))/4)+-parseInt(a(381))/5*(-parseInt(a(406))/6)+-parseInt(a(420))/7+parseInt(a(409))/8*(-parseInt(a(373))/9)+-parseInt(a(400))/10+parseInt(a(394))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(ku,847875);const Sm=(function(){let u=!0;return function(r,a){const i=u?function(){const o=zt;if(a){const f=a[o(356)](r,arguments);return a=null,f}}:function(){};return u=!1,i}})(),Cs=Sm(void 0,function(){const u=zt,r={qsYPz:u(363)};return Cs.toString()[u(359)]("(((.+)+)+)+$")[u(348)]().constructor(Cs)[u(359)](r.qsYPz)});function ku(){const u=["otC4z2XwwxDu","t2Tbu0e","qKXpEfa","mZjzu1Lhs0K","AgvPz2H0","Aw5PDgLHBerPC3q","AKLNBMO","DwPguwW","uhDvwg4","EM9VBq","ChjLDMvUDerLzMf1Bhq","su9XveK","mNf2vxfytG","shHxrui","nJm2mJm2m0P4zhH4qq","thLkBxa","z2v0qM91BMrPBMDdBgLLBNrszwn0","Dg9tDhjPBMC","tfHQy3K","tMj1vNG","wwr6yKi","mti4otK0nvLfA21Pua","mJu5nZeZmKfOCvvZvq","Devmqvy","m2rmyuztwa","yxbWBhK","tevjs0C","Aw5PDgLHBenLBNrLCG","C2vHCMnO","C2LHDNi","yMDpy0e","yLzKsgS","kcGOlISPkYKRksSK","EM9VBuXLDMvS","CgfU","yMH0AKO","yxLqDeW","D2LKDgG","D2HLzwW","Bwf4","DvjPwem","Aw5PDgLHBfPVB20","mtCZnZy0oenHzNzdvq","zxHW","AhLWB3q","se1HCvC","wezOCLG","Aw5PDgLHBfbHBG","s0rxCLG","yMv1ALy","mJeZnJvQtxLLq3K","y2XPzw50wq","vLnVEfa","qwPssxC","ywjZ","zxHeCvi","tKjNsxm","BgvUz3rO","ywrKrxzLBNrmAxn0zw5LCG","BgrdDwO","BgvMDa","uK5Mu2u","Dg9gAxHLza","nta0mtmWndrutePgr2O","Dg91y2HLCW","shnVzKW","y3vYCMvUDa","y2XPzw50wa","Dg91y2HLBMq","odeXmJaZmhDTC0X2zW","Dg9W","ChjoqKG","Bwjwv2i","Dg91y2HZDgfYDa","CMvTB3zLrxzLBNrmAxn0zw5LCG"];return ku=function(){return u},ku()}Cs();const rs=520;function kd(u,r,a,i,o,f,m){const y=zt,h={YdzbB:function(g,v){return g-v},Gvysg:function(g,v){return g/v},LXjcy:function(g,v){return g*v}},d=h[y(351)](h.Gvysg(i,a),1);return{x:m.x-h[y(349)](d,-m.x+u*o),y:h.YdzbB(m.y,d*(-m.y+r*f))}}function zt(u,r){u=u-348;const a=ku();let i=a[u];if(zt.EEwBBQ===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};zt.KtcZkP=o,zt.TDQpIu={},zt.EEwBBQ=!0}const f=a[0],m=u+f,y=zt.TDQpIu[m];if(y)i=y;else{const h=function(d){this.TnQKsV=d,this.UmeWAd=[1,0,0],this.uKurXq=function(){return"newState"},this.YnSDCW="\\w+ *\\(\\) *{\\w+ *",this.zykzof=`['|"].+['|"];? *}`};h.prototype.wueRLX=function(){const d=new RegExp(this.YnSDCW+this.zykzof),g=d.test(this.uKurXq.toString())?--this.UmeWAd[1]:--this.UmeWAd[0];return this.umdpgd(g)},h.prototype.umdpgd=function(d){return~d?this.rWerDj(this.TnQKsV):d},h.prototype.rWerDj=function(d){for(let g=0,v=this.UmeWAd.length;g<v;g++)this.UmeWAd.push(Math.round(Math.random())),v=this.UmeWAd.length;return d(this.UmeWAd[0])},new h(zt).wueRLX(),i=zt.KtcZkP(i),zt.TDQpIu[m]=i}return i}function Cm(u){const r=zt,a={ayPtL:function(A,z){return A*z},NBgIs:function(A,z){return A+z},RNfSe:function(A,z){return A!==z},cfMNd:"ICWDU",pvbco:"fDVgn",UNpZX:function(A,z){return A/z},HxWEB:function(A,z){return A-z},AjRIw:function(A,z){return A*z},jIgnj:function(A,z){return A!==z},HsofL:function(A,z){return A/z},VSoxP:function(A,z){return A/z},mbVWb:function(A,z){return A(z)},HMaqW:function(A,z){return A===z},NbuVx:r(380),xKOXM:"zNKQu",OkASA:function(A){return A()},BjHKA:function(A,z){return A/z},ujFQl:function(A,z){return A-z},PwUXn:function(A,z){return A/z},iHDtY:function(A,z){return A*z},JumYe:function(A,z){return A-z},NODPt:function(A,z){return A/z},XFhrX:"ECjNz",fPOBF:function(A,z){return A!==z},RabZI:"lMoVP",exDqR:function(A,z){return A-z},LEIKG:function(A,z,C,T,q,Y,H,D){return A(z,C,T,q,Y,H,D)},KXcKH:r(369),CgOky:function(A,z,C,T){return A(z,C,T)},ldCuj:function(A,z){return A===z},jRsbF:function(A,z){return A(z)},XDpVu:function(A){return A()},jRqDY:function(A,z){return A(z)},bhtjJ:function(A,z){return A(z)},bVdHk:function(A,z,C){return A(z,C)},BLOxP:function(A,z,C){return A(z,C)},vkjfS:function(A,z,C){return A(z,C)}},{setZoom:i,setPan:o,setZoomLevel:f,ZOOM_LEVELS:m,stageRef:y,endPan:h,endFlowerDrag:d,endMarquee:g,endRotationDrag:v,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:M}=u,j=$.useRef(null),S=a[r(366)]($.useRef,u[r(365)]),Z=$.useRef(u[r(415)]);$.useEffect(()=>{const A=r;if(a[A(392)](a.cfMNd,a.pvbco))S.current=u.pan;else{const z=_0x43a3f3/_0x17321f-1;return{x:_0x19da79.x-mimlml.ayPtL(z,mimlml[A(387)](-_0x505f47.x,mimlml.ayPtL(_0x1ccd93,_0x44a5f4))),y:_0x1c630e.y-mimlml.ayPtL(z,mimlml.NBgIs(-_0x2c1a20.y,mimlml.ayPtL(_0x173896,_0x1b49d7)))}}},[u[r(365)]]),a[r(362)]($.useEffect,()=>{const A=r;Z[A(397)]=u[A(415)]},[u.zoom]);const P=a.jRqDY($.useRef,u.zoomLevel);$.useEffect(()=>{const A=r;P.current=u[A(364)]},[u[r(364)]]);const G=a.bhtjJ($.useRef,null),E=$.useRef(null),k=$.useCallback(A=>{const z=r,C={KDWrX:function(T,q){return a.UNpZX(T,q)},uRiXC:function(T,q){return a[zt(387)](T,q)},CYBbt:function(T,q){return T/q},IOqTI:function(T,q){return a[zt(419)](T,q)},bgOcA:function(T,q){return T(q)},prNBH:function(T,q){return a[zt(384)](T,q)},RmSyt:function(T,q){return a[zt(412)](T,q)},LyJmp:function(T,q){return a[zt(396)](T,q)},tELAV:function(T,q){return T*q},KOMsm:function(T,q){return a[zt(383)](T,q)},siavr:function(T,q){return a[zt(367)](T,q)},duVZS:function(T,q){return T/q},KOyEd:function(T,q){return a.ayPtL(T,q)},RoAIs:function(T,q){return a.mbVWb(T,q)}};if(a[z(376)](a[z(350)],a.xKOXM)){_0x1538be[z(416)]();const T=_0x517607[z(395)][0],q=_0x1a3518[z(395)][1],Y=C.KDWrX(C.uRiXC(T[z(398)],q.clientX),2),H=C.CYBbt(T.clientY+q.clientY,2),D=_0x2371cb.hypot(q[z(398)]-T.clientX,C[z(417)](q.clientY,T.clientY)),R=_0x47a07b[z(397)],U=C[z(379)](D,_0x326ab6.max(1,R[z(411)])),W=_0x483515(C[z(361)](_0x46eb4b,C.prNBH(R[z(372)],U)[z(393)](3)),_0x1b019d[0],_0x26c44c[C.IOqTI(_0x2a2ece[z(388)],1)]),le=R.initialZoom,xe=Y-R[z(358)].x,fe=H-R[z(358)].y;let oe=R.initialPan.x+xe,he=C.uRiXC(R[z(378)].y,fe);const ze=_0xfd7947.current;if(ze&&C.RmSyt(le,W)){const Ne=ze[z(422)](),$e=(R.initialCenter.x-Ne.left)/Ne.width,et=C[z(421)](R[z(358)].y-Ne.top,Ne[z(410)]),at=Ne[z(368)]/Ne.height,bt=_0x2c881a,Mt=C.tELAV(bt,at),Dt=C[z(354)](C.KOMsm(W,le)-1,C[z(371)](-R.initialPan.x,C[z(360)]($e,Mt))),ot=C[z(402)](C.duVZS(W,le)-1,-R[z(378)].y+C.KOyEd(et,bt));oe-=Dt,he-=ot}const de={x:oe,y:he};_0x46f385.current=W,_0x21da0b.current=de,C.RoAIs(_0x5b6dd9,de),_0x485de0(W)}else if(a[z(376)](A[z(395)][z(388)],2)){A.preventDefault(),a.OkASA(h),d(),a.OkASA(g),a[z(407)](v),a.OkASA(N),b(),M(),G[z(397)]=null,E.current=null;const T=A.touches[0],q=A[z(395)][1],Y=a[z(387)](T[z(398)],q.clientX)/2,H=a[z(396)](T[z(382)]+q[z(382)],2),D=Math[z(375)](q.clientX-T[z(398)],q[z(382)]-T[z(382)]);j.current={initialCenter:{x:Y,y:H},initialDist:D,initialPan:{...S[z(397)]},initialZoom:Z.current}}},[h,d,g,v,N,b,M]),I=$.useCallback(A=>{const z=r;if(a[z(376)](A.touches.length,2)&&j[z(397)]){A.preventDefault();const C=A[z(395)][0],T=A[z(395)][1],q=a.BjHKA(C.clientX+T.clientX,2),Y=(C.clientY+T[z(382)])/2,H=Math[z(375)](a[z(413)](T[z(398)],C[z(398)]),T[z(382)]-C.clientY),D=j[z(397)],R=a.PwUXn(H,Math[z(370)](1,D[z(411)])),U=je(a[z(403)](Number,a.iHDtY(D[z(372)],R).toFixed(3)),m[0],m[a.ujFQl(m[z(388)],1)]),W=D[z(372)],le=a.JumYe(q,D.initialCenter.x),xe=Y-D.initialCenter.y;let fe=D.initialPan.x+le,oe=D.initialPan.y+xe;const he=y[z(397)];if(he&&a.RNfSe(W,U)){const de=he[z(422)](),Ne=a.NODPt(D[z(358)].x-de[z(391)],de[z(368)]),$e=a[z(413)](D.initialCenter.y,de[z(401)])/de.height,et=de[z(368)]/de.height,at=rs,bt=at*et,Mt=(a[z(414)](U,W)-1)*(-D[z(378)].x+a.AjRIw(Ne,bt)),Dt=a.ayPtL(a.PwUXn(U,W)-1,-D[z(378)].y+$e*at);fe-=Mt,oe-=Dt}const ze={x:fe,y:oe};Z[z(397)]=U,S.current=ze,o(ze),i(U)}},[o,i,y,m]),B=a[r(408)]($.useCallback,A=>{const z=r;a[z(377)]===a[z(377)]?A.touches[z(388)]<2&&(a.fPOBF(a.RabZI,a.RabZI)?_0x5725af[z(397)]=_0x5d67e5.zoom:j.current=null):_0x149568.current=_0x2fc5e0},[]),O=.003,Q=a.BLOxP($.useCallback,A=>{const z=r;A[z(416)]();const C=y.current;if(!C)return;const T=Z[z(397)],q=T*Math[z(374)](-A.deltaY*O),Y=je(q,m[0],m[m.length-1]);if(Math[z(385)](Y-T)<1e-6)return;const H=C.getBoundingClientRect(),D=a.exDqR(A[z(398)],H[z(391)])/H.width,R=(A.clientY-H.top)/H[z(410)],U=H.width/H[z(410)],W=rs,le=a.iHDtY(W,U),xe=a[z(357)](kd,D,R,T,Y,le,W,S.current);Z.current=Y,S.current=xe,a.mbVWb(i,Y),a[z(403)](o,xe)},[i,o,y,m]);$.useEffect(()=>{const A=r,z={vSMkT:"touchend"},C=y.current;if(C)return C.addEventListener(A(404),k,{passive:!1}),C[A(389)]("touchmove",I,{passive:!1}),C[A(389)](A(399),B),C[A(389)](a.KXcKH,Q,{passive:!1}),()=>{const T=A;C[T(405)]("touchstart",k),C[T(405)]("touchmove",I),C.removeEventListener(z.vSMkT,B),C[T(405)](T(369),Q)}},[y,k,I,B,Q]);const X=$.useCallback(A=>{const z=r,C=P.current,T=a.CgOky(je,C+A,0,m[z(388)]-1);if(a[z(390)](T,C))return;const q=Z.current,Y=m[T],H=y[z(397)];if(!H){a.jRsbF(f,T);return}const D=H[z(422)](),R=a[z(396)](D.width,D[z(410)]),U=rs,W=a.AjRIw(U,R),le=a.LEIKG(kd,.5,.5,q,Y,W,U,S[z(397)]);Z[z(397)]=Y,P[z(397)]=T,S.current=le,f(T),o(le)},[f,o,y,m]),K=a.vkjfS($.useCallback,(A,z)=>{const C=r;P[C(397)]=A,Z[C(397)]=z,S[C(397)]={x:0,y:0},f(A),a.jRqDY(o,{x:0,y:0})},[f,o]),_=a[r(408)]($.useCallback,A=>{G.current=A},[]),w=$.useCallback(A=>{const z=r;E[z(397)]=A},[]);return{multiTouchRef:j,touchBgStartRef:G,mouseBgStartRef:E,zoomAtCenter:X,resetView:K,setTouchBgStart:_,setMouseBgStart:w}}function li(u,r){if(!u||u.length<7||u[0]!=="#")return u;const a=parseInt(u.slice(1,3),16),i=parseInt(u.slice(3,5),16),o=parseInt(u.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(o))return u;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function wm(u){const{flower:r,project:a,paletteMap:i}=u,o=$.useRef(null),f=$.useRef(!1),m=$.useRef(null);$.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const y=$.useMemo(()=>[...r.layers||[]].sort((P,G)=>P.order-G.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:d,width:g}=Ht(h),{flowerOuterR:v,centerHitR:N}=$.useMemo(()=>{let P=12,G=1/0;for(const k of y){if(!k.visible)continue;const I=k.scale??1,B=d*I,Q=Math.max(0,k.radius-B*.28),X=Q+B;P=Math.max(P,X),Q<G&&(G=Q)}isFinite(G)||(G=0);const E=Math.max(G*.9,8);return{flowerOuterR:P,centerHitR:E}},[y,d]),b=(P,G)=>P?.petalOverrides?.find(E=>E.index===G)??null,M="pointer",j=u.isFlowerSelected||u.selectedLayerId!=null||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0,S=u.zoneCursorValue??"grab",Z=P=>{if(P.stopPropagation(),P.button===0){if(P.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onSelect?.(),u.onPointerDown?.(P)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:u.onPointerDown,onDoubleClick:P=>{P.stopPropagation(),u.onDoubleClick?.()},style:{cursor:j?S:ir("/tsumami/")},"data-testid":`flower-${r.id}`,children:[u.isSelected&&u.selectedPetal==null&&!u.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,v),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(P=>{if(!P.visible)return null;const E=i.get(P.colorId)?.hex??"#999",k=360/Math.max(1,P.petalCount),I=P.scale??1,B=d*I,Q=g*(P.widthScale??1)*I,K=Math.max(0,P.radius-B*.28),_=xs(""),w=xs(""),A=K+B,z=u.isSelected&&u.selectedLayerId===P.id,C=u.isSelected&&(u.selectedPetal?.layerId===P.id||(u.selectedPetals?.some(T=>T.layerId===P.id)??!1));return s.jsxs("g",{children:[Array.from({length:P.petalCount}).map((T,q)=>{const Y=b(P,q),D=(Y?.petalType??P.petalType)===""?_:w,R=i.get(Y?.colorId??P.colorId)?.hex??E,U=P.offsetAngle+q*k,W=pa(U),le=Math.cos(W)*K,xe=Math.sin(W)*K,fe=u.isSelected&&u.selectedPetal?.layerId===P.id&&u.selectedPetal?.index===q,oe=u.isSelected&&(u.selectedPetals?.some(de=>de.layerId===P.id&&de.index===q)??!1),he=fe||oe,ze=j?S:ir("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${xe}) rotate(${U})`,children:[s.jsx("path",{d:D,transform:`scale(${B} ${Q})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:P.locked?.55:.95,style:{cursor:ze},onPointerDown:de=>{if(de.stopPropagation(),de.button!==0)return;const Ne=de.shiftKey,$e=de.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,Ne&&u.onTogglePetalSelection){de.preventDefault(),de.stopPropagation(),u.onTogglePetalSelection(P.id,q,!0);return}if($e&&u.onTogglePetalSelection){m.current={x:de.clientX,y:de.clientY};const Mt=P.id,Dt=q;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,u.onTogglePetalSelection?.(Mt,Dt,!0),navigator.vibrate?.(30)},500)}const et=u.isSelected&&u.selectedLayerId!=null,at=u.selectedPetal!=null||(u.selectedPetals?.length??0)>0;if(u.isFlowerSelected||et||at){u.onBeginDragFromLayerPetal(P.id,q,de);return}u.onBeginDragFromLayerPetal(P.id,q,de)},onPointerMove:de=>{if(o.current&&m.current){const Ne=de.clientX-m.current.x,$e=de.clientY-m.current.y;Math.hypot(Ne,$e)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:de=>{de.stopPropagation(),u.onSelect?.(),u.onSelectLayer?.(P.id)}}),P.doublePetal&&(()=>{const de=P.doublePetal,Ne=Y?.innerSizeReduction??de.innerSizeReduction??2,$e=h*(I||1);if($e<=0)return null;const at=Math.max($e*.3,$e-Ne)/$e,bt=D,Mt=Y?.innerColorId??de.innerColorId??Y?.colorId??P.colorId,Dt=i.get(Mt)?.hex??R,ot=B*at,Yt=Q*at;return s.jsx("path",{d:bt,transform:`scale(${ot} ${Yt})`,fill:Dt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:P.locked?.55:.95,pointerEvents:"none"})})(),(he||z||u.isFlowerSelected)&&s.jsx("path",{d:D,transform:`scale(${B} ${Q})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${P.id}-${q}`)]},q)}),z&&!C&&s.jsx("circle",{r:A,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},P.id)}),u.isFlowerSelected&&s.jsx("circle",{r:v,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const P=r.center,G=N2(P.size),E=i.get(P.color)?.hex??"#D4A843",k=P.color2?i.get(P.color2)?.hex??"#C0C0C0":"#D4A843",I=Math.max(G,N);switch(P.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:G,fill:E,stroke:li(E,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:I,fill:"transparent",style:{cursor:M},onPointerDown:Z})]});case"":{const O=G*.42,Q=G,X=G*.12,K=G*.13,_=G*.45,w=k,A=E;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((z,C)=>{const T=C/10*360,q=pa(T),Y=Math.cos(q)*Q,H=Math.sin(q)*Q,D=-Math.sin(q)*X,R=Math.cos(q)*X,U=Math.cos(q)*O,W=Math.sin(q)*O;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(U+D).toFixed(2)} ${(W+R).toFixed(2)} L ${Y.toFixed(2)} ${H.toFixed(2)} L ${(U-D).toFixed(2)} ${(W-R).toFixed(2)} Z`,fill:w,stroke:li(w,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:Y,cy:H,r:K,fill:w,stroke:li(w,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},C)}),s.jsx("circle",{r:O,fill:w,stroke:li(w,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:_,fill:A,stroke:li(A,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:I,fill:"transparent",style:{cursor:M},onPointerDown:Z})]})}case"":{const B=P.pepCount??12,O=G*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:B}).map((Q,X)=>{const K=X/B*360,_=pa(K),w=Math.cos(_)*G,A=Math.sin(_)*G;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:w,y2:A,stroke:E,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:w,cy:A,r:Math.max(O,1),fill:E,stroke:li(E,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},X)})}),s.jsx("circle",{r:I,fill:"transparent",style:{cursor:M},onPointerDown:Z})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:M},onPointerDown:Z})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:M},onPointerDown:Z})]}),(()=>{if(!u.isSelected||!u.selectedLayerId)return null;const P=y.find(O=>O.id===u.selectedLayerId);if(!P||!P.visible||u.selectedPetal!=null||(u.selectedPetals?.length??0)>0)return null;const E=P.scale??1,k=d*E,B=Math.max(0,P.radius-k*.28);return B<=0?null:s.jsx("circle",{r:B,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),u.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,v+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${u.dashSyncToken??0}`)]})}function jm(u){const{leaf:r,project:a,paletteMap:i}=u,o=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:m}=Ht(o),y=r.scale??1,h=f*y,d=m*(r.widthScale??1)*y,g=xs(r.petalType),v=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":u.cursor??ir("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!r.locked){if(N.shiftKey&&u.onShiftSelect){u.onShiftSelect();return}u.onPointerDown?.(N)}},children:[s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:v,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const N=r.doublePetal,b=N.innerSizeReduction??2,M=o*(y||1);if(M<=0)return null;const S=Math.max(M*.3,M-b)/M,Z=N.innerColorId??r.colorId,P=i.get(Z)?.hex??v,G=h*S,E=d*S;return s.jsx("path",{d:g,transform:`scale(${G} ${E})`,fill:P,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(u.isSelected||u.isLeafGroupHighlighted)&&s.jsx("path",{d:g,transform:`scale(${h} ${d})`,fill:"none",stroke:u.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:u.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${u.dashSyncToken??0}-${r.id}`)]})}const Ou=1350;function zm(u){const{stencils:r,selectedStencilId:a,selection:i,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:m,stencilDraggingRef:y,onSelectStencil:h}=u,d=$.useRef(null);$.useEffect(()=>()=>{d.current?.()},[]);const g=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(v=>{const N=_m(v.variant,v.pose),b=a===v.id,M=un,j=N.imageUrl?1:N.scaleX,S=g||!!v.locked;return s.jsx("g",{transform:`translate(${v.position.x} ${v.position.y}) scale(${M*j} ${M})`,style:{cursor:g?"default":v.locked?"pointer":tm("/tsumami/"),pointerEvents:g?"none":"auto"},"data-testid":`stencil-${v.id}`,onPointerDown:Z=>{if(Z.button!==0)return;if(S){h(v.id);return}if(Z.stopPropagation(),h(v.id),!o.current)return;y.current=!0,o.current&&(o.current.style.cursor=nm("/tsumami/"));const G=m.current(Z),E={...v.position},k=v.id;let I=E.x,B=E.y;const O=X=>{const K=m.current(X),_=K.x-G.x,w=K.y-G.y;I=je(E.x+_,0,Ou),B=je(E.y+w,0,Ou),f.current(A=>{const z=(A.stencils??[]).find(C=>C.id===k);z&&(z.position.x=I,z.position.y=B)},!1)},Q=()=>{y.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",Q),d.current=null,f.current(X=>{const K=(X.stencils??[]).find(_=>_.id===k);K&&(K.position.x=I,K.position.y=B)},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",Q),d.current=()=>{y.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",Q)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},v.id)})})}function Mm(u){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:m,dashSyncToken:y,stageRef:h,multiTouchRef:d,clientToSvgPoint:g,togglePetalSelection:v,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:M,beginScaleDrag:j,beginRotationDrag:S,beginWidthScaleDrag:Z,beginRadiusDrag:P,clickOriginRef:G,zoneActivatedRef:E,setZoneCursorValue:k,setTouchZoneIndicator:I,hoverZoneRef:B,hoverHitLayerIdRef:O,hoverHitPetalIndexRef:Q}=u;return s.jsx(s.Fragment,{children:r.flowers.map(X=>s.jsx(wm,{flower:X,project:r,paletteMap:o,isSelected:a.kind!=="project"&&f===X.id||a.kind==="flowers"&&a.flowerIds.includes(X.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===X.id||a.kind==="flowers"&&a.flowerIds.includes(X.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===X.id?a.petals:null,onSelect:()=>{const K=ya(r,X.id);if(K&&!(a.kind==="group"&&a.groupId===K.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&K.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:K.id});return}i({kind:"flower",flowerId:X.id})},onSelectLayer:K=>i({kind:"layer",flowerId:X.id,layerId:K}),onSelectPetal:(K,_)=>i({kind:"petal",flowerId:X.id,layerId:K,index:_}),onTogglePetalSelection:(K,_,w)=>v(X.id,K,_,w),onShiftSelect:()=>N(X.id),isGroupHighlighted:b.has(X.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(K,_,w)=>{if(d.current)return;const A=ya(r,X.id);if(A&&!(a.kind==="group"&&a.groupId===A.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&A.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:A.id}),M(X.id,w);return}const z=g(w),C=w.pointerType==="touch",T=a.kind==="flower"&&a.flowerId===X.id||a.kind==="layer"&&a.flowerId===X.id||a.kind==="petal"&&a.flowerId===X.id||a.kind==="petals"&&a.flowerId===X.id;if(C&&T){const{zone:H,layerId:D,petalIndex:R}=ai(z.x,z.y,X,r,a),{length:U}=Ht(X.fabricSquareSize??r.fabricSquareSize),W=Cu(H,a.kind,{hitLayerId:D,flower:X,length:U});if(W!=="none"&&W!=="center"&&W!=="move"){I({x:z.x,y:z.y,zone:W});const le=a.kind==="layer"?"layer":"flower",xe=a.kind==="layer"?a.layerId:K;switch(W){case"rotate":S(le,X.id,w,{layerId:xe});return;case"scale":j(le,X.id,w,{layerId:xe});return;case"width":Z(le,X.id,w,{layerId:xe,petalIndex:R});return;case"radius":P(le,X.id,w,{layerId:xe});return}}M(X.id,w,{layerId:K,index:_});return}const q=E.current;G.current={x:z.x,y:z.y},E.current=!1;const Y=B.current;if(T&&(q||Y!=="none"&&Y!=="center")){const H=Y,D=O.current,R=Q.current,U=a.kind==="layer"?"layer":"flower",W=a.kind==="layer"?a.layerId:D??K;switch(H){case"rotate":S(U,X.id,w,{layerId:W});return;case"scale":j(U,X.id,w,{layerId:W});return;case"width":Z(U,X.id,w,{layerId:W,petalIndex:R});return;case"radius":P(U,X.id,w,{layerId:W});return;default:k(Fn("/tsumami/")),h.current&&(h.current.style.cursor=Fn("/tsumami/")),M(X.id,w,{layerId:K,index:_});return}}k(Fn("/tsumami/")),h.current&&(h.current.style.cursor=Fn("/tsumami/")),M(X.id,w,{layerId:K,index:_})},onDoubleClick:()=>i({kind:"flower",flowerId:X.id}),onPointerDown:K=>{if(d.current||K.button!==0)return;if(K.shiftKey){K.stopPropagation(),N(X.id);return}const _=ya(r,X.id);if(_&&!(a.kind==="group"&&a.groupId===_.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&_.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:_.id}),M(X.id,K);return}a.kind==="flower"&&a.flowerId===X.id||a.kind==="layer"&&a.flowerId===X.id||a.kind==="flowers"&&a.flowerIds.includes(X.id)||i({kind:"flower",flowerId:X.id});const A=g(K);G.current={x:A.x,y:A.y},E.current=!1,k(Fn("/tsumami/")),h.current&&(h.current.style.cursor=Fn("/tsumami/")),M(X.id,K)},dashSyncToken:y},X.id))})}function Dm(u){const{leaves:r,leafGroups:a,project:i,selection:o,paletteMap:f,dashSyncToken:m,leafGroupHighlightedLeafIds:y,zoneCursorValue:h,stageRef:d,applyUpdateRef:g,clientToSvgPointRef:v,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:M,setZoneCursorValue:j,onSelectLeaf:S,onShiftSelectLeaf:Z,hoverLeafZoneRef:P}=u,G=$.useRef(null);return $.useEffect(()=>()=>{G.current?.()},[]),s.jsx(s.Fragment,{children:r.map(E=>{if(!E.visible)return null;const k=o.kind==="leaf"&&o.leafId===E.id,I=o.kind==="leaves"&&o.leafIds?.includes(E.id),B=y.has(E.id),O=ri({leafGroups:a},E.id),Q=O?.rotation??0;let X=E;if(O&&Q!==0){const K=p2({leaves:r,leafGroups:a},O.id),_=Q*Math.PI/180,w=E.position.x-K.x,A=E.position.y-K.y;X={...E,position:{x:K.x+w*Math.cos(_)-A*Math.sin(_),y:K.y+w*Math.sin(_)+A*Math.cos(_)},rotation:E.rotation+Q}}return s.jsx(jm,{leaf:X,project:i,paletteMap:f,isSelected:k||I,isLeafGroupHighlighted:B,dashSyncToken:m,cursor:k?h:void 0,onPointerDown:K=>{if(E.locked)return;K.stopPropagation();const _=v.current(K),w=k&&M.current;S(E.id),b.current={x:_.x,y:_.y},M.current=!1,j(Fn("/tsumami/")),d.current&&(d.current.style.cursor=Fn("/tsumami/"));const A=P.current,z=w||A!=="none"?A:"move";if(z!=="move"){const C=er(z,"/tsumami/");j(C),d.current&&(d.current.style.cursor=C)}if(N.current=!0,z==="rotate"){const C=X.position,T=E.rotation,q=Math.atan2(_.y-C.y,_.x-C.x)*180/Math.PI;let Y=!1;const H=R=>{const U=v.current(R),le=Math.atan2(U.y-C.y,U.x-C.x)*180/Math.PI-q;Math.abs(le)>.5&&(Y=!0),g.current(xe=>{const fe=(xe.leaves??[]).find(oe=>oe.id===E.id);fe&&(fe.rotation=((T+le)%360+360)%360)},!1)},D=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D),Y&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",D),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D)}}else if(z==="scale"){const C=X.position,T=E.scale??1,q=Math.max(1,Math.hypot(_.x-C.x,_.y-C.y));let Y=!1;const H=R=>{const U=v.current(R),le=Math.hypot(U.x-C.x,U.y-C.y)/q;Math.abs(le-1)>.01&&(Y=!0),g.current(xe=>{const fe=(xe.leaves??[]).find(oe=>oe.id===E.id);fe&&(fe.scale=je(T*le,.3,3))},!1)},D=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D),Y&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",D),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D)}}else if(z==="width"){const C=X.position,T=E.rotation*Math.PI/180,q=-Math.sin(T),Y=Math.cos(T),H=E.widthScale??1,D=Math.abs((_.x-C.x)*q+(_.y-C.y)*Y),R=Math.max(1,D);let U=!1;const W=xe=>{const fe=v.current(xe),he=Math.abs((fe.x-C.x)*q+(fe.y-C.y)*Y)/R;Math.abs(he-1)>.01&&(U=!0),g.current(ze=>{const de=(ze.leaves??[]).find(Ne=>Ne.id===E.id);de&&(de.widthScale=je(H*he,.3,3))},!1)},le=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",le),U&&g.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",le),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",le)}}else{const C=_,T=_2({leafGroups:a},E.id),q=new Map;for(const R of T){const U=r.find(W=>W.id===R);U&&q.set(R,{...U.position})}let Y=!1;const H=R=>{const U=v.current(R),W=U.x-C.x,le=U.y-C.y;Math.abs(W)+Math.abs(le)>1&&(Y=!0),g.current(xe=>{for(const[fe,oe]of q){const he=(xe.leaves??[]).find(ze=>ze.id===fe);he&&(he.position.x=je(oe.x+W,0,Ou),he.position.y=je(oe.y+le,0,Ou))}},!1)},D=()=>{G.current=null,N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D),Y&&g.current(()=>{},!0)};document.addEventListener("pointermove",H),document.addEventListener("pointerup",D),G.current=()=>{N.current=!1,document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",D)}}},onShiftSelect:()=>Z(E.id)},E.id)})})}function Nm({rect:u}){return u?s.jsx("rect",{x:u.x,y:u.y,width:u.w,height:u.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Am({indicator:u}){if(!u)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[u.zone]??"";return a?s.jsxs("g",{transform:`translate(${u.x} ${u.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ga=1350;function Tm(u){const{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,setZoom:m,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,setPan:g,showGrid:v,setShowGrid:N,setShowHelp:b,stageRef:M,viewBox:j,dashDelay:S,dashSyncToken:Z,beginPan:P,updatePan:G,endPan:E,beginMarquee:k,updateMarquee:I,endMarquee:B,marqueeRef:O,marqueeRect:Q,beginFlowerDrag:X,updateFlowerDrag:K,endFlowerDrag:_,scaleDragRef:w,updateScaleDrag:A,endScaleDrag:z,rotationDragRef:C,updateRotationDrag:T,endRotationDrag:q,widthScaleDragRef:Y,updateWidthScaleDrag:H,endWidthScaleDrag:D,radiusDragRef:R,updateRadiusDrag:U,endRadiusDrag:W,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:fe,beginRadiusDrag:oe,togglePetalSelection:he,clientToSvgPoint:ze}=u,de=$.useRef(!1),Ne=$.useRef(!1),$e=$.useRef(u.applyUpdate),et=$.useRef(ze);$.useEffect(()=>{$e.current=u.applyUpdate},[u.applyUpdate]),$.useEffect(()=>{et.current=ze},[ze]);const[at,bt]=$.useState(!1),Mt=$.useRef(null);$.useEffect(()=>{if(!at)return;const se=Ge=>{Mt.current&&!Mt.current.contains(Ge.target)&&bt(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[at]);const[Dt,ot]=$.useState("grab"),Yt=$.useRef("none"),cn=$.useRef("none"),Xn=$.useRef(void 0),Jn=$.useRef(void 0),Je=$.useRef(null),yn=$.useRef(!0),Sl=5,Ql=$.useRef(a.kind);$.useEffect(()=>{a.kind!==Ql.current&&(Ql.current=a.kind,yn.current=!1,Je.current=null,Yt.current="none",cn.current="none",Xn.current=void 0,Jn.current=void 0)},[a.kind]);const[Rn,_a]=$.useState(!1),kn=$.useRef(!1),[ci,Pl]=$.useState(null),tl=5,Bt=10,We=Cm({zoom:u.zoom,pan:u.pan,setZoom:m,setPan:g,zoomLevel:y,setZoomLevel:h,ZOOM_LEVELS:d,stageRef:M,endPan:E,endFlowerDrag:_,endMarquee:B,endRotationDrag:q,endScaleDrag:z,endWidthScaleDrag:D,endRadiusDrag:W});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onUndo,disabled:!u.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${u.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:u.onRedo,disabled:!u.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(1),disabled:y>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${v?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(se=>!se),title:"","aria-label":"","aria-pressed":v,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>We.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:Mt,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${at?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>bt(se=>!se),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),at&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(se=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Wd[se]}),["right","left","back"].map(Ge=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{u.onAddStencil(se,Ge),bt(!1)},"data-testid":`stencil-add-${se}-${Ge}`,children:Vd[Ge]},`${se}-${Ge}`))]},se)),u.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{u.selectedStencilId&&u.onDeleteStencil(u.selectedStencilId),bt(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:v?"24px 1fr":"1fr",gridTemplateRows:v?"20px 1fr":"1fr"},children:[v&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),v&&(()=>{const[se,,Ge,Be]=j.split(/\s+/).map(Number),Ce=un,ye=Math.max(Ge,Be)/Ce,Me=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,ve=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,Pe=Me<=10?5:Me/2,Ie=Math.floor(se/Ce/ve)*ve-ve,Ze=Math.ceil((se+Ge)/Ce/ve)*ve+ve,Ve=[];for(let Le=Ie;Le<=Ze;Le+=ve){const Fe=(Le*Ce-se)/Ge*100;if(Fe<-2||Fe>102)continue;const Nt=Math.abs(Le),tt=Nt%Me===0,pe=Nt%Pe===0,dt=tt?10:pe?6:3;Ve.push(s.jsx("line",{x1:`${Fe}%`,y1:20-dt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:tt?.8:.4},Le)),tt&&Ve.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ve})})(),v&&(()=>{const[,se,Ge,Be]=j.split(/\s+/).map(Number),Ce=un,ye=Math.max(Ge,Be)/Ce,Me=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,ve=Me<=10?1:Me<=50?5:Me<=100?10:Me<=500?50:100,Pe=Me<=10?5:Me/2,Ie=Math.floor(se/Ce/ve)*ve-ve,Ze=Math.ceil((se+Be)/Ce/ve)*ve+ve,Ve=[];for(let Le=Ie;Le<=Ze;Le+=ve){const Fe=(Le*Ce-se)/Be*100;if(Fe<-2||Fe>102)continue;const Nt=Math.abs(Le),tt=Nt%Me===0,pe=Nt%Pe===0,dt=tt?10:pe?6:3;Ve.push(s.jsx("line",{x1:24-dt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:tt?.8:.4},Le)),tt&&Ve.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ve})})(),s.jsxs("svg",{ref:M,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":S,cursor:Rn?"crosshair":"grab"},onDoubleClick:se=>{se.target===se.currentTarget&&(_a(Ge=>!Ge),i({kind:"project"}))},onPointerDown:se=>{if(We.multiTouchRef.current)return;if(se.button===1){kn.current=!0,M.current&&(M.current.style.cursor="grabbing"),P(se);return}if(se.button!==0)return;const Ge=se.pointerType==="touch";if(Ge&&se.target===se.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=r.flowers.find(ye=>ye.id===f);if(Ce){const ye=ze(se),{zone:Ae,layerId:Me,petalIndex:ve}=ai(ye.x,ye.y,Ce,r,a),{length:Pe}=Ht(Ce.fabricSquareSize??r.fabricSquareSize),Ie=Cu(Ae,a.kind,{hitLayerId:Me,flower:Ce,length:Pe});if(Ie!=="none"&&Ie!=="center"){Pl({x:ye.x,y:ye.y,zone:Ie});const Ze=a.kind==="layer"?"layer":"flower",Ve=a.kind==="layer"?a.layerId:Me;switch(Ie){case"rotate":xe(Ze,f,se,{layerId:Ve});return;case"scale":le(Ze,f,se,{layerId:Ve});return;case"width":fe(Ze,f,se,{layerId:Ve,petalIndex:ve});return;case"radius":oe(Ze,f,se,{layerId:Ve});return;case"move":X(f,se);return}}}}We.setTouchBgStart({x:se.clientX,y:se.clientY}),P(se);return}if(se.target===se.currentTarget&&f&&Dt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Yt.current;if(Ce!=="none"&&Ce!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(Ce){case"rotate":xe(ye,f,se,{layerId:Ae});return;case"scale":le(ye,f,se,{layerId:Ae});return;case"width":fe(ye,f,se,{layerId:Ae,petalIndex:Jn.current});return;case"radius":oe(ye,f,se,{layerId:Ae});return;case"move":X(f,se);return}}}if(se.target===se.currentTarget&&a.kind==="leaf"&&u.selectedLeafId&&Dt!=="grab"){const Be=cn.current;if(Be!=="none"){const Ce=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(Ce){se.preventDefault();const ye=ze(se);if(Ne.current=!0,Be==="rotate"){const Ae=Ce.position,Me=Ce.rotation,ve=Math.atan2(ye.y-Ae.y,ye.x-Ae.x)*180/Math.PI,Pe=Ce.id,Ie=er(Be,"/tsumami/");ot(Ie),M.current&&(M.current.style.cursor=Ie);let Ze=!1;const Ve=gt=>{const Fe=ze(gt),tt=Math.atan2(Fe.y-Ae.y,Fe.x-Ae.x)*180/Math.PI-ve;Math.abs(tt)>.5&&(Ze=!0),u.applyUpdate(pe=>{const dt=(pe.leaves??[]).find(pn=>pn.id===Pe);dt&&(dt.rotation=((Me+tt)%360+360)%360)},!1)},Le=()=>{Ne.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Le),Ze&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Le);return}else if(Be==="scale"){const Ae=Ce.position,Me=Ce.scale??1,ve=Math.max(1,Math.hypot(ye.x-Ae.x,ye.y-Ae.y)),Pe=Ce.id,Ie=er(Be,"/tsumami/");ot(Ie),M.current&&(M.current.style.cursor=Ie);let Ze=!1;const Ve=gt=>{const Fe=ze(gt),tt=Math.hypot(Fe.x-Ae.x,Fe.y-Ae.y)/ve;Math.abs(tt-1)>.01&&(Ze=!0),u.applyUpdate(pe=>{const dt=(pe.leaves??[]).find(pn=>pn.id===Pe);dt&&(dt.scale=Math.max(.3,Math.min(3,Me*tt)))},!1)},Le=()=>{Ne.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Le),Ze&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Le);return}else if(Be==="width"){const Ae=Ce.position,Me=Ce.rotation*Math.PI/180,ve=-Math.sin(Me),Pe=Math.cos(Me),Ie=Ce.widthScale??1,Ze=Math.max(1,Math.abs((ye.x-Ae.x)*ve+(ye.y-Ae.y)*Pe)),Ve=Ce.id,Le=er(Be,"/tsumami/");ot(Le),M.current&&(M.current.style.cursor=Le);let gt=!1;const Fe=tt=>{const pe=ze(tt),pn=Math.abs((pe.x-Ae.x)*ve+(pe.y-Ae.y)*Pe)/Ze;Math.abs(pn-1)>.01&&(gt=!0),u.applyUpdate(sn=>{const Fl=(sn.leaves??[]).find(_n=>_n.id===Ve);Fl&&(Fl.widthScale=Math.max(.3,Math.min(3,Ie*pn)))},!1)},Nt=()=>{Ne.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Nt),gt&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Nt);return}else{const Ae=ye,Me={...Ce.position},ve=Ce.id;ot(Fn("/tsumami/")),M.current&&(M.current.style.cursor=Fn("/tsumami/"));let Pe=!1;const Ie=Ve=>{const Le=ze(Ve),gt=Le.x-Ae.x,Fe=Le.y-Ae.y;Math.abs(gt)+Math.abs(Fe)>1&&(Pe=!0),u.applyUpdate(Nt=>{const tt=(Nt.leaves??[]).find(pe=>pe.id===ve);tt&&(tt.position.x=Math.max(0,Math.min(ga,Me.x+gt)),tt.position.y=Math.max(0,Math.min(ga,Me.y+Fe)))},!1)},Ze=()=>{Ne.current=!1,document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Ze),Pe&&u.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Ze);return}}}}if(se.target===se.currentTarget){Ge?(We.setTouchBgStart({x:se.clientX,y:se.clientY}),P(se)):Rn?k(se):(We.setMouseBgStart({x:se.clientX,y:se.clientY}),kn.current=!0,M.current&&(M.current.style.cursor="grabbing"),P(se));return}},onPointerMove:se=>{if(de.current||Ne.current)return;if(O.current){I(se);return}if(C.current){T(se);return}if(w.current){A(se);return}if(Y.current){H(se);return}if(R.current){U(se);return}K(se),G(se);const Ge=!!u.dragRef?.current||!!O.current||!!C.current||!!w.current||!!Y.current||!!R.current||kn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ge&&Be){const Ce=r.flowers.find(ye=>ye.id===f);if(Ce){const ye=ze(se);if(Je.current&&!yn.current){if(Math.hypot(ye.x-Je.current.x,ye.y-Je.current.y)<Sl){const{zone:Le}=ai(ye.x,ye.y,Ce,r,a);Le==="center"&&(ot("pointer"),M.current&&(M.current.style.cursor="pointer"));return}yn.current=!0,Je.current=null}const{zone:Ae,layerId:Me,petalIndex:ve}=ai(ye.x,ye.y,Ce,r,a),{length:Pe}=Ht(Ce.fabricSquareSize??r.fabricSquareSize),Ie=Cu(Ae,a.kind,{hitLayerId:Me,flower:Ce,length:Pe});Ie!=="none"&&(Yt.current=Ie,Xn.current=Me,Jn.current=ve);const Ze=Rd(Ie,"/tsumami/");ot(Ze),M.current&&(M.current.style.cursor=Ze)}}if(!Ge&&a.kind==="leaf"&&u.selectedLeafId){const Ce=u.leaves.find(ye=>ye.id===u.selectedLeafId);if(Ce){const ye=ze(se);if(Je.current&&!yn.current){if(Math.hypot(ye.x-Je.current.x,ye.y-Je.current.y)<Sl)return;yn.current=!0,Je.current=null}const Ae=em(ye.x,ye.y,Ce,r);Ae!=="none"&&(cn.current=Ae);const Me=er(Ae,"/tsumami/");ot(Me),M.current&&(M.current.style.cursor=Me)}}},onPointerUp:se=>{if(!de.current&&!Ne.current){if(Pl(null),O.current&&Rn&&_a(!1),B(),q(),z(),D(),W(),_(),E(),kn.current&&(kn.current=!1,M.current&&(M.current.style.cursor=Rn?"crosshair":"grab")),We.touchBgStartRef.current&&se.pointerType==="touch"){const Ge=se.clientX-We.touchBgStartRef.current.x,Be=se.clientY-We.touchBgStartRef.current.y;Math.hypot(Ge,Be)<Bt&&i({kind:"project"}),We.setTouchBgStart(null);return}if(We.setTouchBgStart(null),We.mouseBgStartRef.current&&se.pointerType==="mouse"){const Ge=se.clientX-We.mouseBgStartRef.current.x,Be=se.clientY-We.mouseBgStartRef.current.y;if(We.setMouseBgStart(null),Math.hypot(Ge,Be)<tl){i({kind:"project"});return}}if(We.setMouseBgStart(null),f){const Ge=r.flowers.find(Be=>Be.id===f);if(Ge){const Be=ze(se);if(Je.current&&Math.hypot(Be.x-Je.current.x,Be.y-Je.current.y)<Sl){const{zone:Ze}=ai(Be.x,Be.y,Ge,r,a);Ze==="center"&&(ot("pointer"),M.current&&(M.current.style.cursor="pointer"));return}const{zone:Ce,layerId:ye,petalIndex:Ae}=ai(Be.x,Be.y,Ge,r,a),{length:Me}=Ht(Ge.fabricSquareSize??r.fabricSquareSize),ve=Cu(Ce,a.kind,{hitLayerId:ye,flower:Ge,length:Me});ve!=="none"&&(Yt.current=ve,Xn.current=ye,Jn.current=Ae);const Pe=Rd(ve,"/tsumami/");ot(Pe),M.current&&(M.current.style.cursor=Pe)}}}},onPointerLeave:()=>{B(),q(),z(),D(),W(),_(),E(),kn.current=!1,We.setTouchBgStart(null),We.setMouseBgStart(null),ot("grab"),Je.current=null,yn.current=!0,Yt.current="none",cn.current="none",Xn.current=void 0,Jn.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[se,Ge,Be,Ce]=j.split(/\s+/).map(Number),ye=ga;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:se,y:Ge,width:Be,height:Ce,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),s.jsx("rect",{x:se,y:Ge,width:Be,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ga,height:ga,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ga,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ga,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),v&&(()=>{const se=un,[Ge,Be,Ce,ye]=j.split(/\s+/).map(Number),Ae=Math.max(Ce,ye)/se,ve=[10,20,50,100,200,500,1e3].find(pe=>Ae/pe<=15)??1e3,Pe=Math.floor(Ge/se/ve)*ve-ve,Ie=Math.ceil((Ge+Ce)/se/ve)*ve+ve,Ze=Math.floor(Be/se/ve)*ve-ve,Ve=Math.ceil((Be+ye)/se/ve)*ve+ve,Le=Ze*se,gt=Ve*se,Fe=Pe*se,Nt=Ie*se,tt=[];for(let pe=Pe;pe<=Ie;pe+=ve){const dt=pe*se;tt.push(s.jsx("line",{x1:dt,y1:Le,x2:dt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${pe}`))}for(let pe=Ze;pe<=Ve;pe+=ve){const dt=pe*se;tt.push(s.jsx("line",{x1:Fe,y1:dt,x2:Nt,y2:dt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${pe}`))}return s.jsx("g",{children:tt})})(),s.jsx(zm,{stencils:u.stencils,selectedStencilId:u.selectedStencilId,selection:a,stageRef:M,applyUpdateRef:$e,clientToSvgPointRef:et,stencilDraggingRef:de,onSelectStencil:u.onSelectStencil}),s.jsx(Mm,{project:r,selection:a,setSelection:i,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Dt,dashSyncToken:Z,stageRef:M,multiTouchRef:We.multiTouchRef,clientToSvgPoint:ze,togglePetalSelection:he,handleShiftFlowerSelect:u.handleShiftFlowerSelect,groupHighlightedFlowerIds:u.groupHighlightedFlowerIds,beginFlowerDrag:X,beginScaleDrag:le,beginRotationDrag:xe,beginWidthScaleDrag:fe,beginRadiusDrag:oe,clickOriginRef:Je,zoneActivatedRef:yn,setZoneCursorValue:ot,setTouchZoneIndicator:Pl,hoverZoneRef:Yt,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),s.jsx(Dm,{leaves:u.leaves,leafGroups:u.leafGroups,project:r,selection:a,paletteMap:o,dashSyncToken:Z,selectedLeafId:u.selectedLeafId,leafGroupHighlightedLeafIds:u.leafGroupHighlightedLeafIds,zoneCursorValue:Dt,stageRef:M,applyUpdateRef:$e,clientToSvgPointRef:et,leafDraggingRef:Ne,clickOriginRef:Je,zoneActivatedRef:yn,setZoneCursorValue:ot,onSelectLeaf:u.onSelectLeaf,onShiftSelectLeaf:u.onShiftSelectLeaf,hoverLeafZoneRef:cn}),s.jsx(Nm,{rect:Q}),s.jsx(Am,{indicator:ci})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Od(u,r,a){return Math.min(a,Math.max(r,u))}function Ue({value:u,onChange:r,min:a=-1/0,max:i=1/0,step:o,className:f,...m}){const[y,h]=$.useState(null),d=$.useRef(null),g=$.useCallback(b=>{const M=Number(b);isNaN(M)||r(Od(M,a,i)),h(null)},[r,a,i]),v=$.useCallback(()=>{h(null)},[]),N=$.useCallback(b=>{const M=o??1,S=(Number(y??u)||0)+M*b,Z=Od(S,a,i),P=String(M).includes(".")?String(M).split(".")[1].length:0,G=Number(Z.toFixed(P));h(String(G)),r(G)},[y,u,o,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(u),onChange:b=>h(b.target.value),onFocus:b=>{h(String(u)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{y!==null&&g(y)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),y!==null&&g(y),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),v(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function cr({title:u,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:u}),s.jsx("div",{className:"space-y-3",children:a})]})}function Lm({flower:u,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=$.useMemo(()=>{const S=[...u.layers||[]].sort((Q,X)=>Q.order-X.order);if(S.length<2)return{mode:"uniform",step:2};const Z=S.map(Q=>Q.scale??1);if(Z.every(Q=>Math.abs(Q-Z[0])<.001))return{mode:"uniform",step:2};const G=S[0],E=S[S.length-1],k=(E.order??1)-(G.order??1);if(k<=0)return{mode:"gradual",step:2};const B=((G.scale??1)-(E.scale??1))/k,O=Math.round(B*r*2)/2;return{mode:"gradual",step:je(O,0,10)}},[u.id]),[m,y]=$.useState(f.mode),[h,d]=$.useState(f.step),[g,v]=$.useState(0);$.useEffect(()=>{y(f.mode),d(f.step),v(0)},[f]);const N=$.useMemo(()=>[...u.layers||[]].sort((S,Z)=>S.order-Z.order),[u.layers]),b=N[0],M=b?b.order:0,j=$.useMemo(()=>{if(!b)return[];const S=b.scale??1,Z=b.radius,P=new Map;for(const Q of N){const X=Q.order-M;if(X===0)P.set(Q.id,S);else if(m==="uniform")P.set(Q.id,S);else{const K=h/r;P.set(Q.id,je(S-X*K,.3,3))}}const{length:G}=Ht(r),E=N.length,k=70*Math.PI/180,I=new Map;let B=Z;I.set(b.id,Z);for(let Q=1;Q<E;Q++){const X=N[Q-1],K=P.get(X.id)??1,_=G*K;let w;if(a===""){const A=E-1-Q,z=E>1?A/(E-1)*k:0;w=_*(30/100)*Math.cos(z)}else w=_/3;B=B-w,I.set(N[Q].id,Math.max(2,B))}const O=N.map(Q=>{const X=P.get(Q.id)??1,K=Math.round((I.get(Q.id)??Z)*10)/10,_=Math.round(r*X*10)/10;return{id:Q.id,name:Q.name,order:Q.order,effScale:X,effFabricSize:_,effRadius:K}});if(O.length>0){const Q=O[O.length-1],X=G*Q.effScale,K=Math.floor(X*.28*10)/10;Q.effRadius>K&&(Q.effRadius=K)}return O},[N,b,M,m,h,30,r,a]);return $.useEffect(()=>{g!==0&&(!b||j.length===0||i(S=>{const Z=S.flowers.find(G=>G.id===u.id);if(!Z)return;for(const G of j){const E=Z.layers.find(k=>k.id===G.id);E&&(E.scale=je(G.effScale,.3,3),E.radius=je(G.effRadius,2,120))}const P=[...Z.layers].sort((G,E)=>E.order-G.order);for(let G=1;G<P.length;G++){const E=P[G-1],k=P[G];k.offsetAngle=$n(E.petalCount,E.offsetAngle,k.petalCount)}}))},[g]),N.length<2?null:s.jsxs(cr,{title:"",children:[s.jsxs(vs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:S=>{y(S.target.value),v(Z=>Z+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(vs,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,min:0,max:10,step:.5,onChange:S=>{d(S),v(Z=>Z+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(S=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:S.name}),s.jsxs("span",{children:[" ",S.effFabricSize,"mm /  ",Math.round(nr(S.effRadius,S.effScale,r)),"mm"]})]},S.id))]})]})}const Qd="tsumami_recent_colors_v1",Es=10;function Em(u){const r=new Set;for(const a of u.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const o of i.petalOverrides)o.colorId&&r.add(o.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function ws(){try{const u=localStorage.getItem(Qd);if(u){const r=JSON.parse(u);if(Array.isArray(r))return r.slice(0,Es)}}catch{}return[]}function Gm(u){try{localStorage.setItem(Qd,JSON.stringify(u.slice(0,Es)))}catch{}}function Bm(u){const r=ws(),a=[u,...r.filter(i=>i!==u)].slice(0,Es);Gm(a)}function Kn({palette:u,project:r,selectedColorId:a,onChange:i,size:o="md"}){const[f,m]=$.useState(!1),y=$.useRef(null),[h,d]=$.useState(ws);$.useEffect(()=>{if(!f)return;const j=S=>{y.current&&!y.current.contains(S.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[f]);const g=$.useMemo(()=>Em(r),[r]),v=$.useMemo(()=>{const j=new Set;j.add(a);for(const S of g)j.add(S);for(const S of h)j.add(S);return u.filter(S=>j.has(S.id))},[u,a,g,h]),N=$.useCallback(j=>{Bm(j),d(ws()),i(j)},[i]),b=o==="sm"?"h-4 w-4":"h-5 w-5",M=f?u:v;return s.jsx("div",{ref:y,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[M.map(j=>s.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>N(j.id)},j.id)),u.length>v.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(j=>!j),title:f?"":"","aria-label":f?"":"",children:s.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function qm({project:u,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(i=>{const o=a.layers.every(f=>f.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Zd.map(i=>{const o=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==i&&r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;m.placementMode=i;const y=m.fabricSquareSize??f.fabricSquareSize;i===""?m.baseDiameter=tr(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=f.baseDiameter),T2(m.layers,y,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(Ue,{value:a.baseDiameter??u.baseDiameter,min:10,max:200,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[tr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(o=>{const f=o.flowers.find(h=>h.id===a.id);if(!f)return;const m=ui(i);for(const h of f.layers)h.petalCount=i,h.widthScale=m;const y=[...f.layers].sort((h,d)=>d.order-h.order);for(let h=1;h<y.length;h++)y[h].offsetAngle=$n(y[h-1].petalCount,y[h-1].offsetAngle,y[h].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(o=>{const f=o.flowers.find(y=>y.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=tr(i));const m=[...f.layers].sort((y,h)=>y.order-h.order);Ku(m,f.fabricSquareSize??o.fabricSquareSize,i);for(const y of m){const h=f.layers.find(d=>d.id===y.id);h&&(h.radius=y.radius,h.scale=y.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f&&(f.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);if(f)for(const m of f.layers)if(i.target.checked){if(!m.doublePetal){const y=m._doublePetalCache;m.doublePetal=y??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],o=i.length===1?i[0]:null,f=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],m=f.length===1?f[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:y=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(g.doublePetal.innerSizeReduction=je(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:m??"",onChange:y=>r(h=>{const d=h.flowers.find(g=>g.id===a.id);if(d)for(const g of d.layers)g.doublePetal&&(y===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=y)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:k2.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=u.palette[1]?.id??u.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.center.color,size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(o=>{const f=o.flowers.find(m=>m.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const o=i.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:u.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Lm,{flower:a,fabricSquareSize:a.fabricSquareSize??u.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Rm({project:u,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:m}){const y=a,h=[...new Set(y.flatMap(v=>v.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,g=v=>{r(N=>{for(const b of y){const M=N.flowers.find(j=>j.id===b.id);M&&v(M)}},!0)};return s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=v.id})},v.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=v}),children:v},v))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const N=ui(v);g(b=>{for(const j of b.layers)j.petalCount=v,j.widthScale=N;const M=[...b.layers].sort((j,S)=>S.order-j.order);for(let j=1;j<M.length;j++)M[j].offsetAngle=$n(M[j-1].petalCount,M[j-1].offsetAngle,M[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(v=>s.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),(()=>{const v=y.map(S=>ya(u,S.id)),N=y.filter(S=>!ya(u,S.id)).map(S=>S.id),b=[...new Set(v.filter(Boolean).map(S=>S.id))],M=N.length===y.length,j=b.length===1&&v.every(S=>S!=null);return s.jsxs(s.Fragment,{children:[M&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(y.map(S=>S.id)),children:""}),j&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function km({project:u,applyUpdate:r,selectedFlowers:a,groups:i,groupId:o,onUngroupFlowers:f}){const m=i.find(v=>v.id===o);if(!m)return null;const y=a,h=[...new Set(y.flatMap(v=>v.layers.map(N=>N.petalType)))],d=h.length===1?h[0]:null,g=v=>{r(N=>{for(const b of y){const M=N.flowers.find(j=>j.id===b.id);M&&v(M)}},!0)};return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:v=>r(N=>{const b=(N.groups??[]).find(M=>M.id===m.id);b&&(b.name=v.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.palette.map(v=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:v.hex},title:v.name,onClick:()=>g(N=>{for(const b of N.layers)b.colorId=v.id})},v.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>g(N=>{for(const b of N.layers)b.petalType=v}),children:v},v))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:v=>{const N=ui(v);g(b=>{for(const j of b.layers)j.petalCount=v,j.widthScale=N;const M=[...b.layers].sort((j,S)=>S.order-j.order);for(let j=1;j<M.length;j++)M[j].offsetAngle=$n(M[j-1].petalCount,M[j-1].offsetAngle,M[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(v=>s.jsxs("div",{children:[v.name," (",v.layers.length,")"]},v.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(m.id),children:""})]})}function Om({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.name=o.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(o=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.petalType=o)}),children:o},o))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:5,max:24,value:i.petalCount,onChange:o=>{r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);if(y){y.petalCount=o,y.widthScale=ui(o);const h=[...m.layers].sort((d,g)=>g.order-d.order);for(let d=1;d<h.length;d++)h[d].offsetAngle=$n(h[d-1].petalCount,h[d-1].offsetAngle,h[d].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:1,max:200,step:.5,value:Math.round(nr(i.radius,i.scale??1,a.fabricSquareSize??u.fabricSquareSize)),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.radius=je(A2(o,y.scale??1,m.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??u.fabricSquareSize)*(i.scale??1)*10)/10,onChange:o=>r(f=>{const m=f.flowers.find(v=>v.id===a.id);if(!m)return;const y=m.layers.find(v=>v.id===i.id);if(!y)return;const h=m.fabricSquareSize??f.fabricSquareSize;y.scale=je(Math.round(o/h*100)/100,.3,3);const d=[...m.layers].sort((v,N)=>v.order-N.order),g=d.findIndex(v=>v.id===y.id);if(g>=0)for(let v=g-1;v>=0;v--){const N=d[v],b=d[v+1],j=Ht(h).length*(b.scale??1)/3;N.radius=Math.round((b.radius+j)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.scale=o)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.widthScale=o)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{value:Number(i.offsetAngle??0).toFixed(1),onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.offsetAngle=o)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.colorId=o)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);if(y)if(o.target.checked){const h=y._doublePetalCache;y.doublePetal=h??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=je(o,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y?.doublePetal&&(o===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=o)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.visible=o.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:o=>r(f=>{const m=f.flowers.find(h=>h.id===a.id);if(!m)return;const y=m.layers.find(h=>h.id===i.id);y&&(y.locked=o.target.checked)})}),""]})]})]})]})}function Im({project:u,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const o=i,f=o.map(S=>{const Z=a.layers.find(P=>P.id===S.layerId);return{...S,layer:Z}}).filter(S=>S.layer!=null),m=(S,Z)=>{const P=a.layers.find(E=>E.id===S);return P?(P?.petalOverrides?.find(E=>E.index===Z)??null)?.colorId??P.colorId:null},y=(S,Z)=>{const P=a.layers.find(E=>E.id===S);return P?(P?.petalOverrides?.find(E=>E.index===Z)??null)?.petalType??P.petalType:null},h=f.map(S=>m(S.layerId,S.index)),d=f.map(S=>y(S.layerId,S.index)),g=h.length>0&&h.every(S=>S===h[0]),N=d.length>0&&d.every(S=>S===d[0])?d[0]:null,b=S=>{r(Z=>{const P=Z.flowers.find(G=>G.id===a.id);if(P)for(const G of o){const E=P.layers.find(I=>I.id===G.layerId);if(!E)continue;E.petalOverrides||(E.petalOverrides=[]);const k=E.petalOverrides.find(I=>I.index===G.index);if(k)S.colorId!==void 0&&(S.colorId===E.colorId?delete k.colorId:k.colorId=S.colorId),S.petalType!==void 0&&(S.petalType===E.petalType?delete k.petalType:k.petalType=S.petalType),!k.colorId&&!k.petalType&&(E.petalOverrides=E.petalOverrides.filter(I=>I.index!==G.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0));else{const I={index:G.index};S.colorId!==void 0&&S.colorId!==E.colorId&&(I.colorId=S.colorId),S.petalType!==void 0&&S.petalType!==E.petalType&&(I.petalType=S.petalType),(I.colorId!==void 0||I.petalType!==void 0)&&E.petalOverrides.push(I)}}},!0)},M=()=>{r(S=>{const Z=S.flowers.find(P=>P.id===a.id);if(Z)for(const P of o){const G=Z.layers.find(E=>E.id===P.layerId);!G||!G.petalOverrides||(G.petalOverrides=G.petalOverrides.filter(E=>E.index!==P.index),G.petalOverrides.length===0&&(G.petalOverrides=void 0))}},!0)},j=f.some(S=>S.layer?.petalOverrides?.find(Z=>Z.index===S.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",j&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.palette.map(S=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${g&&h[0]===S.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:S.hex},title:S.name,"aria-label":`: ${S.name}`,onClick:()=>b({colorId:S.id})},S.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(S=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:S}),children:S},S))})]}),j&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:M,children:""})]})]})}function Hm({project:u,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:o}){const f=i?.petalOverrides?.find(v=>v.index===o)??null,m=f?.colorId??i.colorId,y=f?.petalType??i.petalType,h=f!=null,d=v=>{r(N=>{const b=N.flowers.find(S=>S.id===a.id);if(!b)return;const M=b.layers.find(S=>S.id===i.id);if(!M)return;M.petalOverrides||(M.petalOverrides=[]);const j=M.petalOverrides.find(S=>S.index===o);if(j)v.colorId!==void 0&&(j.colorId=v.colorId),v.petalType!==void 0&&(j.petalType=v.petalType),v.innerColorId!==void 0&&(j.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(j.innerSizeReduction=v.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(M.petalOverrides=M.petalOverrides.filter(Z=>Z.index!==o),M.petalOverrides.length===0&&(M.petalOverrides=void 0));else{const S={index:o};v.colorId!==void 0&&(S.colorId=v.colorId),v.petalType!==void 0&&(S.petalType=v.petalType),v.innerColorId!==void 0&&(S.innerColorId=v.innerColorId),v.innerSizeReduction!==void 0&&(S.innerSizeReduction=v.innerSizeReduction),(S.colorId!==void 0||S.petalType!==void 0||S.innerColorId!==void 0||S.innerSizeReduction!==void 0)&&M.petalOverrides.push(S)}},!0)},g=()=>{r(v=>{const N=v.flowers.find(M=>M.id===a.id);if(!N)return;const b=N.layers.find(M=>M.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(M=>M.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",o+1,h&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:m,onChange:v=>{v===i.colorId?d({colorId:void 0}):d({colorId:v})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{v===i.petalType?d({petalType:void 0}):d({petalType:v})},children:v},v))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:v=>r(N=>{const b=N.flowers.find(j=>j.id===a.id);if(!b)return;const M=b.layers.find(j=>j.id===i.id);if(M)if(v.target.checked){const j=M._doublePetalCache;M.doublePetal=j??{innerSizeReduction:2},delete M._doublePetalCache}else M.doublePetal&&(M._doublePetalCache={...M.doublePetal}),delete M.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const v=i.doublePetal,N=f?.innerSizeReduction??v.innerSizeReduction,b=f?.innerColorId??v.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(Ue,{min:1,max:30,step:1,value:N,onChange:M=>{const j=je(M,1,30);j===v.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:j})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:b,size:"sm",onChange:M=>{const j=v.innerColorId??i.colorId;d(M===j?{innerColorId:void 0}:{innerColorId:M})}})]})]})})(),h&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:g,children:""})]})]})}function Ym({project:u,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const o=a,f=m=>{r(y=>{const h=(y.stencils??[]).find(d=>d.id===o.id);h&&Object.assign(h,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:m=>f({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Wd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:m=>f({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Vd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:m=>f({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Um({project:u,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:m}){const y=a,h=g=>{r(v=>{const N=(v.leaves??[]).find(b=>b.id===y.id);N&&g(N)},!0)},d=ri(u,y.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:g=>h(v=>{v.name=g.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>h(v=>{v.petalType=g}),children:g},g))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:y.colorId,onChange:g=>h(v=>{v.colorId=g})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(Ue,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??u.fabricSquareSize)*(y.scale??1)*10)/10,onChange:g=>h(v=>{const N=v.fabricSquareSize??u.fabricSquareSize;v.scale=je(Math.round(g/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:g=>h(v=>{v.scale=g})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Ue,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:g=>h(v=>{v.widthScale=g})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(y.rotation).toFixed(1),onChange:g=>h(v=>{v.rotation=g})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:g=>h(v=>{if(g.target.checked){const N=v._doublePetalCache;v.doublePetal=N??{innerSizeReduction:2},delete v._doublePetalCache}else v.doublePetal&&(v._doublePetalCache={...v.doublePetal}),delete v.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:g=>h(v=>{v.doublePetal&&(v.doublePetal.innerSizeReduction=je(g,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:g=>h(v=>{v.doublePetal&&(g===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=g)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:g=>h(v=>{v.visible=g.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:g=>h(v=>{v.locked=g.target.checked})}),""]})]}),d?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(y.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:g=>{g.target.value&&f(y.id,g.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(y.id),children:""})]})]})}function Zm({project:u,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:o,onAddLeavesToGroup:f,onMergeLeafGroups:m}){const y=(u.leaves??[]).filter(h=>a.includes(h.id));return y.length===0?null:s.jsxs(cr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Kn,{palette:u.palette,project:u,selectedColorId:"",onChange:h=>r(d=>{for(const g of a){const v=(d.leaves??[]).find(N=>N.id===g);v&&(v.colorId=h)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:_l.map(h=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(d=>{for(const g of a){const v=(d.leaves??[]).find(N=>N.id===g);v&&(v.petalType=h)}},!0),children:h},h))}),(()=>{const h=y.map(b=>ri(u,b.id)),d=y.filter(b=>!ri(u,b.id)).map(b=>b.id),g=[...new Set(h.filter(Boolean).map(b=>b.id))],v=d.length===y.length,N=g.length===1&&h.every(b=>b!=null);return s.jsxs(s.Fragment,{children:[v&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),N&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(g[0]),children:""}),g.length===1&&d.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(g[0],d),children:[" (+",d.length,")"]}),g.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(g,d),children:[" (",g.length,"",d.length>0?` +${d.length}`:"",")"]})]})})()]})}function Km({project:u,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const o=a,f=(u.leaves??[]).filter(m=>o.leafIds.includes(m.id));return s.jsxs(cr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:m=>r(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(Ue,{value:Number(o.rotation).toFixed(1),onChange:m=>r(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(h.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:m=>r(y=>{const h=(y.leafGroups??[]).find(d=>d.id===o.id);h&&(m.target.value?h.linkedFlowerGroupId=m.target.value:delete h.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(u.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(o.id),children:""})]})}function Xm(u){const{project:r,selection:a,applyUpdate:i,selectedFlower:o,selectedFlowers:f,selectedLayer:m,selectedPetalIndex:y,selectedPetals:h}=u;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:d=>i(g=>g.title=d.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.fabricSquareSize,min:5,max:60,onChange:d=>i(g=>g.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(Ue,{value:r.baseDiameter,min:10,max:100,onChange:d=>i(g=>g.baseDiameter=d),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Vl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Vl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:d=>i(g=>g.notes=d.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(d=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&s.jsx(qm,{project:r,applyUpdate:i,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&s.jsx(Rm,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:u.onGroupFlowers,onUngroupFlowers:u.onUngroupFlowers,onAddToGroup:u.onAddToGroup,onMergeGroups:u.onMergeGroups}),a.kind==="group"&&f.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:f,groups:u.groups,groupId:a.groupId,onUngroupFlowers:u.onUngroupFlowers}),a.kind==="layer"&&o&&m&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m}),a.kind==="petals"&&o&&h.length>0&&s.jsx(Im,{project:r,applyUpdate:i,selectedFlower:o,selectedPetals:h}),a.kind==="petal"&&o&&m&&y!==null&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:o,selectedLayer:m,selectedPetalIndex:y}),a.kind==="stencil"&&u.selectedStencil&&s.jsx(Ym,{project:r,applyUpdate:i,selectedStencil:u.selectedStencil,onDeleteStencil:u.onDeleteStencil}),a.kind==="leaf"&&u.selectedLeaf&&s.jsx(Um,{project:r,applyUpdate:i,selectedLeaf:u.selectedLeaf,leafGroups:u.leafGroups,onDeleteLeaf:u.onDeleteLeaf,onAddLeafToGroup:u.onAddLeafToGroup,onRemoveLeafFromGroup:u.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Zm,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:u.onGroupLeaves,onUngroupLeaves:u.onUngroupLeaves,onAddLeavesToGroup:u.onAddLeavesToGroup,onMergeLeafGroups:u.onMergeLeafGroups}),a.kind==="leafGroup"&&u.selectedLeafGroup&&s.jsx(Km,{project:r,applyUpdate:i,selectedLeafGroup:u.selectedLeafGroup,onUngroupLeaves:u.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Jm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?Vl(u.baseDiameter,u.fabricSquareSize,r).diameter:ar(u.fabricSquareSize,u.layerCount,u.sizeMode,u.sizeStepMm)}function Wm(u){const r={layerCount:u.layerCount,sizeMode:u.sizeMode,sizeStepMm:u.sizeStepMm};return u.placementMode===""?z2(u.flowerDiameter,u.baseDiameter,r):j2(u.flowerDiameter,u.layerCount,u.sizeMode,u.sizeStepMm)}function Vm({palette:u,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:o}){const f=h=>{a(d=>{const g={...d,...h};return h.placementMode&&h.placementMode!==d.placementMode&&(h.placementMode===""?(g.baseDiameter=30,g.fabricSquareSize=20,g.layerCount=4,g.petalCount=12):(g.fabricSquareSize=20,g.layerCount=1,g.petalCount=6)),g.flowerDiameter=Jm(g),g})},m=h=>{a(d=>{const g={...d,flowerDiameter:h};return g.fabricSquareSize=Wm(g),g})},y=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&y.push("");const h=M2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>h&&y.push(`${h}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:h=>h.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Zd.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:h}),children:h},h))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:h=>f({fabricSquareSize:h})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:h=>f({layerCount:h})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:h=>f({baseDiameter:h})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:h=>a(d=>({...d,petalCount:h}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),y.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((h,d)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:h},d))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(h=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||u[0]?.id)===h.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:h.hex},title:h.name,"aria-label":`: ${h.name}`,onClick:()=>a(d=>({...d,colorId:h.id}))},h.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:_l.map(h=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===h?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:h})),children:h},h))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(Ue,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:h=>f({sizeStepMm:h})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(u,r){const a=rn,i=u();for(;;)try{if(-parseInt(a(466))/1*(parseInt(a(479))/2)+parseInt(a(432))/3*(-parseInt(a(430))/4)+-parseInt(a(442))/5*(-parseInt(a(438))/6)+-parseInt(a(428))/7*(parseInt(a(448))/8)+parseInt(a(456))/9+parseInt(a(446))/10*(-parseInt(a(453))/11)+parseInt(a(421))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Iu,927379);const Qm=(function(){const u=rn,r={XYECD:u(480)};let a=!0;return function(i,o){const f=u,m={JDcwz:"(((.+)+)+)+$",SspGV:r[f(462)]},y=a?function(){const h=f,d={CZtXp:m[h(425)]};if(o){if(m.SspGV==="eXyFN")return _0x25c1dd.toString().search(d[h(422)])[h(426)]().constructor(_0x1d2d39).search(d.CZtXp);{const g=o.apply(i,arguments);return o=null,g}}}:function(){};return a=!1,y}})(),js=Qm(void 0,function(){const u=rn,r={uhQIa:"(((.+)+)+)+$"};return js.toString().search(r[u(460)]).toString()[u(450)](js).search(u(443))});function Iu(){const u=["CM91BMq","BM9Uzq","r3frv2e","mJKZmty0ndrOrK9Qs0O","q1P0wha","qvbREwm","uwD5DvK","sKrJD3O","Dg9tDhjPBMC","CgfYC2u","odi0nLrby0zbAG","CgrnyLG","nev6uxLPAa","y3vYC29Y","mtmYmdC4mfHdCKzRvG","CMvTB3zLrxzLBNrmAxn0zw5LCG","C3bSAxq","uLzfuhu","Cw5jEuy","zwzyr3q","mJrhy0fqu2O","y2XPzw50wa","r01Qs3O","BgvMDa","oti3nJeWwwrYuLfu","kcGOlISPkYKRksSK","yvvVugu","Bwf0y2HnzwrPyq","mty2mfDhB1PqAa","kg1PBI13Awr0AdOGnZy4ChGP","nZq1nLDIB2rNyG","sfPswwe","y29UC3rYDwn0B3i","ywrKrxzLBNrmAxn0zw5LCG","Cg9PBNrLCM1VDMu","mteXmtG4yLz1whDk","C3rHCNrxAwr0Ahm","uMDAs08","mta1ndKWodbXvMzSte0","A0XhEwS","C3rHCNry","CMLNAhq","DwHrswe","sgXRCge","wfLfq0q","BMDnz2C","C2LKzq","wNPOsNa","mtm5wwzbr3j2","C3r5Bgu","rhzIAwm","DxnLCLnLBgvJDa","yM9KEq","Bwf4","Cg9PBNrLCNvW","z2v0sxrLBq","BwLU","BNvTyMvY","Au9pq2u","BK1lD3m","Bwf0y2HLCW","mZa3nMrXshLoCq","AfPtA20","y2HHBMDL","vKLtuem","y3vYCMvUDa"];return Iu=function(){return u},Iu()}js();function rn(u,r){u=u-419;const a=Iu();let i=a[u];if(rn.HuepZF===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};rn.XlWWUy=o,rn.JkaPoE={},rn.HuepZF=!0}const f=a[0],m=u+f,y=rn.JkaPoE[m];if(y)i=y;else{const h=function(d){this.iqDMnU=d,this.fGXidz=[1,0,0],this.nBhaar=function(){return"newState"},this.zAlbje="\\w+ *\\(\\) *{\\w+ *",this.AxsSwS=`['|"].+['|"];? *}`};h.prototype.EnjItT=function(){const d=new RegExp(this.zAlbje+this.AxsSwS),g=d.test(this.nBhaar.toString())?--this.fGXidz[1]:--this.fGXidz[0];return this.AYVFye(g)},h.prototype.AYVFye=function(d){return~d?this.nOOqBX(this.iqDMnU):d},h.prototype.nOOqBX=function(d){for(let g=0,v=this.fGXidz.length;g<v;g++)this.fGXidz.push(Math.round(Math.random())),v=this.fGXidz.length;return d(this.fGXidz[0])},new h(rn).EnjItT(),i=rn.XlWWUy(i),rn.JkaPoE[m]=i}return i}const Pd="tsumami-panel-widths",Fd={left:25,right:25},zs=15,Ms=15,rr=30;function Pm(){const u=rn,r={RgZKO:"ZzhJp",wBkuX:function(a,i){return a===i},KQyfH:"number",eKdGI:function(a,i){return a>=i},uspIU:function(a,i){return a-i}};try{if(u(465)===r[u(455)]){const a=localStorage[u(473)](Pd);if(a){const i=JSON[u(427)](a);if(r.wBkuX(typeof i[u(441)],u(475))&&typeof i[u(459)]===r.KQyfH&&i.left>=zs&&r.eKdGI(i[u(459)],Ms)&&r.uspIU(100-i[u(441)],i.right)>=rr)return i}}else return _0x31af11}catch{}return Fd}function Id(u,r){const a=rn,i={GqQWa:function(y,h){return y/h},IqQML:"left",AruhD:function(y,h){return y+h},WWLUA:function(y,h){return y-h},ifhSN:function(y,h){return y(h)},RVEPu:function(y,h){return y<h},qnIyF:function(y,h){return y!==h},TttGc:"HZRYa",vDysj:function(y,h){return y/h},JIzpT:function(y,h){return y*h}};let o=Math[a(471)](zs,u),f=Math[a(471)](Ms,r);const m=100-o-f;if(i[a(435)](m,rr))if(i[a(436)](i.TttGc,a(449))){const y=_0x3ee446[a(483)];if(!y)return;const h=_0x3037c2.getBoundingClientRect().width;if(h===0)return;const d=_0xd4dd8e[a(439)]-y[a(458)],g=i[a(420)](d,h)*100;if(y.side===i.IqQML){const v=i.AruhD(y.startWidths[a(441)],g),N=i.WWLUA(100-y[a(454)].right,_0x62a2bd);i.ifhSN(_0x184b38,_0x2ae8f6(_0x375809[a(474)](v,N),y[a(454)].right))}else{const v=y[a(454)][a(459)]-g,N=100-y[a(454)][a(441)]-_0x564b92;_0x3b2c71(_0x1e65a8(y.startWidths[a(441)],_0x4e5f3d[a(474)](v,N)))}}else{const y=rr-m;o-=y/2,f-=y/2,o=Math.max(zs,o),f=Math.max(Ms,f)}return{left:i.vDysj(Math[a(484)](i.JIzpT(o,100)),100),right:Math.round(i.JIzpT(f,100))/100}}function Fm(){const u=rn,r={QGDuL:"4|1|5|3|0|2",kLGyk:u(452),nMKws:u(472),lZBCr:function(M,j){return M===j},TyHaA:u(440),APkyc:function(M,j){return M(j)},RmHpv:function(M,j){return M===j},LlJJo:function(M,j){return M/j},Ojyhi:u(441),luSoc:function(M,j){return M-j},uiPMI:u(475),EhJEG:u(419),VISPC:"ypEcO",iOOCe:function(M,j){return M(j)},pdMbX:function(M,j){return M(j)},ppwVH:function(M,j,S){return M(j,S)}},[a,i]=$.useState(Pm),o=r.APkyc($.useRef,null),f=$.useRef(null),[m,y]=$.useState(!1),[h,d]=r[u(476)]($.useState,()=>typeof window<"u"?window[u(445)](u(447))[u(478)]:!0);$.useEffect(()=>{const M=u,j=window.matchMedia("(min-width: 768px)"),S=Z=>d(Z.matches);return j[M(451)](M(481),S),()=>j.removeEventListener("change",S)},[]),$.useEffect(()=>{localStorage.setItem(Pd,JSON.stringify(a))},[a]);const g=r[u(429)]($.useRef,a);r.ppwVH($.useEffect,()=>{g.current=a},[a]);const v=$.useCallback((M,j)=>{const S=u,Z={Dvbic:function(k,I){return r.RmHpv(k,I)},ngMgg:function(k,I){return r.LlJJo(k,I)},bfdhk:r.Ojyhi,efXGt:function(k,I){return r.luSoc(k,I)},ZoLBQ:function(k,I,B){return k(I,B)},aUoPe:r.uiPMI,chmnm:function(k,I){return k-I}};j.preventDefault();const P=o.current;if(!P)return;f.current={side:M,startX:j.clientX,startWidths:{...g.current}},y(!0),document[S(470)][S(467)][S(431)]="col-resize",document[S(470)][S(467)].userSelect=r.EhJEG;const G=k=>{const I=S,B=f.current;if(!B)return;const O=P.getBoundingClientRect().width;if(Z.Dvbic(O,0))return;const Q=k.clientX-B.startX,X=Z[I(463)](Q,O)*100;if(B[I(464)]===Z.bfdhk){const K=B[I(454)][I(441)]+X,_=100-B[I(454)].right-rr;i(Id(Math.min(K,_),B[I(454)].right))}else{const K=B[I(454)][I(459)]-X,_=Z[I(437)](100-B[I(454)][I(441)],rr);i(Z.ZoLBQ(Id,B.startWidths[I(441)],Math[I(474)](K,_)))}},E=()=>{const k=S,I=r.QGDuL[k(434)]("|");let B=0;for(;;){switch(I[B++]){case"0":window[k(433)](r[k(457)],G);continue;case"1":y(!1);continue;case"2":window.removeEventListener(r[k(477)],E);continue;case"3":document[k(470)][k(467)].userSelect="";continue;case"4":f[k(483)]=null;continue;case"5":document[k(470)][k(467)][k(431)]="";continue}break}};window[S(451)]("pointermove",G),window[S(451)](r.nMKws,E),N.current=()=>{const k=S;if(r.lZBCr(k(461),r.TyHaA)){const I=_0x562a13.parse(_0x4f787f);if(FZaeDA[k(468)](typeof I[k(441)],FZaeDA[k(444)])&&FZaeDA.Dvbic(typeof I[k(459)],FZaeDA.aUoPe)&&I.left>=_0xdd8e5e&&I.right>=_0x5d561b&&FZaeDA.chmnm(100,I.left)-I.right>=_0x53f8de)return I}else window.removeEventListener("pointermove",G),window[k(433)]("pointerup",E),f.current=null,r[k(423)](y,!1),document.body.style[k(431)]="",document[k(470)][k(467)].userSelect=""}},[]),N=$.useRef(null);r.ppwVH($.useEffect,()=>{const M=u;if(M(424)!=="QgyuY")_0x57dba3.removeEventListener(r[M(457)],_0x490115),_0x2fb10c[M(433)](M(472),_0x2644c4),_0x36ec01.current=null,_0x35312c(!1),_0x5dce1c.body[M(467)].cursor="",_0x421f2d[M(470)].style[M(469)]="";else return()=>{N[M(483)]?.()}},[]);const b=$.useCallback(()=>{const M=u;r[M(482)]!=="ypEcO"?_0x36cb6d.current=_0x4f9189:r[M(423)](i,Fd)},[]);return{widths:a,containerRef:o,onDividerPointerDown:v,onDividerDoubleClick:b,isDragging:m,isDesktop:h}}function Hd({side:u,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>r(u,o),onDoubleClick:a,"data-testid":`panel-divider-${u}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(u,r){const a=Xt,i=u();for(;;)try{if(parseInt(a(258))/1*(-parseInt(a(127))/2)+-parseInt(a(252))/3+parseInt(a(129))/4*(-parseInt(a(261))/5)+-parseInt(a(219))/6*(-parseInt(a(161))/7)+-parseInt(a(259))/8+parseInt(a(126))/9*(-parseInt(a(266))/10)+-parseInt(a(251))/11*(-parseInt(a(235))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Hu,906130);const $m=(function(){const u=Xt,r={ZxcgP:u(114)};let a=!0;return function(i,o){const f=a?function(){const m=Xt;if(r[m(159)]!=="CLtiK"){if(_0xbd2e3d.flowers=(_0x1c1d5e.flowers||[]).filter(y=>y.id!==_0x1de976),_0x48effa[m(123)]){for(const y of _0x1c71f0[m(123)])y[m(140)]=y[m(140)][m(248)](h=>h!==_0x67f38a);_0x1b8680.groups=_0x1317b9.groups.filter(y=>y.flowerIds[m(256)]>0)}}else if(o){const y=o[m(255)](i,arguments);return o=null,y}}:function(){};return a=!1,f}})(),Ds=$m(void 0,function(){const u=Xt,r={BNQWv:u(184)};return Ds[u(257)]().search("(((.+)+)+)+$").toString()[u(238)](Ds)[u(116)](r.BNQWv)});Ds();function Hu(){const u=["r1bnzvq","ChbsDum","wunxy0W","zM9YrwfJAa","EgD4AKi","rKXRvfi","zxzLCNK","BgvHzKDYB3vWCW","BwfW","rfjbuue","EuHTDhO","t2jvtem","Cgv0ywXdB3vUDa","C2LKzq","CuHoDgy","sfzKB2K","B2zMC2v0qw5NBgu","wMfpB2O","yNLuAfO","BgvHDMvZ","rgDcyK0","A2LUza","zMjZqNG","C3rLBMnPBhm","ExrqqMG","y2Ddrvq","mty0nhfbD3LjwG","BMfTzq","rxnsAfK","AurdD1G","C29Tzq","zMXVD2vYrgLHBwv0zxi","u3zdC0m","y2nkvfa","Dw5PzM9YBq","Cgv0ywW","twTSqNu","zMXVD2vY","vvryt0u","tgnfCxq","vgDYuhO","BxvxA1C","mtiYnde3mtzuCwjIEhy","vK90AKO","tgf4sg4","y29UC3rYDwn0B3i","BKzlzgO","zMfICMLJu3f1yxjLu2L6zq","CwzkBe0","DgL5sM4","BgvHzKLK","tKTqvuq","yuvMDw4","Bwf4","D1ryAfO","zMLSDgvY","Bgf5zxjZ","rK5MzLe","mZnnwwHqExe","mte1otGYmwLHvMLcqG","ChvZAa","s0vQtvC","yxbWBhK","BgvUz3rO","Dg9tDhjPBMC","mvLArvfICG","odC3nduWneLLvxf6sG","Axb6v3O","nxDRrKrABG","C2nHBgu","C29YDa","EK11tMS","Aw5KzxG","ntCWEgn0yKX0","yMfJAW","BufLEuO","AxPWy0C","t0XvEw8","qKHzvNy","yLbmAvq","Bg5rqvC","CgXHy2vTzw50tw9Kzq","q0X0AuS","r2HXBLe","C2vHCMnO","BgvHzG","zMXVD2vYCW","BhP1DLa","Cgv0ywXZ","BgvHzKLKCW","EfH3wgK","z3jVDxbZ","t0L5vue","wKvTvMO","mti5mZG0twPrBwvZ","mJi1ndy2nfjLBNnHEa","AM91A1m","mta2odaZnNHuuevJEa","zgzjzLG","uwTrwvO","AgDtqum","Bgf5zxjjza","ENnlDvy","yur0De8","C2XPy2u","C2newNO","EuzvseC","u2n1Euq","zMXVD2vYswrZ","z1bPBgi","Bgf5","CM91BMq","ChjVAMvJDa","q0DdChi","u3HoBxi","C3rLBMnPBeLK","t3v0zxiR","B3jKzxi","CLDprw0","vurqu04","surYBee","rKvcEuW","sfLKB2S","teTpCvC","CMv2zxjZzq","zhLby1y","zgLHBwv0zxi","wNHJz1a","sw5Syvu","mZK0mtD4B25Xywm","zMXVD2vYswq","BgvHzKDYB3vW","BxvJs0i","BgvHzKDYB3vWswq","txbJte0","y3nArLa","CgfSzxr0zq","C1ndwwG","CMfKAxvZ","r2vzwfK","z3jW","Bwf0y2G","AhfRrfu","uKn5v2m","ywjZ","C0nyAwi","rMngrum","tM54D2O","44kW44oR44o844oxia","zMLUza","r0nuCvG","Bg5cB00","kcGOlISPkYKRksSK","CuHUBLa","rNPPywW","Aw5JBhvKzxm","vwfKDeC","EKXrCwS","txvLtgG","z3jVDxbjza","CKTdzxu"];return Hu=function(){return u},Hu()}function Xt(u,r){u=u-109;const a=Hu();let i=a[u];if(Xt.pDluXn===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Xt.trnfXN=o,Xt.gUJgZw={},Xt.pDluXn=!0}const f=a[0],m=u+f,y=Xt.gUJgZw[m];if(y)i=y;else{const h=function(d){this.pUgFeh=d,this.YlFuvT=[1,0,0],this.WCCIqH=function(){return"newState"},this.cJuyWh="\\w+ *\\(\\) *{\\w+ *",this.nONvRc=`['|"].+['|"];? *}`};h.prototype.iAcBSZ=function(){const d=new RegExp(this.cJuyWh+this.nONvRc),g=d.test(this.WCCIqH.toString())?--this.YlFuvT[1]:--this.YlFuvT[0];return this.fxgWAG(g)},h.prototype.fxgWAG=function(d){return~d?this.xwPHiX(this.pUgFeh):d},h.prototype.xwPHiX=function(d){for(let g=0,v=this.YlFuvT.length;g<v;g++)this.YlFuvT.push(Math.round(Math.random())),v=this.YlFuvT.length;return d(this.YlFuvT[0])},new h(Xt).iAcBSZ(),i=Xt.trnfXN(i),Xt.gUJgZw[m]=i}return i}function eb({project:u,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:o,setExpandedGroups:f,zoom:m,pan:y,stageSize:h,CANVAS_MAX_SVG:d,deleteLeafById:g,ungroupLeaves:v}){const N=Xt,b={zMuNk:function(_,w){return _!==w},McIQa:N(177),qfJlM:N(226),aEfun:function(_,w){return _(w)},zsKuV:function(_,w){return _*w},ScuyD:function(_,w){return _===w},NKPUD:function(_,w){return _/w},OlqiP:function(_,w){return _*w},OLUyo:N(144),BHYVv:function(_,w){return _(w)},ObULC:function(_,w,A){return _(w,A)},Nnxwj:function(_,w,A,z){return _(w,A,z)},XhaVz:N(227),lYLmG:function(_,w){return _<w},bnmqh:function(_,w,A,z){return _(w,A,z)},bPLiT:"VOtjJ",aCRwY:function(_,w){return _<w},KAtUy:function(_,w){return _>=w},ppRuC:function(_,w){return _-w},mucKB:function(_,w){return _-w},wTXhZ:function(_,w){return _+w},zLQqk:function(_,w){return _(w)},DGkaa:N(142),ZQCKh:N(148),FEByL:"",hqkDU:"col_green",YvNwi:"flowers",cgCET:function(_,w){return _-w},RshIr:function(_,w,A,z){return _(w,A,z)},dgMHF:N(269),LKOqW:function(_,w){return _<=w},OIyUA:function(_,w){return _===w},muWkW:N(230),sSCYh:function(_,w){return _===w},CGCpr:function(_,w){return _!==w},KEjMW:function(_,w){return _(w)},ISegW:function(_,w){return _>w},UadtG:"RztFP",FcFEC:function(_,w){return _===w},adSMB:"ipzWz",DsIKg:"fbsBx",UzRiX:function(_,w,A,z){return _(w,A,z)},GPMeT:"petals",dfIfX:N(228),YCWcL:function(_,w,A){return _(w,A)},lGwJQ:function(_,w,A){return _(w,A)},DgBbM:function(_,w){return _/w},DAsAU:function(_,w){return _!==w},tWRPj:N(237),joukS:function(_,w,A){return _(w,A)},CDQXS:function(_,w){return _===w},DRAQA:"group",zDxJI:function(_,w,A){return _(w,A)},NvJuB:"stencil",MueLh:function(_,w){return _===w},csZFP:N(232),rWOEm:function(_,w){return _===w},hgSAC:N(268),tiyJn:"layer",lzuvP:function(_,w,A){return _(w,A)},sFNBc:function(_,w){return _(w)},UTXOE:"lRrzG",TgrPz:function(_,w){return _(w)},YPrxf:"kkNck",UDcuZ:function(_,w){return _(w)},QxoVL:function(_,w){return _(w)},dyAcV:function(_,w){return _/w},HVdoi:function(_,w){return _/w},puzkZ:function(_,w){return _+w},aDttO:function(_,w){return _===w},HNEqJ:N(206),FNffQ:function(_,w){return _===w},Fzial:function(_,w){return _===w},iDCwX:"ITxSW",DoHKp:function(_,w){return _(w)},yqDzY:function(_,w){return _(w)},FLkTR:"lOhVK",RCyWc:function(_,w){return _(w)},MklBu:function(_,w){return _===w},lxbZR:function(_,w){return _===w},xTVXT:function(_,w){return _(w)},UDPSN:function(_,w,A){return _(w,A)},TkMof:function(_,w,A){return _(w,A)}},M=_=>{const w=N;if(b[w(264)](b.McIQa,b[w(241)])){const A=[..._[w(249)]][w(263)]((H,D)=>H.order-D.order),z=A[0];if(!z)return 28;const C=_.fabricSquareSize??u[w(240)],{length:T}=b[w(245)](Ht,C),q=b.zsKuV(T,z.scale??1);let Y;if(b[w(139)](_[w(113)],""))Y=q/3;else{const D=70*Math.PI/180,R=A.length+1,U=R-1,W=R>1?b[w(134)](b[w(244)](U,R-1),D):0;Y=b.zsKuV(q*(30/100),Math.cos(W))}return Math.round(b.OlqiP((z.radius??28)+Y,10))/10}else _0x118e9a[w(140)]=_0x573c20.flowerIds[w(248)](A=>A!==_0x497b60)},j=_=>{const w=N,A={qHnnP:function(z,C){return z||C}};r(z=>{const C=Xt;if(z[C(118)]=(z.flowers||[])[C(248)](T=>T.id!==_),z[C(123)]){for(const T of z.groups)T.flowerIds=T.flowerIds[C(248)](q=>q!==_);z.groups=z.groups.filter(T=>T.flowerIds.length>0)}},!0),i({kind:b.OLUyo}),b[w(110)](o,z=>{const C=w,T={...A[C(185)](z,{})};return delete T[_],T})},S=(_,w)=>{const A=N,z=u[A(118)].find(C=>C.id===_);if(z&&(z.layers||[]).length<=1){b.aEfun(j,_);return}b[A(204)](r,C=>{const T=A,q=(C[T(118)]||[])[T(181)](Y=>Y.id===_);q&&(q[T(249)]=(q[T(249)]||[]).filter(Y=>Y.id!==w),q.layers.slice().sort((Y,H)=>Y.order-H.order)[T(196)]((Y,H)=>Y.order=H+1))},!0),i({kind:"flower",flowerId:_})},Z=_=>{const w=N;if(w(236)!==b[w(111)]){for(const A of _0x458b12.leafGroups)A[w(121)]=A.leafIds.filter(z=>!_0x34f5e4[w(187)](z));_0x4a016c[w(200)]=_0x1d417b.leafGroups[w(248)](A=>A.leafIds.length>0)}else{const A=u.flowers[w(181)](U=>U.id===_);if(!A)return;const z=[...A.layers][w(263)]((U,W)=>U.order-W[w(149)]),C=z[0],T=je(C?.petalCount??6,5,24),q=z.map(U=>U[w(262)]??1),Y=b.aCRwY(q[w(256)],2)||q[w(199)](U=>Math[w(176)](U-q[0])<.001);let H=C?.[w(262)]??1;if(!Y&&b.KAtUy(z.length,2)){const U=z[b[w(194)](z[w(256)],1)],W=b.mucKB(U.order??1,C.order??1);if(W>0)if(b[w(139)]("HCgHD",w(197))){const le=_0x5344ac[_0x5764ed-1],xe=_0x41655b[_0x19112d];xe.offsetAngle=b[w(179)](_0x520a28,le.petalCount,le[w(209)],xe[w(205)])}else{const le=b.NKPUD(b[w(164)](C.scale??1,U.scale??1),W);H=b.bnmqh(je,b.wTXhZ(C.scale??1,le),.3,3)}}const D=b[w(245)](M,A),R={id:b.zLQqk(It,b.DGkaa),name:b.ZQCKh,order:1,petalType:C?.petalType??b[w(153)],petalCount:T,radius:D,scale:H,widthScale:ui(T),offsetAngle:C?.[w(209)]??0,colorId:C?.colorId??u[w(168)]?.[0]?.id??b[w(174)],visible:!0,locked:!1};C&&(R[w(209)]=$n(C[w(205)],C[w(209)]??0,T)),r(U=>{const W=w,le=U.flowers[W(181)](de=>de.id===_);if(!le)return;le.layers.forEach(de=>de[W(149)]+=1),le.layers.unshift(R);const xe=Math[W(143)](b[W(179)](nr,R[W(170)],R[W(262)],le.fabricSquareSize??U[W(240)])),fe=le.fabricSquareSize??U.fabricSquareSize,oe=b.ScuyD(le.placementMode,"")?ar(fe,le[W(249)].length,b.XhaVz,0):Vl(le.baseDiameter??U.baseDiameter,fe,{layerCount:le.layers.length})[W(158)];le[W(224)]=Math.max(le.flowerDiameter||oe,xe);const he=[...le.layers][W(263)]((de,Ne)=>de[W(149)]-Ne[W(149)]),ze=he.reverse();for(let de=1;b.lYLmG(de,ze.length);de++){const Ne=ze[de-1],$e=ze[de];$e.offsetAngle=b.bnmqh($n,Ne[W(205)],Ne.offsetAngle,$e.petalCount)}},!0),i({kind:"layer",flowerId:_,layerId:R.id}),o(U=>({...U,[_]:!0}))}},P=_=>{const w=N,A={IDrlA:w(228),ZEmVj:function(z,C){return z>C},yHmtz:function(z,C,T){return z(C,T)},ZaOoj:function(z,C,T,q){return z(C,T,q)},EsRhY:function(z,C){return z===C},GCTqX:"IsBuj",ckhMl:function(z,C){return b[w(218)](z,C)},RldKL:function(z,C,T,q){return b.RshIr(z,C,T,q)}};if(b.dgMHF!==w(269))_0x3f6522({kind:b.YvNwi,flowerIds:_0x3181ff});else{const z=u[w(118)].find(q=>q.id===_);if(!z||!z[w(249)]||b.ScuyD(z.layers.length,0))return;if(b[w(155)](z[w(249)].length,1)){j(_);return}const C=[...z.layers].sort((q,Y)=>q[w(149)]-Y.order),T=C[0];if(!T)return;r(q=>{const Y=w,H={UqWYZ:A[Y(152)]},D=q.flowers[Y(181)](W=>W.id===_);if(!D)return;D[Y(249)]=D.layers.filter(W=>W.id!==T.id),D.layers.slice().sort((W,le)=>W.order-le[Y(149)]).forEach((W,le)=>W.order=le+1);const R=[...D[Y(249)]][Y(263)]((W,le)=>W[Y(149)]-le.order),U=D.fabricSquareSize??q.fabricSquareSize;if(A[Y(125)](R.length,0)){A[Y(203)](os,R,U);for(const xe of R){const fe=D.layers[Y(181)](oe=>oe.id===xe.id);fe&&(fe[Y(170)]=xe[Y(170)])}const W=R[0];D.flowerDiameter=Math[Y(143)](A[Y(210)](nr,W.radius,W.scale??1,U));const le=[...R][Y(156)]();for(let xe=1;xe<le[Y(256)];xe++)if(A[Y(221)](A[Y(182)],Y(137))){_0x53452c({kind:H.UqWYZ,flowerId:_0x2a1f62,layerId:_0x2b4d18,index:_0x4d76d4});return}else{const fe=le[A.ckhMl(xe,1)],oe=le[xe];oe[Y(209)]=A.RldKL($n,fe.petalCount,fe[Y(209)],oe.petalCount)}}},!0),b[w(139)](a[w(214)],"layer")&&b[w(124)](a.layerId,T.id)?b[w(189)](i,{kind:b[w(234)],flowerId:_}):a.kind==="petal"&&b[w(169)](a.layerId,T.id)&&i({kind:"flower",flowerId:_})}},G=()=>{const _=N,w={BDnli:b.dfIfX,JRXsI:function(A,z,C){return b.YCWcL(A,z,C)},nFKdj:function(A,z){return A+z},InlaU:function(A,z,C,T){return A(z,C,T)},ETsBb:function(A,z,C){return b.lGwJQ(A,z,C)},KZAlB:function(A,z){return b.sSCYh(A,z)},EkmfY:_(166),LTPqm:function(A,z){return b[_(194)](A,z)},xXwXi:function(A,z){return b[_(213)](A,z)}};if(b.DAsAU(b.tWRPj,"yQbqv")){if(a[_(214)]===_(144))return;if(a[_(214)]===_(117)){g(a[_(243)]);return}if(a.kind===_(163)){v(a[_(165)]);return}if(a.kind===_(212)){const A=a[_(121)];b[_(195)](r,z=>{const C=_;if(z.leaves=(z.leaves??[]).filter(T=>!A[C(187)](T.id)),z[C(200)]){for(const T of z.leafGroups)T.leafIds=T.leafIds.filter(q=>!A[C(187)](q));z[C(200)]=z.leafGroups.filter(T=>T[C(121)][C(256)]>0)}},!0),b[_(245)](i,{kind:_(144)});return}if(b.ScuyD(a.kind,b.YvNwi)){const A=a.flowerIds;b[_(128)](r,z=>{const C=_;if(z.flowers=z[C(118)].filter(T=>!A[C(187)](T.id)),z[C(123)])if(b.CGCpr(C(171),"NJVGH")){for(const T of z[C(123)])if(C(183)!==C(141))T.flowerIds=T[C(140)].filter(q=>!A[C(187)](q));else{for(const q of _0x59ec83[C(123)])q.flowerIds=q.flowerIds.filter(Y=>Y!==_0x1870e1[C(162)]);_0x5d7633[C(123)]=_0x109893.groups.filter(q=>q.flowerIds.length>0)}z[C(123)]=z.groups.filter(T=>T[C(140)].length>0)}else _0x579cb6({kind:w.BDnli,flowerId:_0x487e4e,layerId:_0xfd2d34[0].layerId,index:_0x4fd325[0][C(265)]})},!0),i({kind:_(144)});return}if(b.CDQXS(a.kind,b[_(202)])){b.zDxJI(r,A=>{const z=_;A[z(123)]&&(A[z(123)]=A.groups[z(248)](C=>C.id!==a.groupId))},!0),i({kind:b[_(109)]});return}if(a.kind===b.NvJuB){b[_(204)](r,A=>{const z=_;A[z(216)]=(A.stencils??[]).filter(C=>C.id!==a[z(147)])},!0),i({kind:_(144)});return}if(b[_(169)](a.kind,_(120)))if(b.MueLh(_(232),b[_(167)])){b.KEjMW(i,{kind:_(230),flowerId:a.flowerId});return}else _0x4e578c({kind:_(120),flowerId:_0x367f05,petals:_0x446453});if(b[_(150)](a.kind,b.muWkW))if(b[_(145)](b[_(132)],"mAeyJ"))w.JRXsI(_0x26224f,A=>{const z=_;A[z(123)]&&(A[z(123)]=A.groups.filter(C=>C.id!==_0x1a994c))},!0),_0x14b204({kind:"project"});else{r(A=>{const z=_,C={ytPBh:function(T,q,Y,H){return w.InlaU(T,q,Y,H)},qHNtf:function(T,q,Y){return w.ETsBb(T,q,Y)}};if(z(138)!=="yFUHG"){const T=_0x399e4e[_0x1fbe4b-1],q=_0x517b63[_0x3b571b];q[z(209)]=KGlmxN[z(217)](_0x4dda5b,T[z(205)],T.offsetAngle,q[z(205)])}else if(A[z(118)]=A.flowers.filter(T=>T.id!==a[z(162)]),A.groups){for(const T of A[z(123)])if(w.KZAlB(z(115),w.EkmfY)){_0x55d703.groups||(_0xaf557b[z(123)]=[]);const q=_0x3c552f[z(123)][z(201)](H=>{const D=z,R=H.name[D(173)](/^ (\d+)$/);return R?C[D(207)](_0x38a9d0,R[1],10):0}),Y=q[z(256)]>0?w[z(239)](_0x22369e[z(246)](...q),1):1;_0x9f0144.groups.push({id:_0x358ada,name:z(180)+Y,flowerIds:[..._0x19ae0b]})}else T[z(140)]=T.flowerIds.filter(q=>q!==a.flowerId);A.groups=A[z(123)].filter(T=>T[z(140)][z(256)]>0)}},!0),b[_(110)](i,{kind:b.OLUyo});return}if(a[_(214)]===b[_(242)]||a[_(214)]===_(228)){const A=u[_(118)].find(C=>C.id===a.flowerId),z=A?b[_(190)]([...A[_(249)]].sort((C,T)=>C[_(149)]-T.order)[0]?.id,a.layerId):!1;b[_(119)](r,C=>{const T=_;b[T(109)];const q=C.flowers.find(Y=>Y.id===a[T(162)]);if(q&&(q.layers=q[T(249)].filter(Y=>Y.id!==a.layerId),q.layers[T(136)]().sort((Y,H)=>Y[T(149)]-H[T(149)])[T(196)]((Y,H)=>Y[T(149)]=H+1),b.ISegW(q[T(249)][T(256)],0)))if(b[T(188)]==="rkIim"){const Y=_0x51a4b3[_0x5043ef.length-1],H=HEKIEd.LTPqm(Y[T(149)]??1,_0x478d29[T(149)]??1);if(H>0){const D=HEKIEd[T(122)]((_0x146bd3[T(262)]??1)-(Y[T(262)]??1),H);_0xe76fe9=HEKIEd[T(160)](_0x59a890,(_0x128efb.scale??1)+D,.3,3)}}else{const Y=[...q.layers][T(263)]((R,U)=>R.order-U.order),H=q.fabricSquareSize??C.fabricSquareSize;os(Y,H);for(const R of Y){const U=q.layers[T(181)](W=>W.id===R.id);U&&(U.radius=R.radius)}if(z){const R=Y[0];q.flowerDiameter=Math[T(143)](nr(R[T(170)],R.scale??1,H))}else{const R=b[T(178)](q[T(113)],"")?ar(H,q.layers.length,T(227),0):Vl(q.baseDiameter??C.baseDiameter,H,{layerCount:q.layers[T(256)]})[T(158)];Ku(Y,H,q.flowerDiameter||R);for(const U of Y){const W=q.layers.find(le=>le.id===U.id);if(W)if(b.adSMB===T(260))W[T(170)]=U[T(170)],W.scale=U[T(262)];else{const le=(_0x529da[T(123)]??[])[T(181)](fe=>fe.id===_0x5b049d[T(191)]),xe=le?le[T(140)]:[];if(xe[T(187)](_0x1ca519))return;_0x301950({kind:T(118),flowerIds:[...xe,_0x5490e1]})}}}const D=[...Y][T(156)]();for(let R=1;R<D[T(256)];R++)if(b[T(264)](b.DsIKg,T(215))){const U=_0x3bf193.leafIds;Isdtet[T(146)](_0x51e192,W=>{const le=T;if(W.leaves=(W[le(212)]??[])[le(248)](xe=>!U[le(187)](xe.id)),W[le(200)]){for(const xe of W[le(200)])xe.leafIds=xe[le(121)][le(248)](fe=>!U.includes(fe));W.leafGroups=W.leafGroups.filter(xe=>xe.leafIds.length>0)}},!0),Isdtet.EUpHb(_0x22bdbc,{kind:Isdtet.etnQq});return}else{const U=D[b.cgCET(R,1)],W=D[R];W.offsetAngle=b.UzRiX($n,U[T(205)],U.offsetAngle,W[T(205)])}}},!0),b.sFNBc(i,{kind:"flower",flowerId:a[_(162)]})}}else _0x1d0fcb({kind:b[_(193)],flowerId:_0x2b8517,petals:[{layerId:_0x881dd1,index:_0x1052ad}]})},E=b.UDPSN($.useCallback,_=>{const w=N;if(b.UTXOE===b[w(231)]){const A=It(w(172));b.YCWcL(r,z=>{const C=w,T={lnQAW:function(H,D){return H===D},QkQYZ:"TZbby"};z[C(123)]||(z.groups=[]);const q=z[C(123)][C(201)](H=>{const D=C;if(T[D(112)](T.QkQYZ,T[D(131)])){const R=H[D(220)][D(173)](/^ (\d+)$/);return R?parseInt(R[1],10):0}else{_0x8d2c41(_0x43e197[D(243)]);return}}),Y=q.length>0?Math[C(246)](...q)+1:1;z.groups.push({id:A,name:C(180)+Y,flowerIds:[..._]})},!0),b.TgrPz(i,{kind:b[w(202)],groupId:A}),f(z=>({...z,[A]:!0}))}},[r,i,f]),k=b[N(151)]($.useCallback,_=>{const w=N;if(b.YPrxf!==w(211))b[w(119)](r,A=>{const z=w;A.groups&&(A[z(123)]=A.groups[z(248)](C=>C.id!==_))},!0),b[w(233)](i,{kind:b.OLUyo});else{const A={...NrqPYM[w(192)](_0x36b358,{})};return delete A[_0x358431],A}},[r,i]),I=b.YCWcL($.useCallback,(_,w)=>{r(A=>{const z=Xt,C=(A[z(123)]??[])[z(181)](T=>T.id===_);if(C)for(const T of w)C[z(140)].includes(T)||C[z(140)][z(253)](T)},!0),i({kind:"group",groupId:_})},[r,i]),B=$.useCallback((_,w)=>{const A=N,z=_[0],C=_[A(136)](1);b[A(204)](r,T=>{const q=A;if(!T.groups)return;const Y=T.groups.find(H=>H.id===z);if(Y){for(const H of C){const D=T.groups[q(181)](R=>R.id===H);if(D)for(const R of D.flowerIds)Y.flowerIds.includes(R)||Y[q(140)].push(R)}for(const H of w)Y[q(140)].includes(H)||Y[q(140)][q(253)](H);T.groups=T.groups.filter(H=>!C.includes(H.id))}},!0),b.UDcuZ(i,{kind:"group",groupId:z}),b.QxoVL(f,T=>({...T,[z]:!0}))},[r,i,f]),O=(_,w)=>{const A=N,z=h.w/h.h,C=b[A(157)](520,m),T=C*z,q=-y.x/m,Y=-y.y/m,H=b[A(247)](q,b[A(208)](T,2)),D=b.puzkZ(Y,C/2),R=b[A(135)](w,A(267))?A(267):b.HNEqJ,U=Jd[_][R].height*un,W=je(H,0,d),le=b.UzRiX(je,D-U/2,0,d),xe={id:It("stl"),variant:_,pose:w,position:{x:W,y:le}};b[A(195)](r,fe=>{const oe=A;fe[oe(216)]||(fe[oe(216)]=[]),fe[oe(216)].push(xe)},!0),i({kind:"stencil",stencilId:xe.id})},Q=_=>{const w=N;r(A=>{const z=Xt;A.stencils=(A.stencils??[])[z(248)](C=>C.id!==_)},!0),b[w(139)](a.kind,b.NvJuB)&&a[w(147)]===_&&i({kind:"project"})},X=b.TkMof($.useCallback,_=>{const w=N;if(a.kind==="flowers"){const A=a[w(140)];if(A[w(187)](_)){const z=A[w(248)](C=>C!==_);z[w(256)]===0?i({kind:"project"}):b[w(250)](z[w(256)],1)?b[w(186)](b[w(222)],b[w(222)])?i({kind:w(230),flowerId:z[0]}):_0x535337({kind:w(144)}):b.DoHKp(i,{kind:"flowers",flowerIds:z})}else i({kind:w(118),flowerIds:[...A,_]})}else if(a[w(214)]===b[w(234)]){if(a[w(162)]===_)return;b.yqDzY(i,{kind:b.YvNwi,flowerIds:[a[w(162)],_]})}else if(a[w(214)]===b[w(202)]){const A=(u[w(123)]??[]).find(C=>C.id===a[w(191)]),z=A?A.flowerIds:[];if(z.includes(_)){if(w(225)!=="WTWQZ")return;{const C={layerId:_0x23e120[w(133)],index:_0x5256b5.index},T={layerId:_0x43b068,index:_0x4cd327};if(C.layerId+":"+C.index===_0x1fba85)return;_0x1b6997({kind:b.GPMeT,flowerId:_0x5c9b9c,petals:[C,T]})}}b.yqDzY(i,{kind:b.YvNwi,flowerIds:[...z,_]})}else i({kind:b.YvNwi,flowerIds:[_]})},[a,i,u[N(123)]]);return{deleteFlowerById:j,deleteLayerById:S,computeNewOuterRadius:M,addOuterLayer:Z,deleteOuterLayer:P,deleteSelected:G,groupSelectedFlowers:E,ungroupFlowers:k,addToGroup:I,mergeGroups:B,addStencil:O,deleteStencil:Q,handleShiftFlowerSelect:X,togglePetalSelection:(_,w,A,z)=>{const C=N;if(!z)if(b.rWOEm(b[C(198)],C(154))){if(_0x2864e8.flowerId===_0x2ad67a)return;_0x130216({kind:C(118),flowerIds:[_0x4bce16.flowerId,_0x1d445a]})}else{i({kind:C(228),flowerId:_,layerId:w,index:A});return}const T=w+":"+A;if(a.kind==="petals"&&b[C(190)](a[C(162)],_)){const q=a[C(120)]||[];if(q[C(223)](H=>H.layerId+":"+H[C(265)]===T)){const H=q.filter(D=>D[C(133)]+":"+D.index!==T);if(H.length===0)i({kind:b[C(234)],flowerId:_});else if(H.length===1)if(b.CGCpr("CbDeB","Yikeg"))i({kind:b[C(130)],flowerId:_,layerId:H[0][C(133)],index:H[0].index});else{const D=_0x22815c.layers[C(181)](R=>R.id===_0x13e4dc.id);D&&(D[C(170)]=_0x16d944.radius,D[C(262)]=_0x132ee8[C(262)])}else b[C(175)](i,{kind:"petals",flowerId:_,petals:H})}else i({kind:C(120),flowerId:_,petals:[...q,{layerId:w,index:A}]})}else if(a[C(214)]===b.dfIfX&&b[C(229)](a[C(162)],_)){const q={layerId:a[C(133)],index:a.index},Y={layerId:w,index:A};if(b.lxbZR(q[C(133)]+":"+q[C(265)],T))return;b.xTVXT(i,{kind:b.GPMeT,flowerId:_,petals:[q,Y]})}else b.sFNBc(i,{kind:"petals",flowerId:_,petals:[{layerId:w,index:A}]})}}}(function(u,r){const a=Wt,i=u();for(;;)try{if(-parseInt(a(473))/1+-parseInt(a(531))/2*(-parseInt(a(515))/3)+-parseInt(a(470))/4*(-parseInt(a(523))/5)+parseInt(a(485))/6*(parseInt(a(472))/7)+parseInt(a(499))/8+-parseInt(a(508))/9+-parseInt(a(467))/10*(-parseInt(a(503))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Yu,543883);const tb=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Ns=tb(void 0,function(){const u=Wt,r={piudQ:"(((.+)+)+)+$"};return Ns.toString().search(u(512))[u(513)]().constructor(Ns)[u(522)](r[u(488)])});function Wt(u,r){u=u-467;const a=Yu();let i=a[u];if(Wt.UEtuBt===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Wt.KhKLxw=o,Wt.rxPQjT={},Wt.UEtuBt=!0}const f=a[0],m=u+f,y=Wt.rxPQjT[m];if(y)i=y;else{const h=function(d){this.PvKGtm=d,this.UlhlDQ=[1,0,0],this.nlOyut=function(){return"newState"},this.zFuLGZ="\\w+ *\\(\\) *{\\w+ *",this.mauuMl=`['|"].+['|"];? *}`};h.prototype.ORLNRU=function(){const d=new RegExp(this.zFuLGZ+this.mauuMl),g=d.test(this.nlOyut.toString())?--this.UlhlDQ[1]:--this.UlhlDQ[0];return this.QcwTcS(g)},h.prototype.QcwTcS=function(d){return~d?this.ZIYpnO(this.PvKGtm):d},h.prototype.ZIYpnO=function(d){for(let g=0,v=this.UlhlDQ.length;g<v;g++)this.UlhlDQ.push(Math.round(Math.random())),v=this.UlhlDQ.length;return d(this.UlhlDQ[0])},new h(Wt).ORLNRU(),i=Wt.KhKLxw(i),Wt.rxPQjT[m]=i}return i}Ns();function Yu(){const u=["CgL1zfe","v2Tywuu","BgfIELO","D3PcB1u","y29Sx2rHCMTNCMvLBG","vhPPEfy","twj0EMq","Cg9ZAxrPB24","C29Tzq","qunSz0W","txf6Cxq","mta1nZC5mKThsNDuAa","EgfsAem","EuHjvMi","tK9vuNe","mZC1mda3nLzdtgPeBq","BgvHzG","EKrOqvC","mNWZFdr8mhWX","CurVC1i","nZu0mZGXoffTs2nnDG","wfPmsxy","y25YrLO","BgvHzKLKCW","kcGOlISPkYKRksSK","Dg9tDhjPBMC","y29Sx2DYzwvU","m1fcEg5Ysq","BgvHzKDYB3vW","BgvHzKDYB3vWCW","BgvHDMvZ","sfPWrM4","yufRvg4","ChvZAa","C2vHCMnO","nuPfD3L0Da","wvfmvNC","C3bSAxq","qw5ovu4","ze9RyM8","z3jlyxK","t1HLB3i","vw1Jy3q","ote1otGYCKvjA0PU","ywjZ","BgvUz3rO","CgfSzxr0zq","B2DTsfC","mtbOs2D3u2W","Aw5JBhvKzxm","BgvHzKLK","mJmXmJG2mgTIt1fqDa","ChjVAMvJDa","oty2nJC5Bu9VvNzv","ndaZndu1ywDJB1rI","tgvHzIa","vfPds2m","yKvUwu4","wg9fDLG","zMLSDgvY","Cg1OC1a","CwPQAMO","q2HSvvm","zMLUza","D0Dzv3q","A2LUza","mtjJwfPRAMW","BMfTzq","DfvtqKW"];return Yu=function(){return u},Yu()}function nb({project:u,applyUpdate:r,selection:a,setSelection:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const h=Wt,d={qjjjj:function(G,E){return G!==E},grKay:function(G,E){return G/E},AClgL:function(G,E){return G+E},HZpFn:"2|0|4|3|1",NOURq:function(G,E,k,I){return G(E,k,I)},WkXYE:function(G,E){return G(E)},xaRhC:"leaf",wzBoU:function(G,E,k){return G(E,k)},AuLJe:function(G,E){return G(E)},SBaYa:function(G,E){return G===E},lTBUW:"QhAhQ",dOkbo:h(518),TsBvP:function(G,E){return G(E)},XoEvX:h(471),wlbTF:function(G,E){return G!==E},yHIVb:function(G,E){return G===E},qDosR:function(G,E){return G===E},cnrFZ:function(G,E){return G(E)},uqmtP:"Llosq",DjeFQ:function(G,E,k){return G(E,k)},VKLLP:function(G,E){return G>E},TzixV:function(G,E){return G+E},labzZ:function(G,E,k){return G(E,k)},Umcct:function(G,E){return G<E},WbjIa:function(G,E){return G(E)},xhewS:h(475),xzmtA:function(G,E){return G(E)},tWwgS:"leafGroup",ogmHW:h(524),krAqr:function(G,E){return G(E)},tUSBL:function(G,E,k){return G(E,k)}},g=()=>{const G=h,E={DfqRK:function(A,z){return d[Wt(480)](A,z)}},k=m.w/m.h,I=520/o,B=I*k,O=-f.x/o,Q=d[G(528)](-f.y,o);let X=d[G(497)](O,B/2),K=d[G(497)](Q,d[G(528)](I,2)),_=0;for(;_<50&&(u.leaves??[]).some(A=>Math[G(532)](A.position.x-X)<5&&Math.abs(A.position.y-K)<5);){const A=d[G(519)][G(525)]("|");let z=0;for(;;){switch(A[z++]){case"0":K+=25;continue;case"1":_++;continue;case"2":X+=25;continue;case"3":K=je(K,0,y);continue;case"4":X=d[G(502)](je,X,0,y);continue}break}}const w={id:d[G(489)](It,d[G(500)]),name:"Leaf "+((u.leaves??[]).length+1),position:{x:X,y:K},rotation:135,petalType:"",colorId:u[G(534)]?.find(A=>A.id==="col_green"||A.id==="col_darkgreen")?.id??u[G(534)]?.[0]?.id??"col_green",scale:1,widthScale:1,visible:!0,locked:!1};d[G(491)](r,A=>{const z=G;E.DfqRK("dEvXI","XHLdG")?(A.leaves||(A.leaves=[]),A.leaves[z(521)](w)):(_0x3d0799(C=>{const T=z,q=(C.leafGroups??[]).find(Y=>Y.id===_0x4d9256);if(q)for(const Y of _0xe3641e)q[T(511)].includes(Y)||q[T(511)][T(521)](Y)},!0),_0x9b9e3d({kind:z(516),leafGroupId:_0x4e6024}))},!0),i({kind:d.xaRhC,leafId:w.id})},v=G=>{const E=h;d.SBaYa(d.lTBUW,E(494))?d.AuLJe(_0x187ca3,{kind:E(518),leafIds:[_0x3c5c3a]}):(d.wzBoU(r,k=>{const I=E;if(k.leaves=(k[I(518)]??[])[I(478)](B=>B.id!==G),k[I(517)]){for(const B of k[I(517)])B[I(511)]=B.leafIds[I(478)](O=>O!==G);k.leafGroups=k[I(517)][I(478)](B=>B[I(511)][I(533)]>0)}},!0),i({kind:E(471)}))},N=$.useCallback(G=>{const E=h,k={TKtJs:E(506)};if(a[E(484)]===d.dOkbo){const I=a.leafIds;if(I[E(468)](G))if(E(498)==="JZVtB"){if(!_0x3bf0c3[E(517)])return;_0x18e4d2[E(517)]=_0x3181cd[E(517)].filter(B=>B.id!==_0x2e6221)}else{const B=I.filter(O=>O!==G);d.SBaYa(B[E(533)],0)?d.TsBvP(i,{kind:d[E(477)]}):B[E(533)]===1?i({kind:d.xaRhC,leafId:B[0]}):i({kind:d.dOkbo,leafIds:B})}else d.wlbTF(E(509),"jgrLG")?i({kind:d.dOkbo,leafIds:[...I,G]}):_0x2143b2.leafIds=_0x512522[E(511)].filter(B=>B!==_0x146087)}else if(d[E(501)](a.kind,"leaf")){if(d[E(507)](a.leafId,G))return;i({kind:"leaves",leafIds:[a[E(469)],G]})}else if(E(520)==="fAeTr"){const I=k.TKtJs.split("|");let B=0;for(;;){switch(I[B++]){case"0":_0x22d2a4=CfkAKo[E(505)](_0x4b4644,_0x34f117,0,_0x39b944);continue;case"1":_0x1f823b++;continue;case"2":_0x3a7ff4+=25;continue;case"3":_0x3fa81b+=25;continue;case"4":_0x34925a=CfkAKo[E(529)](_0x3d8a1c,_0x4e5551,0,_0x404322);continue}break}}else i({kind:d[E(527)],leafIds:[G]})},[a,i]),b=d.DjeFQ($.useCallback,G=>{const E=h,k={pmhsP:d.XoEvX,mpSlf:function(Q,X){return d[Wt(510)](Q,X)},AnNUN:E(504),nCBrq:d.uqmtP,bEnYN:function(Q,X,K){return d.DjeFQ(Q,X,K)}},I=It("lg"),B=(u[E(517)]??[]).map(Q=>{const X=E;if(k.nCBrq==="TdVkd"){const K=_0xcf96bb.filter(_=>_!==_0xca2162);K[X(533)]===0?_0x481d38({kind:HyYBam[X(479)]}):K.length===1?HyYBam.mpSlf(_0x4b8cb6,{kind:HyYBam[X(526)],leafId:K[0]}):_0x247897({kind:"leaves",leafIds:K})}else{const K=Q[X(486)].match(/^ (\d+)$/);return K?k[X(476)](parseInt,K[1],10):0}}),O=d.VKLLP(B.length,0)?d[E(493)](Math.max(...B),1):1;d.labzZ(r,Q=>{const X=E;Q.leafGroups||(Q[X(517)]=[]),Q.leafGroups.push({id:I,name:" "+O,leafIds:[...G],rotation:0})},!0),i({kind:E(516),leafGroupId:I})},[u.leafGroups,r,i]),M=$.useCallback((G,E)=>{r(k=>{const I=Wt,B=(k[I(517)]??[]).find(O=>O.id===G);if(B)for(const O of E)B[I(511)][I(468)](O)||B[I(511)][I(521)](O)},!0),i({kind:"leafGroup",leafGroupId:G})},[r,i]),j=$.useCallback((G,E)=>{const k=h,I=G[0],B=G.slice(1);d[k(490)](r,O=>{const Q=k;if(!O[Q(517)])return;const X=O[Q(517)].find(K=>K.id===I);if(X){for(const K of B){const _=O[Q(517)][Q(482)](w=>w.id===K);if(_)for(const w of _.leafIds)if(d[Q(480)](d.xhewS,d.xhewS)){const A=_0x220285.w/_0x4f9bc5.h,z=OqTmay[Q(483)](520,_0x5c0aa3),C=z*A,T=-_0x5e59a4.x/_0x21eac4,q=-_0x1acb3c.y/_0x32d57b;let Y=OqTmay.ChlUS(T,C/2),H=OqTmay[Q(481)](q,z/2),D=0;for(;OqTmay.JTZfh(D,50)&&(_0x2fea9c.leaves??[])[Q(496)](U=>_0x257ef2.abs(U.position.x-Y)<5&&_0x2d79c4[Q(532)](U[Q(495)].y-H)<5);)Y+=25,H+=25,Y=_0xf98d31(Y,0,_0x19645d),H=_0x2d530b(H,0,_0x481e14),D++;const R={id:_0x304e17("leaf"),name:Q(474)+((_0x8f942c.leaves??[]).length+1),position:{x:Y,y:H},rotation:135,petalType:"",colorId:_0x2ff749[Q(534)]?.[Q(482)](U=>U.id===Q(514)||U.id===Q(492))?.id??_0x32df1d[Q(534)]?.[0]?.id??Q(514),scale:1,widthScale:1,visible:!0,locked:!1};_0x5124d6(U=>{const W=Q;U.leaves||(U.leaves=[]),U[W(518)].push(R)},!0),OqTmay.jnljk(_0x438eaf,{kind:"leaf",leafId:R.id})}else X.leafIds.includes(w)||X.leafIds.push(w)}for(const K of E)X.leafIds[Q(468)](K)||X[Q(511)][Q(521)](K);O[Q(517)]=O[Q(517)][Q(478)](K=>!B.includes(K.id))}},!0),d.xzmtA(i,{kind:d.tWwgS,leafGroupId:I})},[r,i]),S=d.labzZ($.useCallback,G=>{const E=h;r(k=>{const I=Wt;if(d[I(535)]!=="YQLVw")_0x43f497({kind:"leaves",leafIds:_0x4eb15a});else{if(!k.leafGroups)return;k.leafGroups=k.leafGroups[I(478)](B=>B.id!==G)}},!0),d.krAqr(i,{kind:d[E(477)]})},[r,i]),Z=$.useCallback((G,E)=>{const k=h;d[k(487)](r,I=>{const B=k,O=(I.leafGroups??[])[B(482)](Q=>Q.id===E);O&&!O[B(511)].includes(G)&&O.leafIds.push(G)},!0)},[r]),P=d[h(487)]($.useCallback,G=>{const E=h;d[E(487)](r,k=>{const I=E;if(k.leafGroups){for(const B of k.leafGroups)B.leafIds=B[I(511)].filter(O=>O!==G);k[I(517)]=k.leafGroups[I(478)](B=>B[I(511)].length>0)}},!0)},[r]);return{addLeaf:g,deleteLeafById:v,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:S,addLeafToGroup:Z,removeLeafFromGroup:P,addLeavesToGroup:M,mergeLeafGroups:j}}(function(u,r){const a=qn,i=u();for(;;)try{if(-parseInt(a(204))/1*(parseInt(a(156))/2)+parseInt(a(182))/3+-parseInt(a(198))/4*(parseInt(a(174))/5)+parseInt(a(216))/6*(-parseInt(a(181))/7)+-parseInt(a(209))/8*(-parseInt(a(225))/9)+parseInt(a(160))/10*(-parseInt(a(172))/11)+parseInt(a(202))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Uu,587059);const lb=(function(){const u={NIhgx:function(a,i){return a!==i}};let r=!0;return function(a,i){const o=qn;if(u[o(213)](o(151),"LAAUP")){const f=r?function(){const m=o;if(i){const y=i[m(221)](a,arguments);return i=null,y}}:function(){};return r=!1,f}else _0x5bc886=_0x40b42e}})(),As=lb(void 0,function(){const u=qn,r={CpPUs:u(208)};return As.toString().search(r.CpPUs).toString().constructor(As).search("(((.+)+)+)+$")});As();function Uu(){const u=["tvHXtvy","otK0ndyWvMLvrLjr","zMXVD2vYCW","C0zTy1a","DxbpueK","wLPcDfO","D3PZrvq","BgvUz3rO","ody4DfLQANn0","mZm4mta2sNr0B2rn","rxnvvMe","zgvyAfe","twnIt24","5y2k44gp44gz","sKnJAgO","r3DOy2K","z1P2s3O","zMXVD2vYrgLHBwv0zxi","CMzkvei","z2XVA2e","yMfZzurPyw1LDgvY","qNvbDLG","C2L6zvn0zxbnBq","sw5Uzxi","DgndzwO","nfrwuKjHDW","Bfvpvhq","zvLwwKu","refzt0G","mZaWoduWnJHTDgDbCK8","ueXOAem","mvnIuNbyta","CNj1CMC","sxrxwMm","y29SB3jjza","kcGOlISPkYKRksSK","mZG0mZG5nLrZEfH4qq","tgf5zxiG","ChvZAa","zgLHBwv0zxi","tKLOz3G","tfjJAuS","v29fCwW","ntmZmJjssMPRvui","y29Sx3DOAxrL","CgXHy2vTzw50tw9Kzq","5lI444gK44g+44g/","rvvyzum","yxbWBhK","ze9VuhK","tgf5zxi","zKTerhC","ouDoy0fuEq","twLKzgXL","CM91BMq","rKzYEw8","CNzVuxa","ywjZ","vLPowNG","44or44o844oR","mty3mteWnKLuuhbTEG","C2L6zu1Vzgu","Dw5PzM9YBq","CgfSzxr0zq","mJmWrKTnBfHZ","t3v0zxiR","Cg9ZAxrPB24","tfnWDfa","ruzMvgC","vLvTqKW","t3v0zxi","C2nHBgu","zMLUza","uLbVDuW","B3jKzxi","Bgf5zxjdB3vUDa","mtGWmJaYB010vhbM"];return Uu=function(){return u},Uu()}function qn(u,r){u=u-149;const a=Uu();let i=a[u];if(qn.gjJXFq===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};qn.QjOsHD=o,qn.NVfJqm={},qn.gjJXFq=!0}const f=a[0],m=u+f,y=qn.NVfJqm[m];if(y)i=y;else{const h=function(d){this.gwPHfb=d,this.nJJeNO=[1,0,0],this.sJRSFo=function(){return"newState"},this.oBoRaO="\\w+ *\\(\\) *{\\w+ *",this.SONZWX=`['|"].+['|"];? *}`};h.prototype.kzTyIV=function(){const d=new RegExp(this.oBoRaO+this.SONZWX),g=d.test(this.sJRSFo.toString())?--this.nJJeNO[1]:--this.nJJeNO[0];return this.BEBQYi(g)},h.prototype.BEBQYi=function(d){return~d?this.nclbFw(this.gwPHfb):d},h.prototype.nclbFw=function(d){for(let g=0,v=this.nJJeNO.length;g<v;g++)this.nJJeNO.push(Math.round(Math.random())),v=this.nJJeNO.length;return d(this.nJJeNO[0])},new h(qn).kzTyIV(),i=qn.QjOsHD(i),qn.NVfJqm[m]=i}return i}function ab({project:u,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:o,pan:f,stageSize:m,CANVAS_MAX_SVG:y}){const h=qn,d={WoEql:function(S,Z){return S===Z},sFmcP:"",BuAvX:function(S,Z){return S!==Z},DAYOH:h(169),LUnoa:function(S,Z,P,G){return S(Z,P,G)},fKDDw:function(S,Z){return S/Z},tcCej:function(S,Z){return S(Z)},yjkgt:function(S,Z,P,G,E){return S(Z,P,G,E)},rFVkl:"zfUFG",VOJhu:function(S,Z){return S*Z},EUXeC:h(196),VZNZx:h(166),gZvKz:h(161),VUmBL:function(S,Z){return S<Z},McbOn:h(164),rrurg:h(178),NCUzJ:function(S,Z){return S===Z},itGPt:function(S,Z){return S*Z},eNbRx:function(S,Z,P,G){return S(Z,P,G)},TUwMk:function(S,Z){return S+Z},upOPI:function(S,Z){return S*Z},rfJTB:function(S,Z){return S-Z},MXqMV:function(S,Z){return S>Z},gloka:function(S,Z){return S*Z},ItWZc:function(S,Z){return S-Z},dOoPy:function(S,Z){return S/Z},hscFL:function(S,Z){return S/Z},HUtyh:function(S,Z){return S===Z},lUOTt:function(S,Z){return S===Z},LRciK:"lay",wzsET:h(217),deXhQ:function(S,Z){return S!==Z},eYVZE:function(S,Z){return S+Z},rvoQp:function(S,Z){return S/Z},QbJfS:function(S,Z){return S/Z},PLhhC:function(S,Z){return S<Z},XrHyS:function(S,Z){return S+Z},Gwhci:function(S,Z){return S===Z},wgjDv:function(S,Z,P){return S(Z,P)},cyZbe:function(S,Z){return S(Z)},JCchj:h(158)},[g,v]=d.cyZbe($.useState,!1),[N,b]=$.useState({placementMode:"",fabricSquareSize:20,baseDiameter:u[h(193)],layerCount:1,petalCount:6,petalType:h(219),sizeMode:d[h(187)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:g,setShowAddFlowerDialog:v,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const S=h;{const Z=u.fabricSquareSize,P=u[S(193)];b(G=>{const E=S,k={...G,fabricSquareSize:Z,baseDiameter:P};return d.WoEql(k.placementMode,d[E(176)])?d.BuAvX(d[E(201)],"RPouL")?_0x2f351f=_0x1b5f70:k[E(190)]=d.LUnoa(Vl,P,Z,{layerCount:k.layerCount,sizeMode:k[E(157)],sizeStepMm:k.sizeStepMm}).diameter:k[E(190)]=ar(Z,k.layerCount,k[E(157)],k[E(195)]),k}),d[S(197)](v,!0)}},confirmAddFlower:()=>{const S=h;if(d[S(194)]("zfUFG",d.rFVkl))_0x5c2c13.flowerDiameter=_0x3ab661(_0x56de28,_0x3bcceb,{layerCount:_0xaa733[S(171)],sizeMode:_0x3c8b36[S(157)],sizeStepMm:_0x13cc41.sizeStepMm}).diameter;else{const{placementMode:Z,layerCount:P,petalCount:G,petalType:E,sizeMode:k,sizeStepMm:I}=N,B=N.fabricSquareSize,{length:O}=Ht(B),Q=.28,X=d[S(224)](Math[S(150)](d.VOJhu(d.VOJhu(O,Q),10)),10),K=[],_=["Center",d[S(220)],S(149),d[S(154)],d[S(189)]];let w=X,A=0;for(let oe=0;d[S(165)](oe,P);oe++)if(d[S(185)]===d[S(205)]){const he={..._0x4fe37a,fabricSquareSize:_0x4292c5,baseDiameter:_0x3a7231};return d[S(215)](he[S(218)],"")?he.flowerDiameter=_0x213f63(_0xc2fba,_0x535eb2,{layerCount:he[S(171)],sizeMode:he[S(157)],sizeStepMm:he.sizeStepMm}).diameter:he[S(190)]=d.yjkgt(_0x47b3f5,_0x9c1793,he[S(171)],he[S(157)],he.sizeStepMm),he}else{const he=oe,ze=1;let de;if(d.NCUzJ(k,S(158)))de=ze;else{const at=d.fKDDw(I,B);de=je(ze+d.itGPt(he,at),.3,3)}let Ne;if(oe===0)Ne=X;else{const at=k==="gradual"?d.eNbRx(je,d.TUwMk(1,d[S(177)](d[S(191)](oe,1),I)/B),.3,3):1,bt=O*at;let Mt;if(Z===S(186)){const ot=d.fKDDw(70*Math.PI,180),Yt=d[S(173)](P,1)?d[S(192)](d[S(224)](oe,d[S(206)](P,1)),ot):0,cn=Math.cos(Yt);Mt=d.gloka(d.itGPt(bt,d[S(222)](30,100)),cn)}else Mt=d.dOoPy(bt,3);w=w+Mt,Ne=d.hscFL(Math[S(150)](w*10),10)}const $e=oe===0?0:d.LUnoa($n,G,A,G);A=$e;let et;if(P===1)et=S(223);else if(P<=5){const at=d.HUtyh(P,2)?[0,3]:d.HUtyh(P,3)?[0,1,3]:d[S(199)](P,4)?[0,1,2,3]:[0,1,2,3,4];et=_[at[oe]]??"Layer "+(oe+1)}else et=S(210)+d.TUwMk(oe,1);K.push({id:d.tcCej(It,d[S(214)]),name:et,order:P-oe,petalType:E,petalCount:G,radius:Ne,scale:de,widthScale:ui(G),offsetAngle:$e,colorId:N[S(207)]||(u[S(159)]?.[0]?.id??d[S(179)]),visible:!0,locked:!1})}K.reverse();const z=[...K].sort((oe,he)=>oe.order-he[S(170)]),C=Z===S(186)?Vl(N.baseDiameter,B,{layerCount:P,sizeMode:k,sizeStepMm:I})[S(212)]:ar(B,P,k,I);Ku(z,B,N[S(190)]||C);for(const oe of z)if(d[S(184)]("EsUVa",S(183)))_0x3d2dc5[S(175)].push(_0x1252f4);else{const he=K[S(168)](ze=>ze.id===oe.id);he&&(he.radius=oe.radius,he[S(167)]=oe[S(167)])}const T=d[S(224)](m.w,m.h),q=520/o,Y=d.gloka(q,T),H=d[S(222)](-f.x,o),D=d[S(222)](-f.y,o);let R=d[S(200)](H,d[S(152)](Y,2)),U=D+d.QbJfS(q,2);const W=25;let le=0;for(;d[S(203)](le,50)&&u.flowers.some(oe=>Math[S(153)](oe[S(162)].x-R)<5&&Math.abs(oe[S(162)].y-U)<5);){const oe="4|0|2|3|1".split("|");let he=0;for(;;){switch(oe[he++]){case"0":U+=W;continue;case"1":le++;continue;case"2":R=je(R,0,y);continue;case"3":U=je(U,0,y);continue;case"4":R+=W;continue}break}}const xe=N[S(190)]||C,fe={id:It("flw"),name:"Flower "+d.XrHyS(u.flowers[S(180)],1),position:{x:R,y:U},flowerDiameter:xe,rotation:0,layers:K,center:{type:S(155),size:6,color:"col_white"},fabricSquareSize:B,placementMode:Z,baseDiameter:d[S(188)](Z,d[S(176)])?N.baseDiameter:d[S(197)](tr,xe)};d.wgjDv(r,oe=>{const he=S;oe.flowers[he(211)](fe)},!0),a({kind:"flower",flowerId:fe.id}),i(oe=>({...oe,[fe.id]:!0})),v(!1)}}}}(function(u,r){const a=Zn,i=u();for(;;)try{if(-parseInt(a(172))/1*(-parseInt(a(176))/2)+-parseInt(a(135))/3*(parseInt(a(142))/4)+-parseInt(a(128))/5*(-parseInt(a(156))/6)+-parseInt(a(138))/7+parseInt(a(154))/8+-parseInt(a(126))/9*(parseInt(a(158))/10)+parseInt(a(175))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Zu,879386);const ib=(function(){let u=!0;return function(r,a){const i=u?function(){if(a){const o=a.apply(r,arguments);return a=null,o}}:function(){};return u=!1,i}})(),Ts=ib(void 0,function(){const u=Zn,r={jqNPF:u(174)};return Ts[u(155)]()[u(132)]("(((.+)+)+)+$")[u(155)]().constructor(Ts).search(r[u(147)])});Ts();function rb(u,r){const a=Zn,i={XVXpK:"flower",QvDQR:function(j,S){return j===S},caTMe:"layer",zcfhR:function(j,S){return j===S},rpPnD:a(143),FQDgX:a(148),FTyFV:a(145),AmbqF:function(j,S){return j===S},RUTvZ:function(j,S){return j===S},dTkkD:"petal",rtpPV:function(j,S){return j===S},TeZRW:"VRBip",wNRPI:a(140),fDCkm:"flowers",yYAIv:function(j,S){return j===S},uTIWq:function(j,S){return j===S},pzDNQ:function(j,S){return j===S},BIZOG:function(j,S,Z){return j(S,Z)},BCsur:function(j,S,Z){return j(S,Z)}},o=i.BIZOG($.useMemo,()=>{const j=a;return r.kind===i[j(161)]||i.QvDQR(r.kind,i.caTMe)||r[j(144)]===j(166)||i[j(146)](r.kind,i[j(129)])?u.flowers.find(S=>S.id===r[j(127)])??null:null},[u.flowers,r]),f=i[a(167)]($.useMemo,()=>{const j=a;if(i[j(162)](r.kind,"flowers"))return u[j(173)][j(151)](S=>r[j(136)].includes(S.id));if(i[j(162)](r[j(144)],j(163))){const S=(u[j(168)]??[]).find(Z=>Z.id===r.groupId);if(S)return u.flowers.filter(Z=>S[j(136)].includes(Z.id))}return[]},[u[a(173)],u[a(168)],r]),m=$.useMemo(()=>{const j=a;return r.kind===j(133)?(u[j(130)]??[]).find(S=>S.id===r[j(131)])??null:null},[u.leaves,r]),y=i.BCsur($.useMemo,()=>{const j=a;return r.kind===i.FQDgX?(u[j(150)]??[]).find(S=>S.id===r.leafGroupId)??null:null},[u.leafGroups,r]),h=i[a(167)]($.useMemo,()=>{const j=a;return i[j(165)]!=="aXrCB"?_0x18b550.toString()[j(132)](rFmHDp.zQqqz).toString()[j(152)](_0x436ae2).search(rFmHDp.zQqqz):o&&(i.AmbqF(r.kind,i[j(171)])||i.RUTvZ(r[j(144)],i[j(164)]))?o[j(139)][j(153)](S=>S.id===r.layerId)??null:null},[o,r]),d=r[a(144)]===i.dTkkD?r.index:null,g=r[a(144)]===a(143)?r[a(143)]:[],v=r[a(144)]===a(169)?(u[a(170)]??[]).find(j=>j.id===r[a(137)])??null:null,N=i.RUTvZ(r[a(144)],"flower")||i[a(157)](r.kind,"layer")||r[a(144)]===i.dTkkD||r.kind==="petals"?r[a(127)]:null,b=i[a(167)]($.useMemo,()=>{const j=a;if(i[j(134)](i.TeZRW,i.wNRPI))return(_0xb9bc93.leaves??[])[j(153)](S=>S.id===_0x288b0c[j(131)])??null;if(r.kind===j(163)){const S=(u[j(168)]??[])[j(153)](Z=>Z.id===r[j(141)]);if(S)return new Set(S[j(136)])}if(r[j(144)]===i[j(159)])return new Set(r.flowerIds);if(i.yYAIv(r.kind,"flower")||r[j(144)]==="layer"||r[j(144)]===i[j(164)]||i[j(149)](r.kind,"petals")){const S=ya(u,r[j(127)]);if(S)return r[j(144)]===i[j(161)]?new Set(S[j(136)].filter(Z=>Z!==r[j(127)])):new Set(S.flowerIds)}return new Set},[r,u]),M=i[a(125)]($.useMemo,()=>{const j=a;if(i[j(157)](r[j(144)],"leafGroup")){const S=(u.leafGroups??[])[j(153)](Z=>Z.id===r.leafGroupId);if(S)return new Set(S[j(160)])}if(r[j(144)]==="leaf"){const S=ri(u,r.leafId);if(S)return new Set(S.leafIds.filter(Z=>Z!==r[j(131)]))}return new Set},[r,u]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:m,selectedLeafGroup:y,selectedLayer:h,selectedPetalIndex:d,selectedPetals:g,selectedStencil:v,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:M}}function Zn(u,r){u=u-125;const a=Zu();let i=a[u];if(Zn.MQLcJo===void 0){var o=function(h){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let g="",v="",N=g+o;for(let b=0,M,j,S=0;j=h.charAt(S++);~j&&(M=b%4?M*64+j:j,b++%4)?g+=N.charCodeAt(S+10)-10!==0?String.fromCharCode(255&M>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,M=g.length;b<M;b++)v+="%"+("00"+g.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(v)};Zn.URZGVW=o,Zn.IxtyrS={},Zn.MQLcJo=!0}const f=a[0],m=u+f,y=Zn.IxtyrS[m];if(y)i=y;else{const h=function(d){this.QURxnR=d,this.GXMvCh=[1,0,0],this.ApgZgu=function(){return"newState"},this.iSKAXt="\\w+ *\\(\\) *{\\w+ *",this.fWJWAb=`['|"].+['|"];? *}`};h.prototype.uKJjVC=function(){const d=new RegExp(this.iSKAXt+this.fWJWAb),g=d.test(this.ApgZgu.toString())?--this.GXMvCh[1]:--this.GXMvCh[0];return this.lEkYvV(g)},h.prototype.lEkYvV=function(d){return~d?this.lnlLoB(this.QURxnR):d},h.prototype.lnlLoB=function(d){for(let g=0,v=this.GXMvCh.length;g<v;g++)this.GXMvCh.push(Math.round(Math.random())),v=this.GXMvCh.length;return d(this.GXMvCh[0])},new h(Zn).uKJjVC(),i=Zn.URZGVW(i),Zn.IxtyrS[m]=i}return i}function Zu(){const u=["Bgf5zxjZ","zgnZzM0","z3jVDxbjza","mZq0odu4ogXbwvn4yG","Cgv0ywXZ","A2LUza","yvHYq0i","EMnMAfi","ANfouey","BgvHzKDYB3vW","Dvrjv3e","BgvHzKDYB3vWCW","zMLSDgvY","y29UC3rYDwn0B3i","zMLUza","mZiXotu5mK1jDeHQBq","Dg9tDhjPBMC","mJG3mtq4renVCxHv","ChPetLe","mtb0teTizuS","zKrdA20","BgvHzKLKCW","wfzyCeS","uxzeuvi","z3jVDxa","zfrRA0q","rLr5rLy","Cgv0ywW","qKLAt0C","z3jVDxbZ","C3rLBMnPBa","C3rLBMnPBhm","y2futwu","muztqMHvwq","zMXVD2vYCW","kcGOlISPkYKRksSK","mJq1mdi5mJLLy1fWrfy","mtK4nta2nLbZvMXnCa","qKnZDxi","mtaWnde3mJnxBwXQz0y","zMXVD2vYswq","ntv2D29NuNe","CNbqBKq","BgvHDMvZ","BgvHzKLK","C2vHCMnO","BgvHzG","CNrWufy","m1bTwuvAwG","zMXVD2vYswrZ","C3rLBMnPBeLK","ota0mtC1m0DxAML2yq"];return Zu=function(){return u},Zu()}function ub(u){const{project:r,selection:a,setSelection:i,applyUpdate:o}=u,f=$.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:m,containerRef:y,onDividerPointerDown:h,onDividerDoubleClick:d,isDragging:g,isDesktop:v}=Fm(),N=$.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,M]=$.useState({});$.useEffect(()=>{try{const Se=localStorage.getItem(N);if(Se){const Ye=JSON.parse(Se);if(Ye&&typeof Ye=="object"){M(Ye);return}}}catch{}const me=r.flowers?.[0];me&&M({[me.id]:!0})},[N]),$.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),$.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;M(Se=>Se?.[me]?Se:{...Se,[me]:!0})}a.kind==="flowers"&&M(me=>{const Se={...me};for(const Ye of a.flowerIds)Se[Ye]=!0;return Se})},[a]);const j=me=>b?.[me]??!1,S=me=>M(Se=>({...Se,[me]:!(Se?.[me]??!1)})),Z=$.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[P,G]=$.useState({});$.useEffect(()=>{try{const Se=localStorage.getItem(Z);if(Se){const Ye=JSON.parse(Se);if(Ye&&typeof Ye=="object"){G(Ye);return}}}catch{}const me=r.groups??[];if(me.length>0){const Se={};for(const Ye of me)Se[Ye.id]=!0;G(Se)}},[Z]),$.useEffect(()=>{try{localStorage.setItem(Z,JSON.stringify(P))}catch{}},[Z,P]);const E=me=>P?.[me]??!0,k=me=>G(Se=>({...Se,[me]:!(Se?.[me]??!0)})),I=$.useRef({flowerId:null,timer:null}),B=me=>{const Se=I.current.timer;Se&&window.clearTimeout(Se),I.current.flowerId=me,I.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),M(Ye=>({...Ye,[me]:!0})),I.current.timer=null,I.current.flowerId=null},200)},O=me=>{const Se=I.current.timer;Se&&I.current.flowerId===me&&window.clearTimeout(Se),I.current.timer=null,I.current.flowerId=null,i({kind:"flower",flowerId:me}),S(me)},Q=$.useRef(null),[X,K]=$.useState({w:520,h:520});$.useEffect(()=>{const me=Q.current;if(!me)return;const Se=new ResizeObserver(Ye=>{for(const Lt of Ye){const{width:vt,height:Vt}=Lt.contentRect;vt>0&&Vt>0&&K({w:vt,h:Vt})}});return Se.observe(me),()=>Se.disconnect()},[]);const _=me=>{const Se=Q.current;if(!Se)return{x:0,y:0};const Ye=Se.createSVGPoint();Ye.x=me.clientX,Ye.y=me.clientY;const Lt=Se.getScreenCTM();if(!Lt)return{x:0,y:0};const vt=Ye.matrixTransform(Lt.inverse());return{x:vt.x,y:vt.y}},w=500*un,A=-300*un,z=800*un,C=$.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,q]=$.useState(6),[Y,H]=$.useState(C[6]),D=$.useCallback(me=>{q(Se=>{const Ye=typeof me=="function"?me(Se):me;return H(C[Ye]),Ye})},[C]),R=$.useCallback(me=>{const Se=je(me,C[0],C[C.length-1]);H(Se);let Ye=0,Lt=Math.abs(C[0]-Se);for(let vt=1;vt<C.length;vt++){const Vt=Math.abs(C[vt]-Se);Vt<Lt&&(Ye=vt,Lt=Vt)}q(Ye)},[C]),[U,W]=$.useState({x:0,y:0}),[le,xe]=$.useState(!0),[fe,oe]=$.useState(!1),he=$.useRef(null),ze=$.useMemo(()=>{const me=X.w/X.h,Se=520,Ye=Se*me;return(Lt,vt=Y)=>{const Vt=je(Lt.x,-(z*vt-Ye),-A*vt),wl=je(Lt.y,-(z*vt-Se),-A*vt);return{x:Vt,y:wl}}},[X,Y,A,z]),de=$.useMemo(()=>ze(U),[U,ze]),Ne=$.useCallback(me=>W(me),[]),$e=$.useMemo(()=>{const me=X.w/X.h,Se=520,Ye=Se*me,Lt=-de.x/Y,vt=-de.y/Y;return`${Lt} ${vt} ${Ye/Y} ${Se/Y}`},[Y,de,X]),{addLeaf:et,deleteLeafById:at,handleShiftLeafSelect:bt,groupSelectedLeaves:Mt,ungroupLeaves:Dt,addLeafToGroup:ot,removeLeafFromGroup:Yt,addLeavesToGroup:cn,mergeLeafGroups:Xn}=nb({project:r,applyUpdate:o,selection:a,setSelection:i,zoom:Y,pan:de,stageSize:X,CANVAS_MAX_SVG:w}),{showAddFlowerDialog:Jn,setShowAddFlowerDialog:Je,addFlowerOpts:yn,setAddFlowerOpts:Sl,addFlower:Ql,confirmAddFlower:Rn}=ab({project:r,applyUpdate:o,setSelection:i,setExpandedFlowers:M,zoom:Y,pan:de,stageSize:X,CANVAS_MAX_SVG:w}),{selectedFlower:_a,selectedFlowers:kn,selectedLeaf:ci,selectedLeafGroup:Pl,selectedLayer:tl,selectedPetalIndex:Bt,selectedPetals:We,selectedStencil:se,selectedFlowerId:Ge,groupHighlightedFlowerIds:Be,leafGroupHighlightedLeafIds:Ce}=rb(r,a),{deleteFlowerById:ye,deleteLayerById:Ae,addOuterLayer:Me,deleteOuterLayer:ve,deleteSelected:Pe,groupSelectedFlowers:Ie,ungroupFlowers:Ze,addToGroup:Ve,mergeGroups:Le,addStencil:gt,deleteStencil:Fe,handleShiftFlowerSelect:Nt,togglePetalSelection:tt}=eb({project:r,applyUpdate:o,selection:a,setSelection:i,setExpandedFlowers:M,setExpandedGroups:G,zoom:Y,pan:de,stageSize:X,CANVAS_MAX_SVG:w,deleteLeafById:at,ungroupLeaves:Dt}),pe=am({project:r,selection:a,setSelection:i,applyUpdate:o,dragRef:u.dragRef,zoom:Y,pan:de,setPan:Ne,stageRef:Q,clientToSvgPoint:_,togglePetalSelection:tt}),[dt,pn]=$.useState(0),sn=a.kind,Fl=sn==="flower"?a.flowerId:null,_n=sn==="flowers"?a.flowerIds?.join(","):null,At=sn==="layer"||sn==="petal"?a.layerId:null,Ut=sn==="petal"?a.index:null,Cl=sn==="petals"?a.petals?.length:null;$.useEffect(()=>{sn!=="project"&&pn(Date.now())},[sn,Fl,_n,At,Ut,Cl]),$.useEffect(()=>{if(!he.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const Se=he.current.querySelector(`[data-flower-id="${me}"]`);Se&&Se.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const si=$.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[dt]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.left}%`}:void 0,children:s.jsx(rm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:M,isExpanded:j,toggleExpanded:S,scheduleFlowerRowClick:B,handleFlowerRowDoubleClick:O,addFlower:Ql,deleteSelected:Pe,addOuterLayer:Me,deleteOuterLayer:ve,deleteFlowerById:ye,deleteLayerById:Ae,onCopyFlower:u.onCopyFlower,onPasteFlower:u.onPasteFlower,onArrangeFlower:u.onArrangeFlower,canPasteFlower:u.canPasteFlower,treeScrollRef:he,groups:r.groups??[],expandedGroups:P,isGroupExpanded:E,toggleGroupExpanded:k,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:Ze,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectLeafGroup:me=>i({kind:"leafGroup",leafGroupId:me}),onAddLeaf:et,onDeleteLeaf:at})}),s.jsx(Hd,{side:"left",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Tm,{project:r,selection:a,setSelection:i,applyUpdate:o,paletteMap:f,selectedFlowerId:Ge,zoom:Y,setZoom:R,zoomLevel:T,setZoomLevel:D,ZOOM_LEVELS:C,pan:de,panRaw:U,setPan:Ne,showGrid:le,setShowGrid:xe,showHelp:fe,setShowHelp:oe,stageRef:Q,viewBox:$e,dashSyncToken:dt,dashDelay:si,beginPan:pe.beginPan,updatePan:pe.updatePan,endPan:pe.endPan,beginMarquee:pe.beginMarquee,updateMarquee:pe.updateMarquee,endMarquee:pe.endMarquee,marqueeRef:pe.marqueeRef,marqueeRect:pe.marqueeRect,beginFlowerDrag:pe.beginFlowerDrag,updateFlowerDrag:pe.updateFlowerDrag,endFlowerDrag:pe.endFlowerDrag,scaleDragRef:pe.scaleDragRef,beginScaleDrag:pe.beginScaleDrag,updateScaleDrag:pe.updateScaleDrag,endScaleDrag:pe.endScaleDrag,rotationDragRef:pe.rotationDragRef,beginRotationDrag:pe.beginRotationDrag,updateRotationDrag:pe.updateRotationDrag,endRotationDrag:pe.endRotationDrag,widthScaleDragRef:pe.widthScaleDragRef,beginWidthScaleDrag:pe.beginWidthScaleDrag,updateWidthScaleDrag:pe.updateWidthScaleDrag,endWidthScaleDrag:pe.endWidthScaleDrag,radiusDragRef:pe.radiusDragRef,beginRadiusDrag:pe.beginRadiusDrag,updateRadiusDrag:pe.updateRadiusDrag,endRadiusDrag:pe.endRadiusDrag,togglePetalSelection:tt,clientToSvgPoint:_,dragRef:u.dragRef,onUndo:u.onUndo,onRedo:u.onRedo,canUndo:u.canUndo,canRedo:u.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:gt,onDeleteStencil:Fe,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:Nt,groupHighlightedFlowerIds:Be,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Ce,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onShiftSelectLeaf:bt})}),s.jsx(Hd,{side:"right",onPointerDown:h,onDoubleClick:d,isDragging:g}),s.jsx("div",{className:"min-w-0 shrink-0",style:v?{width:`${m.right}%`}:void 0,children:s.jsx(Xm,{project:r,selection:a,applyUpdate:o,selectedFlower:_a,selectedFlowers:kn,selectedLayer:tl,selectedPetalIndex:Bt,selectedPetals:We,selectedStencil:se,onDeleteStencil:Fe,groups:r.groups??[],onGroupFlowers:Ie,onUngroupFlowers:Ze,onAddToGroup:Ve,onMergeGroups:Le,selectedLeaf:ci,selectedLeafGroup:Pl,leafGroups:r.leafGroups??[],onDeleteLeaf:at,onGroupLeaves:Mt,onUngroupLeaves:Dt,onAddLeafToGroup:ot,onRemoveLeafFromGroup:Yt,onAddLeavesToGroup:cn,onMergeLeafGroups:Xn})})]}),Jn&&s.jsx(Vm,{palette:r.palette,addFlowerOpts:yn,setAddFlowerOpts:Sl,onConfirm:Rn,onCancel:()=>Je(!1)}),fe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,Se])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),s.jsx("td",{className:"py-2 text-neutral-700",children:Se})]},me))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function cb({cg:u}){const[r,a]=$.useState("w"),[i,o]=$.useState(""),f=u.totalAreaCm2,m=parseFloat(i),h=i!==""&&Number.isFinite(m)&&m>0?Math.round(f/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:u.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:u.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:u.sizes.map(d=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[u.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[u.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:h!=null?`${h}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:d=>o(d.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function sb(u){const{recipe:r}=u;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:u.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(cb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function xb(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function ob(u){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:u.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function fb(u){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>u.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function db(){const[u,r]=$.useState("home"),[a,i]=$.useState([]),[o,f]=$.useState(null),[m,y]=$.useState({kind:"project"}),[h,d]=$.useState([]),[g,v]=$.useState(0),N=$.useRef(o),b=$.useRef(h),M=$.useRef(g);$.useEffect(()=>{N.current=o},[o]),$.useEffect(()=>{b.current=h},[h]),$.useEffect(()=>{M.current=g},[g]);const j=$.useRef(null),S=$.useRef(null),Z=$.useRef(null),P=$.useRef(null),[G,E]=$.useState(null);$.useEffect(()=>{const H=G?window.setTimeout(()=>E(null),2200):null;return()=>{H&&window.clearTimeout(H)}},[G]),$.useEffect(()=>{i(lr())},[]);function k(H){const D=JSON.stringify(H);d([D]),v(0)}function I(H,D=!0){if(!D){f(ze=>{if(!ze)return ze;const de=Wl(ze);return H(de),de.updatedAt=ju(),de});return}const R=N.current;if(!R)return;const U=Wl(R);H(U),U.updatedAt=ju(),f(U);const W=b.current,le=M.current;if(W.length===0){k(U);return}const xe=JSON.stringify(U);let oe=[...W.slice(0,le+1),xe];const he=50;oe.length>he&&(oe=oe.slice(oe.length-he)),d(oe),v(oe.length-1)}function B(){v(H=>{if(H<=0)return H;const D=H-1,R=b.current[D];return R&&f(va(JSON.parse(R))),E("Undo"),D})}function O(){v(H=>{if(H>=b.current.length-1)return H;const D=H+1,R=b.current[D];return R&&f(va(JSON.parse(R))),E("Redo"),D})}function Q(){if(!o)return;const H=I2(o);i(lr()),E(H?"Saved":" ")}function X(){if(!o)return;const H=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),D=URL.createObjectURL(H),R=document.createElement("a");R.href=D,R.download=`${o.title||"tsumami"}.json`,R.click(),URL.revokeObjectURL(D),E("JSON exported")}function K(H){const D=new FileReader;D.onload=()=>{try{const R=JSON.parse(String(D.result??""));if(!R||typeof R!="object"||!Array.isArray(R.flowers))throw new Error("Invalid JSON");const U=va(R);f(U),y({kind:"project"}),k(U),r("editor"),E("Imported")}catch{E("Import failed")}},D.readAsText(H)}function _(H){const D=va(H);f(D),y({kind:"project"}),k(D),r("editor")}function w(H){return H&&(H.kind==="flower"||H.kind==="layer"||H.kind==="petal")?H.flowerId:null}function A(){if(!o)return;const H=w(m);if(!H)return;const D=o.flowers.find(R=>R.id===H);D&&(S.current=Wl(D),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:D},null,2)).catch(()=>{}),E("Flower copied"))}function z(){if(!o||m.kind!=="leaf")return;const H=(o.leaves??[]).find(D=>D.id===m.leafId);H&&(Z.current=Wl(H),E("Leaf copied"))}function C(){if(!o)return;const H=S.current;if(!H){E("Nothing to paste");return}const D=G2(H,{x:12+Math.random()*10,y:12+Math.random()*10});I(R=>{R.flowers.push(D)},!0),y({kind:"flower",flowerId:D.id}),E("Flower pasted")}function T(){if(!o)return;const H=Z.current;if(!H)return;const D=It("leaf"),R={...Wl(H),id:D,name:H.name+" (copy)",position:{x:H.position.x+30,y:H.position.y+30}};I(U=>{U.leaves||(U.leaves=[]),U.leaves.push(R)},!0),y({kind:"leaf",leafId:R.id}),E("Leaf pasted")}function q(H){if(!o)return;const D=w(m);D&&(I(R=>{const U=R.flowers.findIndex(fe=>fe.id===D);if(U<0)return;const W=R.flowers,le=W[U];if(!le)return;if(W.splice(U,1),H==="front"){W.push(le);return}if(H==="back"){W.unshift(le);return}if(H==="forward"){if(U>=W.length){W.push(le);return}W.splice(U+1,0,le);return}const xe=je(U-1,0,W.length);W.splice(xe,0,le)},!0),E(H==="front"?"Brought to front":H==="back"?"Sent to back":H==="forward"?"Moved forward":"Moved backward"))}$.useEffect(()=>{function H(R){const U=R;if(!U)return!1;const W=String(U.tagName||"").toLowerCase();return W==="input"||W==="textarea"||W==="select"||!!U.isContentEditable}function D(R){if(!(H(R.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?R.metaKey:R.ctrlKey))){if(u==="editor"){if(R.key.toLowerCase()==="c"){R.preventDefault(),m.kind==="leaf"?z():A();return}if(R.key.toLowerCase()==="v"){R.preventDefault(),Z.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!S.current)?T():C();return}}R.key.toLowerCase()==="z"&&(R.preventDefault(),R.shiftKey?O():B()),R.key.toLowerCase()==="s"&&(R.preventDefault(),Q())}}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[o,h,g,m,u]);const Y=$.useMemo(()=>o?U2(o):null,[o]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(W2,{view:u,onNavigate:r,project:o,onSave:Q,onLoad:()=>r("home"),onImportJson:()=>P.current?.click(),onExportJson:X,onExportSvg:()=>{const H=document.querySelector('[data-testid="canvas-svg"]');H&&o&&K2(H,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const H=document.querySelector('[data-testid="canvas-svg"]');H&&o&&X2(H,`${o.title||"tsumami"}.png`)}}),s.jsx("input",{ref:P,type:"file",accept:"application/json",className:"hidden",onChange:H=>{const D=H.target.files?.[0];D&&K(D),H.currentTarget.value=""}}),G&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:G}),s.jsxs("main",{className:"flex-1",children:[u==="home"&&s.jsx(V2,{saved:a,onNew:()=>r("new"),onOpen:H=>{const D=va(Wl(H));f(D),y({kind:"project"}),k(D),r("editor")},onDelete:H=>{H2(H),i(lr()),E("Deleted")}}),u==="new"&&s.jsx(Q2,{onBack:()=>r("home"),onCreate:H=>{const D=E2({title:H});_(D)}}),u==="editor"&&o&&s.jsx(ub,{project:o,selection:m,setSelection:y,applyUpdate:I,onGoRecipe:()=>r("recipe"),onImport:K,dragRef:j,onCopyFlower:A,onPasteFlower:C,onArrangeFlower:q,canPasteFlower:!!S.current,onUndo:B,onRedo:O,canUndo:g>0,canRedo:g<h.length-1}),u==="recipe"&&o&&Y&&s.jsx(sb,{project:o,recipe:Y,onBack:()=>r("editor"),onExportJson:X}),u==="terms"&&s.jsx(xb,{onBack:()=>r("home")}),u==="privacy"&&s.jsx(ob,{onBack:()=>r("home")}),(u==="editor"||u==="recipe")&&!o&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(u==="home"||u==="new"||u==="terms"||u==="privacy")&&s.jsx(fb,{onNavigate:r})]})}class hb extends $.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}g2.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(hb,{children:s.jsx(db,{})})}));

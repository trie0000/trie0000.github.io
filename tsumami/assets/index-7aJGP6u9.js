(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const o of f)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function a(f){const o={};return f.integrity&&(o.integrity=f.integrity),f.referrerPolicy&&(o.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?o.credentials="include":f.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(f){if(f.ep)return;f.ep=!0;const o=a(f);fetch(f.href,o)}})();var ts={exports:{}},Fi={};var zd;function x2(){if(zd)return Fi;zd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,f,o){var m=null;if(o!==void 0&&(m=""+o),f.key!==void 0&&(m=""+f.key),"key"in f){o={};for(var y in f)y!=="key"&&(o[y]=f[y])}else o=f;return f=o.ref,{$$typeof:c,type:i,key:m,ref:f!==void 0?f:null,props:o}}return Fi.Fragment=r,Fi.jsx=a,Fi.jsxs=a,Fi}var Dd;function o2(){return Dd||(Dd=1,ts.exports=x2()),ts.exports}var s=o2(),ns={exports:{}},De={};var Nd;function f2(){if(Nd)return De;Nd=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),N=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=N&&z[N]||z["@@iterator"],typeof z=="function"?z:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function B(z,R,H){this.props=z,this.context=R,this.refs=_,this.updater=H||D}B.prototype.isReactComponent={},B.prototype.setState=function(z,R){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,R,"setState")},B.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=B.prototype;function E(z,R,H){this.props=z,this.context=R,this.refs=_,this.updater=H||D}var q=E.prototype=new k;q.constructor=E,j(q,B.prototype),q.isPureReactComponent=!0;var Z=Array.isArray;function V(){}var Y={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function te(z,R,H){var X=H.ref;return{$$typeof:c,type:z,key:R,ref:X!==void 0?X:null,props:H}}function Q(z,R){return te(z.type,R,z.props)}function W(z){return typeof z=="object"&&z!==null&&z.$$typeof===c}function C(z){var R={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(H){return R[H]})}var S=/\/+/g;function L(z,R){return typeof z=="object"&&z!==null&&z.key!=null?C(""+z.key):R.toString(36)}function M(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(V,V):(z.status="pending",z.then(function(R){z.status==="pending"&&(z.status="fulfilled",z.value=R)},function(R){z.status==="pending"&&(z.status="rejected",z.reason=R)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function w(z,R,H,X,le){var ue=typeof z;(ue==="undefined"||ue==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(ue){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case c:case r:oe=!0;break;case v:return oe=z._init,w(oe(z._payload),R,H,X,le)}}if(oe)return le=le(z),oe=X===""?"."+L(z,0):X,Z(le)?(H="",oe!=null&&(H=oe.replace(S,"$&/")+"/"),w(le,R,H,"",function(we){return we})):le!=null&&(W(le)&&(le=Q(le,H+(le.key==null||z&&z.key===le.key?"":(""+le.key).replace(S,"$&/")+"/")+oe)),R.push(le)),1;oe=0;var _e=X===""?".":X+":";if(Z(z))for(var de=0;de<z.length;de++)X=z[de],ue=_e+L(X,de),oe+=w(X,R,H,ue,le);else if(de=b(z),typeof de=="function")for(z=de.call(z),de=0;!(X=z.next()).done;)X=X.value,ue=_e+L(X,de++),oe+=w(X,R,H,ue,le);else if(ue==="object"){if(typeof z.then=="function")return w(M(z),R,H,X,le);throw R=String(z),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return oe}function A(z,R,H){if(z==null)return z;var X=[],le=0;return w(z,X,"","",function(ue){return R.call(H,ue,le++)}),X}function G(z){if(z._status===-1){var R=z._result;R=R(),R.then(function(H){(z._status===0||z._status===-1)&&(z._status=1,z._result=H)},function(H){(z._status===0||z._status===-1)&&(z._status=2,z._result=H)}),z._status===-1&&(z._status=0,z._result=R)}if(z._status===1)return z._result.default;throw z._result}var I=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},O={map:A,forEach:function(z,R,H){A(z,function(){R.apply(this,arguments)},H)},count:function(z){var R=0;return A(z,function(){R++}),R},toArray:function(z){return A(z,function(R){return R})||[]},only:function(z){if(!W(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return De.Activity=g,De.Children=O,De.Component=B,De.Fragment=a,De.Profiler=f,De.PureComponent=E,De.StrictMode=i,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Y.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(z,R,H){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var X=j({},z.props),le=z.key;if(R!=null)for(ue in R.key!==void 0&&(le=""+R.key),R)!P.call(R,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&R.ref===void 0||(X[ue]=R[ue]);var ue=arguments.length-2;if(ue===1)X.children=H;else if(1<ue){for(var oe=Array(ue),_e=0;_e<ue;_e++)oe[_e]=arguments[_e+2];X.children=oe}return te(z.type,le,X)},De.createContext=function(z){return z={$$typeof:m,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},De.createElement=function(z,R,H){var X,le={},ue=null;if(R!=null)for(X in R.key!==void 0&&(ue=""+R.key),R)P.call(R,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(le[X]=R[X]);var oe=arguments.length-2;if(oe===1)le.children=H;else if(1<oe){for(var _e=Array(oe),de=0;de<oe;de++)_e[de]=arguments[de+2];le.children=_e}if(z&&z.defaultProps)for(X in oe=z.defaultProps,oe)le[X]===void 0&&(le[X]=oe[X]);return te(z,ue,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:y,render:z}},De.isValidElement=W,De.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:G}},De.memo=function(z,R){return{$$typeof:h,type:z,compare:R===void 0?null:R}},De.startTransition=function(z){var R=Y.T,H={};Y.T=H;try{var X=z(),le=Y.S;le!==null&&le(H,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,I)}catch(ue){I(ue)}finally{R!==null&&H.types!==null&&(R.types=H.types),Y.T=R}},De.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},De.use=function(z){return Y.H.use(z)},De.useActionState=function(z,R,H){return Y.H.useActionState(z,R,H)},De.useCallback=function(z,R){return Y.H.useCallback(z,R)},De.useContext=function(z){return Y.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,R){return Y.H.useDeferredValue(z,R)},De.useEffect=function(z,R){return Y.H.useEffect(z,R)},De.useEffectEvent=function(z){return Y.H.useEffectEvent(z)},De.useId=function(){return Y.H.useId()},De.useImperativeHandle=function(z,R,H){return Y.H.useImperativeHandle(z,R,H)},De.useInsertionEffect=function(z,R){return Y.H.useInsertionEffect(z,R)},De.useLayoutEffect=function(z,R){return Y.H.useLayoutEffect(z,R)},De.useMemo=function(z,R){return Y.H.useMemo(z,R)},De.useOptimistic=function(z,R){return Y.H.useOptimistic(z,R)},De.useReducer=function(z,R,H){return Y.H.useReducer(z,R,H)},De.useRef=function(z){return Y.H.useRef(z)},De.useState=function(z){return Y.H.useState(z)},De.useSyncExternalStore=function(z,R,H){return Y.H.useSyncExternalStore(z,R,H)},De.useTransition=function(){return Y.H.useTransition()},De.version="19.2.3",De}var Ad;function Bs(){return Ad||(Ad=1,ns.exports=f2()),ns.exports}var F=Bs(),ls={exports:{}},$i={},as={exports:{}},is={};var Td;function d2(){return Td||(Td=1,(function(c){function r(w,A){var G=w.length;w.push(A);e:for(;0<G;){var I=G-1>>>1,O=w[I];if(0<f(O,A))w[I]=A,w[G]=O,G=I;else break e}}function a(w){return w.length===0?null:w[0]}function i(w){if(w.length===0)return null;var A=w[0],G=w.pop();if(G!==A){w[0]=G;e:for(var I=0,O=w.length,z=O>>>1;I<z;){var R=2*(I+1)-1,H=w[R],X=R+1,le=w[X];if(0>f(H,G))X<O&&0>f(le,H)?(w[I]=le,w[X]=G,I=X):(w[I]=H,w[R]=G,I=R);else if(X<O&&0>f(le,G))w[I]=le,w[X]=G,I=X;else break e}}return A}function f(w,A){var G=w.sortIndex-A.sortIndex;return G!==0?G:w.id-A.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var m=Date,y=m.now();c.unstable_now=function(){return m.now()-y}}var d=[],h=[],v=1,g=null,N=3,b=!1,D=!1,j=!1,_=!1,B=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function q(w){for(var A=a(h);A!==null;){if(A.callback===null)i(h);else if(A.startTime<=w)i(h),A.sortIndex=A.expirationTime,r(d,A);else break;A=a(h)}}function Z(w){if(j=!1,q(w),!D)if(a(d)!==null)D=!0,V||(V=!0,C());else{var A=a(h);A!==null&&M(Z,A.startTime-w)}}var V=!1,Y=-1,P=5,te=-1;function Q(){return _?!0:!(c.unstable_now()-te<P)}function W(){if(_=!1,V){var w=c.unstable_now();te=w;var A=!0;try{e:{D=!1,j&&(j=!1,k(Y),Y=-1),b=!0;var G=N;try{t:{for(q(w),g=a(d);g!==null&&!(g.expirationTime>w&&Q());){var I=g.callback;if(typeof I=="function"){g.callback=null,N=g.priorityLevel;var O=I(g.expirationTime<=w);if(w=c.unstable_now(),typeof O=="function"){g.callback=O,q(w),A=!0;break t}g===a(d)&&i(d),q(w)}else i(d);g=a(d)}if(g!==null)A=!0;else{var z=a(h);z!==null&&M(Z,z.startTime-w),A=!1}}break e}finally{g=null,N=G,b=!1}A=void 0}}finally{A?C():V=!1}}}var C;if(typeof E=="function")C=function(){E(W)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=W,C=function(){L.postMessage(null)}}else C=function(){B(W,0)};function M(w,A){Y=B(function(){w(c.unstable_now())},A)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(w){w.callback=null},c.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<w?Math.floor(1e3/w):5},c.unstable_getCurrentPriorityLevel=function(){return N},c.unstable_next=function(w){switch(N){case 1:case 2:case 3:var A=3;break;default:A=N}var G=N;N=A;try{return w()}finally{N=G}},c.unstable_requestPaint=function(){_=!0},c.unstable_runWithPriority=function(w,A){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var G=N;N=w;try{return A()}finally{N=G}},c.unstable_scheduleCallback=function(w,A,G){var I=c.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?I+G:I):G=I,w){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=G+O,w={id:v++,callback:A,priorityLevel:w,startTime:G,expirationTime:O,sortIndex:-1},G>I?(w.sortIndex=G,r(h,w),a(d)===null&&w===a(h)&&(j?(k(Y),Y=-1):j=!0,M(Z,G-I))):(w.sortIndex=O,r(d,w),D||b||(D=!0,V||(V=!0,C()))),w},c.unstable_shouldYield=Q,c.unstable_wrapCallback=function(w){var A=N;return function(){var G=N;N=A;try{return w.apply(this,arguments)}finally{N=G}}}})(is)),is}var Ld;function h2(){return Ld||(Ld=1,as.exports=d2()),as.exports}var rs={exports:{}},Ut={};var Ed;function m2(){if(Ed)return Ut;Ed=1;var c=Bs();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},f=Symbol.for("react.portal");function o(d,h,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:g==null?null:""+g,children:d,containerInfo:h,implementation:v}}var m=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ut.createPortal=function(d,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return o(d,h,null,v)},Ut.flushSync=function(d){var h=m.T,v=i.p;try{if(m.T=null,i.p=2,d)return d()}finally{m.T=h,i.p=v,i.d.f()}},Ut.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Ut.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ut.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var v=h.as,g=y(v,h.crossOrigin),N=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:N,fetchPriority:b}):v==="script"&&i.d.X(d,{crossOrigin:g,integrity:N,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ut.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=y(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Ut.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,g=y(v,h.crossOrigin);i.d.L(d,v,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ut.preloadModule=function(d,h){if(typeof d=="string")if(h){var v=y(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Ut.requestFormReset=function(d){i.d.r(d)},Ut.unstable_batchedUpdates=function(d,h){return d(h)},Ut.useFormState=function(d,h,v){return m.H.useFormState(d,h,v)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var Bd;function b2(){if(Bd)return rs.exports;Bd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),rs.exports=m2(),rs.exports}var qd;function v2(){if(qd)return $i;qd=1;var c=h2(),r=Bs(),a=b2();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(o(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return d(u),e;if(x===l)return d(u),t;x=x.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=x;else{for(var p=!1,T=u.child;T;){if(T===n){p=!0,n=u,l=x;break}if(T===l){p=!0,l=u,n=x;break}T=T.sibling}if(!p){for(T=x.child;T;){if(T===n){p=!0,n=x,l=u;break}if(T===l){p=!0,l=x,n=u;break}T=T.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,N=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function C(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case B:return"Profiler";case _:return"StrictMode";case Z:return"Suspense";case V:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case E:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:L(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return L(e(t))}catch{}}return null}var M=Array.isArray,w=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},I=[],O=-1;function z(e){return{current:e}}function R(e){0>O||(e.current=I[O],I[O]=null,O--)}function H(e,t){O++,I[O]=e.current,e.current=t}var X=z(null),le=z(null),ue=z(null),oe=z(null);function _e(e,t){switch(H(ue,t),H(le,e),H(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qf(t),e=Pf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(X),H(X,e)}function de(){R(X),R(le),R(ue)}function we(e){e.memoizedState!==null&&H(oe,e);var t=X.current,n=Pf(t,e.type);t!==n&&(H(le,e),H(X,n))}function me(e){le.current===e&&(R(X),R(le)),oe.current===e&&(R(oe),Ji._currentValue=G)}var Ae,$e;function ft(e){if(Ae===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ae=t&&t[1]||"",$e=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+e+$e}var st=!1;function ht(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ne=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=l.DetermineComponentFrameRoot(),p=x[0],T=x[1];if(p&&T){var U=p.split(`
`),ee=T.split(`
`);for(u=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;u<ee.length&&!ee[u].includes("DetermineComponentFrameRoot");)u++;if(l===U.length||u===ee.length)for(l=U.length-1,u=ee.length-1;1<=l&&0<=u&&U[l]!==ee[u];)u--;for(;1<=l&&0<=u;l--,u--)if(U[l]!==ee[u]){if(l!==1||u!==1)do if(l--,u--,0>u||U[l]!==ee[u]){var ie=`
`+U[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ft(n):""}function At(e,t){switch(e.tag){case 26:case 27:case 5:return ft(e.type);case 16:return ft("Lazy");case 13:return e.child!==t&&t!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return ft("Activity");default:return""}}function _t(e){try{var t="",n=null;do t+=At(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,yn=c.unstable_cancelCallback,Rn=c.unstable_shouldYield,$n=c.unstable_requestPaint,Xe=c.unstable_now,pn=c.unstable_getCurrentPriorityLevel,_l=c.unstable_ImmediatePriority,Wl=c.unstable_UserBlockingPriority,kn=c.unstable_NormalPriority,ga=c.unstable_LowPriority,Yn=c.unstable_IdlePriority,ui=c.log,Jl=c.unstable_setDisableYieldValue,el=null,Bt=null;function We(e){if(typeof ui=="function"&&Jl(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(el,e)}catch{}}var xe=Math.clz32?Math.clz32:Se,Be=Math.log,qe=Math.LN2;function Se(e){return e>>>=0,e===0?32:31-(Be(e)/qe|0)|0}var ge=256,Ne=262144,ze=4194304;function ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Je(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,x=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~x,l!==0?u=ve(l):(p&=T,p!==0?u=ve(p):n||(n=T&~e,n!==0&&(u=ve(n))))):(T=l&~x,T!==0?u=ve(T):p!==0?u=ve(p):n||(n=l&~e,n!==0&&(u=ve(n)))),u===0?0:t!==0&&t!==u&&(t&x)===0&&(x=u&-u,n=t&-t,x>=n||x===32&&(n&4194048)!==0)?t:u}function Oe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ve(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qe(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n,l,u,x){var p=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,U=e.expirationTimes,ee=e.hiddenUpdates;for(n=p&~n;0<n;){var ie=31-xe(n),ce=1<<ie;T[ie]=0,U[ie]=-1;var ne=ee[ie];if(ne!==null)for(ee[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ce}l!==0&&Me(e,l,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(p&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function tt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _n(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=A.p;return e!==0?e:(e=window.event,e===void 0?32:pd(e.type))}function Vl(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}var Sn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Sn,Ht="__reactProps$"+Sn,fe="__reactContainer$"+Sn,ye="__reactEvents$"+Sn,Ue="__reactListeners$"+Sn,Qt="__reactHandles$"+Sn,St="__reactResources$"+Sn,sn="__reactMarker$"+Sn;function si(e){delete e[Dt],delete e[Ht],delete e[ye],delete e[Ue],delete e[Qt]}function pa(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fe]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ad(e);e!==null;){if(n=e[Dt])return n;e=ad(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Dt]||e[fe]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Sa(e){var t=e[St];return t||(t=e[St]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[sn]=!0}var Gs=new Set,Rs={};function Ql(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Rs[e]=t,e=0;e<t.length;e++)Gs.add(t[e])}var t1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Ys={};function n1(e){return mt.call(Ys,e)?!0:mt.call(ks,e)?!1:t1.test(e)?Ys[e]=!0:(ks[e]=!0,!1)}function xr(e,t,n){if(n1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function or(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function l1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,x=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){n=""+p,x.call(this,p)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jc(e){if(!e._valueTracker){var t=Os(e)?"checked":"value";e._valueTracker=l1(e,t,""+e[t])}}function Is(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Os(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var a1=/[\n"\\]/g;function jn(e){return e.replace(a1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vc(e,t,n,l,u,x,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Cn(t)):e.value!==""+Cn(t)&&(e.value=""+Cn(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?Qc(e,p,Cn(t)):n!=null?Qc(e,p,Cn(n)):l!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Cn(T):e.removeAttribute("name")}function Hs(e,t,n,l,u,x,p,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),t!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||t!=null)){Jc(e);return}n=n!=null?""+Cn(n):"",t=t!=null?""+Cn(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Jc(e)}function Qc(e,t,n){t==="number"&&fr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Us(e,t,n){if(t!=null&&(t=""+Cn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Cn(n):""}function Zs(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(M(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Cn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Jc(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var i1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||i1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xs(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ks(e,u,l)}else for(var x in t)t.hasOwnProperty(x)&&Ks(e,x,t[x])}function Pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),c1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(e){return c1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var Fc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Ws(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ht]||null;if(!u)throw Error(i(90));Vc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Is(l)}break e;case"textarea":Us(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var e0=!1;function Js(e,t,n){if(e0)return e(t,n);e0=!0;try{var l=e(t);return l}finally{if(e0=!1,(Ma!==null||za!==null)&&(ec(),Ma&&(t=Ma,e=za,za=Ma=null,Ws(t),e)))for(t=0;t<e.length;t++)Ws(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ht]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t0=!1;if(ll)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){t0=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{t0=!1}var Sl=null,n0=null,hr=null;function Vs(){if(hr)return hr;var e,t=n0,n=t.length,l,u="value"in Sl?Sl.value:Sl.textContent,x=u.length;for(e=0;e<n&&t[e]===u[e];e++);var p=n-e;for(l=1;l<=p&&t[n-l]===u[x-l];l++);return hr=u.slice(e,1<l?1-l:void 0)}function mr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function br(){return!0}function Qs(){return!1}function Pt(e){function t(n,l,u,x,p){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=x,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?br:Qs,this.isPropagationStopped=Qs,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=Pt(Pl),di=g({},Pl,{view:0,detail:0}),u1=Pt(di),l0,a0,hi,gr=g({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(l0=e.screenX-hi.screenX,a0=e.screenY-hi.screenY):a0=l0=0,hi=e),l0)},movementY:function(e){return"movementY"in e?e.movementY:a0}}),Ps=Pt(gr),s1=g({},gr,{dataTransfer:0}),x1=Pt(s1),o1=g({},di,{relatedTarget:0}),i0=Pt(o1),f1=g({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=Pt(f1),h1=g({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m1=Pt(h1),b1=g({},Pl,{data:0}),Fs=Pt(b1),v1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y1[e])?!!t[e]:!1}function r0(){return p1}var _1=g({},di,{key:function(e){if(e.key){var t=v1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(e){return e.type==="keypress"?mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S1=Pt(_1),C1=g({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=Pt(C1),j1=g({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),w1=Pt(j1),M1=g({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),z1=Pt(M1),D1=g({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=Pt(D1),A1=g({},Pl,{newState:0,oldState:0}),T1=Pt(A1),L1=[9,13,27,32],c0=ll&&"CompositionEvent"in window,mi=null;ll&&"documentMode"in document&&(mi=document.documentMode);var E1=ll&&"TextEvent"in window&&!mi,ex=ll&&(!c0||mi&&8<mi&&11>=mi),tx=" ",nx=!1;function lx(e,t){switch(e){case"keyup":return L1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function B1(e,t){switch(e){case"compositionend":return ax(t);case"keypress":return t.which!==32?null:(nx=!0,tx);case"textInput":return e=t.data,e===tx&&nx?null:e;default:return null}}function q1(e,t){if(Da)return e==="compositionend"||!c0&&lx(e,t)?(e=Vs(),hr=n0=Sl=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ex&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function rx(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=cc(t,"onChange"),0<t.length&&(n=new vr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var bi=null,vi=null;function R1(e){Zf(e,0)}function yr(e){var t=xi(e);if(Is(t))return e}function cx(e,t){if(e==="change")return t}var ux=!1;if(ll){var u0;if(ll){var s0="oninput"in document;if(!s0){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),s0=typeof sx.oninput=="function"}u0=s0}else u0=!1;ux=u0&&(!document.documentMode||9<document.documentMode)}function xx(){bi&&(bi.detachEvent("onpropertychange",ox),vi=bi=null)}function ox(e){if(e.propertyName==="value"&&yr(vi)){var t=[];rx(t,vi,e,$c(e)),Js(R1,t)}}function k1(e,t,n){e==="focusin"?(xx(),bi=t,vi=n,bi.attachEvent("onpropertychange",ox)):e==="focusout"&&xx()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yr(vi)}function O1(e,t){if(e==="click")return yr(t)}function I1(e,t){if(e==="input"||e==="change")return yr(t)}function H1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:H1;function gi(e,t){if(xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!mt.call(t,u)||!xn(e[u],t[u]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dx(e,t){var n=fx(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mx(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fr(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var U1=ll&&"documentMode"in document&&11>=document.documentMode,Na=null,o0=null,yi=null,f0=!1;function bx(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;f0||Na==null||Na!==fr(l)||(l=Na,"selectionStart"in l&&x0(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yi&&gi(yi,l)||(yi=l,l=cc(o0,"onSelect"),0<l.length&&(t=new vr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},d0={},vx={};ll&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function $l(e){if(d0[e])return d0[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vx)return d0[e]=t[n];return e}var gx=$l("animationend"),yx=$l("animationiteration"),px=$l("animationstart"),Z1=$l("transitionrun"),K1=$l("transitionstart"),X1=$l("transitioncancel"),_x=$l("transitionend"),Sx=new Map,h0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h0.push("scrollEnd");function On(e,t){Sx.set(e,t),Ql(t,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],Ta=0,m0=0;function _r(){for(var e=Ta,t=m0=Ta=0;t<e;){var n=wn[t];wn[t++]=null;var l=wn[t];wn[t++]=null;var u=wn[t];wn[t++]=null;var x=wn[t];if(wn[t++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}x!==0&&Cx(n,u,x)}}function Sr(e,t,n,l){wn[Ta++]=e,wn[Ta++]=t,wn[Ta++]=n,wn[Ta++]=l,m0|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function b0(e,t,n,l){return Sr(e,t,n,l),Cr(e)}function ea(e,t){return Sr(e,null,null,t),Cr(e)}function Cx(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,l=x.alternate,l!==null&&(l.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&t!==null&&(u=31-xe(n),e=x.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),x):null}function Cr(e){if(50<Ii)throw Ii=0,wu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function W1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,l){return new W1(e,t,n,l)}function v0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function al(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jx(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,l,u,x){var p=0;if(l=e,typeof e=="function")v0(e)&&(p=1);else if(typeof e=="string")p=Fh(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=on(31,n,t,u),e.elementType=te,e.lanes=x,e;case j:return ta(n.children,u,x,t);case _:p=8,u|=24;break;case B:return e=on(12,n,t,u|2),e.elementType=B,e.lanes=x,e;case Z:return e=on(13,n,t,u),e.elementType=Z,e.lanes=x,e;case V:return e=on(19,n,t,u),e.elementType=V,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:p=10;break e;case k:p=9;break e;case q:p=11;break e;case Y:p=14;break e;case P:p=16,l=null;break e}p=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=on(p,n,t,u),t.elementType=e,t.type=l,t.lanes=x,t}function ta(e,t,n,l){return e=on(7,e,l,t),e.lanes=n,e}function g0(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function wx(e){var t=on(18,null,null,0);return t.stateNode=e,t}function y0(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mx=new WeakMap;function Mn(e,t){if(typeof e=="object"&&e!==null){var n=Mx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:_t(t)},Mx.set(e,t),t)}return{value:e,source:t,stack:_t(t)}}var Ea=[],Ba=0,wr=null,pi=0,zn=[],Dn=0,Cl=null,Wn=1,Jn="";function il(e,t){Ea[Ba++]=pi,Ea[Ba++]=wr,wr=e,pi=t}function zx(e,t,n){zn[Dn++]=Wn,zn[Dn++]=Jn,zn[Dn++]=Cl,Cl=e;var l=Wn;e=Jn;var u=32-xe(l)-1;l&=~(1<<u),n+=1;var x=32-xe(t)+u;if(30<x){var p=u-u%5;x=(l&(1<<p)-1).toString(32),l>>=p,u-=p,Wn=1<<32-xe(t)+u|n<<u|l,Jn=x+e}else Wn=1<<x|n<<u|l,Jn=e}function p0(e){e.return!==null&&(il(e,1),zx(e,1,0))}function _0(e){for(;e===wr;)wr=Ea[--Ba],Ea[Ba]=null,pi=Ea[--Ba],Ea[Ba]=null;for(;e===Cl;)Cl=zn[--Dn],zn[Dn]=null,Jn=zn[--Dn],zn[Dn]=null,Wn=zn[--Dn],zn[Dn]=null}function Dx(e,t){zn[Dn++]=Wn,zn[Dn++]=Jn,zn[Dn++]=Cl,Wn=t.id,Jn=t.overflow,Cl=e}var qt=null,xt=null,Ie=!1,jl=null,Nn=!1,S0=Error(i(519));function wl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Mn(t,e)),S0}function Nx(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Dt]=e,t[Ht]=l,n){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(n=0;n<Ui.length;n++)Re(Ui[n],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Hs(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Zs(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Jf(t.textContent,n)?(l.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),l.onScroll!=null&&Re("scroll",t),l.onScrollEnd!=null&&Re("scrollend",t),l.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||wl(e,!0)}function Ax(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:qt=qt.return}}function qa(e){if(e!==qt)return!1;if(!Ie)return Ax(e),Ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ou(e.type,e.memoizedProps)),n=!n),n&&xt&&wl(e),Ax(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=ld(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));xt=ld(e)}else t===27?(t=xt,Yl(e.type)?(e=Ku,Ku=null,xt=e):xt=t):xt=qt?Tn(e.stateNode.nextSibling):null;return!0}function na(){xt=qt=null,Ie=!1}function C0(){var e=jl;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),jl=null),e}function _i(e){jl===null?jl=[e]:jl.push(e)}var j0=z(null),la=null,rl=null;function Ml(e,t,n){H(j0,t._currentValue),t._currentValue=n}function cl(e){e._currentValue=j0.current,R(j0)}function w0(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function M0(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var p=u.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=u;for(var U=0;U<t.length;U++)if(T.context===t[U]){x.lanes|=n,T=x.alternate,T!==null&&(T.lanes|=n),w0(x.return,n,e),l||(p=null);break e}x=T.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(i(341));p.lanes|=n,x=p.alternate,x!==null&&(x.lanes|=n),w0(p,n,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Ga(e,t,n,l){e=null;for(var u=t,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(i(387));if(p=p.memoizedProps,p!==null){var T=u.type;xn(u.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(u===oe.current){if(p=u.alternate,p===null)throw Error(i(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ji):e=[Ji])}u=u.return}e!==null&&M0(t,e,n,l),t.flags|=262144}function Mr(e){for(e=e.firstContext;e!==null;){if(!xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,rl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Gt(e){return Tx(la,e)}function zr(e,t){return la===null&&aa(e),Tx(e,t)}function Tx(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rl===null){if(e===null)throw Error(i(308));rl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rl=rl.next=t;return n}var J1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},V1=c.unstable_scheduleCallback,Q1=c.unstable_NormalPriority,Ct={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function z0(){return{controller:new J1,data:new Map,refCount:0}}function Si(e){e.refCount--,e.refCount===0&&V1(Q1,function(){e.controller.abort()})}var Ci=null,D0=0,Ra=0,ka=null;function P1(e,t){if(Ci===null){var n=Ci=[];D0=0,Ra=Tu(),ka={status:"pending",value:void 0,then:function(l){n.push(l)}}}return D0++,t.then(Lx,Lx),t}function Lx(){if(--D0===0&&Ci!==null){ka!==null&&(ka.status="fulfilled");var e=Ci;Ci=null,Ra=0,ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function F1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ex=w.S;w.S=function(e,t){gf=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&P1(e,t),Ex!==null&&Ex(e,t)};var ia=z(null);function N0(){var e=ia.current;return e!==null?e:ut.pooledCache}function Dr(e,t){t===null?H(ia,ia.current):H(ia,t.pool)}function Bx(){var e=N0();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ya=Error(i(460)),A0=Error(i(474)),Nr=Error(i(542)),Ar={then:function(){}};function qx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gx(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nl,nl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kx(e),e}throw ca=t,Ya}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ca=n,Ya):n}}var ca=null;function Rx(){if(ca===null)throw Error(i(459));var e=ca;return ca=null,e}function kx(e){if(e===Ya||e===Nr)throw Error(i(483))}var Oa=null,ji=0;function Tr(e){var t=ji;return ji+=1,Oa===null&&(Oa=[]),Gx(Oa,e,t)}function wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lr(e,t){throw t.$$typeof===N?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yx(e){function t(J,K){if(e){var $=J.deletions;$===null?(J.deletions=[K],J.flags|=16):$.push(K)}}function n(J,K){if(!e)return null;for(;K!==null;)t(J,K),K=K.sibling;return null}function l(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function u(J,K){return J=al(J,K),J.index=0,J.sibling=null,J}function x(J,K,$){return J.index=$,e?($=J.alternate,$!==null?($=$.index,$<K?(J.flags|=67108866,K):$):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function p(J){return e&&J.alternate===null&&(J.flags|=67108866),J}function T(J,K,$,re){return K===null||K.tag!==6?(K=g0($,J.mode,re),K.return=J,K):(K=u(K,$),K.return=J,K)}function U(J,K,$,re){var pe=$.type;return pe===j?ie(J,K,$.props.children,re,$.key):K!==null&&(K.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===P&&ra(pe)===K.type)?(K=u(K,$.props),wi(K,$),K.return=J,K):(K=jr($.type,$.key,$.props,null,J.mode,re),wi(K,$),K.return=J,K)}function ee(J,K,$,re){return K===null||K.tag!==4||K.stateNode.containerInfo!==$.containerInfo||K.stateNode.implementation!==$.implementation?(K=y0($,J.mode,re),K.return=J,K):(K=u(K,$.children||[]),K.return=J,K)}function ie(J,K,$,re,pe){return K===null||K.tag!==7?(K=ta($,J.mode,re,pe),K.return=J,K):(K=u(K,$),K.return=J,K)}function ce(J,K,$){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=g0(""+K,J.mode,$),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return $=jr(K.type,K.key,K.props,null,J.mode,$),wi($,K),$.return=J,$;case D:return K=y0(K,J.mode,$),K.return=J,K;case P:return K=ra(K),ce(J,K,$)}if(M(K)||C(K))return K=ta(K,J.mode,$,null),K.return=J,K;if(typeof K.then=="function")return ce(J,Tr(K),$);if(K.$$typeof===E)return ce(J,zr(J,K),$);Lr(J,K)}return null}function ne(J,K,$,re){var pe=K!==null?K.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:T(J,K,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===pe?U(J,K,$,re):null;case D:return $.key===pe?ee(J,K,$,re):null;case P:return $=ra($),ne(J,K,$,re)}if(M($)||C($))return pe!==null?null:ie(J,K,$,re,null);if(typeof $.then=="function")return ne(J,K,Tr($),re);if($.$$typeof===E)return ne(J,K,zr(J,$),re);Lr(J,$)}return null}function ae(J,K,$,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return J=J.get($)||null,T(K,J,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return J=J.get(re.key===null?$:re.key)||null,U(K,J,re,pe);case D:return J=J.get(re.key===null?$:re.key)||null,ee(K,J,re,pe);case P:return re=ra(re),ae(J,K,$,re,pe)}if(M(re)||C(re))return J=J.get($)||null,ie(K,J,re,pe,null);if(typeof re.then=="function")return ae(J,K,$,Tr(re),pe);if(re.$$typeof===E)return ae(J,K,$,zr(K,re),pe);Lr(K,re)}return null}function he(J,K,$,re){for(var pe=null,Ze=null,be=K,Ee=K=0,Ye=null;be!==null&&Ee<$.length;Ee++){be.index>Ee?(Ye=be,be=null):Ye=be.sibling;var Ke=ne(J,be,$[Ee],re);if(Ke===null){be===null&&(be=Ye);break}e&&be&&Ke.alternate===null&&t(J,be),K=x(Ke,K,Ee),Ze===null?pe=Ke:Ze.sibling=Ke,Ze=Ke,be=Ye}if(Ee===$.length)return n(J,be),Ie&&il(J,Ee),pe;if(be===null){for(;Ee<$.length;Ee++)be=ce(J,$[Ee],re),be!==null&&(K=x(be,K,Ee),Ze===null?pe=be:Ze.sibling=be,Ze=be);return Ie&&il(J,Ee),pe}for(be=l(be);Ee<$.length;Ee++)Ye=ae(be,J,Ee,$[Ee],re),Ye!==null&&(e&&Ye.alternate!==null&&be.delete(Ye.key===null?Ee:Ye.key),K=x(Ye,K,Ee),Ze===null?pe=Ye:Ze.sibling=Ye,Ze=Ye);return e&&be.forEach(function(Zl){return t(J,Zl)}),Ie&&il(J,Ee),pe}function Ce(J,K,$,re){if($==null)throw Error(i(151));for(var pe=null,Ze=null,be=K,Ee=K=0,Ye=null,Ke=$.next();be!==null&&!Ke.done;Ee++,Ke=$.next()){be.index>Ee?(Ye=be,be=null):Ye=be.sibling;var Zl=ne(J,be,Ke.value,re);if(Zl===null){be===null&&(be=Ye);break}e&&be&&Zl.alternate===null&&t(J,be),K=x(Zl,K,Ee),Ze===null?pe=Zl:Ze.sibling=Zl,Ze=Zl,be=Ye}if(Ke.done)return n(J,be),Ie&&il(J,Ee),pe;if(be===null){for(;!Ke.done;Ee++,Ke=$.next())Ke=ce(J,Ke.value,re),Ke!==null&&(K=x(Ke,K,Ee),Ze===null?pe=Ke:Ze.sibling=Ke,Ze=Ke);return Ie&&il(J,Ee),pe}for(be=l(be);!Ke.done;Ee++,Ke=$.next())Ke=ae(be,J,Ee,Ke.value,re),Ke!==null&&(e&&Ke.alternate!==null&&be.delete(Ke.key===null?Ee:Ke.key),K=x(Ke,K,Ee),Ze===null?pe=Ke:Ze.sibling=Ke,Ze=Ke);return e&&be.forEach(function(s2){return t(J,s2)}),Ie&&il(J,Ee),pe}function ct(J,K,$,re){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var pe=$.key;K!==null;){if(K.key===pe){if(pe=$.type,pe===j){if(K.tag===7){n(J,K.sibling),re=u(K,$.props.children),re.return=J,J=re;break e}}else if(K.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===P&&ra(pe)===K.type){n(J,K.sibling),re=u(K,$.props),wi(re,$),re.return=J,J=re;break e}n(J,K);break}else t(J,K);K=K.sibling}$.type===j?(re=ta($.props.children,J.mode,re,$.key),re.return=J,J=re):(re=jr($.type,$.key,$.props,null,J.mode,re),wi(re,$),re.return=J,J=re)}return p(J);case D:e:{for(pe=$.key;K!==null;){if(K.key===pe)if(K.tag===4&&K.stateNode.containerInfo===$.containerInfo&&K.stateNode.implementation===$.implementation){n(J,K.sibling),re=u(K,$.children||[]),re.return=J,J=re;break e}else{n(J,K);break}else t(J,K);K=K.sibling}re=y0($,J.mode,re),re.return=J,J=re}return p(J);case P:return $=ra($),ct(J,K,$,re)}if(M($))return he(J,K,$,re);if(C($)){if(pe=C($),typeof pe!="function")throw Error(i(150));return $=pe.call($),Ce(J,K,$,re)}if(typeof $.then=="function")return ct(J,K,Tr($),re);if($.$$typeof===E)return ct(J,K,zr(J,$),re);Lr(J,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,K!==null&&K.tag===6?(n(J,K.sibling),re=u(K,$),re.return=J,J=re):(n(J,K),re=g0($,J.mode,re),re.return=J,J=re),p(J)):n(J,K)}return function(J,K,$,re){try{ji=0;var pe=ct(J,K,$,re);return Oa=null,pe}catch(be){if(be===Ya||be===Nr)throw be;var Ze=on(29,be,null,J.mode);return Ze.lanes=re,Ze.return=J,Ze}}}var ua=Yx(!0),Ox=Yx(!1),zl=!1;function T0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Cr(e),Cx(e,null,n),t}return Sr(e,l,t,n),Cr(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}function E0(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var p={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=p:x=x.next=p,n=n.next}while(n!==null);x===null?u=x=t:x=x.next=t}else u=x=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var B0=!1;function zi(){if(B0){var e=ka;if(e!==null)throw e}}function Di(e,t,n,l){B0=!1;var u=e.updateQueue;zl=!1;var x=u.firstBaseUpdate,p=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var U=T,ee=U.next;U.next=null,p===null?x=ee:p.next=ee,p=U;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==p&&(T===null?ie.firstBaseUpdate=ee:T.next=ee,ie.lastBaseUpdate=U))}if(x!==null){var ce=u.baseState;p=0,ie=ee=U=null,T=x;do{var ne=T.lane&-536870913,ae=ne!==T.lane;if(ae?(ke&ne)===ne:(l&ne)===ne){ne!==0&&ne===Ra&&(B0=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=e,Ce=T;ne=t;var ct=n;switch(Ce.tag){case 1:if(he=Ce.payload,typeof he=="function"){ce=he.call(ct,ce,ne);break e}ce=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ce.payload,ne=typeof he=="function"?he.call(ct,ce,ne):he,ne==null)break e;ce=g({},ce,ne);break e;case 2:zl=!0}}ne=T.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(ee=ie=ae,U=ce):ie=ie.next=ae,p|=ne;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ae=T,T=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(U=ce),u.baseState=U,u.firstBaseUpdate=ee,u.lastBaseUpdate=ie,x===null&&(u.shared.lanes=0),Bl|=p,e.lanes=p,e.memoizedState=ce}}function Ix(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Hx(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ix(n[e],t)}var Ia=z(null),Er=z(0);function Ux(e,t){e=bl,H(Er,e),H(Ia,t),bl=e|t.baseLanes}function q0(){H(Er,bl),H(Ia,Ia.current)}function G0(){bl=Er.current,R(Ia),R(Er)}var fn=z(null),An=null;function Al(e){var t=e.alternate;H(yt,yt.current&1),H(fn,e),An===null&&(t===null||Ia.current!==null||t.memoizedState!==null)&&(An=e)}function R0(e){H(yt,yt.current),H(fn,e),An===null&&(An=e)}function Zx(e){e.tag===22?(H(yt,yt.current),H(fn,e),An===null&&(An=e)):Tl()}function Tl(){H(yt,yt.current),H(fn,fn.current)}function dn(e){R(fn),An===e&&(An=null),R(yt)}var yt=z(0);function Br(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uu(n)||Zu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,Le=null,it=null,jt=null,qr=!1,Ha=!1,sa=!1,Gr=0,Ni=0,Ua=null,$1=0;function bt(){throw Error(i(321))}function k0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xn(e[n],t[n]))return!1;return!0}function Y0(e,t,n,l,u,x){return ul=x,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?Do:eu,sa=!1,x=n(l,u),sa=!1,Ha&&(x=Xx(t,n,l,u)),Kx(e),x}function Kx(e){w.H=Li;var t=it!==null&&it.next!==null;if(ul=0,jt=it=Le=null,qr=!1,Ni=0,Ua=null,t)throw Error(i(300));e===null||wt||(e=e.dependencies,e!==null&&Mr(e)&&(wt=!0))}function Xx(e,t,n,l){Le=e;var u=0;do{if(Ha&&(Ua=null),Ni=0,Ha=!1,25<=u)throw Error(i(301));if(u+=1,jt=it=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}w.H=No,x=t(n,l)}while(Ha);return x}function eh(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ai(t):t,e=e.useState()[0],(it!==null?it.memoizedState:null)!==e&&(Le.flags|=1024),t}function O0(){var e=Gr!==0;return Gr=0,e}function I0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function H0(e){if(qr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qr=!1}ul=0,jt=it=Le=null,Ha=!1,Ni=Gr=0,Ua=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Le.memoizedState=jt=e:jt=jt.next=e,jt}function pt(){if(it===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=jt===null?Le.memoizedState:jt.next;if(t!==null)jt=t,it=e;else{if(e===null)throw Le.alternate===null?Error(i(467)):Error(i(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},jt===null?Le.memoizedState=jt=e:jt=jt.next=e}return jt}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(e){var t=Ni;return Ni+=1,Ua===null&&(Ua=[]),e=Gx(Ua,e,t),t=Le,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?Do:eu),e}function kr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ai(e);if(e.$$typeof===E)return Gt(e)}throw Error(i(438,String(e)))}function U0(e){var t=null,n=Le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=Q;return t.index++,n}function sl(e,t){return typeof t=="function"?t(e):t}function Yr(e){var t=pt();return Z0(t,it,e)}function Z0(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,x=l.pending;if(x!==null){if(u!==null){var p=u.next;u.next=x.next,x.next=p}t.baseQueue=u=x,l.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{t=u.next;var T=p=null,U=null,ee=t,ie=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(ke&ce)===ce:(ul&ce)===ce){var ne=ee.revertLane;if(ne===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Ra&&(ie=!0);else if((ul&ne)===ne){ee=ee.next,ne===Ra&&(ie=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(T=U=ce,p=x):U=U.next=ce,Le.lanes|=ne,Bl|=ne;ce=ee.action,sa&&n(x,ce),x=ee.hasEagerState?ee.eagerState:n(x,ce)}else ne={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(T=U=ne,p=x):U=U.next=ne,Le.lanes|=ce,Bl|=ce;ee=ee.next}while(ee!==null&&ee!==t);if(U===null?p=x:U.next=T,!xn(x,e.memoizedState)&&(wt=!0,ie&&(n=ka,n!==null)))throw n;e.memoizedState=x,e.baseState=p,e.baseQueue=U,l.lastRenderedState=x}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function K0(e){var t=pt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,x=t.memoizedState;if(u!==null){n.pending=null;var p=u=u.next;do x=e(x,p.action),p=p.next;while(p!==u);xn(x,t.memoizedState)||(wt=!0),t.memoizedState=x,t.baseQueue===null&&(t.baseState=x),n.lastRenderedState=x}return[x,l]}function Wx(e,t,n){var l=Le,u=pt(),x=Ie;if(x){if(n===void 0)throw Error(i(407));n=n()}else n=t();var p=!xn((it||u).memoizedState,n);if(p&&(u.memoizedState=n,wt=!0),u=u.queue,J0(Qx.bind(null,l,u,e),[e]),u.getSnapshot!==t||p||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},Vx.bind(null,l,u,n,t),null),ut===null)throw Error(i(349));x||(ul&127)!==0||Jx(l,t,n)}return n}function Jx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t=Rr(),Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vx(e,t,n,l){t.value=n,t.getSnapshot=l,Px(t)&&Fx(e)}function Qx(e,t,n){return n(function(){Px(t)&&Fx(e)})}function Px(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Fx(e){var t=ea(e,2);t!==null&&nn(t,e,2)}function X0(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),sa){We(!0);try{n()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t}function $x(e,t,n,l){return e.baseState=n,Z0(e,it,typeof l=="function"?l:sl)}function th(e,t,n,l,u){if(Hr(e))throw Error(i(485));if(e=t.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){x.listeners.push(p)}};w.T!==null?n(!0):x.isTransition=!1,l(x),n=t.pending,n===null?(x.next=t.pending=x,eo(t,x)):(x.next=n.next,t.pending=n.next=x)}}function eo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var x=w.T,p={};w.T=p;try{var T=n(u,l),U=w.S;U!==null&&U(p,T),to(e,t,T)}catch(ee){W0(e,t,ee)}finally{x!==null&&p.types!==null&&(x.types=p.types),w.T=x}}else try{x=n(u,l),to(e,t,x)}catch(ee){W0(e,t,ee)}}function to(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){no(e,t,l)},function(l){return W0(e,t,l)}):no(e,t,n)}function no(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eo(e,n)))}function W0(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lo(t),t=t.next;while(t!==l)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function io(e,t){if(Ie){var n=ut.formState;if(n!==null){e:{var l=Le;if(Ie){if(xt){t:{for(var u=xt,x=Nn;u.nodeType!==8;){if(!x){u=null;break t}if(u=Tn(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){xt=Tn(u.nextSibling),l=u.data==="F!";break e}}wl(l)}l=!1}l&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=l,n=wo.bind(null,Le,l),l.dispatch=n,l=X0(!1),x=$0.bind(null,Le,!1,l.queue),l=Kt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=th.bind(null,Le,u,x,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function ro(e){var t=pt();return co(t,it,e)}function co(e,t,n){if(t=Z0(e,t,ao)[0],e=Yr(sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ai(t)}catch(p){throw p===Ya?Nr:p}else l=t;t=pt();var u=t.queue,x=u.dispatch;return n!==t.memoizedState&&(Le.flags|=2048,Za(9,{destroy:void 0},nh.bind(null,u,n),null)),[l,x,e]}function nh(e,t){e.action=t}function uo(e){var t=pt(),n=it;if(n!==null)return co(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Za(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Le.updateQueue,t===null&&(t=Rr(),Le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function so(){return pt().memoizedState}function Or(e,t,n,l){var u=Kt();Le.flags|=e,u.memoizedState=Za(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ir(e,t,n,l){var u=pt();l=l===void 0?null:l;var x=u.memoizedState.inst;it!==null&&l!==null&&k0(l,it.memoizedState.deps)?u.memoizedState=Za(t,x,n,l):(Le.flags|=e,u.memoizedState=Za(1|t,x,n,l))}function xo(e,t){Or(8390656,8,e,t)}function J0(e,t){Ir(2048,8,e,t)}function lh(e){Le.flags|=4;var t=Le.updateQueue;if(t===null)t=Rr(),Le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function oo(e){var t=pt().memoizedState;return lh({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function fo(e,t){return Ir(4,2,e,t)}function ho(e,t){return Ir(4,4,e,t)}function mo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bo(e,t,n){n=n!=null?n.concat([e]):null,Ir(4,4,mo.bind(null,t,e),n)}function V0(){}function vo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&k0(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function go(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&k0(t,l[1]))return l[0];if(l=e(),sa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l}function Q0(e,t,n){return n===void 0||(ul&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=pf(),Le.lanes|=e,Bl|=e,n)}function yo(e,t,n,l){return xn(n,t)?n:Ia.current!==null?(e=Q0(e,n,l),xn(e,t)||(wt=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(ke&261930)===0?(wt=!0,e.memoizedState=n):(e=pf(),Le.lanes|=e,Bl|=e,t)}function po(e,t,n,l,u){var x=A.p;A.p=x!==0&&8>x?x:8;var p=w.T,T={};w.T=T,$0(e,!1,t,n);try{var U=u(),ee=w.S;if(ee!==null&&ee(T,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=F1(U,l);Ti(e,t,ie,bn(e))}else Ti(e,t,l,bn(e))}catch(ce){Ti(e,t,{then:function(){},status:"rejected",reason:ce},bn())}finally{A.p=x,p!==null&&T.types!==null&&(p.types=T.types),w.T=p}}function ah(){}function P0(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=_o(e).queue;po(e,u,t,G,n===null?ah:function(){return So(e),n(l)})}function _o(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:G},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function So(e){var t=_o(e);t.next===null&&(t=e.alternate.memoizedState),Ti(e,t.next.queue,{},bn())}function F0(){return Gt(Ji)}function Co(){return pt().memoizedState}function jo(){return pt().memoizedState}function ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=Dl(n);var l=Nl(t,e,n);l!==null&&(nn(l,t,n),Mi(l,t,n)),t={cache:z0()},e.payload=t;return}t=t.return}}function rh(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?Mo(t,n):(n=b0(e,t,n,l),n!==null&&(nn(n,e,l),zo(n,t,l)))}function wo(e,t,n){var l=bn();Ti(e,t,n,l)}function Ti(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))Mo(t,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=t.lastRenderedReducer,x!==null))try{var p=t.lastRenderedState,T=x(p,n);if(u.hasEagerState=!0,u.eagerState=T,xn(T,p))return Sr(e,t,u,0),ut===null&&_r(),!1}catch{}if(n=b0(e,t,u,l),n!==null)return nn(n,e,l),zo(n,t,l),!0}return!1}function $0(e,t,n,l){if(l={lane:2,revertLane:Tu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(i(479))}else t=b0(e,n,l,2),t!==null&&nn(t,e,2)}function Hr(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function Mo(e,t){Ha=qr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,et(e,n)}}var Li={readContext:Gt,use:kr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Li.useEffectEvent=bt;var Do={readContext:Gt,use:kr,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:xo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Or(4194308,4,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var l=e();if(sa){We(!0);try{e()}finally{We(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Kt();if(n!==void 0){var u=n(t);if(sa){We(!0);try{n(t)}finally{We(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=rh.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=X0(e);var t=e.queue,n=wo.bind(null,Le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:V0,useDeferredValue:function(e,t){var n=Kt();return Q0(n,e,t)},useTransition:function(){var e=X0(!1);return e=po.bind(null,Le,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Le,u=Kt();if(Ie){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ut===null)throw Error(i(349));(ke&127)!==0||Jx(l,t,n)}u.memoizedState=n;var x={value:n,getSnapshot:t};return u.queue=x,xo(Qx.bind(null,l,x,e),[e]),l.flags|=2048,Za(9,{destroy:void 0},Vx.bind(null,l,x,n,t),null),n},useId:function(){var e=Kt(),t=ut.identifierPrefix;if(Ie){var n=Jn,l=Wn;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:F0,useFormState:io,useActionState:io,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$0.bind(null,Le,!0,n),n.dispatch=t,[e,t]},useMemoCache:U0,useCacheRefresh:function(){return Kt().memoizedState=ih.bind(null,Le)},useEffectEvent:function(e){var t=Kt(),n={impl:e};return t.memoizedState=n,function(){if((Pe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},eu={readContext:Gt,use:kr,useCallback:vo,useContext:Gt,useEffect:J0,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:Yr,useRef:so,useState:function(){return Yr(sl)},useDebugValue:V0,useDeferredValue:function(e,t){var n=pt();return yo(n,it.memoizedState,e,t)},useTransition:function(){var e=Yr(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Wx,useId:Co,useHostTransitionStatus:F0,useFormState:ro,useActionState:ro,useOptimistic:function(e,t){var n=pt();return $x(n,it,e,t)},useMemoCache:U0,useCacheRefresh:jo};eu.useEffectEvent=oo;var No={readContext:Gt,use:kr,useCallback:vo,useContext:Gt,useEffect:J0,useImperativeHandle:bo,useInsertionEffect:fo,useLayoutEffect:ho,useMemo:go,useReducer:K0,useRef:so,useState:function(){return K0(sl)},useDebugValue:V0,useDeferredValue:function(e,t){var n=pt();return it===null?Q0(n,e,t):yo(n,it.memoizedState,e,t)},useTransition:function(){var e=K0(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ai(e),t]},useSyncExternalStore:Wx,useId:Co,useHostTransitionStatus:F0,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){var n=pt();return it!==null?$x(n,it,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:U0,useCacheRefresh:jo};No.useEffectEvent=oo;function tu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Dl(l);u.payload=t,n!=null&&(u.callback=n),t=Nl(e,u,l),t!==null&&(nn(t,e,l),Mi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Dl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Nl(e,u,l),t!==null&&(nn(t,e,l),Mi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=Dl(n);l.tag=2,t!=null&&(l.callback=t),t=Nl(e,l,n),t!==null&&(nn(t,e,n),Mi(t,e,n))}};function Ao(e,t,n,l,u,x,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,x,p):t.prototype&&t.prototype.isPureReactComponent?!gi(n,l)||!gi(u,x):!0}function To(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function xa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Lo(e){pr(e)}function Eo(e){console.error(e)}function Bo(e){pr(e)}function Ur(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function qo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function lu(e,t,n){return n=Dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Ur(e,t)},n}function Go(e){return e=Dl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=l.value;e.payload=function(){return u(x)},e.callback=function(){qo(t,n,l)}}var p=n.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){qo(t,n,l),typeof u!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ch(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,u,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return An===null?tc():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Du(e,l,u)),!1;case 22:return n.flags|=65536,l===Ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Du(e,l,u)),!1}throw Error(i(435,n.tag))}return Du(e,l,u),tc(),!1}if(Ie)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==S0&&(e=Error(i(422),{cause:l}),_i(Mn(e,n)))):(l!==S0&&(t=Error(i(423),{cause:l}),_i(Mn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Mn(l,n),u=lu(e.stateNode,l,u),E0(e,u),vt!==4&&(vt=2)),!1;var x=Error(i(520),{cause:l});if(x=Mn(x,n),Oi===null?Oi=[x]:Oi.push(x),vt!==4&&(vt=2),t===null)return!0;l=Mn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=lu(n.stateNode,l,e),E0(n,e),!1;case 1:if(t=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ql===null||!ql.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Go(u),Ro(u,e,n,l),E0(n,u),!1}n=n.return}while(n!==null);return!1}var au=Error(i(461)),wt=!1;function Rt(e,t,n,l){t.child=e===null?Ox(t,null,n,l):ua(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var x=t.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return aa(t),l=Y0(e,t,n,p,x,u),T=O0(),e!==null&&!wt?(I0(e,t,u),xl(e,t,u)):(Ie&&T&&p0(t),t.flags|=1,Rt(e,t,l,u),t.child)}function Yo(e,t,n,l,u){if(e===null){var x=n.type;return typeof x=="function"&&!v0(x)&&x.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=x,Oo(e,t,x,l,u)):(e=jr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(x=e.child,!fu(e,u)){var p=x.memoizedProps;if(n=n.compare,n=n!==null?n:gi,n(p,l)&&e.ref===t.ref)return xl(e,t,u)}return t.flags|=1,e=al(x,l),e.ref=t.ref,e.return=t,t.child=e}function Oo(e,t,n,l,u){if(e!==null){var x=e.memoizedProps;if(gi(x,l)&&e.ref===t.ref)if(wt=!1,t.pendingProps=l=x,fu(e,u))(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,xl(e,t,u)}return iu(e,t,n,l,u)}function Io(e,t,n,l){var u=l.children,x=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~x}else l=0,t.child=null;return Ho(e,t,x,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dr(t,x!==null?x.cachePool:null),x!==null?Ux(t,x):q0(),Zx(t);else return l=t.lanes=536870912,Ho(e,t,x!==null?x.baseLanes|n:n,n,l)}else x!==null?(Dr(t,x.cachePool),Ux(t,x),Tl(),t.memoizedState=null):(e!==null&&Dr(t,null),q0(),Tl());return Rt(e,t,u,n),t.child}function Ei(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ho(e,t,n,l,u){var x=N0();return x=x===null?null:{parent:Ct._currentValue,pool:x},t.memoizedState={baseLanes:n,cachePool:x},e!==null&&Dr(t,null),q0(),Zx(t),e!==null&&Ga(e,t,l,!0),t.childLanes=u,null}function Zr(e,t){return t=Xr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,n){return ua(t,e.child,null,n),e=Zr(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function uh(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(l.mode==="hidden")return e=Zr(t,l),t.lanes=536870912,Ei(null,e);if(R0(t),(e=xt)?(e=nd(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=wx(e),n.return=t,t.child=n,qt=t,xt=null)):e=null,e===null)throw wl(t);return t.lanes=536870912,null}return Zr(t,l)}var x=e.memoizedState;if(x!==null){var p=x.dehydrated;if(R0(t),u)if(t.flags&256)t.flags&=-257,t=Uo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(wt||Ga(e,t,n,!1),u=(n&e.childLanes)!==0,wt||u){if(l=ut,l!==null&&(p=tt(l,n),p!==0&&p!==x.retryLane))throw x.retryLane=p,ea(e,p),nn(l,e,p),au;tc(),t=Uo(e,t,n)}else e=x.treeContext,xt=Tn(p.nextSibling),qt=t,Ie=!0,jl=null,Nn=!1,e!==null&&Dx(t,e),t=Zr(t,l),t.flags|=4096;return t}return e=al(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function iu(e,t,n,l,u){return aa(t),n=Y0(e,t,n,l,void 0,u),l=O0(),e!==null&&!wt?(I0(e,t,u),xl(e,t,u)):(Ie&&l&&p0(t),t.flags|=1,Rt(e,t,n,u),t.child)}function Zo(e,t,n,l,u,x){return aa(t),t.updateQueue=null,n=Xx(t,l,n,u),Kx(e),l=O0(),e!==null&&!wt?(I0(e,t,x),xl(e,t,x)):(Ie&&l&&p0(t),t.flags|=1,Rt(e,t,n,x),t.child)}function Ko(e,t,n,l,u){if(aa(t),t.stateNode===null){var x=La,p=n.contextType;typeof p=="object"&&p!==null&&(x=Gt(p)),x=new n(l,x),t.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=nu,t.stateNode=x,x._reactInternals=t,x=t.stateNode,x.props=l,x.state=t.memoizedState,x.refs={},T0(t),p=n.contextType,x.context=typeof p=="object"&&p!==null?Gt(p):La,x.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(tu(t,n,p,l),x.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(p=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),p!==x.state&&nu.enqueueReplaceState(x,x.state,null),Di(t,l,x,u),zi(),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){x=t.stateNode;var T=t.memoizedProps,U=xa(n,T);x.props=U;var ee=x.context,ie=n.contextType;p=La,typeof ie=="object"&&ie!==null&&(p=Gt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||ee!==p)&&To(t,x,l,p),zl=!1;var ne=t.memoizedState;x.state=ne,Di(t,l,x,u),zi(),ee=t.memoizedState,T||ne!==ee||zl?(typeof ce=="function"&&(tu(t,n,ce,l),ee=t.memoizedState),(U=zl||Ao(t,n,U,l,ne,ee,p))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ee),x.props=l,x.state=ee,x.context=p,l=U):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{x=t.stateNode,L0(e,t),p=t.memoizedProps,ie=xa(n,p),x.props=ie,ce=t.pendingProps,ne=x.context,ee=n.contextType,U=La,typeof ee=="object"&&ee!==null&&(U=Gt(ee)),T=n.getDerivedStateFromProps,(ee=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(p!==ce||ne!==U)&&To(t,x,l,U),zl=!1,ne=t.memoizedState,x.state=ne,Di(t,l,x,u),zi();var ae=t.memoizedState;p!==ce||ne!==ae||zl||e!==null&&e.dependencies!==null&&Mr(e.dependencies)?(typeof T=="function"&&(tu(t,n,T,l),ae=t.memoizedState),(ie=zl||Ao(t,n,ie,l,ne,ae,U)||e!==null&&e.dependencies!==null&&Mr(e.dependencies))?(ee||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(l,ae,U),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(l,ae,U)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),x.props=l,x.state=ae,x.context=U,l=ie):(typeof x.componentDidUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return x=l,Kr(e,t),l=(t.flags&128)!==0,x||l?(x=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:x.render(),t.flags|=1,e!==null&&l?(t.child=ua(t,e.child,null,u),t.child=ua(t,null,n,u)):Rt(e,t,n,u),t.memoizedState=x.state,e=t.child):e=xl(e,t,u),e}function Xo(e,t,n,l){return na(),t.flags|=256,Rt(e,t,n,l),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:Bx()}}function uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Wo(e,t,n){var l=t.pendingProps,u=!1,x=(t.flags&128)!==0,p;if((p=x)||(p=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(u?Al(t):Tl(),(e=xt)?(e=nd(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Wn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},n=wx(e),n.return=t,t.child=n,qt=t,xt=null)):e=null,e===null)throw wl(t);return Zu(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,u?(Tl(),u=t.mode,T=Xr({mode:"hidden",children:T},u),l=ta(l,u,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,p,n),t.memoizedState=ru,Ei(null,l)):(Al(t),su(t,T))}var U=e.memoizedState;if(U!==null&&(T=U.dehydrated,T!==null)){if(x)t.flags&256?(Al(t),t.flags&=-257,t=xu(e,t,n)):t.memoizedState!==null?(Tl(),t.child=e.child,t.flags|=128,t=null):(Tl(),T=l.fallback,u=t.mode,l=Xr({mode:"visible",children:l.children},u),T=ta(T,u,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,ua(t,e.child,null,n),l=t.child,l.memoizedState=cu(n),l.childLanes=uu(e,p,n),t.memoizedState=ru,t=Ei(null,l));else if(Al(t),Zu(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var ee=p.dgst;p=ee,l=Error(i(419)),l.stack="",l.digest=p,_i({value:l,source:null,stack:null}),t=xu(e,t,n)}else if(wt||Ga(e,t,n,!1),p=(n&e.childLanes)!==0,wt||p){if(p=ut,p!==null&&(l=tt(p,n),l!==0&&l!==U.retryLane))throw U.retryLane=l,ea(e,l),nn(p,e,l),au;Uu(T)||tc(),t=xu(e,t,n)}else Uu(T)?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,xt=Tn(T.nextSibling),qt=t,Ie=!0,jl=null,Nn=!1,e!==null&&Dx(t,e),t=su(t,l.children),t.flags|=4096);return t}return u?(Tl(),T=l.fallback,u=t.mode,U=e.child,ee=U.sibling,l=al(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,ee!==null?T=al(ee,T):(T=ta(T,u,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ei(null,l),l=t.child,T=e.child.memoizedState,T===null?T=cu(n):(u=T.cachePool,u!==null?(U=Ct._currentValue,u=u.parent!==U?{parent:U,pool:U}:u):u=Bx(),T={baseLanes:T.baseLanes|n,cachePool:u}),l.memoizedState=T,l.childLanes=uu(e,p,n),t.memoizedState=ru,Ei(e.child,l)):(Al(t),n=e.child,e=n.sibling,n=al(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=n,t.memoizedState=null,n)}function su(e,t){return t=Xr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xr(e,t){return e=on(22,e,null,t),e.lanes=0,e}function xu(e,t,n){return ua(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),w0(e.return,t,n)}function ou(e,t,n,l,u,x){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:x}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=n,p.tailMode=u,p.treeForkCount=x)}function Vo(e,t,n){var l=t.pendingProps,u=l.revealOrder,x=l.tail;l=l.children;var p=yt.current,T=(p&2)!==0;if(T?(p=p&1|2,t.flags|=128):p&=1,H(yt,p),Rt(e,t,l,n),l=Ie?pi:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jo(e,n,t);else if(e.tag===19)Jo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Br(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),ou(t,!1,u,n,x,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Br(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}ou(t,!0,n,null,x,l);break;case"together":ou(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function xl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=al(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=al(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Mr(e)))}function sh(e,t,n){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),Ml(t,Ct,e.memoizedState.cache),na();break;case 27:case 5:we(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:Ml(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,R0(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Al(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wo(e,t,n):(Al(t),e=xl(e,t,n),e!==null?e.sibling:null);Al(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Vo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Io(e,t,n,t.pendingProps);case 24:Ml(t,Ct,e.memoizedState.cache)}return xl(e,t,n)}function Qo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wt=!0;else{if(!fu(e,n)&&(t.flags&128)===0)return wt=!1,sh(e,t,n);wt=(e.flags&131072)!==0}else wt=!1,Ie&&(t.flags&1048576)!==0&&zx(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")v0(e)?(l=xa(e,l),t.tag=1,t=Ko(null,t,e,l,n)):(t.tag=0,t=iu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===q){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===Y){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=L(e)||e,Error(i(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=xa(l,t.pendingProps),Ko(e,t,l,u,n);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var x=t.memoizedState;u=x.element,L0(e,t),Di(t,l,null,n);var p=t.memoizedState;if(l=p.cache,Ml(t,Ct,l),l!==x.cache&&M0(t,[Ct],n,!0),zi(),l=p.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=x,t.memoizedState=x,t.flags&256){t=Xo(e,t,l,n);break e}else if(l!==u){u=Mn(Error(i(424)),t),_i(u),t=Xo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,xt=Tn(e.firstChild),qt=t,Ie=!0,jl=null,Nn=!0,n=Ox(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),l===u){t=xl(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Kr(e,t),e===null?(n=ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ie||(n=t.type,e=t.pendingProps,l=uc(ue.current).createElement(n),l[Dt]=t,l[Ht]=e,kt(l,n,e),Tt(l),t.stateNode=l):t.memoizedState=ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Ie&&(l=t.stateNode=id(t.type,t.pendingProps,ue.current),qt=t,Nn=!0,u=xt,Yl(t.type)?(Ku=u,xt=Tn(l.firstChild)):xt=u),Rt(e,t,t.pendingProps.children,n),Kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((u=l=xt)&&(l=Yh(l,t.type,t.pendingProps,Nn),l!==null?(t.stateNode=l,qt=t,xt=Tn(l.firstChild),Nn=!1,u=!0):u=!1),u||wl(t)),we(t),u=t.type,x=t.pendingProps,p=e!==null?e.memoizedProps:null,l=x.children,Ou(u,x)?l=null:p!==null&&Ou(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=Y0(e,t,eh,null,null,n),Ji._currentValue=u),Kr(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&Ie&&((e=n=xt)&&(n=Oh(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,qt=t,xt=null,e=!0):e=!1),e||wl(t)),null;case 13:return Wo(e,t,n);case 4:return _e(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ua(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ml(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,aa(t),u=Gt(u),l=l(u),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Oo(e,t,t.type,t.pendingProps,n);case 19:return Vo(e,t,n);case 31:return uh(e,t,n);case 22:return Io(e,t,n,t.pendingProps);case 24:return aa(t),l=Gt(Ct),e===null?(u=N0(),u===null&&(u=ut,x=z0(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),t.memoizedState={parent:l,cache:u},T0(t),Ml(t,Ct,u)):((e.lanes&n)!==0&&(L0(e,t),Di(t,null,null,n),zi()),u=e.memoizedState,x=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ml(t,Ct,l)):(l=x.cache,Ml(t,Ct,l),l!==u.cache&&M0(t,[Ct],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function du(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw ca=Ar,A0}else e.flags&=-16777217}function Po(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dd(t))if(jf())e.flags|=8192;else throw ca=Ar,A0}function Wr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Qe():536870912,e.lanes|=t,Ja|=t)}function Bi(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function xh(e,t,n){var l=t.pendingProps;switch(_0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),cl(Ct),de(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?ol(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,C0())),ot(t),null;case 26:var u=t.type,x=t.memoizedState;return e===null?(ol(t),x!==null?(ot(t),Po(t,x)):(ot(t),du(t,u,null,l,n))):x?x!==e.memoizedState?(ol(t),ot(t),Po(t,x)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ol(t),ot(t),du(t,u,e,l,n)),null;case 27:if(me(t),n=ue.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ot(t),null}e=X.current,qa(t)?Nx(t):(e=id(u,l,n),t.stateNode=e,ol(t))}return ot(t),null;case 5:if(me(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ot(t),null}if(x=X.current,qa(t))Nx(t);else{var p=uc(ue.current);switch(x){case 1:x=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=p.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?x.multiple=!0:l.size&&(x.size=l.size);break;default:x=typeof l.is=="string"?p.createElement(u,{is:l.is}):p.createElement(u)}}x[Dt]=t,x[Ht]=l;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)x.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=x;e:switch(kt(x,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ol(t)}}return ot(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ol(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ue.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=qt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Jf(e.nodeValue,n)),e||wl(t,!0)}else e=uc(e).createTextNode(l),e[Dt]=t,t.stateNode=e}return ot(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else n=C0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ot(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),u=!1}else u=C0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Wr(t,t.updateQueue),ot(t),null);case 4:return de(),e===null&&qu(t.stateNode.containerInfo),ot(t),null;case 10:return cl(t.type),ot(t),null;case 19:if(R(yt),l=t.memoizedState,l===null)return ot(t),null;if(u=(t.flags&128)!==0,x=l.rendering,x===null)if(u)Bi(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Br(e),x!==null){for(t.flags|=128,Bi(l,!1),e=x.updateQueue,t.updateQueue=e,Wr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jx(n,e),n=n.sibling;return H(yt,yt.current&1|2),Ie&&il(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Xe()>Fr&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Br(x),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Wr(t,e),Bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!x.alternate&&!Ie)return ot(t),null}else 2*Xe()-l.renderingStartTime>Fr&&n!==536870912&&(t.flags|=128,u=!0,Bi(l,!1),t.lanes=4194304);l.isBackwards?(x.sibling=t.child,t.child=x):(e=l.last,e!==null?e.sibling=x:t.child=x,l.last=x)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Xe(),e.sibling=null,n=yt.current,H(yt,u?n&1|2:n&1),Ie&&il(t,l.treeForkCount),e):(ot(t),null);case 22:case 23:return dn(t),G0(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),n=t.updateQueue,n!==null&&Wr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&R(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cl(Ct),ot(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function oh(e,t){switch(_0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(Ct),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(yt),null;case 4:return de(),null;case 10:return cl(t.type),null;case 22:case 23:return dn(t),G0(),e!==null&&R(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cl(Ct),null;case 25:return null;default:return null}}function Fo(e,t){switch(_0(t),t.tag){case 3:cl(Ct),de();break;case 26:case 27:case 5:me(t);break;case 4:de();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:R(yt);break;case 10:cl(t.type);break;case 22:case 23:dn(t),G0(),e!==null&&R(ia);break;case 24:cl(Ct)}}function qi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var x=n.create,p=n.inst;l=x(),p.destroy=l}n=n.next}while(n!==u)}}catch(T){at(t,t.return,T)}}function Ll(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var x=u.next;l=x;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,u=t;var U=n,ee=T;try{ee()}catch(ie){at(u,U,ie)}}}l=l.next}while(l!==x)}}catch(ie){at(t,t.return,ie)}}function $o(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hx(t,n)}catch(l){at(e,e.return,l)}}}function ef(e,t,n){n.props=xa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){at(e,t,l)}}function Gi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){at(e,t,u)}}function Vn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){at(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){at(e,t,u)}else n.current=null}function tf(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){at(e,e.return,u)}}function hu(e,t,n){try{var l=e.stateNode;Eh(l,e.type,n,t),l[Ht]=t}catch(u){at(e,e.return,u)}}function nf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nl));else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function Jr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Jr(e,t,n),e=e.sibling;e!==null;)Jr(e,t,n),e=e.sibling}function lf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);kt(t,l,n),t[Dt]=e,t[Ht]=n}catch(x){at(e,e.return,x)}}var fl=!1,Mt=!1,vu=!1,af=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function fh(e,t){if(e=e.containerInfo,ku=mc,e=mx(e),x0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var p=0,T=-1,U=-1,ee=0,ie=0,ce=e,ne=null;t:for(;;){for(var ae;ce!==n||u!==0&&ce.nodeType!==3||(T=p+u),ce!==x||l!==0&&ce.nodeType!==3||(U=p+l),ce.nodeType===3&&(p+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ne=ce,ce=ae;for(;;){if(ce===e)break t;if(ne===n&&++ee===u&&(T=p),ne===x&&++ie===l&&(U=p),(ae=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=ae}n=T===-1||U===-1?null:{start:T,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},mc=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,x=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=t,u=x.memoizedProps,x=x.memoizedState,l=n.stateNode;try{var he=xa(n.type,u);e=l.getSnapshotBeforeUpdate(he,x),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){at(n,n.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}}function rf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:hl(e,n),l&4&&qi(5,n);break;case 1:if(hl(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(p){at(n,n.return,p)}else{var u=xa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){at(n,n.return,p)}}l&64&&$o(n),l&512&&Gi(n,n.return);break;case 3:if(hl(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hx(e,t)}catch(p){at(n,n.return,p)}}break;case 27:t===null&&l&4&&lf(n);case 26:case 5:hl(e,n),t===null&&l&4&&tf(n),l&512&&Gi(n,n.return);break;case 12:hl(e,n);break;case 31:hl(e,n),l&4&&sf(e,n);break;case 13:hl(e,n),l&4&&xf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_h.bind(null,n),Ih(e,n))));break;case 22:if(l=n.memoizedState!==null||fl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=fl;var x=Mt;fl=l,(Mt=t)&&!x?ml(e,n,(n.subtreeFlags&8772)!==0):hl(e,n),fl=u,Mt=x}break;case 30:break;default:hl(e,n)}}function cf(e){var t=e.alternate;t!==null&&(e.alternate=null,cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&si(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Ft=!1;function dl(e,t,n){for(n=n.child;n!==null;)uf(e,t,n),n=n.sibling}function uf(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 26:Mt||Vn(n,t),dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Vn(n,t);var l=dt,u=Ft;Yl(n.type)&&(dt=n.stateNode,Ft=!1),dl(e,t,n),Ki(n.stateNode),dt=l,Ft=u;break;case 5:Mt||Vn(n,t);case 6:if(l=dt,u=Ft,dt=null,dl(e,t,n),dt=l,Ft=u,dt!==null)if(Ft)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(x){at(n,t,x)}else try{dt.removeChild(n.stateNode)}catch(x){at(n,t,x)}break;case 18:dt!==null&&(Ft?(e=dt,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):ed(dt,n.stateNode));break;case 4:l=dt,u=Ft,dt=n.stateNode.containerInfo,Ft=!0,dl(e,t,n),dt=l,Ft=u;break;case 0:case 11:case 14:case 15:Ll(2,n,t),Mt||Ll(4,n,t),dl(e,t,n);break;case 1:Mt||(Vn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ef(n,t,l)),dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,dl(e,t,n),Mt=l;break;default:dl(e,t,n)}}function sf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){at(t,t.return,n)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){at(t,t.return,n)}}function dh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new af),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new af),t;default:throw Error(i(435,e.tag))}}function Vr(e,t){var n=dh(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=Sh.bind(null,e,l);l.then(u,u)}})}function $t(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],x=e,p=t,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(Yl(T.type)){dt=T.stateNode,Ft=!1;break e}break;case 5:dt=T.stateNode,Ft=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,Ft=!0;break e}T=T.return}if(dt===null)throw Error(i(160));uf(x,p,u),dt=null,Ft=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)of(t,e),t=t.sibling}var In=null;function of(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$t(t,e),en(e),l&4&&(Ll(3,e,e.return),qi(3,e),Ll(5,e,e.return));break;case 1:$t(t,e),en(e),l&512&&(Mt||n===null||Vn(n,n.return)),l&64&&fl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=In;if($t(t,e),en(e),l&512&&(Mt||n===null||Vn(n,n.return)),l&4){var x=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":x=u.getElementsByTagName("title")[0],(!x||x[sn]||x[Dt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(l),u.head.insertBefore(x,u.querySelector("head > title"))),kt(x,l,n),x[Dt]=e,Tt(x),l=x;break e;case"link":var p=od("link","href",u).get(l+(n.href||""));if(p){for(var T=0;T<p.length;T++)if(x=p[T],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){p.splice(T,1);break t}}x=u.createElement(l),kt(x,l,n),u.head.appendChild(x);break;case"meta":if(p=od("meta","content",u).get(l+(n.content||""))){for(T=0;T<p.length;T++)if(x=p[T],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){p.splice(T,1);break t}}x=u.createElement(l),kt(x,l,n),u.head.appendChild(x);break;default:throw Error(i(468,l))}x[Dt]=e,Tt(x),l=x}e.stateNode=l}else fd(u,e.type,e.stateNode);else e.stateNode=xd(u,l,e.memoizedProps);else x!==l?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,l===null?fd(u,e.type,e.stateNode):xd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hu(e,e.memoizedProps,n.memoizedProps)}break;case 27:$t(t,e),en(e),l&512&&(Mt||n===null||Vn(n,n.return)),n!==null&&l&4&&hu(e,e.memoizedProps,n.memoizedProps);break;case 5:if($t(t,e),en(e),l&512&&(Mt||n===null||Vn(n,n.return)),e.flags&32){u=e.stateNode;try{wa(u,"")}catch(he){at(e,e.return,he)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,hu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(vu=!0);break;case 6:if($t(t,e),en(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(he){at(e,e.return,he)}}break;case 3:if(oc=null,u=In,In=sc(t.containerInfo),$t(t,e),In=u,en(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(he){at(e,e.return,he)}vu&&(vu=!1,ff(e));break;case 4:l=In,In=sc(e.stateNode.containerInfo),$t(t,e),en(e),In=l;break;case 12:$t(t,e),en(e);break;case 31:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:$t(t,e),en(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pr=Xe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:u=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,ee=fl,ie=Mt;if(fl=ee||u,Mt=ie||U,$t(t,e),Mt=ie,fl=ee,en(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||U||fl||Mt||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(x=U.stateNode,u)p=x.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=U.stateNode;var ce=U.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;T.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(he){at(U,U.return,he)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=u?"":U.memoizedProps}catch(he){at(U,U.return,he)}}}else if(t.tag===18){if(n===null){U=t;try{var ae=U.stateNode;u?td(ae,!0):td(U.stateNode,!1)}catch(he){at(U,U.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Vr(e,n))));break;case 19:$t(t,e),en(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:$t(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(nf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,x=mu(e);Jr(e,x,u);break;case 5:var p=n.stateNode;n.flags&32&&(wa(p,""),n.flags&=-33);var T=mu(e);Jr(e,T,p);break;case 3:case 4:var U=n.stateNode.containerInfo,ee=mu(e);bu(e,ee,U);break;default:throw Error(i(161))}}catch(ie){at(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ff(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ff(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rf(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),oa(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ef(t,t.return,n),oa(t);break;case 27:Ki(t.stateNode);case 26:case 5:Vn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function ml(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,x=t,p=x.flags;switch(x.tag){case 0:case 11:case 15:ml(u,x,n),qi(4,x);break;case 1:if(ml(u,x,n),l=x,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(ee){at(l,l.return,ee)}if(l=x,u=l.updateQueue,u!==null){var T=l.stateNode;try{var U=u.shared.hiddenCallbacks;if(U!==null)for(u.shared.hiddenCallbacks=null,u=0;u<U.length;u++)Ix(U[u],T)}catch(ee){at(l,l.return,ee)}}n&&p&64&&$o(x),Gi(x,x.return);break;case 27:lf(x);case 26:case 5:ml(u,x,n),n&&l===null&&p&4&&tf(x),Gi(x,x.return);break;case 12:ml(u,x,n);break;case 31:ml(u,x,n),n&&p&4&&sf(u,x);break;case 13:ml(u,x,n),n&&p&4&&xf(u,x);break;case 22:x.memoizedState===null&&ml(u,x,n),Gi(x,x.return);break;case 30:break;default:ml(u,x,n)}t=t.sibling}}function gu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Si(n))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e))}function Hn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)df(e,t,n,l),t=t.sibling}function df(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Hn(e,t,n,l),u&2048&&qi(9,t);break;case 1:Hn(e,t,n,l);break;case 3:Hn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Si(e)));break;case 12:if(u&2048){Hn(e,t,n,l),e=t.stateNode;try{var x=t.memoizedProps,p=x.id,T=x.onPostCommit;typeof T=="function"&&T(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){at(t,t.return,U)}}else Hn(e,t,n,l);break;case 31:Hn(e,t,n,l);break;case 13:Hn(e,t,n,l);break;case 23:break;case 22:x=t.stateNode,p=t.alternate,t.memoizedState!==null?x._visibility&2?Hn(e,t,n,l):Ri(e,t):x._visibility&2?Hn(e,t,n,l):(x._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&gu(p,t);break;case 24:Hn(e,t,n,l),u&2048&&yu(t.alternate,t);break;default:Hn(e,t,n,l)}}function Ka(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var x=e,p=t,T=n,U=l,ee=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(x,p,T,U,u),qi(8,p);break;case 23:break;case 22:var ie=p.stateNode;p.memoizedState!==null?ie._visibility&2?Ka(x,p,T,U,u):Ri(x,p):(ie._visibility|=2,Ka(x,p,T,U,u)),u&&ee&2048&&gu(p.alternate,p);break;case 24:Ka(x,p,T,U,u),u&&ee&2048&&yu(p.alternate,p);break;default:Ka(x,p,T,U,u)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ri(n,l),u&2048&&gu(l.alternate,l);break;case 24:Ri(n,l),u&2048&&yu(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)hf(e,t,n),e=e.sibling}function hf(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&$h(n,In,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=In;In=sc(e.stateNode.containerInfo),Xa(e,t,n),In=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function mf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,vf(l,e)}mf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bf(e),e=e.sibling}function bf(e){switch(e.tag){case 0:case 11:case 15:Yi(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Yi(e);break;case 12:Yi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qr(e)):Yi(e);break;default:Yi(e)}}function Qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Lt=l,vf(l,e)}mf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),Qr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qr(t));break;default:Qr(t)}e=e.sibling}}function vf(e,t){for(;Lt!==null;){var n=Lt;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Si(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Lt=l;else e:for(n=e;Lt!==null;){l=Lt;var u=l.sibling,x=l.return;if(cf(l),l===n){Lt=null;break e}if(u!==null){u.return=x,Lt=u;break e}Lt=x}}}var hh={getCacheForType:function(e){var t=Gt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Gt(Ct).controller.signal}},mh=typeof WeakMap=="function"?WeakMap:Map,Pe=0,ut=null,Ge=null,ke=0,lt=0,hn=null,El=!1,Wa=!1,pu=!1,bl=0,vt=0,Bl=0,fa=0,_u=0,mn=0,Ja=0,Oi=null,tn=null,Su=!1,Pr=0,gf=0,Fr=1/0,$r=null,ql=null,Nt=0,Gl=null,Va=null,vl=0,Cu=0,ju=null,yf=null,Ii=0,wu=null;function bn(){return(Pe&2)!==0&&ke!==0?ke&-ke:w.T!==null?Tu():ya()}function pf(){if(mn===0)if((ke&536870912)===0||Ie){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function nn(e,t,n){(e===ut&&(lt===2||lt===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Rl(e,ke,mn,!1)),gt(e,n),((Pe&2)===0||e!==ut)&&(e===ut&&((Pe&2)===0&&(fa|=n),vt===4&&Rl(e,ke,mn,!1)),Qn(e))}function _f(e,t,n){if((Pe&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Oe(e,t),u=l?gh(e,t):zu(e,t,!0),x=l;do{if(u===0){Wa&&!l&&Rl(e,t,0,!1);break}else{if(n=e.current.alternate,x&&!bh(n)){u=zu(e,t,!1),x=!1;continue}if(u===2){if(x=t,e.errorRecoveryDisabledLanes&x)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var T=e;u=Oi;var U=T.current.memoizedState.isDehydrated;if(U&&(Qa(T,p).flags|=256),p=zu(T,p,!1),p!==2){if(pu&&!U){T.errorRecoveryDisabledLanes|=x,fa|=x,u=4;break e}x=tn,tn=u,x!==null&&(tn===null?tn=x:tn.push.apply(tn,x))}u=p}if(x=!1,u!==2)continue}}if(u===1){Qa(e,0),Rl(e,t,0,!0);break}e:{switch(l=e,x=u,x){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Rl(l,t,mn,!El);break e;case 2:tn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Pr+300-Xe(),10<u)){if(Rl(l,t,mn,!El),Je(l,0,!0)!==0)break e;vl=t,l.timeoutHandle=Ff(Sf.bind(null,l,n,tn,$r,Su,t,mn,fa,Ja,El,x,"Throttled",-0,0),u);break e}Sf(l,n,tn,$r,Su,t,mn,fa,Ja,El,x,null,-0,0)}}break}while(!0);Qn(e)}function Sf(e,t,n,l,u,x,p,T,U,ee,ie,ce,ne,ae){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},hf(t,x,ce);var he=(x&62914560)===x?Pr-Xe():(x&4194048)===x?gf-Xe():0;if(he=e2(ce,he),he!==null){vl=x,e.cancelPendingCommit=he(Af.bind(null,e,t,x,n,l,u,p,T,U,ie,ce,null,ne,ae)),Rl(e,x,p,!ee);return}}Af(e,t,x,n,l,u,p,T,U)}function bh(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],x=u.getSnapshot;u=u.value;try{if(!xn(x(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rl(e,t,n,l){t&=~_u,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var x=31-xe(u),p=1<<x;l[x]=-1,u&=~p}n!==0&&Me(e,n,t)}function ec(){return(Pe&6)===0?(Hi(0),!1):!0}function Mu(){if(Ge!==null){if(lt===0)var e=Ge.return;else e=Ge,rl=la=null,H0(e),Oa=null,ji=0,e=Ge;for(;e!==null;)Fo(e.alternate,e),e=e.return;Ge=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Gh(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vl=0,Mu(),ut=e,Ge=n=al(e.current,null),ke=t,lt=0,hn=null,El=!1,Wa=Oe(e,t),pu=!1,Ja=mn=_u=fa=Bl=vt=0,tn=Oi=null,Su=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-xe(l),x=1<<u;t|=e[u],l&=~x}return bl=t,_r(),n}function Cf(e,t){Le=null,w.H=Li,t===Ya||t===Nr?(t=Rx(),lt=3):t===A0?(t=Rx(),lt=4):lt=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Ge===null&&(vt=1,Ur(e,Mn(t,e.current)))}function jf(){var e=fn.current;return e===null?!0:(ke&4194048)===ke?An===null:(ke&62914560)===ke||(ke&536870912)!==0?e===An:!1}function wf(){var e=w.H;return w.H=Li,e===null?Li:e}function Mf(){var e=w.A;return w.A=hh,e}function tc(){vt=4,El||(ke&4194048)!==ke&&fn.current!==null||(Wa=!0),(Bl&134217727)===0&&(fa&134217727)===0||ut===null||Rl(ut,ke,mn,!1)}function zu(e,t,n){var l=Pe;Pe|=2;var u=wf(),x=Mf();(ut!==e||ke!==t)&&($r=null,Qa(e,t)),t=!1;var p=vt;e:do try{if(lt!==0&&Ge!==null){var T=Ge,U=hn;switch(lt){case 8:Mu(),p=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var ee=lt;if(lt=0,hn=null,Pa(e,T,U,ee),n&&Wa){p=0;break e}break;default:ee=lt,lt=0,hn=null,Pa(e,T,U,ee)}}vh(),p=vt;break}catch(ie){Cf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,rl=la=null,Pe=l,w.H=u,w.A=x,Ge===null&&(ut=null,ke=0,_r()),p}function vh(){for(;Ge!==null;)zf(Ge)}function gh(e,t){var n=Pe;Pe|=2;var l=wf(),u=Mf();ut!==e||ke!==t?($r=null,Fr=Xe()+500,Qa(e,t)):Wa=Oe(e,t);e:do try{if(lt!==0&&Ge!==null){t=Ge;var x=hn;t:switch(lt){case 1:lt=0,hn=null,Pa(e,t,x,1);break;case 2:case 9:if(qx(x)){lt=0,hn=null,Df(t);break}t=function(){lt!==2&&lt!==9||ut!==e||(lt=7),Qn(e)},x.then(t,t);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:qx(x)?(lt=0,hn=null,Df(t)):(lt=0,hn=null,Pa(e,t,x,7));break;case 5:var p=null;switch(Ge.tag){case 26:p=Ge.memoizedState;case 5:case 27:var T=Ge;if(p?dd(p):T.stateNode.complete){lt=0,hn=null;var U=T.sibling;if(U!==null)Ge=U;else{var ee=T.return;ee!==null?(Ge=ee,nc(ee)):Ge=null}break t}}lt=0,hn=null,Pa(e,t,x,5);break;case 6:lt=0,hn=null,Pa(e,t,x,6);break;case 8:Mu(),vt=6;break e;default:throw Error(i(462))}}yh();break}catch(ie){Cf(e,ie)}while(!0);return rl=la=null,w.H=l,w.A=u,Pe=n,Ge!==null?0:(ut=null,ke=0,_r(),vt)}function yh(){for(;Ge!==null&&!Rn();)zf(Ge)}function zf(e){var t=Qo(e.alternate,e,bl);e.memoizedProps=e.pendingProps,t===null?nc(e):Ge=t}function Df(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:H0(t);default:Fo(n,t),t=Ge=jx(t,bl),t=Qo(n,t,bl)}e.memoizedProps=e.pendingProps,t===null?nc(e):Ge=t}function Pa(e,t,n,l){rl=la=null,H0(t),Oa=null,ji=0;var u=t.return;try{if(ch(e,u,t,n,ke)){vt=1,Ur(e,Mn(n,e.current)),Ge=null;return}}catch(x){if(u!==null)throw Ge=u,x;vt=1,Ur(e,Mn(n,e.current)),Ge=null;return}t.flags&32768?(Ie||l===1?e=!0:Wa||(ke&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Nf(t,e)):nc(t)}function nc(e){var t=e;do{if((t.flags&32768)!==0){Nf(t,El);return}e=t.return;var n=xh(t.alternate,t,bl);if(n!==null){Ge=n;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);vt===0&&(vt=5)}function Nf(e,t){do{var n=oh(e.alternate,e);if(n!==null){n.flags&=32767,Ge=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=n}while(e!==null);vt=6,Ge=null}function Af(e,t,n,l,u,x,p,T,U){e.cancelPendingCommit=null;do lc();while(Nt!==0);if((Pe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(x=t.lanes|t.childLanes,x|=m0,Fe(e,n,x,p,T,U),e===ut&&(Ge=ut=null,ke=0),Va=t,Gl=e,vl=n,Cu=x,ju=u,yf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ch(kn,function(){return qf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,u=A.p,A.p=2,p=Pe,Pe|=4;try{fh(e,t,n)}finally{Pe=p,A.p=u,w.T=l}}Nt=1,Tf(),Lf(),Ef()}}function Tf(){if(Nt===1){Nt=0;var e=Gl,t=Va,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var l=A.p;A.p=2;var u=Pe;Pe|=4;try{of(t,e);var x=Yu,p=mx(e.containerInfo),T=x.focusedElem,U=x.selectionRange;if(p!==T&&T&&T.ownerDocument&&hx(T.ownerDocument.documentElement,T)){if(U!==null&&x0(T)){var ee=U.start,ie=U.end;if(ie===void 0&&(ie=ee),"selectionStart"in T)T.selectionStart=ee,T.selectionEnd=Math.min(ie,T.value.length);else{var ce=T.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),he=T.textContent.length,Ce=Math.min(U.start,he),ct=U.end===void 0?Ce:Math.min(U.end,he);!ae.extend&&Ce>ct&&(p=ct,ct=Ce,Ce=p);var J=dx(T,Ce),K=dx(T,ct);if(J&&K&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var $=ce.createRange();$.setStart(J.node,J.offset),ae.removeAllRanges(),Ce>ct?(ae.addRange($),ae.extend(K.node,K.offset)):($.setEnd(K.node,K.offset),ae.addRange($))}}}}for(ce=[],ae=T;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ce.length;T++){var re=ce[T];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}mc=!!ku,Yu=ku=null}finally{Pe=u,A.p=l,w.T=n}}e.current=t,Nt=2}}function Lf(){if(Nt===2){Nt=0;var e=Gl,t=Va,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var l=A.p;A.p=2;var u=Pe;Pe|=4;try{rf(e,t.alternate,t)}finally{Pe=u,A.p=l,w.T=n}}Nt=3}}function Ef(){if(Nt===4||Nt===3){Nt=0,$n();var e=Gl,t=Va,n=vl,l=yf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Va=Gl=null,Bf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ql=null),_n(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,u=A.p,A.p=2,w.T=null;try{for(var x=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];x(T.value,{componentStack:T.stack})}}finally{w.T=t,A.p=u}}(vl&3)!==0&&lc(),Qn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===wu?Ii++:(Ii=0,wu=e):Ii=0,Hi(0)}}function Bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Si(t)))}function lc(){return Tf(),Lf(),Ef(),qf()}function qf(){if(Nt!==5)return!1;var e=Gl,t=Cu;Cu=0;var n=_n(vl),l=w.T,u=A.p;try{A.p=32>n?32:n,w.T=null,n=ju,ju=null;var x=Gl,p=vl;if(Nt=0,Va=Gl=null,vl=0,(Pe&6)!==0)throw Error(i(331));var T=Pe;if(Pe|=4,bf(x.current),df(x,x.current,p,n),Pe=T,Hi(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(el,x)}catch{}return!0}finally{A.p=u,w.T=l,Bf(e,t)}}function Gf(e,t,n){t=Mn(n,t),t=lu(e.stateNode,t,2),e=Nl(e,t,2),e!==null&&(gt(e,2),Qn(e))}function at(e,t,n){if(e.tag===3)Gf(e,e,n);else for(;t!==null;){if(t.tag===3){Gf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ql===null||!ql.has(l))){e=Mn(n,e),n=Go(2),l=Nl(t,n,2),l!==null&&(Ro(n,l,t,e),gt(l,2),Qn(l));break}}t=t.return}}function Du(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new mh;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(pu=!0,u.add(n),e=ph.bind(null,e,t,n),t.then(e,e))}function ph(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ut===e&&(ke&n)===n&&(vt===4||vt===3&&(ke&62914560)===ke&&300>Xe()-Pr?(Pe&2)===0&&Qa(e,0):_u|=n,Ja===ke&&(Ja=0)),Qn(e)}function Rf(e,t){t===0&&(t=Qe()),e=ea(e,t),e!==null&&(gt(e,t),Qn(e))}function _h(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Rf(e,n)}function Ch(e,t){return Zt(e,t)}var ac=null,Fa=null,Nu=!1,ic=!1,Au=!1,kl=0;function Qn(e){e!==Fa&&e.next===null&&(Fa===null?ac=Fa=e:Fa=Fa.next=e),ic=!0,Nu||(Nu=!0,wh())}function Hi(e,t){if(!Au&&ic){Au=!0;do for(var n=!1,l=ac;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var x=0;else{var p=l.suspendedLanes,T=l.pingedLanes;x=(1<<31-xe(42|e)+1)-1,x&=u&~(p&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,If(l,x))}else x=ke,x=Je(l,l===ut?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(x&3)===0||Oe(l,x)||(n=!0,If(l,x));l=l.next}while(n);Au=!1}}function jh(){kf()}function kf(){ic=Nu=!1;var e=0;kl!==0&&qh()&&(e=kl);for(var t=Xe(),n=null,l=ac;l!==null;){var u=l.next,x=Yf(l,t);x===0?(l.next=null,n===null?ac=u:n.next=u,u===null&&(Fa=n)):(n=l,(e!==0||(x&3)!==0)&&(ic=!0)),l=u}Nt!==0&&Nt!==5||Hi(e),kl!==0&&(kl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var p=31-xe(x),T=1<<p,U=u[p];U===-1?((T&n)===0||(T&l)!==0)&&(u[p]=Ve(T,t)):U<=t&&(e.expiredLanes|=T),x&=~T}if(t=ut,n=ke,n=Je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(lt===2||lt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&yn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Oe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&yn(l),_n(n)){case 2:case 8:n=Wl;break;case 32:n=kn;break;case 268435456:n=Yn;break;default:n=kn}return l=Of.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&yn(l),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lc()&&e.callbackNode!==n)return null;var l=ke;return l=Je(e,e===ut?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_f(e,l,t),Yf(e,Xe()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function If(e,t){if(lc())return null;_f(e,t,!0)}function wh(){Rh(function(){(Pe&6)!==0?Zt(_l,jh):kf()})}function Tu(){if(kl===0){var e=Ra;e===0&&(e=ge,ge<<=1,(ge&261888)===0&&(ge=256)),kl=e}return kl}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dr(""+e)}function Uf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mh(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var x=Hf((u[Ht]||null).action),p=l.submitter;p&&(t=(t=p[Ht]||null)?Hf(t.formAction):p.getAttribute("formAction"),t!==null&&(x=t,p=null));var T=new vr("action","action",null,l,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kl!==0){var U=p?Uf(u,p):new FormData(u);P0(n,{pending:!0,data:U,method:u.method,action:x},null,U)}}else typeof x=="function"&&(T.preventDefault(),U=p?Uf(u,p):new FormData(u),P0(n,{pending:!0,data:U,method:u.method,action:x},x,U))},currentTarget:u}]})}}for(var Lu=0;Lu<h0.length;Lu++){var Eu=h0[Lu],zh=Eu.toLowerCase(),Dh=Eu[0].toUpperCase()+Eu.slice(1);On(zh,"on"+Dh)}On(gx,"onAnimationEnd"),On(yx,"onAnimationIteration"),On(px,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Z1,"onTransitionRun"),On(K1,"onTransitionStart"),On(X1,"onTransitionCancel"),On(_x,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var x=void 0;if(t)for(var p=l.length-1;0<=p;p--){var T=l[p],U=T.instance,ee=T.currentTarget;if(T=T.listener,U!==x&&u.isPropagationStopped())break e;x=T,u.currentTarget=ee;try{x(u)}catch(ie){pr(ie)}u.currentTarget=null,x=U}else for(p=0;p<l.length;p++){if(T=l[p],U=T.instance,ee=T.currentTarget,T=T.listener,U!==x&&u.isPropagationStopped())break e;x=T,u.currentTarget=ee;try{x(u)}catch(ie){pr(ie)}u.currentTarget=null,x=U}}}}function Re(e,t){var n=t[ye];n===void 0&&(n=t[ye]=new Set);var l=e+"__bubble";n.has(l)||(Kf(t,e,2,!1),n.add(l))}function Bu(e,t,n){var l=0;t&&(l|=4),Kf(n,e,l,t)}var rc="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[rc]){e[rc]=!0,Gs.forEach(function(n){n!=="selectionchange"&&(Nh.has(n)||Bu(n,!1,e),Bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rc]||(t[rc]=!0,Bu("selectionchange",!1,t))}}function Kf(e,t,n,l){switch(pd(t)){case 2:var u=l2;break;case 8:u=a2;break;default:u=Qu}n=u.bind(null,t,n,e),u=void 0,!t0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Gu(e,t,n,l,u){var x=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===u)break;if(p===4)for(p=l.return;p!==null;){var U=p.tag;if((U===3||U===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;T!==null;){if(p=pa(T),p===null)return;if(U=p.tag,U===5||U===6||U===26||U===27){l=x=p;continue e}T=T.parentNode}}l=l.return}Js(function(){var ee=x,ie=$c(n),ce=[];e:{var ne=Sx.get(e);if(ne!==void 0){var ae=vr,he=e;switch(e){case"keypress":if(mr(n)===0)break e;case"keydown":case"keyup":ae=S1;break;case"focusin":he="focus",ae=i0;break;case"focusout":he="blur",ae=i0;break;case"beforeblur":case"afterblur":ae=i0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w1;break;case gx:case yx:case px:ae=d1;break;case _x:ae=z1;break;case"scroll":case"scrollend":ae=u1;break;case"wheel":ae=N1;break;case"copy":case"cut":case"paste":ae=m1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=$s;break;case"toggle":case"beforetoggle":ae=T1}var Ce=(t&4)!==0,ct=!Ce&&(e==="scroll"||e==="scrollend"),J=Ce?ne!==null?ne+"Capture":null:ne;Ce=[];for(var K=ee,$;K!==null;){var re=K;if($=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||$===null||J===null||(re=oi(K,J),re!=null&&Ce.push(Zi(K,re,$))),ct)break;K=K.return}0<Ce.length&&(ne=new ae(ne,he,null,n,ie),ce.push({event:ne,listeners:Ce}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Fc&&(he=n.relatedTarget||n.fromElement)&&(pa(he)||he[fe]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(he=n.relatedTarget||n.toElement,ae=ee,he=he?pa(he):null,he!==null&&(ct=o(he),Ce=he.tag,he!==ct||Ce!==5&&Ce!==27&&Ce!==6)&&(he=null)):(ae=null,he=ee),ae!==he)){if(Ce=Ps,re="onMouseLeave",J="onMouseEnter",K="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=$s,re="onPointerLeave",J="onPointerEnter",K="pointer"),ct=ae==null?ne:xi(ae),$=he==null?ne:xi(he),ne=new Ce(re,K+"leave",ae,n,ie),ne.target=ct,ne.relatedTarget=$,re=null,pa(ie)===ee&&(Ce=new Ce(J,K+"enter",he,n,ie),Ce.target=$,Ce.relatedTarget=ct,re=Ce),ct=re,ae&&he)t:{for(Ce=Ah,J=ae,K=he,$=0,re=J;re;re=Ce(re))$++;re=0;for(var pe=K;pe;pe=Ce(pe))re++;for(;0<$-re;)J=Ce(J),$--;for(;0<re-$;)K=Ce(K),re--;for(;$--;){if(J===K||K!==null&&J===K.alternate){Ce=J;break t}J=Ce(J),K=Ce(K)}Ce=null}else Ce=null;ae!==null&&Xf(ce,ne,ae,Ce,!1),he!==null&&ct!==null&&Xf(ce,ct,he,Ce,!0)}}e:{if(ne=ee?xi(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ze=cx;else if(ix(ne))if(ux)Ze=I1;else{Ze=Y1;var be=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Pc(ee.elementType)&&(Ze=cx):Ze=O1;if(Ze&&(Ze=Ze(e,ee))){rx(ce,Ze,n,ie);break e}be&&be(e,ne,ee),e==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Qc(ne,"number",ne.value)}switch(be=ee?xi(ee):window,e){case"focusin":(ix(be)||be.contentEditable==="true")&&(Na=be,o0=ee,yi=null);break;case"focusout":yi=o0=Na=null;break;case"mousedown":f0=!0;break;case"contextmenu":case"mouseup":case"dragend":f0=!1,bx(ce,n,ie);break;case"selectionchange":if(U1)break;case"keydown":case"keyup":bx(ce,n,ie)}var Ee;if(c0)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Da?lx(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ex&&n.locale!=="ko"&&(Da||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Da&&(Ee=Vs()):(Sl=ie,n0="value"in Sl?Sl.value:Sl.textContent,Da=!0)),be=cc(ee,Ye),0<be.length&&(Ye=new Fs(Ye,e,null,n,ie),ce.push({event:Ye,listeners:be}),Ee?Ye.data=Ee:(Ee=ax(n),Ee!==null&&(Ye.data=Ee)))),(Ee=E1?B1(e,n):q1(e,n))&&(Ye=cc(ee,"onBeforeInput"),0<Ye.length&&(be=new Fs("onBeforeInput","beforeinput",null,n,ie),ce.push({event:be,listeners:Ye}),be.data=Ee)),Mh(ce,e,ee,n,ie)}Zf(ce,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cc(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=oi(e,n),u!=null&&l.unshift(Zi(e,u,x)),u=oi(e,t),u!=null&&l.push(Zi(e,u,x))),e.tag===3)return l;e=e.return}return[]}function Ah(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xf(e,t,n,l,u){for(var x=t._reactName,p=[];n!==null&&n!==l;){var T=n,U=T.alternate,ee=T.stateNode;if(T=T.tag,U!==null&&U===l)break;T!==5&&T!==26&&T!==27||ee===null||(U=ee,u?(ee=oi(n,x),ee!=null&&p.unshift(Zi(n,ee,U))):u||(ee=oi(n,x),ee!=null&&p.push(Zi(n,ee,U)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Th=/\r\n?/g,Lh=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Lh,"")}function Jf(e,t){return t=Wf(t),Wf(e)===t}function rt(e,t,n,l,u,x){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wa(e,""+l);break;case"className":or(e,"class",l);break;case"tabIndex":or(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,n,l);break;case"style":Xs(e,l,x);break;case"data":if(t!=="object"){or(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=dr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(t!=="input"&&rt(e,t,"name",u.name,u,null),rt(e,t,"formEncType",u.formEncType,u,null),rt(e,t,"formMethod",u.formMethod,u,null),rt(e,t,"formTarget",u.formTarget,u,null)):(rt(e,t,"encType",u.encType,u,null),rt(e,t,"method",u.method,u,null),rt(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=dr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=nl);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=dr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Re("beforetoggle",e),Re("toggle",e),xr(e,"popover",l);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,xr(e,n,l))}}function Ru(e,t,n,l,u,x){switch(n){case"style":Xs(e,l,x);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wa(e,l):(typeof l=="number"||typeof l=="bigint")&&wa(e,""+l);break;case"onScroll":l!=null&&Re("scroll",e);break;case"onScrollEnd":l!=null&&Re("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),x=e[Ht]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(t,x,u),typeof l=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):xr(e,n,l)}}}function kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var l=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var p=n[x];if(p!=null)switch(x){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:rt(e,t,x,p,n,null)}}u&&rt(e,t,"srcSet",n.srcSet,n,null),l&&rt(e,t,"src",n.src,n,null);return;case"input":Re("invalid",e);var T=x=p=u=null,U=null,ee=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":p=ie;break;case"checked":U=ie;break;case"defaultChecked":ee=ie;break;case"value":x=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:rt(e,t,l,ie,n,null)}}Hs(e,x,T,U,ee,p,u,!1);return;case"select":Re("invalid",e),l=p=x=null;for(u in n)if(n.hasOwnProperty(u)&&(T=n[u],T!=null))switch(u){case"value":x=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:rt(e,t,u,T,n,null)}t=x,n=p,e.multiple=!!l,t!=null?ja(e,!!l,t,!1):n!=null&&ja(e,!!l,n,!0);return;case"textarea":Re("invalid",e),x=u=l=null;for(p in n)if(n.hasOwnProperty(p)&&(T=n[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":u=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:rt(e,t,p,T,n,null)}Zs(e,l,u,x);return;case"option":for(U in n)n.hasOwnProperty(U)&&(l=n[U],l!=null)&&(U==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(e,t,U,l,n,null));return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(l=0;l<Ui.length;l++)Re(Ui[l],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in n)if(n.hasOwnProperty(ee)&&(l=n[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:rt(e,t,ee,l,n,null)}return;default:if(Pc(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&Ru(e,t,ie,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&rt(e,t,T,l,n,null))}function Eh(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,p=null,T=null,U=null,ee=null,ie=null;for(ae in n){var ce=n[ae];if(n.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":U=ce;default:l.hasOwnProperty(ae)||rt(e,t,ae,null,l,ce)}}for(var ne in l){var ae=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ce!=null))switch(ne){case"type":x=ae;break;case"name":u=ae;break;case"checked":ee=ae;break;case"defaultChecked":ie=ae;break;case"value":p=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ae!==ce&&rt(e,t,ne,ae,l,ce)}}Vc(e,p,T,U,ee,ie,x,u);return;case"select":ae=p=T=ne=null;for(x in n)if(U=n[x],n.hasOwnProperty(x)&&U!=null)switch(x){case"value":break;case"multiple":ae=U;default:l.hasOwnProperty(x)||rt(e,t,x,null,l,U)}for(u in l)if(x=l[u],U=n[u],l.hasOwnProperty(u)&&(x!=null||U!=null))switch(u){case"value":ne=x;break;case"defaultValue":T=x;break;case"multiple":p=x;default:x!==U&&rt(e,t,u,x,l,U)}t=T,n=p,l=ae,ne!=null?ja(e,!!n,ne,!1):!!l!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(T in n)if(u=n[T],n.hasOwnProperty(T)&&u!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(e,t,T,null,l,u)}for(p in l)if(u=l[p],x=n[p],l.hasOwnProperty(p)&&(u!=null||x!=null))switch(p){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==x&&rt(e,t,p,u,l,x)}Us(e,ne,ae);return;case"option":for(var he in n)ne=n[he],n.hasOwnProperty(he)&&ne!=null&&!l.hasOwnProperty(he)&&(he==="selected"?e.selected=!1:rt(e,t,he,null,l,ne));for(U in l)ne=l[U],ae=n[U],l.hasOwnProperty(U)&&ne!==ae&&(ne!=null||ae!=null)&&(U==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":rt(e,t,U,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in n)ne=n[Ce],n.hasOwnProperty(Ce)&&ne!=null&&!l.hasOwnProperty(Ce)&&rt(e,t,Ce,null,l,ne);for(ee in l)if(ne=l[ee],ae=n[ee],l.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,t));break;default:rt(e,t,ee,ne,l,ae)}return;default:if(Pc(t)){for(var ct in n)ne=n[ct],n.hasOwnProperty(ct)&&ne!==void 0&&!l.hasOwnProperty(ct)&&Ru(e,t,ct,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||Ru(e,t,ie,ne,l,ae);return}}for(var J in n)ne=n[J],n.hasOwnProperty(J)&&ne!=null&&!l.hasOwnProperty(J)&&rt(e,t,J,null,l,ne);for(ce in l)ne=l[ce],ae=n[ce],!l.hasOwnProperty(ce)||ne===ae||ne==null&&ae==null||rt(e,t,ce,ne,l,ae)}function Vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],x=u.transferSize,p=u.initiatorType,T=u.duration;if(x&&T&&Vf(p)){for(p=0,T=u.responseEnd,l+=1;l<n.length;l++){var U=n[l],ee=U.startTime;if(ee>T)break;var ie=U.transferSize,ce=U.initiatorType;ie&&Vf(ce)&&(U=U.responseEnd,p+=ie*(U<T?1:(T-ee)/(U-ee)))}if(--l,t+=8*(x+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ku=null,Yu=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function qh(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(e){return $f.resolve(null).then(e).catch(kh)}:Ff;function kh(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function ed(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ki(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ki(n);for(var x=n.firstChild;x;){var p=x.nextSibling,T=x.nodeName;x[sn]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=p}}else n==="body"&&Ki(e.ownerDocument.body);n=u}while(n);ni(t)}function td(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),si(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yh(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function Oh(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Tn(e.nextSibling),e===null))return null;return e}function nd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tn(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ih(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function ld(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Tn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function id(e,t,n){switch(t=uc(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ki(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);si(e)}var Ln=new Map,rd=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gl=A.d;A.d={f:Hh,r:Uh,D:Zh,C:Kh,L:Xh,m:Wh,X:Vh,S:Jh,M:Qh};function Hh(){var e=gl.f(),t=ec();return e||t}function Uh(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?So(t):gl.r(e)}var $a=typeof document>"u"?null:document;function cd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var u=jn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),rd.has(u)||(rd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),kt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Zh(e){gl.D(e),cd("dns-prefetch",e,null)}function Kh(e,t){gl.C(e,t),cd("preconnect",e,t)}function Xh(e,t,n){gl.L(e,t,n);var l=$a;if(l&&e&&t){var u='link[rel="preload"][as="'+jn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+jn(n.imageSizes)+'"]')):u+='[href="'+jn(e)+'"]';var x=u;switch(t){case"style":x=ei(e);break;case"script":x=ti(e)}Ln.has(x)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(x,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Xi(x))||t==="script"&&l.querySelector(Wi(x))||(t=l.createElement("link"),kt(t,"link",e),Tt(t),l.head.appendChild(t)))}}function Wh(e,t){gl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+jn(l)+'"][href="'+jn(e)+'"]',x=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ti(e)}if(!Ln.has(x)&&(e=g({rel:"modulepreload",href:e},t),Ln.set(x,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(x)))return}l=n.createElement("link"),kt(l,"link",e),Tt(l),n.head.appendChild(l)}}}function Jh(e,t,n){gl.S(e,t,n);var l=$a;if(l&&e){var u=Sa(l).hoistableStyles,x=ei(e);t=t||"default";var p=u.get(x);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Xi(x)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(x))&&Xu(e,n);var U=p=l.createElement("link");Tt(U),kt(U,"link",e),U._p=new Promise(function(ee,ie){U.onload=ee,U.onerror=ie}),U.addEventListener("load",function(){T.loading|=1}),U.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(p,t,l)}p={type:"stylesheet",instance:p,count:1,state:T},u.set(x,p)}}}function Vh(e,t){gl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),x=l.get(u);x||(x=n.querySelector(Wi(u)),x||(e=g({src:e,async:!0},t),(t=Ln.get(u))&&Wu(e,t),x=n.createElement("script"),Tt(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function Qh(e,t){gl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),x=l.get(u);x||(x=n.querySelector(Wi(u)),x||(e=g({src:e,async:!0,type:"module"},t),(t=Ln.get(u))&&Wu(e,t),x=n.createElement("script"),Tt(x),kt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},l.set(u,x))}}function ud(e,t,n,l){var u=(u=ue.current)?sc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var x=Sa(u).hoistableStyles,p=x.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,p),(x=u.querySelector(Xi(e)))&&!x._p&&(p.instance=x,p.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),x||Ph(u,e,n,p.state))),t&&l===null)throw Error(i(528,""));return p}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ei(e){return'href="'+jn(e)+'"'}function Xi(e){return'link[rel="stylesheet"]['+e+"]"}function sd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Ph(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),kt(t,"link",n),Tt(t),e.head.appendChild(t))}function ti(e){return'[src="'+jn(e)+'"]'}function Wi(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+jn(n.href)+'"]');if(l)return t.instance=l,Tt(l),l;var u=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Tt(l),kt(l,"style",u),xc(l,n.precedence,e),t.instance=l;case"stylesheet":u=ei(n.href);var x=e.querySelector(Xi(u));if(x)return t.state.loading|=4,t.instance=x,Tt(x),x;l=sd(n),(u=Ln.get(u))&&Xu(l,u),x=(e.ownerDocument||e).createElement("link"),Tt(x);var p=x;return p._p=new Promise(function(T,U){p.onload=T,p.onerror=U}),kt(x,"link",l),t.state.loading|=4,xc(x,n.precedence,e),t.instance=x;case"script":return x=ti(n.src),(u=e.querySelector(Wi(x)))?(t.instance=u,Tt(u),u):(l=n,(u=Ln.get(x))&&(l=g({},n),Wu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Tt(u),kt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,xc(l,n.precedence,e));return t.instance}function xc(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,x=u,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===t)x=T;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oc=null;function od(e,t,n){if(oc===null){var l=new Map,u=oc=new Map;u.set(n,l)}else u=oc,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[sn]||x[Dt]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var p=x.getAttribute(t)||"";p=e+p;var T=l.get(p);T?T.push(x):l.set(p,[x])}}return l}function fd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Fh(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $h(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ei(l.href),x=t.querySelector(Xi(u));if(x){t=x._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=fc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=x,Tt(x);return}x=t.ownerDocument||t,l=sd(l),(u=Ln.get(u))&&Xu(l,u),x=x.createElement("link"),Tt(x);var p=x;p._p=new Promise(function(T,U){p.onload=T,p.onerror=U}),kt(x,"link",l),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=fc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ju=0;function e2(e,t){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+t);0<e.imgBytes&&Ju===0&&(Ju=62500*Bh());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Ju?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dc=null;function hc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dc=new Map,t.forEach(t2,e),dc=null,fc.call(e))}function t2(e,t){if(!(t.state.loading&4)){var n=dc.get(e);if(n)var l=n.get(null);else{n=new Map,dc.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var p=u[x];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(n.set(p.dataset.precedence,p),l=p)}l&&n.set(null,l)}u=t.instance,p=u.getAttribute("data-precedence"),x=n.get(p)||l,x===l&&n.set(null,u),n.set(p,u),this.count++,l=fc.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ji={$$typeof:E,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function n2(e,t,n,l,u,x,p,T,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function hd(e,t,n,l,u,x,p,T,U,ee,ie,ce){return e=new n2(e,t,n,p,U,ee,ie,ce,T),t=1,x===!0&&(t|=24),x=on(3,null,null,t),e.current=x,x.stateNode=e,t=z0(),t.refCount++,e.pooledCache=t,t.refCount++,x.memoizedState={element:l,isDehydrated:n,cache:t},T0(x),e}function md(e){return e?(e=La,e):La}function bd(e,t,n,l,u,x){u=md(u),l.context===null?l.context=u:l.pendingContext=u,l=Dl(t),l.payload={element:n},x=x===void 0?null:x,x!==null&&(l.callback=x),n=Nl(e,l,t),n!==null&&(nn(n,e,t),Mi(n,e,t))}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function gd(e){if(e.tag===13||e.tag===31){var t=ea(e,67108864);t!==null&&nn(t,e,67108864),Vu(e,67108864)}}function yd(e){if(e.tag===13||e.tag===31){var t=bn();t=nt(t);var n=ea(e,t);n!==null&&nn(n,e,t),Vu(e,t)}}var mc=!0;function l2(e,t,n,l){var u=w.T;w.T=null;var x=A.p;try{A.p=2,Qu(e,t,n,l)}finally{A.p=x,w.T=u}}function a2(e,t,n,l){var u=w.T;w.T=null;var x=A.p;try{A.p=8,Qu(e,t,n,l)}finally{A.p=x,w.T=u}}function Qu(e,t,n,l){if(mc){var u=Pu(l);if(u===null)Gu(e,t,l,bc,n),_d(e,l);else if(r2(u,e,t,n,l))l.stopPropagation();else if(_d(e,l),t&4&&-1<i2.indexOf(e)){for(;u!==null;){var x=_a(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var p=ve(x.pendingLanes);if(p!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var U=1<<31-xe(p);T.entanglements[1]|=U,p&=~U}Qn(x),(Pe&6)===0&&(Fr=Xe()+500,Hi(0))}}break;case 31:case 13:T=ea(x,2),T!==null&&nn(T,x,2),ec(),Vu(x,2)}if(x=Pu(l),x===null&&Gu(e,t,l,bc,n),x===u)break;u=x}u!==null&&l.stopPropagation()}else Gu(e,t,l,null,n)}}function Pu(e){return e=$c(e),Fu(e)}var bc=null;function Fu(e){if(bc=null,e=pa(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bc=e,null}function pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case _l:return 2;case Wl:return 8;case kn:case ga:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var $u=!1,Ol=null,Il=null,Hl=null,Vi=new Map,Qi=new Map,Ul=[],i2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _d(e,t){switch(e){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Pi(e,t,n,l,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:x,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&gd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function r2(e,t,n,l,u){switch(t){case"focusin":return Ol=Pi(Ol,e,t,n,l,u),!0;case"dragenter":return Il=Pi(Il,e,t,n,l,u),!0;case"mouseover":return Hl=Pi(Hl,e,t,n,l,u),!0;case"pointerover":var x=u.pointerId;return Vi.set(x,Pi(Vi.get(x)||null,e,t,n,l,u)),!0;case"gotpointercapture":return x=u.pointerId,Qi.set(x,Pi(Qi.get(x)||null,e,t,n,l,u)),!0}return!1}function Sd(e){var t=pa(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,Vl(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Fc=l,n.target.dispatchEvent(l),Fc=null}else return t=_a(n),t!==null&&gd(t),e.blockedOn=n,!1;t.shift()}return!0}function Cd(e,t,n){vc(e)&&n.delete(t)}function c2(){$u=!1,Ol!==null&&vc(Ol)&&(Ol=null),Il!==null&&vc(Il)&&(Il=null),Hl!==null&&vc(Hl)&&(Hl=null),Vi.forEach(Cd),Qi.forEach(Cd)}function gc(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,c2)))}var yc=null;function jd(e){yc!==e&&(yc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Fu(l||n)===null)continue;break}var x=_a(n);x!==null&&(e.splice(t,3),t-=3,P0(x,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ni(e){function t(U){return gc(U,e)}Ol!==null&&gc(Ol,e),Il!==null&&gc(Il,e),Hl!==null&&gc(Hl,e),Vi.forEach(t),Qi.forEach(t);for(var n=0;n<Ul.length;n++){var l=Ul[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ul.length&&(n=Ul[0],n.blockedOn===null);)Sd(n),n.blockedOn===null&&Ul.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],x=n[l+1],p=u[Ht]||null;if(typeof x=="function")p||jd(n);else if(p){var T=null;if(x&&x.hasAttribute("formAction")){if(u=x,p=x[Ht]||null)T=p.formAction;else if(Fu(u)!==null)continue}else T=p.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),jd(n)}}}function wd(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function es(e){this._internalRoot=e}pc.prototype.render=es.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();bd(n,l,e,t,null,null)},pc.prototype.unmount=es.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bd(e.current,2,null,e,null,null),ec(),t[fe]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ul.length&&t!==0&&t<Ul[n].priority;n++);Ul.splice(n,0,e),n===0&&Sd(e)}};var Md=r.version;if(Md!=="19.2.3")throw Error(i(527,Md,"19.2.3"));A.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var u2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{el=_c.inject(u2),Bt=_c}catch{}}return $i.createRoot=function(e,t){if(!f(e))throw Error(i(299));var n=!1,l="",u=Lo,x=Eo,p=Bo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(x=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=hd(e,1,!1,null,null,n,l,null,u,x,p,wd),e[fe]=t.current,qu(e),new es(t)},$i.hydrateRoot=function(e,t,n){if(!f(e))throw Error(i(299));var l=!1,u="",x=Lo,p=Eo,T=Bo,U=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(U=n.formState)),t=hd(e,1,!0,t,n??null,l,u,U,x,p,T,wd),t.context=md(null),n=t.current,l=bn(),l=nt(l),u=Dl(l),u.callback=null,Nl(n,u,l),n=l,t.current.lanes=n,gt(t,n),Qn(t),e[fe]=t.current,qu(e),new pc(t)},$i.version="19.2.3",$i}var Gd;function g2(){if(Gd)return ls.exports;Gd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),ls.exports=v2(),ls.exports}var y2=g2();function wc(){const c=["mJy2odCWne5WAhL5ra","C2XPy2u","mti2ndu3mJbctMTksNK","mtuWodG0mhfVA05rAq","BgvHzKDYB3vWCW","mJeXCKjbzezL","CgfYC2u","C2vHCMnO","BgvHzKLKCW","z3jVDxbZ","zMXVD2vYswrZ","nNfzzwjOCG","nZe5mtqWBMH1AM5Q","zMLSDgvY","mZm1otyZn2H1ANrfuG","nZK0nMjRsuLSqq","CNjZEuG","C3rYAw5NAwz5","kcGOlISPkYKRksSK","Cg9ZAxrPB24","CMfUzg9T","zMXVB3i","BgvUz3rO","mZyZmdaYnwfmALPPuW","CMvKDwnL","BgvHDMvZ","ofnnsgT5qW","zMLUza"];return wc=function(){return c},wc()}const yl=Un;(function(c,r){const a=Un,i=c();for(;;)try{if(-parseInt(a(144))/1*(-parseInt(a(154))/2)+-parseInt(a(153))/3+-parseInt(a(139))/4+parseInt(a(142))/5*(-parseInt(a(150))/6)+parseInt(a(162))/7+-parseInt(a(137))/8*(-parseInt(a(141))/9)+parseInt(a(151))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(wc,745049);const p2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),ss=p2(void 0,function(){const c=Un;return ss.toString()[c(146)](c(157)).toString().constructor(ss)[c(146)]("(((.+)+)+)+$")});ss();const Mc=()=>new Date().toISOString(),Ot=c=>c+"_"+Math[yl(159)]().toString(36)[yl(140)](2,10),je=(c,r,a)=>Math.max(r,Math.min(a,c)),Kl=c=>{const r=yl;return c==null?c:JSON[r(145)](JSON[r(156)](c))},tr=c=>Math[yl(160)](c*.7/5)*5;function ba(c,r){const a=yl;return c[a(148)]?c.groups[a(138)](i=>i[a(149)].includes(r))??null:null}function _2(c,r){const a=yl,i=ba(c,r);return i?i[a(149)]:[r]}function Xc(c,r){return c[yl(143)]?c.leafGroups.find(i=>i.leafIds.includes(r))??null:null}function Un(c,r){c=c-135;const a=wc();let i=a[c];if(Un.hYZJqq===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Un.QaJjDF=f,Un.SntQnE={},Un.hYZJqq=!0}const o=a[0],m=c+o,y=Un.SntQnE[m];if(y)i=y;else{const d=function(h){this.FiXZzv=h,this.IoSmvl=[1,0,0],this.SONjZo=function(){return"newState"},this.txghhU="\\w+ *\\(\\) *{\\w+ *",this.AdPbLs=`['|"].+['|"];? *}`};d.prototype.nWVSqi=function(){const h=new RegExp(this.txghhU+this.AdPbLs),v=h.test(this.SONjZo.toString())?--this.IoSmvl[1]:--this.IoSmvl[0];return this.jSUKDG(v)},d.prototype.jSUKDG=function(h){return~h?this.AIIsjS(this.FiXZzv):h},d.prototype.AIIsjS=function(h){for(let v=0,g=this.IoSmvl.length;v<g;v++)this.IoSmvl.push(Math.round(Math.random())),g=this.IoSmvl.length;return h(this.IoSmvl[0])},new d(Un).nWVSqi(),i=Un.QaJjDF(i),Un.SntQnE[m]=i}return i}function S2(c,r){const a=yl,i={ShLsg:function(d,h){return d===h},lyeqS:function(d,h){return d/h}},f=(c.leafGroups??[]).find(d=>d.id===r);if(!f||i.ShLsg(f.leafIds.length,0))return{x:0,y:0};const o=f[a(147)].map(d=>(c[a(136)]??[]).find(h=>h.id===d))[a(152)](d=>!!d);if(o.length===0)return{x:0,y:0};const m=o.reduce((d,h)=>d+h.position.x,0),y=o[a(135)]((d,h)=>d+h[a(158)].y,0);return{x:m/o.length,y:i.lyeqS(y,o[a(161)])}}function C2(c,r){const a=yl,i={rrsyH:function(o,m,y){return o(m,y)}},f=i[a(155)](Xc,c,r);return f?f.leafIds:[r]}const ri=ln;(function(c,r){const a=ln,i=c();for(;;)try{if(parseInt(a(426))/1*(-parseInt(a(427))/2)+parseInt(a(401))/3*(parseInt(a(406))/4)+parseInt(a(400))/5*(-parseInt(a(423))/6)+-parseInt(a(412))/7*(-parseInt(a(430))/8)+parseInt(a(432))/9*(-parseInt(a(419))/10)+-parseInt(a(421))/11*(parseInt(a(444))/12)+parseInt(a(407))/13===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(zc,959229);const j2=(function(){const c={WYwbW:function(a,i,f,o){return a(i,f,o)}};let r=!0;return function(a,i){const f=ln,o={kMTto:function(y,d,h,v){return c[ln(434)](y,d,h,v)},RqoAh:function(y,d){return y<d},LwsEr:function(y,d){return y+d},etgUt:"kzrcW",MuBym:"syHoc",mHyGE:function(y,d){return y===d},Fmjgc:f(435)},m=r?function(){const y=f,d={SfyYY:function(h,v){return h/v}};if(o.etgUt!==o[y(404)]){if(i)if(o.mHyGE(o.Fmjgc,o.Fmjgc)){const h=i[y(403)](a,arguments);return i=null,h}else{const h=d.SfyYY(_0xfb9ea2,3),v=_0x2440d3.PI*_0x569131/2;return _0x4c6cc4.max(1,_0x1d69a5[y(445)](d.SfyYY(v,h)))}}else{if(_0x6905cf<=_0x70f9ba)return 1;let h=1,v=80;for(let g=0;g<30;g++){const N=(h+v)/2,{diameter:b}=o.kMTto(_0x249f28,_0x4053f6,N,_0x1e42f8);o[y(395)](b,_0xfc1249)?h=N:v=N}return _0x31fb4a[y(402)](1,_0x64eda2.round(o.LwsEr(h,v)/2))}}:function(){};return r=!1,m}})(),xs=j2(void 0,function(){const c=ln,r={jXexb:"(((.+)+)+)+$"};return xs[c(413)]()[c(446)]("(((.+)+)+)+$")[c(413)]().constructor(xs)[c(446)](r.jXexb)});xs();const ii=2/3,Rd=.6,w2=.25,M2=.75;function Xl(c,r,a){const i=ln,f={jOUEg:function(E,q){return E/q},NffTR:function(E,q){return E*q},EsShE:function(E,q){return E<=q},BLGRd:function(E,q){return E<=q},WMYmM:"uniform",vBsci:function(E,q){return E/q},GGMmN:function(E,q){return E/q},TIOoz:i(399),AaKQO:function(E,q){return E+q},bJMAu:function(E,q){return E===q},BGoDw:function(E,q){return E/q},Mdgqn:function(E,q){return E*q},EbVQe:function(E,q){return E*q},AxlpW:function(E,q){return E/q},PrxVG:function(E,q){return E-q}},o=f[i(418)](c,2),m=f.jOUEg(f.NffTR(r,Math[i(425)]),2);if(f.EsShE(m,0)||f.BLGRd(o,0))return{diameter:c,layerCount:1};const y=a?.sizeMode??f[i(437)],d=a?.sizeStepMm??0,h=m*(1-ii),v=f[i(431)](f[i(409)](Math.PI,o),2),g=a?.layerCount??Math.max(1,Math.round(f.GGMmN(v,h))),N=y===f.TIOoz?r+(g-1)*d:r,b=N*Math[i(425)]/2,D=f[i(417)](f.NffTR(m,w2),b*M2);if(f[i(439)](g,1)){const E=Math.min(Math.PI/2,f[i(442)](f[i(405)](b,ii),o)),q=o*Math.sin(E),Z=f.NffTR(b*Rd,Math[i(416)](E));return{diameter:Math.round(Math.max(c,f.Mdgqn(2,f.AaKQO(q,Z)))),layerCount:g}}let j=f.GGMmN(f.EbVQe(m,ii),o);for(let E=1;E<g;E++){const q=y===f.TIOoz?f[i(417)](r,E*d):r,Z=q*Math[i(425)]/2;j+=f[i(431)](Z*(1-ii),o)}j=Math.min(j,f.AxlpW(Math.PI,2));const _=f[i(414)](o+D*Rd,Math[i(416)](j)),B=Math[i(402)](0,f[i(397)](_,o));return{diameter:Math[i(445)](f.AaKQO(c,2*B)),layerCount:g}}function ar(c,r,a=ri(438),i=0){const f=ri,o={VPfXp:function(d,h){return d<=h},vSRWR:function(d,h){return d<h},mDILW:"gradual",lXkyx:function(d,h){return d*h},JleLW:function(d,h){return d/h},DEmXZ:function(d,h){return d*h}};if(r<=0||o.VPfXp(c,0))return 0;const m=[];for(let d=0;o[f(436)](d,r);d++){const h=a===o[f(408)]?c+d*i:c;m.push(o.lXkyx(h,Math[f(425)])/2)}let y=m[0];for(let d=1;o.vSRWR(d,r);d++)y+=o.JleLW(m[d],3);return Math.round(o.DEmXZ(y,2))}function ln(c,r){c=c-395;const a=zc();let i=a[c];if(ln.ABwoRa===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};ln.ncYols=f,ln.UDOvlf={},ln.ABwoRa=!0}const o=a[0],m=c+o,y=ln.UDOvlf[m];if(y)i=y;else{const d=function(h){this.uzrHqE=h,this.QfjYKY=[1,0,0],this.UsXTjR=function(){return"newState"},this.ZAFEYm="\\w+ *\\(\\) *{\\w+ *",this.KHwzfI=`['|"].+['|"];? *}`};d.prototype.iYrjxC=function(){const h=new RegExp(this.ZAFEYm+this.KHwzfI),v=h.test(this.UsXTjR.toString())?--this.QfjYKY[1]:--this.QfjYKY[0];return this.BEoLac(v)},d.prototype.BEoLac=function(h){return~h?this.WOyiIP(this.uzrHqE):h},d.prototype.WOyiIP=function(h){for(let v=0,g=this.QfjYKY.length;v<g;v++)this.QfjYKY.push(Math.round(Math.random())),g=this.QfjYKY.length;return h(this.QfjYKY[0])},new d(ln).iYrjxC(),i=ln.ncYols(i),ln.UDOvlf[m]=i}return i}function zc(){const c=["ndKXmhzUqLzOrq","AM1TD08","nte4otKXqK9Orfbw","zLnpDey","mZu2mJi0mM5ushbdyG","AfvqzwG","u1fsvdi","mJi3zMj3qxrA","mtyZmfrcvwnkAG","C2L6zvn0zxbnBq","uNrZDMi","ndaYmZyWogrVs0HjvG","DKjZy2K","mJaYmtrvs0LJBLq","yLbzD0m","v1L3yLC","AuX3B1K","DLnsv1i","v01zBu0","Dw5PzM9YBq","yKPnqxu","t0jczva","DMvoqwi","qKDVrhC","C2L6zu1Vzgu","mJG4s1zntKXK","CM91BMq","C2vHCMnO","uNfVqwG","Efj1sfG","uhj4vKC","su9jvvu","z3jHzhvHBa","mtbVs1bYt1G","ntiYm0Dbu3j3EG","Bwf4","yxbWBhK","txvcEw0","twrNCw4","mJm5nLvZwujLrq","mZi3mZqYmJfRvLn4vvG","BurjtfC","tMzMvfi","Cvj5C04","tMnprfi","mtrWy3f3AfG","Dg9tDhjPBMC","rwjwuwu","BKf3Efy","C2LU","qwfluu8","AK9vrwC"];return zc=function(){return c},zc()}function z2(c,r,a=ri(438),i=0){const f=ri,o={szZIk:function(g,N){return g<=N},gCJxQ:function(g,N){return g/N},bPYwC:function(g,N){return g*N},qRysN:function(g,N){return g+N},IOIUU:function(g,N){return g/N},hUPeh:function(g,N){return g*N},GsFGZ:function(g,N){return g*N},OBBeP:function(g,N){return g-N}};if(r<=0||o.szZIk(c,0))return 0;const m=o.gCJxQ(c,2),y=o.gCJxQ(Math[f(425)],2),d=r;if(a==="uniform"||i===0){const g=o[f(433)](y,o[f(410)](d,2))/3;return Math[f(402)](1,Math[f(445)](o[f(398)](m,g)))}const h=o[f(424)](i,d-1)*d/6,v=o.gCJxQ(o.GsFGZ(o[f(440)](m/y,h),3),d+2);return Math.max(1,Math.round(v))}function D2(c,r,a){const i=ri,f={veNAb:function(y,d){return y<=d},HsSPe:function(y,d){return y<d},GcjlQ:function(y,d,h,v){return y(d,h,v)},NcODR:function(y,d){return y+d}};if(f[i(441)](c,r))return 1;let o=1,m=80;for(let y=0;f.HsSPe(y,30);y++){const d=(o+m)/2,{diameter:h}=f.GcjlQ(Xl,r,d,a);h<c?o=d:m=d}return Math[i(402)](1,Math[i(445)](f[i(411)](o,m)/2))}function N2(c,r,a){const i=ri,f={nAwxV:function(N,b){return N/b},fSOtF:function(N,b){return N*b},jmmwO:function(N,b){return N===b},EslFR:i(438),xRuHX:function(N,b){return N*b},rLQbj:function(N,b){return N+b},Rtsvb:function(N,b){return N+b}},o=f[i(415)](c,2),m=f[i(422)](r,Math[i(425)])/2;if(m<=0||o<=0)return 1;const y=a?.[i(443)]??i(438),d=a?.[i(428)]??0,h=f[i(415)](Math.PI,2);if(f[i(420)](y,f.EslFR)||d===0){const N=m/3,b=f.nAwxV(Math.PI*o,2);return Math[i(402)](1,Math.round(f[i(415)](b,N)))}let v=f[i(396)](m,ii)/o;if(v>=h)return 1;let g=1;for(let N=1;N<100;N++){const b=f.rLQbj(r,N*d),D=f[i(422)](b,Math[i(425)])/2,j=f.nAwxV(f[i(422)](D,1-ii),o);if(v+=j,v>h+j/2)break;g=f[i(429)](N,1)}return Math.max(1,g)}const Gn=En;(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(393))/1*(-parseInt(a(358))/2)+-parseInt(a(369))/3*(parseInt(a(337))/4)+parseInt(a(381))/5*(-parseInt(a(367))/6)+parseInt(a(380))/7+-parseInt(a(376))/8*(parseInt(a(340))/9)+-parseInt(a(379))/10*(parseInt(a(366))/11)+-parseInt(a(351))/12*(-parseInt(a(339))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Dc,469193);const A2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=En;if(a){const o=a[f(368)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),os=A2(void 0,function(){const c=En,r={OGvJw:c(345)};return os.toString()[c(357)](c(345))[c(356)]()[c(355)](os).search(r[c(349)])});os();function En(c,r){c=c-334;const a=Dc();let i=a[c];if(En.uSynWg===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};En.rnmNMr=f,En.RPzhjj={},En.uSynWg=!0}const o=a[0],m=c+o,y=En.RPzhjj[m];if(y)i=y;else{const d=function(h){this.IssGMg=h,this.jweYCQ=[1,0,0],this.IKeLDv=function(){return"newState"},this.XdNgfN="\\w+ *\\(\\) *{\\w+ *",this.ZcTBLU=`['|"].+['|"];? *}`};d.prototype.oFEsYU=function(){const h=new RegExp(this.XdNgfN+this.ZcTBLU),v=h.test(this.IKeLDv.toString())?--this.jweYCQ[1]:--this.jweYCQ[0];return this.wMDbdT(v)},d.prototype.wMDbdT=function(h){return~h?this.UhVKEf(this.IssGMg):h},d.prototype.UhVKEf=function(h){for(let v=0,g=this.jweYCQ.length;v<g;v++)this.jweYCQ.push(Math.round(Math.random())),g=this.jweYCQ.length;return h(this.jweYCQ[0])},new d(En).oFEsYU(),i=En.rnmNMr(i),En.RPzhjj[m]=i}return i}const ur=.28,kd={:Gn(365),:Gn(361)};function fs(c){return c===""?kd[Gn(372)]:kd[{lPBJd:""}.lPBJd]}function va(c){return{ahsjS:function(i,f){return i/f}}[Gn(387)](c*Math.PI,180)}function Dc(){const c=["uLbUtMy","ugDXBwG","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","mJm1nfnMvwXusW","ntqXmKHRDvDzqW","yxbWBhK","mtqZmtzTA2LTs3u","DhvXD0y","wxfcDem","5yMJ44gK44g+44g/","Dg9gAxHLza","DxvnDee","EePAwve","ntm5mtm2ohnjsxLwua","C2nHBgu","zMXVB3i","mtyYmJb1AfrvtKy","mJC2mda3ouHuDu1OwG","mtG3meHgAKvTvW","EfrVt2u","Ag5dChO","CvzqzfC","svvHBLa","q213rMC","ywHZALm","BwLU","zMHhEhm","y29Z","CuDYCMu","DfrIs24","ntyZwMTctgD6","C2LU","DwXbtwi","rMD2qNq","yu5yy0u","nZu2EeDWDK5l","BLfgAxO","mZLjq2nxA2O","owPkzxvJrW","BgvUz3rO","yLD6Age","ChvZAa","sLHRBvO","kcGOlISPkYKRksSK","zfnyzue","DeHMtNm","vfrJuMC","t0D2sNC","A0PxCKq","mta4odu1otzXuNzJvgO","CMfKAxvZ","C3P6AgC","Bwf4","y29UC3rYDwn0B3i","Dg9tDhjPBMC","C2vHCMnO","mtm3mM5vwgLlBG","B3jKzxi","CM91BMq","tsaWidakicaGiemGmc4WnsaWlJe1lcaWlJe1idaUmZySidaUmZaGmc40mGOGicaGqYaWlJuWidaUndySidaUnZiGmc4ZncWGmc44ocaWlJe4cIaGicbmideGmaOGicaGtcaWlJG4ic0WlJe4cIaGicbdidaUnZiGltaUmZqSidaUntaGltaUndySidaUmZaGltaUndikicaGiemGmc4XnsaTmc4ZnIWGmc4WnsaTmc4XnsWGmcaWcIaGicbA","u3rpt0q"];return Dc=function(){return c},Dc()}const un=2.7;function It(c){const r=Gn,a={ulAMb:function(m,y){return m/y}},i=a.ulAMb(c*Math.SQRT2,2),f=i*un,o=a[r(334)](f,2);return{length:f,width:o}}function T2(c){return{uCHpi:function(a,i){return a*i}}.uCHpi(c,un)/2}function nr(c,r,a){const i=Gn,f={vNupm:function(h,v){return h(v)},sNThr:function(h,v){return h*v},szzhg:function(h,v){return h-v},dSXeA:function(h,v){return h*v},xToOe:function(h,v){return h+v},nHRIJ:function(h,v){return h/v}},{length:o}=f.vNupm(It,a),m=f.sNThr(o,r),y=Math.max(0,f[i(353)](c,f[i(346)](m,ur))),d=f[i(382)](y,m);return f.nHRIJ(d*2,un)}function L2(c,r,a){const i=Gn,f={nQFiz:function(d,h){return d*h},uuMtA:function(d,h){return d-h}},{length:o}=It(a),m=o*r,y=f[i(338)](c,un)/2;return Math[i(354)](2,y-m*f[i(374)](1,ur))}function Fn(c,r,a){const i=Gn,f={TTcRg:function(v,g){return v<=g},CNmYQ:function(v,g){return v<=g},bWzha:function(v,g){return v/g},lvzmx:function(v,g){return v<g},tDngT:function(v,g){return v%g},vZnQM:function(v,g){return v+g},TAHyg:function(v,g){return v*g},GpeuT:function(v,g){return v+g},MLriw:function(v,g){return v<g},OUpLW:function(v,g){return v+g},QHmDg:function(v,g){return v+g},MNYqU:function(v,g){return v%g},kJWrD:function(v,g){return v-g},klsBr:function(v,g){return v>g}};if(!c||f[i(348)](c,0)||!a||f.CNmYQ(a,0))return r??0;const o=f[i(342)](360,c),m=360/a,y=[];for(let v=0;f.lvzmx(v,c);v++)y.push(f.tDngT(f.vZnQM(r,f.TAHyg(v,o))%360+360,360));let d=f.GpeuT(r,f[i(342)](o,2)),h=-1;for(let v=0;f.MLriw(v,c);v++){const g=f.OUpLW(f.QHmDg(r,v*o),f[i(342)](o,2));let N=1/0;for(let b=0;b<a;b++){const D=f.MNYqU((g+b*m)%360+360,360);for(const j of y){let _=Math.abs(D-j);_>180&&(_=f[i(350)](360,_)),_<N&&(N=_)}}f.klsBr(N,h)&&(h=N,d=g)}return Math[i(360)](d*10)/10}function Wc(c,r,a){const i=Gn,f={Pgqmh:function(b,D){return b===D},hnCpz:function(b,D){return b*D},StOOD:function(b,D){return b-D},OYrFZ:function(b,D){return b*D},JrzNc:function(b,D){return b/D},RPnNf:function(b,D){return b/D}};if(f[i(364)](c.length,0))return;const{length:o}=It(r),m=c[0],y=m[i(377)]??1,d=f[i(383)](o,y),h=Math[i(354)](0,f[i(362)](m.radius,d*ur)),v=h+d;if(v<=0)return;const g=f.OYrFZ(a,un)/2,N=g/v;for(const b of c)b.radius=Math.max(2,f.JrzNc(Math[i(360)](b.radius*N*10),10)),b.scale=f[i(363)](Math[i(360)]((b[i(377)]??1)*N*100),100);ds(c,r)}function ds(c,r){const a=Gn,i={CmwFg:function(d,h){return d===h},mIIHO:function(d,h){return d(h)},xJZYQ:function(d,h){return d*h},qVPdW:function(d,h){return d>h}};if(i[a(386)](c.length,0))return;const f=c[c[a(341)]-1],{length:o}=i.mIIHO(It,r),m=o*(f[a(377)]??1),y=Math[a(378)](i[a(375)](i[a(375)](m,ur),10))/10;i[a(384)](f[a(352)],y)&&(f.radius=y)}function E2(c,r,a,i){const f=Gn,o={JMGWF:function(N,b){return N(b)},ANaRX:function(N,b){return N*b},IUanP:function(N,b){return N*b},mJAei:function(N,b){return N*b},qGrre:function(N,b){return N/b},YqBtC:function(N,b){return N-b},oySvo:function(N,b){return N*b},UEKwu:function(N,b){return N*b},tHfNs:function(N,b){return N+b},bRBtK:function(N,b,D,j){return N(b,D,j)}};if(c[f(341)]===0)return;const m=[...c].sort((N,b)=>b.order-N[f(359)]),{length:y}=o.JMGWF(It,r),d=m[f(341)],h=m[0].scale??1,v=o.ANaRX(y,h);m[0].radius=Math[f(378)](o[f(385)](v,ur)*10)/10;for(let N=1;N<d;N++){const b=m[N-1],D=y*(b.scale??1);let j;if(a===""){const B=70*Math.PI/180,k=d>1?o.mJAei(o.qGrre(N,o[f(371)](d,1)),B):0;j=o.oySvo(D*(30/100),Math.cos(k))}else j=o[f(391)](D,3);m[N].radius=o.qGrre(Math.round(o.UEKwu(o[f(347)](b.radius,j),10)),10)}const g=[...c].sort((N,b)=>N.order-b[f(359)]);o.bRBtK(Wc,g,r,i);for(const N of g){const b=c.find(D=>D.id===N.id);b&&(b.radius=N.radius,b.scale=N.scale)}}function ci(c){const r=Gn,a={tuqwF:function(d,h){return d/h},fhGxs:function(d,h){return d*h},FbMaw:function(d,h){return d(h)}},i=a[r(370)](360,c),f=a.fhGxs(Math.sin(a.FbMaw(va,i/2)),2),o=.96,m=1.2,y=a[r(389)](f,m)/o;return a[r(370)](Math[r(360)](Math[r(354)](.3,Math[r(388)](3,y))*100),100)}(function(c,r){const a=an,i=c();for(;;)try{if(-parseInt(a(550))/1+-parseInt(a(516))/2*(parseInt(a(494))/3)+-parseInt(a(551))/4+parseInt(a(487))/5*(parseInt(a(483))/6)+-parseInt(a(517))/7+-parseInt(a(571))/8+parseInt(a(530))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Nc,484500);const B2=(function(){const c=an,r={LtLss:function(i){return i()},EerNo:function(i,f){return i(f)},VBPPp:c(525),JGUmY:c(558),nvKLg:function(i,f,o,m){return i(f,o,m)},vuGxY:c(540),uXPNO:"",ZzOBO:function(i,f){return i(f)},NIJJw:function(i,f){return i??f}};let a=!0;return function(i,f){const o=c,m={kzPnX:function(d){return r.LtLss(d)},qUXEe:function(d){return d()},sZXMm:function(d,h){return r.EerNo(d,h)},JHjym:"lay",AktGt:r.VBPPp,ugPfZ:r[o(491)],vqWIy:o(504),IhxmS:function(d,h){return d+h},XacUZ:function(d,h){return d/h},haNot:function(d,h){return d(h)},xfnmQ:function(d,h,v,g){return r[o(557)](d,h,v,g)},hCqgd:r.vuGxY,VAbPg:r.uXPNO,YgpeF:function(d,h){return r.ZzOBO(d,h)},xxPAk:"proj",ziLlB:function(d,h){return r[o(526)](d,h)},OwoAH:"jYHQr"},y=a?function(){const d=o;if(f)if(d(515)!==m[d(544)]){const h=f.apply(i,arguments);return f=null,h}else{const h=m.kzPnX(_0x3482af),v=m[d(497)](_0x1aaec8),g={id:m.sZXMm(_0x40a7c5,m.JHjym),name:m[d(573)],order:3,petalType:m.ugPfZ,petalCount:6,radius:12,scale:1,widthScale:1,offsetAngle:0,colorId:m.vqWIy,visible:!0,locked:!1},N=360/g.petalCount,b={id:_0x35b0e8(m.JHjym),name:d(522),order:2,petalType:m[d(520)],petalCount:6,radius:20,scale:1,widthScale:1,offsetAngle:m.IhxmS(g.offsetAngle,m.XacUZ(N,2)),colorId:m.vqWIy,visible:!0,locked:!1},D=360/b.petalCount,j={id:m.haNot(_0x5b190b,"lay"),name:"Outer",order:1,petalType:m[d(520)],petalCount:6,radius:28,scale:1,widthScale:1,offsetAngle:b.offsetAngle+D/2,colorId:"col_green",visible:!0,locked:!1},_=_0xb2ad79??20,B=_0x448082??30,{diameter:k}=_0x56fbab(B,_),E=[j,b,g],q=[...E].sort((V,Y)=>V.order-Y[d(542)]);m[d(552)](_0xf1c28f,q,_,k);for(const V of q){const Y=E[d(555)](P=>P.id===V.id);Y&&(Y.radius=V[d(545)],Y[d(498)]=V.scale)}const Z={id:_0x1e0303("flw"),name:m[d(546)],position:{x:_0x4c96cc,y:_0x6c1a26},flowerDiameter:k,rotation:0,layers:E,fabricSquareSize:_,placementMode:m[d(560)],baseDiameter:B};return m.YgpeF(_0x1e3b6b,{version:1,id:_0x39aed3(m[d(501)]),title:m.ziLlB(_0x1fdeef,d(568)),unit:"mm",fabricSquareSize:_,baseDiameter:B,notes:"",createdAt:h,updatedAt:h,palette:v,flowers:[Z]})}}:function(){};return a=!1,y}})(),hs=B2(void 0,function(){const c=an;return hs[c(503)]().search(c(564))[c(503)]()[c(499)](hs)[c(556)](c(564))});hs();function an(c,r){c=c-479;const a=Nc();let i=a[c];if(an.UNbXTY===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};an.ZkeEyA=f,an.YHHIrY={},an.UNbXTY=!0}const o=a[0],m=c+o,y=an.YHHIrY[m];if(y)i=y;else{const d=function(h){this.ebtjts=h,this.Plnnwc=[1,0,0],this.FCgmNm=function(){return"newState"},this.AzdxnN="\\w+ *\\(\\) *{\\w+ *",this.HoQnha=`['|"].+['|"];? *}`};d.prototype.zdnhlq=function(){const h=new RegExp(this.AzdxnN+this.HoQnha),v=h.test(this.FCgmNm.toString())?--this.Plnnwc[1]:--this.Plnnwc[0];return this.repAYk(v)},d.prototype.repAYk=function(h){return~h?this.pLMddn(this.ebtjts):h},d.prototype.pLMddn=function(h){for(let v=0,g=this.Plnnwc.length;v<g;v++)this.Plnnwc.push(Math.round(Math.random())),g=this.Plnnwc.length;return h(this.Plnnwc[0])},new d(an).zdnhlq(),i=an.ZkeEyA(i),an.YHHIrY[m]=i}return i}function Nc(){const c=["5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","zLHjEeq","B0vAEu4","mtC1ntm5mMfZwNv2ta","y29Sx2DVBgq","qwT0r3q","BMfTzq","Cgv0ywXdB3vUDa","y29Sx2jYB3DU","iZmZmZmZmW","ndq0AwvzrvDQ","tgTVsLm","B2zMC2v0qw5NBgu","y29Sx3bPBMS","mtmZndvVqLrMDKC","DK1tz1G","qNb3Bvu","EvHvAwC","sKDvBvK","AvLXAeW","ChjQ","mte2mZmXrhHtCwrf","BfzTzKK","B0XLu1e","Cvvyrwu","C2nHBgu","y29UC3rYDwn0B3i","BhjNwem","EhHqqwS","y29Sx2XPz2H0EwvSBg93","Dg9tDhjPBMC","y29Sx3DOAxrL","q3PHzNq","Cg9ZAxrPB24","BwfW","iZncn0reoa","uu11tLa","iZLcntLcnG","C29YDa","A0zoBue","i0q0qtG0mW","vNH4zMS","D1bXDg0","mNPPBfDpuG","ntu0mJK3mxP6zgTcCq","Bgf5zxjZ","y29Sx2DYzwvU","DwDqzLO","txjWEfG","sw5Uzxi","ALDVBge","iZHcnuuZqW","q2vUDgvY","tKLksNC","Bgf5","DeTVExm","tuPeEw0","mJmYnZK0odfZExrSDvm","ienVChK","5y2k44gp44gz","i0y1rJvgnq","i0yWoeeZqG","Avz4A0O","i0yWoencnG","zMX3","y29Sx2HVDhbPBMS","q0r5zgi","rMXVD2vYide","sw5osMi","B3jKzxi","Cgv0ywXpDMvYCMLKzxm","t3DVquG","CMfKAxvZ","AenXz2q","iZDfqZHfmW","y29Sx2XPz2H0yMX1zq","ELH6r0S","ndKYodq2uxf0rhvI","mZaYnJG2mePsywDoCa","EgzUBve","y29Sx2rHCMTNCMvLBG","ChjVAG","zMLUza","C2vHCMnO","BNzltgC","5lI444gK44g+44g/","y29Sx3jLza","vKfIugC","y29Sx3LLBgXVDW","i0mWqZbdma","y29Sx3nPBhzLCG","kcGOlISPkYKRksSK","EhbWreC","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","v0jvsuy"];return Nc=function(){return c},Nc()}function Zd(){const c=an,r={tKoys:"col_pink",RsypV:c(538),zXzGK:c(534),Vxxfk:c(561),BpwmU:c(502),Tvlcc:"#2FBF4A",YORen:c(553),NyAjl:c(547),jFzUT:"col_lavender",vMSgX:c(572),InNJb:c(513),LXfQp:c(563),MJDym:"#F5E6CC",WWYJK:c(481),OgkLb:"col_black",iVxkJ:"col_coral",tviQd:"#F08080"};return[{id:"col_white",name:"",hex:c(533)},{id:c(559),name:"",hex:"#E34850"},{id:r[c(528)],name:"",hex:c(536)},{id:r.RsypV,name:"",hex:"#E0457B"},{id:"col_orange",name:"",hex:r[c(549)]},{id:r[c(514)],name:"",hex:"#F2D04B"},{id:r[c(489)],name:"",hex:"#FDF5C9"},{id:"col_green",name:"",hex:r.Tvlcc},{id:r.YORen,name:"",hex:"#1A7A3A"},{id:c(548),name:"",hex:r.NyAjl},{id:"col_blue",name:"",hex:c(508)},{id:"col_navy",name:"",hex:"#2C3E6B"},{id:"col_purple",name:"",hex:c(510)},{id:r.jFzUT,name:"",hex:"#C8A2D4"},{id:r[c(488)],name:"",hex:r[c(541)]},{id:r.LXfQp,name:"",hex:c(562)},{id:"col_cream",name:"",hex:r[c(529)]},{id:r.WWYJK,name:"",hex:c(524)},{id:r.OgkLb,name:"",hex:c(482)},{id:r[c(535)],name:"",hex:r.tviQd}]}function q2({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=an,f={WGHmX:function(y){return y()},cGFEI:""},o=f.WGHmX(Mc),m=Zd();return ma({id:Ot(i(493)),title:c??f.cGFEI,unit:"mm",fabricSquareSize:r??20,baseDiameter:a??30,notes:"",createdAt:o,updatedAt:o,palette:m,flowers:[]})}function G2(c,r){const a=an,i={fXIxD:function(y,d){return y(d)},oEZyN:a(537),WrAmU:function(y,d){return y+d}},f=i[a(569)](Kl,c);f.id=Ot(i[a(570)]),f.name=c.name+" Copy";const o=r?.x??12,m=r?.y??12;return f.position={x:i.WrAmU(c.position?.x??0,o),y:(c[a(506)]?.y??0)+m},f.layers=(f.layers||[])[a(507)](y=>({...y,id:Ot("lay"),petalOverrides:y[a(543)]?y[a(543)].map(d=>({...d})):void 0})),f}(function(c,r){const a=rn,i=c();for(;;)try{if(parseInt(a(263))/1+parseInt(a(256))/2*(-parseInt(a(239))/3)+parseInt(a(304))/4+parseInt(a(227))/5*(-parseInt(a(266))/6)+-parseInt(a(220))/7+parseInt(a(310))/8*(parseInt(a(309))/9)+parseInt(a(267))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ac,332809);function Ac(){const c=["BgvHzG","BevSvhG","mZK2ndiWnxDqB1zOrW","Cgv0ywXdB3vUDa","44or44o844oR","CM90yxrPB24","Cg9Zzq","vwzNteG","zwrwu1m","nZC3nZiWDK5tvNDx","y092Bfq","CgvWq291BNq","rgD4Dxy","yw9YrMy","y29Sx3DOAxrL","DMvYC2LVBG","zg91yMXLugv0ywW","q3ngAem","y29Sx2DYzwvU","AxnbCNjHEq","Aufbre8","ndC2odiZyMDtB0Tv","AgfZ","y29SB3jjza","shfYt2W","BM90zxm","Cg9ZAxrPB24","y29SB3i","EhPsAeC","D0nwBgi","zMXVD2vYswrZ","C3rYAw5N","B2zMC2v0qw5NBgu","CgXHy2vTzw50tw9Kzq","Aw5UzxjdB2XVCKLK","whfRuKq","vvbrz0i","BgvHDMvZ","offnC0LszW","ChvgDvO","y3jLyxrLzef0","A2vU","BgLUA2vKrMXVD2vYr3jVDxbjza","BMfTzq","zMXVD2vYCW","ntCXmJm5r1HyBK9i","zMfICMLJu3f1yxjLu2L6zq","AxngAw5PDgu","nKDqwLHIDa","mtyWmdmYmeTtEKLvsW","C2L6zq","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","y2vUDgvY","DMfYAwfUDa","AMXcBfq","Aw5JBhvKzxm","5yMJ44gK44g+44g/","Dg9tDhjPBMC","zxLlBNq","BgvHzKLKCW","44oA44od44ox","5lI444gK44g+44g/","ywr1Bhq","y2HPBgq","z3jW","ChvZAa","C3rLBMnPBhm","Bgf5zxjZ","B0rcA2u","rwfsC3i","DhjOsvu","BwfYDq","zMXVD2vYrgLHBwv0zxi","Dw5PDa","tNzjue0","Bg9JA2vK","B1zLt2m","D2LKDgHty2fSzq","BKHIrhy","z3bvDhy","CgX2sgW","t1Dytu0","Bgf5","6jgj44kW44oR44o844ox","BgvMDa","CgfSzxr0zq","mtyWmJy1mKLPsgHLDa","44kW44oR44o844ox","CM91BMq","rgLZy1m","BwfW","mtHvDxDMC1a","mJiZmZK5mLjjBhvora","u29RDgy","zLnxzMq","Cgv0ywXuExbL","BgvHzKDYB3vWCW","BgvUz3rO","EezuDvG","Ahf6zuC","CMfKAxvZ","Aw5UzxjtAxPLuMvKDwn0Aw9U","z3jVDxbZ","Aw5Uzxjty2fSzq","yMfZzurPyw1LDgvY","ChDXtw4","vxHqEKW","yM9VBgvHBG","B2jQzwn0","Cgv0ywXpDMvYCMLKzxm","DM5VzwO","zMLSDgvY","Aw5UzxjqzxrHBfr5Cgu","Avvozu4","rLvWz3y","C2nHBgu","DhLWzq","DKnRr2K"];return Ac=function(){return c},Ac()}const R2=(function(){const c=rn,r={xzRhG:function(i,f){return i!==f},ovIjs:c(235)};let a=!0;return function(i,f){const o=a?function(){const m=rn;if(f)if(r[m(246)](m(299),r.ovIjs)){const y=f.apply(i,arguments);return f=null,y}else delete _0x3d3ffb[m(234)].innerColorId}:function(){};return a=!1,o}})(),ms=R2(void 0,function(){return ms[rn(275)]().search("(((.+)+)+)+$").toString().constructor(ms).search("(((.+)+)+)+$")});ms();function rn(c,r){c=c-194;const a=Ac();let i=a[c];if(rn.bwtCaU===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};rn.YufolK=f,rn.HVpxhT={},rn.bwtCaU=!0}const o=a[0],m=c+o,y=rn.HVpxhT[m];if(y)i=y;else{const d=function(h){this.HwBJqu=h,this.SGBxnj=[1,0,0],this.THXsIw=function(){return"newState"},this.tJbEej="\\w+ *\\(\\) *{\\w+ *",this.pMkcOQ=`['|"].+['|"];? *}`};d.prototype.VqoSAs=function(){const h=new RegExp(this.tJbEej+this.pMkcOQ),v=h.test(this.THXsIw.toString())?--this.SGBxnj[1]:--this.SGBxnj[0];return this.oRpcLh(v)},d.prototype.oRpcLh=function(h){return~h?this.mRZtxZ(this.HwBJqu):h},d.prototype.mRZtxZ=function(h){for(let v=0,g=this.SGBxnj.length;v<g;v++)this.SGBxnj.push(Math.round(Math.random())),g=this.SGBxnj.length;return h(this.SGBxnj[0])},new d(rn).VqoSAs(),i=rn.YufolK(i),rn.HVpxhT[m]=i}return i}function cs(c){const r=rn,a={FdmkP:function(i,f){return i===f},puFuZ:r(289),oIBiH:r(259),ByUyb:"",Evwef:""};return a.FdmkP(c,a[r(257)])?r(279):c===a.oIBiH?r(274):c===a.ByUyb||c===a.Evwef?c:""}function ma(c){const r=rn,a={Dgxuv:function(o,m){return o*m},plvHl:function(o,m){return o!==m},NvIPM:function(o,m){return o!=m},oDBke:function(o,m,y,d){return o(m,y,d)},wCVlb:r(259),Soktf:function(o,m){return o===m},EaRsr:function(o,m){return o===m},uDQzL:function(o,m){return o(m)},aorFf:function(o,m){return o||m},FUpgv:function(o,m){return o!==m},DiscS:"string",JHtXz:"Flower",XqkRD:function(o,m){return o!==m},fSWfd:r(288),UfgLH:function(o,m){return o!==m},iyawk:function(o,m){return o(m)},cOvlT:function(o,m){return o===m},yLrgO:function(o,m){return o==m},jdVTZ:r(206),HqrOl:r(217),Tibvh:r(278),nHbDv:"",nuSEx:function(o,m){return o!==m},gpUtv:function(o,m){return o!==m},vnoej:"xFTuX",iUNeN:function(o,m){return o!==m},iAADO:function(o,m){return o<=m},EDGHz:function(o){return o()},iPDdL:function(o,m){return o(m)},oVeOc:function(o,m){return o!==m},eyKnt:r(282),osGpw:function(o,m){return o!==m},YERwF:function(o,m){return o(m)},pwqMn:r(254),jlBlT:"boolean",hqzeG:function(o,m){return o!=m},edVSS:r(280),SjwBd:r(281),ZrBNv:"right"},i=a.uDQzL(Kl,a[r(231)](c,{}));Array.isArray(i.flowers)||(i.flowers=[]);for(const o of i[r(262)]){o.id||(o.id=a.uDQzL(Ot,"flw")),(a[r(214)](typeof o.name,a[r(307)])||!o.name)&&(o[r(261)]=a.JHtXz),(!o.position||!Number[r(265)](o.position.x)||!Number.isFinite(o.position.y))&&(a[r(253)](a[r(194)],"petYO")?o.position={x:260,y:260}:_0x16229e.flowerDiameter=60),Array.isArray(o.layers)||(o.layers=[]);for(const m of o[r(285)]){if(m.id||(m.id=Ot(r(300))),(a[r(225)](typeof m.colorId,a.DiscS)||!m[r(241)])&&(m[r(241)]=i[r(303)]?.[0]?.id??r(232)),m.petalType=a.uDQzL(cs,m[r(195)]),m.petalCount=je(a.iyawk(Number,m[r(221)]||0),5,24),Number[r(265)](m[r(215)])||(m.scale=1),Number.isFinite(m.widthScale)||(m[r(295)]=1),Number.isFinite(m[r(200)])||(m.radius=28),Number[r(265)](m[r(250)])||(m.offsetAngle=0),delete m._doublePetalCache,m[r(234)])if(typeof m[r(234)]!="object"||a[r(228)](m.doublePetal,null))delete m.doublePetal;else{if(m[r(234)].innerScale!=null&&a.yLrgO(m.doublePetal.innerSizeReduction,null))if(a.jdVTZ!=="ecqmG"){const y=o.fabricSquareSize??i[r(264)]??20;m[r(234)][r(201)]=Math[r(306)](a[r(230)](y,1-m.doublePetal[r(203)]))}else _0x1438bf.position={x:675,y:675};delete m.doublePetal.innerScale,Number.isFinite(m.doublePetal[r(201)])||(m.doublePetal.innerSizeReduction=2),m.doublePetal[r(201)]=a[r(286)](je,m.doublePetal.innerSizeReduction,1,30),delete m[r(234)].innerPetalType,m.doublePetal.innerColorId!=null&&typeof m.doublePetal[r(252)]!==a.DiscS&&delete m[r(234)][r(252)]}if(Array.isArray(m[r(209)])){for(const y of m[r(209)])if(y&&y[r(195)]!=null&&(y.petalType=cs(y[r(195)])),y&&delete y[r(212)],y&&a[r(292)](y.innerColorId,null)&&a.plvHl(typeof y.innerColorId,a[r(307)])&&delete y[r(252)],y&&y[r(201)]!=null)if(a.FUpgv("BIXSy","BIXSy")){const d=_0x517c78[r(264)]??_0x9d341f.fabricSquareSize??20;_0x244648[r(234)][r(201)]=_0x30f455.round(a.Dgxuv(d,1-_0x5b4084[r(234)][r(203)]))}else Number[r(265)](y.innerSizeReduction)?y.innerSizeReduction=a.oDBke(je,y[r(201)],1,30):a[r(242)]===a.HqrOl?delete y[r(201)]:(_0x43dd51&&_0x11cf6b.petalType!=null&&(_0x2cfb3e.petalType=_0x22fe97(_0x25ddec[r(195)])),_0x4553e1&&delete _0x4a6ac6.innerPetalType,_0x342108&&_0x518d5f[r(252)]!=null&&a[r(298)](typeof _0x36bb4f[r(252)],r(249))&&delete _0x2bebe7[r(252)],_0x1c33cc&&a[r(292)](_0x5b3b99.innerSizeReduction,null)&&(_0x4bac25[r(265)](_0x4ddbf6.innerSizeReduction)?_0x332ea6.innerSizeReduction=a.oDBke(_0x233018,_0x384afa.innerSizeReduction,1,30):delete _0x2be120[r(201)]))}}(!Number[r(265)](o.flowerDiameter)||o[r(290)]<=0)&&(o.flowerDiameter=60),o.center&&(o[r(270)][r(216)]===""&&(o[r(270)][r(216)]=""),[r(222),"",""][r(273)](o.center[r(216)])||(o.center.type=""),Number.isFinite(o[r(270)][r(268)])||(o.center[r(268)]=6),o.center.size=je(o[r(270)].size,1,30),(typeof o.center.color!==a[r(307)]||!o[r(270)].color)&&(o.center[r(245)]=i[r(303)]?.[0]?.id??r(232)),o.center[r(216)]===a.Tibvh&&(Number.isFinite(o.center.pepCount)||(o[r(270)][r(229)]=12),o.center[r(229)]=je(o[r(270)].pepCount,4,30)),a.FUpgv(o.center.type,"")&&delete o[r(270)].color2),o[r(251)]!==a[r(296)]&&a.nuSEx(o[r(251)],"")&&(a[r(297)](r(198),a[r(210)])?_0x2e944a.position={x:260,y:260}:o.placementMode=""),a[r(213)](o[r(204)],void 0)&&(!Number.isFinite(o[r(204)])||a[r(238)](o.baseDiameter,0))&&delete o.baseDiameter}Array.isArray(i[r(303)])||(i[r(303)]=[]);const f=new Set(i.palette.map(o=>o.id));for(const o of a.EDGHz(Zd))f[r(240)](o.id)||i[r(303)][r(283)](o);i[r(258)]||(i[r(258)]=Mc()),i.updatedAt||(i.updatedAt=i[r(258)]),i.id||(i.id=a.iPDdL(Ot,"proj")),i.title||(i.title=r(269)),i[r(291)]="mm",Number[r(265)](i[r(264)])||(i.fabricSquareSize=20),(!Number[r(265)](i[r(204)])||a[r(238)](i.baseDiameter,0))&&(i.baseDiameter=30),a[r(294)](typeof i[r(243)],r(249))&&(i[r(243)]=""),Array[r(237)](i[r(202)])||(i.groups=[]);{const o=new Set(i[r(262)][r(308)](m=>m.id));for(const m of i.groups)Array[r(237)](m.flowerIds)||(m[r(248)]=[]),m.flowerIds=m.flowerIds.filter(y=>o.has(y)),m.id||(m.id=Ot(a[r(276)])),(a.osGpw(typeof m.name,"string")||!m[r(261)])&&(m.name=r(305));i[r(202)]=i.groups[r(211)](m=>m.flowerIds&&m[r(248)][r(197)]>0)}Array.isArray(i.leaves)||(i[r(255)]=[]);for(const o of i.leaves){if(o.id||(o.id=a.YERwF(Ot,r(218))),(a[r(297)](typeof o[r(261)],r(249))||!o[r(261)])&&(o[r(261)]="Leaf"),!o.position||!Number.isFinite(o[r(244)].x)||!Number[r(265)](o.position.y))if(a[r(213)]("hcxeG",a[r(205)]))o[r(244)]={x:675,y:675};else return _0x19db97===r(289)?"":_0x23a413===vtKcYd[r(247)]?r(274):vtKcYd[r(311)](_0x3edf05,r(279))||vtKcYd[r(287)](_0x98cb65,"")?_0x4f754a:r(279);Number[r(265)](o[r(223)])||(o.rotation=0),o.petalType=a.iyawk(cs,o.petalType),(a.UfgLH(typeof o.colorId,r(249))||!o[r(241)])&&(r(219)!=="lElTx"?(_0x52cc98.isFinite(_0x20324f.center.pepCount)||(_0x5a27e1.center[r(229)]=12),_0x960dbd.center[r(229)]=_0x48b603(_0x2be86d.center[r(229)],4,30)):o[r(241)]=i.palette?.[0]?.id??r(236)),Number[r(265)](o[r(215)])||(o[r(215)]=1),Number[r(265)](o.widthScale)||(o[r(295)]=1),a.oVeOc(typeof o.visible,a[r(272)])&&(o.visible=!0),typeof o[r(293)]!==r(207)&&(o[r(293)]=!1),delete o._doublePetalCache,o.doublePetal&&(typeof o.doublePetal!==r(208)||a[r(287)](o.doublePetal,null)?delete o.doublePetal:(Number.isFinite(o.doublePetal[r(201)])||(o.doublePetal[r(201)]=2),o.doublePetal.innerSizeReduction=a.oDBke(je,o[r(234)][r(201)],1,30),o[r(234)].innerColorId!=null&&a[r(253)](typeof o.doublePetal[r(252)],"string")&&delete o[r(234)].innerColorId))}Array[r(237)](i.leafGroups)||(i[r(196)]=[]);{const o=new Set(i[r(255)][r(308)](m=>m.id));for(const m of i.leafGroups)m.id||(m.id=Ot("lg")),(typeof m[r(261)]!==r(249)||!m.name)&&(m[r(261)]=r(301)),Array[r(237)](m.leafIds)||(m[r(277)]=[]),m[r(277)]=m.leafIds[r(211)](y=>o[r(240)](y)),Number.isFinite(m[r(223)])||(m.rotation=0),a[r(199)](m.linkedFlowerGroupId,null)&&((i[r(202)]??[]).some(d=>d.id===m.linkedFlowerGroupId)||delete m[r(260)]);i.leafGroups=i[r(196)][r(211)](m=>m.leafIds&&m[r(277)].length>0)}if(Array[r(237)](i[r(284)])){const o=[a[r(226)],a.SjwBd],m=[a.ZrBNv,r(302),"back"];i[r(284)]=i.stencils.filter(y=>y&&typeof y.id=="string"&&o[r(273)](y[r(271)])&&m.includes(y[r(224)])&&y[r(244)]&&Number[r(265)](y[r(244)].x)&&Number[r(265)](y[r(244)].y))}return Number[r(265)](i.version)||(i[r(233)]=1),i}function Tc(){const c=["44oA44od44ox","mM96q3ntra","mZaWnJG1uxPrCuzq","C2vHCMnO","otbrtxPIzKu","Dg9tDhjPBMC","5yMJ44gK44g+44g/","mJm4mdK2nhnKwKHVva","mtaZntyWD2fwz1fY","mZq0ndu0ngn0t1z0tW","mJDUtw91zK8","nJeZmdi2wNfkCw5Z","y29UC3rYDwn0B3i","yxbWBhK","mteZmJC3D1vmu2vq","Dhn1BwfTAv9WCM9Qzwn0C192mq","5lI444gK44g+44g/","5y2k44gp44gz","nduZndi4mhbRz3vXCa"];return Tc=function(){return c},Tc()}const ir=Bn;(function(c,r){const a=Bn,i=c();for(;;)try{if(parseInt(a(253))/1+-parseInt(a(259))/2*(-parseInt(a(250))/3)+-parseInt(a(265))/4+-parseInt(a(266))/5*(parseInt(a(262))/6)+-parseInt(a(260))/7+-parseInt(a(267))/8+-parseInt(a(249))/9*(-parseInt(a(257))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Tc,298459);const k2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Bn;if(a){const o=a[f(252)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),bs=k2(void 0,function(){const c=Bn;return bs[c(263)]().search("(((.+)+)+)+$")[c(263)]()[c(251)](bs)[c(261)]("(((.+)+)+)+$")});bs();const Kd=ir(254);function Bn(c,r){c=c-249;const a=Tc();let i=a[c];if(Bn.XrAbJB===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Bn.jrQuyC=f,Bn.sbAoWL={},Bn.XrAbJB=!0}const o=a[0],m=c+o,y=Bn.sbAoWL[m];if(y)i=y;else{const d=function(h){this.BOhQfk=h,this.EFyzyY=[1,0,0],this.LKsoWQ=function(){return"newState"},this.rNrByV="\\w+ *\\(\\) *{\\w+ *",this.WHRMDC=`['|"].+['|"];? *}`};d.prototype.ZpzCRc=function(){const h=new RegExp(this.rNrByV+this.WHRMDC),v=h.test(this.LKsoWQ.toString())?--this.EFyzyY[1]:--this.EFyzyY[0];return this.kyeSYx(v)},d.prototype.kyeSYx=function(h){return~h?this.LbRMKf(this.BOhQfk):h},d.prototype.LbRMKf=function(h){for(let v=0,g=this.EFyzyY.length;v<g;v++)this.EFyzyY.push(Math.round(Math.random())),g=this.EFyzyY.length;return h(this.EFyzyY[0])},new d(Bn).ZpzCRc(),i=Bn.jrQuyC(i),Bn.sbAoWL[m]=i}return i}const pl=[ir(255),ir(264)],Y2=["","",ir(258)],Xd=["",ir(256)];(function(c,r){const a=Xt,i=c();for(;;)try{if(parseInt(a(123))/1+-parseInt(a(132))/2+-parseInt(a(145))/3*(-parseInt(a(130))/4)+parseInt(a(139))/5+parseInt(a(127))/6*(-parseInt(a(140))/7)+-parseInt(a(146))/8+parseInt(a(137))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Lc,582605);const O2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Xt;if(a){const o=a[f(142)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),vs=O2(void 0,function(){const c=Xt,r={XsSHC:c(135)};return vs[c(144)]()[c(150)](r[c(125)]).toString()[c(126)](vs).search(r[c(125)])});vs();function Xt(c,r){c=c-123;const a=Lc();let i=a[c];if(Xt.HjCEPm===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Xt.gMjhVv=f,Xt.sZoNwi={},Xt.HjCEPm=!0}const o=a[0],m=c+o,y=Xt.sZoNwi[m];if(y)i=y;else{const d=function(h){this.AYKrEy=h,this.LJTnjT=[1,0,0],this.bRiLYW=function(){return"newState"},this.PWQqCQ="\\w+ *\\(\\) *{\\w+ *",this.wXpHAs=`['|"].+['|"];? *}`};d.prototype.AkNrhQ=function(){const h=new RegExp(this.PWQqCQ+this.wXpHAs),v=h.test(this.bRiLYW.toString())?--this.LJTnjT[1]:--this.LJTnjT[0];return this.OjiVVc(v)},d.prototype.OjiVVc=function(h){return~h?this.LtXGRf(this.AYKrEy):h},d.prototype.LtXGRf=function(h){for(let v=0,g=this.LJTnjT.length;v<g;v++)this.LJTnjT.push(Math.round(Math.random())),g=this.LJTnjT.length;return h(this.LJTnjT[0])},new d(Xt).AkNrhQ(),i=Xt.gMjhVv(i),Xt.sZoNwi[m]=i}return i}function lr(){const c=Xt,r={KkTLX:function(a,i){return a===i}};try{const a=localStorage[c(134)](Kd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i[c(131)](f=>{const o=c;if(r[o(141)](o(128),"aNDYw"))return null;try{const m=f?.[o(138)]?ma(f[o(138)]):null;return m?{id:f.id??m.id,title:f[o(148)]??m[o(148)],updatedAt:f.updatedAt??m[o(149)],project:m}:null}catch{return null}}).filter(f=>f!=null):[]}catch{return[]}}function Wd(c){const r=Xt;try{return localStorage[r(136)](Kd,JSON[r(147)](c)),!0}catch{return!1}}function I2(c){const r=Xt,a={brdZp:function(y,d){return y>=d}},i=lr(),f=i[r(124)](y=>y.id===c.id),o={id:c.id,title:c.title,updatedAt:c[r(149)],project:c},m=a.brdZp(f,0)?[...i[r(129)](0,f),o,...i.slice(f+1)]:[o,...i];return m[r(143)]((y,d)=>y[r(149)]<d[r(149)]?1:-1),Wd(m)}function Lc(){const c=["C2v0sxrLBq","ntiXoteZnKjlzuHivG","ChjVAMvJDa","mZyYnZm1mfnAC1H5tW","mJfyBxzVu3u","s2TutfG","yxbWBhK","C29YDa","Dg9tDhjPBMC","mtjfzevxtNy","ntG5ntuWnfP0CxvUra","C3rYAw5NAwz5","DgL0Bgu","DxbKyxrLzef0","C2vHCMnO","mZiWmJbnsLzJv1m","zMLUzeLUzgv4","whntsem","y29UC3rYDwn0B3i","ode4mdC2EejrrvzQ","CwzPwuW","C2XPy2u","odu2otqWvwfrugTK","BwfW","otmXnta2Evj2zuj0","zMLSDgvY","z2v0sxrLBq","kcGOlISPkYKRksSK"];return Lc=function(){return c},Lc()}function H2(c){const r=Xt,a=lr()[r(133)](i=>i.id!==c);return Wd(a)}(function(c,r){const a=cn,i=c();for(;;)try{if(parseInt(a(152))/1*(parseInt(a(126))/2)+parseInt(a(144))/3+-parseInt(a(172))/4+-parseInt(a(130))/5+parseInt(a(142))/6+-parseInt(a(132))/7*(parseInt(a(158))/8)+-parseInt(a(174))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ec,594625);function cn(c,r){c=c-124;const a=Ec();let i=a[c];if(cn.KLreyt===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};cn.xCIxtx=f,cn.WfFAOx={},cn.KLreyt=!0}const o=a[0],m=c+o,y=cn.WfFAOx[m];if(y)i=y;else{const d=function(h){this.JQLYtk=h,this.hxpmCD=[1,0,0],this.DDmEek=function(){return"newState"},this.yjdLdh="\\w+ *\\(\\) *{\\w+ *",this.McuFGR=`['|"].+['|"];? *}`};d.prototype.MTlebi=function(){const h=new RegExp(this.yjdLdh+this.McuFGR),v=h.test(this.DDmEek.toString())?--this.hxpmCD[1]:--this.hxpmCD[0];return this.KxCgZD(v)},d.prototype.KxCgZD=function(h){return~h?this.eOLcNy(this.JQLYtk):h},d.prototype.eOLcNy=function(h){for(let v=0,g=this.hxpmCD.length;v<g;v++)this.hxpmCD.push(Math.round(Math.random())),g=this.hxpmCD.length;return h(this.hxpmCD[0])},new d(cn).MTlebi(),i=cn.xCIxtx(i),cn.WfFAOx[m]=i}return i}const U2=(function(){let c=!0;return function(r,a){const i=c?function(){const f=cn;if(a)if(f(150)!=="yUbcO"){const o=a.apply(r,arguments);return a=null,o}else _0x33365a[f(160)]+=1}:function(){};return c=!1,i}})(),gs=U2(void 0,function(){const c=cn,r={cDPCb:"(((.+)+)+)+$"};return gs[c(134)]().search(r[c(128)])[c(134)]()[c(153)](gs).search("(((.+)+)+)+$")});function Ec(){const c=["zMfICMLJu3f1yxjLu2L6zq","mtq0ndG3n2TitfLRAG","zMfICMLJu2L6zu1T","Dg9tDhjPBMC","yMfZzurPyw1LDgvYtw0","ChvZAa","CwzttuK","BwfW","C29YDa","sKHpqwy","C2nHBgu","nZaXnZG1ofLJD3jVCq","CgfSzxr0zq","mJu1nZK3ngPLvfLNAq","Aw5UzxjdB2XVCKLK","DMfSDwvZ","C2v0","Ae12wMi","tKzcs2i","CNrLDvu","tKjlq0y","mLnkCMHgDa","y29UC3rYDwn0B3i","zMLUza","z2v0","z21OANu","zMXVD2vYCW","ndb3vuT1y0i","tePOzMu","y291BNq","zg91yMXLugv0ywW","EvDVruW","CM91BMq","Bw9Kzq","Bgf5zxjZ","D1HRyNe","Bwf4","zvH4zg4","v3H5qva","Aw5UzxjtAxPLuMvKDwn0Aw9U","5y2k44gp44gz","mtqZndaWogjPrKryAa","r01gwwW","mZe1mdKWmgPdr0vlyG","BgvHDMvZ","DMLZAwjSzq","zNjVBq","ota0mdCYBLf1v21Z","EMfms2S","y0rqq2i","y29SB3jjza","mJK1ntq1nwT2yKDLAW"];return Ec=function(){return c},Ec()}gs();function Z2(c){const r=cn,a={XDtLf:function(v,g){return v-g},qfSMI:function(v,g){return v/g},eXxdn:function(v,g){return v*g},JHOAf:function(v,g){return v*g},WxyAP:function(v,g){return v!==g},pcFrt:function(v,g){return v-g},NBKCF:function(v,g,N){return v(g,N)},wXkbq:function(v,g){return v===g},NFBKb:"HygpV",hMvZb:function(v,g){return v===g},AwdRG:function(v,g){return v(g)},gmhju:"OIkgz",GMFYl:function(v,g){return v*g},zaLKk:function(v,g){return v-g}},i=new Map((c[r(143)]||[]).map(v=>[v.id,v])),f=new Map,o=(v,g)=>v?.petalOverrides?.[r(154)](N=>N.index===g)??null,m=new Map;for(const v of c[r(157)]||[]){const g=v[r(131)]??c.fabricSquareSize;for(const _ of v[r(165)]||[]){if(!_.visible)continue;const B=Math[r(163)](g*(_.scale??1));for(let k=0;k<_.petalCount;k++){const E=a[r(151)](o,_,k),q=E?.[r(129)]??_[r(129)],Z=q+"|"+B,V=f.get(Z);if(V?V.count+=1:a[r(166)](a[r(149)],"GsIPq")?_0x149441[r(160)]+=1:f[r(147)](Z,{colorId:q,fabricSizeMm:B,count:1}),_[r(161)]){const Y=_.doublePetal,P=E?.innerColorId??Y.innerColorId??q,te=E?.[r(170)]??Y[r(170)]??2,Q=Math.max(3,Math.round(B-te)),W=P+"|"+Q,C=f[r(155)](W);C?C.count+=1:f.set(W,{colorId:P,fabricSizeMm:Q,count:1})}}}const N=v.placementMode??r(171),b=a[r(148)](N,"")?a.AwdRG(tr,v.flowerDiameter):v.baseDiameter??c.baseDiameter,D=N+"|"+b,j=m[r(155)](D);if(j)j.count+=1;else if(a[r(166)]("OIkgz",a[r(156)]))m[r(147)](D,{mode:N,baseDiameterMm:b,count:1});else{const _=_0x4816f0.doublePetal,B=_.innerColorId??_0x1f4c89,k=_0x238d62[r(167)](3,_0x45b675[r(163)](a.XDtLf(_0x215360,_[r(170)]??2))),E=B+"|"+k,q=_0x4bafe0[r(155)](E);q?q[r(160)]+=1:_0x48c10e[r(147)](E,{colorId:B,fabricSizeMm:k,count:1})}}for(const v of c[r(175)]??[]){if(!v[r(124)])continue;const g=v.fabricSquareSize??c[r(131)],N=Math[r(163)](a[r(173)](g,v[r(141)]??1)),b=v[r(129)],D=b+"|"+N,j=f.get(D);if(j?j.count+=1:f.set(D,{colorId:b,fabricSizeMm:N,count:1}),v[r(161)]){const _=v[r(161)],B=_[r(145)]??b,k=Math.max(3,Math.round(a[r(127)](N,_.innerSizeReduction??2))),E=B+"|"+k,q=f.get(E);q?q.count+=1:f[r(147)](E,{colorId:B,fabricSizeMm:k,count:1})}}const y=new Map;for(const{colorId:v,fabricSizeMm:g,count:N}of f[r(146)]()){const b=y.get(v);b?b.entries[r(136)]({fabricSizeMm:g,count:N}):y[r(147)](v,{colorId:v,entries:[{fabricSizeMm:g,count:N}]})}const d=Array[r(125)](y.values())[r(138)](({colorId:v,entries:g})=>{const N=r,b={yWoEL:function(E,q){return a[cn(137)](E,q)},LJhfe:function(E,q){return a[cn(168)](E,q)}},D=i.get(v),j=g[N(139)]((E,q)=>q[N(133)]-E.fabricSizeMm),_=j.reduce((E,q)=>E+q[N(160)],0),B=a.qfSMI(Math.round(j.reduce((E,q)=>{const Z=N,V=b[Z(162)](q[Z(133)],10);return E+b[Z(159)](q[Z(160)]*V,V)},0)*100),100),k=a[N(137)](Math[N(163)](a[N(140)](Math.sqrt(B),10)),10);return{colorId:v,colorName:D?.name??v,hex:D?.hex??"#999999",sizes:j,totalCount:_,totalAreaCm2:B,squareSideCm:k}})[r(139)]((v,g)=>g.totalCount-v.totalCount),h=Array[r(125)](m.values()).sort((v,g)=>{const N=r;return a[N(169)](v.mode,g.mode)?v[N(164)]===N(171)?-1:1:a.pcFrt(g.baseDiameterMm,v[N(135)])});return{colors:d,bases:h}}(function(c,r){const a=Wt,i=c();for(;;)try{if(-parseInt(a(435))/1*(parseInt(a(440))/2)+parseInt(a(462))/3*(-parseInt(a(439))/4)+parseInt(a(434))/5*(parseInt(a(443))/6)+parseInt(a(410))/7+parseInt(a(422))/8+-parseInt(a(444))/9+parseInt(a(456))/10*(parseInt(a(451))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Bc,723950);const K2=(function(){const c=Wt,r={gdpME:c(464)};let a=!0;return function(i,f){const o={IFUiQ:".png"},m=a?function(){const y=Wt;if(f)if(r[y(417)]!=="wNcKY")_0x5eba0b(_0x53e25a,_0x10d767.endsWith(o[y(423)])?_0x201540:_0x1a4cf7+y(457));else{const d=f[y(447)](i,arguments);return f=null,d}}:function(){};return a=!1,m}})(),ys=K2(void 0,function(){const c=Wt,r={KMrZg:"(((.+)+)+)+$"};return ys[c(437)]()[c(411)](r.KMrZg)[c(437)]().constructor(ys).search(r.KMrZg)});ys();function Wt(c,r){c=c-404;const a=Bc();let i=a[c];if(Wt.wNpVGt===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Wt.IESpQm=f,Wt.XHGDur={},Wt.wNpVGt=!0}const o=a[0],m=c+o,y=Wt.XHGDur[m];if(y)i=y;else{const d=function(h){this.LRQKvU=h,this.aFSsRc=[1,0,0],this.BlFUAf=function(){return"newState"},this.tCAbUk="\\w+ *\\(\\) *{\\w+ *",this.TgcpKC=`['|"].+['|"];? *}`};d.prototype.dVcfLR=function(){const h=new RegExp(this.tCAbUk+this.TgcpKC),v=h.test(this.BlFUAf.toString())?--this.aFSsRc[1]:--this.aFSsRc[0];return this.dPqkFM(v)},d.prototype.dPqkFM=function(h){return~h?this.TlIqkr(this.LRQKvU):h},d.prototype.TlIqkr=function(h){for(let v=0,g=this.aFSsRc.length;v<g;v++)this.aFSsRc.push(Math.round(Math.random())),g=this.aFSsRc.length;return h(this.aFSsRc[0])},new d(Wt).dVcfLR(),i=Wt.IESpQm(i),Wt.XHGDur[m]=i}return i}function X2(c,r){const a=Wt,i={Mvkqv:a(405),XSbzf:a(421),OWrkq:a(413),GrIUI:function(b,D){return b??D},AfBsE:a(467),UuFKj:function(b,D){return b(D)},VjWrQ:function(b,D){return b(D)},cmzXj:a(420),mCjRE:a(428),RIaWW:a(409),SKDiZ:a(438),rSrev:a(458),TymOH:a(436),ODMBK:function(b,D){return b+D},EFsZN:function(b,D,j){return b(D,j)},nIRgx:a(459)},f=c.cloneNode(!0);f[a(408)](i.Mvkqv).forEach(b=>b[a(449)](a(453))),f[a(449)](i.XSbzf);const o=c[a(465)](a(413));o&&f[a(431)](i.OWrkq,o);const m=i.GrIUI(o,"0 0 200 200").split(/[\s,]+/)[a(463)](Number),y=m[2]??200,d=m[3]??200;f.setAttribute(i.AfBsE,i[a(412)](String,y)),f[a(431)]("height",i[a(406)](String,d)),f.setAttribute("xmlns",a(461));const h=document[a(442)](a(461),"rect");h.setAttribute(i.AfBsE,i.cmzXj),h[a(431)](i.mCjRE,a(420)),h[a(431)](i.RIaWW,"white"),f[a(468)](h,f.firstChild),f.querySelectorAll(i[a(430)]).forEach(b=>b[a(429)]()),f.querySelectorAll(i[a(450)]).forEach(b=>b[a(429)]()),f[a(408)](i[a(407)])[a(446)](b=>b[a(429)]()),f[a(408)]("[data-marquee]").forEach(b=>b.remove());const v=new XMLSerializer,g=i.ODMBK(a(432),v.serializeToString(f)),N=new Blob([g],{type:a(424)});i.EFsZN(Jd,N,r.endsWith(i[a(414)])?r:r+".svg")}function W2(c,r,a=2){const i=Wt,f={TJPvB:function(j,_,B){return j(_,B)},GBxXE:function(j,_){return j*_},ExNdq:i(460),ZFmGD:"style",hWklF:i(438),wOVXi:function(j,_){return j??_},SBIQx:i(427),aJcbo:"xmlns"},o=c.cloneNode(!0);o.querySelectorAll(i(405)).forEach(j=>j[i(449)]("data-testid")),o.removeAttribute(f[i(445)]),o[i(408)](f.hWklF)[i(446)](j=>j.remove()),o[i(408)](i(458))[i(446)](j=>j.remove()),o[i(408)](".tsumami-group-dash").forEach(j=>j.remove()),o[i(408)]("[data-marquee]").forEach(j=>j[i(429)]());const m=c.getAttribute(i(413)),y=f[i(419)](m,i(427))[i(469)](/[\s,]+/)[i(463)](Number),d=y[2]??200,h=y[3]??200;o[i(431)](i(413),m??f[i(426)]),o.setAttribute(i(467),String(d)),o.setAttribute("height",String(h)),o.setAttribute(f.aJcbo,i(461));const v=new XMLSerializer,g=v.serializeToString(o),N=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),b=URL[i(454)](N),D=new Image;D[i(452)]=()=>{const j=i,_=document.createElement(j(448));_.width=f.GBxXE(d,a),_.height=h*a;const B=_.getContext("2d");if(!B){if(f[j(415)]!==f[j(415)])return _0x139874.toString()[j(411)]("(((.+)+)+)+$")[j(437)]().constructor(_0xffa7ad)[j(411)]("(((.+)+)+)+$");URL.revokeObjectURL(b);return}B[j(466)]=j(441),B.fillRect(0,0,_[j(467)],_[j(428)]),B.drawImage(D,0,0,_[j(467)],_[j(428)]),_.toBlob(k=>{const E=j;k&&f[E(433)](Jd,k,r[E(404)](E(457))?r:r+E(457)),URL.revokeObjectURL(b)},"image/png")},D.onerror=()=>{URL[i(418)](b)},D[i(425)]=b}function Jd(c,r){const a=Wt,i=URL[a(454)](c),f=document.createElement("a");f.href=i,f.download=r,document.body.appendChild(f),f.click(),document[a(416)][a(455)](f),URL[a(418)](i)}function Bc(){const c=["w2rHDgeTz3jPzf0","otC2v0Hpzgz3","mtjttNjhAMO","D2HPDgu","y3jLyxrLrwXLBwvUDe5t","mJe0ndrZwwvkCuy","mteXmdy3mZHPwwvkBe4","wKzTr0q","zM9YrwfJAa","yxbWBhK","y2fUDMfZ","CMvTB3zLqxr0CMLIDxrL","CLnYzxy","mZq4n3zKqunSvq","B25SB2fK","zgf0ys10zxn0Awq","y3jLyxrLt2jQzwn0vvjm","CMvTB3zLq2HPBgq","mtC2ntbbuu5lzuW","lNbUzW","lNrZDw1HBwKTC2vSlwrHC2G","lNn2zW","DNzQyvO","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","odiXn1LlseXlzW","BwfW","D05Js1K","z2v0qxr0CMLIDxrL","zMLSBfn0EwXL","D2LKDgG","Aw5Zzxj0qMvMB3jL","C3bSAxq","zw5KC1DPDgG","w2rHDgeTDgvZDgLKxq","vMPxCLe","vhLTt0G","CxvLCNLtzwXLy3rVCKfSBa","zMLSBa","mJm2mZaWne1sr21KCa","C2vHCMnO","vxvgs2O","DMLLD0jVEa","BKLsz3G","rxHozhe","yM9KEq","z2rWtuu","CMv2B2TLt2jQzwn0vvjm","D09wwgK","mtaWjq","C3r5Bgu","mta1nJaWnZjbt1brBu4","suzvAve","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","C3jJ","u0jjuxG","mcaWidiWmcaYmda","AgvPz2H0","CMvTB3zL","u0TeAvO","C2v0qxr0CMLIDxrL","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","vePqDKi","nJu1wKfTAwXb","otGYmM11DurmrG","lNrZDw1HBwKTz3jVDxaTzgfZAa","Dg9tDhjPBMC"];return Bc=function(){return c},Bc()}function Sc({active:c,disabled:r,onClick:a,children:i,...f}){return s.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...f,children:i})}const J2="v0.1.0-dev";function V2(c){const{view:r,onNavigate:a,project:i}=c;return s.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:s.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),s.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),s.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),s.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:J2})]}),s.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[s.jsx(Sc,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),s.jsx(Sc,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),s.jsx(Sc,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),s.jsx(Sc,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Q2(c){return s.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[s.jsxs("div",{className:"flex items-end justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),s.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&s.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[s.jsx("div",{className:"text-lg font-semibold",children:r.title}),s.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),s.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),s.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function ps({children:c}){return s.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function P2(c){const[r,a]=F.useState("");return s.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ps,{children:[s.jsx("span",{children:""}),s.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),s.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}function Zn(c,r){c=c-151;const a=qc();let i=a[c];if(Zn.CNvgQb===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Zn.RWldeE=f,Zn.tqZoWk={},Zn.CNvgQb=!0}const o=a[0],m=c+o,y=Zn.tqZoWk[m];if(y)i=y;else{const d=function(h){this.BkNiPm=h,this.SIraYQ=[1,0,0],this.MMYhhf=function(){return"newState"},this.GxSYpj="\\w+ *\\(\\) *{\\w+ *",this.CfcGdr=`['|"].+['|"];? *}`};d.prototype.onaAeJ=function(){const h=new RegExp(this.GxSYpj+this.CfcGdr),v=h.test(this.MMYhhf.toString())?--this.SIraYQ[1]:--this.SIraYQ[0];return this.dfygAc(v)},d.prototype.dfygAc=function(h){return~h?this.wlIzSY(this.BkNiPm):h},d.prototype.wlIzSY=function(h){for(let v=0,g=this.SIraYQ.length;v<g;v++)this.SIraYQ.push(Math.round(Math.random())),g=this.SIraYQ.length;return h(this.SIraYQ[0])},new d(Zn).onaAeJ(),i=Zn.RWldeE(i),Zn.tqZoWk[m]=i}return i}(function(c,r){const a=Zn,i=c();for(;;)try{if(-parseInt(a(179))/1+-parseInt(a(163))/2*(-parseInt(a(164))/3)+-parseInt(a(165))/4+-parseInt(a(156))/5*(parseInt(a(158))/6)+parseInt(a(208))/7+parseInt(a(162))/8+-parseInt(a(207))/9*(parseInt(a(155))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(qc,449448);const F2=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),_s=F2(void 0,function(){const c=Zn,r={ILUvU:"(((.+)+)+)+$"};return _s[c(187)]()[c(154)]("(((.+)+)+)+$")[c(187)]()[c(197)](_s)[c(154)](r.ILUvU)});_s();function qc(){const c=["C3r5Bgu","AhLWB3q","rhnWAge","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","C2LU","y3vYCMvUDfrHCMDLDa","Bgf5zxi","Dg9tDhjPBMC","CMfKAxvZ","Bfjlv3i","zMLUza","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","ufrwEhG","Cgv0ywXbBMDSzq","BwfW","ve5oDe4","C3rHCNreAxn0","y29UC3rYDwn0B3i","y3vYC29Y","C3rHCNreAwfT","Cg9PBNrLCKLK","ug1juLa","z1PUBxC","qu1iwui","ChjLDMvUDerLzMf1Bhq","C2nHBgu","D1zOweW","mta1nJzJr21oDhK","mtu0odKZoxDZAKXfAa","rKrguha","Bgf5zxjjza","B2zMC2v0qw5NBgu","zMXVD2vY","Bwf4","C2vHCMnO","nJCWD0XmEhrx","mJbiz2v1yNm","B0nqr2u","mteYnJKYyM11wg9S","D2LKDgHty2fSzq","Bw9Kzq","zMXVD2vYCW","ntG5mde0ng5owhv1qG","ndjnsxneuvq","mteYmZyYzLnIAMDy","mZm0mJi5nMjnq3Hlvq","yxrHBJi","rMfftuW","Bgf5zxjZ","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","Cg9ZAxrPB24","vgTAsg8","zMXVD2vYswq","BKTurxq","CM90yxrPB24","u0j4Dxa","y3vYCMvUDa","C2v0ug9PBNrLCKnHChr1CMu","vhngug8","mZa1mJCXqNHPvxrr"];return qc=function(){return c},qc()}function $2(c){const r=Zn,a={TkZHo:"/tsumami/",PmIRP:function(Y,P){return Y===P},MspXC:function(Y,P){return Y-P},oCPGe:function(Y,P){return Y(P)},wVhXL:function(Y,P){return Y-P},KtpCh:function(Y,P,te,Q){return Y(P,te,Q)},lRKWr:function(Y,P){return Y/P},LBWpn:function(Y,P,te){return Y(P,te)},FDFPp:function(Y,P){return Y*P},PTVxx:"layer",BXlyc:function(Y,P){return Y-P},AMHYB:"nihFp",nKTEt:r(195),SbYDo:function(Y,P){return Y+P},BFhBr:function(Y,P){return Y/P},TsFPo:function(Y,P){return Y*P},QbQOO:function(Y,P){return Y*P},SBxup:function(Y,P){return Y-P},gZnmw:function(Y,P){return Y-P},SDzvl:function(Y,P){return Y-P},Dspha:function(Y,P){return Y-P},FaEML:function(Y,P){return Y+P},tZvgt:function(Y,P){return Y(P)}},{project:i,applyUpdate:f,stageRef:o,clientToSvgPoint:m}=c,y=F.useRef(null),d=(Y,P,te,Q)=>{const W=r;te[W(204)](),te.currentTarget?.[W(177)]?.(te.pointerId),o.current&&(o.current[W(180)][W(198)]='url("'+a[W(171)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const C=i.flowers[W(190)](G=>G.id===P);if(!C)return;const S=a[W(201)](Y,W(186))&&Q?.layerId?C.layers.filter(G=>G.id===Q.layerId)[W(194)](G=>({layerId:G.id,scale:G.scale??1,radius:G.radius??10})):C[W(168)].map(G=>({layerId:G.id,scale:G.scale??1,radius:G[W(188)]??10})),L=m(te),M=C[W(170)].x,w=C[W(170)].y,A=Math[W(181)](a.MspXC(L.x,M),L.y-w);y[W(176)]={mode:Y,flowerId:P,layerId:Q?.layerId,startScales:S,startDiam:C.flowerDiameter||60,startDist:A}},h=Y=>{const P=r,te={Rqlzj:function(w,A,G,I){return w(A,G,I)},fRVYI:function(w,A){return w===A},VhubY:function(w,A,G,I){return w(A,G,I)}},Q=y.current;if(!Q)return;const W=i.flowers.find(w=>w.id===Q[P(172)]);if(!W)return;const C=a.oCPGe(m,Y),S=Math.hypot(a[P(206)](C.x,W.position.x),C.y-W[P(170)].y),L=Math[P(153)](1,Q[P(196)]??1),M=a.KtpCh(je,a[P(189)](S,L),.3,3);a.LBWpn(f,w=>{const A=P,G=w[A(161)].find(I=>I.id===Q.flowerId);if(G){for(const I of Q.startScales){const O=G[A(168)][A(190)](z=>z.id===I[A(210)]);O&&(O[A(205)]=te.Rqlzj(je,I.scale*M,.3,3),te.fRVYI(Q.mode,"flower")&&(O.radius=je(I.radius*M,2,120)))}te.fRVYI(Q[A(160)],A(152))&&(G.flowerDiameter=te.VhubY(je,Q[A(199)]*M,10,200))}},!1)},v=()=>{const Y=r;y[Y(176)]&&(f(()=>{},!0),o.current&&(o[Y(176)].style.cursor=""),y[Y(176)]=null)},g=a.tZvgt(F.useRef,null),N=(Y,P,te,Q)=>{const W=r;te.preventDefault(),te[W(185)]?.setPointerCapture?.(te.pointerId),o.current&&(o.current.style[W(198)]='url("'+a[W(171)]+W(169));const C=i[W(161)][W(190)](w=>w.id===P);if(!C)return;const S=a.oCPGe(m,te),L=a.FDFPp(Math[W(166)](S.y-C[W(170)].y,a.MspXC(S.x,C[W(170)].x)),180/Math.PI),M=Y===W(186)&&Q?.layerId?C.layers[W(190)](w=>w.id===Q.layerId)?.offsetAngle??0:C.rotation??0;g.current={mode:Y,flowerId:P,layerId:Q?.[W(210)],startAngle:L,startRotation:M}},b=Y=>{const P=r,te=g[P(176)];if(!te)return;const Q=i.flowers[P(190)](M=>M.id===te[P(172)]);if(!Q)return;const W=m(Y);let S=Math[P(166)](a.MspXC(W.y,Q[P(170)].y),a.BXlyc(W.x,Q.position.x))*(180/Math.PI)-te.startAngle;for(;S>180;)S-=360;for(;S<-180;)S+=360;const L=te.startRotation+S;f(M=>{const w=P,A=M[w(161)].find(G=>G.id===te[w(172)]);if(A)if(te.mode===a[w(192)]&&te.layerId){const G=A[w(168)][w(190)](I=>I.id===te.layerId);G&&(G[w(151)]=L)}else A[w(174)]=L},!1)},D=()=>{const Y=r;g[Y(176)]&&(a.LBWpn(f,()=>{},!0),o[Y(176)]&&(o[Y(176)][Y(180)].cursor=""),g.current=null)},j=a[r(157)](F.useRef,null),_=(Y,P,te,Q)=>{const W=r;if(a[W(203)]!=="nihFp")_0x5b1e4b[W(176)].style[W(198)]='url("'+LHtpUL.AwqvA+W(183);else{if(te[W(204)](),te[W(185)]?.setPointerCapture?.(te.pointerId),o[W(176)])if(a[W(173)]===a.nKTEt)o[W(176)][W(180)][W(198)]='url("'+a.TkZHo+W(191);else{const le=_0x3b17b0.flowers[W(190)](oe=>oe.id===_0x19df21[W(172)]);if(!le)return;const ue=le[W(168)].find(oe=>oe.id===_0x4a0747.layerId);ue&&(ue.widthScale=_0x5163d6)}const C=i[W(161)].find(le=>le.id===P);if(!C)return;const S=Q?.layerId?C.layers.find(le=>le.id===Q.layerId):null;if(!S)return;const L=a.oCPGe(m,te),M=C.position.x,w=C[W(170)].y,A=Q?.petalIndex??0,G=360/Math.max(1,S.petalCount),I=(a.SbYDo(S.offsetAngle,a.FDFPp(A,G))+C.rotation)*a.BFhBr(Math.PI,180),O=L.x-M,z=L.y-w,R=-Math.sin(I),H=Math.cos(I),X=Math.abs(a[W(209)](O,R)+a[W(178)](z,H));j[W(176)]={mode:Y,flowerId:P,layerId:Q?.layerId,petalAngle:I,startDist:Math.max(1,X),startWidthScale:S.widthScale??1}}},B=Y=>{const P=r,te=j.current;if(!te)return;const Q=i.flowers[P(190)](I=>I.id===te.flowerId);if(!Q)return;const W=a[P(157)](m,Y),C=W.x-Q.position.x,S=W.y-Q[P(170)].y,L=-Math[P(184)](te.petalAngle),M=Math.cos(te[P(193)]),w=Math.abs(C*L+a.QbQOO(S,M)),A=a.KtpCh(je,a.lRKWr(w,te.startDist),.3,3),G=je(te.startWidthScale*A,.3,3);f(I=>{const O=P,z=I[O(161)].find(H=>H.id===te.flowerId);if(!z)return;const R=z[O(168)][O(190)](H=>H.id===te.layerId);R&&(R[O(159)]=G)},!1)},k=()=>{const Y=r;j[Y(176)]&&(f(()=>{},!0),o.current&&(o[Y(176)].style.cursor=""),j[Y(176)]=null)},E=F.useRef(null);return{scaleDragRef:y,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:v,rotationDragRef:g,beginRotationDrag:N,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:j,beginWidthScaleDrag:_,updateWidthScaleDrag:B,endWidthScaleDrag:k,radiusDragRef:E,beginRadiusDrag:(Y,P,te,Q)=>{const W=r;te.preventDefault(),te.currentTarget?.setPointerCapture?.(te[W(200)]),o.current&&(o[W(176)][W(180)][W(198)]='url("'+a.TkZHo+'radius_cursor_32.png?v=16") 16 16, nwse-resize');const C=i[W(161)].find(w=>w.id===P);if(!C)return;const S=Q?.[W(210)]?C[W(168)].find(w=>w.id===Q[W(210)]):null;if(!S)return;const L=m(te),M=Math[W(181)](a[W(175)](L.x,C.position.x),a.SBxup(L.y,C[W(170)].y));E[W(176)]={mode:Y,flowerId:P,layerId:Q?.[W(210)],startDist:Math[W(153)](1,M),startRadius:S[W(188)]??28}},updateRadiusDrag:Y=>{const P=r,te=E[P(176)];if(!te)return;const Q=i.flowers.find(M=>M.id===te[P(172)]);if(!Q)return;const W=m(Y),C=Math.hypot(a[P(202)](W.x,Q.position.x),a.SDzvl(W.y,Q[P(170)].y)),S=a[P(182)](C,te.startDist),L=je(a[P(167)](te.startRadius,S),5,100);f(M=>{const w=P,A=M[w(161)].find(I=>I.id===te.flowerId);if(!A)return;const G=A[w(168)].find(I=>I.id===te[w(210)]);G&&(G[w(188)]=L)},!1)},endRadiusDrag:()=>{const Y=r;E[Y(176)]&&(f(()=>{},!0),o.current&&(o.current[Y(180)].cursor=""),E[Y(176)]=null)}}}(function(c,r){const a=zt,i=c();for(;;)try{if(parseInt(a(454))/1*(parseInt(a(480))/2)+parseInt(a(411))/3+parseInt(a(462))/4+parseInt(a(409))/5*(parseInt(a(453))/6)+-parseInt(a(405))/7*(-parseInt(a(404))/8)+parseInt(a(447))/9+parseInt(a(407))/10*(-parseInt(a(423))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Gc,300473);const em=(function(){let c=!0;return function(r,a){const i=c?function(){const f=zt;if(a){const o=a[f(412)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),Ss=em(void 0,function(){const c=zt,r={ZrbHf:"(((.+)+)+)+$"};return Ss[c(479)]()[c(464)](c(446)).toString().constructor(Ss)[c(464)](r.ZrbHf)});function Gc(){const c=["C2vHCMnO","Bw92zv9ZDgvUy2LSx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGBw92zq","AhLWB3q","t1vHCvK","DxjSkci","BfHeqvG","zNnyr0K","y29UC3rYDwn0B3i","t3vUyKK","ug1OzNi","Ae1prKS","uvHJD3m","y2vUDgvY","wwnWrNi","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","Dg9tDhjPBMC","mZe2mtbpAffqtNy","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","Dhbwrey","Bw92zq","ogLtAgvwuG","nde3mJe0ywHzEerL","D2LKDgHty2fSzq","mJC1otiZmgLsyNDevq","wfPitMC","mteXodvcvxPeswm","BM9Uzq","nteZnJy5tfbSALDi","yxbWBhK","sevdv0G","vwHKr3C","vuf0v0G","ANHywhG","qNnSwe8","D2LKDgG","yMPvzMi","BujHzhy","tg9XBxu","zMLSDgvY","mZn0u1H6AuO","y09cs3G","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","CM90yxrL","z295Axi","Bgf5zxjZ","A2LUza","BhLos04","DwLluMi","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","zMXVD2vY","zMfICMLJu3f1yxjLu2L6zq","C2nHBgu","BgvUz3rO","Bwf4","zhzsC0W","Bgf5zxjjza","Cgv0ywW","DxrcqLO","y29Z","whrwAMG","twrWq2u","DMLZAwjSzq","kcGOlISPkYKRksSK","mti4mtqYovPerwLQyq","Cg9ZAxrPB24","CMfKAxvZ","sNbKv0y","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","BvnpuuG","mtqZnerYCwz4ua","mtfMvfH0v1u","AgL0tgf5zxjjza","wM92BxK","uvLQC2K","ywjZ","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","EhzkEwu","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","mtG2mtuYEe9XDwDx","A2jsvfG"];return Gc=function(){return c},Gc()}Ss();function ai(c,r,a,i,f){const o=zt,m={xvJye:o(446),QYjsi:function(Z,V){return Z-V},rCoGk:function(Z,V){return Z-V},UAtWH:function(Z,V){return Z*V},vEmZj:function(Z,V){return Z<V},NNzrI:function(Z,V){return Z(V)},OUaqY:function(Z,V){return Z*V},XZHNg:"center",HECWH:function(Z,V){return Z-V},zDxdR:function(Z,V){return Z===V},txAZT:"none",lXDAX:function(Z,V){return Z/V},jxXXx:function(Z,V){return Z*V},fsXGI:function(Z,V){return Z+V},tpVDF:function(Z,V){return Z+V},Zovmy:function(Z,V){return Z*V},igzda:function(Z,V){return Z<V},PThQe:function(Z,V){return Z>V},YPvmw:o(473),WvObz:"CYdWX",wIPiV:function(Z,V){return Z===V},lyNKN:o(426),cOBKx:o(403),ubZEQ:function(Z,V){return Z===V},JpdWF:function(Z,V){return Z*V},UaZce:function(Z,V){return Z-V},KFEkC:function(Z,V){return Z<=V},UhdGw:o(435)},{length:y}=It(a[o(434)]??i[o(434)]),d=m[o(457)](c,a.position.x),h=m.rCoGk(r,a.position.y),v=Math.hypot(d,h);let g=1/0;for(const Z of a.layers){if(!Z[o(445)])continue;const V=Z[o(435)]??1,Y=m.UAtWH(y,V),P=.28,te=Math.max(0,Z[o(449)]-m[o(415)](Y,P));m.vEmZj(te,g)&&(g=te)}m.NNzrI(isFinite,g)||(g=0);const N=Math.max(m[o(467)](g,.9),8);if(v<=N)return{zone:m[o(408)]};const b=va(-(a.rotation??0)),D=m[o(413)](m[o(415)](d,Math.cos(b)),m.OUaqY(h,Math.sin(b))),j=d*Math.sin(b)+h*Math.cos(b),_=m.zDxdR(f[o(429)],"layer")?a.layers[o(422)](Z=>Z.id===f[o(439)]&&Z[o(445)]):a[o(428)][o(422)](Z=>Z.visible);let B=m.txAZT,k,E,q=1/0;for(const Z of _){const V=Z[o(435)]??1,Y=m.OUaqY(y,V),P=Z.widthScale??1,te=m[o(469)](y,2)*P*V,Q=.28,W=Math.max(0,Z.radius-m[o(416)](Y,Q)),C=360/Math[o(437)](1,Z.petalCount);for(let S=0;S<Z.petalCount;S++){const L=m[o(470)](Z.offsetAngle,m.OUaqY(S,C)),M=m.NNzrI(va,L),w=m.UAtWH(Math.cos(M),W),A=m.jxXXx(Math.sin(M),W),G=D-w,I=j-A,O=Math[o(442)](-M),z=Math.sin(-M),R=G*O-m.jxXXx(I,z),H=m[o(402)](m[o(456)](G,z),I*O),X=R/Y,le=m[o(469)](H,te);if(m.igzda(X,-.05)||m.PThQe(X,1.08)||Math[o(458)](le)>.75)continue;const ue=Math[o(466)](m.rCoGk(X,.5),le);if(!(ue>=q))if(q=ue,k=Z.id,E=S,Math[o(458)](le)>.45)if(m.YPvmw!==m.WvObz)B=o(418);else return _0x2e55af[o(479)]().search(o(446))[o(479)]()[o(471)](_0x2abd72).search(nCnbLF[o(460)]);else if(X>.75)if(m.wIPiV("TziJW","TziJW"))B=m[o(430)];else return{zone:"scale"};else X>.3?B="scale":B=m[o(424)]}}if(m.ubZEQ(B,"none")){let Z=12;for(const P of a[o(428)]){if(!P[o(445)])continue;const te=P.scale??1,Q=m[o(450)](y,te),W=.28,C=Math.max(0,P[o(449)]-Q*W);Z=Math.max(Z,C+Q)}const V=8,Y=Math[o(458)](m.UaZce(v,Z));if(m.KFEkC(Y,V))return{zone:m[o(414)]}}return{zone:B,layerId:k,petalIndex:E}}function jc(c,r,a){const i=zt,f={TaxtX:function(o,m){return o===m},TGPgI:i(476),mSOQH:"move",XtVjh:"scale",yXeab:function(o,m){return o!=m},pOAsp:function(o,m){return o-m},dvRsL:function(o,m){return o>m},Wfqcy:i(440)};if(f.TaxtX(c,"center"))return f.TGPgI;if(c==="none")return i(410);switch(r){case i(433):{if(c===f[i(452)])return f[i(452)];if(f.TaxtX(c,f.XtVjh))return f[i(443)];if(f.TaxtX(c,"rotate")&&a?.[i(455)]&&a[i(433)]&&f.yXeab(a[i(436)],null)){let o,m=-1/0;for(const y of a[i(433)][i(428)]){if(!y[i(445)])continue;const d=y[i(435)]??1,h=a.length*d,v=.28,g=Math[i(437)](0,f.pOAsp(y.radius,h*v)),N=g+h;f[i(438)](N,m)&&(m=N,o=y.id)}return a[i(455)]===o?"rotate":i(403)}return f.mSOQH}case"layer":return c;case f.Wfqcy:case"petals":return f[i(452)];default:return f.mSOQH}}function tm(c,r,a,i){const f=zt,o={MdpCe:function(E,q){return E*q},uiKRb:function(E,q){return E-q},QXcws:function(E,q){return E-q},BzoSO:function(E,q){return E-q},OunbI:function(E,q){return E*q},HDkRK:function(E,q){return E+q},IoYEX:function(E,q){return E*q},YcpFr:function(E,q){return E/q},hMOFK:function(E,q){return E>q},utBBZ:"none",SkIiB:f(418),CHLAz:f(426),ZYoNK:"scale",Loqmu:f(403)},m=a.fabricSquareSize??i.fabricSquareSize,{length:y,width:d}=It(m),h=a.scale??1,v=y*h,g=o[f(444)](d,a[f(406)]??1)*h,N=o[f(431)](c,a.position.x),b=o[f(475)](r,a[f(448)].y),D=va(-(a.rotation??0)),j=o.BzoSO(o[f(472)](N,Math.cos(D)),b*Math.sin(D)),_=o.HDkRK(o.MdpCe(N,Math.sin(D)),o.IoYEX(b,Math[f(442)](D))),B=o[f(477)](j,v),k=_/g;return B<-.05||o.hMOFK(B,1.08)?o.utBBZ:o[f(474)](Math.abs(k),.75)?o[f(441)]:o.hMOFK(Math[f(458)](k),.45)?o.SkIiB:B>.75?o.CHLAz:B>.3?o.ZYoNK:o[f(421)]}function er(c,r){const a=zt,i={BslXO:"rotate",pNGDl:"scale",mTXzp:a(418),LFhDO:"move",tPsJc:"none",bjUfb:"grab"};switch(c){case i[a(417)]:return'url("'+r+a(459);case i.pNGDl:return a(468)+r+a(425);case i.mTXzp:return a(468)+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case i.LFhDO:return rr(r);case i.tPsJc:default:return i[a(419)]}}function Yd(c,r){const a=zt,i={hhxUs:a(476),kbRTX:"rotate",goyir:a(435),lkAMT:"move",mBadv:"grab"};switch(c){case i.hhxUs:return"pointer";case i[a(463)]:return a(468)+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(427)]:return'url("'+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+a(451);case a(449):return'url("'+r+a(478);case i.lkAMT:return rr(r);default:return i[a(420)]}}function rr(c){const r=zt;return r(468)+c+r(432)}function Pn(c){const r=zt;return'url("'+c+r(401)}function nm(c){const r=zt;return'url("'+c+r(465)}function zt(c,r){c=c-401;const a=Gc();let i=a[c];if(zt.rWewoy===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};zt.GjRHuK=f,zt.qTiiwn={},zt.rWewoy=!0}const o=a[0],m=c+o,y=zt.qTiiwn[m];if(y)i=y;else{const d=function(h){this.NpWtVf=h,this.vKeLBx=[1,0,0],this.fzpJkc=function(){return"newState"},this.vjYSWx="\\w+ *\\(\\) *{\\w+ *",this.GRvyzw=`['|"].+['|"];? *}`};d.prototype.lfQNDV=function(){const h=new RegExp(this.vjYSWx+this.GRvyzw),v=h.test(this.fzpJkc.toString())?--this.vKeLBx[1]:--this.vKeLBx[0];return this.IfUWhg(v)},d.prototype.IfUWhg=function(h){return~h?this.ImxatW(this.NpWtVf):h},d.prototype.ImxatW=function(h){for(let v=0,g=this.vKeLBx.length;v<g;v++)this.vKeLBx.push(Math.round(Math.random())),g=this.vKeLBx.length;return h(this.vKeLBx[0])},new d(zt).lfQNDV(),i=zt.GjRHuK(i),zt.qTiiwn[m]=i}return i}function lm(c){const r=zt;return'url("'+c+r(461)}(function(c,r){const a=vn,i=c();for(;;)try{if(parseInt(a(168))/1+parseInt(a(135))/2*(-parseInt(a(172))/3)+-parseInt(a(166))/4*(parseInt(a(156))/5)+-parseInt(a(144))/6*(parseInt(a(225))/7)+-parseInt(a(209))/8*(-parseInt(a(121))/9)+-parseInt(a(149))/10+parseInt(a(143))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Rc,847548);function vn(c,r){c=c-114;const a=Rc();let i=a[c];if(vn.FNIzTI===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};vn.PbjLek=f,vn.QXyDFC={},vn.FNIzTI=!0}const o=a[0],m=c+o,y=vn.QXyDFC[m];if(y)i=y;else{const d=function(h){this.bipEMI=h,this.vgVjLr=[1,0,0],this.KqeiJk=function(){return"newState"},this.kLneoS="\\w+ *\\(\\) *{\\w+ *",this.cfqWJi=`['|"].+['|"];? *}`};d.prototype.tdYqcK=function(){const h=new RegExp(this.kLneoS+this.cfqWJi),v=h.test(this.KqeiJk.toString())?--this.vgVjLr[1]:--this.vgVjLr[0];return this.FfWUBT(v)},d.prototype.FfWUBT=function(h){return~h?this.SMyryh(this.bipEMI):h},d.prototype.SMyryh=function(h){for(let v=0,g=this.vgVjLr.length;v<g;v++)this.vgVjLr.push(Math.round(Math.random())),g=this.vgVjLr.length;return h(this.vgVjLr[0])},new d(vn).tdYqcK(),i=vn.PbjLek(i),vn.QXyDFC[m]=i}return i}const am=(function(){const c={TBZcA:"ysgtW"};let r=!0;return function(a,i){const f=r?function(){const o=vn;if(i)if(o(163)!==c[o(127)])_0x18bbd4=_0x49551c.flowerIds.map(m=>{const y=o,d=_0xfd8a14[y(195)].find(h=>h.id===m);return{id:m,x:d?.position.x??0,y:d?.[y(137)].y??0}});else{const m=i[o(160)](a,arguments);return i=null,m}}:function(){};return r=!1,f}})(),Cs=am(void 0,function(){const c=vn,r={vruQI:c(147)};return Cs[c(139)]()[c(222)](r.vruQI).toString()[c(189)](Cs)[c(222)](r.vruQI)});Cs();function Rc(){const c=["sM1NrxO","zMLUza","ChjVAMvJDa","y2XPzw50wq","C3rHCNrqB3m","C2vHCMnO","q3jsruK","u0HsqK0","mJq1ndeZDvH4sMXX","u0Xlwwe","C2v0ug9PBNrLCKnHChr1CMu","vhbVC2G","qK5uvgi","Aw5JBhvKzxm","z1vssgO","CM90yxrPB25eCMfNuMvM","mte3D3fNDMjL","C3rHCNrAB29T","BwLU","yMnSzwO","ChvZAa","y3vYCMvUDfrHCMDLDa","vejAy0e","vNf3uhq","rgnWChu","yMvNAw5sB3rHDgLVBKrYywC","suvAyLO","BgvHzG","tg9RBLa","ChjLDMvUDerLzMf1Bhq","ndzerg9PC3a","AwrJEw4","Cg9ZAxrPB24","C0jMBxe","Dg9tDhjPBMC","Cg9PBNrLCKLK","CM5htvi","whr0v0i","nJC4ota5nZDzBwPrAgu","mJC2z1fWvMTX","tg1ryw8","y3vYCMvUDa","kcGOlISPkYKRksSK","C3rHCNrdBgLLBNq","mtqXotC2mtbcDfPAsfy","ruziy2i","zw5KuM90yxrPB25eCMfN","AwTgy2G","uMrRDNm","t2D3qxK","D2LKDgHty2fSzurYywDszwy","nvDOvvPivW","Aw5KzxG","yvPdtxm","rgnsC1K","yxbWBhK","zxzmEgO","whDhs04","ExnNDfC","Bgf5zxjjza","AwzIt2C","nJCWmJm0mgvkveL5va","CMfKAxvZrhjHz1jLzG","ntiWngj4qxnqEG","wK9Tvvy","zMXVD2vYswq","yMvNAw5ty2fSzurYywC","mtaYndqXDvPABfrv","BxnmEuO","BgvUz3rO","v1nIDgO","BgvHDMvZ","r3Lpquy","y2XPy2TqzxrHBa","qMHtqMi","DxbKyxrLv2LKDgHty2fSzurYywC","uwDRv1K","rKjguee","yvL0qKW","Bw92zwq","A2LUza","y2XPzw50wa","CgfUma","s0rztMC","y29UC3rYDwn0B3i","svffqxC","vhf4EwK","AhLWB3q","ywjZ","BxvSDgLtDgfYDfbVC2L0Aw9UCW","zMXVD2vYCW","zMXVD2vY","CvzqEwS","v2XQuem","BNvMzKm","AxntAgLMDfbYzxnZzwq","DerTsNq","v0niuvG","zw5Ku2nHBgveCMfN","AKjeEe4","suTeAKe","C3rHCNq","C3rHCNrtDMC","wgzZAKq","mtaWodq4y2vjrxHu","yMvNAw5xAwr0AfnJywXLrhjHzW","Ehvdwu8","C2nHBgveCMfNuMvM","Bgf5zxi","BwfW","A2zPrNy","BM1wA0G"];return Rc=function(){return c},Rc()}const Cc=500*un;function im(c){const r=vn,a={ShUdh:function(C,S){return C-S},JmgEz:function(C,S){return C+S},BNTTb:function(C,S){return C(S)},KDYNg:function(C,S){return C(S)},WljPC:function(C,S){return C!==S},BhSBb:r(162),gURHj:function(C,S){return C-S},QgkWY:function(C,S){return C<S},jUykp:function(C,S){return C>=S},GyOAF:function(C,S){return C<=S},bclej:function(C,S){return C+S},ZOmUV:function(C,S){return C>=S},LfrVh:function(C,S){return C>=S},qVPyk:function(C,S){return C===S},LmQao:function(C,S){return C>S},eFQMH:function(C,S){return C(S)},IQEAw:"lCZVw",SHRBM:function(C,S){return C(S)},idcyn:function(C,S){return C(S)},XfsjD:"project",ifbOg:function(C,S,L,M,w){return C(S,L,M,w)},xuCYO:r(129),XttWB:r(195),SLKYa:function(C,S){return C===S},MZjdn:"xBgiu",msLyJ:function(C,S,L){return C(S,L)},Rdkvs:"petal",tDmJt:function(C,S){return C!==S},FBFPA:"AwstK",DcRsY:r(116),nuffC:function(C,S){return C/S},rnGMR:function(C,S){return C-S},CrREI:function(C,S){return C-S},UwRXN:r(150),ddaSZ:r(204),sBfmq:"AVCnW",NrKfY:"cgRYl",Tqxyi:function(C,S){return C===S},LoknP:r(196),aZCMs:function(C,S){return C(S)},Gefil:function(C,S){return C(S)}},{project:i,selection:f,setSelection:o,applyUpdate:m,dragRef:y,zoom:d,pan:h,setPan:v,stageRef:g,clientToSvgPoint:N,togglePetalSelection:b}=c,D=a[r(158)]($2,{project:i,applyUpdate:m,stageRef:g,clientToSvgPoint:N}),j=a.Gefil(F.useRef,null),_=C=>{const S=r;C[S(134)](),C[S(126)]?.[S(115)]?.(C[S(140)]),j.current={start:{x:C[S(186)],y:C.clientY},pan0:{...h}}},B=C=>{const S=r;if(!j.current)return;const L=C[S(186)]-j[S(146)].start.x,M=a.ShUdh(C.clientY,j.current.start.y);v({x:a[S(217)](j.current[S(187)].x,L),y:j[S(146)].pan0.y+M})},k=()=>{j.current=null},E=F.useRef(null),[q,Z]=F.useState(null);return{beginPan:_,updatePan:B,endPan:k,marqueeRef:E,marqueeRect:q,beginMarquee:C=>{const S=r;C[S(134)](),C[S(126)]?.[S(115)]?.(C.pointerId);const L=N(C);E[S(146)]={startSvg:L,currentSvg:L},a.BNTTb(Z,null)},updateMarquee:C=>{const S=r;if(!E[S(146)])return;const L=N(C);E.current.currentSvg=L;const M=E.current.startSvg,w=Math.min(M.x,L.x),A=Math.min(M.y,L.y),G=Math[S(193)](L.x-M.x),I=Math.abs(L.y-M.y);a[S(188)](Z,{x:w,y:A,w:G,h:I})},endMarquee:()=>{const C=r,S=E.current;if(E.current=null,!S)if(a.WljPC(a[C(179)],C(162))){if(!_0x22646e[C(146)])return;const H=oOgdyX[C(131)](_0x40df9c[C(186)],_0x158a41.current.start.x),X=_0xccb7e6[C(220)]-_0x3c8b9d[C(146)][C(206)].y;_0x425255({x:oOgdyX[C(183)](_0x9ae35a.current[C(187)].x,H),y:oOgdyX[C(183)](_0x41b8d0.current[C(187)].y,X)})}else{Z(null);return}const L=S[C(207)],M=S.currentSvg,w=Math[C(192)](M.x-L.x,a[C(119)](M.y,L.y));if(a[C(181)](w,3)){a.BNTTb(o,{kind:C(219)}),a[C(117)](Z,null);return}const A=Math.min(L.x,M.x),G=Math[C(123)](L.y,M.y),I=Math.abs(M.x-L.x),O=Math.abs(a.gURHj(M.y,L.y)),z=[];for(const H of i[C(195)])a.jUykp(H[C(137)].x,A)&&a[C(177)](H[C(137)].x,a[C(124)](A,I))&&H.position.y>=G&&H[C(137)].y<=a[C(217)](G,O)&&z[C(125)](H.id);const R=[];for(const H of i.leaves??[])a[C(169)](H[C(137)].x,A)&&H[C(137)].x<=a[C(217)](A,I)&&a.LfrVh(H[C(137)].y,G)&&a[C(177)](H[C(137)].y,G+O)&&R.push(H.id);if(z[C(174)]>0)a.qVPyk(z[C(174)],1)?o({kind:"flower",flowerId:z[0]}):o({kind:C(195),flowerIds:z});else if(a.LmQao(R[C(174)],0))if(a[C(197)](R.length,1))a.eFQMH(o,{kind:"leaf",leafId:R[0]});else if(a[C(198)]("idrkV",a[C(190)]))a[C(224)](o,{kind:C(176),leafIds:R});else{_0x15029a(null);return}else a.idcyn(o,{kind:a[C(208)]});a.BNTTb(Z,null)},beginFlowerDrag:(C,S,L)=>{const M=r,w={OcCSR:function(I,O,z,R,H){return a[vn(165)](I,O,z,R,H)},LCoZj:function(I,O){return I===O},PzZwW:M(216),kfiFv:a[M(211)]};S.preventDefault(),S[M(126)]?.[M(115)]?.(S.pointerId);const A=i[M(195)][M(218)](I=>I.id===C);if(!A)return;let G=null;if(f[M(185)]===a[M(142)]&&f.flowerIds[M(118)](C))G=f.flowerIds[M(214)](I=>{const O=M,z=i[O(195)].find(R=>R.id===I);return{id:I,x:z?.[O(137)].x??0,y:z?.position.y??0}});else if(a[M(114)](a.MZjdn,a.MZjdn)){const I=a[M(173)](_2,i,C);a[M(145)](I.length,1)&&(G=I.map(O=>{const z=M,R={hzyup:function(H,X,le,ue,oe){return w.OcCSR(H,X,le,ue,oe)}};if(w.LCoZj(w.PzZwW,w[z(215)]))R.hzyup(_0x814d5a,_0x90611.flowerId,_0x5f1694[z(178)][z(164)],_0x5883ae[z(178)][z(157)],!0);else{const H=i[z(195)][z(218)](X=>X.id===O);return{id:O,x:H?.[z(137)].x??0,y:H?.position.y??0}}}))}else a.idcyn(_0x1ef2b6,{kind:M(132),leafId:_0x212d78[0]});y[M(146)]={flowerId:C,startClient:{x:S.clientX,y:S.clientY},startPos:{...A[M(137)]},moved:!1,clickPetal:L??null,isShiftPressed:S.shiftKey||!1,multiStartPositions:G,startZoom:d}},updateFlowerDrag:C=>{const S=r,L={ikFch:a.Rdkvs,OgwAy:function(M,w){return M+w},WCHQX:function(M,w,A,G){return M(w,A,G)},VbGcR:function(M,w){return a.tDmJt(M,w)},WSbtj:S(161),IKDjA:a[S(182)]};if(a[S(201)](a[S(159)],"UbOmN")){const M=y[S(146)];if(!M)return;const w=(C[S(186)]-M.startClient.x)/M[S(122)],A=a[S(199)](a[S(141)](C.clientY,M.startClient.y),M.startZoom),G=a[S(223)](C[S(186)],M[S(148)].x),I=C.clientY-M[S(148)].y;a[S(145)](Math.abs(G)+Math.abs(I),4)&&(M[S(184)]=!0),a[S(173)](m,O=>{const z=S;if(M.multiStartPositions)for(const R of M[z(194)]){const H=O.flowers.find(X=>X.id===R.id);H&&(H[z(137)].x=je(L[z(154)](R.x,w),0,Cc),H[z(137)].y=L[z(202)](je,R.y+A,0,Cc))}else if(L.VbGcR(L[z(175)],L[z(205)])){const R=O.flowers.find(H=>H.id===M.flowerId);if(!R)return;R.position.x=je(M[z(221)].x+w,0,Cc),R.position.y=je(M.startPos.y+A,0,Cc)}else _0x2a68d8[z(200)]?_0x204fd4(_0x359e6f[z(170)],_0x50f1da.clickPetal[z(164)],_0x2a1b31[z(178)].index,!0):_0x312087({kind:L[z(152)],flowerId:_0x460ccf[z(170)],layerId:_0x3d9e4c[z(178)].layerId,index:_0xdd62b9.clickPetal.index})},!1)}else _0x561593=_0xca67a9.map(M=>{const w=S,A=_0x2a3339[w(195)][w(218)](G=>G.id===M);return{id:M,x:A?.position.x??0,y:A?.[w(137)].y??0}})},endFlowerDrag:()=>{const C=r;if(C(132),a.UwRXN===a.ddaSZ)a[C(136)](_0x234370,{kind:C(195),flowerIds:_0x27ee5b});else{const S=y.current;if(!S)return;if(!S.moved&&S[C(178)])if(a[C(198)](a[C(138)],"uuvYg"))S.isShiftPressed?b(S.flowerId,S.clickPetal.layerId,S.clickPetal[C(157)],!0):a.SLKYa(a.NrKfY,"KJwCr")?_0x431d14[C(174)]===1?_0x85cbec({kind:XecXCc.OktXe,leafId:_0x1e6290[0]}):XecXCc[C(128)](_0x58e0a9,{kind:C(176),leafIds:_0x20c2a3}):o({kind:a[C(153)],flowerId:S[C(170)],layerId:S.clickPetal[C(164)],index:S[C(178)][C(157)]});else{const L=_0x5e57b8[C(195)][C(218)](M=>M.id===_0xb05cdb);return{id:_0xa297dc,x:L?.[C(137)].x??0,y:L?.[C(137)].y??0}}else S.moved&&((f.kind===C(219)||a[C(191)](f[C(185)],a.LoknP)&&f.flowerId!==S.flowerId||a[C(114)](f[C(185)],C(213))&&a.tDmJt(f[C(170)],S.flowerId)||f.kind===a[C(153)]&&f.flowerId!==S[C(170)])&&o({kind:a[C(133)],flowerId:S[C(170)]}),m(()=>{},!0));y.current=null}},scaleDragRef:D[r(212)],beginScaleDrag:D[r(171)],updateScaleDrag:D.updateScaleDrag,endScaleDrag:D[r(203)],rotationDragRef:D[r(120)],beginRotationDrag:D[r(130)],updateRotationDrag:D.updateRotationDrag,endRotationDrag:D[r(151)],widthScaleDragRef:D[r(155)],beginWidthScaleDrag:D[r(210)],updateWidthScaleDrag:D[r(180)],endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D[r(167)],beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D.endRadiusDrag}}function rm({className:c}){return s.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[s.jsx("path",{d:"M3 6h18"}),s.jsx("path",{d:"M8 6V4h8v2"}),s.jsx("path",{d:"M6 6l1 16h10l1-16"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"})]})}function da(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),f=Math.max(0,i),o=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",m="h-7 w-7";return s.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:f},onDoubleClick:y=>{c.onDoubleClick&&(y.stopPropagation(),c.onDoubleClick())},children:[s.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${o}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?s.jsx("span",{className:`${r?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):s.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),s.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),s.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&s.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?s.jsx("button",{type:"button",className:`${m} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:y=>{y.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:s.jsx(rm,{className:"h-4 w-4"})}):s.jsx("div",{className:`${m} shrink-0`,"aria-hidden":!0})]})]})}function cm(c){const{project:r,selection:a,setSelection:i,isExpanded:f,toggleExpanded:o,scheduleFlowerRowClick:m,handleFlowerRowDoubleClick:y,addFlower:d,deleteSelected:h,addOuterLayer:v,deleteOuterLayer:g,deleteFlowerById:N,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:j}=c,_=(Y,P)=>{const te=a.kind==="flower"&&a.flowerId===Y.id,Q=a.kind==="flowers"&&a.flowerIds.includes(Y.id),W=te||Q,C="",S=f(Y.id),L=Y.layers&&Y.layers.length>0,M=s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),v(Y.id)},"aria-label":"Add outer layer",children:"+"}),L&&s.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),g(Y.id)},"aria-label":"Delete outer layer",children:""})]});return s.jsxs("div",{"data-flower-id":Y.id,"data-testid":`tree-flower-${Y.id}`,style:{paddingLeft:P},children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${S?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:S?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),o(Y.id)},"aria-label":S?"collapse":"expand","data-tree-toggle":!0,children:S?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:Y.name,marker:C,selected:W,showTrash:te,onTrash:()=>N(Y.id),rightActions:M,onClick:()=>m(Y.id),onDoubleClick:()=>y(Y.id),level:0,leftOffset:-18})})]}),S&&Y.layers.slice().sort((w,A)=>A.order-w.order).map(w=>{const A=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return s.jsx(da,{label:`${w.order}. ${w.name}`,marker:"",selected:A,showTrash:A,onTrash:()=>b(Y.id,w.id),onClick:()=>{i({kind:"layer",flowerId:Y.id,layerId:w.id}),j(G=>({...G,[Y.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},Y.id)},B=c.groups,k=new Set(B.flatMap(Y=>Y.flowerIds)),E=r.flowers.filter(Y=>!k.has(Y.id)),q=c.leafGroups,Z=new Set(q.flatMap(Y=>Y.leafIds)),V=c.leaves.filter(Y=>!Z.has(Y.id));return s.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),s.jsx("path",{d:"M10 11v6"}),s.jsx("path",{d:"M14 11v6"}),s.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[s.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),s.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),s.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:s.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[s.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),s.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),s.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),s.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[s.jsx(da,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),B.length>0&&s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsx("div",{className:"flex items-center px-0.5",children:s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),s.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...B].reverse().map(Y=>{const P=a.kind==="group"&&a.groupId===Y.id,te="",Q=c.isGroupExpanded(Y.id);return s.jsxs("div",{"data-group-id":Y.id,children:[s.jsxs("div",{className:"flex items-center gap-0",children:[s.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${Q?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:Q?"":"",onClick:W=>{W.stopPropagation(),c.toggleGroupExpanded(Y.id)},"aria-label":Q?"collapse group":"expand group",children:Q?"":""}),s.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:s.jsx(da,{label:Y.name,marker:te,selected:P,onClick:()=>c.onSelectGroup(Y.id),level:0,leftOffset:-18})})]}),Q&&Y.flowerIds.map(W=>{const C=r.flowers.find(S=>S.id===W);return C?_(C,12):null})]},Y.id)})})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...E].reverse().map(Y=>_(Y,0)),E.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),s.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[s.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[s.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),s.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),s.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[q.map(Y=>{const P=a.kind==="leafGroup"&&a.leafGroupId===Y.id;return s.jsxs("div",{children:[s.jsx(da,{label:` ${Y.name}`,selected:P,onClick:()=>c.onSelectLeafGroup(Y.id),level:0,leftOffset:0}),Y.leafIds.map(te=>{const Q=c.leaves.find(C=>C.id===te);if(!Q)return null;const W=a.kind==="leaf"&&a.leafId===Q.id;return s.jsx(da,{label:Q.name,selected:W,showTrash:W,onTrash:()=>c.onDeleteLeaf(Q.id),onClick:()=>c.onSelectLeaf(Q.id),level:0,leftOffset:12,muted:!Q.visible},Q.id)})]},Y.id)}),[...V].reverse().map(Y=>{const P=a.kind==="leaf"&&a.leafId===Y.id;return s.jsx(da,{label:Y.name,selected:P,showTrash:P,onTrash:()=>c.onDeleteLeaf(Y.id),onClick:()=>c.onSelectLeaf(Y.id),level:0,leftOffset:0,muted:!Y.visible},Y.id)}),c.leaves.length===0&&s.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),s.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[s.jsx("div",{className:"font-semibold text-neutral-700",children:""}),s.jsx("div",{children:"Z:  / Z: "}),s.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=Kn;function kc(){const c=["C2vHCMnO","5y+Z5zcr44gn","l3rZDw1HBwKV","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","we9vuhO","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYa3mIa2osWGnJKGnZiSidy2idC2","mtz6wMjpENC","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","AMntqwG","Dwfmqxe","tcaTndaGmtqY","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","mti5ntC5mu9ArfrWyq","q3fZAK8","C2LKzq","ndaXnte2mgjPr2neBa","tsaWidCW","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYa2mIaXndiSidqYide1mIWGmJaGmtu4","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTndaGmtaSic0XocaXlcaWida","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","tsaTndyGmJy","qYaTnZyGndqSic02ocaZmcWGltu4idiW","qYa1ncaYmcWGnJyGmJiSidCYidmY","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa2mcaYmtqSidy2idiYocWGnZaGmJqW","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaXncaTncWGmZyGltqSidq4idq","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYaTnZGGndaSic03oca1ncWGltCYidyY","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","tvDYvuq","mtbzuM9eyuu","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","tcaTmtaWidi0ma","Dg9tDhjPBMC","qYaTmJiGnIWGlteWideSidaGma","qYa2nca3ocWGnJyGodySidy2idK0","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","q3LRy1y","tsaWida","qYa4mYaXmdeSidC4ideWmYWGnZiGmta1","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTodmGodySic04mIa3ncWGltGWidyY","qYaTnJqGntiSic02mcaZocWGltuYidi2","AM9PBG","qYaXnIa2nIWGmZqGnZaSidqYidGY","tcaTnZaGmJqW","qYaTndqGnIWGltiWidaSidaGma","qYaTncaTmsWGlteGlteSidaGma","qYaTodaGmta4lcaTodGGotySic04oca4na","yMfJAW","ELjlqve","qYa2osaXmJeSidy1ideYnIWGnJeGmtmX","tcaTmZaGmJqW","nte4mtjsqM9sCMi","qYa0nca1ncWGmtyGndGSic0Xmca0nG","qYa1nYa5msWGntCGotmSidu5idK1","qYaYmcaXndGSideWide1mcWGmcaXnta","mZq1mZa3wwrAvfDO","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTndqGmtmWlcaTntqGmtiWlcaTnJaGmteY","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","tcaTndaGmtm0","qYaTndGGmtC2lcaTndiGmty4lcaTmZGGmtu4","CMLNAhq","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","kcGOlISPkYKRksSK","qYaTndmGmZiSic00ncaYocWGltq2idi2","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","qYaXocaXlca0mcaXmcWGntiGmJy","qYaTndyGodySic00mIaXmdySic00mcaXmJy","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYa1mcaXmteSidq0ideXnIWGmZGGmtiW","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","tsa0nIaYnG","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","qYa2nsa4msWGnJyGodmSidy2idG1","BgvMDa","mJG1odi5mKPWCwjrtW","qYa2nsa4mcWGnJGGoduSidC0idKW","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qYaTntyGmZySic01mcaYnIWGltqYide4","qYaYmcaWlca0nca2lca1ocaYma","qxLwu2C","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa3oca0mcWGnZGGntqSidCYidyY","5OIq5lQ65AwZ5OcN","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","ndHVCgjRywS","qYaTmJGGndySic00mca0ncWGltuWidq0","qYaZmcaXntiSidmYide2nIWGntuGmJaY","5BEM5zcr44gn","AgvPz2H0","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYa0mIa2mIWGndaGntaSidqYidm4","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTmteYidi2mcWGltK2idi0mIWGltGYidiYnG","mJiZnteZmMLyALzszG","nvbnuvr4sW","otqYnZa2nMHnuxjMqW","qYa4mIa3ncWGodmGodySidGYidK4","yNbewKK","r0XAC1q","qYa2nIa2ocWGntyGnZaSidq4idy2","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY"];return kc=function(){return c},kc()}(function(c,r){const a=Kn,i=c();for(;;)try{if(parseInt(a(438))/1+parseInt(a(434))/2*(parseInt(a(354))/3)+-parseInt(a(388))/4*(-parseInt(a(364))/5)+-parseInt(a(343))/6+parseInt(a(385))/7*(parseInt(a(379))/8)+-parseInt(a(363))/9+parseInt(a(409))/10*(-parseInt(a(365))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(kc,552083);const um=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const f=a.apply(r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),js=um(void 0,function(){const c=Kn;return js[c(413)]().search(c(331))[c(413)]().constructor(js)[c(371)](c(331))});js();const Vd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Qd={adult:se(351),child:""};function Kn(c,r){c=c-324;const a=kc();let i=a[c];if(Kn.CAHLoA===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Kn.gsyAeu=f,Kn.PXXqSL={},Kn.CAHLoA=!0}const o=a[0],m=c+o,y=Kn.PXXqSL[m];if(y)i=y;else{const d=function(h){this.Wlgwae=h,this.ogWmGM=[1,0,0],this.kmfFPh=function(){return"newState"},this.lIHySz="\\w+ *\\(\\) *{\\w+ *",this.FhioMm=`['|"].+['|"];? *}`};d.prototype.NUSONd=function(){const h=new RegExp(this.lIHySz+this.FhioMm),v=h.test(this.kmfFPh.toString())?--this.ogWmGM[1]:--this.ogWmGM[0];return this.ebrnro(v)},d.prototype.ebrnro=function(h){return~h?this.TIVrnE(this.Wlgwae):h},d.prototype.TIVrnE=function(h){for(let v=0,g=this.ogWmGM.length;v<g;v++)this.ogWmGM.push(Math.round(Math.random())),g=this.ogWmGM.length;return h(this.ogWmGM[0])},new d(Kn).NUSONd(),i=Kn.gsyAeu(i),Kn.PXXqSL[m]=i}return i}const Pd={right:se(372),left:se(357),back:""},sm=["M 0 0",se(421),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66",se(378),se(344),"C 78 93, 82 96, 83 99",se(420),"C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118",se(432),"C 56 137, 49 142, 43 146",se(442),"C 23 171, 21 181, 19 191",se(333),se(375),"L -36 280","L -125 280",se(362),se(391),"C -42 182, -38 174, -36 166","C -34 158, -36 150, -40 142",se(404),se(429),se(349),"C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",se(428),"Z"][se(424)](" "),xm=["M 0 0",se(347),"C 68 30, 76 44, 80 62",se(366),"C 81 104, 84 110, 84 116",se(416),se(405),se(402),se(361),"C 58 240, 74 258, 92 280","L -92 280",se(400),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162",se(439),se(396),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z",se(389),se(425),se(352),se(324),se(437),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82","C -34 70, -16 66, 0 70","Z"][se(424)](" "),om=["M 0 0",se(403),"C 55 10, 60 22, 63 36",se(395),"C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79",se(341),"C 66 86, 62 88, 58 90",se(436),se(336),se(337),se(329),"C 22 151, 14 167, -2 183","C -10 195, -18 209, -22 221",se(433),se(412),"C -86 218, -72 200, -58 186",se(326),se(407),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(359),"C -22 6, -10 1, 0 0","Z"][se(424)](" "),fm=[se(419),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",se(415),"C 66 100, 64 106, 60 112",se(353),se(356),se(401),se(426),"C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140",se(441),"C -64 106, -66 100, -66 94","C -66 86, -64 78, -64 68","C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",se(339),"C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62",se(369),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z",se(397),"C -54 20, -66 22, -72 32",se(406),se(330),se(410),"C -43 32, -44 28, -46 26","Z"].join(" "),dm=[se(419),se(421),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58","C -30 54, -48 48, -62 44",se(346),"C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z","M -40 142",se(404),se(429),"C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44","C -58 50, -54 58, -50 70",se(335),se(383),"Z"].join(" "),hm=[se(419),se(347),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",se(377),se(416),se(392),"C 8 160, -8 160, -20 158",se(340),se(396),se(380),se(422),se(398),se(427),"Z","M 0 70",se(425),"C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150",se(370),"C -40 136, -46 126, -48 116",se(345),se(328),"Z"][se(424)](" "),mm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",se(395),se(435),se(355),"C -44 34, -38 22, -30 14",se(414),"Z","M -40 134","C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",se(440),se(338),se(325),"Z"].join(" "),bm=[se(419),se(334),se(390),"C 64 78, 66 86, 66 94",se(411),"C 46 118, 26 124, 12 126","C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112","C -64 106, -66 100, -66 94",se(393),se(423),se(394),"Z","M 46 26",se(399),se(350),"C 66 68, 56 70, 48 66",se(360),"C 43 32, 44 28, 46 26","Z","M -46 26",se(374),se(406),"C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38",se(332),"Z"].join(" ");function vm(c,r){const a=se,i=r==="right"||r===a(342);return c==="adult"?i?sm:xm:i?om:fm}function gm(c,r){const a=se,i={DmrNE:a(327),uaLAq:function(o,m){return o===m},bpDZI:"left"},f=r===i.DmrNE||i[a(382)](r,i[a(367)]);return c==="adult"?f?dm:hm:f?mm:bm}const ym={right:se(373)+"stencils/adult_right.png",left:se(373)+"stencils/adult_left.png",back:"/tsumami/"+se(417)},pm={right:se(373)+se(384),left:"/tsumami/stencils/child_left.png",back:se(373)+"stencils/child_back.png"},_m={adult:ym,child:pm};function Sm(c,r){const a=se,i={fTYPi:function(y,d){return y===d},gZzYH:"right",GLZsT:function(y,d){return y===d},AyVSg:a(342),CqsjO:"back",MWrUD:function(y,d,h){return y(d,h)}},f=i.fTYPi(r,i.gZzYH)||i[a(368)](r,i[a(348)])?a(387):i[a(386)],o=Vd[c][f],m=_m[c]?.[r]??null;return{path:vm(c,r),hairPath:i[a(408)](gm,c,r),scaleX:r===a(342)?-1:1,imageUrl:m,imageWidthMm:o.width,imageHeightMm:o[a(358)]}}function Yt(c,r){c=c-403;const a=Yc();let i=a[c];if(Yt.dguJol===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Yt.MgSDty=f,Yt.VimiXP={},Yt.dguJol=!0}const o=a[0],m=c+o,y=Yt.VimiXP[m];if(y)i=y;else{const d=function(h){this.Spedal=h,this.vJTexR=[1,0,0],this.SFRHcn=function(){return"newState"},this.LDRQDp="\\w+ *\\(\\) *{\\w+ *",this.rEVGJl=`['|"].+['|"];? *}`};d.prototype.uwNTMf=function(){const h=new RegExp(this.LDRQDp+this.rEVGJl),v=h.test(this.SFRHcn.toString())?--this.vJTexR[1]:--this.vJTexR[0];return this.lQExIX(v)},d.prototype.lQExIX=function(h){return~h?this.WoWnIS(this.Spedal):h},d.prototype.WoWnIS=function(h){for(let v=0,g=this.vJTexR.length;v<g;v++)this.vJTexR.push(Math.round(Math.random())),g=this.vJTexR.length;return h(this.vJTexR[0])},new d(Yt).uwNTMf(),i=Yt.MgSDty(i),Yt.VimiXP[m]=i}return i}(function(c,r){const a=Yt,i=c();for(;;)try{if(parseInt(a(426))/1*(-parseInt(a(458))/2)+parseInt(a(404))/3+-parseInt(a(453))/4+-parseInt(a(444))/5+-parseInt(a(456))/6+-parseInt(a(450))/7*(-parseInt(a(454))/8)+parseInt(a(470))/9*(parseInt(a(460))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Yc,894019);const Cm=(function(){const c={nsmTo:function(a,i){return a/i},qvMgA:function(a,i){return a-i},ClLml:function(a,i){return a*i},sIdBW:function(a,i){return a*i},Stmfp:function(a,i){return a!==i}};let r=!0;return function(a,i){const f=Yt,o={OsAdT:function(y,d){return y-d},WFDIi:function(y,d){return c[Yt(437)](y,d)},DVdMi:function(y,d){return c.qvMgA(y,d)},QLQWF:function(y,d){return c.ClLml(y,d)},zOHFt:function(y,d){return y+d},DTtkg:function(y,d){return y-d},LPJDn:function(y,d){return c[Yt(407)](y,d)},khdwf:function(y,d){return c.Stmfp(y,d)},FAbbB:f(466)},m=r?function(){const y=f;if(i)if(o.khdwf(o.FAbbB,o[y(409)])){const d=o.OsAdT(o.WFDIi(_0x1767ef,_0x2d6836),1);return{x:o.DVdMi(_0x578c60.x,o.QLQWF(d,o[y(414)](-_0xc09d5c.x,o.QLQWF(_0x2b72ae,_0x498202)))),y:o[y(419)](_0x4fe953.y,o.QLQWF(d,o[y(414)](-_0x5d46df.y,o[y(473)](_0xb9f2b9,_0x4e0462))))}}else{const d=i.apply(a,arguments);return i=null,d}}:function(){};return r=!1,m}})(),ws=Cm(void 0,function(){const c=Yt;return ws.toString()[c(474)]("(((.+)+)+)+$")[c(430)]().constructor(ws)[c(474)](c(451))});ws();const us=520;function Od(c,r,a,i,f,o,m){const y=Yt,d={EdMDe:function(v,g){return v*g},WVndJ:function(v,g){return v+g},uCXnx:function(v,g){return v-g},LjbXY:function(v,g){return v+g},lIezK:function(v,g){return v*g}},h=i/a-1;return{x:m.x-d.EdMDe(h,d[y(435)](-m.x,c*f)),y:d[y(443)](m.y,h*d.LjbXY(-m.y,d.lIezK(r,o)))}}function Yc(){const c=["vfj2vKW","A3HksMS","AhLWB3q","sNzjCgi","y2XPzw50wa","ywjZ","Aw5PDgLHBfbHBG","mZyYn09zChr5DG","DMzNq0S","qwrgqK4","tfbkrg4","C2vHCMnO","Dg9gAxHLza","CgfU","DhLXsuy","BLzlCxm","ntmYmtKWn1vlruLXza","vuTSChK","EM9VBuXLDMvS","C0LKqLC","wK5YvMS","rKfIyKi","Aw5PDgLHBenLBNrLCG","D2LKDgG","CgTKyK8","Ahz2y1q","EK9irNq","z2v0qM91BMrPBMDdBgLLBNrszwn0","D2HLzwW","BgvMDa","vgr4z1K","rfr0A2C","re51reu","y2XPzw50wq","ChjLDMvUDerLzMf1Bhq","Dg91y2HLBMq","C3bSAxq","zgvSDgfz","mLLHEeTdtG","sM1Iq1G","tNzLt2C","u2jRsxu","Dg9tDhjPBMC","AgvPz2H0","qLDYrwK","z0z3yuq","BgvUz3rO","v1zUzeO","zxHW","BNnTvg8","Dg91y2HZDgfYDa","uefQCKu","CMvTB3zLrxzLBNrmAxn0zw5LCG","EM9VBq","DMPys3O","DunyBNG","mtC3mJGZnxjruMTnwG","sgXcqu8","Dg91y2HLCW","rgHRExi","sun4vKq","Aw5PDgLHBerPC3q","mZaYndC3zKvxAgDQ","kcGOlISPkYKRksSK","y3vYCMvUDa","ntq0mJq1mKnHA3jnuq","mJCYAgDRwMXY","Bwf4","nJGYntmWme9dCNLSrq","Dg9W","mteYnZCZohztEMfpuW","ExPZEKe","nda0odbKwNn3zfK","BeTrBvm","Dg91y2HTB3zL"];return Yc=function(){return c},Yc()}function jm(c){const r=Yt,a={ICxVD:function(L,M){return L*M},KsLwL:function(L,M){return L<M},URPvs:function(L,M,w,A,G,I,O,z){return L(M,w,A,G,I,O,z)},TdxgY:function(L,M){return L(M)},ihjgc:function(L,M){return L===M},KkiTo:function(L){return L()},UKlpy:function(L){return L()},gFwaD:function(L,M){return L-M},NveOg:function(L,M){return L-M},lKQmS:function(L,M){return L/M},pkdbO:function(L,M){return L+M},BWrEi:function(L,M){return L!==M},tzIZW:"hzEzd",kxJJk:function(L,M){return L-M},PuVdE:function(L,M){return L/M},sJHUT:function(L,M){return L/M},HlBAO:function(L,M){return L*M},AdFBN:function(L,M){return L/M},DNuDE:function(L,M,w,A){return L(M,w,A)},hvvcT:function(L,M,w,A,G,I,O,z){return L(M,w,A,G,I,O,z)},NOThk:function(L,M){return L(M)},HIarh:function(L,M){return L*M},TRvVL:function(L,M){return L/M},rUVhy:r(423),lDvIS:"touchstart",Dhkyr:function(L,M,w,A){return L(M,w,A)},GJLgQ:r(477),eNNmz:"BFVVS",nlwqM:function(L,M,w,A,G,I,O,z){return L(M,w,A,G,I,O,z)},ZNrVk:function(L,M){return L(M)},yzszA:function(L,M){return L(M)},SbkIu:function(L,M,w){return L(M,w)},nVKqs:function(L,M,w){return L(M,w)}},{setZoom:i,setPan:f,setZoomLevel:o,ZOOM_LEVELS:m,stageRef:y,endPan:d,endFlowerDrag:h,endMarquee:v,endRotationDrag:g,endScaleDrag:N,endWidthScaleDrag:b,endRadiusDrag:D}=c,j=a[r(459)](F.useRef,null),_=a.yzszA(F.useRef,c[r(476)]),B=F.useRef(c[r(441)]);F.useEffect(()=>{_.current=c.pan},[c[r(476)]]),F.useEffect(()=>{B.current=c.zoom},[c[r(441)]]);const k=a.TdxgY(F.useRef,c[r(406)]);F.useEffect(()=>{const L=r;k[L(452)]=c.zoomLevel},[c[r(406)]]);const E=a.NOThk(F.useRef,null),q=a[r(459)](F.useRef,null),Z=a[r(429)](F.useCallback,L=>{const M=r;if(M(439)!=="PAjrE"){_0x44c38d[M(422)]();const w=_0x3f1eb2.current;if(!w)return;const A=_0x4d5fc2.current,G=a[M(448)](A,_0x2752a5[M(436)](a.ICxVD(-_0x423d1e.deltaY,_0x2b4795))),I=_0x368e6c(G,_0x3bf352[0],_0x20ab42[_0x54c2d5.length-1]);if(a.KsLwL(_0x84f952.abs(I-A),1e-6))return;const O=w[M(415)](),z=(_0x4e569f[M(467)]-O[M(417)])/O[M(411)],R=(_0x2c6bae[M(421)]-O[M(457)])/O.height,H=O[M(411)]/O.height,X=_0x1e439d,le=X*H,ue=a.URPvs(_0x255346,z,R,A,I,le,X,_0x57f2c8[M(452)]);_0x1d83ef.current=I,_0x504d3e[M(452)]=ue,_0x46262f(I),a.TdxgY(_0x367159,ue)}else if(a.ihjgc(L.touches[M(434)],2)){L[M(422)](),a.KkiTo(d),h(),a[M(405)](v),a.UKlpy(g),a.KkiTo(N),b(),D(),E.current=null,q.current=null;const w=L[M(446)][0],A=L[M(446)][1],G=(w[M(467)]+A[M(467)])/2,I=(w[M(421)]+A[M(421)])/2,O=Math[M(465)](a.gFwaD(A.clientX,w[M(467)]),a[M(428)](A[M(421)],w.clientY));j.current={initialCenter:{x:G,y:I},initialDist:O,initialPan:{..._.current},initialZoom:B.current}}},[d,h,v,g,N,b,D]),V=a.SbkIu(F.useCallback,L=>{const M=r;if(L[M(446)].length===2&&j[M(452)]){L.preventDefault();const w=L[M(446)][0],A=L[M(446)][1],G=a.lKQmS(w.clientX+A.clientX,2),I=a[M(461)](a[M(412)](w[M(421)],A[M(421)]),2),O=Math[M(465)](A.clientX-w[M(467)],a[M(433)](A[M(421)],w.clientY)),z=j.current,R=O/Math[M(455)](1,z[M(449)]),H=je(Number(a.ICxVD(z.initialZoom,R)[M(475)](3)),m[0],m[m.length-1]),X=z.initialZoom,le=G-z.initialCenter.x,ue=a[M(433)](I,z.initialCenter.y);let oe=z.initialPan.x+le,_e=z.initialPan.y+ue;const de=y[M(452)];if(de&&a[M(432)](X,H))if(a.tzIZW==="qIShA")_0x307108.current=null;else{const me=de[M(415)](),Ae=a[M(461)](a[M(464)](z.initialCenter.x,me[M(417)]),me[M(411)]),$e=a.PuVdE(z[M(410)].y-me[M(457)],me.height),ft=me[M(411)]/me.height,st=us,ht=st*ft,At=(a.sJHUT(H,X)-1)*a.pkdbO(-z.initialPan.x,Ae*ht),_t=a[M(445)](a.gFwaD(a.AdFBN(H,X),1),a[M(412)](-z[M(469)].y,a.HlBAO($e,st)));oe-=At,_e-=_t}const we={x:oe,y:_e};B[M(452)]=H,_[M(452)]=we,f(we),a[M(418)](i,H)}},[f,i,y,m]),Y=F.useCallback(L=>{const M=r,w={SFPMS:function(A,G,I,O){return a[Yt(420)](A,G,I,O)},CkJqH:function(A,G,I,O,z,R,H,X){return a[Yt(413)](A,G,I,O,z,R,H,X)},vjXKz:function(A,G){return a.NOThk(A,G)}};if(M(427)!==M(471))L.touches[M(434)]<2&&(j[M(452)]=null);else{const A=_0x4de6f3.current,G=w.SFPMS(_0x39f625,A+_0x21e2d2,0,_0xc49c34.length-1);if(G===A)return;const I=_0x59b62a.current,O=_0x1a5a32[G],z=_0x16ccc1[M(452)];if(!z){_0x2840cb(G);return}const R=z[M(415)](),H=R[M(411)]/R.height,X=_0x3434f8,le=X*H,ue=w.CkJqH(_0x11d758,.5,.5,I,O,le,X,_0x28dceb.current);_0xf429d1.current=O,_0x4aface[M(452)]=G,_0x29fd2f[M(452)]=ue,_0x4d062c(G),w[M(442)](_0x52de4d,ue)}},[]),P=.003,te=a.nVKqs(F.useCallback,L=>{const M=r;L[M(422)]();const w=y.current;if(!w)return;const A=B.current,G=A*Math[M(436)](a.HIarh(-L[M(425)],P)),I=a[M(420)](je,G,m[0],m[m.length-1]);if(Math[M(468)](I-A)<1e-6)return;const O=w.getBoundingClientRect(),z=a.TRvVL(L[M(467)]-O[M(417)],O.width),R=a.lKQmS(L[M(421)]-O.top,O[M(431)]),H=a[M(472)](O.width,O.height),X=us,le=X*H,ue=a[M(413)](Od,z,R,A,I,le,X,_[M(452)]);B.current=I,_.current=ue,i(I),f(ue)},[i,f,y,m]);F.useEffect(()=>{const L=r,M=y.current;if(M)return M.addEventListener(a.lDvIS,Z,{passive:!1}),M.addEventListener("touchmove",V,{passive:!1}),M.addEventListener(L(423),Y),M.addEventListener("wheel",te,{passive:!1}),()=>{const w=L;M[w(440)](w(438),Z),M[w(440)](w(462),V),M[w(440)](a.rUVhy,Y),M.removeEventListener(w(416),te)}},[y,Z,V,Y,te]);const Q=F.useCallback(L=>{const M=r,w=k.current,A=a[M(447)](je,w+L,0,a[M(433)](m.length,1));if(A===w)return;const G=B[M(452)],I=m[A],O=y[M(452)];if(!O)if(a.GJLgQ===a.eNNmz)_0x4e31a0.current=_0x41296a.zoomLevel;else{a.TdxgY(o,A);return}const z=O.getBoundingClientRect(),R=a[M(463)](z.width,z.height),H=us,X=H*R,le=a.nlwqM(Od,.5,.5,G,I,X,H,_[M(452)]);B[M(452)]=I,k.current=A,_.current=le,o(A),a[M(408)](f,le)},[o,f,y,m]),W=a[r(429)](F.useCallback,(L,M)=>{const w=r,A="3|1|4|0|2"[w(424)]("|");let G=0;for(;;){switch(A[G++]){case"0":a.TdxgY(o,L);continue;case"1":B[w(452)]=M;continue;case"2":f({x:0,y:0});continue;case"3":k.current=L;continue;case"4":_[w(452)]={x:0,y:0};continue}break}},[o,f]),C=a[r(403)](F.useCallback,L=>{const M=r;E[M(452)]=L},[]),S=F.useCallback(L=>{const M=r;q[M(452)]=L},[]);return{multiTouchRef:j,touchBgStartRef:E,mouseBgStartRef:q,zoomAtCenter:Q,resetView:W,setTouchBgStart:C,setMouseBgStart:S}}function li(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),f=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(f))return c;const o=1-r;return`#${Math.round(a*o).toString(16).padStart(2,"0")}${Math.round(i*o).toString(16).padStart(2,"0")}${Math.round(f*o).toString(16).padStart(2,"0")}`}function wm(c){const{flower:r,project:a,paletteMap:i}=c,f=F.useRef(null),o=F.useRef(!1),m=F.useRef(null);F.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const y=F.useMemo(()=>[...r.layers||[]].sort((k,E)=>k.order-E.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:v}=It(d),{flowerOuterR:g,centerHitR:N}=F.useMemo(()=>{let k=12,E=1/0;for(const Z of y){if(!Z.visible)continue;const V=Z.scale??1,Y=h*V,te=Math.max(0,Z.radius-Y*.28),Q=te+Y;k=Math.max(k,Q),te<E&&(E=te)}isFinite(E)||(E=0);const q=Math.max(E*.9,8);return{flowerOuterR:k,centerHitR:q}},[y,h]),b=(k,E)=>k?.petalOverrides?.find(q=>q.index===E)??null,D="pointer",j=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,_=c.zoneCursorValue??"grab",B=k=>{if(k.stopPropagation(),k.button===0){if(k.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(k)}};return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:k=>{k.stopPropagation(),c.onDoubleClick?.()},style:{cursor:j?_:rr("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&s.jsx("circle",{r:Math.max(12,g),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),y.map(k=>{if(!k.visible)return null;const q=i.get(k.colorId)?.hex??"#999",Z=360/Math.max(1,k.petalCount),V=k.scale??1,Y=h*V,te=v*(k.widthScale??1)*V,W=Math.max(0,k.radius-Y*.28),C=fs(""),S=fs(""),L=W+Y,M=c.isSelected&&c.selectedLayerId===k.id,w=c.isSelected&&(c.selectedPetal?.layerId===k.id||(c.selectedPetals?.some(A=>A.layerId===k.id)??!1));return s.jsxs("g",{children:[Array.from({length:k.petalCount}).map((A,G)=>{const I=b(k,G),z=(I?.petalType??k.petalType)===""?C:S,R=i.get(I?.colorId??k.colorId)?.hex??q,H=k.offsetAngle+G*Z,X=va(H),le=Math.cos(X)*W,ue=Math.sin(X)*W,oe=c.isSelected&&c.selectedPetal?.layerId===k.id&&c.selectedPetal?.index===G,_e=c.isSelected&&(c.selectedPetals?.some(me=>me.layerId===k.id&&me.index===G)??!1),de=oe||_e,we=j?_:rr("/tsumami/");return s.jsxs("g",{transform:`translate(${le} ${ue}) rotate(${H})`,children:[s.jsx("path",{d:z,transform:`scale(${Y} ${te})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,style:{cursor:we},onPointerDown:me=>{if(me.stopPropagation(),me.button!==0)return;const Ae=me.shiftKey,$e=me.pointerType==="touch";if(f.current&&(clearTimeout(f.current),f.current=null),o.current=!1,Ae&&c.onTogglePetalSelection){me.preventDefault(),me.stopPropagation(),c.onTogglePetalSelection(k.id,G,!0);return}if($e&&c.onTogglePetalSelection){m.current={x:me.clientX,y:me.clientY};const At=k.id,_t=G;f.current=window.setTimeout(()=>{o.current=!0,f.current=null,c.onTogglePetalSelection?.(At,_t,!0),navigator.vibrate?.(30)},500)}const ft=c.isSelected&&c.selectedLayerId!=null,st=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||ft||st){c.onBeginDragFromLayerPetal(k.id,G,me);return}c.onBeginDragFromLayerPetal(k.id,G,me)},onPointerMove:me=>{if(f.current&&m.current){const Ae=me.clientX-m.current.x,$e=me.clientY-m.current.y;Math.hypot(Ae,$e)>10&&(clearTimeout(f.current),f.current=null)}},onPointerUp:()=>{f.current&&(clearTimeout(f.current),f.current=null)},onDoubleClick:me=>{me.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(k.id)}}),k.doublePetal&&(()=>{const me=k.doublePetal,Ae=I?.innerSizeReduction??me.innerSizeReduction??2,$e=d*(V||1);if($e<=0)return null;const st=Math.max($e*.3,$e-Ae)/$e,ht=z,At=I?.innerColorId??me.innerColorId??I?.colorId??k.colorId,_t=i.get(At)?.hex??R,mt=Y*st,Zt=te*st;return s.jsx("path",{d:ht,transform:`scale(${mt} ${Zt})`,fill:_t,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:k.locked?.55:.95,pointerEvents:"none"})})(),(de||M||c.isFlowerSelected)&&s.jsx("path",{d:z,transform:`scale(${Y} ${te})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${k.id}-${G}`)]},G)}),M&&!w&&s.jsx("circle",{r:L,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},k.id)}),c.isFlowerSelected&&s.jsx("circle",{r:g,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const k=r.center,E=T2(k.size),q=i.get(k.color)?.hex??"#D4A843",Z=k.color2?i.get(k.color2)?.hex??"#C0C0C0":"#D4A843",V=Math.max(E,N);switch(k.type){case"":return s.jsxs("g",{children:[s.jsx("circle",{r:E,fill:q,stroke:li(q,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:B})]});case"":{const P=E*.42,te=E,Q=E*.12,W=E*.13,C=E*.45,S=Z,L=q;return s.jsxs("g",{children:[s.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,w)=>{const A=w/10*360,G=va(A),I=Math.cos(G)*te,O=Math.sin(G)*te,z=-Math.sin(G)*Q,R=Math.cos(G)*Q,H=Math.cos(G)*P,X=Math.sin(G)*P;return s.jsxs("g",{children:[s.jsx("path",{d:`M ${(H+z).toFixed(2)} ${(X+R).toFixed(2)} L ${I.toFixed(2)} ${O.toFixed(2)} L ${(H-z).toFixed(2)} ${(X-R).toFixed(2)} Z`,fill:S,stroke:li(S,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:I,cy:O,r:W,fill:S,stroke:li(S,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},w)}),s.jsx("circle",{r:P,fill:S,stroke:li(S,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{r:C,fill:L,stroke:li(L,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),s.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}case"":{const Y=k.pepCount??12,P=E*.12;return s.jsxs("g",{children:[s.jsx("g",{pointerEvents:"none",children:Array.from({length:Y}).map((te,Q)=>{const W=Q/Y*360,C=va(W),S=Math.cos(C)*E,L=Math.sin(C)*E;return s.jsxs("g",{children:[s.jsx("line",{x1:0,y1:0,x2:S,y2:L,stroke:q,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),s.jsx("circle",{cx:S,cy:L,r:Math.max(P,1),fill:q,stroke:li(q,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},Q)})}),s.jsx("circle",{r:V,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}default:return s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}})():s.jsxs("g",{children:[s.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),s.jsx("circle",{r:N,fill:"transparent",style:{cursor:D},onPointerDown:B})]}),c.isGroupHighlighted&&s.jsx("circle",{r:Math.max(14,g+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function Mm(c){const{leaf:r,project:a,paletteMap:i}=c,f=r.fabricSquareSize??a.fabricSquareSize,{length:o,width:m}=It(f),y=r.scale??1,d=o*y,h=m*(r.widthScale??1)*y,v=fs(r.petalType),g=i.get(r.colorId)?.hex??"#4a7c59";return s.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??rr("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:N=>{if(N.stopPropagation(),N.button===0&&!r.locked){if(N.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(N)}},children:[s.jsx("path",{d:v,transform:`scale(${d} ${h})`,fill:g,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const N=r.doublePetal,b=N.innerSizeReduction??2,D=f*(y||1);if(D<=0)return null;const _=Math.max(D*.3,D-b)/D,B=N.innerColorId??r.colorId,k=i.get(B)?.hex??g,E=d*_,q=h*_;return s.jsx("path",{d:v,transform:`scale(${E} ${q})`,fill:k,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&s.jsx("path",{d:v,transform:`scale(${d} ${h})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${r.id}`)]})}const Oc=1350;function zm(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:f,applyUpdateRef:o,clientToSvgPointRef:m,stencilDraggingRef:y,onSelectStencil:d}=c,h=F.useRef(null);F.useEffect(()=>()=>{h.current?.()},[]);const v=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return s.jsx(s.Fragment,{children:r.map(g=>{const N=Sm(g.variant,g.pose),b=a===g.id,D=un,j=N.imageUrl?1:N.scaleX,_=v||!!g.locked;return s.jsx("g",{transform:`translate(${g.position.x} ${g.position.y}) scale(${D*j} ${D})`,style:{cursor:v?"default":g.locked?"pointer":nm("/tsumami/"),pointerEvents:v?"none":"auto"},"data-testid":`stencil-${g.id}`,onPointerDown:B=>{if(B.button!==0)return;if(_){d(g.id);return}if(B.stopPropagation(),d(g.id),!f.current)return;y.current=!0,f.current&&(f.current.style.cursor=lm("/tsumami/"));const E=m.current(B),q={...g.position},Z=g.id;let V=q.x,Y=q.y;const P=Q=>{const W=m.current(Q),C=W.x-E.x,S=W.y-E.y;V=je(q.x+C,0,Oc),Y=je(q.y+S,0,Oc),o.current(L=>{const M=(L.stencils??[]).find(w=>w.id===Z);M&&(M.position.x=V,M.position.y=Y)},!1)},te=()=>{y.current=!1,f.current&&(f.current.style.cursor=""),document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",te),h.current=null,o.current(Q=>{const W=(Q.stencils??[]).find(C=>C.id===Z);W&&(W.position.x=V,W.position.y=Y)},!0)};document.addEventListener("pointermove",P),document.addEventListener("pointerup",te),h.current=()=>{y.current=!1,document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",te)}},children:N.imageUrl?s.jsxs(s.Fragment,{children:[s.jsx("image",{href:N.imageUrl,x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),s.jsx("rect",{x:-N.imageWidthMm/2,y:0,width:N.imageWidthMm,height:N.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):s.jsxs(s.Fragment,{children:[s.jsx("path",{d:N.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),s.jsx("path",{d:N.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&s.jsx("path",{d:N.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},g.id)})})}function Dm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:m,dashSyncToken:y,stageRef:d,multiTouchRef:h,clientToSvgPoint:v,togglePetalSelection:g,handleShiftFlowerSelect:N,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:j,beginRotationDrag:_,beginWidthScaleDrag:B,beginRadiusDrag:k,clickOriginRef:E,zoneActivatedRef:q,setZoneCursorValue:Z,setTouchZoneIndicator:V,hoverZoneRef:Y,hoverHitLayerIdRef:P,hoverHitPetalIndexRef:te}=c;return s.jsx(s.Fragment,{children:r.flowers.map(Q=>s.jsx(wm,{flower:Q,project:r,paletteMap:f,isSelected:a.kind!=="project"&&o===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===Q.id?a.petals:null,onSelect:()=>{const W=ba(r,Q.id);if(W&&!(a.kind==="group"&&a.groupId===W.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&W.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:W.id});return}i({kind:"flower",flowerId:Q.id})},onSelectLayer:W=>i({kind:"layer",flowerId:Q.id,layerId:W}),onSelectPetal:(W,C)=>i({kind:"petal",flowerId:Q.id,layerId:W,index:C}),onTogglePetalSelection:(W,C,S)=>g(Q.id,W,C,S),onShiftSelect:()=>N(Q.id),isGroupHighlighted:b.has(Q.id),zoneCursorValue:m,onBeginDragFromLayerPetal:(W,C,S)=>{if(h.current)return;const L=ba(r,Q.id);if(L&&!(a.kind==="group"&&a.groupId===L.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&L.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:L.id}),D(Q.id,S);return}const M=v(S),w=S.pointerType==="touch",A=a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="petal"&&a.flowerId===Q.id||a.kind==="petals"&&a.flowerId===Q.id;if(w&&A){const{zone:O,layerId:z,petalIndex:R}=ai(M.x,M.y,Q,r,a),{length:H}=It(Q.fabricSquareSize??r.fabricSquareSize),X=jc(O,a.kind,{hitLayerId:z,flower:Q,length:H});if(X!=="none"&&X!=="center"&&X!=="move"){V({x:M.x,y:M.y,zone:X});const le=a.kind==="layer"?"layer":"flower",ue=a.kind==="layer"?a.layerId:W;switch(X){case"rotate":_(le,Q.id,S,{layerId:ue});return;case"scale":j(le,Q.id,S,{layerId:ue});return;case"width":B(le,Q.id,S,{layerId:ue,petalIndex:R});return;case"radius":k(le,Q.id,S,{layerId:ue});return}}D(Q.id,S,{layerId:W,index:C});return}const G=q.current;E.current={x:M.x,y:M.y},q.current=!1;const I=Y.current;if(A&&(G||I!=="none"&&I!=="center")){const O=I,z=P.current,R=te.current,H=a.kind==="layer"?"layer":"flower",X=a.kind==="layer"?a.layerId:z??W;switch(O){case"rotate":_(H,Q.id,S,{layerId:X});return;case"scale":j(H,Q.id,S,{layerId:X});return;case"width":B(H,Q.id,S,{layerId:X,petalIndex:R});return;case"radius":k(H,Q.id,S,{layerId:X});return;default:Z(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/")),D(Q.id,S,{layerId:W,index:C});return}}Z(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/")),D(Q.id,S,{layerId:W,index:C})},onDoubleClick:()=>i({kind:"flower",flowerId:Q.id}),onPointerDown:W=>{if(h.current||W.button!==0)return;if(W.shiftKey){W.stopPropagation(),N(Q.id);return}const C=ba(r,Q.id);if(C&&!(a.kind==="group"&&a.groupId===C.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&C.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:C.id}),D(Q.id,W);return}a.kind==="flower"&&a.flowerId===Q.id||a.kind==="layer"&&a.flowerId===Q.id||a.kind==="flowers"&&a.flowerIds.includes(Q.id)||i({kind:"flower",flowerId:Q.id});const L=v(W);E.current={x:L.x,y:L.y},q.current=!1,Z(Pn("/tsumami/")),d.current&&(d.current.style.cursor=Pn("/tsumami/")),D(Q.id,W)},dashSyncToken:y},Q.id))})}function Nm(c){const{leaves:r,leafGroups:a,project:i,selection:f,paletteMap:o,dashSyncToken:m,leafGroupHighlightedLeafIds:y,zoneCursorValue:d,stageRef:h,applyUpdateRef:v,clientToSvgPointRef:g,leafDraggingRef:N,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:j,onSelectLeaf:_,onShiftSelectLeaf:B,hoverLeafZoneRef:k}=c,E=F.useRef(null);return F.useEffect(()=>()=>{E.current?.()},[]),s.jsx(s.Fragment,{children:r.map(q=>{if(!q.visible)return null;const Z=f.kind==="leaf"&&f.leafId===q.id,V=f.kind==="leaves"&&f.leafIds?.includes(q.id),Y=y.has(q.id),P=Xc({leaves:r,leafGroups:a},q.id),te=P?.rotation??0;let Q=q;if(P&&te!==0){const W=S2({leaves:r,leafGroups:a},P.id),C=te*Math.PI/180,S=q.position.x-W.x,L=q.position.y-W.y;Q={...q,position:{x:W.x+S*Math.cos(C)-L*Math.sin(C),y:W.y+S*Math.sin(C)+L*Math.cos(C)},rotation:q.rotation+te}}return s.jsx(Mm,{leaf:Q,project:i,paletteMap:o,isSelected:Z||V,isLeafGroupHighlighted:Y,dashSyncToken:m,cursor:Z?d:void 0,onPointerDown:W=>{if(q.locked)return;W.stopPropagation();const C=g.current(W),S=Z&&D.current;_(q.id),b.current={x:C.x,y:C.y},D.current=!1,j(Pn("/tsumami/")),h.current&&(h.current.style.cursor=Pn("/tsumami/"));const L=k.current,M=S||L!=="none"?L:"move";if(M!=="move"){const w=er(M,"/tsumami/");j(w),h.current&&(h.current.style.cursor=w)}if(N.current=!0,M==="rotate"){const w=Q.position,A=q.rotation,G=Math.atan2(C.y-w.y,C.x-w.x)*180/Math.PI;let I=!1;const O=R=>{const H=g.current(R),le=Math.atan2(H.y-w.y,H.x-w.x)*180/Math.PI-G;Math.abs(le)>.5&&(I=!0),v.current(ue=>{const oe=(ue.leaves??[]).find(_e=>_e.id===q.id);oe&&(oe.rotation=((A+le)%360+360)%360)},!1)},z=()=>{E.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),I&&v.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),E.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}else if(M==="scale"){const w=Q.position,A=q.scale??1,G=Math.max(1,Math.hypot(C.x-w.x,C.y-w.y));let I=!1;const O=R=>{const H=g.current(R),le=Math.hypot(H.x-w.x,H.y-w.y)/G;Math.abs(le-1)>.01&&(I=!0),v.current(ue=>{const oe=(ue.leaves??[]).find(_e=>_e.id===q.id);oe&&(oe.scale=je(A*le,.3,3))},!1)},z=()=>{E.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),I&&v.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),E.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}else if(M==="width"){const w=Q.position,A=q.rotation*Math.PI/180,G=-Math.sin(A),I=Math.cos(A),O=q.widthScale??1,z=Math.abs((C.x-w.x)*G+(C.y-w.y)*I),R=Math.max(1,z);let H=!1;const X=ue=>{const oe=g.current(ue),de=Math.abs((oe.x-w.x)*G+(oe.y-w.y)*I)/R;Math.abs(de-1)>.01&&(H=!0),v.current(we=>{const me=(we.leaves??[]).find(Ae=>Ae.id===q.id);me&&(me.widthScale=je(O*de,.3,3))},!1)},le=()=>{E.current=null,N.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le),H&&v.current(()=>{},!0)};document.addEventListener("pointermove",X),document.addEventListener("pointerup",le),E.current=()=>{N.current=!1,document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",le)}}else{const w=C,A=C2({leaves:r,leafGroups:a},q.id),G=new Map;for(const R of A){const H=r.find(X=>X.id===R);H&&G.set(R,{...H.position})}let I=!1;const O=R=>{const H=g.current(R),X=H.x-w.x,le=H.y-w.y;Math.abs(X)+Math.abs(le)>1&&(I=!0),v.current(ue=>{for(const[oe,_e]of G){const de=(ue.leaves??[]).find(we=>we.id===oe);de&&(de.position.x=je(_e.x+X,0,Oc),de.position.y=je(_e.y+le,0,Oc))}},!1)},z=()=>{E.current=null,N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z),I&&v.current(()=>{},!0)};document.addEventListener("pointermove",O),document.addEventListener("pointerup",z),E.current=()=>{N.current=!1,document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",z)}}},onShiftSelect:()=>B(q.id)},q.id)})})}function Am({rect:c}){return c?s.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Tm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?s.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[s.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),s.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ha=1350;function Lm(c){const{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,setZoom:m,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:h,setPan:v,showGrid:g,setShowGrid:N,setShowHelp:b,stageRef:D,viewBox:j,dashDelay:_,dashSyncToken:B,beginPan:k,updatePan:E,endPan:q,beginMarquee:Z,updateMarquee:V,endMarquee:Y,marqueeRef:P,marqueeRect:te,beginFlowerDrag:Q,updateFlowerDrag:W,endFlowerDrag:C,scaleDragRef:S,updateScaleDrag:L,endScaleDrag:M,rotationDragRef:w,updateRotationDrag:A,endRotationDrag:G,widthScaleDragRef:I,updateWidthScaleDrag:O,endWidthScaleDrag:z,radiusDragRef:R,updateRadiusDrag:H,endRadiusDrag:X,beginScaleDrag:le,beginRotationDrag:ue,beginWidthScaleDrag:oe,beginRadiusDrag:_e,togglePetalSelection:de,clientToSvgPoint:we}=c,me=F.useRef(!1),Ae=F.useRef(!1),$e=F.useRef(c.applyUpdate),ft=F.useRef(we);F.useEffect(()=>{$e.current=c.applyUpdate},[c.applyUpdate]),F.useEffect(()=>{ft.current=we},[we]);const[st,ht]=F.useState(!1),At=F.useRef(null);F.useEffect(()=>{if(!st)return;const xe=Be=>{At.current&&!At.current.contains(Be.target)&&ht(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[st]);const[_t,mt]=F.useState("grab"),Zt=F.useRef("none"),yn=F.useRef("none"),Rn=F.useRef(void 0),$n=F.useRef(void 0),Xe=F.useRef(null),pn=F.useRef(!0),_l=5,Wl=F.useRef(a.kind);F.useEffect(()=>{a.kind!==Wl.current&&(Wl.current=a.kind,pn.current=!1,Xe.current=null)},[a.kind]);const[kn,ga]=F.useState(!1),Yn=F.useRef(!1),[ui,Jl]=F.useState(null),el=5,Bt=10,We=jm({zoom:c.zoom,pan:c.pan,setZoom:m,setPan:v,zoomLevel:y,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:D,endPan:q,endFlowerDrag:C,endMarquee:Y,endRotationDrag:G,endScaleDrag:M,endWidthScaleDrag:z,endRadiusDrag:X});return s.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),s.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),s.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(1),disabled:y>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),s.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${y<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>We.zoomAtCenter(-1),disabled:y<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:s.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"10",cy:"10",r:"7"}),s.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),s.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),s.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>N(xe=>!xe),title:"","aria-label":"","aria-pressed":g,"data-testid":"btn-grid",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[s.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),s.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),s.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),s.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),s.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),s.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),s.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),s.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>We.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),s.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),s.jsxs("div",{className:"relative",ref:At,children:[s.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${st?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ht(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"5",r:"3"}),s.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),st&&s.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>s.jsxs("div",{children:[s.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Qd[xe]}),["right","left","back"].map(Be=>s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,Be),ht(!1)},"data-testid":`stencil-add-${xe}-${Be}`,children:Pd[Be]},`${xe}-${Be}`))]},xe)),c.selectedStencilId&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-1 border-t border-neutral-200"}),s.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),ht(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),s.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),s.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),s.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:g?"24px 1fr":"1fr",gridTemplateRows:g?"20px 1fr":"1fr"},children:[g&&s.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),g&&(()=>{const[xe,,Be,qe]=j.split(/\s+/).map(Number),Se=un,ge=Math.max(Be,qe)/Se,ze=[10,20,50,100,200,500,1e3].find(Te=>ge/Te<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,Oe=Math.floor(xe/Se/ve)*ve-ve,Ve=Math.ceil((xe+Be)/Se/ve)*ve+ve,Qe=[];for(let Te=Oe;Te<=Ve;Te+=ve){const Fe=(Te*Se-xe)/Be*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Te),et=Me%ze===0,tt=Me%Je===0,nt=et?10:tt?6:3;Qe.push(s.jsx("line",{x1:`${Fe}%`,y1:20-nt,x2:`${Fe}%`,y2:20,stroke:"#999",strokeWidth:et?.8:.4},Te)),et&&Qe.push(s.jsx("text",{x:`${Fe}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Te},`t${Te}`))}return s.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Qe})})(),g&&(()=>{const[,xe,Be,qe]=j.split(/\s+/).map(Number),Se=un,ge=Math.max(Be,qe)/Se,ze=[10,20,50,100,200,500,1e3].find(Te=>ge/Te<=15)??1e3,ve=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Je=ze<=10?5:ze/2,Oe=Math.floor(xe/Se/ve)*ve-ve,Ve=Math.ceil((xe+qe)/Se/ve)*ve+ve,Qe=[];for(let Te=Oe;Te<=Ve;Te+=ve){const Fe=(Te*Se-xe)/qe*100;if(Fe<-2||Fe>102)continue;const Me=Math.abs(Te),et=Me%ze===0,tt=Me%Je===0,nt=et?10:tt?6:3;Qe.push(s.jsx("line",{x1:24-nt,y1:`${Fe}%`,x2:24,y2:`${Fe}%`,stroke:"#999",strokeWidth:et?.8:.4},Te)),et&&Qe.push(s.jsx("text",{x:12,y:`${Fe}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Te},`t${Te}`))}return s.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Qe})})(),s.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":_,cursor:kn?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(ga(Be=>!Be),i({kind:"project"}))},onPointerDown:xe=>{if(We.multiTouchRef.current)return;if(xe.button===1){Yn.current=!0,D.current&&(D.current.style.cursor="grabbing"),k(xe);return}if(xe.button!==0)return;const Be=xe.pointerType==="touch";if(Be&&xe.target===xe.currentTarget&&o){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(ge=>ge.id===o);if(Se){const ge=we(xe),{zone:Ne,layerId:ze,petalIndex:ve}=ai(ge.x,ge.y,Se,r,a),{length:Je}=It(Se.fabricSquareSize??r.fabricSquareSize),Oe=jc(Ne,a.kind,{hitLayerId:ze,flower:Se,length:Je});if(Oe!=="none"&&Oe!=="center"){Jl({x:ge.x,y:ge.y,zone:Oe});const Ve=a.kind==="layer"?"layer":"flower",Qe=a.kind==="layer"?a.layerId:ze;switch(Oe){case"rotate":ue(Ve,o,xe,{layerId:Qe});return;case"scale":le(Ve,o,xe,{layerId:Qe});return;case"width":oe(Ve,o,xe,{layerId:Qe,petalIndex:ve});return;case"radius":_e(Ve,o,xe,{layerId:Qe});return;case"move":Q(o,xe);return}}}}We.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe);return}if(xe.target===xe.currentTarget&&o&&_t!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Zt.current;if(Se!=="none"&&Se!=="center"){const ge=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:Rn.current;switch(Se){case"rotate":ue(ge,o,xe,{layerId:Ne});return;case"scale":le(ge,o,xe,{layerId:Ne});return;case"width":oe(ge,o,xe,{layerId:Ne,petalIndex:$n.current});return;case"radius":_e(ge,o,xe,{layerId:Ne});return;case"move":Q(o,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&_t!=="grab"){const qe=yn.current;if(qe!=="none"){const Se=c.leaves.find(ge=>ge.id===c.selectedLeafId);if(Se){xe.preventDefault();const ge=we(xe);if(Ae.current=!0,qe==="rotate"){const Ne=Se.position,ze=Se.rotation,ve=Math.atan2(ge.y-Ne.y,ge.x-Ne.x)*180/Math.PI,Je=Se.id,Oe=er(qe,"/tsumami/");mt(Oe),D.current&&(D.current.style.cursor=Oe);let Ve=!1;const Qe=gt=>{const Fe=we(gt),et=Math.atan2(Fe.y-Ne.y,Fe.x-Ne.x)*180/Math.PI-ve;Math.abs(et)>.5&&(Ve=!0),c.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(_n=>_n.id===Je);nt&&(nt.rotation=((ze+et)%360+360)%360)},!1)},Te=()=>{Ae.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Te),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Te);return}else if(qe==="scale"){const Ne=Se.position,ze=Se.scale??1,ve=Math.max(1,Math.hypot(ge.x-Ne.x,ge.y-Ne.y)),Je=Se.id,Oe=er(qe,"/tsumami/");mt(Oe),D.current&&(D.current.style.cursor=Oe);let Ve=!1;const Qe=gt=>{const Fe=we(gt),et=Math.hypot(Fe.x-Ne.x,Fe.y-Ne.y)/ve;Math.abs(et-1)>.01&&(Ve=!0),c.applyUpdate(tt=>{const nt=(tt.leaves??[]).find(_n=>_n.id===Je);nt&&(nt.scale=Math.max(.3,Math.min(3,ze*et)))},!1)},Te=()=>{Ae.current=!1,document.removeEventListener("pointermove",Qe),document.removeEventListener("pointerup",Te),Ve&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Qe),document.addEventListener("pointerup",Te);return}else if(qe==="width"){const Ne=Se.position,ze=Se.rotation*Math.PI/180,ve=-Math.sin(ze),Je=Math.cos(ze),Oe=Se.widthScale??1,Ve=Math.max(1,Math.abs((ge.x-Ne.x)*ve+(ge.y-Ne.y)*Je)),Qe=Se.id,Te=er(qe,"/tsumami/");mt(Te),D.current&&(D.current.style.cursor=Te);let gt=!1;const Fe=et=>{const tt=we(et),_n=Math.abs((tt.x-Ne.x)*ve+(tt.y-Ne.y)*Je)/Ve;Math.abs(_n-1)>.01&&(gt=!0),c.applyUpdate(ya=>{const Vl=(ya.leaves??[]).find(Sn=>Sn.id===Qe);Vl&&(Vl.widthScale=Math.max(.3,Math.min(3,Oe*_n)))},!1)},Me=()=>{Ae.current=!1,document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Me),gt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Me);return}else{const Ne=ge,ze={...Se.position},ve=Se.id;mt(Pn("/tsumami/")),D.current&&(D.current.style.cursor=Pn("/tsumami/"));let Je=!1;const Oe=Qe=>{const Te=we(Qe),gt=Te.x-Ne.x,Fe=Te.y-Ne.y;Math.abs(gt)+Math.abs(Fe)>1&&(Je=!0),c.applyUpdate(Me=>{const et=(Me.leaves??[]).find(tt=>tt.id===ve);et&&(et.position.x=Math.max(0,Math.min(ha,ze.x+gt)),et.position.y=Math.max(0,Math.min(ha,ze.y+Fe)))},!1)},Ve=()=>{Ae.current=!1,document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Ve),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Ve);return}}}}if(xe.target===xe.currentTarget){Be?(We.setTouchBgStart({x:xe.clientX,y:xe.clientY}),k(xe)):kn?Z(xe):(We.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Yn.current=!0,D.current&&(D.current.style.cursor="grabbing"),k(xe));return}},onPointerMove:xe=>{if(me.current||Ae.current)return;if(P.current){V(xe);return}if(w.current){A(xe);return}if(S.current){L(xe);return}if(I.current){O(xe);return}if(R.current){H(xe);return}W(xe),E(xe);const Be=!!c.dragRef?.current||!!P.current||!!w.current||!!S.current||!!I.current||!!R.current||Yn.current,qe=o&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Be&&qe){const Se=r.flowers.find(ge=>ge.id===o);if(Se){const ge=we(xe);if(Xe.current&&!pn.current){if(Math.hypot(ge.x-Xe.current.x,ge.y-Xe.current.y)<_l){const{zone:Te}=ai(ge.x,ge.y,Se,r,a);Te==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}pn.current=!0,Xe.current=null}const{zone:Ne,layerId:ze,petalIndex:ve}=ai(ge.x,ge.y,Se,r,a),{length:Je}=It(Se.fabricSquareSize??r.fabricSquareSize),Oe=jc(Ne,a.kind,{hitLayerId:ze,flower:Se,length:Je});Oe!=="none"&&(Zt.current=Oe,Rn.current=ze,$n.current=ve);const Ve=Yd(Oe,"/tsumami/");mt(Ve),D.current&&(D.current.style.cursor=Ve)}}if(!Be&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(ge=>ge.id===c.selectedLeafId);if(Se){const ge=we(xe);if(Xe.current&&!pn.current){if(Math.hypot(ge.x-Xe.current.x,ge.y-Xe.current.y)<_l)return;pn.current=!0,Xe.current=null}const Ne=tm(ge.x,ge.y,Se,r);Ne!=="none"&&(yn.current=Ne);const ze=er(Ne,"/tsumami/");mt(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:xe=>{if(!me.current&&!Ae.current){if(Jl(null),P.current&&kn&&ga(!1),Y(),G(),M(),z(),X(),C(),q(),Yn.current&&(Yn.current=!1,D.current&&(D.current.style.cursor=kn?"crosshair":"grab")),We.touchBgStartRef.current&&xe.pointerType==="touch"){const Be=xe.clientX-We.touchBgStartRef.current.x,qe=xe.clientY-We.touchBgStartRef.current.y;Math.hypot(Be,qe)<Bt&&i({kind:"project"}),We.setTouchBgStart(null);return}if(We.setTouchBgStart(null),We.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Be=xe.clientX-We.mouseBgStartRef.current.x,qe=xe.clientY-We.mouseBgStartRef.current.y;if(We.setMouseBgStart(null),Math.hypot(Be,qe)<el){i({kind:"project"});return}}if(We.setMouseBgStart(null),o){const Be=r.flowers.find(qe=>qe.id===o);if(Be){const qe=we(xe);if(Xe.current&&Math.hypot(qe.x-Xe.current.x,qe.y-Xe.current.y)<_l){const{zone:Ve}=ai(qe.x,qe.y,Be,r,a);Ve==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:ge,petalIndex:Ne}=ai(qe.x,qe.y,Be,r,a),{length:ze}=It(Be.fabricSquareSize??r.fabricSquareSize),ve=jc(Se,a.kind,{hitLayerId:ge,flower:Be,length:ze});ve!=="none"&&(Zt.current=ve,Rn.current=ge,$n.current=Ne);const Je=Yd(ve,"/tsumami/");mt(Je),D.current&&(D.current.style.cursor=Je)}}}},onPointerLeave:()=>{Y(),G(),M(),z(),X(),C(),q(),Yn.current=!1,We.setTouchBgStart(null),We.setMouseBgStart(null),mt("grab"),Xe.current=null,pn.current=!0,Zt.current="none",yn.current="none",Rn.current=void 0,$n.current=void 0},children:[s.jsx("title",{children:""}),s.jsx("defs",{children:s.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Be,qe,Se]=j.split(/\s+/).map(Number),ge=ha;return s.jsxs("g",{pointerEvents:"none",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"canvas-mask",children:[s.jsx("rect",{x:xe,y:Be,width:qe,height:Se,fill:"white"}),s.jsx("rect",{x:0,y:0,width:ge,height:ge,fill:"black"})]})}),s.jsx("rect",{x:xe,y:Be,width:qe,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),s.jsx("rect",{x:0,y:0,width:ha,height:ha,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:ha,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),s.jsx("line",{x1:0,y1:0,x2:0,y2:ha,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),g&&(()=>{const xe=un,[Be,qe,Se,ge]=j.split(/\s+/).map(Number),Ne=Math.max(Se,ge)/xe,ve=[10,20,50,100,200,500,1e3].find(tt=>Ne/tt<=15)??1e3,Je=Math.floor(Be/xe/ve)*ve-ve,Oe=Math.ceil((Be+Se)/xe/ve)*ve+ve,Ve=Math.floor(qe/xe/ve)*ve-ve,Qe=Math.ceil((qe+ge)/xe/ve)*ve+ve,Te=Ve*xe,gt=Qe*xe,Fe=Je*xe,Me=Oe*xe,et=[];for(let tt=Je;tt<=Oe;tt+=ve){const nt=tt*xe;et.push(s.jsx("line",{x1:nt,y1:Te,x2:nt,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${tt}`))}for(let tt=Ve;tt<=Qe;tt+=ve){const nt=tt*xe;et.push(s.jsx("line",{x1:Fe,y1:nt,x2:Me,y2:nt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${tt}`))}return s.jsx("g",{children:et})})(),s.jsx(zm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:$e,clientToSvgPointRef:ft,stencilDraggingRef:me,onSelectStencil:c.onSelectStencil}),s.jsx(Dm,{project:r,selection:a,setSelection:i,paletteMap:f,selectedFlowerId:o,zoneCursorValue:_t,dashSyncToken:B,stageRef:D,multiTouchRef:We.multiTouchRef,clientToSvgPoint:we,togglePetalSelection:de,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:Q,beginScaleDrag:le,beginRotationDrag:ue,beginWidthScaleDrag:oe,beginRadiusDrag:_e,clickOriginRef:Xe,zoneActivatedRef:pn,setZoneCursorValue:mt,setTouchZoneIndicator:Jl,hoverZoneRef:Zt,hoverHitLayerIdRef:Rn,hoverHitPetalIndexRef:$n}),s.jsx(Nm,{leaves:c.leaves,leafGroups:c.leafGroups,project:r,selection:a,paletteMap:f,dashSyncToken:B,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:_t,stageRef:D,applyUpdateRef:$e,clientToSvgPointRef:ft,leafDraggingRef:Ae,clickOriginRef:Xe,zoneActivatedRef:pn,setZoneCursorValue:mt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:yn}),s.jsx(Am,{rect:te}),s.jsx(Tm,{indicator:ui})]})]}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Id(c,r,a){return Math.min(a,Math.max(r,c))}function He({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:f,className:o,...m}){const[y,d]=F.useState(null),h=F.useRef(null),v=F.useCallback(b=>{const D=Number(b);isNaN(D)||r(Id(D,a,i)),d(null)},[r,a,i]),g=F.useCallback(()=>{d(null)},[]),N=F.useCallback(b=>{const D=f??1,_=(Number(y??c)||0)+D*b,B=Id(_,a,i),k=String(D).includes(".")?String(D).split(".")[1].length:0,E=Number(B.toFixed(k));d(String(E)),r(E)},[y,c,f,a,i,r]);return s.jsxs("div",{className:"relative flex",children:[s.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:o??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:y??String(c),onChange:b=>d(b.target.value),onFocus:b=>{d(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{y!==null&&v(y)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),y!==null&&v(y),h.current?.blur()):b.key==="Escape"?(b.preventDefault(),g(),h.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),N(b.key==="ArrowUp"?1:-1))},...m}),s.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),N(1)},children:""}),s.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),N(-1)},children:""})]})]})}function sr({title:c,compact:r,children:a}){return s.jsxs("div",{className:r?"mt-3":"mt-4",children:[s.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),s.jsx("div",{className:"space-y-3",children:a})]})}function Em({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const o=F.useMemo(()=>{const _=[...c.layers||[]].sort((te,Q)=>te.order-Q.order);if(_.length<2)return{mode:"uniform",step:2};const B=_.map(te=>te.scale??1);if(B.every(te=>Math.abs(te-B[0])<.001))return{mode:"uniform",step:2};const E=_[0],q=_[_.length-1],Z=(q.order??1)-(E.order??1);if(Z<=0)return{mode:"gradual",step:2};const Y=((E.scale??1)-(q.scale??1))/Z,P=Math.round(Y*r*2)/2;return{mode:"gradual",step:je(P,0,10)}},[c.id]),[m,y]=F.useState(o.mode),[d,h]=F.useState(o.step),[v,g]=F.useState(0);F.useEffect(()=>{y(o.mode),h(o.step),g(0)},[o]);const N=F.useMemo(()=>[...c.layers||[]].sort((_,B)=>_.order-B.order),[c.layers]),b=N[0],D=b?b.order:0,j=F.useMemo(()=>{if(!b)return[];const _=b.scale??1,B=b.radius,k=new Map;for(const te of N){const Q=te.order-D;if(Q===0)k.set(te.id,_);else if(m==="uniform")k.set(te.id,_);else{const W=d/r;k.set(te.id,je(_-Q*W,.3,3))}}const{length:E}=It(r),q=N.length,Z=70*Math.PI/180,V=new Map;let Y=B;V.set(b.id,B);for(let te=1;te<q;te++){const Q=N[te-1],W=k.get(Q.id)??1,C=E*W;let S;if(a===""){const L=q-1-te,M=q>1?L/(q-1)*Z:0;S=C*(30/100)*Math.cos(M)}else S=C/3;Y=Y-S,V.set(N[te].id,Math.max(2,Y))}const P=N.map(te=>{const Q=k.get(te.id)??1,W=Math.round((V.get(te.id)??B)*10)/10,C=Math.round(r*Q*10)/10;return{id:te.id,name:te.name,order:te.order,effScale:Q,effFabricSize:C,effRadius:W}});if(P.length>0){const te=P[P.length-1],Q=E*te.effScale,W=Math.floor(Q*.28*10)/10;te.effRadius>W&&(te.effRadius=W)}return P},[N,b,D,m,d,30,r,a]);return F.useEffect(()=>{v!==0&&(!b||j.length===0||i(_=>{const B=_.flowers.find(E=>E.id===c.id);if(!B)return;for(const E of j){const q=B.layers.find(Z=>Z.id===E.id);q&&(q.scale=je(E.effScale,.3,3),q.radius=je(E.effRadius,2,120))}const k=[...B.layers].sort((E,q)=>q.order-E.order);for(let E=1;E<k.length;E++){const q=k[E-1],Z=k[E];Z.offsetAngle=Fn(q.petalCount,q.offsetAngle,Z.petalCount)}}))},[v]),N.length<2?null:s.jsxs(sr,{title:"",children:[s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),s.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,onChange:_=>{y(_.target.value),g(B=>B+1)},children:[s.jsx("option",{value:"uniform",children:""}),s.jsx("option",{value:"gradual",children:""})]})]}),m==="gradual"&&s.jsxs(ps,{children:[s.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),s.jsx(He,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:_=>{h(_),g(B=>B+1)}}),s.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),s.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[s.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(_=>s.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[s.jsx("span",{children:_.name}),s.jsxs("span",{children:[" ",_.effFabricSize,"mm /  ",Math.round(nr(_.effRadius,_.effScale,r)),"mm"]})]},_.id))]})]})}const Fd="tsumami_recent_colors_v1",qs=10;function Bm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const f of i.petalOverrides)f.colorId&&r.add(f.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Ms(){try{const c=localStorage.getItem(Fd);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,qs)}}catch{}return[]}function qm(c){try{localStorage.setItem(Fd,JSON.stringify(c.slice(0,qs)))}catch{}}function Gm(c){const r=Ms(),a=[c,...r.filter(i=>i!==c)].slice(0,qs);qm(a)}function Xn({palette:c,project:r,selectedColorId:a,onChange:i,size:f="md"}){const[o,m]=F.useState(!1),y=F.useRef(null),[d,h]=F.useState(Ms);F.useEffect(()=>{if(!o)return;const j=_=>{y.current&&!y.current.contains(_.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[o]);const v=F.useMemo(()=>Bm(r),[r]),g=F.useMemo(()=>{const j=new Set;j.add(a);for(const _ of v)j.add(_);for(const _ of d)j.add(_);return c.filter(_=>j.has(_.id))},[c,a,v,d]),N=F.useCallback(j=>{Gm(j),h(Ms()),i(j)},[i]),b=f==="sm"?"h-4 w-4":"h-5 w-5",D=o?c:g;return s.jsx("div",{ref:y,children:s.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(j=>s.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>N(j.id)},j.id)),c.length>g.length&&s.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>m(j=>!j),title:o?"":"","aria-label":o?"":"",children:s.jsx("svg",{width:f==="sm"?8:10,height:f==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:o?s.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):s.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Rm({project:c,applyUpdate:r,selectedFlower:a}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(i=>{const f=a.layers.every(o=>o.petalType===i);return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const m=o.flowers.find(y=>y.id===a.id);if(m)for(const y of m.layers)y.petalType=i}),children:i},i)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:Xd.map(i=>{const f=a.placementMode??"";return s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${f===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{f!==i&&r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;m.placementMode=i;const y=m.fabricSquareSize??o.fabricSquareSize;i===""?m.baseDiameter=tr(m.flowerDiameter):m.baseDiameter||(m.baseDiameter=o.baseDiameter),E2(m.layers,y,i,m.flowerDiameter)},!0)},children:i},i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?s.jsx(He,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.baseDiameter=i)})}):s.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[tr(a.flowerDiameter),"mm"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(f=>{const o=f.flowers.find(d=>d.id===a.id);if(!o)return;const m=ci(i);for(const d of o.layers)d.petalCount=i,d.widthScale=m;const y=[...o.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<y.length;d++)y[d].offsetAngle=Fn(y[d-1].petalCount,y[d-1].offsetAngle,y[d].petalCount)})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(He,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(f=>{const o=f.flowers.find(y=>y.id===a.id);if(!o)return;o.flowerDiameter=i,o.placementMode===""&&(o.baseDiameter=tr(i));const m=[...o.layers].sort((y,d)=>y.order-d.order);Wc(m,o.fabricSquareSize??f.fabricSquareSize,i);for(const y of m){const d=o.layers.find(h=>h.id===y.id);d&&(d.radius=y.radius,d.scale=y.scale)}})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)m.widthScale=i})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o&&(o.rotation=i)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)m.colorId=i})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);if(o)for(const m of o.layers)if(i.target.checked){if(!m.doublePetal){const y=m._doublePetalCache;m.doublePetal=y??{innerSizeReduction:2},delete m._doublePetalCache}}else m.doublePetal&&(m._doublePetalCache={...m.doublePetal}),delete m.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(y=>y.doublePetal.innerSizeReduction))],f=i.length===1?i[0]:null,o=[...new Set(a.layers.map(y=>y.doublePetal.innerColorId??y.colorId))],m=o.length===1?o[0]:null;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{min:1,max:30,step:1,value:f??"",placeholder:"",onChange:y=>r(d=>{const h=d.flowers.find(v=>v.id===a.id);if(h)for(const v of h.layers)v.doublePetal&&(v.doublePetal.innerSizeReduction=je(y,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:m??"",onChange:y=>r(d=>{const h=d.flowers.find(v=>v.id===a.id);if(h)for(const v of h.layers)v.doublePetal&&(y===v.colorId?delete v.doublePetal.innerColorId:v.doublePetal.innerColorId=y)})})]})]})})(),s.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),s.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[s.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-1",children:Y2.map(i=>s.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.type=i,i===""&&!o.center.pepCount&&(o.center.pepCount=12),i===""&&!o.center.color2&&(o.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.size=i)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.color=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.color2=i)})})]}),a.center.type===""&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(f=>{const o=f.flowers.find(m=>m.id===a.id);o?.center&&(o.center.pepCount=i)})})]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&delete f.center}),children:""})]}):s.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const f=i.flowers.find(o=>o.id===a.id);f&&(f.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),s.jsx(Em,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function km({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:f,onAddToGroup:o,onMergeGroups:m}){const y=a,d=[...new Set(y.flatMap(g=>g.layers.map(N=>N.petalType)))],h=d.length===1?d[0]:null,v=g=>{r(N=>{for(const b of y){const D=N.flowers.find(j=>j.id===b.id);D&&g(D)}},!0)};return s.jsxs(sr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>v(N=>{for(const b of N.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(N=>{for(const b of N.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(He,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const N=ci(g);v(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=N;const D=[...b.layers].sort((j,_)=>_.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Fn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),(()=>{const g=y.map(_=>ba(c,_.id)),N=y.filter(_=>!ba(c,_.id)).map(_=>_.id),b=[...new Set(g.filter(Boolean).map(_=>_.id))],D=N.length===y.length,j=b.length===1&&g.every(_=>_!=null);return s.jsxs(s.Fragment,{children:[D&&y.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(y.map(_=>_.id)),children:""}),j&&s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(b[0]),children:""}),b.length===1&&N.length>0&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>o(b[0],N),children:[" (+",N.length,")"]}),b.length>=2&&s.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>m(b,N),children:[" (",b.length,"",N.length>0?` +${N.length}`:"",")"]})]})})()]})}function Ym({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:f,onUngroupFlowers:o}){const m=i.find(g=>g.id===f);if(!m)return null;const y=a,d=[...new Set(y.flatMap(g=>g.layers.map(N=>N.petalType)))],h=d.length===1?d[0]:null,v=g=>{r(N=>{for(const b of y){const D=N.flowers.find(j=>j.id===b.id);D&&g(D)}},!0)};return s.jsxs(sr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:m.name,onChange:g=>r(N=>{const b=(N.groups??[]).find(D=>D.id===m.id);b&&(b.name=g.target.value)})})]}),s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[y.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(g=>s.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:g.hex},title:g.name,onClick:()=>v(N=>{for(const b of N.layers)b.colorId=g.id})},g.id))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>v(N=>{for(const b of N.layers)b.petalType=g}),children:g},g))}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(He,{min:5,max:24,value:y[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:g=>{const N=ci(g);v(b=>{for(const j of b.layers)j.petalCount=g,j.widthScale=N;const D=[...b.layers].sort((j,_)=>_.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Fn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),s.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:y.map(g=>s.jsxs("div",{children:[g.name," (",g.layers.length,")"]},g.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(m.id),children:""})]})}function Om({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",s.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.name=f.target.value)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(f=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===f?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.petalType=f)}),children:f},f))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:5,max:24,value:i.petalCount,onChange:f=>{r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);if(y){y.petalCount=f,y.widthScale=ci(f);const d=[...m.layers].sort((h,v)=>v.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=Fn(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(He,{min:1,max:200,step:.5,value:Math.round(nr(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.radius=je(L2(f,y.scale??1,m.fabricSquareSize??o.fabricSquareSize),2,200))})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(He,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:f=>r(o=>{const m=o.flowers.find(g=>g.id===a.id);if(!m)return;const y=m.layers.find(g=>g.id===i.id);if(!y)return;const d=m.fabricSquareSize??o.fabricSquareSize;y.scale=je(Math.round(f/d*100)/100,.3,3);const h=[...m.layers].sort((g,N)=>g.order-N.order),v=h.findIndex(g=>g.id===y.id);if(v>=0)for(let g=v-1;g>=0;g--){const N=h[g],b=h[g+1],j=It(d).length*(b.scale??1)/3;N.radius=Math.round((b.radius+j)*10)/10}})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.scale=f)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.widthScale=f)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{value:Number(i.offsetAngle??0).toFixed(1),onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.offsetAngle=f)})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.colorId=f)})})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);if(y)if(f.target.checked){const d=y._doublePetalCache;y.doublePetal=d??{innerSizeReduction:2},delete y._doublePetalCache}else y.doublePetal&&(y._doublePetalCache={...y.doublePetal}),delete y.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y?.doublePetal&&(y.doublePetal.innerSizeReduction=je(f,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y?.doublePetal&&(f===y.colorId?delete y.doublePetal.innerColorId:y.doublePetal.innerColorId=f)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.visible=f.target.checked)})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:f=>r(o=>{const m=o.flowers.find(d=>d.id===a.id);if(!m)return;const y=m.layers.find(d=>d.id===i.id);y&&(y.locked=f.target.checked)})}),""]})]})]})]})}function Im({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const f=i,o=f.map(_=>{const B=a.layers.find(k=>k.id===_.layerId);return{..._,layer:B}}).filter(_=>_.layer!=null),m=(_,B)=>{const k=a.layers.find(q=>q.id===_);return k?(k?.petalOverrides?.find(q=>q.index===B)??null)?.colorId??k.colorId:null},y=(_,B)=>{const k=a.layers.find(q=>q.id===_);return k?(k?.petalOverrides?.find(q=>q.index===B)??null)?.petalType??k.petalType:null},d=o.map(_=>m(_.layerId,_.index)),h=o.map(_=>y(_.layerId,_.index)),v=d.length>0&&d.every(_=>_===d[0]),N=h.length>0&&h.every(_=>_===h[0])?h[0]:null,b=_=>{r(B=>{const k=B.flowers.find(E=>E.id===a.id);if(k)for(const E of f){const q=k.layers.find(V=>V.id===E.layerId);if(!q)continue;q.petalOverrides||(q.petalOverrides=[]);const Z=q.petalOverrides.find(V=>V.index===E.index);if(Z)_.colorId!==void 0&&(_.colorId===q.colorId?delete Z.colorId:Z.colorId=_.colorId),_.petalType!==void 0&&(_.petalType===q.petalType?delete Z.petalType:Z.petalType=_.petalType),!Z.colorId&&!Z.petalType&&(q.petalOverrides=q.petalOverrides.filter(V=>V.index!==E.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0));else{const V={index:E.index};_.colorId!==void 0&&_.colorId!==q.colorId&&(V.colorId=_.colorId),_.petalType!==void 0&&_.petalType!==q.petalType&&(V.petalType=_.petalType),(V.colorId!==void 0||V.petalType!==void 0)&&q.petalOverrides.push(V)}}},!0)},D=()=>{r(_=>{const B=_.flowers.find(k=>k.id===a.id);if(B)for(const k of f){const E=B.layers.find(q=>q.id===k.layerId);!E||!E.petalOverrides||(E.petalOverrides=E.petalOverrides.filter(q=>q.index!==k.index),E.petalOverrides.length===0&&(E.petalOverrides=void 0))}},!0)},j=o.some(_=>_.layer?.petalOverrides?.find(B=>B.index===_.index)!=null);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",f.length,")"]}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[f.length,"",j&&" ()"]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(_=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${v&&d[0]===_.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:_.hex},title:_.name,"aria-label":`: ${_.name}`,onClick:()=>b({colorId:_.id})},_.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(_=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${N===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:_}),children:_},_))})]}),j&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Hm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:f}){const o=i?.petalOverrides?.find(g=>g.index===f)??null,m=o?.colorId??i.colorId,y=o?.petalType??i.petalType,d=o!=null,h=g=>{r(N=>{const b=N.flowers.find(_=>_.id===a.id);if(!b)return;const D=b.layers.find(_=>_.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const j=D.petalOverrides.find(_=>_.index===f);if(j)g.colorId!==void 0&&(j.colorId=g.colorId),g.petalType!==void 0&&(j.petalType=g.petalType),g.innerColorId!==void 0&&(j.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(j.innerSizeReduction=g.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(B=>B.index!==f),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const _={index:f};g.colorId!==void 0&&(_.colorId=g.colorId),g.petalType!==void 0&&(_.petalType=g.petalType),g.innerColorId!==void 0&&(_.innerColorId=g.innerColorId),g.innerSizeReduction!==void 0&&(_.innerSizeReduction=g.innerSizeReduction),(_.colorId!==void 0||_.petalType!==void 0||_.innerColorId!==void 0||_.innerSizeReduction!==void 0)&&D.petalOverrides.push(_)}},!0)},v=()=>{r(g=>{const N=g.flowers.find(D=>D.id===a.id);if(!N)return;const b=N.layers.find(D=>D.id===i.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==f),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",f+1,d&&s.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:m,onChange:g=>{g===i.colorId?h({colorId:void 0}):h({colorId:g})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(g=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===g?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{g===i.petalType?h({petalType:void 0}):h({petalType:g})},children:g},g))})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:g=>r(N=>{const b=N.flowers.find(j=>j.id===a.id);if(!b)return;const D=b.layers.find(j=>j.id===i.id);if(D)if(g.target.checked){const j=D._doublePetalCache;D.doublePetal=j??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),s.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const g=i.doublePetal,N=o?.innerSizeReduction??g.innerSizeReduction,b=o?.innerColorId??g.innerColorId??m;return s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",o?.innerSizeReduction!==void 0&&s.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),s.jsx(He,{min:1,max:30,step:1,value:N,onChange:D=>{const j=je(D,1,30);j===g.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:j})}})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:D=>{const j=g.innerColorId??i.colorId;h(D===j?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:v,children:""})]})]})}function Um({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const f=a,o=m=>{r(y=>{const d=(y.stencils??[]).find(h=>h.id===f.id);d&&Object.assign(d,m)},!0)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.variant,onChange:m=>o({variant:m.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(m=>s.jsx("option",{value:m,children:Qd[m]},m))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),s.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:f.pose,onChange:m=>o({pose:m.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(m=>s.jsx("option",{value:m,children:Pd[m]},m))})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[s.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!f.locked,onChange:m=>o({locked:m.target.checked})}),s.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),s.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(f.position.x/2.7),"mm, ",Math.round(f.position.y/2.7),"mm)"]}),s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(f.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:c,applyUpdate:r,selectedLeaf:a,leafGroups:i,onDeleteLeaf:f,onAddLeafToGroup:o,onRemoveLeafFromGroup:m}){const y=a,d=v=>{r(g=>{const N=(g.leaves??[]).find(b=>b.id===y.id);N&&v(N)},!0)},h=Xc(c,y.id);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:y.name,onChange:v=>d(g=>{g.name=v.target.value}),"data-testid":"prop-leaf-name"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(v=>s.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y.petalType===v?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(g=>{g.petalType=v}),children:v},v))})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:y.colorId,onChange:v=>d(g=>{g.colorId=v})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),s.jsx(He,{min:3,max:80,step:.5,value:Math.round((y.fabricSquareSize??c.fabricSquareSize)*(y.scale??1)*10)/10,onChange:v=>d(g=>{const N=g.fabricSquareSize??c.fabricSquareSize;g.scale=je(Math.round(v/N*100)/100,.3,3)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:.4,max:2.5,step:.05,value:Number(y.scale??1).toFixed(2),onChange:v=>d(g=>{g.scale=v})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx(He,{min:.5,max:1.8,step:.05,value:Number(y.widthScale??1).toFixed(2),onChange:v=>d(g=>{g.widthScale=v})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(He,{value:Number(y.rotation).toFixed(1),onChange:v=>d(g=>{g.rotation=v})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.doublePetal,onChange:v=>d(g=>{if(v.target.checked){const N=g._doublePetalCache;g.doublePetal=N??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal})}),s.jsx("span",{className:"text-xs",children:""})]})}),y.doublePetal&&s.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[s.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{min:1,max:30,step:1,value:y.doublePetal.innerSizeReduction,onChange:v=>d(g=>{g.doublePetal&&(g.doublePetal.innerSizeReduction=je(v,1,30))})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:y.doublePetal.innerColorId??y.colorId,onChange:v=>d(g=>{g.doublePetal&&(v===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=v)})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.visible,onChange:v=>d(g=>{g.visible=v.target.checked})}),""]}),s.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"rounded",checked:!!y.locked,onChange:v=>d(g=>{g.locked=v.target.checked})}),""]})]}),h?s.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,s.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>m(y.id),children:""})]}):i.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:v=>{v.target.value&&o(y.id,v.target.value)},children:[s.jsx("option",{value:"",children:"..."}),i.map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})]}):null,s.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>f(y.id),children:""})]})]})}function Km({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i}){const f=(c.leaves??[]).filter(o=>a.includes(o.id));return f.length===0?null:s.jsxs(sr,{title:" ",children:[s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[f.length,""]}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx(Xn,{palette:c.palette,project:c,selectedColorId:"",onChange:o=>r(m=>{for(const y of a){const d=(m.leaves??[]).find(h=>h.id===y);d&&(d.colorId=o)}},!0)}),s.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),s.jsx("div",{className:"flex gap-1",children:pl.map(o=>s.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(m=>{for(const y of a){const d=(m.leaves??[]).find(h=>h.id===y);d&&(d.petalType=o)}},!0),children:o},o))}),a.length>=2&&s.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""})]})}function Xm({project:c,applyUpdate:r,selectedLeafGroup:a,onUngroupLeaves:i}){const f=a,o=(c.leaves??[]).filter(m=>f.leafIds.includes(m.id));return s.jsxs(sr,{title:"",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:f.name,onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===f.id);d&&(d.name=m.target.value)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),s.jsx(He,{value:Number(f.rotation).toFixed(1),onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===f.id);d&&(d.rotation=m)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:f.linkedFlowerGroupId??"",onChange:m=>r(y=>{const d=(y.leafGroups??[]).find(h=>h.id===f.id);d&&(m.target.value?d.linkedFlowerGroupId=m.target.value:delete d.linkedFlowerGroupId)},!0),children:[s.jsx("option",{value:"",children:""}),(c.groups??[]).map(m=>s.jsx("option",{value:m.id,children:m.name},m.id))]})]}),s.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[o.length,""]}),s.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:o.map(m=>s.jsx("div",{children:m.name},m.id))}),s.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>i(f.id),children:""})]})}function Wm(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:f,selectedFlowers:o,selectedLayer:m,selectedPetalIndex:y,selectedPetals:d}=c;return s.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[s.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),s.jsxs("div",{className:"mt-1 space-y-1.5",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(v=>v.title=h.target.value),"data-testid":"prop-project-title"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(v=>v.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),s.jsx(He,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(v=>v.baseDiameter=h),"data-testid":"prop-base-diameter"}),s.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Xl(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",Xl(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),s.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(v=>v.notes=h.target.value)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>s.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&f&&s.jsx(Rm,{project:r,applyUpdate:i,selectedFlower:f}),a.kind==="flowers"&&o.length>0&&s.jsx(km,{project:r,applyUpdate:i,selectedFlowers:o,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&o.length>0&&s.jsx(Ym,{project:r,applyUpdate:i,selectedFlowers:o,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&f&&m&&s.jsx(Om,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m}),a.kind==="petals"&&f&&d.length>0&&s.jsx(Im,{project:r,applyUpdate:i,selectedFlower:f,selectedPetals:d}),a.kind==="petal"&&f&&m&&y!==null&&s.jsx(Hm,{project:r,applyUpdate:i,selectedFlower:f,selectedLayer:m,selectedPetalIndex:y}),a.kind==="stencil"&&c.selectedStencil&&s.jsx(Um,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&s.jsx(Zm,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&s.jsx(Km,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&s.jsx(Xm,{project:r,applyUpdate:i,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!f?s.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Jm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Xl(c.baseDiameter,c.fabricSquareSize,r).diameter:ar(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Vm(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?D2(c.flowerDiameter,c.baseDiameter,r):z2(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Qm({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:f}){const o=d=>{a(h=>{const v={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(v.baseDiameter=30,v.fabricSquareSize=20,v.layerCount=4,v.petalCount=12):(v.fabricSquareSize=20,v.layerCount=1,v.petalCount=6)),v.flowerDiameter=Jm(v),v})},m=d=>{a(h=>{const v={...h,flowerDiameter:d};return v.fabricSquareSize=Vm(v),v})},y=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&y.push("");const d=N2(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&y.push(`${d}`)}return s.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:f,children:s.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[s.jsx("div",{className:"text-sm font-bold mb-4",children:""}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:Xd.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>o({placementMode:d}),children:d},d))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>o({fabricSquareSize:d})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>o({layerCount:d})})]})]}),r.placementMode===""&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>o({baseDiameter:d})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:m})]})]}),y.length>0&&s.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:y.map((d,h)=>s.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>s.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsx("div",{className:"flex gap-2",children:pl.map(d=>s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),r.layerCount>1&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"uniform"}),children:""}),s.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>o({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),s.jsx(He,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>o({sizeStepMm:d})})]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:f,"data-testid":"btn-cancel-add-flower",children:""}),s.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(c,r){const a=Jt,i=c();for(;;)try{if(parseInt(a(194))/1*(-parseInt(a(181))/2)+-parseInt(a(207))/3*(-parseInt(a(155))/4)+parseInt(a(166))/5*(-parseInt(a(211))/6)+parseInt(a(179))/7*(parseInt(a(160))/8)+parseInt(a(206))/9+parseInt(a(193))/10*(-parseInt(a(163))/11)+-parseInt(a(189))/12*(-parseInt(a(144))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Ic,910435);const Pm=(function(){let c=!0;return function(r,a){const i=c?function(){const f=Jt;if(a){const o=a[f(197)](r,arguments);return a=null,o}}:function(){};return c=!1,i}})(),zs=Pm(void 0,function(){const c=Jt,r={JvoAk:c(152)};return zs.toString()[c(156)]("(((.+)+)+)+$")[c(145)]().constructor(zs)[c(156)](r.JvoAk)});function Jt(c,r){c=c-136;const a=Ic();let i=a[c];if(Jt.QGUuUx===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Jt.thUtpP=f,Jt.kxwMKw={},Jt.QGUuUx=!0}const o=a[0],m=c+o,y=Jt.kxwMKw[m];if(y)i=y;else{const d=function(h){this.HpJZER=h,this.qfYgAc=[1,0,0],this.obNCjP=function(){return"newState"},this.GIWhZR="\\w+ *\\(\\) *{\\w+ *",this.ORKrAT=`['|"].+['|"];? *}`};d.prototype.rfFnDL=function(){const h=new RegExp(this.GIWhZR+this.ORKrAT),v=h.test(this.obNCjP.toString())?--this.qfYgAc[1]:--this.qfYgAc[0];return this.Scnfli(v)},d.prototype.Scnfli=function(h){return~h?this.MEdnUU(this.HpJZER):h},d.prototype.MEdnUU=function(h){for(let v=0,g=this.qfYgAc.length;v<g;v++)this.qfYgAc.push(Math.round(Math.random())),g=this.qfYgAc.length;return h(this.qfYgAc[0])},new d(Jt).rfFnDL(),i=Jt.thUtpP(i),Jt.kxwMKw[m]=i}return i}zs();function Ic(){const c=["mJm5mdH5vxjUA08","r211Du0","BM9Uzq","yxbWBhK","wxrzuKS","sxjAuuG","BM1othu","CgfYC2u","yLbbtuO","BNvTyMvY","C3r5Bgu","CvnIAxm","nZqXmJq4mxfjEKH2CW","mJq4odq3AMf4zMLZ","tMHbA0q","ChDXrwC","Dw5KzwzPBMvK","nJzRterKwfe","z2v0qM91BMrPBMDdBgLLBNrszwn0","ChjlB1O","Cg9PBNrLCNvW","ChjLDMvUDerLzMf1Bhq","AffLBwC","vxnXquW","B3HuAxq","CM91BMq","mty0nZaWmZHLqxPqzei","Dg9tDhjPBMC","C3rHCNrxAwr0Ahm","yMTdBwy","ywrKrxzLBNrmAxn0zw5LCG","vM5Awva","CMvTB3zLrxzLBNrmAxn0zw5LCG","y3vYCMvUDa","kcGOlISPkYKRksSK","zNDsvxO","sNvTvvi","mJbpr2j2y1a","C2vHCMnO","zMfYEwe","wLjYve8","Egv5que","oevXq2Lrva","C3rYAw5NAwz5","D3zPr0q","mtu1nteYmZLnC1nfqxi","txjVwfm","C3rHCNry","ndiYmtu1s1zmENHx","s2D4EM8","DxnLCLnLBgvJDa","whfeC1O","Cunmqve","y29UC3rYDwn0B3i","A0PZzfi","BgvMDa","BxrREvK","DfrqEeG","BwLU","y2HHBMDL","u0PdAwu","mtG4nZC4mxj5ChHjyG","rLb6teK","nJzhwwPlzKu","DM9lrvG","Bwf0y2HLCW","y2XPzw50wa","Cg9PBNrLCM1VDMu","z2v0sxrLBq","CMLNAhq","yM9KEq","mJrjte5Kwfa","y3vYC29Y","t095Efi","wNHIugi","mtbfv3PMBwW"];return Ic=function(){return c},Ic()}const $d="tsumami-panel-widths",e1={left:25,right:25},Ds=15,Ns=15,cr=30;function Fm(){const c=Jt,r={bPAMJ:function(a,i){return a===i},OOyxR:c(178),mtkyY:c(203),bkCmf:function(a,i){return a===i},ZxbPb:function(a,i){return a>=i},UQRFm:function(a,i){return a-i}};try{const a=localStorage[c(186)]($d);if(a)if(r[c(202)](c(208),r[c(191)]))_0x58b916[c(150)]("pointermove",_0xe22057),_0x4db18e[c(150)]("pointerup",_0x3866a3),_0x4e2a21.current=null,_0x4ae053(!1),_0x5d1329.body[c(204)].cursor="",_0x4131bf[c(188)].style[c(168)]="";else{const i=JSON[c(201)](a);if(typeof i.left===r[c(174)]&&r[c(147)](typeof i[c(187)],c(203))&&i.left>=Ds&&r[c(192)](i.right,Ns)&&r.UQRFm(r.UQRFm(100,i[c(173)]),i.right)>=cr)return i}}catch{}return e1}function Hd(c,r){const a=Jt,i={oxTit:function(y,d){return y-d},YGoMD:function(y,d){return y-d},kJsdR:function(y,d){return y/d},IkIUP:function(y,d){return y*d},wviGD:function(y,d){return y*d}};let f=Math.max(Ds,c),o=Math.max(Ns,r);const m=i[a(142)](i.oxTit(100,f),o);if(m<cr){const y=i.YGoMD(cr,m);f-=i[a(172)](y,2),o-=i.kJsdR(y,2),f=Math.max(Ds,f),o=Math.max(Ns,o)}return{left:Math[a(143)](i.IkIUP(f,100))/100,right:i[a(172)](Math.round(i[a(162)](o,100)),100)}}function $m(){const c=Jt,r={hQemg:c(200),GmuuM:"(min-width: 768px)",qSbis:"5|4|3|1|2|0",xeyAA:c(138),voKEX:c(185),tTPxH:function(D,j){return D===j},pWYPJ:"left",IrZQH:function(D,j){return D(j)},farya:"DibmS",XqDsZ:c(196),fwRUz:c(149),JumUR:function(D,j){return D(j)},HZGrW:function(D,j){return D(j)},Kgxzo:function(D,j,_){return D(j,_)},YtYRK:function(D,j,_){return D(j,_)}},[a,i]=r.HZGrW(F.useState,Fm),f=F.useRef(null),o=F.useRef(null),[m,y]=F.useState(!1),[d,h]=F.useState(()=>typeof window!==c(210)?window.matchMedia("(min-width: 768px)").matches:!0);r.Kgxzo(F.useEffect,()=>{const D=c;if(D(200)===r[D(140)]){const j=window.matchMedia(r[D(195)]),_=B=>h(B[D(183)]);return j.addEventListener("change",_),()=>j.removeEventListener(D(177),_)}else return _0x1fc911.toString()[D(156)](D(152)).toString()[D(171)](_0x5ef172).search("(((.+)+)+)+$")},[]),r.Kgxzo(F.useEffect,()=>{const D=c;localStorage.setItem($d,JSON[D(161)](a))},[a]);const v=r.HZGrW(F.useRef,a);r[c(167)](F.useEffect,()=>{const D=c;v[D(151)]=a},[a]);const g=r.Kgxzo(F.useCallback,(D,j)=>{const _=c,B={EXpGR:function(k,E){return r.tTPxH(k,E)},ZRrTO:function(k,E){return k-E},gZBZf:function(k,E){return k*E},MroXS:r.pWYPJ,prKoZ:function(k,E){return k+E},qCLAQ:function(k,E,q){return k(E,q)},mKZcL:function(k,E){return k-E},UsqAL:function(k,E){return r.IrZQH(k,E)},FPzLI:function(k,E,q){return k(E,q)},YZeIc:r[_(159)]};if(r[_(157)]!==_(209)){j[_(139)]();const k=f[_(151)];if(!k)return;o.current={side:D,startX:j[_(184)],startWidths:{...v[_(151)]}},r[_(199)](y,!0),document.body.style.cursor="col-resize",document.body[_(204)].userSelect=r[_(169)];const E=Z=>{const V=_,Y=o.current;if(!Y)return;const P=k[V(136)]().width;if(B.EXpGR(P,0))return;const te=B[V(158)](Z.clientX,Y[V(165)]),Q=B.gZBZf(te/P,100);if(B.EXpGR(Y.side,B[V(164)])){const W=B[V(137)](Y.startWidths.left,Q),C=B.ZRrTO(100-Y[V(146)][V(187)],cr);i(B[V(170)](Hd,Math[V(176)](W,C),Y[V(146)][V(187)]))}else{const W=Y.startWidths[V(187)]-Q,C=B.mKZcL(100-Y.startWidths.left,cr);B[V(141)](i,B[V(180)](Hd,Y.startWidths.left,Math.min(W,C)))}},q=()=>{const Z=_;o.current=null,B[Z(141)](y,!1),document.body[Z(204)].cursor="",document[Z(188)][Z(204)].userSelect="",window[Z(150)]("pointermove",E),window[Z(150)](B.YZeIc,q)};window[_(148)](r[_(182)],E),window[_(148)]("pointerup",q),N.current=()=>{const Z=_,V=r[Z(205)].split("|");let Y=0;for(;;){switch(V[Y++]){case"0":document[Z(188)][Z(204)].userSelect="";continue;case"1":y(!1);continue;case"2":document.body[Z(204)][Z(190)]="";continue;case"3":o.current=null;continue;case"4":window[Z(150)](r[Z(159)],q);continue;case"5":window[Z(150)](r[Z(182)],E);continue}break}}}else return()=>{_0x8292c2.current?.()}},[]),N=F.useRef(null);r[c(198)](F.useEffect,()=>()=>{const D=Jt;r[D(175)]("MgeHN",r[D(153)])?_0x4d9fcc[D(151)]?.():N[D(151)]?.()},[]);const b=r.Kgxzo(F.useCallback,()=>{r[c(154)](i,e1)},[]);return{widths:a,containerRef:f,onDividerPointerDown:g,onDividerDoubleClick:b,isDragging:m,isDesktop:d}}function Ud({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return s.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:f=>r(c,f),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:s.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(f=>s.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},f))})})}(function(c,r){const a=Et,i=c();for(;;)try{if(parseInt(a(428))/1*(parseInt(a(456))/2)+-parseInt(a(441))/3+-parseInt(a(526))/4*(-parseInt(a(478))/5)+parseInt(a(503))/6+parseInt(a(505))/7*(parseInt(a(450))/8)+-parseInt(a(430))/9*(-parseInt(a(429))/10)+parseInt(a(498))/11*(-parseInt(a(414))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Hc,227504);const eb=(function(){const c=Et,r={lVhMj:function(i,f){return i(f)},xwPqV:c(461)};let a=!0;return function(i,f){const o=c,m={TUBVY:function(y,d){return y<=d},RlwOK:function(y,d,h){return y(d,h)},ajaDh:function(y,d){return r[Et(497)](y,d)},BqbgE:r[o(422)]};if(o(392)!==o(392)){const y=_0x411df0[o(520)][o(516)](d=>d.id===_0x4307cf);if(y&&m.TUBVY((y[o(395)]||[])[o(439)],1)){_0x5e6f4d(_0x3c0cf8);return}m.RlwOK(_0x5538ba,d=>{const h=o,v=(d.flowers||[]).find(g=>g.id===_0x5c600f);v&&(v[h(395)]=(v[h(395)]||[])[h(427)](g=>g.id!==_0x4b82a7),v.layers.slice()[h(373)]((g,N)=>g.order-N[h(491)]).forEach((g,N)=>g[h(491)]=N+1))},!0),m.ajaDh(_0xd13151,{kind:m.BqbgE,flowerId:_0x32fbd5})}else{const y=a?function(){const d=o;if(f){const h=f[d(433)](i,arguments);return f=null,h}}:function(){};return a=!1,y}}})(),As=eb(void 0,function(){const c=Et,r={zHTcV:c(370)};return As[c(421)]().search(r[c(389)]).toString()[c(471)](As).search(c(370))});function Et(c,r){c=c-368;const a=Hc();let i=a[c];if(Et.BtJaHt===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Et.YxRyuf=f,Et.XCZuUo={},Et.BtJaHt=!0}const o=a[0],m=c+o,y=Et.XCZuUo[m];if(y)i=y;else{const d=function(h){this.TmhLnl=h,this.RKvbaP=[1,0,0],this.GEUXrM=function(){return"newState"},this.hYXDBb="\\w+ *\\(\\) *{\\w+ *",this.lDVoWi=`['|"].+['|"];? *}`};d.prototype.niQKkn=function(){const h=new RegExp(this.hYXDBb+this.lDVoWi),v=h.test(this.GEUXrM.toString())?--this.RKvbaP[1]:--this.RKvbaP[0];return this.noFMhY(v)},d.prototype.noFMhY=function(h){return~h?this.JDVQlm(this.TmhLnl):h},d.prototype.JDVQlm=function(h){for(let v=0,g=this.RKvbaP.length;v<g;v++)this.RKvbaP.push(Math.round(Math.random())),g=this.RKvbaP.length;return h(this.RKvbaP[0])},new d(Et).niQKkn(),i=Et.YxRyuf(i),Et.XCZuUo[m]=i}return i}As();function Hc(){const c=["EvrMshu","t2fjvhu","B2zMC2v0qw5NBgu","EvzxswG","wML4vge","z3jVDxa","CM91BMq","yMfJAW","y1jjC04","CgXHy2vTzw50tw9Kzq","EKHuy1y","EurvDum","teryBKS","wxj0AMC","BvbHsM0","q2fjy24","Bgf5zxjZ","zgLHBwv0zxi","Aw5JBhvKzxm","zwjAtNe","zePrtva","C0P0BLu","q01Sqw4","swTsqMW","Auf1wNe","C2LKzq","uvL1sw0","v3LLAwS","v09vB0G","y29SB3jjza","yMfZzurPyw1LDgvY","B0nor2S","Bgf5","wfrLvMy","yLzAvLy","nti3odq0ANHgBvrl","Bgf5zxjjza","CMfKAxvZ","wMnVAxu","B2jvzvK","BgvHzKDYB3vWswq","BwfW","Dg9tDhjPBMC","EhDqCvy","EKP6q2S","BgvHzG","DNzTzgK","C3rLBMnPBhm","zMLSDgvY","nZL3vgroEwq","nZi2odb6B2DPsfy","mta4ruDODNDx","Cgv0ywXdB3vUDa","B0XNz0S","yxbWBhK","CfPjBM8","A2rNu0y","wvzrvhK","y29Sx2DYzwvU","vNv1Bu0","BgvUz3rO","BgvHzKLK","otK2ndmYBejquuTp","ANDHzu0","BgvHzKDYB3vW","zxzLCNK","DfbquvC","zgDbDNm","u1fuuKi","DNjkv1G","Cgv0ywW","mtKWodHmwxzVsg8","B2nRCNa","vgzcvgK","r3vXqLe","B3HQrwy","we9mCKu","oty4ngfUvefZBa","s1fiCMS","zgfczMi","C3rLBMnPBeLK","wurss0u","zMXVD2vY","zMXVD2vYswrZ","uwnZtMK","qNfMqMG","uLv5wfO","z3jVDxbZ","C2XPy2u","s3ffELq","zMXVD2vYswq","qwXetfy","y29UC3rYDwn0B3i","tg9yBe4","BgvHzKLKCW","uK9pq3q","tMDztNC","u1HmBfq","C1b3y2y","nvjqC0XwAG","rgHxB1i","CxH5AhC","CeHYuK8","DhL3y1y","z3jVDxbjza","zMXVD2vYrgLHBwv0zxi","C292Ag0","ChjVAMvJDa","44kW44oR44o844oxia","A2LUza","DfnRreu","C2nHBgu","B3jKzxi","v3ziD1C","u09XENa","z1HTv0q","ALDyy1O","yMfMyLG","BfzOtwO","mtqZve5uvfnV","Cgv0ywXZ","rfv4EMC","Bgf5zxi","De1XsgK","mJmZmZa1mNzcy2Plsa","vg1TB3q","nZiXyM5qC3j2","BgrXsNO","C3rLBMnPBa","uwXRy3C","thLNy0O","zM9YrwfJAa","wePfywW","uwLNCg4","s1HuDwi","zuj6r0K","BKvMCNK","zMLUza","BgvHzKDYB3vWCW","zMfICMLJu3f1yxjLu2L6zq","ExD5qNy","zMXVD2vYCW","Bwf4","EgXhtfe","z0rMtLa","De5nsvO","AgvPz2H0","mta4ntGWvMvOCg5y","A0TWAKe","thHeAfe","yNjyB1C","t3v0zxiR","ChLRzfG","Bwf0y2G","CLnmtxm","Bez3BK4","kcGOlISPkYKRksSK","zvPgvgO","y3DTExy","C29YDa","zfzUwu4","BMfTzq","ChvZAa","tw5MCMC","txj5ywS"];return Hc=function(){return c},Hc()}function tb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:f,setExpandedGroups:o,zoom:m,pan:y,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:v,ungroupLeaves:g}){const N=Et,b={SXLlT:function(C,S){return C(S)},oLggK:function(C,S){return C*S},jwaeM:function(C,S){return C===S},dVnYN:N(377),zcMUB:function(C,S){return C/S},ldqJz:function(C,S){return C+S},eBzGI:function(C,S){return C-S},bVZVV:function(C,S){return C/S},PQzpJ:function(C,S){return C*S},WvHwW:function(C,S,L){return C(S,L)},sPwcf:N(486),rxoIq:function(C,S){return C!==S},pkSdg:N(378),sovhm:function(C,S){return C<=S},Tmmot:N(461),XTeVf:function(C,S,L,M){return C(S,L,M)},EWcGD:function(C,S){return C<S},obUeY:function(C,S){return C>=S},wIlTH:function(C,S){return C-S},vvmdi:function(C,S){return C>S},AlDLV:function(C,S){return C(S)},tSkDE:N(411),VuumM:N(530),YDRKE:N(501),tywcV:function(C,S){return C>S},DhWoR:function(C,S){return C===S},HwzLp:function(C,S){return C(S)},qxyhw:N(449),QcsNi:function(C,S){return C(S)},yDUuC:function(C,S){return C===S},jWXcZ:"tygGB",fWhBw:function(C,S){return C>S},Qigpn:"uniform",LDXnK:function(C,S,L,M){return C(S,L,M)},dJQMP:function(C,S){return C===S},iAuZq:N(424),RUyXZ:"flowers",dgAvs:function(C,S){return C===S},liXJS:function(C,S){return C===S},rSLMs:"petals",qlrVL:"NNFTY",eZybH:N(472),OnrjK:"grp",KXTub:function(C,S){return C(S)},jDsxj:function(C,S,L){return C(S,L)},EDdfP:function(C,S,L,M){return C(S,L,M)},GPjud:function(C,S,L){return C(S,L)},jDqvQ:"group",kKpjA:function(C,S){return C/S},yVpyD:function(C,S){return C+S},SOqzp:N(386),jYBkj:function(C,S,L,M){return C(S,L,M)},HJdbR:function(C,S){return C-S},KQHrk:function(C,S){return C(S)},pADNN:function(C,S){return C/S},cRIsN:function(C,S,L,M){return C(S,L,M)},LygcJ:function(C,S){return C(S)},daBfb:"stl",GuqBQ:"stencil",yVWIh:"TMLBe",CMlAn:N(445),WOUoH:function(C,S,L,M){return C(S,L,M)},OPQnx:function(C,S){return C!==S},bafbX:"ZCQYE",sJtnU:function(C,S){return C===S},TfBTi:function(C,S){return C(S)},pHrRO:function(C,S){return C(S)},YVQTy:function(C,S){return C===S},jVSwW:N(417),KqEzT:function(C,S){return C===S},DUxzg:N(511),ockrp:function(C,S){return C(S)},VMaBN:function(C,S,L){return C(S,L)}},D=C=>{const S=N,L=[...C[S(395)]][S(373)]((O,z)=>O[S(491)]-z[S(491)]),M=L[0];if(!M)return 28;const w=C.fabricSquareSize??c[S(518)],{length:A}=b[S(476)](It,w),G=b[S(432)](A,M[S(490)]??1);let I;if(b[S(442)](C[S(388)],""))if(S(474)===b[S(374)]){const O=_0x2b59d1[0];_0x5e217c[S(484)]=_0x19ecbb[S(385)](_0x3f2636(O[S(416)],O.scale??1,_0x905953))}else I=G/3;else{const z=b.zcMUB(b[S(432)](70,Math.PI),180),R=b[S(506)](L[S(439)],1),H=b[S(514)](R,1),X=R>1?b.oLggK(b[S(413)](H,R-1),z):0;I=b[S(432)](G*(30/100),Math.cos(X))}return b.bVZVV(Math.round(b.PQzpJ((M[S(416)]??28)+I,10)),10)},j=C=>{const S=N,L={Qlkcw:function(M,w,A){return b[Et(492)](M,w,A)},qgDtl:b.sPwcf,sCpEd:function(M,w){return b.rxoIq(M,w)},igeZW:b.pkSdg};r(M=>{const w=Et;if(L.sCpEd(L.igeZW,w(378))){L[w(508)](_0x384e97,A=>{const G=w;if(A[G(520)]=A[G(520)][G(427)](I=>I.id!==_0x1890ad[G(469)]),A.groups){for(const I of A.groups)I.flowerIds=I[G(462)].filter(O=>O!==_0xc24010.flowerId);A.groups=A.groups.filter(I=>I.flowerIds[G(439)]>0)}},!0),_0x169f2d({kind:L.qgDtl});return}else if(M.flowers=(M[w(520)]||[])[w(427)](A=>A.id!==C),M[w(466)]){for(const A of M[w(466)])A.flowerIds=A[w(462)][w(427)](G=>G!==C);M[w(466)]=M.groups[w(427)](A=>A.flowerIds[w(439)]>0)}},!0),i({kind:S(486)}),b.SXLlT(f,M=>{const w={...M||{}};return delete w[C],w})},_=(C,S)=>{const L=N,M=c.flowers[L(516)](w=>w.id===C);if(M&&b[L(485)]((M.layers||[])[L(439)],1)){b[L(476)](j,C);return}r(w=>{const A=L,G=(w.flowers||[])[A(516)](I=>I.id===C);G&&(G[A(395)]=(G.layers||[])[A(427)](I=>I.id!==S),G[A(395)][A(467)]()[A(373)]((I,O)=>I[A(491)]-O[A(491)])[A(510)]((I,O)=>I[A(491)]=O+1))},!0),i({kind:b[L(504)],flowerId:C})},B=C=>{const S=N,L={gXmWD:function(M,w,A,G){return b.XTeVf(M,w,A,G)},EwCYM:function(M,w,A,G,I){return M(w,A,G,I)},CXILu:function(M,w){return M<w}};if(S(406)===S(406)){const M=c[S(520)][S(516)](X=>X.id===C);if(!M)return;const w=[...M[S(395)]].sort((X,le)=>X[S(491)]-le.order),A=w[0],G=je(A?.petalCount??6,5,24),I=w.map(X=>X[S(490)]??1),O=b.EWcGD(I[S(439)],2)||I[S(444)](X=>Math.abs(X-I[0])<.001);let z=A?.[S(490)]??1;if(!O&&b[S(418)](w.length,2)){const X=w[w.length-1],le=b.wIlTH(X[S(491)]??1,A[S(491)]??1);if(b[S(425)](le,0)){const ue=((A.scale??1)-(X.scale??1))/le;z=je((A.scale??1)+ue,.3,3)}}const R=D(M),H={id:b.AlDLV(Ot,b[S(489)]),name:b[S(438)],order:1,petalType:A?.petalType??"",petalCount:G,radius:R,scale:z,widthScale:ci(G),offsetAngle:A?.offsetAngle??0,colorId:A?.[S(408)]??c.palette?.[0]?.id??S(437),visible:!0,locked:!1};A&&(H.offsetAngle=Fn(A[S(431)],A.offsetAngle??0,G)),r(X=>{const le=S,ue=X.flowers.find(Ae=>Ae.id===C);if(!ue)return;ue.layers[le(510)](Ae=>Ae[le(491)]+=1),ue[le(395)].unshift(H);const oe=Math[le(385)](L[le(494)](nr,H.radius,H[le(490)],ue[le(518)]??X[le(518)])),_e=ue[le(518)]??X.fabricSquareSize,de=ue[le(388)]===""?L.EwCYM(ar,_e,ue.layers[le(439)],"uniform",0):Xl(ue.baseDiameter??X.baseDiameter,_e,{layerCount:ue[le(395)][le(439)]})[le(396)];ue.flowerDiameter=Math.max(ue[le(484)]||de,oe);const we=[...ue.layers][le(373)]((Ae,$e)=>Ae.order-$e.order),me=we.reverse();for(let Ae=1;L.CXILu(Ae,me[le(439)]);Ae++){const $e=me[Ae-1],ft=me[Ae];ft[le(381)]=Fn($e.petalCount,$e[le(381)],ft.petalCount)}},!0),i({kind:b.YDRKE,flowerId:C,layerId:H.id}),f(X=>({...X,[C]:!0}))}else{const M=_0x4cb3a0[_0x55f2cd-1],w=_0x6aa0bb[_0x3d45e3];w.offsetAngle=_0x25289b(M.petalCount,M[S(381)],w[S(431)])}},k=C=>{const S=N,L={XOLrE:S(402),XIddu:function(G,I){return b[S(482)](G,I)},nEfry:function(G,I,O,z){return G(I,O,z)},zJzCk:function(G,I){return b.eBzGI(G,I)},xlGLQ:function(G,I,O,z){return G(I,O,z)}},M=c[S(520)][S(516)](G=>G.id===C);if(!M||!M[S(395)]||b[S(442)](M[S(395)].length,0))return;if(b[S(485)](M.layers.length,1)){b.SXLlT(j,C);return}const w=[...M[S(395)]][S(373)]((G,I)=>G.order-I[S(491)]),A=w[0];A&&(b.WvHwW(r,G=>{const I=S;if(I(502)===L[I(455)]){if(_0x28c397[I(520)]=_0x51a422.flowers.filter(O=>O.id!==_0x509133.flowerId),_0x2232c4[I(466)]){for(const O of _0x47cdd6.groups)O.flowerIds=O[I(462)].filter(z=>z!==_0x9ee99f.flowerId);_0x577e96.groups=_0x30ad8c[I(466)][I(427)](O=>O[I(462)].length>0)}}else{const O=G[I(520)][I(516)](H=>H.id===C);if(!O)return;O[I(395)]=O[I(395)].filter(H=>H.id!==A.id),O[I(395)][I(467)]()[I(373)]((H,X)=>H[I(491)]-X.order)[I(510)]((H,X)=>H.order=X+1);const z=[...O.layers].sort((H,X)=>H[I(491)]-X[I(491)]),R=O.fabricSquareSize??G.fabricSquareSize;if(L.XIddu(z[I(439)],0)){ds(z,R);for(const le of z){const ue=O[I(395)].find(oe=>oe.id===le.id);ue&&(ue.radius=le[I(416)])}const H=z[0];O[I(484)]=Math[I(385)](L[I(515)](nr,H.radius,H[I(490)]??1,R));const X=[...z].reverse();for(let le=1;le<X.length;le++){const ue=X[L[I(423)](le,1)],oe=X[le];oe.offsetAngle=L[I(522)](Fn,ue[I(431)],ue[I(381)],oe.petalCount)}}}},!0),b[S(479)](a.kind,S(501))&&b.DhWoR(a[S(415)],A.id)?b.HwzLp(i,{kind:"flower",flowerId:C}):b[S(479)](a[S(488)],b.qxyhw)&&a[S(415)]===A.id&&b[S(463)](i,{kind:b.Tmmot,flowerId:C}))},E=()=>{const C=N,S={ReDsu:function(L,M){return b[Et(390)](L,M)},vrJWX:b[C(495)],BqfBh:function(L,M){return b.fWhBw(L,M)},OaITu:function(L,M,w,A){return b[C(412)](L,M,w,A)},WbktR:b[C(512)],CaIcn:function(L,M,w,A){return L(M,w,A)},SQTRB:function(L,M,w,A){return b[C(391)](L,M,w,A)},ywyBv:function(L,M){return L<M}};if(!b.dJQMP(a[C(488)],C(486))){if(a.kind===b[C(403)]){v(a.leafId);return}if(a.kind===C(443)){g(a[C(419)]);return}if(a[C(488)]==="leaves"){const L=a.leafIds;b.WvHwW(r,M=>{const w=C;if(M.leaves=(M.leaves??[])[w(427)](A=>!L[w(397)](A.id)),M.leafGroups){if(S.ReDsu(S[w(448)],"tygGB")){for(const A of M[w(517)])A[w(473)]=A.leafIds.filter(G=>!L[w(397)](G));M[w(517)]=M[w(517)][w(427)](A=>A.leafIds.length>0)}else if(_0x5af443[w(520)]=(_0x159122.flowers||[])[w(427)](A=>A.id!==_0x3c28e2),_0xcdee0e.groups){for(const A of _0x831d51[w(466)])A[w(462)]=A[w(462)].filter(G=>G!==_0x1489a2);_0x40b607.groups=_0x37d9a0.groups[w(427)](A=>A.flowerIds.length>0)}}},!0),i({kind:"project"});return}if(b[C(479)](a.kind,b[C(465)])){const L=a.flowerIds;b.WvHwW(r,M=>{const w=C;if(M[w(520)]=M.flowers[w(427)](A=>!L[w(397)](A.id)),M.groups){for(const A of M.groups)A.flowerIds=A[w(462)][w(427)](G=>!L.includes(G));M.groups=M.groups[w(427)](A=>A[w(462)].length>0)}},!0),i({kind:b.sPwcf});return}if(b.dgAvs(a.kind,"group")){b[C(492)](r,L=>{const M=C;L.groups&&(L.groups=L[M(466)].filter(w=>w.id!==a[M(483)]))},!0),i({kind:b.sPwcf});return}if(b.liXJS(a[C(488)],"stencil")){b.WvHwW(r,L=>{const M=C;L.stencils=(L.stencils??[]).filter(w=>w.id!==a[M(459)])},!0),i({kind:b[C(477)]});return}if(b.liXJS(a[C(488)],b[C(368)])){i({kind:"flower",flowerId:a[C(469)]});return}if(b[C(399)](a[C(488)],"flower"))if(b.qlrVL!=="NNFTY")_0x6c60bd.flowerIds.includes(_0xb60b6f)||_0x566710[C(462)].push(_0xbd6b3e);else{b[C(492)](r,L=>{const M=C;if(L.flowers=L.flowers[M(427)](w=>w.id!==a[M(469)]),L[M(466)]){for(const w of L[M(466)])w[M(462)]=w[M(462)].filter(A=>A!==a[M(469)]);L.groups=L[M(466)].filter(w=>w[M(462)][M(439)]>0)}},!0),b.QcsNi(i,{kind:"project"});return}if(b.dJQMP(a.kind,b[C(460)])||a[C(488)]===b[C(480)]){const L=c.flowers.find(w=>w.id===a.flowerId),M=L?[...L.layers].sort((w,A)=>w[C(491)]-A[C(491)])[0]?.id===a[C(415)]:!1;b.WvHwW(r,w=>{const A=C,G=w.flowers[A(516)](I=>I.id===a[A(469)]);if(G&&(G.layers=G[A(395)][A(427)](I=>I.id!==a[A(415)]),G[A(395)][A(467)]().sort((I,O)=>I.order-O.order).forEach((I,O)=>I.order=O+1),S[A(464)](G.layers[A(439)],0))){const I=[...G.layers][A(373)]((R,H)=>R.order-H.order),O=G.fabricSquareSize??w[A(518)];ds(I,O);for(const R of I){const H=G.layers.find(X=>X.id===R.id);H&&(H[A(416)]=R.radius)}if(M){const R=I[0];G.flowerDiameter=Math[A(385)](S[A(380)](nr,R.radius,R.scale??1,O))}else{const R=G[A(388)]===""?ar(O,G[A(395)].length,S.WbktR,0):S[A(394)](Xl,G.baseDiameter??w[A(409)],O,{layerCount:G.layers[A(439)]})[A(396)];S[A(447)](Wc,I,O,G[A(484)]||R);for(const H of I){const X=G.layers.find(le=>le.id===H.id);X&&(X[A(416)]=H[A(416)],X.scale=H[A(490)])}}const z=[...I].reverse();for(let R=1;S[A(519)](R,z.length);R++){const H=z[R-1],X=z[R];X.offsetAngle=Fn(H[A(431)],H.offsetAngle,X[A(431)])}}},!0),i({kind:"flower",flowerId:a[C(469)]})}}},q=F.useCallback(C=>{const S=N,L={ecbVr:function(M,w){return M>w},qSEvG:function(M,w){return M+w},cwmyv:function(M,w,A){return M(w,A)},oCNGk:function(M,w){return M(w)}};if(S(472)!==b.eZybH){const M=_0x1671b4("grp");L[S(372)](_0x539554,w=>{const A=S;w[A(466)]||(w.groups=[]);const G=w[A(466)][A(420)](O=>{const z=A,R=O[z(375)][z(532)](/^ (\d+)$/);return R?_0x2f372c(R[1],10):0}),I=L.ecbVr(G.length,0)?L.qSEvG(_0x9ea2d2[A(521)](...G),1):1;w.groups[A(376)]({id:M,name:A(487)+I,flowerIds:[..._0xb5fefd]})},!0),L[S(410)](_0x2694c3,{kind:S(384),groupId:M}),L[S(410)](_0x45da11,w=>({...w,[M]:!0}))}else{const M=Ot(b.OnrjK);r(w=>{const A=S;w.groups||(w[A(466)]=[]);const G=w[A(466)][A(420)](O=>{const z=A,R=O[z(375)].match(/^ (\d+)$/);return R?L.cwmyv(parseInt,R[1],10):0}),I=G[A(439)]>0?Math[A(521)](...G)+1:1;w[A(466)][A(376)]({id:M,name:" "+I,flowerIds:[...C]})},!0),b[S(470)](i,{kind:S(384),groupId:M}),b[S(513)](o,w=>({...w,[M]:!0}))}},[r,i,o]),Z=F.useCallback(C=>{b.jDsxj(r,S=>{const L=Et;S.groups&&(S.groups=S[L(466)][L(427)](M=>M.id!==C))},!0),i({kind:b.sPwcf})},[r,i]),V=b.VMaBN(F.useCallback,(C,S)=>{r(L=>{const M=(L.groups??[]).find(w=>w.id===C);if(M)for(const w of S)M.flowerIds.includes(w)||M.flowerIds.push(w)},!0),i({kind:"group",groupId:C})},[r,i]),Y=F.useCallback((C,S)=>{const L=C[0],M=C.slice(1);b.GPjud(r,w=>{const A=Et;if(!w.groups)return;const G=w[A(466)][A(516)](I=>I.id===L);if(G){for(const I of M){const O=w[A(466)][A(516)](z=>z.id===I);if(O)for(const z of O[A(462)])G.flowerIds[A(397)](z)||G[A(462)].push(z)}for(const I of S)G.flowerIds.includes(I)||G.flowerIds[A(376)](I);w.groups=w[A(466)][A(427)](I=>!M.includes(I.id))}},!0),i({kind:b.jDqvQ,groupId:L}),o(w=>({...w,[L]:!0}))},[r,i,o]),P=(C,S)=>{const L=N,M=d.w/d.h,w=520/m,A=w*M,G=b[L(527)](-y.x,m),I=-y.y/m,O=b.yVpyD(G,A/2),z=I+w/2,R=S===b.SOqzp?b[L(493)]:L(404),H=b[L(432)](Vd[C][R][L(525)],un),X=je(O,0,h),le=b.jYBkj(je,b.HJdbR(z,H/2),0,h),ue={id:b[L(463)](Ot,"stl"),variant:C,pose:S,position:{x:X,y:le}};b.WvHwW(r,oe=>{const _e=L;oe.stencils||(oe.stencils=[]),oe[_e(426)][_e(376)](ue)},!0),b.KQHrk(i,{kind:L(507),stencilId:ue.id})},te=C=>{const S=N;if(S(386),b[S(458)],b[S(453)],b.GPjud(r,L=>{const M=S;L.stencils=(L.stencils??[])[M(427)](w=>w.id!==C)},!0),a.kind==="stencil"&&a[S(459)]===C)if(b[S(382)]!==b[S(401)])i({kind:b.sPwcf});else{const L=JFsZYI[S(475)](_0x2cfc08.w,_0x52a6a4.h),M=520/_0x192335,w=M*L,A=-_0x1d5856.x/_0x5dcd1b,G=-_0x310020.y/_0x401df3,I=JFsZYI[S(523)](A,w/2),O=JFsZYI[S(523)](G,JFsZYI[S(398)](M,2)),z=JFsZYI.jJfCn(_0x38948d,JFsZYI[S(531)])?JFsZYI[S(531)]:S(404),R=_0x47f485[_0xcf804e][z].height*_0x3f2ac8,H=JFsZYI.LxDhQ(_0xebcd14,I,0,_0xa7dfed),X=JFsZYI[S(528)](_0x2445f4,O-R/2,0,_0x2c0f14),le={id:JFsZYI[S(393)](_0x472cd7,JFsZYI[S(405)]),variant:_0x2e91bd,pose:_0x1c5a10,position:{x:H,y:X}};_0x4f0866(ue=>{ue.stencils||(ue.stencils=[]),ue.stencils.push(le)},!0),JFsZYI.mPaJm(_0x1991e0,{kind:JFsZYI[S(371)],stencilId:le.id})}},Q=F.useCallback(C=>{const S=N,L={kdgSF:function(M,w){return b.AlDLV(M,w)},yTfHu:"flower"};if(a[S(488)]===S(520)){const M=a[S(462)];if(M[S(397)](C))if(b.OPQnx(S(369),b[S(496)])){const w=M[S(427)](A=>A!==C);b[S(400)](w.length,0)?i({kind:b.sPwcf}):w[S(439)]===1?b[S(463)](i,{kind:"flower",flowerId:w[0]}):b[S(509)](i,{kind:b[S(465)],flowerIds:w})}else{const w=_0x51b2cd.placementMode===""?_0x37b756(_0x593536,_0x4b6cbc.layers.length,"uniform",0):_0x1a9e34(_0x30b0a2[S(409)]??_0x22056a[S(409)],_0x4f7ae1,{layerCount:_0x3a9427[S(395)].length})[S(396)];b[S(407)](_0x1e906b,_0xc15c38,_0x14191e,_0x4a2fa6.flowerDiameter||w);for(const A of _0x458a5b){const G=_0x1fd5ac[S(395)].find(I=>I.id===A.id);G&&(G[S(416)]=A[S(416)],G.scale=A.scale)}}else i({kind:b[S(465)],flowerIds:[...M,C]})}else if(b[S(446)](a[S(488)],S(461)))if(b.dgAvs(S(529),S(383)))L[S(435)](_0x59098a,{kind:L[S(379)],flowerId:_0x5b21d6});else{if(b.yDUuC(a.flowerId,C))return;b[S(457)](i,{kind:S(520),flowerIds:[a[S(469)],C]})}else b[S(452)](i,{kind:b[S(465)],flowerIds:[C]})},[a,i]);return{deleteFlowerById:j,deleteLayerById:_,computeNewOuterRadius:D,addOuterLayer:B,deleteOuterLayer:k,deleteSelected:E,groupSelectedFlowers:q,ungroupFlowers:Z,addToGroup:V,mergeGroups:Y,addStencil:P,deleteStencil:te,handleShiftFlowerSelect:Q,togglePetalSelection:(C,S,L,M)=>{const w=N;if(!M)if(b[w(436)](b.jVSwW,w(417))){b[w(470)](i,{kind:b[w(480)],flowerId:C,layerId:S,index:L});return}else{b[w(481)](_0x27fe26,_0x24ed18[w(440)]);return}const A=S+":"+L;if(a[w(488)]===w(499)&&b[w(468)](a.flowerId,C)){const G=a[w(499)]||[];if(G.some(O=>O.layerId+":"+O.index===A)){const O=G.filter(z=>z.layerId+":"+z.index!==A);if(O.length===0)i({kind:b.Tmmot,flowerId:C});else if(O[w(439)]===1)if(b[w(500)]!==b.DUxzg){if(!_0x5aa05f[w(466)])return;_0x566707.groups=_0x516777[w(466)][w(427)](z=>z.id!==_0x54fd3a)}else b[w(451)](i,{kind:b[w(480)],flowerId:C,layerId:O[0].layerId,index:O[0].index});else if(b.OPQnx(w(454),w(434)))i({kind:"petals",flowerId:C,petals:O});else{const z=_0x2cd01b[_0x71f2bd-1],R=_0xfa37f9[_0x2fe5c3];R.offsetAngle=daCbTE.fOUTn(_0x57d465,z.petalCount,z.offsetAngle,R[w(431)])}}else i({kind:b[w(368)],flowerId:C,petals:[...G,{layerId:S,index:L}]})}else if(a[w(488)]==="petal"&&a.flowerId===C){const G={layerId:a[w(415)],index:a.index},I={layerId:S,index:L};if(G[w(415)]+":"+G.index===A)return;b[w(476)](i,{kind:b.rSLMs,flowerId:C,petals:[G,I]})}else i({kind:w(499),flowerId:C,petals:[{layerId:S,index:L}]})}}}(function(c,r){const a=Vt,i=c();for(;;)try{if(-parseInt(a(237))/1+-parseInt(a(261))/2*(parseInt(a(228))/3)+parseInt(a(253))/4*(parseInt(a(276))/5)+parseInt(a(240))/6*(parseInt(a(242))/7)+-parseInt(a(258))/8*(-parseInt(a(241))/9)+-parseInt(a(239))/10*(parseInt(a(236))/11)+parseInt(a(250))/12*(parseInt(a(243))/13)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Uc,796009);function Vt(c,r){c=c-220;const a=Uc();let i=a[c];if(Vt.uSYxMU===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};Vt.yzweHN=f,Vt.nUzHDg={},Vt.uSYxMU=!0}const o=a[0],m=c+o,y=Vt.nUzHDg[m];if(y)i=y;else{const d=function(h){this.opCmKB=h,this.KXLKEX=[1,0,0],this.DtuutZ=function(){return"newState"},this.UZwVgc="\\w+ *\\(\\) *{\\w+ *",this.neYzpl=`['|"].+['|"];? *}`};d.prototype.EjTFRT=function(){const h=new RegExp(this.UZwVgc+this.neYzpl),v=h.test(this.DtuutZ.toString())?--this.KXLKEX[1]:--this.KXLKEX[0];return this.YJIQLW(v)},d.prototype.YJIQLW=function(h){return~h?this.dIrhUE(this.opCmKB):h},d.prototype.dIrhUE=function(h){for(let v=0,g=this.KXLKEX.length;v<g;v++)this.KXLKEX.push(Math.round(Math.random())),g=this.KXLKEX.length;return h(this.KXLKEX[0])},new d(Vt).EjTFRT(),i=Vt.yzweHN(i),Vt.nUzHDg[m]=i}return i}function Uc(){const c=["y29Sx2DYzwvU","BgvUz3rO","D0jSBNC","CgfSzxr0zq","Dg9tDhjPBMC","mtKYmdu4oerRrwTKta","Bxnrvhe","D2TQweG","mZKWmdrHruHYv3e","BgvHDMvZ","s0PqB2G","BgvHzKLKCW","BgvHzKDYB3vWCW","mtm1mtu5mKnLCwf2Bq","tgvHzIa","AMP0z3G","ntG2A0vPBw9w","seX1vxa","AfjWDK0","sgjjuLO","BgvHzG","AhjTtKO","vNbxvMS","AgXKruO","z1zIyxG","v2Htzhq","C0f6DNO","rKjqvuO","BhDKvLG","Cg9ZAxrPB24","zMLSDgvY","nJy1t2rgq25s","C2vHCMnO","CMjlwey","kcGOlISPkYKRksSK","tM1orwS","A2LUza","ChvZAa","BgvHzKLK","ywjZ","nJa5owTRvurwvG","BMPjthK","5yMJ44gK44g+44g/","ChjVAMvJDa","Aw5JBhvKzxm","DNrXuKm","EM5mC0K","wfD2uwu","nZy2nde0zNPXD1z0","otm5mJC0vfn1r1rI","A1b6DK0","mtaWwu1zEgfo","ntC2yxDSyND5","nZjWrKLJwNm","mtu5odffzwzWrKe","mtnfuxnUwwO","DuHmvvC"];return Uc=function(){return c},Uc()}const nb=(function(){const c=Vt,r={uHLUW:function(i,f,o,m){return i(f,o,m)},gVbax:function(i,f){return i!==f},rbKXF:"ypxYf",pIrxc:function(i,f){return i/f},njILy:function(i,f){return i+f},WhSdt:function(i,f){return i(f)},EYVoU:c(265),XWvQe:c(271)};let a=!0;return function(i,f){const o=c,m={Bxcnw:function(y,d){return r.pIrxc(y,d)},tqLFs:function(y,d){return r.pIrxc(y,d)},VufFM:function(y,d){return r[Vt(229)](y,d)},FBPUJ:function(y,d){return y<d},hxaZI:function(y,d,h,v){return y(d,h,v)},VpWVk:function(y,d){return r.WhSdt(y,d)},hRpvM:r.EYVoU,znLsI:function(y,d){return r[Vt(270)](y,d)}};if(r[o(269)](r.XWvQe,r[o(235)])){const y=m.Bxcnw(_0x34571c.w,_0x30c088.h),d=520/_0x279b55,h=d*y,v=m.Bxcnw(-_0x146cb5.x,_0x544c89),g=-_0x441be9.y/_0xf31d24;let N=v+m.tqLFs(h,2),b=m.VufFM(g,d/2),D=0;for(;m[o(272)](D,50)&&(_0x6c4c56[o(254)]??[]).some(_=>_0x436080[o(227)](_.position.x-N)<5&&_0x57582c[o(227)](_.position.y-b)<5);)N+=25,b+=25,N=_0x6695cd(N,0,_0x3fa8ed),b=m.hxaZI(_0x49d354,b,0,_0x4fb467),D++;const j={id:m[o(267)](_0x2880c3,m[o(263)]),name:o(259)+m.VufFM((_0x14763b[o(254)]??[])[o(246)],1),position:{x:N,y:b},rotation:135,petalType:o(230),colorId:_0x310dd8[o(248)]?.find(_=>_.id===o(245)||_.id==="col_darkgreen")?.id??_0x5e5201[o(248)]?.[0]?.id??o(245),scale:1,widthScale:1,visible:!0,locked:!1};_0xeaf462(_=>{_[o(254)]||(_.leaves=[]),_.leaves.push(j)},!0),m[o(234)](_0x493ccf,{kind:m[o(263)],leafId:j.id})}else{const y=a?function(){const d=o,h={NqBKJ:function(v,g,N,b){return r[Vt(244)](v,g,N,b)}};if(f)if(r[d(269)](r[d(221)],r[d(221)]))_0x3ba4b+=25,_0x13506b+=25,_0x1d752a=_0x5918a1(_0x148626,0,_0x15dc74),_0x1da8ae=h.NqBKJ(_0x1a6c66,_0x3c8c4f,0,_0x39a8d8),_0x5290fc++;else{const v=f.apply(i,arguments);return f=null,v}}:function(){};return a=!1,y}}})(),Ts=nb(void 0,function(){const c=Vt,r={msQTq:c(222)};return Ts.toString()[c(220)](r[c(251)])[c(249)]().constructor(Ts)[c(220)](r[c(251)])});Ts();function lb({project:c,applyUpdate:r,selection:a,setSelection:i,zoom:f,pan:o,stageSize:m,CANVAS_MAX_SVG:y}){const d=Vt,h={smDLs:function(B,k){return B/k},yDwmQ:function(B,k){return B*k},wBlnw:function(B,k){return B+k},kPzvM:function(B,k){return B(k)},cNHJE:"",htasJ:function(B,k,E){return B(k,E)},mGdsE:"PAgdX",hldEJ:"aEJEu",ybxOk:d(231),HbIRZ:function(B,k){return B===k},wkjXH:"leaves",yLaSO:"PsFyB",jjtgx:function(B,k){return B(k)},XVUEl:function(B,k){return B+k},KJPoh:function(B,k,E){return B(k,E)},HLuUp:function(B,k){return B(k)},vtqRC:function(B,k,E){return B(k,E)},NmNEk:function(B,k,E){return B(k,E)},eBQxY:function(B,k){return B===k},swxav:function(B,k,E){return B(k,E)}},v=()=>{const B=d,k=h.smDLs(m.w,m.h),E=520/f,q=h.yDwmQ(E,k),Z=-o.x/f,V=-o.y/f;let Y=h[B(247)](Z,q/2),P=V+E/2,te=0;for(;te<50&&(c[B(254)]??[]).some(W=>Math[B(227)](W.position.x-Y)<5&&Math[B(227)](W[B(274)].y-P)<5);)Y+=25,P+=25,Y=je(Y,0,y),P=je(P,0,y),te++;const Q={id:h[B(238)](Ot,B(265)),name:B(259)+((c[B(254)]??[]).length+1),position:{x:Y,y:P},rotation:135,petalType:h.cNHJE,colorId:c[B(248)]?.find(W=>W.id===B(245)||W.id==="col_darkgreen")?.id??c.palette?.[0]?.id??"col_green",scale:1,widthScale:1,visible:!0,locked:!1};h.htasJ(r,W=>{const C=B;W.leaves||(W[C(254)]=[]),W.leaves.push(Q)},!0),i({kind:"leaf",leafId:Q.id})},g=B=>{const k=d;h.mGdsE===h[k(268)]?_0xf19c6b[k(256)]=_0x483277.leafIds[k(275)](E=>E!==_0x4c2762):(r(E=>{const q=k;if(E.leaves=(E[q(254)]??[]).filter(Z=>Z.id!==B),E[q(257)]){for(const Z of E[q(257)])Z[q(256)]=Z[q(256)].filter(V=>V!==B);E.leafGroups=E[q(257)][q(275)](Z=>Z[q(256)].length>0)}},!0),i({kind:h.ybxOk}))},N=F.useCallback(B=>{const k=d;if(a.kind==="leaves"){const E=a[k(256)];if(E[k(232)](B)){const q=E[k(275)](Z=>Z!==B);h.HbIRZ(q.length,0)?h[k(238)](i,{kind:k(231)}):q[k(246)]===1?i({kind:k(265),leafId:q[0]}):i({kind:h.wkjXH,leafIds:q})}else i({kind:"leaves",leafIds:[...E,B]})}else if(h[k(264)](a[k(224)],k(265))){if(a.leafId===B)return;i({kind:k(254),leafIds:[a[k(226)],B]})}else h.yLaSO==="PsFyB"?h[k(260)](i,{kind:h[k(252)],leafIds:[B]}):_0xad9e0b.leafIds=_0x4df837.leafIds[k(275)](E=>E!==_0x48ddb1)},[a,i]),b=h.swxav(F.useCallback,B=>{const k=d,E=h[k(260)](Ot,"lg"),q=" "+h.XVUEl((c[k(257)]??[]).length,1);h[k(255)](r,Z=>{const V=k;Z.leafGroups||(Z[V(257)]=[]),Z[V(257)][V(225)]({id:E,name:q,leafIds:[...B],rotation:0})},!0),h[k(262)](i,{kind:"leafGroup",leafGroupId:E})},[c[d(257)],r,i]),D=F.useCallback(B=>{const k=d;h[k(233)](r,E=>{const q=k;E[q(257)]&&(E.leafGroups=E.leafGroups[q(275)](Z=>Z.id!==B))},!0),i({kind:k(231)})},[r,i]),j=h.swxav(F.useCallback,(B,k)=>{const E=d;h[E(223)](r,q=>{const Z=E,V=(q.leafGroups??[]).find(Y=>Y.id===k);V&&!V.leafIds[Z(232)](B)&&V[Z(256)].push(B)},!0)},[r]),_=F.useCallback(B=>{const k=d;h[k(255)](r,E=>{const q=k;if(h.eBQxY(q(266),q(273))){if(_0x5f2972.leaves=(_0x62a4b8[q(254)]??[])[q(275)](Z=>Z.id!==_0x220920),_0x2a9120[q(257)]){for(const Z of _0x370f09.leafGroups)Z[q(256)]=Z[q(256)][q(275)](V=>V!==_0x9b63d1);_0x31cfe6.leafGroups=_0x24acdf.leafGroups[q(275)](Z=>Z.leafIds[q(246)]>0)}}else{if(!E[q(257)])return;for(const Z of E.leafGroups)Z[q(256)]=Z[q(256)][q(275)](V=>V!==B);E[q(257)]=E[q(257)][q(275)](Z=>Z[q(256)].length>0)}},!0)},[r]);return{addLeaf:v,deleteLeafById:g,handleShiftLeafSelect:N,groupSelectedLeaves:b,ungroupLeaves:D,addLeafToGroup:j,removeLeafFromGroup:_}}function gn(c,r){c=c-265;const a=Zc();let i=a[c];if(gn.cDxuxK===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};gn.SAzMOI=f,gn.TjIBhD={},gn.cDxuxK=!0}const o=a[0],m=c+o,y=gn.TjIBhD[m];if(y)i=y;else{const d=function(h){this.LmjBEX=h,this.WSncDY=[1,0,0],this.pDouQd=function(){return"newState"},this.sLFDfp="\\w+ *\\(\\) *{\\w+ *",this.pspovr=`['|"].+['|"];? *}`};d.prototype.qOMUrN=function(){const h=new RegExp(this.sLFDfp+this.pspovr),v=h.test(this.pDouQd.toString())?--this.WSncDY[1]:--this.WSncDY[0];return this.ldStsr(v)},d.prototype.ldStsr=function(h){return~h?this.KtbdmK(this.LmjBEX):h},d.prototype.KtbdmK=function(h){for(let v=0,g=this.WSncDY.length;v<g;v++)this.WSncDY.push(Math.round(Math.random())),g=this.WSncDY.length;return h(this.WSncDY[0])},new d(gn).qOMUrN(),i=gn.SAzMOI(i),gn.TjIBhD[m]=i}return i}function Zc(){const c=["zMfICMLJu3f1yxjLu2L6zq","zMXVD2vYCW","CvPKAuG","suH1Ce0","rxv4ruS","CM91BMq","CMv2zxjZzq","oxbhzfDUuG","y29Z","zM5YvfG","y29ADeq","uLLyDvO","C2L6zvn0zxbnBq","EeD5EMi","AvD0wKC","qvnbzhm","y0LxvMu","C2L6zu1Vzgu","DLHuBfq","mtaWmZu3nerqufLxEa","zMXVD2vY","ENvwALm","CgXHy2vTzw50tw9Kzq","z3DIrvq","ze5brw8","tgf5zxi","mZC1odbLr2fxEuW","ndGWmdmWsMDxtLzA","q3bIzw0","ywjZ","DxvqAKC","z0DTBLC","zuDIvwm","yNnTq3O","nJqZmZqWnePgEg9Nyq","uezhtgW","AKDxD0m","tgf5zxiG","yxbWBhK","mZi4CuXOzNjs","C2vHCMnO","odiYnZq1mLDkq21pDG","kcGOlISPkYKRksSK","ueL6ENu","z3jHzhvHBa","C09SA24","B1nqBwC","mxWZFdr8mNWW","BgvUz3rO","C29YDa","we1vrui","mJC2oePpEhbkzW","yMfZzurPyw1LDgvY","5y2k44gp44gz","tfLfqMS","s0zWEe8","Cg9ZAxrPB24","r2fWv0i","rMXVD2vYia","zMXVD2vYrgLHBwv0zxi","BwDsBgy","uvH0wwK","y0TRwM4","ChvZAa","DhvXEwK","44or44o844oR","C2nHBgu","q2j1BM8","BwDIyK8","mZyWuLfMrKvY","D3HMBui","mtfIB1LzyvO","5lI444gK44g+44g/","q1rwuhK","B3jKzxi","veL6Bvq","Dg9tDhjPBMC","rwjdDM8","CMfKAxvZ","Dw5PzM9YBq","se9ysLi","q2vUDgvY","nty1ntnArNzAufm","C29Tzq","mtaWmLP2vLvkvG","C3bSAxq","zgLHBwv0zxi"];return Zc=function(){return c},Zc()}(function(c,r){const a=gn,i=c();for(;;)try{if(parseInt(a(294))/1+-parseInt(a(326))/2*(parseInt(a(272))/3)+-parseInt(a(314))/4*(parseInt(a(301))/5)+parseInt(a(309))/6+-parseInt(a(270))/7*(-parseInt(a(344))/8)+parseInt(a(282))/9*(-parseInt(a(302))/10)+parseInt(a(346))/11*(-parseInt(a(316))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Zc,627171);const ab=(function(){let c=!0;return function(r,a){const i=gn;i(319);const f=c?function(){const o=i;if(o(328),a){const m=a[o(313)](r,arguments);return a=null,m}}:function(){};return c=!1,f}})(),Ls=ab(void 0,function(){const c=gn,r={zuVjS:c(317)};return Ls.toString().search(r[c(296)])[c(351)]().constructor(Ls)[c(315)](r[c(296)])});Ls();function ib({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:f,pan:o,stageSize:m,CANVAS_MAX_SVG:y}){const d=gn,h={IHupM:function(_,B,k,E){return _(B,k,E)},sOlkn:function(_,B){return _===B},vXTlT:"NpNaq",mUMTC:function(_,B){return _(B)},xGyzb:function(_,B){return _(B)},KFpxO:function(_,B){return _===B},qZdiH:function(_,B){return _+B},XMUEB:function(_,B,k,E){return _(B,k,E)},GapWB:function(_,B){return _/B},xpvrt:function(_,B){return _*B},BwUcj:function(_,B){return _*B},jGWwC:"Outer+",ROZaY:"uniform",gGmnW:function(_,B){return _===B},lFRSU:function(_,B){return _===B},iJLAX:d(319),iWtZG:function(_,B,k,E){return _(B,k,E)},HOXJR:function(_,B){return _-B},ILAvu:function(_,B){return _*B},ZTnSQ:function(_,B){return _===B},wQcJK:d(303),PFGLl:function(_,B){return _>B},bsmCz:function(_,B){return _*B},vaaIm:function(_,B){return _+B},geeaq:function(_,B){return _/B},coZtD:function(_,B){return _===B},CTVPy:function(_,B){return _===B},xmbNa:"Layer",ASAds:function(_,B){return _===B},ssPIr:function(_,B){return _(B)},oSPmg:"",cqGUn:function(_,B,k,E,q){return _(B,k,E,q)},mgbbO:function(_,B){return _/B},aEpPe:function(_,B){return _/B},uuPjG:d(322),cIWVe:"flw",LYEBk:"col_white",JePNl:d(295)},[v,g]=F.useState(!1),[N,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d(347),sizeMode:d(267),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:v,setShowAddFlowerDialog:g,addFlowerOpts:N,setAddFlowerOpts:b,addFlower:()=>{const _=d,B={XBrcU:_(328),duMDF:function(k,E){return k===E},daPFJ:_(335),ehvno:function(k,E,q,Z){return h.IHupM(k,E,q,Z)}};if(h[_(320)](h.vXTlT,h[_(293)])){const k=c[_(275)],E=c.baseDiameter;h.mUMTC(b,q=>{const Z=_,V={Cbuno:Z(300)},Y={...q,fabricSquareSize:k,baseDiameter:E};return Y[Z(297)]===B.XBrcU?B.duMDF("mgRlf",B.daPFJ)?Y[Z(334)]=B.ehvno(Xl,E,k,{layerCount:Y.layerCount,sizeMode:Y[Z(292)],sizeStepMm:Y[Z(287)]}).diameter:_0x2bc43f=V[Z(342)]:Y.flowerDiameter=ar(k,Y.layerCount,Y.sizeMode,Y.sizeStepMm),Y}),h[_(288)](g,!0)}else _0x5914ae=_0x2d33b5},confirmAddFlower:()=>{const _=d,B={DvzOE:"2|4|3|0|1",PqNCh:function(de,we,me,Ae){return h[gn(325)](de,we,me,Ae)}},{placementMode:k,layerCount:E,petalCount:q,petalType:Z,sizeMode:V,sizeStepMm:Y}=N,P=N.fabricSquareSize,{length:te}=It(P),Q=.28,W=h[_(332)](Math.round(h.xpvrt(h.BwUcj(te,Q),10)),10),C=[],S=[_(269),"Inner","Middle","Outer",h[_(311)]];let L=W,M=0;for(let de=0;de<E;de++){const we=de,me=1;let Ae;if(h.KFpxO(V,h.ROZaY))Ae=me;else{const ht=Y/P;Ae=h[_(325)](je,h.qZdiH(me,we*ht),.3,3)}let $e;if(h[_(306)](de,0))$e=W;else{const ht=h.lFRSU(V,h.iJLAX)?h.iWtZG(je,1+h[_(268)](de,1)*Y/P,.3,3):1,At=h.ILAvu(te,ht);let _t;if(h.ZTnSQ(k,""))if(_(336)===h.wQcJK){const mt=h.KFpxO(_0x3ad927,2)?[0,3]:_0x41e3e6===3?[0,1,3]:h[_(330)](_0x4014ef,4)?[0,1,2,3]:[0,1,2,3,4];_0x3da4e6=_0x56cf95[mt[_0x2deb61]]??_(312)+h[_(277)](_0x26e4f9,1)}else{const Zt=h.BwUcj(70,Math.PI)/180,yn=h[_(310)](E,1)?h[_(308)](h[_(332)](de,E-1),Zt):0,Rn=Math[_(283)](yn);_t=At*(30/100)*Rn}else _t=At/3;L=h.vaaIm(L,_t),$e=h.geeaq(Math[_(280)](L*10),10)}const ft=h[_(285)](de,0)?0:h[_(289)](Fn,q,M,q);M=ft;let st;if(E===1)h[_(348)](_(345),_(279))?(_0xd1040[_(266)]=_0x147e70[_(266)],_0x3a063b[_(341)]=_0x4aff16.scale):st=h.xmbNa;else if(E<=5)if(_(299)===_(350)){const ht=B.DvzOE[_(273)]("|");let At=0;for(;;){switch(ht[At++]){case"0":_0x314c4a=B.PqNCh(_0x4c35d4,_0x79d5d5,0,_0x188302);continue;case"1":_0x45f2c2++;continue;case"2":_0x599382+=_0x5611af;continue;case"3":_0x55befe=_0x13266c(_0x307ff9,0,_0xdd579e);continue;case"4":_0x23b9d1+=_0x8caf5e;continue}break}}else{const ht=h[_(290)](E,2)?[0,3]:E===3?[0,1,3]:E===4?[0,1,2,3]:[0,1,2,3,4];st=S[ht[de]]??"Layer "+(de+1)}else st=_(312)+(de+1);C[_(338)]({id:h.ssPIr(Ot,"lay"),name:st,order:h[_(268)](E,de),petalType:Z,petalCount:q,radius:$e,scale:Ae,widthScale:h.mUMTC(ci,q),offsetAngle:ft,colorId:N.colorId||(c.palette?.[0]?.id??"col_white"),visible:!0,locked:!1})}C[_(281)]();const w=[...C][_(324)]((de,we)=>de[_(349)]-we[_(349)]),A=k===h.oSPmg?h[_(278)](Xl,N.baseDiameter,P,{layerCount:E,sizeMode:V,sizeStepMm:Y})[_(274)]:h.cqGUn(ar,P,E,V,Y);Wc(w,P,N[_(334)]||A);for(const de of w){const we=C.find(me=>me.id===de.id);we&&(we.radius=de[_(266)],we.scale=de.scale)}const G=h[_(343)](m.w,m.h),I=520/f,O=I*G,z=-o.x/f,R=-o.y/f;let H=z+h.aEpPe(O,2),X=R+I/2;const le=25;let ue=0;for(;ue<50&&c[_(276)][_(271)](de=>Math[_(304)](de[_(331)].x-H)<5&&Math.abs(de.position.y-X)<5);){const de=h[_(305)].split("|");let we=0;for(;;){switch(de[we++]){case"0":ue++;continue;case"1":H+=le;continue;case"2":X=h.iWtZG(je,X,0,y);continue;case"3":X+=le;continue;case"4":H=h.XMUEB(je,H,0,y);continue}break}}const oe=N[_(334)]||A,_e={id:Ot(h[_(291)]),name:_(333)+(c.flowers[_(323)]+1),position:{x:H,y:X},flowerDiameter:oe,rotation:0,layers:C,center:{type:_(340),size:6,color:h[_(329)]},fabricSquareSize:P,placementMode:k,baseDiameter:k===h[_(321)]?N[_(327)]:tr(oe)};r(de=>{de[_(276)].push(_e)},!0),a({kind:h.JePNl,flowerId:_e.id}),h.ssPIr(i,de=>({...de,[_e.id]:!0})),g(!1)}}}function qn(c,r){c=c-171;const a=Kc();let i=a[c];if(qn.jvHjwt===void 0){var f=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let v="",g="",N=v+f;for(let b=0,D,j,_=0;j=d.charAt(_++);~j&&(D=b%4?D*64+j:j,b++%4)?v+=N.charCodeAt(_+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=h.indexOf(j);for(let b=0,D=v.length;b<D;b++)g+="%"+("00"+v.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(g)};qn.qRIMVf=f,qn.cmBUVs={},qn.jvHjwt=!0}const o=a[0],m=c+o,y=qn.cmBUVs[m];if(y)i=y;else{const d=function(h){this.SdFDwl=h,this.JXejXE=[1,0,0],this.jiamUy=function(){return"newState"},this.KMXknJ="\\w+ *\\(\\) *{\\w+ *",this.cTjXbt=`['|"].+['|"];? *}`};d.prototype.UhjXFZ=function(){const h=new RegExp(this.KMXknJ+this.cTjXbt),v=h.test(this.jiamUy.toString())?--this.JXejXE[1]:--this.JXejXE[0];return this.Mwtbjj(v)},d.prototype.Mwtbjj=function(h){return~h?this.ZGGuAZ(this.SdFDwl):h},d.prototype.ZGGuAZ=function(h){for(let v=0,g=this.JXejXE.length;v<g;v++)this.JXejXE.push(Math.round(Math.random())),g=this.JXejXE.length;return h(this.JXejXE[0])},new d(qn).UhjXFZ(),i=qn.qRIMVf(i),qn.cmBUVs[m]=i}return i}(function(c,r){const a=qn,i=c();for(;;)try{if(-parseInt(a(233))/1+-parseInt(a(179))/2*(parseInt(a(234))/3)+parseInt(a(195))/4*(-parseInt(a(211))/5)+-parseInt(a(189))/6*(parseInt(a(217))/7)+-parseInt(a(178))/8+-parseInt(a(210))/9*(parseInt(a(185))/10)+parseInt(a(177))/11*(parseInt(a(182))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Kc,784773);const rb=(function(){let c=!0;return function(r,a){const i=qn,f={xrqFt:i(174)};if(i(232)!==i(219)){const o=c?function(){if(a){const m=a.apply(r,arguments);return a=null,m}}:function(){};return c=!1,o}else return _0xa8f74f.kind===f[i(213)]?(_0x5b7e67[i(225)]??[])[i(197)](o=>o.id===_0x48f13e[i(236)])??null:null}})(),Es=rb(void 0,function(){const c=qn,r={eOSiW:c(215)};return Es.toString().search(r[c(192)]).toString()[c(201)](Es)[c(205)](r.eOSiW)});function Kc(){const c=["zuLiBge","owjsBgDnBW","odC4ntq1uuLJC3z2","zxnRAfm","EhjXrNq","uw5UBwe","kcGOlISPkYKRksSK","Aw5JBhvKzxm","mZy4odm3shjQrgfT","BgvHzKLKCW","yvbJBMC","r29bAMq","A3PfwLe","rwj5zwW","BgvHzKDYB3vWswq","swTSCgG","BgvHDMvZ","zMXVD2vYswrZ","AxjWyMy","z3jVDxa","zLrkq1m","zMLSDgvY","zMXVD2vYswq","v3HSAM8","ndy1odG0wxnYAunq","nJC1ou9RtvbtuG","wurTEwe","BgvHzKLK","Bgf5zxjZ","EuPxr2K","Cxn6Dg4","reDjtgC","BgvHzG","AuDMD3u","yu1WA3y","mti0m0PfzMXIyG","ndC3mdGXnMfYEvbMuG","ndmWB3fPu3vI","DwnHCKO","A2LUza","ntmXmJuYruv0Bvnx","CuzktK8","zMXVD2vYCW","ote0ntyZmfvPvLbhyW","z3jVDxbjza","z3jVDxbZ","A0DiufG","mtiWrLLYr0Lu","Cgv0ywW","s1PUELG","zu9tAvC","BgvHzKDYB3vW","BgvHzKDYB3vWCW","mtzKq1HTDuO","Cgv0ywXZ","zMLUza","Bgf5zxi","zw5hvuy","zKjiueK","y29UC3rYDwn0B3i","AeTgwMC","qNjjzuK","vLrkzKC","C2vHCMnO","qwjSzfu","Dg9tDhjPBMC","vxjlA1y"];return Kc=function(){return c},Kc()}Es();function cb(c,r){const a=qn,i={DGILg:function(j,_){return j===_},enGUF:"flower",kzEZQ:a(198),fBHPI:function(j,_){return j===_},kGHPX:a(190),GoAjd:function(j,_){return j===_},hKFZg:"Qnnma",UrKkV:a(184),iGfwu:a(228),AbldU:"leaf",muZTe:"MLYnr",NLrlJ:function(j,_){return j===_},dOVob:function(j,_,B){return j(_,B)},rztfY:function(j,_){return j!==_},rPOFS:a(229),eskhS:function(j,_){return j===_},Ebyel:function(j,_){return j===_},aMpkv:"petals",xnNMK:a(171),JNCnY:function(j,_,B){return j(_,B)},VTJfG:function(j,_){return j===_},qFJNO:function(j,_,B){return j(_,B)},Wlufe:function(j,_){return j===_},eIHla:function(j,_){return j===_},YDmya:function(j,_){return j===_},irpbf:function(j,_){return j===_},PlooT:function(j,_,B){return j(_,B)}},f=F.useMemo(()=>{const j=a;return i[j(173)](r.kind,i[j(199)])||r.kind===i.kzEZQ||i[j(200)](r.kind,i.kGHPX)||i.GoAjd(r.kind,"petals")?c[j(184)].find(_=>_.id===r[j(231)])??null:null},[c[a(184)],r]),o=i.dOVob(F.useMemo,()=>{const j=a;if(i.fBHPI(j(214),i[j(202)])){if(r[j(181)]===i[j(208)])return c.flowers[j(230)](_=>r[j(226)][j(216)](_.id));if(r.kind===i.iGfwu){const _=(c.groups??[])[j(197)](B=>B.id===r.groupId);if(_)return c.flowers.filter(B=>_.flowerIds[j(216)](B.id))}return[]}else{const _=(_0xc246c0.leafGroups??[])[j(197)](B=>B.id===_0x3c695a[j(223)]);if(_)return new _0xa7aabb(_[j(218)])}},[c[a(184)],c.groups,r]),m=F.useMemo(()=>{const j=a;return j(224)==="xzATZ"?(_0x5242f3.leafGroups??[]).find(_=>_.id===_0x44d1d8.leafGroupId)??null:i[j(200)](r.kind,i[j(206)])?(c.leaves??[]).find(_=>_.id===r.leafId)??null:null},[c[a(225)],r]),y=F.useMemo(()=>{const j=a;return r.kind==="leafGroup"?(c[j(194)]??[]).find(_=>_.id===r[j(223)])??null:null},[c[a(194)],r]),d=i[a(183)](F.useMemo,()=>{const j=a;return i.muZTe!==j(191)?f&&(i.NLrlJ(r.kind,i[j(221)])||r.kind==="petal")?f[j(237)][j(197)](_=>_.id===r.layerId)??null:null:_0x51c031[j(207)]()[j(205)](cXByCO[j(180)])[j(207)]()[j(201)](_0x5d5e04).search(j(215))},[f,r]),h=i[a(173)](r.kind,"petal")?r.index:null,v=i.Wlufe(r.kind,a(196))?r.petals:[],g=i[a(209)](r[a(181)],"stencil")?(c.stencils??[]).find(j=>j.id===r.stencilId)??null:null,N=i[a(212)](r.kind,"flower")||i[a(235)](r.kind,a(198))||i[a(227)](r.kind,"petal")||i[a(209)](r.kind,a(196))?r[a(231)]:null,b=i.dOVob(F.useMemo,()=>{const j=a;if(i.rztfY(i.rPOFS,j(203))){if(r.kind===i[j(175)]){const _=(c[j(187)]??[]).find(B=>B.id===r[j(186)]);if(_)return new Set(_.flowerIds)}if(i[j(220)](r.kind,"flowers"))return new Set(r[j(226)]);if(r.kind==="flower"||r.kind===j(198)||i.eskhS(r.kind,i[j(188)])||i[j(222)](r.kind,i[j(176)])){if(i.GoAjd(j(172),i.xnNMK))return(_0x5b6112.leaves??[]).find(_=>_.id===_0xf2791f.leafId)??null;{const _=i.JNCnY(ba,c,r.flowerId);if(_)return r.kind===i.enGUF?new Set(_.flowerIds.filter(B=>B!==r[j(231)])):new Set(_[j(226)])}}return new Set}else{const _=i.dOVob(_0x45705b,_0x4513cb,_0x39eeac.flowerId);if(_)return i.DGILg(_0x5c5d9f.kind,i[j(199)])?new _0x4ccbd0(_.flowerIds[j(230)](B=>B!==_0x3011a3.flowerId)):new _0x307db6(_.flowerIds)}},[r,c]),D=i.PlooT(F.useMemo,()=>{const j=a;if(i[j(204)](r[j(181)],j(193))){const _=(c[j(194)]??[]).find(B=>B.id===r[j(223)]);if(_)return new Set(_[j(218)])}if(r.kind===i[j(206)]){const _=Xc(c,r[j(236)]);if(_)return new Set(_[j(218)].filter(B=>B!==r.leafId))}return new Set},[r,c]);return{selectedFlower:f,selectedFlowers:o,selectedLeaf:m,selectedLeafGroup:y,selectedLayer:d,selectedPetalIndex:h,selectedPetals:v,selectedStencil:g,selectedFlowerId:N,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function ub(c){const{project:r,selection:a,setSelection:i,applyUpdate:f}=c,o=F.useMemo(()=>new Map((r.palette||[]).map(fe=>[fe.id,fe])),[r.palette]),{widths:m,containerRef:y,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:v,isDesktop:g}=$m(),N=F.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[b,D]=F.useState({});F.useEffect(()=>{try{const ye=localStorage.getItem(N);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){D(Ue);return}}}catch{}const fe=r.flowers?.[0];fe&&D({[fe.id]:!0})},[N]),F.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify(b))}catch{}},[N,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const fe=a.flowerId;D(ye=>ye?.[fe]?ye:{...ye,[fe]:!0})}a.kind==="flowers"&&D(fe=>{const ye={...fe};for(const Ue of a.flowerIds)ye[Ue]=!0;return ye})},[a]);const j=fe=>b?.[fe]??!1,_=fe=>D(ye=>({...ye,[fe]:!(ye?.[fe]??!1)})),B=F.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[k,E]=F.useState({});F.useEffect(()=>{try{const ye=localStorage.getItem(B);if(ye){const Ue=JSON.parse(ye);if(Ue&&typeof Ue=="object"){E(Ue);return}}}catch{}const fe=r.groups??[];if(fe.length>0){const ye={};for(const Ue of fe)ye[Ue.id]=!0;E(ye)}},[B]),F.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(k))}catch{}},[B,k]);const q=fe=>k?.[fe]??!0,Z=fe=>E(ye=>({...ye,[fe]:!(ye?.[fe]??!0)})),V=F.useRef({flowerId:null,timer:null}),Y=fe=>{const ye=V.current.timer;ye&&window.clearTimeout(ye),V.current.flowerId=fe,V.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:fe}),D(Ue=>({...Ue,[fe]:!0})),V.current.timer=null,V.current.flowerId=null},200)},P=fe=>{const ye=V.current.timer;ye&&V.current.flowerId===fe&&window.clearTimeout(ye),V.current.timer=null,V.current.flowerId=null,i({kind:"flower",flowerId:fe}),_(fe)},te=F.useRef(null),[Q,W]=F.useState({w:520,h:520});F.useEffect(()=>{const fe=te.current;if(!fe)return;const ye=new ResizeObserver(Ue=>{for(const Qt of Ue){const{width:St,height:sn}=Qt.contentRect;St>0&&sn>0&&W({w:St,h:sn})}});return ye.observe(fe),()=>ye.disconnect()},[]);const C=fe=>{const ye=te.current;if(!ye)return{x:0,y:0};const Ue=ye.createSVGPoint();Ue.x=fe.clientX,Ue.y=fe.clientY;const Qt=ye.getScreenCTM();if(!Qt)return{x:0,y:0};const St=Ue.matrixTransform(Qt.inverse());return{x:St.x,y:St.y}},S=500*un,L=-300*un,M=800*un,w=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[A,G]=F.useState(6),[I,O]=F.useState(w[6]),z=F.useCallback(fe=>{G(ye=>{const Ue=typeof fe=="function"?fe(ye):fe;return O(w[Ue]),Ue})},[w]),R=F.useCallback(fe=>{const ye=je(fe,w[0],w[w.length-1]);O(ye);let Ue=0,Qt=Math.abs(w[0]-ye);for(let St=1;St<w.length;St++){const sn=Math.abs(w[St]-ye);sn<Qt&&(Ue=St,Qt=sn)}G(Ue)},[w]),[H,X]=F.useState({x:0,y:0}),[le,ue]=F.useState(!0),[oe,_e]=F.useState(!1),de=F.useRef(null),we=F.useMemo(()=>{const fe=Q.w/Q.h,ye=520,Ue=ye*fe;return(Qt,St=I)=>{const sn=je(Qt.x,-(M*St-Ue),-L*St),si=je(Qt.y,-(M*St-ye),-L*St);return{x:sn,y:si}}},[Q,I,L,M]),me=F.useMemo(()=>we(H),[H,we]),Ae=F.useCallback(fe=>X(fe),[]),$e=F.useMemo(()=>{const fe=Q.w/Q.h,ye=520,Ue=ye*fe,Qt=-me.x/I,St=-me.y/I;return`${Qt} ${St} ${Ue/I} ${ye/I}`},[I,me,Q]),{addLeaf:ft,deleteLeafById:st,handleShiftLeafSelect:ht,groupSelectedLeaves:At,ungroupLeaves:_t,addLeafToGroup:mt,removeLeafFromGroup:Zt}=lb({project:r,applyUpdate:f,selection:a,setSelection:i,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:S}),{showAddFlowerDialog:yn,setShowAddFlowerDialog:Rn,addFlowerOpts:$n,setAddFlowerOpts:Xe,addFlower:pn,confirmAddFlower:_l}=ib({project:r,applyUpdate:f,setSelection:i,setExpandedFlowers:D,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:S}),{selectedFlower:Wl,selectedFlowers:kn,selectedLeaf:ga,selectedLeafGroup:Yn,selectedLayer:ui,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:Bt,selectedFlowerId:We,groupHighlightedFlowerIds:xe,leafGroupHighlightedLeafIds:Be}=cb(r,a),{deleteFlowerById:qe,deleteLayerById:Se,addOuterLayer:ge,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ve,ungroupFlowers:Je,addToGroup:Oe,mergeGroups:Ve,addStencil:Qe,deleteStencil:Te,handleShiftFlowerSelect:gt,togglePetalSelection:Fe}=tb({project:r,applyUpdate:f,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:E,zoom:I,pan:me,stageSize:Q,CANVAS_MAX_SVG:S,deleteLeafById:st,ungroupLeaves:_t}),Me=im({project:r,selection:a,setSelection:i,applyUpdate:f,dragRef:c.dragRef,zoom:I,pan:me,setPan:Ae,stageRef:te,clientToSvgPoint:C,togglePetalSelection:Fe}),[et,tt]=F.useState(0),nt=a.kind,_n=nt==="flower"?a.flowerId:null,ya=nt==="flowers"?a.flowerIds?.join(","):null,Vl=nt==="layer"||nt==="petal"?a.layerId:null,Sn=nt==="petal"?a.index:null,Dt=nt==="petals"?a.petals?.length:null;F.useEffect(()=>{nt!=="project"&&tt(Date.now())},[nt,_n,ya,Vl,Sn,Dt]),F.useEffect(()=>{if(!de.current)return;const fe=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!fe)return;const ye=de.current.querySelector(`[data-flower-id="${fe}"]`);ye&&ye.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ht=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[et]);return s.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[s.jsx("span",{children:""}),s.jsx("span",{children:": 12/"})]}),s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:y,children:[s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.left}%`}:void 0,children:s.jsx(cm,{project:r,selection:a,setSelection:i,expandedFlowers:b,setExpandedFlowers:D,isExpanded:j,toggleExpanded:_,scheduleFlowerRowClick:Y,handleFlowerRowDoubleClick:P,addFlower:pn,deleteSelected:ze,addOuterLayer:ge,deleteOuterLayer:Ne,deleteFlowerById:qe,deleteLayerById:Se,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:de,groups:r.groups??[],expandedGroups:k,isGroupExpanded:q,toggleGroupExpanded:Z,onSelectGroup:fe=>i({kind:"group",groupId:fe}),onUngroupFlowers:Je,leaves:r.leaves??[],leafGroups:r.leafGroups??[],onSelectLeaf:fe=>i({kind:"leaf",leafId:fe}),onSelectLeafGroup:fe=>i({kind:"leafGroup",leafGroupId:fe}),onAddLeaf:ft,onDeleteLeaf:st})}),s.jsx(Ud,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:v}),s.jsx("div",{className:"min-w-0",style:{flex:1},children:s.jsx(Lm,{project:r,selection:a,setSelection:i,applyUpdate:f,paletteMap:o,selectedFlowerId:We,zoom:I,setZoom:R,zoomLevel:A,setZoomLevel:z,ZOOM_LEVELS:w,pan:me,panRaw:H,setPan:Ae,showGrid:le,setShowGrid:ue,showHelp:oe,setShowHelp:_e,stageRef:te,viewBox:$e,dashSyncToken:et,dashDelay:Ht,beginPan:Me.beginPan,updatePan:Me.updatePan,endPan:Me.endPan,beginMarquee:Me.beginMarquee,updateMarquee:Me.updateMarquee,endMarquee:Me.endMarquee,marqueeRef:Me.marqueeRef,marqueeRect:Me.marqueeRect,beginFlowerDrag:Me.beginFlowerDrag,updateFlowerDrag:Me.updateFlowerDrag,endFlowerDrag:Me.endFlowerDrag,scaleDragRef:Me.scaleDragRef,beginScaleDrag:Me.beginScaleDrag,updateScaleDrag:Me.updateScaleDrag,endScaleDrag:Me.endScaleDrag,rotationDragRef:Me.rotationDragRef,beginRotationDrag:Me.beginRotationDrag,updateRotationDrag:Me.updateRotationDrag,endRotationDrag:Me.endRotationDrag,widthScaleDragRef:Me.widthScaleDragRef,beginWidthScaleDrag:Me.beginWidthScaleDrag,updateWidthScaleDrag:Me.updateWidthScaleDrag,endWidthScaleDrag:Me.endWidthScaleDrag,radiusDragRef:Me.radiusDragRef,beginRadiusDrag:Me.beginRadiusDrag,updateRadiusDrag:Me.updateRadiusDrag,endRadiusDrag:Me.endRadiusDrag,togglePetalSelection:Fe,clientToSvgPoint:C,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:Qe,onDeleteStencil:Te,onSelectStencil:fe=>i({kind:"stencil",stencilId:fe}),handleShiftFlowerSelect:gt,groupHighlightedFlowerIds:xe,leaves:r.leaves??[],leafGroups:r.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Be,onSelectLeaf:fe=>i({kind:"leaf",leafId:fe}),onShiftSelectLeaf:ht})}),s.jsx(Ud,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:v}),s.jsx("div",{className:"min-w-0 shrink-0",style:g?{width:`${m.right}%`}:void 0,children:s.jsx(Wm,{project:r,selection:a,applyUpdate:f,selectedFlower:Wl,selectedFlowers:kn,selectedLayer:ui,selectedPetalIndex:Jl,selectedPetals:el,selectedStencil:Bt,onDeleteStencil:Te,groups:r.groups??[],onGroupFlowers:ve,onUngroupFlowers:Je,onAddToGroup:Oe,onMergeGroups:Ve,selectedLeaf:ga,selectedLeafGroup:Yn,leafGroups:r.leafGroups??[],onDeleteLeaf:st,onGroupLeaves:At,onUngroupLeaves:_t,onAddLeafToGroup:mt,onRemoveLeafFromGroup:Zt})})]}),yn&&s.jsx(Qm,{palette:r.palette,addFlowerOpts:$n,setAddFlowerOpts:Xe,onConfirm:_l,onCancel:()=>Rn(!1)}),oe&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>_e(!1),"data-testid":"help-overlay",children:s.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:fe=>fe.stopPropagation(),"data-testid":"help-modal",children:[s.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>_e(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),s.jsx("div",{className:"text-lg font-semibold",children:" & "}),s.jsx("table",{className:"mt-4 w-full text-sm",children:s.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([fe,ye])=>s.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[s.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:fe}),s.jsx("td",{className:"py-2 text-neutral-700",children:ye})]},fe))})}),s.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:s.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),s.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function sb({cg:c}){const[r,a]=F.useState("w"),[i,f]=F.useState(""),o=c.totalAreaCm2,m=parseFloat(i),d=i!==""&&Number.isFinite(m)&&m>0?Math.round(o/m*10)/10:null;return s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),s.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),s.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),s.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600",children:""}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),s.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",s.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),s.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",o,"cm)"]})]})]}),s.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm  "}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),f("")},title:"",children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"shrink-0",children:""}),s.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),s.jsx("span",{className:"shrink-0",children:" "}),s.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>f(h.target.value),min:.1,step:.1}),s.jsx("span",{className:"shrink-0",children:"cm"}),s.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),f("")},title:"",children:""})]})})]})]})}function xb(c){const{recipe:r}=c;return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-semibold",children:""}),s.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),s.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),s.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?s.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:s.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):s.jsxs(s.Fragment,{children:[r.colors.map(a=>s.jsx(sb,{cg:a},a.colorId)),r.bases.length>0&&s.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[s.jsx("div",{className:"text-sm font-semibold",children:""}),s.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[s.jsxs("span",{children:[s.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),s.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function ob(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),s.jsx("p",{className:"mt-2",children:" "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),s.jsx("p",{className:"mt-2",children:"Web "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),s.jsx("p",{className:"mt-2",children:" localStorage  "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:"JSON"}),s.jsx("li",{children:"localStorage 5MB"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),s.jsx("p",{className:"mt-2",children:" as-is"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),s.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function fb(c){return s.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[s.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("h1",{className:"text-2xl font-bold",children:""}),s.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),s.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:"localStorage"}),s.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),s.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:" Google "}),s.jsx("li",{children:" Cookie "})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),s.jsx("p",{className:"mt-2",children:" localStorage "}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[s.jsx("li",{children:""}),s.jsx("li",{children:""}),s.jsx("li",{children:""})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),s.jsx("p",{className:"mt-2",children:""})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),s.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),s.jsx("p",{className:"mt-2",children:" "})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function db(c){return s.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),s.jsx("span",{className:"text-neutral-300",children:"|"}),s.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),s.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function hb(){const[c,r]=F.useState("home"),[a,i]=F.useState([]),[f,o]=F.useState(null),[m,y]=F.useState({kind:"project"}),[d,h]=F.useState([]),[v,g]=F.useState(0),N=F.useRef(f),b=F.useRef(d),D=F.useRef(v);F.useEffect(()=>{N.current=f},[f]),F.useEffect(()=>{b.current=d},[d]),F.useEffect(()=>{D.current=v},[v]);const j=F.useRef(null),_=F.useRef(null),B=F.useRef(null),k=F.useRef(null),[E,q]=F.useState(null);F.useEffect(()=>{const O=E?window.setTimeout(()=>q(null),2200):null;return()=>{O&&window.clearTimeout(O)}},[E]),F.useEffect(()=>{i(lr())},[]);function Z(O){const z=JSON.stringify(O);h([z]),g(0)}function V(O,z=!0){if(!z){o(we=>{if(!we)return we;const me=Kl(we);return O(me),me.updatedAt=Mc(),me});return}const R=N.current;if(!R)return;const H=Kl(R);O(H),H.updatedAt=Mc(),o(H);const X=b.current,le=D.current;if(X.length===0){Z(H);return}const ue=JSON.stringify(H);let _e=[...X.slice(0,le+1),ue];const de=50;_e.length>de&&(_e=_e.slice(_e.length-de)),h(_e),g(_e.length-1)}function Y(){g(O=>{if(O<=0)return O;const z=O-1,R=b.current[z];return R&&o(ma(JSON.parse(R))),q("Undo"),z})}function P(){g(O=>{if(O>=b.current.length-1)return O;const z=O+1,R=b.current[z];return R&&o(ma(JSON.parse(R))),q("Redo"),z})}function te(){if(!f)return;const O=I2(f);i(lr()),q(O?"Saved":" ")}function Q(){if(!f)return;const O=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),z=URL.createObjectURL(O),R=document.createElement("a");R.href=z,R.download=`${f.title||"tsumami"}.json`,R.click(),URL.revokeObjectURL(z),q("JSON exported")}function W(O){const z=new FileReader;z.onload=()=>{try{const R=JSON.parse(String(z.result??""));if(!R||typeof R!="object"||!Array.isArray(R.flowers))throw new Error("Invalid JSON");const H=ma(R);o(H),y({kind:"project"}),Z(H),r("editor"),q("Imported")}catch{q("Import failed")}},z.readAsText(O)}function C(O){const z=ma(O);o(z),y({kind:"project"}),Z(z),r("editor")}function S(O){return O&&(O.kind==="flower"||O.kind==="layer"||O.kind==="petal")?O.flowerId:null}function L(){if(!f)return;const O=S(m);if(!O)return;const z=f.flowers.find(R=>R.id===O);z&&(_.current=Kl(z),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:z},null,2)).catch(()=>{}),q("Flower copied"))}function M(){if(!f||m.kind!=="leaf")return;const O=(f.leaves??[]).find(z=>z.id===m.leafId);O&&(B.current=Kl(O),q("Leaf copied"))}function w(){if(!f)return;const O=_.current;if(!O){q("Nothing to paste");return}const z=G2(O,{x:12+Math.random()*10,y:12+Math.random()*10});V(R=>{R.flowers.push(z)},!0),y({kind:"flower",flowerId:z.id}),q("Flower pasted")}function A(){if(!f)return;const O=B.current;if(!O)return;const z=Ot("leaf"),R={...Kl(O),id:z,name:O.name+" (copy)",position:{x:O.position.x+30,y:O.position.y+30}};V(H=>{H.leaves||(H.leaves=[]),H.leaves.push(R)},!0),y({kind:"leaf",leafId:R.id}),q("Leaf pasted")}function G(O){if(!f)return;const z=S(m);z&&(V(R=>{const H=R.flowers.findIndex(oe=>oe.id===z);if(H<0)return;const X=R.flowers,le=X[H];if(!le)return;if(X.splice(H,1),O==="front"){X.push(le);return}if(O==="back"){X.unshift(le);return}if(O==="forward"){if(H>=X.length){X.push(le);return}X.splice(H+1,0,le);return}const ue=je(H-1,0,X.length);X.splice(ue,0,le)},!0),q(O==="front"?"Brought to front":O==="back"?"Sent to back":O==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function O(R){const H=R;if(!H)return!1;const X=String(H.tagName||"").toLowerCase();return X==="input"||X==="textarea"||X==="select"||!!H.isContentEditable}function z(R){if(!(O(R.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?R.metaKey:R.ctrlKey))){if(c==="editor"){if(R.key.toLowerCase()==="c"){R.preventDefault(),m.kind==="leaf"?M():L();return}if(R.key.toLowerCase()==="v"){R.preventDefault(),B.current&&(m.kind==="leaf"||m.kind==="leaves"||m.kind==="leafGroup"||!_.current)?A():w();return}}R.key.toLowerCase()==="z"&&(R.preventDefault(),R.shiftKey?P():Y()),R.key.toLowerCase()==="s"&&(R.preventDefault(),te())}}return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[f,d,v,m,c]);const I=F.useMemo(()=>f?Z2(f):null,[f]);return s.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[s.jsx(V2,{view:c,onNavigate:r,project:f,onSave:te,onLoad:()=>r("home"),onImportJson:()=>k.current?.click(),onExportJson:Q,onExportSvg:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&X2(O,`${f.title||"tsumami"}.svg`)},onExportPng:()=>{const O=document.querySelector('[data-testid="canvas-svg"]');O&&f&&W2(O,`${f.title||"tsumami"}.png`)}}),s.jsx("input",{ref:k,type:"file",accept:"application/json",className:"hidden",onChange:O=>{const z=O.target.files?.[0];z&&W(z),O.currentTarget.value=""}}),E&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:E}),s.jsxs("main",{className:"flex-1",children:[c==="home"&&s.jsx(Q2,{saved:a,onNew:()=>r("new"),onOpen:O=>{const z=ma(Kl(O));o(z),y({kind:"project"}),Z(z),r("editor")},onDelete:O=>{H2(O),i(lr()),q("Deleted")}}),c==="new"&&s.jsx(P2,{onBack:()=>r("home"),onCreate:O=>{const z=q2({title:O});C(z)}}),c==="editor"&&f&&s.jsx(ub,{project:f,selection:m,setSelection:y,applyUpdate:V,onGoRecipe:()=>r("recipe"),onImport:W,dragRef:j,onCopyFlower:L,onPasteFlower:w,onArrangeFlower:G,canPasteFlower:!!_.current,onUndo:Y,onRedo:P,canUndo:v>0,canRedo:v<d.length-1}),c==="recipe"&&f&&I&&s.jsx(xb,{project:f,recipe:I,onBack:()=>r("editor"),onExportJson:Q}),c==="terms"&&s.jsx(ob,{onBack:()=>r("home")}),c==="privacy"&&s.jsx(fb,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!f&&s.jsx("div",{className:"mx-auto max-w-3xl p-6",children:s.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),s.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&s.jsx(db,{onNavigate:r})]})}class mb extends F.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),s.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),s.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),s.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}y2.createRoot(document.getElementById("root")).render(s.jsx(F.StrictMode,{children:s.jsx(mb,{children:s.jsx(hb,{})})}));

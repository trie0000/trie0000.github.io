(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();var $u={exports:{}},Pi={};var Md;function xh(){if(Md)return Pi;Md=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var g in o)g!=="key"&&(f[g]=o[g])}else f=o;return o=f.ref,{$$typeof:c,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Pi.Fragment=i,Pi.jsx=a,Pi.jsxs=a,Pi}var zd;function sh(){return zd||(zd=1,$u.exports=xh()),$u.exports}var x=sh(),ex={exports:{}},De={};var Dd;function oh(){if(Dd)return De;Dd=1;var c=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,C={};function E(N,B,U){this.props=N,this.context=B,this.refs=C,this.updater=U||D}E.prototype.isReactComponent={},E.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},E.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function q(){}q.prototype=E.prototype;function k(N,B,U){this.props=N,this.context=B,this.refs=C,this.updater=U||D}var H=k.prototype=new q;H.constructor=k,j(H,E.prototype),H.isPureReactComponent=!0;var Z=Array.isArray;function J(){}var Y={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function $(N,B,U){var W=U.ref;return{$$typeof:c,type:N,key:B,ref:W!==void 0?W:null,props:U}}function P(N,B){return $(N.type,B,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===c}function y(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(U){return B[U]})}var v=/\/+/g;function z(N,B){return typeof N=="object"&&N!==null&&N.key!=null?y(""+N.key):B.toString(36)}function M(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(J,J):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function w(N,B,U,W,le){var se=typeof N;(se==="undefined"||se==="boolean")&&(N=null);var oe=!1;if(N===null)oe=!0;else switch(se){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(N.$$typeof){case c:case i:oe=!0;break;case p:return oe=N._init,w(oe(N._payload),B,U,W,le)}}if(oe)return le=le(N),oe=W===""?"."+z(N,0):W,Z(le)?(U="",oe!=null&&(U=oe.replace(v,"$&/")+"/"),w(le,B,U,"",function(me){return me})):le!=null&&(I(le)&&(le=P(le,U+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(v,"$&/")+"/")+oe)),B.push(le)),1;oe=0;var fe=W===""?".":W+":";if(Z(N))for(var he=0;he<N.length;he++)W=N[he],se=fe+z(W,he),oe+=w(W,B,U,se,le);else if(he=b(N),typeof he=="function")for(N=he.call(N),he=0;!(W=N.next()).done;)W=W.value,se=fe+z(W,he++),oe+=w(W,B,U,se,le);else if(se==="object"){if(typeof N.then=="function")return w(M(N),B,U,W,le);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return oe}function T(N,B,U){if(N==null)return N;var W=[],le=0;return w(N,W,"","",function(se){return B.call(U,se,le++)}),W}function G(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(U){(N._status===0||N._status===-1)&&(N._status=1,N._result=U)},function(U){(N._status===0||N._status===-1)&&(N._status=2,N._result=U)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var K=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},R={map:T,forEach:function(N,B,U){T(N,function(){B.apply(this,arguments)},U)},count:function(N){var B=0;return T(N,function(){B++}),B},toArray:function(N){return T(N,function(B){return B})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return De.Activity=S,De.Children=R,De.Component=E,De.Fragment=a,De.Profiler=o,De.PureComponent=k,De.StrictMode=r,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,De.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},De.cache=function(N){return function(){return N.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(N,B,U){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var W=j({},N.props),le=N.key;if(B!=null)for(se in B.key!==void 0&&(le=""+B.key),B)!V.call(B,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&B.ref===void 0||(W[se]=B[se]);var se=arguments.length-2;if(se===1)W.children=U;else if(1<se){for(var oe=Array(se),fe=0;fe<se;fe++)oe[fe]=arguments[fe+2];W.children=oe}return $(N.type,le,W)},De.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},De.createElement=function(N,B,U){var W,le={},se=null;if(B!=null)for(W in B.key!==void 0&&(se=""+B.key),B)V.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=B[W]);var oe=arguments.length-2;if(oe===1)le.children=U;else if(1<oe){for(var fe=Array(oe),he=0;he<oe;he++)fe[he]=arguments[he+2];le.children=fe}if(N&&N.defaultProps)for(W in oe=N.defaultProps,oe)le[W]===void 0&&(le[W]=oe[W]);return $(N,se,le)},De.createRef=function(){return{current:null}},De.forwardRef=function(N){return{$$typeof:g,render:N}},De.isValidElement=I,De.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:G}},De.memo=function(N,B){return{$$typeof:d,type:N,compare:B===void 0?null:B}},De.startTransition=function(N){var B=Y.T,U={};Y.T=U;try{var W=N(),le=Y.S;le!==null&&le(U,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(J,K)}catch(se){K(se)}finally{B!==null&&U.types!==null&&(B.types=U.types),Y.T=B}},De.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},De.use=function(N){return Y.H.use(N)},De.useActionState=function(N,B,U){return Y.H.useActionState(N,B,U)},De.useCallback=function(N,B){return Y.H.useCallback(N,B)},De.useContext=function(N){return Y.H.useContext(N)},De.useDebugValue=function(){},De.useDeferredValue=function(N,B){return Y.H.useDeferredValue(N,B)},De.useEffect=function(N,B){return Y.H.useEffect(N,B)},De.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},De.useId=function(){return Y.H.useId()},De.useImperativeHandle=function(N,B,U){return Y.H.useImperativeHandle(N,B,U)},De.useInsertionEffect=function(N,B){return Y.H.useInsertionEffect(N,B)},De.useLayoutEffect=function(N,B){return Y.H.useLayoutEffect(N,B)},De.useMemo=function(N,B){return Y.H.useMemo(N,B)},De.useOptimistic=function(N,B){return Y.H.useOptimistic(N,B)},De.useReducer=function(N,B,U){return Y.H.useReducer(N,B,U)},De.useRef=function(N){return Y.H.useRef(N)},De.useState=function(N){return Y.H.useState(N)},De.useSyncExternalStore=function(N,B,U){return Y.H.useSyncExternalStore(N,B,U)},De.useTransition=function(){return Y.H.useTransition()},De.version="19.2.3",De}var Nd;function Ex(){return Nd||(Nd=1,ex.exports=oh()),ex.exports}var F=Ex(),tx={exports:{}},Fi={},nx={exports:{}},lx={};var Ad;function fh(){return Ad||(Ad=1,(function(c){function i(w,T){var G=w.length;w.push(T);e:for(;0<G;){var K=G-1>>>1,R=w[K];if(0<o(R,T))w[K]=T,w[G]=R,G=K;else break e}}function a(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var T=w[0],G=w.pop();if(G!==T){w[0]=G;e:for(var K=0,R=w.length,N=R>>>1;K<N;){var B=2*(K+1)-1,U=w[B],W=B+1,le=w[W];if(0>o(U,G))W<R&&0>o(le,U)?(w[K]=le,w[W]=G,K=W):(w[K]=U,w[B]=G,K=B);else if(W<R&&0>o(le,G))w[K]=le,w[W]=G,K=W;else break e}}return T}function o(w,T){var G=w.sortIndex-T.sortIndex;return G!==0?G:w.id-T.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();c.unstable_now=function(){return h.now()-g}}var m=[],d=[],p=1,S=null,A=3,b=!1,D=!1,j=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function H(w){for(var T=a(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=w)r(d),T.sortIndex=T.expirationTime,i(m,T);else break;T=a(d)}}function Z(w){if(j=!1,H(w),!D)if(a(m)!==null)D=!0,J||(J=!0,y());else{var T=a(d);T!==null&&M(Z,T.startTime-w)}}var J=!1,Y=-1,V=5,$=-1;function P(){return C?!0:!(c.unstable_now()-$<V)}function I(){if(C=!1,J){var w=c.unstable_now();$=w;var T=!0;try{e:{D=!1,j&&(j=!1,q(Y),Y=-1),b=!0;var G=A;try{t:{for(H(w),S=a(m);S!==null&&!(S.expirationTime>w&&P());){var K=S.callback;if(typeof K=="function"){S.callback=null,A=S.priorityLevel;var R=K(S.expirationTime<=w);if(w=c.unstable_now(),typeof R=="function"){S.callback=R,H(w),T=!0;break t}S===a(m)&&r(m),H(w)}else r(m);S=a(m)}if(S!==null)T=!0;else{var N=a(d);N!==null&&M(Z,N.startTime-w),T=!1}}break e}finally{S=null,A=G,b=!1}T=void 0}}finally{T?y():J=!1}}}var y;if(typeof k=="function")y=function(){k(I)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,z=v.port2;v.port1.onmessage=I,y=function(){z.postMessage(null)}}else y=function(){E(I,0)};function M(w,T){Y=E(function(){w(c.unstable_now())},T)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(w){w.callback=null},c.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<w?Math.floor(1e3/w):5},c.unstable_getCurrentPriorityLevel=function(){return A},c.unstable_next=function(w){switch(A){case 1:case 2:case 3:var T=3;break;default:T=A}var G=A;A=T;try{return w()}finally{A=G}},c.unstable_requestPaint=function(){C=!0},c.unstable_runWithPriority=function(w,T){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var G=A;A=w;try{return T()}finally{A=G}},c.unstable_scheduleCallback=function(w,T,G){var K=c.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,w){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=G+R,w={id:p++,callback:T,priorityLevel:w,startTime:G,expirationTime:R,sortIndex:-1},G>K?(w.sortIndex=G,i(d,w),a(m)===null&&w===a(d)&&(j?(q(Y),Y=-1):j=!0,M(Z,G-K))):(w.sortIndex=R,i(m,w),D||b||(D=!0,J||(J=!0,y()))),w},c.unstable_shouldYield=P,c.unstable_wrapCallback=function(w){var T=A;return function(){var G=A;A=T;try{return w.apply(this,arguments)}finally{A=G}}}})(lx)),lx}var Td;function dh(){return Td||(Td=1,nx.exports=fh()),nx.exports}var ax={exports:{}},Ot={};var Ld;function hh(){if(Ld)return Ot;Ld=1;var c=Ex();function i(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,d,p){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:d,implementation:p}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ot.createPortal=function(m,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(i(299));return f(m,d,null,p)},Ot.flushSync=function(m){var d=h.T,p=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=d,r.p=p,r.d.f()}},Ot.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},Ot.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Ot.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var p=d.as,S=g(p,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:b}):p==="script"&&r.d.X(m,{crossOrigin:S,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ot.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=g(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},Ot.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,S=g(p,d.crossOrigin);r.d.L(m,p,{crossOrigin:S,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ot.preloadModule=function(m,d){if(typeof m=="string")if(d){var p=g(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},Ot.requestFormReset=function(m){r.d.r(m)},Ot.unstable_batchedUpdates=function(m,d){return m(d)},Ot.useFormState=function(m,d,p){return h.H.useFormState(m,d,p)},Ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ot.version="19.2.3",Ot}var Ed;function mh(){if(Ed)return ax.exports;Ed=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),ax.exports=hh(),ax.exports}var Bd;function bh(){if(Bd)return Fi;Bd=1;var c=dh(),i=Ex(),a=mh();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function d(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var s=u.alternate;if(s===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===s.child){for(s=u.child;s;){if(s===n)return m(u),e;if(s===l)return m(u),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=u,l=s;else{for(var _=!1,L=u.child;L;){if(L===n){_=!0,n=u,l=s;break}if(L===l){_=!0,l=u,n=s;break}L=L.sibling}if(!_){for(L=s.child;L;){if(L===n){_=!0,n=s,l=u;break}if(L===l){_=!0,l=s,n=u;break}L=L.sibling}if(!_)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function y(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var v=Symbol.for("react.client.reference");function z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===v?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case Z:return"Suspense";case J:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case k:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:z(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return z(e(t))}catch{}}return null}var M=Array.isArray,w=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},K=[],R=-1;function N(e){return{current:e}}function B(e){0>R||(e.current=K[R],K[R]=null,R--)}function U(e,t){R++,K[R]=e.current,e.current=t}var W=N(null),le=N(null),se=N(null),oe=N(null);function fe(e,t){switch(U(se,t),U(le,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Jf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Jf(t),e=Qf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),U(W,e)}function he(){B(W),B(le),B(se)}function me(e){e.memoizedState!==null&&U(oe,e);var t=W.current,n=Qf(t,e.type);t!==n&&(U(le,e),U(W,n))}function ve(e){le.current===e&&(B(W),B(le)),oe.current===e&&(B(oe),Vi._currentValue=G)}var qe,Ge;function Ze(e){if(qe===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qe=t&&t[1]||"",Ge=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+e+Ge}var Ue=!1;function ht(e,t){if(!e||Ue)return"";Ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ae){var ne=ae}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(ae){ne=ae}e.call(ce.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),_=s[0],L=s[1];if(_&&L){var O=_.split(`
`),te=L.split(`
`);for(u=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;u<te.length&&!te[u].includes("DetermineComponentFrameRoot");)u++;if(l===O.length||u===te.length)for(l=O.length-1,u=te.length-1;1<=l&&0<=u&&O[l]!==te[u];)u--;for(;1<=l&&0<=u;l--,u--)if(O[l]!==te[u]){if(l!==1||u!==1)do if(l--,u--,0>u||O[l]!==te[u]){var ie=`
`+O[l].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=l&&0<=u);break}}}finally{Ue=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ze(n):""}function zt(e,t){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==t&&t!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return Ze("Activity");default:return""}}function Lt(e){try{var t="",n=null;do t+=zt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Zt=c.unstable_scheduleCallback,vn=c.unstable_cancelCallback,$n=c.unstable_shouldYield,el=c.unstable_requestPaint,Je=c.unstable_now,gn=c.unstable_getCurrentPriorityLevel,_l=c.unstable_ImmediatePriority,Vl=c.unstable_UserBlockingPriority,Gn=c.unstable_NormalPriority,ga=c.unstable_LowPriority,Yn=c.unstable_IdlePriority,ci=c.log,Wl=c.unstable_setDisableYieldValue,tl=null,Et=null;function Qe(e){if(typeof ci=="function"&&Wl(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(tl,e)}catch{}}var xe=Math.clz32?Math.clz32:Ce,Ee=Math.log,Be=Math.LN2;function Ce(e){return e>>>=0,e===0?32:31-(Ee(e)/Be|0)|0}var pe=256,Ne=262144,ze=4194304;function ye(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,s=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var L=l&134217727;return L!==0?(l=L&~s,l!==0?u=ye(l):(_&=L,_!==0?u=ye(_):n||(n=L&~e,n!==0&&(u=ye(n))))):(L=l&~s,L!==0?u=ye(L):_!==0?u=ye(_):n||(n=l&~e,n!==0&&(u=ye(n)))),u===0?0:t!==0&&t!==u&&(t&s)===0&&(s=u&-u,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:u}function Oe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var e=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tt(e,t,n,l,u,s){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var L=e.entanglements,O=e.expirationTimes,te=e.hiddenUpdates;for(n=_&~n;0<n;){var ie=31-xe(n),ce=1<<ie;L[ie]=0,O[ie]=-1;var ne=te[ie];if(ne!==null)for(te[ie]=null,ie=0;ie<ne.length;ie++){var ae=ne[ie];ae!==null&&(ae.lane&=-536870913)}n&=~ce}l!==0&&Me(e,l,0),s!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=s&~(_&~t))}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function nt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-xe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function lt(e,t){var n=t&-t;return n=(n&42)!==0?1:at(n),(n&(e.suspendedLanes|t))!==0?0:n}function at(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ya(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:yd(e.type))}function Jl(e,t){var n=T.p;try{return T.p=e,t()}finally{T.p=n}}var pn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+pn,Ht="__reactProps$"+pn,de="__reactContainer$"+pn,_e="__reactEvents$"+pn,Xe="__reactListeners$"+pn,Jt="__reactHandles$"+pn,St="__reactResources$"+pn,cn="__reactMarker$"+pn;function ui(e){delete e[Dt],delete e[Ht],delete e[_e],delete e[Xe],delete e[Jt]}function pa(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[de]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[Dt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Dt]||e[de]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Sa(e){var t=e[St];return t||(t=e[St]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function At(e){e[cn]=!0}var qx=new Set,Rx={};function Ql(e,t){Ca(e,t),Ca(e+"Capture",t)}function Ca(e,t){for(Rx[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var e1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kx={},Gx={};function t1(e){return mt.call(Gx,e)?!0:mt.call(kx,e)?!1:e1.test(e)?Gx[e]=!0:(kx[e]=!0,!1)}function ur(e,t,n){if(t1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function xr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nl(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(_){n=""+_,s.call(this,_)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(_){n=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function X0(e){if(!e._valueTracker){var t=Yx(e)?"checked":"value";e._valueTracker=n1(e,t,""+e[t])}}function Hx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Yx(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l1=/[\n"\\]/g;function Sn(e){return e.replace(l1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function V0(e,t,n,l,u,s,_,L){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?W0(e,_,_n(t)):n!=null?W0(e,_,_n(n)):l!=null&&e.removeAttribute("value"),u==null&&s!=null&&(e.defaultChecked=!!s),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+_n(L):e.removeAttribute("name")}function Ox(e,t,n,l,u,s,_,L){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){X0(e);return}n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,L||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=L?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),X0(e)}function W0(e,t,n){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Ix(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Zx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(M(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),X0(e)}function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var a1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ux(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||a1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kx(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Ux(e,u,l)}else for(var s in t)t.hasOwnProperty(s)&&Ux(e,s,t[s])}function J0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return r1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var Q0=null;function P0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,za=null;function Xx(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(V0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Sn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[Ht]||null;if(!u)throw Error(r(90));V0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Hx(l)}break e;case"textarea":Ix(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var F0=!1;function Vx(e,t,n){if(F0)return e(t,n);F0=!0;try{var l=e(t);return l}finally{if(F0=!1,(Ma!==null||za!==null)&&(Fr(),Ma&&(t=Ma,e=za,za=Ma=null,Xx(t),e)))for(t=0;t<e.length;t++)Xx(e[t])}}function si(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ht]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$0=!1;if(al)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){$0=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{$0=!1}var Sl=null,ec=null,fr=null;function Wx(){if(fr)return fr;var e,t=ec,n=t.length,l,u="value"in Sl?Sl.value:Sl.textContent,s=u.length;for(e=0;e<n&&t[e]===u[e];e++);var _=n-e;for(l=1;l<=_&&t[n-l]===u[s-l];l++);return fr=u.slice(e,1<l?1-l:void 0)}function dr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Jx(){return!1}function Qt(e){function t(n,l,u,s,_){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=s,this.target=_,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(n=e[L],this[L]=n?n(s):s[L]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hr:Jx,this.isPropagationStopped=Jx,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mr=Qt(Pl),fi=S({},Pl,{view:0,detail:0}),c1=Qt(fi),tc,nc,di,br=S({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(tc=e.screenX-di.screenX,nc=e.screenY-di.screenY):nc=tc=0,di=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Qx=Qt(br),u1=S({},br,{dataTransfer:0}),x1=Qt(u1),s1=S({},fi,{relatedTarget:0}),lc=Qt(s1),o1=S({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),f1=Qt(o1),d1=S({},Pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h1=Qt(d1),m1=S({},Pl,{data:0}),Px=Qt(m1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g1[e])?!!t[e]:!1}function ac(){return y1}var p1=S({},fi,{key:function(e){if(e.key){var t=b1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(e){return e.type==="keypress"?dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_1=Qt(p1),S1=S({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fx=Qt(S1),C1=S({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),j1=Qt(C1),w1=S({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),M1=Qt(w1),z1=S({},br,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D1=Qt(z1),N1=S({},Pl,{newState:0,oldState:0}),A1=Qt(N1),T1=[9,13,27,32],ic=al&&"CompositionEvent"in window,hi=null;al&&"documentMode"in document&&(hi=document.documentMode);var L1=al&&"TextEvent"in window&&!hi,$x=al&&(!ic||hi&&8<hi&&11>=hi),es=" ",ts=!1;function ns(e,t){switch(e){case"keyup":return T1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ls(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function E1(e,t){switch(e){case"compositionend":return ls(t);case"keypress":return t.which!==32?null:(ts=!0,es);case"textInput":return e=t.data,e===es&&ts?null:e;default:return null}}function B1(e,t){if(Da)return e==="compositionend"||!ic&&ns(e,t)?(e=Wx(),fr=ec=Sl=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $x&&t.locale!=="ko"?null:t.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function as(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q1[e.type]:t==="textarea"}function is(e,t,n,l){Ma?za?za.push(l):za=[l]:Ma=l,t=i0(t,"onChange"),0<t.length&&(n=new mr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,bi=null;function R1(e){Zf(e,0)}function vr(e){var t=xi(e);if(Hx(t))return e}function rs(e,t){if(e==="change")return t}var cs=!1;if(al){var rc;if(al){var cc="oninput"in document;if(!cc){var us=document.createElement("div");us.setAttribute("oninput","return;"),cc=typeof us.oninput=="function"}rc=cc}else rc=!1;cs=rc&&(!document.documentMode||9<document.documentMode)}function xs(){mi&&(mi.detachEvent("onpropertychange",ss),bi=mi=null)}function ss(e){if(e.propertyName==="value"&&vr(bi)){var t=[];is(t,bi,e,P0(e)),Vx(R1,t)}}function k1(e,t,n){e==="focusin"?(xs(),mi=t,bi=n,mi.attachEvent("onpropertychange",ss)):e==="focusout"&&xs()}function G1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vr(bi)}function Y1(e,t){if(e==="click")return vr(t)}function H1(e,t){if(e==="input"||e==="change")return vr(t)}function O1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:O1;function vi(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!mt.call(t,u)||!un(e[u],t[u]))return!1}return!0}function os(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fs(e,t){var n=os(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=os(n)}}function ds(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ds(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sr(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var I1=al&&"documentMode"in document&&11>=document.documentMode,Na=null,xc=null,gi=null,sc=!1;function ms(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||Na==null||Na!==sr(l)||(l=Na,"selectionStart"in l&&uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gi&&vi(gi,l)||(gi=l,l=i0(xc,"onSelect"),0<l.length&&(t=new mr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},oc={},bs={};al&&(bs=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function $l(e){if(oc[e])return oc[e];if(!Aa[e])return e;var t=Aa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bs)return oc[e]=t[n];return e}var vs=$l("animationend"),gs=$l("animationiteration"),ys=$l("animationstart"),Z1=$l("transitionrun"),U1=$l("transitionstart"),K1=$l("transitioncancel"),ps=$l("transitionend"),_s=new Map,fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fc.push("scrollEnd");function Hn(e,t){_s.set(e,t),Ql(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Ta=0,dc=0;function yr(){for(var e=Ta,t=dc=Ta=0;t<e;){var n=Cn[t];Cn[t++]=null;var l=Cn[t];Cn[t++]=null;var u=Cn[t];Cn[t++]=null;var s=Cn[t];if(Cn[t++]=null,l!==null&&u!==null){var _=l.pending;_===null?u.next=u:(u.next=_.next,_.next=u),l.pending=u}s!==0&&Ss(n,u,s)}}function pr(e,t,n,l){Cn[Ta++]=e,Cn[Ta++]=t,Cn[Ta++]=n,Cn[Ta++]=l,dc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function hc(e,t,n,l){return pr(e,t,n,l),_r(e)}function ea(e,t){return pr(e,null,null,t),_r(e)}function Ss(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(u=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,u&&t!==null&&(u=31-xe(n),e=s.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),s):null}function _r(e){if(50<Hi)throw Hi=0,Cu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var La={};function X1(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,n,l){return new X1(e,t,n,l)}function mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e,t){var n=e.alternate;return n===null?(n=xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sr(e,t,n,l,u,s){var _=0;if(l=e,typeof e=="function")mc(e)&&(_=1);else if(typeof e=="string")_=P2(e,n,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=xn(31,n,t,u),e.elementType=$,e.lanes=s,e;case j:return ta(n.children,u,s,t);case C:_=8,u|=24;break;case E:return e=xn(12,n,t,u|2),e.elementType=E,e.lanes=s,e;case Z:return e=xn(13,n,t,u),e.elementType=Z,e.lanes=s,e;case J:return e=xn(19,n,t,u),e.elementType=J,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:_=10;break e;case q:_=9;break e;case H:_=11;break e;case Y:_=14;break e;case V:_=16,l=null;break e}_=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=xn(_,n,t,u),t.elementType=e,t.type=l,t.lanes=s,t}function ta(e,t,n,l){return e=xn(7,e,l,t),e.lanes=n,e}function bc(e,t,n){return e=xn(6,e,null,t),e.lanes=n,e}function js(e){var t=xn(18,null,null,0);return t.stateNode=e,t}function vc(e,t,n){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ws=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=ws.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lt(t)},ws.set(e,t),t)}return{value:e,source:t,stack:Lt(t)}}var Ea=[],Ba=0,Cr=null,yi=0,wn=[],Mn=0,Cl=null,Xn=1,Vn="";function rl(e,t){Ea[Ba++]=yi,Ea[Ba++]=Cr,Cr=e,yi=t}function Ms(e,t,n){wn[Mn++]=Xn,wn[Mn++]=Vn,wn[Mn++]=Cl,Cl=e;var l=Xn;e=Vn;var u=32-xe(l)-1;l&=~(1<<u),n+=1;var s=32-xe(t)+u;if(30<s){var _=u-u%5;s=(l&(1<<_)-1).toString(32),l>>=_,u-=_,Xn=1<<32-xe(t)+u|n<<u|l,Vn=s+e}else Xn=1<<s|n<<u|l,Vn=e}function gc(e){e.return!==null&&(rl(e,1),Ms(e,1,0))}function yc(e){for(;e===Cr;)Cr=Ea[--Ba],Ea[Ba]=null,yi=Ea[--Ba],Ea[Ba]=null;for(;e===Cl;)Cl=wn[--Mn],wn[Mn]=null,Vn=wn[--Mn],wn[Mn]=null,Xn=wn[--Mn],wn[Mn]=null}function zs(e,t){wn[Mn++]=Xn,wn[Mn++]=Vn,wn[Mn++]=Cl,Xn=t.id,Vn=t.overflow,Cl=e}var Bt=null,ot=null,Ie=!1,jl=null,zn=!1,pc=Error(r(519));function wl(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pi(jn(t,e)),pc}function Ds(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[Dt]=e,t[Ht]=l,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Ii.length;n++)ke(Ii[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Ox(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Zx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Vf(t.textContent,n)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||wl(e,!0)}function Ns(e){for(Bt=e.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Bt=Bt.return}}function qa(e){if(e!==Bt)return!1;if(!Ie)return Ns(e),Ie=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gu(e.type,e.memoizedProps)),n=!n),n&&ot&&wl(e),Ns(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=nd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ot=nd(e)}else t===27?(t=ot,Yl(e.type)?(e=Zu,Zu=null,ot=e):ot=t):ot=Bt?Nn(e.stateNode.nextSibling):null;return!0}function na(){ot=Bt=null,Ie=!1}function _c(){var e=jl;return e!==null&&(en===null?en=e:en.push.apply(en,e),jl=null),e}function pi(e){jl===null?jl=[e]:jl.push(e)}var Sc=N(null),la=null,cl=null;function Ml(e,t,n){U(Sc,t._currentValue),t._currentValue=n}function ul(e){e._currentValue=Sc.current,B(Sc)}function Cc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function jc(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){var _=u.child;s=s.firstContext;e:for(;s!==null;){var L=s;s=u;for(var O=0;O<t.length;O++)if(L.context===t[O]){s.lanes|=n,L=s.alternate,L!==null&&(L.lanes|=n),Cc(s.return,n,e),l||(_=null);break e}s=L.next}}else if(u.tag===18){if(_=u.return,_===null)throw Error(r(341));_.lanes|=n,s=_.alternate,s!==null&&(s.lanes|=n),Cc(_,n,e),_=null}else _=u.child;if(_!==null)_.return=u;else for(_=u;_!==null;){if(_===e){_=null;break}if(u=_.sibling,u!==null){u.return=_.return,_=u;break}_=_.return}u=_}}function Ra(e,t,n,l){e=null;for(var u=t,s=!1;u!==null;){if(!s){if((u.flags&524288)!==0)s=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var _=u.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var L=u.type;un(u.pendingProps.value,_.value)||(e!==null?e.push(L):e=[L])}}else if(u===oe.current){if(_=u.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Vi):e=[Vi])}u=u.return}e!==null&&jc(t,e,n,l),t.flags|=262144}function jr(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return As(la,e)}function wr(e,t){return la===null&&aa(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cl===null){if(e===null)throw Error(r(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return n}var V1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},W1=c.unstable_scheduleCallback,J1=c.unstable_NormalPriority,Ct={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wc(){return{controller:new V1,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&W1(J1,function(){e.controller.abort()})}var Si=null,Mc=0,ka=0,Ga=null;function Q1(e,t){if(Si===null){var n=Si=[];Mc=0,ka=Nu(),Ga={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Mc++,t.then(Ts,Ts),t}function Ts(){if(--Mc===0&&Si!==null){Ga!==null&&(Ga.status="fulfilled");var e=Si;Si=null,ka=0,Ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function P1(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var Ls=w.S;w.S=function(e,t){vf=Je(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q1(e,t),Ls!==null&&Ls(e,t)};var ia=N(null);function zc(){var e=ia.current;return e!==null?e:st.pooledCache}function Mr(e,t){t===null?U(ia,ia.current):U(ia,t.pool)}function Es(){var e=zc();return e===null?null:{parent:Ct._currentValue,pool:e}}var Ya=Error(r(460)),Dc=Error(r(474)),zr=Error(r(542)),Dr={then:function(){}};function Bs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ll,ll),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ks(e),e}throw ca=t,Ya}}function ra(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ca=n,Ya):n}}var ca=null;function Rs(){if(ca===null)throw Error(r(459));var e=ca;return ca=null,e}function ks(e){if(e===Ya||e===zr)throw Error(r(483))}var Ha=null,Ci=0;function Nr(e){var t=Ci;return Ci+=1,Ha===null&&(Ha=[]),qs(Ha,e,t)}function ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ar(e,t){throw t.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gs(e){function t(Q,X){if(e){var ee=Q.deletions;ee===null?(Q.deletions=[X],Q.flags|=16):ee.push(X)}}function n(Q,X){if(!e)return null;for(;X!==null;)t(Q,X),X=X.sibling;return null}function l(Q){for(var X=new Map;Q!==null;)Q.key!==null?X.set(Q.key,Q):X.set(Q.index,Q),Q=Q.sibling;return X}function u(Q,X){return Q=il(Q,X),Q.index=0,Q.sibling=null,Q}function s(Q,X,ee){return Q.index=ee,e?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<X?(Q.flags|=67108866,X):ee):(Q.flags|=67108866,X)):(Q.flags|=1048576,X)}function _(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,X,ee,re){return X===null||X.tag!==6?(X=bc(ee,Q.mode,re),X.return=Q,X):(X=u(X,ee),X.return=Q,X)}function O(Q,X,ee,re){var Se=ee.type;return Se===j?ie(Q,X,ee.props.children,re,ee.key):X!==null&&(X.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&ra(Se)===X.type)?(X=u(X,ee.props),ji(X,ee),X.return=Q,X):(X=Sr(ee.type,ee.key,ee.props,null,Q.mode,re),ji(X,ee),X.return=Q,X)}function te(Q,X,ee,re){return X===null||X.tag!==4||X.stateNode.containerInfo!==ee.containerInfo||X.stateNode.implementation!==ee.implementation?(X=vc(ee,Q.mode,re),X.return=Q,X):(X=u(X,ee.children||[]),X.return=Q,X)}function ie(Q,X,ee,re,Se){return X===null||X.tag!==7?(X=ta(ee,Q.mode,re,Se),X.return=Q,X):(X=u(X,ee),X.return=Q,X)}function ce(Q,X,ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=bc(""+X,Q.mode,ee),X.return=Q,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return ee=Sr(X.type,X.key,X.props,null,Q.mode,ee),ji(ee,X),ee.return=Q,ee;case D:return X=vc(X,Q.mode,ee),X.return=Q,X;case V:return X=ra(X),ce(Q,X,ee)}if(M(X)||y(X))return X=ta(X,Q.mode,ee,null),X.return=Q,X;if(typeof X.then=="function")return ce(Q,Nr(X),ee);if(X.$$typeof===k)return ce(Q,wr(Q,X),ee);Ar(Q,X)}return null}function ne(Q,X,ee,re){var Se=X!==null?X.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Se!==null?null:L(Q,X,""+ee,re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Se?O(Q,X,ee,re):null;case D:return ee.key===Se?te(Q,X,ee,re):null;case V:return ee=ra(ee),ne(Q,X,ee,re)}if(M(ee)||y(ee))return Se!==null?null:ie(Q,X,ee,re,null);if(typeof ee.then=="function")return ne(Q,X,Nr(ee),re);if(ee.$$typeof===k)return ne(Q,X,wr(Q,ee),re);Ar(Q,ee)}return null}function ae(Q,X,ee,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get(ee)||null,L(X,Q,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return Q=Q.get(re.key===null?ee:re.key)||null,O(X,Q,re,Se);case D:return Q=Q.get(re.key===null?ee:re.key)||null,te(X,Q,re,Se);case V:return re=ra(re),ae(Q,X,ee,re,Se)}if(M(re)||y(re))return Q=Q.get(ee)||null,ie(X,Q,re,Se,null);if(typeof re.then=="function")return ae(Q,X,ee,Nr(re),Se);if(re.$$typeof===k)return ae(Q,X,ee,wr(X,re),Se);Ar(X,re)}return null}function be(Q,X,ee,re){for(var Se=null,Ve=null,ge=X,Le=X=0,He=null;ge!==null&&Le<ee.length;Le++){ge.index>Le?(He=ge,ge=null):He=ge.sibling;var We=ne(Q,ge,ee[Le],re);if(We===null){ge===null&&(ge=He);break}e&&ge&&We.alternate===null&&t(Q,ge),X=s(We,X,Le),Ve===null?Se=We:Ve.sibling=We,Ve=We,ge=He}if(Le===ee.length)return n(Q,ge),Ie&&rl(Q,Le),Se;if(ge===null){for(;Le<ee.length;Le++)ge=ce(Q,ee[Le],re),ge!==null&&(X=s(ge,X,Le),Ve===null?Se=ge:Ve.sibling=ge,Ve=ge);return Ie&&rl(Q,Le),Se}for(ge=l(ge);Le<ee.length;Le++)He=ae(ge,Q,Le,ee[Le],re),He!==null&&(e&&He.alternate!==null&&ge.delete(He.key===null?Le:He.key),X=s(He,X,Le),Ve===null?Se=He:Ve.sibling=He,Ve=He);return e&&ge.forEach(function(Ul){return t(Q,Ul)}),Ie&&rl(Q,Le),Se}function je(Q,X,ee,re){if(ee==null)throw Error(r(151));for(var Se=null,Ve=null,ge=X,Le=X=0,He=null,We=ee.next();ge!==null&&!We.done;Le++,We=ee.next()){ge.index>Le?(He=ge,ge=null):He=ge.sibling;var Ul=ne(Q,ge,We.value,re);if(Ul===null){ge===null&&(ge=He);break}e&&ge&&Ul.alternate===null&&t(Q,ge),X=s(Ul,X,Le),Ve===null?Se=Ul:Ve.sibling=Ul,Ve=Ul,ge=He}if(We.done)return n(Q,ge),Ie&&rl(Q,Le),Se;if(ge===null){for(;!We.done;Le++,We=ee.next())We=ce(Q,We.value,re),We!==null&&(X=s(We,X,Le),Ve===null?Se=We:Ve.sibling=We,Ve=We);return Ie&&rl(Q,Le),Se}for(ge=l(ge);!We.done;Le++,We=ee.next())We=ae(ge,Q,Le,We.value,re),We!==null&&(e&&We.alternate!==null&&ge.delete(We.key===null?Le:We.key),X=s(We,X,Le),Ve===null?Se=We:Ve.sibling=We,Ve=We);return e&&ge.forEach(function(uh){return t(Q,uh)}),Ie&&rl(Q,Le),Se}function xt(Q,X,ee,re){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Se=ee.key;X!==null;){if(X.key===Se){if(Se=ee.type,Se===j){if(X.tag===7){n(Q,X.sibling),re=u(X,ee.props.children),re.return=Q,Q=re;break e}}else if(X.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&ra(Se)===X.type){n(Q,X.sibling),re=u(X,ee.props),ji(re,ee),re.return=Q,Q=re;break e}n(Q,X);break}else t(Q,X);X=X.sibling}ee.type===j?(re=ta(ee.props.children,Q.mode,re,ee.key),re.return=Q,Q=re):(re=Sr(ee.type,ee.key,ee.props,null,Q.mode,re),ji(re,ee),re.return=Q,Q=re)}return _(Q);case D:e:{for(Se=ee.key;X!==null;){if(X.key===Se)if(X.tag===4&&X.stateNode.containerInfo===ee.containerInfo&&X.stateNode.implementation===ee.implementation){n(Q,X.sibling),re=u(X,ee.children||[]),re.return=Q,Q=re;break e}else{n(Q,X);break}else t(Q,X);X=X.sibling}re=vc(ee,Q.mode,re),re.return=Q,Q=re}return _(Q);case V:return ee=ra(ee),xt(Q,X,ee,re)}if(M(ee))return be(Q,X,ee,re);if(y(ee)){if(Se=y(ee),typeof Se!="function")throw Error(r(150));return ee=Se.call(ee),je(Q,X,ee,re)}if(typeof ee.then=="function")return xt(Q,X,Nr(ee),re);if(ee.$$typeof===k)return xt(Q,X,wr(Q,ee),re);Ar(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,X!==null&&X.tag===6?(n(Q,X.sibling),re=u(X,ee),re.return=Q,Q=re):(n(Q,X),re=bc(ee,Q.mode,re),re.return=Q,Q=re),_(Q)):n(Q,X)}return function(Q,X,ee,re){try{Ci=0;var Se=xt(Q,X,ee,re);return Ha=null,Se}catch(ge){if(ge===Ya||ge===zr)throw ge;var Ve=xn(29,ge,null,Q.mode);return Ve.lanes=re,Ve.return=Q,Ve}}}var ua=Gs(!0),Ys=Gs(!1),zl=!1;function Nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=_r(e),Ss(e,null,n),t}return pr(e,l,t,n),_r(e)}function wi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}function Tc(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?u=s=_:s=s.next=_,n=n.next}while(n!==null);s===null?u=s=t:s=s.next=t}else u=s=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lc=!1;function Mi(){if(Lc){var e=Ga;if(e!==null)throw e}}function zi(e,t,n,l){Lc=!1;var u=e.updateQueue;zl=!1;var s=u.firstBaseUpdate,_=u.lastBaseUpdate,L=u.shared.pending;if(L!==null){u.shared.pending=null;var O=L,te=O.next;O.next=null,_===null?s=te:_.next=te,_=O;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,L=ie.lastBaseUpdate,L!==_&&(L===null?ie.firstBaseUpdate=te:L.next=te,ie.lastBaseUpdate=O))}if(s!==null){var ce=u.baseState;_=0,ie=te=O=null,L=s;do{var ne=L.lane&-536870913,ae=ne!==L.lane;if(ae?(Ye&ne)===ne:(l&ne)===ne){ne!==0&&ne===ka&&(Lc=!0),ie!==null&&(ie=ie.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var be=e,je=L;ne=t;var xt=n;switch(je.tag){case 1:if(be=je.payload,typeof be=="function"){ce=be.call(xt,ce,ne);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=je.payload,ne=typeof be=="function"?be.call(xt,ce,ne):be,ne==null)break e;ce=S({},ce,ne);break e;case 2:zl=!0}}ne=L.callback,ne!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=u.callbacks,ae===null?u.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ie===null?(te=ie=ae,O=ce):ie=ie.next=ae,_|=ne;if(L=L.next,L===null){if(L=u.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,u.lastBaseUpdate=ae,u.shared.pending=null}}while(!0);ie===null&&(O=ce),u.baseState=O,u.firstBaseUpdate=te,u.lastBaseUpdate=ie,s===null&&(u.shared.lanes=0),Bl|=_,e.lanes=_,e.memoizedState=ce}}function Hs(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Os(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Hs(n[e],t)}var Oa=N(null),Tr=N(0);function Is(e,t){e=vl,U(Tr,e),U(Oa,t),vl=e|t.baseLanes}function Ec(){U(Tr,vl),U(Oa,Oa.current)}function Bc(){vl=Tr.current,B(Oa),B(Tr)}var sn=N(null),Dn=null;function Al(e){var t=e.alternate;U(yt,yt.current&1),U(sn,e),Dn===null&&(t===null||Oa.current!==null||t.memoizedState!==null)&&(Dn=e)}function qc(e){U(yt,yt.current),U(sn,e),Dn===null&&(Dn=e)}function Zs(e){e.tag===22?(U(yt,yt.current),U(sn,e),Dn===null&&(Dn=e)):Tl()}function Tl(){U(yt,yt.current),U(sn,sn.current)}function on(e){B(sn),Dn===e&&(Dn=null),B(yt)}var yt=N(0);function Lr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ou(n)||Iu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xl=0,Te=null,ct=null,jt=null,Er=!1,Ia=!1,xa=!1,Br=0,Di=0,Za=null,F1=0;function bt(){throw Error(r(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function kc(e,t,n,l,u,s){return xl=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?zo:Fc,xa=!1,s=n(l,u),xa=!1,Ia&&(s=Ks(t,n,l,u)),Us(e),s}function Us(e){w.H=Ti;var t=ct!==null&&ct.next!==null;if(xl=0,jt=ct=Te=null,Er=!1,Di=0,Za=null,t)throw Error(r(300));e===null||wt||(e=e.dependencies,e!==null&&jr(e)&&(wt=!0))}function Ks(e,t,n,l){Te=e;var u=0;do{if(Ia&&(Za=null),Di=0,Ia=!1,25<=u)throw Error(r(301));if(u+=1,jt=ct=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}w.H=Do,s=t(n,l)}while(Ia);return s}function $1(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?Ni(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Te.flags|=1024),t}function Gc(){var e=Br!==0;return Br=0,e}function Yc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hc(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}xl=0,jt=ct=Te=null,Ia=!1,Di=Br=0,Za=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Te.memoizedState=jt=e:jt=jt.next=e,jt}function pt(){if(ct===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=jt===null?Te.memoizedState:jt.next;if(t!==null)jt=t,ct=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},jt===null?Te.memoizedState=jt=e:jt=jt.next=e}return jt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ni(e){var t=Di;return Di+=1,Za===null&&(Za=[]),e=qs(Za,e,t),t=Te,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?zo:Fc),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ni(e);if(e.$$typeof===k)return qt(e)}throw Error(r(438,String(e)))}function Oc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=P;return t.index++,n}function sl(e,t){return typeof t=="function"?t(e):t}function kr(e){var t=pt();return Ic(t,ct,e)}function Ic(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=e.baseQueue,s=l.pending;if(s!==null){if(u!==null){var _=u.next;u.next=s.next,s.next=_}t.baseQueue=u=s,l.pending=null}if(s=e.baseState,u===null)e.memoizedState=s;else{t=u.next;var L=_=null,O=null,te=t,ie=!1;do{var ce=te.lane&-536870913;if(ce!==te.lane?(Ye&ce)===ce:(xl&ce)===ce){var ne=te.revertLane;if(ne===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ce===ka&&(ie=!0);else if((xl&ne)===ne){te=te.next,ne===ka&&(ie=!0);continue}else ce={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},O===null?(L=O=ce,_=s):O=O.next=ce,Te.lanes|=ne,Bl|=ne;ce=te.action,xa&&n(s,ce),s=te.hasEagerState?te.eagerState:n(s,ce)}else ne={lane:ce,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},O===null?(L=O=ne,_=s):O=O.next=ne,Te.lanes|=ce,Bl|=ce;te=te.next}while(te!==null&&te!==t);if(O===null?_=s:O.next=L,!un(s,e.memoizedState)&&(wt=!0,ie&&(n=Ga,n!==null)))throw n;e.memoizedState=s,e.baseState=_,e.baseQueue=O,l.lastRenderedState=s}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zc(e){var t=pt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,s=t.memoizedState;if(u!==null){n.pending=null;var _=u=u.next;do s=e(s,_.action),_=_.next;while(_!==u);un(s,t.memoizedState)||(wt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Xs(e,t,n){var l=Te,u=pt(),s=Ie;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var _=!un((ct||u).memoizedState,n);if(_&&(u.memoizedState=n,wt=!0),u=u.queue,Xc(Js.bind(null,l,u,e),[e]),u.getSnapshot!==t||_||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Ws.bind(null,l,u,n,t),null),st===null)throw Error(r(349));s||(xl&127)!==0||Vs(l,t,n)}return n}function Vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=qr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ws(e,t,n,l){t.value=n,t.getSnapshot=l,Qs(t)&&Ps(e)}function Js(e,t,n){return n(function(){Qs(t)&&Ps(e)})}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function Ps(e){var t=ea(e,2);t!==null&&tn(t,e,2)}function Uc(e){var t=Ut();if(typeof e=="function"){var n=e;if(e=n(),xa){Qe(!0);try{n()}finally{Qe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t}function Fs(e,t,n,l){return e.baseState=n,Ic(e,ct,typeof l=="function"?l:sl)}function e2(e,t,n,l,u){if(Hr(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){s.listeners.push(_)}};w.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,$s(t,s)):(s.next=n.next,t.pending=n.next=s)}}function $s(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var s=w.T,_={};w.T=_;try{var L=n(u,l),O=w.S;O!==null&&O(_,L),eo(e,t,L)}catch(te){Kc(e,t,te)}finally{s!==null&&_.types!==null&&(s.types=_.types),w.T=s}}else try{s=n(u,l),eo(e,t,s)}catch(te){Kc(e,t,te)}}function eo(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){to(e,t,l)},function(l){return Kc(e,t,l)}):to(e,t,n)}function to(e,t,n){t.status="fulfilled",t.value=n,no(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$s(e,n)))}function Kc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,no(t),t=t.next;while(t!==l)}e.action=null}function no(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function ao(e,t){if(Ie){var n=st.formState;if(n!==null){e:{var l=Te;if(Ie){if(ot){t:{for(var u=ot,s=zn;u.nodeType!==8;){if(!s){u=null;break t}if(u=Nn(u.nextSibling),u===null){u=null;break t}}s=u.data,u=s==="F!"||s==="F"?u:null}if(u){ot=Nn(u.nextSibling),l=u.data==="F!";break e}}wl(l)}l=!1}l&&(t=n[0])}}return n=Ut(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=l,n=jo.bind(null,Te,l),l.dispatch=n,l=Uc(!1),s=Pc.bind(null,Te,!1,l.queue),l=Ut(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=e2.bind(null,Te,u,s,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function io(e){var t=pt();return ro(t,ct,e)}function ro(e,t,n){if(t=Ic(e,t,lo)[0],e=kr(sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ni(t)}catch(_){throw _===Ya?zr:_}else l=t;t=pt();var u=t.queue,s=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Ua(9,{destroy:void 0},t2.bind(null,u,n),null)),[l,s,e]}function t2(e,t){e.action=t}function co(e){var t=pt(),n=ct;if(n!==null)return ro(t,n,e);pt(),t=t.memoizedState,n=pt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Ua(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=qr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function uo(){return pt().memoizedState}function Gr(e,t,n,l){var u=Ut();Te.flags|=e,u.memoizedState=Ua(1|t,{destroy:void 0},n,l===void 0?null:l)}function Yr(e,t,n,l){var u=pt();l=l===void 0?null:l;var s=u.memoizedState.inst;ct!==null&&l!==null&&Rc(l,ct.memoizedState.deps)?u.memoizedState=Ua(t,s,n,l):(Te.flags|=e,u.memoizedState=Ua(1|t,s,n,l))}function xo(e,t){Gr(8390656,8,e,t)}function Xc(e,t){Yr(2048,8,e,t)}function n2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=qr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function so(e){var t=pt().memoizedState;return n2({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function oo(e,t){return Yr(4,2,e,t)}function fo(e,t){return Yr(4,4,e,t)}function ho(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mo(e,t,n){n=n!=null?n.concat([e]):null,Yr(4,4,ho.bind(null,t,e),n)}function Vc(){}function bo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Rc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function vo(e,t){var n=pt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Rc(t,l[1]))return l[0];if(l=e(),xa){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l}function Wc(e,t,n){return n===void 0||(xl&1073741824)!==0&&(Ye&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=yf(),Te.lanes|=e,Bl|=e,n)}function go(e,t,n,l){return un(n,t)?n:Oa.current!==null?(e=Wc(e,n,l),un(e,t)||(wt=!0),e):(xl&42)===0||(xl&1073741824)!==0&&(Ye&261930)===0?(wt=!0,e.memoizedState=n):(e=yf(),Te.lanes|=e,Bl|=e,t)}function yo(e,t,n,l,u){var s=T.p;T.p=s!==0&&8>s?s:8;var _=w.T,L={};w.T=L,Pc(e,!1,t,n);try{var O=u(),te=w.S;if(te!==null&&te(L,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ie=P1(O,l);Ai(e,t,ie,hn(e))}else Ai(e,t,l,hn(e))}catch(ce){Ai(e,t,{then:function(){},status:"rejected",reason:ce},hn())}finally{T.p=s,_!==null&&L.types!==null&&(_.types=L.types),w.T=_}}function l2(){}function Jc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var u=po(e).queue;yo(e,u,t,G,n===null?l2:function(){return _o(e),n(l)})}function po(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:G},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _o(e){var t=po(e);t.next===null&&(t=e.alternate.memoizedState),Ai(e,t.next.queue,{},hn())}function Qc(){return qt(Vi)}function So(){return pt().memoizedState}function Co(){return pt().memoizedState}function a2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Dl(n);var l=Nl(t,e,n);l!==null&&(tn(l,t,n),wi(l,t,n)),t={cache:wc()},e.payload=t;return}t=t.return}}function i2(e,t,n){var l=hn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Hr(e)?wo(t,n):(n=hc(e,t,n,l),n!==null&&(tn(n,e,l),Mo(n,t,l)))}function jo(e,t,n){var l=hn();Ai(e,t,n,l)}function Ai(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))wo(t,u);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var _=t.lastRenderedState,L=s(_,n);if(u.hasEagerState=!0,u.eagerState=L,un(L,_))return pr(e,t,u,0),st===null&&yr(),!1}catch{}if(n=hc(e,t,u,l),n!==null)return tn(n,e,l),Mo(n,t,l),!0}return!1}function Pc(e,t,n,l){if(l={lane:2,revertLane:Nu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(r(479))}else t=hc(e,n,l,2),t!==null&&tn(t,e,2)}function Hr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function wo(e,t){Ia=Er=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mo(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,nt(e,n)}}var Ti={readContext:qt,use:Rr,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Ti.useEffectEvent=bt;var zo={readContext:qt,use:Rr,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:xo,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Gr(4194308,4,ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gr(4194308,4,e,t)},useInsertionEffect:function(e,t){Gr(4,2,e,t)},useMemo:function(e,t){var n=Ut();t=t===void 0?null:t;var l=e();if(xa){Qe(!0);try{e()}finally{Qe(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Ut();if(n!==void 0){var u=n(t);if(xa){Qe(!0);try{n(t)}finally{Qe(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=i2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=Uc(e);var t=e.queue,n=jo.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vc,useDeferredValue:function(e,t){var n=Ut();return Wc(n,e,t)},useTransition:function(){var e=Uc(!1);return e=yo.bind(null,Te,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Ut();if(Ie){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),st===null)throw Error(r(349));(Ye&127)!==0||Vs(l,t,n)}u.memoizedState=n;var s={value:n,getSnapshot:t};return u.queue=s,xo(Js.bind(null,l,s,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},Ws.bind(null,l,s,n,t),null),n},useId:function(){var e=Ut(),t=st.identifierPrefix;if(Ie){var n=Vn,l=Xn;n=(l&~(1<<32-xe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=F1++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:ao,useActionState:ao,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Pc.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Oc,useCacheRefresh:function(){return Ut().memoizedState=a2.bind(null,Te)},useEffectEvent:function(e){var t=Ut(),n={impl:e};return t.memoizedState=n,function(){if((et&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Fc={readContext:qt,use:Rr,useCallback:bo,useContext:qt,useEffect:Xc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:vo,useReducer:kr,useRef:uo,useState:function(){return kr(sl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=pt();return go(n,ct.memoizedState,e,t)},useTransition:function(){var e=kr(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Qc,useFormState:io,useActionState:io,useOptimistic:function(e,t){var n=pt();return Fs(n,ct,e,t)},useMemoCache:Oc,useCacheRefresh:Co};Fc.useEffectEvent=so;var Do={readContext:qt,use:Rr,useCallback:bo,useContext:qt,useEffect:Xc,useImperativeHandle:mo,useInsertionEffect:oo,useLayoutEffect:fo,useMemo:vo,useReducer:Zc,useRef:uo,useState:function(){return Zc(sl)},useDebugValue:Vc,useDeferredValue:function(e,t){var n=pt();return ct===null?Wc(n,e,t):go(n,ct.memoizedState,e,t)},useTransition:function(){var e=Zc(sl)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:Ni(e),t]},useSyncExternalStore:Xs,useId:So,useHostTransitionStatus:Qc,useFormState:co,useActionState:co,useOptimistic:function(e,t){var n=pt();return ct!==null?Fs(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:Co};Do.useEffectEvent=so;function $c(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Dl(l);u.payload=t,n!=null&&(u.callback=n),t=Nl(e,u,l),t!==null&&(tn(t,e,l),wi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=hn(),u=Dl(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Nl(e,u,l),t!==null&&(tn(t,e,l),wi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),l=Dl(n);l.tag=2,t!=null&&(l.callback=t),t=Nl(e,l,n),t!==null&&(tn(t,e,n),wi(t,e,n))}};function No(e,t,n,l,u,s,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,_):t.prototype&&t.prototype.isPureReactComponent?!vi(n,l)||!vi(u,s):!0}function Ao(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function sa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function To(e){gr(e)}function Lo(e){console.error(e)}function Eo(e){gr(e)}function Or(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Bo(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function tu(e,t,n){return n=Dl(n),n.tag=3,n.payload={element:null},n.callback=function(){Or(e,t)},n}function qo(e){return e=Dl(e),e.tag=3,e}function Ro(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var s=l.value;e.payload=function(){return u(s)},e.callback=function(){Bo(t,n,l)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Bo(t,n,l),typeof u!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})})}function r2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ra(t,n,u,!0),n=sn.current,n!==null){switch(n.tag){case 31:case 13:return Dn===null?$r():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Mu(e,l,u)),!1;case 22:return n.flags|=65536,l===Dr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Mu(e,l,u)),!1}throw Error(r(435,n.tag))}return Mu(e,l,u),$r(),!1}if(Ie)return t=sn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==pc&&(e=Error(r(422),{cause:l}),pi(jn(e,n)))):(l!==pc&&(t=Error(r(423),{cause:l}),pi(jn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=jn(l,n),u=tu(e.stateNode,l,u),Tc(e,u),vt!==4&&(vt=2)),!1;var s=Error(r(520),{cause:l});if(s=jn(s,n),Yi===null?Yi=[s]:Yi.push(s),vt!==4&&(vt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=tu(n.stateNode,l,e),Tc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ql===null||!ql.has(s))))return n.flags|=65536,u&=-u,n.lanes|=u,u=qo(u),Ro(u,e,n,l),Tc(n,u),!1}n=n.return}while(n!==null);return!1}var nu=Error(r(461)),wt=!1;function Rt(e,t,n,l){t.child=e===null?Ys(t,null,n,l):ua(t,e.child,n,l)}function ko(e,t,n,l,u){n=n.render;var s=t.ref;if("ref"in l){var _={};for(var L in l)L!=="ref"&&(_[L]=l[L])}else _=l;return aa(t),l=kc(e,t,n,_,s,u),L=Gc(),e!==null&&!wt?(Yc(e,t,u),ol(e,t,u)):(Ie&&L&&gc(t),t.flags|=1,Rt(e,t,l,u),t.child)}function Go(e,t,n,l,u){if(e===null){var s=n.type;return typeof s=="function"&&!mc(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Yo(e,t,s,l,u)):(e=Sr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!su(e,u)){var _=s.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(_,l)&&e.ref===t.ref)return ol(e,t,u)}return t.flags|=1,e=il(s,l),e.ref=t.ref,e.return=t,t.child=e}function Yo(e,t,n,l,u){if(e!==null){var s=e.memoizedProps;if(vi(s,l)&&e.ref===t.ref)if(wt=!1,t.pendingProps=l=s,su(e,u))(e.flags&131072)!==0&&(wt=!0);else return t.lanes=e.lanes,ol(e,t,u)}return lu(e,t,n,l,u)}function Ho(e,t,n,l){var u=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~s}else l=0,t.child=null;return Oo(e,t,s,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mr(t,s!==null?s.cachePool:null),s!==null?Is(t,s):Ec(),Zs(t);else return l=t.lanes=536870912,Oo(e,t,s!==null?s.baseLanes|n:n,n,l)}else s!==null?(Mr(t,s.cachePool),Is(t,s),Tl(),t.memoizedState=null):(e!==null&&Mr(t,null),Ec(),Tl());return Rt(e,t,u,n),t.child}function Li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Oo(e,t,n,l,u){var s=zc();return s=s===null?null:{parent:Ct._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Mr(t,null),Ec(),Zs(t),e!==null&&Ra(e,t,l,!0),t.childLanes=u,null}function Ir(e,t){return t=Ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Io(e,t,n){return ua(t,e.child,null,n),e=Ir(t,t.pendingProps),e.flags|=2,on(t),t.memoizedState=null,e}function c2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(l.mode==="hidden")return e=Ir(t,l),t.lanes=536870912,Li(null,e);if(qc(t),(e=ot)?(e=td(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Xn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Bt=t,ot=null)):e=null,e===null)throw wl(t);return t.lanes=536870912,null}return Ir(t,l)}var s=e.memoizedState;if(s!==null){var _=s.dehydrated;if(qc(t),u)if(t.flags&256)t.flags&=-257,t=Io(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(wt||Ra(e,t,n,!1),u=(n&e.childLanes)!==0,wt||u){if(l=st,l!==null&&(_=lt(l,n),_!==0&&_!==s.retryLane))throw s.retryLane=_,ea(e,_),tn(l,e,_),nu;$r(),t=Io(e,t,n)}else e=s.treeContext,ot=Nn(_.nextSibling),Bt=t,Ie=!0,jl=null,zn=!1,e!==null&&zs(t,e),t=Ir(t,l),t.flags|=4096;return t}return e=il(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Zr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lu(e,t,n,l,u){return aa(t),n=kc(e,t,n,l,void 0,u),l=Gc(),e!==null&&!wt?(Yc(e,t,u),ol(e,t,u)):(Ie&&l&&gc(t),t.flags|=1,Rt(e,t,n,u),t.child)}function Zo(e,t,n,l,u,s){return aa(t),t.updateQueue=null,n=Ks(t,l,n,u),Us(e),l=Gc(),e!==null&&!wt?(Yc(e,t,s),ol(e,t,s)):(Ie&&l&&gc(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Uo(e,t,n,l,u){if(aa(t),t.stateNode===null){var s=La,_=n.contextType;typeof _=="object"&&_!==null&&(s=qt(_)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=eu,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},Nc(t),_=n.contextType,s.context=typeof _=="object"&&_!==null?qt(_):La,s.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&($c(t,n,_,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(_=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),_!==s.state&&eu.enqueueReplaceState(s,s.state,null),zi(t,l,s,u),Mi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var L=t.memoizedProps,O=sa(n,L);s.props=O;var te=s.context,ie=n.contextType;_=La,typeof ie=="object"&&ie!==null&&(_=qt(ie));var ce=n.getDerivedStateFromProps;ie=typeof ce=="function"||typeof s.getSnapshotBeforeUpdate=="function",L=t.pendingProps!==L,ie||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(L||te!==_)&&Ao(t,s,l,_),zl=!1;var ne=t.memoizedState;s.state=ne,zi(t,l,s,u),Mi(),te=t.memoizedState,L||ne!==te||zl?(typeof ce=="function"&&($c(t,n,ce,l),te=t.memoizedState),(O=zl||No(t,n,O,l,ne,te,_))?(ie||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=te),s.props=l,s.state=te,s.context=_,l=O):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Ac(e,t),_=t.memoizedProps,ie=sa(n,_),s.props=ie,ce=t.pendingProps,ne=s.context,te=n.contextType,O=La,typeof te=="object"&&te!==null&&(O=qt(te)),L=n.getDerivedStateFromProps,(te=typeof L=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(_!==ce||ne!==O)&&Ao(t,s,l,O),zl=!1,ne=t.memoizedState,s.state=ne,zi(t,l,s,u),Mi();var ae=t.memoizedState;_!==ce||ne!==ae||zl||e!==null&&e.dependencies!==null&&jr(e.dependencies)?(typeof L=="function"&&($c(t,n,L,l),ae=t.memoizedState),(ie=zl||No(t,n,ie,l,ne,ae,O)||e!==null&&e.dependencies!==null&&jr(e.dependencies))?(te||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,ae,O),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,ae,O)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ae),s.props=l,s.state=ae,s.context=O,l=ie):(typeof s.componentDidUpdate!="function"||_===e.memoizedProps&&ne===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&ne===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Zr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ua(t,e.child,null,u),t.child=ua(t,null,n,u)):Rt(e,t,n,u),t.memoizedState=s.state,e=t.child):e=ol(e,t,u),e}function Ko(e,t,n,l){return na(),t.flags|=256,Rt(e,t,n,l),t.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iu(e){return{baseLanes:e,cachePool:Es()}}function ru(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dn),e}function Xo(e,t,n){var l=t.pendingProps,u=!1,s=(t.flags&128)!==0,_;if((_=s)||(_=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),_&&(u=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(u?Al(t):Tl(),(e=ot)?(e=td(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Cl!==null?{id:Xn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},n=js(e),n.return=t,t.child=n,Bt=t,ot=null)):e=null,e===null)throw wl(t);return Iu(e)?t.lanes=32:t.lanes=536870912,null}var L=l.children;return l=l.fallback,u?(Tl(),u=t.mode,L=Ur({mode:"hidden",children:L},u),l=ta(l,u,n,null),L.return=t,l.return=t,L.sibling=l,t.child=L,l=t.child,l.memoizedState=iu(n),l.childLanes=ru(e,_,n),t.memoizedState=au,Li(null,l)):(Al(t),cu(t,L))}var O=e.memoizedState;if(O!==null&&(L=O.dehydrated,L!==null)){if(s)t.flags&256?(Al(t),t.flags&=-257,t=uu(e,t,n)):t.memoizedState!==null?(Tl(),t.child=e.child,t.flags|=128,t=null):(Tl(),L=l.fallback,u=t.mode,l=Ur({mode:"visible",children:l.children},u),L=ta(L,u,n,null),L.flags|=2,l.return=t,L.return=t,l.sibling=L,t.child=l,ua(t,e.child,null,n),l=t.child,l.memoizedState=iu(n),l.childLanes=ru(e,_,n),t.memoizedState=au,t=Li(null,l));else if(Al(t),Iu(L)){if(_=L.nextSibling&&L.nextSibling.dataset,_)var te=_.dgst;_=te,l=Error(r(419)),l.stack="",l.digest=_,pi({value:l,source:null,stack:null}),t=uu(e,t,n)}else if(wt||Ra(e,t,n,!1),_=(n&e.childLanes)!==0,wt||_){if(_=st,_!==null&&(l=lt(_,n),l!==0&&l!==O.retryLane))throw O.retryLane=l,ea(e,l),tn(_,e,l),nu;Ou(L)||$r(),t=uu(e,t,n)}else Ou(L)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,ot=Nn(L.nextSibling),Bt=t,Ie=!0,jl=null,zn=!1,e!==null&&zs(t,e),t=cu(t,l.children),t.flags|=4096);return t}return u?(Tl(),L=l.fallback,u=t.mode,O=e.child,te=O.sibling,l=il(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,te!==null?L=il(te,L):(L=ta(L,u,n,null),L.flags|=2),L.return=t,l.return=t,l.sibling=L,t.child=l,Li(null,l),l=t.child,L=e.child.memoizedState,L===null?L=iu(n):(u=L.cachePool,u!==null?(O=Ct._currentValue,u=u.parent!==O?{parent:O,pool:O}:u):u=Es(),L={baseLanes:L.baseLanes|n,cachePool:u}),l.memoizedState=L,l.childLanes=ru(e,_,n),t.memoizedState=au,Li(e.child,l)):(Al(t),n=e.child,e=n.sibling,n=il(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function cu(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=xn(22,e,null,t),e.lanes=0,e}function uu(e,t,n){return ua(t,e.child,null,n),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Cc(e.return,t,n)}function xu(e,t,n,l,u,s){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:s}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=n,_.tailMode=u,_.treeForkCount=s)}function Wo(e,t,n){var l=t.pendingProps,u=l.revealOrder,s=l.tail;l=l.children;var _=yt.current,L=(_&2)!==0;if(L?(_=_&1|2,t.flags|=128):_&=1,U(yt,_),Rt(e,t,l,n),l=Ie?yi:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vo(e,n,t);else if(e.tag===19)Vo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Lr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),xu(t,!1,u,n,s,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Lr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}xu(t,!0,n,null,s,l);break;case"together":xu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function su(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jr(e)))}function u2(e,t,n){switch(t.tag){case 3:fe(t,t.stateNode.containerInfo),Ml(t,Ct,e.memoizedState.cache),na();break;case 27:case 5:me(t);break;case 4:fe(t,t.stateNode.containerInfo);break;case 10:Ml(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,qc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Al(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Xo(e,t,n):(Al(t),e=ol(e,t,n),e!==null?e.sibling:null);Al(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ra(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Wo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),U(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ho(e,t,n,t.pendingProps);case 24:Ml(t,Ct,e.memoizedState.cache)}return ol(e,t,n)}function Jo(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)wt=!0;else{if(!su(e,n)&&(t.flags&128)===0)return wt=!1,u2(e,t,n);wt=(e.flags&131072)!==0}else wt=!1,Ie&&(t.flags&1048576)!==0&&Ms(t,yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ra(t.elementType),t.type=e,typeof e=="function")mc(e)?(l=sa(e,l),t.tag=1,t=Uo(null,t,e,l,n)):(t.tag=0,t=lu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===H){t.tag=11,t=ko(null,t,e,l,n);break e}else if(u===Y){t.tag=14,t=Go(null,t,e,l,n);break e}}throw t=z(e)||e,Error(r(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=sa(l,t.pendingProps),Uo(e,t,l,u,n);case 3:e:{if(fe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;u=s.element,Ac(e,t),zi(t,l,null,n);var _=t.memoizedState;if(l=_.cache,Ml(t,Ct,l),l!==s.cache&&jc(t,[Ct],n,!0),Mi(),l=_.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Ko(e,t,l,n);break e}else if(l!==u){u=jn(Error(r(424)),t),pi(u),t=Ko(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=Nn(e.firstChild),Bt=t,Ie=!0,jl=null,zn=!0,n=Ys(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),l===u){t=ol(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Zr(e,t),e===null?(n=cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ie||(n=t.type,e=t.pendingProps,l=r0(se.current).createElement(n),l[Dt]=t,l[Ht]=e,kt(l,n,e),At(l),t.stateNode=l):t.memoizedState=cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return me(t),e===null&&Ie&&(l=t.stateNode=ad(t.type,t.pendingProps,se.current),Bt=t,zn=!0,u=ot,Yl(t.type)?(Zu=u,ot=Nn(l.firstChild)):ot=u),Rt(e,t,t.pendingProps.children,n),Zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((u=l=ot)&&(l=G2(l,t.type,t.pendingProps,zn),l!==null?(t.stateNode=l,Bt=t,ot=Nn(l.firstChild),zn=!1,u=!0):u=!1),u||wl(t)),me(t),u=t.type,s=t.pendingProps,_=e!==null?e.memoizedProps:null,l=s.children,Gu(u,s)?l=null:_!==null&&Gu(u,_)&&(t.flags|=32),t.memoizedState!==null&&(u=kc(e,t,$1,null,null,n),Vi._currentValue=u),Zr(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&Ie&&((e=n=ot)&&(n=Y2(n,t.pendingProps,zn),n!==null?(t.stateNode=n,Bt=t,ot=null,e=!0):e=!1),e||wl(t)),null;case 13:return Xo(e,t,n);case 4:return fe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ua(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return ko(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Ml(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,aa(t),u=qt(u),l=l(u),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Go(e,t,t.type,t.pendingProps,n);case 15:return Yo(e,t,t.type,t.pendingProps,n);case 19:return Wo(e,t,n);case 31:return c2(e,t,n);case 22:return Ho(e,t,n,t.pendingProps);case 24:return aa(t),l=qt(Ct),e===null?(u=zc(),u===null&&(u=st,s=wc(),u.pooledCache=s,s.refCount++,s!==null&&(u.pooledCacheLanes|=n),u=s),t.memoizedState={parent:l,cache:u},Nc(t),Ml(t,Ct,u)):((e.lanes&n)!==0&&(Ac(e,t),zi(t,null,null,n),Mi()),u=e.memoizedState,s=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ml(t,Ct,l)):(l=s.cache,Ml(t,Ct,l),l!==u.cache&&jc(t,[Ct],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function fl(e){e.flags|=4}function ou(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw ca=Dr,Dc}else e.flags&=-16777217}function Qo(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fd(t))if(Cf())e.flags|=8192;else throw ca=Dr,Dc}function Kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$e():536870912,e.lanes|=t,Wa|=t)}function Ei(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function x2(e,t,n){var l=t.pendingProps;switch(yc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ul(Ct),he(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?fl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),ft(t),null;case 26:var u=t.type,s=t.memoizedState;return e===null?(fl(t),s!==null?(ft(t),Qo(t,s)):(ft(t),ou(t,u,null,l,n))):s?s!==e.memoizedState?(fl(t),ft(t),Qo(t,s)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&fl(t),ft(t),ou(t,u,e,l,n)),null;case 27:if(ve(t),n=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}e=W.current,qa(t)?Ds(t):(e=ad(u,l,n),t.stateNode=e,fl(t))}return ft(t),null;case 5:if(ve(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ft(t),null}if(s=W.current,qa(t))Ds(t);else{var _=r0(se.current);switch(s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?_.createElement(u,{is:l.is}):_.createElement(u)}}s[Dt]=t,s[Ht]=l;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=s;e:switch(kt(s,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fl(t)}}return ft(t),ou(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&fl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,qa(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Bt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Dt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Vf(e.nodeValue,n)),e||wl(t,!0)}else e=r0(e).createTextNode(l),e[Dt]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=qa(t),n!==null){if(e===null){if(!l)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(on(t),t):(on(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=qa(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Dt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(on(t),t):(on(t),null)}return on(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kr(t,t.updateQueue),ft(t),null);case 4:return he(),e===null&&Eu(t.stateNode.containerInfo),ft(t),null;case 10:return ul(t.type),ft(t),null;case 19:if(B(yt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,s=l.rendering,s===null)if(u)Ei(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Lr(e),s!==null){for(t.flags|=128,Ei(l,!1),e=s.updateQueue,t.updateQueue=e,Kr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cs(n,e),n=n.sibling;return U(yt,yt.current&1|2),Ie&&rl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Je()>Qr&&(t.flags|=128,u=!0,Ei(l,!1),t.lanes=4194304)}else{if(!u)if(e=Lr(s),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Kr(t,e),Ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Ie)return ft(t),null}else 2*Je()-l.renderingStartTime>Qr&&n!==536870912&&(t.flags|=128,u=!0,Ei(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Je(),e.sibling=null,n=yt.current,U(yt,u?n&1|2:n&1),Ie&&rl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return on(t),Bc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Kr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&B(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ul(Ct),ft(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function s2(e,t){switch(yc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(Ct),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ve(t),null;case 31:if(t.memoizedState!==null){if(on(t),t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(on(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(yt),null;case 4:return he(),null;case 10:return ul(t.type),null;case 22:case 23:return on(t),Bc(),e!==null&&B(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ul(Ct),null;case 25:return null;default:return null}}function Po(e,t){switch(yc(t),t.tag){case 3:ul(Ct),he();break;case 26:case 27:case 5:ve(t);break;case 4:he();break;case 31:t.memoizedState!==null&&on(t);break;case 13:on(t);break;case 19:B(yt);break;case 10:ul(t.type);break;case 22:case 23:on(t),Bc(),e!==null&&B(ia);break;case 24:ul(Ct)}}function Bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var s=n.create,_=n.inst;l=s(),_.destroy=l}n=n.next}while(n!==u)}}catch(L){rt(t,t.return,L)}}function Ll(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var s=u.next;l=s;do{if((l.tag&e)===e){var _=l.inst,L=_.destroy;if(L!==void 0){_.destroy=void 0,u=t;var O=n,te=L;try{te()}catch(ie){rt(u,O,ie)}}}l=l.next}while(l!==s)}}catch(ie){rt(t,t.return,ie)}}function Fo(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Os(t,n)}catch(l){rt(e,e.return,l)}}}function $o(e,t,n){n.props=sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){rt(e,t,l)}}function qi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){rt(e,t,u)}}function Wn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){rt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){rt(e,t,u)}else n.current=null}function ef(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){rt(e,e.return,u)}}function fu(e,t,n){try{var l=e.stateNode;L2(l,e.type,n,t),l[Ht]=t}catch(u){rt(e,e.return,u)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ll));else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hu(e,t,n),e=e.sibling;e!==null;)hu(e,t,n),e=e.sibling}function Xr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Yl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Xr(e,t,n),e=e.sibling;e!==null;)Xr(e,t,n),e=e.sibling}function nf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);kt(t,l,n),t[Dt]=e,t[Ht]=n}catch(s){rt(e,e.return,s)}}var dl=!1,Mt=!1,mu=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function o2(e,t){if(e=e.containerInfo,Ru=d0,e=hs(e),uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var _=0,L=-1,O=-1,te=0,ie=0,ce=e,ne=null;t:for(;;){for(var ae;ce!==n||u!==0&&ce.nodeType!==3||(L=_+u),ce!==s||l!==0&&ce.nodeType!==3||(O=_+l),ce.nodeType===3&&(_+=ce.nodeValue.length),(ae=ce.firstChild)!==null;)ne=ce,ce=ae;for(;;){if(ce===e)break t;if(ne===n&&++te===u&&(L=_),ne===s&&++ie===l&&(O=_),(ae=ce.nextSibling)!==null)break;ce=ne,ne=ce.parentNode}ce=ae}n=L===-1||O===-1?null:{start:L,end:O}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},d0=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,u=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var be=sa(n.type,u);e=l.getSnapshotBeforeUpdate(be,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){rt(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function af(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),l&4&&Bi(5,n);break;case 1:if(ml(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){rt(n,n.return,_)}else{var u=sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){rt(n,n.return,_)}}l&64&&Fo(n),l&512&&qi(n,n.return);break;case 3:if(ml(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Os(e,t)}catch(_){rt(n,n.return,_)}}break;case 27:t===null&&l&4&&nf(n);case 26:case 5:ml(e,n),t===null&&l&4&&ef(n),l&512&&qi(n,n.return);break;case 12:ml(e,n);break;case 31:ml(e,n),l&4&&uf(e,n);break;case 13:ml(e,n),l&4&&xf(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=p2.bind(null,n),H2(e,n))));break;case 22:if(l=n.memoizedState!==null||dl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=dl;var s=Mt;dl=l,(Mt=t)&&!s?bl(e,n,(n.subtreeFlags&8772)!==0):ml(e,n),dl=u,Mt=s}break;case 30:break;default:ml(e,n)}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Pt=!1;function hl(e,t,n){for(n=n.child;n!==null;)cf(e,t,n),n=n.sibling}function cf(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 26:Mt||Wn(n,t),hl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Wn(n,t);var l=dt,u=Pt;Yl(n.type)&&(dt=n.stateNode,Pt=!1),hl(e,t,n),Ui(n.stateNode),dt=l,Pt=u;break;case 5:Mt||Wn(n,t);case 6:if(l=dt,u=Pt,dt=null,hl(e,t,n),dt=l,Pt=u,dt!==null)if(Pt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(s){rt(n,t,s)}else try{dt.removeChild(n.stateNode)}catch(s){rt(n,t,s)}break;case 18:dt!==null&&(Pt?(e=dt,$f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ni(e)):$f(dt,n.stateNode));break;case 4:l=dt,u=Pt,dt=n.stateNode.containerInfo,Pt=!0,hl(e,t,n),dt=l,Pt=u;break;case 0:case 11:case 14:case 15:Ll(2,n,t),Mt||Ll(4,n,t),hl(e,t,n);break;case 1:Mt||(Wn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&$o(n,t,l)),hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,hl(e,t,n),Mt=l;break;default:hl(e,t,n)}}function uf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(n){rt(t,t.return,n)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(n){rt(t,t.return,n)}}function f2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(r(435,e.tag))}}function Vr(e,t){var n=f2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=_2.bind(null,e,l);l.then(u,u)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],s=e,_=t,L=_;e:for(;L!==null;){switch(L.tag){case 27:if(Yl(L.type)){dt=L.stateNode,Pt=!1;break e}break;case 5:dt=L.stateNode,Pt=!1;break e;case 3:case 4:dt=L.stateNode.containerInfo,Pt=!0;break e}L=L.return}if(dt===null)throw Error(r(160));cf(s,_,u),dt=null,Pt=!1,s=u.alternate,s!==null&&(s.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)sf(t,e),t=t.sibling}var On=null;function sf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(Ll(3,e,e.return),Bi(3,e),Ll(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(Mt||n===null||Wn(n,n.return)),l&64&&dl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=On;if(Ft(t,e),$t(e),l&512&&(Mt||n===null||Wn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":s=u.getElementsByTagName("title")[0],(!s||s[cn]||s[Dt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=u.createElement(l),u.head.insertBefore(s,u.querySelector("head > title"))),kt(s,l,n),s[Dt]=e,At(s),l=s;break e;case"link":var _=sd("link","href",u).get(l+(n.href||""));if(_){for(var L=0;L<_.length;L++)if(s=_[L],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(L,1);break t}}s=u.createElement(l),kt(s,l,n),u.head.appendChild(s);break;case"meta":if(_=sd("meta","content",u).get(l+(n.content||""))){for(L=0;L<_.length;L++)if(s=_[L],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(L,1);break t}}s=u.createElement(l),kt(s,l,n),u.head.appendChild(s);break;default:throw Error(r(468,l))}s[Dt]=e,At(s),l=s}e.stateNode=l}else od(u,e.type,e.stateNode);else e.stateNode=xd(u,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?od(u,e.type,e.stateNode):xd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(Mt||n===null||Wn(n,n.return)),n!==null&&l&4&&fu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(Mt||n===null||Wn(n,n.return)),e.flags&32){u=e.stateNode;try{wa(u,"")}catch(be){rt(e,e.return,be)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,fu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(mu=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(be){rt(e,e.return,be)}}break;case 3:if(x0=null,u=On,On=c0(t.containerInfo),Ft(t,e),On=u,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(be){rt(e,e.return,be)}mu&&(mu=!1,of(e));break;case 4:l=On,On=c0(e.stateNode.containerInfo),Ft(t,e),$t(e),On=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Jr=Je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 22:u=e.memoizedState!==null;var O=n!==null&&n.memoizedState!==null,te=dl,ie=Mt;if(dl=te||u,Mt=ie||O,Ft(t,e),Mt=ie,dl=te,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||O||dl||Mt||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){O=n=t;try{if(s=O.stateNode,u)_=s.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{L=O.stateNode;var ce=O.memoizedProps.style,ne=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(be){rt(O,O.return,be)}}}else if(t.tag===6){if(n===null){O=t;try{O.stateNode.nodeValue=u?"":O.memoizedProps}catch(be){rt(O,O.return,be)}}}else if(t.tag===18){if(n===null){O=t;try{var ae=O.stateNode;u?ed(ae,!0):ed(O.stateNode,!1)}catch(be){rt(O,O.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Vr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Vr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(tf(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,s=du(e);Xr(e,s,u);break;case 5:var _=n.stateNode;n.flags&32&&(wa(_,""),n.flags&=-33);var L=du(e);Xr(e,L,_);break;case 3:case 4:var O=n.stateNode.containerInfo,te=du(e);hu(e,te,O);break;default:throw Error(r(161))}}catch(ie){rt(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ll(4,t,t.return),oa(t);break;case 1:Wn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$o(t,t.return,n),oa(t);break;case 27:Ui(t.stateNode);case 26:case 5:Wn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function bl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,s=t,_=s.flags;switch(s.tag){case 0:case 11:case 15:bl(u,s,n),Bi(4,s);break;case 1:if(bl(u,s,n),l=s,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(te){rt(l,l.return,te)}if(l=s,u=l.updateQueue,u!==null){var L=l.stateNode;try{var O=u.shared.hiddenCallbacks;if(O!==null)for(u.shared.hiddenCallbacks=null,u=0;u<O.length;u++)Hs(O[u],L)}catch(te){rt(l,l.return,te)}}n&&_&64&&Fo(s),qi(s,s.return);break;case 27:nf(s);case 26:case 5:bl(u,s,n),n&&l===null&&_&4&&ef(s),qi(s,s.return);break;case 12:bl(u,s,n);break;case 31:bl(u,s,n),n&&_&4&&uf(u,s);break;case 13:bl(u,s,n),n&&_&4&&xf(u,s);break;case 22:s.memoizedState===null&&bl(u,s,n),qi(s,s.return);break;case 30:break;default:bl(u,s,n)}t=t.sibling}}function bu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&_i(n))}function vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function In(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ff(e,t,n,l),t=t.sibling}function ff(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:In(e,t,n,l),u&2048&&Bi(9,t);break;case 1:In(e,t,n,l);break;case 3:In(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(u&2048){In(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,_=s.id,L=s.onPostCommit;typeof L=="function"&&L(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){rt(t,t.return,O)}}else In(e,t,n,l);break;case 31:In(e,t,n,l);break;case 13:In(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,_=t.alternate,t.memoizedState!==null?s._visibility&2?In(e,t,n,l):Ri(e,t):s._visibility&2?In(e,t,n,l):(s._visibility|=2,Ka(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&bu(_,t);break;case 24:In(e,t,n,l),u&2048&&vu(t.alternate,t);break;default:In(e,t,n,l)}}function Ka(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,_=t,L=n,O=l,te=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(s,_,L,O,u),Bi(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?Ka(s,_,L,O,u):Ri(s,_):(ie._visibility|=2,Ka(s,_,L,O,u)),u&&te&2048&&bu(_.alternate,_);break;case 24:Ka(s,_,L,O,u),u&&te&2048&&vu(_.alternate,_);break;default:Ka(s,_,L,O,u)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ri(n,l),u&2048&&bu(l.alternate,l);break;case 24:Ri(n,l),u&2048&&vu(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var ki=8192;function Xa(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)df(e,t,n),e=e.sibling}function df(e,t,n){switch(e.tag){case 26:Xa(e,t,n),e.flags&ki&&e.memoizedState!==null&&F2(n,On,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,n);break;case 3:case 4:var l=On;On=c0(e.stateNode.containerInfo),Xa(e,t,n),On=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,Xa(e,t,n),ki=l):Xa(e,t,n));break;default:Xa(e,t,n)}}function hf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,bf(l,e)}hf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Ll(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):Gi(e);break;default:Gi(e)}}function Wr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,bf(l,e)}hf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ll(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function bf(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:Ll(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_i(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var u=l.sibling,s=l.return;if(rf(l),l===n){Tt=null;break e}if(u!==null){u.return=s,Tt=u;break e}Tt=s}}}var d2={getCacheForType:function(e){var t=qt(Ct),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return qt(Ct).controller.signal}},h2=typeof WeakMap=="function"?WeakMap:Map,et=0,st=null,Re=null,Ye=0,it=0,fn=null,El=!1,Va=!1,gu=!1,vl=0,vt=0,Bl=0,fa=0,yu=0,dn=0,Wa=0,Yi=null,en=null,pu=!1,Jr=0,vf=0,Qr=1/0,Pr=null,ql=null,Nt=0,Rl=null,Ja=null,gl=0,_u=0,Su=null,gf=null,Hi=0,Cu=null;function hn(){return(et&2)!==0&&Ye!==0?Ye&-Ye:w.T!==null?Nu():ya()}function yf(){if(dn===0)if((Ye&536870912)===0||Ie){var e=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),dn=e}else dn=536870912;return e=sn.current,e!==null&&(e.flags|=32),dn}function tn(e,t,n){(e===st&&(it===2||it===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),kl(e,Ye,dn,!1)),gt(e,n),((et&2)===0||e!==st)&&(e===st&&((et&2)===0&&(fa|=n),vt===4&&kl(e,Ye,dn,!1)),Jn(e))}function pf(e,t,n){if((et&6)!==0)throw Error(r(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Oe(e,t),u=l?v2(e,t):wu(e,t,!0),s=l;do{if(u===0){Va&&!l&&kl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!m2(n)){u=wu(e,t,!1),s=!1;continue}if(u===2){if(s=t,e.errorRecoveryDisabledLanes&s)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var L=e;u=Yi;var O=L.current.memoizedState.isDehydrated;if(O&&(Qa(L,_).flags|=256),_=wu(L,_,!1),_!==2){if(gu&&!O){L.errorRecoveryDisabledLanes|=s,fa|=s,u=4;break e}s=en,en=u,s!==null&&(en===null?en=s:en.push.apply(en,s))}u=_}if(s=!1,u!==2)continue}}if(u===1){Qa(e,0),kl(e,t,0,!0);break}e:{switch(l=e,s=u,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:kl(l,t,dn,!El);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Jr+300-Je(),10<u)){if(kl(l,t,dn,!El),Pe(l,0,!0)!==0)break e;gl=t,l.timeoutHandle=Pf(_f.bind(null,l,n,en,Pr,pu,t,dn,fa,Wa,El,s,"Throttled",-0,0),u);break e}_f(l,n,en,Pr,pu,t,dn,fa,Wa,El,s,null,-0,0)}}break}while(!0);Jn(e)}function _f(e,t,n,l,u,s,_,L,O,te,ie,ce,ne,ae){if(e.timeoutHandle=-1,ce=t.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},df(t,s,ce);var be=(s&62914560)===s?Jr-Je():(s&4194048)===s?vf-Je():0;if(be=$2(ce,be),be!==null){gl=s,e.cancelPendingCommit=be(Nf.bind(null,e,t,s,n,l,u,_,L,O,ie,ce,null,ne,ae)),kl(e,s,_,!te);return}}Nf(e,t,s,n,l,u,_,L,O)}function m2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],s=u.getSnapshot;u=u.value;try{if(!un(s(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kl(e,t,n,l){t&=~yu,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var s=31-xe(u),_=1<<s;l[s]=-1,u&=~_}n!==0&&Me(e,n,t)}function Fr(){return(et&6)===0?(Oi(0),!1):!0}function ju(){if(Re!==null){if(it===0)var e=Re.return;else e=Re,cl=la=null,Hc(e),Ha=null,Ci=0,e=Re;for(;e!==null;)Po(e.alternate,e),e=e.return;Re=null}}function Qa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,q2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),gl=0,ju(),st=e,Re=n=il(e.current,null),Ye=t,it=0,fn=null,El=!1,Va=Oe(e,t),gu=!1,Wa=dn=yu=fa=Bl=vt=0,en=Yi=null,pu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-xe(l),s=1<<u;t|=e[u],l&=~s}return vl=t,yr(),n}function Sf(e,t){Te=null,w.H=Ti,t===Ya||t===zr?(t=Rs(),it=3):t===Dc?(t=Rs(),it=4):it=t===nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Re===null&&(vt=1,Or(e,jn(t,e.current)))}function Cf(){var e=sn.current;return e===null?!0:(Ye&4194048)===Ye?Dn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?e===Dn:!1}function jf(){var e=w.H;return w.H=Ti,e===null?Ti:e}function wf(){var e=w.A;return w.A=d2,e}function $r(){vt=4,El||(Ye&4194048)!==Ye&&sn.current!==null||(Va=!0),(Bl&134217727)===0&&(fa&134217727)===0||st===null||kl(st,Ye,dn,!1)}function wu(e,t,n){var l=et;et|=2;var u=jf(),s=wf();(st!==e||Ye!==t)&&(Pr=null,Qa(e,t)),t=!1;var _=vt;e:do try{if(it!==0&&Re!==null){var L=Re,O=fn;switch(it){case 8:ju(),_=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(t=!0);var te=it;if(it=0,fn=null,Pa(e,L,O,te),n&&Va){_=0;break e}break;default:te=it,it=0,fn=null,Pa(e,L,O,te)}}b2(),_=vt;break}catch(ie){Sf(e,ie)}while(!0);return t&&e.shellSuspendCounter++,cl=la=null,et=l,w.H=u,w.A=s,Re===null&&(st=null,Ye=0,yr()),_}function b2(){for(;Re!==null;)Mf(Re)}function v2(e,t){var n=et;et|=2;var l=jf(),u=wf();st!==e||Ye!==t?(Pr=null,Qr=Je()+500,Qa(e,t)):Va=Oe(e,t);e:do try{if(it!==0&&Re!==null){t=Re;var s=fn;t:switch(it){case 1:it=0,fn=null,Pa(e,t,s,1);break;case 2:case 9:if(Bs(s)){it=0,fn=null,zf(t);break}t=function(){it!==2&&it!==9||st!==e||(it=7),Jn(e)},s.then(t,t);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Bs(s)?(it=0,fn=null,zf(t)):(it=0,fn=null,Pa(e,t,s,7));break;case 5:var _=null;switch(Re.tag){case 26:_=Re.memoizedState;case 5:case 27:var L=Re;if(_?fd(_):L.stateNode.complete){it=0,fn=null;var O=L.sibling;if(O!==null)Re=O;else{var te=L.return;te!==null?(Re=te,e0(te)):Re=null}break t}}it=0,fn=null,Pa(e,t,s,5);break;case 6:it=0,fn=null,Pa(e,t,s,6);break;case 8:ju(),vt=6;break e;default:throw Error(r(462))}}g2();break}catch(ie){Sf(e,ie)}while(!0);return cl=la=null,w.H=l,w.A=u,et=n,Re!==null?0:(st=null,Ye=0,yr(),vt)}function g2(){for(;Re!==null&&!$n();)Mf(Re)}function Mf(e){var t=Jo(e.alternate,e,vl);e.memoizedProps=e.pendingProps,t===null?e0(e):Re=t}function zf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zo(n,t,t.pendingProps,t.type,void 0,Ye);break;case 11:t=Zo(n,t,t.pendingProps,t.type.render,t.ref,Ye);break;case 5:Hc(t);default:Po(n,t),t=Re=Cs(t,vl),t=Jo(n,t,vl)}e.memoizedProps=e.pendingProps,t===null?e0(e):Re=t}function Pa(e,t,n,l){cl=la=null,Hc(t),Ha=null,Ci=0;var u=t.return;try{if(r2(e,u,t,n,Ye)){vt=1,Or(e,jn(n,e.current)),Re=null;return}}catch(s){if(u!==null)throw Re=u,s;vt=1,Or(e,jn(n,e.current)),Re=null;return}t.flags&32768?(Ie||l===1?e=!0:Va||(Ye&536870912)!==0?e=!1:(El=e=!0,(l===2||l===9||l===3||l===6)&&(l=sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Df(t,e)):e0(t)}function e0(e){var t=e;do{if((t.flags&32768)!==0){Df(t,El);return}e=t.return;var n=x2(t.alternate,t,vl);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);vt===0&&(vt=5)}function Df(e,t){do{var n=s2(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);vt=6,Re=null}function Nf(e,t,n,l,u,s,_,L,O){e.cancelPendingCommit=null;do t0();while(Nt!==0);if((et&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=dc,tt(e,n,s,_,L,O),e===st&&(Re=st=null,Ye=0),Ja=t,Rl=e,gl=n,_u=s,Su=u,gf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,S2(Gn,function(){return Bf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=w.T,w.T=null,u=T.p,T.p=2,_=et,et|=4;try{o2(e,t,n)}finally{et=_,T.p=u,w.T=l}}Nt=1,Af(),Tf(),Lf()}}function Af(){if(Nt===1){Nt=0;var e=Rl,t=Ja,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=w.T,w.T=null;var l=T.p;T.p=2;var u=et;et|=4;try{sf(t,e);var s=ku,_=hs(e.containerInfo),L=s.focusedElem,O=s.selectionRange;if(_!==L&&L&&L.ownerDocument&&ds(L.ownerDocument.documentElement,L)){if(O!==null&&uc(L)){var te=O.start,ie=O.end;if(ie===void 0&&(ie=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ie,L.value.length);else{var ce=L.ownerDocument||document,ne=ce&&ce.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),be=L.textContent.length,je=Math.min(O.start,be),xt=O.end===void 0?je:Math.min(O.end,be);!ae.extend&&je>xt&&(_=xt,xt=je,je=_);var Q=fs(L,je),X=fs(L,xt);if(Q&&X&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var ee=ce.createRange();ee.setStart(Q.node,Q.offset),ae.removeAllRanges(),je>xt?(ae.addRange(ee),ae.extend(X.node,X.offset)):(ee.setEnd(X.node,X.offset),ae.addRange(ee))}}}}for(ce=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&ce.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var re=ce[L];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}d0=!!Ru,ku=Ru=null}finally{et=u,T.p=l,w.T=n}}e.current=t,Nt=2}}function Tf(){if(Nt===2){Nt=0;var e=Rl,t=Ja,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=w.T,w.T=null;var l=T.p;T.p=2;var u=et;et|=4;try{af(e,t.alternate,t)}finally{et=u,T.p=l,w.T=n}}Nt=3}}function Lf(){if(Nt===4||Nt===3){Nt=0,el();var e=Rl,t=Ja,n=gl,l=gf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Ja=Rl=null,Ef(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ql=null),yn(n),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=w.T,u=T.p,T.p=2,w.T=null;try{for(var s=e.onRecoverableError,_=0;_<l.length;_++){var L=l[_];s(L.value,{componentStack:L.stack})}}finally{w.T=t,T.p=u}}(gl&3)!==0&&t0(),Jn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Cu?Hi++:(Hi=0,Cu=e):Hi=0,Oi(0)}}function Ef(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function t0(){return Af(),Tf(),Lf(),Bf()}function Bf(){if(Nt!==5)return!1;var e=Rl,t=_u;_u=0;var n=yn(gl),l=w.T,u=T.p;try{T.p=32>n?32:n,w.T=null,n=Su,Su=null;var s=Rl,_=gl;if(Nt=0,Ja=Rl=null,gl=0,(et&6)!==0)throw Error(r(331));var L=et;if(et|=4,mf(s.current),ff(s,s.current,_,n),et=L,Oi(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(tl,s)}catch{}return!0}finally{T.p=u,w.T=l,Ef(e,t)}}function qf(e,t,n){t=jn(n,t),t=tu(e.stateNode,t,2),e=Nl(e,t,2),e!==null&&(gt(e,2),Jn(e))}function rt(e,t,n){if(e.tag===3)qf(e,e,n);else for(;t!==null;){if(t.tag===3){qf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ql===null||!ql.has(l))){e=jn(n,e),n=qo(2),l=Nl(t,n,2),l!==null&&(Ro(n,l,t,e),gt(l,2),Jn(l));break}}t=t.return}}function Mu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new h2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(gu=!0,u.add(n),e=y2.bind(null,e,t,n),t.then(e,e))}function y2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(Ye&n)===n&&(vt===4||vt===3&&(Ye&62914560)===Ye&&300>Je()-Jr?(et&2)===0&&Qa(e,0):yu|=n,Wa===Ye&&(Wa=0)),Jn(e)}function Rf(e,t){t===0&&(t=$e()),e=ea(e,t),e!==null&&(gt(e,t),Jn(e))}function p2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rf(e,n)}function _2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Rf(e,n)}function S2(e,t){return Zt(e,t)}var n0=null,Fa=null,zu=!1,l0=!1,Du=!1,Gl=0;function Jn(e){e!==Fa&&e.next===null&&(Fa===null?n0=Fa=e:Fa=Fa.next=e),l0=!0,zu||(zu=!0,j2())}function Oi(e,t){if(!Du&&l0){Du=!0;do for(var n=!1,l=n0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var s=0;else{var _=l.suspendedLanes,L=l.pingedLanes;s=(1<<31-xe(42|e)+1)-1,s&=u&~(_&~L),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Hf(l,s))}else s=Ye,s=Pe(l,l===st?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Oe(l,s)||(n=!0,Hf(l,s));l=l.next}while(n);Du=!1}}function C2(){kf()}function kf(){l0=zu=!1;var e=0;Gl!==0&&B2()&&(e=Gl);for(var t=Je(),n=null,l=n0;l!==null;){var u=l.next,s=Gf(l,t);s===0?(l.next=null,n===null?n0=u:n.next=u,u===null&&(Fa=n)):(n=l,(e!==0||(s&3)!==0)&&(l0=!0)),l=u}Nt!==0&&Nt!==5||Oi(e),Gl!==0&&(Gl=0)}function Gf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var _=31-xe(s),L=1<<_,O=u[_];O===-1?((L&n)===0||(L&l)!==0)&&(u[_]=Fe(L,t)):O<=t&&(e.expiredLanes|=L),s&=~L}if(t=st,n=Ye,n=Pe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(it===2||it===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&vn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Oe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&vn(l),yn(n)){case 2:case 8:n=Vl;break;case 32:n=Gn;break;case 268435456:n=Yn;break;default:n=Gn}return l=Yf.bind(null,e),n=Zt(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&vn(l),e.callbackPriority=2,e.callbackNode=null,2}function Yf(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var l=Ye;return l=Pe(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(pf(e,l,t),Gf(e,Je()),e.callbackNode!=null&&e.callbackNode===n?Yf.bind(null,e):null)}function Hf(e,t){if(t0())return null;pf(e,t,!0)}function j2(){R2(function(){(et&6)!==0?Zt(_l,C2):kf()})}function Nu(){if(Gl===0){var e=ka;e===0&&(e=pe,pe<<=1,(pe&261888)===0&&(pe=256)),Gl=e}return Gl}function Of(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function If(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function w2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var s=Of((u[Ht]||null).action),_=l.submitter;_&&(t=(t=_[Ht]||null)?Of(t.formAction):_.getAttribute("formAction"),t!==null&&(s=t,_=null));var L=new mr("action","action",null,l,u);e.push({event:L,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gl!==0){var O=_?If(u,_):new FormData(u);Jc(n,{pending:!0,data:O,method:u.method,action:s},null,O)}}else typeof s=="function"&&(L.preventDefault(),O=_?If(u,_):new FormData(u),Jc(n,{pending:!0,data:O,method:u.method,action:s},s,O))},currentTarget:u}]})}}for(var Au=0;Au<fc.length;Au++){var Tu=fc[Au],M2=Tu.toLowerCase(),z2=Tu[0].toUpperCase()+Tu.slice(1);Hn(M2,"on"+z2)}Hn(vs,"onAnimationEnd"),Hn(gs,"onAnimationIteration"),Hn(ys,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Z1,"onTransitionRun"),Hn(U1,"onTransitionStart"),Hn(K1,"onTransitionCancel"),Hn(ps,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Ql("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ql("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ql("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ql("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ql("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ii));function Zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var _=l.length-1;0<=_;_--){var L=l[_],O=L.instance,te=L.currentTarget;if(L=L.listener,O!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=te;try{s(u)}catch(ie){gr(ie)}u.currentTarget=null,s=O}else for(_=0;_<l.length;_++){if(L=l[_],O=L.instance,te=L.currentTarget,L=L.listener,O!==s&&u.isPropagationStopped())break e;s=L,u.currentTarget=te;try{s(u)}catch(ie){gr(ie)}u.currentTarget=null,s=O}}}}function ke(e,t){var n=t[_e];n===void 0&&(n=t[_e]=new Set);var l=e+"__bubble";n.has(l)||(Uf(t,e,2,!1),n.add(l))}function Lu(e,t,n){var l=0;t&&(l|=4),Uf(n,e,l,t)}var a0="_reactListening"+Math.random().toString(36).slice(2);function Eu(e){if(!e[a0]){e[a0]=!0,qx.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||Lu(n,!1,e),Lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[a0]||(t[a0]=!0,Lu("selectionchange",!1,t))}}function Uf(e,t,n,l){switch(yd(t)){case 2:var u=nh;break;case 8:u=lh;break;default:u=Wu}n=u.bind(null,t,n,e),u=void 0,!$0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Bu(e,t,n,l,u){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var L=l.stateNode.containerInfo;if(L===u)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===u)return;_=_.return}for(;L!==null;){if(_=pa(L),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=s=_;continue e}L=L.parentNode}}l=l.return}Vx(function(){var te=s,ie=P0(n),ce=[];e:{var ne=_s.get(e);if(ne!==void 0){var ae=mr,be=e;switch(e){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":ae=_1;break;case"focusin":be="focus",ae=lc;break;case"focusout":be="blur",ae=lc;break;case"beforeblur":case"afterblur":ae=lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=x1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=j1;break;case vs:case gs:case ys:ae=f1;break;case ps:ae=M1;break;case"scroll":case"scrollend":ae=c1;break;case"wheel":ae=D1;break;case"copy":case"cut":case"paste":ae=h1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Fx;break;case"toggle":case"beforetoggle":ae=A1}var je=(t&4)!==0,xt=!je&&(e==="scroll"||e==="scrollend"),Q=je?ne!==null?ne+"Capture":null:ne;je=[];for(var X=te,ee;X!==null;){var re=X;if(ee=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||ee===null||Q===null||(re=si(X,Q),re!=null&&je.push(Zi(X,re,ee))),xt)break;X=X.return}0<je.length&&(ne=new ae(ne,be,null,n,ie),ce.push({event:ne,listeners:je}))}}if((t&7)===0){e:{if(ne=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ne&&n!==Q0&&(be=n.relatedTarget||n.fromElement)&&(pa(be)||be[de]))break e;if((ae||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(be=n.relatedTarget||n.toElement,ae=te,be=be?pa(be):null,be!==null&&(xt=f(be),je=be.tag,be!==xt||je!==5&&je!==27&&je!==6)&&(be=null)):(ae=null,be=te),ae!==be)){if(je=Qx,re="onMouseLeave",Q="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(je=Fx,re="onPointerLeave",Q="onPointerEnter",X="pointer"),xt=ae==null?ne:xi(ae),ee=be==null?ne:xi(be),ne=new je(re,X+"leave",ae,n,ie),ne.target=xt,ne.relatedTarget=ee,re=null,pa(ie)===te&&(je=new je(Q,X+"enter",be,n,ie),je.target=ee,je.relatedTarget=xt,re=je),xt=re,ae&&be)t:{for(je=N2,Q=ae,X=be,ee=0,re=Q;re;re=je(re))ee++;re=0;for(var Se=X;Se;Se=je(Se))re++;for(;0<ee-re;)Q=je(Q),ee--;for(;0<re-ee;)X=je(X),re--;for(;ee--;){if(Q===X||X!==null&&Q===X.alternate){je=Q;break t}Q=je(Q),X=je(X)}je=null}else je=null;ae!==null&&Kf(ce,ne,ae,je,!1),be!==null&&xt!==null&&Kf(ce,xt,be,je,!0)}}e:{if(ne=te?xi(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Ve=rs;else if(as(ne))if(cs)Ve=H1;else{Ve=G1;var ge=k1}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&J0(te.elementType)&&(Ve=rs):Ve=Y1;if(Ve&&(Ve=Ve(e,te))){is(ce,Ve,n,ie);break e}ge&&ge(e,ne,te),e==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&W0(ne,"number",ne.value)}switch(ge=te?xi(te):window,e){case"focusin":(as(ge)||ge.contentEditable==="true")&&(Na=ge,xc=te,gi=null);break;case"focusout":gi=xc=Na=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,ms(ce,n,ie);break;case"selectionchange":if(I1)break;case"keydown":case"keyup":ms(ce,n,ie)}var Le;if(ic)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Da?ns(e,n)&&(He="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(He="onCompositionStart");He&&($x&&n.locale!=="ko"&&(Da||He!=="onCompositionStart"?He==="onCompositionEnd"&&Da&&(Le=Wx()):(Sl=ie,ec="value"in Sl?Sl.value:Sl.textContent,Da=!0)),ge=i0(te,He),0<ge.length&&(He=new Px(He,e,null,n,ie),ce.push({event:He,listeners:ge}),Le?He.data=Le:(Le=ls(n),Le!==null&&(He.data=Le)))),(Le=L1?E1(e,n):B1(e,n))&&(He=i0(te,"onBeforeInput"),0<He.length&&(ge=new Px("onBeforeInput","beforeinput",null,n,ie),ce.push({event:ge,listeners:He}),ge.data=Le)),w2(ce,e,te,n,ie)}Zf(ce,t)})}function Zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function i0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,s=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||s===null||(u=si(e,n),u!=null&&l.unshift(Zi(e,u,s)),u=si(e,t),u!=null&&l.push(Zi(e,u,s))),e.tag===3)return l;e=e.return}return[]}function N2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kf(e,t,n,l,u){for(var s=t._reactName,_=[];n!==null&&n!==l;){var L=n,O=L.alternate,te=L.stateNode;if(L=L.tag,O!==null&&O===l)break;L!==5&&L!==26&&L!==27||te===null||(O=te,u?(te=si(n,s),te!=null&&_.unshift(Zi(n,te,O))):u||(te=si(n,s),te!=null&&_.push(Zi(n,te,O)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var A2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(A2,`
`).replace(T2,"")}function Vf(e,t){return t=Xf(t),Xf(e)===t}function ut(e,t,n,l,u,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wa(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wa(e,""+l);break;case"className":xr(e,"class",l);break;case"tabIndex":xr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(e,n,l);break;case"style":Kx(e,l,s);break;case"data":if(t!=="object"){xr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=ll);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":nl(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nl(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nl(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nl(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nl(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nl(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nl(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=i1.get(n)||n,ur(e,n,l))}}function qu(e,t,n,l,u,s){switch(n){case"style":Kx(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wa(e,l):(typeof l=="number"||typeof l=="bigint")&&wa(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),s=e[Ht]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,u),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ur(e,n,l)}}}function kt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,u=!1,s;for(s in n)if(n.hasOwnProperty(s)){var _=n[s];if(_!=null)switch(s){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,s,_,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var L=s=_=u=null,O=null,te=null;for(l in n)if(n.hasOwnProperty(l)){var ie=n[l];if(ie!=null)switch(l){case"name":u=ie;break;case"type":_=ie;break;case"checked":O=ie;break;case"defaultChecked":te=ie;break;case"value":s=ie;break;case"defaultValue":L=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,t));break;default:ut(e,t,l,ie,n,null)}}Ox(e,s,L,O,te,_,u,!1);return;case"select":ke("invalid",e),l=_=s=null;for(u in n)if(n.hasOwnProperty(u)&&(L=n[u],L!=null))switch(u){case"value":s=L;break;case"defaultValue":_=L;break;case"multiple":l=L;default:ut(e,t,u,L,n,null)}t=s,n=_,e.multiple=!!l,t!=null?ja(e,!!l,t,!1):n!=null&&ja(e,!!l,n,!0);return;case"textarea":ke("invalid",e),s=u=l=null;for(_ in n)if(n.hasOwnProperty(_)&&(L=n[_],L!=null))switch(_){case"value":l=L;break;case"defaultValue":u=L;break;case"children":s=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:ut(e,t,_,L,n,null)}Zx(e,l,u,s);return;case"option":for(O in n)n.hasOwnProperty(O)&&(l=n[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,O,l,n,null));return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<Ii.length;l++)ke(Ii[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in n)if(n.hasOwnProperty(te)&&(l=n[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ut(e,t,te,l,n,null)}return;default:if(J0(t)){for(ie in n)n.hasOwnProperty(ie)&&(l=n[ie],l!==void 0&&qu(e,t,ie,l,n,void 0));return}}for(L in n)n.hasOwnProperty(L)&&(l=n[L],l!=null&&ut(e,t,L,l,n,null))}function L2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,s=null,_=null,L=null,O=null,te=null,ie=null;for(ae in n){var ce=n[ae];if(n.hasOwnProperty(ae)&&ce!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":O=ce;default:l.hasOwnProperty(ae)||ut(e,t,ae,null,l,ce)}}for(var ne in l){var ae=l[ne];if(ce=n[ne],l.hasOwnProperty(ne)&&(ae!=null||ce!=null))switch(ne){case"type":s=ae;break;case"name":u=ae;break;case"checked":te=ae;break;case"defaultChecked":ie=ae;break;case"value":_=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,t));break;default:ae!==ce&&ut(e,t,ne,ae,l,ce)}}V0(e,_,L,O,te,ie,s,u);return;case"select":ae=_=L=ne=null;for(s in n)if(O=n[s],n.hasOwnProperty(s)&&O!=null)switch(s){case"value":break;case"multiple":ae=O;default:l.hasOwnProperty(s)||ut(e,t,s,null,l,O)}for(u in l)if(s=l[u],O=n[u],l.hasOwnProperty(u)&&(s!=null||O!=null))switch(u){case"value":ne=s;break;case"defaultValue":L=s;break;case"multiple":_=s;default:s!==O&&ut(e,t,u,s,l,O)}t=L,n=_,l=ae,ne!=null?ja(e,!!n,ne,!1):!!l!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":ae=ne=null;for(L in n)if(u=n[L],n.hasOwnProperty(L)&&u!=null&&!l.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ut(e,t,L,null,l,u)}for(_ in l)if(u=l[_],s=n[_],l.hasOwnProperty(_)&&(u!=null||s!=null))switch(_){case"value":ne=u;break;case"defaultValue":ae=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==s&&ut(e,t,_,u,l,s)}Ix(e,ne,ae);return;case"option":for(var be in n)ne=n[be],n.hasOwnProperty(be)&&ne!=null&&!l.hasOwnProperty(be)&&(be==="selected"?e.selected=!1:ut(e,t,be,null,l,ne));for(O in l)ne=l[O],ae=n[O],l.hasOwnProperty(O)&&ne!==ae&&(ne!=null||ae!=null)&&(O==="selected"?e.selected=ne&&typeof ne!="function"&&typeof ne!="symbol":ut(e,t,O,ne,l,ae));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ne=n[je],n.hasOwnProperty(je)&&ne!=null&&!l.hasOwnProperty(je)&&ut(e,t,je,null,l,ne);for(te in l)if(ne=l[te],ae=n[te],l.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,t));break;default:ut(e,t,te,ne,l,ae)}return;default:if(J0(t)){for(var xt in n)ne=n[xt],n.hasOwnProperty(xt)&&ne!==void 0&&!l.hasOwnProperty(xt)&&qu(e,t,xt,void 0,l,ne);for(ie in l)ne=l[ie],ae=n[ie],!l.hasOwnProperty(ie)||ne===ae||ne===void 0&&ae===void 0||qu(e,t,ie,ne,l,ae);return}}for(var Q in n)ne=n[Q],n.hasOwnProperty(Q)&&ne!=null&&!l.hasOwnProperty(Q)&&ut(e,t,Q,null,l,ne);for(ce in l)ne=l[ce],ae=n[ce],!l.hasOwnProperty(ce)||ne===ae||ne==null&&ae==null||ut(e,t,ce,ne,l,ae)}function Wf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],s=u.transferSize,_=u.initiatorType,L=u.duration;if(s&&L&&Wf(_)){for(_=0,L=u.responseEnd,l+=1;l<n.length;l++){var O=n[l],te=O.startTime;if(te>L)break;var ie=O.transferSize,ce=O.initiatorType;ie&&Wf(ce)&&(O=O.responseEnd,_+=ie*(O<L?1:(L-te)/(O-te)))}if(--l,t+=8*(s+_)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ru=null,ku=null;function r0(e){return e.nodeType===9?e:e.ownerDocument}function Jf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function B2(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,q2=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,R2=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(k2)}:Pf;function k2(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function $f(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ni(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ui(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ui(n);for(var s=n.firstChild;s;){var _=s.nextSibling,L=s.nodeName;s[cn]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=_}}else n==="body"&&Ui(e.ownerDocument.body);n=u}while(n);ni(t)}function ed(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Hu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hu(n),ui(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function G2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[cn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function Y2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function td(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nn(e.nextSibling),e===null))return null;return e}function Ou(e){return e.data==="$?"||e.data==="$~"}function Iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zu=null;function nd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Nn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ad(e,t,n){switch(t=r0(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ui(e)}var An=new Map,id=new Set;function c0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=T.d;T.d={f:O2,r:I2,D:Z2,C:U2,L:K2,m:X2,X:W2,S:V2,M:J2};function O2(){var e=yl.f(),t=Fr();return e||t}function I2(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?_o(t):yl.r(e)}var $a=typeof document>"u"?null:document;function rd(e,t,n){var l=$a;if(l&&typeof t=="string"&&t){var u=Sn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),id.has(u)||(id.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),kt(t,"link",e),At(t),l.head.appendChild(t)))}}function Z2(e){yl.D(e),rd("dns-prefetch",e,null)}function U2(e,t){yl.C(e,t),rd("preconnect",e,t)}function K2(e,t,n){yl.L(e,t,n);var l=$a;if(l&&e&&t){var u='link[rel="preload"][as="'+Sn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Sn(n.imageSizes)+'"]')):u+='[href="'+Sn(e)+'"]';var s=u;switch(t){case"style":s=ei(e);break;case"script":s=ti(e)}An.has(s)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(s,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Ki(s))||t==="script"&&l.querySelector(Xi(s))||(t=l.createElement("link"),kt(t,"link",e),At(t),l.head.appendChild(t)))}}function X2(e,t){yl.m(e,t);var n=$a;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',s=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ti(e)}if(!An.has(s)&&(e=S({rel:"modulepreload",href:e},t),An.set(s,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xi(s)))return}l=n.createElement("link"),kt(l,"link",e),At(l),n.head.appendChild(l)}}}function V2(e,t,n){yl.S(e,t,n);var l=$a;if(l&&e){var u=Sa(l).hoistableStyles,s=ei(e);t=t||"default";var _=u.get(s);if(!_){var L={loading:0,preload:null};if(_=l.querySelector(Ki(s)))L.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(s))&&Uu(e,n);var O=_=l.createElement("link");At(O),kt(O,"link",e),O._p=new Promise(function(te,ie){O.onload=te,O.onerror=ie}),O.addEventListener("load",function(){L.loading|=1}),O.addEventListener("error",function(){L.loading|=2}),L.loading|=4,u0(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:L},u.set(s,_)}}}function W2(e,t){yl.X(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),s=l.get(u);s||(s=n.querySelector(Xi(u)),s||(e=S({src:e,async:!0},t),(t=An.get(u))&&Ku(e,t),s=n.createElement("script"),At(s),kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function J2(e,t){yl.M(e,t);var n=$a;if(n&&e){var l=Sa(n).hoistableScripts,u=ti(e),s=l.get(u);s||(s=n.querySelector(Xi(u)),s||(e=S({src:e,async:!0,type:"module"},t),(t=An.get(u))&&Ku(e,t),s=n.createElement("script"),At(s),kt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(u,s))}}function cd(e,t,n,l){var u=(u=se.current)?c0(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ei(n.href),n=Sa(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ei(n.href);var s=Sa(u).hoistableStyles,_=s.get(e);if(_||(u=u.ownerDocument||u,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,_),(s=u.querySelector(Ki(e)))&&!s._p&&(_.instance=s,_.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),s||Q2(u,e,n,_.state))),t&&l===null)throw Error(r(528,""));return _}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ti(n),n=Sa(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ei(e){return'href="'+Sn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function ud(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Q2(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),kt(t,"link",n),At(t),e.head.appendChild(t))}function ti(e){return'[src="'+Sn(e)+'"]'}function Xi(e){return"script[async]"+e}function xd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(n.href)+'"]');if(l)return t.instance=l,At(l),l;var u=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),At(l),kt(l,"style",u),u0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ei(n.href);var s=e.querySelector(Ki(u));if(s)return t.state.loading|=4,t.instance=s,At(s),s;l=ud(n),(u=An.get(u))&&Uu(l,u),s=(e.ownerDocument||e).createElement("link"),At(s);var _=s;return _._p=new Promise(function(L,O){_.onload=L,_.onerror=O}),kt(s,"link",l),t.state.loading|=4,u0(s,n.precedence,e),t.instance=s;case"script":return s=ti(n.src),(u=e.querySelector(Xi(s)))?(t.instance=u,At(u),u):(l=n,(u=An.get(s))&&(l=S({},n),Ku(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),At(u),kt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,u0(l,n.precedence,e));return t.instance}function u0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,s=u,_=0;_<l.length;_++){var L=l[_];if(L.dataset.precedence===t)s=L;else if(s!==u)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var x0=null;function sd(e,t,n){if(x0===null){var l=new Map,u=x0=new Map;u.set(n,l)}else u=x0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var s=n[u];if(!(s[cn]||s[Dt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var _=s.getAttribute(t)||"";_=e+_;var L=l.get(_);L?L.push(s):l.set(_,[s])}}return l}function od(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function P2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function F2(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ei(l.href),s=t.querySelector(Ki(u));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=s0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,At(s);return}s=t.ownerDocument||t,l=ud(l),(u=An.get(u))&&Uu(l,u),s=s.createElement("link"),At(s);var _=s;_._p=new Promise(function(L,O){_.onload=L,_.onerror=O}),kt(s,"link",l),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=s0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xu=0;function $2(e,t){return e.stylesheets&&e.count===0&&f0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*E2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&f0(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function s0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var o0=null;function f0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,o0=new Map,t.forEach(eh,e),o0=null,s0.call(e))}function eh(e,t){if(!(t.state.loading&4)){var n=o0.get(e);if(n)var l=n.get(null);else{n=new Map,o0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<u.length;s++){var _=u[s];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),l=_)}l&&n.set(null,l)}u=t.instance,_=u.getAttribute("data-precedence"),s=n.get(_)||l,s===l&&n.set(null,u),n.set(_,u),this.count++,l=s0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),s?s.parentNode.insertBefore(u,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Vi={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function th(e,t,n,l,u,s,_,L,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=s,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dd(e,t,n,l,u,s,_,L,O,te,ie,ce){return e=new th(e,t,n,_,O,te,ie,ce,L),t=1,s===!0&&(t|=24),s=xn(3,null,null,t),e.current=s,s.stateNode=e,t=wc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},Nc(s),e}function hd(e){return e?(e=La,e):La}function md(e,t,n,l,u,s){u=hd(u),l.context===null?l.context=u:l.pendingContext=u,l=Dl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=Nl(e,l,t),n!==null&&(tn(n,e,t),wi(n,e,t))}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function vd(e){if(e.tag===13||e.tag===31){var t=ea(e,67108864);t!==null&&tn(t,e,67108864),Vu(e,67108864)}}function gd(e){if(e.tag===13||e.tag===31){var t=hn();t=at(t);var n=ea(e,t);n!==null&&tn(n,e,t),Vu(e,t)}}var d0=!0;function nh(e,t,n,l){var u=w.T;w.T=null;var s=T.p;try{T.p=2,Wu(e,t,n,l)}finally{T.p=s,w.T=u}}function lh(e,t,n,l){var u=w.T;w.T=null;var s=T.p;try{T.p=8,Wu(e,t,n,l)}finally{T.p=s,w.T=u}}function Wu(e,t,n,l){if(d0){var u=Ju(l);if(u===null)Bu(e,t,l,h0,n),pd(e,l);else if(ih(u,e,t,n,l))l.stopPropagation();else if(pd(e,l),t&4&&-1<ah.indexOf(e)){for(;u!==null;){var s=_a(u);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var _=ye(s.pendingLanes);if(_!==0){var L=s;for(L.pendingLanes|=2,L.entangledLanes|=2;_;){var O=1<<31-xe(_);L.entanglements[1]|=O,_&=~O}Jn(s),(et&6)===0&&(Qr=Je()+500,Oi(0))}}break;case 31:case 13:L=ea(s,2),L!==null&&tn(L,s,2),Fr(),Vu(s,2)}if(s=Ju(l),s===null&&Bu(e,t,l,h0,n),s===u)break;u=s}u!==null&&l.stopPropagation()}else Bu(e,t,l,null,n)}}function Ju(e){return e=P0(e),Qu(e)}var h0=null;function Qu(e){if(h0=null,e=pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return h0=e,null}function yd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case _l:return 2;case Vl:return 8;case Gn:case ga:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Pu=!1,Hl=null,Ol=null,Il=null,Wi=new Map,Ji=new Map,Zl=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function Qi(e,t,n,l,u,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&vd(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ih(e,t,n,l,u){switch(t){case"focusin":return Hl=Qi(Hl,e,t,n,l,u),!0;case"dragenter":return Ol=Qi(Ol,e,t,n,l,u),!0;case"mouseover":return Il=Qi(Il,e,t,n,l,u),!0;case"pointerover":var s=u.pointerId;return Wi.set(s,Qi(Wi.get(s)||null,e,t,n,l,u)),!0;case"gotpointercapture":return s=u.pointerId,Ji.set(s,Qi(Ji.get(s)||null,e,t,n,l,u)),!0}return!1}function _d(e){var t=pa(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Jl(e.priority,function(){gd(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Jl(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function m0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ju(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Q0=l,n.target.dispatchEvent(l),Q0=null}else return t=_a(n),t!==null&&vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){m0(e)&&n.delete(t)}function rh(){Pu=!1,Hl!==null&&m0(Hl)&&(Hl=null),Ol!==null&&m0(Ol)&&(Ol=null),Il!==null&&m0(Il)&&(Il=null),Wi.forEach(Sd),Ji.forEach(Sd)}function b0(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,rh)))}var v0=null;function Cd(e){v0!==e&&(v0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){v0===e&&(v0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Qu(l||n)===null)continue;break}var s=_a(n);s!==null&&(e.splice(t,3),t-=3,Jc(s,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ni(e){function t(O){return b0(O,e)}Hl!==null&&b0(Hl,e),Ol!==null&&b0(Ol,e),Il!==null&&b0(Il,e),Wi.forEach(t),Ji.forEach(t);for(var n=0;n<Zl.length;n++){var l=Zl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Zl.length&&(n=Zl[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Zl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],s=n[l+1],_=u[Ht]||null;if(typeof s=="function")_||Cd(n);else if(_){var L=null;if(s&&s.hasAttribute("formAction")){if(u=s,_=s[Ht]||null)L=_.formAction;else if(Qu(u)!==null)continue}else L=_.action;typeof L=="function"?n[l+1]=L:(n.splice(l,3),l-=3),Cd(n)}}}function jd(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(_){return u=_})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Fu(e){this._internalRoot=e}g0.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=hn();md(n,l,e,t,null,null)},g0.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),Fr(),t[de]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=ya();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zl.length&&t!==0&&t<Zl[n].priority;n++);Zl.splice(n,0,e),n===0&&_d(e)}};var wd=i.version;if(wd!=="19.2.3")throw Error(r(527,wd,"19.2.3"));T.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var ch={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y0.isDisabled&&y0.supportsFiber)try{tl=y0.inject(ch),Et=y0}catch{}}return Fi.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,l="",u=To,s=Lo,_=Eo;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=dd(e,1,!1,null,null,n,l,null,u,s,_,jd),e[de]=t.current,Eu(e),new Fu(t)},Fi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var l=!1,u="",s=To,_=Lo,L=Eo,O=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(L=n.onRecoverableError),n.formState!==void 0&&(O=n.formState)),t=dd(e,1,!0,t,n??null,l,u,O,s,_,L,jd),t.context=hd(null),n=t.current,l=hn(),l=at(l),u=Dl(l),u.callback=null,Nl(n,u,l),n=l,t.current.lanes=n,gt(t,n),Jn(t),e[de]=t.current,Eu(e),new g0(t)},Fi.version="19.2.3",Fi}var qd;function vh(){if(qd)return tx.exports;qd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(i){console.error(i)}}return c(),tx.exports=bh(),tx.exports}var gh=vh();const Fn=Zn;(function(c,i){const a=Zn,r=c();for(;;)try{if(parseInt(a(405))/1*(parseInt(a(403))/2)+-parseInt(a(420))/3+-parseInt(a(397))/4+-parseInt(a(399))/5*(-parseInt(a(398))/6)+parseInt(a(417))/7+parseInt(a(418))/8*(-parseInt(a(396))/9)+parseInt(a(394))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(j0,517505);const yh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),cx=yh(void 0,function(){const c=Zn,i={ENJSZ:c(400)};return cx.toString().search(i.ENJSZ)[c(407)]().constructor(cx).search(i[c(421)])});cx();const C0=()=>new Date().toISOString(),Gt=c=>c+"_"+Math[Fn(395)]()[Fn(407)](36)[Fn(393)](2,10),we=(c,i,a)=>Math[Fn(411)](i,Math[Fn(409)](a,c));function Zn(c,i){c=c-393;const a=j0();let r=a[c];if(Zn.AWOEGe===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Zn.OgRoGR=o,Zn.WLiUMi={},Zn.AWOEGe=!0}const f=a[0],h=c+f,g=Zn.WLiUMi[h];if(g)r=g;else{const m=function(d){this.jfDkQS=d,this.iIANTH=[1,0,0],this.gToZRD=function(){return"newState"},this.AsXPmE="\\w+ *\\(\\) *{\\w+ *",this.FYlUpa=`['|"].+['|"];? *}`};m.prototype.QUxZpb=function(){const d=new RegExp(this.AsXPmE+this.FYlUpa),p=d.test(this.gToZRD.toString())?--this.iIANTH[1]:--this.iIANTH[0];return this.YGGYRR(p)},m.prototype.YGGYRR=function(d){return~d?this.tZsOqD(this.jfDkQS):d},m.prototype.tZsOqD=function(d){for(let p=0,S=this.iIANTH.length;p<S;p++)this.iIANTH.push(Math.round(Math.random())),S=this.iIANTH.length;return d(this.iIANTH[0])},new m(Zn).QUxZpb(),r=Zn.OgRoGR(r),Zn.WLiUMi[h]=r}return r}const Kl=c=>{const i=Fn,a={qxQaq:function(r,o){return r===o},sZuWh:function(r,o){return r===o}};return a[i(415)](c,void 0)||a[i(410)](c,null)?c:JSON.parse(JSON[i(412)](c))},er=c=>Math.floor(c*.7/5)*5;function ba(c,i){const a=Fn;return c.groups?c[a(419)][a(404)](r=>r[a(416)].includes(i))??null:null}function ph(c,i){const a={gIzfF:function(o,f,h){return o(f,h)}},r=a.gIzfF(ba,c,i);return r?r.flowerIds:[i]}function U0(c,i){const a=Fn;return c[a(422)]?c[a(422)][a(404)](r=>r.leafIds.includes(i))??null:null}function _h(c,i){const a=Fn,r={PepIE:function(m,d){return m===d},GKbEu:function(m,d){return m===d},IXxnr:function(m,d){return m/d},IYZIf:function(m,d){return m/d}},o=(c.leafGroups??[]).find(m=>m.id===i);if(!o||r.PepIE(o[a(408)][a(413)],0))return{x:0,y:0};const f=o.leafIds[a(423)](m=>(c.leaves??[]).find(d=>d.id===m))[a(406)](m=>!!m);if(r.GKbEu(f.length,0))return{x:0,y:0};const h=f[a(402)]((m,d)=>m+d.position.x,0),g=f.reduce((m,d)=>m+d[a(401)].y,0);return{x:r[a(414)](h,f[a(413)]),y:r.IYZIf(g,f.length)}}function j0(){const c=["Bwf4","C3rYAw5NAwz5","BgvUz3rO","svH4BNi","CxHryxe","zMXVD2vYswrZ","mZq5ndi2AKTnAMjx","mJa3nde2offovNfbwa","z3jVDxbZ","mte4mJnfrK9btvG","ru5ku1O","BgvHzKDYB3vWCW","BwfW","C2XPy2u","ntKZnteYmeHYu1PHBq","CMfUzg9T","oxn3C0vAyW","mtu4mZK2ufD5D3vg","mtm4zMfwC1ni","nJKZnvrmELvWCW","kcGOlISPkYKRksSK","Cg9ZAxrPB24","CMvKDwnL","ntC5otrHBNDkuvK","zMLUza","nwzKuwP1za","zMLSDgvY","Dg9tDhjPBMC","BgvHzKLKCW","BwLU","C1P1v2G"];return j0=function(){return c},j0()}function Sh(c,i){const a=Fn,r=U0(c,i);return r?r[a(408)]:[i]}(function(c,i){const a=Kt,r=c();for(;;)try{if(-parseInt(a(237))/1+parseInt(a(233))/2*(-parseInt(a(238))/3)+-parseInt(a(225))/4+-parseInt(a(258))/5+parseInt(a(247))/6*(parseInt(a(218))/7)+-parseInt(a(226))/8*(parseInt(a(240))/9)+parseInt(a(245))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(w0,384705);const Ch=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),ux=Ch(void 0,function(){const c=Kt,i={CSVEr:"(((.+)+)+)+$"};return ux[c(257)]().search(i.CSVEr)[c(257)]()[c(246)](ux)[c(248)]("(((.+)+)+)+$")});ux();const ii=2/3,Rd=.6,jh=.25,wh=.75;function Kt(c,i){c=c-218;const a=w0();let r=a[c];if(Kt.KrLJca===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Kt.yXMTWq=o,Kt.wKDnqj={},Kt.KrLJca=!0}const f=a[0],h=c+f,g=Kt.wKDnqj[h];if(g)r=g;else{const m=function(d){this.vOEWfC=d,this.BNZyVY=[1,0,0],this.orDWiQ=function(){return"newState"},this.FgCYEB="\\w+ *\\(\\) *{\\w+ *",this.vbMXCS=`['|"].+['|"];? *}`};m.prototype.jeJOdb=function(){const d=new RegExp(this.FgCYEB+this.vbMXCS),p=d.test(this.orDWiQ.toString())?--this.BNZyVY[1]:--this.BNZyVY[0];return this.WsmxzB(p)},m.prototype.WsmxzB=function(d){return~d?this.pfZJNO(this.vOEWfC):d},m.prototype.pfZJNO=function(d){for(let p=0,S=this.BNZyVY.length;p<S;p++)this.BNZyVY.push(Math.round(Math.random())),S=this.BNZyVY.length;return d(this.BNZyVY[0])},new m(Kt).jeJOdb(),r=Kt.yXMTWq(r),Kt.wKDnqj[h]=r}return r}function Xl(c,i,a){const r=Kt,o={RfZXb:function(k,H){return k/H},JXRnF:"uniform",XwJwa:function(k,H){return k/H},UmxsP:function(k,H){return k/H},plZFI:function(k,H){return k*H},vkIRF:function(k,H){return k+H},hYSYo:function(k,H){return k*H},TQpeS:function(k,H){return k*H},gptCT:"gradual",QFYjq:function(k,H){return k/H},wQzdy:function(k,H){return k*H},QXXNS:function(k,H){return k-H},LGczo:function(k,H){return k/H},NFPjl:function(k,H){return k+H},viumg:function(k,H){return k*H}},f=c/2,h=o.RfZXb(i*Math[r(229)],2);if(h<=0||f<=0)return{diameter:c,layerCount:1};const g=a?.[r(249)]??o[r(239)],m=a?.sizeStepMm??0,d=h*(1-ii),p=o[r(261)](Math.PI*f,2),S=a?.layerCount??Math.max(1,Math.round(o.UmxsP(p,d))),A=g==="gradual"?i+o[r(260)](S-1,m):i,b=o.UmxsP(A*Math.SQRT2,2),D=o.vkIRF(o.plZFI(h,jh),o.hYSYo(b,wh));if(S===1){const k=Math.min(Math.PI/2,o.TQpeS(b,ii)/f),H=o.TQpeS(f,Math.sin(k)),Z=o[r(259)](b,Rd)*Math.sin(k);return{diameter:Math.round(Math[r(253)](c,2*o.vkIRF(H,Z))),layerCount:S}}let j=o.UmxsP(h*ii,f);for(let k=1;k<S;k++){const H=g===o[r(221)]?o.vkIRF(i,k*m):i,Z=o.plZFI(H,Math.SQRT2)/2;j+=o.QFYjq(o[r(242)](Z,o.QXXNS(1,ii)),f)}j=Math[r(234)](j,o[r(228)](Math.PI,2));const C=o.NFPjl(f,D*Rd)*Math[r(244)](j),E=Math[r(253)](0,C-f);return{diameter:Math.round(o.vkIRF(c,o.viumg(2,E))),layerCount:S}}function lr(c,i,a="uniform",r=0){const o=Kt,f={QQRmR:o(255),IZNjP:function(m,d){return m*d},JzouM:function(m,d){return m<d},QjZKF:function(m,d){return m/d}};if(i<=0||c<=0)return 0;const h=[];for(let m=0;m<i;m++){const d=a===f[o(222)]?c+f[o(220)](m,r):c;h.push(d*Math.SQRT2/2)}let g=h[0];for(let m=1;f[o(256)](m,i);m++)g+=f[o(236)](h[m],3);return Math[o(241)](g*2)}function w0(){const c=["z3jHzhvHBa","sNPVDu0","Dg9tDhjPBMC","mtCZnZuZnvnlrgXpta","vffWzvm","CgXArKK","whDkD2e","mtrgvuXnqKK","rhPWqwG","svPoALa","z3b0q1q","uvfsBvi","EuzkrvC","vgjfDuG","mtq2oteYog9YrvPVwq","nZu1nJHzBxjkDLa","rLHMA20","teDJEM8","u1fsvdi","ve1dzwm","rxjQzuC","qNfmzuS","mJy2veHcBwzU","BwLU","rhrku0i","uwPAs0y","nJK2nJeZvhbWr1rr","odq2ouvgwwfctW","sLHsBKy","mta4z0LmveTX","CM91BMq","D1f6zhK","s0D2vMe","C2LU","mtGXnZC1ndbJsK5izMW","y29UC3rYDwn0B3i","mtqWmtq5mLjqterWwq","C2vHCMnO","C2L6zu1Vzgu","Bfjis0e","C2L6zvn0zxbnBq","vevtCw4","Bwf4","yu5MzMm"];return w0=function(){return c},w0()}function Mh(c,i,a="uniform",r=0){const o=Kt,f={TMCec:function(S,A){return S===A},CGrYh:"uniform",lRHKA:function(S,A){return S===A},DtJSB:function(S,A){return S*A},aNffc:function(S,A){return S/A},sZUkQ:function(S,A){return S-A}};if(i<=0||c<=0)return 0;const h=c/2,g=Math.SQRT2/2,m=i;if(f[o(230)](a,f.CGrYh)||f[o(250)](r,0)){const S=f[o(235)](g,m+2)/3;return Math.max(1,Math.round(h/S))}const d=f[o(254)](r*(m-1)*m,6),p=f.sZUkQ(h/g,d)*3/(m+2);return Math.max(1,Math[o(241)](p))}function zh(c,i,a){const r=Kt,o={ZvTqJ:function(g,m){return g<m},TbEuH:function(g,m){return g/m}};if(c<=i)return 1;let f=1,h=80;for(let g=0;o.ZvTqJ(g,30);g++){const m=(f+h)/2,{diameter:d}=Xl(i,m,a);d<c?f=m:h=m}return Math.max(1,Math.round(o[r(224)](f+h,2)))}function Dh(c,i,a){const r=Kt,o={KGvVa:function(A,b){return A/b},FXfkm:function(A,b){return A*b},ErjeG:function(A,b){return A<=b},yFJEW:function(A,b){return A<=b},wZmPN:"uniform",BqLeK:function(A,b){return A===b},mFwVz:function(A,b){return A/b},DzpAh:function(A,b){return A-b},TESqn:function(A,b){return A>b},xBXAC:function(A,b){return A+b},UpfcP:function(A,b){return A+b}},f=c/2,h=o[r(243)](o[r(227)](i,Math[r(229)]),2);if(o[r(231)](h,0)||o[r(223)](f,0))return 1;const g=a?.[r(249)]??o.wZmPN,m=a?.[r(251)]??0,d=o.KGvVa(Math.PI,2);if(o[r(232)](g,"uniform")||m===0){const A=o.KGvVa(h,3),b=Math.PI*f/2;return Math.max(1,Math.round(b/A))}let p=h*ii/f;if(p>=d)return 1;let S=1;for(let A=1;A<100;A++){const b=i+A*m,D=b*Math[r(229)]/2,j=o.mFwVz(D*o[r(219)](1,ii),f);if(p+=j,o[r(252)](p,o.xBXAC(d,j/2)))break;S=o.UpfcP(A,1)}return Math[r(253)](1,S)}const Kn=mn;(function(c,i){const a=mn,r=c();for(;;)try{if(-parseInt(a(378))/1+-parseInt(a(344))/2+parseInt(a(413))/3+parseInt(a(370))/4*(parseInt(a(385))/5)+parseInt(a(402))/6+parseInt(a(386))/7*(-parseInt(a(366))/8)+-parseInt(a(394))/9*(-parseInt(a(416))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(M0,324627);const Nh=(function(){const c={kyNeY:function(a,r){return a!==r},MUzgM:function(a,r){return a/r}};let i=!0;return function(a,r){const o={rfltw:function(h,g){return h(g)},KCHGr:function(h,g){return c[mn(347)](h,g)},uySik:function(h,g){return h-g}},f=i?function(){const h=mn;if(c.kyNeY("jDujT",h(379))){const{length:g}=o[h(369)](_0x2c6e93,_0x132611),m=g*_0x545063,d=o[h(358)](_0xc01fda*_0x15c87e,2);return _0x3e2f2e[h(364)](2,o[h(390)](d,m*(1-_0x133d1a)))}else if(r){const g=r.apply(a,arguments);return r=null,g}}:function(){};return i=!1,f}})(),xx=Nh(void 0,function(){const c=mn,i={BAYMj:"(((.+)+)+)+$"};return xx[c(341)]().search(i[c(372)])[c(341)]().constructor(xx).search(i[c(372)])});xx();function mn(c,i){c=c-341;const a=M0();let r=a[c];if(mn.dExYVR===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};mn.ZKvFyd=o,mn.xmAPPD={},mn.dExYVR=!0}const f=a[0],h=c+f,g=mn.xmAPPD[h];if(g)r=g;else{const m=function(d){this.LGDiTN=d,this.iSmWOo=[1,0,0],this.TVskDA=function(){return"newState"},this.JMJOvc="\\w+ *\\(\\) *{\\w+ *",this.yhKIuU=`['|"].+['|"];? *}`};m.prototype.JHdrEL=function(){const d=new RegExp(this.JMJOvc+this.yhKIuU),p=d.test(this.TVskDA.toString())?--this.iSmWOo[1]:--this.iSmWOo[0];return this.TujswX(p)},m.prototype.TujswX=function(d){return~d?this.mAUbtI(this.LGDiTN):d},m.prototype.mAUbtI=function(d){for(let p=0,S=this.iSmWOo.length;p<S;p++)this.iSmWOo.push(Math.round(Math.random())),S=this.iSmWOo.length;return d(this.iSmWOo[0])},new m(mn).JHdrEL(),r=mn.ZKvFyd(r),mn.xmAPPD[h]=r}return r}const rr=.28,kd={:Kn(362),:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function sx(c){const i=Kn,a={MrXFj:""};return c===a[i(354)]?kd[a[i(354)]]:kd[i(404)]}function va(c){return{PyJet:function(r,o){return r*o}}[Kn(384)](c,Math.PI)/180}const rn=2.7;function Yt(c){const i=Kn,a={zkiEW:function(h,g){return h/g},wXzQO:function(h,g){return h*g},EtoIL:function(h,g){return h/g}},r=a.zkiEW(a[i(374)](c,Math[i(381)]),2),o=r*rn,f=a[i(415)](o,2);return{length:o,width:f}}function Ah(c){return{bQaZM:function(a,r){return a/r}}.bQaZM(c*rn,2)}function tr(c,i,a){const r=Kn,o={NysJh:function(d,p){return d*p},mMIFr:function(d,p){return d-p},AzWKJ:function(d,p){return d*p}},{length:f}=Yt(a),h=o.NysJh(f,i);return(Math.max(0,o[r(408)](c,o[r(403)](h,rr)))+h)*2/rn}function Th(c,i,a){const r=Kn,o={pENCk:function(m,d){return m(d)},svDUg:function(m,d){return m/d},zlAfR:function(m,d){return m-d},oBkwj:function(m,d){return m*d},APoxv:function(m,d){return m-d}},{length:f}=o.pENCk(Yt,a),h=f*i,g=o.svDUg(c*rn,2);return Math.max(2,o.zlAfR(g,o[r(398)](h,o[r(412)](1,rr))))}function M0(){const c=["mZbzywHtqMS","Dg9tDhjPBMC","q0TvveO","C2nHBgu","mZe5mtmYBKPpvMrR","tgfQEfO","seX0vLu","tvv6z00","ENb3wKW","v0jjqxm","r2jOCem","A0DRrwi","A0L2rKu","qxL4q0u","txjyrMO","D2XgsMK","zMPSuxa","AfH2DLm","s0nir3i","EgLLsNO","B3jKzxi","sgjQugG","tsaWidakicaGiemGmc4WnsaWlJe4lcaWlJe1idaUndaSidaUmZuGmc40oaOGicaGqYaWlJu1idaUntqSidaUnZuGmc40ocWGmc44ocaWlJm2cIaGicbrideUmdiGmc4YmIWGms4WmIaWcIaGicbrideUmdiGltaUmJiSidaUodGGltaUmZykicaGiemGmc43nsaTmc40ocWGmc41nsaTmc41ncWGmc4ZnsaTmc40oaOGicaGqYaWlJe1ic0WlJqWlcaWlJa1ic0WlJe4lcaWidakicaGifO","ANHhq0W","Bwf4","BNHlB0S","mJmWmJrXDuDVB3a","BgvUz3rO","EwL2CK0","CMzSDhC","mtjTAg5uBMu","C29YDa","qKfztwO","wej6v1K","D1H6uu8","wgPKufm","Dg9gAxHLza","CMfKAxvZ","nti0mduWzgHnr21O","AKr1ALq","yxDdAue","u1fsvdi","zhjwBvG","A3bxC3G","uhLkzxq","odGWntCWteDPuLnR","otG3AMfjwePL","zMXVB3i","BuvHz2K","CM91BMq","DxLtAwS","rfHLvMS","y09dsvi","qwHurgK","oteXmdK3zuzMDNvh","5y2k44gp44gz","u0zAsey","whv2CLC","B0jRD2O","C2LU","y29Z","zNPStwG","mty2mJKWmhbfrfrsCq","qxPxs0O","5lI444gK44g+44g/","DKnVAeq","Dvbbrwi","zKTLvKu","Bu1jrNi","svHQCLu","ELnTtMu","ChvZAa","qvbVEhy","ote0ntuWz0nPsMPt","DhDvsLq","rxrVsuW"];return M0=function(){return c},M0()}function Pn(c,i,a){const r=Kn,o={HLtVU:function(p,S){return p===S},fjlQp:function(p,S){return p-S},WypJo:function(p,S){return p*S},mEagi:function(p,S){return p*S},OIAXs:function(p,S){return p<=S},XBzWY:function(p,S){return p??S},yivrM:function(p,S){return p%S},IXjrU:function(p,S){return p+S},awCiA:function(p,S){return p+S},AyxCE:function(p,S){return p/S},LajxZ:function(p,S){return p<S},cOCIR:function(p,S){return p>S},ITTFH:function(p,S){return p!==S},rqeRs:r(397)};if(!c||c<=0||!a||o.OIAXs(a,0))return o[r(373)](i,0);const f=360/c,h=360/a,g=[];for(let p=0;p<c;p++)g[r(411)](o.yivrM(o[r(409)](o.IXjrU(i,p*f)%360,360),360));let m=i+f/2,d=-1;for(let p=0;p<c;p++){const S=o[r(380)](i,o.WypJo(p,f))+o[r(353)](f,2);let A=1/0;for(let b=0;o[r(345)](b,a);b++){const D=o[r(368)](o[r(409)]((S+b*h)%360,360),360);for(const j of g){let C=Math.abs(D-j);o[r(392)](C,180)&&(C=o[r(356)](360,C)),C<A&&(A=C)}}if(A>d)if(o.ITTFH(o.rqeRs,o.rqeRs)){if(o[r(346)](_0x193e24.length,0))return;const b=_0x365ef5[o[r(356)](_0x24816e.length,1)],{length:D}=_0x10393d(_0x131faa),j=o.WypJo(D,b[r(343)]??1),C=_0x472b35[r(387)](o[r(388)](j,_0x45db03)*10)/10;b.radius>C&&(b.radius=C)}else d=A,m=S}return o.AyxCE(Math.round(m*10),10)}function K0(c,i,a){const r=Kn,o={UiPdA:function(b,D){return b===D},DXeVk:function(b,D){return b*D},XjdPS:function(b,D){return b-D},fzlMh:function(b,D){return b*D},SFZHF:function(b,D){return b+D},xieJz:function(b,D){return b<=D},HbjPh:function(b,D){return b/D},jxGCL:function(b,D){return b/D}};if(o.UiPdA(c.length,0))return;const{length:f}=Yt(i),h=c[0],g=h.scale??1,m=o[r(391)](f,g),d=Math[r(364)](0,o[r(375)](h[r(377)],o[r(401)](m,rr))),p=o[r(396)](d,m);if(o[r(359)](p,0))return;const S=a*rn/2,A=o[r(361)](S,p);for(const b of c)b[r(377)]=Math[r(364)](2,Math.round(o.DXeVk(o[r(401)](b.radius,A),10))/10),b[r(343)]=o[r(363)](Math.round((b[r(343)]??1)*A*100),100);ox(c,i)}function ox(c,i){const a=Kn,r={yhxlN:function(m,d){return m(d)},VdiqJ:function(m,d){return m*d}};if(c[a(367)]===0)return;const o=c[c.length-1],{length:f}=r.yhxlN(Yt,i),h=r.VdiqJ(f,o.scale??1),g=Math[a(387)](h*rr*10)/10;o.radius>g&&(o[a(377)]=g)}function Lh(c,i,a,r){const o=Kn,f={GbhpC:function(A,b){return A*b},zpwZL:function(A,b){return A+b},kpWsx:function(A,b){return A(b)},uPAEb:function(A,b){return A/b},zSmNe:function(A,b){return A===b},DwNxJ:"nfeay",CKUTJ:"PoHBJ",vCohD:function(A,b){return A-b},wlFJi:function(A,b){return A/b},hXvvS:function(A,b){return A*b},kGkEb:function(A,b){return A+b}};if(c[o(367)]===0)return;const h=[...c].sort((A,b)=>b.order-A[o(360)]),{length:g}=f[o(383)](Yt,i),m=h.length,d=h[0].scale??1,p=f[o(350)](g,d);h[0][o(377)]=f.uPAEb(Math.floor(f[o(350)](f.GbhpC(p,rr),10)),10);for(let A=1;A<m;A++)if(f.zSmNe(f.DwNxJ,f[o(342)])){const{length:b}=_0x53a3fc(_0x5bacc2),D=b*_0x1cb810,j=_0x48d567[o(364)](0,_0x4ecc25-rxkYKY[o(350)](D,_0x500304));return rxkYKY[o(348)](j,D)*2/_0x420c3e}else{const b=h[f.vCohD(A,1)],D=g*(b.scale??1);let j;if(f[o(410)](a,o(395))){const E=f.wlFJi(f[o(350)](70,Math.PI),180),q=m>1?f[o(357)](f.wlFJi(A,f[o(405)](m,1)),E):0;j=f[o(350)](D,f[o(355)](30,100))*Math.cos(q)}else j=f[o(406)](D,3);h[A][o(377)]=Math[o(389)](f[o(351)](b[o(377)],j)*10)/10}const S=[...c][o(371)]((A,b)=>A[o(360)]-b.order);K0(S,i,r);for(const A of S){const b=c.find(D=>D.id===A.id);b&&(b.radius=A.radius,b.scale=A[o(343)])}}function ri(c){const i=Kn,a={UGLQU:function(m,d){return m/d},kIvFE:function(m,d){return m*d},WBIAs:function(m,d){return m/d},fveSk:function(m,d){return m/d}},r=a.UGLQU(360,c),o=a.kIvFE(Math.sin(va(a[i(349)](r,2))),2),f=.96,h=1.2,g=a.WBIAs(a.kIvFE(o,h),f);return a.fveSk(Math.round(a[i(352)](Math.max(.3,Math.min(3,g)),100)),100)}(function(c,i){const a=bn,r=c();for(;;)try{if(-parseInt(a(172))/1*(parseInt(a(170))/2)+parseInt(a(138))/3*(-parseInt(a(132))/4)+-parseInt(a(123))/5*(-parseInt(a(167))/6)+-parseInt(a(150))/7*(parseInt(a(179))/8)+parseInt(a(113))/9+parseInt(a(173))/10+-parseInt(a(174))/11*(-parseInt(a(118))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(z0,848537);function bn(c,i){c=c-106;const a=z0();let r=a[c];if(bn.umBbjv===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};bn.ehHcsv=o,bn.wxfcQw={},bn.umBbjv=!0}const f=a[0],h=c+f,g=bn.wxfcQw[h];if(g)r=g;else{const m=function(d){this.aoxwMo=d,this.WyuVYb=[1,0,0],this.tftIJf=function(){return"newState"},this.jhOOFi="\\w+ *\\(\\) *{\\w+ *",this.UBFZcj=`['|"].+['|"];? *}`};m.prototype.jHdSFM=function(){const d=new RegExp(this.jhOOFi+this.UBFZcj),p=d.test(this.tftIJf.toString())?--this.WyuVYb[1]:--this.WyuVYb[0];return this.kBzikR(p)},m.prototype.kBzikR=function(d){return~d?this.xMNdRS(this.aoxwMo):d},m.prototype.xMNdRS=function(d){for(let p=0,S=this.WyuVYb.length;p<S;p++)this.WyuVYb.push(Math.round(Math.random())),S=this.WyuVYb.length;return d(this.WyuVYb[0])},new m(bn).jHdSFM(),r=bn.ehHcsv(r),bn.wxfcQw[h]=r}return r}const Eh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),fx=Eh(void 0,function(){const c=bn,i={JOUcX:"(((.+)+)+)+$"};return fx.toString()[c(188)](c(185)).toString().constructor(fx).search(i.JOUcX)});fx();function Zd(){const c=bn,i={xMnSn:"col_white",mGFhm:"col_red",BKMGo:c(149),saZeD:"#E0457B",Fykze:"#F08A3B",TEkYl:c(145),yTYTJ:"#3B7DD8",Jijqg:"col_navy",WrCsQ:"col_purple",rurQN:"col_lavender",RWZYY:"col_gold",sgzpB:c(164),sTFgU:c(131),HNgEa:"col_black",YzBKy:"col_coral"};return[{id:i[c(153)],name:"",hex:"#F5F5F5"},{id:i.mGFhm,name:"",hex:"#E34850"},{id:c(183),name:"",hex:"#F08CB6"},{id:i[c(133)],name:"",hex:i[c(128)]},{id:"col_orange",name:"",hex:i[c(108)]},{id:c(187),name:"",hex:"#F2D04B"},{id:c(190),name:"",hex:c(168)},{id:i.TEkYl,name:"",hex:c(139)},{id:"col_darkgreen",name:"",hex:c(119)},{id:"col_lightblue",name:"",hex:"#7EC8E3"},{id:"col_blue",name:"",hex:i[c(157)]},{id:i.Jijqg,name:"",hex:c(177)},{id:i.WrCsQ,name:"",hex:c(176)},{id:i[c(144)],name:"",hex:"#C8A2D4"},{id:i.RWZYY,name:"",hex:"#D4A843"},{id:c(114),name:"",hex:c(182)},{id:c(143),name:"",hex:i.sgzpB},{id:"col_brown",name:"",hex:i[c(122)]},{id:i[c(127)],name:"",hex:c(130)},{id:i.YzBKy,name:"",hex:c(146)}]}function Bh({title:c,fabricSquareSize:i,baseDiameter:a}={}){const r=bn,o={RuIlm:function(g,m){return g(m)},MJwxb:"",NolTD:function(g,m){return g??m}},f=C0(),h=Zd();return o[r(115)](ma,{id:Gt(r(117)),title:c??o.MJwxb,unit:"mm",fabricSquareSize:o[r(135)](i,20),baseDiameter:a??30,notes:"",createdAt:f,updatedAt:f,palette:h,flowers:[]})}function qh(c,i){const a=bn,r=Kl(c);r.id=Gt(a(181)),r[a(110)]=c[a(110)]+a(175);const o=i?.x??12,f=i?.y??12;return r.position={x:(c[a(184)]?.x??0)+o,y:(c.position?.y??0)+f},r.layers=(r.layers||[]).map(h=>({...h,id:Gt(a(148)),petalOverrides:h[a(140)]?h.petalOverrides[a(155)](g=>({...g})):void 0})),r}function z0(){const c=["mJblyM9OrMG","otu4odK3mgXOrfvTsG","mta2n1PvtuTtsq","ienVChK","iZLcntLcnG","iZjdm0u2qG","tNbfzeW","mZjdv1Dhwva","q2vUDgvY","zMX3","i0mWqZbdma","y29Sx3bPBMS","Cg9ZAxrPB24","kcGOlISPkYKRksSK","zevnBwC","y29Sx3LLBgXVDW","C2vHCMnO","wMDuq2G","y29Sx2XPz2H0EwvSBg93","CMfKAxvZ","5y2k44gp44gz","ruvXBey","rNLREMu","zMLUza","BMfTzq","CfjeAhi","senVAK8","mtuWndaZndfbyxbgrLK","y29Sx3nPBhzLCG","uNvjBg0","ChjVAG","ChjQ","mtq2ndm2wgj3sujI","iZfbn0eZqq","zNb5qxK","5yMJ44gK44g+44g/","C1rgz1u","mJe5odCZmgnHvu9qyG","B2zMC2v0qw5NBgu","Egnnt0G","v0HgA1G","se5Nrwe","C2fAzuq","C2nHBgu","iZmZmZmZmW","iZHcnuuZqW","mtuYuhHvuvP5","qKTnr28","Efb5z1C","tM9Sveq","t3v0zxi","z1HLEei","mtiWmZmZuhPosKPv","iZjgqKy0qq","Cgv0ywXpDMvYCMLKzxm","Cgv0ywXdB3vUDa","rMXVD2vYide","y29Sx2nYzwfT","CNvYuu4","y29Sx2DYzwvU","i0yWoda4ma","shvYteW","Bgf5","y29Sx2HVDhbPBMS","ntq2odu0CfnSB3D4","y3PHAxa","y29Sx3jLza","Ee1Uu24","r2XjuLG","BwfW","y29Sx3DOAxrL","EvrzveO","C0XoBKi","yuXgtMO","wNnQzLe","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","qxjwtvi","C09tENq","i0y1rtzdqW","y2fiA24","B3jKzxi","nMfZzLj3AW","i0zerJvdoq","q3f1CuO","mtu2odi0D3zfD2Xv","Ag9KBfC"];return z0=function(){return c},z0()}(function(c,i){const a=Tn,r=c();for(;;)try{if(parseInt(a(457))/1*(parseInt(a(444))/2)+-parseInt(a(526))/3+parseInt(a(452))/4*(parseInt(a(462))/5)+-parseInt(a(528))/6*(-parseInt(a(540))/7)+-parseInt(a(498))/8*(parseInt(a(433))/9)+parseInt(a(458))/10+parseInt(a(440))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(D0,559963);const Rh=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),dx=Rh(void 0,function(){const c=Tn,i={QQEDk:c(533)};return dx.toString()[c(513)](c(533))[c(459)]().constructor(dx).search(i[c(508)])});dx();function Tn(c,i){c=c-431;const a=D0();let r=a[c];if(Tn.zCtkio===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Tn.TYmDrM=o,Tn.kmxrAZ={},Tn.zCtkio=!0}const f=a[0],h=c+f,g=Tn.kmxrAZ[h];if(g)r=g;else{const m=function(d){this.IDwYlR=d,this.lgNXPx=[1,0,0],this.EXBZJi=function(){return"newState"},this.ysGLNl="\\w+ *\\(\\) *{\\w+ *",this.jZnGzn=`['|"].+['|"];? *}`};m.prototype.pfGGcu=function(){const d=new RegExp(this.ysGLNl+this.jZnGzn),p=d.test(this.EXBZJi.toString())?--this.lgNXPx[1]:--this.lgNXPx[0];return this.fxUtdX(p)},m.prototype.fxUtdX=function(d){return~d?this.sElJtC(this.IDwYlR):d},m.prototype.sElJtC=function(d){for(let p=0,S=this.lgNXPx.length;p<S;p++)this.lgNXPx.push(Math.round(Math.random())),S=this.lgNXPx.length;return d(this.lgNXPx[0])},new m(Tn).pfGGcu(),r=Tn.TYmDrM(r),Tn.kmxrAZ[h]=r}return r}function D0(){const c=["AgfZ","otLevMnTr2u","DMvYC2LVBG","vg9LAuq","y2vUDgvY","zMfICMLJu3f1yxjLu2L6zq","EMHwrfC","z0L0z2y","mJKXmJu1ohv4txzrtq","DhLWzq","y29Sx3DOAxrL","CgfSzxr0zq","mtq1nJmWnLjqEgj3yW","sw1UCNy","ENDxy2O","zfr0rgq","5y2k44gp44gz","CMLNAhq","wejKwKu","yxvesfe","ntjtC1PUzwe","AhPHD00","Aw5Uzxjty2fSzq","Aw5UzxjqzxrHBfr5Cgu","z3jW","mu9qs3zjwa","mJy5ntm2mhbzyxrpAW","Dg9tDhjPBMC","DMHTwuG","yMfZzurPyw1LDgvY","mtG1nti1sfjyrezx","C3njyva","x2rVDwjSzvbLDgfSq2fJAgu","zLvzrvC","C29Tzq","sgjhExK","zg91yMXLugv0ywW","zMXVD2vYrgLHBwv0zxi","Aw5UzxjtAxPLuMvKDwn0Aw9U","qurLBhG","C3rYAw5N","Bgf5zxjZ","D2LKDgHty2fSzq","B2jQzwn0","r3DgtvO","DePmve0","C2nHBgu","CgvWq291BNq","BgvHDMvZ","Aw5JBhvKzxm","BwfW","C09QwNi","zMLSDgvY","yNzLA0K","A1jntNa","CLvHwM4","B2zMC2v0qw5NBgu","zhfLq2y","CMfKAxvZ","ChvZAa","D0HAs28","A1PrAe4","AxngAw5PDgu","44gK44g+44g/57sW5BEL44oh44k244kK44oZ","z3jVDxbZ","tgvHzG","oda1mdGWt1rkB015","y3jLyxrLzef0","Dw5PDa","Cg9ZAxrPB24","A2vU","zhv6CKu","DMfYAwfUDa","C2L6zq","CM90yxrPB24","DNrZqvy","uvffrgS","y2zuwNy","BgLUA2vKrMXVD2vYr3jVDxbjza","wuvruee","C3rLBMnPBhm","C2vHCMnO","zNHJEMq","ANDOy3m","rMXVD2vY","rwjizLK","EfzRsxK","twX2vvK","Cgv0ywXuExbL","BM90zxm","qNDzvKC","AxnbCNjHEq","y29SB3jjza","Aw5UzxjdB2XVCKLK","mte2nZK4ngfTrKfevq","BgvMDa","mJCYng91DKvRvW","y2HPBgq","qLnYuLO","ywr1Bhq","BgvHzKDYB3vWCW","kcGOlISPkYKRksSK","s3fsCgC","Avnly3u","44oA44od44ox","Cgv0ywXpDMvYCMLKzxm","vxDVy2S","DxbKyxrLzef0","ndGWmLjNrML0BW","y29SB3i","BMfTzq","BgvHzKLKCW","zMX3","BgvUz3rO","t3jJuNC","yMfJAW","DgL0Bgu","zMXVD2vYswrZ","Cg9Zzq","v0LXvhC"];return D0=function(){return c},D0()}function ix(c){const i=Tn,a={rUaZn:function(r,o){return r===o},ToeiD:"maru",uaPmp:"",auDHQ:""};return a.rUaZn(c,a[i(435)])?a.uaPmp:c===i(502)?a[i(451)]:c===a.uaPmp||a[i(487)](c,a.auDHQ)?c:a.uaPmp}function ma(c){const i=Tn,a={zwWcj:function(f,h){return f!==h},vtsAV:function(f,h){return f===h},AzhTe:function(f,h){return f!=h},sOjZr:i(472),bvekI:i(529),bApSS:i(547),HbGyy:function(f,h){return f(h)},fUYEW:"",NCjMx:"",KqRpg:"",xVkIy:function(f,h,g,m){return f(h,g,m)},iSKcu:function(f,h){return f||h},OrcRw:function(f,h){return f!==h},duzrE:i(516),ekIQj:"lay",DIWMB:function(f,h){return f!==h},gItgf:"col_white",Uwock:i(475),EGSYr:"yDWIv",SaXGM:"lTJTv",EbHfY:function(f,h){return f*h},hqCeP:function(f,h){return f-h},dqeCf:function(f,h){return f!==h},ADelx:function(f,h){return f!==h},jwhcs:function(f,h){return f!=h},zhVDW:function(f,h,g,m){return f(h,g,m)},tJLTM:function(f,h){return f===h},oPsTo:i(536),XBdZE:function(f,h){return f!==h},fEwDO:"cnbCF",YaAuT:i(448),BwYVG:i(453),BSrRZ:function(f){return f()},rJstP:function(f){return f()},OZjSV:function(f,h){return f(h)},AWBWT:"proj",wHZKo:"wOMBT",eiYca:"sxomN",kZQhN:i(456),NHFHp:function(f,h){return f!==h},cfTZv:i(497),kRMNp:function(f,h){return f!==h},vhmYH:"boolean",AoqQa:function(f,h){return f!==h},GwFMZ:function(f,h){return f===h},ovhKF:"darcz",pPTVE:function(f,h){return f!=h},MlvUY:function(f,h){return f!==h},YXCDu:"mLLMJ",zCmku:function(f,h){return f(h)},Imnrv:"adult",dTtDd:i(449)},r=Kl(a[i(535)](c,{}));Array[i(523)](r.flowers)||(r.flowers=[]);for(const f of r.flowers){f.id||(f.id=Gt(i(544))),(a.OrcRw(typeof f.name,a[i(483)])||!f.name)&&(f.name=a[i(503)]),(!f.position||!Number[i(494)](f[i(501)].x)||!Number.isFinite(f.position.y))&&(f[i(501)]={x:260,y:260}),Array.isArray(f[i(473)])||(f[i(473)]=[]);for(const h of f[i(473)]){if(h.id||(h.id=Gt(a.ekIQj)),(a.DIWMB(typeof h[i(524)],i(472))||!h[i(524)])&&(h.colorId=r[i(443)]?.[0]?.id??a[i(439)]),h.petalType=a.HbGyy(ix,h.petalType),h.petalCount=we(Number(h.petalCount||0),5,24),Number[i(494)](h.scale)||(h[i(478)]=1),Number[i(494)](h[i(474)])||(h[i(474)]=1),Number[i(494)](h[i(490)])||(h.radius=28),Number[i(494)](h[i(488)])||(h[i(488)]=0),delete h[i(464)],h[i(468)])if(a[i(446)](typeof h[i(468)],a[i(538)])||a[i(507)](h[i(468)],null))a.EGSYr===a.SaXGM?a.zwWcj(typeof _0x24fcee.doublePetal,i(475))||a.vtsAV(_0x4060d4[i(468)],null)?delete _0x3ace40[i(468)]:(_0x350a61.isFinite(_0x87e525[i(468)].innerSizeReduction)||(_0x45ee62[i(468)].innerSizeReduction=2),_0x377944.doublePetal[i(470)]=_0x547f1c(_0x4b1b50.doublePetal[i(470)],1,30),a.AzhTe(_0x4fa548[i(468)][i(525)],null)&&typeof _0x93440d.doublePetal[i(525)]!==a.sOjZr&&delete _0x27ebea[i(468)][i(525)]):delete h[i(468)];else{if(a.AzhTe(h[i(468)][i(454)],null)&&h[i(468)][i(470)]==null){const g=f[i(437)]??r.fabricSquareSize??20;h[i(468)].innerSizeReduction=Math.round(a[i(517)](g,a.hqCeP(1,h[i(468)][i(454)])))}delete h.doublePetal[i(454)],Number[i(494)](h[i(468)].innerSizeReduction)||(h[i(468)].innerSizeReduction=2),h[i(468)][i(470)]=a[i(518)](we,h.doublePetal[i(470)],1,30),delete h[i(468)][i(455)],h[i(468)].innerColorId!=null&&a[i(489)](typeof h[i(468)][i(525)],a.sOjZr)&&delete h[i(468)][i(525)]}if(Array.isArray(h.petalOverrides))for(const g of h[i(537)])a[i(471)](i(514),i(463))?(g&&g.petalType!=null&&(g[i(520)]=a[i(467)](ix,g[i(520)])),g&&delete g[i(455)],g&&a[i(515)](g.innerColorId,null)&&typeof g[i(525)]!==i(472)&&delete g.innerColorId,g&&g.innerSizeReduction!=null&&(Number.isFinite(g[i(470)])?g[i(470)]=a[i(438)](we,g.innerSizeReduction,1,30):delete g[i(470)])):(_0x6aaff8[i(496)]??[]).some(d=>d.id===_0x5ca7fc.linkedFlowerGroupId)||delete _0x177e22[i(510)]}(!Number.isFinite(f[i(469)])||f.flowerDiameter<=0)&&(f.flowerDiameter=60),f[i(436)]&&(a[i(477)](f.center.type,"")&&(f[i(436)].type=""),[a[i(534)],"",a.oPsTo].includes(f.center.type)||(f[i(436)].type=a.KqRpg),Number[i(494)](f.center.size)||(f[i(436)][i(505)]=6),f.center.size=a[i(518)](we,f.center[i(505)],1,30),(a[i(450)](typeof f[i(436)][i(541)],i(472))||!f[i(436)].color)&&(f[i(436)].color=r.palette?.[0]?.id??a[i(439)]),f.center[i(441)]===a.oPsTo&&(a.fEwDO!==i(511)?(Number[i(494)](f[i(436)].pepCount)||(f[i(436)][i(479)]=12),f.center.pepCount=a.zhVDW(we,f[i(436)].pepCount,4,30)):_0x1ca779.innerSizeReduction=_0x4441d9(_0x6c92c1[i(470)],1,30)),f.center.type!==""&&delete f.center.color2),f.placementMode!==a.YaAuT&&f.placementMode!==""&&(f.placementMode=a.YaAuT),f.baseDiameter!==void 0&&(a[i(450)](i(453),a[i(522)])?_0x397c95.isFinite(_0x577bad.innerSizeReduction)?_0x19aa02.innerSizeReduction=_0x159208(_0x5107db[i(470)],1,30):delete _0x5341ce.innerSizeReduction:(!Number.isFinite(f[i(461)])||f[i(461)]<=0)&&delete f[i(461)])}Array[i(523)](r.palette)||(r.palette=[]);const o=new Set(r[i(443)][i(482)](f=>f.id));for(const f of a[i(530)](Zd))o.has(f.id)||r[i(443)][i(491)](f);r.createdAt||(r.createdAt=a.rJstP(C0)),r.updatedAt||(r[i(539)]=r[i(499)]),r.id||(r.id=a.OZjSV(Gt,a.AWBWT)),r[i(548)]||(r.title=i(495)),r[i(500)]="mm",Number.isFinite(r[i(437)])||(r[i(437)]=20),(!Number.isFinite(r[i(461)])||r.baseDiameter<=0)&&(r[i(461)]=30),a.zwWcj(typeof r[i(521)],i(472))&&(r.notes=""),Array.isArray(r.groups)||(r[i(496)]=[]);{const f=new Set(r.flowers.map(h=>h.id));for(const h of r[i(496)])a[i(492)]!==a.eiYca?(Array[i(523)](h.flowerIds)||(h.flowerIds=[]),h.flowerIds=h.flowerIds[i(484)](g=>f[i(432)](g)),h.id||(h.id=Gt(a[i(493)])),(a.NHFHp(typeof h[i(542)],a.sOjZr)||!h.name)&&(h[i(542)]="")):(_0x5b1892[i(523)](_0x3ae375[i(549)])||(_0x440b2c[i(549)]=[]),_0x512c57.flowerIds=_0x1ea076[i(549)][i(484)](g=>_0x12f647[i(432)](g)),_0x884dd9.id||(_0xae54b1.id=a.HbGyy(_0x239059,"grp")),(a.zwWcj(typeof _0x39da27.name,a[i(483)])||!_0x26695c.name)&&(_0x11f1fe[i(542)]=a[i(465)]));r[i(496)]=r[i(496)].filter(h=>h[i(549)]&&h.flowerIds[i(545)]>0)}Array[i(523)](r.leaves)||(r.leaves=[]);for(const f of r[i(480)])f.id||(f.id=Gt("leaf")),(typeof f[i(542)]!==i(472)||!f[i(542)])&&(f.name=a[i(509)]),(!f.position||!Number.isFinite(f.position.x)||!Number.isFinite(f.position.y))&&(f.position={x:675,y:675}),Number[i(494)](f.rotation)||(f.rotation=0),f[i(520)]=ix(f.petalType),(a[i(546)](typeof f[i(524)],a.sOjZr)||!f.colorId)&&(f[i(524)]=r[i(443)]?.[0]?.id??"col_green"),Number[i(494)](f[i(478)])||(f.scale=1),Number.isFinite(f[i(474)])||(f[i(474)]=1),a[i(486)](typeof f.visible,a[i(460)])&&(f.visible=!0),a.AoqQa(typeof f.locked,a.vhmYH)&&(f.locked=!1),delete f[i(464)],f.doublePetal&&(a[i(546)](typeof f.doublePetal,i(475))||a[i(476)](f[i(468)],null)?delete f[i(468)]:a.zwWcj(a.ovhKF,a.ovhKF)?_0x734c9e[i(469)]=60:(Number[i(494)](f.doublePetal.innerSizeReduction)||(f.doublePetal[i(470)]=2),f[i(468)].innerSizeReduction=a.zhVDW(we,f.doublePetal.innerSizeReduction,1,30),a.pPTVE(f.doublePetal.innerColorId,null)&&a[i(519)](typeof f.doublePetal[i(525)],a.sOjZr)&&delete f[i(468)][i(525)]));if(Array[i(523)](r.leafGroups)||(r.leafGroups=[]),a.YXCDu!==i(431)){const f=new Set(r[i(480)][i(482)](h=>h.id));for(const h of r[i(532)])h.id||(h.id=a.zCmku(Gt,"lg")),(typeof h.name!==a[i(483)]||!h.name)&&(h[i(542)]=""),Array[i(523)](h.leafIds)||(h.leafIds=[]),h.leafIds=h.leafIds[i(484)](g=>f[i(432)](g)),Number.isFinite(h[i(506)])||(h.rotation=0),h.linkedFlowerGroupId!=null&&(a.tJLTM("vZpjH","vZpjH")?(r.groups??[])[i(466)](m=>m.id===h[i(510)])||delete h.linkedFlowerGroupId:(_0x2bf89e.center[i(441)]===a.NCjMx&&(_0x297665[i(436)].type=""),["","",""][i(481)](_0x236159[i(436)].type)||(_0x59603b.center.type=a.KqRpg),_0x4d45c8[i(494)](_0x58a80e.center[i(505)])||(_0x165282.center[i(505)]=6),_0x4e5fe7[i(436)][i(505)]=_0x4669a5(_0x5c97e5.center.size,1,30),(typeof _0x977c19[i(436)][i(541)]!="string"||!_0x3894d8.center.color)&&(_0x4ed3ce.center[i(541)]=_0x918d38[i(443)]?.[0]?.id??i(442)),_0x256fad.center[i(441)]===i(536)&&(_0x1353b0[i(494)](_0x88a925.center[i(479)])||(_0x418704[i(436)].pepCount=12),_0x48eb21.center.pepCount=a[i(518)](_0x49f308,_0x55d1a9[i(436)].pepCount,4,30)),_0x4ea549.center.type!==""&&delete _0x3f3c5f.center.color2));r.leafGroups=r.leafGroups[i(484)](h=>h[i(543)]&&h.leafIds.length>0)}else delete _0x470977[i(468)];if(Array[i(523)](r[i(512)])){const f=[a[i(445)],a.bvekI],h=[a[i(447)],"left",a.bApSS];r[i(512)]=r.stencils.filter(g=>g&&typeof g.id=="string"&&f.includes(g.variant)&&h.includes(g[i(550)])&&g.position&&Number.isFinite(g[i(501)].x)&&Number.isFinite(g[i(501)].y))}return Number.isFinite(r.version)||(r[i(434)]=1),r}function N0(){const c=["mZaWnuzttvDUqG","otqXmJC5oujYzgPpwq","nZyWnfHZB3Dmuq","mtu3mta3nNfrsuHtDG","ntm4mtDgvhvAtxy","nZjPCezvDg4","44or44o844oR","yxbWBhK","y29UC3rYDwn0B3i","kcGOlISPkYKRksSK","44oA44od44ox","mZziA2jPBwu","C2vHCMnO","Dhn1BwfTAv9WCM9Qzwn0C192mq","mJK4nZGXtuPSrxfo","ndvqAhH6rw8","odqYndCZr2DewLH5","mZCWndKWq1DlAMXd","otrXChbmALi"];return N0=function(){return c},N0()}const hx=Ln;(function(c,i){const a=Ln,r=c();for(;;)try{if(parseInt(a(479))/1+-parseInt(a(481))/2*(parseInt(a(467))/3)+-parseInt(a(465))/4*(parseInt(a(482))/5)+-parseInt(a(466))/6+-parseInt(a(477))/7*(parseInt(a(468))/8)+-parseInt(a(478))/9*(parseInt(a(480))/10)+parseInt(a(483))/11*(parseInt(a(474))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(N0,592728);const kh=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Ln;if(a){const f=a[o(470)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),mx=kh(void 0,function(){const c=Ln;return mx.toString()[c(475)](c(472)).toString()[c(471)](mx)[c(475)](c(472))});mx();function Ln(c,i){c=c-465;const a=N0();let r=a[c];if(Ln.vPiAQc===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Ln.oXNCbE=o,Ln.YRyTDb={},Ln.vPiAQc=!0}const f=a[0],h=c+f,g=Ln.YRyTDb[h];if(g)r=g;else{const m=function(d){this.lKThsF=d,this.SHSASP=[1,0,0],this.DrhjLz=function(){return"newState"},this.rMbNCb="\\w+ *\\(\\) *{\\w+ *",this.pQqIgH=`['|"].+['|"];? *}`};m.prototype.lZbjWf=function(){const d=new RegExp(this.rMbNCb+this.pQqIgH),p=d.test(this.DrhjLz.toString())?--this.SHSASP[1]:--this.SHSASP[0];return this.CnZPSp(p)},m.prototype.CnZPSp=function(d){return~d?this.uKcGHf(this.lKThsF):d},m.prototype.uKcGHf=function(d){for(let p=0,S=this.SHSASP.length;p<S;p++)this.SHSASP.push(Math.round(Math.random())),S=this.SHSASP.length;return d(this.SHSASP[0])},new m(Ln).lZbjWf(),r=Ln.oXNCbE(r),Ln.YRyTDb[h]=r}return r}const Ud=hx(476),pl=["",""],Gh=[hx(469),"",hx(473)],Kd=["",""];function Xt(c,i){c=c-391;const a=A0();let r=a[c];if(Xt.gQpNmU===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Xt.HcPMoc=o,Xt.psMWKM={},Xt.gQpNmU=!0}const f=a[0],h=c+f,g=Xt.psMWKM[h];if(g)r=g;else{const m=function(d){this.kIKJDY=d,this.ABSFKP=[1,0,0],this.SxnnRZ=function(){return"newState"},this.oOtDtQ="\\w+ *\\(\\) *{\\w+ *",this.dCIZpD=`['|"].+['|"];? *}`};m.prototype.xfUSMV=function(){const d=new RegExp(this.oOtDtQ+this.dCIZpD),p=d.test(this.SxnnRZ.toString())?--this.ABSFKP[1]:--this.ABSFKP[0];return this.FrYfXB(p)},m.prototype.FrYfXB=function(d){return~d?this.HLHrIk(this.kIKJDY):d},m.prototype.HLHrIk=function(d){for(let p=0,S=this.ABSFKP.length;p<S;p++)this.ABSFKP.push(Math.round(Math.random())),S=this.ABSFKP.length;return d(this.ABSFKP[0])},new m(Xt).xfUSMV(),r=Xt.HcPMoc(r),Xt.psMWKM[h]=r}return r}(function(c,i){const a=Xt,r=c();for(;;)try{if(-parseInt(a(393))/1+parseInt(a(417))/2*(parseInt(a(394))/3)+parseInt(a(414))/4*(-parseInt(a(391))/5)+parseInt(a(413))/6*(-parseInt(a(392))/7)+parseInt(a(416))/8+-parseInt(a(411))/9+parseInt(a(415))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(A0,585165);const Yh=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Xt;if(a){const f=a[o(399)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),bx=Yh(void 0,function(){const c=Xt;return bx[c(398)]()[c(409)](c(403)).toString().constructor(bx)[c(409)](c(403))});bx();function nr(){const c=Xt,i={MCmEY:function(a,r){return a===r},vooUw:"lIGml",QQRLN:function(a,r){return a(r)}};try{const a=localStorage[c(395)](Ud);if(!a)return[];const r=JSON[c(397)](a);return Array.isArray(r)?r.map(o=>{const f=c;if(i[f(410)](i.vooUw,"dEqgc")){const h=_0x139b00?.[f(408)]?_0x3ded55(_0x50b6c9[f(408)]):null;return h?{id:_0x101dd2.id??h.id,title:_0x8a3f56.title??h[f(400)],updatedAt:_0x55de21[f(404)]??h[f(404)],project:h}:null}else try{const h=o?.[f(408)]?i[f(402)](ma,o.project):null;return h?{id:o.id??h.id,title:o[f(400)]??h[f(400)],updatedAt:o[f(404)]??h[f(404)],project:h}:null}catch{return null}}).filter(o=>o!=null):[]}catch{return[]}}function Xd(c){const i=Xt,a={IHLtY:function(r,o){return r===o},OQfdo:"hupzL"};try{return localStorage[i(418)](Ud,JSON.stringify(c)),!0}catch{return a[i(406)]("hupzL",a.OQfdo)?!1:null}}function Hh(c){const i=Xt,a={LijVh:function(g){return g()},oUZpZ:function(g,m){return g(m)}},r=a[i(396)](nr),o=r.findIndex(g=>g.id===c.id),f={id:c.id,title:c[i(400)],updatedAt:c.updatedAt,project:c},h=o>=0?[...r.slice(0,o),f,...r[i(412)](o+1)]:[f,...r];return h.sort((g,m)=>g[i(404)]<m.updatedAt?1:-1),a[i(401)](Xd,h)}function Oh(c){const i=Xt,a={OyEBG:function(o,f){return o(f)}},r=nr()[i(405)](o=>o.id!==c);return a[i(407)](Xd,r)}function A0(){const c=["zMLSDgvY","suHmDfK","t3LfqKC","ChjVAMvJDa","C2vHCMnO","tunTrvK","otmWnZe1mM9SDNHlBa","C2XPy2u","mJGWnZrkEKDnCxq","ofPVq0rYwa","mJaWntmXmZbzv252t00","ndC2mJGWzu5xvhHb","mJi4ntCYmNnlsgflAa","C2v0sxrLBq","oti3nZG1A1PjtxPl","mJq1tvDzAxn6","mta1mZuZn0fyuuHnBq","m3DIq1bUvq","z2v0sxrLBq","tgLQvMG","CgfYC2u","Dg9tDhjPBMC","yxbWBhK","DgL0Bgu","B1vACfO","uvfste4","kcGOlISPkYKRksSK","DxbKyxrLzef0"];return A0=function(){return c},A0()}(function(c,i){const a=En,r=c();for(;;)try{if(-parseInt(a(417))/1*(parseInt(a(415))/2)+parseInt(a(430))/3*(parseInt(a(413))/4)+parseInt(a(392))/5*(parseInt(a(380))/6)+-parseInt(a(426))/7+-parseInt(a(377))/8+parseInt(a(419))/9*(parseInt(a(421))/10)+-parseInt(a(408))/11*(-parseInt(a(402))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(T0,469596);function En(c,i){c=c-375;const a=T0();let r=a[c];if(En.uwTFzp===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};En.mktUGy=o,En.TWQaBM={},En.uwTFzp=!0}const f=a[0],h=c+f,g=En.TWQaBM[h];if(g)r=g;else{const m=function(d){this.NlZszq=d,this.FHCEeN=[1,0,0],this.iYIuVL=function(){return"newState"},this.JEjoMe="\\w+ *\\(\\) *{\\w+ *",this.jNAApW=`['|"].+['|"];? *}`};m.prototype.YvEZQQ=function(){const d=new RegExp(this.JEjoMe+this.jNAApW),p=d.test(this.iYIuVL.toString())?--this.FHCEeN[1]:--this.FHCEeN[0];return this.DqpThi(p)},m.prototype.DqpThi=function(d){return~d?this.blpeRI(this.NlZszq):d},m.prototype.blpeRI=function(d){for(let p=0,S=this.FHCEeN.length;p<S;p++)this.FHCEeN.push(Math.round(Math.random())),S=this.FHCEeN.length;return d(this.FHCEeN[0])},new m(En).YvEZQQ(),r=En.mktUGy(r),En.TWQaBM[h]=r}return r}const Ih=(function(){const c={TWxDo:function(a,r){return a*r},PaMZm:function(a,r){return a*r},molgT:"#999999",Twroe:function(a,r){return a!==r},LXyMi:"kDjQt"};let i=!0;return function(a,r){const o=En,f={tdtQq:function(h,g){return h/g},kCqEn:function(h,g){return h*g}};if(c[o(383)](c[o(389)],o(391))){const h=i?function(){const g=o;if(r){const m=r[g(407)](a,arguments);return r=null,m}}:function(){};return i=!1,h}else{const h=_0x51820d.get(_0x4371f1),g=_0xcdee9.sort((S,A)=>A[o(403)]-S.fabricSizeMm),m=g.reduce((S,A)=>S+A[o(401)],0),d=_0x2ca8f3.round(c[o(410)](g[o(425)]((S,A)=>{const b=o,D=f.tdtQq(A[b(403)],10);return S+f.kCqEn(A.count*D,D)},0),100))/100,p=_0x2d6b89.round(c.PaMZm(_0xd887e3[o(384)](d),10))/10;return{colorId:_0x49bc11,colorName:h?.name??_0x55a3e8,hex:h?.hex??c.molgT,sizes:g,totalCount:m,totalAreaCm2:d,squareSideCm:p}}}})(),vx=Ih(void 0,function(){const c=En,i={xpGbJ:c(412)};return vx.toString()[c(406)](i[c(427)]).toString().constructor(vx)[c(406)](i[c(427)])});vx();function Zh(c){const i=En,a={DCDwX:function(p,S){return p*S},nhPQh:function(p,S){return p/S},MAozg:function(p,S){return p*S},suXPz:"#999999",TdORc:function(p,S){return p===S},xnivD:"",YYdpP:function(p,S){return p-S},wbvZw:function(p,S,A){return p(S,A)},EwMAS:function(p,S){return p!==S},jHAyA:i(422)},r=new Map((c[i(390)]||[]).map(p=>[p.id,p])),o=new Map,f=(p,S)=>p?.[i(388)]?.find(A=>A.index===S)??null,h=new Map;for(const p of c.flowers||[])if(i(420)==="IJomK"){const S=p.fabricSquareSize??c[i(394)];for(const C of p[i(382)]||[]){if(!C[i(396)])continue;const E=Math.round(a[i(398)](S,C.scale??1));for(let q=0;q<C.petalCount;q++){const k=a[i(393)](f,C,q),H=k?.colorId??C[i(375)],Z=H+"|"+E,J=o[i(376)](Z);if(J?J.count+=1:o[i(386)](Z,{colorId:H,fabricSizeMm:E,count:1}),C.doublePetal){const Y=C[i(418)],V=k?.[i(416)]??Y.innerColorId??H,$=k?.[i(414)]??Y.innerSizeReduction??2,P=Math.max(3,Math[i(405)](E-$)),I=V+"|"+P,y=o.get(I);y?y[i(401)]+=1:o[i(386)](I,{colorId:V,fabricSizeMm:P,count:1})}}}const A=p[i(387)]??a[i(429)],b=A===""?er(p[i(381)]):p[i(385)]??c[i(385)],D=A+"|"+b,j=h[i(376)](D);j?i(423)===i(423)?j[i(401)]+=1:_0x2b1b6d[i(401)]+=1:h[i(386)](D,{mode:A,baseDiameterMm:b,count:1})}else _0x1bcbc9[i(386)](_0x249349,{colorId:_0xd12ff1,fabricSizeMm:_0xdfc315,count:1});for(const p of c.leaves??[]){if(!p[i(396)])continue;const S=p.fabricSquareSize??c.fabricSquareSize,A=Math[i(405)](S*(p.scale??1)),b=p.colorId,D=b+"|"+A,j=o.get(D);if(j?j[i(401)]+=1:o.set(D,{colorId:b,fabricSizeMm:A,count:1}),p.doublePetal){const C=p[i(418)],E=C[i(416)]??b,q=Math.max(3,Math.round(a.YYdpP(A,C.innerSizeReduction??2))),k=E+"|"+q,H=o[i(376)](k);if(H)H[i(401)]+=1;else if(a.EwMAS("MOUKU",a[i(400)])){const Z=_0xf4f92a.fabricSizeMm/10;return _0x2c925f+a.DCDwX(_0x33ec8f.count,Z)*Z}else o[i(386)](k,{colorId:E,fabricSizeMm:q,count:1})}}const g=new Map;for(const{colorId:p,fabricSizeMm:S,count:A}of o[i(428)]()){const b=g[i(376)](p);b?b.entries.push({fabricSizeMm:S,count:A}):g.set(p,{colorId:p,entries:[{fabricSizeMm:S,count:A}]})}const m=Array.from(g.values()).map(({colorId:p,entries:S})=>{const A=i,b=r[A(376)](p),D=S[A(395)]((q,k)=>k[A(403)]-q[A(403)]),j=D.reduce((q,k)=>q+k.count,0),C=Math.round(D.reduce((q,k)=>{const H=A,Z=k[H(403)]/10;return q+k[H(401)]*Z*Z},0)*100)/100,E=a.nhPQh(Math.round(a[A(397)](Math[A(384)](C),10)),10);return{colorId:p,colorName:b?.name??p,hex:b?.hex??a[A(379)],sizes:D,totalCount:j,totalAreaCm2:C,squareSideCm:E}}).sort((p,S)=>S.totalCount-p[i(409)]),d=Array[i(378)](h.values())[i(395)]((p,S)=>{const A=i;return p[A(411)]!==S.mode?a[A(399)](p[A(411)],a.xnivD)?-1:1:a[A(404)](S[A(424)],p[A(424)])});return{colors:m,bases:d}}function T0(){const c=["wvLKCfa","CM91BMq","C2vHCMnO","yxbWBhK","mti2mdi1oxHpB3DlEa","Dg90ywXdB3vUDa","vfD4rg8","Bw9Kzq","kcGOlISPkYKRksSK","mta5mJGWohbMB3bUua","Aw5UzxjtAxPLuMvKDwn0Aw9U","mJK2mZHJugP3zMe","Aw5UzxjdB2XVCKLK","ntLVDfDjwMO","zg91yMXLugv0ywW","mJKZmZfluxfHB08","suPVBuS","mtmZmgfNzw1QEG","tu9vs1u","ALLAuLe","yMfZzurPyw1LDgvYtw0","CMvKDwnL","nZeYntiZze9VwKPy","EhbhyKO","DMfSDwvZ","Eg5PDKq","ovvVBKv6rW","y29SB3jjza","z2v0","mtuXmdmXmNLss1PnqG","zNjVBq","C3vyuhO","mte0Bg9REKjA","zMXVD2vYrgLHBwv0zxi","Bgf5zxjZ","vhDYB2u","C3fYDa","yMfZzurPyw1LDgvY","C2v0","CgXHy2vTzw50tw9Kzq","Cgv0ywXpDMvYCMLKzxm","tfH5twK","CgfSzxr0zq","CMDsA1q","ndaWodb4AxvPB2q","D2j2wNC","zMfICMLJu3f1yxjLu2L6zq","C29YDa","DMLZAwjSzq","tufVEMC","reneD1G","vgrpuMm","AKHbEue","y291BNq","mJrjsMLhsgK","zMfICMLJu2L6zu1T"];return T0=function(){return c},T0()}function It(c,i){c=c-354;const a=L0();let r=a[c];if(It.zxaCua===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};It.wuLRII=o,It.uWujdz={},It.zxaCua=!0}const f=a[0],h=c+f,g=It.uWujdz[h];if(g)r=g;else{const m=function(d){this.fNCyWI=d,this.vARcUl=[1,0,0],this.lFFNid=function(){return"newState"},this.ppxfUq="\\w+ *\\(\\) *{\\w+ *",this.PAzDWj=`['|"].+['|"];? *}`};m.prototype.dqkUsX=function(){const d=new RegExp(this.ppxfUq+this.PAzDWj),p=d.test(this.lFFNid.toString())?--this.vARcUl[1]:--this.vARcUl[0];return this.qNQgkj(p)},m.prototype.qNQgkj=function(d){return~d?this.PUslOG(this.fNCyWI):d},m.prototype.PUslOG=function(d){for(let p=0,S=this.vARcUl.length;p<S;p++)this.vARcUl.push(Math.round(Math.random())),S=this.vARcUl.length;return d(this.vARcUl[0])},new m(It).dqkUsX(),r=It.wuLRII(r),It.uWujdz[h]=r}return r}(function(c,i){const a=It,r=c();for(;;)try{if(parseInt(a(421))/1*(-parseInt(a(375))/2)+parseInt(a(358))/3*(-parseInt(a(367))/4)+parseInt(a(370))/5*(parseInt(a(413))/6)+-parseInt(a(355))/7*(-parseInt(a(356))/8)+parseInt(a(409))/9+-parseInt(a(417))/10*(-parseInt(a(403))/11)+parseInt(a(408))/12*(parseInt(a(364))/13)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(L0,535559);const Uh=(function(){const c=It,i={MYrRj:function(r,o){return r!==o},twFsr:c(368)};let a=!0;return function(r,o){const f={sUCrU:function(g,m){return i[It(361)](g,m)},tXEmn:i.twFsr},h=a?function(){const g=It;if(f[g(376)](f.tXEmn,f[g(420)])){const m=_0x4870d9[g(396)](_0xe97cac),d=_0x10f0c1[g(419)]("a");d[g(354)]=m,d[g(390)]=_0x236fb0,_0x330351[g(384)][g(379)](d),d[g(398)](),_0x39b5ac.body[g(386)](d),_0x24b278[g(377)](m)}else if(o){const m=o[g(411)](r,arguments);return o=null,m}}:function(){};return a=!1,h}})(),gx=Uh(void 0,function(){const c=It,i={EXMef:"(((.+)+)+)+$"};return gx.toString()[c(381)](i[c(387)]).toString()[c(424)](gx).search(i.EXMef)});gx();function Kh(c,i){const a=It,r={ARkFj:function(b,D){return b??D},tBAym:"http://www.w3.org/2000/svg",EZUKn:"width",NVKBG:"100%",cdSsZ:a(423),tWLqz:function(b,D){return b+D},UEoJs:a(383),NfgmW:a(400)},o=c[a(415)](!0);o[a(374)]("[data-testid]")[a(382)](b=>b[a(391)]("data-testid")),o[a(391)](a(378));const f=c.getAttribute("viewBox");f&&o[a(414)]("viewBox",f);const h=r.ARkFj(f,"0 0 200 200").split(/[\s,]+/)[a(365)](Number),g=h[2]??200,m=h[3]??200;o.setAttribute("width",String(g)),o.setAttribute("height",String(m)),o.setAttribute("xmlns","http://www.w3.org/2000/svg");const d=document.createElementNS(r[a(372)],"rect");d[a(414)](r.EZUKn,r[a(380)]),d[a(414)]("height",r[a(380)]),d[a(414)](r.cdSsZ,a(418)),o[a(407)](d,o.firstChild),o.querySelectorAll("[data-grid]")[a(382)](b=>b[a(410)]()),o.querySelectorAll(a(422))[a(382)](b=>b.remove()),o.querySelectorAll(a(394)).forEach(b=>b[a(410)]()),o.querySelectorAll(a(385)).forEach(b=>b[a(410)]());const p=new XMLSerializer,S=r[a(416)](r.UEoJs,p.serializeToString(o)),A=new Blob([S],{type:a(393)});Vd(A,i.endsWith(r.NfgmW)?i:i+a(400))}function Xh(c,i,a=2){const r=It,o={DMxZQ:function(j,C){return j!==C},JowwP:r(369),kAWLO:".png",cgRxT:r(389),yTclD:function(j,C){return j*C},ptuZs:"white",AMfGI:"[data-grid]",GykAy:r(412),eXHuF:"0 0 200 200",LPjsW:"width",NBhkj:function(j,C){return j(C)},owCyr:"image/svg+xml;charset=utf-8"},f=c.cloneNode(!0);f.querySelectorAll("[data-testid]").forEach(j=>j.removeAttribute("data-testid")),f[r(391)]("style"),f.querySelectorAll(o[r(360)]).forEach(j=>j[r(410)]()),f.querySelectorAll(".tsumami-sel-dash").forEach(j=>j[r(410)]()),f[r(374)](".tsumami-group-dash").forEach(j=>j[r(410)]()),f.querySelectorAll(r(385)).forEach(j=>j.remove());const h=c[r(401)](o[r(404)]),g=(h??o.eXHuF).split(/[\s,]+/).map(Number),m=g[2]??200,d=g[3]??200;f.setAttribute(o.GykAy,h??o[r(395)]),f[r(414)](o[r(397)],String(m)),f[r(414)](r(363),o[r(388)](String,d)),f[r(414)](r(402),"http://www.w3.org/2000/svg");const p=new XMLSerializer,S=p.serializeToString(f),A=new Blob([S],{type:o.owCyr}),b=URL[r(396)](A),D=new Image;D[r(405)]=()=>{const j=r,C=document.createElement(o.cgRxT);C.width=m*a,C[j(363)]=o[j(357)](d,a);const E=C[j(359)]("2d");if(!E){URL.revokeObjectURL(b);return}E[j(392)]=o[j(399)],E.fillRect(0,0,C.width,C.height),E[j(406)](D,0,0,C.width,C.height),C[j(366)](q=>{const k=j;q&&(o.DMxZQ("jzrim",o[k(371)])?_0x53bc95.revokeObjectURL(_0x304dac):Vd(q,i[k(362)](o.kAWLO)?i:i+".png")),URL[k(377)](b)},j(373))},D.onerror=()=>{URL.revokeObjectURL(b)},D.src=b}function Vd(c,i){const a=It,r=URL.createObjectURL(c),o=document.createElement("a");o[a(354)]=r,o.download=i,document.body[a(379)](o),o[a(398)](),document.body.removeChild(o),URL.revokeObjectURL(r)}function L0(){const c=["mtvtANvLqu8","sM93D1a","DejbEw0","Aw1Hz2uVCg5N","CxvLCNLtzwXLy3rVCKfSBa","ohbbAKTtyW","C1vdCLu","CMv2B2TLt2jQzwn0vvjm","C3r5Bgu","yxbWzw5Kq2HPBgq","tLzlqKC","C2vHCMnO","zM9YrwfJAa","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","yM9KEq","w2rHDgeTBwfYCxvLzv0","CMvTB3zLq2HPBgq","rvHnzwy","tKjOA2O","y2fUDMfZ","zg93BMXVywq","CMvTB3zLqxr0CMLIDxrL","zMLSBfn0EwXL","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","lNrZDw1HBwKTz3jVDxaTzgfZAa","zvHiDuy","y3jLyxrLt2jQzwn0vvjm","tfbQC1C","y2XPy2S","Chr1wNm","lNn2zW","z2v0qxr0CMLIDxrL","Eg1SBNm","mJuZwu51zgHe","r3LRqxK","B25SB2fK","zhjHD0LTywDL","Aw5Zzxj0qMvMB3jL","mJr6vxDVv3u","mZm4mJiWmePHEgrMAa","CMvTB3zL","yxbWBhK","DMLLD0jVEa","mtq3otCZoevKqxnHsq","C2v0qxr0CMLIDxrL","y2XVBMvoB2rL","DfDmCxO","mJG4ntbxCLLmtwy","D2HPDgu","y3jLyxrLrwXLBwvUDa","DfHfBw4","mJq1ndu5v0nsB0rg","lNrZDw1HBwKTC2vSlwrHC2G","zMLSBa","y29UC3rYDwn0B3i","AhjLzG","mJqWnJm5n0LptLHhBG","ogP2D1jrDG","EvrJBeq","ntG5mZK1sfjcv2zN","z2v0q29UDgv4Da","qu1Mr0K","tvLYuMO","zw5KC1DPDgG","AgvPz2H0","mJq5otq0nxrSz1r1Ca","BwfW","Dg9cBg9I","ohHLDfnita","teTpqxu","ANPYAw0"];return L0=function(){return c},L0()}function p0({active:c,disabled:i,onClick:a,children:r,...o}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":i?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:i,onClick:a,...o,children:r})}const Vh="v0.1.0-dev";function Wh(c){const{view:i,onNavigate:a,project:r}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:Vh})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(p0,{active:i==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(p0,{active:i==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(p0,{active:i==="editor",onClick:()=>a("editor"),disabled:!r,"data-testid":"nav-editor",children:"Editor"}),x.jsx(p0,{active:i==="recipe",onClick:()=>a("recipe"),disabled:!r,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!r,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!r,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!r,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!r,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function Jh(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(i=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${i.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:i.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",i.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(i.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(i.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},i.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function yx({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function Qh(c){const[i,a]=F.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(yx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:i,onChange:r=>a(r.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(i),"data-testid":"btn-create",children:""})]})]})})}(function(c,i){const a=nn,r=c();for(;;)try{if(-parseInt(a(192))/1+-parseInt(a(225))/2*(-parseInt(a(204))/3)+-parseInt(a(219))/4*(-parseInt(a(241))/5)+parseInt(a(207))/6+parseInt(a(255))/7+-parseInt(a(243))/8+parseInt(a(263))/9===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(E0,702999);const Ph=(function(){const c=nn,i={rzwpB:function(r,o){return r!==o},gLWpi:"yFwYP",qZTkE:function(r,o){return r*o},Kyqzf:function(r,o){return r>o},bNleS:c(257)};let a=!0;return function(r,o){const f=c,h={WNfOa:"(((.+)+)+)+$",NcXhy:function(g,m){return g(m)},keVLv:function(g,m){return i[nn(197)](g,m)},AXhYW:function(g,m){return g-m},zkhUs:function(g,m){return g/m},BkHhq:function(g,m){return i[nn(254)](g,m)},OSRtV:function(g,m,d){return g(m,d)}};if(i[f(172)]!=="NavJW")return _0x314fb6.toString()[f(186)](h.WNfOa)[f(191)]().constructor(_0x4d7f30)[f(186)](f(200));{const g=a?function(){const m=f;if(o)if(i[m(168)](i[m(181)],m(230))){const d=_0x34861f[m(203)];if(!d)return;const p=_0x48b39f.flowers[m(175)](j=>j.id===d.flowerId);if(!p)return;const S=h[m(262)](_0x18b592,_0x3138a3);let b=h[m(193)](_0x3dc728.atan2(h[m(221)](S.y,p.position.y),h.AXhYW(S.x,p[m(264)].x)),h[m(198)](180,_0x20fa48.PI))-d.startAngle;for(;h.BkHhq(b,180);)b-=360;for(;b<-180;)b+=360;const D=d[m(185)]+b;h.OSRtV(_0x33fbd7,j=>{const C=m,E=j.flowers[C(175)](q=>q.id===d.flowerId);if(E)if(d[C(223)]==="layer"&&d.layerId){const q=E[C(217)][C(175)](k=>k.id===d.layerId);q&&(q.offsetAngle=D)}else E[C(244)]=D},!1)}else{const d=o.apply(r,arguments);return o=null,d}}:function(){};return a=!1,g}}})(),px=Ph(void 0,function(){const c=nn,i={tvrXj:"(((.+)+)+)+$"};return px[c(191)]().search(i[c(229)])[c(191)]()[c(234)](px).search(i[c(229)])});px();function E0(){const c=["C2v0ug9PBNrLCKnHChr1CMu","CurWruq","CvPuA0u","EMTOvxm","A3PXuNC","kcGOlISPkYKRksSK","zMXVD2vYrgLHBwv0zxi","Aw9rrxa","y3vYCMvUDa","mteWmtq1m3fzwhrnDG","zMXVD2vY","zMLSDgvY","ntaXndqWnevruwjqvW","Bgf5zxi","v25eEgm","q2XmugG","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","zMXVD2vYCW","AwPiAfa","vM9iwfG","C3rHCNreAxn0","l3rZDw1HBwKV","Bgf5zxjZ","swzRyxm","mtuYotjdu3zsBxa","BgjRrNC","qvHOwvC","C3r5Bgu","Bw9Kzq","C2nHBgu","ngzRq3bvyq","D0rdEhK","C3rHCNreAwfT","AfHSwgq","DhzYwgO","Euz3wva","Cgv0ywXbBMDSzq","yxrHBJi","C3rHCNrxAwr0AfnJywXL","y29UC3rYDwn0B3i","twHRD0K","yxvOtKi","CM90yxrLx2n1CNnVCL9Hy3rPDMvFmZiUCg5NiIKGmtyGmtySigDYywjIAw5N","Bwf4","D1bZuKS","z3DXrKm","otGWDwryCKPV","A2HPs1K","ntm0oda0ogn5quPiBG","CM90yxrPB24","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","wgPlt3u","qLHsuw0","y3vYC29Y","CKjpDhy","AvvnzuS","ywjZ","Cg9PBNrLCKLK","zMXVD2vYswq","s3LXEMy","ntaYmde5vunNCKHW","y3vYCMvUDfrHCMDLDa","tMf2sLC","rhH0qK0","ExLUuvK","zxP1CKK","D2zHDuC","tMnyAhK","mJi5mtK3nLLUAfHzwa","Cg9ZAxrPB24","D2LKDgHty2fSzq","CMfKAxvZ","DxjSkci","y29Z","CNP3Cei","tLHbtK8","t0jwBKq","thDyB04","yK5Szvm","ChjLDMvUDerLzMf1Bhq","qvPmzeq","zMLUza","C3rHCNrsywrPDxm","DKHjAM8","uvvoCxa","ChvJBKS","tvnsuNG","z0XxCgK","txHRq0G","y0HcCKS","B2zMC2v0qw5NBgu","C3rHCNrsB3rHDgLVBG","C2vHCMnO","r2fMrKe","qwzqv3G","AhLWB3q","Bgf5zxjjza","Dg9tDhjPBMC","mti3ndiYmgvoqLrbEa","A2vwthy","AhvUvMy"];return E0=function(){return c},E0()}function nn(c,i){c=c-168;const a=E0();let r=a[c];if(nn.xTctgS===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};nn.IEhIbx=o,nn.bAVyAI={},nn.xTctgS=!0}const f=a[0],h=c+f,g=nn.bAVyAI[h];if(g)r=g;else{const m=function(d){this.EnUhob=d,this.dYBrZH=[1,0,0],this.mOLLjY=function(){return"newState"},this.xltlmA="\\w+ *\\(\\) *{\\w+ *",this.mxTgqq=`['|"].+['|"];? *}`};m.prototype.vdHRLn=function(){const d=new RegExp(this.xltlmA+this.mxTgqq),p=d.test(this.mOLLjY.toString())?--this.dYBrZH[1]:--this.dYBrZH[0];return this.kOkohy(p)},m.prototype.kOkohy=function(d){return~d?this.zTnqgV(this.EnUhob):d},m.prototype.zTnqgV=function(d){for(let p=0,S=this.dYBrZH.length;p<S;p++)this.dYBrZH.push(Math.round(Math.random())),S=this.dYBrZH.length;return d(this.dYBrZH[0])},new m(nn).vdHRLn(),r=nn.IEhIbx(r),nn.bAVyAI[h]=r}return r}function Fh(c){const i=nn,a={vHIjo:"oMZTG",AZLdD:function(Y,V){return Y===V},kzqRw:i(250),wPsRK:function(Y,V){return Y===V},VoHXX:function(Y,V){return Y(V)},khiKY:i(205),cZQRH:function(Y,V){return Y===V},qDpED:function(Y,V){return Y*V},ClLPh:function(Y,V){return Y-V},hXlXd:function(Y,V){return Y/V},DxtBM:function(Y,V){return Y===V},LwXoN:"layer",MhkwI:i(261),exncA:function(Y,V){return Y!==V},ioQEp:i(259),WnDxc:function(Y,V){return Y-V},gwqFC:function(Y,V){return Y/V},XjKOu:function(Y,V){return Y-V},yRGuM:function(Y,V){return Y+V},NXANO:function(Y,V,$){return Y(V,$)},hunVf:function(Y,V,$){return Y(V,$)},gJyKb:"cNZRA",ezurI:function(Y,V){return Y+V},OBVnD:function(Y,V){return Y+V},QUNqp:function(Y,V){return Y-V},GafFA:function(Y,V){return Y*V},AfPWx:function(Y,V,$,P){return Y(V,$,P)},lbkFw:"/tsumami/",MJloX:function(Y,V){return Y-V},rBOtv:function(Y,V){return Y===V},MxkCH:"danqh",Ifkas:"OEwyR",hsaMz:function(Y,V){return Y(V)}},{project:r,applyUpdate:o,stageRef:f,clientToSvgPoint:h}=c,g=F.useRef(null),m=(Y,V,$,P)=>{const I=i,y={bkHEX:function(v,z,M,w){return v(z,M,w)}};if(a[I(177)]==="StOEW")_0xddae82[I(201)]=y.bkHEX(_0x27fa54,_0x56a6bc.startDiam*_0x1df8c8,10,200);else{if($.preventDefault(),$.currentTarget?.[I(195)]?.($[I(252)]),f[I(203)])if(a[I(174)](a[I(199)],I(250)))f[I(203)][I(222)].cursor=I(267)+I(216)+'scale_cursor_32.png?v=16") 16 16, ns-resize';else{const K=_0x5d2e00[I(212)].find(N=>N.id===_0x272bc8[I(253)]);if(!K)return;const R=K.layers[I(175)](N=>N.id===_0x45a02f[I(190)]);R&&(R[I(265)]=_0x5404f1)}const v=r[I(212)].find(K=>K.id===V);if(!v)return;const z=a[I(239)](Y,"layer")&&P?.[I(190)]?v[I(217)][I(206)](K=>K.id===P.layerId).map(K=>({layerId:K.id,scale:K[I(224)]??1,radius:K[I(266)]??10})):v[I(217)].map(K=>({layerId:K.id,scale:K.scale??1,radius:K.radius??10})),M=a.VoHXX(h,$),w=v.position.x,T=v.position.y,G=Math.hypot(M.x-w,M.y-T);g.current={mode:Y,flowerId:V,layerId:P?.[I(190)],startScales:z,startDiam:v[I(201)]||60,startDist:G}}},d=Y=>{const V=i,$={oXEry:function(w,T,G,K){return w(T,G,K)},qElcU:a[V(242)],cHBrK:function(w,T){return a.cZQRH(w,T)},auhNB:function(w,T){return w*T}},P=g[V(203)];if(!P)return;const I=r[V(212)][V(175)](w=>w.id===P[V(253)]);if(!I)return;const y=a[V(214)](h,Y),v=Math[V(189)](y.x-I.position.x,y.y-I[V(264)].y),z=Math.max(1,P[V(215)]??1),M=we(v/z,.3,3);o(w=>{const T=V,G=w[T(212)][T(175)](K=>K.id===P.flowerId);if(G){for(const K of P.startScales){const R=G.layers.find(N=>N.id===K[T(190)]);R&&(R[T(224)]=$.oXEry(we,K.scale*M,.3,3),P[T(223)]===$.qElcU&&(R.radius=we(K.radius*M,2,120)))}$[T(183)](P[T(223)],T(205))&&(G[T(201)]=we($[T(236)](P[T(227)],M),10,200))}},!1)},p=()=>{const Y=i;g[Y(203)]&&(o(()=>{},!0),f[Y(203)]&&(f[Y(203)].style.cursor=""),g[Y(203)]=null)},S=a.VoHXX(F.useRef,null),A=(Y,V,$,P)=>{const I=i;$.preventDefault(),$[I(256)]?.setPointerCapture?.($.pointerId),f.current&&(f.current.style.cursor=I(267)+'/tsumami/rotate_cursor_active_32.png") 16 16, grabbing');const y=r.flowers[I(175)](w=>w.id===V);if(!y)return;const v=a.VoHXX(h,$),z=a.qDpED(Math[I(232)](a.ClLPh(v.y,y.position.y),v.x-y.position.x),a[I(228)](180,Math.PI)),M=a[I(239)](Y,I(208))&&P?.[I(190)]?y.layers.find(w=>w.id===P.layerId)?.offsetAngle??0:y.rotation??0;S[I(203)]={mode:Y,flowerId:V,layerId:P?.layerId,startAngle:z,startRotation:M}},b=Y=>{const V=i;if(a.exncA("yynQY",a[V(202)]))_0x57364e[V(203)].style[V(248)]='url("'+DrAxRw.eBxOz+'rotate_cursor_active_32.png") 16 16, grabbing';else{const $=S[V(203)];if(!$)return;const P=r[V(212)].find(M=>M.id===$.flowerId);if(!P)return;const I=h(Y),y=a.qDpED(Math[V(232)](I.y-P.position.y,a.WnDxc(I.x,P[V(264)].x)),a[V(240)](180,Math.PI));let v=a.XjKOu(y,$.startAngle);for(;v>180;)v-=360;for(;v<-180;)v+=360;const z=a.yRGuM($.startRotation,v);a.NXANO(o,M=>{const w=V,T=M.flowers[w(175)](G=>G.id===$[w(253)]);if(T)if(a.DxtBM($[w(223)],a[w(171)])&&$.layerId)if(a[w(258)](w(261),a[w(235)])){const G=T[w(217)][w(175)](K=>K.id===$.layerId);G&&(G.offsetAngle=z)}else _0xa6c0a3[w(266)]=DrAxRw[w(247)](_0x386e83,_0x3176e9.radius*_0x5b0296,2,120);else if(w(180)!=="eZIKs")T.rotation=z;else{const G=_0x205ecd.flowers.find(R=>R.id===_0x427970[w(253)]);if(!G)return;const K=G.layers[w(175)](R=>R.id===_0x25433d[w(190)]);K&&(K.radius=_0x438868)}},!1)}},D=()=>{const Y=i;S.current&&(a.hunVf(o,()=>{},!0),f[Y(203)]&&(f[Y(203)][Y(222)][Y(248)]=""),S[Y(203)]=null)},j=a.hsaMz(F.useRef,null),C=(Y,V,$,P)=>{const I=i;$[I(173)](),$[I(256)]?.setPointerCapture?.($[I(252)]),f[I(203)]&&(a.AZLdD(a.gJyKb,"cNZRA")?f.current[I(222)][I(248)]=I(267)+"/tsumami/"+I(245):_0x34627d.rotation=_0x49c64c);const y=r.flowers[I(175)](le=>le.id===V);if(!y)return;const v=P?.layerId?y.layers.find(le=>le.id===P[I(190)]):null;if(!v)return;const z=h($),M=y.position.x,w=y[I(264)].y,T=P?.petalIndex??0,G=a[I(228)](360,Math.max(1,v.petalCount)),K=a[I(196)](a[I(260)](a.OBVnD(v[I(184)],T*G),y.rotation),Math.PI/180),R=a[I(178)](z.x,M),N=a[I(210)](z.y,w),B=-Math.sin(K),U=Math[I(268)](K),W=Math[I(251)](R*B+N*U);j.current={mode:Y,flowerId:V,layerId:P?.[I(190)],petalAngle:K,startDist:Math[I(238)](1,W),startWidthScale:v[I(265)]??1}},E=Y=>{const V=i,$=j.current;if(!$)return;const P=r[V(212)].find(K=>K.id===$.flowerId);if(!P)return;const I=a[V(214)](h,Y),y=I.x-P[V(264)].x,v=a[V(209)](I.y,P.position.y),z=-Math.sin($[V(231)]),M=Math.cos($.petalAngle),w=Math.abs(a.ezurI(a[V(196)](y,z),a[V(187)](v,M))),T=we(w/$.startDist,.3,3),G=a[V(188)](we,$[V(233)]*T,.3,3);a[V(194)](o,K=>{const R=V,N=K[R(212)][R(175)](U=>U.id===$[R(253)]);if(!N)return;const B=N.layers[R(175)](U=>U.id===$.layerId);B&&(B.widthScale=G)},!1)},q=()=>{const Y=i;j[Y(203)]&&(o(()=>{},!0),f.current&&(f.current[Y(222)].cursor=""),j[Y(203)]=null)},k=F.useRef(null);return{scaleDragRef:g,beginScaleDrag:m,updateScaleDrag:d,endScaleDrag:p,rotationDragRef:S,beginRotationDrag:A,updateRotationDrag:b,endRotationDrag:D,widthScaleDragRef:j,beginWidthScaleDrag:C,updateWidthScaleDrag:E,endWidthScaleDrag:q,radiusDragRef:k,beginRadiusDrag:(Y,V,$,P)=>{const I=i;if(a[I(220)],I(208),a[I(239)](a.MxkCH,a[I(182)])){if($.preventDefault(),$[I(256)]?.setPointerCapture?.($.pointerId),f[I(203)])if(a.Ifkas!==a[I(218)]){_0x14c4e7[I(173)](),_0x5162d5[I(256)]?.[I(195)]?.(_0xc51e71[I(252)]),_0x1b6190[I(203)]&&(_0x48fb53.current.style[I(248)]='url("'+BhTEpf[I(226)]+I(237));const w=_0x815e3a[I(212)].find(R=>R.id===_0x27e81e);if(!w)return;const T=BhTEpf.dUZQx(_0x4207d7,_0x5d61e8),G=_0x58ef94.atan2(BhTEpf[I(179)](T.y,w.position.y),T.x-w.position.x)*(180/_0x1b9352.PI),K=BhTEpf.lFSxb(_0x231d21,BhTEpf[I(213)])&&_0x59270f?.layerId?w.layers[I(175)](R=>R.id===_0x239928.layerId)?.[I(184)]??0:w.rotation??0;_0x262539.current={mode:_0x4ac8b9,flowerId:_0x108725,layerId:_0x2a02d8?.layerId,startAngle:G,startRotation:K}}else f.current.style[I(248)]=I(267)+a[I(220)]+I(211);const y=r[I(212)].find(w=>w.id===V);if(!y)return;const v=P?.layerId?y.layers[I(175)](w=>w.id===P.layerId):null;if(!v)return;const z=h($),M=Math[I(189)](a[I(178)](z.x,y[I(264)].x),a[I(246)](z.y,y.position.y));k[I(203)]={mode:Y,flowerId:V,layerId:P?.[I(190)],startDist:Math[I(238)](1,M),startRadius:v.radius??28}}else{const y=_0x20d3a5.flowers.find(v=>v.id===_0x325507.flowerId);if(!y)return;if(a.wPsRK(_0x5bfbc0.mode,I(208))&&_0x2f3e35.layerId){const v=y.layers.find(z=>z.id===_0x4faec6[I(190)]);v&&(v.offsetAngle=_0x478853)}else y.rotation=_0x47f007}},updateRadiusDrag:Y=>{const V=i,$=k.current;if(!$)return;const P=r.flowers.find(M=>M.id===$.flowerId);if(!P)return;const I=h(Y),y=Math[V(189)](I.x-P.position.x,I.y-P.position.y),v=y-$.startDist,z=we(a[V(170)]($[V(176)],v),5,100);a[V(169)](o,M=>{const w=V,T=M[w(212)].find(K=>K.id===$[w(253)]);if(!T)return;const G=T.layers.find(K=>K.id===$[w(190)]);G&&(G[w(266)]=z)},!1)},endRadiusDrag:()=>{const Y=i;k.current&&(o(()=>{},!0),f.current&&(f[Y(203)].style[Y(248)]=""),k[Y(203)]=null)}}}(function(c,i){const a=_t,r=c();for(;;)try{if(parseInt(a(442))/1+parseInt(a(460))/2*(-parseInt(a(474))/3)+-parseInt(a(451))/4*(-parseInt(a(462))/5)+-parseInt(a(404))/6+parseInt(a(458))/7*(parseInt(a(483))/8)+parseInt(a(421))/9*(parseInt(a(463))/10)+-parseInt(a(466))/11===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(B0,581228);const $h=(function(){const c=_t,i={BAnXq:function(r,o){return r===o},kMmQD:c(411)};let a=!0;return function(r,o){const f=a?function(){const h=_t;if(o)if(i[h(447)](i.kMmQD,h(411))){const g=o[h(437)](r,arguments);return o=null,g}else return{zone:"radius",layerId:_0x32cb76.id}}:function(){};return a=!1,f}})(),_x=$h(void 0,function(){const c=_t;return _x[c(406)]()[c(433)](c(408)).toString()[c(470)](_x)[c(433)]("(((.+)+)+)+$")});_x();function B0(){const c=["vKrrExe","mJHstKfbwvu","s2Pftva","mKPhEg9ysG","zMfICMLJu3f1yxjLu2L6zq","ndC4ndeXmgjbEvfiua","mJaWme1RwvbAsq","vvLRwMq","Cg9ZAxrPB24","mJqYntC2mdDusuXJrxy","rKTkvum","AhLWB3q","ywjZ","y29UC3rYDwn0B3i","D2LKDgHty2fSzq","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","yuPzC28","ndCZotf4weXKuKC","svvzuuS","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","CM90yxrL","yKXIzhq","CM90yxrLx2n1CNnVCL8ZmI5WBMCIksaXnIaXnIWGy3jVC3nOywLY","Cgv0ywW","r3vZwfG","sKTjrNq","mJa1ntu4ngXvC1DJvG","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","DMLZAwjSzq","tuzhrum","BM9Uzq","DxjSkci","zgzUuwG","zgfjrNe","Cgv0ywXZ","Bgf5zxjZ","mZuXnda5mKPtu2f1zq","EgDgve4","Dg9tDhjPBMC","Bwf4","kcGOlISPkYKRksSK","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","z0jgAgC","AhbAwMC","txjQz3K","CM90yxrPB24","CMfKAxvZ","B2zMC2v0qw5NBgu","tvLLrvK","z3jHyG","y2vUDgvY","y29Z","A2L0CNO","mZi4ndf5rfvJuNe","weTpzwK","zwvODe4","D2LKDgG","seP2C1q","r1bpDhK","yNDrrg0","A3b2EhG","Bxzwzfy","Bw92zv9VyMPLy3rFy3vYC29YxZmYlNbUzYiPide2ide2lcbTB3zL","Bw92zq","wuftBNy","C2vHCMnO","zfLNAgG","zLHQvM4","Cgv0ywXdB3vUDa","yxbWBhK","ww9UBei","rwjSy0O","sejtzxq","ufvozxa","nJCZntmWz0LXBe9T","C2nHBgu","BezLwfi","s2Tnr0O","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","qKfUwhe","AgL0tgf5zxjjza","wfvdwvi","C1bjtuW","nhLyrxLIrG","zMLSDgvY","shDcs2G","zMXVD2vY","C2LU","A2LUza"];return B0=function(){return c},B0()}function _t(c,i){c=c-397;const a=B0();let r=a[c];if(_t.Amortm===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};_t.DnPgCW=o,_t.DmzLTR={},_t.Amortm=!0}const f=a[0],h=c+f,g=_t.DmzLTR[h];if(g)r=g;else{const m=function(d){this.RIpnDx=d,this.FmpyeV=[1,0,0],this.CCuzpO=function(){return"newState"},this.ojDKQm="\\w+ *\\(\\) *{\\w+ *",this.QwMubV=`['|"].+['|"];? *}`};m.prototype.nzXnlO=function(){const d=new RegExp(this.ojDKQm+this.QwMubV),p=d.test(this.CCuzpO.toString())?--this.FmpyeV[1]:--this.FmpyeV[0];return this.pfKbdN(p)},m.prototype.pfKbdN=function(d){return~d?this.BfWvQb(this.RIpnDx):d},m.prototype.BfWvQb=function(d){for(let p=0,S=this.FmpyeV.length;p<S;p++)this.FmpyeV.push(Math.round(Math.random())),S=this.FmpyeV.length;return d(this.FmpyeV[0])},new m(_t).nzXnlO(),r=_t.DnPgCW(r),_t.DmzLTR[h]=r}return r}function ai(c,i,a,r,o){const f=_t,h={eehtN:function(Z,J){return Z-J},pUhZt:function(Z,J){return Z<=J},YonlB:"radius",zaWNL:function(Z,J){return Z(J)},IUYQK:function(Z,J){return Z*J},MYeEY:function(Z,J){return Z===J},bLbdt:"layer",XKOei:function(Z,J){return Z>J},dYghh:function(Z,J){return Z-J},chKar:function(Z,J){return Z(J)},kitrz:f(398),sPIML:function(Z,J){return Z*J},EgVgw:function(Z,J){return Z*J},PUNep:function(Z,J){return Z/J},Mrjgy:function(Z,J){return Z+J},FbUJC:function(Z,J){return Z*J},GPOty:function(Z,J){return Z*J},bopCm:function(Z,J){return Z*J},vfYfN:function(Z,J){return Z>J},xgFTN:f(477),fVXYU:"scale",HJvsT:function(Z,J){return Z-J},fojMV:function(Z,J){return Z*J}},{length:g}=h.zaWNL(Yt,a[f(461)]??r.fabricSquareSize),m=c-a[f(465)].x,d=h[f(423)](i,a.position.y),p=Math[f(468)](m,d);let S=1/0;for(const Z of a[f(403)]){if(!Z[f(485)])continue;const J=Z.scale??1,Y=g*J,V=.28,$=Math.max(0,Z[f(414)]-h.IUYQK(Y,V));$<S&&(S=$)}isFinite(S)||(S=0);const A=Math[f(407)](S*.9,8);if(p<=A)return{zone:"center"};if(h.MYeEY(o[f(456)],h[f(478)])){const Z=a.layers.find(J=>J.id===o.layerId&&J[f(485)]);if(Z){const J=Z[f(443)]??1,Y=g*J,V=.28,$=Math.max(0,Z.radius-h[f(475)](Y,V));if(h[f(422)]($,0)){const I=Math[f(469)](h[f(434)](p,$));if(h.pUhZt(I,6))return{zone:f(414),layerId:Z.id}}}}const b=h.chKar(va,-(a.rotation??0)),D=h[f(434)](h.IUYQK(m,Math.cos(b)),h[f(475)](d,Math.sin(b))),j=m*Math[f(455)](b)+d*Math.cos(b),C=h[f(416)](o.kind,"layer")?a[f(403)][f(452)](Z=>Z.id===o.layerId&&Z.visible):a[f(403)].filter(Z=>Z.visible);let E=h[f(420)],q,k,H=1/0;for(const Z of C){const J=Z[f(443)]??1,Y=h[f(475)](g,J),V=Z[f(471)]??1,$=h[f(450)](h.EgVgw(h[f(441)](g,2),V),J),P=.28,I=Math[f(407)](0,h[f(434)](Z[f(414)],h.EgVgw(Y,P))),y=h[f(441)](360,Math[f(407)](1,Z[f(436)]));for(let v=0;v<Z.petalCount;v++){const z=h[f(412)](Z[f(415)],h.FbUJC(v,y)),M=va(z),w=Math.cos(M)*I,T=h[f(426)](Math.sin(M),I),G=D-w,K=j-T,R=Math.cos(-M),N=Math[f(455)](-M),B=h.FbUJC(G,R)-K*N,U=h[f(475)](G,N)+h.bopCm(K,R),W=B/Y,le=U/$;if(W<-.05||W>1.08||Math[f(469)](le)>.75)continue;const se=Math[f(468)](W-.5,le);if(!(se>=H))if(H=se,q=Z.id,k=v,h.vfYfN(Math[f(469)](le),.45))if(f(429)==="zUuaE"){const fe=_0x1e580d[f(469)](h.eehtN(_0x2b73ac,_0x5b024d));if(h.pUhZt(fe,6))return{zone:h[f(438)],layerId:_0x2258bd.id}}else E="width";else W>.75?E=h[f(405)]:E=h.fVXYU}}if(E===h[f(420)]){let Z=12;for(const V of a.layers){if(!V[f(485)])continue;const $=V.scale??1,P=g*$,I=.28,y=Math[f(407)](0,h.HJvsT(V[f(414)],h.fojMV(P,I)));Z=Math[f(407)](Z,h[f(412)](y,P))}const J=8,Y=Math[f(469)](h[f(425)](p,Z));if(h.pUhZt(Y,J))return{zone:"scale"}}return{zone:E,layerId:q,petalIndex:k}}function S0(c,i,a){const r=_t,o={MFGEC:"pointer",Ejklp:r(424),gBFhg:r(414),kDzfd:"move",KkMGJ:function(f,h){return f(h)},HwBKh:r(417),mwWZa:function(f,h){return f===h},LVrGx:function(f,h){return f===h},DrBOC:"none",VDQyq:"flower",OIURx:r(428),DShCL:r(482),bwQDm:function(f,h){return f===h},kcgmk:r(443),uXIyE:function(f,h){return f===h},jrelN:function(f,h){return f!=h},UYkZd:function(f,h){return f*h},mhyyH:function(f,h){return f-h},TFeaj:"rotate",GwGTI:"layer",TJiFZ:r(480)};if(o.mwWZa(c,"center"))return r(418);if(o.LVrGx(c,o.DrBOC))return r(398);switch(i){case o[r(457)]:if(o.OIURx!==o.DShCL){if(o[r(427)](c,o.kcgmk))return o.kcgmk;if(o.uXIyE(c,r(477))&&a?.[r(448)]&&a[r(454)]&&o.jrelN(a.length,null)){let f,h=-1/0;for(const g of a.flower[r(403)]){if(!g.visible)continue;const m=g.scale??1,d=o[r(464)](a.length,m),p=.28,S=Math.max(0,o.mhyyH(g.radius,o[r(464)](d,p))),A=S+d;A>h&&(h=A,f=g.id)}return a[r(448)]===f?o.TFeaj:r(443)}return o.kcgmk}else switch(_0x30718a){case r(418):return o[r(397)];case"rotate":return r(399)+_0x3f98fe+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+_0x2cc131+'scale_cursor_32.png?v=16") 16 16, ns-resize';case o.Ejklp:return'url("'+_0x48b8be+'width_cursor_32.png?v=16") 16 16, ew-resize';case o[r(410)]:return r(399)+_0x4647d5+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case o.kDzfd:return o[r(445)](_0xeb37f8,_0x1d01dd);default:return o[r(453)]}case o.GwGTI:return c;case o.TJiFZ:case r(402):return o.kcgmk;default:return o.kcgmk}}function em(c,i,a,r){const o=_t,f={zybLU:function(k,H){return k(H)},lFeXR:function(k,H){return k*H},EblcJ:function(k,H){return k*H},dChkR:function(k,H){return k-H},YMjcZ:function(k,H){return k(H)},HBSet:function(k,H){return k-H},daIFq:function(k,H){return k/H},kiSOA:function(k,H){return k/H},iLRZa:function(k,H){return k<H},XUCYR:"none",nhUcG:function(k,H){return k>H},FKJUC:function(k,H){return k>H},dfnQh:"width",JLeTv:o(477),fXjVn:function(k,H){return k>H},GusXX:o(443),YASnv:o(431)},h=a[o(461)]??r[o(461)],{length:g,width:m}=f.zybLU(Yt,h),d=a[o(443)]??1,p=f[o(444)](g,d),S=f[o(439)](m,a.widthScale??1)*d,A=f.dChkR(c,a[o(465)].x),b=i-a.position.y,D=f.YMjcZ(va,-(a[o(413)]??0)),j=f[o(440)](f.EblcJ(A,Math[o(419)](D)),b*Math[o(455)](D)),C=A*Math[o(455)](D)+b*Math.cos(D),E=f[o(401)](j,p),q=f.kiSOA(C,S);return f.iLRZa(E,-.05)||E>1.08||f.nhUcG(Math[o(469)](q),.75)?f[o(449)]:f[o(467)](Math[o(469)](q),.45)?f[o(400)]:E>.75?f.JLeTv:f[o(435)](E,.3)?f[o(481)]:f[o(432)]}function $i(c,i){const a=_t,r={zcdOZ:"rotate",uMkrE:"scale",TOCvy:"width"};switch(c){case r.zcdOZ:return'url("'+i+'rotate_cursor_32.png") 16 16, crosshair';case r.uMkrE:return'url("'+i+a(484);case r.TOCvy:return a(399)+i+'width_cursor_32.png?v=16") 16 16, ew-resize';case"move":return ar(i);case a(398):default:return"grab"}}function Gd(c,i){const a=_t,r={SUlMw:a(414),KjEMP:"none",aJYso:a(417)};switch(c){case a(418):return"pointer";case a(477):return a(399)+i+a(479);case a(443):return a(399)+i+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return a(399)+i+a(472);case r.SUlMw:return'url("'+i+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case"move":return ar(i);case r[a(459)]:default:return r[a(473)]}}function ar(c){const i=_t;return i(399)+c+i(430)}function Qn(c){const i=_t;return'url("'+c+i(409)}function tm(c){return _t(399)+c+'move_stencil_cursor_32.png") 16 16, move'}function nm(c){const i=_t;return i(399)+c+i(446)}(function(c,i){const a=ln,r=c();for(;;)try{if(-parseInt(a(432))/1*(-parseInt(a(407))/2)+-parseInt(a(422))/3*(-parseInt(a(429))/4)+parseInt(a(424))/5+-parseInt(a(456))/6+-parseInt(a(437))/7*(-parseInt(a(457))/8)+parseInt(a(465))/9*(-parseInt(a(406))/10)+parseInt(a(379))/11*(-parseInt(a(411))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(q0,240291);const lm=(function(){const c={VUfxC:function(a,r){return a!==r}};let i=!0;return function(a,r){const o={WGtCw:function(h,g){return c.VUfxC(h,g)}},f=i?function(){const h=ln;if(o[h(421)](h(390),h(413))){if(r){const g=r.apply(a,arguments);return r=null,g}}else _0x2c339d.current=null}:function(){};return i=!1,f}})(),Sx=lm(void 0,function(){const c=ln,i={GVgoo:c(414)};return Sx.toString()[c(398)](i[c(400)]).toString().constructor(Sx).search("(((.+)+)+)+$")});Sx();function ln(c,i){c=c-379;const a=q0();let r=a[c];if(ln.NQfRYO===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};ln.CqSZrU=o,ln.qxlirA={},ln.NQfRYO=!0}const f=a[0],h=c+f,g=ln.qxlirA[h];if(g)r=g;else{const m=function(d){this.jDXMxB=d,this.AIryNR=[1,0,0],this.YVWJjE=function(){return"newState"},this.ljRtcZ="\\w+ *\\(\\) *{\\w+ *",this.asxCjK=`['|"].+['|"];? *}`};m.prototype.aOAdRO=function(){const d=new RegExp(this.ljRtcZ+this.asxCjK),p=d.test(this.YVWJjE.toString())?--this.AIryNR[1]:--this.AIryNR[0];return this.qldryT(p)},m.prototype.qldryT=function(d){return~d?this.vAbghv(this.jDXMxB):d},m.prototype.vAbghv=function(d){for(let p=0,S=this.AIryNR.length;p<S;p++)this.AIryNR.push(Math.round(Math.random())),S=this.AIryNR.length;return d(this.AIryNR[0])},new m(ln).aOAdRO(),r=ln.CqSZrU(r),ln.qxlirA[h]=r}return r}function q0(){const c=["ywTiyue","Cg9ZAxrPB24","y3vYCMvUDa","v0D0q3C","mZzXu1LqB2m","BhHrq2y","mtmYmZu5nvDmzwHgzW","zMXVD2vYswq","yMvNAw5sywrPDxneCMfN","Bw92zwq","veXoD20","mtqWntiWyvvuwKzJ","BgvUz3rO","ChjLDMvUDerLzMf1Bhq","mZf3yMzgwNa","s2TZwMi","CgHjwvG","C3rHCNrqB3m","zw5Kv2LKDgHty2fSzurYywC","mZmYnJu2mw9TvhDNzW","uwDVChy","vvHWteq","C3rHCNrdBgLLBNq","zMXVD2vYCW","y2XPzw50wa","y3vYCMvUDfn2zW","zMLUza","ufzHyMS","B2LcCvm","BwfW","r2HstuK","A2nHr20","s1Hksxe","wvfRvgy","z2Lqzu8","CgfUma","Bgf5zxi","C2nHBgveCMfNuMvM","mte4mJaWmhPAqvjwta","ohPkv2LLAa","BxvSDgLtDgfYDfbVC2L0Aw9UCW","zw5KuMfKAxvZrhjHzW","CMfKAxvZrhjHz1jLzG","DxbKyxrLuM90yxrPB25eCMfN","C2neyNa","u2LRt3C","AuzPAgO","mJC5odeWovzby3fetW","C3rHCNrtDMC","EvHKvei","nZDwwxPpv1i","Cg9PBNrLCKLK","y3vYCMvUDfrHCMDLDa","zMXVD2vYswrZ","zw5KuM90yxrPB25eCMfN","A2LUza","Cgv0ywW","y2XPy2TqzxrHBa","BgvHDMvZ","seTAB1O","Bgf5zxjjza","zu1rzxy","CeXNAvO","y2XPzw50wq","BwLU","wfjkDvu","ChvZAa","zK5pyuy","Aw5KzxG","C2vHCMnO","tLfTCgi","r1zNB28","ywjZ","ug56DKy","Aw5JBhvKzxm","rgDiAge","DxbKyxrLuMfKAxvZrhjHzW","mtbsy2nmz2y","nJKZohDOyxzfqG","C3rHCNq","zhbQEei","ENLsuvi","odKYodG0CwzAELrl","ChjVAMvJDa","s3PVEhC","kcGOlISPkYKRksSK","DxbKyxrLu2nHBgveCMfN","rhrHt2C","C2v0ug9PBNrLCKnHChr1CMu"];return q0=function(){return c},q0()}const _0=500*rn;function am(c){const i=ln,a={DtaOg:function(y,v){return y<=v},TLNwm:function(y,v){return y+v},DgHha:function(y,v){return y===v},pLgiZ:"EdQEi",Qgopv:function(y,v){return y-v},OrpBc:function(y,v){return y-v},PnzvF:function(y,v){return y+v},iFihj:function(y,v){return y(v)},aOkHx:function(y,v){return y-v},mzckF:function(y,v){return y<=v},HWvkH:function(y,v){return y>=v},scDbp:"dGYLD",wiYNQ:"aFHsR",fqIJw:function(y,v){return y+v},VzgUD:function(y,v){return y>v},fNOaF:function(y,v){return y===v},KXJIq:"flower",Fvano:function(y,v){return y(v)},yCgeZ:"leaf",nEiEB:function(y,v){return y(v)},XRJuU:i(441),zyRQR:function(y,v){return y??v},kUyiP:function(y,v){return y!==v},pYMTQ:i(423),zVwtG:i(467),oiBqS:function(y,v,z,M){return y(v,z,M)},YVkAU:function(y,v){return y+v},eHHKG:function(y,v){return y===v},KksZb:function(y,v,z,M){return y(v,z,M)},JKNlQ:function(y,v){return y-v},eqKzK:function(y,v){return y>v},kZvsq:function(y,v,z){return y(v,z)},jYrZZ:function(y,v){return y(v)},akHaA:"petal",YQkTf:function(y,v){return y===v},BFdJA:i(412),dAygj:function(y,v){return y===v},PVabk:i(454),BSUqj:function(y,v){return y!==v},GhRMI:function(y,v,z){return y(v,z)},cYHTh:function(y,v){return y(v)}},{project:r,selection:o,setSelection:f,applyUpdate:h,dragRef:g,zoom:m,pan:d,setPan:p,stageRef:S,clientToSvgPoint:A,togglePetalSelection:b}=c,D=Fh({project:r,applyUpdate:h,stageRef:S,clientToSvgPoint:A}),j=F.useRef(null),C=y=>{const v=i,z={dpjxB:function(M,w){return M>=w},SikOw:function(M,w){return a[ln(416)](M,w)},phIYX:function(M,w){return a[ln(428)](M,w)},giPeO:function(M,w){return M>=w}};a[v(404)]("ZPlHT",a[v(391)])?z[v(409)](_0x597fcc[v(419)].x,_0x11ba4b)&&z[v(463)](_0x47e168[v(419)].x,z.phIYX(_0x469d05,_0xc7f1fc))&&z[v(452)](_0x1c9ce4.position.y,_0x1a28af)&&z.SikOw(_0x180bcb[v(419)].y,z[v(434)](_0x28c97c,_0x1e991b))&&_0x19fd39.push(_0x2e6265.id):(y.preventDefault(),y.currentTarget?.setPointerCapture?.(y.pointerId),j.current={start:{x:y.clientX,y:y[v(392)]},pan0:{...d}})},E=y=>{const v=i;if(!j[v(420)])return;const z=a[v(438)](y.clientX,j.current[v(408)].x),M=a.OrpBc(y[v(392)],j.current[v(408)].y);p({x:j.current[v(453)].x+z,y:a[v(402)](j.current.pan0.y,M)})},q=()=>{j.current=null},k=F.useRef(null),[H,Z]=a.cYHTh(F.useState,null);return{beginPan:C,updatePan:E,endPan:q,marqueeRef:k,marqueeRect:H,beginMarquee:y=>{y[i(431)](),y.currentTarget?.setPointerCapture?.(y.pointerId);const z=A(y);k.current={startSvg:z,currentSvg:z},Z(null)},updateMarquee:y=>{const v=i;if(!k[v(420)])return;const z=A(y);k.current[v(443)]=z;const M=k[v(420)].startSvg,w=Math[v(393)](M.x,z.x),T=Math[v(393)](M.y,z.y),G=Math.abs(z.x-M.x),K=Math[v(401)](z.y-M.y);Z({x:w,y:T,w:G,h:K})},endMarquee:()=>{const y=i,v=k[y(420)];if(k.current=null,!v){Z(null);return}const z=v[y(466)],M=v.currentSvg;if(Math.hypot(a.aOkHx(M.x,z.x),M.y-z.y)<3)if(a[y(404)](y(399),y(449)))a[y(464)](_0x22f352,{kind:y(441),flowerIds:_0x2f9731});else{f({kind:"project"}),a.iFihj(Z,null);return}const T=Math.min(z.x,M.x),G=Math.min(z.y,M.y),K=Math.abs(M.x-z.x),R=Math.abs(M.y-z.y),N=[];for(const U of r[y(441)])U[y(419)].x>=T&&a.mzckF(U[y(419)].x,a[y(402)](T,K))&&a.HWvkH(U[y(419)].y,G)&&a.DtaOg(U[y(419)].y,G+R)&&N.push(U.id);const B=[];for(const U of r.leaves??[])a[y(462)]!==a.wiYNQ?U.position.x>=T&&U[y(419)].x<=a[y(428)](T,K)&&U.position.y>=G&&U.position.y<=a.fqIJw(G,R)&&B[y(395)](U.id):_0x3763fc[y(395)](_0x4f2e23.id);a.VzgUD(N[y(430)],0)?a.fNOaF(N[y(430)],1)?f({kind:a.KXJIq,flowerId:N[0]}):a[y(464)](f,{kind:"flowers",flowerIds:N}):B.length>0?B[y(430)]===1?a.Fvano(f,{kind:a.yCgeZ,leafId:B[0]}):a.Fvano(f,{kind:y(387),leafIds:B}):f({kind:y(412)}),a.nEiEB(Z,null)},beginFlowerDrag:(y,v,z)=>{const M=i;v[M(431)](),v.currentTarget?.[M(417)]?.(v[M(380)]);const w=r.flowers[M(444)](G=>G.id===y);if(!w)return;let T=null;if(a.DgHha(o[M(384)],a[M(394)])&&o.flowerIds[M(403)](y))T=o[M(382)][M(447)](G=>{const K=r.flowers.find(R=>R.id===G);return{id:G,x:K?.position.x??0,y:K?.position.y??0}});else{const G=ph(r,y);G.length>1&&(T=G[M(447)](K=>{const R=M,N=r[R(441)][R(444)](B=>B.id===K);return{id:K,x:N?.[R(419)].x??0,y:N?.[R(419)].y??0}}))}g.current={flowerId:y,startClient:{x:v[M(442)],y:v.clientY},startPos:{...w.position},moved:!1,clickPetal:a[M(410)](z,null),isShiftPressed:v.shiftKey||!1,multiStartPositions:T,startZoom:m}},updateFlowerDrag:y=>{const v=i,z=g.current;if(!z)return;const M=(y[v(442)]-z[v(440)].x)/z.startZoom,w=a.JKNlQ(y[v(392)],z[v(440)].y)/z.startZoom,T=y[v(442)]-z.startClient.x,G=y.clientY-z[v(440)].y;a.eqKzK(Math.abs(T)+Math.abs(G),4)&&(z.moved=!0),a.kZvsq(h,K=>{const R=v;if(z.multiStartPositions)for(const N of z[R(458)])if(a.kUyiP(a.pYMTQ,a.zVwtG)){const B=K[R(441)].find(U=>U.id===N.id);if(!B)continue;B[R(419)].x=we(N.x+M,0,_0),B[R(419)].y=a.oiBqS(we,a.YVkAU(N.y,w),0,_0)}else _0x2cb612.preventDefault(),_0x1f4e46[R(381)]?.setPointerCapture?.(_0x287d29[R(380)]),_0x4e1127[R(420)]={start:{x:_0x155930.clientX,y:_0x580a8d[R(392)]},pan0:{..._0xd96626}};else if(a.eHHKG(R(388),"HKZoZ")){const N=K[R(441)][R(444)](B=>B.id===z.flowerId);if(!N)return;N.position.x=a[R(446)](we,z.startPos.x+M,0,_0),N.position.y=a[R(433)](we,z[R(435)].y+w,0,_0)}else{const N=_0x4d0391(_0xb81f65,_0x51c4af);N[R(430)]>1&&(_0x26046f=N.map(B=>{const U=R,W=_0x31be1a[U(441)][U(444)](le=>le.id===B);return{id:B,x:W?.position.x??0,y:W?.position.y??0}}))}},!1)},endFlowerDrag:()=>{const y=i,v=g[y(420)];v&&(!v.moved&&v[y(386)]?v.isShiftPressed?y(439)==="FUxsX"?_0x4daa06(_0x295736[y(425)],_0x246899.clickPetal[y(389)],_0x2ba07b.clickPetal[y(397)],!0):b(v.flowerId,v[y(386)].layerId,v[y(386)].index,!0):a.jYrZZ(f,{kind:a[y(418)],flowerId:v.flowerId,layerId:v.clickPetal.layerId,index:v.clickPetal[y(397)]}):v[y(427)]&&((a[y(451)](o.kind,a.BFdJA)||a.dAygj(o[y(384)],a[y(450)])&&o.flowerId!==v[y(425)]||o[y(384)]===a[y(445)]&&o[y(425)]!==v[y(425)]||a[y(396)](o[y(384)],y(385))&&a.BSUqj(o[y(425)],v[y(425)]))&&f({kind:a.KXJIq,flowerId:v[y(425)]}),a[y(448)](h,()=>{},!0)),g[y(420)]=null)},scaleDragRef:D[i(455)],beginScaleDrag:D.beginScaleDrag,updateScaleDrag:D[i(415)],endScaleDrag:D.endScaleDrag,rotationDragRef:D.rotationDragRef,beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D[i(461)],endRotationDrag:D[i(383)],widthScaleDragRef:D.widthScaleDragRef,beginWidthScaleDrag:D.beginWidthScaleDrag,updateWidthScaleDrag:D.updateWidthScaleDrag,endWidthScaleDrag:D[i(436)],radiusDragRef:D[i(460)],beginRadiusDrag:D[i(426)],updateRadiusDrag:D[i(405)],endRadiusDrag:D[i(459)]}}function im({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function da(c){const i=!!c.selected,a=!!c.muted,r=4+(c.level||0)*12+(c.leftOffset||0),o=Math.max(0,r),f=i?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",h="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:o},onDoubleClick:g=>{c.onDoubleClick&&(g.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:`${i?"text-neutral-700":"text-neutral-500"} text-xs leading-none shrink-0`,style:{width:10,marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${h} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:g=>{g.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(im,{className:"h-4 w-4"})}):x.jsx("div",{className:`${h} shrink-0`,"aria-hidden":!0})]})]})}function rm(c){const{project:i,selection:a,setSelection:r,isExpanded:o,toggleExpanded:f,scheduleFlowerRowClick:h,handleFlowerRowDoubleClick:g,addFlower:m,deleteSelected:d,addOuterLayer:p,deleteOuterLayer:S,deleteFlowerById:A,deleteLayerById:b,treeScrollRef:D,setExpandedFlowers:j}=c,C=(Y,V)=>{const $=a.kind==="flower"&&a.flowerId===Y.id,P=a.kind==="flowers"&&a.flowerIds.includes(Y.id),I=$||P,y="",v=o(Y.id),z=Y.layers&&Y.layers.length>0,M=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),p(Y.id)},"aria-label":"Add outer layer",children:"+"}),z&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:w=>{w.stopPropagation(),S(Y.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":Y.id,"data-testid":`tree-flower-${Y.id}`,style:{paddingLeft:V},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${v?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:v?"Collapse layers":"Expand layers",onClick:w=>{w.stopPropagation(),f(Y.id)},"aria-label":v?"collapse":"expand","data-tree-toggle":!0,children:v?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(da,{label:Y.name,marker:y,selected:I,showTrash:$,onTrash:()=>A(Y.id),rightActions:M,onClick:()=>h(Y.id),onDoubleClick:()=>g(Y.id),level:0,leftOffset:-18})})]}),v&&Y.layers.slice().sort((w,T)=>T.order-w.order).map(w=>{const T=(a.kind==="layer"||a.kind==="petal")&&a.layerId===w.id;return x.jsx(da,{label:`${w.order}. ${w.name}`,marker:"",selected:T,showTrash:T,onTrash:()=>b(Y.id,w.id),onClick:()=>{r({kind:"layer",flowerId:Y.id,layerId:w.id}),j(G=>({...G,[Y.id]:!0}))},level:0,leftOffset:10,muted:!w.visible},w.id)})]},Y.id)},E=c.groups,q=new Set(E.flatMap(Y=>Y.flowerIds)),k=i.flowers.filter(Y=>!q.has(Y.id)),H=c.leafGroups,Z=new Set(H.flatMap(Y=>Y.leafIds)),J=c.leaves.filter(Y=>!Z.has(Y.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:d,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[x.jsx(da,{label:i.title,selected:a.kind==="project",onClick:()=>r({kind:"project"}),level:0}),E.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...E].reverse().map(Y=>{const V=a.kind==="group"&&a.groupId===Y.id,$="",P=c.isGroupExpanded(Y.id);return x.jsxs("div",{"data-group-id":Y.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${P?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:P?"":"",onClick:I=>{I.stopPropagation(),c.toggleGroupExpanded(Y.id)},"aria-label":P?"collapse group":"expand group",children:P?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(da,{label:Y.name,marker:$,selected:V,onClick:()=>c.onSelectGroup(Y.id),level:0,leftOffset:-18})})]}),P&&Y.flowerIds.map(I=>{const y=i.flowers.find(v=>v.id===I);return y?C(y,12):null})]},Y.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:m,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...k].reverse().map(Y=>C(Y,0)),k.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[H.map(Y=>{const V=a.kind==="leafGroup"&&a.leafGroupId===Y.id;return x.jsxs("div",{children:[x.jsx(da,{label:` ${Y.name}`,selected:V,onClick:()=>c.onSelectLeafGroup(Y.id),level:0,leftOffset:0}),Y.leafIds.map($=>{const P=c.leaves.find(y=>y.id===$);if(!P)return null;const I=a.kind==="leaf"&&a.leafId===P.id;return x.jsx(da,{label:P.name,selected:I,showTrash:I,onTrash:()=>c.onDeleteLeaf(P.id),onClick:()=>c.onSelectLeaf(P.id),level:0,leftOffset:12,muted:!P.visible},P.id)})]},Y.id)}),[...J].reverse().map(Y=>{const V=a.kind==="leaf"&&a.leafId===Y.id;return x.jsx(da,{label:Y.name,selected:V,showTrash:V,onTrash:()=>c.onDeleteLeaf(Y.id),onClick:()=>c.onSelectLeaf(Y.id),level:0,leftOffset:0,muted:!Y.visible},Y.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const ue=Bn;(function(c,i){const a=Bn,r=c();for(;;)try{if(parseInt(a(430))/1*(-parseInt(a(409))/2)+-parseInt(a(470))/3+parseInt(a(403))/4+parseInt(a(443))/5*(parseInt(a(378))/6)+-parseInt(a(433))/7+parseInt(a(396))/8+parseInt(a(394))/9*(parseInt(a(372))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(R0,576991);const cm=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Bn;if(a){const f=a[o(365)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Cx=cm(void 0,function(){const c=Bn;return Cx[c(366)]().search(c(469))[c(366)]().constructor(Cx).search(c(469))});function Bn(c,i){c=c-357;const a=R0();let r=a[c];if(Bn.jaqlKE===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Bn.OhBwGn=o,Bn.oBFxqs={},Bn.jaqlKE=!0}const f=a[0],h=c+f,g=Bn.oBFxqs[h];if(g)r=g;else{const m=function(d){this.jlYYcG=d,this.PahxIz=[1,0,0],this.iOOTcW=function(){return"newState"},this.wNrTQp="\\w+ *\\(\\) *{\\w+ *",this.HsLvwj=`['|"].+['|"];? *}`};m.prototype.oBSyVi=function(){const d=new RegExp(this.wNrTQp+this.HsLvwj),p=d.test(this.iOOTcW.toString())?--this.PahxIz[1]:--this.PahxIz[0];return this.WBNygN(p)},m.prototype.WBNygN=function(d){return~d?this.aTYfIk(this.jlYYcG):d},m.prototype.aTYfIk=function(d){for(let p=0,S=this.PahxIz.length;p<S;p++)this.PahxIz.push(Math.round(Math.random())),S=this.PahxIz.length;return d(this.PahxIz[0])},new m(Bn).oBSyVi(),r=Bn.OhBwGn(r),Bn.oBFxqs[h]=r}return r}Cx();const Wd={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},Jd={adult:ue(397),child:""},Qd={right:"",left:"",back:ue(444)},um=["M 0 0","C 15 -2, 38 -5, 55 5",ue(370),"C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 65 80, 68 85, 74 90",ue(419),"C 83 101, 78 103, 72 105",ue(472),"C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131",ue(436),ue(371),ue(395),ue(438),"C -17 249, -25 259, -33 269",ue(426),"L -125 280","C -112 260, -96 242, -82 226","C -68 212, -56 200, -48 190",ue(407),ue(385),ue(406),ue(386),ue(449),"C -70 52, -66 48, -62 44","C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"][ue(468)](" "),xm=["M 0 0","C 20 0, 44 6, 58 20","C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",ue(398),ue(393),ue(465),ue(461),ue(380),"C 58 240, 74 258, 92 280",ue(432),"C -74 258, -58 240, -48 228",ue(415),ue(412),ue(420),"C -82 128, -84 122, -84 116",ue(425),"C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20",ue(379),"Z",ue(381),ue(388),ue(362),"C 46 126, 40 136, 30 142",ue(437),"C -10 150, -20 148, -30 142",ue(364),ue(428),ue(359),"Z"].join(" "),sm=["M 0 0","C 14 -4, 36 -4, 48 4","C 55 10, 60 22, 63 36",ue(455),ue(401),ue(360),ue(369),ue(464),ue(452),ue(422),"C 50 111, 44 116, 38 120","C 32 125, 28 131, 26 139","C 22 151, 14 167, -2 183",ue(456),ue(473),ue(383),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158",ue(418),"C -48 126, -56 116, -62 106","C -68 96, -70 84, -66 74","C -62 64, -56 54, -50 44",ue(367),ue(384),"Z"][ue(468)](" "),om=[ue(434),"C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68","C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ue(435),ue(440),"C 60 214, 66 228, 70 240","L -70 240","C -66 228, -60 214, -55 202","C -32 166, -30 152, -38 140","C -44 130, -54 120, -60 112",ue(361),ue(416),"C -64 52, -60 38, -52 26",ue(390),"Z","M 46 26",ue(466),"C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",ue(389),"C 43 32, 44 28, 46 26","Z",ue(410),ue(368),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"][ue(468)](" "),fm=[ue(434),ue(448),"C 65 12, 72 26, 76 42","C 78 52, 77 60, 74 66","C 72 69, 69 72, 66 76","C 48 74, 20 64, -8 58",ue(462),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0",ue(404),"Z","M -40 142",ue(406),ue(386),ue(449),ue(373),"C -58 50, -54 58, -50 70",ue(457),"L -40 142","Z"].join(" "),dm=[ue(434),ue(421),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",ue(398),ue(393),"C 62 142, 42 152, 20 158","C 8 160, -8 160, -20 158",ue(377),ue(411),ue(425),"C -83 86, -82 74, -80 62",ue(402),ue(379),"Z","M 0 70","C 16 66, 34 70, 42 82","C 48 90, 50 104, 48 116","C 46 126, 40 136, 30 142",ue(437),"C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116","C -50 104, -48 90, -42 82",ue(359),"Z"][ue(468)](" "),hm=[ue(434),ue(423),"C 55 10, 60 22, 63 36",ue(455),"C 44 54, 16 48, -10 46","C -28 46, -40 44, -50 44","C -44 34, -38 22, -30 14",ue(384),"Z",ue(463),"C -48 126, -56 116, -62 106",ue(460),"C -62 64, -56 54, -50 44",ue(459),ue(445),ue(453),"Z"].join(" "),mm=["M 0 0",ue(399),ue(450),"C 64 78, 66 86, 66 94","C 66 100, 64 106, 60 112",ue(382),ue(446),ue(408),"C -64 106, -66 100, -66 94",ue(416),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z",ue(414),ue(466),ue(427),ue(391),"C 42 62, 40 50, 42 38","C 43 32, 44 28, 46 26","Z","M -46 26","C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62",ue(376),ue(374),ue(413),"Z"][ue(468)](" ");function bm(c,i){const a=ue,r={ASlbF:"right",gWvKz:function(f,h){return f===h},FnTtu:a(431),tDOlW:function(f,h){return f===h},tMyQe:a(451)},o=i===r[a(429)]||r[a(392)](i,r.FnTtu);return r.tDOlW(c,r.tMyQe)?o?um:xm:o?sm:om}function vm(c,i){const a=ue,r={qultd:"right",jptxC:function(f,h){return f===h},gGcHK:a(451)},o=i===r[a(424)]||r[a(447)](i,a(431));return c===r.gGcHK?o?fm:dm:o?hm:mm}const gm={right:"/tsumami/"+ue(405),left:ue(471)+"stencils/adult_left.png",back:"/tsumami/stencils/adult_back.png"},ym={right:"/tsumami/"+ue(454),left:ue(471)+"stencils/child_left.png",back:"/tsumami/"+ue(358)},pm={adult:gm,child:ym};function R0(){const c=["mJGXnteXtgvcthvs","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","otuZnZiWru5vzwDU","5OIq5lQ65AwZ5OcN","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaXocaXlca0mcaXmcWGntiGmJy","BKjHsLC","qYa2mIa2mcWGntKGnJqSidu3idy4","qYaTnZyGndqSic02ocaZmcWGltu4idiW","mti2mJm0meP4vhbJqq","qYaTncaTmsWGlteGlteSidaGma","C3rLBMnPBhmVywr1BhrFCMLNAhqUCg5N","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","qYaTndyGmte4lcaTnJaGmteYlcaTnJaGmteY","mteXnJGYuMXeqLHn","tsaTndyGmJy","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTmZiGmtGWlcaTmZGGmtCYlcaTndGGmtyY","qYaTndmGmZiSic00ncaYocWGltq2idi2","tsa0nIaYnG","qYaTmZqGmJeYlcaTmJGGmtK4lcaTmZaGmtG4","qYaTnJyGodySic02nca3ocWGlty0idy4","y0LIsNe","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","qYa3oca5mYWGodiGotySidGZidK5","qYaTnJaGmtuYlcaTnZiGmtqYlcaTnZGGmtm0","qYaYmcaWlca0nca2lca1ocaYma","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaXncaTncWGmZyGltqSidq4idq","CxvSDgq","qYaTodqGmteWlcaTodeGmta0lcaTodiGotG","tcaTmZyGmJGW","qYa3oca0mcWGnZGGntqSidCYidyY","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","qvnSyKy","mvnND0TcCq","BgvMDa","tcaTotiGmJGW","ntm3odu4m3vuAxD1Aq","tsaWida","qYa1ncaXmJaSidq0ideZmcWGmZGGmtqW","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaXnsaYmdySiduGmJiXlcaTosaYmZK","CKfquKW","qYaZmcaXntiSidmYide2nIWGntuGmJaY","yMfJAW","D2LKDgG","nde1thHctMfd","5B6m44kn5zcr44gn","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaWideYnYWGlteYideYnIWGlti2ideYna","ANb0Eem","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTodGGnZiSic04nca2mIWGltC2idu2","qYa2mcaZocWGnJqGntiSidy0idy4","ywr1Bhq","qYa1nYa5msWGntCGotmSidu5idK1","tcaTndaGmtm0","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYa2nca0ncWGnJqGntaSidyZidu2","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTndyGodySic00mIaXmdySic00mcaXmJy","CMLNAhq","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYaTnJGGotySic03mca4ncWGlty2idC0","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaTmZaGntqSic00oca0ocWGltyYidq0","tsaTndaGmtm0","qYa2nIa4nIWGnJiGodGSidu4idKW","qYa3mIaXndiSidyWide1mIWGndGGmtyY","qYa1ncaYmcWGnJyGmJiSidCYidmY","B2PQAeC","AM9PBG","kcGOlISPkYKRksSK","mtq3odu5nw5brNDvuq","l3rZDw1HBwKV","qYa3mcaXmdySidCWideWocWGnZmGmteW","tcaTmZaGmJqW","AgvPz2H0","C3rLBMnPBhmVy2HPBgrFyMfJAY5WBMC","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYa1nYa3msWGntKGnZuSidyZidC5","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","qYa0oca5mcWGntaGmta0lca0ocaXmty","sM9gBK4","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","yxbWBhK","Dg9tDhjPBMC","qYaTndqGmZqSic0ZocaYmIWGltmWide0","qYaTntqGmJaSic02nIaYmIWGltCYidmY","qYa2nsa4msWGnJyGodmSidy2idG1","qYa2nsaXmIWGnZiGmJySidC2idqY","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","mZeWt3HNCerL","qYaTnZaGntiSic02nIa0ocWGltyYidq0","qYaTndiGnJiSic00mca1mcWGltqYidm4","zeTpsNO","qYaTnJyGnJGSic01nIa3mcWGltq4idy2","qYaTndiGmtuYlcaTnJiGmtqYlcaTnZGGmtm0","mZuZotr5v2jPtKi","qYaTndqGnIWGltiWidaSidaGma","qYaYocaXotGSidm0idiXmIWGndGGmJi4","tsaWidCW","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","tcaTmtaWidi0ma","qYaTmJiGnIWGlteWideSidaGma","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","qYaTodaGmta4lcaTodGGotySic04oca4na","y3PWwMK","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTndaGmtaSic0XocaXlcaWida","qYa2nIa2ocWGntyGnZaSidq4idy2","z1D2s3O","qYa4ncaXmJiSidGYideYocWGnZGGmtm0"];return R0=function(){return c},R0()}function _m(c,i){const a=ue,r={JoFnN:function(g,m){return g===m},nBaJW:a(458),rAPRL:"left",LYcFw:"side",IEPiF:a(441),ojjhG:function(g,m,d){return g(m,d)}},o=r.JoFnN(i,r[a(400)])||r[a(363)](i,r[a(439)])?r.LYcFw:r.IEPiF,f=Wd[c][o],h=pm[c]?.[i]??null;return{path:r[a(467)](bm,c,i),hairPath:vm(c,i),scaleX:i===r.rAPRL?-1:1,imageUrl:h,imageWidthMm:f[a(442)],imageHeightMm:f[a(357)]}}(function(c,i){const a=qn,r=c();for(;;)try{if(-parseInt(a(421))/1+parseInt(a(426))/2+parseInt(a(449))/3*(-parseInt(a(424))/4)+parseInt(a(462))/5+parseInt(a(445))/6+-parseInt(a(390))/7+-parseInt(a(422))/8*(parseInt(a(434))/9)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(k0,501802);function qn(c,i){c=c-384;const a=k0();let r=a[c];if(qn.YGRoFo===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};qn.xIkjxe=o,qn.nzIvFp={},qn.YGRoFo=!0}const f=a[0],h=c+f,g=qn.nzIvFp[h];if(g)r=g;else{const m=function(d){this.cVjOac=d,this.JLrCJS=[1,0,0],this.zTrwje=function(){return"newState"},this.JQceSc="\\w+ *\\(\\) *{\\w+ *",this.jHmKZe=`['|"].+['|"];? *}`};m.prototype.tqwmVj=function(){const d=new RegExp(this.JQceSc+this.jHmKZe),p=d.test(this.zTrwje.toString())?--this.JLrCJS[1]:--this.JLrCJS[0];return this.mzYWLy(p)},m.prototype.mzYWLy=function(d){return~d?this.FBltna(this.cVjOac):d},m.prototype.FBltna=function(d){for(let p=0,S=this.JLrCJS.length;p<S;p++)this.JLrCJS.push(Math.round(Math.random())),S=this.JLrCJS.length;return d(this.JLrCJS[0])},new m(qn).tqwmVj(),r=qn.xIkjxe(r),qn.nzIvFp[h]=r}return r}const Sm=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),jx=Sm(void 0,function(){const c=qn,i={WLKWD:"(((.+)+)+)+$"};return jx[c(440)]().search("(((.+)+)+)+$").toString()[c(452)](jx).search(i.WLKWD)});jx();const rx=520;function Yd(c,i,a,r,o,f,h){const g=qn,m={mgrKm:function(p,S){return p-S},IAGsY:function(p,S){return p/S},OvVXR:function(p,S){return p*S},TTSOR:function(p,S){return p+S}},d=m.mgrKm(m.IAGsY(r,a),1);return{x:h.x-m[g(450)](d,-h.x+c*o),y:h.y-d*m[g(386)](-h.y,i*f)}}function Cm(c){const i=qn,a={vGrFc:"NSXJO",uxDks:function(z,M){return z/M},dRgRb:function(z,M){return z+M},szBfy:function(z,M){return z/M},iOjyH:function(z,M,w,T){return z(M,w,T)},tKPOI:function(z,M){return z(M)},UtKLu:function(z,M){return z*M},VmqzR:function(z,M){return z-M},LVjVk:function(z,M){return z+M},SgeRE:function(z,M){return z!==M},XFMZm:function(z,M){return z-M},GFRTS:function(z,M){return z*M},cCBBk:function(z,M){return z/M},WwBJQ:function(z,M){return z+M},AivLr:function(z,M){return z*M},UxdXc:function(z,M){return z(M)},IScXX:i(411),yvKcu:function(z,M){return z(M)},EIFjm:i(402),cPYZv:function(z){return z()},DAopj:function(z){return z()},McHvH:function(z){return z()},OMvUw:function(z,M){return z/M},tJFcG:function(z,M){return z+M},gmaKl:function(z,M){return z-M},JMhWK:function(z,M){return z-M},uSbQG:function(z,M){return z/M},GIurb:function(z,M){return z*M},alOnS:function(z,M){return z-M},xufyZ:function(z,M){return z+M},XHupD:function(z,M){return z+M},bZClG:function(z,M){return z-M},elhGr:function(z,M){return z-M},ANbdh:function(z,M){return z+M},YoJbk:function(z,M){return z*M},MeLPH:function(z,M){return z<M},Tlbil:function(z,M){return z!==M},Dzfge:function(z,M){return z*M},YCIQx:function(z,M){return z-M},gBYDv:function(z,M,w,T,G,K,R,N){return z(M,w,T,G,K,R,N)},npNvf:"touchend",wexIK:i(453),wFOiO:"wheel",ndubN:function(z){return z()},oOsBG:function(z){return z()},RoZbT:function(z,M){return z/M},Jcvcr:function(z,M){return z+M},IMlDd:function(z,M,w,T){return z(M,w,T)},TdBep:function(z,M){return z===M},GynVY:i(439),SEYBk:i(455),OUxef:function(z,M,w){return z(M,w)},yyMLW:function(z,M){return z(M)}},{setZoom:r,setPan:o,setZoomLevel:f,ZOOM_LEVELS:h,stageRef:g,endPan:m,endFlowerDrag:d,endMarquee:p,endRotationDrag:S,endScaleDrag:A,endWidthScaleDrag:b,endRadiusDrag:D}=c,j=a.yvKcu(F.useRef,null),C=F.useRef(c.pan),E=F.useRef(c[i(401)]);a.OUxef(F.useEffect,()=>{const z=i;z(461)===a[z(406)]?_0x3706c7.current=_0x5458f6.pan:C.current=c.pan},[c.pan]),F.useEffect(()=>{const z=i;E[z(408)]=c.zoom},[c.zoom]);const q=a.yyMLW(F.useRef,c[i(394)]);a.OUxef(F.useEffect,()=>{const z=i;if(a[z(399)]!==a.IScXX){if(_0x57d10e.touches[z(388)]===2&&_0x2be721[z(408)]){_0x425e11[z(425)]();const M=_0x378a67[z(397)][0],w=_0x42dff9[z(397)][1],T=a[z(413)](a.dRgRb(M.clientX,w.clientX),2),G=a[z(460)](M.clientY,w[z(385)])/2,K=_0x22ba6e[z(447)](w[z(448)]-M[z(448)],w.clientY-M.clientY),R=_0x16acf5.current,N=a[z(444)](K,_0x3bb355[z(392)](1,R.initialDist)),B=a[z(456)](_0x36f1e8,a.tKPOI(_0x11bac2,a[z(442)](R.initialZoom,N).toFixed(3)),_0x34da0d[0],_0x152ebe[_0x52d974.length-1]),U=R[z(414)],W=a[z(431)](T,R.initialCenter.x),le=G-R[z(437)].y;let se=a.LVjVk(R[z(395)].x,W),oe=R[z(395)].y+le;const fe=_0x271fc7[z(408)];if(fe&&a[z(463)](U,B)){const me=fe[z(412)](),ve=(R.initialCenter.x-me.left)/me[z(409)],qe=a.uxDks(a[z(396)](R.initialCenter.y,me.top),me[z(433)]),Ge=me.width/me.height,Ze=_0xf87c3,Ue=Ze*Ge,ht=a.GFRTS(a.cCBBk(B,U)-1,-R.initialPan.x+ve*Ue),zt=(a.cCBBk(B,U)-1)*a.WwBJQ(-R[z(395)].y,a[z(451)](qe,Ze));se-=ht,oe-=zt}const he={x:se,y:oe};_0x3843c1[z(408)]=B,_0x30dd59.current=he,_0x322b0c(he),a[z(420)](_0x47545c,B)}}else q[z(408)]=c[z(394)]},[c[i(394)]]);const k=F.useRef(null),H=F.useRef(null),Z=a.OUxef(F.useCallback,z=>{const M=i;if(z[M(397)][M(388)]===2)if(a[M(435)]===a.EIFjm){z.preventDefault(),m(),a.cPYZv(d),p(),S(),A(),a[M(417)](b),a.McHvH(D),k[M(408)]=null,H[M(408)]=null;const w=z.touches[0],T=z[M(397)][1],G=a[M(443)](a.LVjVk(w.clientX,T[M(448)]),2),K=a[M(465)](w[M(385)],T.clientY)/2,R=Math.hypot(T.clientX-w.clientX,a.gmaKl(T[M(385)],w[M(385)]));j.current={initialCenter:{x:G,y:K},initialDist:R,initialPan:{...C.current},initialZoom:E[M(408)]}}else{a[M(441)](_0x1de74e,_0x2117d6);return}},[m,d,p,S,A,b,D]),J=F.useCallback(z=>{const M=i;if(z.touches.length===2&&j.current){z[M(425)]();const w=z.touches[0],T=z.touches[1],G=a.szBfy(w[M(448)]+T.clientX,2),K=a.uxDks(w.clientY+T.clientY,2),R=Math.hypot(a[M(403)](T[M(448)],w[M(448)]),T[M(385)]-w[M(385)]),N=j[M(408)],B=a.uSbQG(R,Math.max(1,N.initialDist)),U=we(Number(a[M(429)](N.initialZoom,B)[M(410)](3)),h[0],h[h.length-1]),W=N[M(414)],le=a.alOnS(G,N[M(437)].x),se=K-N.initialCenter.y;let oe=a.xufyZ(N.initialPan.x,le),fe=a[M(407)](N.initialPan.y,se);const he=g[M(408)];if(he&&W!==U){const ve=he.getBoundingClientRect(),qe=a[M(443)](a[M(396)](N[M(437)].x,ve[M(398)]),ve.width),Ge=(N.initialCenter.y-ve[M(464)])/ve.height,Ze=ve[M(409)]/ve.height,Ue=rx,ht=Ue*Ze,zt=a[M(387)](a.szBfy(U,W),1)*a.tJFcG(-N.initialPan.x,qe*ht),Lt=a[M(400)](a.OMvUw(U,W),1)*(-N[M(395)].y+Ge*Ue);oe-=zt,fe-=Lt}const me={x:oe,y:fe};E.current=U,C.current=me,a[M(441)](o,me),r(U)}},[o,r,g,h]),Y=F.useCallback(z=>{const M=i;if(a.MeLPH(z.touches[M(388)],2))if(a.Tlbil(M(416),"LfbfD")){const w=cYlyCk[M(432)](_0x576696,_0x413ee2)-1;return{x:cYlyCk[M(454)](_0x416f0b.x,w*cYlyCk[M(393)](-_0x51e10d.x,_0x30ca4c*_0x12202a)),y:cYlyCk.clYMR(_0x30c181.y,cYlyCk.IwnNz(w,-_0x5cd32d.y+cYlyCk.DyZga(_0x23a38d,_0x5e0592)))}}else j[M(408)]=null},[]),V=.003,$=F.useCallback(z=>{const M=i;z.preventDefault();const w=g[M(408)];if(!w)return;const T=E.current,G=a.Dzfge(T,Math[M(423)](-z[M(430)]*V)),K=a[M(456)](we,G,h[0],h[h.length-1]);if(Math.abs(a.YCIQx(K,T))<1e-6)return;const R=w[M(412)](),N=a[M(400)](z.clientX,R.left)/R.width,B=a.szBfy(z.clientY-R[M(464)],R.height),U=a.uxDks(R[M(409)],R.height),W=rx,le=W*U,se=a.gBYDv(Yd,N,B,T,K,le,W,C[M(408)]);E[M(408)]=K,C[M(408)]=se,r(K),a[M(438)](o,se)},[r,o,g,h]);F.useEffect(()=>{const z=i,M={EFATf:a.npNvf},w=g.current;if(w)return w[z(405)](a.wexIK,Z,{passive:!1}),w.addEventListener(z(389),J,{passive:!1}),w.addEventListener("touchend",Y),w.addEventListener(a.wFOiO,$,{passive:!1}),()=>{const T=z;w.removeEventListener(T(453),Z),w[T(427)]("touchmove",J),w.removeEventListener(M.EFATf,Y),w[T(427)](T(446),$)}},[g,Z,J,Y,$]);const P=F.useCallback(z=>{const M=i,w=q.current,T=a[M(436)](we,a[M(428)](w,z),0,h.length-1);if(a.TdBep(T,w))return;const G=E[M(408)],K=h[T],R=g.current;if(!R)if(a[M(415)](a[M(457)],a.SEYBk)){_0x2b1251.preventDefault(),a.ndubN(_0x5981b7),_0xe75f2c(),a[M(458)](_0x2f9807),_0xe16362(),a[M(459)](_0x385d04),a[M(419)](_0x43e034),_0x3f5745(),_0x123b8d[M(408)]=null,_0x3bbb15.current=null;const se=_0x1971a9[M(397)][0],oe=_0x53cfe0.touches[1],fe=a.RoZbT(se[M(448)]+oe[M(448)],2),he=a.OMvUw(a[M(384)](se.clientY,oe[M(385)]),2),me=_0x4d4c4f.hypot(a[M(431)](oe.clientX,se.clientX),oe.clientY-se.clientY);_0x381096[M(408)]={initialCenter:{x:fe,y:he},initialDist:me,initialPan:{..._0x1a9cee[M(408)]},initialZoom:_0x2b4e05.current}}else{a.tKPOI(f,T);return}const N=R.getBoundingClientRect(),B=N.width/N.height,U=rx,W=U*B,le=a[M(466)](Yd,.5,.5,G,K,W,U,C[M(408)]);E[M(408)]=K,q.current=T,C.current=le,a.yvKcu(f,T),o(le)},[f,o,g,h]),I=F.useCallback((z,M)=>{const w=i;{const T=w(391)[w(418)]("|");let G=0;for(;;){switch(T[G++]){case"0":q[w(408)]=z;continue;case"1":f(z);continue;case"2":o({x:0,y:0});continue;case"3":E[w(408)]=M;continue;case"4":C.current={x:0,y:0};continue}break}}},[f,o]),y=F.useCallback(z=>{const M=i;k[M(408)]=z},[]),v=F.useCallback(z=>{const M=i;H[M(408)]=z},[]);return{multiTouchRef:j,touchBgStartRef:k,mouseBgStartRef:H,zoomAtCenter:P,resetView:I,setTouchBgStart:y,setMouseBgStart:v}}function k0(){const c=["Dg91y2HTB3zL","mJaZnZC4nhf5ExfnqG","mhWZFdr8mxWY","Bwf4","zuzNq1q","EM9VBuXLDMvS","Aw5PDgLHBfbHBG","weznwM0","Dg91y2HLCW","BgvMDa","svnJwfG","zwXOr3i","EM9VBq","zfjYsfy","sK1Ov0S","ww9kyMS","ywrKrxzLBNrmAxn0zw5LCG","DKDYrMm","weH1Ceq","y3vYCMvUDa","D2LKDgG","Dg9gAxHLza","v0X5vwK","z2v0qM91BMrPBMDdBgLLBNrszwn0","DxHeA3m","Aw5PDgLHBfPVB20","vgrczxa","tgzIzKq","refVCgO","C3bSAxq","B09ZqKC","vxHKwgm","nZGXoteWAfrWu1fb","mZm3nLPnyNn2sG","zxHW","ng5oy1vgsa","ChjLDMvUDerLzMf1Bhq","mtuYnZe1mhncs0DIvq","CMvTB3zLrxzLBNrmAxn0zw5LCG","tfzQvMS","r0L1CMi","zgvSDgfz","vM1XELi","qLzxDhu","AgvPz2H0","mJq5m1vMDMLHqG","ruLgAM0","su1Srgq","Aw5PDgLHBenLBNrLCG","DeTqt0K","rfbWvLC","Dg9tDhjPBMC","Exzly3u","vxrlthu","t012vxC","C3PczNK","mtG4nte0mfjVELPxzq","D2HLzwW","AhLWB3q","y2XPzw50wa","odC2ndK4wMXft1HU","t3zwwfi","qwL2thi","y29UC3rYDwn0B3i","Dg91y2HZDgfYDa","y2Xztvi","tu1xsgG","Au9QEuG","r3LUvLK","BMr1yK4","twniDKG","zfjNuMi","v0vgz1a","nduZmdu5nuvPvwXRsW","u2DLuKu","Dg9W","DePgy0C","z0jzrhy","sMn2y3i","y2XPzw50wq","vfrtt1i","yLPdBeC","BgvUz3rO"];return k0=function(){return c},k0()}function li(c,i){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),r=parseInt(c.slice(3,5),16),o=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(r)||isNaN(o))return c;const f=1-i;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(r*f).toString(16).padStart(2,"0")}${Math.round(o*f).toString(16).padStart(2,"0")}`}function jm(c){const{flower:i,project:a,paletteMap:r}=c,o=F.useRef(null),f=F.useRef(!1),h=F.useRef(null);F.useEffect(()=>()=>{o.current&&clearTimeout(o.current)},[]);const g=F.useMemo(()=>[...i.layers||[]].sort((q,k)=>q.order-k.order),[i.layers]),m=i.fabricSquareSize??a.fabricSquareSize,{length:d,width:p}=Yt(m),{flowerOuterR:S,centerHitR:A}=F.useMemo(()=>{let q=12,k=1/0;for(const Z of g){if(!Z.visible)continue;const J=Z.scale??1,Y=d*J,$=Math.max(0,Z.radius-Y*.28),P=$+Y;q=Math.max(q,P),$<k&&(k=$)}isFinite(k)||(k=0);const H=Math.max(k*.9,8);return{flowerOuterR:q,centerHitR:H}},[g,d]),b=(q,k)=>q?.petalOverrides?.find(H=>H.index===k)??null,D="pointer",j=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,C=c.zoneCursorValue??"grab",E=q=>{if(q.stopPropagation(),q.button===0){if(q.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(q)}};return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:q=>{q.stopPropagation(),c.onDoubleClick?.()},style:{cursor:j?C:ar("/tsumami/")},"data-testid":`flower-${i.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),g.map(q=>{if(!q.visible)return null;const H=r.get(q.colorId)?.hex??"#999",Z=360/Math.max(1,q.petalCount),J=q.scale??1,Y=d*J,$=p*(q.widthScale??1)*J,I=Math.max(0,q.radius-Y*.28),y=sx(""),v=sx(""),z=I+Y,M=c.isSelected&&c.selectedLayerId===q.id,w=c.isSelected&&(c.selectedPetal?.layerId===q.id||(c.selectedPetals?.some(T=>T.layerId===q.id)??!1));return x.jsxs("g",{children:[Array.from({length:q.petalCount}).map((T,G)=>{const K=b(q,G),N=(K?.petalType??q.petalType)===""?y:v,B=r.get(K?.colorId??q.colorId)?.hex??H,U=q.offsetAngle+G*Z,W=va(U),le=Math.cos(W)*I,se=Math.sin(W)*I,oe=c.isSelected&&c.selectedPetal?.layerId===q.id&&c.selectedPetal?.index===G,fe=c.isSelected&&(c.selectedPetals?.some(ve=>ve.layerId===q.id&&ve.index===G)??!1),he=oe||fe,me=j?C:ar("/tsumami/");return x.jsxs("g",{transform:`translate(${le} ${se}) rotate(${U})`,children:[x.jsx("path",{d:N,transform:`scale(${Y} ${$})`,fill:B,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,style:{cursor:me},onPointerDown:ve=>{if(ve.stopPropagation(),ve.button!==0)return;const qe=ve.shiftKey,Ge=ve.pointerType==="touch";if(o.current&&(clearTimeout(o.current),o.current=null),f.current=!1,qe&&c.onTogglePetalSelection){ve.preventDefault(),ve.stopPropagation(),c.onTogglePetalSelection(q.id,G,!0);return}if(Ge&&c.onTogglePetalSelection){h.current={x:ve.clientX,y:ve.clientY};const zt=q.id,Lt=G;o.current=window.setTimeout(()=>{f.current=!0,o.current=null,c.onTogglePetalSelection?.(zt,Lt,!0),navigator.vibrate?.(30)},500)}const Ze=c.isSelected&&c.selectedLayerId!=null,Ue=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ze||Ue){c.onBeginDragFromLayerPetal(q.id,G,ve);return}c.onBeginDragFromLayerPetal(q.id,G,ve)},onPointerMove:ve=>{if(o.current&&h.current){const qe=ve.clientX-h.current.x,Ge=ve.clientY-h.current.y;Math.hypot(qe,Ge)>10&&(clearTimeout(o.current),o.current=null)}},onPointerUp:()=>{o.current&&(clearTimeout(o.current),o.current=null)},onDoubleClick:ve=>{ve.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(q.id)}}),q.doublePetal&&(()=>{const ve=q.doublePetal,qe=K?.innerSizeReduction??ve.innerSizeReduction??2,Ge=m*(J||1);if(Ge<=0)return null;const Ue=Math.max(Ge*.3,Ge-qe)/Ge,ht=N,zt=K?.innerColorId??ve.innerColorId??K?.colorId??q.colorId,Lt=r.get(zt)?.hex??B,mt=Y*Ue,Zt=$*Ue;return x.jsx("path",{d:ht,transform:`scale(${mt} ${Zt})`,fill:Lt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:q.locked?.55:.95,pointerEvents:"none"})})(),(he||M||c.isFlowerSelected)&&x.jsx("path",{d:N,transform:`scale(${Y} ${$})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${q.id}-${G}`)]},G)}),M&&!w&&x.jsx("circle",{r:z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},q.id)}),c.isFlowerSelected&&x.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),i.center?(()=>{const q=i.center,k=Ah(q.size),H=r.get(q.color)?.hex??"#D4A843",Z=q.color2?r.get(q.color2)?.hex??"#C0C0C0":"#D4A843",J=Math.max(k,A);switch(q.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:k,fill:H,stroke:li(H,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:J,fill:"transparent",style:{cursor:D},onPointerDown:E})]});case"":{const V=k*.42,$=k,P=k*.12,I=k*.13,y=k*.45,v=Z,z=H;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((M,w)=>{const T=w/10*360,G=va(T),K=Math.cos(G)*$,R=Math.sin(G)*$,N=-Math.sin(G)*P,B=Math.cos(G)*P,U=Math.cos(G)*V,W=Math.sin(G)*V;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(U+N).toFixed(2)} ${(W+B).toFixed(2)} L ${K.toFixed(2)} ${R.toFixed(2)} L ${(U-N).toFixed(2)} ${(W-B).toFixed(2)} Z`,fill:v,stroke:li(v,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:K,cy:R,r:I,fill:v,stroke:li(v,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},w)}),x.jsx("circle",{r:V,fill:v,stroke:li(v,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:y,fill:z,stroke:li(z,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:J,fill:"transparent",style:{cursor:D},onPointerDown:E})]})}case"":{const Y=q.pepCount??12,V=k*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:Y}).map(($,P)=>{const I=P/Y*360,y=va(I),v=Math.cos(y)*k,z=Math.sin(y)*k;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:v,y2:z,stroke:H,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:v,cy:z,r:Math.max(V,1),fill:H,stroke:li(H,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},P)})}),x.jsx("circle",{r:J,fill:"transparent",style:{cursor:D},onPointerDown:E})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:E})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:A,fill:"transparent",style:{cursor:D},onPointerDown:E})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const q=g.find(V=>V.id===c.selectedLayerId);if(!q||!q.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const H=q.scale??1,Z=d*H,Y=Math.max(0,q.radius-Z*.28);return Y<=0?null:x.jsx("circle",{r:Y,fill:"none",stroke:"#111",strokeWidth:1.2,strokeDasharray:"3 2",className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.7,vectorEffect:"non-scaling-stroke",pointerEvents:"none"},`inner-dash-${c.dashSyncToken??0}-${q.id}`)})(),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,S+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function wm(c){const{leaf:i,project:a,paletteMap:r}=c,o=i.fabricSquareSize??a.fabricSquareSize,{length:f,width:h}=Yt(o),g=i.scale??1,m=f*g,d=h*(i.widthScale??1)*g,p=sx(i.petalType),S=r.get(i.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${i.position.x} ${i.position.y}) rotate(${i.rotation})`,style:{cursor:i.locked?"not-allowed":c.cursor??ar("/tsumami/")},"data-testid":`leaf-${i.id}`,onPointerDown:A=>{if(A.stopPropagation(),A.button===0&&!i.locked){if(A.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(A)}},children:[x.jsx("path",{d:p,transform:`scale(${m} ${d})`,fill:S,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:i.visible?.95:.3,pointerEvents:i.visible?void 0:"none"}),i.doublePetal&&(()=>{const A=i.doublePetal,b=A.innerSizeReduction??2,D=o*(g||1);if(D<=0)return null;const C=Math.max(D*.3,D-b)/D,E=A.innerColorId??i.colorId,q=r.get(E)?.hex??S,k=m*C,H=d*C;return x.jsx("path",{d:p,transform:`scale(${k} ${H})`,fill:q,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:i.locked?.55:.95,pointerEvents:"none"})})(),(c.isSelected||c.isLeafGroupHighlighted)&&x.jsx("path",{d:p,transform:`scale(${m} ${d})`,fill:"none",stroke:c.isSelected?"#111":"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:c.isSelected?1.6:1.2,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${i.id}`)]})}const G0=1350;function Mm(c){const{stencils:i,selectedStencilId:a,selection:r,stageRef:o,applyUpdateRef:f,clientToSvgPointRef:h,stencilDraggingRef:g,onSelectStencil:m}=c,d=F.useRef(null);F.useEffect(()=>()=>{d.current?.()},[]);const p=r.kind==="flower"||r.kind==="layer"||r.kind==="petal"||r.kind==="petals";return x.jsx(x.Fragment,{children:i.map(S=>{const A=_m(S.variant,S.pose),b=a===S.id,D=rn,j=A.imageUrl?1:A.scaleX,C=p||!!S.locked;return x.jsx("g",{transform:`translate(${S.position.x} ${S.position.y}) scale(${D*j} ${D})`,style:{cursor:p?"default":S.locked?"pointer":tm("/tsumami/"),pointerEvents:p?"none":"auto"},"data-testid":`stencil-${S.id}`,onPointerDown:E=>{if(E.button!==0)return;if(C){m(S.id);return}if(E.stopPropagation(),m(S.id),!o.current)return;g.current=!0,o.current&&(o.current.style.cursor=nm("/tsumami/"));const k=h.current(E),H={...S.position},Z=S.id;let J=H.x,Y=H.y;const V=P=>{const I=h.current(P),y=I.x-k.x,v=I.y-k.y;J=we(H.x+y,0,G0),Y=we(H.y+v,0,G0),f.current(z=>{const M=(z.stencils??[]).find(w=>w.id===Z);M&&(M.position.x=J,M.position.y=Y)},!1)},$=()=>{g.current=!1,o.current&&(o.current.style.cursor=""),document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",$),d.current=null,f.current(P=>{const I=(P.stencils??[]).find(y=>y.id===Z);I&&(I.position.x=J,I.position.y=Y)},!0)};document.addEventListener("pointermove",V),document.addEventListener("pointerup",$),d.current=()=>{g.current=!1,document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",$)}},children:A.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:A.imageUrl,x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-A.imageWidthMm/2,y:0,width:A.imageWidthMm,height:A.imageHeightMm,fill:"transparent",stroke:b?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:A.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:A.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),b&&x.jsx("path",{d:A.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},S.id)})})}function zm(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:h,dashSyncToken:g,stageRef:m,multiTouchRef:d,clientToSvgPoint:p,togglePetalSelection:S,handleShiftFlowerSelect:A,groupHighlightedFlowerIds:b,beginFlowerDrag:D,beginScaleDrag:j,beginRotationDrag:C,beginWidthScaleDrag:E,beginRadiusDrag:q,clickOriginRef:k,zoneActivatedRef:H,setZoneCursorValue:Z,setTouchZoneIndicator:J,hoverZoneRef:Y,hoverHitLayerIdRef:V,hoverHitPetalIndexRef:$}=c;return x.jsx(x.Fragment,{children:i.flowers.map(P=>x.jsx(jm,{flower:P,project:i,paletteMap:o,isSelected:a.kind!=="project"&&f===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===P.id?a.petals:null,onSelect:()=>{const I=ba(i,P.id);if(I&&!(a.kind==="group"&&a.groupId===I.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&I.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:I.id});return}r({kind:"flower",flowerId:P.id})},onSelectLayer:I=>r({kind:"layer",flowerId:P.id,layerId:I}),onSelectPetal:(I,y)=>r({kind:"petal",flowerId:P.id,layerId:I,index:y}),onTogglePetalSelection:(I,y,v)=>S(P.id,I,y,v),onShiftSelect:()=>A(P.id),isGroupHighlighted:b.has(P.id),zoneCursorValue:h,onBeginDragFromLayerPetal:(I,y,v)=>{if(d.current)return;const z=ba(i,P.id);if(z&&!(a.kind==="group"&&a.groupId===z.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&z.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:z.id}),D(P.id,v);return}const M=p(v),w=v.pointerType==="touch",T=a.kind==="flower"&&a.flowerId===P.id||a.kind==="layer"&&a.flowerId===P.id||a.kind==="petal"&&a.flowerId===P.id||a.kind==="petals"&&a.flowerId===P.id;if(w&&T){const{zone:R,layerId:N,petalIndex:B}=ai(M.x,M.y,P,i,a),{length:U}=Yt(P.fabricSquareSize??i.fabricSquareSize),W=S0(R,a.kind,{hitLayerId:N,flower:P,length:U});if(W!=="none"&&W!=="center"&&W!=="move"){J({x:M.x,y:M.y,zone:W});const le=a.kind==="layer"?"layer":"flower",se=a.kind==="layer"?a.layerId:I;switch(W){case"rotate":C(le,P.id,v,{layerId:se});return;case"scale":j(le,P.id,v,{layerId:se});return;case"width":E(le,P.id,v,{layerId:se,petalIndex:B});return;case"radius":q(le,P.id,v,{layerId:se});return}}D(P.id,v,{layerId:I,index:y});return}const G=H.current;k.current={x:M.x,y:M.y},H.current=!1;const K=Y.current;if(T&&(G||K!=="none"&&K!=="center")){const R=K,N=V.current,B=$.current,U=a.kind==="layer"?"layer":"flower",W=a.kind==="layer"?a.layerId:N??I;switch(R){case"rotate":C(U,P.id,v,{layerId:W});return;case"scale":j(U,P.id,v,{layerId:W});return;case"width":E(U,P.id,v,{layerId:W,petalIndex:B});return;case"radius":q(U,P.id,v,{layerId:W});return;default:Z(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),D(P.id,v,{layerId:I,index:y});return}}Z(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),D(P.id,v,{layerId:I,index:y})},onDoubleClick:()=>r({kind:"flower",flowerId:P.id}),onPointerDown:I=>{if(d.current||I.button!==0)return;if(I.shiftKey){I.stopPropagation(),A(P.id);return}const y=ba(i,P.id);if(y&&!(a.kind==="group"&&a.groupId===y.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&y.flowerIds.includes(a.flowerId))){r({kind:"group",groupId:y.id}),D(P.id,I);return}a.kind==="flower"&&a.flowerId===P.id||a.kind==="layer"&&a.flowerId===P.id||a.kind==="flowers"&&a.flowerIds.includes(P.id)||r({kind:"flower",flowerId:P.id});const z=p(I);k.current={x:z.x,y:z.y},H.current=!1,Z(Qn("/tsumami/")),m.current&&(m.current.style.cursor=Qn("/tsumami/")),D(P.id,I)},dashSyncToken:g},P.id))})}function Dm(c){const{leaves:i,leafGroups:a,project:r,selection:o,paletteMap:f,dashSyncToken:h,leafGroupHighlightedLeafIds:g,zoneCursorValue:m,stageRef:d,applyUpdateRef:p,clientToSvgPointRef:S,leafDraggingRef:A,clickOriginRef:b,zoneActivatedRef:D,setZoneCursorValue:j,onSelectLeaf:C,onShiftSelectLeaf:E,hoverLeafZoneRef:q}=c,k=F.useRef(null);return F.useEffect(()=>()=>{k.current?.()},[]),x.jsx(x.Fragment,{children:i.map(H=>{if(!H.visible)return null;const Z=o.kind==="leaf"&&o.leafId===H.id,J=o.kind==="leaves"&&o.leafIds?.includes(H.id),Y=g.has(H.id),V=U0({leaves:i,leafGroups:a},H.id),$=V?.rotation??0;let P=H;if(V&&$!==0){const I=_h({leaves:i,leafGroups:a},V.id),y=$*Math.PI/180,v=H.position.x-I.x,z=H.position.y-I.y;P={...H,position:{x:I.x+v*Math.cos(y)-z*Math.sin(y),y:I.y+v*Math.sin(y)+z*Math.cos(y)},rotation:H.rotation+$}}return x.jsx(wm,{leaf:P,project:r,paletteMap:f,isSelected:Z||J,isLeafGroupHighlighted:Y,dashSyncToken:h,cursor:Z?m:void 0,onPointerDown:I=>{if(H.locked)return;I.stopPropagation();const y=S.current(I),v=Z&&D.current;C(H.id),b.current={x:y.x,y:y.y},D.current=!1,j(Qn("/tsumami/")),d.current&&(d.current.style.cursor=Qn("/tsumami/"));const z=q.current,M=v||z!=="none"?z:"move";if(M!=="move"){const w=$i(M,"/tsumami/");j(w),d.current&&(d.current.style.cursor=w)}if(A.current=!0,M==="rotate"){const w=P.position,T=H.rotation,G=Math.atan2(y.y-w.y,y.x-w.x)*180/Math.PI;let K=!1;const R=B=>{const U=S.current(B),le=Math.atan2(U.y-w.y,U.x-w.x)*180/Math.PI-G;Math.abs(le)>.5&&(K=!0),p.current(se=>{const oe=(se.leaves??[]).find(fe=>fe.id===H.id);oe&&(oe.rotation=((T+le)%360+360)%360)},!1)},N=()=>{k.current=null,A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N),K&&p.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",N),k.current=()=>{A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N)}}else if(M==="scale"){const w=P.position,T=H.scale??1,G=Math.max(1,Math.hypot(y.x-w.x,y.y-w.y));let K=!1;const R=B=>{const U=S.current(B),le=Math.hypot(U.x-w.x,U.y-w.y)/G;Math.abs(le-1)>.01&&(K=!0),p.current(se=>{const oe=(se.leaves??[]).find(fe=>fe.id===H.id);oe&&(oe.scale=we(T*le,.3,3))},!1)},N=()=>{k.current=null,A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N),K&&p.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",N),k.current=()=>{A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N)}}else if(M==="width"){const w=P.position,T=H.rotation*Math.PI/180,G=-Math.sin(T),K=Math.cos(T),R=H.widthScale??1,N=Math.abs((y.x-w.x)*G+(y.y-w.y)*K),B=Math.max(1,N);let U=!1;const W=se=>{const oe=S.current(se),he=Math.abs((oe.x-w.x)*G+(oe.y-w.y)*K)/B;Math.abs(he-1)>.01&&(U=!0),p.current(me=>{const ve=(me.leaves??[]).find(qe=>qe.id===H.id);ve&&(ve.widthScale=we(R*he,.3,3))},!1)},le=()=>{k.current=null,A.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",le),U&&p.current(()=>{},!0)};document.addEventListener("pointermove",W),document.addEventListener("pointerup",le),k.current=()=>{A.current=!1,document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",le)}}else{const w=y,T=Sh({leaves:i,leafGroups:a},H.id),G=new Map;for(const B of T){const U=i.find(W=>W.id===B);U&&G.set(B,{...U.position})}let K=!1;const R=B=>{const U=S.current(B),W=U.x-w.x,le=U.y-w.y;Math.abs(W)+Math.abs(le)>1&&(K=!0),p.current(se=>{for(const[oe,fe]of G){const he=(se.leaves??[]).find(me=>me.id===oe);he&&(he.position.x=we(fe.x+W,0,G0),he.position.y=we(fe.y+le,0,G0))}},!1)},N=()=>{k.current=null,A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N),K&&p.current(()=>{},!0)};document.addEventListener("pointermove",R),document.addEventListener("pointerup",N),k.current=()=>{A.current=!1,document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",N)}}},onShiftSelect:()=>E(H.id)},H.id)})})}function Nm({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Am({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}const ha=1350;function Tm(c){const{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,setZoom:h,zoomLevel:g,setZoomLevel:m,ZOOM_LEVELS:d,setPan:p,showGrid:S,setShowGrid:A,setShowHelp:b,stageRef:D,viewBox:j,dashDelay:C,dashSyncToken:E,beginPan:q,updatePan:k,endPan:H,beginMarquee:Z,updateMarquee:J,endMarquee:Y,marqueeRef:V,marqueeRect:$,beginFlowerDrag:P,updateFlowerDrag:I,endFlowerDrag:y,scaleDragRef:v,updateScaleDrag:z,endScaleDrag:M,rotationDragRef:w,updateRotationDrag:T,endRotationDrag:G,widthScaleDragRef:K,updateWidthScaleDrag:R,endWidthScaleDrag:N,radiusDragRef:B,updateRadiusDrag:U,endRadiusDrag:W,beginScaleDrag:le,beginRotationDrag:se,beginWidthScaleDrag:oe,beginRadiusDrag:fe,togglePetalSelection:he,clientToSvgPoint:me}=c,ve=F.useRef(!1),qe=F.useRef(!1),Ge=F.useRef(c.applyUpdate),Ze=F.useRef(me);F.useEffect(()=>{Ge.current=c.applyUpdate},[c.applyUpdate]),F.useEffect(()=>{Ze.current=me},[me]);const[Ue,ht]=F.useState(!1),zt=F.useRef(null);F.useEffect(()=>{if(!Ue)return;const xe=Ee=>{zt.current&&!zt.current.contains(Ee.target)&&ht(!1)};return document.addEventListener("mousedown",xe),()=>document.removeEventListener("mousedown",xe)},[Ue]);const[Lt,mt]=F.useState("grab"),Zt=F.useRef("none"),vn=F.useRef("none"),$n=F.useRef(void 0),el=F.useRef(void 0),Je=F.useRef(null),gn=F.useRef(!0),_l=5,Vl=F.useRef(a.kind);F.useEffect(()=>{a.kind!==Vl.current&&(Vl.current=a.kind,gn.current=!1,Je.current=null)},[a.kind]);const[Gn,ga]=F.useState(!1),Yn=F.useRef(!1),[ci,Wl]=F.useState(null),tl=5,Et=10,Qe=Cm({zoom:c.zoom,pan:c.pan,setZoom:h,setPan:p,zoomLevel:g,setZoomLevel:m,ZOOM_LEVELS:d,stageRef:D,endPan:H,endFlowerDrag:y,endMarquee:Y,endRotationDrag:G,endScaleDrag:M,endWidthScaleDrag:N,endRadiusDrag:W});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g>=d.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(1),disabled:g>=d.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${g<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Qe.zoomAtCenter(-1),disabled:g<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>A(xe=>!xe),title:"","aria-label":"","aria-pressed":S,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Qe.resetView(5,d[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:zt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${Ue?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ht(xe=>!xe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),Ue&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(xe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:Jd[xe]}),["right","left","back"].map(Ee=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(xe,Ee),ht(!1)},"data-testid":`stencil-add-${xe}-${Ee}`,children:Qd[Ee]},`${xe}-${Ee}`))]},xe)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),ht(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>b(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:S?"24px 1fr":"1fr",gridTemplateRows:S?"20px 1fr":"1fr"},children:[S&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),S&&(()=>{const[xe,,Ee,Be]=j.split(/\s+/).map(Number),Ce=rn,pe=Math.max(Ee,Be)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,ye=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Pe=ze<=10?5:ze/2,Oe=Math.floor(xe/Ce/ye)*ye-ye,Fe=Math.ceil((xe+Ee)/Ce/ye)*ye+ye,$e=[];for(let Ae=Oe;Ae<=Fe;Ae+=ye){const tt=(Ae*Ce-xe)/Ee*100;if(tt<-2||tt>102)continue;const Me=Math.abs(Ae),nt=Me%ze===0,lt=Me%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:`${tt}%`,y1:20-at,x2:`${tt}%`,y2:20,stroke:"#999",strokeWidth:nt?.8:.4},Ae)),nt&&$e.push(x.jsx("text",{x:`${tt}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:$e})})(),S&&(()=>{const[,xe,Ee,Be]=j.split(/\s+/).map(Number),Ce=rn,pe=Math.max(Ee,Be)/Ce,ze=[10,20,50,100,200,500,1e3].find(Ae=>pe/Ae<=15)??1e3,ye=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Pe=ze<=10?5:ze/2,Oe=Math.floor(xe/Ce/ye)*ye-ye,Fe=Math.ceil((xe+Be)/Ce/ye)*ye+ye,$e=[];for(let Ae=Oe;Ae<=Fe;Ae+=ye){const tt=(Ae*Ce-xe)/Be*100;if(tt<-2||tt>102)continue;const Me=Math.abs(Ae),nt=Me%ze===0,lt=Me%Pe===0,at=nt?10:lt?6:3;$e.push(x.jsx("line",{x1:24-at,y1:`${tt}%`,x2:24,y2:`${tt}%`,stroke:"#999",strokeWidth:nt?.8:.4},Ae)),nt&&$e.push(x.jsx("text",{x:12,y:`${tt}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Ae},`t${Ae}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:$e})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:j,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":C,cursor:Gn?"crosshair":"grab"},onDoubleClick:xe=>{xe.target===xe.currentTarget&&(ga(Ee=>!Ee),r({kind:"project"}))},onPointerDown:xe=>{if(Qe.multiTouchRef.current)return;if(xe.button===1){Yn.current=!0,D.current&&(D.current.style.cursor="grabbing"),q(xe);return}if(xe.button!==0)return;const Ee=xe.pointerType==="touch";if(Ee&&xe.target===xe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Ce=i.flowers.find(pe=>pe.id===f);if(Ce){const pe=me(xe),{zone:Ne,layerId:ze,petalIndex:ye}=ai(pe.x,pe.y,Ce,i,a),{length:Pe}=Yt(Ce.fabricSquareSize??i.fabricSquareSize),Oe=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Pe});if(Oe!=="none"&&Oe!=="center"){Wl({x:pe.x,y:pe.y,zone:Oe});const Fe=a.kind==="layer"?"layer":"flower",$e=a.kind==="layer"?a.layerId:ze;switch(Oe){case"rotate":se(Fe,f,xe,{layerId:$e});return;case"scale":le(Fe,f,xe,{layerId:$e});return;case"width":oe(Fe,f,xe,{layerId:$e,petalIndex:ye});return;case"radius":fe(Fe,f,xe,{layerId:$e});return;case"move":P(f,xe);return}}}}Qe.setTouchBgStart({x:xe.clientX,y:xe.clientY}),q(xe);return}if(xe.target===xe.currentTarget&&f&&Lt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Ce=Zt.current;if(Ce!=="none"&&Ce!=="center"){const pe=a.kind==="layer"?"layer":"flower",Ne=a.kind==="layer"?a.layerId:$n.current;switch(Ce){case"rotate":se(pe,f,xe,{layerId:Ne});return;case"scale":le(pe,f,xe,{layerId:Ne});return;case"width":oe(pe,f,xe,{layerId:Ne,petalIndex:el.current});return;case"radius":fe(pe,f,xe,{layerId:Ne});return;case"move":P(f,xe);return}}}if(xe.target===xe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&Lt!=="grab"){const Be=vn.current;if(Be!=="none"){const Ce=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Ce){xe.preventDefault();const pe=me(xe);if(qe.current=!0,Be==="rotate"){const Ne=Ce.position,ze=Ce.rotation,ye=Math.atan2(pe.y-Ne.y,pe.x-Ne.x)*180/Math.PI,Pe=Ce.id,Oe=$i(Be,"/tsumami/");mt(Oe),D.current&&(D.current.style.cursor=Oe);let Fe=!1;const $e=gt=>{const tt=me(gt),nt=Math.atan2(tt.y-Ne.y,tt.x-Ne.x)*180/Math.PI-ye;Math.abs(nt)>.5&&(Fe=!0),c.applyUpdate(lt=>{const at=(lt.leaves??[]).find(yn=>yn.id===Pe);at&&(at.rotation=((ze+nt)%360+360)%360)},!1)},Ae=()=>{qe.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Ae),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Ae);return}else if(Be==="scale"){const Ne=Ce.position,ze=Ce.scale??1,ye=Math.max(1,Math.hypot(pe.x-Ne.x,pe.y-Ne.y)),Pe=Ce.id,Oe=$i(Be,"/tsumami/");mt(Oe),D.current&&(D.current.style.cursor=Oe);let Fe=!1;const $e=gt=>{const tt=me(gt),nt=Math.hypot(tt.x-Ne.x,tt.y-Ne.y)/ye;Math.abs(nt-1)>.01&&(Fe=!0),c.applyUpdate(lt=>{const at=(lt.leaves??[]).find(yn=>yn.id===Pe);at&&(at.scale=Math.max(.3,Math.min(3,ze*nt)))},!1)},Ae=()=>{qe.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Ae),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Ae);return}else if(Be==="width"){const Ne=Ce.position,ze=Ce.rotation*Math.PI/180,ye=-Math.sin(ze),Pe=Math.cos(ze),Oe=Ce.widthScale??1,Fe=Math.max(1,Math.abs((pe.x-Ne.x)*ye+(pe.y-Ne.y)*Pe)),$e=Ce.id,Ae=$i(Be,"/tsumami/");mt(Ae),D.current&&(D.current.style.cursor=Ae);let gt=!1;const tt=nt=>{const lt=me(nt),yn=Math.abs((lt.x-Ne.x)*ye+(lt.y-Ne.y)*Pe)/Fe;Math.abs(yn-1)>.01&&(gt=!0),c.applyUpdate(ya=>{const Jl=(ya.leaves??[]).find(pn=>pn.id===$e);Jl&&(Jl.widthScale=Math.max(.3,Math.min(3,Oe*yn)))},!1)},Me=()=>{qe.current=!1,document.removeEventListener("pointermove",tt),document.removeEventListener("pointerup",Me),gt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",tt),document.addEventListener("pointerup",Me);return}else{const Ne=pe,ze={...Ce.position},ye=Ce.id;mt(Qn("/tsumami/")),D.current&&(D.current.style.cursor=Qn("/tsumami/"));let Pe=!1;const Oe=$e=>{const Ae=me($e),gt=Ae.x-Ne.x,tt=Ae.y-Ne.y;Math.abs(gt)+Math.abs(tt)>1&&(Pe=!0),c.applyUpdate(Me=>{const nt=(Me.leaves??[]).find(lt=>lt.id===ye);nt&&(nt.position.x=Math.max(0,Math.min(ha,ze.x+gt)),nt.position.y=Math.max(0,Math.min(ha,ze.y+tt)))},!1)},Fe=()=>{qe.current=!1,document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Fe),Pe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Fe);return}}}}if(xe.target===xe.currentTarget){Ee?(Qe.setTouchBgStart({x:xe.clientX,y:xe.clientY}),q(xe)):Gn?Z(xe):(Qe.setMouseBgStart({x:xe.clientX,y:xe.clientY}),Yn.current=!0,D.current&&(D.current.style.cursor="grabbing"),q(xe));return}},onPointerMove:xe=>{if(ve.current||qe.current)return;if(V.current){J(xe);return}if(w.current){T(xe);return}if(v.current){z(xe);return}if(K.current){R(xe);return}if(B.current){U(xe);return}I(xe),k(xe);const Ee=!!c.dragRef?.current||!!V.current||!!w.current||!!v.current||!!K.current||!!B.current||Yn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!Ee&&Be){const Ce=i.flowers.find(pe=>pe.id===f);if(Ce){const pe=me(xe);if(Je.current&&!gn.current){if(Math.hypot(pe.x-Je.current.x,pe.y-Je.current.y)<_l){const{zone:Ae}=ai(pe.x,pe.y,Ce,i,a);Ae==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}gn.current=!0,Je.current=null}const{zone:Ne,layerId:ze,petalIndex:ye}=ai(pe.x,pe.y,Ce,i,a),{length:Pe}=Yt(Ce.fabricSquareSize??i.fabricSquareSize),Oe=S0(Ne,a.kind,{hitLayerId:ze,flower:Ce,length:Pe});Oe!=="none"&&(Zt.current=Oe,$n.current=ze,el.current=ye);const Fe=Gd(Oe,"/tsumami/");mt(Fe),D.current&&(D.current.style.cursor=Fe)}}if(!Ee&&a.kind==="leaf"&&c.selectedLeafId){const Ce=c.leaves.find(pe=>pe.id===c.selectedLeafId);if(Ce){const pe=me(xe);if(Je.current&&!gn.current){if(Math.hypot(pe.x-Je.current.x,pe.y-Je.current.y)<_l)return;gn.current=!0,Je.current=null}const Ne=em(pe.x,pe.y,Ce,i);Ne!=="none"&&(vn.current=Ne);const ze=$i(Ne,"/tsumami/");mt(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:xe=>{if(!ve.current&&!qe.current){if(Wl(null),V.current&&Gn&&ga(!1),Y(),G(),M(),N(),W(),y(),H(),Yn.current&&(Yn.current=!1,D.current&&(D.current.style.cursor=Gn?"crosshair":"grab")),Qe.touchBgStartRef.current&&xe.pointerType==="touch"){const Ee=xe.clientX-Qe.touchBgStartRef.current.x,Be=xe.clientY-Qe.touchBgStartRef.current.y;Math.hypot(Ee,Be)<Et&&r({kind:"project"}),Qe.setTouchBgStart(null);return}if(Qe.setTouchBgStart(null),Qe.mouseBgStartRef.current&&xe.pointerType==="mouse"){const Ee=xe.clientX-Qe.mouseBgStartRef.current.x,Be=xe.clientY-Qe.mouseBgStartRef.current.y;if(Qe.setMouseBgStart(null),Math.hypot(Ee,Be)<tl){r({kind:"project"});return}}if(Qe.setMouseBgStart(null),f){const Ee=i.flowers.find(Be=>Be.id===f);if(Ee){const Be=me(xe);if(Je.current&&Math.hypot(Be.x-Je.current.x,Be.y-Je.current.y)<_l){const{zone:Fe}=ai(Be.x,Be.y,Ee,i,a);Fe==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Ce,layerId:pe,petalIndex:Ne}=ai(Be.x,Be.y,Ee,i,a),{length:ze}=Yt(Ee.fabricSquareSize??i.fabricSquareSize),ye=S0(Ce,a.kind,{hitLayerId:pe,flower:Ee,length:ze});ye!=="none"&&(Zt.current=ye,$n.current=pe,el.current=Ne);const Pe=Gd(ye,"/tsumami/");mt(Pe),D.current&&(D.current.style.cursor=Pe)}}}},onPointerLeave:()=>{Y(),G(),M(),N(),W(),y(),H(),Yn.current=!1,Qe.setTouchBgStart(null),Qe.setMouseBgStart(null),mt("grab"),Je.current=null,gn.current=!0,Zt.current="none",vn.current="none",$n.current=void 0,el.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[xe,Ee,Be,Ce]=j.split(/\s+/).map(Number),pe=ha;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:xe,y:Ee,width:Be,height:Ce,fill:"white"}),x.jsx("rect",{x:0,y:0,width:pe,height:pe,fill:"black"})]})}),x.jsx("rect",{x:xe,y:Ee,width:Be,height:Ce,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:ha,height:ha,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:ha,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:ha,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),S&&(()=>{const xe=rn,[Ee,Be,Ce,pe]=j.split(/\s+/).map(Number),Ne=Math.max(Ce,pe)/xe,ye=[10,20,50,100,200,500,1e3].find(lt=>Ne/lt<=15)??1e3,Pe=Math.floor(Ee/xe/ye)*ye-ye,Oe=Math.ceil((Ee+Ce)/xe/ye)*ye+ye,Fe=Math.floor(Be/xe/ye)*ye-ye,$e=Math.ceil((Be+pe)/xe/ye)*ye+ye,Ae=Fe*xe,gt=$e*xe,tt=Pe*xe,Me=Oe*xe,nt=[];for(let lt=Pe;lt<=Oe;lt+=ye){const at=lt*xe;nt.push(x.jsx("line",{x1:at,y1:Ae,x2:at,y2:gt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${lt}`))}for(let lt=Fe;lt<=$e;lt+=ye){const at=lt*xe;nt.push(x.jsx("line",{x1:tt,y1:at,x2:Me,y2:at,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${lt}`))}return x.jsx("g",{children:nt})})(),x.jsx(Mm,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Ge,clientToSvgPointRef:Ze,stencilDraggingRef:ve,onSelectStencil:c.onSelectStencil}),x.jsx(zm,{project:i,selection:a,setSelection:r,paletteMap:o,selectedFlowerId:f,zoneCursorValue:Lt,dashSyncToken:E,stageRef:D,multiTouchRef:Qe.multiTouchRef,clientToSvgPoint:me,togglePetalSelection:he,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:P,beginScaleDrag:le,beginRotationDrag:se,beginWidthScaleDrag:oe,beginRadiusDrag:fe,clickOriginRef:Je,zoneActivatedRef:gn,setZoneCursorValue:mt,setTouchZoneIndicator:Wl,hoverZoneRef:Zt,hoverHitLayerIdRef:$n,hoverHitPetalIndexRef:el}),x.jsx(Dm,{leaves:c.leaves,leafGroups:c.leafGroups,project:i,selection:a,paletteMap:o,dashSyncToken:E,selectedLeafId:c.selectedLeafId,leafGroupHighlightedLeafIds:c.leafGroupHighlightedLeafIds,zoneCursorValue:Lt,stageRef:D,applyUpdateRef:Ge,clientToSvgPointRef:Ze,leafDraggingRef:qe,clickOriginRef:Je,zoneActivatedRef:gn,setZoneCursorValue:mt,onSelectLeaf:c.onSelectLeaf,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:vn}),x.jsx(Nm,{rect:$}),x.jsx(Am,{indicator:ci})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Hd(c,i,a){return Math.min(a,Math.max(i,c))}function Ke({value:c,onChange:i,min:a=-1/0,max:r=1/0,step:o,className:f,...h}){const[g,m]=F.useState(null),d=F.useRef(null),p=F.useCallback(b=>{const D=Number(b);isNaN(D)||i(Hd(D,a,r)),m(null)},[i,a,r]),S=F.useCallback(()=>{m(null)},[]),A=F.useCallback(b=>{const D=o??1,C=(Number(g??c)||0)+D*b,E=Hd(C,a,r),q=String(D).includes(".")?String(D).split(".")[1].length:0,k=Number(E.toFixed(q));m(String(k)),i(k)},[g,c,o,a,r,i]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:d,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:g??String(c),onChange:b=>m(b.target.value),onFocus:b=>{m(String(c)),requestAnimationFrame(()=>b.target.select())},onBlur:()=>{g!==null&&p(g)},onKeyDown:b=>{b.key==="Enter"?(b.preventDefault(),g!==null&&p(g),d.current?.blur()):b.key==="Escape"?(b.preventDefault(),S(),d.current?.blur()):(b.key==="ArrowUp"||b.key==="ArrowDown")&&(b.preventDefault(),A(b.key==="ArrowUp"?1:-1))},...h}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:b=>{b.preventDefault(),A(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:b=>{b.preventDefault(),A(-1)},children:""})]})]})}function cr({title:c,compact:i,children:a}){return x.jsxs("div",{className:i?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Lm({flower:c,fabricSquareSize:i,placementMode:a,applyUpdate:r}){const f=F.useMemo(()=>{const C=[...c.layers||[]].sort(($,P)=>$.order-P.order);if(C.length<2)return{mode:"uniform",step:2};const E=C.map($=>$.scale??1);if(E.every($=>Math.abs($-E[0])<.001))return{mode:"uniform",step:2};const k=C[0],H=C[C.length-1],Z=(H.order??1)-(k.order??1);if(Z<=0)return{mode:"gradual",step:2};const Y=((k.scale??1)-(H.scale??1))/Z,V=Math.round(Y*i*2)/2;return{mode:"gradual",step:we(V,0,10)}},[c.id]),[h,g]=F.useState(f.mode),[m,d]=F.useState(f.step),[p,S]=F.useState(0);F.useEffect(()=>{g(f.mode),d(f.step),S(0)},[f]);const A=F.useMemo(()=>[...c.layers||[]].sort((C,E)=>C.order-E.order),[c.layers]),b=A[0],D=b?b.order:0,j=F.useMemo(()=>{if(!b)return[];const C=b.scale??1,E=b.radius,q=new Map;for(const $ of A){const P=$.order-D;if(P===0)q.set($.id,C);else if(h==="uniform")q.set($.id,C);else{const I=m/i;q.set($.id,we(C-P*I,.3,3))}}const{length:k}=Yt(i),H=A.length,Z=70*Math.PI/180,J=new Map;let Y=E;J.set(b.id,E);for(let $=1;$<H;$++){const P=A[$-1],I=q.get(P.id)??1,y=k*I;let v;if(a===""){const z=H-1-$,M=H>1?z/(H-1)*Z:0;v=y*(30/100)*Math.cos(M)}else v=y/3;Y=Y-v,J.set(A[$].id,Math.max(2,Y))}const V=A.map($=>{const P=q.get($.id)??1,I=Math.round((J.get($.id)??E)*10)/10,y=Math.round(i*P*10)/10;return{id:$.id,name:$.name,order:$.order,effScale:P,effFabricSize:y,effRadius:I}});if(V.length>0){const $=V[V.length-1],P=k*$.effScale,I=Math.floor(P*.28*10)/10;$.effRadius>I&&($.effRadius=I)}return V},[A,b,D,h,m,30,i,a]);return F.useEffect(()=>{p!==0&&(!b||j.length===0||r(C=>{const E=C.flowers.find(k=>k.id===c.id);if(!E)return;for(const k of j){const H=E.layers.find(Z=>Z.id===k.id);H&&(H.scale=we(k.effScale,.3,3),H.radius=we(k.effRadius,2,120))}const q=[...E.layers].sort((k,H)=>H.order-k.order);for(let k=1;k<q.length;k++){const H=q[k-1],Z=q[k];Z.offsetAngle=Pn(H.petalCount,H.offsetAngle,Z.petalCount)}}))},[p]),A.length<2?null:x.jsxs(cr,{title:"",children:[x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:h,onChange:C=>{g(C.target.value),S(E=>E+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),h==="gradual"&&x.jsxs(yx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:m,min:0,max:10,step:.5,onChange:C=>{d(C),S(E=>E+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),j.map(C=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:C.name}),x.jsxs("span",{children:[" ",C.effFabricSize,"mm /  ",Math.round(tr(C.effRadius,C.effScale,i)),"mm"]})]},C.id))]})]})}const Pd="tsumami_recent_colors_v1",Bx=10;function Em(c){const i=new Set;for(const a of c.flowers){for(const r of a.layers)if(i.add(r.colorId),r.petalOverrides)for(const o of r.petalOverrides)o.colorId&&i.add(o.colorId);a.center&&(i.add(a.center.color),a.center.color2&&i.add(a.center.color2))}return i}function wx(){try{const c=localStorage.getItem(Pd);if(c){const i=JSON.parse(c);if(Array.isArray(i))return i.slice(0,Bx)}}catch{}return[]}function Bm(c){try{localStorage.setItem(Pd,JSON.stringify(c.slice(0,Bx)))}catch{}}function qm(c){const i=wx(),a=[c,...i.filter(r=>r!==c)].slice(0,Bx);Bm(a)}function Un({palette:c,project:i,selectedColorId:a,onChange:r,size:o="md"}){const[f,h]=F.useState(!1),g=F.useRef(null),[m,d]=F.useState(wx);F.useEffect(()=>{if(!f)return;const j=C=>{g.current&&!g.current.contains(C.target)&&h(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[f]);const p=F.useMemo(()=>Em(i),[i]),S=F.useMemo(()=>{const j=new Set;j.add(a);for(const C of p)j.add(C);for(const C of m)j.add(C);return c.filter(C=>j.has(C.id))},[c,a,p,m]),A=F.useCallback(j=>{qm(j),d(wx()),r(j)},[r]),b=o==="sm"?"h-4 w-4":"h-5 w-5",D=f?c:S;return x.jsx("div",{ref:g,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(j=>x.jsx("button",{className:`${b} rounded border-2 ${a===j.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:j.hex},title:j.name,"aria-label":`: ${j.name}`,onClick:()=>A(j.id)},j.id)),c.length>S.length&&x.jsx("button",{className:`${b} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>h(j=>!j),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:o==="sm"?8:10,height:o==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Rm({project:c,applyUpdate:i,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.name=r.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(r=>{const o=a.layers.every(f=>f.petalType===r);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(g=>g.id===a.id);if(h)for(const g of h.layers)g.petalType=r}),children:r},r)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:Kd.map(r=>{const o=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${o===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{o!==r&&i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;h.placementMode=r;const g=h.fabricSquareSize??f.fabricSquareSize;r===""?h.baseDiameter=er(h.flowerDiameter):h.baseDiameter||(h.baseDiameter=f.baseDiameter),Lh(h.layers,g,r,h.flowerDiameter)},!0)},children:r},r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.baseDiameter=r)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[er(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:r=>{i(o=>{const f=o.flowers.find(m=>m.id===a.id);if(!f)return;const h=ri(r);for(const m of f.layers)m.petalCount=r,m.widthScale=h;const g=[...f.layers].sort((m,d)=>d.order-m.order);for(let m=1;m<g.length;m++)g[m].offsetAngle=Pn(g[m-1].petalCount,g[m-1].offsetAngle,g[m].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:r=>i(o=>{const f=o.flowers.find(g=>g.id===a.id);if(!f)return;f.flowerDiameter=r,f.placementMode===""&&(f.baseDiameter=er(r));const h=[...f.layers].sort((g,m)=>g.order-m.order);K0(h,f.fabricSquareSize??o.fabricSquareSize,r);for(const g of h){const m=f.layers.find(d=>d.id===g.id);m&&(m.radius=g.radius,m.scale=g.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.widthScale=r})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f&&(f.rotation=r)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:a.layers.every(r=>r.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)h.colorId=r})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(r=>!!r.doublePetal),onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);if(f)for(const h of f.layers)if(r.target.checked){if(!h.doublePetal){const g=h._doublePetalCache;h.doublePetal=g??{innerSizeReduction:2},delete h._doublePetalCache}}else h.doublePetal&&(h._doublePetalCache={...h.doublePetal}),delete h.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(r=>!!r.doublePetal)&&(()=>{const r=[...new Set(a.layers.map(g=>g.doublePetal.innerSizeReduction))],o=r.length===1?r[0]:null,f=[...new Set(a.layers.map(g=>g.doublePetal.innerColorId??g.colorId))],h=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:o??"",placeholder:"",onChange:g=>i(m=>{const d=m.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(p.doublePetal.innerSizeReduction=we(g,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:h??"",onChange:g=>i(m=>{const d=m.flowers.find(p=>p.id===a.id);if(d)for(const p of d.layers)p.doublePetal&&(g===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=g)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Gh.map(r=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===r?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.type=r,r===""&&!f.center.pepCount&&(f.center.pepCount=12),r===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:r},r))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.size=r)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.color2=r)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:r=>i(o=>{const f=o.flowers.find(h=>h.id===a.id);f?.center&&(f.center.pepCount=r)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&delete o.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>i(r=>{const o=r.flowers.find(f=>f.id===a.id);o&&(o.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Lm,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:i})]})}function km({project:c,applyUpdate:i,selectedFlowers:a,onGroupFlowers:r,onUngroupFlowers:o,onAddToGroup:f,onMergeGroups:h}){const g=a,m=[...new Set(g.flatMap(S=>S.layers.map(A=>A.petalType)))],d=m.length===1?m[0]:null,p=S=>{i(A=>{for(const b of g){const D=A.flowers.find(j=>j.id===b.id);D&&S(D)}},!0)};return x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[g.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(S=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>p(A=>{for(const b of A.layers)b.colorId=S.id})},S.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(A=>{for(const b of A.layers)b.petalType=S}),children:S},S))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:g[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const A=ri(S);p(b=>{for(const j of b.layers)j.petalCount=S,j.widthScale=A;const D=[...b.layers].sort((j,C)=>C.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Pn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:g.map(S=>x.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),(()=>{const S=g.map(C=>ba(c,C.id)),A=g.filter(C=>!ba(c,C.id)).map(C=>C.id),b=[...new Set(S.filter(Boolean).map(C=>C.id))],D=A.length===g.length,j=b.length===1&&S.every(C=>C!=null);return x.jsxs(x.Fragment,{children:[D&&g.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(g.map(C=>C.id)),children:""}),j&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>o(b[0]),children:""}),b.length===1&&A.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(b[0],A),children:[" (+",A.length,")"]}),b.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>h(b,A),children:[" (",b.length,"",A.length>0?` +${A.length}`:"",")"]})]})})()]})}function Gm({project:c,applyUpdate:i,selectedFlowers:a,groups:r,groupId:o,onUngroupFlowers:f}){const h=r.find(S=>S.id===o);if(!h)return null;const g=a,m=[...new Set(g.flatMap(S=>S.layers.map(A=>A.petalType)))],d=m.length===1?m[0]:null,p=S=>{i(A=>{for(const b of g){const D=A.flowers.find(j=>j.id===b.id);D&&S(D)}},!0)};return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:h.name,onChange:S=>i(A=>{const b=(A.groups??[]).find(D=>D.id===h.id);b&&(b.name=S.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[g.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(S=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>p(A=>{for(const b of A.layers)b.colorId=S.id})},S.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${d===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>p(A=>{for(const b of A.layers)b.petalType=S}),children:S},S))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:g[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const A=ri(S);p(b=>{for(const j of b.layers)j.petalCount=S,j.widthScale=A;const D=[...b.layers].sort((j,C)=>C.order-j.order);for(let j=1;j<D.length;j++)D[j].offsetAngle=Pn(D[j-1].petalCount,D[j-1].offsetAngle,D[j].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:g.map(S=>x.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(h.id),children:""})]})}function Ym({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",r.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.name,"data-testid":"prop-layer-name",onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.name=o.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(o=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${r.petalType===o?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.petalType=o)}),children:o},o))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:r.petalCount,onChange:o=>{i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);if(g){g.petalCount=o,g.widthScale=ri(o);const m=[...h.layers].sort((d,p)=>p.order-d.order);for(let d=1;d<m.length;d++)m[d].offsetAngle=Pn(m[d-1].petalCount,m[d-1].offsetAngle,m[d].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(tr(r.radius,r.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.radius=we(Th(o,g.scale??1,h.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(r.scale??1)*10)/10,onChange:o=>i(f=>{const h=f.flowers.find(S=>S.id===a.id);if(!h)return;const g=h.layers.find(S=>S.id===r.id);if(!g)return;const m=h.fabricSquareSize??f.fabricSquareSize;g.scale=we(Math.round(o/m*100)/100,.3,3);const d=[...h.layers].sort((S,A)=>S.order-A.order),p=d.findIndex(S=>S.id===g.id);if(p>=0)for(let S=p-1;S>=0;S--){const A=d[S],b=d[S+1],j=Yt(m).length*(b.scale??1)/3;A.radius=Math.round((b.radius+j)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(r.scale??1).toFixed(2),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.scale=o)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(r.widthScale??1).toFixed(2),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.widthScale=o)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:Number(r.offsetAngle??0).toFixed(1),onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.offsetAngle=o)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:r.colorId,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.colorId=o)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);if(g)if(o.target.checked){const m=g._doublePetalCache;g.doublePetal=m??{innerSizeReduction:2},delete g._doublePetalCache}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:r.doublePetal.innerSizeReduction,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g?.doublePetal&&(g.doublePetal.innerSizeReduction=we(o,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:r.doublePetal.innerColorId??r.colorId,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g?.doublePetal&&(o===g.colorId?delete g.doublePetal.innerColorId:g.doublePetal.innerColorId=o)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.visible,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.visible=o.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.locked,onChange:o=>i(f=>{const h=f.flowers.find(m=>m.id===a.id);if(!h)return;const g=h.layers.find(m=>m.id===r.id);g&&(g.locked=o.target.checked)})}),""]})]})]})]})}function Hm({project:c,applyUpdate:i,selectedFlower:a,selectedPetals:r}){const o=r,f=o.map(C=>{const E=a.layers.find(q=>q.id===C.layerId);return{...C,layer:E}}).filter(C=>C.layer!=null),h=(C,E)=>{const q=a.layers.find(H=>H.id===C);return q?(q?.petalOverrides?.find(H=>H.index===E)??null)?.colorId??q.colorId:null},g=(C,E)=>{const q=a.layers.find(H=>H.id===C);return q?(q?.petalOverrides?.find(H=>H.index===E)??null)?.petalType??q.petalType:null},m=f.map(C=>h(C.layerId,C.index)),d=f.map(C=>g(C.layerId,C.index)),p=m.length>0&&m.every(C=>C===m[0]),A=d.length>0&&d.every(C=>C===d[0])?d[0]:null,b=C=>{i(E=>{const q=E.flowers.find(k=>k.id===a.id);if(q)for(const k of o){const H=q.layers.find(J=>J.id===k.layerId);if(!H)continue;H.petalOverrides||(H.petalOverrides=[]);const Z=H.petalOverrides.find(J=>J.index===k.index);if(Z)C.colorId!==void 0&&(C.colorId===H.colorId?delete Z.colorId:Z.colorId=C.colorId),C.petalType!==void 0&&(C.petalType===H.petalType?delete Z.petalType:Z.petalType=C.petalType),!Z.colorId&&!Z.petalType&&(H.petalOverrides=H.petalOverrides.filter(J=>J.index!==k.index),H.petalOverrides.length===0&&(H.petalOverrides=void 0));else{const J={index:k.index};C.colorId!==void 0&&C.colorId!==H.colorId&&(J.colorId=C.colorId),C.petalType!==void 0&&C.petalType!==H.petalType&&(J.petalType=C.petalType),(J.colorId!==void 0||J.petalType!==void 0)&&H.petalOverrides.push(J)}}},!0)},D=()=>{i(C=>{const E=C.flowers.find(q=>q.id===a.id);if(E)for(const q of o){const k=E.layers.find(H=>H.id===q.layerId);!k||!k.petalOverrides||(k.petalOverrides=k.petalOverrides.filter(H=>H.index!==q.index),k.petalOverrides.length===0&&(k.petalOverrides=void 0))}},!0)},j=f.some(C=>C.layer?.petalOverrides?.find(E=>E.index===C.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",o.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[o.length,"",j&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(C=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${p&&m[0]===C.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:C.hex},title:C.name,"aria-label":`: ${C.name}`,onClick:()=>b({colorId:C.id})},C.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(C=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${A===C?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>b({petalType:C}),children:C},C))})]}),j&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function Om({project:c,applyUpdate:i,selectedFlower:a,selectedLayer:r,selectedPetalIndex:o}){const f=r?.petalOverrides?.find(S=>S.index===o)??null,h=f?.colorId??r.colorId,g=f?.petalType??r.petalType,m=f!=null,d=S=>{i(A=>{const b=A.flowers.find(C=>C.id===a.id);if(!b)return;const D=b.layers.find(C=>C.id===r.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const j=D.petalOverrides.find(C=>C.index===o);if(j)S.colorId!==void 0&&(j.colorId=S.colorId),S.petalType!==void 0&&(j.petalType=S.petalType),S.innerColorId!==void 0&&(j.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(j.innerSizeReduction=S.innerSizeReduction),j.colorId!==void 0||j.petalType!==void 0||j.innerColorId!==void 0||j.innerSizeReduction!==void 0?(j.colorId===void 0&&delete j.colorId,j.petalType===void 0&&delete j.petalType,j.innerColorId===void 0&&delete j.innerColorId,j.innerSizeReduction===void 0&&delete j.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(E=>E.index!==o),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const C={index:o};S.colorId!==void 0&&(C.colorId=S.colorId),S.petalType!==void 0&&(C.petalType=S.petalType),S.innerColorId!==void 0&&(C.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(C.innerSizeReduction=S.innerSizeReduction),(C.colorId!==void 0||C.petalType!==void 0||C.innerColorId!==void 0||C.innerSizeReduction!==void 0)&&D.petalOverrides.push(C)}},!0)},p=()=>{i(S=>{const A=S.flowers.find(D=>D.id===a.id);if(!A)return;const b=A.layers.find(D=>D.id===r.id);!b||!b.petalOverrides||(b.petalOverrides=b.petalOverrides.filter(D=>D.index!==o),b.petalOverrides.length===0&&(b.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[r.name," / #",o+1,m&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:h,onChange:S=>{S===r.colorId?d({colorId:void 0}):d({colorId:S})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{S===r.petalType?d({petalType:void 0}):d({petalType:S})},children:S},S))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!r.doublePetal,onChange:S=>i(A=>{const b=A.flowers.find(j=>j.id===a.id);if(!b)return;const D=b.layers.find(j=>j.id===r.id);if(D)if(S.target.checked){const j=D._doublePetalCache;D.doublePetal=j??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),r.doublePetal&&(()=>{const S=r.doublePetal,A=f?.innerSizeReduction??S.innerSizeReduction,b=f?.innerColorId??S.innerColorId??h;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Ke,{min:1,max:30,step:1,value:A,onChange:D=>{const j=we(D,1,30);j===S.innerSizeReduction?d({innerSizeReduction:void 0}):d({innerSizeReduction:j})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:b,size:"sm",onChange:D=>{const j=S.innerColorId??r.colorId;d(D===j?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),m&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:p,children:""})]})]})}function Im({project:c,applyUpdate:i,selectedStencil:a,onDeleteStencil:r}){const o=a,f=h=>{i(g=>{const m=(g.stencils??[]).find(d=>d.id===o.id);m&&Object.assign(m,h)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.variant,onChange:h=>f({variant:h.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(h=>x.jsx("option",{value:h,children:Jd[h]},h))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:o.pose,onChange:h=>f({pose:h.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(h=>x.jsx("option",{value:h,children:Qd[h]},h))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!o.locked,onChange:h=>f({locked:h.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(o.position.x/2.7),"mm, ",Math.round(o.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(o.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function Zm({project:c,applyUpdate:i,selectedLeaf:a,leafGroups:r,onDeleteLeaf:o,onAddLeafToGroup:f,onRemoveLeafFromGroup:h}){const g=a,m=p=>{i(S=>{const A=(S.leaves??[]).find(b=>b.id===g.id);A&&p(A)},!0)},d=U0(c,g.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:g.name,onChange:p=>m(S=>{S.name=p.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(p=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${g.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>m(S=>{S.petalType=p}),children:p},p))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:g.colorId,onChange:p=>m(S=>{S.colorId=p})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((g.fabricSquareSize??c.fabricSquareSize)*(g.scale??1)*10)/10,onChange:p=>m(S=>{const A=S.fabricSquareSize??c.fabricSquareSize;S.scale=we(Math.round(p/A*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(g.scale??1).toFixed(2),onChange:p=>m(S=>{S.scale=p})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(g.widthScale??1).toFixed(2),onChange:p=>m(S=>{S.widthScale=p})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ke,{value:Number(g.rotation).toFixed(1),onChange:p=>m(S=>{S.rotation=p})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.doublePetal,onChange:p=>m(S=>{if(p.target.checked){const A=S._doublePetalCache;S.doublePetal=A??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),g.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:g.doublePetal.innerSizeReduction,onChange:p=>m(S=>{S.doublePetal&&(S.doublePetal.innerSizeReduction=we(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:g.doublePetal.innerColorId??g.colorId,onChange:p=>m(S=>{S.doublePetal&&(p===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=p)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.visible,onChange:p=>m(S=>{S.visible=p.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!g.locked,onChange:p=>m(S=>{S.locked=p.target.checked})}),""]})]}),d?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",d.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>h(g.id),children:""})]}):r.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:p=>{p.target.value&&f(g.id,p.target.value)},children:[x.jsx("option",{value:"",children:"..."}),r.map(p=>x.jsx("option",{value:p.id,children:p.name},p.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>o(g.id),children:""})]})]})}function Um({project:c,applyUpdate:i,leafIds:a,onGroupLeaves:r}){const o=(c.leaves??[]).filter(f=>a.includes(f.id));return o.length===0?null:x.jsxs(cr,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[o.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Un,{palette:c.palette,project:c,selectedColorId:"",onChange:f=>i(h=>{for(const g of a){const m=(h.leaves??[]).find(d=>d.id===g);m&&(m.colorId=f)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:pl.map(f=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>i(h=>{for(const g of a){const m=(h.leaves??[]).find(d=>d.id===g);m&&(m.petalType=f)}},!0),children:f},f))}),a.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>r(a),children:""})]})}function Km({project:c,applyUpdate:i,selectedLeafGroup:a,onUngroupLeaves:r}){const o=a,f=(c.leaves??[]).filter(h=>o.leafIds.includes(h.id));return x.jsxs(cr,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:o.name,onChange:h=>i(g=>{const m=(g.leafGroups??[]).find(d=>d.id===o.id);m&&(m.name=h.target.value)})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ke,{value:Number(o.rotation).toFixed(1),onChange:h=>i(g=>{const m=(g.leafGroups??[]).find(d=>d.id===o.id);m&&(m.rotation=h)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:o.linkedFlowerGroupId??"",onChange:h=>i(g=>{const m=(g.leafGroups??[]).find(d=>d.id===o.id);m&&(h.target.value?m.linkedFlowerGroupId=h.target.value:delete m.linkedFlowerGroupId)},!0),children:[x.jsx("option",{value:"",children:""}),(c.groups??[]).map(h=>x.jsx("option",{value:h.id,children:h.name},h.id))]})]}),x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800 mt-1.5",children:[f.length,""]}),x.jsx("div",{className:"mt-1 text-[11px] text-neutral-500",children:f.map(h=>x.jsx("div",{children:h.name},h.id))}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>r(o.id),children:""})]})}function Xm(c){const{project:i,selection:a,applyUpdate:r,selectedFlower:o,selectedFlowers:f,selectedLayer:h,selectedPetalIndex:g,selectedPetals:m}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.title,onChange:d=>r(p=>p.title=d.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{value:i.fabricSquareSize,min:5,max:60,onChange:d=>r(p=>p.fabricSquareSize=d),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{value:i.baseDiameter,min:10,max:100,onChange:d=>r(p=>p.baseDiameter=d),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",Xl(i.baseDiameter,i.fabricSquareSize).diameter,"mm / : ",Xl(i.baseDiameter,i.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:i.notes,onChange:d=>r(p=>p.notes=d.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:i.palette.map(d=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:d.hex},title:d.name},d.id))})]})]})]}),a.kind==="flower"&&o&&x.jsx(Rm,{project:i,applyUpdate:r,selectedFlower:o}),a.kind==="flowers"&&f.length>0&&x.jsx(km,{project:i,applyUpdate:r,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&f.length>0&&x.jsx(Gm,{project:i,applyUpdate:r,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers}),a.kind==="layer"&&o&&h&&x.jsx(Ym,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:h}),a.kind==="petals"&&o&&m.length>0&&x.jsx(Hm,{project:i,applyUpdate:r,selectedFlower:o,selectedPetals:m}),a.kind==="petal"&&o&&h&&g!==null&&x.jsx(Om,{project:i,applyUpdate:r,selectedFlower:o,selectedLayer:h,selectedPetalIndex:g}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(Im,{project:i,applyUpdate:r,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(Zm,{project:i,applyUpdate:r,selectedLeaf:c.selectedLeaf,leafGroups:c.leafGroups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(Um,{project:i,applyUpdate:r,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves}),a.kind==="leafGroup"&&c.selectedLeafGroup&&x.jsx(Km,{project:i,applyUpdate:r,selectedLeafGroup:c.selectedLeafGroup,onUngroupLeaves:c.onUngroupLeaves}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="leafGroup"&&!o?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function Vm(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?Xl(c.baseDiameter,c.fabricSquareSize,i).diameter:lr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function Wm(c){const i={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?zh(c.flowerDiameter,c.baseDiameter,i):Mh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function Jm({palette:c,addFlowerOpts:i,setAddFlowerOpts:a,onConfirm:r,onCancel:o}){const f=m=>{a(d=>{const p={...d,...m};return m.placementMode&&m.placementMode!==d.placementMode&&(m.placementMode===""?(p.baseDiameter=30,p.fabricSquareSize=20,p.layerCount=4,p.petalCount=12):(p.fabricSquareSize=20,p.layerCount=1,p.petalCount=6)),p.flowerDiameter=Vm(p),p})},h=m=>{a(d=>{const p={...d,flowerDiameter:m};return p.fabricSquareSize=Wm(p),p})},g=[];if(i.placementMode===""){i.flowerDiameter<=i.baseDiameter&&g.push("");const m=Dh(i.baseDiameter,i.fabricSquareSize,{sizeMode:i.sizeMode,sizeStepMm:i.sizeStepMm});i.layerCount>m&&g.push(`${m}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:o,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:m=>m.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:Kd.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.placementMode===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:m}),children:m},m))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:i.fabricSquareSize,onChange:m=>f({fabricSquareSize:m})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:i.layerCount,onChange:m=>f({layerCount:m})})]})]}),i.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.baseDiameter,onChange:m=>f({baseDiameter:m})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:i.petalCount,onChange:m=>a(d=>({...d,petalCount:m}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:i.flowerDiameter,onChange:h})]})]}),g.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:g.map((m,d)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:m},d))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(m=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(i.colorId||c[0]?.id)===m.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:m.hex},title:m.name,"aria-label":`: ${m.name}`,onClick:()=>a(d=>({...d,colorId:m.id}))},m.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:pl.map(m=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.petalType===m?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:m})),children:m},m))})]}),i.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${i.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),i.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:i.sizeStepMm,onChange:m=>f({sizeStepMm:m})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:o,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:r,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}(function(c,i){const a=an,r=c();for(;;)try{if(parseInt(a(436))/1+parseInt(a(415))/2*(parseInt(a(443))/3)+parseInt(a(398))/4*(-parseInt(a(445))/5)+parseInt(a(412))/6+-parseInt(a(428))/7+parseInt(a(429))/8+parseInt(a(390))/9*(parseInt(a(411))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Y0,333903);function an(c,i){c=c-382;const a=Y0();let r=a[c];if(an.IVKWRh===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};an.GyBEbt=o,an.tYELYm={},an.IVKWRh=!0}const f=a[0],h=c+f,g=an.tYELYm[h];if(g)r=g;else{const m=function(d){this.ZCUcoB=d,this.SgMRPi=[1,0,0],this.TmtXIa=function(){return"newState"},this.gnAXBg="\\w+ *\\(\\) *{\\w+ *",this.trHTKc=`['|"].+['|"];? *}`};m.prototype.pfzKIz=function(){const d=new RegExp(this.gnAXBg+this.trHTKc),p=d.test(this.TmtXIa.toString())?--this.SgMRPi[1]:--this.SgMRPi[0];return this.KZGIiT(p)},m.prototype.KZGIiT=function(d){return~d?this.DHyOol(this.ZCUcoB):d},m.prototype.DHyOol=function(d){for(let p=0,S=this.SgMRPi.length;p<S;p++)this.SgMRPi.push(Math.round(Math.random())),S=this.SgMRPi.length;return d(this.SgMRPi[0])},new m(an).pfzKIz(),r=an.GyBEbt(r),an.tYELYm[h]=r}return r}const Qm=(function(){let c=!0;return function(i,a){const r=c?function(){if(a){const o=a.apply(i,arguments);return a=null,o}}:function(){};return c=!1,r}})(),Mx=Qm(void 0,function(){const c=an,i={NViGz:c(420)};return Mx[c(403)]()[c(385)](i.NViGz).toString().constructor(Mx).search("(((.+)+)+)+$")});Mx();function Y0(){const c=["y2XPzw50wa","Cg9PBNrLCNvW","C3rYAw5NAwz5","Bwf0y2HnzwrPyq","mJq0rwzRsKns","AMP0B1i","AM1SDKO","BNvTyMvY","Dw5KzwzPBMvK","Dg9tDhjPBMC","mxW1Fdn8mhWYFdq","vKzOr2O","rMH6Axi","yKzbtM8","DxnLCLnLBgvJDa","C3rHCNrxAwr0Ahm","C3rHCNry","nZu3mJq5menxDvn3qW","ode1nevcrMLqvq","C0X6De0","CKnquvK","mta5nfjLsvrwAW","BwLU","sfbQr08","y2HHBMDL","CMLNAhq","kcGOlISPkYKRksSK","CMvTB3zLrxzLBNrmAxn0zw5LCG","C3r5Bgu","Bwf4","CNjdr2q","shryA0q","y29SlxjLC2L6zq","EMHXsLO","ndi3nJG3ngDYuMjIsa","ndKYmdq3mK5ZuvzZsG","y3vYCMvUDa","CM91BMq","Bxvfvgu","D3jTC0K","EhLKtKK","yM9KEq","mte1ote5swvjC1nn","ywrKrxzLBNrmAxn0zw5LCG","EgvzsNK","z2v0qM91BMrPBMDdBgLLBNrszwn0","BgvMDa","z2v0sxrLBq","Bwf0y2HLCW","ntK3DwTiv1rV","C0jcCuu","ntm1nZb4D3LprfC","y3vYC29Y","kg1PBI13Awr0AdOGnZy4ChGP","vgPYzMe","ChnOBLi","sKXABMy","C2vHCMnO","r3nSDwG","wvfZDfe","Duz5s0G","ANfXzxa","ou94shLfBW","D2LKDgG","Cg9PBNrLCM1VDMu","zgzpwwW"];return Y0=function(){return c},Y0()}const Fd="tsumami-panel-widths",$d={left:25,right:25},zx=15,Dx=15,ir=30;function Pm(){const c=an,i={YQstQ:c(401),uFyKH:function(a,r){return a>=r},sBBqE:function(a,r){return a-r},HtXkD:function(a,r){return a-r}};try{const a=localStorage[c(441)](Fd);if(a){const r=JSON.parse(a);if(typeof r[c(440)]===i.YQstQ&&typeof r[c(419)]===i[c(387)]&&r.left>=zx&&i[c(388)](r.right,Dx)&&i.uFyKH(i[c(444)](i[c(425)](100,r[c(440)]),r.right),ir))return r}}catch{}return $d}function Od(c,i){const a=an,r={lTTJW:function(g,m){return g-m},oKDVB:function(g,m){return g-m},bFANo:function(g,m){return g/m},xeYJy:function(g,m){return g/m}};let o=Math[a(423)](zx,c),f=Math[a(423)](Dx,i);const h=r.lTTJW(100,o)-f;if(h<ir){const g=r.oKDVB(ir,h);o-=r[a(407)](g,2),f-=r[a(438)](g,2),o=Math[a(423)](zx,o),f=Math[a(423)](Dx,f)}return{left:r.xeYJy(Math[a(431)](o*100),100),right:Math.round(f*100)/100}}function Fm(){const c=an,i={wrmsI:c(447),jqqep:c(418),zhqJZ:function(D,j){return D===j},pshnR:function(D,j){return D-j},xydNI:function(D,j){return D*j},dfOYl:"left",Fhzir:function(D,j){return D-j},rCPQY:function(D,j){return D-j},HPjGO:function(D,j){return D(j)},JLZnf:function(D,j,C){return D(j,C)},rrCGd:c(395),ZsmRk:c(404),WrLbi:function(D,j){return D(j)},VIPjV:c(392),jjtoR:function(D,j){return D(j)},Tjrfa:function(D,j,C){return D(j,C)},jmlvJ:function(D,j,C){return D(j,C)},Gsluh:function(D,j){return D(j)}},[a,r]=i.HPjGO(F.useState,Pm),o=F.useRef(null),f=F.useRef(null),[h,g]=i.HPjGO(F.useState,!1),[m,d]=i[c(399)](F.useState,()=>typeof window!==c(402)?window.matchMedia("(min-width: 768px)")[c(442)]:!0);F.useEffect(()=>{const D=c,j=window[D(397)](i[D(433)]),C=E=>d(E.matches);return j[D(437)](i[D(389)],C),()=>j.removeEventListener(D(418),C)},[]),i[c(382)](F.useEffect,()=>{const D=c;localStorage.setItem(Fd,JSON[D(396)](a))},[a]);const p=F.useRef(a);i[c(400)](F.useEffect,()=>{const D=c;p[D(430)]=a},[a]);const S=i.Tjrfa(F.useCallback,(D,j)=>{const C=c,E={muETe:function(Z,J){return Z-J},VFhGj:function(Z,J){return Z(J)},tMLAf:function(Z,J,Y){return Z(J,Y)}};j.preventDefault();const q=o.current;if(!q)return;f.current={side:D,startX:j[C(394)],startWidths:{...p.current}},g(!0),document.body[C(422)][C(446)]=C(426),document[C(435)][C(422)][C(408)]="none";const k=Z=>{const J=C,Y=f[J(430)];if(!Y)return;const V=q[J(439)]()[J(391)];if(i[J(427)](V,0))return;const $=i[J(383)](Z[J(394)],Y[J(410)]),P=i[J(434)]($/V,100);if(Y.side===i[J(393)]){const I=Y[J(409)].left+P,y=i[J(406)](i[J(383)](100,Y.startWidths[J(419)]),ir);r(Od(Math[J(416)](I,y),Y.startWidths[J(419)]))}else{const I=Y[J(409)][J(419)]-P,y=i[J(414)](100-Y[J(409)].left,ir);i[J(417)](r,i[J(384)](Od,Y.startWidths[J(440)],Math.min(I,y)))}},H=()=>{const Z=C;f.current=null,g(!1),document.body[Z(422)][Z(446)]="",document.body.style[Z(408)]="",window.removeEventListener(Z(392),k),window[Z(421)](i[Z(424)],H)};window[C(437)]("pointermove",k),window[C(437)](i[C(424)],H),A[C(430)]=()=>{const Z=C;if(Z(413)==="sLztM"){const J=i.ZsmRk.split("|");let Y=0;for(;;){switch(J[Y++]){case"0":i.WrLbi(g,!1);continue;case"1":window.removeEventListener(i.VIPjV,k);continue;case"2":document[Z(435)].style[Z(446)]="";continue;case"3":f[Z(430)]=null;continue;case"4":document[Z(435)].style[Z(408)]="";continue;case"5":window.removeEventListener(i[Z(424)],H);continue}break}}else{const J=_0xca5447[Z(409)][Z(440)]+_0x3d16cc,Y=E[Z(432)](100,_0x495c9a[Z(409)][Z(419)])-_0x405577;E[Z(405)](_0x1dd5ee,E.tMLAf(_0x3c8526,_0x24caa3[Z(416)](J,Y),_0x1c360e[Z(409)][Z(419)]))}}},[]),A=i[c(386)](F.useRef,null);F.useEffect(()=>()=>{A[an(430)]?.()},[]);const b=i.Tjrfa(F.useCallback,()=>{r($d)},[]);return{widths:a,containerRef:o,onDividerPointerDown:S,onDividerDoubleClick:b,isDragging:h,isDesktop:m}}function Id({side:c,onPointerDown:i,onDoubleClick:a,isDragging:r}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${r?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:o=>i(c,o),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(o=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${r?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},o))})})}(function(c,i){const a=Vt,r=c();for(;;)try{if(parseInt(a(337))/1+-parseInt(a(359))/2*(-parseInt(a(486))/3)+parseInt(a(440))/4*(-parseInt(a(412))/5)+parseInt(a(418))/6*(-parseInt(a(435))/7)+-parseInt(a(487))/8+-parseInt(a(463))/9*(parseInt(a(480))/10)+parseInt(a(367))/11*(parseInt(a(457))/12)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(H0,402818);const $m=(function(){let c=!0;return function(i,a){const r=c?function(){const o=Vt;if(a){const f=a[o(357)](i,arguments);return a=null,f}}:function(){};return c=!1,r}})(),Nx=$m(void 0,function(){const c=Vt,i={puHdf:c(321)};return Nx[c(322)]().search(i[c(330)]).toString().constructor(Nx).search(i[c(330)])});Nx();function H0(){const c=["sNPczLK","tfrmBeW","CxLPtMy","qKziq1C","z0PTsLG","wvz5tuq","zM1iqMK","q0zeuhG","ChjVAMvJDa","rvjTwxu","yxbWBhK","BejMtNC","mtq1nJq0yNzXBuHX","v1riBg0","y3fWzeu","y05fvKu","y29Sx2DYzwvU","AeHnDgW","zMXVD2vYrgLHBwv0zxi","AuLwtvy","mtK5nJy5nJL2AKvrq3C","y1byqw4","qufSsgC","BgvUz3rO","Bgf5zxjjza","s2PuBeq","tuHYz0W","EfHADvu","B3jKzxi","rerxtNG","zMLSDgvY","v29WsMK","yMfJAW","zMXVD2vYswrZ","vwDLAge","CMfKAxvZ","zMfICMLJu3f1yxjLu2L6zq","A2LUza","z3jVDxbZ","uxvpA1G","C2XPy2u","BMfTzq","CMvIAvG","whneqvC","y0rysxu","Dw5ZAgLMDa","ChvZAa","CM91BMq","C2LKzq","Aw5KzxG","t3HMuxi","y29SB3jjza","Cgv0ywXdB3vUDa","C3rLBMnPBhm","v0HZq1K","C2nHBgu","vhjprfu","r3rPz2W","C1voBfC","AuDzEfq","s1HdBwS","B3jsthu","BgvHzKLK","tuLvB1K","wuTOAxm","mZm3mty1wwLdzMXw","r0XLy2K","zM9YrwfJAa","AxfKDha","vhLUExu","sML6BLq","ndGYotrdC0nzr1i","wMrryvm","C05dDKq","Cgv0ywW","tu1mt2e","q0TeCK0","z3jVDxa","sNnOEhm","qxDtyM8","zMXVD2vYswq","DeDbEwO","DgjREuq","DvHAvuW","Bhj1qMy","C3rLBMnPBa","uvndv3m","y1nYEfi","nJaYsgntqu5k","zxzLCNK","CNzzDui","wwXgv0G","sgDWuMC","mJHmAff2AeW","A2nLBwW","Cgv0ywXZ","Bwf4","CKrYthm","rvj2EM8","rLL5Cw8","BgvHDMvZ","y2HRzg8","Aw5JBhvKzxm","wwL2tNa","z0XAvuy","zMXVD2vY","z0jOBgu","y29Z","z3jW","wLP6Ahm","mtjRwe1Wq1O","Dxj2A0y","Cgv0ywXuExbL","seTUCg0","Bgf5zxjZ","sePSsNO","ndiWndi2mhvotwLKDW","ueHdyxe","BgvHzKDYB3vWswq","yKLAwKK","Bgf5zxi","q1Pwtha","zMLUza","te55wKC","zxb5u3G","q1zhz0W","CgfSzxr0zq","wKzJvfm","A1fYDMO","qMTHDMu","t1ziELy","BgvHzKLKCW","DMX5u3y","mtboCNLfsLq","zNbZCg4","B2zMC2v0qw5NBgu","swP0EKS","BgvHzKDYB3vWCW","DurcyxK","mtvksfL6AKS","ndi0otC2ogvXwLnbyG","sxzzDw0","zMXVD2vYCW","CgPoz3G","yMfZzurPyw1LDgvY","kcGOlISPkYKRksSK","Dg9tDhjPBMC","DvDdsgO","AK5SAfi","qwDrz1C","BfvUu2S","CgXHy2vTzw50tw9Kzq","zK9kz3i","CK9dvLu","Chvizgy","veXcvMO","C29YDa","Eu1KB1y","zvPsBuK","z3jVDxbjza","uLLhvMW","mZG2mtm1sK1QBhbU","vePqD04","C2vHCMnO","ze1ivNu","zu9gqNa","CMv2zxjZzq","zgLHBwv0zxi","qwzmsLa","uhLSzwm","y0zZuMC"];return H0=function(){return c},H0()}function Vt(c,i){c=c-321;const a=H0();let r=a[c];if(Vt.DnNZxv===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Vt.XKCuMT=o,Vt.RyHfFS={},Vt.DnNZxv=!0}const f=a[0],h=c+f,g=Vt.RyHfFS[h];if(g)r=g;else{const m=function(d){this.NGRgTv=d,this.RRCrOy=[1,0,0],this.UTGXdC=function(){return"newState"},this.buoFrT="\\w+ *\\(\\) *{\\w+ *",this.BgHEsE=`['|"].+['|"];? *}`};m.prototype.oKtDwn=function(){const d=new RegExp(this.buoFrT+this.BgHEsE),p=d.test(this.UTGXdC.toString())?--this.RRCrOy[1]:--this.RRCrOy[0];return this.ykCGMY(p)},m.prototype.ykCGMY=function(d){return~d?this.hQUdSM(this.NGRgTv):d},m.prototype.hQUdSM=function(d){for(let p=0,S=this.RRCrOy.length;p<S;p++)this.RRCrOy.push(Math.round(Math.random())),S=this.RRCrOy.length;return d(this.RRCrOy[0])},new m(Vt).oKtDwn(),r=Vt.XKCuMT(r),Vt.RyHfFS[h]=r}return r}function eb({project:c,applyUpdate:i,selection:a,setSelection:r,setExpandedFlowers:o,setExpandedGroups:f,zoom:h,pan:g,stageSize:m,CANVAS_MAX_SVG:d,deleteLeafById:p,ungroupLeaves:S}){const A=Vt,b={pjNgx:function(y,v){return y===v},cNEVE:"oiVAm",bIZZI:function(y,v){return y(v)},kSKVT:function(y,v){return y/v},ERmYu:function(y,v){return y-v},lUnSk:function(y,v){return y/v},fmHBi:function(y,v){return y/v},OqlTg:function(y,v){return y*v},rDrLs:function(y,v){return y+v},cPXAn:A(476),Kyyas:function(y,v){return y||v},IjtzK:"flowers",aDNHn:"QBFGw",oOogL:function(y,v,z){return y(v,z)},urvkF:function(y,v){return y*v},TLBVj:function(y,v){return y/v},CZVLp:A(328),eOFBp:function(y,v){return y<=v},AwSbo:function(y,v){return y!==v},Tynyu:function(y,v,z,M){return y(v,z,M)},RYGVl:function(y,v){return y-v},AAlHg:function(y,v){return y<v},WHsCY:function(y,v){return y>=v},tbkyD:function(y,v,z,M){return y(v,z,M)},AtxRb:function(y,v){return y+v},lruBf:function(y,v,z){return y(v,z)},YlFWH:A(467),rOCVU:function(y,v){return y(v)},WopJi:function(y,v){return y>v},sNCvD:"epySx",oYUoC:function(y,v,z,M){return y(v,z,M)},eZRmI:function(y,v){return y<=v},IvYum:"petal",mKtHf:function(y,v){return y(v)},tkrSR:function(y,v,z){return y(v,z)},lUwHI:function(y,v){return y(v)},tKuLn:"AlIGp",FtRTX:A(361),cSrxR:"flower",orhzs:A(408),kceml:A(355),sItEf:"leaf",FWYNY:"leafGroup",CKDrM:A(460),kQrvj:A(447),cFsRg:A(403),HJlJz:function(y,v){return y===v},LTLlL:A(432),LtnCl:function(y,v){return y(v)},iIVMV:A(442),vlySv:function(y,v){return y===v},JzBfY:function(y,v){return y(v)},uirGi:A(373),jNlhR:function(y,v){return y(v)},ZdQaS:function(y,v,z){return y(v,z)},OxfQr:function(y,v){return y===v},OVHzV:A(391),DDWNx:A(455),iqdtp:function(y,v){return y(v)},IQBVm:A(424),QSCWs:function(y,v){return y===v},PHCaq:"JfVGA",ByZeK:function(y,v){return y===v},gBhle:A(395),Pylec:"stl",uLyPK:function(y,v,z){return y(v,z)},nIWGw:function(y,v,z){return y(v,z)},TJPwN:"AucJZ",YOwvm:function(y,v,z,M,w){return y(v,z,M,w)},WWxjy:function(y,v,z,M){return y(v,z,M)},hHMtl:function(y,v){return y<v},djmNw:function(y,v){return y===v},uXZUL:function(y,v){return y(v)},sQHfL:A(472),tbjKs:A(411),wbhUt:function(y,v){return y===v},smgHc:"gAmia",WgRZW:function(y,v){return y(v)},KjTlD:function(y,v){return y>v},gLZUF:function(y,v){return y+v},MMLOa:"iDbuJ",iGYxT:function(y,v){return y(v)},mnYSd:function(y,v){return y===v},WTHlm:"RVpmm",uKgnm:function(y,v){return y!==v},FYyqo:A(474),Ugeha:function(y,v){return y===v},APjzc:function(y,v){return y(v)},CFDPx:A(325),xXZuU:function(y,v){return y===v},dMHVu:function(y,v,z){return y(v,z)}},D=y=>{const v=A;if(b[v(490)](b[v(362)],"oiVAm")){const z=[...y[v(461)]].sort((R,N)=>R[v(375)]-N[v(375)]),M=z[0];if(!M)return 28;const w=y[v(383)]??c.fabricSquareSize,{length:T}=b[v(466)](Yt,w),G=T*(M[v(402)]??1);let K;if(y[v(327)]==="")K=b.kSKVT(G,3);else{const N=70*Math.PI/180,B=z.length+1,U=B-1,W=B>1?U/b.ERmYu(B,1)*N:0;K=G*b[v(326)](30,100)*Math[v(454)](W)}return b[v(353)](Math[v(394)](b.OqlTg(b.rDrLs(M[v(382)]??28,K),10)),10)}else{const z=(_0x1b5685[v(489)]||[])[v(469)](M=>M.id===_0xb54dd);if(!z)return;z.layers=(z.layers||[]).filter(M=>M.id!==_0x6d7246),z[v(461)].slice()[v(332)]((M,w)=>M.order-w.order).forEach((M,w)=>M[v(375)]=w+1)}},j=y=>{const v=A,z={lrtNp:b.IjtzK,uWCHj:b.aDNHn,gBKqz:"huDPz",LNyZG:v(386),ApEmA:function(M,w){return M-w},YivNp:function(M,w,T,G){return M(w,T,G)}};b.oOogL(i,M=>{const w=v;if(z[w(323)]===z.gBKqz)_0x43ee81({kind:z.lrtNp,flowerIds:[..._0x11d024,_0x48f873]});else if(M.flowers=(M.flowers||[])[w(377)](T=>T.id!==y),M.groups){for(const T of M.groups)z[w(470)]==="DtwBF"?(_0xc5b1dc[w(382)]=_0x429d52.radius,_0x4c9fe8.scale=_0x475796.scale):T[w(380)]=T.flowerIds[w(377)](G=>G!==y);M[w(385)]=M.groups.filter(T=>T[w(380)].length>0)}},!0),r({kind:"project"}),o(M=>{const w=v;if(b[w(368)]==="jDTDv"){const T=_0x2c781b[z.ApEmA(_0x48bf74,1)],G=_0x18fb96[_0x5a9246];G.offsetAngle=z[w(450)](_0x2ec41b,T[w(399)],T.offsetAngle,G.petalCount)}else{const T={...b.Kyyas(M,{})};return delete T[y],T}})},C=(y,v)=>{const z=A,M=c[z(489)].find(w=>w.id===y);if(M&&b[z(341)]((M.layers||[]).length,1)){j(y);return}i(w=>{const T=z;if(b.pjNgx(b[T(468)],"fOJgr")){const G=(w[T(489)]||[])[T(469)](K=>K.id===y);if(!G)return;G.layers=(G[T(461)]||[]).filter(K=>K.id!==v),G.layers.slice().sort((K,R)=>K.order-R[T(375)])[T(414)]((K,R)=>K[T(375)]=R+1)}else{const K=KeDpGW[T(390)](70,_0x4285a7.PI)/180,R=_0x265f5a.length+1,N=KeDpGW[T(481)](R,1),B=R>1?KeDpGW[T(390)](KeDpGW[T(333)](N,KeDpGW[T(481)](R,1)),K):0;_0x551f46=KeDpGW.kKhtf(_0x2fd822,30/100)*_0x31eec0.cos(B)}},!0),b.bIZZI(r,{kind:"flower",flowerId:y})},E=y=>{const v=A,z={SsGYP:v(452),PYoCv:function(W,le){return b[v(426)](W,le)},Gtigl:"HgpRg",MIUoY:function(W,le,se,oe){return b[v(416)](W,le,se,oe)},iZgvo:function(W,le){return W===le},ERvzo:function(W,le){return b[v(336)](W,le)}},M=c[v(489)].find(W=>W.id===y);if(!M)return;const w=[...M[v(461)]][v(332)]((W,le)=>W.order-le.order),T=w[0],G=we(T?.[v(399)]??6,5,24),K=w.map(W=>W.scale??1),R=b[v(369)](K[v(370)],2)||K[v(436)](W=>Math.abs(W-K[0])<.001);let N=T?.[v(402)]??1;if(!R&&b[v(401)](w[v(370)],2)){const W=w[b[v(336)](w[v(370)],1)],le=(W[v(375)]??1)-(T.order??1);if(le>0){const se=b.fmHBi(b[v(356)](T[v(402)]??1,W.scale??1),le);N=b[v(429)](we,b.AtxRb(T.scale??1,se),.3,3)}}const B=b.bIZZI(D,M),U={id:Gt("lay"),name:"Outer+",order:1,petalType:T?.[v(459)]??"",petalCount:G,radius:B,scale:N,widthScale:b[v(466)](ri,G),offsetAngle:T?.[v(482)]??0,colorId:T?.[v(398)]??c[v(473)]?.[0]?.id??v(363),visible:!0,locked:!1};T&&(U[v(482)]=Pn(T[v(399)],T[v(482)]??0,G)),b[v(431)](i,W=>{const le=v,se={sUNlW:function(oe,fe){return oe===fe},oOTSr:z.SsGYP,mqXOo:le(421)};if(z.PYoCv(le(439),z[le(404)])){const oe=_0x4de120.filter(fe=>fe.layerId+":"+fe[le(396)]!==_0x37be79);se[le(405)](oe.length,0)?_0x38e2b9({kind:se.oOTSr,flowerId:_0x2e6353}):oe[le(370)]===1?_0x3e7b33({kind:se.mqXOo,flowerId:_0x448315,layerId:oe[0].layerId,index:oe[0].index}):_0x12c0ed({kind:"petals",flowerId:_0x4b933b,petals:oe})}else{const oe=W[le(489)][le(469)](Ge=>Ge.id===y);if(!oe)return;oe[le(461)][le(414)](Ge=>Ge.order+=1),oe[le(461)].unshift(U);const fe=Math.round(z.MIUoY(tr,U.radius,U[le(402)],oe[le(383)]??W.fabricSquareSize)),he=oe.fabricSquareSize??W[le(383)],me=z.iZgvo(oe[le(327)],"")?lr(he,oe.layers.length,"uniform",0):z[le(410)](Xl,oe[le(491)]??W.baseDiameter,he,{layerCount:oe.layers.length})[le(343)];oe.flowerDiameter=Math[le(443)](oe.flowerDiameter||me,fe);const ve=[...oe[le(461)]].sort((Ge,Ze)=>Ge[le(375)]-Ze.order),qe=ve[le(342)]();for(let Ge=1;Ge<qe.length;Ge++){const Ze=qe[z[le(445)](Ge,1)],Ue=qe[Ge];Ue.offsetAngle=Pn(Ze[le(399)],Ze.offsetAngle,Ue[le(399)])}}},!0),b.bIZZI(r,{kind:b[v(438)],flowerId:y,layerId:U.id}),b[v(329)](o,W=>({...W,[y]:!0}))},q=y=>{const v=A,z=c.flowers[v(469)](T=>T.id===y);if(!z||!z[v(461)]||b.pjNgx(z[v(461)][v(370)],0))return;if(b[v(334)](z[v(461)][v(370)],1)){j(y);return}const M=[...z.layers].sort((T,G)=>T.order-G.order),w=M[0];if(w){if(i(T=>{const G=v,K=T.flowers[G(469)](B=>B.id===y);if(!K)return;K.layers=K.layers[G(377)](B=>B.id!==w.id),K.layers.slice()[G(332)]((B,U)=>B[G(375)]-U[G(375)])[G(414)]((B,U)=>B[G(375)]=U+1);const R=[...K.layers].sort((B,U)=>B[G(375)]-U[G(375)]),N=K[G(383)]??T.fabricSquareSize;if(b[G(378)](R.length,0)){ox(R,N);for(const W of R)if(b[G(420)]!==G(471)){_0x228ba1({kind:G(452),flowerId:_0x3fcea2.flowerId});return}else{const le=K[G(461)][G(469)](se=>se.id===W.id);le&&(le[G(382)]=W[G(382)])}const B=R[0];K[G(365)]=Math[G(394)](tr(B.radius,B[G(402)]??1,N));const U=[...R][G(342)]();for(let W=1;W<U.length;W++){const le=U[W-1],se=U[W];se[G(482)]=b.tbkyD(Pn,le.petalCount,le[G(482)],se.petalCount)}}},!0),b[v(490)](a.kind,"layer")&&a[v(371)]===w.id)r({kind:v(452),flowerId:y});else if(a[v(384)]===b.IvYum&&a.layerId===w.id)if(v(485)===v(351)){const T=_0x50a415[_0x368b8c-1],G=_0x18b4e8[_0x30f222];G.offsetAngle=b.oYUoC(_0x478d30,T.petalCount,T.offsetAngle,G[v(399)])}else b.mKtHf(r,{kind:"flower",flowerId:y})}},k=()=>{const y=A,v={tGAyj:b[y(434)],BwHBE:"(((.+)+)+)+$",AfLJP:function(z,M,w,T){return z(M,w,T)},tPTPp:b.orhzs,GPFRD:"uniform",bMYNJ:function(z,M){return z<M}};if(a.kind!==b[y(441)]){if(a[y(384)]===b.sItEf){p(a[y(409)]);return}if(b[y(490)](a[y(384)],b.FWYNY))if(b[y(426)](b[y(423)],y(456))){S(a.leafGroupId);return}else b.tkrSR(_0x27fedb,z=>{const M=y,w=(z[M(385)]??[]).find(T=>T.id===_0x2898bd);if(w)for(const T of _0x1c333f)w.flowerIds.includes(T)||w[M(380)][M(393)](T)},!0),b.lUwHI(_0x237ba9,{kind:y(424),groupId:_0x36274a});if(b[y(490)](a.kind,b[y(475)])){const z=a.leafIds;i(M=>{const w=y;if(M.leaves=(M[w(447)]??[]).filter(T=>!z[w(449)](T.id)),M[w(484)]){for(const T of M[w(484)])b.tKuLn!=="MDEvz"?T.leafIds=T[w(478)].filter(G=>!z.includes(G)):_0x4bccf7({kind:v[w(428)],flowerId:_0x2a344e});M.leafGroups=M[w(484)][w(377)](T=>T[w(478)].length>0)}},!0),b.mKtHf(r,{kind:b[y(441)]});return}if(a.kind===b[y(483)])if(b[y(490)](b[y(346)],"jRjQd"))_0x542e7b[y(400)]=(_0x2778b7.stencils??[])[y(377)](z=>z.id!==_0x29e10);else{const z=a[y(380)];i(M=>{const w=y;if(M.flowers=M.flowers.filter(T=>!z.includes(T.id)),M.groups){for(const T of M.groups)T.flowerIds=T[w(380)][w(377)](G=>!z.includes(G));M[w(385)]=M.groups.filter(T=>T[w(380)][w(370)]>0)}},!0),r({kind:b[y(441)]});return}if(a[y(384)]===y(424)){i(z=>{const M=y;z.groups&&(z[M(385)]=z[M(385)].filter(w=>w.id!==a[M(335)]))},!0),r({kind:b[y(441)]});return}if(b[y(462)](a[y(384)],b.LTLlL)){i(z=>{const M=y;z[M(400)]=(z[M(400)]??[])[M(377)](w=>w.id!==a.stencilId)},!0),b.LtnCl(r,{kind:y(355)});return}if(a.kind===b[y(366)]){if(b[y(479)]("udFFg",y(407)))return;b[y(347)](r,{kind:y(452),flowerId:a.flowerId});return}if(a.kind==="flower")if(b.uirGi!==y(350)){i(z=>{const M=y;if(z.flowers=z.flowers[M(377)](w=>w.id!==a[M(427)]),z[M(385)])if(b.FtRTX==="cqpdE"){for(const w of z.groups)w.flowerIds=w.flowerIds.filter(T=>T!==a[M(427)]);z.groups=z[M(385)].filter(w=>w[M(380)].length>0)}else _0x59769b[M(380)][M(449)](_0x4e7579)||_0x552e59.flowerIds.push(_0x74beb2)},!0),b[y(324)](r,{kind:y(355)});return}else return _0x1747b5[y(322)]().search(PUXShL.BwHBE).toString().constructor(_0x1577cc)[y(339)](y(321));if(a[y(384)]===b[y(438)]||a.kind===b.IvYum){const z=c.flowers[y(469)](w=>w.id===a.flowerId),M=z?[...z.layers][y(332)]((w,T)=>w.order-T[y(375)])[0]?.id===a[y(371)]:!1;b[y(419)](i,w=>{const T=y,G=w[T(489)][T(469)](K=>K.id===a[T(427)]);if(G&&(G[T(461)]=G[T(461)].filter(K=>K.id!==a[T(371)]),G[T(461)][T(387)]().sort((K,R)=>K[T(375)]-R.order)[T(414)]((K,R)=>K.order=R+1),G.layers[T(370)]>0)){const K=[...G.layers].sort((B,U)=>B.order-U[T(375)]),R=G[T(383)]??w.fabricSquareSize;ox(K,R);for(const B of K){const U=G.layers[T(469)](W=>W.id===B.id);U&&(U.radius=B[T(382)])}if(M){const B=K[0];G.flowerDiameter=Math[T(394)](v[T(344)](tr,B[T(382)],B[T(402)]??1,R))}else if(T(408)!==v.tPTPp){_0x353862(_0xd45412);return}else{const B=G.placementMode===""?lr(R,G[T(461)][T(370)],v.GPFRD,0):Xl(G.baseDiameter??w.baseDiameter,R,{layerCount:G[T(461)][T(370)]})[T(343)];v[T(344)](K0,K,R,G[T(365)]||B);for(const U of K){const W=G[T(461)].find(le=>le.id===U.id);W&&(W.radius=U.radius,W[T(402)]=U.scale)}}const N=[...K][T(342)]();for(let B=1;v.bMYNJ(B,N[T(370)]);B++){const U=N[B-1],W=N[B];W.offsetAngle=Pn(U[T(399)],U.offsetAngle,W[T(399)])}}},!0),r({kind:b[y(434)],flowerId:a[y(427)]})}}},H=b.tkrSR(F.useCallback,y=>{const v=A,z=Gt(b[v(376)]);i(M=>{const w=v,T={YVyMD:function(G,K,R){return G(K,R)}};if(b[w(397)](b[w(477)],b[w(477)])){M[w(385)]||(M.groups=[]);const G=M[w(385)].map(R=>{const N=w,B=R[N(388)].match(/^ (\d+)$/);return B?T[N(352)](parseInt,B[1],10):0}),K=G.length>0?Math.max(...G)+1:1;M.groups[w(393)]({id:z,name:" "+K,flowerIds:[...y]})}else{if(!_0xc4cb0c[w(385)])return;_0x5c06f0.groups=_0x51628d[w(385)].filter(G=>G.id!==_0x49a137[w(335)])}},!0),b[v(415)](r,{kind:"group",groupId:z}),f(M=>({...M,[z]:!0}))},[i,r,f]),Z=F.useCallback(y=>{const v=A;b[v(419)](i,z=>{z[v(385)]&&(z.groups=z.groups.filter(w=>w.id!==y))},!0),b.rOCVU(r,{kind:v(355)})},[i,r]),J=F.useCallback((y,v)=>{i(z=>{const M=Vt,w=(z.groups??[]).find(T=>T.id===y);if(w)for(const T of v)w[M(380)][M(449)](T)||w.flowerIds[M(393)](T)},!0),b.iqdtp(r,{kind:b.IQBVm,groupId:y})},[i,r]),Y=F.useCallback((y,v)=>{const z=A,M=y[0],w=y[z(387)](1);i(T=>{const G=z;if(!T.groups)return;const K=T.groups.find(R=>R.id===M);if(K){for(const R of w){const N=T.groups.find(B=>B.id===R);if(N)for(const B of N[G(380)])K[G(380)].includes(B)||K[G(380)].push(B)}for(const R of v)K[G(380)].includes(R)||K.flowerIds[G(393)](R);T.groups=T[G(385)].filter(R=>!w.includes(R.id))}},!0),r({kind:"group",groupId:M}),b.JzBfY(f,T=>({...T,[M]:!0}))},[i,r,f]),V=(y,v)=>{const z=A;if(b.QSCWs(b[z(464)],z(358))){const M=_0x210fae[z(388)].match(/^ (\d+)$/);return M?_0x4fb865(M[1],10):0}else{const M=m.w/m.h,w=520/h,T=w*M,G=-g.x/h,K=b.fmHBi(-g.y,h),R=b[z(444)](G,b[z(331)](T,2)),N=K+b[z(326)](w,2),B=b.ByZeK(v,"back")?z(379):b[z(453)],U=b.OqlTg(Wd[y][B].height,rn),W=we(R,0,d),le=b[z(416)](we,b[z(356)](N,b.fmHBi(U,2)),0,d),se={id:b.JzBfY(Gt,b[z(345)]),variant:y,pose:v,position:{x:W,y:le}};b.uLyPK(i,oe=>{const fe=z;oe.stencils||(oe[fe(400)]=[]),oe[fe(400)].push(se)},!0),b.JzBfY(r,{kind:"stencil",stencilId:se.id})}},$=y=>{const v=A,z={HfHIv:function(M,w){return M===w}};if(b.nIWGw(i,M=>{const w=Vt;M[w(400)]=(M.stencils??[]).filter(T=>T.id!==y)},!0),a.kind===b[v(348)]&&b[v(433)](a.stencilId,y))if(b[v(338)]!==b[v(338)]){const M=_0x1c9461[v(377)](w=>w!==_0x26d55f);z.HfHIv(M[v(370)],0)?_0x4759ca({kind:v(355)}):M[v(370)]===1?_0x30b0f6({kind:"flower",flowerId:M[0]}):_0x2afe84({kind:"flowers",flowerIds:M})}else r({kind:b[v(441)]})},P=b[A(340)](F.useCallback,y=>{const v=A,z={rvYuB:function(M,w){return M(w)},UfCbb:function(M,w){return b.vlySv(M,w)},Lpgky:function(M,w,T,G,K){return b.YOwvm(M,w,T,G,K)},rebiX:"uniform",chkdo:function(M,w,T,G){return b.WWxjy(M,w,T,G)},JsNlF:function(M,w){return b[Vt(364)](M,w)},dUVVs:function(M,w,T,G){return M(w,T,G)}};if(b.djmNw(a[v(384)],b[v(483)])){const M=a[v(380)];if(M.includes(y)){const w=M[v(377)](T=>T!==y);if(b.OxfQr(w.length,0))b[v(415)](r,{kind:v(355)});else if(w.length===1)b.uXZUL(r,{kind:b[v(434)],flowerId:w[0]});else if(b.sQHfL!==v(417))b[v(329)](r,{kind:b[v(483)],flowerIds:w});else{const T={layerId:_0x2263cc[v(371)],index:_0x2b0eac.index},G={layerId:_0x356e0d,index:_0x24e55f};if(T[v(371)]+":"+T.index===_0x1b54a3)return;z[v(437)](_0x56baf9,{kind:"petals",flowerId:_0x466923,petals:[T,G]})}}else r({kind:b[v(483)],flowerIds:[...M,y]})}else if(a.kind===b.cSrxR)if(b.AwSbo(b.tbjKs,v(411))){const M=_0x8c96f6.flowers.find(N=>N.id===_0x39b530);if(!M)return;M.layers.forEach(N=>N[v(375)]+=1),M[v(461)][v(392)](_0x23482d);const w=_0x5e2f9a.round(_0x3040a6(_0x9d3945[v(382)],_0x3bb0e8.scale,M[v(383)]??_0x5226df.fabricSquareSize)),T=M.fabricSquareSize??_0x4f0b76[v(383)],G=kwwdoL.UfCbb(M[v(327)],"")?kwwdoL.Lpgky(_0x1d729a,T,M.layers.length,kwwdoL[v(389)],0):kwwdoL[v(448)](_0x1dfab8,M.baseDiameter??_0x2a911d.baseDiameter,T,{layerCount:M.layers.length})[v(343)];M[v(365)]=_0x16cd3f.max(M.flowerDiameter||G,w);const K=[...M.layers][v(332)]((N,B)=>N.order-B[v(375)]),R=K[v(342)]();for(let N=1;kwwdoL.JsNlF(N,R.length);N++){const B=R[N-1],U=R[N];U[v(482)]=kwwdoL.dUVVs(_0x81d262,B.petalCount,B.offsetAngle,U[v(399)])}}else{if(a[v(427)]===y)return;r({kind:b.IjtzK,flowerIds:[a[v(427)],y]})}else if(b.wbhUt(a.kind,v(424))){const M=(c[v(385)]??[])[v(469)](T=>T.id===a.groupId),w=M?M[v(380)]:[];if(w[v(449)](y))return;r({kind:v(489),flowerIds:[...w,y]})}else if(v(349)!==b.smgHc)b.WgRZW(r,{kind:"flowers",flowerIds:[y]});else{const M={..._0x6468f8||{}};return delete M[_0x97ba2b],M}},[a,r,c[A(385)]]);return{deleteFlowerById:j,deleteLayerById:C,computeNewOuterRadius:D,addOuterLayer:E,deleteOuterLayer:q,deleteSelected:k,groupSelectedFlowers:H,ungroupFlowers:Z,addToGroup:J,mergeGroups:Y,addStencil:V,deleteStencil:$,handleShiftFlowerSelect:P,togglePetalSelection:(y,v,z,M)=>{const w=A;if(w(489),b[w(422)]==="iDbuJ"){if(!M){b[w(406)](r,{kind:"petal",flowerId:y,layerId:v,index:z});return}const T=v+":"+z;if(a.kind===b[w(366)]&&b.mnYSd(a.flowerId,y)){const G=a.petals||[];if(G.some(R=>R[w(371)]+":"+R.index===T))if(b.QSCWs(b.WTHlm,b[w(360)])){const R=G.filter(N=>N.layerId+":"+N.index!==T);if(R[w(370)]===0)if(b.uKgnm(b[w(446)],w(425)))r({kind:b.cSrxR,flowerId:y});else{const N=_0x590607[_0x18319c.length-1],B=(N[w(375)]??1)-(_0x3f3864[w(375)]??1);if(b[w(372)](B,0)){const U=((_0x504fbe.scale??1)-(N[w(402)]??1))/B;_0x17a360=b[w(429)](_0x456347,b[w(451)](_0x5798fd[w(402)]??1,U),.3,3)}}else b[w(381)](R.length,1)?b.APjzc(r,{kind:b[w(488)],flowerId:y,layerId:R[0].layerId,index:R[0].index}):b[w(430)](r,{kind:b.iIVMV,flowerId:y,petals:R})}else{cxDOHC.ICiVn(_0x3760ca,_0x410f9f[w(465)]);return}else b[w(354)]==="AgQgW"?b[w(324)](r,{kind:"petals",flowerId:y,petals:[...G,{layerId:v,index:z}]}):_0x4236e9.flowerIds=_0x5ab40f.flowerIds[w(377)](R=>R!==_0x3b10c5)}else if(b[w(490)](a.kind,w(421))&&b[w(374)](a.flowerId,y)){const G={layerId:a.layerId,index:a.index},K={layerId:v,index:z};if(b.HJlJz(G[w(371)]+":"+G.index,T))return;r({kind:w(442),flowerId:y,petals:[G,K]})}else r({kind:w(442),flowerId:y,petals:[{layerId:v,index:z}]})}else{if(cxDOHC[w(413)](_0x268764.flowerId,_0x283dcd))return;_0x17b872({kind:cxDOHC.skkbt,flowerIds:[_0x13993e[w(427)],_0x25b1d5]})}}}}(function(c,i){const a=Wt,r=c();for(;;)try{if(-parseInt(a(322))/1*(-parseInt(a(321))/2)+parseInt(a(296))/3+parseInt(a(319))/4*(parseInt(a(298))/5)+-parseInt(a(343))/6+parseInt(a(326))/7*(parseInt(a(306))/8)+parseInt(a(312))/9+-parseInt(a(314))/10===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(O0,321585);const tb=(function(){const c={jjLzt:function(a,r){return a===r}};let i=!0;return function(a,r){const o=Wt,f={EpNNH:function(g,m){return c.jjLzt(g,m)},xAMSY:o(346),ZMgXA:o(301)},h=i?function(){const g=o;if(r)if(f[g(348)](f[g(334)],f.ZMgXA))_0x1f3d32[g(295)]=_0x68934c[g(295)].filter(m=>m!==_0xb7c0e8);else{const m=r[g(324)](a,arguments);return r=null,m}}:function(){};return i=!1,h}})(),Ax=tb(void 0,function(){const c=Wt,i={dHbCH:"(((.+)+)+)+$"};return Ax.toString().search(i.dHbCH)[c(342)]()[c(317)](Ax).search(i[c(302)])});Ax();function O0(){const c=["q2zRqvy","ugD6sfi","vKrQzu4","mZa4nZyWs0fOwfvm","vwPqsM4","Bg9fCxG","wMXUue0","zMLSDgvY","BgvHzKDYB3vWCW","ntCXnZu0n2jMA3bYrq","BgvHDMvZ","nZmYmdi2mhr3BeXnDa","CLbszxe","AK5LvwW","y29UC3rYDwn0B3i","ywTPuha","oeDOBgnRvG","wuTSD0K","odKWywTICwnr","mtiYyNb6BhjV","DNbsvhy","yxbWBhK","C29Tzq","mZv4B2zrEeu","vuLzwfi","zNL1s0S","BgvUz3rO","DhLYr3O","ywjZ","CgfSzxr0zq","rLbsuve","Eefnu1K","C0PQsgC","uNDNwuS","Cg9ZAxrPB24","D2rJueS","5yMJ44gK44g+44g/","ChvZAa","C3bSAxq","Dg9tDhjPBMC","mJGWody1ngTmyLHeDW","zMLUza","Aw5JBhvKzxm","r1LKtLi","tgXdCwW","rxbotKG","BgvHzKLKCW","mtq0odq3ohP5u2XnDa","BgvHzG","mZKWody1CNr3DwfX","yLL6rwm","CenWqNu","tMTbALa","zeHIq0G"];return O0=function(){return c},O0()}function Wt(c,i){c=c-295;const a=O0();let r=a[c];if(Wt.xsgoWT===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Wt.zUWQzS=o,Wt.nlhpNg={},Wt.xsgoWT=!0}const f=a[0],h=c+f,g=Wt.nlhpNg[h];if(g)r=g;else{const m=function(d){this.nzPmkX=d,this.jRTXZL=[1,0,0],this.HRpgZT=function(){return"newState"},this.yKzzkJ="\\w+ *\\(\\) *{\\w+ *",this.onzqVP=`['|"].+['|"];? *}`};m.prototype.wkZSPp=function(){const d=new RegExp(this.yKzzkJ+this.onzqVP),p=d.test(this.HRpgZT.toString())?--this.jRTXZL[1]:--this.jRTXZL[0];return this.hfsVtw(p)},m.prototype.hfsVtw=function(d){return~d?this.TjDEWC(this.nzPmkX):d},m.prototype.TjDEWC=function(d){for(let p=0,S=this.jRTXZL.length;p<S;p++)this.jRTXZL.push(Math.round(Math.random())),S=this.jRTXZL.length;return d(this.jRTXZL[0])},new m(Wt).wkZSPp(),r=Wt.zUWQzS(r),Wt.nlhpNg[h]=r}return r}function nb({project:c,applyUpdate:i,selection:a,setSelection:r,zoom:o,pan:f,stageSize:h,CANVAS_MAX_SVG:g}){const m=Wt,d={AbQBg:function(E,q){return E<q},CfkAV:m(339),eaylW:"col_green",rPReq:function(E,q){return E/q},cLNXb:function(E,q){return E*q},ilZzI:function(E,q){return E+q},jNeUl:m(347),UYEpZ:m(338),ZlnPM:function(E,q){return E(q)},tyrGz:m(297),gAAsr:function(E,q,k){return E(q,k)},pOqho:function(E,q,k){return E(q,k)},FPRQQ:function(E,q){return E===q},PgzHR:function(E,q){return E(q)},UIYXR:"project",UjPJn:function(E,q){return E(q)},VDjeN:function(E,q){return E(q)},RwgYK:function(E,q){return E===q},yzMLX:function(E,q){return E(q)},bYzEc:function(E,q){return E!==q},gFNBb:"RASiV",YKlwI:function(E,q,k){return E(q,k)},vpRTv:function(E,q,k){return E(q,k)}},p=()=>{const E=m,q={ptKtF:function(y,v){return y/v},fyuKK:function(y,v){return y/v},pCpBu:function(y,v){return y+v},CxVTZ:function(y,v){return d.AbQBg(y,v)},ejpPu:function(y,v,z,M){return y(v,z,M)},sJjHg:d.CfkAV,MDCSW:d.eaylW},k=d.rPReq(h.w,h.h),H=d[E(315)](520,o),Z=d.cLNXb(H,k),J=-f.x/o,Y=d.rPReq(-f.y,o);let V=d.ilZzI(J,d[E(315)](Z,2)),$=Y+d.rPReq(H,2),P=0;for(;d.AbQBg(P,50)&&(c.leaves??[]).some(y=>Math[E(331)](y[E(337)].x-V)<5&&Math.abs(y.position.y-$)<5);)if(d[E(316)]===d.UYEpZ){const y=_0x13e276.w/_0x15744e.h,v=520/_0x4bd2ea,z=v*y,M=q.ptKtF(-_0x5b25cc.x,_0x1918e5),w=q.ptKtF(-_0x1cbf81.y,_0x244f82);let T=M+q[E(328)](z,2),G=q[E(300)](w,v/2),K=0;for(;q.CxVTZ(K,50)&&(_0x39a6bc.leaves??[])[E(325)](N=>_0x3e791b.abs(N.position.x-T)<5&&_0x14dc45[E(331)](N.position.y-G)<5);)T+=25,G+=25,T=_0x274951(T,0,_0x56efbe),G=q.ejpPu(_0x5716aa,G,0,_0xf6e00a),K++;const R={id:_0x89f62e("leaf"),name:"Leaf "+q[E(300)]((_0x340a77[E(313)]??[])[E(329)],1),position:{x:T,y:G},rotation:135,petalType:q[E(335)],colorId:_0x2676dc.palette?.find(N=>N.id==="col_green"||N.id==="col_darkgreen")?.id??_0x19ea02[E(332)]?.[0]?.id??q.MDCSW,scale:1,widthScale:1,visible:!0,locked:!1};_0x15bf95(N=>{const B=E;N.leaves||(N[B(313)]=[]),N.leaves[B(340)](R)},!0),_0x9ea3af({kind:"leaf",leafId:R.id})}else{const y="0|4|3|2|1"[E(341)]("|");let v=0;for(;;){switch(y[v++]){case"0":V+=25;continue;case"1":P++;continue;case"2":$=we($,0,g);continue;case"3":V=we(V,0,g);continue;case"4":$+=25;continue}break}}const I={id:d[E(309)](Gt,d[E(330)]),name:"Leaf "+((c.leaves??[])[E(329)]+1),position:{x:V,y:$},rotation:135,petalType:d[E(303)],colorId:c[E(332)]?.[E(344)](y=>y.id==="col_green"||y.id==="col_darkgreen")?.id??c.palette?.[0]?.id??"col_green",scale:1,widthScale:1,visible:!0,locked:!1};d.gAAsr(i,y=>{const v=E;y[v(313)]||(y[v(313)]=[]),y[v(313)].push(I)},!0),r({kind:d.tyrGz,leafId:I.id})},S=E=>{d.pOqho(i,q=>{const k=Wt;if(q[k(313)]=(q.leaves??[])[k(310)](H=>H.id!==E),q.leafGroups){for(const H of q.leafGroups)H.leafIds=H[k(295)][k(310)](Z=>Z!==E);q.leafGroups=q[k(311)][k(310)](H=>H[k(295)].length>0)}},!0),r({kind:"project"})},A=F.useCallback(E=>{const q=m;if(d[q(333)](a.kind,q(313))){const k=a[q(295)];if(k[q(345)](E)){const H=k[q(310)](Z=>Z!==E);if(H[q(329)]===0)if(d[q(333)](q(318),q(308))){for(const Z of _0x1233a2.leafGroups)Z[q(295)]=Z.leafIds[q(310)](J=>J!==_0x3333b5);_0x4187d6.leafGroups=_0x379e03[q(311)].filter(Z=>Z.leafIds[q(329)]>0)}else d[q(304)](r,{kind:d[q(327)]});else H[q(329)]===1?d[q(309)](r,{kind:d[q(330)],leafId:H[0]}):d[q(307)](r,{kind:q(313),leafIds:H})}else d[q(305)](r,{kind:q(313),leafIds:[...k,E]})}else if(a.kind==="leaf"){if(d[q(336)](a.leafId,E))return;d[q(307)](r,{kind:"leaves",leafIds:[a.leafId,E]})}else d[q(305)](r,{kind:q(313),leafIds:[E]})},[a,r]),b=F.useCallback(E=>{const q=m,k=d.VDjeN(Gt,"lg"),H=" "+((c[q(311)]??[])[q(329)]+1);d.pOqho(i,Z=>{const J=q;Z[J(311)]||(Z.leafGroups=[]),Z[J(311)][J(340)]({id:k,name:H,leafIds:[...E],rotation:0})},!0),d.yzMLX(r,{kind:"leafGroup",leafGroupId:k})},[c.leafGroups,i,r]),D=F.useCallback(E=>{d.pOqho(i,q=>{const k=Wt;q.leafGroups&&(q[k(311)]=q[k(311)][k(310)](H=>H.id!==E))},!0),r({kind:d.UIYXR})},[i,r]),j=d[m(323)](F.useCallback,(E,q)=>{const k=m;d[k(299)]("RASiV",d.gFNBb)?_0x3bde92({kind:"project"}):d[k(320)](i,H=>{const Z=k,J=(H.leafGroups??[])[Z(344)](Y=>Y.id===q);J&&!J.leafIds.includes(E)&&J.leafIds[Z(340)](E)},!0)},[i]),C=F.useCallback(E=>{i(q=>{const k=Wt;if(q[k(311)]){for(const H of q.leafGroups)H.leafIds=H.leafIds.filter(Z=>Z!==E);q[k(311)]=q[k(311)].filter(H=>H.leafIds.length>0)}},!0)},[i]);return{addLeaf:p,deleteLeafById:S,handleShiftLeafSelect:A,groupSelectedLeaves:b,ungroupLeaves:D,addLeafToGroup:j,removeLeafFromGroup:C}}(function(c,i){const a=Rn,r=c();for(;;)try{if(parseInt(a(481))/1*(parseInt(a(448))/2)+parseInt(a(427))/3+parseInt(a(430))/4+-parseInt(a(468))/5+-parseInt(a(416))/6*(-parseInt(a(436))/7)+-parseInt(a(450))/8+parseInt(a(477))/9*(parseInt(a(440))/10)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(I0,820029);const lb=(function(){const c=Rn,i={cJkxA:"",HIHlY:c(454),ieqfc:function(r,o){return r===o},krPmI:"PMsTi"};let a=!0;return function(r,o){const f=c,h={bLlCz:i[f(463)],GJNiW:function(g,m){return g!==m},RHzsM:i[f(413)]};if(i.ieqfc(i.krPmI,"PMsTi")){const g=a?function(){const m=f,d={LOVxe:function(p,S){return p===S},jJaHa:h[m(460)],oveVz:function(p,S,A,b,D){return p(S,A,b,D)},NXSqo:function(p,S){return p(S)}};if(o)if(h[m(425)](h[m(433)],m(454))){const p=_0x441863.fabricSquareSize,S=_0x4d5b97[m(485)];_0x54e347(A=>{const b=m,D={...A,fabricSquareSize:p,baseDiameter:S};return d.LOVxe(D.placementMode,d.jJaHa)?D[b(424)]=_0x37d390(S,p,{layerCount:D[b(432)],sizeMode:D[b(462)],sizeStepMm:D[b(437)]}).diameter:D.flowerDiameter=d.oveVz(_0x4044e6,p,D[b(432)],D[b(462)],D[b(437)]),D}),d.NXSqo(_0x439320,!0)}else{const p=o.apply(r,arguments);return o=null,p}}:function(){};return a=!1,g}else _0x4f7fb3=_0x71715d/3}})(),Tx=lb(void 0,function(){const c=Rn,i={QDSHj:"(((.+)+)+)+$"};return Tx[c(479)]()[c(409)](i.QDSHj).toString()[c(420)](Tx).search(i.QDSHj)});Tx();function Rn(c,i){c=c-401;const a=I0();let r=a[c];if(Rn.DkiNdc===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};Rn.dTKPdB=o,Rn.SrykxU={},Rn.DkiNdc=!0}const f=a[0],h=c+f,g=Rn.SrykxU[h];if(g)r=g;else{const m=function(d){this.pbxJHd=d,this.scygTP=[1,0,0],this.bnyfSg=function(){return"newState"},this.ifGueM="\\w+ *\\(\\) *{\\w+ *",this.ENHaVQ=`['|"].+['|"];? *}`};m.prototype.qQUCMQ=function(){const d=new RegExp(this.ifGueM+this.ENHaVQ),p=d.test(this.bnyfSg.toString())?--this.scygTP[1]:--this.scygTP[0];return this.EaazbL(p)},m.prototype.EaazbL=function(d){return~d?this.tTAMbH(this.pbxJHd):d},m.prototype.tTAMbH=function(d){for(let p=0,S=this.scygTP.length;p<S;p++)this.scygTP.push(Math.round(Math.random())),S=this.scygTP.length;return d(this.scygTP[0])},new m(Rn).qQUCMQ(),r=Rn.dTKPdB(r),Rn.SrykxU[h]=r}return r}function ab({project:c,applyUpdate:i,setSelection:a,setExpandedFlowers:r,zoom:o,pan:f,stageSize:h,CANVAS_MAX_SVG:g}){const m=Rn,d={qzAjW:function(C,E){return C===E},QwdnR:function(C,E,q,k){return C(E,q,k)},ofgAE:m(456),yuHSC:m(435),PKOVQ:function(C,E){return C(E)},KwCIl:function(C,E){return C*E},PwKFk:function(C,E){return C-E},ZBQjy:function(C,E){return C/E},smeQT:function(C,E){return C>E},qmAWn:function(C,E){return C*E},gvitb:function(C,E){return C/E},hhsGa:function(C,E){return C+E},kAvJN:"WLCHK",amkFw:"sPKik",FNUOD:function(C,E){return C*E},iWRyr:m(470),BgrvK:function(C,E){return C<E},thlVH:function(C,E){return C===E},mKmhm:"uHWek",nsAwm:function(C,E){return C/E},OTgyd:function(C,E,q,k){return C(E,q,k)},QYyxg:function(C,E){return C===E},UDLtN:"gradual",lJmCd:function(C,E){return C+E},mEhyt:function(C,E){return C/E},nNNuY:function(C,E){return C*E},eUBuZ:function(C,E){return C/E},wqxpg:function(C,E){return C*E},sndlg:function(C,E){return C*E},KNqiO:function(C,E,q,k){return C(E,q,k)},VbCsv:function(C,E){return C===E},mIbfo:function(C,E){return C<=E},dVGZs:m(471),GtsYk:function(C,E){return C-E},ItDvx:m(452),kQFcF:function(C,E){return C/E},DeoLH:function(C,E){return C/E},mOkJh:function(C,E){return C*E},EUNaM:function(C,E){return C/E},KQNbK:function(C,E){return C+E},htXHJ:m(473),MFpJp:function(C,E){return C(E)},HPPet:function(C,E){return C+E},sEhkg:"col_white",erfiE:function(C,E,q){return C(E,q)},bjBXe:m(419),hxDvt:"uniform"},[p,S]=F.useState(!1),[A,b]=F.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:d[m(404)],sizeMode:d[m(406)],sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:p,setShowAddFlowerDialog:S,addFlowerOpts:A,setAddFlowerOpts:b,addFlower:()=>{const C=m;if(d[C(442)](d.ofgAE,d[C(464)]))_0x4f9e20=C(423);else{const E=c[C(446)],q=c[C(485)];b(k=>{const H=C,Z={...k,fabricSquareSize:E,baseDiameter:q};return d.qzAjW(Z.placementMode,"")?Z[H(424)]=d[H(483)](Xl,q,E,{layerCount:Z[H(432)],sizeMode:Z[H(462)],sizeStepMm:Z.sizeStepMm}).diameter:Z[H(424)]=lr(E,Z[H(432)],Z[H(462)],Z[H(437)]),Z}),d.PKOVQ(S,!0)}},confirmAddFlower:()=>{const C=m,{placementMode:E,layerCount:q,petalCount:k,petalType:H,sizeMode:Z,sizeStepMm:J}=A,Y=A[C(446)],{length:V}=Yt(Y),$=.28,P=Math.round(d[C(445)](V,$)*10)/10,I=[],y=[C(458),"Inner",C(403),C(453),d.iWRyr];let v=P,z=0;for(let fe=0;d.BgrvK(fe,q);fe++)if(d.thlVH(d.mKmhm,C(402))){const he=_0x3d1783[C(467)](me=>me.id===_0x32ade2.id);he&&(he[C(444)]=_0x102f59.radius,he.scale=_0x4a9c51[C(461)])}else{const he=fe,me=1;let ve;if(d.qzAjW(Z,"uniform"))d[C(415)](C(472),C(472))?ve=me:_0x475bce.flowerDiameter=vjElJe.bVYYt(_0xb1d383,_0x2f7ed2,_0x5d9c7d[C(432)],_0x117a25[C(462)],_0x11ec03.sizeStepMm);else{const Ue=d[C(417)](J,Y);ve=d.OTgyd(we,me+he*Ue,.3,3)}let qe;if(d[C(429)](fe,0))qe=P;else{const Ue=Z===d.UDLtN?d.QwdnR(we,d.lJmCd(1,d[C(475)](d.qmAWn(d[C(412)](fe,1),J),Y)),.3,3):1,ht=d.nNNuY(V,Ue);let zt;if(d.QYyxg(E,C(449))){const mt=d[C(465)](d[C(478)](70,Math.PI),180),Zt=d.smeQT(q,1)?d[C(422)](fe/d.PwKFk(q,1),mt):0,vn=Math[C(439)](Zt);zt=d.qmAWn(ht*(30/100),vn)}else zt=d[C(465)](ht,3);v=v+zt,qe=d[C(441)](Math.round(d.sndlg(v,10)),10)}const Ge=fe===0?0:d.KNqiO(Pn,k,z,k);z=Ge;let Ze;if(q===1)d.VbCsv("CJuCb",C(401))?Ze="Layer":(_0x46c832[C(444)]=_0xe7712c.radius,_0x20c064[C(461)]=_0x1ab0c4[C(461)]);else if(d.mIbfo(q,5)){const Ue=q===2?[0,3]:d.QYyxg(q,3)?[0,1,3]:q===4?[0,1,2,3]:[0,1,2,3,4];Ze=y[Ue[fe]]??"Layer "+d.lJmCd(fe,1)}else Ze=C(414)+d.hhsGa(fe,1);I[C(426)]({id:Gt(d.dVGZs),name:Ze,order:d.GtsYk(q,fe),petalType:H,petalCount:k,radius:qe,scale:ve,widthScale:ri(k),offsetAngle:Ge,colorId:A.colorId||(c.palette?.[0]?.id??C(421)),visible:!0,locked:!1})}I.reverse();const M=[...I][C(451)]((fe,he)=>fe.order-he.order),w=E===""?Xl(A.baseDiameter,Y,{layerCount:q,sizeMode:Z,sizeStepMm:J})[C(447)]:lr(Y,q,Z,J);K0(M,Y,A[C(424)]||w);for(const fe of M){const he=I.find(me=>me.id===fe.id);if(he)if(d[C(429)](d[C(443)],d[C(443)]))he.radius=fe.radius,he[C(461)]=fe.scale;else{const me=_0x3d9c0a==="gradual"?_0xedc086(1+d[C(469)](d[C(412)](_0x40a204,1),_0x27ad34)/_0x15e742,.3,3):1,ve=_0x34a2bf*me;let qe;if(d.qzAjW(_0x30965e,"")){const Ze=d[C(466)](70*_0x17e831.PI,180),Ue=d[C(438)](_0x7fd67e,1)?d[C(466)](_0x44cb39,d.PwKFk(_0x3522f7,1))*Ze:0,ht=_0x3ce5c9.cos(Ue);qe=d.qmAWn(ve*d[C(466)](30,100),ht)}else qe=d.gvitb(ve,3);_0x5346fc=d.hhsGa(_0x42baca,qe),_0x3a4918=d[C(466)](_0x218f27[C(408)](_0x258e29*10),10)}}const T=d.kQFcF(h.w,h.h),G=d[C(474)](520,o),K=d[C(459)](G,T),R=-f.x/o,N=d.EUNaM(-f.y,o);let B=R+d.DeoLH(K,2),U=d[C(405)](N,d.EUNaM(G,2));const W=25;let le=0;for(;le<50&&c.flowers.some(fe=>Math[C(480)](fe[C(476)].x-B)<5&&Math[C(480)](fe.position.y-U)<5);){const fe=d[C(457)].split("|");let he=0;for(;;){switch(fe[he++]){case"0":U=we(U,0,g);continue;case"1":U+=W;continue;case"2":B=d.QwdnR(we,B,0,g);continue;case"3":le++;continue;case"4":B+=W;continue}break}}const se=A.flowerDiameter||w,oe={id:d.MFpJp(Gt,C(434)),name:"Flower "+d[C(428)](c[C(410)][C(418)],1),position:{x:B,y:U},flowerDiameter:se,rotation:0,layers:I,center:{type:C(407),size:6,color:d.sEhkg},fabricSquareSize:Y,placementMode:E,baseDiameter:E===""?A.baseDiameter:er(se)};d[C(411)](i,fe=>{const he=C;if(d[he(482)]!==d[he(431)])fe.flowers.push(oe);else{const me={..._0x24faae,fabricSquareSize:_0x59bf45,baseDiameter:_0x4d4749};return me[he(484)]===vjElJe[he(455)]?me[he(424)]=vjElJe.SlChn(_0x1ec3ed,_0x31baad,_0x40562a,{layerCount:me[he(432)],sizeMode:me[he(462)],sizeStepMm:me[he(437)]}).diameter:me[he(424)]=_0x189fde(_0x1f2e7e,me.layerCount,me.sizeMode,me.sizeStepMm),me}},!0),d.PKOVQ(a,{kind:"flower",flowerId:oe.id}),d.PKOVQ(r,fe=>({...fe,[oe.id]:!0})),S(!1)}}}function I0(){const c=["ode4nZCZAMTzBgDY","A0f2sK4","uxDKBLi","CgXHy2vTzw50tw9Kzq","yMfZzurPyw1LDgvY","q0P1q2i","B1vfqMC","twLKzgXL","yMPcwgu","s1foyKS","AhHeDNq","44or44o844oR","CM91BMq","C2vHCMnO","zMXVD2vYCW","zxjMAuu","uhDlrMS","seLiBfK","tgf5zxiG","DgHSvKG","nZHmuwfQyKy","BNnbD20","BgvUz3rO","5lI444gK44g+44g/","y29UC3rYDwn0B3i","y29Sx3DOAxrL","D3f4CgC","tgf5zxi","zMXVD2vYrgLHBwv0zxi","r0PoAvC","ChvZAa","otGXmJCWthnvwezQ","sfbqzxq","uvL5EgC","nJaYmdyYnhHIyMjIrG","yw1RrNC","Bgf5zxjdB3vUDa","uKH6C00","zMX3","vMzyD0e","ntu1odK4DM1TsfPe","C2L6zvn0zxbnBq","C21Luvq","y29Z","mZbTufvMq1O","z3zPDgi","CxPbALC","sxreDNG","CMfKAxvZ","rK5vt0q","zMfICMLJu3f1yxjLu2L6zq","zgLHBwv0zxi","mMPYD1nftG","5y2k44gp44gz","mti3otK5nJbdz3fYwgK","C29YDa","wxbAshe","t3v0zxi","BM1lDgW","vg94tKe","v0HPDM0","AhryseO","q2vUDgvY","Bu9RsMG","yKXSq3O","C2nHBgu","C2L6zu1Vzgu","y0PREee","Exviu0m","zvvcDvO","wKjrANK","zMLUza","odaZotG3nxDSB1n2Eq","s3DdswW","t3v0zxiR","Bgf5","s2jrAwG","nhWXFdj8mhWZ","rgvVteG","BuvOExq","Cg9ZAxrPB24","mtaZmZC5ngPZEvnfCG","BK5oDvK","Dg9tDhjPBMC","ywjZ"];return I0=function(){return c},I0()}(function(c,i){const a=kn,r=c();for(;;)try{if(-parseInt(a(343))/1+-parseInt(a(347))/2*(parseInt(a(331))/3)+parseInt(a(313))/4+parseInt(a(307))/5*(-parseInt(a(329))/6)+parseInt(a(318))/7*(-parseInt(a(336))/8)+parseInt(a(327))/9+parseInt(a(299))/10*(parseInt(a(330))/11)===i)break;r.push(r.shift())}catch{r.push(r.shift())}})(Z0,652098);const ib=(function(){const c=kn,i={xTIBp:c(301),NiFCh:function(r,o){return r===o}};let a=!0;return function(r,o){const f=c,h={lpSEi:i[f(332)]};if(i[f(300)](f(302),f(334)))return _0x272556.kind==="flower"||_0x3706e6.kind===f(314)||_0x4e352b.kind==="petal"||_0x2389a2.kind===h.lpSEi?_0x151ef4[f(311)].find(g=>g.id===_0x28bfc3[f(338)])??null:null;{const g=a?function(){if(o){const m=o.apply(r,arguments);return o=null,m}}:function(){};return a=!1,g}}})(),Lx=ib(void 0,function(){const c=kn,i={siZtn:"(((.+)+)+)+$"};return Lx.toString().search(i.siZtn).toString().constructor(Lx).search(i[c(296)])});Lx();function Z0(){const c=["A2LUza","zMXVD2vYswrZ","BgvHzKDYB3vW","AuvLvM8","qMjrrKy","C2LADg4","DMziuKS","BgvHzKLKCW","nde2ndmWwufHtejl","tMLgq2G","Cgv0ywXZ","rLb3qMm","BgvHzKDYB3vWswq","Bgf5zxjZ","BgvHzKDYB3vWCW","zMXVD2vY","ntyYntuXmfjxwfD4sq","Aw5KzxG","q3HSy3O","zMLSDgvY","zMXVD2vYCW","Cgv0ywW","mZm0mJa0A0fSsxrw","Bgf5zxi","z3jVDxa","Cw5SzwC","Aw5JBhvKzxm","mteYmJmXq0vtv2nw","v0Pgwu4","zMT4vu4","ugXgr1i","B1rrsMG","z3jVDxbZ","Bgf5zxjjza","BgvHzG","ELreBeK","ntGYntqZovrfs3roDq","z3jVDxbjza","nMfKEK5LrG","otaYENvlshDo","nLjNu2rMra","EfrjqNa","tLznsvC","zhPrDKi","yxLXAee","mZC2rLPZuMzr","AKLRs2i","zMXVD2vYswq","sfHbyLm","y2vpAuS","tNrtqwe","zMLUza","ntKWnZy1vvDqvKT4","zgX3qLi","BgvHzKLK","uwTbueW","mtaYndaZmKLYv0Hrvq"];return Z0=function(){return c},Z0()}function kn(c,i){c=c-293;const a=Z0();let r=a[c];if(kn.YKYriL===void 0){var o=function(m){const d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let p="",S="",A=p+o;for(let b=0,D,j,C=0;j=m.charAt(C++);~j&&(D=b%4?D*64+j:j,b++%4)?p+=A.charCodeAt(C+10)-10!==0?String.fromCharCode(255&D>>(-2*b&6)):b:0)j=d.indexOf(j);for(let b=0,D=p.length;b<D;b++)S+="%"+("00"+p.charCodeAt(b).toString(16)).slice(-2);return decodeURIComponent(S)};kn.VAPXEl=o,kn.KDpADn={},kn.YKYriL=!0}const f=a[0],h=c+f,g=kn.KDpADn[h];if(g)r=g;else{const m=function(d){this.zpviLr=d,this.kmuuSG=[1,0,0],this.FrIbOy=function(){return"newState"},this.GDsJVi="\\w+ *\\(\\) *{\\w+ *",this.PUVfvX=`['|"].+['|"];? *}`};m.prototype.mhItzm=function(){const d=new RegExp(this.GDsJVi+this.PUVfvX),p=d.test(this.FrIbOy.toString())?--this.kmuuSG[1]:--this.kmuuSG[0];return this.rLQkbv(p)},m.prototype.rLQkbv=function(d){return~d?this.VTqCHR(this.zpviLr):d},m.prototype.VTqCHR=function(d){for(let p=0,S=this.kmuuSG.length;p<S;p++)this.kmuuSG.push(Math.round(Math.random())),S=this.kmuuSG.length;return d(this.kmuuSG[0])},new m(kn).mhItzm(),r=kn.VAPXEl(r),kn.KDpADn[h]=r}return r}function rb(c,i){const a=kn,r={WJFYN:function(j,C){return j===C},vbSku:a(306),PlFGR:a(312),fkxUN:a(301),cEYSd:a(315),HXAbS:function(j,C){return j===C},NVMIW:"CRKvM",oTQJh:function(j,C){return j===C},SVomU:function(j,C){return j===C},Cxlcz:function(j,C){return j===C},BbQFF:"ajDTZ",zTDlI:"fVAnt",zeZsr:a(311),MjYsp:function(j,C){return j===C},NtSAa:a(314),lfnRA:function(j,C){return j===C},IifQp:function(j,C,E){return j(C,E)},ayqhA:"vtKle",ceOiK:a(325),iEeVo:function(j,C,E){return j(C,E)},uNEXl:function(j,C){return j===C},qnleg:function(j,C){return j===C},jIkKb:function(j,C){return j===C},dlwBR:function(j,C,E){return j(C,E)}},o=r.IifQp(F.useMemo,()=>{const j=a;return r.WJFYN(i[j(348)],r.vbSku)||i.kind==="layer"||r[j(319)](i[j(348)],r.PlFGR)||i[j(348)]===r[j(320)]?c.flowers.find(C=>C.id===i.flowerId)??null:null},[c.flowers,i]),f=F.useMemo(()=>{const j=a;if(i.kind==="flowers")return c[j(311)][j(310)](C=>i[j(349)].includes(C.id));if(i[j(348)]===r.cEYSd){const C=(c[j(323)]??[]).find(E=>E.id===i[j(328)]);if(C)return c[j(311)].filter(E=>C.flowerIds.includes(E.id))}return[]},[c.flowers,c[a(323)],i]),h=F.useMemo(()=>{const j=a;return r.HXAbS(i.kind,"leaf")?(c.leaves??[]).find(C=>C.id===i[j(345)])??null:null},[c.leaves,i]),g=r[a(294)](F.useMemo,()=>{const j=a;if(r[j(333)]!==j(297))return r[j(322)](i[j(348)],j(293))?(c[j(305)]??[]).find(C=>C.id===i.leafGroupId)??null:null;{const C=_0x5e9515(_0x581783,_0x173d9b.flowerId);if(C)return _0x63d661.kind===r.vbSku?new _0x2e4877(C.flowerIds.filter(E=>E!==_0x502219[j(338)])):new _0x1e02ee(C[j(349)])}},[c[a(305)],i]),m=r.iEeVo(F.useMemo,()=>{const j=a;return o&&(i[j(348)]===j(314)||r.SVomU(i[j(348)],r[j(321)]))?r[j(309)](r[j(295)],r[j(326)])?new _0x24a045(_0x4f7824.flowerIds[j(310)](C=>C!==_0x505bb1.flowerId)):o[j(304)].find(C=>C.id===i[j(324)])??null:null},[o,i]),d=i.kind===r.PlFGR?i[a(308)]:null,p=r.uNEXl(i[a(348)],r.fkxUN)?i[a(301)]:[],S=r.WJFYN(i[a(348)],"stencil")?(c.stencils??[]).find(j=>j.id===i.stencilId)??null:null,A=r[a(316)](i[a(348)],a(306))||r[a(337)](i.kind,"layer")||i[a(348)]===a(312)||r.MjYsp(i.kind,r.fkxUN)?i.flowerId:null,b=F.useMemo(()=>{const j=a;if(r[j(339)](i[j(348)],j(315))){const C=(c[j(323)]??[])[j(342)](E=>E.id===i.groupId);if(C)return new Set(C.flowerIds)}if(i.kind===r.zeZsr)return new Set(i[j(349)]);if(r.MjYsp(i.kind,j(306))||i[j(348)]===r[j(341)]||r.lfnRA(i[j(348)],r.PlFGR)||r[j(319)](i[j(348)],r[j(320)])){const C=r.IifQp(ba,c,i[j(338)]);if(C)return i.kind==="flower"?new Set(C.flowerIds.filter(E=>E!==i.flowerId)):new Set(C[j(349)])}return new Set},[i,c]),D=r[a(344)](F.useMemo,()=>{const j=a;if(r.zeZsr,r[j(335)]===r.ayqhA){if(r.oTQJh(i[j(348)],"leafGroup")){const C=(c[j(305)]??[])[j(342)](E=>E.id===i[j(303)]);if(C)return new Set(C[j(298)])}if(i[j(348)]===r[j(340)]){const C=U0(c,i[j(345)]);if(C)return new Set(C[j(298)].filter(E=>E!==i.leafId))}return new Set}else{if(_0x44de93.kind===rHtVFu.ScVTZ)return _0x6cf953[j(311)].filter(C=>_0x31f359[j(349)][j(317)](C.id));if(rHtVFu[j(346)](_0x3b7b2e[j(348)],j(315))){const C=(_0x13a32e[j(323)]??[]).find(E=>E.id===_0x2be181.groupId);if(C)return _0x1fe660.flowers.filter(E=>C[j(349)].includes(E.id))}return[]}},[i,c]);return{selectedFlower:o,selectedFlowers:f,selectedLeaf:h,selectedLeafGroup:g,selectedLayer:m,selectedPetalIndex:d,selectedPetals:p,selectedStencil:S,selectedFlowerId:A,groupHighlightedFlowerIds:b,leafGroupHighlightedLeafIds:D}}function cb(c){const{project:i,selection:a,setSelection:r,applyUpdate:o}=c,f=F.useMemo(()=>new Map((i.palette||[]).map(de=>[de.id,de])),[i.palette]),{widths:h,containerRef:g,onDividerPointerDown:m,onDividerDoubleClick:d,isDragging:p,isDesktop:S}=Fm(),A=F.useMemo(()=>`tsumami_tree_expanded_v1_${i.id}`,[i.id]),[b,D]=F.useState({});F.useEffect(()=>{try{const _e=localStorage.getItem(A);if(_e){const Xe=JSON.parse(_e);if(Xe&&typeof Xe=="object"){D(Xe);return}}}catch{}const de=i.flowers?.[0];de&&D({[de.id]:!0})},[A]),F.useEffect(()=>{try{localStorage.setItem(A,JSON.stringify(b))}catch{}},[A,b]),F.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const de=a.flowerId;D(_e=>_e?.[de]?_e:{..._e,[de]:!0})}a.kind==="flowers"&&D(de=>{const _e={...de};for(const Xe of a.flowerIds)_e[Xe]=!0;return _e})},[a]);const j=de=>b?.[de]??!1,C=de=>D(_e=>({..._e,[de]:!(_e?.[de]??!1)})),E=F.useMemo(()=>`tsumami_group_expanded_v1_${i.id}`,[i.id]),[q,k]=F.useState({});F.useEffect(()=>{try{const _e=localStorage.getItem(E);if(_e){const Xe=JSON.parse(_e);if(Xe&&typeof Xe=="object"){k(Xe);return}}}catch{}const de=i.groups??[];if(de.length>0){const _e={};for(const Xe of de)_e[Xe.id]=!0;k(_e)}},[E]),F.useEffect(()=>{try{localStorage.setItem(E,JSON.stringify(q))}catch{}},[E,q]);const H=de=>q?.[de]??!0,Z=de=>k(_e=>({..._e,[de]:!(_e?.[de]??!0)})),J=F.useRef({flowerId:null,timer:null}),Y=de=>{const _e=J.current.timer;_e&&window.clearTimeout(_e),J.current.flowerId=de,J.current.timer=window.setTimeout(()=>{r({kind:"flower",flowerId:de}),D(Xe=>({...Xe,[de]:!0})),J.current.timer=null,J.current.flowerId=null},200)},V=de=>{const _e=J.current.timer;_e&&J.current.flowerId===de&&window.clearTimeout(_e),J.current.timer=null,J.current.flowerId=null,r({kind:"flower",flowerId:de}),C(de)},$=F.useRef(null),[P,I]=F.useState({w:520,h:520});F.useEffect(()=>{const de=$.current;if(!de)return;const _e=new ResizeObserver(Xe=>{for(const Jt of Xe){const{width:St,height:cn}=Jt.contentRect;St>0&&cn>0&&I({w:St,h:cn})}});return _e.observe(de),()=>_e.disconnect()},[]);const y=de=>{const _e=$.current;if(!_e)return{x:0,y:0};const Xe=_e.createSVGPoint();Xe.x=de.clientX,Xe.y=de.clientY;const Jt=_e.getScreenCTM();if(!Jt)return{x:0,y:0};const St=Xe.matrixTransform(Jt.inverse());return{x:St.x,y:St.y}},v=500*rn,z=-300*rn,M=800*rn,w=F.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[T,G]=F.useState(6),[K,R]=F.useState(w[6]),N=F.useCallback(de=>{G(_e=>{const Xe=typeof de=="function"?de(_e):de;return R(w[Xe]),Xe})},[w]),B=F.useCallback(de=>{const _e=we(de,w[0],w[w.length-1]);R(_e);let Xe=0,Jt=Math.abs(w[0]-_e);for(let St=1;St<w.length;St++){const cn=Math.abs(w[St]-_e);cn<Jt&&(Xe=St,Jt=cn)}G(Xe)},[w]),[U,W]=F.useState({x:0,y:0}),[le,se]=F.useState(!0),[oe,fe]=F.useState(!1),he=F.useRef(null),me=F.useMemo(()=>{const de=P.w/P.h,_e=520,Xe=_e*de;return(Jt,St=K)=>{const cn=we(Jt.x,-(M*St-Xe),-z*St),ui=we(Jt.y,-(M*St-_e),-z*St);return{x:cn,y:ui}}},[P,K,z,M]),ve=F.useMemo(()=>me(U),[U,me]),qe=F.useCallback(de=>W(de),[]),Ge=F.useMemo(()=>{const de=P.w/P.h,_e=520,Xe=_e*de,Jt=-ve.x/K,St=-ve.y/K;return`${Jt} ${St} ${Xe/K} ${_e/K}`},[K,ve,P]),{addLeaf:Ze,deleteLeafById:Ue,handleShiftLeafSelect:ht,groupSelectedLeaves:zt,ungroupLeaves:Lt,addLeafToGroup:mt,removeLeafFromGroup:Zt}=nb({project:i,applyUpdate:o,selection:a,setSelection:r,zoom:K,pan:ve,stageSize:P,CANVAS_MAX_SVG:v}),{showAddFlowerDialog:vn,setShowAddFlowerDialog:$n,addFlowerOpts:el,setAddFlowerOpts:Je,addFlower:gn,confirmAddFlower:_l}=ab({project:i,applyUpdate:o,setSelection:r,setExpandedFlowers:D,zoom:K,pan:ve,stageSize:P,CANVAS_MAX_SVG:v}),{selectedFlower:Vl,selectedFlowers:Gn,selectedLeaf:ga,selectedLeafGroup:Yn,selectedLayer:ci,selectedPetalIndex:Wl,selectedPetals:tl,selectedStencil:Et,selectedFlowerId:Qe,groupHighlightedFlowerIds:xe,leafGroupHighlightedLeafIds:Ee}=rb(i,a),{deleteFlowerById:Be,deleteLayerById:Ce,addOuterLayer:pe,deleteOuterLayer:Ne,deleteSelected:ze,groupSelectedFlowers:ye,ungroupFlowers:Pe,addToGroup:Oe,mergeGroups:Fe,addStencil:$e,deleteStencil:Ae,handleShiftFlowerSelect:gt,togglePetalSelection:tt}=eb({project:i,applyUpdate:o,selection:a,setSelection:r,setExpandedFlowers:D,setExpandedGroups:k,zoom:K,pan:ve,stageSize:P,CANVAS_MAX_SVG:v,deleteLeafById:Ue,ungroupLeaves:Lt}),Me=am({project:i,selection:a,setSelection:r,applyUpdate:o,dragRef:c.dragRef,zoom:K,pan:ve,setPan:qe,stageRef:$,clientToSvgPoint:y,togglePetalSelection:tt}),[nt,lt]=F.useState(0),at=a.kind,yn=at==="flower"?a.flowerId:null,ya=at==="flowers"?a.flowerIds?.join(","):null,Jl=at==="layer"||at==="petal"?a.layerId:null,pn=at==="petal"?a.index:null,Dt=at==="petals"?a.petals?.length:null;F.useEffect(()=>{at!=="project"&&lt(Date.now())},[at,yn,ya,Jl,pn,Dt]),F.useEffect(()=>{if(!he.current)return;const de=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!de)return;const _e=he.current.querySelector(`[data-flower-id="${de}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Ht=F.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[nt]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:g,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${h.left}%`}:void 0,children:x.jsx(rm,{project:i,selection:a,setSelection:r,expandedFlowers:b,setExpandedFlowers:D,isExpanded:j,toggleExpanded:C,scheduleFlowerRowClick:Y,handleFlowerRowDoubleClick:V,addFlower:gn,deleteSelected:ze,addOuterLayer:pe,deleteOuterLayer:Ne,deleteFlowerById:Be,deleteLayerById:Ce,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:he,groups:i.groups??[],expandedGroups:q,isGroupExpanded:H,toggleGroupExpanded:Z,onSelectGroup:de=>r({kind:"group",groupId:de}),onUngroupFlowers:Pe,leaves:i.leaves??[],leafGroups:i.leafGroups??[],onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onSelectLeafGroup:de=>r({kind:"leafGroup",leafGroupId:de}),onAddLeaf:Ze,onDeleteLeaf:Ue})}),x.jsx(Id,{side:"left",onPointerDown:m,onDoubleClick:d,isDragging:p}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Tm,{project:i,selection:a,setSelection:r,applyUpdate:o,paletteMap:f,selectedFlowerId:Qe,zoom:K,setZoom:B,zoomLevel:T,setZoomLevel:N,ZOOM_LEVELS:w,pan:ve,panRaw:U,setPan:qe,showGrid:le,setShowGrid:se,showHelp:oe,setShowHelp:fe,stageRef:$,viewBox:Ge,dashSyncToken:nt,dashDelay:Ht,beginPan:Me.beginPan,updatePan:Me.updatePan,endPan:Me.endPan,beginMarquee:Me.beginMarquee,updateMarquee:Me.updateMarquee,endMarquee:Me.endMarquee,marqueeRef:Me.marqueeRef,marqueeRect:Me.marqueeRect,beginFlowerDrag:Me.beginFlowerDrag,updateFlowerDrag:Me.updateFlowerDrag,endFlowerDrag:Me.endFlowerDrag,scaleDragRef:Me.scaleDragRef,beginScaleDrag:Me.beginScaleDrag,updateScaleDrag:Me.updateScaleDrag,endScaleDrag:Me.endScaleDrag,rotationDragRef:Me.rotationDragRef,beginRotationDrag:Me.beginRotationDrag,updateRotationDrag:Me.updateRotationDrag,endRotationDrag:Me.endRotationDrag,widthScaleDragRef:Me.widthScaleDragRef,beginWidthScaleDrag:Me.beginWidthScaleDrag,updateWidthScaleDrag:Me.updateWidthScaleDrag,endWidthScaleDrag:Me.endWidthScaleDrag,radiusDragRef:Me.radiusDragRef,beginRadiusDrag:Me.beginRadiusDrag,updateRadiusDrag:Me.updateRadiusDrag,endRadiusDrag:Me.endRadiusDrag,togglePetalSelection:tt,clientToSvgPoint:y,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:i.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:$e,onDeleteStencil:Ae,onSelectStencil:de=>r({kind:"stencil",stencilId:de}),handleShiftFlowerSelect:gt,groupHighlightedFlowerIds:xe,leaves:i.leaves??[],leafGroups:i.leafGroups??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,selectedLeafGroupId:a.kind==="leafGroup"?a.leafGroupId:null,leafGroupHighlightedLeafIds:Ee,onSelectLeaf:de=>r({kind:"leaf",leafId:de}),onShiftSelectLeaf:ht})}),x.jsx(Id,{side:"right",onPointerDown:m,onDoubleClick:d,isDragging:p}),x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${h.right}%`}:void 0,children:x.jsx(Xm,{project:i,selection:a,applyUpdate:o,selectedFlower:Vl,selectedFlowers:Gn,selectedLayer:ci,selectedPetalIndex:Wl,selectedPetals:tl,selectedStencil:Et,onDeleteStencil:Ae,groups:i.groups??[],onGroupFlowers:ye,onUngroupFlowers:Pe,onAddToGroup:Oe,onMergeGroups:Fe,selectedLeaf:ga,selectedLeafGroup:Yn,leafGroups:i.leafGroups??[],onDeleteLeaf:Ue,onGroupLeaves:zt,onUngroupLeaves:Lt,onAddLeafToGroup:mt,onRemoveLeafFromGroup:Zt})})]}),vn&&x.jsx(Jm,{palette:i.palette,addFlowerOpts:el,setAddFlowerOpts:Je,onConfirm:_l,onCancel:()=>$n(!1)}),oe&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>fe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:de=>de.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>fe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([de,_e])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:de}),x.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},de))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function ub({cg:c}){const[i,a]=F.useState("w"),[r,o]=F.useState(""),f=c.totalAreaCm2,h=parseFloat(r),m=r!==""&&Number.isFinite(h)&&h>0?Math.round(f/h*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(d=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[d.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[d.count," "]})]},d.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:i==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),o("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:m!=null?`${m}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:r,onChange:d=>o(d.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),o("")},title:"",children:""})]})})]})]})}function xb(c){const{recipe:i}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:i.colors.length===0&&i.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[i.colors.map(a=>x.jsx(ub,{cg:a},a.colorId)),i.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:i.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function sb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function ob(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function fb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function db(){const[c,i]=F.useState("home"),[a,r]=F.useState([]),[o,f]=F.useState(null),[h,g]=F.useState({kind:"project"}),[m,d]=F.useState([]),[p,S]=F.useState(0),A=F.useRef(o),b=F.useRef(m),D=F.useRef(p);F.useEffect(()=>{A.current=o},[o]),F.useEffect(()=>{b.current=m},[m]),F.useEffect(()=>{D.current=p},[p]);const j=F.useRef(null),C=F.useRef(null),E=F.useRef(null),q=F.useRef(null),[k,H]=F.useState(null);F.useEffect(()=>{const R=k?window.setTimeout(()=>H(null),2200):null;return()=>{R&&window.clearTimeout(R)}},[k]),F.useEffect(()=>{r(nr())},[]);function Z(R){const N=JSON.stringify(R);d([N]),S(0)}function J(R,N=!0){if(!N){f(me=>{if(!me)return me;const ve=Kl(me);return R(ve),ve.updatedAt=C0(),ve});return}const B=A.current;if(!B)return;const U=Kl(B);R(U),U.updatedAt=C0(),f(U);const W=b.current,le=D.current;if(W.length===0){Z(U);return}const se=JSON.stringify(U);let fe=[...W.slice(0,le+1),se];const he=50;fe.length>he&&(fe=fe.slice(fe.length-he)),d(fe),S(fe.length-1)}function Y(){S(R=>{if(R<=0)return R;const N=R-1,B=b.current[N];return B&&f(ma(JSON.parse(B))),H("Undo"),N})}function V(){S(R=>{if(R>=b.current.length-1)return R;const N=R+1,B=b.current[N];return B&&f(ma(JSON.parse(B))),H("Redo"),N})}function $(){if(!o)return;const R=Hh(o);r(nr()),H(R?"Saved":" ")}function P(){if(!o)return;const R=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),N=URL.createObjectURL(R),B=document.createElement("a");B.href=N,B.download=`${o.title||"tsumami"}.json`,B.click(),URL.revokeObjectURL(N),H("JSON exported")}function I(R){const N=new FileReader;N.onload=()=>{try{const B=JSON.parse(String(N.result??""));if(!B||typeof B!="object"||!Array.isArray(B.flowers))throw new Error("Invalid JSON");const U=ma(B);f(U),g({kind:"project"}),Z(U),i("editor"),H("Imported")}catch{H("Import failed")}},N.readAsText(R)}function y(R){const N=ma(R);f(N),g({kind:"project"}),Z(N),i("editor")}function v(R){return R&&(R.kind==="flower"||R.kind==="layer"||R.kind==="petal")?R.flowerId:null}function z(){if(!o)return;const R=v(h);if(!R)return;const N=o.flowers.find(B=>B.id===R);N&&(C.current=Kl(N),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:N},null,2)).catch(()=>{}),H("Flower copied"))}function M(){if(!o||h.kind!=="leaf")return;const R=(o.leaves??[]).find(N=>N.id===h.leafId);R&&(E.current=Kl(R),H("Leaf copied"))}function w(){if(!o)return;const R=C.current;if(!R){H("Nothing to paste");return}const N=qh(R,{x:12+Math.random()*10,y:12+Math.random()*10});J(B=>{B.flowers.push(N)},!0),g({kind:"flower",flowerId:N.id}),H("Flower pasted")}function T(){if(!o)return;const R=E.current;if(!R)return;const N=Gt("leaf"),B={...Kl(R),id:N,name:R.name+" (copy)",position:{x:R.position.x+30,y:R.position.y+30}};J(U=>{U.leaves||(U.leaves=[]),U.leaves.push(B)},!0),g({kind:"leaf",leafId:B.id}),H("Leaf pasted")}function G(R){if(!o)return;const N=v(h);N&&(J(B=>{const U=B.flowers.findIndex(oe=>oe.id===N);if(U<0)return;const W=B.flowers,le=W[U];if(!le)return;if(W.splice(U,1),R==="front"){W.push(le);return}if(R==="back"){W.unshift(le);return}if(R==="forward"){if(U>=W.length){W.push(le);return}W.splice(U+1,0,le);return}const se=we(U-1,0,W.length);W.splice(se,0,le)},!0),H(R==="front"?"Brought to front":R==="back"?"Sent to back":R==="forward"?"Moved forward":"Moved backward"))}F.useEffect(()=>{function R(B){const U=B;if(!U)return!1;const W=String(U.tagName||"").toLowerCase();return W==="input"||W==="textarea"||W==="select"||!!U.isContentEditable}function N(B){if(!(R(B.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?B.metaKey:B.ctrlKey))){if(c==="editor"){if(B.key.toLowerCase()==="c"){B.preventDefault(),h.kind==="leaf"?M():z();return}if(B.key.toLowerCase()==="v"){B.preventDefault(),E.current&&(h.kind==="leaf"||h.kind==="leaves"||h.kind==="leafGroup"||!C.current)?T():w();return}}B.key.toLowerCase()==="z"&&(B.preventDefault(),B.shiftKey?V():Y()),B.key.toLowerCase()==="s"&&(B.preventDefault(),$())}}return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,m,p,h,c]);const K=F.useMemo(()=>o?Zh(o):null,[o]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(Wh,{view:c,onNavigate:i,project:o,onSave:$,onLoad:()=>i("home"),onImportJson:()=>q.current?.click(),onExportJson:P,onExportSvg:()=>{const R=document.querySelector('[data-testid="canvas-svg"]');R&&o&&Kh(R,`${o.title||"tsumami"}.svg`)},onExportPng:()=>{const R=document.querySelector('[data-testid="canvas-svg"]');R&&o&&Xh(R,`${o.title||"tsumami"}.png`)}}),x.jsx("input",{ref:q,type:"file",accept:"application/json",className:"hidden",onChange:R=>{const N=R.target.files?.[0];N&&I(N),R.currentTarget.value=""}}),k&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:k}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(Jh,{saved:a,onNew:()=>i("new"),onOpen:R=>{const N=ma(Kl(R));f(N),g({kind:"project"}),Z(N),i("editor")},onDelete:R=>{Oh(R),r(nr()),H("Deleted")}}),c==="new"&&x.jsx(Qh,{onBack:()=>i("home"),onCreate:R=>{const N=Bh({title:R});y(N)}}),c==="editor"&&o&&x.jsx(cb,{project:o,selection:h,setSelection:g,applyUpdate:J,onGoRecipe:()=>i("recipe"),onImport:I,dragRef:j,onCopyFlower:z,onPasteFlower:w,onArrangeFlower:G,canPasteFlower:!!C.current,onUndo:Y,onRedo:V,canUndo:p>0,canRedo:p<m.length-1}),c==="recipe"&&o&&K&&x.jsx(xb,{project:o,recipe:K,onBack:()=>i("editor"),onExportJson:P}),c==="terms"&&x.jsx(sb,{onBack:()=>i("home")}),c==="privacy"&&x.jsx(ob,{onBack:()=>i("home")}),(c==="editor"||c==="recipe")&&!o&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(fb,{onNavigate:i})]})}class hb extends F.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,a){console.error("[ErrorBoundary]",i,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}gh.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(hb,{children:x.jsx(db,{})})}));

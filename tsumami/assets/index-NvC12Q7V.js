(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function a(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(s){if(s.ep)return;s.ep=!0;const f=a(s);fetch(s.href,f)}})();var ix={exports:{}},er={};var Ad;function gh(){if(Ad)return er;Ad=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(i,s,f){var g=null;if(f!==void 0&&(g=""+f),s.key!==void 0&&(g=""+s.key),"key"in s){f={};for(var p in s)p!=="key"&&(f[p]=s[p])}else f=s;return s=f.ref,{$$typeof:c,type:i,key:g,ref:s!==void 0?s:null,props:f}}return er.Fragment=r,er.jsx=a,er.jsxs=a,er}var Ld;function vh(){return Ld||(Ld=1,ix.exports=gh()),ix.exports}var x=vh(),rx={exports:{}},Ne={};var Td;function ph(){if(Td)return Ne;Td=1;var c=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function B(C,T,G){this.props=C,this.context=T,this.refs=b,this.updater=G||D}B.prototype.isReactComponent={},B.prototype.setState=function(C,T){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,T,"setState")},B.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function R(){}R.prototype=B.prototype;function q(C,T,G){this.props=C,this.context=T,this.refs=b,this.updater=G||D}var O=q.prototype=new R;O.constructor=q,v(O,B.prototype),O.isPureReactComponent=!0;var I=Array.isArray;function Z(){}var k={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function P(C,T,G){var U=G.ref;return{$$typeof:c,type:C,key:T,ref:U!==void 0?U:null,props:G}}function W(C,T){return P(C.type,T,C.props)}function F(C){return typeof C=="object"&&C!==null&&C.$$typeof===c}function Y(C){var T={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(G){return T[G]})}var X=/\/+/g;function M(C,T){return typeof C=="object"&&C!==null&&C.key!=null?Y(""+C.key):T.toString(36)}function m(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Z,Z):(C.status="pending",C.then(function(T){C.status==="pending"&&(C.status="fulfilled",C.value=T)},function(T){C.status==="pending"&&(C.status="rejected",C.reason=T)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,T,G,U,V){var ee=typeof C;(ee==="undefined"||ee==="boolean")&&(C=null);var re=!1;if(C===null)re=!0;else switch(ee){case"bigint":case"string":case"number":re=!0;break;case"object":switch(C.$$typeof){case c:case r:re=!0;break;case _:return re=C._init,z(re(C._payload),T,G,U,V)}}if(re)return V=V(C),re=U===""?"."+M(C,0):U,I(V)?(G="",re!=null&&(G=re.replace(X,"$&/")+"/"),z(V,T,G,"",function(be){return be})):V!=null&&(F(V)&&(V=W(V,G+(V.key==null||C&&C.key===V.key?"":(""+V.key).replace(X,"$&/")+"/")+re)),T.push(V)),1;re=0;var oe=U===""?".":U+":";if(I(C))for(var de=0;de<C.length;de++)U=C[de],ee=oe+M(U,de),re+=z(U,T,G,ee,V);else if(de=w(C),typeof de=="function")for(C=de.call(C),de=0;!(U=C.next()).done;)U=U.value,ee=oe+M(U,de++),re+=z(U,T,G,ee,V);else if(ee==="object"){if(typeof C.then=="function")return z(m(C),T,G,U,V);throw T=String(C),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return re}function L(C,T,G){if(C==null)return C;var U=[],V=0;return z(C,U,"","",function(ee){return T.call(G,ee,V++)}),U}function N(C){if(C._status===-1){var T=C._result;T=T(),T.then(function(G){(C._status===0||C._status===-1)&&(C._status=1,C._result=G)},function(G){(C._status===0||C._status===-1)&&(C._status=2,C._result=G)}),C._status===-1&&(C._status=0,C._result=T)}if(C._status===1)return C._result.default;throw C._result}var H=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},A={map:L,forEach:function(C,T,G){L(C,function(){T.apply(this,arguments)},G)},count:function(C){var T=0;return L(C,function(){T++}),T},toArray:function(C){return L(C,function(T){return T})||[]},only:function(C){if(!F(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ne.Activity=S,Ne.Children=A,Ne.Component=B,Ne.Fragment=a,Ne.Profiler=s,Ne.PureComponent=q,Ne.StrictMode=i,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return k.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(C,T,G){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var U=v({},C.props),V=C.key;if(T!=null)for(ee in T.key!==void 0&&(V=""+T.key),T)!K.call(T,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&T.ref===void 0||(U[ee]=T[ee]);var ee=arguments.length-2;if(ee===1)U.children=G;else if(1<ee){for(var re=Array(ee),oe=0;oe<ee;oe++)re[oe]=arguments[oe+2];U.children=re}return P(C.type,V,U)},Ne.createContext=function(C){return C={$$typeof:g,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},Ne.createElement=function(C,T,G){var U,V={},ee=null;if(T!=null)for(U in T.key!==void 0&&(ee=""+T.key),T)K.call(T,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(V[U]=T[U]);var re=arguments.length-2;if(re===1)V.children=G;else if(1<re){for(var oe=Array(re),de=0;de<re;de++)oe[de]=arguments[de+2];V.children=oe}if(C&&C.defaultProps)for(U in re=C.defaultProps,re)V[U]===void 0&&(V[U]=re[U]);return P(C,ee,V)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:p,render:C}},Ne.isValidElement=F,Ne.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:N}},Ne.memo=function(C,T){return{$$typeof:h,type:C,compare:T===void 0?null:T}},Ne.startTransition=function(C){var T=k.T,G={};k.T=G;try{var U=C(),V=k.S;V!==null&&V(G,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(Z,H)}catch(ee){H(ee)}finally{T!==null&&G.types!==null&&(T.types=G.types),k.T=T}},Ne.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ne.use=function(C){return k.H.use(C)},Ne.useActionState=function(C,T,G){return k.H.useActionState(C,T,G)},Ne.useCallback=function(C,T){return k.H.useCallback(C,T)},Ne.useContext=function(C){return k.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,T){return k.H.useDeferredValue(C,T)},Ne.useEffect=function(C,T){return k.H.useEffect(C,T)},Ne.useEffectEvent=function(C){return k.H.useEffectEvent(C)},Ne.useId=function(){return k.H.useId()},Ne.useImperativeHandle=function(C,T,G){return k.H.useImperativeHandle(C,T,G)},Ne.useInsertionEffect=function(C,T){return k.H.useInsertionEffect(C,T)},Ne.useLayoutEffect=function(C,T){return k.H.useLayoutEffect(C,T)},Ne.useMemo=function(C,T){return k.H.useMemo(C,T)},Ne.useOptimistic=function(C,T){return k.H.useOptimistic(C,T)},Ne.useReducer=function(C,T,G){return k.H.useReducer(C,T,G)},Ne.useRef=function(C){return k.H.useRef(C)},Ne.useState=function(C){return k.H.useState(C)},Ne.useSyncExternalStore=function(C,T,G){return k.H.useSyncExternalStore(C,T,G)},Ne.useTransition=function(){return k.H.useTransition()},Ne.version="19.2.3",Ne}var Ed;function Gx(){return Ed||(Ed=1,rx.exports=ph()),rx.exports}var te=Gx(),cx={exports:{}},tr={},ux={exports:{}},xx={};var kd;function yh(){return kd||(kd=1,(function(c){function r(z,L){var N=z.length;z.push(L);e:for(;0<N;){var H=N-1>>>1,A=z[H];if(0<s(A,L))z[H]=L,z[N]=A,N=H;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var L=z[0],N=z.pop();if(N!==L){z[0]=N;e:for(var H=0,A=z.length,C=A>>>1;H<C;){var T=2*(H+1)-1,G=z[T],U=T+1,V=z[U];if(0>s(G,N))U<A&&0>s(V,G)?(z[H]=V,z[U]=N,H=U):(z[H]=G,z[T]=N,H=T);else if(U<A&&0>s(V,N))z[H]=V,z[U]=N,H=U;else break e}}return L}function s(z,L){var N=z.sortIndex-L.sortIndex;return N!==0?N:z.id-L.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;c.unstable_now=function(){return f.now()}}else{var g=Date,p=g.now();c.unstable_now=function(){return g.now()-p}}var d=[],h=[],_=1,S=null,y=3,w=!1,D=!1,v=!1,b=!1,B=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function O(z){for(var L=a(h);L!==null;){if(L.callback===null)i(h);else if(L.startTime<=z)i(h),L.sortIndex=L.expirationTime,r(d,L);else break;L=a(h)}}function I(z){if(v=!1,O(z),!D)if(a(d)!==null)D=!0,Z||(Z=!0,Y());else{var L=a(h);L!==null&&m(I,L.startTime-z)}}var Z=!1,k=-1,K=5,P=-1;function W(){return b?!0:!(c.unstable_now()-P<K)}function F(){if(b=!1,Z){var z=c.unstable_now();P=z;var L=!0;try{e:{D=!1,v&&(v=!1,R(k),k=-1),w=!0;var N=y;try{t:{for(O(z),S=a(d);S!==null&&!(S.expirationTime>z&&W());){var H=S.callback;if(typeof H=="function"){S.callback=null,y=S.priorityLevel;var A=H(S.expirationTime<=z);if(z=c.unstable_now(),typeof A=="function"){S.callback=A,O(z),L=!0;break t}S===a(d)&&i(d),O(z)}else i(d);S=a(d)}if(S!==null)L=!0;else{var C=a(h);C!==null&&m(I,C.startTime-z),L=!1}}break e}finally{S=null,y=N,w=!1}L=void 0}}finally{L?Y():Z=!1}}}var Y;if(typeof q=="function")Y=function(){q(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,M=X.port2;X.port1.onmessage=F,Y=function(){M.postMessage(null)}}else Y=function(){B(F,0)};function m(z,L){k=B(function(){z(c.unstable_now())},L)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(z){z.callback=null},c.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},c.unstable_getCurrentPriorityLevel=function(){return y},c.unstable_next=function(z){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var N=y;y=L;try{return z()}finally{y=N}},c.unstable_requestPaint=function(){b=!0},c.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var N=y;y=z;try{return L()}finally{y=N}},c.unstable_scheduleCallback=function(z,L,N){var H=c.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?H+N:H):N=H,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=N+A,z={id:_++,callback:L,priorityLevel:z,startTime:N,expirationTime:A,sortIndex:-1},N>H?(z.sortIndex=N,r(h,z),a(d)===null&&z===a(h)&&(v?(R(k),k=-1):v=!0,m(I,N-H))):(z.sortIndex=A,r(d,z),D||w||(D=!0,Z||(Z=!0,Y()))),z},c.unstable_shouldYield=W,c.unstable_wrapCallback=function(z){var L=y;return function(){var N=y;y=L;try{return z.apply(this,arguments)}finally{y=N}}}})(xx)),xx}var Bd;function _h(){return Bd||(Bd=1,ux.exports=yh()),ux.exports}var sx={exports:{}},Kt={};var qd;function Sh(){if(qd)return Kt;qd=1;var c=Gx();function r(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)h+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(d,h,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:d,containerInfo:h,implementation:_}}var g=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Kt.createPortal=function(d,h){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return f(d,h,null,_)},Kt.flushSync=function(d){var h=g.T,_=i.p;try{if(g.T=null,i.p=2,d)return d()}finally{g.T=h,i.p=_,i.d.f()}},Kt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Kt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Kt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var _=h.as,S=p(_,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;_==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:y,fetchPriority:w}):_==="script"&&i.d.X(d,{crossOrigin:S,integrity:y,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Kt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var _=p(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Kt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var _=h.as,S=p(_,h.crossOrigin);i.d.L(d,_,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Kt.preloadModule=function(d,h){if(typeof d=="string")if(h){var _=p(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Kt.requestFormReset=function(d){i.d.r(d)},Kt.unstable_batchedUpdates=function(d,h){return d(h)},Kt.useFormState=function(d,h,_){return g.H.useFormState(d,h,_)},Kt.useFormStatus=function(){return g.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var Id;function wh(){if(Id)return sx.exports;Id=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),sx.exports=Sh(),sx.exports}var Gd;function Ch(){if(Gd)return tr;Gd=1;var c=_h(),r=Gx(),a=wh();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(f(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,l=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(l=u.return,l!==null){n=l;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return d(u),e;if(o===l)return d(u),t;o=o.sibling}throw Error(i(188))}if(n.return!==l.return)n=u,l=o;else{for(var j=!1,E=u.child;E;){if(E===n){j=!0,n=u,l=o;break}if(E===l){j=!0,l=u,n=o;break}E=E.sibling}if(!j){for(E=o.child;E;){if(E===n){j=!0,n=o,l=u;break}if(E===l){j=!0,l=o,n=u;break}E=E.sibling}if(!j)throw Error(i(189))}}if(n.alternate!==l)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),q=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function M(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case v:return"Fragment";case B:return"Profiler";case b:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case q:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:M(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return M(e(t))}catch{}}return null}var m=Array.isArray,z=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},H=[],A=-1;function C(e){return{current:e}}function T(e){0>A||(e.current=H[A],H[A]=null,A--)}function G(e,t){A++,H[A]=e.current,e.current=t}var U=C(null),V=C(null),ee=C(null),re=C(null);function oe(e,t){switch(G(ee,t),G(V,e),G(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$f(t),e=ed(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(U),G(U,e)}function de(){T(U),T(V),T(ee)}function be(e){e.memoizedState!==null&&G(re,e);var t=U.current,n=ed(t,e.type);t!==n&&(G(V,e),G(U,n))}function he(e){V.current===e&&(T(U),T(V)),re.current===e&&(T(re),Qi._currentValue=N)}var Me,Re;function Ze(e){if(Me===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Me=t&&t[1]||"",Re=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Me+e+Re}var lt=!1;function ht(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ie){var ae=ie}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(ie){ae=ie}e.call(xe.prototype)}}else{try{throw Error()}catch(ie){ae=ie}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ie){if(ie&&ae&&typeof ie.stack=="string")return[ie.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),j=o[0],E=o[1];if(j&&E){var J=j.split(`
`),le=E.split(`
`);for(u=l=0;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(l===J.length||u===le.length)for(l=J.length-1,u=le.length-1;1<=l&&0<=u&&J[l]!==le[u];)u--;for(;1<=l&&0<=u;l--,u--)if(J[l]!==le[u]){if(l!==1||u!==1)do if(l--,u--,0>u||J[l]!==le[u]){var ce=`
`+J[l].replace(" at new "," at ");return e.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",e.displayName)),ce}while(1<=l&&0<=u);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ze(n):""}function kt(e,t){switch(e.tag){case 26:case 27:case 5:return Ze(e.type);case 16:return Ze("Lazy");case 13:return e.child!==t&&t!==null?Ze("Suspense Fallback"):Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return ht(e.type,!1);case 11:return ht(e.type.render,!1);case 1:return ht(e.type,!0);case 31:return Ze("Activity");default:return""}}function Yt(e){try{var t="",n=null;do t+=kt(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Ut=c.unstable_scheduleCallback,xn=c.unstable_cancelCallback,Xn=c.unstable_shouldYield,Jn=c.unstable_requestPaint,Pe=c.unstable_now,vn=c.unstable_getCurrentPriorityLevel,zl=c.unstable_ImmediatePriority,il=c.unstable_UserBlockingPriority,rl=c.unstable_NormalPriority,Dl=c.unstable_LowPriority,aa=c.unstable_IdlePriority,Vn=c.log,oi=c.unstable_setDisableYieldValue,Hn=null,Bt=null;function pn(e){if(typeof Vn=="function"&&oi(e),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,e)}catch{}}var Oe=Math.clz32?Math.clz32:Be,fe=Math.log,ke=Math.LN2;function Be(e){return e>>>=0,e===0?32:31-(fe(e)/ke|0)|0}var Se=256,ye=262144,Ae=4194304;function ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var u=0,o=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~o,l!==0?u=ze(l):(j&=E,j!==0?u=ze(j):n||(n=E&~e,n!==0&&(u=ze(n))))):(E=l&~o,E!==0?u=ze(E):j!==0?u=ze(j):n||(n=l&~e,n!==0&&(u=ze(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Fe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function Ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qt(e,t,n,l,u,o){var j=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var E=e.entanglements,J=e.expirationTimes,le=e.hiddenUpdates;for(n=j&~n;0<n;){var ce=31-Oe(n),xe=1<<ce;E[ce]=0,J[ce]=-1;var ae=le[ce];if(ae!==null)for(le[ce]=null,ce=0;ce<ae.length;ce++){var ie=ae[ce];ie!==null&&(ie.lane&=-536870913)}n&=~xe}l!==0&&et(e,l,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(j&~t))}function et(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Oe(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function zt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Oe(n),u=1<<l;u&t|e[l]&t&&(e[l]|=t),n&=~u}}function rt(e,t){var n=t&-t;return n=(n&42)!==0?1:nt(n),(n&(e.suspendedLanes|t))!==0?0:n}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yn(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:wd(e.type))}function Ca(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Wt=Math.random().toString(36).slice(2),De="__reactFiber$"+Wt,It="__reactProps$"+Wt,Nl="__reactContainer$"+Wt,_n="__reactEvents$"+Wt,Q0="__reactListeners$"+Wt,P0="__reactHandles$"+Wt,fr="__reactResources$"+Wt,ia="__reactMarker$"+Wt;function fi(e){delete e[De],delete e[It],delete e[_n],delete e[Q0],delete e[P0]}function Al(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nl]||n[De]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cd(e);e!==null;){if(n=e[De])return n;e=cd(e)}return t}e=n,n=e.parentNode}return null}function me(e){if(e=e[De]||e[Nl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _e(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function qe(e){var t=e[fr];return t||(t=e[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[ia]=!0}var St=new Set,Wn={};function cl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(Wn[e]=t,e=0;e<t.length;e++)St.add(t[e])}var u1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hx={},Yx={};function x1(e){return mt.call(Yx,e)?!0:mt.call(Hx,e)?!1:u1.test(e)?Yx[e]=!0:(Hx[e]=!0,!1)}function dr(e,t,n){if(x1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ul(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function Sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ux(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s1(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,o=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(j){n=""+j,o.call(this,j)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(j){n=""+j},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F0(e){if(!e._valueTracker){var t=Ux(e)?"checked":"value";e._valueTracker=s1(e,t,""+e[t])}}function Kx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Ux(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var o1=/[\n"\\]/g;function wn(e){return e.replace(o1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $0(e,t,n,l,u,o,j,E){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),t!=null?j==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sn(t)):e.value!==""+Sn(t)&&(e.value=""+Sn(t)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),t!=null?ec(e,j,Sn(t)):n!=null?ec(e,j,Sn(n)):l!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Sn(E):e.removeAttribute("name")}function Zx(e,t,n,l,u,o,j,E){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){F0(e);return}n=n!=null?""+Sn(n):"",t=t!=null?""+Sn(t):n,E||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j),F0(e)}function ec(e,t,n){t==="number"&&mr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ma(e,t,n,l){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Xx(e,t,n){if(t!=null&&(t=""+Sn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Sn(n):""}function Jx(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(i(92));if(m(l)){if(1<l.length)throw Error(i(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Sn(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),F0(e)}function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var f1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vx(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||f1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wx(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&n[u]!==l&&Vx(e,u,l)}else for(var o in t)t.hasOwnProperty(o)&&Vx(e,o,t[o])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return h1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xl(){}var nc=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Na=null;function Qx(e){var t=me(e);if(t&&(e=t.stateNode)){var n=e[It]||null;e:switch(e=t.stateNode,t.type){case"input":if($0(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var u=l[It]||null;if(!u)throw Error(i(90));$0(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kx(l)}break e;case"textarea":Xx(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}}}var ac=!1;function Px(e,t,n){if(ac)return e(t,n);ac=!0;try{var l=e(t);return l}finally{if(ac=!1,(Da!==null||Na!==null)&&(l0(),Da&&(t=Da,e=Na,Na=Da=null,Qx(t),e)))for(t=0;t<e.length;t++)Qx(e[t])}}function di(e,t){var n=e.stateNode;if(n===null)return null;var l=n[It]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var sl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ic=!1;if(sl)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){ic=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{ic=!1}var Ll=null,rc=null,gr=null;function Fx(){if(gr)return gr;var e,t=rc,n=t.length,l,u="value"in Ll?Ll.value:Ll.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var j=n-e;for(l=1;l<=j&&t[n-l]===u[o-l];l++);return gr=u.slice(e,1<l?1-l:void 0)}function vr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pr(){return!0}function $x(){return!1}function Qt(e){function t(n,l,u,o,j){this._reactName=n,this._targetInst=u,this.type=l,this.nativeEvent=o,this.target=j,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(n=e[E],this[E]=n?n(o):o[E]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pr:$x,this.isPropagationStopped=$x,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Qt(ra),mi=S({},ra,{view:0,detail:0}),m1=Qt(mi),cc,uc,bi,_r=S({},mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(cc=e.screenX-bi.screenX,uc=e.screenY-bi.screenY):uc=cc=0,bi=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),es=Qt(_r),b1=S({},_r,{dataTransfer:0}),g1=Qt(b1),v1=S({},mi,{relatedTarget:0}),xc=Qt(v1),p1=S({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),y1=Qt(p1),_1=S({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S1=Qt(_1),w1=S({},ra,{data:0}),ts=Qt(w1),C1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M1[e])?!!t[e]:!1}function sc(){return z1}var D1=S({},mi,{key:function(e){if(e.key){var t=C1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N1=Qt(D1),A1=S({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Qt(A1),L1=S({},mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),T1=Qt(L1),E1=S({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=Qt(E1),B1=S({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q1=Qt(B1),I1=S({},ra,{newState:0,oldState:0}),G1=Qt(I1),R1=[9,13,27,32],oc=sl&&"CompositionEvent"in window,gi=null;sl&&"documentMode"in document&&(gi=document.documentMode);var O1=sl&&"TextEvent"in window&&!gi,ls=sl&&(!oc||gi&&8<gi&&11>=gi),as=" ",is=!1;function rs(e,t){switch(e){case"keyup":return R1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function H1(e,t){switch(e){case"compositionend":return cs(t);case"keypress":return t.which!==32?null:(is=!0,as);case"textInput":return e=t.data,e===as&&is?null:e;default:return null}}function Y1(e,t){if(Aa)return e==="compositionend"||!oc&&rs(e,t)?(e=Fx(),gr=rc=Ll=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ls&&t.locale!=="ko"?null:t.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function us(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U1[e.type]:t==="textarea"}function xs(e,t,n,l){Da?Na?Na.push(l):Na=[l]:Da=l,t=s0(t,"onChange"),0<t.length&&(n=new yr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var vi=null,pi=null;function K1(e){Jf(e,0)}function Sr(e){var t=_e(e);if(Kx(t))return e}function ss(e,t){if(e==="change")return t}var os=!1;if(sl){var fc;if(sl){var dc="oninput"in document;if(!dc){var fs=document.createElement("div");fs.setAttribute("oninput","return;"),dc=typeof fs.oninput=="function"}fc=dc}else fc=!1;os=fc&&(!document.documentMode||9<document.documentMode)}function ds(){vi&&(vi.detachEvent("onpropertychange",hs),pi=vi=null)}function hs(e){if(e.propertyName==="value"&&Sr(pi)){var t=[];xs(t,pi,e,lc(e)),Px(K1,t)}}function Z1(e,t,n){e==="focusin"?(ds(),vi=t,pi=n,vi.attachEvent("onpropertychange",hs)):e==="focusout"&&ds()}function X1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sr(pi)}function J1(e,t){if(e==="click")return Sr(t)}function V1(e,t){if(e==="input"||e==="change")return Sr(t)}function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:W1;function yi(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var u=n[l];if(!mt.call(t,u)||!sn(e[u],t[u]))return!1}return!0}function ms(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bs(e,t){var n=ms(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ms(n)}}function gs(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gs(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=mr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mr(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Q1=sl&&"documentMode"in document&&11>=document.documentMode,La=null,mc=null,_i=null,bc=!1;function ps(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bc||La==null||La!==mr(l)||(l=La,"selectionStart"in l&&hc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_i&&yi(_i,l)||(_i=l,l=s0(mc,"onSelect"),0<l.length&&(t=new yr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=La)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},gc={},ys={};sl&&(ys=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function ua(e){if(gc[e])return gc[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ys)return gc[e]=t[n];return e}var _s=ua("animationend"),Ss=ua("animationiteration"),ws=ua("animationstart"),P1=ua("transitionrun"),F1=ua("transitionstart"),$1=ua("transitioncancel"),Cs=ua("transitionend"),js=new Map,vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vc.push("scrollEnd");function Yn(e,t){js.set(e,t),cl(t,[e])}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Ea=0,pc=0;function Cr(){for(var e=Ea,t=pc=Ea=0;t<e;){var n=Cn[t];Cn[t++]=null;var l=Cn[t];Cn[t++]=null;var u=Cn[t];Cn[t++]=null;var o=Cn[t];if(Cn[t++]=null,l!==null&&u!==null){var j=l.pending;j===null?u.next=u:(u.next=j.next,j.next=u),l.pending=u}o!==0&&Ms(n,u,o)}}function jr(e,t,n,l){Cn[Ea++]=e,Cn[Ea++]=t,Cn[Ea++]=n,Cn[Ea++]=l,pc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,t,n,l){return jr(e,t,n,l),Mr(e)}function xa(e,t){return jr(e,null,null,t),Mr(e)}function Ms(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,l=o.alternate,l!==null&&(l.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Oe(n),e=o.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=n|536870912),o):null}function Mr(e){if(50<Ui)throw Ui=0,Nu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ka={};function e2(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,l){return new e2(e,t,n,l)}function _c(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ol(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,l,u,o){var j=0;if(l=e,typeof e=="function")_c(e)&&(j=1);else if(typeof e=="string")j=ih(e,n,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=on(31,n,t,u),e.elementType=P,e.lanes=o,e;case v:return sa(n.children,u,o,t);case b:j=8,u|=24;break;case B:return e=on(12,n,t,u|2),e.elementType=B,e.lanes=o,e;case I:return e=on(13,n,t,u),e.elementType=I,e.lanes=o,e;case Z:return e=on(19,n,t,u),e.elementType=Z,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:j=10;break e;case R:j=9;break e;case O:j=11;break e;case k:j=14;break e;case K:j=16,l=null;break e}j=29,n=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=on(j,n,t,u),t.elementType=e,t.type=l,t.lanes=o,t}function sa(e,t,n,l){return e=on(7,e,l,t),e.lanes=n,e}function Sc(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function Ds(e){var t=on(18,null,null,0);return t.stateNode=e,t}function wc(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ns=new WeakMap;function jn(e,t){if(typeof e=="object"&&e!==null){var n=Ns.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yt(t)},Ns.set(e,t),t)}return{value:e,source:t,stack:Yt(t)}}var Ba=[],qa=0,Dr=null,Si=0,Mn=[],zn=0,Tl=null,Qn=1,Pn="";function fl(e,t){Ba[qa++]=Si,Ba[qa++]=Dr,Dr=e,Si=t}function As(e,t,n){Mn[zn++]=Qn,Mn[zn++]=Pn,Mn[zn++]=Tl,Tl=e;var l=Qn;e=Pn;var u=32-Oe(l)-1;l&=~(1<<u),n+=1;var o=32-Oe(t)+u;if(30<o){var j=u-u%5;o=(l&(1<<j)-1).toString(32),l>>=j,u-=j,Qn=1<<32-Oe(t)+u|n<<u|l,Pn=o+e}else Qn=1<<o|n<<u|l,Pn=e}function Cc(e){e.return!==null&&(fl(e,1),As(e,1,0))}function jc(e){for(;e===Dr;)Dr=Ba[--qa],Ba[qa]=null,Si=Ba[--qa],Ba[qa]=null;for(;e===Tl;)Tl=Mn[--zn],Mn[zn]=null,Pn=Mn[--zn],Mn[zn]=null,Qn=Mn[--zn],Mn[zn]=null}function Ls(e,t){Mn[zn++]=Qn,Mn[zn++]=Pn,Mn[zn++]=Tl,Qn=t.id,Pn=t.overflow,Tl=e}var Gt=null,ot=null,Ue=!1,El=null,Dn=!1,Mc=Error(i(519));function kl(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wi(jn(t,e)),Mc}function Ts(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[De]=e,t[It]=l,n){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(n=0;n<Zi.length;n++)Ge(Zi[n],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),Zx(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Jx(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Pf(t.textContent,n)?(l.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),l.onScroll!=null&&Ge("scroll",t),l.onScrollEnd!=null&&Ge("scrollend",t),l.onClick!=null&&(t.onclick=xl),t=!0):t=!1,t||kl(e,!0)}function Es(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Gt=Gt.return}}function Ia(e){if(e!==Gt)return!1;if(!Ue)return Es(e),Ue=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ku(e.type,e.memoizedProps)),n=!n),n&&ot&&kl(e),Es(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=rd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));ot=rd(e)}else t===27?(t=ot,Vl(e.type)?(e=Wu,Wu=null,ot=e):ot=t):ot=Gt?An(e.stateNode.nextSibling):null;return!0}function oa(){ot=Gt=null,Ue=!1}function zc(){var e=El;return e!==null&&(en===null?en=e:en.push.apply(en,e),El=null),e}function wi(e){El===null?El=[e]:El.push(e)}var Dc=C(null),fa=null,dl=null;function Bl(e,t,n){G(Dc,t._currentValue),t._currentValue=n}function hl(e){e._currentValue=Dc.current,T(Dc)}function Nc(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ac(e,t,n,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var j=u.child;o=o.firstContext;e:for(;o!==null;){var E=o;o=u;for(var J=0;J<t.length;J++)if(E.context===t[J]){o.lanes|=n,E=o.alternate,E!==null&&(E.lanes|=n),Nc(o.return,n,e),l||(j=null);break e}o=E.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(i(341));j.lanes|=n,o=j.alternate,o!==null&&(o.lanes|=n),Nc(j,n,e),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===e){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function Ga(e,t,n,l){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var E=u.type;sn(u.pendingProps.value,j.value)||(e!==null?e.push(E):e=[E])}}else if(u===re.current){if(j=u.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qi):e=[Qi])}u=u.return}e!==null&&Ac(t,e,n,l),t.flags|=262144}function Nr(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return ks(fa,e)}function Ar(e,t){return fa===null&&da(e),ks(e,t)}function ks(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},dl===null){if(e===null)throw Error(i(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return n}var t2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},n2=c.unstable_scheduleCallback,l2=c.unstable_NormalPriority,wt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new t2,data:new Map,refCount:0}}function Ci(e){e.refCount--,e.refCount===0&&n2(l2,function(){e.controller.abort()})}var ji=null,Tc=0,Ra=0,Oa=null;function a2(e,t){if(ji===null){var n=ji=[];Tc=0,Ra=Bu(),Oa={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Tc++,t.then(Bs,Bs),t}function Bs(){if(--Tc===0&&ji!==null){Oa!==null&&(Oa.status="fulfilled");var e=ji;ji=null,Ra=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function i2(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),l}var qs=z.S;z.S=function(e,t){_f=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&a2(e,t),qs!==null&&qs(e,t)};var ha=C(null);function Ec(){var e=ha.current;return e!==null?e:st.pooledCache}function Lr(e,t){t===null?G(ha,ha.current):G(ha,t.pool)}function Is(){var e=Ec();return e===null?null:{parent:wt._currentValue,pool:e}}var Ha=Error(i(460)),kc=Error(i(474)),Tr=Error(i(542)),Er={then:function(){}};function Gs(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rs(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(xl,xl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hs(e),e;default:if(typeof t.status=="string")t.then(xl,xl);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hs(e),e}throw ba=t,Ha}}function ma(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ba=n,Ha):n}}var ba=null;function Os(){if(ba===null)throw Error(i(459));var e=ba;return ba=null,e}function Hs(e){if(e===Ha||e===Tr)throw Error(i(483))}var Ya=null,Mi=0;function kr(e){var t=Mi;return Mi+=1,Ya===null&&(Ya=[]),Rs(Ya,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Br(e,t){throw t.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ys(e){function t($,Q){if(e){var ne=$.deletions;ne===null?($.deletions=[Q],$.flags|=16):ne.push(Q)}}function n($,Q){if(!e)return null;for(;Q!==null;)t($,Q),Q=Q.sibling;return null}function l($){for(var Q=new Map;$!==null;)$.key!==null?Q.set($.key,$):Q.set($.index,$),$=$.sibling;return Q}function u($,Q){return $=ol($,Q),$.index=0,$.sibling=null,$}function o($,Q,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<Q?($.flags|=67108866,Q):ne):($.flags|=67108866,Q)):($.flags|=1048576,Q)}function j($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,Q,ne,ue){return Q===null||Q.tag!==6?(Q=Sc(ne,$.mode,ue),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function J($,Q,ne,ue){var Ce=ne.type;return Ce===v?ce($,Q,ne.props.children,ue,ne.key):Q!==null&&(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&ma(Ce)===Q.type)?(Q=u(Q,ne.props),zi(Q,ne),Q.return=$,Q):(Q=zr(ne.type,ne.key,ne.props,null,$.mode,ue),zi(Q,ne),Q.return=$,Q)}function le($,Q,ne,ue){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=wc(ne,$.mode,ue),Q.return=$,Q):(Q=u(Q,ne.children||[]),Q.return=$,Q)}function ce($,Q,ne,ue,Ce){return Q===null||Q.tag!==7?(Q=sa(ne,$.mode,ue,Ce),Q.return=$,Q):(Q=u(Q,ne),Q.return=$,Q)}function xe($,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Sc(""+Q,$.mode,ne),Q.return=$,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return ne=zr(Q.type,Q.key,Q.props,null,$.mode,ne),zi(ne,Q),ne.return=$,ne;case D:return Q=wc(Q,$.mode,ne),Q.return=$,Q;case K:return Q=ma(Q),xe($,Q,ne)}if(m(Q)||Y(Q))return Q=sa(Q,$.mode,ne,null),Q.return=$,Q;if(typeof Q.then=="function")return xe($,kr(Q),ne);if(Q.$$typeof===q)return xe($,Ar($,Q),ne);Br($,Q)}return null}function ae($,Q,ne,ue){var Ce=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ce!==null?null:E($,Q,""+ne,ue);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===Ce?J($,Q,ne,ue):null;case D:return ne.key===Ce?le($,Q,ne,ue):null;case K:return ne=ma(ne),ae($,Q,ne,ue)}if(m(ne)||Y(ne))return Ce!==null?null:ce($,Q,ne,ue,null);if(typeof ne.then=="function")return ae($,Q,kr(ne),ue);if(ne.$$typeof===q)return ae($,Q,Ar($,ne),ue);Br($,ne)}return null}function ie($,Q,ne,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $=$.get(ne)||null,E(Q,$,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return $=$.get(ue.key===null?ne:ue.key)||null,J(Q,$,ue,Ce);case D:return $=$.get(ue.key===null?ne:ue.key)||null,le(Q,$,ue,Ce);case K:return ue=ma(ue),ie($,Q,ne,ue,Ce)}if(m(ue)||Y(ue))return $=$.get(ne)||null,ce(Q,$,ue,Ce,null);if(typeof ue.then=="function")return ie($,Q,ne,kr(ue),Ce);if(ue.$$typeof===q)return ie($,Q,ne,Ar(Q,ue),Ce);Br(Q,ue)}return null}function ge($,Q,ne,ue){for(var Ce=null,We=null,ve=Q,Ee=Q=0,Ye=null;ve!==null&&Ee<ne.length;Ee++){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var Qe=ae($,ve,ne[Ee],ue);if(Qe===null){ve===null&&(ve=Ye);break}e&&ve&&Qe.alternate===null&&t($,ve),Q=o(Qe,Q,Ee),We===null?Ce=Qe:We.sibling=Qe,We=Qe,ve=Ye}if(Ee===ne.length)return n($,ve),Ue&&fl($,Ee),Ce;if(ve===null){for(;Ee<ne.length;Ee++)ve=xe($,ne[Ee],ue),ve!==null&&(Q=o(ve,Q,Ee),We===null?Ce=ve:We.sibling=ve,We=ve);return Ue&&fl($,Ee),Ce}for(ve=l(ve);Ee<ne.length;Ee++)Ye=ie(ve,$,Ee,ne[Ee],ue),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ee:Ye.key),Q=o(Ye,Q,Ee),We===null?Ce=Ye:We.sibling=Ye,We=Ye);return e&&ve.forEach(function($l){return t($,$l)}),Ue&&fl($,Ee),Ce}function je($,Q,ne,ue){if(ne==null)throw Error(i(151));for(var Ce=null,We=null,ve=Q,Ee=Q=0,Ye=null,Qe=ne.next();ve!==null&&!Qe.done;Ee++,Qe=ne.next()){ve.index>Ee?(Ye=ve,ve=null):Ye=ve.sibling;var $l=ae($,ve,Qe.value,ue);if($l===null){ve===null&&(ve=Ye);break}e&&ve&&$l.alternate===null&&t($,ve),Q=o($l,Q,Ee),We===null?Ce=$l:We.sibling=$l,We=$l,ve=Ye}if(Qe.done)return n($,ve),Ue&&fl($,Ee),Ce;if(ve===null){for(;!Qe.done;Ee++,Qe=ne.next())Qe=xe($,Qe.value,ue),Qe!==null&&(Q=o(Qe,Q,Ee),We===null?Ce=Qe:We.sibling=Qe,We=Qe);return Ue&&fl($,Ee),Ce}for(ve=l(ve);!Qe.done;Ee++,Qe=ne.next())Qe=ie(ve,$,Ee,Qe.value,ue),Qe!==null&&(e&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ee:Qe.key),Q=o(Qe,Q,Ee),We===null?Ce=Qe:We.sibling=Qe,We=Qe);return e&&ve.forEach(function(bh){return t($,bh)}),Ue&&fl($,Ee),Ce}function xt($,Q,ne,ue){if(typeof ne=="object"&&ne!==null&&ne.type===v&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var Ce=ne.key;Q!==null;){if(Q.key===Ce){if(Ce=ne.type,Ce===v){if(Q.tag===7){n($,Q.sibling),ue=u(Q,ne.props.children),ue.return=$,$=ue;break e}}else if(Q.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===K&&ma(Ce)===Q.type){n($,Q.sibling),ue=u(Q,ne.props),zi(ue,ne),ue.return=$,$=ue;break e}n($,Q);break}else t($,Q);Q=Q.sibling}ne.type===v?(ue=sa(ne.props.children,$.mode,ue,ne.key),ue.return=$,$=ue):(ue=zr(ne.type,ne.key,ne.props,null,$.mode,ue),zi(ue,ne),ue.return=$,$=ue)}return j($);case D:e:{for(Ce=ne.key;Q!==null;){if(Q.key===Ce)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){n($,Q.sibling),ue=u(Q,ne.children||[]),ue.return=$,$=ue;break e}else{n($,Q);break}else t($,Q);Q=Q.sibling}ue=wc(ne,$.mode,ue),ue.return=$,$=ue}return j($);case K:return ne=ma(ne),xt($,Q,ne,ue)}if(m(ne))return ge($,Q,ne,ue);if(Y(ne)){if(Ce=Y(ne),typeof Ce!="function")throw Error(i(150));return ne=Ce.call(ne),je($,Q,ne,ue)}if(typeof ne.then=="function")return xt($,Q,kr(ne),ue);if(ne.$$typeof===q)return xt($,Q,Ar($,ne),ue);Br($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Q!==null&&Q.tag===6?(n($,Q.sibling),ue=u(Q,ne),ue.return=$,$=ue):(n($,Q),ue=Sc(ne,$.mode,ue),ue.return=$,$=ue),j($)):n($,Q)}return function($,Q,ne,ue){try{Mi=0;var Ce=xt($,Q,ne,ue);return Ya=null,Ce}catch(ve){if(ve===Ha||ve===Tr)throw ve;var We=on(29,ve,null,$.mode);return We.lanes=ue,We.return=$,We}}}var ga=Ys(!0),Us=Ys(!1),ql=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Il(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Mr(e),Ms(e,null,n),t}return jr(e,l,t,n),Mr(e)}function Di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,zt(e,n)}}function Ic(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var j={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=j:o=o.next=j,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Gc=!1;function Ni(){if(Gc){var e=Oa;if(e!==null)throw e}}function Ai(e,t,n,l){Gc=!1;var u=e.updateQueue;ql=!1;var o=u.firstBaseUpdate,j=u.lastBaseUpdate,E=u.shared.pending;if(E!==null){u.shared.pending=null;var J=E,le=J.next;J.next=null,j===null?o=le:j.next=le,j=J;var ce=e.alternate;ce!==null&&(ce=ce.updateQueue,E=ce.lastBaseUpdate,E!==j&&(E===null?ce.firstBaseUpdate=le:E.next=le,ce.lastBaseUpdate=J))}if(o!==null){var xe=u.baseState;j=0,ce=le=J=null,E=o;do{var ae=E.lane&-536870913,ie=ae!==E.lane;if(ie?(He&ae)===ae:(l&ae)===ae){ae!==0&&ae===Ra&&(Gc=!0),ce!==null&&(ce=ce.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ge=e,je=E;ae=t;var xt=n;switch(je.tag){case 1:if(ge=je.payload,typeof ge=="function"){xe=ge.call(xt,xe,ae);break e}xe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=je.payload,ae=typeof ge=="function"?ge.call(xt,xe,ae):ge,ae==null)break e;xe=S({},xe,ae);break e;case 2:ql=!0}}ae=E.callback,ae!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[ae]:ie.push(ae))}else ie={lane:ae,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ce===null?(le=ce=ie,J=xe):ce=ce.next=ie,j|=ae;if(E=E.next,E===null){if(E=u.shared.pending,E===null)break;ie=E,E=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);ce===null&&(J=xe),u.baseState=J,u.firstBaseUpdate=le,u.lastBaseUpdate=ce,o===null&&(u.shared.lanes=0),Ul|=j,e.lanes=j,e.memoizedState=xe}}function Ks(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Zs(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ks(n[e],t)}var Ua=C(null),qr=C(0);function Xs(e,t){e=wl,G(qr,e),G(Ua,t),wl=e|t.baseLanes}function Rc(){G(qr,wl),G(Ua,Ua.current)}function Oc(){wl=qr.current,T(Ua),T(qr)}var fn=C(null),Nn=null;function Rl(e){var t=e.alternate;G(yt,yt.current&1),G(fn,e),Nn===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Nn=e)}function Hc(e){G(yt,yt.current),G(fn,e),Nn===null&&(Nn=e)}function Js(e){e.tag===22?(G(yt,yt.current),G(fn,e),Nn===null&&(Nn=e)):Ol()}function Ol(){G(yt,yt.current),G(fn,fn.current)}function dn(e){T(fn),Nn===e&&(Nn=null),T(yt)}var yt=C(0);function Ir(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ju(n)||Vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,Te=null,ct=null,Ct=null,Gr=!1,Ka=!1,va=!1,Rr=0,Li=0,Za=null,r2=0;function gt(){throw Error(i(321))}function Yc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function Uc(e,t,n,l,u,o){return ml=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Lo:au,va=!1,o=n(l,u),va=!1,Ka&&(o=Ws(t,n,l,u)),Vs(e),o}function Vs(e){z.H=ki;var t=ct!==null&&ct.next!==null;if(ml=0,Ct=ct=Te=null,Gr=!1,Li=0,Za=null,t)throw Error(i(300));e===null||jt||(e=e.dependencies,e!==null&&Nr(e)&&(jt=!0))}function Ws(e,t,n,l){Te=e;var u=0;do{if(Ka&&(Za=null),Li=0,Ka=!1,25<=u)throw Error(i(301));if(u+=1,Ct=ct=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=To,o=t(n,l)}while(Ka);return o}function c2(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Te.flags|=1024),t}function Kc(){var e=Rr!==0;return Rr=0,e}function Zc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xc(e){if(Gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gr=!1}ml=0,Ct=ct=Te=null,Ka=!1,Li=Rr=0,Za=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Te.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function _t(){if(ct===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Ct===null?Te.memoizedState:Ct.next;if(t!==null)Ct=t,ct=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ct===null?Te.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=Li;return Li+=1,Za===null&&(Za=[]),e=Rs(Za,e,t),t=Te,(Ct===null?t.memoizedState:Ct.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Lo:au),e}function Hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===q)return Rt(e)}throw Error(i(438,String(e)))}function Jc(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Or(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=W;return t.index++,n}function bl(e,t){return typeof t=="function"?t(e):t}function Yr(e){var t=_t();return Vc(t,ct,e)}function Vc(e,t,n){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=e.baseQueue,o=l.pending;if(o!==null){if(u!==null){var j=u.next;u.next=o.next,o.next=j}t.baseQueue=u=o,l.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var E=j=null,J=null,le=t,ce=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?(He&xe)===xe:(ml&xe)===xe){var ae=le.revertLane;if(ae===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===Ra&&(ce=!0);else if((ml&ae)===ae){le=le.next,ae===Ra&&(ce=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?(E=J=xe,j=o):J=J.next=xe,Te.lanes|=ae,Ul|=ae;xe=le.action,va&&n(o,xe),o=le.hasEagerState?le.eagerState:n(o,xe)}else ae={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?(E=J=ae,j=o):J=J.next=ae,Te.lanes|=xe,Ul|=xe;le=le.next}while(le!==null&&le!==t);if(J===null?j=o:J.next=E,!sn(o,e.memoizedState)&&(jt=!0,ce&&(n=Oa,n!==null)))throw n;e.memoizedState=o,e.baseState=j,e.baseQueue=J,l.lastRenderedState=o}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wc(e){var t=_t(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var l=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var j=u=u.next;do o=e(o,j.action),j=j.next;while(j!==u);sn(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,l]}function Qs(e,t,n){var l=Te,u=_t(),o=Ue;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var j=!sn((ct||u).memoizedState,n);if(j&&(u.memoizedState=n,jt=!0),u=u.queue,Fc($s.bind(null,l,u,e),[e]),u.getSnapshot!==t||j||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Fs.bind(null,l,u,n,t),null),st===null)throw Error(i(349));o||(ml&127)!==0||Ps(l,t,n)}return n}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Or(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fs(e,t,n,l){t.value=n,t.getSnapshot=l,eo(t)&&to(e)}function $s(e,t,n){return n(function(){eo(t)&&to(e)})}function eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function to(e){var t=xa(e,2);t!==null&&tn(t,e,2)}function Qc(e){var t=Jt();if(typeof e=="function"){var n=e;if(e=n(),va){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t}function no(e,t,n,l){return e.baseState=n,Vc(e,ct,typeof l=="function"?l:bl)}function u2(e,t,n,l,u){if(Zr(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){o.listeners.push(j)}};z.T!==null?n(!0):o.isTransition=!1,l(o),n=t.pending,n===null?(o.next=t.pending=o,lo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function lo(e,t){var n=t.action,l=t.payload,u=e.state;if(t.isTransition){var o=z.T,j={};z.T=j;try{var E=n(u,l),J=z.S;J!==null&&J(j,E),ao(e,t,E)}catch(le){Pc(e,t,le)}finally{o!==null&&j.types!==null&&(o.types=j.types),z.T=o}}else try{o=n(u,l),ao(e,t,o)}catch(le){Pc(e,t,le)}}function ao(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){io(e,t,l)},function(l){return Pc(e,t,l)}):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,ro(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lo(e,n)))}function Pc(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ro(t),t=t.next;while(t!==l)}e.action=null}function ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(Ue){var n=st.formState;if(n!==null){e:{var l=Te;if(Ue){if(ot){t:{for(var u=ot,o=Dn;u.nodeType!==8;){if(!o){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){ot=An(u.nextSibling),l=u.data==="F!";break e}}kl(l)}l=!1}l&&(t=n[0])}}return n=Jt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=l,n=Do.bind(null,Te,l),l.dispatch=n,l=Qc(!1),o=lu.bind(null,Te,!1,l.queue),l=Jt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,n=u2.bind(null,Te,u,o,n),u.dispatch=n,l.memoizedState=e,[t,n,!1]}function xo(e){var t=_t();return so(t,ct,e)}function so(e,t,n){if(t=Vc(e,t,co)[0],e=Yr(bl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(j){throw j===Ha?Tr:j}else l=t;t=_t();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Xa(9,{destroy:void 0},x2.bind(null,u,n),null)),[l,o,e]}function x2(e,t){e.action=t}function oo(e){var t=_t(),n=ct;if(n!==null)return so(t,n,e);_t(),t=t.memoizedState,n=_t();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function Xa(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Or(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function fo(){return _t().memoizedState}function Ur(e,t,n,l){var u=Jt();Te.flags|=e,u.memoizedState=Xa(1|t,{destroy:void 0},n,l===void 0?null:l)}function Kr(e,t,n,l){var u=_t();l=l===void 0?null:l;var o=u.memoizedState.inst;ct!==null&&l!==null&&Yc(l,ct.memoizedState.deps)?u.memoizedState=Xa(t,o,n,l):(Te.flags|=e,u.memoizedState=Xa(1|t,o,n,l))}function ho(e,t){Ur(8390656,8,e,t)}function Fc(e,t){Kr(2048,8,e,t)}function s2(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Or(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function mo(e){var t=_t().memoizedState;return s2({ref:t,nextImpl:e}),function(){if((tt&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function bo(e,t){return Kr(4,2,e,t)}function go(e,t){return Kr(4,4,e,t)}function vo(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function po(e,t,n){n=n!=null?n.concat([e]):null,Kr(4,4,vo.bind(null,t,e),n)}function $c(){}function yo(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Yc(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=_t();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Yc(t,l[1]))return l[0];if(l=e(),va){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l}function eu(e,t,n){return n===void 0||(ml&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wf(),Te.lanes|=e,Ul|=e,n)}function So(e,t,n,l){return sn(n,t)?n:Ua.current!==null?(e=eu(e,n,l),sn(e,t)||(jt=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(He&261930)===0?(jt=!0,e.memoizedState=n):(e=wf(),Te.lanes|=e,Ul|=e,t)}function wo(e,t,n,l,u){var o=L.p;L.p=o!==0&&8>o?o:8;var j=z.T,E={};z.T=E,lu(e,!1,t,n);try{var J=u(),le=z.S;if(le!==null&&le(E,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=i2(J,l);Ei(e,t,ce,bn(e))}else Ei(e,t,l,bn(e))}catch(xe){Ei(e,t,{then:function(){},status:"rejected",reason:xe},bn())}finally{L.p=o,j!==null&&E.types!==null&&(j.types=E.types),z.T=j}}function o2(){}function tu(e,t,n,l){if(e.tag!==5)throw Error(i(476));var u=Co(e).queue;wo(e,u,t,N,n===null?o2:function(){return jo(e),n(l)})}function Co(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:N},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jo(e){var t=Co(e);t.next===null&&(t=e.alternate.memoizedState),Ei(e,t.next.queue,{},bn())}function nu(){return Rt(Qi)}function Mo(){return _t().memoizedState}function zo(){return _t().memoizedState}function f2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=bn();e=Il(n);var l=Gl(t,e,n);l!==null&&(tn(l,t,n),Di(l,t,n)),t={cache:Lc()},e.payload=t;return}t=t.return}}function d2(e,t,n){var l=bn();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Zr(e)?No(t,n):(n=yc(e,t,n,l),n!==null&&(tn(n,e,l),Ao(n,t,l)))}function Do(e,t,n){var l=bn();Ei(e,t,n,l)}function Ei(e,t,n,l){var u={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zr(e))No(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var j=t.lastRenderedState,E=o(j,n);if(u.hasEagerState=!0,u.eagerState=E,sn(E,j))return jr(e,t,u,0),st===null&&Cr(),!1}catch{}if(n=yc(e,t,u,l),n!==null)return tn(n,e,l),Ao(n,t,l),!0}return!1}function lu(e,t,n,l){if(l={lane:2,revertLane:Bu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zr(e)){if(t)throw Error(i(479))}else t=yc(e,n,l,2),t!==null&&tn(t,e,2)}function Zr(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function No(e,t){Ka=Gr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ao(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,zt(e,n)}}var ki={readContext:Rt,use:Hr,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};ki.useEffectEvent=gt;var Lo={readContext:Rt,use:Hr,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:ho,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ur(4194308,4,vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ur(4194308,4,e,t)},useInsertionEffect:function(e,t){Ur(4,2,e,t)},useMemo:function(e,t){var n=Jt();t=t===void 0?null:t;var l=e();if(va){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Jt();if(n!==void 0){var u=n(t);if(va){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=d2.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=Do.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$c,useDeferredValue:function(e,t){var n=Jt();return eu(n,e,t)},useTransition:function(){var e=Qc(!1);return e=wo.bind(null,Te,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,u=Jt();if(Ue){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),st===null)throw Error(i(349));(He&127)!==0||Ps(l,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,ho($s.bind(null,l,o,e),[e]),l.flags|=2048,Xa(9,{destroy:void 0},Fs.bind(null,l,o,n,t),null),n},useId:function(){var e=Jt(),t=st.identifierPrefix;if(Ue){var n=Pn,l=Qn;n=(l&~(1<<32-Oe(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=r2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nu,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lu.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jc,useCacheRefresh:function(){return Jt().memoizedState=f2.bind(null,Te)},useEffectEvent:function(e){var t=Jt(),n={impl:e};return t.memoizedState=n,function(){if((tt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},au={readContext:Rt,use:Hr,useCallback:yo,useContext:Rt,useEffect:Fc,useImperativeHandle:po,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Yr,useRef:fo,useState:function(){return Yr(bl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=_t();return So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Yr(bl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qs,useId:Mo,useHostTransitionStatus:nu,useFormState:xo,useActionState:xo,useOptimistic:function(e,t){var n=_t();return no(n,ct,e,t)},useMemoCache:Jc,useCacheRefresh:zo};au.useEffectEvent=mo;var To={readContext:Rt,use:Hr,useCallback:yo,useContext:Rt,useEffect:Fc,useImperativeHandle:po,useInsertionEffect:bo,useLayoutEffect:go,useMemo:_o,useReducer:Wc,useRef:fo,useState:function(){return Wc(bl)},useDebugValue:$c,useDeferredValue:function(e,t){var n=_t();return ct===null?eu(n,e,t):So(n,ct.memoizedState,e,t)},useTransition:function(){var e=Wc(bl)[0],t=_t().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:Qs,useId:Mo,useHostTransitionStatus:nu,useFormState:oo,useActionState:oo,useOptimistic:function(e,t){var n=_t();return ct!==null?no(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jc,useCacheRefresh:zo};To.useEffectEvent=mo;function iu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Il(l);u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(tn(t,e,l),Di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=bn(),u=Il(l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Gl(e,u,l),t!==null&&(tn(t,e,l),Di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),l=Il(n);l.tag=2,t!=null&&(l.callback=t),t=Gl(e,l,n),t!==null&&(tn(t,e,n),Di(t,e,n))}};function Eo(e,t,n,l,u,o,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,j):t.prototype&&t.prototype.isPureReactComponent?!yi(n,l)||!yi(u,o):!0}function ko(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function pa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function Bo(e){wr(e)}function qo(e){console.error(e)}function Io(e){wr(e)}function Xr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Go(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function cu(e,t,n){return n=Il(n),n.tag=3,n.payload={element:null},n.callback=function(){Xr(e,t)},n}function Ro(e){return e=Il(e),e.tag=3,e}function Oo(e,t,n,l){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=l.value;e.payload=function(){return u(o)},e.callback=function(){Go(t,n,l)}}var j=n.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Go(t,n,l),typeof u!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function h2(e,t,n,l,u){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&Ga(t,n,u,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return Nn===null?a0():n.alternate===null&&vt===0&&(vt=3),n.flags&=-257,n.flags|=65536,n.lanes=u,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Tu(e,l,u)),!1;case 22:return n.flags|=65536,l===Er?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Tu(e,l,u)),!1}throw Error(i(435,n.tag))}return Tu(e,l,u),a0(),!1}if(Ue)return t=fn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Mc&&(e=Error(i(422),{cause:l}),wi(jn(e,n)))):(l!==Mc&&(t=Error(i(423),{cause:l}),wi(jn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=jn(l,n),u=cu(e.stateNode,l,u),Ic(e,u),vt!==4&&(vt=2)),!1;var o=Error(i(520),{cause:l});if(o=jn(o,n),Yi===null?Yi=[o]:Yi.push(o),vt!==4&&(vt=2),t===null)return!0;l=jn(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=cu(n.stateNode,l,e),Ic(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Kl===null||!Kl.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Ro(u),Oo(u,e,n,l),Ic(n,u),!1}n=n.return}while(n!==null);return!1}var uu=Error(i(461)),jt=!1;function Ot(e,t,n,l){t.child=e===null?Us(t,null,n,l):ga(t,e.child,n,l)}function Ho(e,t,n,l,u){n=n.render;var o=t.ref;if("ref"in l){var j={};for(var E in l)E!=="ref"&&(j[E]=l[E])}else j=l;return da(t),l=Uc(e,t,n,j,o,u),E=Kc(),e!==null&&!jt?(Zc(e,t,u),gl(e,t,u)):(Ue&&E&&Cc(t),t.flags|=1,Ot(e,t,l,u),t.child)}function Yo(e,t,n,l,u){if(e===null){var o=n.type;return typeof o=="function"&&!_c(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,Uo(e,t,o,l,u)):(e=zr(n.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!bu(e,u)){var j=o.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(j,l)&&e.ref===t.ref)return gl(e,t,u)}return t.flags|=1,e=ol(o,l),e.ref=t.ref,e.return=t,t.child=e}function Uo(e,t,n,l,u){if(e!==null){var o=e.memoizedProps;if(yi(o,l)&&e.ref===t.ref)if(jt=!1,t.pendingProps=l=o,bu(e,u))(e.flags&131072)!==0&&(jt=!0);else return t.lanes=e.lanes,gl(e,t,u)}return xu(e,t,n,l,u)}function Ko(e,t,n,l){var u=l.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~o}else l=0,t.child=null;return Zo(e,t,o,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(t,o!==null?o.cachePool:null),o!==null?Xs(t,o):Rc(),Js(t);else return l=t.lanes=536870912,Zo(e,t,o!==null?o.baseLanes|n:n,n,l)}else o!==null?(Lr(t,o.cachePool),Xs(t,o),Ol(),t.memoizedState=null):(e!==null&&Lr(t,null),Rc(),Ol());return Ot(e,t,u,n),t.child}function Bi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zo(e,t,n,l,u){var o=Ec();return o=o===null?null:{parent:wt._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Lr(t,null),Rc(),Js(t),e!==null&&Ga(e,t,l,!0),t.childLanes=u,null}function Jr(e,t){return t=Wr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xo(e,t,n){return ga(t,e.child,null,n),e=Jr(t,t.pendingProps),e.flags|=2,dn(t),t.memoizedState=null,e}function m2(e,t,n){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=Jr(t,l),t.lanes=536870912,Bi(null,e);if(Hc(t),(e=ot)?(e=id(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,Gt=t,ot=null)):e=null,e===null)throw kl(t);return t.lanes=536870912,null}return Jr(t,l)}var o=e.memoizedState;if(o!==null){var j=o.dehydrated;if(Hc(t),u)if(t.flags&256)t.flags&=-257,t=Xo(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(jt||Ga(e,t,n,!1),u=(n&e.childLanes)!==0,jt||u){if(l=st,l!==null&&(j=rt(l,n),j!==0&&j!==o.retryLane))throw o.retryLane=j,xa(e,j),tn(l,e,j),uu;a0(),t=Xo(e,t,n)}else e=o.treeContext,ot=An(j.nextSibling),Gt=t,Ue=!0,El=null,Dn=!1,e!==null&&Ls(t,e),t=Jr(t,l),t.flags|=4096;return t}return e=ol(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xu(e,t,n,l,u){return da(t),n=Uc(e,t,n,l,void 0,u),l=Kc(),e!==null&&!jt?(Zc(e,t,u),gl(e,t,u)):(Ue&&l&&Cc(t),t.flags|=1,Ot(e,t,n,u),t.child)}function Jo(e,t,n,l,u,o){return da(t),t.updateQueue=null,n=Ws(t,l,n,u),Vs(e),l=Kc(),e!==null&&!jt?(Zc(e,t,o),gl(e,t,o)):(Ue&&l&&Cc(t),t.flags|=1,Ot(e,t,n,o),t.child)}function Vo(e,t,n,l,u){if(da(t),t.stateNode===null){var o=ka,j=n.contextType;typeof j=="object"&&j!==null&&(o=Rt(j)),o=new n(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ru,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},Bc(t),j=n.contextType,o.context=typeof j=="object"&&j!==null?Rt(j):ka,o.state=t.memoizedState,j=n.getDerivedStateFromProps,typeof j=="function"&&(iu(t,n,j,l),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(j=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),j!==o.state&&ru.enqueueReplaceState(o,o.state,null),Ai(t,l,o,u),Ni(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var E=t.memoizedProps,J=pa(n,E);o.props=J;var le=o.context,ce=n.contextType;j=ka,typeof ce=="object"&&ce!==null&&(j=Rt(ce));var xe=n.getDerivedStateFromProps;ce=typeof xe=="function"||typeof o.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ce||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(E||le!==j)&&ko(t,o,l,j),ql=!1;var ae=t.memoizedState;o.state=ae,Ai(t,l,o,u),Ni(),le=t.memoizedState,E||ae!==le||ql?(typeof xe=="function"&&(iu(t,n,xe,l),le=t.memoizedState),(J=ql||Eo(t,n,J,l,ae,le,j))?(ce||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=le),o.props=l,o.state=le,o.context=j,l=J):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,qc(e,t),j=t.memoizedProps,ce=pa(n,j),o.props=ce,xe=t.pendingProps,ae=o.context,le=n.contextType,J=ka,typeof le=="object"&&le!==null&&(J=Rt(le)),E=n.getDerivedStateFromProps,(le=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(j!==xe||ae!==J)&&ko(t,o,l,J),ql=!1,ae=t.memoizedState,o.state=ae,Ai(t,l,o,u),Ni();var ie=t.memoizedState;j!==xe||ae!==ie||ql||e!==null&&e.dependencies!==null&&Nr(e.dependencies)?(typeof E=="function"&&(iu(t,n,E,l),ie=t.memoizedState),(ce=ql||Eo(t,n,ce,l,ae,ie,J)||e!==null&&e.dependencies!==null&&Nr(e.dependencies))?(le||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,ie,J),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,ie,J)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),o.props=l,o.state=ie,o.context=J,l=ce):(typeof o.componentDidUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&ae===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Vr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=ga(t,e.child,null,u),t.child=ga(t,null,n,u)):Ot(e,t,n,u),t.memoizedState=o.state,e=t.child):e=gl(e,t,u),e}function Wo(e,t,n,l){return oa(),t.flags|=256,Ot(e,t,n,l),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:Is()}}function fu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mn),e}function Qo(e,t,n){var l=t.pendingProps,u=!1,o=(t.flags&128)!==0,j;if((j=o)||(j=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),j&&(u=!0,t.flags&=-129),j=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(u?Rl(t):Ol(),(e=ot)?(e=id(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Tl!==null?{id:Qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Ds(e),n.return=t,t.child=n,Gt=t,ot=null)):e=null,e===null)throw kl(t);return Vu(e)?t.lanes=32:t.lanes=536870912,null}var E=l.children;return l=l.fallback,u?(Ol(),u=t.mode,E=Wr({mode:"hidden",children:E},u),l=sa(l,u,n,null),E.return=t,l.return=t,E.sibling=l,t.child=E,l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,j,n),t.memoizedState=su,Bi(null,l)):(Rl(t),du(t,E))}var J=e.memoizedState;if(J!==null&&(E=J.dehydrated,E!==null)){if(o)t.flags&256?(Rl(t),t.flags&=-257,t=hu(e,t,n)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),E=l.fallback,u=t.mode,l=Wr({mode:"visible",children:l.children},u),E=sa(E,u,n,null),E.flags|=2,l.return=t,E.return=t,l.sibling=E,t.child=l,ga(t,e.child,null,n),l=t.child,l.memoizedState=ou(n),l.childLanes=fu(e,j,n),t.memoizedState=su,t=Bi(null,l));else if(Rl(t),Vu(E)){if(j=E.nextSibling&&E.nextSibling.dataset,j)var le=j.dgst;j=le,l=Error(i(419)),l.stack="",l.digest=j,wi({value:l,source:null,stack:null}),t=hu(e,t,n)}else if(jt||Ga(e,t,n,!1),j=(n&e.childLanes)!==0,jt||j){if(j=st,j!==null&&(l=rt(j,n),l!==0&&l!==J.retryLane))throw J.retryLane=l,xa(e,l),tn(j,e,l),uu;Ju(E)||a0(),t=hu(e,t,n)}else Ju(E)?(t.flags|=192,t.child=e.child,t=null):(e=J.treeContext,ot=An(E.nextSibling),Gt=t,Ue=!0,El=null,Dn=!1,e!==null&&Ls(t,e),t=du(t,l.children),t.flags|=4096);return t}return u?(Ol(),E=l.fallback,u=t.mode,J=e.child,le=J.sibling,l=ol(J,{mode:"hidden",children:l.children}),l.subtreeFlags=J.subtreeFlags&65011712,le!==null?E=ol(le,E):(E=sa(E,u,n,null),E.flags|=2),E.return=t,l.return=t,l.sibling=E,t.child=l,Bi(null,l),l=t.child,E=e.child.memoizedState,E===null?E=ou(n):(u=E.cachePool,u!==null?(J=wt._currentValue,u=u.parent!==J?{parent:J,pool:J}:u):u=Is(),E={baseLanes:E.baseLanes|n,cachePool:u}),l.memoizedState=E,l.childLanes=fu(e,j,n),t.memoizedState=su,Bi(e.child,l)):(Rl(t),n=e.child,e=n.sibling,n=ol(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(j=t.deletions,j===null?(t.deletions=[e],t.flags|=16):j.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=Wr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wr(e,t){return e=on(22,e,null,t),e.lanes=0,e}function hu(e,t,n){return ga(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Po(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Nc(e.return,t,n)}function mu(e,t,n,l,u,o){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:u,treeForkCount:o}:(j.isBackwards=t,j.rendering=null,j.renderingStartTime=0,j.last=l,j.tail=n,j.tailMode=u,j.treeForkCount=o)}function Fo(e,t,n){var l=t.pendingProps,u=l.revealOrder,o=l.tail;l=l.children;var j=yt.current,E=(j&2)!==0;if(E?(j=j&1|2,t.flags|=128):j&=1,G(yt,j),Ot(e,t,l,n),l=Ue?Si:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Po(e,n,t);else if(e.tag===19)Po(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ir(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),mu(t,!1,u,n,o,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ir(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}mu(t,!0,n,null,o,l);break;case"together":mu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ga(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ol(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ol(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Nr(e)))}function b2(e,t,n){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),Bl(t,wt,e.memoizedState.cache),oa();break;case 27:case 5:be(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Rl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Qo(e,t,n):(Rl(t),e=gl(e,t,n),e!==null?e.sibling:null);Rl(t);break;case 19:var u=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(Ga(e,t,n,!1),l=(n&t.childLanes)!==0),u){if(l)return Fo(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),G(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Ko(e,t,n,t.pendingProps);case 24:Bl(t,wt,e.memoizedState.cache)}return gl(e,t,n)}function $o(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!bu(e,n)&&(t.flags&128)===0)return jt=!1,b2(e,t,n);jt=(e.flags&131072)!==0}else jt=!1,Ue&&(t.flags&1048576)!==0&&As(t,Si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e=="function")_c(e)?(l=pa(e,l),t.tag=1,t=Vo(null,t,e,l,n)):(t.tag=0,t=xu(null,t,e,l,n));else{if(e!=null){var u=e.$$typeof;if(u===O){t.tag=11,t=Ho(null,t,e,l,n);break e}else if(u===k){t.tag=14,t=Yo(null,t,e,l,n);break e}}throw t=M(e)||e,Error(i(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,u=pa(l,t.pendingProps),Vo(e,t,l,u,n);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var o=t.memoizedState;u=o.element,qc(e,t),Ai(t,l,null,n);var j=t.memoizedState;if(l=j.cache,Bl(t,wt,l),l!==o.cache&&Ac(t,[wt],n,!0),Ni(),l=j.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:j.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Wo(e,t,l,n);break e}else if(l!==u){u=jn(Error(i(424)),t),wi(u),t=Wo(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ot=An(e.firstChild),Gt=t,Ue=!0,El=null,Dn=!0,n=Us(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),l===u){t=gl(e,t,n);break e}Ot(e,t,l,n)}t=t.child}return t;case 26:return Vr(e,t),e===null?(n=od(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,e=t.pendingProps,l=o0(ee.current).createElement(n),l[De]=t,l[It]=e,Ht(l,n,e),Xe(l),t.stateNode=l):t.memoizedState=od(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return be(t),e===null&&Ue&&(l=t.stateNode=ud(t.type,t.pendingProps,ee.current),Gt=t,Dn=!0,u=ot,Vl(t.type)?(Wu=u,ot=An(l.firstChild)):ot=u),Ot(e,t,t.pendingProps.children,n),Vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((u=l=ot)&&(l=X2(l,t.type,t.pendingProps,Dn),l!==null?(t.stateNode=l,Gt=t,ot=An(l.firstChild),Dn=!1,u=!0):u=!1),u||kl(t)),be(t),u=t.type,o=t.pendingProps,j=e!==null?e.memoizedProps:null,l=o.children,Ku(u,o)?l=null:j!==null&&Ku(u,j)&&(t.flags|=32),t.memoizedState!==null&&(u=Uc(e,t,c2,null,null,n),Qi._currentValue=u),Vr(e,t),Ot(e,t,l,n),t.child;case 6:return e===null&&Ue&&((e=n=ot)&&(n=J2(n,t.pendingProps,Dn),n!==null?(t.stateNode=n,Gt=t,ot=null,e=!0):e=!1),e||kl(t)),null;case 13:return Qo(e,t,n);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ga(t,null,l,n):Ot(e,t,l,n),t.child;case 11:return Ho(e,t,t.type,t.pendingProps,n);case 7:return Ot(e,t,t.pendingProps,n),t.child;case 8:return Ot(e,t,t.pendingProps.children,n),t.child;case 12:return Ot(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Bl(t,t.type,l.value),Ot(e,t,l.children,n),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,da(t),u=Rt(u),l=l(u),t.flags|=1,Ot(e,t,l,n),t.child;case 14:return Yo(e,t,t.type,t.pendingProps,n);case 15:return Uo(e,t,t.type,t.pendingProps,n);case 19:return Fo(e,t,n);case 31:return m2(e,t,n);case 22:return Ko(e,t,n,t.pendingProps);case 24:return da(t),l=Rt(wt),e===null?(u=Ec(),u===null&&(u=st,o=Lc(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:l,cache:u},Bc(t),Bl(t,wt,u)):((e.lanes&n)!==0&&(qc(e,t),Ai(t,null,null,n),Ni()),u=e.memoizedState,o=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Bl(t,wt,l)):(l=o.cache,Bl(t,wt,l),l!==u.cache&&Ac(t,[wt],n,!0))),Ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function vl(e){e.flags|=4}function gu(e,t,n,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(zf())e.flags|=8192;else throw ba=Er,kc}else e.flags&=-16777217}function ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bd(t))if(zf())e.flags|=8192;else throw ba=Er,kc}function Qr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Je():536870912,e.lanes|=t,Qa|=t)}function qi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function g2(e,t,n){var l=t.pendingProps;switch(jc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return ft(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),hl(wt),de(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?vl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zc())),ft(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(vl(t),o!==null?(ft(t),ef(t,o)):(ft(t),gu(t,u,null,l,n))):o?o!==e.memoizedState?(vl(t),ft(t),ef(t,o)):(ft(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&vl(t),ft(t),gu(t,u,e,l,n)),null;case 27:if(he(t),n=ee.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}e=U.current,Ia(t)?Ts(t):(e=ud(u,l,n),t.stateNode=e,vl(t))}return ft(t),null;case 5:if(he(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ft(t),null}if(o=U.current,Ia(t))Ts(t);else{var j=o0(ee.current);switch(o){case 1:o=j.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=j.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=j.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof l.is=="string"?j.createElement("select",{is:l.is}):j.createElement("select"),l.multiple?o.multiple=!0:l.size&&(o.size=l.size);break;default:o=typeof l.is=="string"?j.createElement(u,{is:l.is}):j.createElement(u)}}o[De]=t,o[It]=l;e:for(j=t.child;j!==null;){if(j.tag===5||j.tag===6)o.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}t.stateNode=o;e:switch(Ht(o,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vl(t)}}return ft(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&vl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ee.current,Ia(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[De]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Pf(e.nodeValue,n)),e||kl(t,!0)}else e=o0(e).createTextNode(l),e[De]=t,t.stateNode=e}return ft(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(t),n!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),e=!1}else n=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(dn(t),t):(dn(t),null);if((t.flags&128)!==0)throw Error(i(558))}return ft(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ia(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[De]=t}else oa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ft(t),u=!1}else u=zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(dn(t),t):(dn(t),null)}return dn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==u&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Qr(t,t.updateQueue),ft(t),null);case 4:return de(),e===null&&Ru(t.stateNode.containerInfo),ft(t),null;case 10:return hl(t.type),ft(t),null;case 19:if(T(yt),l=t.memoizedState,l===null)return ft(t),null;if(u=(t.flags&128)!==0,o=l.rendering,o===null)if(u)qi(l,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Ir(e),o!==null){for(t.flags|=128,qi(l,!1),e=o.updateQueue,t.updateQueue=e,Qr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)zs(n,e),n=n.sibling;return G(yt,yt.current&1|2),Ue&&fl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Pe()>t0&&(t.flags|=128,u=!0,qi(l,!1),t.lanes=4194304)}else{if(!u)if(e=Ir(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Qr(t,e),qi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ue)return ft(t),null}else 2*Pe()-l.renderingStartTime>t0&&n!==536870912&&(t.flags|=128,u=!0,qi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(e=l.last,e!==null?e.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Pe(),e.sibling=null,n=yt.current,G(yt,u?n&1|2:n&1),Ue&&fl(t,l.treeForkCount),e):(ft(t),null);case 22:case 23:return dn(t),Oc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),n=t.updateQueue,n!==null&&Qr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&T(ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(wt),ft(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function v2(e,t){switch(jc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(wt),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return he(t),null;case 31:if(t.memoizedState!==null){if(dn(t),t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(dn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(yt),null;case 4:return de(),null;case 10:return hl(t.type),null;case 22:case 23:return dn(t),Oc(),e!==null&&T(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(wt),null;case 25:return null;default:return null}}function tf(e,t){switch(jc(t),t.tag){case 3:hl(wt),de();break;case 26:case 27:case 5:he(t);break;case 4:de();break;case 31:t.memoizedState!==null&&dn(t);break;case 13:dn(t);break;case 19:T(yt);break;case 10:hl(t.type);break;case 22:case 23:dn(t),Oc(),e!==null&&T(ha);break;case 24:hl(wt)}}function Ii(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var u=l.next;n=u;do{if((n.tag&e)===e){l=void 0;var o=n.create,j=n.inst;l=o(),j.destroy=l}n=n.next}while(n!==u)}}catch(E){it(t,t.return,E)}}function Hl(e,t,n){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var o=u.next;l=o;do{if((l.tag&e)===e){var j=l.inst,E=j.destroy;if(E!==void 0){j.destroy=void 0,u=t;var J=n,le=E;try{le()}catch(ce){it(u,J,ce)}}}l=l.next}while(l!==o)}}catch(ce){it(t,t.return,ce)}}function nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Zs(t,n)}catch(l){it(e,e.return,l)}}}function lf(e,t,n){n.props=pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){it(e,t,l)}}function Gi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(u){it(e,t,u)}}function Fn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(u){it(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){it(e,t,u)}else n.current=null}function af(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(u){it(e,e.return,u)}}function vu(e,t,n){try{var l=e.stateNode;O2(l,e.type,n,t),l[It]=t}catch(u){it(e,e.return,u)}}function rf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vl(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Pr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Vl(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pr(e,t,n),e=e.sibling;e!==null;)Pr(e,t,n),e=e.sibling}function cf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Ht(t,l,n),t[De]=e,t[It]=n}catch(o){it(e,e.return,o)}}var pl=!1,Mt=!1,_u=!1,uf=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function p2(e,t){if(e=e.containerInfo,Yu=v0,e=vs(e),hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var u=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var j=0,E=-1,J=-1,le=0,ce=0,xe=e,ae=null;t:for(;;){for(var ie;xe!==n||u!==0&&xe.nodeType!==3||(E=j+u),xe!==o||l!==0&&xe.nodeType!==3||(J=j+l),xe.nodeType===3&&(j+=xe.nodeValue.length),(ie=xe.firstChild)!==null;)ae=xe,xe=ie;for(;;){if(xe===e)break t;if(ae===n&&++le===u&&(E=j),ae===o&&++ce===l&&(J=j),(ie=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=ie}n=E===-1||J===-1?null:{start:E,end:J}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uu={focusedElem:e,selectionRange:n},v0=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,l=n.stateNode;try{var ge=pa(n.type,u);e=l.getSnapshotBeforeUpdate(ge,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(je){it(n,n.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function xf(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),l&4&&Ii(5,n);break;case 1:if(_l(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(j){it(n,n.return,j)}else{var u=pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){it(n,n.return,j)}}l&64&&nf(n),l&512&&Gi(n,n.return);break;case 3:if(_l(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Zs(e,t)}catch(j){it(n,n.return,j)}}break;case 27:t===null&&l&4&&cf(n);case 26:case 5:_l(e,n),t===null&&l&4&&af(n),l&512&&Gi(n,n.return);break;case 12:_l(e,n);break;case 31:_l(e,n),l&4&&ff(e,n);break;case 13:_l(e,n),l&4&&df(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=D2.bind(null,n),V2(e,n))));break;case 22:if(l=n.memoizedState!==null||pl,!l){t=t!==null&&t.memoizedState!==null||Mt,u=pl;var o=Mt;pl=l,(Mt=t)&&!o?Sl(e,n,(n.subtreeFlags&8772)!==0):_l(e,n),pl=u,Mt=o}break;case 30:break;default:_l(e,n)}}function sf(e){var t=e.alternate;t!==null&&(e.alternate=null,sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,Pt=!1;function yl(e,t,n){for(n=n.child;n!==null;)of(e,t,n),n=n.sibling}function of(e,t,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,n)}catch{}switch(n.tag){case 26:Mt||Fn(n,t),yl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Mt||Fn(n,t);var l=dt,u=Pt;Vl(n.type)&&(dt=n.stateNode,Pt=!1),yl(e,t,n),Ji(n.stateNode),dt=l,Pt=u;break;case 5:Mt||Fn(n,t);case 6:if(l=dt,u=Pt,dt=null,yl(e,t,n),dt=l,Pt=u,dt!==null)if(Pt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(o){it(n,t,o)}else try{dt.removeChild(n.stateNode)}catch(o){it(n,t,o)}break;case 18:dt!==null&&(Pt?(e=dt,ld(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ai(e)):ld(dt,n.stateNode));break;case 4:l=dt,u=Pt,dt=n.stateNode.containerInfo,Pt=!0,yl(e,t,n),dt=l,Pt=u;break;case 0:case 11:case 14:case 15:Hl(2,n,t),Mt||Hl(4,n,t),yl(e,t,n);break;case 1:Mt||(Fn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&lf(n,t,l)),yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:Mt=(l=Mt)||n.memoizedState!==null,yl(e,t,n),Mt=l;break;default:yl(e,t,n)}}function ff(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(n){it(t,t.return,n)}}}function df(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(n){it(t,t.return,n)}}function y2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new uf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new uf),t;default:throw Error(i(435,e.tag))}}function Fr(e,t){var n=y2(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var u=N2.bind(null,e,l);l.then(u,u)}})}function Ft(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var u=n[l],o=e,j=t,E=j;e:for(;E!==null;){switch(E.tag){case 27:if(Vl(E.type)){dt=E.stateNode,Pt=!1;break e}break;case 5:dt=E.stateNode,Pt=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,Pt=!0;break e}E=E.return}if(dt===null)throw Error(i(160));of(o,j,u),dt=null,Pt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)hf(t,e),t=t.sibling}var Un=null;function hf(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ft(t,e),$t(e),l&4&&(Hl(3,e,e.return),Ii(3,e),Hl(5,e,e.return));break;case 1:Ft(t,e),$t(e),l&512&&(Mt||n===null||Fn(n,n.return)),l&64&&pl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var u=Un;if(Ft(t,e),$t(e),l&512&&(Mt||n===null||Fn(n,n.return)),l&4){var o=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":o=u.getElementsByTagName("title")[0],(!o||o[ia]||o[De]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(l),u.head.insertBefore(o,u.querySelector("head > title"))),Ht(o,l,n),o[De]=e,Xe(o),l=o;break e;case"link":var j=hd("link","href",u).get(l+(n.href||""));if(j){for(var E=0;E<j.length;E++)if(o=j[E],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){j.splice(E,1);break t}}o=u.createElement(l),Ht(o,l,n),u.head.appendChild(o);break;case"meta":if(j=hd("meta","content",u).get(l+(n.content||""))){for(E=0;E<j.length;E++)if(o=j[E],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){j.splice(E,1);break t}}o=u.createElement(l),Ht(o,l,n),u.head.appendChild(o);break;default:throw Error(i(468,l))}o[De]=e,Xe(o),l=o}e.stateNode=l}else md(u,e.type,e.stateNode);else e.stateNode=dd(u,l,e.memoizedProps);else o!==l?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,l===null?md(u,e.type,e.stateNode):dd(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ft(t,e),$t(e),l&512&&(Mt||n===null||Fn(n,n.return)),n!==null&&l&4&&vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ft(t,e),$t(e),l&512&&(Mt||n===null||Fn(n,n.return)),e.flags&32){u=e.stateNode;try{za(u,"")}catch(ge){it(e,e.return,ge)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,vu(e,u,n!==null?n.memoizedProps:u)),l&1024&&(_u=!0);break;case 6:if(Ft(t,e),$t(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(ge){it(e,e.return,ge)}}break;case 3:if(h0=null,u=Un,Un=f0(t.containerInfo),Ft(t,e),Un=u,$t(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(ge){it(e,e.return,ge)}_u&&(_u=!1,mf(e));break;case 4:l=Un,Un=f0(e.stateNode.containerInfo),Ft(t,e),$t(e),Un=l;break;case 12:Ft(t,e),$t(e);break;case 31:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 13:Ft(t,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(e0=Pe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 22:u=e.memoizedState!==null;var J=n!==null&&n.memoizedState!==null,le=pl,ce=Mt;if(pl=le||u,Mt=ce||J,Ft(t,e),Mt=ce,pl=le,$t(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||J||pl||Mt||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){J=n=t;try{if(o=J.stateNode,u)j=o.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{E=J.stateNode;var xe=J.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;E.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(ge){it(J,J.return,ge)}}}else if(t.tag===6){if(n===null){J=t;try{J.stateNode.nodeValue=u?"":J.memoizedProps}catch(ge){it(J,J.return,ge)}}}else if(t.tag===18){if(n===null){J=t;try{var ie=J.stateNode;u?ad(ie,!0):ad(J.stateNode,!1)}catch(ge){it(J,J.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Fr(e,n))));break;case 19:Ft(t,e),$t(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Fr(e,l)));break;case 30:break;case 21:break;default:Ft(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(rf(l)){n=l;break}l=l.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,o=pu(e);Pr(e,o,u);break;case 5:var j=n.stateNode;n.flags&32&&(za(j,""),n.flags&=-33);var E=pu(e);Pr(e,E,j);break;case 3:case 4:var J=n.stateNode.containerInfo,le=pu(e);yu(e,le,J);break;default:throw Error(i(161))}}catch(ce){it(e,e.return,ce)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;mf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xf(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hl(4,t,t.return),ya(t);break;case 1:Fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lf(t,t.return,n),ya(t);break;case 27:Ji(t.stateNode);case 26:case 5:Fn(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function Sl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,o=t,j=o.flags;switch(o.tag){case 0:case 11:case 15:Sl(u,o,n),Ii(4,o);break;case 1:if(Sl(u,o,n),l=o,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){it(l,l.return,le)}if(l=o,u=l.updateQueue,u!==null){var E=l.stateNode;try{var J=u.shared.hiddenCallbacks;if(J!==null)for(u.shared.hiddenCallbacks=null,u=0;u<J.length;u++)Ks(J[u],E)}catch(le){it(l,l.return,le)}}n&&j&64&&nf(o),Gi(o,o.return);break;case 27:cf(o);case 26:case 5:Sl(u,o,n),n&&l===null&&j&4&&af(o),Gi(o,o.return);break;case 12:Sl(u,o,n);break;case 31:Sl(u,o,n),n&&j&4&&ff(u,o);break;case 13:Sl(u,o,n),n&&j&4&&df(u,o);break;case 22:o.memoizedState===null&&Sl(u,o,n),Gi(o,o.return);break;case 30:break;default:Sl(u,o,n)}t=t.sibling}}function Su(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ci(n))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e))}function Kn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,n,l),t=t.sibling}function bf(e,t,n,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,l),u&2048&&Ii(9,t);break;case 1:Kn(e,t,n,l);break;case 3:Kn(e,t,n,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ci(e)));break;case 12:if(u&2048){Kn(e,t,n,l),e=t.stateNode;try{var o=t.memoizedProps,j=o.id,E=o.onPostCommit;typeof E=="function"&&E(j,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(J){it(t,t.return,J)}}else Kn(e,t,n,l);break;case 31:Kn(e,t,n,l);break;case 13:Kn(e,t,n,l);break;case 23:break;case 22:o=t.stateNode,j=t.alternate,t.memoizedState!==null?o._visibility&2?Kn(e,t,n,l):Ri(e,t):o._visibility&2?Kn(e,t,n,l):(o._visibility|=2,Ja(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Su(j,t);break;case 24:Kn(e,t,n,l),u&2048&&wu(t.alternate,t);break;default:Kn(e,t,n,l)}}function Ja(e,t,n,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,j=t,E=n,J=l,le=j.flags;switch(j.tag){case 0:case 11:case 15:Ja(o,j,E,J,u),Ii(8,j);break;case 23:break;case 22:var ce=j.stateNode;j.memoizedState!==null?ce._visibility&2?Ja(o,j,E,J,u):Ri(o,j):(ce._visibility|=2,Ja(o,j,E,J,u)),u&&le&2048&&Su(j.alternate,j);break;case 24:Ja(o,j,E,J,u),u&&le&2048&&wu(j.alternate,j);break;default:Ja(o,j,E,J,u)}t=t.sibling}}function Ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,u=l.flags;switch(l.tag){case 22:Ri(n,l),u&2048&&Su(l.alternate,l);break;case 24:Ri(n,l),u&2048&&wu(l.alternate,l);break;default:Ri(n,l)}t=t.sibling}}var Oi=8192;function Va(e,t,n){if(e.subtreeFlags&Oi)for(e=e.child;e!==null;)gf(e,t,n),e=e.sibling}function gf(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&Oi&&e.memoizedState!==null&&rh(n,Un,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var l=Un;Un=f0(e.stateNode.containerInfo),Va(e,t,n),Un=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Oi,Oi=16777216,Va(e,t,n),Oi=l):Va(e,t,n));break;default:Va(e,t,n)}}function vf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Nt=l,yf(l,e)}vf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&Hl(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):Hi(e);break;default:Hi(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Nt=l,yf(l,e)}vf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hl(8,t,t.return),$r(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function yf(e,t){for(;Nt!==null;){var n=Nt;switch(n.tag){case 0:case 11:case 15:Hl(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ci(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Nt=l;else e:for(n=e;Nt!==null;){l=Nt;var u=l.sibling,o=l.return;if(sf(l),l===n){Nt=null;break e}if(u!==null){u.return=o,Nt=u;break e}Nt=o}}}var _2={getCacheForType:function(e){var t=Rt(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rt(wt).controller.signal}},S2=typeof WeakMap=="function"?WeakMap:Map,tt=0,st=null,Ie=null,He=0,at=0,hn=null,Yl=!1,Wa=!1,Cu=!1,wl=0,vt=0,Ul=0,_a=0,ju=0,mn=0,Qa=0,Yi=null,en=null,Mu=!1,e0=0,_f=0,t0=1/0,n0=null,Kl=null,Dt=0,Zl=null,Pa=null,Cl=0,zu=0,Du=null,Sf=null,Ui=0,Nu=null;function bn(){return(tt&2)!==0&&He!==0?He&-He:z.T!==null?Bu():yn()}function wf(){if(mn===0)if((He&536870912)===0||Ue){var e=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),mn=e}else mn=536870912;return e=fn.current,e!==null&&(e.flags|=32),mn}function tn(e,t,n){(e===st&&(at===2||at===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Xl(e,He,mn,!1)),Le(e,n),((tt&2)===0||e!==st)&&(e===st&&((tt&2)===0&&(_a|=n),vt===4&&Xl(e,He,mn,!1)),$n(e))}function Cf(e,t,n){if((tt&6)!==0)throw Error(i(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Fe(e,t),u=l?j2(e,t):Lu(e,t,!0),o=l;do{if(u===0){Wa&&!l&&Xl(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!w2(n)){u=Lu(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){t=j;e:{var E=e;u=Yi;var J=E.current.memoizedState.isDehydrated;if(J&&(Fa(E,j).flags|=256),j=Lu(E,j,!1),j!==2){if(Cu&&!J){E.errorRecoveryDisabledLanes|=o,_a|=o,u=4;break e}o=en,en=u,o!==null&&(en===null?en=o:en.push.apply(en,o))}u=j}if(o=!1,u!==2)continue}}if(u===1){Fa(e,0),Xl(e,t,0,!0);break}e:{switch(l=e,o=u,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Xl(l,t,mn,!Yl);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=e0+300-Pe(),10<u)){if(Xl(l,t,mn,!Yl),we(l,0,!0)!==0)break e;Cl=t,l.timeoutHandle=td(jf.bind(null,l,n,en,n0,Mu,t,mn,_a,Qa,Yl,o,"Throttled",-0,0),u);break e}jf(l,n,en,n0,Mu,t,mn,_a,Qa,Yl,o,null,-0,0)}}break}while(!0);$n(e)}function jf(e,t,n,l,u,o,j,E,J,le,ce,xe,ae,ie){if(e.timeoutHandle=-1,xe=t.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},gf(t,o,xe);var ge=(o&62914560)===o?e0-Pe():(o&4194048)===o?_f-Pe():0;if(ge=ch(xe,ge),ge!==null){Cl=o,e.cancelPendingCommit=ge(Ef.bind(null,e,t,o,n,l,u,j,E,J,ce,xe,null,ae,ie)),Xl(e,o,j,!le);return}}Ef(e,t,o,n,l,u,j,E,J)}function w2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var u=n[l],o=u.getSnapshot;u=u.value;try{if(!sn(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,n,l){t&=~ju,t&=~_a,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var o=31-Oe(u),j=1<<o;l[o]=-1,u&=~j}n!==0&&et(e,n,t)}function l0(){return(tt&6)===0?(Ki(0),!1):!0}function Au(){if(Ie!==null){if(at===0)var e=Ie.return;else e=Ie,dl=fa=null,Xc(e),Ya=null,Mi=0,e=Ie;for(;e!==null;)tf(e.alternate,e),e=e.return;Ie=null}}function Fa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,U2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cl=0,Au(),st=e,Ie=n=ol(e.current,null),He=t,at=0,hn=null,Yl=!1,Wa=Fe(e,t),Cu=!1,Qa=mn=ju=_a=Ul=vt=0,en=Yi=null,Mu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Oe(l),o=1<<u;t|=e[u],l&=~o}return wl=t,Cr(),n}function Mf(e,t){Te=null,z.H=ki,t===Ha||t===Tr?(t=Os(),at=3):t===kc?(t=Os(),at=4):at=t===uu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Ie===null&&(vt=1,Xr(e,jn(t,e.current)))}function zf(){var e=fn.current;return e===null?!0:(He&4194048)===He?Nn===null:(He&62914560)===He||(He&536870912)!==0?e===Nn:!1}function Df(){var e=z.H;return z.H=ki,e===null?ki:e}function Nf(){var e=z.A;return z.A=_2,e}function a0(){vt=4,Yl||(He&4194048)!==He&&fn.current!==null||(Wa=!0),(Ul&134217727)===0&&(_a&134217727)===0||st===null||Xl(st,He,mn,!1)}function Lu(e,t,n){var l=tt;tt|=2;var u=Df(),o=Nf();(st!==e||He!==t)&&(n0=null,Fa(e,t)),t=!1;var j=vt;e:do try{if(at!==0&&Ie!==null){var E=Ie,J=hn;switch(at){case 8:Au(),j=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(t=!0);var le=at;if(at=0,hn=null,$a(e,E,J,le),n&&Wa){j=0;break e}break;default:le=at,at=0,hn=null,$a(e,E,J,le)}}C2(),j=vt;break}catch(ce){Mf(e,ce)}while(!0);return t&&e.shellSuspendCounter++,dl=fa=null,tt=l,z.H=u,z.A=o,Ie===null&&(st=null,He=0,Cr()),j}function C2(){for(;Ie!==null;)Af(Ie)}function j2(e,t){var n=tt;tt|=2;var l=Df(),u=Nf();st!==e||He!==t?(n0=null,t0=Pe()+500,Fa(e,t)):Wa=Fe(e,t);e:do try{if(at!==0&&Ie!==null){t=Ie;var o=hn;t:switch(at){case 1:at=0,hn=null,$a(e,t,o,1);break;case 2:case 9:if(Gs(o)){at=0,hn=null,Lf(t);break}t=function(){at!==2&&at!==9||st!==e||(at=7),$n(e)},o.then(t,t);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Gs(o)?(at=0,hn=null,Lf(t)):(at=0,hn=null,$a(e,t,o,7));break;case 5:var j=null;switch(Ie.tag){case 26:j=Ie.memoizedState;case 5:case 27:var E=Ie;if(j?bd(j):E.stateNode.complete){at=0,hn=null;var J=E.sibling;if(J!==null)Ie=J;else{var le=E.return;le!==null?(Ie=le,i0(le)):Ie=null}break t}}at=0,hn=null,$a(e,t,o,5);break;case 6:at=0,hn=null,$a(e,t,o,6);break;case 8:Au(),vt=6;break e;default:throw Error(i(462))}}M2();break}catch(ce){Mf(e,ce)}while(!0);return dl=fa=null,z.H=l,z.A=u,tt=n,Ie!==null?0:(st=null,He=0,Cr(),vt)}function M2(){for(;Ie!==null&&!Xn();)Af(Ie)}function Af(e){var t=$o(e.alternate,e,wl);e.memoizedProps=e.pendingProps,t===null?i0(e):Ie=t}function Lf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jo(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Jo(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Xc(t);default:tf(n,t),t=Ie=zs(t,wl),t=$o(n,t,wl)}e.memoizedProps=e.pendingProps,t===null?i0(e):Ie=t}function $a(e,t,n,l){dl=fa=null,Xc(t),Ya=null,Mi=0;var u=t.return;try{if(h2(e,u,t,n,He)){vt=1,Xr(e,jn(n,e.current)),Ie=null;return}}catch(o){if(u!==null)throw Ie=u,o;vt=1,Xr(e,jn(n,e.current)),Ie=null;return}t.flags&32768?(Ue||l===1?e=!0:Wa||(He&536870912)!==0?e=!1:(Yl=e=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tf(t,e)):i0(t)}function i0(e){var t=e;do{if((t.flags&32768)!==0){Tf(t,Yl);return}e=t.return;var n=g2(t.alternate,t,wl);if(n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);vt===0&&(vt=5)}function Tf(e,t){do{var n=v2(e.alternate,e);if(n!==null){n.flags&=32767,Ie=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=n}while(e!==null);vt=6,Ie=null}function Ef(e,t,n,l,u,o,j,E,J){e.cancelPendingCommit=null;do r0();while(Dt!==0);if((tt&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=pc,qt(e,n,o,j,E,J),e===st&&(Ie=st=null,He=0),Pa=t,Zl=e,Cl=n,zu=o,Du=u,Sf=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A2(rl,function(){return Gf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,u=L.p,L.p=2,j=tt,tt|=4;try{p2(e,t,n)}finally{tt=j,L.p=u,z.T=l}}Dt=1,kf(),Bf(),qf()}}function kf(){if(Dt===1){Dt=0;var e=Zl,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var l=L.p;L.p=2;var u=tt;tt|=4;try{hf(t,e);var o=Uu,j=vs(e.containerInfo),E=o.focusedElem,J=o.selectionRange;if(j!==E&&E&&E.ownerDocument&&gs(E.ownerDocument.documentElement,E)){if(J!==null&&hc(E)){var le=J.start,ce=J.end;if(ce===void 0&&(ce=le),"selectionStart"in E)E.selectionStart=le,E.selectionEnd=Math.min(ce,E.value.length);else{var xe=E.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var ie=ae.getSelection(),ge=E.textContent.length,je=Math.min(J.start,ge),xt=J.end===void 0?je:Math.min(J.end,ge);!ie.extend&&je>xt&&(j=xt,xt=je,je=j);var $=bs(E,je),Q=bs(E,xt);if($&&Q&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==Q.node||ie.focusOffset!==Q.offset)){var ne=xe.createRange();ne.setStart($.node,$.offset),ie.removeAllRanges(),je>xt?(ie.addRange(ne),ie.extend(Q.node,Q.offset)):(ne.setEnd(Q.node,Q.offset),ie.addRange(ne))}}}}for(xe=[],ie=E;ie=ie.parentNode;)ie.nodeType===1&&xe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<xe.length;E++){var ue=xe[E];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}v0=!!Yu,Uu=Yu=null}finally{tt=u,L.p=l,z.T=n}}e.current=t,Dt=2}}function Bf(){if(Dt===2){Dt=0;var e=Zl,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var l=L.p;L.p=2;var u=tt;tt|=4;try{xf(e,t.alternate,t)}finally{tt=u,L.p=l,z.T=n}}Dt=3}}function qf(){if(Dt===4||Dt===3){Dt=0,Jn();var e=Zl,t=Pa,n=Cl,l=Sf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Dt=5:(Dt=0,Pa=Zl=null,If(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Kl=null),bt(n),t=t.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,u=L.p,L.p=2,z.T=null;try{for(var o=e.onRecoverableError,j=0;j<l.length;j++){var E=l[j];o(E.value,{componentStack:E.stack})}}finally{z.T=t,L.p=u}}(Cl&3)!==0&&r0(),$n(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Nu?Ui++:(Ui=0,Nu=e):Ui=0,Ki(0)}}function If(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ci(t)))}function r0(){return kf(),Bf(),qf(),Gf()}function Gf(){if(Dt!==5)return!1;var e=Zl,t=zu;zu=0;var n=bt(Cl),l=z.T,u=L.p;try{L.p=32>n?32:n,z.T=null,n=Du,Du=null;var o=Zl,j=Cl;if(Dt=0,Pa=Zl=null,Cl=0,(tt&6)!==0)throw Error(i(331));var E=tt;if(tt|=4,pf(o.current),bf(o,o.current,j,n),tt=E,Ki(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,o)}catch{}return!0}finally{L.p=u,z.T=l,If(e,t)}}function Rf(e,t,n){t=jn(n,t),t=cu(e.stateNode,t,2),e=Gl(e,t,2),e!==null&&(Le(e,2),$n(e))}function it(e,t,n){if(e.tag===3)Rf(e,e,n);else for(;t!==null;){if(t.tag===3){Rf(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kl===null||!Kl.has(l))){e=jn(n,e),n=Ro(2),l=Gl(t,n,2),l!==null&&(Oo(n,l,t,e),Le(l,2),$n(l));break}}t=t.return}}function Tu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new S2;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(n)||(Cu=!0,u.add(n),e=z2.bind(null,e,t,n),t.then(e,e))}function z2(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,st===e&&(He&n)===n&&(vt===4||vt===3&&(He&62914560)===He&&300>Pe()-e0?(tt&2)===0&&Fa(e,0):ju|=n,Qa===He&&(Qa=0)),$n(e)}function Of(e,t){t===0&&(t=Je()),e=xa(e,t),e!==null&&(Le(e,t),$n(e))}function D2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function N2(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Of(e,n)}function A2(e,t){return Ut(e,t)}var c0=null,ei=null,Eu=!1,u0=!1,ku=!1,Jl=0;function $n(e){e!==ei&&e.next===null&&(ei===null?c0=ei=e:ei=ei.next=e),u0=!0,Eu||(Eu=!0,T2())}function Ki(e,t){if(!ku&&u0){ku=!0;do for(var n=!1,l=c0;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var o=0;else{var j=l.suspendedLanes,E=l.pingedLanes;o=(1<<31-Oe(42|e)+1)-1,o&=u&~(j&~E),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Kf(l,o))}else o=He,o=we(l,l===st?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Fe(l,o)||(n=!0,Kf(l,o));l=l.next}while(n);ku=!1}}function L2(){Hf()}function Hf(){u0=Eu=!1;var e=0;Jl!==0&&Y2()&&(e=Jl);for(var t=Pe(),n=null,l=c0;l!==null;){var u=l.next,o=Yf(l,t);o===0?(l.next=null,n===null?c0=u:n.next=u,u===null&&(ei=n)):(n=l,(e!==0||(o&3)!==0)&&(u0=!0)),l=u}Dt!==0&&Dt!==5||Ki(e),Jl!==0&&(Jl=0)}function Yf(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var j=31-Oe(o),E=1<<j,J=u[j];J===-1?((E&n)===0||(E&l)!==0)&&(u[j]=$e(E,t)):J<=t&&(e.expiredLanes|=E),o&=~E}if(t=st,n=He,n=we(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(at===2||at===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xn(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Fe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&xn(l),bt(n)){case 2:case 8:n=il;break;case 32:n=rl;break;case 268435456:n=aa;break;default:n=rl}return l=Uf.bind(null,e),n=Ut(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&xn(l),e.callbackPriority=2,e.callbackNode=null,2}function Uf(e,t){if(Dt!==0&&Dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(r0()&&e.callbackNode!==n)return null;var l=He;return l=we(e,e===st?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cf(e,l,t),Yf(e,Pe()),e.callbackNode!=null&&e.callbackNode===n?Uf.bind(null,e):null)}function Kf(e,t){if(r0())return null;Cf(e,t,!0)}function T2(){K2(function(){(tt&6)!==0?Ut(zl,L2):Hf()})}function Bu(){if(Jl===0){var e=Ra;e===0&&(e=Se,Se<<=1,(Se&261888)===0&&(Se=256)),Jl=e}return Jl}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Xf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function E2(e,t,n,l,u){if(t==="submit"&&n&&n.stateNode===u){var o=Zf((u[It]||null).action),j=l.submitter;j&&(t=(t=j[It]||null)?Zf(t.formAction):j.getAttribute("formAction"),t!==null&&(o=t,j=null));var E=new yr("action","action",null,l,u);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jl!==0){var J=j?Xf(u,j):new FormData(u);tu(n,{pending:!0,data:J,method:u.method,action:o},null,J)}}else typeof o=="function"&&(E.preventDefault(),J=j?Xf(u,j):new FormData(u),tu(n,{pending:!0,data:J,method:u.method,action:o},o,J))},currentTarget:u}]})}}for(var qu=0;qu<vc.length;qu++){var Iu=vc[qu],k2=Iu.toLowerCase(),B2=Iu[0].toUpperCase()+Iu.slice(1);Yn(k2,"on"+B2)}Yn(_s,"onAnimationEnd"),Yn(Ss,"onAnimationIteration"),Yn(ws,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(P1,"onTransitionRun"),Yn(F1,"onTransitionStart"),Yn($1,"onTransitionCancel"),Yn(Cs,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zi));function Jf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],u=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var j=l.length-1;0<=j;j--){var E=l[j],J=E.instance,le=E.currentTarget;if(E=E.listener,J!==o&&u.isPropagationStopped())break e;o=E,u.currentTarget=le;try{o(u)}catch(ce){wr(ce)}u.currentTarget=null,o=J}else for(j=0;j<l.length;j++){if(E=l[j],J=E.instance,le=E.currentTarget,E=E.listener,J!==o&&u.isPropagationStopped())break e;o=E,u.currentTarget=le;try{o(u)}catch(ce){wr(ce)}u.currentTarget=null,o=J}}}}function Ge(e,t){var n=t[_n];n===void 0&&(n=t[_n]=new Set);var l=e+"__bubble";n.has(l)||(Vf(t,e,2,!1),n.add(l))}function Gu(e,t,n){var l=0;t&&(l|=4),Vf(n,e,l,t)}var x0="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[x0]){e[x0]=!0,St.forEach(function(n){n!=="selectionchange"&&(q2.has(n)||Gu(n,!1,e),Gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x0]||(t[x0]=!0,Gu("selectionchange",!1,t))}}function Vf(e,t,n,l){switch(wd(t)){case 2:var u=sh;break;case 8:u=oh;break;default:u=ex}n=u.bind(null,t,n,e),u=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Ou(e,t,n,l,u){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var j=l.tag;if(j===3||j===4){var E=l.stateNode.containerInfo;if(E===u)break;if(j===4)for(j=l.return;j!==null;){var J=j.tag;if((J===3||J===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;E!==null;){if(j=Al(E),j===null)return;if(J=j.tag,J===5||J===6||J===26||J===27){l=o=j;continue e}E=E.parentNode}}l=l.return}Px(function(){var le=o,ce=lc(n),xe=[];e:{var ae=js.get(e);if(ae!==void 0){var ie=yr,ge=e;switch(e){case"keypress":if(vr(n)===0)break e;case"keydown":case"keyup":ie=N1;break;case"focusin":ge="focus",ie=xc;break;case"focusout":ge="blur",ie=xc;break;case"beforeblur":case"afterblur":ie=xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=T1;break;case _s:case Ss:case ws:ie=y1;break;case Cs:ie=k1;break;case"scroll":case"scrollend":ie=m1;break;case"wheel":ie=q1;break;case"copy":case"cut":case"paste":ie=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ns;break;case"toggle":case"beforetoggle":ie=G1}var je=(t&4)!==0,xt=!je&&(e==="scroll"||e==="scrollend"),$=je?ae!==null?ae+"Capture":null:ae;je=[];for(var Q=le,ne;Q!==null;){var ue=Q;if(ne=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ne===null||$===null||(ue=di(Q,$),ue!=null&&je.push(Xi(Q,ue,ne))),xt)break;Q=Q.return}0<je.length&&(ae=new ie(ae,ge,null,n,ce),xe.push({event:ae,listeners:je}))}}if((t&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",ae&&n!==nc&&(ge=n.relatedTarget||n.fromElement)&&(Al(ge)||ge[Nl]))break e;if((ie||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,ie?(ge=n.relatedTarget||n.toElement,ie=le,ge=ge?Al(ge):null,ge!==null&&(xt=f(ge),je=ge.tag,ge!==xt||je!==5&&je!==27&&je!==6)&&(ge=null)):(ie=null,ge=le),ie!==ge)){if(je=es,ue="onMouseLeave",$="onMouseEnter",Q="mouse",(e==="pointerout"||e==="pointerover")&&(je=ns,ue="onPointerLeave",$="onPointerEnter",Q="pointer"),xt=ie==null?ae:_e(ie),ne=ge==null?ae:_e(ge),ae=new je(ue,Q+"leave",ie,n,ce),ae.target=xt,ae.relatedTarget=ne,ue=null,Al(ce)===le&&(je=new je($,Q+"enter",ge,n,ce),je.target=ne,je.relatedTarget=xt,ue=je),xt=ue,ie&&ge)t:{for(je=I2,$=ie,Q=ge,ne=0,ue=$;ue;ue=je(ue))ne++;ue=0;for(var Ce=Q;Ce;Ce=je(Ce))ue++;for(;0<ne-ue;)$=je($),ne--;for(;0<ue-ne;)Q=je(Q),ue--;for(;ne--;){if($===Q||Q!==null&&$===Q.alternate){je=$;break t}$=je($),Q=je(Q)}je=null}else je=null;ie!==null&&Wf(xe,ae,ie,je,!1),ge!==null&&xt!==null&&Wf(xe,xt,ge,je,!0)}}e:{if(ae=le?_e(le):window,ie=ae.nodeName&&ae.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ae.type==="file")var We=ss;else if(us(ae))if(os)We=V1;else{We=X1;var ve=Z1}else ie=ae.nodeName,!ie||ie.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?le&&tc(le.elementType)&&(We=ss):We=J1;if(We&&(We=We(e,le))){xs(xe,We,n,ce);break e}ve&&ve(e,ae,le),e==="focusout"&&le&&ae.type==="number"&&le.memoizedProps.value!=null&&ec(ae,"number",ae.value)}switch(ve=le?_e(le):window,e){case"focusin":(us(ve)||ve.contentEditable==="true")&&(La=ve,mc=le,_i=null);break;case"focusout":_i=mc=La=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,ps(xe,n,ce);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":ps(xe,n,ce)}var Ee;if(oc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Aa?rs(e,n)&&(Ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ye="onCompositionStart");Ye&&(ls&&n.locale!=="ko"&&(Aa||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Aa&&(Ee=Fx()):(Ll=ce,rc="value"in Ll?Ll.value:Ll.textContent,Aa=!0)),ve=s0(le,Ye),0<ve.length&&(Ye=new ts(Ye,e,null,n,ce),xe.push({event:Ye,listeners:ve}),Ee?Ye.data=Ee:(Ee=cs(n),Ee!==null&&(Ye.data=Ee)))),(Ee=O1?H1(e,n):Y1(e,n))&&(Ye=s0(le,"onBeforeInput"),0<Ye.length&&(ve=new ts("onBeforeInput","beforeinput",null,n,ce),xe.push({event:ve,listeners:Ye}),ve.data=Ee)),E2(xe,e,le,n,ce)}Jf(xe,t)})}function Xi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function s0(e,t){for(var n=t+"Capture",l=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=di(e,n),u!=null&&l.unshift(Xi(e,u,o)),u=di(e,t),u!=null&&l.push(Xi(e,u,o))),e.tag===3)return l;e=e.return}return[]}function I2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,n,l,u){for(var o=t._reactName,j=[];n!==null&&n!==l;){var E=n,J=E.alternate,le=E.stateNode;if(E=E.tag,J!==null&&J===l)break;E!==5&&E!==26&&E!==27||le===null||(J=le,u?(le=di(n,o),le!=null&&j.unshift(Xi(n,le,J))):u||(le=di(n,o),le!=null&&j.push(Xi(n,le,J)))),n=n.return}j.length!==0&&e.push({event:t,listeners:j})}var G2=/\r\n?/g,R2=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(G2,`
`).replace(R2,"")}function Pf(e,t){return t=Qf(t),Qf(e)===t}function ut(e,t,n,l,u,o){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&za(e,""+l);break;case"className":hr(e,"class",l);break;case"tabIndex":hr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(e,n,l);break;case"style":Wx(e,l,o);break;case"data":if(t!=="object"){hr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&ut(e,t,"name",u.name,u,null),ut(e,t,"formEncType",u.formEncType,u,null),ut(e,t,"formMethod",u.formMethod,u,null),ut(e,t,"formTarget",u.formTarget,u,null)):(ut(e,t,"encType",u.encType,u,null),ut(e,t,"method",u.method,u,null),ut(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=br(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=xl);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=br(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),dr(e,"popover",l);break;case"xlinkActuate":ul(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ul(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ul(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ul(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ul(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ul(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ul(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ul(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ul(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=d1.get(n)||n,dr(e,n,l))}}function Hu(e,t,n,l,u,o){switch(n){case"style":Wx(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(n=l.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof l=="string"?za(e,l):(typeof l=="number"||typeof l=="bigint")&&za(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[It]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof l=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,u);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):dr(e,n,l)}}}function Ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var j=n[o];if(j!=null)switch(o){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,o,j,n,null)}}u&&ut(e,t,"srcSet",n.srcSet,n,null),l&&ut(e,t,"src",n.src,n,null);return;case"input":Ge("invalid",e);var E=o=j=u=null,J=null,le=null;for(l in n)if(n.hasOwnProperty(l)){var ce=n[l];if(ce!=null)switch(l){case"name":u=ce;break;case"type":j=ce;break;case"checked":J=ce;break;case"defaultChecked":le=ce;break;case"value":o=ce;break;case"defaultValue":E=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,t));break;default:ut(e,t,l,ce,n,null)}}Zx(e,o,E,J,le,j,u,!1);return;case"select":Ge("invalid",e),l=j=o=null;for(u in n)if(n.hasOwnProperty(u)&&(E=n[u],E!=null))switch(u){case"value":o=E;break;case"defaultValue":j=E;break;case"multiple":l=E;default:ut(e,t,u,E,n,null)}t=o,n=j,e.multiple=!!l,t!=null?Ma(e,!!l,t,!1):n!=null&&Ma(e,!!l,n,!0);return;case"textarea":Ge("invalid",e),o=u=l=null;for(j in n)if(n.hasOwnProperty(j)&&(E=n[j],E!=null))switch(j){case"value":l=E;break;case"defaultValue":u=E;break;case"children":o=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ut(e,t,j,E,n,null)}Jx(e,l,u,o);return;case"option":for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!=null)&&(J==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(e,t,J,l,n,null));return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Zi.length;l++)Ge(Zi[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in n)if(n.hasOwnProperty(le)&&(l=n[le],l!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ut(e,t,le,l,n,null)}return;default:if(tc(t)){for(ce in n)n.hasOwnProperty(ce)&&(l=n[ce],l!==void 0&&Hu(e,t,ce,l,n,void 0));return}}for(E in n)n.hasOwnProperty(E)&&(l=n[E],l!=null&&ut(e,t,E,l,n,null))}function O2(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,j=null,E=null,J=null,le=null,ce=null;for(ie in n){var xe=n[ie];if(n.hasOwnProperty(ie)&&xe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":J=xe;default:l.hasOwnProperty(ie)||ut(e,t,ie,null,l,xe)}}for(var ae in l){var ie=l[ae];if(xe=n[ae],l.hasOwnProperty(ae)&&(ie!=null||xe!=null))switch(ae){case"type":o=ie;break;case"name":u=ie;break;case"checked":le=ie;break;case"defaultChecked":ce=ie;break;case"value":j=ie;break;case"defaultValue":E=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,t));break;default:ie!==xe&&ut(e,t,ae,ie,l,xe)}}$0(e,j,E,J,le,ce,o,u);return;case"select":ie=j=E=ae=null;for(o in n)if(J=n[o],n.hasOwnProperty(o)&&J!=null)switch(o){case"value":break;case"multiple":ie=J;default:l.hasOwnProperty(o)||ut(e,t,o,null,l,J)}for(u in l)if(o=l[u],J=n[u],l.hasOwnProperty(u)&&(o!=null||J!=null))switch(u){case"value":ae=o;break;case"defaultValue":E=o;break;case"multiple":j=o;default:o!==J&&ut(e,t,u,o,l,J)}t=E,n=j,l=ie,ae!=null?Ma(e,!!n,ae,!1):!!l!=!!n&&(t!=null?Ma(e,!!n,t,!0):Ma(e,!!n,n?[]:"",!1));return;case"textarea":ie=ae=null;for(E in n)if(u=n[E],n.hasOwnProperty(E)&&u!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(e,t,E,null,l,u)}for(j in l)if(u=l[j],o=n[j],l.hasOwnProperty(j)&&(u!=null||o!=null))switch(j){case"value":ae=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==o&&ut(e,t,j,u,l,o)}Xx(e,ae,ie);return;case"option":for(var ge in n)ae=n[ge],n.hasOwnProperty(ge)&&ae!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?e.selected=!1:ut(e,t,ge,null,l,ae));for(J in l)ae=l[J],ie=n[J],l.hasOwnProperty(J)&&ae!==ie&&(ae!=null||ie!=null)&&(J==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":ut(e,t,J,ae,l,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in n)ae=n[je],n.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je)&&ut(e,t,je,null,l,ae);for(le in l)if(ae=l[le],ie=n[le],l.hasOwnProperty(le)&&ae!==ie&&(ae!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,t));break;default:ut(e,t,le,ae,l,ie)}return;default:if(tc(t)){for(var xt in n)ae=n[xt],n.hasOwnProperty(xt)&&ae!==void 0&&!l.hasOwnProperty(xt)&&Hu(e,t,xt,void 0,l,ae);for(ce in l)ae=l[ce],ie=n[ce],!l.hasOwnProperty(ce)||ae===ie||ae===void 0&&ie===void 0||Hu(e,t,ce,ae,l,ie);return}}for(var $ in n)ae=n[$],n.hasOwnProperty($)&&ae!=null&&!l.hasOwnProperty($)&&ut(e,t,$,null,l,ae);for(xe in l)ae=l[xe],ie=n[xe],!l.hasOwnProperty(xe)||ae===ie||ae==null&&ie==null||ut(e,t,xe,ae,l,ie)}function Ff(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var u=n[l],o=u.transferSize,j=u.initiatorType,E=u.duration;if(o&&E&&Ff(j)){for(j=0,E=u.responseEnd,l+=1;l<n.length;l++){var J=n[l],le=J.startTime;if(le>E)break;var ce=J.transferSize,xe=J.initiatorType;ce&&Ff(xe)&&(J=J.responseEnd,j+=ce*(J<E?1:(E-le)/(J-le)))}if(--l,t+=8*(o+j)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yu=null,Uu=null;function o0(e){return e.nodeType===9?e:e.ownerDocument}function $f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ed(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function Y2(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var td=typeof setTimeout=="function"?setTimeout:void 0,U2=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(Z2)}:td;function Z2(e){setTimeout(function(){throw e})}function Vl(e){return e==="head"}function ld(e,t){var n=t,l=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(u),ai(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ji(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ji(n);for(var o=n.firstChild;o;){var j=o.nextSibling,E=o.nodeName;o[ia]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=j}}else n==="body"&&Ji(e.ownerDocument.body);n=u}while(n);ai(t)}function ad(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xu(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function X2(e,t,n,l){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function J2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function id(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=An(e.nextSibling),e===null))return null;return e}function Ju(e){return e.data==="$?"||e.data==="$~"}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wu=null;function rd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return An(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ud(e,t,n){switch(t=o0(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ji(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fi(e)}var Ln=new Map,xd=new Set;function f0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jl=L.d;L.d={f:W2,r:Q2,D:P2,C:F2,L:$2,m:eh,X:nh,S:th,M:lh};function W2(){var e=jl.f(),t=l0();return e||t}function Q2(e){var t=me(e);t!==null&&t.tag===5&&t.type==="form"?jo(t):jl.r(e)}var ti=typeof document>"u"?null:document;function sd(e,t,n){var l=ti;if(l&&typeof t=="string"&&t){var u=wn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),xd.has(u)||(xd.add(u),e={rel:e,crossOrigin:n,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Ht(t,"link",e),Xe(t),l.head.appendChild(t)))}}function P2(e){jl.D(e),sd("dns-prefetch",e,null)}function F2(e,t){jl.C(e,t),sd("preconnect",e,t)}function $2(e,t,n){jl.L(e,t,n);var l=ti;if(l&&e&&t){var u='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+wn(n.imageSizes)+'"]')):u+='[href="'+wn(e)+'"]';var o=u;switch(t){case"style":o=ni(e);break;case"script":o=li(e)}Ln.has(o)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ln.set(o,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Vi(o))||t==="script"&&l.querySelector(Wi(o))||(t=l.createElement("link"),Ht(t,"link",e),Xe(t),l.head.appendChild(t)))}}function eh(e,t){jl.m(e,t);var n=ti;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(e)+'"]',o=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=li(e)}if(!Ln.has(o)&&(e=S({rel:"modulepreload",href:e},t),Ln.set(o,e),n.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wi(o)))return}l=n.createElement("link"),Ht(l,"link",e),Xe(l),n.head.appendChild(l)}}}function th(e,t,n){jl.S(e,t,n);var l=ti;if(l&&e){var u=qe(l).hoistableStyles,o=ni(e);t=t||"default";var j=u.get(o);if(!j){var E={loading:0,preload:null};if(j=l.querySelector(Vi(o)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ln.get(o))&&Qu(e,n);var J=j=l.createElement("link");Xe(J),Ht(J,"link",e),J._p=new Promise(function(le,ce){J.onload=le,J.onerror=ce}),J.addEventListener("load",function(){E.loading|=1}),J.addEventListener("error",function(){E.loading|=2}),E.loading|=4,d0(j,t,l)}j={type:"stylesheet",instance:j,count:1,state:E},u.set(o,j)}}}function nh(e,t){jl.X(e,t);var n=ti;if(n&&e){var l=qe(n).hoistableScripts,u=li(e),o=l.get(u);o||(o=n.querySelector(Wi(u)),o||(e=S({src:e,async:!0},t),(t=Ln.get(u))&&Pu(e,t),o=n.createElement("script"),Xe(o),Ht(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function lh(e,t){jl.M(e,t);var n=ti;if(n&&e){var l=qe(n).hoistableScripts,u=li(e),o=l.get(u);o||(o=n.querySelector(Wi(u)),o||(e=S({src:e,async:!0,type:"module"},t),(t=Ln.get(u))&&Pu(e,t),o=n.createElement("script"),Xe(o),Ht(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(u,o))}}function od(e,t,n,l){var u=(u=ee.current)?f0(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ni(n.href),n=qe(u).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ni(n.href);var o=qe(u).hoistableStyles,j=o.get(e);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,j),(o=u.querySelector(Vi(e)))&&!o._p&&(j.instance=o,j.state.loading=5),Ln.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(e,n),o||ah(u,e,n,j.state))),t&&l===null)throw Error(i(528,""));return j}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=qe(u).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ni(e){return'href="'+wn(e)+'"'}function Vi(e){return'link[rel="stylesheet"]['+e+"]"}function fd(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ah(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ht(t,"link",n),Xe(t),e.head.appendChild(t))}function li(e){return'[src="'+wn(e)+'"]'}function Wi(e){return"script[async]"+e}function dd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(l)return t.instance=l,Xe(l),l;var u=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Xe(l),Ht(l,"style",u),d0(l,n.precedence,e),t.instance=l;case"stylesheet":u=ni(n.href);var o=e.querySelector(Vi(u));if(o)return t.state.loading|=4,t.instance=o,Xe(o),o;l=fd(n),(u=Ln.get(u))&&Qu(l,u),o=(e.ownerDocument||e).createElement("link"),Xe(o);var j=o;return j._p=new Promise(function(E,J){j.onload=E,j.onerror=J}),Ht(o,"link",l),t.state.loading|=4,d0(o,n.precedence,e),t.instance=o;case"script":return o=li(n.src),(u=e.querySelector(Wi(o)))?(t.instance=u,Xe(u),u):(l=n,(u=Ln.get(o))&&(l=S({},n),Pu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),Ht(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,d0(l,n.precedence,e));return t.instance}function d0(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,o=u,j=0;j<l.length;j++){var E=l[j];if(E.dataset.precedence===t)o=E;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var h0=null;function hd(e,t,n){if(h0===null){var l=new Map,u=h0=new Map;u.set(n,l)}else u=h0,l=u.get(n),l||(l=new Map,u.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[ia]||o[De]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var j=o.getAttribute(t)||"";j=e+j;var E=l.get(j);E?E.push(o):l.set(j,[o])}}return l}function md(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ih(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rh(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ni(l.href),o=t.querySelector(Vi(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=m0.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Xe(o);return}o=t.ownerDocument||t,l=fd(l),(u=Ln.get(u))&&Qu(l,u),o=o.createElement("link"),Xe(o);var j=o;j._p=new Promise(function(E,J){j.onload=E,j.onerror=J}),Ht(o,"link",l),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=m0.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Fu=0;function ch(e,t){return e.stylesheets&&e.count===0&&g0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Fu===0&&(Fu=62500*H2());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&g0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Fu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function m0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)g0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var b0=null;function g0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,b0=new Map,t.forEach(uh,e),b0=null,m0.call(e))}function uh(e,t){if(!(t.state.loading&4)){var n=b0.get(e);if(n)var l=n.get(null);else{n=new Map,b0.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var j=u[o];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(n.set(j.dataset.precedence,j),l=j)}l&&n.set(null,l)}u=t.instance,j=u.getAttribute("data-precedence"),o=n.get(j)||l,o===l&&n.set(null,u),n.set(j,u),this.count++,l=m0.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Qi={$$typeof:q,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function xh(e,t,n,l,u,o,j,E,J){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ve(0),this.hiddenUpdates=Ve(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function gd(e,t,n,l,u,o,j,E,J,le,ce,xe){return e=new xh(e,t,n,j,J,le,ce,xe,E),t=1,o===!0&&(t|=24),o=on(3,null,null,t),e.current=o,o.stateNode=e,t=Lc(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:n,cache:t},Bc(o),e}function vd(e){return e?(e=ka,e):ka}function pd(e,t,n,l,u,o){u=vd(u),l.context===null?l.context=u:l.pendingContext=u,l=Il(t),l.payload={element:n},o=o===void 0?null:o,o!==null&&(l.callback=o),n=Gl(e,l,t),n!==null&&(tn(n,e,t),Di(n,e,t))}function yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $u(e,t){yd(e,t),(e=e.alternate)&&yd(e,t)}function _d(e){if(e.tag===13||e.tag===31){var t=xa(e,67108864);t!==null&&tn(t,e,67108864),$u(e,67108864)}}function Sd(e){if(e.tag===13||e.tag===31){var t=bn();t=nt(t);var n=xa(e,t);n!==null&&tn(n,e,t),$u(e,t)}}var v0=!0;function sh(e,t,n,l){var u=z.T;z.T=null;var o=L.p;try{L.p=2,ex(e,t,n,l)}finally{L.p=o,z.T=u}}function oh(e,t,n,l){var u=z.T;z.T=null;var o=L.p;try{L.p=8,ex(e,t,n,l)}finally{L.p=o,z.T=u}}function ex(e,t,n,l){if(v0){var u=tx(l);if(u===null)Ou(e,t,l,p0,n),Cd(e,l);else if(dh(u,e,t,n,l))l.stopPropagation();else if(Cd(e,l),t&4&&-1<fh.indexOf(e)){for(;u!==null;){var o=me(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var j=ze(o.pendingLanes);if(j!==0){var E=o;for(E.pendingLanes|=2,E.entangledLanes|=2;j;){var J=1<<31-Oe(j);E.entanglements[1]|=J,j&=~J}$n(o),(tt&6)===0&&(t0=Pe()+500,Ki(0))}}break;case 31:case 13:E=xa(o,2),E!==null&&tn(E,o,2),l0(),$u(o,2)}if(o=tx(l),o===null&&Ou(e,t,l,p0,n),o===u)break;u=o}u!==null&&l.stopPropagation()}else Ou(e,t,l,null,n)}}function tx(e){return e=lc(e),nx(e)}var p0=null;function nx(e){if(p0=null,e=Al(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return p0=e,null}function wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vn()){case zl:return 2;case il:return 8;case rl:case Dl:return 32;case aa:return 268435456;default:return 32}default:return 32}}var lx=!1,Wl=null,Ql=null,Pl=null,Pi=new Map,Fi=new Map,Fl=[],fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Pl=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fi.delete(t.pointerId)}}function $i(e,t,n,l,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:o,targetContainers:[u]},t!==null&&(t=me(t),t!==null&&_d(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function dh(e,t,n,l,u){switch(t){case"focusin":return Wl=$i(Wl,e,t,n,l,u),!0;case"dragenter":return Ql=$i(Ql,e,t,n,l,u),!0;case"mouseover":return Pl=$i(Pl,e,t,n,l,u),!0;case"pointerover":var o=u.pointerId;return Pi.set(o,$i(Pi.get(o)||null,e,t,n,l,u)),!0;case"gotpointercapture":return o=u.pointerId,Fi.set(o,$i(Fi.get(o)||null,e,t,n,l,u)),!0}return!1}function jd(e){var t=Al(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Sd(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Ca(e.priority,function(){Sd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function y0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tx(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);nc=l,n.target.dispatchEvent(l),nc=null}else return t=me(n),t!==null&&_d(t),e.blockedOn=n,!1;t.shift()}return!0}function Md(e,t,n){y0(e)&&n.delete(t)}function hh(){lx=!1,Wl!==null&&y0(Wl)&&(Wl=null),Ql!==null&&y0(Ql)&&(Ql=null),Pl!==null&&y0(Pl)&&(Pl=null),Pi.forEach(Md),Fi.forEach(Md)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,lx||(lx=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,hh)))}var S0=null;function zd(e){S0!==e&&(S0=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){S0===e&&(S0=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(nx(l||n)===null)continue;break}var o=me(n);o!==null&&(e.splice(t,3),t-=3,tu(o,{pending:!0,data:u,method:n.method,action:l},l,u))}}))}function ai(e){function t(J){return _0(J,e)}Wl!==null&&_0(Wl,e),Ql!==null&&_0(Ql,e),Pl!==null&&_0(Pl,e),Pi.forEach(t),Fi.forEach(t);for(var n=0;n<Fl.length;n++){var l=Fl[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fl.length&&(n=Fl[0],n.blockedOn===null);)jd(n),n.blockedOn===null&&Fl.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var u=n[l],o=n[l+1],j=u[It]||null;if(typeof o=="function")j||zd(n);else if(j){var E=null;if(o&&o.hasAttribute("formAction")){if(u=o,j=o[It]||null)E=j.formAction;else if(nx(u)!==null)continue}else E=j.action;typeof E=="function"?n[l+1]=E:(n.splice(l,3),l-=3),zd(n)}}}function Dd(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(j){return u=j})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ax(e){this._internalRoot=e}w0.prototype.render=ax.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,l=bn();pd(n,l,e,t,null,null)},w0.prototype.unmount=ax.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pd(e.current,2,null,e,null,null),l0(),t[Nl]=null}};function w0(e){this._internalRoot=e}w0.prototype.unstable_scheduleHydration=function(e){if(e){var t=yn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fl.length&&t!==0&&t<Fl[n].priority;n++);Fl.splice(n,0,e),n===0&&jd(e)}};var Nd=r.version;if(Nd!=="19.2.3")throw Error(i(527,Nd,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var mh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{Hn=C0.inject(mh),Bt=C0}catch{}}return tr.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,l="",u=Bo,o=qo,j=Io;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,l,null,u,o,j,Dd),e[Nl]=t.current,Ru(e),new ax(t)},tr.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var l=!1,u="",o=Bo,j=qo,E=Io,J=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(j=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.formState!==void 0&&(J=n.formState)),t=gd(e,1,!0,t,n??null,l,u,J,o,j,E,Dd),t.context=vd(null),n=t.current,l=bn(),l=nt(l),u=Il(l),u.callback=null,Gl(n,u,l),n=l,t.current.lanes=n,Le(t,n),$n(t),e[Nl]=t.current,Ru(e),new w0(t)},tr.version="19.2.3",tr}var Rd;function jh(){if(Rd)return cx.exports;Rd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(r){console.error(r)}}return c(),cx.exports=Ch(),cx.exports}var Mh=jh();const na=Tn;function Tn(c,r){c=c-141;const a=D0();let i=a[c];if(Tn.SMGoPU===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Tn.SrKIXl=s,Tn.jIAfPQ={},Tn.SMGoPU=!0}const f=a[0],g=c+f,p=Tn.jIAfPQ[g];if(p)i=p;else{const d=function(h){this.eXwAhX=h,this.vAGHrj=[1,0,0],this.WLNhWA=function(){return"newState"},this.eNIqjz="\\w+ *\\(\\) *{\\w+ *",this.psorXs=`['|"].+['|"];? *}`};d.prototype.ODuTYq=function(){const h=new RegExp(this.eNIqjz+this.psorXs),_=h.test(this.WLNhWA.toString())?--this.vAGHrj[1]:--this.vAGHrj[0];return this.ohPbfU(_)},d.prototype.ohPbfU=function(h){return~h?this.vkcXWH(this.eXwAhX):h},d.prototype.vkcXWH=function(h){for(let _=0,S=this.vAGHrj.length;_<S;_++)this.vAGHrj.push(Math.round(Math.random())),S=this.vAGHrj.length;return h(this.vAGHrj[0])},new d(Tn).ODuTYq(),i=Tn.SrKIXl(i),Tn.jIAfPQ[g]=i}return i}(function(c,r){const a=Tn,i=c();for(;;)try{if(-parseInt(a(165))/1+parseInt(a(157))/2*(-parseInt(a(151))/3)+-parseInt(a(143))/4*(-parseInt(a(147))/5)+parseInt(a(153))/6+parseInt(a(171))/7+parseInt(a(170))/8+parseInt(a(154))/9*(-parseInt(a(161))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(D0,343667);const zh=(function(){let c=!0;return function(r,a){const i=c?function(){const s=Tn;if(a){const f=a[s(148)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),dx=zh(void 0,function(){const c=Tn,r={kUMXr:"(((.+)+)+)+$"};return dx.toString()[c(166)](r[c(142)])[c(155)]()[c(146)](dx)[c(166)]("(((.+)+)+)+$")});dx();const z0=()=>new Date()[na(159)](),Tt=c=>c+"_"+Math[na(150)]()[na(155)](36).slice(2,10),pe=(c,r,a)=>Math[na(141)](r,Math.min(a,c)),ea=c=>c==null?c:JSON.parse(JSON.stringify(c));function D0(){const c=["Bwf4","A1vnwhi","mtjgwfH1Eeu","zMLUza","EvPSEwm","y29UC3rYDwn0B3i","ndy5mJqWs0zbAvjH","yxbWBhK","CMvKDwnL","CMfUzg9T","m3nJy0POsG","BgvHzKLKCW","mJGWodm5nNjTEMT1Eq","mZCWmJG3EufWz0fS","Dg9tDhjPBMC","Cg9ZAxrPB24","mZyWmta0DgfYDu1z","z3jVDxbZ","Dg9ju09tDhjPBMC","Aw5JBhvKzxm","mJqWqLz5zejq","zMXVD2vYswrZ","AK9xzNe","C3rYAw5NAwz5","mtK3ndDos1nywMm","C2vHCMnO","BgvUz3rO","zMXVD2vYCW","ChvZAa","mZi2nJq1nLPnv1rTra","mJyXmdG2n2zeu3rMva"];return D0=function(){return c},D0()}const lr=c=>Math.floor(c*.7/5)*5;function nl(c,r){const a=na;return c[a(158)]?c[a(158)].find(i=>i[a(162)][a(160)](r))??null:null}function Dh(c,r){const a={ZcNyL:function(s,f,g){return s(f,g)}},i=a.ZcNyL(nl,c,r);return i?i.flowerIds:[r]}function Ml(c,r){const a=na;return c[a(158)]?c[a(158)][a(144)](i=>i.leafIds.includes(r))??null:null}function Nh(c,r){const a=na,i={tUSoF:function(d,h){return d===h},PEalf:a(163),oHPfb:function(d,h){return d!==h},JUnMi:"KSDCK",ItSVw:function(d,h){return d/h}},s=(c[a(158)]??[])[a(144)](d=>d.id===r);if(!s)return{x:0,y:0};const f=[];for(const d of s.flowerIds)if(i.PEalf===a(163)){const h=c[a(168)].find(_=>_.id===d);h&&f.push(h[a(156)])}else return _0x52dd40===void 0||NleyTK.tUSoF(_0x48a0e1,null)?_0x154d0a:_0x35ab6f.parse(_0x5c60ab[a(164)](_0x41e4de));for(const d of s.leafIds)if(i.oHPfb("HYMrn",i.JUnMi)){const h=(c.leaves??[]).find(_=>_.id===d);h&&f[a(169)](h[a(156)])}else return _0x2d4aa5[a(158)]?_0x4a8a34.groups.find(h=>h[a(152)][a(160)](_0xc12af8))??null:null;if(f[a(167)]===0)return{x:0,y:0};const g=f.reduce((d,h)=>d+h.x,0),p=f[a(149)]((d,h)=>d+h.y,0);return{x:i.ItSVw(g,f.length),y:p/f.length}}function Od(c,r){const a=na,i={yZlyc:function(f,g,p){return f(g,p)}},s=i[a(145)](Ml,c,r);return s?s.leafIds:[r]}(function(c,r){const a=Vt,i=c();for(;;)try{if(parseInt(a(355))/1*(parseInt(a(388))/2)+-parseInt(a(349))/3*(parseInt(a(374))/4)+-parseInt(a(357))/5+-parseInt(a(369))/6*(parseInt(a(336))/7)+parseInt(a(391))/8*(parseInt(a(368))/9)+parseInt(a(344))/10+parseInt(a(396))/11*(parseInt(a(361))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(N0,269076);const Ah=(function(){let c=!0;return function(r,a){const i=c?function(){const s=Vt;if(a){const f=a[s(395)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),hx=Ah(void 0,function(){const c={LrSum:"(((.+)+)+)+$"};return hx.toString().search(c.LrSum).toString().constructor(hx).search(c.LrSum)});hx();const xi=2/3,Hd=.6,Lh=.25,Th=.75;function la(c,r,a){const i=Vt,s={owsBJ:i(387),eAqlQ:function(q,O){return q===O},hZdci:function(q,O){return q*O},Ppyds:function(q,O){return q+O},lPWxS:function(q,O){return q/O},ZBPDq:function(q,O){return q*O},GvBoj:function(q,O){return q*O},QCBhl:function(q,O){return q+O},XWaMC:function(q,O){return q/O},ftasw:function(q,O){return q*O},CrnDy:function(q,O){return q-O},PgStd:function(q,O){return q*O},QOJMH:function(q,O){return q-O},sorBx:function(q,O){return q!==O},ntaLx:"dIgiX",TeNQT:i(370),zQbjw:function(q,O){return q+O},emCtt:function(q,O){return q+O},RKqsf:function(q,O){return q/O},pENtc:function(q,O){return q/O},OiEAl:function(q,O){return q+O}},f=s.lPWxS(c,2),g=s.XWaMC(s[i(379)](r,Math.SQRT2),2);if(g<=0||f<=0)return{diameter:c,layerCount:1};const p=a?.sizeMode??i(387),d=a?.[i(347)]??0,h=s.ZBPDq(g,s[i(398)](1,xi)),_=s.XWaMC(Math.PI*f,2),S=a?.layerCount??Math[i(360)](1,Math[i(362)](s.lPWxS(_,h))),y=s[i(393)](p,i(404))?r+s[i(356)](s.QOJMH(S,1),d):r,w=y*Math[i(397)]/2,D=s.QCBhl(g*Lh,w*Th);if(S===1)if(s.sorBx(s[i(399)],s.TeNQT)){const q=Math.min(Math.PI/2,s.XWaMC(w*xi,f)),O=s.GvBoj(f,Math.sin(q)),I=s[i(346)](w,Hd)*Math.sin(q);return{diameter:Math.round(Math[i(360)](c,s[i(358)](2,s.zQbjw(O,I)))),layerCount:S}}else{if(_0x5c2dc7<=0||_0x10bc04<=0)return 0;const q=_0x1b09f3/2,O=_0x4950d0.SQRT2/2,I=_0x5aed41;if(_0x49dcb3===s.owsBJ||s[i(393)](_0x382bab,0)){const K=s[i(337)](O,s.Ppyds(I,2))/3;return _0x2523ca[i(360)](1,_0x8c6638.round(s[i(350)](q,K)))}const Z=s.hZdci(s.ZBPDq(_0x25e7e2,I-1),I)/6,k=s.lPWxS(s.GvBoj(s[i(350)](q,O)-Z,3),s[i(394)](I,2));return _0x239858[i(360)](1,_0x408e0d.round(k))}let v=s.GvBoj(g,xi)/f;for(let q=1;q<S;q++){const O=s.eAqlQ(p,"gradual")?s.emCtt(r,q*d):r,I=s.RKqsf(s[i(358)](O,Math[i(397)]),2);v+=s.ZBPDq(I,1-xi)/f}v=Math[i(353)](v,s[i(400)](Math.PI,2));const b=s[i(337)](s.OiEAl(f,s.GvBoj(D,Hd)),Math[i(340)](v)),B=Math[i(360)](0,s.CrnDy(b,f));return{diameter:Math.round(c+s.ZBPDq(2,B)),layerCount:S}}function rr(c,r,a="uniform",i=0){const s=Vt,f={SsyND:function(d,h){return d/h},kpngT:function(d,h){return d*h},aPmpi:function(d,h){return d-h},TcHhK:function(d,h){return d===h},RjnmS:s(404),tvguT:function(d,h){return d+h},ZvKBU:function(d,h){return d*h},RGZCJ:function(d,h){return d/h},BALdI:function(d,h){return d*h},JYEhs:function(d,h){return d-h},oIoLT:function(d,h){return d+h},DdRDg:function(d,h){return d*h},AjExn:function(d,h){return d<h},FmuqM:function(d,h){return d+h},gVAKL:function(d,h){return d*h},oljAo:function(d,h){return d/h},fYyCi:"LGbSf",wVUwq:s(351)};if(r<=0||c<=0)return 0;const g=[];for(let d=0;f.AjExn(d,r);d++){const h=f.TcHhK(a,s(404))?f[s(365)](c,f.gVAKL(d,i)):c;g.push(f.oljAo(h*Math.SQRT2,2))}let p=g[0];for(let d=1;f[s(405)](d,r);d++)if(f[s(348)]===f.wVUwq){const h=rrZltA[s(392)](_0x300238,2),_=rrZltA[s(401)](_0x2c7658,_0x21d682.SQRT2)/2;if(_<=0||h<=0)return{diameter:_0x52eb95,layerCount:1};const S=_0x5eb2cf?.[s(373)]??s(387),y=_0x39e0b1?.[s(347)]??0,w=rrZltA[s(401)](_,rrZltA.aPmpi(1,_0x78895a)),D=rrZltA.SsyND(_0x3cf392.PI*h,2),v=_0x308b6c?.layerCount??_0x1aba98.max(1,_0xaa8809[s(362)](D/w)),b=rrZltA[s(338)](S,rrZltA.RjnmS)?_0x4aaea7+rrZltA[s(352)](v,1)*y:_0x486749,B=b*_0x3c9db6.SQRT2/2,R=rrZltA.tvguT(_*_0x317337,B*_0x529495);if(rrZltA.TcHhK(v,1)){const k=_0x185da0.min(_0x331acc.PI/2,B*_0x1621c2/h),K=h*_0x25aaa7.sin(k),P=rrZltA.ZvKBU(B,_0x55ec44)*_0x158fb3.sin(k);return{diameter:_0x5c3063[s(362)](_0x5a92e7[s(360)](_0x50f6c7,rrZltA.ZvKBU(2,K+P))),layerCount:v}}let q=rrZltA[s(371)](_*_0x1c841b,h);for(let k=1;k<v;k++){const K=S===rrZltA[s(382)]?_0x34c1c3+k*y:_0x85145b,P=rrZltA.RGZCJ(K*_0x211ee4[s(397)],2);q+=rrZltA[s(392)](rrZltA[s(385)](P,rrZltA[s(339)](1,_0x5ad51d)),h)}q=_0x1b1271[s(353)](q,_0x15da8a.PI/2);const O=rrZltA.oIoLT(h,rrZltA[s(363)](R,_0x41fd07))*_0x48644d[s(340)](q),I=_0x2b3297.max(0,O-h);return{diameter:_0x4e1834.round(_0x31e64c+rrZltA.BALdI(2,I)),layerCount:v}}else p+=g[d]/3;return Math[s(362)](p*2)}function Vt(c,r){c=c-336;const a=N0();let i=a[c];if(Vt.FLAiVm===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Vt.KZAtNa=s,Vt.jdtTRf={},Vt.FLAiVm=!0}const f=a[0],g=c+f,p=Vt.jdtTRf[g];if(p)i=p;else{const d=function(h){this.oOqeBV=h,this.tSecsI=[1,0,0],this.MkmGrl=function(){return"newState"},this.lhMOJW="\\w+ *\\(\\) *{\\w+ *",this.tmuudW=`['|"].+['|"];? *}`};d.prototype.zWcAQd=function(){const h=new RegExp(this.lhMOJW+this.tmuudW),_=h.test(this.MkmGrl.toString())?--this.tSecsI[1]:--this.tSecsI[0];return this.YVwtfC(_)},d.prototype.YVwtfC=function(h){return~h?this.mlpTYo(this.oOqeBV):h},d.prototype.mlpTYo=function(h){for(let _=0,S=this.tSecsI.length;_<S;_++)this.tSecsI.push(Math.round(Math.random())),S=this.tSecsI.length;return h(this.tSecsI[0])},new d(Vt).zWcAQd(),i=Vt.KZAtNa(i),Vt.jdtTRf[g]=i}return i}function Eh(c,r,a="uniform",i=0){const s=Vt,f={aXfli:function(S,y){return S*y},sZpWZ:function(S,y){return S===y},iCmHe:s(386),Vlwrs:function(S,y){return S+y},tqRQS:function(S,y){return S/y},ItvoH:function(S,y){return S*y},mSBmb:function(S,y){return S-y},RANDi:function(S,y){return S/y}};if(r<=0||c<=0)return 0;const g=c/2,p=Math.SQRT2/2,d=r;if(f.sZpWZ(a,s(387))||f[s(402)](i,0))if(f[s(402)](f[s(341)],"kVkOX")){const S=_0x2b1452.min(_0x10b333.PI/2,cTKpni[s(343)](_0x5b0430,_0x26c224)/_0x207ef2),y=_0xc4dc6e*_0x351b18.sin(S),w=cTKpni.aXfli(_0x5e9bff*_0x2f219c,_0x2284d8.sin(S));return{diameter:_0x4d9fab[s(362)](_0x4408bf[s(360)](_0x464b42,2*(y+w))),layerCount:_0x3229e5}}else{const S=p*f[s(366)](d,2)/3;return Math.max(1,Math.round(g/S))}const h=f.tqRQS(f.ItvoH(i*f[s(376)](d,1),d),6),_=f[s(384)](f[s(376)](g/p,h)*3,d+2);return Math[s(360)](1,Math[s(362)](_))}function N0(){const c=["CM91BMq","rgrsrgC","u2vNDxq","rM11Cu0","vMX3CNm","r1jUs28","mJDluvLIrMC","nZHwr25Ovgm","B0Pdu3G","uKDAq0O","wfjNsLe","C2L6zu1Vzgu","odi2mdrRrevmzuG","tMvrufG","BvncBwi","rhbcqMW","wwXrEeO","zNrHC3C","wKXpsK0","ChvZAa","uMPUBvm","rejQvhK","uKforgK","qKfmzeK","BwHhzMy","Dw5PzM9YBq","mtiYnJrnwwvfDwq","BgD2Bxa","r2H2Ae4","ntiXmdq4BgDbu1LW","u3n5tKq","zufXBfe","uuncAgW","yxbWBhK","mtfsBxjZufq","u1fsvdi","q3jUrhK","BNrHthG","CevoDgm","A3bUz1q","C1PWv1O","q0Xds3i","z3jHzhvHBa","qwPfEg4","nZyZndLruKjvD1u","AfPKy2K","vgniAeS","sLLfAhm","C2LU","AunTsgu","AfHYChe","yvHMBgK","mJy4mZi0mevJteX4zW","AePRrei","wKjqrhe","C2L6zvn0zxbnBq","zLL5q2K","ndHOyxHtzuC","BfbxEfm","De5ctgO","yvbTCgK","BwLU","DNP0yLe","mJDnt1zpy2O","ugDtDgq","mJq1otC0nurZAhzTta","r3zcB2O","qu5fwwq","Bwf4","nZi0nZqXmK1Wz3rdAq"];return N0=function(){return c},N0()}function kh(c,r,a){const i=Vt,s={DNPKB:function(p,d){return p<=d},hXrpq:"gradual",vztbQ:function(p,d){return p+d},YlQxJ:function(p,d){return p/d},wcncP:function(p,d){return p<d},DpBBl:function(p,d){return p===d},GRnKo:i(383),NeQPX:function(p,d){return p+d}};if(c<=r)return 1;let f=1,g=80;for(let p=0;p<30;p++)if(s[i(377)](s[i(367)],"DBjTy")){const d=s.YlQxJ(s[i(375)](f,g),2),{diameter:h}=la(r,d,a);s.wcncP(h,c)?f=d:g=d}else{if(_0x423e7e<=0||toJgDb.DNPKB(_0x47b7e0,0))return 0;const d=[];for(let _=0;_<_0x5c5405;_++){const S=_0x3ffcd2===toJgDb[i(342)]?toJgDb.vztbQ(_0x2acfff,_*_0x40306d):_0x486182;d[i(381)](toJgDb[i(378)](S*_0x926073.SQRT2,2))}let h=d[0];for(let _=1;toJgDb.wcncP(_,_0x36b17b);_++)h+=toJgDb.YlQxJ(d[_],3);return _0x4a93e4.round(h*2)}return Math.max(1,Math.round(s[i(354)](f,g)/2))}function Bh(c,r,a){const i=Vt,s={vohfx:function(y,w){return y/w},GhvhN:function(y,w){return y<=w},hJkDB:function(y,w){return y/w},XRgJQ:i(387),lgvmp:function(y,w){return y/w},Jrrug:function(y,w){return y*w},qujvj:function(y,w){return y>=w},ijOwU:function(y,w){return y<w},SqquY:"yPUHM",upIpE:i(380),DuQzY:function(y,w){return y+w},Segut:function(y,w){return y/w},CLCKr:function(y,w){return y-w},ANEYd:function(y,w){return y>w}},f=c/2,g=s.vohfx(r*Math[i(397)],2);if(s[i(390)](g,0)||f<=0)return 1;const p=a?.[i(373)]??"uniform",d=a?.sizeStepMm??0,h=s[i(345)](Math.PI,2);if(p===s[i(372)]||d===0){const y=s.vohfx(g,3),w=s[i(345)](Math.PI*f,2);return Math[i(360)](1,Math[i(362)](w/y))}let _=s[i(389)](s.Jrrug(g,xi),f);if(s.qujvj(_,h))return 1;let S=1;for(let y=1;s.ijOwU(y,100);y++)if(s.SqquY!==s.upIpE){const w=s.DuQzY(r,s.Jrrug(y,d)),D=s[i(364)](w*Math.SQRT2,2),v=D*s[i(403)](1,xi)/f;if(_+=v,s[i(359)](_,h+s[i(389)](v,2)))break;S=s.DuQzY(y,1)}else _0x543ab9=_0x1ae1cc;return Math.max(1,S)}(function(c,r){const a=pt,i=c();for(;;)try{if(-parseInt(a(509))/1+-parseInt(a(498))/2*(-parseInt(a(499))/3)+parseInt(a(503))/4+-parseInt(a(506))/5*(-parseInt(a(549))/6)+parseInt(a(487))/7+-parseInt(a(536))/8+-parseInt(a(526))/9*(-parseInt(a(486))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(A0,855646);const qh=(function(){const c=pt,r={vNjry:function(i,s){return i>s},yoaCC:function(i,s){return i-s},KmMZo:function(i,s){return i*s},uaDgA:function(i,s){return i===s},ZLofN:c(520)};let a=!0;return function(i,s){const f=c,g={pVnyg:function(p,d){return r.KmMZo(p,d)},WQrXb:function(p,d){return r[pt(541)](p,d)},ObvBt:f(512)};if(r[f(535)]!==r[f(535)]){let p=_0x619a8f.abs(_0x49236e-_0x480131);r[f(500)](p,180)&&(p=r[f(527)](360,p)),p<_0x3a1555&&(_0x583a95=p)}else{const p=a?function(){const d=f,h={yAJnd:function(_,S){return _/S},sLtCW:function(_,S){return _>S},awuAk:function(_,S){return g.pVnyg(_,S)},flSms:function(_,S){return _-S}};if(s)if(g[d(540)](g.ObvBt,g.ObvBt)){const _=s.apply(i,arguments);return s=null,_}else{const S=h[d(521)](70*_0x3ae945.PI,180),y=h[d(538)](_0x101c9a,1)?h.awuAk(_0x5d8f1e/h[d(550)](_0x33ee35,1),S):0;_0x4f06a6=_0x1bf997*h.yAJnd(30,100)*_0xe86da1[d(502)](y)}}:function(){};return a=!1,p}}})(),mx=qh(void 0,function(){const c=pt,r={IUYff:"(((.+)+)+)+$"};return mx.toString()[c(545)](r[c(492)])[c(501)]().constructor(mx)[c(545)](r.IUYff)});mx();const sr=.28,Yd={:`M 0 0
    C 0.05 0.18, 0.15 0.40, 0.35 0.48
    C 0.55 0.54, 0.75 0.48, 0.88 0.36
    Q 1.02 0.22, 1.02 0
    Q 1.02 -0.22, 0.88 -0.36
    C 0.75 -0.48, 0.55 -0.54, 0.35 -0.48
    C 0.15 -0.40, 0.05 -0.18, 0 0
    Z`,:`M 0 0
    C 0.05 0.15, 0.15 0.36, 0.30 0.42
    C 0.50 0.46, 0.72 0.34, 0.88 0.18
    L 1 0
    L 0.88 -0.18
    C 0.72 -0.34, 0.50 -0.46, 0.30 -0.42
    C 0.15 -0.36, 0.05 -0.15, 0 0
    Z`};function cr(c){const r=pt,a={gIRFW:function(i,s){return i===s},JwvlZ:""};return a[r(494)](c,a[r(547)])?Yd[a[r(547)]]:Yd[r(528)]}function ta(c){return c*Math.PI/180}const un=2.7;function Et(c){const r=pt,a={wTnar:function(g,p){return g*p}},i=a.wTnar(c,Math[r(519)])/2,s=i*un,f=s/2;return{length:s,width:f}}function Ih(c){const r=pt,a={GmrrS:function(i,s){return i/s},MWyIT:function(i,s){return i*s}};return a.GmrrS(a[r(537)](c,un),2)}function ar(c,r,a){const i=pt,s={FNZYW:function(h,_){return h-_},Horzu:function(h,_){return h*_},ccRmz:function(h,_){return h+_}},{length:f}=Et(a),g=f*r,p=Math[i(479)](0,s[i(532)](c,s.Horzu(g,sr)));return s.ccRmz(p,g)*2/un}function Gh(c,r,a){const i=pt,s={aRUhI:function(d,h){return d(h)},qgObC:function(d,h){return d*h},dXxqK:function(d,h){return d-h}},{length:f}=s[i(524)](Et,a),g=f*r,p=c*un/2;return Math.max(2,p-s[i(548)](g,s.dXxqK(1,sr)))}function tl(c,r,a){const i=pt,s={JzwZZ:function(_,S){return _/S},wIJKx:function(_,S){return _*S},pfOuq:function(_,S){return _/S},DPMlc:function(_,S){return _*S},GYiof:function(_,S){return _*S},yfeCq:function(_,S){return _<=S},fcOHU:function(_,S){return _/S},zysKi:function(_,S){return _%S},XRJPQ:function(_,S){return _%S},opwOA:function(_,S){return _+S},bkIji:"cDSdV",fChfJ:"XpOPz",ycTWI:function(_,S){return _>S},JQaXB:function(_,S){return _/S},yWVVc:function(_,S){return _*S}};if(!c||s.yfeCq(c,0)||!a||s.yfeCq(a,0))return r??0;const f=s[i(481)](360,c),g=360/a,p=[];for(let _=0;_<c;_++)p[i(495)](s[i(508)](s[i(533)](r+_*f,360)+360,360));let d=s[i(544)](r,s.pfOuq(f,2)),h=-1;for(let _=0;_<c;_++){const S=s.opwOA(r+_*f,f/2);let y=1/0;for(let w=0;w<a;w++){const D=(s.XRJPQ(S+w*g,360)+360)%360;for(const v of p)if(s.bkIji===s[i(531)])_0xe0e143[i(482)]=_0x15bb3f[i(479)](2,s[i(518)](_0x5c489a[i(534)](s.wIJKx(s.wIJKx(_0x414dbd.radius,_0x4e21a0),10)),10)),_0x281ec1[i(489)]=s.pfOuq(_0x5b593b[i(534)](s[i(542)](s[i(530)](_0x42d8c6.scale??1,_0xb7859a),100)),100);else{let b=Math.abs(D-v);b>180&&(b=360-b),b<y&&(y=b)}}s[i(513)](y,h)&&(h=y,d=S)}return s.JQaXB(Math[i(534)](s.yWVVc(d,10)),10)}function V0(c,r,a){const i=pt,s={oJJae:function(w,D){return w===D},OvLMD:function(w,D){return w*D},CIwBi:function(w,D){return w+D},PJoqb:function(w,D){return w<=D},ntwpH:function(w,D){return w/D},nPiJp:function(w,D){return w*D},wOsPy:function(w,D){return w*D}};if(s[i(484)](c[i(496)],0))return;const{length:f}=Et(r),g=c[0],p=g[i(489)]??1,d=s[i(546)](f,p),h=Math.max(0,g[i(482)]-s.OvLMD(d,sr)),_=s.CIwBi(h,d);if(s.PJoqb(_,0))return;const S=s.ntwpH(s[i(539)](a,un),2),y=S/_;for(const w of c)w[i(482)]=Math[i(479)](2,Math.round(s[i(478)](w[i(482)]*y,10))/10),w.scale=Math[i(534)]((w[i(489)]??1)*y*100)/100;bx(c,r)}function A0(){const c=["BurbDKm","r1LPB2y","zKnOzKO","rK5AwvC","wfjkufe","CM91BMq","wKXVzK4","nJC1odyWognss2HryG","tvD5svq","C0X0q1C","BLbPsNa","v1fYwgi","Dwfez0e","rfbnBgm","r3bUC1q","B3b3t0e","C2vHCMnO","t3zmtuq","sND2BfO","CwDpyKm","mtjJzur0vg4","zMXtBxm","D09ZuhK","Bwf4","uMnqCum","zMnpsfu","CMfKAxvZ","t3rJvum","B0Pkywu","vLbXDum","ntbTDw1dCum","nda2otqYmLDAtKnIrW","CwDPww0","C2nHBgu","rgz1s2O","z1fQBLG","svvzzMy","vejABLa","z0LsrLC","ChvZAa","BgvUz3rO","swX6vu4","ntm2teztAhjS","nJu1ogLgy3nxzG","DK5QCNK","Dg9tDhjPBMC","y29Z","mZe5mdrSDKnNBxm","zMLUza","C01IyMy","mtK1nZuWnvLRC2zrwG","Ag5KD1q","ENLZs2K","nJm2nZCWwKLez0vy","rePuEwG","EMzfCuS","BxDOAuK","Ewnuv0K","AejQze8","vuDHsu0","B3jKzxi","Dg9gAxHLza","sNP3wLO","u1fsvdi","Bg5vDhu","EufkBMq","vMPUsvy","C2LU","yvjvAeK","CMn4veq","nJGYmZi2y1zYEMjy","Ew9Hq0m","5lI444gK44g+44g/"];return A0=function(){return c},A0()}function bx(c,r){const a=pt,i={cwlVz:function(d,h){return d===h},VPquC:function(d,h){return d(h)},GpnsT:function(d,h){return d/h},ezeqb:function(d,h){return d*h}};if(i.cwlVz(c[a(496)],0))return;const s=c[c.length-1],{length:f}=i[a(485)](Et,r),g=f*(s.scale??1),p=i[a(543)](Math.floor(i.ezeqb(g,sr)*10),10);s[a(482)]>p&&(s[a(482)]=p)}function Rh(c,r,a,i){const s=pt,f={VjnIV:function(y,w){return y+w},rcxTD:function(y,w){return y*w},PokpL:function(y,w){return y+w},DfuKj:function(y,w){return y%w},OtcUC:function(y,w){return y-w},NyZgv:function(y,w){return y<w},zfEqK:function(y,w){return y>w},oeHKb:function(y,w){return y(w)},hBjdO:function(y,w){return y*w},BpyLd:"",LufVH:function(y,w){return y/w},sMbbf:function(y,w){return y/w},qgiYm:function(y,w){return y===w},UGaIM:"BlQcg"};if(c.length===0)return;const g=[...c].sort((y,w)=>w[s(516)]-y[s(516)]),{length:p}=f.oeHKb(Et,r),d=g[s(496)],h=g[0][s(489)]??1,_=f[s(514)](p,h);g[0][s(482)]=Math.floor(f.rcxTD(_*sr,10))/10;for(let y=1;y<d;y++){const w=g[y-1],D=f[s(514)](p,w[s(489)]??1);let v;if(a===f.BpyLd){const B=70*Math.PI/180,R=d>1?f.LufVH(y,d-1)*B:0;v=D*(30/100)*Math[s(502)](R)}else v=f[s(505)](D,3);g[y].radius=f[s(505)](Math.round((w[s(482)]+v)*10),10)}const S=[...c].sort((y,w)=>y[s(516)]-w.order);V0(S,r,i);for(const y of S){const w=c[s(504)](D=>D.id===y.id);if(w)if(f[s(488)](s(491),f[s(515)])){const D=sybidh.VjnIV(sybidh[s(522)](_0x2424f2,sybidh[s(525)](_0x3e6b78,_0x20da97)),_0x45b221/2);let v=_0x47076d;for(let b=0;b<_0xbef8a2;b++){const B=sybidh.PokpL(sybidh[s(490)](D+b*_0x535204,360),360)%360;for(const R of _0x46e53d){let q=_0x596a3b.abs(sybidh.OtcUC(B,R));q>180&&(q=sybidh[s(483)](360,q)),sybidh.NyZgv(q,v)&&(v=q)}}sybidh[s(511)](v,_0x18a297)&&(_0x39ba45=v,_0x42b708=D)}else w.radius=y[s(482)],w[s(489)]=y[s(489)]}}function pt(c,r){c=c-478;const a=A0();let i=a[c];if(pt.DKaAuC===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};pt.SGyFfR=s,pt.Hbrkyp={},pt.DKaAuC=!0}const f=a[0],g=c+f,p=pt.Hbrkyp[g];if(p)i=p;else{const d=function(h){this.UmVuKL=h,this.FMwomn=[1,0,0],this.GNiHpx=function(){return"newState"},this.QPTBaK="\\w+ *\\(\\) *{\\w+ *",this.yKJIyy=`['|"].+['|"];? *}`};d.prototype.MLCAGu=function(){const h=new RegExp(this.QPTBaK+this.yKJIyy),_=h.test(this.GNiHpx.toString())?--this.FMwomn[1]:--this.FMwomn[0];return this.pGTEBj(_)},d.prototype.pGTEBj=function(h){return~h?this.ggxhFl(this.UmVuKL):h},d.prototype.ggxhFl=function(h){for(let _=0,S=this.FMwomn.length;_<S;_++)this.FMwomn.push(Math.round(Math.random())),S=this.FMwomn.length;return h(this.FMwomn[0])},new d(pt).MLCAGu(),i=pt.SGyFfR(i),pt.Hbrkyp[g]=i}return i}function si(c){const r=pt,a={WEcSK:function(d,h){return d/h},hndwT:function(d,h){return d*h},mDAvC:function(d,h){return d(h)},RcPqC:function(d,h){return d*h}},i=a.WEcSK(360,c),s=a[r(507)](Math.sin(a[r(529)](ta,i/2)),2),f=.96,g=1.2,p=s*g/f;return a.WEcSK(Math[r(534)](a[r(480)](Math.max(.3,Math.min(3,p)),100)),100)}(function(c,r){const a=nn,i=c();for(;;)try{if(-parseInt(a(350))/1*(-parseInt(a(400))/2)+-parseInt(a(372))/3+parseInt(a(399))/4+-parseInt(a(313))/5*(parseInt(a(402))/6)+parseInt(a(384))/7+parseInt(a(374))/8*(parseInt(a(397))/9)+parseInt(a(387))/10*(-parseInt(a(343))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(L0,110339);function nn(c,r){c=c-301;const a=L0();let i=a[c];if(nn.nIVNqZ===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};nn.paKLSq=s,nn.sXQSDM={},nn.nIVNqZ=!0}const f=a[0],g=c+f,p=nn.sXQSDM[g];if(p)i=p;else{const d=function(h){this.ImVQiA=h,this.xFjYyV=[1,0,0],this.nzqjiO=function(){return"newState"},this.NvAToL="\\w+ *\\(\\) *{\\w+ *",this.desmPO=`['|"].+['|"];? *}`};d.prototype.WVhbnj=function(){const h=new RegExp(this.NvAToL+this.desmPO),_=h.test(this.nzqjiO.toString())?--this.xFjYyV[1]:--this.xFjYyV[0];return this.yuymaV(_)},d.prototype.yuymaV=function(h){return~h?this.uJbIPd(this.ImVQiA):h},d.prototype.uJbIPd=function(h){for(let _=0,S=this.xFjYyV.length;_<S;_++)this.xFjYyV.push(Math.round(Math.random())),S=this.xFjYyV.length;return h(this.xFjYyV[0])},new d(nn).WVhbnj(),i=nn.paKLSq(i),nn.sXQSDM[g]=i}return i}const Oh=(function(){const c={GyHaW:function(a,i){return a/i},SCMQn:"lay",NSWxj:function(a,i,s){return a(i,s)},HKgXF:function(a,i,s,f){return a(i,s,f)}};let r=!0;return function(a,i){const s=nn,f={CIjiY:function(p){return p()},pbLLJ:"Center",sdWWo:function(p,d){return p(d)},JJHni:"col_pink",cFIGz:function(p,d){return c.GyHaW(p,d)},FNoBX:c[s(385)],NvsnV:function(p,d,h){return c[s(303)](p,d,h)},pYimw:function(p,d,h,_){return c[s(322)](p,d,h,_)},aQVAD:function(p,d){return p!==d},kfGhj:s(351)},g=r?function(){const p=s,d={XOyCi:function(h){return f.CIjiY(h)},FtLcU:function(h,_){return h(_)},nHUNa:f.pbLLJ,LNFiI:function(h,_){return f.sdWWo(h,_)},bWAmS:p(327),HeUke:f[p(407)],YOkhQ:function(h,_){return f[p(355)](h,_)},pmJBp:f.FNoBX,dEHWh:"",uikjN:function(h,_){return h??_},DVIAl:function(h,_,S){return f[p(324)](h,_,S)},bvaza:function(h,_,S,y){return f[p(339)](h,_,S,y)},bkiKX:p(325),hQPnd:function(h,_){return h(_)}};if(f[p(331)](f[p(319)],f[p(319)])){const h=d.XOyCi(_0x40be10),_=_0x57dea5(),S={id:d[p(309)](_0x43d6e9,"lay"),name:d[p(378)],order:3,petalType:"",petalCount:6,radius:14,scale:1,widthScale:1,offsetAngle:0,colorId:p(356),visible:!0,locked:!1},y=360/S.petalCount,w={id:d.LNFiI(_0x162afd,p(353)),name:d.bWAmS,order:2,petalType:p(361),petalCount:6,radius:24,scale:1,widthScale:1,offsetAngle:S.offsetAngle+y/2,colorId:d.HeUke,visible:!0,locked:!1},D=d[p(366)](360,w[p(364)]),v={id:_0x118cd2(d[p(345)]),name:"Outer",order:1,petalType:d.dEHWh,petalCount:6,radius:32,scale:1,widthScale:1,offsetAngle:w[p(338)]+D/2,colorId:"col_red",visible:!0,locked:!1},b=_0x5c1d79??20,B=d.uikjN(_0x37117b,30),{diameter:R}=d.DVIAl(_0x381209,B,b),q=[v,w,S],O=[...q][p(312)]((Z,k)=>Z.order-k[p(371)]);d.bvaza(_0x3e43c9,O,b,R);for(const Z of O){const k=q.find(K=>K.id===Z.id);k&&(k.radius=Z.radius,k[p(317)]=Z.scale)}const I={id:d[p(309)](_0x24e4cf,"flw"),name:d[p(365)],position:{x:_0x5cb3e4,y:_0x2a64eb},flowerDiameter:R,rotation:0,layers:q,fabricSquareSize:b,placementMode:"",baseDiameter:B};return _0x275bff({version:1,id:d[p(379)](_0x12f29b,"proj"),title:d[p(332)](_0xcb196b,""),unit:"mm",fabricSquareSize:b,baseDiameter:B,notes:"",createdAt:h,updatedAt:h,palette:_,flowers:[I]})}else if(i){const h=i.apply(a,arguments);return i=null,h}}:function(){};return r=!1,g}})(),gx=Oh(void 0,function(){const c=nn;return gx[c(310)]()[c(301)](c(381)).toString()[c(383)](gx).search("(((.+)+)+)+$")});gx();function Pd(){const c=nn,r={pZQgi:c(305),oNMnt:"col_orange",DQlnH:"#F08A3B",ZAJls:"col_green",bdrMv:c(386),zlJmT:"#1A7A3A",dkHMi:"#7EC8E3",wnARu:c(382),RdmLh:c(354),YNAZd:c(401),VGKdt:c(370),VNhZT:"col_lavender",ZLHvx:"#C8A2D4",NwTOK:c(363),UwGeU:c(377),XIWGI:c(340),XzLjA:c(368),tPijA:"col_brown",WZXAZ:c(320),UkANd:c(318),mYHgw:"#F08080"};return[{id:c(346),name:"",hex:c(395)},{id:c(304),name:"",hex:"#E34850"},{id:r[c(342)],name:"",hex:"#F08CB6"},{id:c(341),name:"",hex:c(394)},{id:r.oNMnt,name:"",hex:r[c(326)]},{id:"col_yellow",name:"",hex:c(344)},{id:"col_lightyellow",name:"",hex:c(362)},{id:r[c(333)],name:"",hex:r.bdrMv},{id:"col_darkgreen",name:"",hex:r[c(307)]},{id:"col_lightblue",name:"",hex:r.dkHMi},{id:r[c(335)],name:"",hex:r[c(302)]},{id:r.YNAZd,name:"",hex:r.VGKdt},{id:"col_purple",name:"",hex:c(329)},{id:r[c(367)],name:"",hex:r[c(328)]},{id:"col_gold",name:"",hex:r[c(391)]},{id:r.UwGeU,name:"",hex:"#C0C0C0"},{id:r.XIWGI,name:"",hex:r.XzLjA},{id:r[c(360)],name:"",hex:r[c(337)]},{id:r[c(347)],name:"",hex:"#333333"},{id:c(369),name:"",hex:r[c(398)]}]}function Hh({title:c,fabricSquareSize:r,baseDiameter:a}={}){const i=nn,s={tpOvE:function(p){return p()},kceUM:function(p){return p()},duHWW:function(p,d){return p(d)},OzXTz:i(348),MMkEC:function(p,d){return p??d},wFDgC:function(p,d){return p??d}},f=s.tpOvE(z0),g=s[i(306)](Pd);return s[i(380)](wa,{id:Tt(s[i(315)]),title:s[i(403)](c,""),unit:"mm",fabricSquareSize:r??20,baseDiameter:s.wFDgC(a,30),notes:"",createdAt:f,updatedAt:f,palette:g,flowers:[]})}function L0(){const c=["y29Sx2nVCMfS","iZjdm0u2qG","B3jKzxi","mJq0nZa3q1HIywDZ","t3v0zxi","odHsB1fgsfC","BMfTzq","qwPoz00","y29Sx3nPBhzLCG","BKHvtMe","AffqBMq","zhviv1C","kcGOlISPkYKRksSK","y29Sx2jSDwu","y29UC3rYDwn0B3i","ntm3otKYsxrZreDQ","u0nnuw4","iZjgqKy0qq","mJbVExzevgC","uNn5sNe","zMLUza","y2n0wNy","tNDut0S","Bgf5zxjZ","r3jcvLC","i0uWndu3qG","i0y1rJvgnq","zxrgAxC","mtK4mJDjAKLYAeK","BvLiz3C","odu1mZG0tgDouMrr","nZbqquvHy2e","y29Sx25HDNK","mtjpq0D1Ehi","tu1Rrum","y0XPzee","Cg9ZAxrPB24","A2Toz2C","sKPiBMK","C2vHCMnO","uMrTtgG","tLnxEgO","y29Sx3jLza","y29Sx3bPBMS","A2nLvu0","EMXkBvq","ALfwB0i","rNrmy1u","Dg9tDhjPBMC","q2vUDgvY","C29YDa","mZyZmdy1vwv1ter3","yLbRD0y","t3PyvhO","5lI444gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","C2nHBgu","y29Sx2jSywnR","A2zhAgO","iZHcnuuZqW","y29Sx2DYzwvU","seTNwey","5lI444gK44g+44g/","tNzZBLy","rMXVD2vYide","rffSBKG","sw5Uzxi","wKXiDNG","iZLcntLcnG","r29VwvK","yvfwquq","DwLRAK4","wKfkBhm","5yMJ44gK44g+44g/6i+k77Yi44og44oZ44ox44oS77Yj","D25buNu","tu1zzLu","v1PyqvO","B2zMC2v0qw5NBgu","CfLPBxC","y29Sx2nYzwfT","y29Sx2HVDhbPBMS","CfPrz2K","ndG1nJi4B0Dhyvru","i0yYrda0qG","Cg1kqNa","y29Sx3DOAxrL","vwTbtMq","ChjQ","zMX3","mZe1n2PpqunvrW","CKTKr3O","ChjVAG","Bgf5","iZncn0reoa","y0zjr3O","y29Sx3LLBgXVDW","CLvxANq","uuLkqLO","CMfKAxvZ","DfbPAKe","5yMJ44gK44g+44g/","i0zerJvdoq","i0q0qtG0mW","Cgv0ywXdB3vUDa","yMTPs1G","wu9RAfe","vK5OwLq","i0y1rtzdqW"];return L0=function(){return c},L0()}function Yh(c,r){const a=nn,i={DXdfh:function(p,d){return p(d)},XPeuc:function(p,d){return p(d)},SkSXP:function(p,d){return p+d}},s=i.DXdfh(ea,c);s.id=i.XPeuc(Tt,"flw"),s[a(375)]=c.name+" Copy";const f=r?.x??12,g=r?.y??12;return s.position={x:i.SkSXP(c[a(405)]?.x??0,f),y:(c.position?.y??0)+g},s.layers=(s[a(392)]||[]).map(p=>({...p,id:Tt("lay"),petalOverrides:p.petalOverrides?p.petalOverrides.map(d=>({...d})):void 0})),s}function En(c,r){c=c-398;const a=T0();let i=a[c];if(En.SWpWZk===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};En.CCjIsH=s,En.uwGyRG={},En.SWpWZk=!0}const f=a[0],g=c+f,p=En.uwGyRG[g];if(p)i=p;else{const d=function(h){this.AjPdWZ=h,this.ZhGdjc=[1,0,0],this.pgVjLE=function(){return"newState"},this.GEEmjH="\\w+ *\\(\\) *{\\w+ *",this.oKoOgQ=`['|"].+['|"];? *}`};d.prototype.RYqSVe=function(){const h=new RegExp(this.GEEmjH+this.oKoOgQ),_=h.test(this.pgVjLE.toString())?--this.ZhGdjc[1]:--this.ZhGdjc[0];return this.hEAjil(_)},d.prototype.hEAjil=function(h){return~h?this.aJiAht(this.AjPdWZ):h},d.prototype.aJiAht=function(h){for(let _=0,S=this.ZhGdjc.length;_<S;_++)this.ZhGdjc.push(Math.round(Math.random())),S=this.ZhGdjc.length;return h(this.ZhGdjc[0])},new d(En).RYqSVe(),i=En.CCjIsH(i),En.uwGyRG[g]=i}return i}(function(c,r){const a=En,i=c();for(;;)try{if(parseInt(a(490))/1*(-parseInt(a(427))/2)+parseInt(a(510))/3*(parseInt(a(408))/4)+-parseInt(a(473))/5+parseInt(a(431))/6*(-parseInt(a(417))/7)+parseInt(a(412))/8*(-parseInt(a(438))/9)+-parseInt(a(477))/10*(-parseInt(a(509))/11)+parseInt(a(428))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(T0,272870);const Uh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),vx=Uh(void 0,function(){const c=En;return vx[c(506)]().search("(((.+)+)+)+$")[c(506)]().constructor(vx)[c(502)]("(((.+)+)+)+$")});function T0(){const c=["B2jQzwn0","Aw5UzxjdB2XVCKLK","tevdvLm","ndeYnJGZm01LzgTitW","z2PJz1y","vwP1Bwm","CM91BMq","5lI444gK44g+44g/","zKHLzva","CgvWq291BNq","Aw5Uzxjty2fSzq","x2rVDwjSzvbLDgfSq2fJAgu","vvHQEKq","C3rYAw5N","CeDjAvO","C3rLBMnPBhm","C2nHBgu","BhP4v0m","ChvZAa","uxj6DKG","zMXVD2vYrgLHBwv0zxi","DMfYAwfUDa","CMLNAhq","Bgf5zxjZ","AxngAw5PDgu","wvD5whC","BM90zxm","z3jVDxbZ","yM9VBgvHBG","y3jLyxrLzef0","zMXVD2vYswrZ","B2zMC2v0qw5NBgu","zMfICMLJu3f1yxjLu2L6zq","Cg9ZAxrPB24","ywr1Bhq","AxnbCNjHEq","y2HPBgq","BgvHzKLKCW","mJqZntC5nxD0vNntCG","5y2k44gp44gz","tvnfyNC","vuP0Dfm","ntu2mhfvvNPiuG","EKzRB2q","zKjdDLC","5yMJ44gK44g+44g/","BMfTzq","q0TzwKy","Cgv0ywXdB3vUDa","B0rbtLe","zMLSDgvY","CwvSCNi","BgvUz3rO","ChPnzxe","DMLZAwjSzq","ndC2mdmXCfz5qLnH","CgfSzxr0zq","BgvHDMvZ","C2L6zq","yMfZzurPyw1LDgvY","ug1uz0W","Cgv0ywXuExbL","44or44o844oR","44or44o844oR77Yl5BQN6yEr","Cgv0ywXpDMvYCMLKzxm","weXey1O","BgvHzKDYB3vWCW","C2vHCMnO","y29SB3jjza","D2LKDgHty2fSzq","ugDjBvm","Dg9tDhjPBMC","y0LuwvK","DxbKyxrLzef0","mta2otjXCgzQtvm","mtuWCu16BLLX","Aw5UzxjtAxPLuMvKDwn0Aw9U","BwfW","DMvYC2LVBG","r3zTD0S","r1jjCeu","zMLUza","AgfZ","Bg9JA2vK","CMfKAxvZ","y29SB3iY","CM90yxrPB24","CgXHy2vTzw50tw9Kzq","44oA44od44ox","otyYoeXVseLiCq","y29Sx3DOAxrL","ENbRBgC","zgHOs0O","oePICwLruq","CvrOqNy","q1nKwum","y2vUDgvY","Aw5JBhvKzxm","mJKXmJCWvxLkzfLx","y29SB3i","zMXVD2vYCW","vgXJCeu","zg91yMXLugv0ywW","Cg9Zzq","DhLWzq","z3f4sfK","qNfgBeG","C09JCfa","mMXbzNnjBG","mtq0mdmWnJbOzM54BMC","zNDVExO","Ahn4B3m","mJrICMnJEgW","ANvtEKW","Bgf5","BgvMDa"];return T0=function(){return c},T0()}vx();function ox(c){const r=En,a={PgImS:"ken",qThBv:function(i,s){return i===s},hLaOK:r(442),EMlUF:r(480)};return c==="maru"?r(442):c===a[r(505)]?r(480):a[r(413)](c,a.hLaOK)||a.qThBv(c,a.EMlUF)?c:""}function wa(c){const r=En,a={CSdYC:r(469),oPSvr:r(471),oDANQ:"back",akLyu:function(f,g){return f*g},TlcpE:function(f,g){return f-g},PmTgL:function(f,g){return f===g},GvmwK:r(498),fwoyz:"",gqxHY:function(f,g,p,d){return f(g,p,d)},UJttS:function(f,g){return f(g)},qelrr:"lzxWC",zFkod:r(448),YMwij:function(f,g){return f!==g},UXjzD:function(f,g,p,d){return f(g,p,d)},dbVrK:function(f,g){return f!==g},YWyXw:r(411),SEePR:"object",Ujumc:function(f,g){return f!=g},WqPuI:function(f,g){return f==g},cITYY:function(f,g){return f!=g},hsxos:function(f,g){return f!=g},gjcgV:function(f,g,p,d){return f(g,p,d)},BqFlH:function(f,g){return f<=g},TjPDn:function(f,g){return f===g},juSzL:function(f,g){return f!==g},MSEbw:r(474),GRIpE:function(f,g){return f!==g},LECVS:function(f,g){return f<=g},ApPeZ:function(f){return f()},fHeeP:"proj",UunCb:"XLDcZ",sOcpP:"grp",zpklg:"Leaf",vcddw:function(f,g){return f===g},loZYQ:"sIDzO",pzMeq:function(f,g){return f!==g},QrzvH:"rExYI",pGIiZ:function(f,g){return f!==g},wquXz:function(f,g){return f!=g},YIXZt:"iaGdU",ksjId:"ihKhN",fUykm:function(f,g){return f===g},BeNLr:function(f,g){return f(g)},DxSLt:""},i=a.UJttS(ea,c||{});Array.isArray(i[r(419)])||(i.flowers=[]);for(const f of i[r(419)])if(a[r(486)]!==r(452)){const g=[a[r(414)],a.oPSvr],p=[r(457),r(434),a[r(484)]];_0x2676eb[r(450)]=_0x191ad8.stencils.filter(d=>d&&typeof d.id===r(448)&&g.includes(d[r(456)])&&p.includes(d[r(422)])&&d.position&&_0x3e6b16[r(459)](d.position.x)&&_0x40f41c[r(459)](d[r(468)].y))}else{f.id||(f.id=a.UJttS(Tt,"flw")),(typeof f.name!==a[r(478)]||!f.name)&&(f.name="Flower"),(!f.position||!Number[r(459)](f.position.x)||!Number[r(459)](f[r(468)].y))&&(f[r(468)]={x:260,y:260}),Array[r(470)](f.layers)||(f[r(458)]=[]);for(const g of f[r(458)]){if(g.id||(g.id=a.UJttS(Tt,r(433))),(a.YMwij(typeof g[r(503)],"string")||!g.colorId)&&(g.colorId=i[r(491)]?.[0]?.id??"col_white"),g[r(496)]=a.UJttS(ox,g[r(496)]),g[r(483)]=a[r(447)](pe,Number(g.petalCount||0),5,24),Number[r(459)](g[r(451)])||(g[r(451)]=1),Number[r(459)](g[r(504)])||(g[r(504)]=1),Number.isFinite(g[r(403)])||(g.radius=28),Number.isFinite(g.offsetAngle)||(g[r(466)]=0),delete g[r(446)],g.doublePetal)if(a.dbVrK(a[r(460)],"dhhKJ"))delete _0x384a31[r(511)];else if(typeof g[r(421)]!==a.SEePR||a[r(495)](g[r(421)],null))delete g[r(421)];else{if(a[r(440)](g.doublePetal.innerScale,null)&&a.WqPuI(g[r(421)][r(511)],null)){const p=f[r(467)]??i.fabricSquareSize??20;g.doublePetal[r(511)]=Math[r(441)](a.akLyu(p,1-g.doublePetal.innerScale))}delete g.doublePetal[r(445)],Number[r(459)](g[r(421)].innerSizeReduction)||(g[r(421)].innerSizeReduction=2),g.doublePetal[r(511)]=pe(g[r(421)][r(511)],1,30),delete g.doublePetal.innerPetalType,g.doublePetal[r(436)]!=null&&typeof g[r(421)].innerColorId!="string"&&delete g.doublePetal[r(436)]}if(Array[r(470)](g[r(499)]))if(a.YMwij(r(479),r(479))){const p=_0x3cfe0c.fabricSquareSize??_0x52ca32.fabricSquareSize??20;_0x2a46da[r(421)][r(511)]=_0x1f0d5e[r(441)](a.akLyu(p,a[r(420)](1,_0xca72d4[r(421)][r(445)])))}else for(const p of g.petalOverrides)p&&a[r(507)](p.petalType,null)&&(p.petalType=a.UJttS(ox,p[r(496)])),p&&delete p.innerPetalType,p&&a[r(507)](p[r(436)],null)&&typeof p[r(436)]!==r(448)&&delete p[r(436)],p&&a[r(430)](p[r(511)],null)&&(Number.isFinite(p[r(511)])?p.innerSizeReduction=a[r(439)](pe,p.innerSizeReduction,1,30):delete p.innerSizeReduction)}(!Number.isFinite(f.flowerDiameter)||a[r(425)](f[r(455)],0))&&(f[r(455)]=60),f[r(415)]&&(a.TjPDn(f.center[r(423)],a.GvmwK)&&(f[r(415)].type=""),[r(497),"",r(407)][r(416)](f.center.type)||(f.center[r(423)]=r(497)),Number.isFinite(f.center[r(493)])||(f.center.size=6),f[r(415)][r(493)]=pe(f[r(415)].size,1,30),(typeof f[r(415)][r(418)]!==a.zFkod||!f[r(415)][r(418)])&&(f[r(415)][r(418)]=i[r(491)]?.[0]?.id??r(409)),f.center.type===r(407)&&(Number[r(459)](f[r(415)].pepCount)||(f[r(415)].pepCount=12),f.center.pepCount=a[r(424)](pe,f[r(415)][r(444)],4,30)),f[r(415)].type!==""&&delete f[r(415)][r(404)]),a[r(432)](f[r(406)],a[r(475)])&&f[r(406)]!==""&&(f[r(406)]=a.MSEbw),a[r(399)](f[r(494)],void 0)&&(!Number[r(459)](f.baseDiameter)||a[r(437)](f.baseDiameter,0))&&delete f[r(494)]}Array.isArray(i[r(491)])||(i.palette=[]);const s=new Set(i.palette.map(f=>f.id));for(const f of Pd())s[r(401)](f.id)||i.palette[r(453)](f);if(i[r(464)]||(i[r(464)]=a.ApPeZ(z0)),i.updatedAt||(i[r(508)]=i[r(464)]),i.id||(i.id=Tt(a[r(443)])),i.title||(i.title=""),i.unit="mm",Number.isFinite(i.fabricSquareSize)||(i.fabricSquareSize=20),(!Number[r(459)](i.baseDiameter)||a.LECVS(i[r(494)],0))&&(i.baseDiameter=30),a.dbVrK(typeof i[r(461)],a[r(478)])&&(i.notes=""),Array[r(470)](i[r(462)])||(i.groups=[]),a.juSzL(r(500),a.UunCb))a.PmTgL(_0x508b1c.center.type,a[r(398)])&&(_0x1b17cc[r(415)].type=""),[a.fwoyz,"",""][r(416)](_0x4808bd[r(415)].type)||(_0x58d4e[r(415)].type=a[r(429)]),_0x4222c3.isFinite(_0x34512b.center[r(493)])||(_0x8556f3.center[r(493)]=6),_0x441822[r(415)].size=a.gqxHY(_0x58843e,_0x236e01[r(415)][r(493)],1,30),(typeof _0x2415ea.center[r(418)]!="string"||!_0x5ed186[r(415)][r(418)])&&(_0x2a1a6e.center.color=_0x24f773.palette?.[0]?.id??"col_white"),a.PmTgL(_0x30074b.center[r(423)],"")&&(_0x4f9f16[r(459)](_0x330fa7.center[r(444)])||(_0x48d51a.center.pepCount=12),_0x3c4120[r(415)].pepCount=_0x510a33(_0x3553e8[r(415)].pepCount,4,30)),_0x7edefd.center.type!==""&&delete _0x5596be[r(415)].color2;else{const f=new Set(i.flowers[r(512)](p=>p.id)),g=new Set((i[r(492)]??[]).map(p=>p.id));for(const p of i[r(462)])Array[r(470)](p.flowerIds)||(p.flowerIds=[]),Array.isArray(p[r(472)])||(p[r(472)]=[]),p.flowerIds=p.flowerIds[r(485)](d=>f[r(401)](d)),p.leafIds=p.leafIds[r(485)](d=>g[r(401)](d)),Number[r(459)](p.rotation)||(p[r(405)]=0),p.id||(p.id=a[r(476)](Tt,a[r(426)])),(a[r(432)](typeof p.name,"string")||!p.name)&&(p[r(481)]="");i.groups=i[r(462)][r(485)](p=>p[r(465)].length+p[r(472)].length>0)}Array.isArray(i.leaves)||(i[r(492)]=[]);for(const f of i.leaves)f.id||(f.id=Tt("leaf")),(a[r(399)](typeof f[r(481)],a.zFkod)||!f.name)&&(f.name=a[r(410)]),(!f.position||!Number[r(459)](f.position.x)||!Number[r(459)](f[r(468)].y))&&(a.vcddw(a.loZYQ,r(482))?_0x2e8f87.flowerDiameter=60:f[r(468)]={x:675,y:675}),Number.isFinite(f[r(405)])||(f[r(405)]=0),f.petalType=ox(f.petalType),(typeof f[r(503)]!="string"||!f[r(503)])&&(f[r(503)]=i[r(491)]?.[0]?.id??"col_green"),Number[r(459)](f[r(451)])||(f.scale=1),Number.isFinite(f.widthScale)||(f.widthScale=1),a[r(488)](typeof f[r(489)],r(463))&&(f.visible=!0),a[r(432)](typeof f.locked,r(463))&&(f[r(402)]=!1),delete f._doublePetalCache,f[r(421)]&&(a.PmTgL(a.QrzvH,a[r(454)])?a[r(449)](typeof f[r(421)],r(435))||a.vcddw(f.doublePetal,null)?delete f.doublePetal:(Number[r(459)](f[r(421)][r(511)])||(f[r(421)].innerSizeReduction=2),f[r(421)].innerSizeReduction=pe(f[r(421)].innerSizeReduction,1,30),a.wquXz(f.doublePetal[r(436)],null)&&a[r(449)](typeof f[r(421)][r(436)],a[r(478)])&&delete f.doublePetal.innerColorId):delete _0x1a0d04.doublePetal[r(436)]);if(Array.isArray(i.leafGroups)&&i[r(501)].length>0){const f=new Set((i[r(492)]??[])[r(512)](g=>g.id));for(const g of i.leafGroups)if(a.juSzL(a.YIXZt,a.ksjId)){if(!Array.isArray(g.leafIds))continue;const p=g.leafIds[r(485)](d=>f.has(d));if(a.fUykm(p[r(487)],0))continue;if(g.linkedFlowerGroupId){const d=i.groups[r(400)](h=>h.id===g.linkedFlowerGroupId);if(d){for(const h of p)d.leafIds[r(416)](h)||d.leafIds[r(453)](h);continue}}i.groups[r(453)]({id:g.id||a.BeNLr(Tt,"grp"),name:g[r(481)]||a.DxSLt,flowerIds:[],leafIds:p,rotation:Number.isFinite(g.rotation)?g.rotation:0})}else _0x129c5d.leafIds[r(416)](_0x4bcf49)||_0x4658e2[r(472)].push(_0x59c608)}if(delete i[r(501)],Array.isArray(i[r(450)])){const f=[a[r(414)],"child"],g=["right","left","back"];i.stencils=i.stencils.filter(p=>p&&typeof p.id===r(448)&&f[r(416)](p[r(456)])&&g[r(416)](p[r(422)])&&p[r(468)]&&Number[r(459)](p.position.x)&&Number.isFinite(p.position.y))}return Number[r(459)](i[r(513)])||(i.version=1),i}const Rx=kn;(function(c,r){const a=kn,i=c();for(;;)try{if(parseInt(a(285))/1+-parseInt(a(279))/2+parseInt(a(276))/3*(parseInt(a(277))/4)+parseInt(a(283))/5*(parseInt(a(278))/6)+parseInt(a(275))/7+parseInt(a(284))/8*(parseInt(a(287))/9)+-parseInt(a(281))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(E0,875785);const Kh=(function(){let c=!0;return function(r,a){const i=c?function(){const s=kn;if(a){const f=a[s(280)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),px=Kh(void 0,function(){const c=kn,r={nfKww:"(((.+)+)+)+$"};return px.toString().search("(((.+)+)+)+$")[c(290)]()[c(288)](px).search(r.nfKww)});function kn(c,r){c=c-275;const a=E0();let i=a[c];if(kn.ycbMgh===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};kn.UHdllO=s,kn.qOYikB={},kn.ycbMgh=!0}const f=a[0],g=c+f,p=kn.qOYikB[g];if(p)i=p;else{const d=function(h){this.Yuflwj=h,this.JFNfVd=[1,0,0],this.OvrNdP=function(){return"newState"},this.DbaaFk="\\w+ *\\(\\) *{\\w+ *",this.SisynO=`['|"].+['|"];? *}`};d.prototype.SGBFqE=function(){const h=new RegExp(this.DbaaFk+this.SisynO),_=h.test(this.OvrNdP.toString())?--this.JFNfVd[1]:--this.JFNfVd[0];return this.SXCSsA(_)},d.prototype.SXCSsA=function(h){return~h?this.LgDDUX(this.Yuflwj):h},d.prototype.LgDDUX=function(h){for(let _=0,S=this.JFNfVd.length;_<S;_++)this.JFNfVd.push(Math.round(Math.random())),S=this.JFNfVd.length;return h(this.JFNfVd[0])},new d(kn).SGBFqE(),i=kn.UHdllO(i),kn.qOYikB[g]=i}return i}function E0(){const c=["nMznuuXAtG","mtG2ody4neXlt2f2vG","mtHstLbTvvi","mtyXodi3offdB25YrW","yxbWBhK","mZyYodu0mJb3qMLXyKu","Dhn1BwfTAv9WCM9Qzwn0C192mq","mtKZntmYmgTIzfjbsq","mta4mtmXmK5RvhbfyG","mtCZody5n09KDgr6rG","5y2k44gp44gz","oxrvwMX5Dq","y29UC3rYDwn0B3i","44oA44od44ox","Dg9tDhjPBMC","otqWodq5n2jvtvbxuq"];return E0=function(){return c},E0()}px();const Fd=Rx(282),al=["",""],Zh=["","",Rx(289)],$d=["",Rx(286)];(function(c,r){const a=ln,i=c();for(;;)try{if(-parseInt(a(118))/1*(-parseInt(a(130))/2)+parseInt(a(131))/3+parseInt(a(123))/4*(parseInt(a(110))/5)+-parseInt(a(115))/6*(-parseInt(a(108))/7)+parseInt(a(117))/8*(parseInt(a(124))/9)+parseInt(a(127))/10+-parseInt(a(116))/11*(parseInt(a(128))/12)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(k0,755813);const Xh=(function(){let c=!0;return function(r,a){{const i=c?function(){const s=ln;if(a){const f=a[s(112)](r,arguments);return a=null,f}}:function(){};return c=!1,i}}})(),yx=Xh(void 0,function(){const c=ln,r={BjKdX:c(109)};return yx.toString()[c(121)](r.BjKdX).toString()[c(132)](yx)[c(121)]("(((.+)+)+)+$")});yx();function ir(){const c=ln,r={xxrUD:function(a,i){return a(i)}};try{const a=localStorage[c(119)](Fd);if(!a)return[];const i=JSON.parse(a);return Array.isArray(i)?i.map(s=>{const f=c;try{const g=s?.project?r.xxrUD(wa,s[f(114)]):null;return g?{id:s.id??g.id,title:s.title??g[f(125)],updatedAt:s.updatedAt??g[f(120)],project:g}:null}catch{return null}})[c(129)](s=>s!=null):[]}catch{return[]}}function e1(c){try{return localStorage.setItem(Fd,JSON.stringify(c)),!0}catch{return!1}}function Jh(c){const r=ln,a={UqcKI:function(p){return p()},qBxKn:function(p,d){return p+d},WFThC:function(p,d){return p(d)}},i=a[r(111)](ir),s=i[r(122)](p=>p.id===c.id),f={id:c.id,title:c.title,updatedAt:c[r(120)],project:c},g=s>=0?[...i.slice(0,s),f,...i.slice(a.qBxKn(s,1))]:[f,...i];return g[r(113)]((p,d)=>p[r(120)]<d[r(120)]?1:-1),a.WFThC(e1,g)}function ln(c,r){c=c-108;const a=k0();let i=a[c];if(ln.qQlsxa===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};ln.rVgvFc=s,ln.GUkNlS={},ln.qQlsxa=!0}const f=a[0],g=c+f,p=ln.GUkNlS[g];if(p)i=p;else{const d=function(h){this.kZqDxo=h,this.VbEpOj=[1,0,0],this.HtwDdl=function(){return"newState"},this.GESBRq="\\w+ *\\(\\) *{\\w+ *",this.MynOHg=`['|"].+['|"];? *}`};d.prototype.PgPEyV=function(){const h=new RegExp(this.GESBRq+this.MynOHg),_=h.test(this.HtwDdl.toString())?--this.VbEpOj[1]:--this.VbEpOj[0];return this.nQnKCD(_)},d.prototype.nQnKCD=function(h){return~h?this.ogehRo(this.kZqDxo):h},d.prototype.ogehRo=function(h){for(let _=0,S=this.VbEpOj.length;_<S;_++)this.VbEpOj.push(Math.round(Math.random())),S=this.VbEpOj.length;return h(this.VbEpOj[0])},new d(ln).PgPEyV(),i=ln.rVgvFc(i),ln.GUkNlS[g]=i}return i}function k0(){const c=["DgL0Bgu","BfHgthi","nJe2mte1mfr3tLfTzq","mtGXmKHryuXfwa","zMLSDgvY","nfvSrKP0yW","mZC5ndq2m2zJsxDJwq","y29UC3rYDwn0B3i","nZDLrengDKW","kcGOlISPkYKRksSK","mJaZotboDwrPBNO","vxfJs0K","yxbWBhK","C29YDa","ChjVAMvJDa","mJG2mJa2yKDbBe9V","mZG2mtC3ELn3Bfb4","mZGWmdHezeLcq20","ntq5nZKXvhzNC2DT","z2v0sxrLBq","DxbKyxrLzef0","C2vHCMnO","zMLUzeLUzgv4","mti2ofzKBgzmvG","mJm4nwvRDKneyG"];return k0=function(){return c},k0()}function Vh(c){const r=ln,a={lXFLr:function(s){return s()}},i=a[r(126)](ir).filter(s=>s.id!==c);return e1(i)}function Bn(c,r){c=c-205;const a=B0();let i=a[c];if(Bn.PfXicD===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Bn.AbcKgi=s,Bn.gWoDMo={},Bn.PfXicD=!0}const f=a[0],g=c+f,p=Bn.gWoDMo[g];if(p)i=p;else{const d=function(h){this.QEIlbW=h,this.pjaWOK=[1,0,0],this.THnKeS=function(){return"newState"},this.dpLGBv="\\w+ *\\(\\) *{\\w+ *",this.ZVtWJK=`['|"].+['|"];? *}`};d.prototype.nehTKu=function(){const h=new RegExp(this.dpLGBv+this.ZVtWJK),_=h.test(this.THnKeS.toString())?--this.pjaWOK[1]:--this.pjaWOK[0];return this.Upekba(_)},d.prototype.Upekba=function(h){return~h?this.rYYAHa(this.QEIlbW):h},d.prototype.rYYAHa=function(h){for(let _=0,S=this.pjaWOK.length;_<S;_++)this.pjaWOK.push(Math.round(Math.random())),S=this.pjaWOK.length;return h(this.pjaWOK[0])},new d(Bn).nehTKu(),i=Bn.AbcKgi(i),Bn.gWoDMo[g]=i}return i}(function(c,r){const a=Bn,i=c();for(;;)try{if(-parseInt(a(241))/1+-parseInt(a(232))/2*(parseInt(a(213))/3)+parseInt(a(229))/4*(parseInt(a(210))/5)+-parseInt(a(233))/6+-parseInt(a(239))/7+parseInt(a(206))/8*(-parseInt(a(242))/9)+parseInt(a(226))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(B0,205373);const Wh=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),_x=Wh(void 0,function(){const c=Bn;return _x[c(207)]().search(c(243))[c(207)]().constructor(_x)[c(258)](c(243))});function B0(){const c=["zMfICMLJu2L6zu1T","svrbzMO","zg91yMXLugv0ywW","C2v0","yMfZzurPyw1LDgvYtw0","Dg90ywXdB3vUDa","qwTSBLK","ChvZAa","y29SB3jjza","mtqXodaWnJbKC0r0yuG","Ce93uLa","txb0uvy","ne1Mqu5jza","C0fwsve","5y2k44gp44gz","ntaWnNLoALbmwa","mtiXnZeZnNLOCfr5Aa","CM91BMq","iZK5otK5oq","rxvPtvK","z2v0","zw50CMLLCW","mJG0mdCXoxfJt2THAa","zNjVBq","mJy1ntm3vLn0v09A","otGZntjcrurjzeu","kcGOlISPkYKRksSK","zLzovuG","CMvKDwnL","zMfICMLJu3f1yxjLu2L6zq","yMfZzurPyw1LDgvY","Aw5UzxjdB2XVCKLK","uwnkvgi","A1zmDLC","zMXVD2vYrgLHBwv0zxi","BgvHDMvZ","y291BNq","vwHeC2S","CgXHy2vTzw50tw9Kzq","C3fYDa","BgP5DMK","C2vHCMnO","BwfW","mJi0rMD3sgfs","Dg9tDhjPBMC","Aw5UzxjtAxPLuMvKDwn0Aw9U","EfnYA1e","nJm4nZy1wffZsKvv","y1P4uwq","Cgv0ywXdB3vUDa","mtKYu1HRvuvw","C2nHBgu","C29YDa","DMfSDwvZ"];return B0=function(){return c},B0()}_x();function Qh(c){const r=Bn,a={xSrkQ:function(_,S){return _*S},syNLJ:function(_,S){return _/S},UhDsk:function(_,S){return _*S},bdNfe:function(_,S){return _/S},fVNUH:function(_,S){return _!==S},ITAfj:function(_,S){return _*S},AklnY:function(_,S){return _<S},QcJTb:function(_,S,y){return _(S,y)},LwDwr:function(_,S){return _-S},MptQV:function(_,S){return _===S},kVLvW:function(_,S){return _(S)},MJGgc:function(_,S){return _*S},EuiMY:"Mepwp",ljyvi:r(227)},i=new Map((c.palette||[]).map(_=>[_.id,_])),s=new Map,f=(_,S)=>_?.petalOverrides?.find(y=>y.index===S)??null,g=new Map;for(const _ of c.flowers||[]){const S=_[r(246)]??c[r(246)];for(const b of _.layers||[]){if(!b.visible)continue;const B=Math.round(a[r(218)](S,b.scale??1));for(let R=0;a[r(223)](R,b[r(212)]);R++){const q=a[r(249)](f,b,R),O=q?.[r(225)]??b[r(225)],I=O+"|"+B,Z=s.get(I);if(Z?Z.count+=1:s[r(220)](I,{colorId:O,fabricSizeMm:B,count:1}),b[r(219)]){const k=b.doublePetal,K=q?.innerColorId??k[r(248)]??O,P=q?.[r(208)]??k.innerSizeReduction??2,W=Math.max(3,Math.round(a.LwDwr(B,P))),F=K+"|"+W,Y=s.get(F);Y?Y.count+=1:s.set(F,{colorId:K,fabricSizeMm:W,count:1})}}}const y=_[r(255)]??r(231),w=a[r(228)](y,"")?a[r(250)](lr,_[r(251)]):_.baseDiameter??c[r(247)],D=y+"|"+w,v=g[r(237)](D);v?v.count+=1:g.set(D,{mode:y,baseDiameterMm:w,count:1})}for(const _ of c[r(252)]??[]){if(!_.visible)continue;const S=_.fabricSquareSize??c.fabricSquareSize,y=Math.round(a.MJGgc(S,_[r(214)]??1)),w=_.colorId,D=w+"|"+y,v=s.get(D);if(v?v[r(253)]+=1:s.set(D,{colorId:w,fabricSizeMm:y,count:1}),_[r(219)]){const b=_.doublePetal,B=b.innerColorId??w,R=Math.max(3,Math[r(234)](y-(b[r(208)]??2))),q=B+"|"+R,O=s.get(q);O?O.count+=1:a.MptQV(a[r(236)],r(211))?_0x2fd14a.count+=1:s.set(q,{colorId:B,fabricSizeMm:R,count:1})}}const p=new Map;for(const{colorId:_,fabricSizeMm:S,count:y}of s.values()){const w=p.get(_);w?a.MptQV(a[r(257)],"pOwRP")?w[r(238)][r(224)]({fabricSizeMm:S,count:y}):_0x1ddc2a.count+=1:p.set(_,{colorId:_,entries:[{fabricSizeMm:S,count:y}]})}const d=Array[r(240)](p[r(216)]())[r(205)](({colorId:_,entries:S})=>{const y=r,w={sAVIQ:function(q,O){return q+O},lXSYh:function(q,O){return a[Bn(209)](q,O)}},D=i.get(_),v=S[y(215)]((q,O)=>O[y(217)]-q.fabricSizeMm),b=v[y(245)]((q,O)=>q+O[y(253)],0),B=a.syNLJ(Math.round(a[y(254)](v[y(245)]((q,O)=>{const I=y,Z=O[I(217)]/10;return w[I(230)](q,w.lXSYh(O.count*Z,Z))},0),100)),100),R=a.bdNfe(Math.round(a.UhDsk(Math[y(256)](B),10)),10);return{colorId:_,colorName:D?.name??_,hex:D?.hex??y(235),sizes:v,totalCount:b,totalAreaCm2:B,squareSideCm:R}})[r(215)]((_,S)=>S[r(222)]-_[r(222)]),h=Array[r(240)](g.values()).sort((_,S)=>{const y=r;return a[y(244)](_.mode,S.mode)?_.mode===""?-1:1:S.baseDiameterMm-_[y(221)]});return{colors:d,bases:h}}(function(c,r){const a=an,i=c();for(;;)try{if(parseInt(a(489))/1+parseInt(a(450))/2*(parseInt(a(505))/3)+-parseInt(a(496))/4*(parseInt(a(488))/5)+parseInt(a(483))/6*(-parseInt(a(445))/7)+parseInt(a(459))/8*(parseInt(a(506))/9)+parseInt(a(458))/10+-parseInt(a(502))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(q0,647544);function an(c,r){c=c-440;const a=q0();let i=a[c];if(an.CkqXzx===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};an.jhHGYW=s,an.JnbMpK={},an.CkqXzx=!0}const f=a[0],g=c+f,p=an.JnbMpK[g];if(p)i=p;else{const d=function(h){this.hyGkZk=h,this.CrGpUD=[1,0,0],this.YNPguV=function(){return"newState"},this.pndyom="\\w+ *\\(\\) *{\\w+ *",this.RHEDUS=`['|"].+['|"];? *}`};d.prototype.CZunXn=function(){const h=new RegExp(this.pndyom+this.RHEDUS),_=h.test(this.YNPguV.toString())?--this.CrGpUD[1]:--this.CrGpUD[0];return this.pxmvSg(_)},d.prototype.pxmvSg=function(h){return~h?this.jFpJBM(this.hyGkZk):h},d.prototype.jFpJBM=function(h){for(let _=0,S=this.CrGpUD.length;_<S;_++)this.CrGpUD.push(Math.round(Math.random())),S=this.CrGpUD.length;return h(this.CrGpUD[0])},new d(an).CZunXn(),i=an.jhHGYW(i),an.JnbMpK[g]=i}return i}const Ph=(function(){let c=!0;return function(r,a){const i=c?function(){const s=an;if(a){const f=a[s(481)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Sx=Ph(void 0,function(){const c=an,r={peYYN:c(469)};return Sx.toString().search("(((.+)+)+)+$")[c(503)]()[c(455)](Sx)[c(499)](r[c(491)])});Sx();function Fh(c,r){const a=an,i={QGuMe:function(w,D){return w??D},Efaif:"0 0 200 200",BQmkm:a(444),mOLUc:function(w,D){return w(D)},XGiNV:function(w,D){return w(D)},YjpXX:"http://www.w3.org/2000/svg",dJvGr:"rect",xGYyC:a(463),ghLwt:"100%",CMQSU:a(490),mNigs:a(476),ayJkP:function(w,D,v){return w(D,v)},ekEiA:".svg"},s=c.cloneNode(!0);s[a(451)](a(478)).forEach(w=>w[a(508)]("data-testid")),s[a(508)](a(507));const f=c.getAttribute("viewBox");f&&s.setAttribute("viewBox",f);const g=i.QGuMe(f,i[a(493)]).split(/[\s,]+/)[a(494)](Number),p=g[2]??200,d=g[3]??200;s.setAttribute(i.BQmkm,i[a(470)](String,p)),s[a(509)]("height",i.XGiNV(String,d)),s.setAttribute("xmlns",i[a(482)]);const h=document.createElementNS(a(501),i[a(464)]);h.setAttribute("width",a(485)),h[a(509)](i.xGYyC,i[a(442)]),h[a(509)](a(446),i[a(487)]),s[a(500)](h,s[a(510)]),s[a(451)]("[data-grid]")[a(512)](w=>w.remove()),s[a(451)](".tsumami-sel-dash").forEach(w=>w.remove()),s.querySelectorAll(".tsumami-group-dash")[a(512)](w=>w.remove()),s[a(451)](a(467))[a(512)](w=>w.remove());const _=new XMLSerializer,S=a(474)+_.serializeToString(s),y=new Blob([S],{type:i[a(440)]});i.ayJkP(t1,y,r.endsWith(i[a(448)])?r:r+a(462))}function $h(c,r,a=2){const i=an,s={xbCpE:i(495),GQElO:function(v,b,B){return v(b,B)},mLRXU:i(480),apcRs:function(v,b){return v*b},WDqwL:i(490),wYOGz:i(478),AaONm:i(511),NMPzp:"viewBox",rGTvY:"0 0 200 200",klAUC:i(444),ZDGYC:i(463),klGuJ:function(v,b){return v(b)},snRPS:"xmlns",olTMo:i(476)},f=c[i(449)](!0);f[i(451)](s.wYOGz)[i(512)](v=>v.removeAttribute(i(473))),f[i(508)]("style"),f.querySelectorAll(s.AaONm)[i(512)](v=>v[i(441)]()),f.querySelectorAll(i(468))[i(512)](v=>v.remove()),f[i(451)](".tsumami-group-dash")[i(512)](v=>v.remove()),f[i(451)](i(467))[i(512)](v=>v.remove());const g=c.getAttribute(s.NMPzp),p=(g??s[i(452)])[i(466)](/[\s,]+/)[i(494)](Number),d=p[2]??200,h=p[3]??200;f.setAttribute(s[i(477)],g??s[i(452)]),f.setAttribute(s.klAUC,String(d)),f[i(509)](s.ZDGYC,s.klGuJ(String,h)),f.setAttribute(s.snRPS,"http://www.w3.org/2000/svg");const _=new XMLSerializer,S=_.serializeToString(f),y=new Blob([S],{type:s.olTMo}),w=URL.createObjectURL(y),D=new Image;D[i(456)]=()=>{const v=i;if(v(475)!=="knlqU"){const b=document.createElement("canvas");b.width=d*a,b.height=s.apcRs(h,a);const B=b.getContext("2d");if(!B){URL[v(472)](w);return}B[v(453)]=s.WDqwL,B.fillRect(0,0,b.width,b[v(463)]),B.drawImage(D,0,0,b[v(444)],b.height),b[v(497)](R=>{const q=v,O={TPwUK:function(I,Z,k){return I(Z,k)}};q(495)!==s[q(454)]?O.TPwUK(_0x10b50d,_0x4714b4,_0x17d969.endsWith(q(480))?_0x4cd0b4:_0x479417+q(480)):(R&&s[q(461)](t1,R,r[q(486)](s[q(498)])?r:r+q(480)),URL.revokeObjectURL(w))},v(479))}else return _0x518724.toString().search(HtElUT[v(504)]).toString().constructor(_0x5b984d)[v(499)](v(469))},D[i(447)]=()=>{URL[i(472)](w)},D.src=w}function q0(){const c=["D2HPDgu","Cgvzwu4","y3jLyxrLrwXLBwvUDa","rwzHAwy","BwfW","vKrxqvm","og9SAKTqzW","Dg9cBg9I","BuXswfu","C2vHCMnO","Aw5Zzxj0qMvMB3jL","Ahr0CdOVl3D3DY53mY5VCMCVmJaWmc9ZDMC","mJq0mde2ndfprMP6C04","Dg9tDhjPBMC","sKreuKC","mty3mtG5n3jtBg5Jrq","nJniBejtAMS","C3r5Bgu","CMvTB3zLqxr0CMLIDxrL","C2v0qxr0CMLIDxrL","zMLYC3rdAgLSza","w2rHDgeTz3jPzf0","zM9YrwfJAa","Bu5Pz3m","CMvTB3zL","z2HmD3q","y2XPy2S","D2LKDgG","n1vbzwP5tG","zMLSBa","B25LCNjVCG","zwTfAue","y2XVBMvoB2rL","ngX5B3fjEG","CxvLCNLtzwXLy3rVCKfSBa","CKDuDLK","zMLSBfn0EwXL","EgjdCeu","y29UC3rYDwn0B3i","B25SB2fK","zg93BMXVywq","mta1ntuYnZb3sfPqz28","nZu2odi0uKr5zu1b","CMvTB3zLq2HPBgq","r1ffBe8","lNn2zW","AgvPz2H0","zeP2r3i","yM9KEq","C3bSAxq","w2rHDgeTBwfYCxvLzv0","lNrZDw1HBwKTC2vSlwrHC2G","kcGOlISPkYKRksSK","Bu9mvwm","yxbWzw5Kq2HPBgq","CMv2B2TLt2jQzwn0vvjm","zgf0ys10zxn0Awq","pd94BwWGDMvYC2LVBJ0Ims4WiIbLBMnVzgLUzZ0IvvrgltGIpZ4k","swnwBMK","Aw1Hz2uVC3zNk3HTBdTJAgfYC2v0pxv0zI04","tK1qENa","w2rHDgeTDgvZDgLKxq","Aw1Hz2uVCg5N","lNbUzW","yxbWBhK","wwPWwfG","mZq5mZe0CMDPC3Dt","y3jLyxrLt2jQzwn0vvjm","mtaWjq","zw5KC1DPDgG","q01ru1u","mJa1mdq1u09rzNHm","mtCZnZy2EwjAv21s"];return q0=function(){return c},q0()}function t1(c,r){const a=an,i=URL[a(484)](c),s=document[a(492)]("a");s.href=i,s[a(457)]=r,document[a(465)][a(471)](s),s[a(443)](),document.body[a(460)](s),URL[a(472)](i)}function j0({active:c,disabled:r,onClick:a,children:i,...s}){return x.jsx("button",{role:"tab","aria-selected":!!c,className:`rounded-lg px-3 py-1.5 text-xs focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c?"bg-neutral-900 text-white border-neutral-900":r?"bg-neutral-100 text-neutral-400 border-neutral-200":"bg-white text-neutral-800 hover:bg-neutral-50 border-neutral-200"} border`,disabled:r,onClick:a,...s,children:i})}const em="v0.1.0-dev";function tm(c){const{view:r,onNavigate:a,project:i}=c;return x.jsx("div",{className:"sticky top-0 z-20 border-b bg-white/80 backdrop-blur",children:x.jsxs("div",{className:"mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-3 px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[x.jsx("img",{src:"/tsumami/favicon.svg",alt:"",width:"24",height:"24",className:"shrink-0"}),x.jsx("span",{className:"text-base font-semibold",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:""}),x.jsx("span",{className:"text-xs font-normal text-neutral-400",style:{fontFamily:"'Zen Maru Gothic', 'Hiragino Maru Gothic ProN', sans-serif"},children:"Tsumami-zaiku Designer"})]}),x.jsx("div",{className:"rounded-full border bg-white px-2 py-0.5 text-[10px] text-neutral-600",children:em})]}),x.jsxs("div",{className:"flex items-center gap-2",role:"tablist","aria-label":"",children:[x.jsx(j0,{active:r==="home",onClick:()=>a("home"),"data-testid":"nav-home",children:"Home"}),x.jsx(j0,{active:r==="new",onClick:()=>a("new"),"data-testid":"nav-new",children:"New"}),x.jsx(j0,{active:r==="editor",onClick:()=>a("editor"),disabled:!i,"data-testid":"nav-editor",children:"Editor"}),x.jsx(j0,{active:r==="recipe",onClick:()=>a("recipe"),disabled:!i,"data-testid":"nav-recipe",children:"Recipe"})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onSave,disabled:!i,title:"Ctrl/Cmd+S","aria-label":"","data-testid":"btn-save",children:"Save"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onLoad,"aria-label":"","data-testid":"btn-load",children:"Load"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onImportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-import",children:"Import JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportJson,disabled:!i,"aria-label":"JSON","data-testid":"btn-export",children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportSvg,disabled:!i,"aria-label":"SVG","data-testid":"btn-export-svg",children:"SVG"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:c.onExportPng,disabled:!i,"aria-label":"PNG","data-testid":"btn-export-png",children:"PNG"})]})]})})}function nm(c){return x.jsxs("div",{className:"mx-auto max-w-6xl p-6","data-testid":"home-view",children:[x.jsxs("div",{className:"flex items-end justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:"Projects"}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:"localStorageSave"})]}),x.jsx("button",{className:"rounded-2xl bg-neutral-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-neutral-800",onClick:c.onNew,"data-testid":"btn-new-project",children:"New Project"})]}),x.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3","data-testid":"project-list",children:[c.saved.length===0&&x.jsx("div",{className:"rounded-2xl border bg-white p-6 text-sm text-neutral-600 shadow-sm","data-testid":"empty-projects",children:"New Project"}),c.saved.map(r=>x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm","data-testid":`project-card-${r.id}`,children:[x.jsx("div",{className:"text-lg font-semibold",children:r.title}),x.jsxs("div",{className:"mt-1 text-xs text-neutral-500",children:["Updated: ",r.updatedAt]}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx("button",{className:"flex-1 rounded-xl bg-neutral-900 px-3 py-2 text-sm font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onOpen(r.project),"data-testid":"btn-open-project",children:"Open"}),x.jsx("button",{className:"rounded-xl border bg-white px-3 py-2 text-sm hover:bg-neutral-50",onClick:()=>c.onDelete(r.id),"data-testid":"btn-delete-project",children:"Delete"})]})]},r.id))]}),x.jsx("div",{className:"mt-8 text-center text-xs text-neutral-400",children:": Chrome / Edge / Safari / Firefox"})]})}function wx({children:c}){return x.jsx("div",{className:"grid grid-cols-1 gap-1",children:c})}function lm(c){const[r,a]=te.useState("");return x.jsx("div",{className:"mx-auto max-w-md p-6","data-testid":"new-project-view",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-back",children:"Back"})]}),x.jsxs("div",{className:"mt-6 space-y-3",children:[x.jsxs(wx,{children:[x.jsx("span",{children:""}),x.jsx("input",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:r,onChange:i=>a(i.target.value),"data-testid":"input-title"})]}),x.jsx("button",{className:"w-full rounded-lg bg-neutral-900 px-4 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>c.onCreate(r),"data-testid":"btn-create",children:""})]})]})})}(function(c,r){const a=rn,i=c();for(;;)try{if(parseInt(a(334))/1+-parseInt(a(307))/2*(parseInt(a(339))/3)+-parseInt(a(332))/4*(parseInt(a(306))/5)+-parseInt(a(295))/6+-parseInt(a(302))/7*(parseInt(a(308))/8)+-parseInt(a(309))/9+parseInt(a(323))/10*(parseInt(a(318))/11)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(I0,803694);const am=(function(){const c=rn,r={kpWNJ:c(317)};let a=!0;return function(i,s){const f=a?function(){const g=rn;if(s)if(r[g(320)]==="JbDFp"){const p=_0x255a56.flowers.find(h=>h.id===_0xd2a548[g(303)]);if(!p)return;const d=p[g(279)][g(321)](h=>h.id===_0x2dcc03[g(310)]);d&&(d.widthScale=_0x3d4c8d)}else{const p=s.apply(i,arguments);return s=null,p}}:function(){};return a=!1,f}})(),Cx=am(void 0,function(){const c=rn,r={Bvrhf:c(285)};return Cx[c(324)]()[c(276)](r[c(322)]).toString().constructor(Cx).search("(((.+)+)+)+$")});function I0(){const c=["yNrTBgu","y29Z","CK9oBhK","uMvvDxC","ntK5ndK3mNj3CLfwyq","y3vYCMvUDa","AxDiv2i","Cgv0ywXjBMrLEa","C3rHCNrxAwr0AfnJywXL","qxHnt0y","tvbAswq","mteXmZKWntHNz01Ruwy","zMXVD2vYswq","ywjZ","DxjSkci","mZvrBu9Qr1O","nde1mNLSCNDbBq","ofLuBNryDW","mta5nJe4mJbLvLHXz2i","Bgf5zxjjza","CMfKAxvZ","vw1OyM8","C3rHCNrsB3rHDgLVBG","Bw9Kzq","uMHuAve","C3rHCNrty2fSzxm","wfftBgu","ota2nZnjANLbrfq","sKDAAg4","A3bxtKO","zMLUza","qNzYAgy","nJaXmfzpv1DwEa","Dg9tDhjPBMC","C3r5Bgu","uMfRExu","qxDWrLq","uxruCgS","yxrHBJi","CM90yxrPB24","t0zAvg8","mtaWmJq4vvLruwTU","uxrsDxG","mJm0mtG5Dffwt3zW","y3vYC29Y","AfPTBKC","AufpsNa","BwfW","ntC5tvbZA3rn","uLvQDNq","l3rZDw1HBwKV","wg1ouvy","Cg9ZAxrPB24","C2v0ug9PBNrLCKnHChr1CMu","DwXnA1K","B2fxEfu","Bwf4","AhLWB3q","C2nHBgu","Cg9PBNrLCKLK","DNvHse0","uK5Pwei","C2vHCMnO","ChjLDMvUDerLzMf1Bhq","rvzvuvK","Bgf5zxjZ","D0XwyMu","C2LU","y3vYCMvUDfrHCMDLDa","EwPoswS","vxnPt28","kcGOlISPkYKRksSK","CMfKAxvZx2n1CNnVCL8ZmI5WBMC/DJ0XnIiPide2ide2lcbUD3nLlxjLC2L6zq","wuHLBMC","s0fRCNK","B2zMC2v0qw5NBgu","zMXVD2vYCW"];return I0=function(){return c},I0()}Cx();function rn(c,r){c=c-267;const a=I0();let i=a[c];if(rn.DnugBu===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};rn.gNpKKS=s,rn.NuEYZT={},rn.DnugBu=!0}const f=a[0],g=c+f,p=rn.NuEYZT[g];if(p)i=p;else{const d=function(h){this.BvGTCC=h,this.QhauuL=[1,0,0],this.dpsVVD=function(){return"newState"},this.wOJKNR="\\w+ *\\(\\) *{\\w+ *",this.uYPNuY=`['|"].+['|"];? *}`};d.prototype.mEndtw=function(){const h=new RegExp(this.wOJKNR+this.uYPNuY),_=h.test(this.dpsVVD.toString())?--this.QhauuL[1]:--this.QhauuL[0];return this.qlXEcZ(_)},d.prototype.qlXEcZ=function(h){return~h?this.HPVQbX(this.BvGTCC):h},d.prototype.HPVQbX=function(h){for(let _=0,S=this.QhauuL.length;_<S;_++)this.QhauuL.push(Math.round(Math.random())),S=this.QhauuL.length;return h(this.QhauuL[0])},new d(rn).mEndtw(),i=rn.gNpKKS(i),rn.NuEYZT[g]=i}return i}function im(c){const r=rn,a={AwpFT:r(341),MPZId:function(k,K){return k===K},tblKE:function(k,K){return k(K)},JGZhn:function(k,K,P,W){return k(K,P,W)},Umhbo:function(k,K){return k===K},EOEhG:"flower",EVUQY:"NCbbu",tmmEL:function(k,K){return k*K},hZmnG:function(k,K){return k(K)},WixYF:function(k,K){return k-K},OSyIn:function(k,K,P,W){return k(K,P,W)},QtTpk:function(k,K,P){return k(K,P)},AxMOF:function(k,K){return k!==K},XmNQV:"ZWmFm",OFZTo:function(k,K){return k*K},NWUhz:function(k,K){return k-K},ReUuw:function(k,K){return k-K},dAYRC:function(k,K){return k-K},xZvPe:function(k,K){return k/K},QzrwT:function(k,K){return k-K},BMdrk:function(k,K){return k>K},VmPSk:function(k,K){return k<K},QtRux:"UcePr",QRgRk:function(k,K){return k(K)},iwHWb:function(k,K){return k*K},mWwCg:function(k,K){return k+K},gCwCM:function(k,K){return k+K},RUjvt:function(k,K){return k*K},btmle:function(k,K){return k/K},MrLWX:function(k,K){return k-K},wLVbe:function(k,K){return k*K},Rakyu:function(k,K){return k-K},HVzTq:function(k,K){return k+K},yjNIk:function(k,K){return k/K},YHeng:function(k,K){return k-K},RhTiQ:function(k,K){return k(K)},RNiXB:function(k,K){return k-K},uNXzp:function(k,K){return k+K},ZRXDr:function(k,K){return k(K)},iAOJp:function(k,K){return k(K)}},{project:i,applyUpdate:s,stageRef:f,clientToSvgPoint:g}=c,p=te.useRef(null),d=(k,K,P,W)=>{const F=r;P.preventDefault(),P.currentTarget?.[F(267)]?.(P[F(273)]),f.current&&(f.current[F(325)].cursor='url("'+a[F(327)]+'scale_cursor_32.png?v=16") 16 16, ns-resize');const Y=i[F(290)].find(N=>N.id===K);if(!Y)return;const X=a.MPZId(k,"layer")&&W?.layerId?Y[F(279)].filter(N=>N.id===W[F(310)]).map(N=>({layerId:N.id,scale:N[F(272)]??1,radius:N[F(311)]??10})):Y[F(279)][F(338)](N=>({layerId:N.id,scale:N.scale??1,radius:N[F(311)]??10})),M=a.tblKE(g,P),m=Y.position.x,z=Y.position.y,L=Math.hypot(M.x-m,M.y-z);p.current={mode:k,flowerId:K,layerId:W?.layerId,startScales:X,startDiam:Y.flowerDiameter||60,startDist:L}},h=k=>{const K=r,P=p[K(296)];if(!P)return;const W=i.flowers.find(m=>m.id===P[K(303)]);if(!W)return;const F=a[K(336)](g,k),Y=Math[K(271)](a.WixYF(F.x,W.position.x),F.y-W.position.y),X=Math.max(1,P.startDist??1),M=a.OSyIn(pe,Y/X,.3,3);a.QtTpk(s,m=>{const z=K,L={BthUl:function(H,A){return H===A}},N=m.flowers[z(321)](H=>H.id===P.flowerId);if(N){for(const H of P[z(316)]){const A=N.layers.find(C=>C.id===H.layerId);A&&(A[z(272)]=a.JGZhn(pe,H.scale*M,.3,3),a[z(312)](P.mode,a.EOEhG)&&(A.radius=a.JGZhn(pe,H.radius*M,2,120)))}if(a.MPZId(P[z(314)],"flower"))if(a[z(301)](a[z(278)],"xyiyw")){const H=_0x4c0a79[z(290)][z(321)](A=>A.id===_0x29cde0.flowerId);if(!H)return;if(L.BthUl(_0x15e34b.mode,"layer")&&_0x178f8c[z(310)]){const A=H.layers.find(C=>C.id===_0x5316ee[z(310)]);A&&(A.offsetAngle=_0x42ea0e)}else H[z(330)]=_0x433083}else N.flowerDiameter=a[z(319)](pe,a.tmmEL(P.startDiam,M),10,200)}},!1)},_=()=>{const k=r;if(a[k(300)](a[k(342)],"ZWmFm"))_0x64c8a.current[k(325)][k(335)]=k(305)+a[k(327)]+'radius_cursor_32.png?v=16") 16 16, nwse-resize';else{if(!p.current)return;s(()=>{},!0),f.current&&(f.current.style.cursor=""),p.current=null}},S=a.ZRXDr(te.useRef,null),y=(k,K,P,W)=>{const F=r;P[F(277)](),P[F(282)]?.setPointerCapture?.(P.pointerId),f.current&&(f[F(296)][F(325)].cursor=F(305)+a[F(327)]+'rotate_cursor_active_32.png") 16 16, grabbing');const Y=i[F(290)].find(z=>z.id===K);if(!Y)return;const X=g(P),M=a[F(331)](Math[F(329)](a.NWUhz(X.y,Y[F(343)].y),X.x-Y.position.x),180/Math.PI),m=a[F(301)](k,"layer")&&W?.[F(310)]?Y[F(279)].find(z=>z.id===W.layerId)?.offsetAngle??0:Y[F(330)]??0;S.current={mode:k,flowerId:K,layerId:W?.[F(310)],startAngle:M,startRotation:m}},w=k=>{const K=r,P=S.current;if(!P)return;const W=i[K(290)][K(321)](m=>m.id===P[K(303)]);if(!W)return;const F=a[K(336)](g,k),Y=Math[K(329)](a[K(294)](F.y,W.position.y),a.dAYRC(F.x,W[K(343)].x))*a.xZvPe(180,Math.PI);let X=a.QzrwT(Y,P.startAngle);for(;a.BMdrk(X,180);)X-=360;for(;a.VmPSk(X,-180);)X+=360;const M=P[K(313)]+X;s(m=>{const z=K,L=m.flowers[z(321)](N=>N.id===P[z(303)]);if(L)if(a.Umhbo(P[z(314)],"layer")&&P.layerId){const N=L[z(279)].find(H=>H.id===P.layerId);N&&(N[z(289)]=M)}else L[z(330)]=M},!1)},D=()=>{const k=r;S.current&&(a[k(328)](s,()=>{},!0),f[k(296)]&&(f[k(296)].style[k(335)]=""),S[k(296)]=null)},v=a[r(337)](te.useRef,null),b=(k,K,P,W)=>{const F=r;if(a.Umhbo(a[F(333)],"UcePr")){P[F(277)](),P[F(282)]?.setPointerCapture?.(P[F(273)]),f.current&&(f.current[F(325)].cursor=F(305)+a.AwpFT+'width_cursor_32.png?v=16") 16 16, ew-resize');const Y=i.flowers.find(V=>V.id===K);if(!Y)return;const X=W?.[F(310)]?Y.layers[F(321)](V=>V.id===W[F(310)]):null;if(!X)return;const M=a.QRgRk(g,P),m=Y[F(343)].x,z=Y[F(343)].y,L=W?.[F(298)]??0,N=360/Math[F(270)](1,X.petalCount),H=a[F(297)](a.mWwCg(a.gCwCM(X.offsetAngle,a[F(340)](L,N)),Y[F(330)]),a[F(291)](Math.PI,180)),A=M.x-m,C=a.MrLWX(M.y,z),T=-Math[F(281)](H),G=Math[F(292)](H),U=Math[F(304)](a.mWwCg(A*T,a[F(280)](C,G)));v.current={mode:k,flowerId:K,layerId:W?.layerId,petalAngle:H,startDist:Math[F(270)](1,U),startWidthScale:X.widthScale??1}}else _0x4fc077.current.style[F(335)]=F(305)+'/tsumami/width_cursor_32.png?v=16") 16 16, ew-resize'},B=k=>{const K=r,P={oxKRf:function(A,C){return a.QRgRk(A,C)},vuaHM:function(A,C){return a.ReUuw(A,C)},KAkry:function(A,C){return a[rn(300)](A,C)},eGPra:"Iresl"},W=v.current;if(!W)return;const F=i[K(290)].find(A=>A.id===W[K(303)]);if(!F)return;const Y=g(k),X=a.Rakyu(Y.x,F.position.x),M=Y.y-F[K(343)].y,m=-Math.sin(W.petalAngle),z=Math[K(292)](W.petalAngle),L=Math[K(304)](a.HVzTq(a[K(297)](X,m),a[K(297)](M,z))),N=pe(a[K(283)](L,W.startDist),.3,3),H=a[K(319)](pe,a.iwHWb(W[K(299)],N),.3,3);s(A=>{const C=K;if(P[C(288)](P.eGPra,C(284))){const T=A[C(290)].find(U=>U.id===W[C(303)]);if(!T)return;const G=T[C(279)][C(321)](U=>U.id===W.layerId);G&&(G.widthScale=H)}else{const T=_0x1c4ab6.current;if(!T)return;const G=_0x443a25[C(290)][C(321)](Me=>Me.id===T[C(303)]);if(!G)return;const U=VKHCXJ.FRKiT(_0x528a4c,_0x5f2032),V=VKHCXJ.mGGNf(U.x,G.position.x),ee=U.y-G[C(343)].y,re=-_0x461a12[C(281)](T.petalAngle),oe=_0x24e19f.cos(T.petalAngle),de=_0x41dd4b[C(304)](VKHCXJ[C(268)](V,re)+ee*oe),be=VKHCXJ.WfRvc(_0x56886d,VKHCXJ[C(269)](de,T.startDist),.3,3),he=_0x40acd6(VKHCXJ[C(268)](T[C(299)],be),.3,3);VKHCXJ[C(293)](_0x387f9c,Me=>{const Re=C,Ze=Me[Re(290)].find(ht=>ht.id===T[Re(303)]);if(!Ze)return;const lt=Ze.layers.find(ht=>ht.id===T.layerId);lt&&(lt.widthScale=he)},!1)}},!1)},R=()=>{const k=r;v.current&&(a[k(328)](s,()=>{},!0),f[k(296)]&&(f.current.style.cursor=""),v.current=null)},q=te.useRef(null);return{scaleDragRef:p,beginScaleDrag:d,updateScaleDrag:h,endScaleDrag:_,rotationDragRef:S,beginRotationDrag:y,updateRotationDrag:w,endRotationDrag:D,widthScaleDragRef:v,beginWidthScaleDrag:b,updateWidthScaleDrag:B,endWidthScaleDrag:R,radiusDragRef:q,beginRadiusDrag:(k,K,P,W)=>{const F=r;P.preventDefault(),P[F(282)]?.setPointerCapture?.(P.pointerId),f.current&&(f.current.style.cursor='url("'+a.AwpFT+F(286));const Y=i.flowers.find(z=>z.id===K);if(!Y)return;const X=W?.[F(310)]?Y.layers[F(321)](z=>z.id===W[F(310)]):null;if(!X)return;const M=g(P),m=Math.hypot(a.Rakyu(M.x,Y[F(343)].x),a[F(287)](M.y,Y[F(343)].y));q[F(296)]={mode:k,flowerId:K,layerId:W?.[F(310)],startDist:Math.max(1,m),startRadius:X.radius??28}},updateRadiusDrag:k=>{const K=r,P=q.current;if(!P)return;const W=i.flowers[K(321)](m=>m.id===P.flowerId);if(!W)return;const F=a[K(315)](g,k),Y=Math.hypot(F.x-W[K(343)].x,a[K(275)](F.y,W[K(343)].y)),X=a[K(326)](Y,P.startDist),M=pe(a.uNXzp(P.startRadius,X),5,100);a.QtTpk(s,m=>{const z=K,L=m[z(290)].find(H=>H.id===P[z(303)]);if(!L)return;const N=L[z(279)].find(H=>H.id===P.layerId);N&&(N[z(311)]=M)},!1)},endRadiusDrag:()=>{const k=r;q.current&&(a.QtTpk(s,()=>{},!0),f[k(296)]&&(f.current.style[k(335)]=""),q[k(296)]=null)}}}(function(c,r){const a=At,i=c();for(;;)try{if(parseInt(a(236))/1*(-parseInt(a(311))/2)+parseInt(a(269))/3+-parseInt(a(317))/4+parseInt(a(257))/5+parseInt(a(295))/6*(-parseInt(a(278))/7)+-parseInt(a(318))/8+parseInt(a(265))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(G0,923976);const rm=(function(){const c=At,r={ilPGm:c(290)};let a=!0;return function(i,s){const f=c;if(r[f(315)]!==f(290))_0x2d807a="width";else{const g=a?function(){const p=f;if(s){const d=s[p(267)](i,arguments);return s=null,d}}:function(){};return a=!1,g}}})(),jx=rm(void 0,function(){const c=At;return jx[c(314)]().search(c(256))[c(314)]()[c(283)](jx)[c(293)](c(256))});function At(c,r){c=c-233;const a=G0();let i=a[c];if(At.jyhCMG===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};At.oeASOb=s,At.sHFikv={},At.jyhCMG=!0}const f=a[0],g=c+f,p=At.sHFikv[g];if(p)i=p;else{const d=function(h){this.qayxcA=h,this.BKPAps=[1,0,0],this.XjCGgq=function(){return"newState"},this.PuglVe="\\w+ *\\(\\) *{\\w+ *",this.eHexYj=`['|"].+['|"];? *}`};d.prototype.IyFBbC=function(){const h=new RegExp(this.PuglVe+this.eHexYj),_=h.test(this.XjCGgq.toString())?--this.BKPAps[1]:--this.BKPAps[0];return this.GCfpcw(_)},d.prototype.GCfpcw=function(h){return~h?this.iRHqGS(this.qayxcA):h},d.prototype.iRHqGS=function(h){for(let _=0,S=this.BKPAps.length;_<S;_++)this.BKPAps.push(Math.round(Math.random())),S=this.BKPAps.length;return h(this.BKPAps[0])},new d(At).IyFBbC(),i=At.oeASOb(i),At.sHFikv[g]=i}return i}jx();function ui(c,r,a,i,s){const f=At,g={dQati:f(233),huGXV:f(301),qwCHn:function(I,Z){return I(Z)},EYjns:function(I,Z){return I-Z},JgcSG:function(I,Z){return I*Z},WfrUo:function(I,Z){return I<=Z},kpAFS:function(I,Z){return I===Z},znCCY:function(I,Z){return I===Z},cYnPs:f(291),MPYcn:function(I,Z){return I*Z},AFqYT:function(I,Z){return I>Z},vKXAy:function(I,Z){return I*Z},vzyxy:function(I,Z){return I===Z},WHaDG:"layer",BiDbQ:f(244),LuNLM:function(I,Z){return I/Z},BwwWJ:function(I,Z){return I*Z},SCizn:function(I,Z){return I-Z},NCtBi:function(I,Z){return I+Z},xToOn:function(I,Z){return I>Z},zxfgM:f(327),TYUkn:"scale",NLrxj:f(285),WiXsf:function(I,Z){return I-Z}},{length:p}=g.qwCHn(Et,a[f(276)]??i.fabricSquareSize),d=c-a.position.x,h=g[f(255)](r,a.position.y),_=Math.hypot(d,h);let S=1/0;for(const I of a.layers){if(!I[f(253)])continue;const Z=I.scale??1,k=p*Z,K=.28,P=Math[f(266)](0,I[f(233)]-g.JgcSG(k,K));P<S&&(S=P)}g.qwCHn(isFinite,S)||(S=0);const y=Math[f(266)](S*.9,8);if(g[f(316)](_,y))return{zone:f(306)};if(g[f(282)](s[f(237)],f(247))){if(g.znCCY(f(275),g.cYnPs))return f(274)+_0x403df1+'move_object_active_32.png") 16 16, grabbing';{const I=a[f(326)][f(252)](Z=>Z.id===s[f(297)]&&Z.visible);if(I){const Z=I[f(263)]??1,k=g.JgcSG(p,Z),K=.28,P=Math.max(0,I.radius-g.MPYcn(k,K));if(g.AFqYT(P,0)){const F=Math[f(254)](_-P);if(g.WfrUo(F,6))return{zone:"radius",layerId:I.id}}}}}const w=ta(-(a.rotation??0)),D=g.EYjns(g[f(296)](d,Math.cos(w)),g.vKXAy(h,Math.sin(w))),v=d*Math.sin(w)+g.JgcSG(h,Math.cos(w)),b=g.vzyxy(s[f(237)],g.WHaDG)?a[f(326)].filter(I=>I.id===s.layerId&&I.visible):a.layers[f(234)](I=>I[f(253)]);let B=g[f(243)],R,q,O=1/0;for(const I of b){const Z=I.scale??1,k=p*Z,K=I[f(238)]??1,P=g[f(312)](p,2)*K*Z,W=.28,F=Math[f(266)](0,I.radius-k*W),Y=360/Math.max(1,I[f(246)]);for(let X=0;X<I.petalCount;X++){if(f(308)!==f(308))return f(274)+_0xc6681f+'move_stencil_cursor_32.png") 16 16, move';{const M=I.offsetAngle+g.vKXAy(X,Y),m=ta(M),z=Math.cos(m)*F,L=g.BwwWJ(Math.sin(m),F),N=g[f(255)](D,z),H=g.SCizn(v,L),A=Math[f(262)](-m),C=Math[f(242)](-m),T=g[f(296)](N,A)-g[f(296)](H,C),G=g[f(250)](N*C,g[f(241)](H,A)),U=g[f(312)](T,k),V=G/P;if(U<-.05||g.AFqYT(U,1.08)||g[f(299)](Math.abs(V),.75))continue;const ee=Math.hypot(U-.5,V);if(ee>=O)continue;if(O=ee,R=I.id,q=X,g[f(273)](Math.abs(V),.45))B=f(329);else if(g.xToOn(U,.75))if(g[f(298)]==="uAIpf")B="rotate";else return{zone:g[f(303)],layerId:_0x106624.id};else B=g.TYUkn}}}if(g[f(277)](B,"none")){let I=12;for(const K of a.layers)if(g[f(309)]!==g.NLrxj)switch(_0x40891a){case f(306):return"pointer";case g[f(300)]:return f(274)+_0x399b79+'rotate_cursor_32.png") 16 16, crosshair';case"scale":return'url("'+_0xb16518+'scale_cursor_32.png?v=16") 16 16, ns-resize';case f(329):return'url("'+_0x242b16+'width_cursor_32.png?v=16") 16 16, ew-resize';case f(233):return f(274)+_0x3b2a1d+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case f(245):return _0xe0f8d5(_0x2105a3);default:return f(248)}else{if(!K.visible)continue;const P=K[f(263)]??1,W=p*P,F=.28,Y=Math.max(0,g.WiXsf(K[f(233)],W*F));I=Math[f(266)](I,g.NCtBi(Y,W))}if(Math[f(254)](_-I)<=8)return{zone:g[f(271)]}}return{zone:B,layerId:R,petalIndex:q}}function M0(c,r,a){const i=At,s={oHdPL:function(f,g){return f(g)},DAMUE:function(f,g){return f*g},lkZYE:function(f,g){return f-g},HDUgS:function(f,g){return f-g},BbpEC:function(f,g){return f*g},nHsMR:function(f,g){return f+g},EkmXG:function(f,g){return f/g},PKhjl:function(f,g){return f<g},kujFd:function(f,g){return f>g},iDaow:"none",mnBzx:"width",zczuw:function(f,g){return f>g},nmLJv:function(f,g){return f===g},JTwLy:"center",qJVDh:function(f,g){return f!==g},ZtveX:"rKBWp",YJsCR:i(263),CmKue:i(301),CIPHX:function(f,g){return f*g},NAVMq:i(289)};if(s.nmLJv(c,i(306)))return s[i(325)];if(c===i(244))return s[i(304)];switch(r){case i(260):if(s.qJVDh(s[i(319)],s[i(319)])){const f=_0x172009[i(276)]??_0x7acd5c[i(276)],{length:g,width:p}=s[i(279)](_0x3a8781,f),d=_0x144915.scale??1,h=s.DAMUE(g,d),_=p*(_0x4b95cc.widthScale??1)*d,S=s[i(281)](_0x538024,_0x3346da.position.x),y=_0x1ca6b6-_0x2f4c49.position.y,w=s[i(279)](_0x28d6a7,-(_0x560741[i(324)]??0)),D=s.HDUgS(s[i(286)](S,_0x1a391b.cos(w)),s.DAMUE(y,_0xd1d3c4.sin(w))),v=s[i(272)](s[i(322)](S,_0x518134[i(242)](w)),s[i(322)](y,_0x561758[i(262)](w))),b=D/h,B=s.EkmXG(v,_);return s[i(264)](b,-.05)||s[i(240)](b,1.08)?i(244):_0x2a2622.abs(B)>.75?s[i(304)]:s[i(240)](_0x298a10[i(254)](B),.45)?s[i(320)]:s.kujFd(b,.75)?"rotate":s.zczuw(b,.3)?i(263):i(245)}else{if(c===s[i(249)])return s.YJsCR;if(s.nmLJv(c,s[i(330)])&&a?.hitLayerId&&a.flower&&a[i(288)]!=null){let f,g=-1/0;for(const p of a[i(260)][i(326)]){if(!p.visible)continue;const d=p.scale??1,h=s[i(328)](a[i(288)],d),_=.28,S=Math.max(0,p.radius-h*_),y=S+h;y>g&&(g=y,f=p.id)}return a.hitLayerId===f?"rotate":s.YJsCR}return"scale"}case"layer":return c;case s[i(280)]:case"petals":return s.YJsCR;default:return"scale"}}function cm(c,r,a,i){const s=At,f={zmIaT:function(q,O){return q*O},WXiGr:function(q,O){return q-O},YjBBd:function(q,O){return q/O},oXDPq:function(q,O){return q>O},lVofI:"none",yRLmx:function(q,O){return q>O},KNLlo:function(q,O){return q>O},PtXnW:"rotate",soxaN:"scale"},g=a.fabricSquareSize??i[s(276)],{length:p,width:d}=Et(g),h=a.scale??1,_=p*h,S=f[s(323)](f[s(323)](d,a[s(238)]??1),h),y=c-a[s(259)].x,w=f[s(258)](r,a.position.y),D=ta(-(a.rotation??0)),v=f[s(258)](f[s(323)](y,Math[s(262)](D)),w*Math.sin(D)),b=y*Math.sin(D)+w*Math[s(262)](D),B=v/_,R=f[s(332)](b,S);return B<-.05||f[s(302)](B,1.08)?f.lVofI:f[s(331)](Math[s(254)](R),.75)?f[s(261)]:Math[s(254)](R)>.45?"width":f[s(239)](B,.75)?f[s(287)]:B>.3?f[s(251)]:s(245)}function nr(c,r){const a=At,i={XrMKc:a(301),InCqq:a(329),gLIgt:function(s,f){return s(f)},tnWfU:"none",dUNFf:"grab"};switch(c){case i[a(310)]:return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case a(263):return'url("'+r+a(284);case i[a(307)]:return'url("'+r+a(321);case"move":return i.gLIgt(ur,r);case i[a(268)]:default:return i.dUNFf}}function Ud(c,r){const a=At,i={ZLusC:"scale",TAPkv:function(s,f){return s(f)},kkgOM:a(244),ppthh:a(248)};switch(c){case a(306):return a(292);case"rotate":return'url("'+r+'rotate_cursor_32.png") 16 16, crosshair';case i[a(305)]:return a(274)+r+'scale_cursor_32.png?v=16") 16 16, ns-resize';case"width":return'url("'+r+'width_cursor_32.png?v=16") 16 16, ew-resize';case a(233):return'url("'+r+'radius_cursor_32.png?v=16") 16 16, nwse-resize';case a(245):return i[a(235)](ur,r);case i.kkgOM:default:return i.ppthh}}function ur(c){return'url("'+c+'move_object_cursor_32.png") 16 16, move'}function G0(){const c=["Bw5cENG","D2LKDgHFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySigv3lxjLC2L6zq","refnvuu","EM1jyvq","CM90yxrPB24","sLr3thK","Bgf5zxjZ","DufjCgy","q0LqsfG","D2LKDgG","q21lDwu","EvjmBxG","wwPcqMq","CMfKAxvZ","zMLSDgvY","vefqA3y","nJq4ofjPz3nrvq","A2LUza","D2LKDgHty2fSzq","s05mBg8","A3vQrMq","tvbzy24","C2LU","qMLeyLe","BM9Uzq","Bw92zq","Cgv0ywXdB3vUDa","Bgf5zxi","z3jHyG","wuPZq1i","tKn0qMK","C294yu4","zMLUza","DMLZAwjSzq","ywjZ","rvLQBNm","kcGOlISPkYKRksSK","mJi2mdiYnxjVrvfKDq","v1HPr3i","Cg9ZAxrPB24","zMXVD2vY","BfzVzKK","y29Z","C2nHBgu","ueTOAMW","ntmYmdG5mZzbv0LnuwW","Bwf4","yxbWBhK","Dg5xzLu","mtiWnJG4mMHjAxfvCW","Bw92zv9Wyw5Fy3vYC29YxZmYlNbUzYiPide2ide2lcbNCMfI","vfLvA24","BKHZtvi","quzXwvq","DxjSkci","A3n1Egu","zMfICMLJu3f1yxjLu2L6zq","DNP5EhK","mJe3n1r4u3jOEa","B0HKueW","tKfwtxe","BgTAwuu","A3bbrLm","y29UC3rYDwn0B3i","C2nHBgvFy3vYC29YxZmYlNbUzZ92pte2iIKGmtyGmtySig5ZlxjLC2L6zq","ugD0rwW","qMjWrum","uhryBLC","BgvUz3rO","Cgv0ywW","A3DNB1y","Bg16ywe","Cg9PBNrLCG","C2vHCMnO","Bw92zv9VyMPLy3rFywn0AxzLxZmYlNbUzYiPide2ide2lcbNCMfIyMLUzW","mJu3mJjnrMDlEue","sMDJu0C","Bgf5zxjjza","ENHMz00","EfrVt24","Ahvhwfy","CM90yxrL","B1Heuhe","zffHDgK","AurHB3C","wKX1C0m","y2vUDgvY","sw5dCxe","ugrbAwu","tKXYEgO","whjns2m","ntm4uvHzu3nP","thvote0","Bw92zv9ZDgvUy2LSx2fJDgL2zv8ZmI5WBMCIksaXnIaXnIWGz3jHyMjPBMC","Dg9tDhjPBMC","AwXqr20","v2zYvw8","ntu3mtGZmLfoDw1kBq","mta5nJC4ndbJtNjgEgy","wNr2zvG"];return G0=function(){return c},G0()}function On(c){const r=At;return'url("'+c+r(294)}function um(c){return'url("'+c+'move_stencil_cursor_32.png") 16 16, move'}function xm(c){const r=At;return r(274)+c+r(313)}function qn(c,r){c=c-368;const a=R0();let i=a[c];if(qn.VRfuzA===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};qn.tbBrhx=s,qn.tZuFUO={},qn.VRfuzA=!0}const f=a[0],g=c+f,p=qn.tZuFUO[g];if(p)i=p;else{const d=function(h){this.MRfcKk=h,this.SEnmkr=[1,0,0],this.qdOFjE=function(){return"newState"},this.ULpYKo="\\w+ *\\(\\) *{\\w+ *",this.IHlMnI=`['|"].+['|"];? *}`};d.prototype.qanguf=function(){const h=new RegExp(this.ULpYKo+this.IHlMnI),_=h.test(this.qdOFjE.toString())?--this.SEnmkr[1]:--this.SEnmkr[0];return this.EzOuOg(_)},d.prototype.EzOuOg=function(h){return~h?this.MahJAp(this.MRfcKk):h},d.prototype.MahJAp=function(h){for(let _=0,S=this.SEnmkr.length;_<S;_++)this.SEnmkr.push(Math.round(Math.random())),S=this.SEnmkr.length;return h(this.SEnmkr[0])},new d(qn).qanguf(),i=qn.tbBrhx(i),qn.tZuFUO[g]=i}return i}(function(c,r){const a=qn,i=c();for(;;)try{if(-parseInt(a(412))/1*(-parseInt(a(375))/2)+parseInt(a(381))/3+-parseInt(a(439))/4*(-parseInt(a(373))/5)+parseInt(a(369))/6*(-parseInt(a(388))/7)+-parseInt(a(453))/8+-parseInt(a(443))/9*(-parseInt(a(452))/10)+-parseInt(a(414))/11===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(R0,355858);const sm=(function(){let c=!0;return function(r,a){const i=c?function(){const s=qn;if(a)if(s(447)==="VDxlk")_0x9830ee[s(434)](),_0x1e87f3.currentTarget?.[s(398)]?.(_0x2de776[s(396)]),_0x46f5c0.current={start:{x:_0x39f59e[s(428)],y:_0x46d28f.clientY},pan0:{..._0x3376b7}};else{const f=a[s(389)](r,arguments);return a=null,f}}:function(){};return c=!1,i}})(),Mx=sm(void 0,function(){const c=qn,r={UVraG:"(((.+)+)+)+$"};return Mx[c(406)]()[c(404)](r.UVraG).toString()[c(411)](Mx).search(c(444))});Mx();function R0(){const c=["B2rtDgS","zMXVD2vYCW","C3rHCNrtDMC","BgvHDMvZ","y2XPzw50wa","CwjHEhi","A2LUza","r3bbruS","BgvHzG","CejMAxG","ChjLDMvUDerLzMf1Bhq","u1fAtxG","tMv3Ahy","y2XPy2TqzxrHBa","C3rHCNrdBgLLBNq","mti4nhHdq0TqDW","tvnKC0S","y2XPzw50wq","Bgf5zxjjza","mte1mdGZovHRAMDhrW","kcGOlISPkYKRksSK","zNvpsuS","BuzSC3q","qxzZwvy","BgXOBMG","EfLmAKK","D2LKDgHty2fSzurYywDszwy","AM1tsNi","mZblr3fNv2e","mJGWodG0oefxz2nsqG","C01sENm","nJu0C0jivxnb","D096wg0","C3rHCNrAB29T","BgvHzKLKCW","mtaXmZbRtxnmr1a","BxvSDgLtDgfYDfbVC2L0Aw9UCW","mZK4nK9TA0DYua","ug9psuu","rMLJsfq","sLfvAMW","y3vYCMvUDa","C09Vzwq","mta0nZu0BevXDwDZ","BfjHCuW","EeD2De8","yMvNAw5ty2fSzurYywC","AhLWB3q","B3Drt28","Cgv0ywW","mZCYodLOqxnZB0e","yxbWBhK","C3rHCNq","zMXVD2vYswq","zw5KuM90yxrPB25eCMfN","BgvUz3rO","BwLU","qNP0C2C","Cg9PBNrLCKLK","ywjZ","C2v0ug9PBNrLCKnHChr1CMu","tLbNEwS","zw5Ku2nHBgveCMfN","zMXVD2vY","Bw92zwq","sMn4q0C","C2vHCMnO","zMXVD2vYswrZ","Dg9tDhjPBMC","C3rHCNrqB3m","AxntAgLMDfbYzxnZzwq","Cg9ZAxrPB24","C2HPzNrlzxK","y29UC3rYDwn0B3i","mZe5svLqBuzJ","rg93zuG","ndu4nZqWn2vKDLHJCW","ze5Nt2e","C1DzwwK","r1vbvgW","zMLUza","y3vYCMvUDfn2zW","Aw5KzxG","ChjVAMvJDa","BwfW","DeLmqxa"];return R0=function(){return c},R0()}const ii=500*un;function om(c){const r=qn,a={DoweH:function(Y,X){return Y-X},MSdsK:function(Y,X){return Y+X},JcxCG:function(Y,X){return Y(X)},sWYYi:function(Y,X){return Y(X)},sMRzs:function(Y,X){return Y(X)},mFlst:function(Y,X){return Y-X},hDXkJ:function(Y,X){return Y-X},odStk:function(Y,X){return Y<X},aRcfU:r(370),fuOIK:function(Y,X){return Y>=X},PoOIE:function(Y,X){return Y<=X},TWRqS:function(Y,X){return Y+X},jmSJr:function(Y,X){return Y>=X},niUax:function(Y,X){return Y+X},GpAEK:function(Y,X){return Y>X},owQOo:function(Y,X){return Y===X},tbGrQ:"APsdc",ZPpxw:function(Y,X){return Y===X},llhnh:r(401),SQZMx:"flowers",nKYDk:"project",sOoed:function(Y,X,M){return Y(X,M)},GLpcM:function(Y,X){return Y>X},yTFNB:"riNQx",Bztsg:r(427),DWCdZ:function(Y,X,M,m,z){return Y(X,M,m,z)},LHSQo:"petal",okOGU:function(Y,X){return Y===X},lRaqL:function(Y,X){return Y===X},ULIRj:"layer",xGvtO:function(Y,X){return Y===X},jBllL:function(Y,X){return Y!==X},xYLjI:function(Y,X){return Y(X)},jfEqd:function(Y,X){return Y(X)}},{project:i,selection:s,setSelection:f,applyUpdate:g,dragRef:p,zoom:d,pan:h,setPan:_,stageRef:S,clientToSvgPoint:y,togglePetalSelection:w}=c,D=a[r(403)](im,{project:i,applyUpdate:g,stageRef:S,clientToSvgPoint:y}),v=a.jfEqd(te.useRef,null),b=Y=>{const X=r;Y.preventDefault(),Y.currentTarget?.[X(398)]?.(Y.pointerId),v[X(379)]={start:{x:Y.clientX,y:Y[X(441)]},pan0:{...h}}},B=Y=>{const X=r;if(!v.current)return;const M=a[X(413)](Y.clientX,v.current.start.x),m=Y.clientY-v.current[X(390)].y;_({x:v[X(379)].pan0.x+M,y:a[X(440)](v.current.pan0.y,m)})},R=()=>{const Y=r;v[Y(379)]=null},q=te.useRef(null),[O,I]=te.useState(null);return{beginPan:b,updatePan:B,endPan:R,marqueeRef:q,marqueeRect:O,beginMarquee:Y=>{const X=r;Y.preventDefault(),Y.currentTarget?.setPointerCapture?.(Y.pointerId);const M=a.JcxCG(y,Y);q.current={startSvg:M,currentSvg:M},a[X(416)](I,null)},updateMarquee:Y=>{const X=r;if(!q[X(379)])return;const M=a[X(368)](y,Y);q[X(379)][X(419)]=M;const m=q[X(379)][X(426)],z=Math[X(394)](m.x,M.x),L=Math.min(m.y,M.y),N=Math[X(397)](M.x-m.x),H=Math.abs(M.y-m.y);I({x:z,y:L,w:N,h:H})},endMarquee:()=>{const Y=r,X=q.current;if(q.current=null,!X){I(null);return}const M=X.startSvg,m=X[Y(419)],z=Math[Y(385)](a.mFlst(m.x,M.x),a.hDXkJ(m.y,M.y));if(a[Y(424)](z,3)){f({kind:Y(421)}),I(null);return}const L=Math.min(M.x,m.x),N=Math[Y(394)](M.y,m.y),H=Math.abs(a[Y(446)](m.x,M.x)),A=Math.abs(a.hDXkJ(m.y,M.y)),C=[];for(const G of i.flowers)a.aRcfU==="wOzXm"?a.fuOIK(G.position.x,L)&&G.position.x<=a.MSdsK(L,H)&&a.fuOIK(G[Y(409)].y,N)&&a[Y(376)](G[Y(409)].y,a.TWRqS(N,A))&&C.push(G.id):_0x93411c.current=null;const T=[];for(const G of i.leaves??[])a[Y(451)](G.position.x,L)&&G.position.x<=L+H&&a[Y(445)](G.position.y,N)&&G[Y(409)].y<=a.niUax(N,A)&&T.push(G.id);if(a.GpAEK(C[Y(393)],0)&&a[Y(431)](T.length,0))if(a.owQOo("AwXDZ","AwXDZ"))f({kind:"mixed",flowerIds:C,leafIds:T});else{const G=_0x4c7625[Y(425)].find(U=>U.id===_0x328de9);return{id:_0x29c805,x:G?.position.x??0,y:G?.[Y(409)].y??0}}else if(C.length>0)if(a[Y(386)](a.tbGrQ,"APsdc"))a.ZPpxw(C.length,1)?f({kind:a[Y(448)],flowerId:C[0]}):f({kind:a.SQZMx,flowerIds:C});else{_0x22ad57[Y(434)](),_0x58fd84.currentTarget?.setPointerCapture?.(_0xaa974a[Y(396)]);const G=_0x3cff52(_0x3e2506);_0x2479aa.current={startSvg:G,currentSvg:G},_0x4c454c(null)}else T.length>0?T[Y(393)]===1?f({kind:Y(432),leafId:T[0]}):f({kind:Y(427),leafIds:T}):a[Y(416)](f,{kind:a.nKYDk});a.sWYYi(I,null)},beginFlowerDrag:(Y,X,M)=>{const m=r;X.preventDefault(),X.currentTarget?.[m(398)]?.(X.pointerId);const z=i.flowers.find(A=>A.id===Y);if(!z)return;let L=null,N=null;if(s[m(430)]===a[m(435)]&&s[m(405)].includes(Y))L=s.flowerIds[m(422)](A=>{const C=m,T=i[C(425)].find(G=>G.id===A);return{id:A,x:T?.[C(409)].x??0,y:T?.position.y??0}});else{const A=Dh(i,Y);A[m(393)]>1&&(L=A.map(C=>{const T=m,G=i[T(425)][T(418)](U=>U.id===C);return{id:C,x:G?.position.x??0,y:G?.[T(409)].y??0}}))}const H=a[m(380)](nl,i,Y);H&&a.GLpcM(H[m(372)][m(393)],0)&&(N=H.leafIds[m(422)](A=>{const C=m,T=(i.leaves??[]).find(G=>G.id===A);return{id:A,x:T?.[C(409)].x??0,y:T?.position.y??0}})),p.current={flowerId:Y,startClient:{x:X.clientX,y:X[m(441)]},startPos:{...z[m(409)]},moved:!1,clickPetal:M??null,isShiftPressed:X[m(410)]||!1,multiStartPositions:L,leafStartPositions:N,startZoom:d}},updateFlowerDrag:Y=>{const X=r,M={nRZsk:function(m,z){return m(z)},pBfix:a[X(448)],GUATl:function(m,z,L,N){return m(z,L,N)},FicHT:function(m,z){return a.TWRqS(m,z)},JQUjl:"MqeeE",NPgyk:function(m,z){return m+z}};if(a.yTFNB!==a.yTFNB)bGoCVw.nRZsk(_0x562ec8,{kind:bGoCVw[X(433)],flowerId:_0x42881c[0]});else{const m=p[X(379)];if(!m)return;const z=(Y[X(428)]-m[X(438)].x)/m[X(371)],L=a[X(446)](Y[X(441)],m.startClient.y)/m.startZoom,N=Y.clientX-m[X(438)].x,H=Y[X(441)]-m.startClient.y;Math.abs(N)+Math.abs(H)>4&&(m.moved=!0),a.sOoed(g,A=>{const C=X,T={Newhv:function(G,U,V,ee,re){return G(U,V,ee,re)}};if(C(423)===C(423)){if(m[C(374)])for(const G of m.multiStartPositions){const U=A[C(425)][C(418)](V=>V.id===G.id);U&&(U.position.x=M.GUATl(pe,G.x+z,0,ii),U[C(409)].y=pe(M[C(377)](G.y,L),0,ii))}else if(M[C(378)]!=="ZsaUs"){const G=A[C(425)].find(U=>U.id===m[C(391)]);if(!G)return;G.position.x=M.GUATl(pe,M[C(399)](m[C(407)].x,z),0,ii),G.position.y=M[C(417)](pe,m[C(407)].y+L,0,ii)}else T[C(436)](_0x4ed726,_0x22ef25[C(391)],_0x2af440.clickPetal.layerId,_0x4e2665[C(437)][C(420)],!0);if(m.leafStartPositions)for(const G of m.leafStartPositions){const U=(A[C(427)]??[])[C(418)](V=>V.id===G.id);U&&(U.position.x=M[C(417)](pe,G.x+z,0,ii),U[C(409)].y=pe(M[C(377)](G.y,L),0,ii))}}else _0x20b29f.push(_0x26c9ce.id)},!1)}},endFlowerDrag:()=>{const Y=r,X=p.current;X&&(!X[Y(402)]&&X[Y(437)]?X[Y(408)]?a.DWCdZ(w,X[Y(391)],X[Y(437)].layerId,X[Y(437)][Y(420)],!0):Y(415)!==Y(429)?f({kind:a.LHSQo,flowerId:X.flowerId,layerId:X[Y(437)][Y(442)],index:X.clickPetal[Y(420)]}):_0x4f3033({kind:a[Y(395)],leafIds:_0x1d4ec9}):X.moved&&((a.ZPpxw(s.kind,"project")||a.okOGU(s[Y(430)],a.llhnh)&&s[Y(391)]!==X[Y(391)]||a[Y(382)](s[Y(430)],a.ULIRj)&&s[Y(391)]!==X[Y(391)]||a[Y(383)](s.kind,Y(387))&&a.jBllL(s[Y(391)],X[Y(391)]))&&a[Y(449)](f,{kind:"flower",flowerId:X[Y(391)]}),g(()=>{},!0)),p[Y(379)]=null)},scaleDragRef:D.scaleDragRef,beginScaleDrag:D[r(384)],updateScaleDrag:D.updateScaleDrag,endScaleDrag:D[r(400)],rotationDragRef:D.rotationDragRef,beginRotationDrag:D.beginRotationDrag,updateRotationDrag:D.updateRotationDrag,endRotationDrag:D[r(392)],widthScaleDragRef:D[r(450)],beginWidthScaleDrag:D.beginWidthScaleDrag,updateWidthScaleDrag:D.updateWidthScaleDrag,endWidthScaleDrag:D.endWidthScaleDrag,radiusDragRef:D.radiusDragRef,beginRadiusDrag:D.beginRadiusDrag,updateRadiusDrag:D.updateRadiusDrag,endRadiusDrag:D.endRadiusDrag}}function fm({className:c}){return x.jsxs("svg",{className:c,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M8 6V4h8v2"}),x.jsx("path",{d:"M6 6l1 16h10l1-16"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"})]})}function ri(c){const r=!!c.selected,a=!!c.muted,i=4+(c.level||0)*12+(c.leftOffset||0),s=Math.max(0,i),f=r?"bg-neutral-50 border-neutral-200 text-neutral-900":a?"bg-white border-transparent text-neutral-400 hover:bg-neutral-50":"bg-white border-transparent text-neutral-800 hover:bg-neutral-50",g="h-7 w-7";return x.jsxs("div",{className:"flex items-center gap-0",style:{paddingLeft:s},onDoubleClick:p=>{c.onDoubleClick&&(p.stopPropagation(),c.onDoubleClick())},children:[x.jsxs("button",{type:"button",className:`flex min-w-0 flex-1 items-center justify-start gap-0 rounded-lg border px-1 py-0.5 text-left text-sm ${f}`,onClick:c.onClick,style:{textAlign:"left"},children:[c.marker?x.jsx("span",{className:"text-xs leading-none shrink-0",style:{marginRight:4},"aria-hidden":!0,children:c.marker}):x.jsx("span",{className:"shrink-0",style:{width:10,marginRight:4},"aria-hidden":!0}),x.jsx("span",{className:"truncate text-left whitespace-nowrap",children:c.label})]}),x.jsxs("div",{className:"flex items-center gap-0 shrink-0",children:[c.rightActions&&x.jsx("div",{className:"flex items-center gap-0.5 ml-1",children:c.rightActions}),c.showTrash?x.jsx("button",{type:"button",className:`${g} shrink-0 rounded-lg border border-transparent p-1.5 text-neutral-500 hover:bg-neutral-50 hover:text-neutral-900`,onClick:p=>{p.stopPropagation(),c.onTrash?.()},title:"Delete","aria-label":"Delete",children:x.jsx(fm,{className:"h-4 w-4"})}):x.jsx("div",{className:`${g} shrink-0`,"aria-hidden":!0})]})]})}const ll=12;function Kd({className:c}){return x.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[x.jsx("path",{d:"M6 1C3.5 1 1.5 3.5 2 6.5c.3 1.8 1.5 3 3 3.8.3.1.5.2.8.2.2 0 .5-.2.7-.3 1.5-.8 2.8-2 3.1-3.7C10 3.5 8.5 1 6 1z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.5"}),x.jsx("path",{d:"M6 2.5v6",stroke:"#2d5a3a",strokeWidth:"0.5",fill:"none",opacity:"0.6"})]})}function dm({className:c}){return x.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[x.jsx("ellipse",{cx:"6",cy:"5",rx:"3",ry:"4.5",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.5"}),x.jsx("circle",{cx:"6",cy:"5",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function hm({className:c}){return x.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[[0,72,144,216,288].map(r=>x.jsx("ellipse",{cx:"6",cy:"3.2",rx:"1.6",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.3",transform:`rotate(${r} 6 6)`},r)),x.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.4"})]})}function mm({className:c}){return x.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[x.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>x.jsx("ellipse",{cx:"3.5",cy:"2.5",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 3.5 3.5)`},`l-${r}`)),x.jsx("circle",{cx:"3.5",cy:"3.5",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),x.jsxs("g",{opacity:"0.6",children:[[0,72,144,216,288].map(r=>x.jsx("ellipse",{cx:"8.5",cy:"3",rx:"0.9",ry:"1.6",fill:"#fca5c3",stroke:"#d97799",strokeWidth:"0.2",transform:`rotate(${r} 8.5 4)`},`r-${r}`)),x.jsx("circle",{cx:"8.5",cy:"4",r:"0.9",fill:"#fcd34d",stroke:"#d97706",strokeWidth:"0.3"})]}),[0,72,144,216,288].map(r=>x.jsx("ellipse",{cx:"6",cy:"5.5",rx:"1.2",ry:"2.2",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 6 7)`},`f-${r}`)),x.jsx("circle",{cx:"6",cy:"7",r:"1.2",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function bm({className:c}){return x.jsxs("svg",{width:ll,height:ll,viewBox:"0 0 12 12",className:c,"aria-hidden":!0,children:[x.jsx("path",{d:"M3.5 3C1.8 3 0.5 5 0.8 7.5c.2 1.4 1.1 2.4 2.2 3 .3.1.6.1.8 0 .2-.1.4-.3.5-.5.8-1.5 1-4.5-.8-7z",fill:"#4a7c59",stroke:"#333",strokeWidth:"0.4"}),x.jsx("path",{d:"M3.5 4v4.5",stroke:"#2d5a3a",strokeWidth:"0.4",fill:"none",opacity:"0.5"}),[0,72,144,216,288].map(r=>x.jsx("ellipse",{cx:"8",cy:"1.8",rx:"1.5",ry:"2.8",fill:"#f9a8d4",stroke:"#d97799",strokeWidth:"0.25",transform:`rotate(${r} 8 4)`},r)),x.jsx("circle",{cx:"8",cy:"4",r:"1.4",fill:"#fbbf24",stroke:"#d97706",strokeWidth:"0.3"})]})}function gm(c){const{project:r,selection:a,setSelection:i,isExpanded:s,toggleExpanded:f,scheduleFlowerRowClick:g,handleFlowerRowDoubleClick:p,addFlower:d,deleteSelected:h,addOuterLayer:_,deleteOuterLayer:S,deleteFlowerById:y,deleteLayerById:w,treeScrollRef:D,setExpandedFlowers:v}=c,b=k=>{const K=k.flowerIds.length>0,P=k.leafIds.length>0;return K&&P?x.jsx(bm,{}):K?x.jsx(mm,{}):""},B=(k,K)=>{const P=a.kind==="flower"&&a.flowerId===k.id,W=(a.kind==="flowers"||a.kind==="mixed")&&a.flowerIds.includes(k.id),F=P||W,Y=x.jsx(hm,{}),X=s(k.id),M=k.layers&&k.layers.length>0,m=x.jsxs("div",{className:"flex items-center gap-0.5",children:[x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),_(k.id)},"aria-label":"Add outer layer",children:"+"}),M&&x.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded border border-neutral-200 bg-white text-xs leading-none text-neutral-700 hover:bg-neutral-50 hover:text-neutral-900",title:"",onClick:z=>{z.stopPropagation(),S(k.id)},"aria-label":"Delete outer layer",children:""})]});return x.jsxs("div",{"data-flower-id":k.id,"data-testid":`tree-flower-${k.id}`,style:{paddingLeft:K},children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${X?"text-neutral-900":"text-neutral-500"} hover:bg-neutral-50`,title:X?"Collapse layers":"Expand layers",onClick:z=>{z.stopPropagation(),f(k.id)},"aria-label":X?"collapse":"expand","data-tree-toggle":!0,children:X?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:k.name,marker:Y,selected:F,showTrash:P,onTrash:()=>y(k.id),rightActions:m,onClick:()=>g(k.id),onDoubleClick:()=>p(k.id),level:0,leftOffset:-18})})]}),X&&k.layers.slice().sort((z,L)=>L.order-z.order).map(z=>{const L=(a.kind==="layer"||a.kind==="petal")&&a.layerId===z.id;return x.jsx(ri,{label:`${z.order}. ${z.name}`,marker:x.jsx(dm,{}),selected:L,showTrash:L,onTrash:()=>w(k.id,z.id),onClick:()=>{i({kind:"layer",flowerId:k.id,layerId:z.id}),v(N=>({...N,[k.id]:!0}))},level:0,leftOffset:10,muted:!z.visible},z.id)})]},k.id)},R=c.groups,q=new Set(R.flatMap(k=>k.flowerIds)),O=r.flowers.filter(k=>!q.has(k.id)),I=new Set(R.flatMap(k=>k.leafIds)),Z=c.leaves.filter(k=>!I.has(k.id));return x.jsxs("div",{className:"rounded-2xl border bg-white p-1.5 shadow-sm min-w-0 overflow-x-auto","data-testid":"panel-layers",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex gap-1 flex-wrap",children:[x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${a.kind==="project"?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,disabled:a.kind==="project",onClick:h,title:" (Delete)","aria-label":"","data-testid":"btn-delete",children:x.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}),x.jsx("path",{d:"M10 11v6"}),x.jsx("path",{d:"M14 11v6"}),x.jsx("path",{d:"M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:c.onCopyFlower,title:" (Ctrl/Cmd+C)","aria-label":"","data-testid":"btn-copy",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"8",width:"13",height:"14",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"3",y:"2",width:"13",height:"14",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:`flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 ${c.canPasteFlower?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onPasteFlower,disabled:!c.canPasteFlower,title:" (Ctrl/Cmd+V)","aria-label":"","data-testid":"btn-paste",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinejoin:"round",children:[x.jsx("rect",{x:"3",y:"5",width:"14",height:"17",rx:"1.5",fill:"white"}),x.jsx("rect",{x:"7",y:"1",width:"6",height:"4",rx:"1",fill:"white"}),x.jsx("rect",{x:"11",y:"10",width:"11",height:"12",rx:"1.5",fill:"white"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("forward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 8V3M21 3l-2.5 2.5M21 3l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("backward"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("path",{d:"M21 16v5M21 21l-2.5-2.5M21 21l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("front"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"2",x2:"23",y2:"2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 10V4M21 4l-2.5 2.5M21 4l2.5 2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50",onClick:()=>c.onArrangeFlower("back"),title:"","aria-label":"",children:x.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",strokeLinejoin:"round",children:[x.jsx("rect",{x:"8",y:"5",width:"10",height:"10",rx:"1",stroke:"#bbb",strokeWidth:"1.5"}),x.jsx("rect",{x:"6",y:"9",width:"10",height:"10",rx:"1",stroke:"currentColor",strokeWidth:"1.8",fill:"white"}),x.jsx("line",{x1:"19",y1:"22",x2:"23",y2:"22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),x.jsx("path",{d:"M21 14v6M21 20l-2.5-2.5M21 20l2.5-2.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})]})})]})]}),x.jsxs("div",{className:"mt-1.5",ref:D,"data-testid":"layer-tree",children:[x.jsx(ri,{label:r.title,selected:a.kind==="project",onClick:()=>i({kind:"project"}),level:0}),R.length>0&&x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsx("div",{className:"flex items-center px-0.5",children:x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "})}),x.jsx("div",{className:"mt-0.5 max-h-[160px] overflow-y-auto",children:[...R].reverse().map(k=>{const K=a.kind==="group"&&a.groupId===k.id,P=b(k),W=c.isGroupExpanded(k.id);return x.jsxs("div",{"data-group-id":k.id,children:[x.jsxs("div",{className:"flex items-center gap-0",children:[x.jsx("button",{className:`-ml-1 flex h-5 w-5 items-center justify-center rounded text-[11px] leading-none p-0 ${W?"text-blue-600":"text-blue-400"} hover:bg-blue-50`,title:W?"":"",onClick:F=>{F.stopPropagation(),c.toggleGroupExpanded(k.id)},"aria-label":W?"collapse group":"expand group",children:W?"":""}),x.jsx("div",{className:"flex-1 min-w-0 -ml-1",children:x.jsx(ri,{label:k.name,marker:P,selected:K,onClick:()=>c.onSelectGroup(k.id),level:0,leftOffset:-18})})]}),W&&k.flowerIds.map(F=>{const Y=r.flowers.find(X=>X.id===F);return Y?B(Y,12):null}),W&&k.leafIds.map(F=>{const Y=c.leaves.find(M=>M.id===F);if(!Y)return null;const X=a.kind==="leaf"&&a.leafId===Y.id||a.kind==="leaves"&&a.leafIds.includes(Y.id)||a.kind==="mixed"&&a.leafIds.includes(Y.id);return x.jsx(ri,{label:Y.name,marker:x.jsx(Kd,{}),selected:X,showTrash:X,onTrash:()=>c.onDeleteLeaf(Y.id),onClick:()=>c.onSelectLeaf(Y.id),level:0,leftOffset:12,muted:!Y.visible},Y.id)})]},k.id)})})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:d,title:"","aria-label":"","data-testid":"btn-add-flower",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[280px] overflow-y-auto",children:[[...O].reverse().map(k=>B(k,0)),O.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]}),x.jsxs("div",{className:"mt-1.5 border-t border-neutral-200 pt-1.5",children:[x.jsxs("div",{className:"flex items-center justify-between px-0.5",children:[x.jsx("div",{className:"text-xs font-semibold text-neutral-600",children:" "}),x.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-lg border border-neutral-200 bg-white text-xs hover:bg-neutral-50",onClick:c.onAddLeaf,title:"","aria-label":"","data-testid":"btn-add-leaf",children:"+"})]}),x.jsxs("div",{className:"mt-0.5 max-h-[200px] overflow-y-auto",children:[[...Z].reverse().map(k=>{const K=a.kind==="leaf"&&a.leafId===k.id||a.kind==="leaves"&&a.leafIds.includes(k.id)||a.kind==="mixed"&&a.leafIds.includes(k.id);return x.jsx(ri,{label:k.name,marker:x.jsx(Kd,{}),selected:K,showTrash:K,onTrash:()=>c.onDeleteLeaf(k.id),onClick:()=>c.onSelectLeaf(k.id),level:0,leftOffset:0,muted:!k.visible},k.id)}),c.leaves.length===0&&x.jsx("div",{className:"px-2 py-1 text-[11px] text-neutral-400",children:""})]})]})]}),x.jsxs("div",{className:"mt-3 rounded-lg bg-neutral-50 px-2 py-1.5 text-[11px] text-neutral-500 leading-relaxed",children:[x.jsx("div",{className:"font-semibold text-neutral-700",children:""}),x.jsx("div",{children:"Z:  / Z: "}),x.jsx("div",{children:"S:  / C,V: ,"})]})]})}const se=In;function In(c,r){c=c-449;const a=O0();let i=a[c];if(In.sUFTck===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};In.bUSVhH=s,In.UQwGCq={},In.sUFTck=!0}const f=a[0],g=c+f,p=In.UQwGCq[g];if(p)i=p;else{const d=function(h){this.ClHeAs=h,this.KWiUmK=[1,0,0],this.SMMlKd=function(){return"newState"},this.iAElGS="\\w+ *\\(\\) *{\\w+ *",this.BWoZhO=`['|"].+['|"];? *}`};d.prototype.WcGNId=function(){const h=new RegExp(this.iAElGS+this.BWoZhO),_=h.test(this.SMMlKd.toString())?--this.KWiUmK[1]:--this.KWiUmK[0];return this.eycgpP(_)},d.prototype.eycgpP=function(h){return~h?this.kdnOgY(this.ClHeAs):h},d.prototype.kdnOgY=function(h){for(let _=0,S=this.KWiUmK.length;_<S;_++)this.KWiUmK.push(Math.round(Math.random())),S=this.KWiUmK.length;return h(this.KWiUmK[0])},new d(In).WcGNId(),i=In.bUSVhH(i),In.UQwGCq[g]=i}return i}(function(c,r){const a=In,i=c();for(;;)try{if(-parseInt(a(539))/1*(-parseInt(a(547))/2)+-parseInt(a(456))/3+-parseInt(a(487))/4+-parseInt(a(472))/5+-parseInt(a(532))/6+parseInt(a(564))/7*(parseInt(a(533))/8)+parseInt(a(490))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(O0,127758);const vm=(function(){const c={XdgUn:"lztaA"};let r=!0;return function(a,i){const s=In,f={qxhnK:c[s(531)]},g=r?function(){const p=s;if(i)if(f[p(453)]!==p(565)){const d=i.apply(a,arguments);return i=null,d}else return _0x5a21cb?_0x15a6dc:_0x42d6f1}:function(){};return r=!1,g}})(),zx=vm(void 0,function(){const c=In;return zx.toString().search(c(512)).toString().constructor(zx)[c(479)](c(512))});zx();const n1={adult:{side:{width:231,height:313},back:{width:205,height:313}},child:{side:{width:216,height:243},back:{width:251,height:243}}},l1={adult:se(488),child:""},a1={right:se(557),left:"",back:se(561)},pm=[se(528),se(494),"C 65 12, 72 26, 76 42",se(513),se(477),se(529),se(496),"C 83 101, 78 103, 72 105","C 70 106, 70 108, 73 110","C 75 112, 74 115, 72 118","C 69 121, 65 126, 61 131",se(510),se(522),se(559),"C 15 206, 5 221, -9 239",se(459),se(518),se(449),"C -112 260, -96 242, -82 226",se(521),se(560),se(562),se(491),se(553),"C -88 72, -84 62, -76 56",se(504),"C -56 36, -50 26, -42 18","C -34 10, -22 3, -10 0","C -4 -1, -1 -1, 0 0","Z"][se(483)](" "),ym=["M 0 0",se(452),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98",se(534),"C 84 122, 82 128, 78 134","C 72 142, 60 152, 48 162",se(555),se(463),"C 58 240, 74 258, 92 280",se(450),se(550),"C -34 212, -28 198, -30 188","C -32 180, -38 172, -48 162","C -60 152, -72 142, -78 134",se(526),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62","C -76 44, -68 30, -58 20","C -44 6, -20 0, 0 0","Z","M 0 70","C 16 66, 34 70, 42 82",se(476),se(546),se(474),se(482),se(525),"C -50 104, -48 90, -42 82",se(515),"Z"].join(" "),_m=["M 0 0",se(451),se(469),"C 64 44, 64 50, 63 56","C 62 60, 59 64, 57 68","C 57 71, 59 75, 63 79",se(544),"C 66 86, 62 88, 58 90",se(511),se(467),"C 50 111, 44 116, 38 120",se(509),"C 22 151, 14 167, -2 183",se(552),"L -30 240",se(505),"C -86 218, -72 200, -58 186","C -48 176, -42 168, -38 158",se(464),se(462),"C -68 96, -70 84, -66 74",se(514),se(492),se(554),"Z"].join(" "),Sm=["M 0 0","C 18 1, 40 10, 52 26","C 60 38, 64 52, 64 68",se(551),se(500),"C 54 120, 44 130, 38 140",se(556),"C 60 214, 66 228, 70 240",se(524),se(537),se(480),"C -44 130, -54 120, -60 112","C -64 106, -66 100, -66 94",se(516),"C -64 52, -60 38, -52 26",se(508),"Z","M 46 26","C 54 20, 66 22, 72 32",se(485),"C 66 68, 56 70, 48 66","C 42 62, 40 50, 42 38",se(545),"Z","M -46 26",se(535),"C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66","C -42 62, -40 50, -42 38","C -43 32, -44 28, -46 26","Z"].join(" "),wm=[se(528),"C 15 -2, 38 -5, 55 5",se(478),"C 78 52, 77 60, 74 66",se(477),se(530),se(495),se(548),se(517),se(502),"Z",se(507),"C -48 134, -58 126, -68 118","C -80 108, -88 96, -88 84","C -88 72, -84 62, -76 56","C -70 52, -66 48, -62 44",se(527),"C -46 86, -42 106, -40 126","L -40 142","Z"].join(" "),Cm=["M 0 0",se(452),"C 68 30, 76 44, 80 62","C 82 74, 83 86, 82 98","C 81 104, 84 110, 84 116",se(486),"C 62 142, 42 152, 20 158",se(489),"C -42 152, -62 142, -78 134",se(526),"C -84 110, -81 104, -82 98","C -83 86, -82 74, -80 62",se(457),"C -44 6, -20 0, 0 0","Z",se(563),se(468),se(476),"C 46 126, 40 136, 30 142","C 20 148, 10 150, 0 150","C -10 150, -20 148, -30 142","C -40 136, -46 126, -48 116",se(540),se(515),"Z"].join(" "),jm=[se(528),se(451),"C 55 10, 60 22, 63 36",se(538),"C 44 54, 16 48, -10 46",se(475),se(492),"C -22 6, -10 1, 0 0","Z","M -40 134",se(462),se(471),se(514),se(499),se(454),se(458),"Z"].join(" "),Mm=[se(528),se(543),se(461),se(551),"C 66 100, 64 106, 60 112",se(460),"C 0 127, -12 126, -26 124","C -46 118, -60 112, -60 112",se(455),se(516),"C -64 52, -60 38, -52 26","C -40 10, -18 1, 0 0","Z","M 46 26","C 54 20, 66 22, 72 32","C 78 40, 78 54, 72 62","C 66 68, 56 70, 48 66",se(549),se(545),"Z",se(558),"C -54 20, -66 22, -72 32","C -78 40, -78 54, -72 62","C -66 68, -56 70, -48 66",se(466),se(506),"Z"].join(" ");function O0(){const c=["qYaYmcaWlca0nca2lca1ocaYma","CxHOBKS","qYaTmZGGotqSic0ZnIaXmtiSic0ZocaXmJy","qYaTnJqGmta2lcaTnJyGmtaWlcaTnJyGotq","nJK4mZGYDhjsCuvw","qYaTnZyGndqSic02ocaZmcWGltu4idiW","tcaTndaGmtm0","qYaTmtCGmJq5lcaTmJuGmJu5lcaTmZmGmJy5","qYa0nIaXmtGSidi2ideYncWGmtiGmti2","qYa2mcaZocWGnJqGntiSidy0idy4","qYaTndGGmti2lcaTntyGmte2lcaTnJiGmta2","qYaYocaXotGSidm0idiXmIWGndGGmJi4","qYaTmZuGmtuWlcaTmZyGmtqYlcaTndaGmtm0","l3rZDw1HBwKV","qYaTndiGnJiSic00mca1mcWGltqYidm4","qYa2mca5nYWGntGGmtaXlca1ncaXmdy","qYaXnIa2nIWGmZqGnZaSidqYidGY","qYa1nsaXmcWGnJaGmJiSidyZidm2","C3rLBMnPBhmVy2HPBgrFCMLNAhqUCg5N","qYaTnJGGotySic03mca4ncWGlty2idC0","mti1ntGXmfn1ExvZsa","rfv3BeK","qYaYmcaXndGSideWide1mcWGmcaXnta","qYaTmJGGndySic00mca0ncWGltuWidq0","qYa0oca5mcWGntaGmta0lca0ocaXmty","qYa3mIa2osWGnJKGnZiSidy2idC2","qYa2nsaXmIWGnZiGmJySidC2idqY","C2vHCMnO","qYaTmZiGmty2lcaTmZaGmtuYlcaTmZGGmtqW","C2LKzq","qYaTmtaGmtuWlcaTmJaGmtq4lcaTmZaGmtqY","AM9PBG","A1DKExq","qYa3oca0mcWGnZGGntqSidCYidyY","qYa4ncaXmJiSidGYideYocWGnZGGmtm0","nJm4mtm2zwPQs1fA","5OIq5lQ65AwZ5OcN","qYa4ide2mcWGltGGmtyWlcaTmJaGmtu4","mZeZndCXofHoENP2Eq","qYaTndGGmtm0lcaTntGGmti2lcaTnJGGmte4","qYaTndqGmZqSic0ZocaYmIWGltmWide0","ywr1Bhq","qYaXnsaTmIWGmZGGltuSidu1idu","qYaTmZaGntqSic00oca0ocWGltyYidq0","qYa3oca5mYWGodiGotySidGZidK5","AgvPz2H0","yMfJAW","qYaTndyGntiSic00mIa2ncWGltqWidC4","qYa2nIaXmdaSidy0ideWnIWGnJaGmteY","Dhnis0i","qYaTncaTmsWGlteGlteSidaGma","CMLNAhq","qYaTnZaGntiSic02nIa0ocWGltyYidq0","tcaTmtaWidi0ma","qYaTndmGmZiSic00ncaYocWGltq2idi2","tsaTndaGmtqY","qYaTndaGmtaSic0XocaXlcaWida","qYaZmIaXmJuSidi4ideZmsWGmJyGmtm5","qYa1nIaXmZCSidq5ide0mIWGndmGmtq2","qYa1nYa5msWGntCGotmSidu5idK1","kcGOlISPkYKRksSK","qYa3oca1mIWGnZCGnJaSidC0idy2","qYaTnJiGnJqSic01nIa1ncWGltuWidq0","qYaTmZqGnZaSic0XnIa2nIWGmca3ma","qYaTnJyGodySic02nca3ocWGlty0idy4","qYaTmZqGmtaSic0YmIaZlcaTmtaGma","tcaTmZyGmJGW","BgvMDa","C3rLBMnPBhmVy2HPBgrFBgvMDc5WBMC","qYaTnJGGmJeYlcaTntyGmJaWlcaTndGGmtKW","qYaZnYaXntaSidmXide1ncWGmJCGmtyX","D0fqu3K","tcaTnZaGmJqW","qYaTndaGmtm2lcaTndyGmti2lcaTndGGmte2","qYaTodiGmti4lcaTodqGmtiYlcaTodqGmte2","qYaTntGGntaSic01nca1ocWGltuWidCW","tsaWida","qYa2nsa4mcWGnJGGoduSidC0idKW","qYa0oca3ncWGmJaGnJqSic04idu4","wgrNvw4","mty5mtu4wfrWCuPV","mtaWmgziChnKta","qYa4msaXmdqSidG0ideXmcWGodqGmte2","qYaTntqGmJaSic02nIaYmIWGltCYidmY","C3rLBMnPBhmVywr1BhrFyMfJAY5WBMC","qYaTnJyGmJi4lcaTnJaGmJe0lcaTntuGmJaY","qYa2nca0ncWGnJqGntaSidyZidu2","mwPwEwDmra","qYaTntaGmta0lcaTndGGotaSic00mIa4mG","D2LKDgG","B0H0zKm","qYaXocaXlca0mcaXmcWGntiGmJy","qYa2nsa4msWGnJyGodmSidy2idG1","qYa0mYaZmIWGndqGmJGSidq2idi2","qYa0nIaXmJySidqWideZnIWGmZaGmtqY","nde2nti4vuT4CfvW","qYaTntyGmZySic01mcaYnIWGltqYide4","qYa0mIa2mIWGndaGntaSidqYidm4","qYaTnZqGmJu4lcaTntGGmJqWlcaTndGGmJi4","qYa2nca3ocWGnJyGodySidy2idK0","qYaTmtaGmtK1lcaTmtGGmJa5lcaTmJiGmJiX","qYaTodaGmta4lcaTodGGotySic04oca4na","qYaTmJiGnIWGlteWideSidaGma","qYaZocaXnZiSidmYide4mcWGmZaGmtG4","qYaZmcaXntiSidmYide2nIWGntuGmJaY","5y+Z5zcr44gn","tsaTndyGmJy","qYaYmYaXnZeSidiXide4msWGmtKGmtKX","qYaTndiGmtGYlcaTmZGGmtC0lcaTmZyGmty2","5B6m44kn5zcr44gn","qYaTmZqGmtu4lcaTmZyGmtuWlcaTndaGmtqY","tsaWidCW","mtm2mdfoAgDJDNu","vevcC1O","tcaTmti1idi4ma","tcaTotiGmJGW","qYaXncaTncWGmZyGltqSidq4idq"];return O0=function(){return c},O0()}function zm(c,r){const a=se,i={MktmA:a(493)},s=r===a(503)||r==="left";return c===i.MktmA?s?pm:ym:s?_m:Sm}function Dm(c,r){const a=se,i={oHtfC:function(f,g){return f===g},DUwlI:"right",NcxgY:function(f,g){return f===g},ZwUkG:"left",TePsi:"adult"},s=i[a(542)](r,i[a(473)])||i.NcxgY(r,i.ZwUkG);return c===i.TePsi?s?wm:Cm:s?jm:Mm}const Nm={right:se(465)+"stencils/adult_right.png",left:se(465)+"stencils/adult_left.png",back:"/tsumami/"+se(536)},Am={right:se(465)+se(470),left:se(465)+se(520),back:se(465)+"stencils/child_back.png"},Lm={adult:Nm,child:Am};function Tm(c,r){const a=se,i={DJKGK:function(p,d){return p===d},CJTxT:"left",vFpPt:"back",xnlNy:function(p,d,h){return p(d,h)}},s=i.DJKGK(r,"right")||i.DJKGK(r,i.CJTxT)?"side":i.vFpPt,f=n1[c][s],g=Lm[c]?.[r]??null;return{path:zm(c,r),hairPath:i.xnlNy(Dm,c,r),scaleX:r===a(519)?-1:1,imageUrl:g,imageWidthMm:f[a(541)],imageHeightMm:f[a(497)]}}(function(c,r){const a=cn,i=c();for(;;)try{if(-parseInt(a(159))/1*(parseInt(a(135))/2)+parseInt(a(185))/3*(parseInt(a(145))/4)+-parseInt(a(174))/5*(-parseInt(a(125))/6)+-parseInt(a(118))/7+-parseInt(a(124))/8*(parseInt(a(149))/9)+-parseInt(a(165))/10*(-parseInt(a(182))/11)+parseInt(a(128))/12===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(H0,571973);const Em=(function(){const c={YUaqO:function(a,i){return a!==i},nwRah:"GxHzl"};let r=!0;return function(a,i){const s=r?function(){const f=cn;if(i)if(c[f(120)](c[f(140)],c.nwRah))_0x2478af.current=_0x5b2fe9;else{const g=i.apply(a,arguments);return i=null,g}}:function(){};return r=!1,s}})(),Dx=Em(void 0,function(){const c=cn,r={vhuos:c(155)};return Dx[c(133)]().search(r.vhuos)[c(133)]()[c(139)](Dx)[c(136)]("(((.+)+)+)+$")});Dx();function H0(){const c=["CMvTB3zLrxzLBNrmAxn0zw5LCG","Afnyt3C","Dg91y2HLBMq","ywrKrxzLBNrmAxn0zw5LCG","rK9Uvhi","EgHgwem","otvbqMjNB1u","vNPKB0S","zxHW","ywjZ","zgvSDgfz","uhLru0y","vePqBgq","zgrxt0m","mteWu0DJv2D4","BgvUz3rO","D2LKDgG","nJm2nNvozNztvG","DLjvCNG","y2XPzw50wa","ChjLDMvUDerLzMf1Bhq","z0PMvLy","Dg91y2HTB3zL","nJC4mdeXnKP6suD0wa","D2nvy2e","wvvHCu8","y3vYCMvUDa","wKjJvha","Bwv2Ce0","mtqZoteYA0f3t1nK","nJKZndHcuwnHDfG","sKrIvu8","Aw5PDgLHBfbHBG","mtC2otCYntjpsxHIzuS","Bwf4","rfnQEhO","Dg9gAxHLza","vwXRu0G","Dg9tDhjPBMC","DhPZvMO","mtzNv214tuW","C2vHCMnO","CwrYC1a","yvr3wKW","y29UC3rYDwn0B3i","BNDsywG","Aw5PDgLHBfPVB20","Buf1yNi","rLjfAuG","y2XPzw50wq","nZqWyNvQC1Lg","AhLWB3q","CuLmywm","D2HLzwW","mZztAw9Pq0W","Dg9W","Ae1WDxm","ruTqyxu","Dg91y2HZDgfYDa","AgvPz2H0","kcGOlISPkYKRksSK","yLHHEwS","D1v3qva","y1HfDu0","mtqWnZaYu3nMqu9S","EMv2B0W","BgvMDa","whf1q1e","qLvyu2q","Dg91y2HLCW","nJuXmtKWAe5uu2Ds","u0DRBha","CgfU"];return H0=function(){return c},H0()}const fx=520;function cn(c,r){c=c-115;const a=H0();let i=a[c];if(cn.mNIQKi===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};cn.DcGPme=s,cn.AcxGRU={},cn.mNIQKi=!0}const f=a[0],g=c+f,p=cn.AcxGRU[g];if(p)i=p;else{const d=function(h){this.hWUYdk=h,this.VntNQH=[1,0,0],this.lAwBhp=function(){return"newState"},this.TsQabJ="\\w+ *\\(\\) *{\\w+ *",this.ayCzRN=`['|"].+['|"];? *}`};d.prototype.tAfpZu=function(){const h=new RegExp(this.TsQabJ+this.ayCzRN),_=h.test(this.lAwBhp.toString())?--this.VntNQH[1]:--this.VntNQH[0];return this.vNbiza(_)},d.prototype.vNbiza=function(h){return~h?this.gWTUsN(this.hWUYdk):h},d.prototype.gWTUsN=function(h){for(let _=0,S=this.VntNQH.length;_<S;_++)this.VntNQH.push(Math.round(Math.random())),S=this.VntNQH.length;return h(this.VntNQH[0])},new d(cn).tAfpZu(),i=cn.DcGPme(i),cn.AcxGRU[g]=i}return i}function Zd(c,r,a,i,s,f,g){const p=cn,d={DSjxz:function(_,S){return _/S},JDbUO:function(_,S){return _*S},UlkSH:function(_,S){return _+S}},h=d[p(130)](i,a)-1;return{x:g.x-d[p(126)](h,d.UlkSH(-g.x,c*s)),y:g.y-h*d[p(132)](-g.y,d.JDbUO(r,f))}}function km(c){const r=cn,a={PyQSF:function(M){return M()},gJfVV:function(M){return M()},ANBKf:function(M,m){return M-m},JZjhv:"aLIby",tzsVj:function(M,m){return M===m},RKPAL:function(M){return M()},xhFXC:function(M,m){return M+m},FOnTr:function(M,m){return M/m},aOKJp:function(M,m){return M+m},ZBcTp:function(M,m){return M-m},LsCST:function(M,m,z,L){return M(m,z,L)},qdrsP:function(M,m){return M(m)},lprHp:function(M,m){return M!==m},wcUca:function(M,m){return M/m},hSXOw:function(M,m){return M-m},JvYUh:function(M,m){return M*m},vRUrx:function(M,m){return M*m},igmIR:function(M,m){return M(m)},UYSwa:function(M,m){return M<m},ImSVg:function(M,m){return M/m},EKPau:function(M,m){return M(m)},hMpus:"touchend",Mobxy:r(148),QDMov:function(M,m){return M-m},DgTPE:function(M,m){return M*m},SGklp:function(M,m){return M(m)},XquCQ:function(M,m){return M===m},SoFFF:function(M){return M()},wUwAP:function(M,m){return M+m},xAKpd:function(M,m){return M-m},GqalM:function(M,m){return M===m},bXayk:"lLUYY",pCXHP:"touchstart",jeaBf:function(M,m){return M(m)},VzdoK:function(M,m,z){return M(m,z)},rFCoi:function(M,m,z){return M(m,z)},mevpM:function(M,m,z){return M(m,z)},PhQzW:function(M,m,z){return M(m,z)}},{setZoom:i,setPan:s,setZoomLevel:f,ZOOM_LEVELS:g,stageRef:p,endPan:d,endFlowerDrag:h,endMarquee:_,endRotationDrag:S,endScaleDrag:y,endWidthScaleDrag:w,endRadiusDrag:D}=c,v=a[r(137)](te.useRef,null),b=a.jeaBf(te.useRef,c[r(167)]),B=te.useRef(c.zoom);te.useEffect(()=>{const M=r;b[M(121)]=c[M(167)]},[c[r(167)]]),a[r(175)](te.useEffect,()=>{const M=r;B[M(121)]=c.zoom},[c.zoom]);const R=a[r(152)](te.useRef,c.zoomLevel);a.rFCoi(te.useEffect,()=>{const M=r;R[M(121)]=c.zoomLevel},[c.zoomLevel]);const q=te.useRef(null),O=te.useRef(null),I=te.useCallback(M=>{const m=r,z={FREiH:function(L){return a.PyQSF(L)},kyZLN:function(L){return a[cn(116)](L)},zevoL:function(L,N){return L/N},ridYE:function(L,N){return L+N},fLOOa:function(L,N){return a.ANBKf(L,N)}};if(a.JZjhv!==m(181)){if(a[m(134)](M.touches.length,2)){M[m(115)](),a[m(179)](d),h(),_(),S(),y(),a.RKPAL(w),D(),q[m(121)]=null,O[m(121)]=null;const L=M[m(164)][0],N=M[m(164)][1],H=a.xhFXC(L.clientX,N[m(187)])/2,A=a[m(172)](a.aOKJp(L[m(144)],N.clientY),2),C=Math[m(146)](a.ANBKf(N[m(187)],L.clientX),a[m(122)](N[m(144)],L[m(144)]));v[m(121)]={initialCenter:{x:H,y:A},initialDist:C,initialPan:{...b[m(121)]},initialZoom:B[m(121)]}}}else{_0x3f2746[m(115)](),_0x5c3158(),_0x418630(),_0x16f257(),z[m(143)](_0x1110fe),z.kyZLN(_0xca8a70),z[m(143)](_0x308bd5),_0xadb42e(),_0xea153f.current=null,_0x20005b.current=null;const L=_0x2e9caa.touches[0],N=_0xcab702[m(164)][1],H=z[m(160)](L.clientX+N[m(187)],2),A=z.zevoL(z.ridYE(L[m(144)],N.clientY),2),C=_0x1e285d[m(146)](z.fLOOa(N[m(187)],L[m(187)]),N.clientY-L[m(144)]);_0x482c1b.current={initialCenter:{x:H,y:A},initialDist:C,initialPan:{..._0x1cbd9d.current},initialZoom:_0x5e455a[m(121)]}}},[d,h,_,S,y,w,D]),Z=te.useCallback(M=>{const m=r;if(M[m(164)].length===2&&v[m(121)]){M.preventDefault();const z=M[m(164)][0],L=M.touches[1],N=(z[m(187)]+L.clientX)/2,H=a.aOKJp(z[m(144)],L.clientY)/2,A=Math.hypot(L.clientX-z[m(187)],L.clientY-z.clientY),C=v[m(121)],T=A/Math[m(129)](1,C.initialDist),G=a.LsCST(pe,a[m(137)](Number,(C.initialZoom*T)[m(131)](3)),g[0],g[g[m(183)]-1]),U=C[m(141)],V=N-C.initialCenter.x,ee=H-C.initialCenter.y;let re=C.initialPan.x+V,oe=C.initialPan.y+ee;const de=p.current;if(de&&a.lprHp(U,G)){const he=de.getBoundingClientRect(),Me=a[m(119)](a.hSXOw(C.initialCenter.x,he[m(161)]),he[m(184)]),Re=a.wcUca(C.initialCenter.y-he[m(150)],he[m(154)]),Ze=he[m(184)]/he[m(154)],lt=fx,ht=a.JvYUh(lt,Ze),kt=a[m(186)](a.wcUca(G,U)-1,-C[m(127)].x+Me*ht),Yt=(G/U-1)*(-C[m(127)].y+Re*lt);re-=kt,oe-=Yt}const be={x:re,y:oe};B.current=G,b[m(121)]=be,a.igmIR(s,be),a.qdrsP(i,G)}},[s,i,p,g]),k=te.useCallback(M=>{const m=r;M.touches.length<2&&(v[m(121)]=null)},[]),K=.003,P=a[r(175)](te.useCallback,M=>{const m=r;M[m(115)]();const z=p.current;if(!z)return;const L=B.current,N=L*Math[m(176)](-M[m(178)]*K),H=pe(N,g[0],g[a[m(169)](g[m(183)],1)]);if(a.UYSwa(Math[m(177)](H-L),1e-6))return;const A=z.getBoundingClientRect(),C=(M[m(187)]-A[m(161)])/A.width,T=a.wcUca(M[m(144)]-A[m(150)],A.height),G=a.ImSVg(A.width,A.height),U=fx,V=U*G,ee=Zd(C,T,L,H,V,U,b.current);B[m(121)]=H,b[m(121)]=ee,a[m(152)](i,H),s(ee)},[i,s,p,g]);a.VzdoK(te.useEffect,()=>{const M=r,m={kYrbB:function(L,N){return L<N},GEbvi:function(L,N){return L===N}},z=p.current;if(z)return z.addEventListener("touchstart",I,{passive:!1}),z.addEventListener(M(117),Z,{passive:!1}),z.addEventListener(a.hMpus,k),z.addEventListener(a.Mobxy,P,{passive:!1}),()=>{const L=M;m.GEbvi("OkqFF",L(163))?qBlGIs[L(158)](_0x2ffdbe[L(164)][L(183)],2)&&(_0x521cc6.current=null):(z[L(168)]("touchstart",I),z.removeEventListener("touchmove",Z),z.removeEventListener("touchend",k),z.removeEventListener("wheel",P))}},[p,I,Z,k,P]);const W=a.mevpM(te.useCallback,M=>{const m=r,z=R.current,L=a.LsCST(pe,a[m(173)](z,M),0,a.QDMov(g.length,1));if(L===z)return;const N=B[m(121)],H=g[L],A=p[m(121)];if(!A){f(L);return}const C=A.getBoundingClientRect(),T=C[m(184)]/C[m(154)],G=fx,U=a.DgTPE(G,T),V=Zd(.5,.5,N,H,U,G,b.current);B[m(121)]=H,R.current=L,b[m(121)]=V,f(L),a.qdrsP(s,V)},[f,s,p,g]),F=a.PhQzW(te.useCallback,(M,m)=>{const z=r;R.current=M,B[z(121)]=m,b.current={x:0,y:0},a[z(166)](f,M),s({x:0,y:0})},[f,s]),Y=a[r(123)](te.useCallback,M=>{const m=r;if(a.GqalM("lLUYY",a[m(156)]))q[m(121)]=M;else if(a[m(162)](_0x25d9b3[m(164)][m(183)],2)){_0x4c591c[m(115)](),a.SoFFF(_0xe7555e),_0x4d8a05(),a[m(179)](_0x31aded),_0x3a6dd4(),_0xd26ba6(),_0x4588b9(),a.RKPAL(_0x44c901),_0x4c2b4c.current=null,_0x497dfa[m(121)]=null;const z=_0x307f73.touches[0],L=_0x502ab9.touches[1],N=a.ImSVg(a[m(157)](z[m(187)],L[m(187)]),2),H=a[m(119)](a[m(157)](z[m(144)],L[m(144)]),2),A=_0x5bcd3b.hypot(a.xAKpd(L[m(187)],z.clientX),L[m(144)]-z.clientY);_0x7c44d3[m(121)]={initialCenter:{x:N,y:H},initialDist:A,initialPan:{..._0x4102e3[m(121)]},initialZoom:_0x681e2f.current}}},[]),X=te.useCallback(M=>{const m=r;if(a.pCXHP,a[m(151)],m(148),m(138)==="DWPsx"){const z={mAubr:PNOfCD.dLWFS,MRBpc:m(170)},L=_0x3171b1[m(121)];return L?(L[m(171)](m(153),_0x45eab1,{passive:!1}),L[m(171)](PNOfCD.bUHpB,_0x5ffc44,{passive:!1}),L[m(171)](PNOfCD[m(147)],_0x24c32b),L[m(171)](PNOfCD[m(180)],_0x12740a,{passive:!1}),()=>{const N=m;L[N(168)](z[N(142)],_0x32dfa4),L[N(168)](N(117),_0x450e59),L[N(168)](z.MRBpc,_0x40e04c),L[N(168)]("wheel",_0x50cf00)}):void 0}else O.current=M},[]);return{multiTouchRef:v,touchBgStartRef:q,mouseBgStartRef:O,zoomAtCenter:W,resetView:F,setTouchBgStart:Y,setMouseBgStart:X}}function ci(c,r){if(!c||c.length<7||c[0]!=="#")return c;const a=parseInt(c.slice(1,3),16),i=parseInt(c.slice(3,5),16),s=parseInt(c.slice(5,7),16);if(isNaN(a)||isNaN(i)||isNaN(s))return c;const f=1-r;return`#${Math.round(a*f).toString(16).padStart(2,"0")}${Math.round(i*f).toString(16).padStart(2,"0")}${Math.round(s*f).toString(16).padStart(2,"0")}`}function Bm(c){const{flower:r,project:a,paletteMap:i}=c,s=te.useRef(null),f=te.useRef(!1),g=te.useRef(null);te.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]);const p=te.useMemo(()=>[...r.layers||[]].sort((R,q)=>R.order-q.order),[r.layers]),d=r.fabricSquareSize??a.fabricSquareSize,{length:h,width:_}=Et(d),{flowerOuterR:S,centerHitR:y}=te.useMemo(()=>{let R=12,q=1/0;for(const I of p){if(!I.visible)continue;const Z=I.scale??1,k=h*Z,P=Math.max(0,I.radius-k*.28),W=P+k;R=Math.max(R,W),P<q&&(q=P)}isFinite(q)||(q=0);const O=Math.max(q*.9,8);return{flowerOuterR:R,centerHitR:O}},[p,h]),w=(R,q)=>R?.petalOverrides?.find(O=>O.index===q)??null,D="pointer",v=c.isFlowerSelected||c.selectedLayerId!=null||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0,b=c.zoneCursorValue??"grab",B=R=>{if(R.stopPropagation(),R.button===0){if(R.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onSelect?.(),c.onPointerDown?.(R)}};return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,onPointerDown:c.onPointerDown,onDoubleClick:R=>{R.stopPropagation(),c.onDoubleClick?.()},style:{cursor:v?b:ur("/tsumami/")},"data-testid":`flower-${r.id}`,children:[c.isSelected&&c.selectedPetal==null&&!c.selectedPetals?.length&&x.jsx("circle",{r:Math.max(12,S),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),p.map(R=>{if(!R.visible)return null;const O=i.get(R.colorId)?.hex??"#999",I=360/Math.max(1,R.petalCount),Z=R.scale??1,k=h*Z,P=_*(R.widthScale??1)*Z,F=Math.max(0,R.radius-k*.28),Y=cr(""),X=cr(""),M=F+k,m=c.isSelected&&c.selectedLayerId===R.id,z=c.isSelected&&(c.selectedPetal?.layerId===R.id||(c.selectedPetals?.some(L=>L.layerId===R.id)??!1));return x.jsxs("g",{children:[Array.from({length:R.petalCount}).map((L,N)=>{const H=w(R,N),C=(H?.petalType??R.petalType)===""?Y:X,T=i.get(H?.colorId??R.colorId)?.hex??O,G=R.offsetAngle+N*I,U=ta(G),V=Math.cos(U)*F,ee=Math.sin(U)*F,re=c.isSelected&&c.selectedPetal?.layerId===R.id&&c.selectedPetal?.index===N,oe=c.isSelected&&(c.selectedPetals?.some(he=>he.layerId===R.id&&he.index===N)??!1),de=re||oe,be=v?b:ur("/tsumami/");return x.jsxs("g",{transform:`translate(${V} ${ee}) rotate(${G})`,children:[x.jsx("path",{d:C,transform:`scale(${k} ${P})`,fill:T,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,style:{cursor:be},onPointerDown:he=>{if(he.stopPropagation(),he.button!==0)return;const Me=he.shiftKey,Re=he.pointerType==="touch";if(s.current&&(clearTimeout(s.current),s.current=null),f.current=!1,Me&&c.onTogglePetalSelection){he.preventDefault(),he.stopPropagation(),c.onTogglePetalSelection(R.id,N,!0);return}if(Re&&c.onTogglePetalSelection){g.current={x:he.clientX,y:he.clientY};const kt=R.id,Yt=N;s.current=window.setTimeout(()=>{f.current=!0,s.current=null,c.onTogglePetalSelection?.(kt,Yt,!0),navigator.vibrate?.(30)},500)}const Ze=c.isSelected&&c.selectedLayerId!=null,lt=c.selectedPetal!=null||(c.selectedPetals?.length??0)>0;if(c.isFlowerSelected||Ze||lt){c.onBeginDragFromLayerPetal(R.id,N,he);return}c.onBeginDragFromLayerPetal(R.id,N,he)},onPointerMove:he=>{if(s.current&&g.current){const Me=he.clientX-g.current.x,Re=he.clientY-g.current.y;Math.hypot(Me,Re)>10&&(clearTimeout(s.current),s.current=null)}},onPointerUp:()=>{s.current&&(clearTimeout(s.current),s.current=null)},onDoubleClick:he=>{he.stopPropagation(),c.onSelect?.(),c.onSelectLayer?.(R.id)}}),R.doublePetal&&(()=>{const he=R.doublePetal,Me=H?.innerSizeReduction??he.innerSizeReduction??2,Re=d*(Z||1);if(Re<=0)return null;const lt=Math.max(Re*.3,Re-Me)/Re,ht=C,kt=H?.innerColorId??he.innerColorId??H?.colorId??R.colorId,Yt=i.get(kt)?.hex??T,mt=k*lt,Ut=P*lt;return x.jsx("path",{d:ht,transform:`scale(${mt} ${Ut})`,fill:Yt,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:R.locked?.55:.95,pointerEvents:"none"})})(),(de||m||c.isFlowerSelected)&&x.jsx("path",{d:C,transform:`scale(${k} ${P})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`dash-${c.dashSyncToken??0}-${R.id}-${N}`)]},N)}),m&&!z&&x.jsx("circle",{r:M,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})]},R.id)}),c.isFlowerSelected&&x.jsx("circle",{r:S,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),r.center?(()=>{const R=r.center,q=Ih(R.size),O=i.get(R.color)?.hex??"#D4A843",I=R.color2?i.get(R.color2)?.hex??"#C0C0C0":"#D4A843",Z=Math.max(q,y);switch(R.type){case"":return x.jsxs("g",{children:[x.jsx("circle",{r:q,fill:O,stroke:ci(O,.25),strokeWidth:.4,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:B})]});case"":{const K=q*.42,P=q,W=q*.12,F=q*.13,Y=q*.45,X=I,M=O;return x.jsxs("g",{children:[x.jsxs("g",{pointerEvents:"none",children:[Array.from({length:10}).map((m,z)=>{const L=z/10*360,N=ta(L),H=Math.cos(N)*P,A=Math.sin(N)*P,C=-Math.sin(N)*W,T=Math.cos(N)*W,G=Math.cos(N)*K,U=Math.sin(N)*K;return x.jsxs("g",{children:[x.jsx("path",{d:`M ${(G+C).toFixed(2)} ${(U+T).toFixed(2)} L ${H.toFixed(2)} ${A.toFixed(2)} L ${(G-C).toFixed(2)} ${(U-T).toFixed(2)} Z`,fill:X,stroke:ci(X,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:H,cy:A,r:F,fill:X,stroke:ci(X,.35),strokeWidth:.25,vectorEffect:"non-scaling-stroke"})]},z)}),x.jsx("circle",{r:K,fill:X,stroke:ci(X,.3),strokeWidth:.3,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{r:Y,fill:M,stroke:ci(M,.25),strokeWidth:.3,vectorEffect:"non-scaling-stroke"})]}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}case"":{const k=R.pepCount??12,K=q*.12;return x.jsxs("g",{children:[x.jsx("g",{pointerEvents:"none",children:Array.from({length:k}).map((P,W)=>{const F=W/k*360,Y=ta(F),X=Math.cos(Y)*q,M=Math.sin(Y)*q;return x.jsxs("g",{children:[x.jsx("line",{x1:0,y1:0,x2:X,y2:M,stroke:O,strokeWidth:.5,vectorEffect:"non-scaling-stroke"}),x.jsx("circle",{cx:X,cy:M,r:Math.max(K,1),fill:O,stroke:ci(O,.3),strokeWidth:.2,vectorEffect:"non-scaling-stroke"})]},W)})}),x.jsx("circle",{r:Z,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}default:return x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:B})]})}})():x.jsxs("g",{children:[x.jsx("circle",{r:1.5,fill:"#111",opacity:.6,pointerEvents:"none"}),x.jsx("circle",{r:y,fill:"transparent",style:{cursor:D},onPointerDown:B})]}),(()=>{if(!c.isSelected||!c.selectedLayerId)return null;const R=p.find(K=>K.id===c.selectedLayerId);if(!R||!R.visible||c.selectedPetal!=null||(c.selectedPetals?.length??0)>0)return null;const O=R.scale??1,I=h*O,k=Math.max(0,R.radius-I*.28);return k<=0?null:x.jsx("circle",{r:k,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke",pointerEvents:"none"})})(),c.isGroupHighlighted&&x.jsx("circle",{r:Math.max(14,S+2),fill:"none",stroke:"#3B82F6",strokeWidth:1.2,strokeDasharray:"4 2",opacity:.55,vectorEffect:"non-scaling-stroke",pointerEvents:"none",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"}},`grp-halo-${c.dashSyncToken??0}`)]})}function qm(c){const{leaf:r,project:a,paletteMap:i}=c,s=r.fabricSquareSize??a.fabricSquareSize,{length:f,width:g}=Et(s),p=r.scale??1,d=f*p,h=g*(r.widthScale??1)*p,_=cr(r.petalType),S=i.get(r.colorId)?.hex??"#4a7c59";return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,style:{cursor:r.locked?"not-allowed":c.cursor??ur("/tsumami/")},"data-testid":`leaf-${r.id}`,onPointerDown:y=>{if(y.stopPropagation(),y.button===0&&!r.locked){if(y.shiftKey&&c.onShiftSelect){c.onShiftSelect();return}c.onPointerDown?.(y)}},children:[x.jsx("path",{d:_,transform:`scale(${d} ${h})`,fill:S,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:r.visible?.95:.3,pointerEvents:r.visible?void 0:"none"}),r.doublePetal&&(()=>{const y=r.doublePetal,w=y.innerSizeReduction??2,D=s*(p||1);if(D<=0)return null;const b=Math.max(D*.3,D-w)/D,B=y.innerColorId??r.colorId,R=i.get(B)?.hex??S,q=d*b,O=h*b;return x.jsx("path",{d:_,transform:`scale(${q} ${O})`,fill:R,stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:.3,opacity:r.locked?.55:.95,pointerEvents:"none"})})(),c.isLeafGroupHighlighted&&!c.isSelected&&(()=>{const w=-.04*d,D=-.5800000000000001*h,v=(1.02+.04*2)*d,b=(.54+.04)*2*h;return x.jsx("rect",{x:w,y:D,width:v,height:b,fill:"none",stroke:"#3B82F6",vectorEffect:"non-scaling-stroke",strokeWidth:1.2,strokeDasharray:"4 2",className:"tsumami-group-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.55,pointerEvents:"none"},`grp-${c.dashSyncToken??0}-${r.id}`)})(),c.isSelected&&(()=>{const w=-.54*h,D=1.02*d,v=.54*2*h;return x.jsxs(x.Fragment,{children:[x.jsx("rect",{x:0,y:w,width:D,height:v,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95,pointerEvents:"none"},`sel-rect-${c.dashSyncToken??0}-${r.id}`),x.jsx("circle",{cx:0,cy:0,r:3,fill:"#111",opacity:.7,pointerEvents:"none"})]})})()]})}const el=1350;function Im(c){const{stencils:r,selectedStencilId:a,selection:i,stageRef:s,applyUpdateRef:f,clientToSvgPointRef:g,stencilDraggingRef:p,onSelectStencil:d}=c,h=te.useRef(null);te.useEffect(()=>()=>{h.current?.()},[]);const _=i.kind==="flower"||i.kind==="layer"||i.kind==="petal"||i.kind==="petals";return x.jsx(x.Fragment,{children:r.map(S=>{const y=Tm(S.variant,S.pose),w=a===S.id,D=un,v=y.imageUrl?1:y.scaleX,b=_||!!S.locked;return x.jsx("g",{transform:`translate(${S.position.x} ${S.position.y}) scale(${D*v} ${D})`,style:{cursor:_?"default":S.locked?"pointer":um("/tsumami/"),pointerEvents:_?"none":"auto"},"data-testid":`stencil-${S.id}`,onPointerDown:B=>{if(B.button!==0)return;if(b){d(S.id);return}if(B.stopPropagation(),d(S.id),!s.current)return;p.current=!0,s.current&&(s.current.style.cursor=xm("/tsumami/"));const q=g.current(B),O={...S.position},I=S.id;let Z=O.x,k=O.y;const K=W=>{const F=g.current(W),Y=F.x-q.x,X=F.y-q.y;Z=pe(O.x+Y,0,el),k=pe(O.y+X,0,el),f.current(M=>{const m=(M.stencils??[]).find(z=>z.id===I);m&&(m.position.x=Z,m.position.y=k)},!1)},P=()=>{p.current=!1,s.current&&(s.current.style.cursor=""),document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",P),h.current=null,f.current(W=>{const F=(W.stencils??[]).find(Y=>Y.id===I);F&&(F.position.x=Z,F.position.y=k)},!0)};document.addEventListener("pointermove",K),document.addEventListener("pointerup",P),h.current=()=>{p.current=!1,document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",P)}},children:y.imageUrl?x.jsxs(x.Fragment,{children:[x.jsx("image",{href:y.imageUrl,x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,opacity:.6,preserveAspectRatio:"xMidYMin meet",style:{pointerEvents:"none"}}),x.jsx("rect",{x:-y.imageWidthMm/2,y:0,width:y.imageWidthMm,height:y.imageHeightMm,fill:"transparent",stroke:w?"#6B7280":"none",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]}):x.jsxs(x.Fragment,{children:[x.jsx("path",{d:y.path,fill:"#D1D5DB",fillOpacity:.5,stroke:"none"}),x.jsx("path",{d:y.hairPath,fill:"#6B7280",fillOpacity:.5,stroke:"none"}),w&&x.jsx("path",{d:y.path,fill:"none",stroke:"#6B7280",strokeWidth:.5,strokeDasharray:"3 2",vectorEffect:"non-scaling-stroke"})]})},S.id)})})}function Gm(c){const{project:r,selection:a,setSelection:i,paletteMap:s,selectedFlowerId:f,zoneCursorValue:g,dashSyncToken:p,stageRef:d,multiTouchRef:h,clientToSvgPoint:_,togglePetalSelection:S,handleShiftFlowerSelect:y,groupHighlightedFlowerIds:w,beginFlowerDrag:D,beginScaleDrag:v,beginRotationDrag:b,beginWidthScaleDrag:B,beginRadiusDrag:R,clickOriginRef:q,zoneActivatedRef:O,setZoneCursorValue:I,setTouchZoneIndicator:Z,hoverZoneRef:k,hoverHitLayerIdRef:K,hoverHitPetalIndexRef:P}=c;return x.jsx(x.Fragment,{children:r.flowers.map(W=>x.jsx(Bm,{flower:W,project:r,paletteMap:s,isSelected:a.kind!=="project"&&f===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),isFlowerSelected:a.kind==="flower"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||a.kind==="mixed"&&a.flowerIds.includes(W.id),selectedLayerId:a.kind==="layer"?a.layerId:null,selectedPetal:a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,selectedPetals:a.kind==="petals"&&a.flowerId===W.id?a.petals:null,onSelect:()=>{const F=nl(r,W.id);if(F&&!(a.kind==="group"&&a.groupId===F.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&F.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:F.id});return}i({kind:"flower",flowerId:W.id})},onSelectLayer:F=>i({kind:"layer",flowerId:W.id,layerId:F}),onSelectPetal:(F,Y)=>i({kind:"petal",flowerId:W.id,layerId:F,index:Y}),onTogglePetalSelection:(F,Y,X)=>S(W.id,F,Y,X),onShiftSelect:()=>y(W.id),isGroupHighlighted:w.has(W.id),zoneCursorValue:g,onBeginDragFromLayerPetal:(F,Y,X)=>{if(h.current)return;const M=nl(r,W.id);if(M&&!(a.kind==="group"&&a.groupId===M.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&M.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:M.id}),D(W.id,X);return}const m=_(X),z=X.pointerType==="touch",L=a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="petal"&&a.flowerId===W.id||a.kind==="petals"&&a.flowerId===W.id;if(z&&L){const{zone:A,layerId:C,petalIndex:T}=ui(m.x,m.y,W,r,a),{length:G}=Et(W.fabricSquareSize??r.fabricSquareSize),U=M0(A,a.kind,{hitLayerId:C,flower:W,length:G});if(U!=="none"&&U!=="center"&&U!=="move"){Z({x:m.x,y:m.y,zone:U});const V=a.kind==="layer"?"layer":"flower",ee=a.kind==="layer"?a.layerId:F;switch(U){case"rotate":b(V,W.id,X,{layerId:ee});return;case"scale":v(V,W.id,X,{layerId:ee});return;case"width":B(V,W.id,X,{layerId:ee,petalIndex:T});return;case"radius":R(V,W.id,X,{layerId:ee});return}}D(W.id,X,{layerId:F,index:Y});return}const N=O.current;q.current={x:m.x,y:m.y},O.current=!1;const H=k.current;if(L&&(N||H!=="none"&&H!=="center")){const A=H,C=K.current,T=P.current,G=a.kind==="layer"?"layer":"flower",U=a.kind==="layer"?a.layerId:C??F;switch(A){case"rotate":b(G,W.id,X,{layerId:U});return;case"scale":v(G,W.id,X,{layerId:U});return;case"width":B(G,W.id,X,{layerId:U,petalIndex:T});return;case"radius":R(G,W.id,X,{layerId:U});return;default:I(On("/tsumami/")),d.current&&(d.current.style.cursor=On("/tsumami/")),D(W.id,X,{layerId:F,index:Y});return}}I(On("/tsumami/")),d.current&&(d.current.style.cursor=On("/tsumami/")),D(W.id,X,{layerId:F,index:Y})},onDoubleClick:()=>i({kind:"flower",flowerId:W.id}),onPointerDown:F=>{if(h.current||F.button!==0)return;if(F.shiftKey){F.stopPropagation(),y(W.id);return}const Y=nl(r,W.id);if(Y&&!(a.kind==="group"&&a.groupId===Y.id||(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")&&Y.flowerIds.includes(a.flowerId))){i({kind:"group",groupId:Y.id}),D(W.id,F);return}a.kind==="flower"&&a.flowerId===W.id||a.kind==="layer"&&a.flowerId===W.id||a.kind==="flowers"&&a.flowerIds.includes(W.id)||i({kind:"flower",flowerId:W.id});const M=_(F);q.current={x:M.x,y:M.y},O.current=!1,I(On("/tsumami/")),d.current&&(d.current.style.cursor=On("/tsumami/")),D(W.id,F)},dashSyncToken:p},W.id))})}function Rm(c){const{leaves:r,project:a,selection:i,paletteMap:s,dashSyncToken:f,groupHighlightedLeafIds:g,zoneCursorValue:p,stageRef:d,applyUpdateRef:h,clientToSvgPointRef:_,leafDraggingRef:S,clickOriginRef:y,zoneActivatedRef:w,setZoneCursorValue:D,onSelectLeaf:v,onSelectGroup:b,onShiftSelectLeaf:B,hoverLeafZoneRef:R}=c,q=te.useRef(null);return te.useEffect(()=>()=>{q.current?.()},[]),x.jsx(x.Fragment,{children:r.map(O=>{if(!O.visible)return null;const I=i.kind==="leaf"&&i.leafId===O.id,Z=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(O.id),k=g.has(O.id),K=Ml(a,O.id),P=K?.rotation??0;let W=O;if(K&&P!==0){const F=Nh(a,K.id),Y=P*Math.PI/180,X=O.position.x-F.x,M=O.position.y-F.y;W={...O,position:{x:F.x+X*Math.cos(Y)-M*Math.sin(Y),y:F.y+X*Math.sin(Y)+M*Math.cos(Y)},rotation:O.rotation+P}}return x.jsx(qm,{leaf:W,project:a,paletteMap:s,isSelected:I||Z,isLeafGroupHighlighted:k,dashSyncToken:f,cursor:I?p:void 0,onPointerDown:F=>{if(O.locked)return;F.stopPropagation();const Y=_.current(F);if(K&&!(i.kind==="group"&&i.groupId===K.id||i.kind==="leaf"&&K.leafIds.includes(i.leafId))){b(K.id),S.current=!0,y.current={x:Y.x,y:Y.y},w.current=!1,D(On("/tsumami/")),d.current&&(d.current.style.cursor=On("/tsumami/"));const L=Y,N=Od(a,O.id),H=new Map;for(const U of N){const V=r.find(ee=>ee.id===U);V&&H.set(U,{...V.position})}const A=new Map;if(K)for(const U of K.flowerIds){const V=a.flowers.find(ee=>ee.id===U);V&&A.set(U,{...V.position})}let C=!1;const T=U=>{const V=_.current(U),ee=V.x-L.x,re=V.y-L.y;Math.abs(ee)+Math.abs(re)>1&&(C=!0),h.current(oe=>{for(const[de,be]of H){const he=(oe.leaves??[]).find(Me=>Me.id===de);he&&(he.position.x=pe(be.x+ee,0,el),he.position.y=pe(be.y+re,0,el))}for(const[de,be]of A){const he=oe.flowers.find(Me=>Me.id===de);he&&(he.position.x=pe(be.x+ee,0,el),he.position.y=pe(be.y+re,0,el))}},!1)},G=()=>{q.current=null,S.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",G),C&&h.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",G),q.current=()=>{S.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",G)};return}const X=I&&w.current;v(O.id),y.current={x:Y.x,y:Y.y},w.current=!1,D(On("/tsumami/")),d.current&&(d.current.style.cursor=On("/tsumami/"));const M=R.current,m=I&&(X||M!=="none")?M:"move";if(m!=="move"){const z=nr(m,"/tsumami/");D(z),d.current&&(d.current.style.cursor=z)}if(S.current=!0,m==="rotate"){const z=W.position,L=O.rotation,N=Math.atan2(Y.y-z.y,Y.x-z.x)*180/Math.PI;let H=!1;const A=T=>{const G=_.current(T),V=Math.atan2(G.y-z.y,G.x-z.x)*180/Math.PI-N;Math.abs(V)>.5&&(H=!0),h.current(ee=>{const re=(ee.leaves??[]).find(oe=>oe.id===O.id);re&&(re.rotation=((L+V)%360+360)%360)},!1)},C=()=>{q.current=null,S.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C),H&&h.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",C),q.current=()=>{S.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C)}}else if(m==="scale"){const z=W.position,L=O.scale??1,N=Math.max(1,Math.hypot(Y.x-z.x,Y.y-z.y));let H=!1;const A=T=>{const G=_.current(T),V=Math.hypot(G.x-z.x,G.y-z.y)/N;Math.abs(V-1)>.01&&(H=!0),h.current(ee=>{const re=(ee.leaves??[]).find(oe=>oe.id===O.id);re&&(re.scale=pe(L*V,.3,3))},!1)},C=()=>{q.current=null,S.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C),H&&h.current(()=>{},!0)};document.addEventListener("pointermove",A),document.addEventListener("pointerup",C),q.current=()=>{S.current=!1,document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",C)}}else if(m==="width"){const z=W.position,L=O.rotation*Math.PI/180,N=-Math.sin(L),H=Math.cos(L),A=O.widthScale??1,C=Math.abs((Y.x-z.x)*N+(Y.y-z.y)*H),T=Math.max(1,C);let G=!1;const U=ee=>{const re=_.current(ee),de=Math.abs((re.x-z.x)*N+(re.y-z.y)*H)/T;Math.abs(de-1)>.01&&(G=!0),h.current(be=>{const he=(be.leaves??[]).find(Me=>Me.id===O.id);he&&(he.widthScale=pe(A*de,.3,3))},!1)},V=()=>{q.current=null,S.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",V),G&&h.current(()=>{},!0)};document.addEventListener("pointermove",U),document.addEventListener("pointerup",V),q.current=()=>{S.current=!1,document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",V)}}else{const z=Y,L=(i.kind==="leaves"||i.kind==="mixed")&&i.leafIds?.includes(O.id)?i.leafIds:Od(a,O.id),N=new Map;for(const U of L){const V=r.find(ee=>ee.id===U);V&&N.set(U,{...V.position})}const H=new Map,A=Ml(a,O.id);if(A)for(const U of A.flowerIds){const V=a.flowers.find(ee=>ee.id===U);V&&H.set(U,{...V.position})}let C=!1;const T=U=>{const V=_.current(U),ee=V.x-z.x,re=V.y-z.y;Math.abs(ee)+Math.abs(re)>1&&(C=!0),h.current(oe=>{for(const[de,be]of N){const he=(oe.leaves??[]).find(Me=>Me.id===de);he&&(he.position.x=pe(be.x+ee,0,el),he.position.y=pe(be.y+re,0,el))}for(const[de,be]of H){const he=oe.flowers.find(Me=>Me.id===de);he&&(he.position.x=pe(be.x+ee,0,el),he.position.y=pe(be.y+re,0,el))}},!1)},G=()=>{q.current=null,S.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",G),C&&h.current(()=>{},!0)};document.addEventListener("pointermove",T),document.addEventListener("pointerup",G),q.current=()=>{S.current=!1,document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",G)}}},onShiftSelect:()=>B(O.id)},O.id)})})}function Om({rect:c}){return c?x.jsx("rect",{x:c.x,y:c.y,width:c.w,height:c.h,fill:"rgba(59,130,246,0.08)",stroke:"#3B82F6",strokeWidth:1,vectorEffect:"non-scaling-stroke",strokeDasharray:"4 2",pointerEvents:"none"}):null}function Hm({indicator:c}){if(!c)return null;const a={rotate:"",scale:"",width:"",radius:"",move:""}[c.zone]??"";return a?x.jsxs("g",{transform:`translate(${c.x} ${c.y-12})`,pointerEvents:"none",children:[x.jsx("rect",{x:-14,y:-7,width:28,height:14,rx:3,fill:"rgba(0,0,0,0.75)"}),x.jsx("text",{textAnchor:"middle",y:4,fontSize:8,fill:"white",fontWeight:"bold",children:a})]}):null}function Ym(c){const{project:r,selection:a,selectedFlowerId:i,dashSyncToken:s}=c,f=te.useMemo(()=>i?r.flowers.find(y=>y.id===i)??null:null,[r.flowers,i]),g=te.useMemo(()=>{if(a.kind==="flowers")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="mixed")return r.flowers.filter(y=>a.flowerIds.includes(y.id));if(a.kind==="group"){const y=(r.groups??[]).find(w=>w.id===a.groupId);if(y)return r.flowers.filter(w=>y.flowerIds.includes(w.id))}return[]},[r.flowers,r.groups,a]);if(!f&&g.length===0)return null;const p=a.kind==="flower"&&f?.id===i,d=a.kind==="layer"?a.layerId:null,h=a.kind==="petal"?{layerId:a.layerId,index:a.index}:null,_=a.kind==="petals"&&f?a.petals:null,S=f&&(p||d!=null||h!=null||_&&_.length>0);return x.jsxs("g",{pointerEvents:"none",children:[g.map(y=>x.jsx(Xd,{flower:y,project:r,isFlowerSelected:!0,selectedLayerId:null,selectedPetal:null,selectedPetals:null,dashSyncToken:s},`overlay-multi-${y.id}`)),S&&f&&x.jsx(Xd,{flower:f,project:r,isFlowerSelected:p,selectedLayerId:d,selectedPetal:h,selectedPetals:_,dashSyncToken:s},`overlay-single-${f.id}`)]})}function Xd(c){const{flower:r,project:a,isFlowerSelected:i,selectedLayerId:s,selectedPetal:f,selectedPetals:g,dashSyncToken:p}=c,d=te.useMemo(()=>[...r.layers||[]].sort((B,R)=>B.order-R.order),[r.layers]),h=r.fabricSquareSize??a.fabricSquareSize,{length:_,width:S}=Et(h),y=te.useMemo(()=>{let B=12;for(const R of d){if(!R.visible)continue;const q=R.scale??1,O=_*q,k=Math.max(0,R.radius-O*.28)+O;B=Math.max(B,k)}return B},[d,_]),w=i||s!=null||f!=null||g&&g.length>0,D=cr(""),v=cr(""),b=(B,R)=>B?.petalOverrides?.find(q=>q.index===R)??null;return x.jsxs("g",{transform:`translate(${r.position.x} ${r.position.y}) rotate(${r.rotation})`,children:[w&&f==null&&!g?.length&&x.jsx("circle",{r:Math.max(12,y),fill:"none",stroke:"#111",strokeWidth:.55,opacity:.35,vectorEffect:"non-scaling-stroke"}),d.map(B=>{if(!B.visible)return null;const R=360/Math.max(1,B.petalCount),q=B.scale??1,O=_*q,Z=S*(B.widthScale??1)*q,K=Math.max(0,B.radius-O*.28),P=K+O,W=s===B.id,F=f?.layerId===B.id||(g?.some(Y=>Y.layerId===B.id)??!1);return x.jsxs("g",{children:[Array.from({length:B.petalCount}).map((Y,X)=>{const z=(b(B,X)?.petalType??B.petalType)===""?D:v,L=B.offsetAngle+X*R,N=ta(L),H=Math.cos(N)*K,A=Math.sin(N)*K,C=f?.layerId===B.id&&f?.index===X,T=g?.some(U=>U.layerId===B.id&&U.index===X)??!1;return C||T||W||i?x.jsx("g",{transform:`translate(${H} ${A}) rotate(${L})`,children:x.jsx("path",{d:z,transform:`scale(${O} ${Z})`,fill:"none",stroke:"#111",vectorEffect:"non-scaling-stroke",strokeWidth:1.6,className:"tsumami-sel-dash",style:{animationDelay:"var(--tsumami-delay, 0s)"},opacity:.95},`dash-overlay-${p}-${B.id}-${X}`)},X):null}),W&&!F&&x.jsx("circle",{r:P,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})]},B.id)}),i&&x.jsx("circle",{r:y,fill:"none",stroke:"#111",strokeWidth:.6,opacity:.28,vectorEffect:"non-scaling-stroke"}),(()=>{if(!s)return null;const B=d.find(k=>k.id===s);if(!B||!B.visible||f!=null||(g?.length??0)>0)return null;const q=B.scale??1,O=_*q,Z=Math.max(0,B.radius-O*.28);return Z<=0?null:x.jsx("circle",{r:Z,fill:"none",stroke:"#111",strokeWidth:.55,opacity:.22,vectorEffect:"non-scaling-stroke"})})()]})}const Sa=1350;function Um(c){const{project:r,selection:a,setSelection:i,paletteMap:s,selectedFlowerId:f,setZoom:g,zoomLevel:p,setZoomLevel:d,ZOOM_LEVELS:h,setPan:_,showGrid:S,setShowGrid:y,setShowHelp:w,stageRef:D,viewBox:v,dashDelay:b,dashSyncToken:B,beginPan:R,updatePan:q,endPan:O,beginMarquee:I,updateMarquee:Z,endMarquee:k,marqueeRef:K,marqueeRect:P,beginFlowerDrag:W,updateFlowerDrag:F,endFlowerDrag:Y,scaleDragRef:X,updateScaleDrag:M,endScaleDrag:m,rotationDragRef:z,updateRotationDrag:L,endRotationDrag:N,widthScaleDragRef:H,updateWidthScaleDrag:A,endWidthScaleDrag:C,radiusDragRef:T,updateRadiusDrag:G,endRadiusDrag:U,beginScaleDrag:V,beginRotationDrag:ee,beginWidthScaleDrag:re,beginRadiusDrag:oe,togglePetalSelection:de,clientToSvgPoint:be}=c,he=te.useRef(!1),Me=te.useRef(!1),Re=te.useRef(c.applyUpdate),Ze=te.useRef(be);te.useEffect(()=>{Re.current=c.applyUpdate},[c.applyUpdate]),te.useEffect(()=>{Ze.current=be},[be]);const[lt,ht]=te.useState(!1),kt=te.useRef(null);te.useEffect(()=>{if(!lt)return;const fe=ke=>{kt.current&&!kt.current.contains(ke.target)&&ht(!1)};return document.addEventListener("mousedown",fe),()=>document.removeEventListener("mousedown",fe)},[lt]);const[Yt,mt]=te.useState("grab"),Ut=te.useRef("none"),xn=te.useRef("none"),Xn=te.useRef(void 0),Jn=te.useRef(void 0),Pe=te.useRef(null),vn=te.useRef(!0),zl=5,il=a.kind==="leaf"?`leaf:${a.leafId}`:a.kind==="flower"?`flower:${a.flowerId}`:a.kind==="group"?`group:${a.groupId}`:a.kind==="mixed"?`mixed:${a.flowerIds.join(",")}:${a.leafIds.join(",")}`:a.kind,rl=te.useRef(il);te.useEffect(()=>{il!==rl.current&&(rl.current=il,vn.current=!1,Pe.current=null,Ut.current="none",xn.current="none",Xn.current=void 0,Jn.current=void 0)},[il]);const[Dl,aa]=te.useState(!1),Vn=te.useRef(!1),[oi,Hn]=te.useState(null),Bt=5,pn=10,Oe=km({zoom:c.zoom,pan:c.pan,setZoom:g,setPan:_,zoomLevel:p,setZoomLevel:d,ZOOM_LEVELS:h,stageRef:D,endPan:O,endFlowerDrag:Y,endMarquee:k,endRotationDrag:N,endScaleDrag:m,endWidthScaleDrag:C,endRadiusDrag:U});return x.jsxs("div",{className:"rounded-2xl border bg-white p-2 shadow-sm min-w-0","data-testid":"panel-canvas",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canUndo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onUndo,disabled:!c.canUndo,title:" (Ctrl/Cmd+Z)","aria-label":"","data-testid":"btn-undo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 10h13a4 4 0 010 8H10"}),x.jsx("polyline",{points:"7 14 3 10 7 6"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${c.canRedo?"bg-white hover:bg-neutral-50":"bg-neutral-100 text-neutral-400"}`,onClick:c.onRedo,disabled:!c.canRedo,title:" (Ctrl/Cmd+Shift+Z)","aria-label":"","data-testid":"btn-redo",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M21 10H8a4 4 0 000 8h6"}),x.jsx("polyline",{points:"17 14 21 10 17 6"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p>=h.length-1?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(1),disabled:p>=h.length-1,title:"","aria-label":"","data-testid":"btn-zoom-in",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"}),x.jsx("line",{x1:"10",y1:"7",x2:"10",y2:"13"})]})}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${p<=0?"bg-neutral-100 text-neutral-400":"bg-white hover:bg-neutral-50"}`,onClick:()=>Oe.zoomAtCenter(-1),disabled:p<=0,title:"","aria-label":"","data-testid":"btn-zoom-out",children:x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"10",cy:"10",r:"7"}),x.jsx("line",{x1:"15",y1:"15",x2:"21",y2:"21"}),x.jsx("line",{x1:"7",y1:"10",x2:"13",y2:"10"})]})}),x.jsx("div",{className:"w-px bg-neutral-200 mx-0.5 self-stretch"}),x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${S?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>y(fe=>!fe),title:"","aria-label":"","aria-pressed":S,"data-testid":"btn-grid",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",children:[x.jsx("line",{x1:"3",y1:"3",x2:"3",y2:"21"}),x.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),x.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),x.jsx("line",{x1:"21",y1:"3",x2:"21",y2:"21"}),x.jsx("line",{x1:"3",y1:"3",x2:"21",y2:"3"}),x.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),x.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"}),x.jsx("line",{x1:"3",y1:"21",x2:"21",y2:"21"})]})}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>Oe.resetView(5,h[5]),title:"","aria-label":"","data-testid":"btn-reset-view",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M3 12a9 9 0 1 1 3 6.7"}),x.jsx("polyline",{points:"3 22 3 16 9 16"})]})}),x.jsxs("div",{className:"relative",ref:kt,children:[x.jsx("button",{className:`flex h-7 w-7 items-center justify-center rounded-lg border focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none ${lt?"bg-neutral-900 text-white border-neutral-900":"border-neutral-200 bg-white hover:bg-neutral-50"}`,onClick:()=>ht(fe=>!fe),title:"","aria-label":"","data-testid":"btn-stencil",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"5",r:"3"}),x.jsx("path",{d:"M12 8c-3 0-5 2-5 4.5V14h2l.5 7h5l.5-7h2v-1.5C17 10 15 8 12 8z"})]})}),lt&&x.jsxs("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg border bg-white py-1 shadow-lg","data-testid":"stencil-menu",children:[["adult","child"].map(fe=>x.jsxs("div",{children:[x.jsx("div",{className:"px-3 py-1 text-[10px] font-semibold text-neutral-400 uppercase",children:l1[fe]}),["right","left","back"].map(ke=>x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs hover:bg-neutral-50",onClick:()=>{c.onAddStencil(fe,ke),ht(!1)},"data-testid":`stencil-add-${fe}-${ke}`,children:a1[ke]},`${fe}-${ke}`))]},fe)),c.selectedStencilId&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"my-1 border-t border-neutral-200"}),x.jsx("button",{className:"w-full px-3 py-1.5 text-left text-xs text-red-600 hover:bg-red-50",onClick:()=>{c.selectedStencilId&&c.onDeleteStencil(c.selectedStencilId),ht(!1)},"data-testid":"stencil-delete",children:""})]})]})]}),x.jsx("button",{className:"flex h-7 w-7 items-center justify-center rounded-lg border border-neutral-200 bg-white hover:bg-neutral-50 focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:outline-none",onClick:()=>w(!0),title:"","aria-label":"","data-testid":"btn-help",children:x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("path",{d:"M9 9a3 3 0 015.12 1.5c0 1.5-2.12 2-2.12 3.5"}),x.jsx("circle",{cx:"12",cy:"18",r:"0.5",fill:"currentColor"})]})})]})]}),x.jsxs("div",{className:"mt-2 overflow-hidden rounded-2xl border",style:{display:"grid",gridTemplateColumns:S?"24px 1fr":"1fr",gridTemplateRows:S?"20px 1fr":"1fr"},children:[S&&x.jsx("div",{className:"bg-neutral-100 border-r border-b border-neutral-200",style:{fontSize:0}}),S&&(()=>{const[fe,,ke,Be]=v.split(/\s+/).map(Number),Se=un,ye=Math.max(ke,Be)/Se,ze=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(fe/Se/we)*we-we,Je=Math.ceil((fe+ke)/Se/we)*we+we,Ve=[];for(let Le=$e;Le<=Je;Le+=we){const et=(Le*Se-fe)/ke*100;if(et<-2||et>102)continue;const zt=Math.abs(Le),rt=zt%ze===0,nt=zt%Fe===0,bt=rt?10:nt?6:3;Ve.push(x.jsx("line",{x1:`${et}%`,y1:20-bt,x2:`${et}%`,y2:20,stroke:"#999",strokeWidth:rt?.8:.4},Le)),rt&&Ve.push(x.jsx("text",{x:`${et}%`,y:9,textAnchor:"middle",fontSize:7,fill:"#666",children:Le},`t${Le}`))}return x.jsx("svg",{className:"w-full bg-neutral-50 border-b border-neutral-200",style:{height:20},preserveAspectRatio:"none",children:Ve})})(),S&&(()=>{const[,fe,ke,Be]=v.split(/\s+/).map(Number),Se=un,ye=Math.max(ke,Be)/Se,ze=[10,20,50,100,200,500,1e3].find(Le=>ye/Le<=15)??1e3,we=ze<=10?1:ze<=50?5:ze<=100?10:ze<=500?50:100,Fe=ze<=10?5:ze/2,$e=Math.floor(fe/Se/we)*we-we,Je=Math.ceil((fe+Be)/Se/we)*we+we,Ve=[];for(let Le=$e;Le<=Je;Le+=we){const et=(Le*Se-fe)/Be*100;if(et<-2||et>102)continue;const zt=Math.abs(Le),rt=zt%ze===0,nt=zt%Fe===0,bt=rt?10:nt?6:3;Ve.push(x.jsx("line",{x1:24-bt,y1:`${et}%`,x2:24,y2:`${et}%`,stroke:"#999",strokeWidth:rt?.8:.4},Le)),rt&&Ve.push(x.jsx("text",{x:12,y:`${et}%`,textAnchor:"middle",dominantBaseline:"middle",fontSize:7,fill:"#666",writingMode:"vertical-rl",children:Le},`t${Le}`))}return x.jsx("svg",{className:"h-full bg-neutral-50 border-r border-neutral-200",style:{width:24},preserveAspectRatio:"none",children:Ve})})(),x.jsxs("svg",{ref:D,className:"h-[calc(100dvh-180px)] w-full bg-white md:h-[520px]",viewBox:v,role:"img","aria-label":"","data-testid":"canvas-svg",style:{"--tsumami-delay":b,cursor:Dl?"crosshair":"grab"},onDoubleClick:fe=>{fe.target===fe.currentTarget&&(aa(ke=>!ke),i({kind:"project"}))},onPointerDown:fe=>{if(Oe.multiTouchRef.current)return;if(fe.button===1){Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(fe);return}if(fe.button!==0)return;const ke=fe.pointerType==="touch";if(ke&&fe.target===fe.currentTarget&&f){if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const Se=r.flowers.find(ye=>ye.id===f);if(Se){const ye=be(fe),{zone:Ae,layerId:ze,petalIndex:we}=ui(ye.x,ye.y,Se,r,a),{length:Fe}=Et(Se.fabricSquareSize??r.fabricSquareSize),$e=M0(Ae,a.kind,{hitLayerId:ze,flower:Se,length:Fe});if($e!=="none"&&$e!=="center"){Hn({x:ye.x,y:ye.y,zone:$e});const Je=a.kind==="layer"?"layer":"flower",Ve=a.kind==="layer"?a.layerId:ze;switch($e){case"rotate":ee(Je,f,fe,{layerId:Ve});return;case"scale":V(Je,f,fe,{layerId:Ve});return;case"width":re(Je,f,fe,{layerId:Ve,petalIndex:we});return;case"radius":oe(Je,f,fe,{layerId:Ve});return;case"move":W(f,fe);return}}}}Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe);return}if(fe.target===fe.currentTarget&&f&&Yt!=="grab"&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals")){const Se=Ut.current;if(Se!=="none"&&Se!=="center"){const ye=a.kind==="layer"?"layer":"flower",Ae=a.kind==="layer"?a.layerId:Xn.current;switch(Se){case"rotate":ee(ye,f,fe,{layerId:Ae});return;case"scale":V(ye,f,fe,{layerId:Ae});return;case"width":re(ye,f,fe,{layerId:Ae,petalIndex:Jn.current});return;case"radius":oe(ye,f,fe,{layerId:Ae});return;case"move":W(f,fe);return}}}if(fe.target===fe.currentTarget&&a.kind==="leaf"&&c.selectedLeafId&&Yt!=="grab"){const Be=xn.current;if(Be!=="none"){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){fe.preventDefault();const ye=be(fe);if(Me.current=!0,Be==="rotate"){const Ae=Se.position,ze=Se.rotation,we=Math.atan2(ye.y-Ae.y,ye.x-Ae.x)*180/Math.PI,Fe=Se.id,$e=nr(Be,"/tsumami/");mt($e),D.current&&(D.current.style.cursor=$e);let Je=!1;const Ve=qt=>{const et=be(qt),rt=Math.atan2(et.y-Ae.y,et.x-Ae.x)*180/Math.PI-we;Math.abs(rt)>.5&&(Je=!0),c.applyUpdate(nt=>{const bt=(nt.leaves??[]).find(yn=>yn.id===Fe);bt&&(bt.rotation=((ze+rt)%360+360)%360)},!1)},Le=()=>{Me.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Le),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Le);return}else if(Be==="scale"){const Ae=Se.position,ze=Se.scale??1,we=Math.max(1,Math.hypot(ye.x-Ae.x,ye.y-Ae.y)),Fe=Se.id,$e=nr(Be,"/tsumami/");mt($e),D.current&&(D.current.style.cursor=$e);let Je=!1;const Ve=qt=>{const et=be(qt),rt=Math.hypot(et.x-Ae.x,et.y-Ae.y)/we;Math.abs(rt-1)>.01&&(Je=!0),c.applyUpdate(nt=>{const bt=(nt.leaves??[]).find(yn=>yn.id===Fe);bt&&(bt.scale=Math.max(.3,Math.min(3,ze*rt)))},!1)},Le=()=>{Me.current=!1,document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Le),Je&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Le);return}else if(Be==="width"){const Ae=Se.position,ze=Se.rotation*Math.PI/180,we=-Math.sin(ze),Fe=Math.cos(ze),$e=Se.widthScale??1,Je=Math.max(1,Math.abs((ye.x-Ae.x)*we+(ye.y-Ae.y)*Fe)),Ve=Se.id,Le=nr(Be,"/tsumami/");mt(Le),D.current&&(D.current.style.cursor=Le);let qt=!1;const et=rt=>{const nt=be(rt),yn=Math.abs((nt.x-Ae.x)*we+(nt.y-Ae.y)*Fe)/Je;Math.abs(yn-1)>.01&&(qt=!0),c.applyUpdate(Ca=>{const Wt=(Ca.leaves??[]).find(De=>De.id===Ve);Wt&&(Wt.widthScale=Math.max(.3,Math.min(3,$e*yn)))},!1)},zt=()=>{Me.current=!1,document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",zt),qt&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",et),document.addEventListener("pointerup",zt);return}else{const Ae=ye,ze={...Se.position},we=Se.id;mt(On("/tsumami/")),D.current&&(D.current.style.cursor=On("/tsumami/"));let Fe=!1;const $e=Ve=>{const Le=be(Ve),qt=Le.x-Ae.x,et=Le.y-Ae.y;Math.abs(qt)+Math.abs(et)>1&&(Fe=!0),c.applyUpdate(zt=>{const rt=(zt.leaves??[]).find(nt=>nt.id===we);rt&&(rt.position.x=Math.max(0,Math.min(Sa,ze.x+qt)),rt.position.y=Math.max(0,Math.min(Sa,ze.y+et)))},!1)},Je=()=>{Me.current=!1,document.removeEventListener("pointermove",$e),document.removeEventListener("pointerup",Je),Fe&&c.applyUpdate(()=>{},!0)};document.addEventListener("pointermove",$e),document.addEventListener("pointerup",Je);return}}}}if(fe.target===fe.currentTarget){ke?(Oe.setTouchBgStart({x:fe.clientX,y:fe.clientY}),R(fe)):Dl?I(fe):(Oe.setMouseBgStart({x:fe.clientX,y:fe.clientY}),Vn.current=!0,D.current&&(D.current.style.cursor="grabbing"),R(fe));return}},onPointerMove:fe=>{if(he.current||Me.current)return;if(K.current){Z(fe);return}if(z.current){L(fe);return}if(X.current){M(fe);return}if(H.current){A(fe);return}if(T.current){G(fe);return}F(fe),q(fe);const ke=!!c.dragRef?.current||!!K.current||!!z.current||!!X.current||!!H.current||!!T.current||Vn.current,Be=f&&(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals");if(!ke&&Be){const Se=r.flowers.find(ye=>ye.id===f);if(Se){const ye=be(fe);if(Pe.current&&!vn.current){if(Math.hypot(ye.x-Pe.current.x,ye.y-Pe.current.y)<zl){const{zone:Le}=ui(ye.x,ye.y,Se,r,a);Le==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}vn.current=!0,Pe.current=null}const{zone:Ae,layerId:ze,petalIndex:we}=ui(ye.x,ye.y,Se,r,a),{length:Fe}=Et(Se.fabricSquareSize??r.fabricSquareSize),$e=M0(Ae,a.kind,{hitLayerId:ze,flower:Se,length:Fe});$e!=="none"&&(Ut.current=$e,Xn.current=ze,Jn.current=we);const Je=Ud($e,"/tsumami/");mt(Je),D.current&&(D.current.style.cursor=Je)}}if(!ke&&a.kind==="leaf"&&c.selectedLeafId){const Se=c.leaves.find(ye=>ye.id===c.selectedLeafId);if(Se){const ye=be(fe);if(Pe.current&&!vn.current){if(Math.hypot(ye.x-Pe.current.x,ye.y-Pe.current.y)<zl)return;vn.current=!0,Pe.current=null}const Ae=cm(ye.x,ye.y,Se,r);Ae!=="none"&&(xn.current=Ae);const ze=nr(Ae,"/tsumami/");mt(ze),D.current&&(D.current.style.cursor=ze)}}},onPointerUp:fe=>{if(!he.current&&!Me.current){if(Hn(null),K.current&&Dl&&aa(!1),k(),N(),m(),C(),U(),Y(),O(),Vn.current&&(Vn.current=!1,D.current&&(D.current.style.cursor=Dl?"crosshair":"grab")),Oe.touchBgStartRef.current&&fe.pointerType==="touch"){const ke=fe.clientX-Oe.touchBgStartRef.current.x,Be=fe.clientY-Oe.touchBgStartRef.current.y;Math.hypot(ke,Be)<pn&&i({kind:"project"}),Oe.setTouchBgStart(null);return}if(Oe.setTouchBgStart(null),Oe.mouseBgStartRef.current&&fe.pointerType==="mouse"){const ke=fe.clientX-Oe.mouseBgStartRef.current.x,Be=fe.clientY-Oe.mouseBgStartRef.current.y;if(Oe.setMouseBgStart(null),Math.hypot(ke,Be)<Bt){i({kind:"project"});return}}if(Oe.setMouseBgStart(null),f){const ke=r.flowers.find(Be=>Be.id===f);if(ke){const Be=be(fe);if(Pe.current&&Math.hypot(Be.x-Pe.current.x,Be.y-Pe.current.y)<zl){const{zone:Je}=ui(Be.x,Be.y,ke,r,a);Je==="center"&&(mt("pointer"),D.current&&(D.current.style.cursor="pointer"));return}const{zone:Se,layerId:ye,petalIndex:Ae}=ui(Be.x,Be.y,ke,r,a),{length:ze}=Et(ke.fabricSquareSize??r.fabricSquareSize),we=M0(Se,a.kind,{hitLayerId:ye,flower:ke,length:ze});we!=="none"&&(Ut.current=we,Xn.current=ye,Jn.current=Ae);const Fe=Ud(we,"/tsumami/");mt(Fe),D.current&&(D.current.style.cursor=Fe)}}}},onPointerLeave:()=>{k(),N(),m(),C(),U(),Y(),O(),Vn.current=!1,Oe.setTouchBgStart(null),Oe.setMouseBgStart(null),mt("grab"),Pe.current=null,vn.current=!0,Ut.current="none",xn.current="none",Xn.current=void 0,Jn.current=void 0},children:[x.jsx("title",{children:""}),x.jsx("defs",{children:x.jsx("style",{children:`
              @keyframes tsumamiBlink {
                0%, 100% { opacity: 0.95; }
                50% { opacity: 0.15; }
              }
              .tsumami-sel-dash {
                stroke-dasharray: 4 3;
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
              .tsumami-group-dash {
                animation: tsumamiBlink 0.75s ease-in-out infinite;
                animation-delay: var(--tsumami-delay, 0s);
              }
            `})}),(()=>{const[fe,ke,Be,Se]=v.split(/\s+/).map(Number),ye=Sa;return x.jsxs("g",{pointerEvents:"none",children:[x.jsx("defs",{children:x.jsxs("mask",{id:"canvas-mask",children:[x.jsx("rect",{x:fe,y:ke,width:Be,height:Se,fill:"white"}),x.jsx("rect",{x:0,y:0,width:ye,height:ye,fill:"black"})]})}),x.jsx("rect",{x:fe,y:ke,width:Be,height:Se,fill:"#E5E5E5",mask:"url(#canvas-mask)"})]})})(),x.jsx("rect",{x:0,y:0,width:Sa,height:Sa,fill:"none",stroke:"#CBD5E1",strokeWidth:1,vectorEffect:"non-scaling-stroke",pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:Sa,y2:0,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),x.jsx("line",{x1:0,y1:0,x2:0,y2:Sa,stroke:"#E5E5E5",strokeWidth:.5,pointerEvents:"none"}),S&&(()=>{const fe=un,[ke,Be,Se,ye]=v.split(/\s+/).map(Number),Ae=Math.max(Se,ye)/fe,we=[10,20,50,100,200,500,1e3].find(nt=>Ae/nt<=15)??1e3,Fe=Math.floor(ke/fe/we)*we-we,$e=Math.ceil((ke+Se)/fe/we)*we+we,Je=Math.floor(Be/fe/we)*we-we,Ve=Math.ceil((Be+ye)/fe/we)*we+we,Le=Je*fe,qt=Ve*fe,et=Fe*fe,zt=$e*fe,rt=[];for(let nt=Fe;nt<=$e;nt+=we){const bt=nt*fe;rt.push(x.jsx("line",{x1:bt,y1:Le,x2:bt,y2:qt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gv${nt}`))}for(let nt=Je;nt<=Ve;nt+=we){const bt=nt*fe;rt.push(x.jsx("line",{x1:et,y1:bt,x2:zt,y2:bt,stroke:"#D1D5DB",strokeWidth:.5,vectorEffect:"non-scaling-stroke",pointerEvents:"none",opacity:.35},`gh${nt}`))}return x.jsx("g",{children:rt})})(),x.jsx(Im,{stencils:c.stencils,selectedStencilId:c.selectedStencilId,selection:a,stageRef:D,applyUpdateRef:Re,clientToSvgPointRef:Ze,stencilDraggingRef:he,onSelectStencil:c.onSelectStencil}),x.jsx(Gm,{project:r,selection:a,setSelection:i,paletteMap:s,selectedFlowerId:f,zoneCursorValue:Yt,dashSyncToken:B,stageRef:D,multiTouchRef:Oe.multiTouchRef,clientToSvgPoint:be,togglePetalSelection:de,handleShiftFlowerSelect:c.handleShiftFlowerSelect,groupHighlightedFlowerIds:c.groupHighlightedFlowerIds,beginFlowerDrag:W,beginScaleDrag:V,beginRotationDrag:ee,beginWidthScaleDrag:re,beginRadiusDrag:oe,clickOriginRef:Pe,zoneActivatedRef:vn,setZoneCursorValue:mt,setTouchZoneIndicator:Hn,hoverZoneRef:Ut,hoverHitLayerIdRef:Xn,hoverHitPetalIndexRef:Jn}),x.jsx(Rm,{leaves:c.leaves,project:r,selection:a,paletteMap:s,dashSyncToken:B,selectedLeafId:c.selectedLeafId,groupHighlightedLeafIds:c.groupHighlightedLeafIds,zoneCursorValue:Yt,stageRef:D,applyUpdateRef:Re,clientToSvgPointRef:Ze,leafDraggingRef:Me,clickOriginRef:Pe,zoneActivatedRef:vn,setZoneCursorValue:mt,onSelectLeaf:c.onSelectLeaf,onSelectGroup:c.onSelectGroup,onShiftSelectLeaf:c.onShiftSelectLeaf,hoverLeafZoneRef:xn}),x.jsx(Ym,{project:r,selection:a,selectedFlowerId:f,dashSyncToken:B}),x.jsx(Om,{rect:P}),x.jsx(Hm,{indicator:oi})]})]}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:" "})]})}function Jd(c,r,a){return Math.min(a,Math.max(r,c))}function Ke({value:c,onChange:r,min:a=-1/0,max:i=1/0,step:s,className:f,...g}){const[p,d]=te.useState(null),h=te.useRef(null),_=te.useCallback(w=>{const D=Number(w);isNaN(D)||r(Jd(D,a,i)),d(null)},[r,a,i]),S=te.useCallback(()=>{d(null)},[]),y=te.useCallback(w=>{const D=s??1,b=(Number(p??c)||0)+D*w,B=Jd(b,a,i),R=String(D).includes(".")?String(D).split(".")[1].length:0,q=Number(B.toFixed(R));d(String(q)),r(q)},[p,c,s,a,i,r]);return x.jsxs("div",{className:"relative flex",children:[x.jsx("input",{ref:h,type:"text",inputMode:"decimal",className:f??"w-full rounded-lg rounded-r-none border border-r-0 border-neutral-200 px-2 py-1.5 text-sm focus:border-blue-400 focus:outline-none",value:p??String(c),onChange:w=>d(w.target.value),onFocus:w=>{d(String(c)),requestAnimationFrame(()=>w.target.select())},onBlur:()=>{p!==null&&_(p)},onKeyDown:w=>{w.key==="Enter"?(w.preventDefault(),p!==null&&_(p),h.current?.blur()):w.key==="Escape"?(w.preventDefault(),S(),h.current?.blur()):(w.key==="ArrowUp"||w.key==="ArrowDown")&&(w.preventDefault(),y(w.key==="ArrowUp"?1:-1))},...g}),x.jsxs("div",{className:"flex flex-col border border-neutral-200 rounded-r-lg overflow-hidden","data-spin-buttons":!0,children:[x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none border-b border-neutral-200",onPointerDown:w=>{w.preventDefault(),y(1)},children:""}),x.jsx("button",{type:"button",tabIndex:-1,className:"flex items-center justify-center w-5 flex-1 hover:bg-neutral-100 active:bg-neutral-200 text-neutral-500 text-[8px] leading-none",onPointerDown:w=>{w.preventDefault(),y(-1)},children:""})]})]})}function or({title:c,compact:r,children:a}){return x.jsxs("div",{className:r?"mt-3":"mt-4",children:[x.jsx("div",{className:"mb-2 text-xs font-semibold text-neutral-600",children:c}),x.jsx("div",{className:"space-y-3",children:a})]})}function Km({flower:c,fabricSquareSize:r,placementMode:a,applyUpdate:i}){const f=te.useMemo(()=>{const b=[...c.layers||[]].sort((P,W)=>P.order-W.order);if(b.length<2)return{mode:"uniform",step:2};const B=b.map(P=>P.scale??1);if(B.every(P=>Math.abs(P-B[0])<.001))return{mode:"uniform",step:2};const q=b[0],O=b[b.length-1],I=(O.order??1)-(q.order??1);if(I<=0)return{mode:"gradual",step:2};const k=((q.scale??1)-(O.scale??1))/I,K=Math.round(k*r*2)/2;return{mode:"gradual",step:pe(K,0,10)}},[c.id]),[g,p]=te.useState(f.mode),[d,h]=te.useState(f.step),[_,S]=te.useState(0);te.useEffect(()=>{p(f.mode),h(f.step),S(0)},[f]);const y=te.useMemo(()=>[...c.layers||[]].sort((b,B)=>b.order-B.order),[c.layers]),w=y[0],D=w?w.order:0,v=te.useMemo(()=>{if(!w)return[];const b=w.scale??1,B=w.radius,R=new Map;for(const P of y){const W=P.order-D;if(W===0)R.set(P.id,b);else if(g==="uniform")R.set(P.id,b);else{const F=d/r;R.set(P.id,pe(b-W*F,.3,3))}}const{length:q}=Et(r),O=y.length,I=70*Math.PI/180,Z=new Map;let k=B;Z.set(w.id,B);for(let P=1;P<O;P++){const W=y[P-1],F=R.get(W.id)??1,Y=q*F;let X;if(a===""){const M=O-1-P,m=O>1?M/(O-1)*I:0;X=Y*(30/100)*Math.cos(m)}else X=Y/3;k=k-X,Z.set(y[P].id,Math.max(2,k))}const K=y.map(P=>{const W=R.get(P.id)??1,F=Math.round((Z.get(P.id)??B)*10)/10,Y=Math.round(r*W*10)/10;return{id:P.id,name:P.name,order:P.order,effScale:W,effFabricSize:Y,effRadius:F}});if(K.length>0){const P=K[K.length-1],W=q*P.effScale,F=Math.floor(W*.28*10)/10;P.effRadius>F&&(P.effRadius=F)}return K},[y,w,D,g,d,30,r,a]);return te.useEffect(()=>{_!==0&&(!w||v.length===0||i(b=>{const B=b.flowers.find(q=>q.id===c.id);if(!B)return;for(const q of v){const O=B.layers.find(I=>I.id===q.id);O&&(O.scale=pe(q.effScale,.3,3),O.radius=pe(q.effRadius,2,120))}const R=[...B.layers].sort((q,O)=>O.order-q.order);for(let q=1;q<R.length;q++){const O=R[q-1],I=R[q];I.offsetAngle=tl(O.petalCount,O.offsetAngle,I.petalCount)}}))},[_]),y.length<2?null:x.jsxs(or,{title:"",children:[x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:""}),x.jsxs("select",{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:g,onChange:b=>{p(b.target.value),S(B=>B+1)},children:[x.jsx("option",{value:"uniform",children:""}),x.jsx("option",{value:"gradual",children:""})]})]}),g==="gradual"&&x.jsxs(wx,{children:[x.jsx("span",{className:"text-[11px] text-neutral-500",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border border-neutral-200 px-2 py-1.5 text-xs",value:d,min:0,max:10,step:.5,onChange:b=>{h(b),S(B=>B+1)}}),x.jsx("div",{className:"mt-1 text-xs text-neutral-600",children:"1mm"})]}),x.jsxs("div",{className:"mt-2 rounded-xl border border-neutral-200 bg-neutral-50 p-2",children:[x.jsx("div",{className:"mb-1 text-xs font-bold text-neutral-500",children:""}),v.map(b=>x.jsxs("div",{className:"flex justify-between text-xs text-neutral-700",children:[x.jsx("span",{children:b.name}),x.jsxs("span",{children:[" ",b.effFabricSize,"mm /  ",Math.round(ar(b.effRadius,b.effScale,r)),"mm"]})]},b.id))]})]})}const i1="tsumami_recent_colors_v1",Ox=10;function Zm(c){const r=new Set;for(const a of c.flowers){for(const i of a.layers)if(r.add(i.colorId),i.petalOverrides)for(const s of i.petalOverrides)s.colorId&&r.add(s.colorId);a.center&&(r.add(a.center.color),a.center.color2&&r.add(a.center.color2))}return r}function Nx(){try{const c=localStorage.getItem(i1);if(c){const r=JSON.parse(c);if(Array.isArray(r))return r.slice(0,Ox)}}catch{}return[]}function Xm(c){try{localStorage.setItem(i1,JSON.stringify(c.slice(0,Ox)))}catch{}}function Jm(c){const r=Nx(),a=[c,...r.filter(i=>i!==c)].slice(0,Ox);Xm(a)}function Zn({palette:c,project:r,selectedColorId:a,onChange:i,size:s="md"}){const[f,g]=te.useState(!1),p=te.useRef(null),[d,h]=te.useState(Nx);te.useEffect(()=>{if(!f)return;const v=b=>{p.current&&!p.current.contains(b.target)&&g(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[f]);const _=te.useMemo(()=>Zm(r),[r]),S=te.useMemo(()=>{const v=new Set;v.add(a);for(const b of _)v.add(b);for(const b of d)v.add(b);return c.filter(b=>v.has(b.id))},[c,a,_,d]),y=te.useCallback(v=>{Jm(v),h(Nx()),i(v)},[i]),w=s==="sm"?"h-4 w-4":"h-5 w-5",D=f?c:S;return x.jsx("div",{ref:p,children:x.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[D.map(v=>x.jsx("button",{className:`${w} rounded border-2 ${a===v.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:v.hex},title:v.name,"aria-label":`: ${v.name}`,onClick:()=>y(v.id)},v.id)),c.length>S.length&&x.jsx("button",{className:`${w} rounded border border-neutral-300 bg-white hover:bg-neutral-50 flex items-center justify-center text-neutral-400`,onClick:()=>g(v=>!v),title:f?"":"","aria-label":f?"":"",children:x.jsx("svg",{width:s==="sm"?8:10,height:s==="sm"?8:10,viewBox:"0 0 10 10",fill:"currentColor",children:f?x.jsx("path",{d:"M2 6.5 L5 3.5 L8 6.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}):x.jsx("path",{d:"M2 3.5 L5 6.5 L8 3.5",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})}function Vm({project:c,applyUpdate:r,selectedFlower:a}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-flower",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:a.name,onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f&&(f.name=i.target.value)}),"data-testid":"prop-flower-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(i=>{const s=a.layers.every(f=>f.petalType===i);return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${s?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const g=f.flowers.find(p=>p.id===a.id);if(g)for(const p of g.layers)p.petalType=i}),children:i},i)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:$d.map(i=>{const s=a.placementMode??"";return x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${s===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{s!==i&&r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;g.placementMode=i;const p=g.fabricSquareSize??f.fabricSquareSize;i===""?g.baseDiameter=lr(g.flowerDiameter):g.baseDiameter||(g.baseDiameter=f.baseDiameter),Rh(g.layers,p,i,g.flowerDiameter)},!0)},children:i},i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),(a.placementMode??"")===""?x.jsx(Ke,{value:a.baseDiameter??c.baseDiameter,min:10,max:200,onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f&&(f.baseDiameter=i)})}):x.jsxs("div",{className:"rounded border border-neutral-200 bg-neutral-50 px-1.5 py-1 text-xs text-neutral-500",children:[lr(a.flowerDiameter),"mm"]})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:a.layers[0]?.petalCount??6,min:5,max:24,"data-testid":"prop-petal-count",onChange:i=>{r(s=>{const f=s.flowers.find(d=>d.id===a.id);if(!f)return;const g=si(i);for(const d of f.layers)d.petalCount=i,d.widthScale=g;const p=[...f.layers].sort((d,h)=>h.order-d.order);for(let d=1;d<p.length;d++)p[d].offsetAngle=tl(p[d-1].petalCount,p[d-1].offsetAngle,p[d].petalCount)})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{value:Math.round(a.flowerDiameter),min:10,max:200,"data-testid":"prop-flower-diameter",onChange:i=>r(s=>{const f=s.flowers.find(p=>p.id===a.id);if(!f)return;f.flowerDiameter=i,f.placementMode===""&&(f.baseDiameter=lr(i));const g=[...f.layers].sort((p,d)=>p.order-d.order);V0(g,f.fabricSquareSize??s.fabricSquareSize,i);for(const p of g){const d=f.layers.find(h=>h.id===p.id);d&&(d.radius=p.radius,d.scale=p.scale)}})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(a.layers[0]?.widthScale??1).toFixed(2),onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);if(f)for(const g of f.layers)g.widthScale=i})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:Number(a.rotation).toFixed(1),"data-testid":"prop-flower-rotation",onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f&&(f.rotation=i)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.layers.every(i=>i.colorId===a.layers[0]?.colorId)?a.layers[0]?.colorId??"":"",onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);if(f)for(const g of f.layers)g.colorId=i})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:a.layers.every(i=>!!i.doublePetal),onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);if(f)for(const g of f.layers)if(i.target.checked){if(!g.doublePetal){const p=g._doublePetalCache;g.doublePetal=p??{innerSizeReduction:2},delete g._doublePetalCache}}else g.doublePetal&&(g._doublePetalCache={...g.doublePetal}),delete g.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),a.layers.every(i=>!!i.doublePetal)&&(()=>{const i=[...new Set(a.layers.map(p=>p.doublePetal.innerSizeReduction))],s=i.length===1?i[0]:null,f=[...new Set(a.layers.map(p=>p.doublePetal.innerColorId??p.colorId))],g=f.length===1?f[0]:null;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:s??"",placeholder:"",onChange:p=>r(d=>{const h=d.flowers.find(_=>_.id===a.id);if(h)for(const _ of h.layers)_.doublePetal&&(_.doublePetal.innerSizeReduction=pe(p,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:g??"",onChange:p=>r(d=>{const h=d.flowers.find(_=>_.id===a.id);if(h)for(const _ of h.layers)_.doublePetal&&(p===_.colorId?delete _.doublePetal.innerColorId:_.doublePetal.innerColorId=p)})})]})]})})(),x.jsxs("div",{className:"text-[11px] text-neutral-400",children:[a.layers.length," "]})]}),x.jsxs("div",{className:"mt-2 rounded-lg border border-neutral-200 p-1.5","data-testid":"section-center",children:[x.jsx("div",{className:"text-[11px] font-semibold text-neutral-600 mb-1.5",children:""}),a.center?x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"grid grid-cols-2 gap-1",children:Zh.map(i=>x.jsx("button",{className:`rounded border px-1.5 py-0.5 text-xs ${a.center.type===i?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f?.center&&(f.center.type=i,i===""&&!f.center.pepCount&&(f.center.pepCount=12),i===""&&!f.center.color2&&(f.center.color2=c.palette[1]?.id??c.palette[0]?.id))}),children:i},i))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:.5,value:a.center.size,onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f?.center&&(f.center.size=i)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color,size:"sm",onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f?.center&&(f.center.color=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:a.center.color2??"",size:"sm",onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f?.center&&(f.center.color2=i)})})]}),a.center.type===""&&x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:4,max:30,value:a.center.pepCount??12,onChange:i=>r(s=>{const f=s.flowers.find(g=>g.id===a.id);f?.center&&(f.center.pepCount=i)})})]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>r(i=>{const s=i.flowers.find(f=>f.id===a.id);s&&delete s.center}),children:""})]}):x.jsx("button",{className:"w-full rounded border border-neutral-200 bg-white px-2 py-1 text-xs hover:bg-neutral-50",onClick:()=>r(i=>{const s=i.flowers.find(f=>f.id===a.id);s&&(s.center={type:"",size:6,color:c.palette[0]?.id??"col_white"})}),"data-testid":"btn-add-center",children:"+ "})]}),x.jsx(Km,{flower:a,fabricSquareSize:a.fabricSquareSize??c.fabricSquareSize,placementMode:a.placementMode??"",applyUpdate:r})]})}function Wm({project:c,applyUpdate:r,selectedFlowers:a,onGroupFlowers:i,onUngroupFlowers:s,onAddToGroup:f,onMergeGroups:g}){const p=a,d=[...new Set(p.flatMap(S=>S.layers.map(y=>y.petalType)))],h=d.length===1?d[0]:null,_=S=>{r(y=>{for(const w of p){const D=y.flowers.find(v=>v.id===w.id);D&&S(D)}},!0)};return x.jsxs(or,{title:" ",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(S=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:S.hex},title:S.name,onClick:()=>_(y=>{for(const w of y.layers)w.colorId=S.id})},S.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${h===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>_(y=>{for(const w of y.layers)w.petalType=S}),children:S},S))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:p[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:S=>{const y=si(S);_(w=>{for(const v of w.layers)v.petalCount=S,v.widthScale=y;const D=[...w.layers].sort((v,b)=>b.order-v.order);for(let v=1;v<D.length;v++)D[v].offsetAngle=tl(D[v-1].petalCount,D[v-1].offsetAngle,D[v].petalCount)})}}),x.jsx("div",{className:"mt-2 text-[11px] text-neutral-500",children:p.map(S=>x.jsxs("div",{children:[S.name," (",S.layers.length,")"]},S.id))}),(()=>{const S=p.map(b=>nl(c,b.id)),y=p.filter(b=>!nl(c,b.id)).map(b=>b.id),w=[...new Set(S.filter(Boolean).map(b=>b.id))],D=y.length===p.length,v=w.length===1&&S.every(b=>b!=null);return x.jsxs(x.Fragment,{children:[D&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(p.map(b=>b.id)),children:""}),v&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>s(w[0]),children:""}),w.length===1&&y.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(w[0],y),children:[" (+",y.length,")"]}),w.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(w,y),children:[" (",w.length,"",y.length>0?` +${y.length}`:"",")"]})]})})()]})}function Qm({project:c,applyUpdate:r,selectedFlowers:a,groups:i,groupId:s,onUngroupFlowers:f,onUngroupAll:g}){const p=i.find(w=>w.id===s);if(!p)return null;const d=a,h=(c.leaves??[]).filter(w=>p.leafIds.includes(w.id)),_=[...new Set(d.flatMap(w=>w.layers.map(D=>D.petalType)))],S=_.length===1?_[0]:null,y=w=>{r(D=>{for(const v of d){const b=D.flowers.find(B=>B.id===v.id);b&&w(b)}},!0)};return x.jsxs(or,{title:"",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:w=>r(D=>{const v=(D.groups??[]).find(b=>b.id===p.id);v&&(v.name=w.target.value)})})]}),x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800 mt-1.5",children:[d.length>0&&x.jsxs("span",{children:[d.length,""]}),d.length>0&&h.length>0&&x.jsx("span",{children:" + "}),h.length>0&&x.jsxs("span",{children:[h.length,""]})]}),d.length>0&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.palette.map(w=>x.jsx("button",{className:"h-6 w-6 rounded border-2 border-neutral-300 hover:border-black",style:{background:w.hex},title:w.name,onClick:()=>y(D=>{for(const v of D.layers)v.colorId=w.id})},w.id))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(w=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${S===w?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>y(D=>{for(const v of D.layers)v.petalType=w}),children:w},w))}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:d[0]?.layers[0]?.petalCount??6,placeholder:"",onChange:w=>{const D=si(w);y(v=>{for(const B of v.layers)B.petalCount=w,B.widthScale=D;const b=[...v.layers].sort((B,R)=>R.order-B.order);for(let B=1;B<b.length;B++)b[B].offsetAngle=tl(b[B-1].petalCount,b[B-1].offsetAngle,b[B].petalCount)})}})]}),x.jsxs("div",{className:"mt-2 text-[11px] text-neutral-500",children:[d.map(w=>x.jsxs("div",{children:[w.name," (",w.layers.length,")"]},w.id)),h.map(w=>x.jsx("div",{children:w.name},w.id))]}),x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>f(p.id),children:""}),x.jsx("button",{className:"mt-1 w-full rounded border border-red-400 bg-red-100 px-2 py-1.5 text-xs font-semibold text-red-800 hover:bg-red-200",onClick:()=>g(p.id),children:""})]})}function Pm({project:c,flowerIds:r,leafIds:a,onGroupMixed:i,onUngroupFlowers:s,onAddToGroup:f,onAddLeavesToGroup:g,onMergeGroups:p}){const d=c.flowers.filter(R=>r.includes(R.id)),h=(c.leaves??[]).filter(R=>a.includes(R.id)),_=r.map(R=>nl(c,R)),S=a.map(R=>Ml(c,R)),y=[..._,...S],w=r.filter(R=>!nl(c,R)),D=a.filter(R=>!Ml(c,R)),v=[...new Set(y.filter(Boolean).map(R=>R.id))],b=w.length+D.length===r.length+a.length,B=v.length===1&&y.every(R=>R!=null);return x.jsxs(or,{title:"",children:[x.jsxs("div",{className:"rounded bg-purple-50 px-2 py-1 text-xs text-purple-800",children:[" ",d.length," +  ",h.length,""]}),x.jsxs("div",{className:"mt-1 text-[11px] text-neutral-500",children:[d.map(R=>x.jsxs("div",{children:[" ",R.name]},R.id)),h.map(R=>x.jsxs("div",{children:[" ",R.name||""]},R.id))]}),x.jsxs(x.Fragment,{children:[b&&d.length+h.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(r,a),children:""}),B&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>s(v[0]),children:""}),v.length===1&&(w.length>0||D.length>0)&&!b&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>{w.length>0&&f(v[0],w),D.length>0&&g(v[0],D)},children:[" (+",w.length+D.length,")"]}),v.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>p(v,w),children:[" (",v.length,")"]})]})]})}function Fm({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5","data-testid":"props-layer",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" ",x.jsxs("span",{className:"text-neutral-300",children:["#",i.order]})]}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:i.name,"data-testid":"prop-layer-name",onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.name=s.target.value)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(s=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${i.petalType===s?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.petalType=s)}),children:s},s))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:5,max:24,value:i.petalCount,onChange:s=>{r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);if(p){p.petalCount=s,p.widthScale=si(s);const d=[...g.layers].sort((h,_)=>_.order-h.order);for(let h=1;h<d.length;h++)d[h].offsetAngle=tl(d[h-1].petalCount,d[h-1].offsetAngle,d[h].petalCount)}})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:1,max:200,step:.5,value:Math.round(ar(i.radius,i.scale??1,a.fabricSquareSize??c.fabricSquareSize)),onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.radius=pe(Gh(s,p.scale??1,g.fabricSquareSize??f.fabricSquareSize),2,200))})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((a.fabricSquareSize??c.fabricSquareSize)*(i.scale??1)*10)/10,onChange:s=>r(f=>{const g=f.flowers.find(S=>S.id===a.id);if(!g)return;const p=g.layers.find(S=>S.id===i.id);if(!p)return;const d=g.fabricSquareSize??f.fabricSquareSize;p.scale=pe(Math.round(s/d*100)/100,.3,3);const h=[...g.layers].sort((S,y)=>S.order-y.order),_=h.findIndex(S=>S.id===p.id);if(_>=0)for(let S=_-1;S>=0;S--){const y=h[S],w=h[S+1],v=Et(d).length*(w.scale??1)/3;y.radius=Math.round((w.radius+v)*10)/10}})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(i.scale??1).toFixed(2),onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.scale=s)})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(i.widthScale??1).toFixed(2),onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.widthScale=s)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{value:Number(i.offsetAngle??0).toFixed(1),onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.offsetAngle=s)})})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.colorId,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.colorId=s)})})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);if(p)if(s.target.checked){const d=p._doublePetalCache;p.doublePetal=d??{innerSizeReduction:2},delete p._doublePetalCache}else p.doublePetal&&(p._doublePetalCache={...p.doublePetal}),delete p.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:i.doublePetal.innerSizeReduction,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p?.doublePetal&&(p.doublePetal.innerSizeReduction=pe(s,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:i.doublePetal.innerColorId??i.colorId,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p?.doublePetal&&(s===p.colorId?delete p.doublePetal.innerColorId:p.doublePetal.innerColorId=s)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.visible,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.visible=s.target.checked)})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.locked,onChange:s=>r(f=>{const g=f.flowers.find(d=>d.id===a.id);if(!g)return;const p=g.layers.find(d=>d.id===i.id);p&&(p.locked=s.target.checked)})}),""]})]})]})]})}function $m({project:c,applyUpdate:r,selectedFlower:a,selectedPetals:i}){const s=i,f=s.map(b=>{const B=a.layers.find(R=>R.id===b.layerId);return{...b,layer:B}}).filter(b=>b.layer!=null),g=(b,B)=>{const R=a.layers.find(O=>O.id===b);return R?(R?.petalOverrides?.find(O=>O.index===B)??null)?.colorId??R.colorId:null},p=(b,B)=>{const R=a.layers.find(O=>O.id===b);return R?(R?.petalOverrides?.find(O=>O.index===B)??null)?.petalType??R.petalType:null},d=f.map(b=>g(b.layerId,b.index)),h=f.map(b=>p(b.layerId,b.index)),_=d.length>0&&d.every(b=>b===d[0]),y=h.length>0&&h.every(b=>b===h[0])?h[0]:null,w=b=>{r(B=>{const R=B.flowers.find(q=>q.id===a.id);if(R)for(const q of s){const O=R.layers.find(Z=>Z.id===q.layerId);if(!O)continue;O.petalOverrides||(O.petalOverrides=[]);const I=O.petalOverrides.find(Z=>Z.index===q.index);if(I)b.colorId!==void 0&&(b.colorId===O.colorId?delete I.colorId:I.colorId=b.colorId),b.petalType!==void 0&&(b.petalType===O.petalType?delete I.petalType:I.petalType=b.petalType),!I.colorId&&!I.petalType&&(O.petalOverrides=O.petalOverrides.filter(Z=>Z.index!==q.index),O.petalOverrides.length===0&&(O.petalOverrides=void 0));else{const Z={index:q.index};b.colorId!==void 0&&b.colorId!==O.colorId&&(Z.colorId=b.colorId),b.petalType!==void 0&&b.petalType!==O.petalType&&(Z.petalType=b.petalType),(Z.colorId!==void 0||Z.petalType!==void 0)&&O.petalOverrides.push(Z)}}},!0)},D=()=>{r(b=>{const B=b.flowers.find(R=>R.id===a.id);if(B)for(const R of s){const q=B.layers.find(O=>O.id===R.layerId);!q||!q.petalOverrides||(q.petalOverrides=q.petalOverrides.filter(O=>O.index!==R.index),q.petalOverrides.length===0&&(q.petalOverrides=void 0))}},!0)},v=f.some(b=>b.layer?.petalOverrides?.find(B=>B.index===b.index)!=null);return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:[" (",s.length,")"]}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[s.length,"",v&&" ()"]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.palette.map(b=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${_&&d[0]===b.id?"border-black ring-1 ring-black/30":"border-neutral-300"}`,style:{background:b.hex},title:b.name,"aria-label":`: ${b.name}`,onClick:()=>w({colorId:b.id})},b.id))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(b=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${y===b?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>w({petalType:b}),children:b},b))})]}),v&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:D,children:""})]})]})}function eb({project:c,applyUpdate:r,selectedFlower:a,selectedLayer:i,selectedPetalIndex:s}){const f=i?.petalOverrides?.find(S=>S.index===s)??null,g=f?.colorId??i.colorId,p=f?.petalType??i.petalType,d=f!=null,h=S=>{r(y=>{const w=y.flowers.find(b=>b.id===a.id);if(!w)return;const D=w.layers.find(b=>b.id===i.id);if(!D)return;D.petalOverrides||(D.petalOverrides=[]);const v=D.petalOverrides.find(b=>b.index===s);if(v)S.colorId!==void 0&&(v.colorId=S.colorId),S.petalType!==void 0&&(v.petalType=S.petalType),S.innerColorId!==void 0&&(v.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(v.innerSizeReduction=S.innerSizeReduction),v.colorId!==void 0||v.petalType!==void 0||v.innerColorId!==void 0||v.innerSizeReduction!==void 0?(v.colorId===void 0&&delete v.colorId,v.petalType===void 0&&delete v.petalType,v.innerColorId===void 0&&delete v.innerColorId,v.innerSizeReduction===void 0&&delete v.innerSizeReduction):(D.petalOverrides=D.petalOverrides.filter(B=>B.index!==s),D.petalOverrides.length===0&&(D.petalOverrides=void 0));else{const b={index:s};S.colorId!==void 0&&(b.colorId=S.colorId),S.petalType!==void 0&&(b.petalType=S.petalType),S.innerColorId!==void 0&&(b.innerColorId=S.innerColorId),S.innerSizeReduction!==void 0&&(b.innerSizeReduction=S.innerSizeReduction),(b.colorId!==void 0||b.petalType!==void 0||b.innerColorId!==void 0||b.innerSizeReduction!==void 0)&&D.petalOverrides.push(b)}},!0)},_=()=>{r(S=>{const y=S.flowers.find(D=>D.id===a.id);if(!y)return;const w=y.layers.find(D=>D.id===i.id);!w||!w.petalOverrides||(w.petalOverrides=w.petalOverrides.filter(D=>D.index!==s),w.petalOverrides.length===0&&(w.petalOverrides=void 0))},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[i.name," / #",s+1,d&&x.jsx("span",{className:"ml-1.5 text-blue-500",children:"()"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:g,onChange:S=>{S===i.colorId?h({colorId:void 0}):h({colorId:S})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(S=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p===S?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>{S===i.petalType?h({petalType:void 0}):h({petalType:S})},children:S},S))})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!i.doublePetal,onChange:S=>r(y=>{const w=y.flowers.find(v=>v.id===a.id);if(!w)return;const D=w.layers.find(v=>v.id===i.id);if(D)if(S.target.checked){const v=D._doublePetalCache;D.doublePetal=v??{innerSizeReduction:2},delete D._doublePetalCache}else D.doublePetal&&(D._doublePetalCache={...D.doublePetal}),delete D.doublePetal},!0)}),x.jsx("span",{className:"text-xs",children:""})]})}),i.doublePetal&&(()=>{const S=i.doublePetal,y=f?.innerSizeReduction??S.innerSizeReduction,w=f?.innerColorId??S.innerColorId??g;return x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2 mt-1",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (mm)",f?.innerSizeReduction!==void 0&&x.jsx("span",{className:"ml-1 text-blue-500",children:"()"})]}),x.jsx(Ke,{min:1,max:30,step:1,value:y,onChange:D=>{const v=pe(D,1,30);v===S.innerSizeReduction?h({innerSizeReduction:void 0}):h({innerSizeReduction:v})}})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:w,size:"sm",onChange:D=>{const v=S.innerColorId??i.colorId;h(D===v?{innerColorId:void 0}:{innerColorId:D})}})]})]})})(),d&&x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:_,children:""})]})]})}function tb({project:c,applyUpdate:r,selectedStencil:a,onDeleteStencil:i}){const s=a,f=g=>{r(p=>{const d=(p.stencils??[]).find(h=>h.id===s.id);d&&Object.assign(d,g)},!0)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:s.variant,onChange:g=>f({variant:g.target.value}),"data-testid":"prop-stencil-variant",children:["adult","child"].map(g=>x.jsx("option",{value:g,children:l1[g]},g))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[11px] text-neutral-500 w-10 shrink-0",children:""}),x.jsx("select",{className:"flex-1 rounded border border-neutral-300 bg-white px-1.5 py-0.5 text-xs",value:s.pose,onChange:g=>f({pose:g.target.value}),"data-testid":"prop-stencil-pose",children:["right","left","back"].map(g=>x.jsx("option",{value:g,children:a1[g]},g))})]}),x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer","data-testid":"prop-stencil-locked",children:[x.jsx("input",{type:"checkbox",className:"rounded border-neutral-300",checked:!!s.locked,onChange:g=>f({locked:g.target.checked})}),x.jsx("span",{className:"text-xs text-neutral-700",children:""})]}),x.jsxs("div",{className:"text-[11px] text-neutral-500",children:[": (",Math.round(s.position.x/2.7),"mm, ",Math.round(s.position.y/2.7),"mm)"]}),x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>i(s.id),"data-testid":"btn-delete-stencil",children:""})]})]})}function nb({project:c,applyUpdate:r,selectedLeaf:a,groups:i,onDeleteLeaf:s,onAddLeafToGroup:f,onRemoveLeafFromGroup:g}){const p=a,d=_=>{r(S=>{const y=(S.leaves??[]).find(w=>w.id===p.id);y&&_(y)},!0)},h=Ml(c,p.id);return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:p.name,onChange:_=>d(S=>{S.name=_.target.value}),"data-testid":"prop-leaf-name"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(_=>x.jsx("button",{className:`flex-1 rounded border px-1.5 py-1 text-xs ${p.petalType===_?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>d(S=>{S.petalType=_}),children:_},_))})]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:p.colorId,onChange:_=>d(S=>{S.colorId=_})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:"(mm)"}),x.jsx(Ke,{min:3,max:80,step:.5,value:Math.round((p.fabricSquareSize??c.fabricSquareSize)*(p.scale??1)*10)/10,onChange:_=>d(S=>{const y=S.fabricSquareSize??c.fabricSquareSize;S.scale=pe(Math.round(_/y*100)/100,.3,3)})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.4,max:2.5,step:.05,value:Number(p.scale??1).toFixed(2),onChange:_=>d(S=>{S.scale=_})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx(Ke,{min:.5,max:1.8,step:.05,value:Number(p.widthScale??1).toFixed(2),onChange:_=>d(S=>{S.widthScale=_})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:[" (","",")"]}),x.jsx(Ke,{value:Number(p.rotation).toFixed(1),onChange:_=>d(S=>{S.rotation=_})})]})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.doublePetal,onChange:_=>d(S=>{if(_.target.checked){const y=S._doublePetalCache;S.doublePetal=y??{innerSizeReduction:2},delete S._doublePetalCache}else S.doublePetal&&(S._doublePetalCache={...S.doublePetal}),delete S.doublePetal})}),x.jsx("span",{className:"text-xs",children:""})]})}),p.doublePetal&&x.jsxs("div",{className:"ml-2 space-y-1.5 border-l-2 border-neutral-200 pl-2",children:[x.jsx("div",{className:"text-[11px] text-neutral-500 font-medium",children:""}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{min:1,max:30,step:1,value:p.doublePetal.innerSizeReduction,onChange:_=>d(S=>{S.doublePetal&&(S.doublePetal.innerSizeReduction=pe(_,1,30))})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:p.doublePetal.innerColorId??p.colorId,onChange:_=>d(S=>{S.doublePetal&&(_===S.colorId?delete S.doublePetal.innerColorId:S.doublePetal.innerColorId=_)})})]})]}),x.jsxs("div",{className:"flex items-center gap-4 text-xs text-neutral-600",children:[x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.visible,onChange:_=>d(S=>{S.visible=_.target.checked})}),""]}),x.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[x.jsx("input",{type:"checkbox",className:"rounded",checked:!!p.locked,onChange:_=>d(S=>{S.locked=_.target.checked})}),""]})]}),h?x.jsxs("div",{className:"rounded bg-blue-50 px-2 py-1 text-xs text-blue-800",children:[": ",h.name,x.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>g(p.id),children:""})]}):i.length>0?x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsxs("select",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs",value:"",onChange:_=>{_.target.value&&f(p.id,_.target.value)},children:[x.jsx("option",{value:"",children:"..."}),i.map(_=>x.jsx("option",{value:_.id,children:_.name},_.id))]})]}):null,x.jsx("button",{className:"w-full rounded border border-red-200 bg-red-50 px-2 py-1 text-xs text-red-600 hover:bg-red-100",onClick:()=>s(p.id),children:""})]})]})}function lb({project:c,applyUpdate:r,leafIds:a,onGroupLeaves:i,onUngroupLeaves:s,onAddLeavesToGroup:f,onMergeLeafGroups:g}){const p=(c.leaves??[]).filter(d=>a.includes(d.id));return p.length===0?null:x.jsxs(or,{title:" ",children:[x.jsxs("div",{className:"rounded bg-green-50 px-2 py-1 text-xs text-green-800",children:[p.length,""]}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx(Zn,{palette:c.palette,project:c,selectedColorId:"",onChange:d=>r(h=>{for(const _ of a){const S=(h.leaves??[]).find(y=>y.id===_);S&&(S.colorId=d)}},!0)}),x.jsx("div",{className:"text-[11px] font-medium text-neutral-500 mt-2 mb-0.5",children:""}),x.jsx("div",{className:"flex gap-1",children:al.map(d=>x.jsx("button",{className:"flex-1 rounded border px-1.5 py-1 text-xs border-neutral-200 hover:bg-neutral-50",onClick:()=>r(h=>{for(const _ of a){const S=(h.leaves??[]).find(y=>y.id===_);S&&(S.petalType=d)}},!0),children:d},d))}),(()=>{const d=p.map(w=>Ml(c,w.id)),h=p.filter(w=>!Ml(c,w.id)).map(w=>w.id),_=[...new Set(d.filter(Boolean).map(w=>w.id))],S=h.length===p.length,y=_.length===1&&d.every(w=>w!=null);return x.jsxs(x.Fragment,{children:[S&&p.length>=2&&x.jsx("button",{className:"mt-2 w-full rounded border border-neutral-300 bg-neutral-900 px-2 py-1.5 text-xs font-semibold text-white hover:bg-neutral-800",onClick:()=>i(a),children:""}),y&&x.jsx("button",{className:"mt-2 w-full rounded border border-red-300 bg-red-50 px-2 py-1.5 text-xs text-red-700 hover:bg-red-100",onClick:()=>s(_[0]),children:""}),_.length===1&&h.length>0&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>f(_[0],h),children:[" (+",h.length,")"]}),_.length>=2&&x.jsxs("button",{className:"mt-2 w-full rounded border border-blue-300 bg-blue-50 px-2 py-1.5 text-xs font-semibold text-blue-700 hover:bg-blue-100",onClick:()=>g(_,h),children:[" (",_.length,"",h.length>0?` +${h.length}`:"",")"]})]})})()]})}function ab(c){const{project:r,selection:a,applyUpdate:i,selectedFlower:s,selectedFlowers:f,selectedLayer:g,selectedPetalIndex:p,selectedPetals:d}=c;return x.jsxs("div",{className:"rounded-2xl border bg-white px-1.5 pt-1 pb-4 shadow-sm min-w-0 overflow-x-auto max-h-[600px] overflow-y-auto","data-testid":"panel-properties",children:[x.jsx("div",{className:"text-xs font-semibold",children:""}),a.kind==="project"&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"text-[11px] font-medium text-neutral-400 uppercase tracking-wide mt-1.5",children:""}),x.jsxs("div",{className:"mt-1 space-y-1.5",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("input",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",value:r.title,onChange:h=>i(_=>_.title=h.target.value),"data-testid":"prop-project-title"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{value:r.fabricSquareSize,min:5,max:60,onChange:h=>i(_=>_.fabricSquareSize=h),"data-testid":"prop-fabric-size"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:" (mm)"}),x.jsx(Ke,{value:r.baseDiameter,min:10,max:100,onChange:h=>i(_=>_.baseDiameter=h),"data-testid":"prop-base-diameter"}),x.jsxs("div",{className:"text-[10px] text-neutral-400 mt-0.5",children:[": ",la(r.baseDiameter,r.fabricSquareSize).diameter,"mm / : ",la(r.baseDiameter,r.fabricSquareSize).layerCount,""]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-0.5",children:""}),x.jsx("textarea",{className:"w-full rounded border border-neutral-200 px-1.5 py-1 text-xs focus:border-blue-400 focus:outline-none",rows:3,value:r.notes,onChange:h=>i(_=>_.notes=h.target.value)})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:r.palette.map(h=>x.jsx("div",{className:"h-5 w-5 rounded border border-neutral-300 cursor-default",style:{background:h.hex},title:h.name},h.id))})]})]})]}),a.kind==="flower"&&s&&x.jsx(Vm,{project:r,applyUpdate:i,selectedFlower:s}),a.kind==="flowers"&&f.length>0&&x.jsx(Wm,{project:r,applyUpdate:i,selectedFlowers:f,onGroupFlowers:c.onGroupFlowers,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onMergeGroups:c.onMergeGroups}),a.kind==="group"&&x.jsx(Qm,{project:r,applyUpdate:i,selectedFlowers:f,groups:c.groups,groupId:a.groupId,onUngroupFlowers:c.onUngroupFlowers,onUngroupAll:c.onUngroupAll}),a.kind==="layer"&&s&&g&&x.jsx(Fm,{project:r,applyUpdate:i,selectedFlower:s,selectedLayer:g}),a.kind==="petals"&&s&&d.length>0&&x.jsx($m,{project:r,applyUpdate:i,selectedFlower:s,selectedPetals:d}),a.kind==="petal"&&s&&g&&p!==null&&x.jsx(eb,{project:r,applyUpdate:i,selectedFlower:s,selectedLayer:g,selectedPetalIndex:p}),a.kind==="stencil"&&c.selectedStencil&&x.jsx(tb,{project:r,applyUpdate:i,selectedStencil:c.selectedStencil,onDeleteStencil:c.onDeleteStencil}),a.kind==="leaf"&&c.selectedLeaf&&x.jsx(nb,{project:r,applyUpdate:i,selectedLeaf:c.selectedLeaf,groups:c.groups,onDeleteLeaf:c.onDeleteLeaf,onAddLeafToGroup:c.onAddLeafToGroup,onRemoveLeafFromGroup:c.onRemoveLeafFromGroup}),a.kind==="leaves"&&x.jsx(lb,{project:r,applyUpdate:i,leafIds:a.kind==="leaves"?a.leafIds:[],onGroupLeaves:c.onGroupLeaves,onUngroupLeaves:c.onUngroupLeaves,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeLeafGroups:c.onMergeLeafGroups}),a.kind==="mixed"&&x.jsx(Pm,{project:r,flowerIds:a.flowerIds,leafIds:a.leafIds,onGroupMixed:c.onGroupMixed,onUngroupFlowers:c.onUngroupFlowers,onAddToGroup:c.onAddToGroup,onAddLeavesToGroup:c.onAddLeavesToGroup,onMergeGroups:c.onMergeGroups}),!a||a.kind!=="project"&&a.kind!=="stencil"&&a.kind!=="leaf"&&a.kind!=="leaves"&&a.kind!=="mixed"&&a.kind!=="group"&&!s?x.jsx("div",{className:"mt-4 text-sm text-neutral-600",children:""}):null]})}function ib(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?la(c.baseDiameter,c.fabricSquareSize,r).diameter:rr(c.fabricSquareSize,c.layerCount,c.sizeMode,c.sizeStepMm)}function rb(c){const r={layerCount:c.layerCount,sizeMode:c.sizeMode,sizeStepMm:c.sizeStepMm};return c.placementMode===""?kh(c.flowerDiameter,c.baseDiameter,r):Eh(c.flowerDiameter,c.layerCount,c.sizeMode,c.sizeStepMm)}function cb({palette:c,addFlowerOpts:r,setAddFlowerOpts:a,onConfirm:i,onCancel:s}){const f=d=>{a(h=>{const _={...h,...d};return d.placementMode&&d.placementMode!==h.placementMode&&(d.placementMode===""?(_.baseDiameter=30,_.fabricSquareSize=20,_.layerCount=4,_.petalCount=12):(_.fabricSquareSize=20,_.layerCount=1,_.petalCount=6)),_.flowerDiameter=ib(_),_})},g=d=>{a(h=>{const _={...h,flowerDiameter:d};return _.fabricSquareSize=rb(_),_})},p=[];if(r.placementMode===""){r.flowerDiameter<=r.baseDiameter&&p.push("");const d=Bh(r.baseDiameter,r.fabricSquareSize,{sizeMode:r.sizeMode,sizeStepMm:r.sizeStepMm});r.layerCount>d&&p.push(`${d}`)}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:s,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:d=>d.stopPropagation(),"data-testid":"dialog-add-flower",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:$d.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.placementMode===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>f({placementMode:d}),children:d},d))})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:d=>f({fabricSquareSize:d})})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:1,max:10,value:r.layerCount,onChange:d=>f({layerCount:d})})]})]}),r.placementMode===""&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.baseDiameter,onChange:d=>f({baseDiameter:d})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:24,value:r.petalCount,onChange:d=>a(h=>({...h,petalCount:d}))})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:10,max:200,value:r.flowerDiameter,onChange:g})]})]}),p.length>0&&x.jsx("div",{className:"mb-3 rounded-lg border border-amber-300 bg-amber-50 px-3 py-2","data-testid":"flower-warnings",children:p.map((d,h)=>x.jsx("div",{className:"text-[11px] text-amber-700",children:d},h))}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===d.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:d.hex},title:d.name,"aria-label":`: ${d.name}`,onClick:()=>a(h=>({...h,colorId:d.id}))},d.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(d=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===d?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(h=>({...h,petalType:d})),children:d},d))})]}),r.layerCount>1&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="uniform"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"uniform"}),children:""}),x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.sizeMode==="gradual"?"border-black bg-black text-white":"hover:bg-neutral-50"}`,onClick:()=>f({sizeMode:"gradual"}),children:""})]}),r.sizeMode==="gradual"&&x.jsxs("div",{className:"mt-2",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:0,max:10,step:.5,value:r.sizeStepMm,onChange:d=>f({sizeStepMm:d})})]})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:s,"data-testid":"btn-cancel-add-flower",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-flower",children:""})]})]})})}function ub(c){return Math.round(c*Math.SQRT2/2*10)/10}function xb(c){return Math.round(c*Math.SQRT2*10)/10}function sb({palette:c,addLeafOpts:r,setAddLeafOpts:a,onConfirm:i,onCancel:s}){const f=p=>{a(d=>({...d,fabricSquareSize:p,leafSizeMm:ub(p)}))},g=p=>{a(d=>({...d,leafSizeMm:p,fabricSquareSize:xb(p)}))};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/30 pt-8 pb-8 md:pt-24",onClick:s,children:x.jsxs("div",{className:"w-80 shrink-0 rounded-2xl border bg-white p-5 shadow-xl",onClick:p=>p.stopPropagation(),"data-testid":"dialog-add-leaf",children:[x.jsx("div",{className:"text-sm font-bold mb-4",children:""}),x.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:5,max:80,value:r.fabricSquareSize,onChange:f})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:" (mm)"}),x.jsx(Ke,{className:"w-full rounded-lg border px-2 py-1.5 text-sm",min:3,max:60,step:.1,value:r.leafSizeMm,onChange:g})]})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(p=>x.jsx("button",{className:`h-5 w-5 rounded border-2 ${(r.colorId||c[0]?.id)===p.id?"border-black ring-1 ring-black/30":"border-neutral-200"}`,style:{background:p.hex},title:p.name,"aria-label":`: ${p.name}`,onClick:()=>a(d=>({...d,colorId:p.id}))},p.id))})]}),x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-neutral-500 mb-1",children:""}),x.jsx("div",{className:"flex gap-2",children:al.map(p=>x.jsx("button",{className:`flex-1 rounded-lg border px-2 py-1.5 text-xs ${r.petalType===p?"border-black bg-black text-white":"border-neutral-200 hover:bg-neutral-50"}`,onClick:()=>a(d=>({...d,petalType:p})),children:p},p))})]}),x.jsxs("div",{className:"flex gap-2 mt-4",children:[x.jsx("button",{className:"flex-1 rounded-lg border border-neutral-200 px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:s,"data-testid":"btn-cancel-add-leaf",children:""}),x.jsx("button",{className:"flex-1 rounded-lg bg-black border border-black px-3 py-1.5 text-xs text-white hover:bg-neutral-800",onClick:i,"data-testid":"btn-confirm-add-leaf",children:""})]})]})})}const W0=Zt;function Zt(c,r){c=c-479;const a=Y0();let i=a[c];if(Zt.PopNpH===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Zt.eiOTzn=s,Zt.lOkSSf={},Zt.PopNpH=!0}const f=a[0],g=c+f,p=Zt.lOkSSf[g];if(p)i=p;else{const d=function(h){this.NHJGmL=h,this.cLxOCe=[1,0,0],this.SwNbEs=function(){return"newState"},this.kBdiCf="\\w+ *\\(\\) *{\\w+ *",this.pNxUDI=`['|"].+['|"];? *}`};d.prototype.TjFCWt=function(){const h=new RegExp(this.kBdiCf+this.pNxUDI),_=h.test(this.SwNbEs.toString())?--this.cLxOCe[1]:--this.cLxOCe[0];return this.NUpDht(_)},d.prototype.NUpDht=function(h){return~h?this.kGuWoB(this.NHJGmL):h},d.prototype.kGuWoB=function(h){for(let _=0,S=this.cLxOCe.length;_<S;_++)this.cLxOCe.push(Math.round(Math.random())),S=this.cLxOCe.length;return h(this.cLxOCe[0])},new d(Zt).TjFCWt(),i=Zt.eiOTzn(i),Zt.lOkSSf[g]=i}return i}(function(c,r){const a=Zt,i=c();for(;;)try{if(parseInt(a(485))/1*(parseInt(a(510))/2)+parseInt(a(515))/3+parseInt(a(495))/4*(-parseInt(a(501))/5)+parseInt(a(504))/6+parseInt(a(498))/7+parseInt(a(479))/8+-parseInt(a(488))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Y0,476014);const ob=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),Ax=ob(void 0,function(){const c=Zt,r={STFEA:c(505)};return Ax.toString().search(r[c(499)]).toString()[c(490)](Ax)[c(483)](c(505))});Ax();const r1=W0(506),c1={left:25,right:25},Lx=15,Tx=15,xr=30;function Y0(){const c=["sKfuquu","Cg9PBNrLCM1VDMu","mtKWmdm5ohvtyLbdAq","yM9KEq","y3vYC29Y","DxnLCLnLBgvJDa","Cg9PBNrLCNvW","BgvMDa","Bgr0sgu","txLQtwK","BM9Uzq","zNvVu0u","Bwf4","CMLNAhq","rxb5C0O","Bwf0y2HLCW","ChjLDMvUDerLzMf1Bhq","wLP1yvK","BwLU","y3vYCMvUDa","y3PzELe","wxDLshC","Eer0BKm","mJu3mdm4nezPvNL0za","y2HHBMDL","CgfYC2u","tvL6AhC","C2vHCMnO","tKn5s3q","mtm4ofr3DfjiDa","wK1yyxy","C0zxze0","mti4mtqZmZv0uefNAM8","qvjlsuq","y29UC3rYDwn0B3i","ANnnsMS","CwXkEfO","BxPzDKS","kg1PBI13Awr0AdOGnZy4ChGP","mJbuugH0zfy","y2XPzw50wa","z2v0sxrLBq","mta3nZCWnMXPALjdAa","u1rgrue","D2LKDgG","nZi2nJvOEMvtvLm","ywrKrxzLBNrmAxn0zw5LCG","Be1IsxO","mJCXnZu0nfLny3DstG","kcGOlISPkYKRksSK","Dhn1BwfTAs1Wyw5LBc13Awr0Ahm","rKXkA2u","CMvTB3zLrxzLBNrmAxn0zw5LCG","t0PiDuC","ntKYAvHpAxLs","C3rHCNrxAwr0Ahm","C3r5Bgu"];return Y0=function(){return c},Y0()}function fb(){const c=W0,r={RqsEw:c(522),qpTfc:function(a,i){return a===i},TbtkX:"number",lMbIz:function(a,i){return a>=i},FXBPX:function(a,i){return a-i}};try{if(c(522)===r.RqsEw){const a=localStorage[c(497)](r1);if(a){const i=JSON[c(481)](a);if(r.qpTfc(typeof i[c(520)],r.TbtkX)&&typeof i.right===r.TbtkX&&r.lMbIz(i.left,Lx)&&r[c(503)](i.right,Tx)&&r.lMbIz(r.FXBPX(100-i.left,i[c(526)]),xr))return i}}else _0x4a09e8[c(532)]=_0x3c462c}catch{}return c1}function Vd(c,r){const a=W0,i={YweHw:function(p,d){return p-d},sFWdM:function(p,d){return p-d},bUPKC:function(p,d){return p/d},hIzld:function(p,d){return p/d},sERsB:function(p,d){return p/d},jwqSn:function(p,d){return p*d}};let s=Math.max(Lx,c),f=Math.max(Tx,r);const g=i[a(534)](i[a(534)](100,s),f);if(g<xr){const p=i[a(487)](xr,g);s-=i.bUPKC(p,2),f-=i.hIzld(p,2),s=Math[a(525)](Lx,s),f=Math[a(525)](Tx,f)}return{left:i.sERsB(Math.round(s*100),100),right:Math.round(i.jwqSn(f,100))/100}}function db(){const c=W0,r={fuoSE:function(D,v){return D===v},jsMJk:c(519),qlJxZ:function(D,v){return D(v)},JATAE:function(D,v){return D===v},MYzhw:function(D,v){return D-v},ARKID:function(D,v){return D-v},EpysJ:function(D,v,b){return D(v,b)},BVQZF:c(523),MWHau:"pointermove",LRdlu:function(D,v){return D(v)},FLJke:function(D,v){return D(v)}},[a,i]=r.LRdlu(te.useState,fb),s=r[c(507)](te.useRef,null),f=te.useRef(null),[g,p]=r.qlJxZ(te.useState,!1),[d,h]=te.useState(()=>typeof window<"u"?window.matchMedia(c(494))[c(528)]:!0);r.EpysJ(te.useEffect,()=>{const D=c,v=window.matchMedia(D(494)),b=B=>h(B[D(528)]);return v[D(502)]("change",b),()=>v[D(508)](D(480),b)},[]),r[c(527)](te.useEffect,()=>{localStorage.setItem(r1,JSON.stringify(a))},[a]);const _=te.useRef(a);te.useEffect(()=>{r[c(524)]("CPBVm","CPBVm")?_.current=a:_0xa7dbcb.current?.()},[a]);const S=te.useCallback((D,v)=>{const b=c,B={mzYvK:function(I,Z){return r[Zt(513)](I,Z)},ZMXav:function(I,Z){return I-Z},NCyKt:function(I,Z){return I/Z},OJHuG:function(I,Z){return I+Z},ZZuaY:function(I,Z){return r.MYzhw(I,Z)},ucNJI:function(I,Z){return I(Z)},czYzQ:function(I,Z,k){return I(Z,k)},ldtHe:function(I,Z){return r[Zt(489)](I,Z)},gEvEC:function(I,Z){return r[Zt(482)](I,Z)},vCIQa:function(I,Z,k){return r[Zt(527)](I,Z,k)},dCGMv:b(514),xDtnC:r.jsMJk,YytzJ:function(I,Z){return r[b(492)](I,Z)}};v[b(529)]();const R=s[b(532)];if(!R)return;f[b(532)]={side:D,startX:v.clientX,startWidths:{..._[b(532)]}},p(!0),document[b(516)][b(512)].cursor="col-resize",document.body.style[b(518)]=r.BVQZF;const q=I=>{const Z=b,k=f[Z(532)];if(!k)return;const K=R.getBoundingClientRect()[Z(500)];if(B[Z(493)](K,0))return;const P=B[Z(486)](I[Z(496)],k.startX),W=B[Z(484)](P,K)*100;if(B[Z(493)](k.side,Z(520))){const F=B[Z(509)](k.startWidths.left,W),Y=B[Z(530)](100-k[Z(511)].right,xr);B.ucNJI(i,B[Z(533)](Vd,Math.min(F,Y),k[Z(511)].right))}else{const F=B[Z(521)](k[Z(511)][Z(526)],W),Y=B.gEvEC(B.gEvEC(100,k[Z(511)].left),xr);i(B.vCIQa(Vd,k[Z(511)][Z(520)],Math[Z(531)](F,Y)))}},O=()=>{const I=b,Z="3|4|5|1|0|2".split("|");let k=0;for(;;){switch(Z[k++]){case"0":window.removeEventListener(B.dCGMv,q);continue;case"1":document[I(516)][I(512)][I(518)]="";continue;case"2":window[I(508)](B[I(535)],O);continue;case"3":f.current=null;continue;case"4":B.YytzJ(p,!1);continue;case"5":document.body.style[I(517)]="";continue}break}};window.addEventListener(r.MWHau,q),window.addEventListener("pointerup",O),y[b(532)]=()=>{const I=b;window.removeEventListener("pointermove",q),window[I(508)](r[I(491)],O),f.current=null,r[I(492)](p,!1),document.body.style.cursor="",document.body[I(512)].userSelect=""}},[]),y=te.useRef(null);r.EpysJ(te.useEffect,()=>()=>{y[Zt(532)]?.()},[]);const w=r[c(527)](te.useCallback,()=>{i(c1)},[]);return{widths:a,containerRef:s,onDividerPointerDown:S,onDividerDoubleClick:w,isDragging:g,isDesktop:d}}function Wd({side:c,onPointerDown:r,onDoubleClick:a,isDragging:i}){return x.jsx("div",{className:`hidden md:flex items-center justify-center select-none flex-shrink-0 group transition-colors rounded ${i?"bg-blue-100":"hover:bg-neutral-100"}`,style:{width:12,cursor:"col-resize"},onPointerDown:s=>r(c,s),onDoubleClick:a,"data-testid":`panel-divider-${c}`,children:x.jsx("div",{className:"flex flex-col items-center gap-1",children:[0,1,2,3,4].map(s=>x.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${i?"bg-blue-400":"bg-neutral-300 group-hover:bg-neutral-400"}`},s))})})}(function(c,r){const a=Lt,i=c();for(;;)try{if(-parseInt(a(561))/1+-parseInt(a(411))/2+parseInt(a(552))/3+parseInt(a(456))/4*(-parseInt(a(527))/5)+-parseInt(a(574))/6+parseInt(a(475))/7*(parseInt(a(556))/8)+parseInt(a(524))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(U0,742844);const hb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),Ex=hb(void 0,function(){const c=Lt,r={zcFTc:"(((.+)+)+)+$"};return Ex.toString()[c(541)](c(395))[c(476)]().constructor(Ex)[c(541)](r[c(511)])});Ex();function U0(){const c=["BLzbsxq","zM9YrwfJAa","44kW44oR44o844oxia","Aw5pEhG","z3jVDxa","vMPMqMS","z3jVDxbZ","mtG1mdeWnKvyt1zRtW","y25hwgW","ug53Awq","A29oqwS","ru5Au1a","Aw5KzxG","txrzDgS","sMPir3u","B2vPB3O","A2LUza","yuPOt2G","y1HRCKG","u09YugG","kcGOlISPkYKRksSK","rKvsrK8","ufHTtxa","sw9HDNe","uuzVA2m","Cgv0ywXuExbL","svz1ExO","u01nyLO","AgfZ","ruHgwe0","t3v0zxiR","BMfTzq","yMfJAW","zMfICMLJu3f1yxjLu2L6zq","BLboD3i","A1HADfO","mJGXotqWngngB29erq","ChjLDMLVDxnhCM91Chm","qNPkD2O","C29YDa","CM91BMq","zMXVD2vYswq","Bwf0y2G","Cgv0ywXdB3vUDa","z1fmrLO","BwXYAKG","B2zMC2v0qw5NBgu","rvD1Cey","ufjcAwu","CMv2zxjZzq","C2LKzq","Agf5q0G","EwjeCNC","BgvHDMvZ","CgXHy2vTzw50tw9Kzq","rxDqqNy","ENjnuNa","v09HDva","Aw5JBhvKzxm","C2XPy2u","D3D4zKS","AKjpzM8","AeXfwfy","z3PbreK","BgvUz3rO","sfHwDhG","ruD4Ae8","BwfW","y29Z","BgvHzKLKCW","vgHiEeS","DgnlBve","Be9jCuO","BgvHzG","wwvet1e","rhLZwwu","z3jW","BhbXywu","A0rMC0W","tePmAxe","qMXgCfi","oe1bvwDoqW","tezLCw4","qxHKu2q","C3rLBMnPBeLK","Bgf5zxjZ","Cgv0ywW","ChjVAMvJDa","vg15qwC","z29qqMO","yKzABg8","vLriDxi","ruT4u0S","yMfZzurPyw1LDgvY","Cgv0ywXZ","zMXVD2vY","qLLTrgi","EwXduLG","DhfNv0i","C3rS","mZiYnde0nfzrAxzfBW","Dg9tDhjPBMC","B3rkzNu","uwjzz3y","wLzxwKO","ANDPug0","wKX3vhe","vKHUzum","Bgf5zxi","C3rLBMnPBhm","q3nLAeW","vgnyt24","Bgf5","s3Hztfu","qvn4zgq","zMXVD2vYswrZ","r1DdthO","y3bTDui","s1v1wvC","qLDACLy","C0LYCxC","qNfPsMe","sxrdr3q","s2n3BuS","Bg9IzMG","zMXVD2vYCW","D0jTugC","z0TVsxC","q3DzBhm","BgvHzKLK","BgzTshC","CxnYtei","Bwf4","z1fRB1i","DvPMtg4","vhnWz0q","EMngvgm","Bgf5zxjjza","y29UC3rYDwn0B3i","CfjzsKi","ChvZAa","CMfKAxvZ","sw5TzNO","s1DSzvy","zgLHBwv0zxi","Bu5vD1y","reP3Cvy","DwryrNe","teXUtKi","ota5ote0nhfeCwHwzW","zMXVD2vYrgLHBwv0zxi","Du9drNu","mtu4ntG2nuPWDMjguG","Dfr2u0K","C3rLBMnPBa","z3jVDxbjza","r0jXs2y","Dw5PzM9YBq","rgneC1i","BKvfEgK","zMLUza","A3rLuum","sNfSt1G","sMLVt1K","rvnYq0C","CgfSzxr0zq","C2vHCMnO","B3jKzxi","tvzODLu","BwL4zwq","CM90yxrPB24","BNfkt3G","C2nHBgu","DeP6wuu","zMLSDgvY","ALvfEwS","qvLOwNi","mZiWnZaYn3zqqwfbwa","sNvsvuy","tNHJwfq","s3LoAKG","mJrJyNDRwva","AxPSB00","vxn5wwW","EKnTueO","ruXqEgC","mZy2ntu4EuPSrvrm","u0n4rwi","BKHRC3u","EfLszu4","sNzgvNq","yvnNCvK"];return U0=function(){return c},U0()}function Lt(c,r){c=c-392;const a=U0();let i=a[c];if(Lt.NsaQmN===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Lt.DNPlIB=s,Lt.UuCJgY={},Lt.NsaQmN=!0}const f=a[0],g=c+f,p=Lt.UuCJgY[g];if(p)i=p;else{const d=function(h){this.TAPvlt=h,this.fEcquh=[1,0,0],this.asrPyJ=function(){return"newState"},this.NvFgZI="\\w+ *\\(\\) *{\\w+ *",this.DeaJOE=`['|"].+['|"];? *}`};d.prototype.NvIpXi=function(){const h=new RegExp(this.NvFgZI+this.DeaJOE),_=h.test(this.asrPyJ.toString())?--this.fEcquh[1]:--this.fEcquh[0];return this.SFazRh(_)},d.prototype.SFazRh=function(h){return~h?this.FMPKOX(this.TAPvlt):h},d.prototype.FMPKOX=function(h){for(let _=0,S=this.fEcquh.length;_<S;_++)this.fEcquh.push(Math.round(Math.random())),S=this.fEcquh.length;return h(this.fEcquh[0])},new d(Lt).NvIpXi(),i=Lt.DNPlIB(i),Lt.UuCJgY[g]=i}return i}function mb({project:c,applyUpdate:r,selection:a,setSelection:i,setExpandedFlowers:s,setExpandedGroups:f,zoom:g,pan:p,stageSize:d,CANVAS_MAX_SVG:h,deleteLeafById:_}){const S=Lt,y={gKoIw:S(500),JjHGu:function(M,m){return M(m)},GWCLz:function(M,m){return M*m},kteQC:"gtzEZ",QyQae:function(M,m){return M-m},cpmuB:function(M,m){return M*m},Inmfz:function(M,m){return M/m},wBmPg:function(M,m){return M+m},VjfBk:function(M,m,z){return M(m,z)},ERaJp:S(401),SMMbZ:"uniform",uOCFu:function(M,m){return M<=m},sRDwI:function(M,m,z){return M(m,z)},gQkoR:function(M,m){return M===m},HcqpR:function(M,m,z,L,N){return M(m,z,L,N)},VHneC:function(M,m,z,L){return M(m,z,L)},ybDrw:function(M,m){return M-m},UsyYl:function(M,m){return M<m},qsrLB:function(M,m){return M-m},VaLGR:S(405),JqlOX:"layer",aSgqY:function(M,m){return M(m)},YeDOQ:function(M,m){return M!==m},udXFq:"SNoSM",hayCH:S(470),PXmMp:function(M,m,z){return M(m,z)},BWZrV:"BXjKd",PkhwL:function(M,m){return M(m)},zrMRp:function(M,m,z){return M(m,z)},LJLiq:function(M,m,z,L){return M(m,z,L)},DehTp:function(M,m,z,L,N){return M(m,z,L,N)},wyupE:"OUvWW",sIrqw:function(M,m){return M===m},MVhvU:function(M,m){return M===m},WuyJr:S(448),lobfh:S(410),KUuYW:function(M,m){return M===m},tTvSI:S(462),FERFO:S(544),hLEXV:function(M,m){return M(m)},cnGXl:function(M,m){return M!==m},EaZCP:S(550),Mpirr:function(M,m,z){return M(m,z)},HXVtx:S(571),nEExi:function(M,m,z){return M(m,z)},QFokc:function(M,m){return M(m)},BqiJa:S(529),ELPxg:function(M,m){return M(m)},ENZSP:function(M,m){return M===m},AxdSd:S(488),BzJwj:function(M,m,z){return M(m,z)},lOIqJ:function(M,m){return M===m},eemFO:function(M,m,z){return M(m,z)},xYReN:S(455),KjKjT:"grp",AaxSp:function(M,m){return M(m)},uZfLn:"IBYDq",DxcgZ:function(M,m){return M>m},mkIUs:function(M,m){return M(m)},JvFVt:function(M,m){return M(m)},JuRUF:"BYmDb",nHksu:function(M,m,z){return M(m,z)},LFeqn:function(M,m){return M/m},oeioz:function(M,m){return M===m},LDHTJ:S(425),ASxdd:function(M,m,z){return M(m,z)},UThfd:"DuWVQ",koNAk:"awQKT",LLnNB:function(M,m){return M===m},wwxfK:function(M,m,z){return M(m,z)},EKxSK:function(M,m){return M(m)},QzGAK:function(M,m){return M>m},DcDsR:function(M,m){return M(m)},CsehL:S(461),ZVWZJ:"leaves",DislF:function(M,m){return M===m},bSFmR:function(M,m){return M===m},KnWvb:"ZyKtu",Vshlz:function(M,m){return M===m},mNUwV:S(432),vqPmS:S(419),ThHxK:function(M,m){return M(m)},VTHur:function(M,m){return M===m},yFqbx:"krkHD",JioOY:S(510),OkRBD:"ZDSZw",Pnwid:"petals",hBSMO:function(M,m){return M(m)},PRBie:"GBqKf",XuwPG:function(M,m){return M(m)},JIlKL:"LAokC",aJhOh:function(M,m){return M===m},Lojum:S(503),jwiPm:function(M,m){return M===m},lfmHw:function(M,m){return M(m)},EwPBv:function(M,m){return M(m)},FqAWE:"aeWaU",YyEpy:function(M,m){return M===m},awtbd:function(M,m){return M(m)},TmyAg:function(M,m){return M(m)},XTtqq:function(M,m,z){return M(m,z)},caynM:function(M,m){return M!==m},tqgWB:"IgWGV",INLdl:function(M,m){return M(m)},DysYe:function(M,m){return M===m},kbqpS:function(M,m,z){return M(m,z)}},w=M=>{const m=S,z=[...M[m(460)]].sort((T,G)=>T[m(542)]-G[m(542)]),L=z[0];if(!L)return 28;const N=M[m(408)]??c[m(408)],{length:H}=y.JjHGu(Et,N),A=y.GWCLz(H,L[m(547)]??1);let C;if(M[m(429)]==="")if(y[m(536)]===m(486)){const T=[...new _0x162688([..._0x3c9b11,..._0x215501])];_0x4d870a.length>0?_0x4fe4b3({kind:"mixed",flowerIds:T,leafIds:_0x4be2f8}):_0x3d6706({kind:y.gKoIw,flowerIds:T})}else C=A/3;else{const G=y.GWCLz(70,Math.PI)/180,U=z[m(439)]+1,V=y.QyQae(U,1),ee=U>1?y[m(492)](y.Inmfz(V,U-1),G):0;C=A*(30/100)*Math[m(443)](ee)}return Math.round(y[m(491)](y.wBmPg(L.radius??28,C),10))/10},D=M=>{const m=S;y[m(572)](r,z=>{const L=m;if(z[L(500)]=(z[L(500)]||[])[L(549)](N=>N.id!==M),z.groups){for(const N of z.groups)N[L(490)]=N.flowerIds[L(549)](H=>H!==M);z[L(573)]=z[L(573)].filter(N=>N[L(490)][L(439)]+N.leafIds.length>0)}},!0),i({kind:m(462)}),y[m(581)](s,z=>{const L={...z||{}};return delete L[M],L})},v=(M,m)=>{const z=S,L={MnMxw:function(H,A,C,T){return H(A,C,T)},tBwrh:y[z(402)],ItCGt:function(H,A,C,T){return H(A,C,T)},NxcXT:function(H,A){return H-A}},N=c.flowers.find(H=>H.id===M);if(N&&y[z(526)]((N[z(460)]||[])[z(439)],1)){D(M);return}y.sRDwI(r,H=>{const A=z;if(A(548)===y.ERaJp){const C=_0xc40b62.flowers.find(re=>re.id===_0xd17175);if(!C)return;C.layers.forEach(re=>re.order+=1),C[A(460)].unshift(_0x439b38);const T=_0x314d60.round(L.MnMxw(_0x568fb0,_0x3742f1.radius,_0x207ece[A(547)],C[A(408)]??_0x530f51.fabricSquareSize)),G=C.fabricSquareSize??_0x1b27be[A(408)],U=C[A(429)]===""?_0x2e3df0(G,C[A(460)][A(439)],L.tBwrh,0):L[A(497)](_0x4442c3,C[A(468)]??_0x4e8230.baseDiameter,G,{layerCount:C.layers.length})[A(519)];C[A(525)]=_0x2e3240[A(507)](C.flowerDiameter||U,T);const V=[...C.layers][A(414)]((re,oe)=>re[A(542)]-oe.order),ee=V[A(424)]();for(let re=1;re<ee.length;re++){const oe=ee[L[A(554)](re,1)],de=ee[re];de[A(421)]=L.MnMxw(_0x32638e,oe.petalCount,oe.offsetAngle,de[A(418)])}}else{const C=(H.flowers||[])[A(535)](T=>T.id===M);if(!C)return;C.layers=(C[A(460)]||[])[A(549)](T=>T.id!==m),C.layers.slice()[A(414)]((T,G)=>T[A(542)]-G[A(542)])[A(568)]((T,G)=>T[A(542)]=G+1)}},!0),y.JjHGu(i,{kind:z(470),flowerId:M})},b=M=>{const m=S,z=c[m(500)][m(535)](V=>V.id===M);if(!z)return;const L=[...z[m(460)]].sort((V,ee)=>V[m(542)]-ee.order),N=L[0],H=y.VHneC(pe,N?.[m(418)]??6,5,24),A=L[m(442)](V=>V[m(547)]??1),C=y[m(558)](A[m(439)],2)||A.every(V=>Math.abs(V-A[0])<.001);let T=N?.scale??1;if(!C&&L.length>=2){const V=L[L.length-1],ee=y[m(506)](V[m(542)]??1,N.order??1);if(ee>0){const re=y.qsrLB(N[m(547)]??1,V[m(547)]??1)/ee;T=pe((N.scale??1)+re,.3,3)}}const G=w(z),U={id:Tt(m(487)),name:y.VaLGR,order:1,petalType:N?.[m(400)]??"",petalCount:H,radius:G,scale:T,widthScale:si(H),offsetAngle:N?.[m(421)]??0,colorId:N?.colorId??c[m(540)]?.[0]?.id??"col_green",visible:!0,locked:!1};N&&(U[m(421)]=tl(N.petalCount,N.offsetAngle??0,H)),r(V=>{const ee=m,re=V[ee(500)].find(Re=>Re.id===M);if(!re)return;re[ee(460)].forEach(Re=>Re.order+=1),re[ee(460)].unshift(U);const oe=Math[ee(415)](ar(U.radius,U[ee(547)],re.fabricSquareSize??V.fabricSquareSize)),de=re[ee(408)]??V[ee(408)],be=y.gQkoR(re[ee(429)],"")?y.HcqpR(rr,de,re[ee(460)][ee(439)],y[ee(402)],0):y.VHneC(la,re[ee(468)]??V.baseDiameter,de,{layerCount:re[ee(460)][ee(439)]}).diameter;re.flowerDiameter=Math.max(re[ee(525)]||be,oe);const he=[...re[ee(460)]][ee(414)]((Re,Ze)=>Re[ee(542)]-Ze.order),Me=he[ee(424)]();for(let Re=1;Re<Me.length;Re++){const Ze=Me[y[ee(427)](Re,1)],lt=Me[Re];lt.offsetAngle=y[ee(482)](tl,Ze.petalCount,Ze[ee(421)],lt.petalCount)}},!0),i({kind:y[m(537)],flowerId:M,layerId:U.id}),y[m(566)](s,V=>({...V,[M]:!0}))},B=M=>{const m=S,z={LrxLg:function(L,N){return y.aSgqY(L,N)},nPNwr:"SkhHx",KcwmK:function(L,N,H,A){return L(N,H,A)}};if(y.YeDOQ(y[m(522)],m(441))){const L=c[m(500)][m(535)](A=>A.id===M);if(!L||!L[m(460)]||L.layers[m(439)]===0)return;if(L.layers[m(439)]<=1){D(M);return}const N=[...L[m(460)]][m(414)]((A,C)=>A[m(542)]-C.order),H=N[0];if(!H)return;y.sRDwI(r,A=>{const C=m,T={QLnGP:function(G,U){return z.LrxLg(G,U)}};if(z[C(409)]==="SkhHx"){const G=A[C(500)][C(535)](ee=>ee.id===M);if(!G)return;G[C(460)]=G[C(460)][C(549)](ee=>ee.id!==H.id),G.layers.slice().sort((ee,re)=>ee[C(542)]-re.order)[C(568)]((ee,re)=>ee.order=re+1);const U=[...G.layers][C(414)]((ee,re)=>ee[C(542)]-re.order),V=G.fabricSquareSize??A[C(408)];if(U.length>0){bx(U,V);for(const oe of U){const de=G[C(460)][C(535)](be=>be.id===oe.id);de&&(de.radius=oe[C(516)])}const ee=U[0];G.flowerDiameter=Math[C(415)](z[C(498)](ar,ee[C(516)],ee[C(547)]??1,V));const re=[...U].reverse();for(let oe=1;oe<re[C(439)];oe++){const de=re[oe-1],be=re[oe];be.offsetAngle=z[C(498)](tl,de.petalCount,de.offsetAngle,be.petalCount)}}}else T.QLnGP(_0x2b393f,{kind:C(462)})},!0),y[m(508)](a[m(583)],y[m(537)])&&a.layerId===H.id?y.JjHGu(i,{kind:y[m(426)],flowerId:M}):y.gQkoR(a[m(583)],m(461))&&a[m(512)]===H.id&&y.aSgqY(i,{kind:y.hayCH,flowerId:M})}else _0x244ab6.stencils||(_0x5a197b[m(484)]=[]),_0x22291f[m(484)].push(_0x4888f3)},R=()=>{const M=S,m={jYoNh:y.wyupE};if(!y[M(495)](a.kind,M(462))){if(y[M(543)](a[M(583)],y.WuyJr))if(y.gQkoR(y.lobfh,y[M(499)])){_(a[M(504)]);return}else{const z={nVAIt:function(H,A,C){return y[M(397)](H,A,C)}};_0x42a4ac[M(573)]||(_0x24ebbf.groups=[]);const L=_0x4702f5[M(573)].map(H=>{const A=M,C=H[A(406)][A(417)](/^ (\d+)$/);return C?z[A(567)](_0x320ee6,C[1],10):0}),N=L[M(439)]>0?_0x183242.max(...L)+1:1;_0x31ef19.groups.push({id:_0x1d1744,name:M(569)+N,flowerIds:[..._0x3feb79],leafIds:[..._0x24a642],rotation:0})}if(y.KUuYW(a[M(583)],M(428))){const z=a.leafIds;r(L=>{const N=M;if(L.leaves=(L[N(428)]??[])[N(549)](H=>!z.includes(H.id)),L.groups){for(const H of L[N(573)])m.jYoNh===m.jYoNh?H.leafIds=H.leafIds.filter(A=>!z[N(433)](A)):_0x3b11c1[N(573)]=_0x4a3cb2[N(573)].filter(A=>A.id!==_0x30e42e);L.groups=L.groups.filter(H=>H[N(490)].length+H[N(444)][N(439)]>0)}},!0),i({kind:y[M(528)]});return}if(a[M(583)]===y.FERFO){const{flowerIds:z,leafIds:L}=a;y.zrMRp(r,N=>{const H=M;if(N[H(500)]=N[H(500)].filter(A=>!z.includes(A.id)),N[H(428)]=(N.leaves??[]).filter(A=>!L.includes(A.id)),N[H(573)]){for(const A of N.groups)A[H(490)]=A.flowerIds[H(549)](C=>!z[H(433)](C)),A[H(444)]=A.leafIds[H(549)](C=>!L[H(433)](C));N[H(573)]=N[H(573)][H(549)](A=>A.flowerIds[H(439)]+A.leafIds.length>0)}},!0),y[M(437)](i,{kind:"project"});return}if(y[M(543)](a[M(583)],M(500)))if(y[M(575)](M(452),y.EaZCP)){const z=a.flowerIds;y.Mpirr(r,L=>{const N=M;if(L.flowers=L.flowers.filter(H=>!z.includes(H.id)),L.groups)if(y[N(449)](y[N(494)],N(546))){for(const H of L[N(573)])H.flowerIds=H[N(490)].filter(A=>!z.includes(A));L.groups=L[N(573)][N(549)](H=>H[N(490)][N(439)]+H.leafIds[N(439)]>0)}else{const H=MIccXS[N(557)]((_0x388ae7[N(547)]??1)-(_0x2084b9.scale??1),_0x516bc6);_0x379e09=_0x5d4a36(MIccXS[N(559)](_0x3baa4d[N(547)]??1,H),.3,3)}},!0),y.aSgqY(i,{kind:y[M(528)]});return}else y.PkhwL(_0x507b4d,{kind:M(544),flowerIds:_0x1d547c,leafIds:_0xcbfecf});if(y[M(495)](a.kind,y.HXVtx)){y[M(534)](r,z=>{const L=M;z.groups&&(z[L(573)]=z[L(573)].filter(N=>N.id!==a[L(530)]))},!0),y[M(399)](i,{kind:"project"});return}if(y[M(493)](a.kind,y[M(496)])){y.Mpirr(r,z=>{const L=M;z[L(484)]=(z.stencils??[])[L(549)](N=>N.id!==a[L(459)])},!0),i({kind:y.tTvSI});return}if(y.gQkoR(a[M(583)],M(469)))if(y[M(495)]("tcKmQ",M(446))){y[M(560)](i,{kind:"flower",flowerId:a[M(416)]});return}else _0x46467e.flowerIds[M(433)](_0x51e000)||_0x3756a8[M(490)][M(515)](_0x5a33f5);if(a[M(583)]===y.hayCH)if(y[M(578)](y[M(458)],"PShMS")){const z=_0x365f1c[y[M(506)](_0x2fcab2,1)],L=_0x193856[_0x9811fa];L.offsetAngle=_0x48f5a5(z.petalCount,z.offsetAngle,L.petalCount)}else{y[M(413)](r,z=>{const L=M;if(z.flowers=z[L(500)][L(549)](N=>N.id!==a[L(416)]),z.groups){for(const N of z[L(573)])N.flowerIds=N[L(490)][L(549)](H=>H!==a[L(416)]);z[L(573)]=z.groups[L(549)](N=>N[L(490)][L(439)]+N.leafIds.length>0)}},!0),i({kind:M(462)});return}if(y.lOIqJ(a.kind,"layer")||y[M(578)](a[M(583)],"petal"))if(y[M(508)](M(555),"KyNjH")){const z=c[M(500)][M(535)](N=>N.id===a[M(416)]),L=z?y[M(508)]([...z[M(460)]][M(414)]((N,H)=>N.order-H[M(542)])[0]?.id,a.layerId):!1;y.eemFO(r,N=>{const H=M,A=N.flowers.find(C=>C.id===a.flowerId);if(A&&(A[H(460)]=A[H(460)].filter(C=>C.id!==a.layerId),A.layers.slice().sort((C,T)=>C.order-T.order)[H(568)]((C,T)=>C[H(542)]=T+1),A.layers[H(439)]>0)){const C=[...A[H(460)]].sort((U,V)=>U[H(542)]-V.order),T=A[H(408)]??N[H(408)];y.zrMRp(bx,C,T);for(const U of C){const V=A[H(460)].find(ee=>ee.id===U.id);V&&(V[H(516)]=U[H(516)])}if(L){const U=C[0];A[H(525)]=Math[H(415)](y[H(454)](ar,U.radius,U.scale??1,T))}else{const U=A[H(429)]===""?y.DehTp(rr,T,A.layers[H(439)],H(532),0):y[H(482)](la,A.baseDiameter??N.baseDiameter,T,{layerCount:A.layers[H(439)]})[H(519)];V0(C,T,A.flowerDiameter||U);for(const V of C){const ee=A.layers.find(re=>re.id===V.id);ee&&(ee.radius=V[H(516)],ee.scale=V.scale)}}const G=[...C].reverse();for(let U=1;y[H(558)](U,G.length);U++){const V=G[U-1],ee=G[U];ee[H(421)]=tl(V[H(418)],V[H(421)],ee[H(418)])}}},!0),i({kind:M(470),flowerId:a.flowerId})}else{for(const z of _0x5ecfd8.groups)z[M(444)]=z.leafIds[M(549)](L=>!_0x23d199.includes(L));_0x395c45[M(573)]=_0x5e2230[M(573)].filter(z=>z.flowerIds[M(439)]+z[M(444)][M(439)]>0)}}},q=M=>({id:M.id,name:M[S(406)],flowerIds:[...M.flowerIds],leafIds:[...M[S(444)]],rotation:M.rotation}),O=te.useCallback(M=>{const m=S,z={jBOfo:function(N,H){return N===H},inOxx:y[m(564)],QbYgv:function(N,H){return N(H)},iqjqW:function(N,H){return N>H},djBno:function(N,H){return N+H}},L=Tt(y.KjKjT);r(N=>{const H=m,A={DJwqV:function(G,U){return z[Lt(478)](G,U)}};N[H(573)]||(N[H(573)]=[]);const C=N[H(573)].map(G=>{const U=H;if(z[U(436)](z[U(570)],U(398))){const V=(_0x2211ba[U(573)]??[])[U(535)](ee=>ee.id===_0x34379c);if(!V)return;V.previousGroups=[A[U(521)](_0x2aa3e0,V)];for(const ee of _0x4a60b1)V[U(490)][U(433)](ee)||V[U(490)].push(ee)}else{const V=G.name[U(417)](/^ (\d+)$/);return V?parseInt(V[1],10):0}}),T=z.iqjqW(C.length,0)?z.djBno(Math.max(...C),1):1;N[H(573)].push({id:L,name:" "+T,flowerIds:[...M],leafIds:[],rotation:0})},!0),i({kind:y.HXVtx,groupId:L}),y.AaxSp(f,N=>({...N,[L]:!0}))},[r,i,f]),I=te.useCallback((M,m)=>{const z=S,L={KWleV:function(H,A,C){return y.eemFO(H,A,C)},ESrCG:y[z(509)],goPBj:function(H,A){return H+A}},N=Tt(y.KjKjT);r(H=>{const A=z;if(L.ESrCG===L[A(539)]){H[A(573)]||(H[A(573)]=[]);const C=H[A(573)][A(442)](G=>{const U=A,V=G.name.match(/^ (\d+)$/);return V?L[U(518)](parseInt,V[1],10):0}),T=C[A(439)]>0?L[A(464)](Math[A(507)](...C),1):1;H.groups.push({id:N,name:A(569)+T,flowerIds:[...M],leafIds:[...m],rotation:0})}else _0x415363[A(490)]=_0xf59ee[A(490)][A(549)](C=>C!==_0x266c52)},!0),i({kind:y[z(440)],groupId:N}),f(H=>({...H,[N]:!0}))},[r,i,f]),Z=te.useCallback(M=>{y.zrMRp(r,m=>{const z=Lt;if(!m.groups)return;const L=m.groups.find(N=>N.id===M);if(L)if(L.previousGroups&&y.DxcgZ(L[z(412)][z(439)],0)){m[z(573)]=m.groups.filter(N=>N.id!==M);for(const N of L[z(412)])m.groups[z(515)]({id:N.id,name:N.name,flowerIds:[...N[z(490)]],leafIds:[...N[z(444)]],rotation:N[z(545)]})}else m[z(573)]=m.groups.filter(N=>N.id!==M)},!0),y.aSgqY(i,{kind:"project"})},[r,i]),k=te.useCallback(M=>{const m=S;y.VjfBk(r,z=>{const L=Lt;z.groups&&(z[L(573)]=z[L(573)][L(549)](N=>N.id!==M))},!0),y.mkIUs(i,{kind:y[m(528)]})},[r,i]),K=te.useCallback((M,m)=>{const z=S;y[z(431)](r,L=>{const N=z,H=(L[N(573)]??[])[N(535)](A=>A.id===M);if(H){H.previousGroups=[q(H)];for(const A of m)H.flowerIds.includes(A)||H.flowerIds[N(515)](A)}},!0),i({kind:y.HXVtx,groupId:M})},[r,i]),P=y.kbqpS(te.useCallback,(M,m)=>{const z=S,L=M[0],N=M[z(434)](1);y[z(563)](r,H=>{const A=z;if(!H.groups)return;const C=H.groups[A(535)](G=>G.id===L);if(!C)return;const T=[];for(const G of M){const U=H.groups[A(535)](V=>V.id===G);U&&T[A(515)](y.JvFVt(q,U))}C[A(412)]=T;for(const G of N){const U=H.groups[A(535)](V=>V.id===G);if(U){for(const V of U[A(490)])C[A(490)][A(433)](V)||C.flowerIds[A(515)](V);for(const V of U.leafIds)C.leafIds[A(433)](V)||C.leafIds.push(V)}}for(const G of m)if(y[A(553)]!==A(471)){if(_0x3ade3a.flowers=_0x3f8a90.flowers.filter(U=>!_0x26e176.includes(U.id)),_0x5ef7a3.leaves=(_0x46331c.leaves??[])[A(549)](U=>!_0x4d3051.includes(U.id)),_0x3e65fe[A(573)]){for(const U of _0x4911f4.groups)U[A(490)]=U[A(490)][A(549)](V=>!_0x7404bd.includes(V)),U.leafIds=U.leafIds.filter(V=>!_0x3533da[A(433)](V));_0x4fa8b3[A(573)]=_0x534b20.groups[A(549)](U=>U.flowerIds[A(439)]+U.leafIds[A(439)]>0)}}else C.flowerIds[A(433)](G)||C.flowerIds.push(G);H.groups=H[A(573)].filter(G=>!N[A(433)](G.id))},!0),i({kind:z(571),groupId:L}),f(H=>({...H,[L]:!0}))},[r,i,f]),W=(M,m)=>{const z=S,L=y[z(517)](d.w,d.h),N=520/g,H=N*L,A=y[z(457)](-p.x,g),C=-p.y/g,T=A+H/2,G=y[z(501)](C,N/2),U=y.oeioz(m,"back")?z(407):y.LDHTJ,V=n1[M][U].height*un,ee=pe(T,0,h),re=pe(G-y[z(457)](V,2),0,h),oe={id:Tt(z(474)),variant:M,pose:m,position:{x:ee,y:re}};y[z(489)](r,de=>{const be=z;de[be(484)]||(de[be(484)]=[]),de[be(484)][be(515)](oe)},!0),i({kind:y[z(496)],stencilId:oe.id})},F=M=>{const m=S;y[m(563)](r,z=>{const L=m;y.UThfd!==y[L(577)]?z.stencils=(z[L(484)]??[]).filter(N=>N.id!==M):_0x31ab83.flowerIds.includes(_0x4732bc)||_0x1b43e8[L(490)][L(515)](_0x136ba8)},!0),a.kind===y[m(496)]&&y[m(523)](a[m(459)],M)&&y[m(399)](i,{kind:y.tTvSI})},Y=y.BzJwj(te.useCallback,M=>{const m=S,z={ryaeV:"(((.+)+)+)+$",bFZlo:function(L,N){return L(N)},SCxEb:function(L,N){return y.QFokc(L,N)},gzADI:y.HXVtx,ZOcay:function(L,N){return y.QzGAK(L,N)},WBtYh:function(L,N){return y[Lt(501)](L,N)},kDfsL:function(L,N){return y[Lt(565)](L,N)},aBdhk:function(L,N,H){return y[Lt(397)](L,N,H)},gGnBF:function(L,N){return y[Lt(533)](L,N)},pRYJB:y[m(485)],MtYtk:function(L,N){return L===N},aXHVt:y.WuyJr,RWirm:y[m(479)],jTYjO:function(L,N){return y.DislF(L,N)},eiDDW:function(L,N){return y[m(560)](L,N)},SOrPh:m(500),qInPv:"mixed"};if(y.bSFmR(y.KnWvb,m(481)))_0x1fafb7.stencils=(_0x374fa2.stencils??[]).filter(L=>L.id!==_0x5eb7ce.stencilId);else{const L=(c[m(573)]??[])[m(535)](A=>A.flowerIds[m(433)](M)),N=L?L[m(490)]:[M],H=L?L[m(444)]:[];if(a[m(583)]===y.gKoIw)if(y.Vshlz(m(420),y[m(520)])){const A=_0x40f59b[m(444)];y[m(489)](_0x231bab,C=>{const T=m;if(C[T(428)]=(C[T(428)]??[]).filter(G=>!A[T(433)](G.id)),C[T(573)]){for(const G of C[T(573)])G.leafIds=G[T(444)][T(549)](U=>!A.includes(U));C.groups=C[T(573)][T(549)](G=>G.flowerIds[T(439)]+G[T(444)].length>0)}},!0),_0x1f4b6b({kind:"project"});return}else{const A=a.flowerIds;if(A[m(433)](M))if(y[m(449)](y.vqPmS,"CaPbh")){const C=new Set(N),T=A.filter(G=>!C[m(403)](G));T.length===0?y[m(445)](i,{kind:m(462)}):y[m(495)](T[m(439)],1)?y[m(445)](i,{kind:y[m(426)],flowerId:T[0]}):i({kind:"flowers",flowerIds:T})}else{y[m(435)](_0x4cc0b9,C=>{const T=m;if(C.flowers=C[T(500)][T(549)](G=>G.id!==_0x31c83b.flowerId),C[T(573)]){for(const G of C.groups)G.flowerIds=G.flowerIds.filter(U=>U!==_0xa935b4.flowerId);C[T(573)]=C[T(573)].filter(G=>G[T(490)][T(439)]+G.leafIds.length>0)}},!0),y.EKxSK(_0x272d41,{kind:"project"});return}else if(y.VTHur(y.yFqbx,y.yFqbx)){const C=[...new Set([...A,...N])];if(y.QzGAK(H[m(439)],0))if(y[m(538)]!==m(472))y.JjHGu(i,{kind:y.FERFO,flowerIds:C,leafIds:H});else return _0x120a59[m(476)]().search(jUrFmB.ryaeV).toString()[m(513)](_0x5ddeb1)[m(541)]("(((.+)+)+)+$");else{if(y[m(449)](y.OkRBD,"ZDSZw"))return;y.hLEXV(i,{kind:y[m(502)],flowerIds:C})}}else{const C={fsVmk:function(T,G){const U=m;return jUrFmB[U(465)](T,G)}};_0x21b716(T=>{const G=m,U=(T[G(573)]??[])[G(535)](V=>V.id===_0x1671b1);if(U){U[G(412)]=[C.fsVmk(_0x56b526,U)];for(const V of _0x398a38)U[G(490)].includes(V)||U[G(490)][G(515)](V)}},!0),jUrFmB[m(562)](_0x16fa5c,{kind:jUrFmB[m(438)],groupId:_0x244f6b})}}else if(a.kind===y[m(426)]||y.KUuYW(a.kind,m(483))||y.lOIqJ(a[m(583)],y.CsehL)||a[m(583)]===y[m(576)]){const A=a[m(416)];if(A===M)return;const C=(c.groups??[])[m(535)](ee=>ee.flowerIds[m(433)](A)),T=C?C.flowerIds:[A],G=C?C.leafIds:[],U=[...new Set([...T,...N])],V=[...new Set([...G,...H])];V[m(439)]>0?i({kind:"mixed",flowerIds:U,leafIds:V}):U.length===1?y.hBSMO(i,{kind:y[m(426)],flowerId:U[0]}):i({kind:y[m(502)],flowerIds:U})}else if(y[m(582)](a[m(583)],y.HXVtx)){const A=(c[m(573)]??[]).find(V=>V.id===a.groupId),C=A?A[m(490)]:[],T=A?A.leafIds:[];if(C.includes(M))if(m(551)!==m(551)){const V=jUrFmB[m(453)](_0x3404e1,m(451));jUrFmB.aBdhk(_0xe46c42,ee=>{const re=m;ee.groups||(ee.groups=[]);const oe=ee.groups[re(442)](be=>{const he=re,Me=be[he(406)].match(/^ (\d+)$/);return Me?_0x263cb2(Me[1],10):0}),de=jUrFmB.ZOcay(oe[re(439)],0)?jUrFmB.WBtYh(_0x111314[re(507)](...oe),1):1;ee[re(573)][re(515)]({id:V,name:re(569)+de,flowerIds:[..._0x1c2a0d],leafIds:[],rotation:0})},!0),jUrFmB.bFZlo(_0x466c1f,{kind:"group",groupId:V}),_0x681dd0(ee=>({...ee,[V]:!0}))}else return;const G=[...new Set([...C,...N])],U=[...new Set([...T,...H])];y.DxcgZ(U.length,0)?i({kind:y[m(396)],flowerIds:G,leafIds:U}):i({kind:"flowers",flowerIds:G})}else if(y.oeioz(a.kind,y.WuyJr))if(y[m(423)]!==m(531))y.mkIUs(_0x5c1d54,{kind:"mixed",flowerIds:_0x1ea3d8,leafIds:_0x53cda5});else{const A=(c[m(573)]??[])[m(535)](V=>V.leafIds.includes(a[m(504)])),C=A?A.flowerIds:[],T=A?A[m(444)]:[a[m(504)]],G=[...new Set([...C,...N])],U=[...new Set([...T,...H])];U.length>0?y.XuwPG(i,{kind:"mixed",flowerIds:G,leafIds:U}):y[m(467)](i,{kind:m(500),flowerIds:G})}else if(a[m(583)]===y[m(479)]){const A=[...new Set(N)],C=[...new Set([...a[m(444)],...H])];i({kind:y[m(396)],flowerIds:A,leafIds:C})}else if(a[m(583)]===y.FERFO)if(y.JIlKL!=="dRsLS"){const A=a[m(490)],C=a[m(444)];if(A[m(433)](M))if(y[m(392)](m(404),y.Lojum)){if(!_0x50091f.groups)return;_0x34303f.groups=_0x27e972[m(573)][m(549)](T=>T.id!==_0x6db8d1.groupId)}else{const T=new Set(N),G=new Set(H),U=A[m(549)](ee=>!T[m(403)](ee)),V=C.filter(ee=>!G.has(ee));y[m(480)](U.length,0)&&y[m(466)](V[m(439)],0)?y[m(505)](i,{kind:y.tTvSI}):y.Vshlz(U.length,0)&&V.length===1?y[m(445)](i,{kind:y.WuyJr,leafId:V[0]}):y.MVhvU(U.length,0)?i({kind:y.ZVWZJ,leafIds:V}):y[m(508)](V[m(439)],0)&&U.length===1?y[m(430)](i,{kind:m(470),flowerId:U[0]}):y[m(466)](V.length,0)?i({kind:"flowers",flowerIds:U}):i({kind:m(544),flowerIds:U,leafIds:V})}else{const T=[...new Set([...A,...N])],G=[...new Set([...C,...H])];y[m(399)](i,{kind:m(544),flowerIds:T,leafIds:G})}}else{for(const A of _0x45f1d0[m(573)])A.flowerIds=A[m(490)][m(549)](C=>!_0x3ce1d2[m(433)](C)),A[m(444)]=A[m(444)][m(549)](C=>!_0x1fe52c.includes(C));_0x18b0c6[m(573)]=_0x528acc[m(573)].filter(A=>A[m(490)].length+A.leafIds[m(439)]>0)}else if(y.QzGAK(H.length,0))if(y[m(449)](y.FqAWE,y.FqAWE)){z.gGnBF(_0x2dc202,{kind:z[m(514)],flowerId:_0x56e52e,layerId:_0x526a87,index:_0x1075c7});return}else i({kind:m(544),flowerIds:N,leafIds:H});else if(y.YyEpy(N[m(439)],1))if(m(393)!==m(477))y.awtbd(i,{kind:y.hayCH,flowerId:N[0]});else{const A=new _0x2c6368(_0x3b6853),C=new _0x3b1b81(_0x357f50),T=_0x16f563.filter(U=>!A[m(403)](U)),G=_0x4275f0[m(549)](U=>!C.has(U));T[m(439)]===0&&z.MtYtk(G.length,0)?_0x317d7c({kind:"project"}):T.length===0&&G.length===1?z.gGnBF(_0x2346da,{kind:z.aXHVt,leafId:G[0]}):z[m(580)](T.length,0)?z.bFZlo(_0x832fb1,{kind:z.RWirm,leafIds:G}):G[m(439)]===0&&z.jTYjO(T[m(439)],1)?_0x3cfe80({kind:m(470),flowerId:T[0]}):G.length===0?z.eiDDW(_0x6bcb62,{kind:z[m(394)],flowerIds:T}):z.kDfsL(_0x16625f,{kind:z.qInPv,flowerIds:T,leafIds:G})}else y[m(463)](i,{kind:y.gKoIw,flowerIds:N})}},[a,i,c.groups]);return{deleteFlowerById:D,deleteLayerById:v,computeNewOuterRadius:w,addOuterLayer:b,deleteOuterLayer:B,deleteSelected:R,groupSelectedFlowers:O,groupSelectedMixed:I,ungroupFlowers:Z,ungroupAll:k,addToGroup:K,mergeGroups:P,addStencil:W,deleteStencil:F,handleShiftFlowerSelect:Y,togglePetalSelection:(M,m,z,L)=>{const N=S;if(!L){y.ThHxK(i,{kind:"petal",flowerId:M,layerId:m,index:z});return}const H=m+":"+z;if(y[N(447)](a[N(583)],"petals")&&y[N(543)](a[N(416)],M)){const A=a[N(469)]||[];if(A.some(T=>T.layerId+":"+T.index===H))if(y.caynM(y[N(473)],"IgWGV")){const T=_0x3e485f.flowers.find(V=>V.id===_0x417012);if(!T)return;T.layers=T[N(460)][N(549)](V=>V.id!==_0x429cf5.id),T.layers[N(434)]()[N(414)]((V,ee)=>V[N(542)]-ee.order).forEach((V,ee)=>V.order=ee+1);const G=[...T[N(460)]].sort((V,ee)=>V[N(542)]-ee.order),U=T[N(408)]??_0x5489dd[N(408)];if(G.length>0){Uswfmb.CVqXV(_0x530136,G,U);for(const re of G){const oe=T.layers[N(535)](de=>de.id===re.id);oe&&(oe.radius=re.radius)}const V=G[0];T.flowerDiameter=_0x574449[N(415)](Uswfmb.nhPax(_0x5807b4,V[N(516)],V[N(547)]??1,U));const ee=[...G].reverse();for(let re=1;re<ee[N(439)];re++){const oe=ee[Uswfmb.leVnk(re,1)],de=ee[re];de.offsetAngle=Uswfmb.jtXDI(_0x5b6f4f,oe[N(418)],oe.offsetAngle,de[N(418)])}}}else{const T=A.filter(G=>G[N(512)]+":"+G.index!==H);T[N(439)]===0?y.INLdl(i,{kind:N(470),flowerId:M}):y[N(493)](T.length,1)?y[N(533)](i,{kind:y.CsehL,flowerId:M,layerId:T[0][N(512)],index:T[0][N(579)]}):i({kind:"petals",flowerId:M,petals:T})}else i({kind:y[N(576)],flowerId:M,petals:[...A,{layerId:m,index:z}]})}else if(a.kind===N(461)&&a[N(416)]===M){const A={layerId:a.layerId,index:a.index},C={layerId:m,index:z};if(y[N(450)](A[N(512)]+":"+A[N(579)],H)){if(N(422)==="EWupF")return;if(_0x3ef0db.flowers=(_0x1b10ea[N(500)]||[]).filter(T=>T.id!==_0x42a153),_0x5032ea[N(573)]){for(const T of _0x2942e4[N(573)])T[N(490)]=T.flowerIds[N(549)](G=>G!==_0x26a8be);_0x3cb4b1[N(573)]=_0x17b844[N(573)][N(549)](T=>T.flowerIds[N(439)]+T.leafIds.length>0)}}i({kind:y.Pnwid,flowerId:M,petals:[A,C]})}else Y(M)}}}(function(c,r){const a=Xt,i=c();for(;;)try{if(-parseInt(a(278))/1+parseInt(a(270))/2+-parseInt(a(331))/3*(-parseInt(a(287))/4)+parseInt(a(268))/5+-parseInt(a(346))/6+-parseInt(a(329))/7*(parseInt(a(285))/8)+parseInt(a(286))/9*(parseInt(a(314))/10)===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(K0,268095);const bb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),kx=bb(void 0,function(){const c=Xt,r={DJzcC:"(((.+)+)+)+$"};return kx.toString()[c(307)]("(((.+)+)+)+$").toString()[c(348)](kx)[c(307)](r[c(272)])});kx();function K0(){const c=["sKTHDKW","wKzyywG","mtbbtNjjyuG","EfnfuNy","z3jW","uKPZyvO","Dwfouue","yw1ur08","z3jVDxbZ","BwL4zwq","BgvUz3rO","DfvPAe8","vwfcCeK","v3rlywS","zuXLELe","uwz2wK0","C0TwDvi","mJK0mtyXre9kwLnm","rwLKrMm","nLnRAurxtG","CNH3uMO","t0fRCMy","BgvHzKLK","Agzrs1y","sMzzzKC","Bwf0y2G","ChjLDMLVDxnhCM91Chm","BMfTzq","rM1Hy3i","z3jVDxbjza","CKvuAwS","s0HsBg4","v1nKB08","rvbftuq","mte2mJeXnKryAhffuW","vvbYyuW","y29UC3rYDwn0B3i","tfD1ELq","txf3DwS","rMzwz2u","zMLSDgvY","yuvAq1i","yvLrAM4","te9suvy","qNPXz2K","CejkswS","wwnNtw8","zMXVD2vYswrZ","mti5odC3nu1ku3LTwG","svrlAwm","nZu1ntq2B1fSCgrQ","zMXVD2vYCW","reP6y0m","BgvHzG","zwXYD04","whrMELG","zMXVD2vY","wKHRugi","ndmXmJm1Be1Wt09c","CM90yxrPB24","EufSrhq","Cgv0ywXZ","suL3BKG","ChvZAa","rNbhrNq","odHutLDQyKG","ndG4nde0n3jWruTRtG","mZuWmte2qLvIvKL4","A2LUza","vwDpzfi","whrivhG","B0XwBeO","z3jVDxa","zwvcugm","qvbIqM4","AgfZ","zeDpAvu","Aw5JBhvKzxm","BgvHDMvZ","BLLQC3i","yw53EKu","ChjVAMvJDa","B3LLz3u","zMLUza","BgvHzKLKCW","BvPiD0e","v05nqLC","C2vHCMnO","tMnhrhO","s3jSte0","B3vgEvy","DejRBvK"];return K0=function(){return c},K0()}function Xt(c,r){c=c-257;const a=K0();let i=a[c];if(Xt.BKkpuL===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Xt.aiRfPN=s,Xt.XjHspz={},Xt.BKkpuL=!0}const f=a[0],g=c+f,p=Xt.XjHspz[g];if(p)i=p;else{const d=function(h){this.gxASNQ=h,this.vViyfK=[1,0,0],this.JSVdSA=function(){return"newState"},this.jWjltm="\\w+ *\\(\\) *{\\w+ *",this.ucFXPa=`['|"].+['|"];? *}`};d.prototype.Qlxexc=function(){const h=new RegExp(this.jWjltm+this.ucFXPa),_=h.test(this.JSVdSA.toString())?--this.vViyfK[1]:--this.vViyfK[0];return this.lXVSkZ(_)},d.prototype.lXVSkZ=function(h){return~h?this.FHjmxL(this.gxASNQ):h},d.prototype.FHjmxL=function(h){for(let _=0,S=this.vViyfK.length;_<S;_++)this.vViyfK.push(Math.round(Math.random())),S=this.vViyfK.length;return h(this.vViyfK[0])},new d(Xt).Qlxexc(),i=Xt.aiRfPN(i),Xt.XjHspz[g]=i}return i}function gb({project:c,applyUpdate:r,selection:a,setSelection:i}){const s=Xt,f={Fmacr:function(v,b,B){return v(b,B)},tUihO:function(v,b){return v(b)},PXhjP:s(301),ZHkPb:function(v,b){return v===b},eLezQ:s(289),xSERv:"leaves",rxwRj:s(262),KrlLM:function(v,b){return v>b},JvxDk:function(v,b){return v!==b},QavSP:function(v,b){return v===b},qzBPl:"bWHIm",rbWSL:"ivWDv",XtfzX:"leaf",Wwjtx:s(291),rETik:function(v,b){return v===b},ouFyV:s(321),JbTub:s(292),UaBpI:function(v,b){return v===b},gkJDU:"petal",KHRln:s(281),ZFXah:s(271),EidFc:function(v,b){return v===b},kzkYy:function(v,b){return v===b},pBJIk:"flower",jzaOr:function(v,b){return v(b)},IIwnH:function(v,b){return v(b)},mSdqp:s(269),lWKbN:function(v,b){return v(b)},JKavL:function(v,b,B){return v(b,B)},nYjsr:function(v,b){return v(b)},QiOoE:s(344),QJsNB:s(293),XtsgP:function(v,b){return v(b)},uaNQA:function(v,b,B){return v(b,B)},yAlDt:function(v,b){return v(b)},QfvZM:function(v,b){return v!==b},mLRBo:"amTGO",Nvfix:function(v,b){return v(b)},anwzE:function(v,b){return v(b)},EPEMD:s(264),tBkmY:function(v,b,B){return v(b,B)},ofCSO:function(v,b,B){return v(b,B)}},g=v=>{const b=s;f[b(340)](r,B=>{const R=b;if(B[R(298)]=(B[R(298)]??[]).filter(q=>q.id!==v),B.groups){for(const q of B.groups)q[R(304)]=q[R(304)].filter(O=>O!==v);B[R(320)]=B.groups.filter(q=>q.flowerIds[R(322)]+q.leafIds[R(322)]>0)}},!0),f[b(323)](i,{kind:f.PXhjP})},p=te.useCallback(v=>{const b=s,B={NcGDz:b(298),UPraL:function(R,q){return f.tUihO(R,q)}};if(f.ZHkPb(f.eLezQ,f[b(326)])){const R=(c.groups??[]).find(I=>I.leafIds.includes(v)),q=R?R.leafIds:[v],O=R?R.flowerIds:[];if(f[b(277)](a[b(288)],f.xSERv)){const I=a[b(304)];if(I.includes(v)){const Z=new Set(q),k=I.filter(K=>!Z.has(K));if(f.ZHkPb(k[b(322)],0))i({kind:f.PXhjP});else if(f.ZHkPb(k.length,1))if(f[b(332)]!==b(290))i({kind:b(273),leafId:k[0]});else{const K=(_0x228926[b(320)]??[]).find(P=>P.id===_0x4eb53c);if(!K)return;K.previousGroups=[_0x3df6e6(K)];for(const P of _0x2b434f)K[b(304)].includes(P)||K.leafIds[b(283)](P)}else i({kind:"leaves",leafIds:k})}else{const Z=[...new Set([...I,...q])];if(f[b(309)](O[b(322)],0))f.JvxDk("OAkrf",b(333))?_0x45703b({kind:B[b(308)],leafIds:_0x253ccc}):i({kind:b(321),flowerIds:O,leafIds:Z});else if(f.QavSP(f.qzBPl,f.rbWSL)){_0x2e1fb5.groups=_0x31669a.groups[b(260)](k=>k.id!==_0x1ae665);for(const k of _0x3dda87[b(338)])_0x5d7d83[b(320)].push({id:k.id,name:k.name,flowerIds:[...k.flowerIds],leafIds:[...k.leafIds],rotation:k[b(279)]})}else f[b(323)](i,{kind:b(298),leafIds:Z})}}else if(a.kind===f.XtfzX)if(f.ZHkPb("oLVlJ",f.Wwjtx)){if(f[b(342)](a.leafId,v))return;const I=(c[b(320)]??[])[b(303)](W=>W.leafIds.includes(a.leafId)),Z=I?I[b(304)]:[a[b(334)]],k=I?I.flowerIds:[],K=[...new Set([...Z,...q])],P=[...new Set([...k,...O])];P[b(322)]>0?i({kind:f.ouFyV,flowerIds:P,leafIds:K}):K.length===1?i({kind:f[b(275)],leafId:K[0]}):i({kind:f[b(315)],leafIds:K})}else{for(const I of _0x142b8d[b(320)])I.leafIds=I[b(304)][b(260)](Z=>Z!==_0x4e7701);_0x4bd15b[b(320)]=_0x48745d.groups.filter(I=>I.flowerIds.length+I[b(304)].length>0)}else if(f.QavSP(a[b(288)],f.JbTub)){const I=(c[b(320)]??[])[b(303)](W=>W.id===a[b(341)]),Z=I?I.leafIds:[],k=I?I.flowerIds:[];if(Z.includes(v))return;const K=[...new Set([...Z,...q])],P=[...new Set([...k,...O])];P[b(322)]>0?i({kind:f.ouFyV,flowerIds:P,leafIds:K}):i({kind:f.xSERv,leafIds:K})}else if(a[b(288)]===b(276)||f.UaBpI(a[b(288)],"layer")||a[b(288)]===f.gkJDU||a.kind===f[b(343)]){const I=a.flowerId,Z=(c.groups??[])[b(303)](F=>F.flowerIds.includes(I)),k=Z?Z[b(267)]:[I],K=Z?Z[b(304)]:[],P=[...new Set([...k,...O])],W=[...new Set([...K,...q])];f[b(323)](i,{kind:b(321),flowerIds:P,leafIds:W})}else if(a[b(288)]===f[b(313)]){const I=[...new Set([...a.flowerIds,...O])],Z=[...new Set(q)];f.tUihO(i,{kind:f.ouFyV,flowerIds:I,leafIds:Z})}else if(f.EidFc(a[b(288)],"mixed")){const I=a.flowerIds,Z=a[b(304)];if(Z.includes(v)){const k=new Set(q),K=new Set(O),P=Z[b(260)](F=>!k[b(295)](F)),W=I.filter(F=>!K[b(295)](F));W.length===0&&P[b(322)]===0?i({kind:"project"}):f.kzkYy(W.length,0)&&P.length===1?i({kind:f.XtfzX,leafId:P[0]}):f.EidFc(W[b(322)],0)?i({kind:b(298),leafIds:P}):f[b(342)](P[b(322)],0)&&W.length===1?i({kind:f[b(265)],flowerId:W[0]}):f[b(324)](P.length,0)?f.jzaOr(i,{kind:f.ZFXah,flowerIds:W}):i({kind:f[b(310)],flowerIds:W,leafIds:P})}else{const k=[...new Set([...I,...O])],K=[...new Set([...Z,...q])];f[b(282)](i,{kind:f.ouFyV,flowerIds:k,leafIds:K})}}else O[b(322)]>0?f.mSdqp!==b(269)?_0x5c47c6.leafIds[b(297)](_0x1fd5d0)||_0x2d2af3[b(304)].push(_0x462158):i({kind:f[b(310)],flowerIds:O,leafIds:q}):q[b(322)]===1?f[b(282)](i,{kind:"leaf",leafId:q[0]}):i({kind:f.xSERv,leafIds:q})}else B[b(347)](_0x42cf86,{kind:b(298),leafIds:_0x2eed10})},[a,i,c.groups]),d=v=>({id:v.id,name:v[s(339)],flowerIds:[...v.flowerIds],leafIds:[...v.leafIds],rotation:v.rotation}),h=f[s(311)](te.useCallback,v=>{const b=s,B={dzzXS:function(I,Z,k){return f[Xt(340)](I,Z,k)}},R=Tt(b(316)),q=(c.groups??[]).map(I=>{const Z=b,k=I.name[Z(337)](/^ (\d+)$/);return k?B.dzzXS(parseInt,k[1],10):0}),O=f[b(309)](q.length,0)?Math.max(...q)+1:1;r(I=>{const Z=b;I.groups||(I.groups=[]),I.groups[Z(283)]({id:R,name:" "+O,flowerIds:[],leafIds:[...v],rotation:0})},!0),f.tUihO(i,{kind:b(292),groupId:R})},[c[s(320)],r,i]),_=te.useCallback((v,b)=>{const B=s;f[B(312)](r,R=>{const q=B,O=(R[q(320)]??[])[q(303)](I=>I.id===v);if(O){O[q(338)]=[d(O)];for(const I of b)O[q(304)][q(297)](I)||O.leafIds.push(I)}},!0),f[B(299)](i,{kind:"group",groupId:v})},[r,i]),S=te.useCallback((v,b)=>{const B=s,R=v[0],q=v.slice(1);f[B(318)](r,O=>{const I=B;if(I(321),f.QiOoE===I(294))_0x2a9b8e.leafIds=_0x16c1ac.leafIds[I(260)](Z=>Z!==_0x7f609f);else{if(!O.groups)return;const Z=O.groups[I(303)](K=>K.id===R);if(!Z)return;const k=[];for(const K of v)if(f[I(330)](f.QJsNB,I(306))){if(bgOSYk[I(258)](_0x8e88.leafId,_0x45c19a))return;const P=(_0x349b08.groups??[])[I(303)](M=>M[I(304)].includes(_0x292be0[I(334)])),W=P?P[I(304)]:[_0x39cba3[I(334)]],F=P?P.flowerIds:[],Y=[...new _0x3b3ef6([...W,..._0x36452f])],X=[...new _0x4c01cf([...F,..._0x2519b6])];bgOSYk.WhcTU(X[I(322)],0)?bgOSYk[I(302)](_0x40967b,{kind:bgOSYk.MRvnM,flowerIds:X,leafIds:Y}):bgOSYk[I(266)](Y[I(322)],1)?_0x1ddf17({kind:I(273),leafId:Y[0]}):_0x585ce4({kind:bgOSYk[I(263)],leafIds:Y})}else{const P=O[I(320)].find(W=>W.id===K);P&&k[I(283)](f.XtsgP(d,P))}Z[I(338)]=k;for(const K of q){const P=O.groups.find(W=>W.id===K);if(P){for(const W of P.leafIds)Z[I(304)][I(297)](W)||Z.leafIds[I(283)](W);for(const W of P.flowerIds)Z.flowerIds.includes(W)||Z.flowerIds.push(W)}}for(const K of b)Z[I(304)][I(297)](K)||Z[I(304)].push(K);O[I(320)]=O.groups.filter(K=>!q.includes(K.id))}},!0),f[B(280)](i,{kind:"group",groupId:R})},[r,i]),y=te.useCallback(v=>{const b=s,B={JfYfG:function(R,q){return R!==q},agrfN:"aUjBB",fMaKC:"lznKO",dGOiU:function(R,q){return f[Xt(327)](R,q)},RJsaZ:f.mLRBo};r(R=>{const q=Xt;if(B[q(336)](B.agrfN,B.fMaKC)){if(!R[q(320)])return;const O=R.groups.find(I=>I.id===v);if(!O)return;if(O.previousGroups&&O.previousGroups[q(322)]>0){R[q(320)]=R[q(320)].filter(I=>I.id!==v);for(const I of O.previousGroups)R.groups[q(283)]({id:I.id,name:I[q(339)],flowerIds:[...I.flowerIds],leafIds:[...I[q(304)]],rotation:I.rotation})}else if(B[q(296)](q(319),B[q(317)])){const I=_0x4bc00e.groups[q(303)](Z=>Z.id===_0x33442f);I&&_0x3e53ce[q(283)](_0x4fc5e4(I))}else R[q(320)]=R.groups[q(260)](I=>I.id!==v)}else _0x13c80d.groups[q(283)]({id:_0xb3ef20.id,name:_0x3f5d83[q(339)],flowerIds:[..._0x381d77[q(267)]],leafIds:[..._0x825a4b[q(304)]],rotation:_0x5d4d59.rotation})},!0),f.IIwnH(i,{kind:b(301)})},[r,i]),w=te.useCallback((v,b)=>{r(B=>{const R=Xt;if(f.PXhjP,R(273),f[R(310)],f[R(345)]===f.EPEMD){const q=(B.groups??[]).find(O=>O.id===b);q&&!q.leafIds.includes(v)&&q.leafIds[R(283)](v)}else{const q=new _0x3f4d32(_0x4489b7),O=new _0x3a5024(_0x2ced70),I=_0x170dca.filter(k=>!q[R(295)](k)),Z=_0x4c676c[R(260)](k=>!O[R(295)](k));Z[R(322)]===0&&zoOxqZ[R(328)](I[R(322)],0)?_0x1fe44f({kind:zoOxqZ.yCnUt}):zoOxqZ[R(261)](Z[R(322)],0)&&zoOxqZ[R(305)](I.length,1)?zoOxqZ[R(257)](_0x484cdf,{kind:zoOxqZ[R(274)],leafId:I[0]}):Z[R(322)]===0?zoOxqZ.LWuzT(_0x4a9965,{kind:zoOxqZ[R(335)],leafIds:I}):zoOxqZ.JJpzD(I[R(322)],0)&&Z.length===1?_0x1a219f({kind:R(276),flowerId:Z[0]}):I.length===0?zoOxqZ[R(259)](_0x4aaca5,{kind:R(271),flowerIds:Z}):zoOxqZ.FfVge(_0x22522b,{kind:zoOxqZ[R(284)],flowerIds:Z,leafIds:I})}},!0)},[r]),D=f.ofCSO(te.useCallback,v=>{r(b=>{const B=Xt;if(b[B(320)]){for(const R of b[B(320)])B(325)==="aOqsF"?_0x19cda5({kind:TxzxSe.AAxkZ,flowerIds:_0x3d7a13,leafIds:_0x4680f2}):R.leafIds=R.leafIds.filter(q=>q!==v);b[B(320)]=b[B(320)].filter(R=>R[B(267)].length+R.leafIds.length>0)}},!0)},[r]);return{deleteLeafById:g,handleShiftLeafSelect:p,groupSelectedLeaves:h,ungroupLeaves:y,addLeafToGroup:w,removeLeafFromGroup:D,addLeavesToGroup:_,mergeLeafGroups:S}}(function(c,r){const a=Gn,i=c();for(;;)try{if(parseInt(a(293))/1*(-parseInt(a(326))/2)+-parseInt(a(309))/3*(-parseInt(a(303))/4)+parseInt(a(313))/5+parseInt(a(299))/6+-parseInt(a(304))/7+-parseInt(a(307))/8*(-parseInt(a(295))/9)+-parseInt(a(302))/10===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(Z0,727668);const vb=(function(){let c=!0;return function(r,a){const i=c?function(){if(a){const s=a.apply(r,arguments);return a=null,s}}:function(){};return c=!1,i}})(),Bx=vb(void 0,function(){const c=Gn,r={qIRHk:"(((.+)+)+)+$"};return Bx[c(283)]()[c(322)](r[c(275)])[c(283)]().constructor(Bx).search(r.qIRHk)});Bx();function pb({project:c,applyUpdate:r,setSelection:a,setExpandedFlowers:i,zoom:s,pan:f,stageSize:g,CANVAS_MAX_SVG:p}){const d=Gn,h={OTQux:function(b,B){return b===B},GpByF:function(b,B){return b===B},YGGFY:d(305),OYLid:function(b,B){return b/B},StePB:function(b,B){return b(B)},ueymu:"Inner",imbDi:"Outer",UsPPk:function(b,B){return b<B},FJIKr:function(b,B){return b+B},sOfOi:"hXvIe",ylSkK:"gradual",GsCJz:function(b,B){return b*B},roqMm:function(b,B){return b-B},dKUjD:function(b,B){return b/B},xXIri:function(b,B){return b>B},WRgbt:function(b,B,R,q){return b(B,R,q)},HqTQn:function(b,B){return b+B},NmOjI:function(b,B){return b-B},KRfKJ:d(282),urSDJ:function(b,B){return b===B},CaKXE:function(b,B,R,q,O){return b(B,R,q,O)},LyFgH:function(b,B){return b/B},KvNco:function(b,B){return b/B},bcugb:"0|4|1|2|3",ZEMBv:"flw",BgZsw:"",ltlJv:function(b,B){return b===B},JNWzi:function(b,B){return b(B)},sfxNw:function(b,B,R){return b(B,R)},lnDyx:function(b,B){return b(B)},TYmyF:function(b,B){return b(B)},Cazsy:""},[_,S]=te.useState(!1),[y,w]=te.useState({placementMode:"",fabricSquareSize:20,baseDiameter:c.baseDiameter,layerCount:1,petalCount:6,petalType:h[d(287)],sizeMode:d(277),sizeStepMm:2,colorId:"",flowerDiameter:60});return{showAddFlowerDialog:_,setShowAddFlowerDialog:S,addFlowerOpts:y,setAddFlowerOpts:w,addFlower:()=>{const b=d,B={hZCBO:function(O,I){return h[Gn(279)](O,I)},iwAtr:function(O,I){return O*I},IlNyv:function(O,I){return h.OYLid(O,I)},LoTOc:function(O,I){return O*I}},R=c.fabricSquareSize,q=c[b(294)];w(O=>{const I=b,Z={...O,fabricSquareSize:R,baseDiameter:q};if(h[I(319)](Z.placementMode,""))Z[I(324)]=la(q,R,{layerCount:Z.layerCount,sizeMode:Z.sizeMode,sizeStepMm:Z.sizeStepMm})[I(289)];else if(h[I(323)](h.YGGFY,"QQtAr")){const K=B.hZCBO(70*_0x10b2b6.PI,180),P=_0x34e40b>1?B.iwAtr(B[I(317)](_0x1d9891,_0x138d71-1),K):0,W=_0x2fc1f8.cos(P);_0x460497=B.LoTOc(_0x5e02b2*(30/100),W)}else Z.flowerDiameter=rr(R,Z.layerCount,Z.sizeMode,Z[I(328)]);return Z}),S(!0)},confirmAddFlower:()=>{const b=d,{placementMode:B,layerCount:R,petalCount:q,petalType:O,sizeMode:I,sizeStepMm:Z}=y,k=y.fabricSquareSize,{length:K}=h[b(321)](Et,k),P=.28,W=Math[b(306)](K*P*10)/10,F=[],Y=["Center",h.ueymu,"Middle",h.imbDi,"Outer+"];let X=W,M=0;for(let oe=0;h[b(311)](oe,R);oe++){const de=oe,be=1;let he;if(I==="uniform")he=be;else{const lt=h.OYLid(Z,k);he=pe(h[b(292)](be,de*lt),.3,3)}let Me;if(oe===0)h.sOfOi!=="DRtte"?Me=W:(_0x2fdd9c.radius=_0x261c24[b(291)],_0x3cf4b0.scale=_0x7d8e62[b(290)]);else{const lt=I===h.ylSkK?pe(h[b(292)](1,h.OYLid(h.GsCJz(h.roqMm(oe,1),Z),k)),.3,3):1,ht=h[b(316)](K,lt);let kt;if(h[b(323)](B,"")){const mt=h[b(320)](h[b(316)](70,Math.PI),180),Ut=h[b(286)](R,1)?oe/h.roqMm(R,1)*mt:0,xn=Math.cos(Ut);kt=h.GsCJz(ht*(30/100),xn)}else kt=h.OYLid(ht,3);X=h[b(292)](X,kt),Me=Math.round(X*10)/10}const Re=h.OTQux(oe,0)?0:h[b(308)](tl,q,M,q);M=Re;let Ze;R===1?Ze="Layer":R<=5?Ze=Y[(R===2?[0,3]:R===3?[0,1,3]:R===4?[0,1,2,3]:[0,1,2,3,4])[oe]]??b(296)+(oe+1):Ze=b(296)+h.HqTQn(oe,1),F.push({id:Tt(b(280)),name:Ze,order:h.NmOjI(R,oe),petalType:O,petalCount:q,radius:Me,scale:he,widthScale:h.StePB(si,q),offsetAngle:Re,colorId:y.colorId||(c.palette?.[0]?.id??h[b(276)]),visible:!0,locked:!1})}F.reverse();const m=[...F][b(281)]((oe,de)=>oe.order-de[b(301)]),z=h.urSDJ(B,b(298))?la(y.baseDiameter,k,{layerCount:R,sizeMode:I,sizeStepMm:Z}).diameter:h[b(314)](rr,k,R,I,Z);V0(m,k,y[b(324)]||z);for(const oe of m){const de=F.find(be=>be.id===oe.id);de&&(de.radius=oe[b(291)],de[b(290)]=oe[b(290)])}const L=g.w/g.h,N=520/s,H=N*L,A=h[b(279)](-f.x,s),C=-f.y/s;let T=A+h.LyFgH(H,2),G=h[b(292)](C,h.KvNco(N,2));const U=25;let V=0;for(;V<50&&c.flowers.some(oe=>Math[b(327)](oe.position.x-T)<5&&Math.abs(oe[b(325)].y-G)<5);){const oe=h.bcugb[b(310)]("|");let de=0;for(;;){switch(oe[de++]){case"0":T+=U;continue;case"1":T=h[b(308)](pe,T,0,p);continue;case"2":G=pe(G,0,p);continue;case"3":V++;continue;case"4":G+=U;continue}break}}const ee=y.flowerDiameter||z,re={id:Tt(h.ZEMBv),name:b(300)+(c[b(284)].length+1),position:{x:T,y:G},flowerDiameter:ee,rotation:0,layers:F,center:{type:h[b(318)],size:6,color:b(282)},fabricSquareSize:k,placementMode:B,baseDiameter:h[b(297)](B,b(298))?y.baseDiameter:h[b(288)](lr,ee)};h[b(315)](r,oe=>{const de=b;oe.flowers[de(285)](re)},!0),h[b(312)](a,{kind:"flower",flowerId:re.id}),h[b(278)](i,oe=>({...oe,[re.id]:!0})),S(!1)}}}function Gn(c,r){c=c-275;const a=Z0();let i=a[c];if(Gn.rkkfSZ===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Gn.DVEZzR=s,Gn.gMtOxB={},Gn.rkkfSZ=!0}const f=a[0],g=c+f,p=Gn.gMtOxB[g];if(p)i=p;else{const d=function(h){this.kAPtTI=h,this.YFqUjf=[1,0,0],this.kEfXKd=function(){return"newState"},this.wtjrll="\\w+ *\\(\\) *{\\w+ *",this.YxQDhw=`['|"].+['|"];? *}`};d.prototype.REpOeb=function(){const h=new RegExp(this.wtjrll+this.YxQDhw),_=h.test(this.kEfXKd.toString())?--this.YFqUjf[1]:--this.YFqUjf[0];return this.ynhNxE(_)},d.prototype.ynhNxE=function(h){return~h?this.cSsnkO(this.kAPtTI):h},d.prototype.cSsnkO=function(h){for(let _=0,S=this.YFqUjf.length;_<S;_++)this.YFqUjf.push(Math.round(Math.random())),S=this.YFqUjf.length;return h(this.YFqUjf[0])},new d(Gn).REpOeb(),i=Gn.DVEZzR(i),Gn.gMtOxB[g]=i}return i}function Z0(){const c=["t1rrDxG","zeTvAKq","u3rLuei","C2vHCMnO","r3bcEuy","zMXVD2vYrgLHBwv0zxi","Cg9ZAxrPB24","mte3ntyYoev5svfTzq","ywjZ","C2L6zvn0zxbnBq","CuLssgS","s1jMs0O","Dw5PzM9YBq","vfLTEuy","t1LmAwq","Bgf5","C29YDa","y29Sx3DOAxrL","Dg9tDhjPBMC","zMXVD2vYCW","ChvZAa","EfHjCMK","q2f6C3K","sK5xEMK","zgLHBwv0zxi","C2nHBgu","CMfKAxvZ","rKPjs3i","muHpBNvPuW","yMfZzurPyw1LDgvY","ndG1oty1ohr6t3joEG","tgf5zxiG","BhrSsNy","5y2k44gp44gz","ntmZmdm1mLPwugTqta","rMXVD2vYia","B3jKzxi","mtqWnJKYmJbjAhjjzfq","otu3mKrUtxPHEa","ndm0mZqZDgzhA2HR","CeXyuhm","CM91BMq","ogvZqKHmvW","v1jNyNq","nZy4v0zPy3fO","C3bSAxq","vxnqugS","Bg5eExG","mZCXnZq1nw1jrM1Tvq","q2flweu","C2z4tNC","r3ndsNO","swXoExy","qMDAC3C"];return Z0=function(){return c},Z0()}(function(c,r){const a=gn,i=c();for(;;)try{if(-parseInt(a(285))/1*(-parseInt(a(277))/2)+parseInt(a(281))/3+parseInt(a(288))/4+-parseInt(a(286))/5+parseInt(a(262))/6+-parseInt(a(259))/7*(parseInt(a(270))/8)+parseInt(a(256))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(X0,413463);const yb=(function(){let c=!0;return function(r,a){const i={SAGMg:function(f,g){return f*g},YDlAv:"QWOIc"},s=c?function(){const f=gn;if(a){if(i.YDlAv===f(272))return _0x2b8a9b[f(275)](i.SAGMg(i.SAGMg(_0x580d7e,_0x123e5b.SQRT2)/2,10))/10;{const g=a.apply(r,arguments);return a=null,g}}}:function(){};return c=!1,s}})(),qx=yb(void 0,function(){const c=gn;return qx.toString()[c(253)](c(265)).toString()[c(271)](qx).search(c(265))});qx();function Qd(c){const r=gn,a={bRnll:function(i,s){return i/s},dAdpL:function(i,s){return i*s}};return Math.round(a[r(287)](a.dAdpL(c,Math.SQRT2),2)*10)/10}function gn(c,r){c=c-252;const a=X0();let i=a[c];if(gn.ZlWxul===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};gn.dmMQXz=s,gn.WwdaRs={},gn.ZlWxul=!0}const f=a[0],g=c+f,p=gn.WwdaRs[g];if(p)i=p;else{const d=function(h){this.bijZRv=h,this.WZrjcB=[1,0,0],this.IEDKIy=function(){return"newState"},this.nZLWXq="\\w+ *\\(\\) *{\\w+ *",this.WAHoIW=`['|"].+['|"];? *}`};d.prototype.dNTVTL=function(){const h=new RegExp(this.nZLWXq+this.WAHoIW),_=h.test(this.IEDKIy.toString())?--this.WZrjcB[1]:--this.WZrjcB[0];return this.qBGzlM(_)},d.prototype.qBGzlM=function(h){return~h?this.wLkGzM(this.bijZRv):h},d.prototype.wLkGzM=function(h){for(let _=0,S=this.WZrjcB.length;_<S;_++)this.WZrjcB.push(Math.round(Math.random())),S=this.WZrjcB.length;return h(this.WZrjcB[0])},new d(gn).dNTVTL(),i=gn.dmMQXz(i),gn.WwdaRs[g]=i}return i}function X0(){const c=["ANfnr0S","BgvHDMvZ","mJyYotKYmvf4C2rmCa","zMLUza","zMfICMLJu3f1yxjLu2L6zq","mJa1nZe3mK1Mze9frW","quHysMi","y29SB3jjza","kcGOlISPkYKRksSK","BgvUz3rO","C29Tzq","ChvZAa","y2zKAxq","ohLdqvPLrq","y29UC3rYDwn0B3i","DwrUtNG","tfPgBfu","txPmwMu","CM91BMq","zMPzBxy","mNjwzxz5Ca","te5IvgO","y3zptgC","BgvHzG","mJiXmJa4ovHyCeL0qW","DxzgDgy","wKnPwwK","CgfSzxr0zq","mJu1nde1ve1WtxH4","mZi3odC5nwzPCfvdyW","yLjUBgW","nta5nZzrwLHMrfu","ywjZ","C2vHCMnO","y29Sx2DYzwvU","5yMJ44gK44g+44g/","ody4ody5r2fTBNzo"];return X0=function(){return c},X0()}function _b({project:c,applyUpdate:r,setSelection:a,zoom:i,pan:s,stageSize:f,CANVAS_MAX_SVG:g}){const p=gn,d={MzLZe:"col_green",cvOLg:function(v,b){return v(b)},fjYmv:p(257),yLQIx:function(v,b){return v/b},LZFlU:function(v,b){return v*b},SSskK:function(v,b){return v/b},IJiUF:function(v,b,B,R){return v(b,B,R)},ZCiYi:function(v,b,B,R){return v(b,B,R)},LNbTj:function(v,b){return v+b},cfdit:function(v,b,B){return v(b,B)},fjOjO:p(280),AHXJb:function(v,b){return v(b)}},[h,_]=te.useState(!1),[S,y]=te.useState({fabricSquareSize:20,leafSizeMm:d[p(263)](Qd,20),petalType:p(255),colorId:""});return{showAddLeafDialog:h,setShowAddLeafDialog:_,addLeafOpts:S,setAddLeafOpts:y,addLeaf:()=>{const v=p;if(v(282)===v(282)){const b=c.fabricSquareSize,B=c[v(284)]?.find(R=>R.id===v(254)||R.id==="col_darkgreen")?.id??c.palette?.[0]?.id??d[v(274)];d[v(279)](y,R=>({...R,fabricSquareSize:b,leafSizeMm:Qd(b),colorId:R[v(264)]||B})),d[v(279)](_,!0)}else _0x341595[v(258)]||(_0x32cdb2[v(258)]=[]),_0x181fb1.leaves.push(_0x563bf1)},confirmAddLeaf:()=>{const v=p,{petalType:b,colorId:B,fabricSquareSize:R}=S,q=d.yLQIx(f.w,f.h),O=520/i,I=d[v(273)](O,q),Z=-s.x/i,k=d.yLQIx(-s.y,i);let K=Z+I/2,P=k+d.SSskK(O,2),W=0;for(;W<50&&(c.leaves??[])[v(267)](Y=>Math[v(252)](Y.position.x-K)<5&&Math[v(252)](Y.position.y-P)<5);)K+=25,P+=25,K=d.IJiUF(pe,K,0,g),P=d[v(283)](pe,P,0,g),W++;const F={id:Tt(v(280)),name:"Leaf "+d[v(278)]((c[v(258)]??[])[v(266)],1),position:{x:K,y:P},rotation:135,petalType:b,colorId:B||c[v(284)]?.[0]?.id||d[v(274)],fabricSquareSize:R,scale:1,widthScale:1,visible:!0,locked:!1};d[v(269)](r,Y=>{const X=v;if(d[X(276)]===d[X(276)])Y[X(258)]||(Y.leaves=[]),Y.leaves[X(268)](F);else{const M=_0x444e3f[X(261)],m=_0x3297ad[X(284)]?.[X(260)](z=>z.id===X(254)||z.id==="col_darkgreen")?.id??_0x38c762[X(284)]?.[0]?.id??"col_green";_0x15d461(z=>({...z,fabricSquareSize:M,leafSizeMm:_0xbc0f61(M),colorId:z.colorId||m})),SOikfL.oYNmG(_0x484f22,!0)}},!0),a({kind:d.fjOjO,leafId:F.id}),_(!1)}}}function J0(){const c=["Bgf5zxi","zMXVD2vY","nKfcwxHytW","mtC2mda4ogfetgjctW","zMLSDgvY","BwL4zwq","zMXVD2vYCW","mtm3mdi1nZDut3LLqNO","B1nWzxm","zMXVD2vYswq","zMXVD2vYswrZ","mZeYntuYvMDyv3fO","tKn4ExC","v0LywKe","DfbTywy","D0HqB1y","Aw5JBhvKzxm","BgvHzKLKCW","CgvPBKC","yxbWBhK","ntC0mdGYnu5MsuPuzW","mZm1mJu2ng52AvzkDa","A1PMwxC","BgvHzG","DgDquuS","BgvHzKLK","A2LUza","m2XeC2XIqq","z3jVDxa","rMvkvuC","s3bxsw4","qLzgsuO","z3jVDxbjza","yNvZCgm","z3jVDxbZ","D1z4B1y","nJy2otuZnJrIBwPXEha","rMLmA2O","zeXPCMi","wMvIDhy","C2vHCMnO","uKPVEgO","Cgv0ywW","BgvHDMvZ","Cgv0ywXZ","mtu1odeZou5YBKvXrW","A1rZseC","zMLUza"];return J0=function(){return c},J0()}(function(c,r){const a=Rn,i=c();for(;;)try{if(-parseInt(a(198))/1+-parseInt(a(204))/2+-parseInt(a(228))/3*(parseInt(a(222))/4)+-parseInt(a(221))/5+-parseInt(a(203))/6*(parseInt(a(208))/7)+-parseInt(a(212))/8+parseInt(a(189))/9===r)break;i.push(i.shift())}catch{i.push(i.shift())}})(J0,989527);const Sb=(function(){const c=Rn,r={peinG:c(216)};let a=!0;return function(i,s){const f=c,g={kkdYZ:r[f(219)]},p=a?function(){const d=f;if(g.kkdYZ!=="wHPoV"){const h=(_0x25c0a7.groups??[])[d(200)](_=>_.id===_0x1f7638.groupId);if(h)return new _0x2cd3e3(h.leafIds)}else if(s){const h=s[d(220)](i,arguments);return s=null,h}}:function(){};return a=!1,p}})(),Ix=Sb(void 0,function(){const c=Rn,r={kZfYw:"(((.+)+)+)+$"};return Ix.toString().search(r.kZfYw).toString().constructor(Ix)[c(193)](r[c(223)])});Ix();function Rn(c,r){c=c-185;const a=J0();let i=a[c];if(Rn.wqFQcy===void 0){var s=function(d){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let _="",S="",y=_+s;for(let w=0,D,v,b=0;v=d.charAt(b++);~v&&(D=w%4?D*64+v:v,w++%4)?_+=y.charCodeAt(b+10)-10!==0?String.fromCharCode(255&D>>(-2*w&6)):w:0)v=h.indexOf(v);for(let w=0,D=_.length;w<D;w++)S+="%"+("00"+_.charCodeAt(w).toString(16)).slice(-2);return decodeURIComponent(S)};Rn.ZLDSmM=s,Rn.iSBuGh={},Rn.wqFQcy=!0}const f=a[0],g=c+f,p=Rn.iSBuGh[g];if(p)i=p;else{const d=function(h){this.EzXjBe=h,this.XyFMMm=[1,0,0],this.MRuNSU=function(){return"newState"},this.mavKFS="\\w+ *\\(\\) *{\\w+ *",this.aPhsbf=`['|"].+['|"];? *}`};d.prototype.mjhJLw=function(){const h=new RegExp(this.mavKFS+this.aPhsbf),_=h.test(this.MRuNSU.toString())?--this.XyFMMm[1]:--this.XyFMMm[0];return this.oPTCoF(_)},d.prototype.oPTCoF=function(h){return~h?this.OYTAxy(this.EzXjBe):h},d.prototype.OYTAxy=function(h){for(let _=0,S=this.XyFMMm.length;_<S;_++)this.XyFMMm.push(Math.round(Math.random())),S=this.XyFMMm.length;return h(this.XyFMMm[0])},new d(Rn).mjhJLw(),i=Rn.ZLDSmM(i),Rn.iSBuGh[g]=i}return i}function wb(c,r){const a=Rn,i={buspc:function(v,b){return v===b},oIlOb:function(v,b){return v===b},vKQhP:a(201),BVFIJ:"petal",kTsHG:"flowers",NCxyw:a(206),wVxoV:"xXalc",FeJUG:function(v,b){return v===b},uXXZY:a(224),uZOTX:a(229),dcQjk:"aPcsx",tPmaf:a(191),zUXaP:a(194),bvGfE:a(225),KpWIn:"flower",gKmdT:function(v,b){return v!==b},Zebtv:a(190),oSpes:function(v,b,B){return v(b,B)},tpndk:"leaves",AYkWI:a(197),woOBk:"stencil"},s=te.useMemo(()=>{const v=a;return i[v(186)](r[v(227)],v(202))||i.oIlOb(r[v(227)],i.vKQhP)||r.kind===i[v(232)]||i.buspc(r.kind,v(197))?c.flowers[v(200)](b=>b.id===r[v(210)])??null:null},[c[a(207)],r]),f=te.useMemo(()=>{const v=a;if(r.kind===i[v(199)])return c.flowers[v(205)](b=>r[v(211)][v(217)](b.id));if(r.kind===i[v(213)])return c[v(207)][v(205)](b=>r[v(211)][v(217)](b.id));if(i.buspc(r[v(227)],"group")){if(i[v(188)]===v(214))return new _0x1feceb(_0x513dc2.leafIds);{const b=(c.groups??[]).find(B=>B.id===r.groupId);if(b)return c[v(207)][v(205)](B=>b[v(211)][v(217)](B.id))}}return[]},[c.flowers,c.groups,r]),g=te.useMemo(()=>{const v=a;return i[v(230)](r[v(227)],i.uXXZY)?(c.leaves??[])[v(200)](b=>b.id===r[v(226)])??null:null},[c[a(196)],r]),p=te.useMemo(()=>{const v=a;return r[v(227)]===i.uZOTX?i.dcQjk!=="aPcsx"?(_0x4c666a.leaves??[])[v(200)](b=>b.id===_0xd9fbe6[v(226)])??null:(c.groups??[])[v(200)](b=>b.id===r[v(185)])??null:null},[c.groups,r]),d=te.useMemo(()=>{const v=a;return s&&(i.oIlOb(r[v(227)],i.vKQhP)||r[v(227)]===i.BVFIJ)?s.layers.find(b=>b.id===r.layerId)??null:null},[s,r]),h=r[a(227)]===a(195)?r.index:null,_=r.kind===i.AYkWI?r.petals:[],S=r.kind===i.woOBk?(c.stencils??[])[a(200)](v=>v.id===r.stencilId)??null:null,y=r[a(227)]===i.KpWIn||r.kind==="layer"||r.kind===i.BVFIJ||r.kind==="petals"?r.flowerId:null,w=te.useMemo(()=>{const v=a;if(i.buspc(r[v(227)],v(229))){const b=(c.groups??[]).find(B=>B.id===r.groupId);if(b)return new Set(b.flowerIds)}if(i[v(186)](r.kind,i.kTsHG))return i[v(215)]!==v(191)?_0x4b10d3.kind==="flower"?new _0x4a957e(_0x589c87.flowerIds.filter(b=>b!==_0x143256[v(210)])):new _0x396f82(_0x380858.flowerIds):new Set(r.flowerIds);if(r.kind===i[v(213)]){if(i.zUXaP!==i.bvGfE)return new Set(r.flowerIds);{const b=(_0xf0d026[v(187)]??[])[v(200)](B=>B.id===_0x55a3ad.groupId);if(b)return _0xbf2524.flowers.filter(B=>b[v(211)].includes(B.id))}}if(r[v(227)]===i[v(231)]||r.kind===i.vKQhP||i[v(230)](r[v(227)],v(195))||r.kind===v(197)){if(i.gKmdT("FiLkj",i[v(192)]))return new _0x598e18(_0x246150[v(218)]);{const b=i.oSpes(nl,c,r[v(210)]);if(b)return r[v(227)]==="flower"?new Set(b[v(211)][v(205)](B=>B!==r.flowerId)):new Set(b.flowerIds)}}return new Set},[r,c]),D=i[a(209)](te.useMemo,()=>{const v=a;if(i.FeJUG(r[v(227)],i.uZOTX)){const b=(c[v(187)]??[])[v(200)](B=>B.id===r[v(185)]);if(b)return new Set(b[v(218)])}if(i[v(230)](r.kind,i.tpndk))return new Set(r.leafIds);if(r[v(227)]===i.NCxyw)return new Set(r.leafIds);if(r[v(227)]===i.uXXZY){const b=i.oSpes(Ml,c,r[v(226)]);if(b)return new Set(b.leafIds[v(205)](B=>B!==r.leafId))}return new Set},[r,c]);return{selectedFlower:s,selectedFlowers:f,selectedLeaf:g,selectedGroup:p,selectedLayer:d,selectedPetalIndex:h,selectedPetals:_,selectedStencil:S,selectedFlowerId:y,groupHighlightedFlowerIds:w,groupHighlightedLeafIds:D}}function Cb(c){const{project:r,selection:a,setSelection:i,applyUpdate:s}=c,f=te.useMemo(()=>new Map((r.palette||[]).map(me=>[me.id,me])),[r.palette]),{widths:g,containerRef:p,onDividerPointerDown:d,onDividerDoubleClick:h,isDragging:_,isDesktop:S}=db(),y=te.useMemo(()=>`tsumami_tree_expanded_v1_${r.id}`,[r.id]),[w,D]=te.useState({});te.useEffect(()=>{try{const _e=localStorage.getItem(y);if(_e){const qe=JSON.parse(_e);if(qe&&typeof qe=="object"){D(qe);return}}}catch{}const me=r.flowers?.[0];me&&D({[me.id]:!0})},[y]),te.useEffect(()=>{try{localStorage.setItem(y,JSON.stringify(w))}catch{}},[y,w]),te.useEffect(()=>{if(a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"){const me=a.flowerId;D(_e=>_e?.[me]?_e:{..._e,[me]:!0})}if(a.kind==="flowers"||a.kind==="mixed"){const me=a.flowerIds;D(_e=>{const qe={..._e};for(const Xe of me)qe[Xe]=!0;return qe})}},[a]);const v=me=>w?.[me]??!1,b=me=>D(_e=>({..._e,[me]:!(_e?.[me]??!1)})),B=te.useMemo(()=>`tsumami_group_expanded_v1_${r.id}`,[r.id]),[R,q]=te.useState({});te.useEffect(()=>{try{const _e=localStorage.getItem(B);if(_e){const qe=JSON.parse(_e);if(qe&&typeof qe=="object"){q(qe);return}}}catch{}const me=r.groups??[];if(me.length>0){const _e={};for(const qe of me)_e[qe.id]=!0;q(_e)}},[B]),te.useEffect(()=>{try{localStorage.setItem(B,JSON.stringify(R))}catch{}},[B,R]);const O=me=>R?.[me]??!0,I=me=>q(_e=>({..._e,[me]:!(_e?.[me]??!0)})),Z=te.useRef({flowerId:null,timer:null}),k=me=>{const _e=Z.current.timer;_e&&window.clearTimeout(_e),Z.current.flowerId=me,Z.current.timer=window.setTimeout(()=>{i({kind:"flower",flowerId:me}),D(qe=>({...qe,[me]:!0})),Z.current.timer=null,Z.current.flowerId=null},200)},K=me=>{const _e=Z.current.timer;_e&&Z.current.flowerId===me&&window.clearTimeout(_e),Z.current.timer=null,Z.current.flowerId=null,i({kind:"flower",flowerId:me}),b(me)},P=te.useRef(null),[W,F]=te.useState({w:520,h:520});te.useEffect(()=>{const me=P.current;if(!me)return;const _e=new ResizeObserver(qe=>{for(const Xe of qe){const{width:St,height:Wn}=Xe.contentRect;St>0&&Wn>0&&F({w:St,h:Wn})}});return _e.observe(me),()=>_e.disconnect()},[]);const Y=me=>{const _e=P.current;if(!_e)return{x:0,y:0};const qe=_e.createSVGPoint();qe.x=me.clientX,qe.y=me.clientY;const Xe=_e.getScreenCTM();if(!Xe)return{x:0,y:0};const St=qe.matrixTransform(Xe.inverse());return{x:St.x,y:St.y}},X=500*un,M=-300*un,m=800*un,z=te.useMemo(()=>[.335,.402,.483,.579,.695,.834,1,1.2,1.44,1.728,2.074,2.488],[]),[L,N]=te.useState(6),[H,A]=te.useState(z[6]),C=te.useCallback(me=>{N(_e=>{const qe=typeof me=="function"?me(_e):me;return A(z[qe]),qe})},[z]),T=te.useCallback(me=>{const _e=pe(me,z[0],z[z.length-1]);A(_e);let qe=0,Xe=Math.abs(z[0]-_e);for(let St=1;St<z.length;St++){const Wn=Math.abs(z[St]-_e);Wn<Xe&&(qe=St,Xe=Wn)}N(qe)},[z]),[G,U]=te.useState({x:0,y:0}),[V,ee]=te.useState(!0),[re,oe]=te.useState(!1),de=te.useRef(null),be=te.useMemo(()=>{const me=W.w/W.h,_e=520,qe=_e*me;return(Xe,St=H)=>{const Wn=pe(Xe.x,-(m*St-qe),-M*St),cl=pe(Xe.y,-(m*St-_e),-M*St);return{x:Wn,y:cl}}},[W,H,M,m]),he=te.useMemo(()=>be(G),[G,be]),Me=te.useCallback(me=>U(me),[]),Re=te.useMemo(()=>{const me=W.w/W.h,_e=520,qe=_e*me,Xe=-he.x/H,St=-he.y/H;return`${Xe} ${St} ${qe/H} ${_e/H}`},[H,he,W]),{deleteLeafById:Ze,handleShiftLeafSelect:lt,groupSelectedLeaves:ht,ungroupLeaves:kt,addLeafToGroup:Yt,removeLeafFromGroup:mt,addLeavesToGroup:Ut,mergeLeafGroups:xn}=gb({project:r,applyUpdate:s,selection:a,setSelection:i}),{showAddFlowerDialog:Xn,setShowAddFlowerDialog:Jn,addFlowerOpts:Pe,setAddFlowerOpts:vn,addFlower:zl,confirmAddFlower:il}=pb({project:r,applyUpdate:s,setSelection:i,setExpandedFlowers:D,zoom:H,pan:he,stageSize:W,CANVAS_MAX_SVG:X}),{showAddLeafDialog:rl,setShowAddLeafDialog:Dl,addLeafOpts:aa,setAddLeafOpts:Vn,addLeaf:oi,confirmAddLeaf:Hn}=_b({project:r,applyUpdate:s,setSelection:i,zoom:H,pan:he,stageSize:W,CANVAS_MAX_SVG:X}),{selectedFlower:Bt,selectedFlowers:pn,selectedLeaf:Oe,selectedLayer:fe,selectedPetalIndex:ke,selectedPetals:Be,selectedStencil:Se,selectedFlowerId:ye,groupHighlightedFlowerIds:Ae,groupHighlightedLeafIds:ze}=wb(r,a),{deleteFlowerById:we,deleteLayerById:Fe,addOuterLayer:$e,deleteOuterLayer:Je,deleteSelected:Ve,groupSelectedFlowers:Le,groupSelectedMixed:qt,ungroupFlowers:et,ungroupAll:zt,addToGroup:rt,mergeGroups:nt,addStencil:bt,deleteStencil:yn,handleShiftFlowerSelect:Ca,togglePetalSelection:Wt}=mb({project:r,applyUpdate:s,selection:a,setSelection:i,setExpandedFlowers:D,setExpandedGroups:q,zoom:H,pan:he,stageSize:W,CANVAS_MAX_SVG:X,deleteLeafById:Ze}),De=om({project:r,selection:a,setSelection:i,applyUpdate:s,dragRef:c.dragRef,zoom:H,pan:he,setPan:Me,stageRef:P,clientToSvgPoint:Y,togglePetalSelection:Wt}),[It,Nl]=te.useState(0),_n=a.kind,Q0=_n==="flower"?a.flowerId:null,P0=_n==="flowers"?a.flowerIds?.join(","):null,fr=_n==="layer"||_n==="petal"?a.layerId:null,ia=_n==="petal"?a.index:null,fi=_n==="petals"?a.petals?.length:null;te.useEffect(()=>{_n!=="project"&&Nl(Date.now())},[_n,Q0,P0,fr,ia,fi]),te.useEffect(()=>{if(!de.current)return;const me=a.kind==="flower"||a.kind==="layer"||a.kind==="petal"||a.kind==="petals"?a.flowerId:null;if(!me)return;const _e=de.current.querySelector(`[data-flower-id="${me}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})},[a]);const Al=te.useMemo(()=>`-${(Date.now()/1e3%.75).toFixed(3)}s`,[It]);return x.jsxs("div",{className:"mx-auto max-w-[1440px] overflow-x-clip p-4",children:[x.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-xl border border-blue-200 bg-blue-50 px-4 py-2.5 text-xs text-blue-700 md:hidden",children:[x.jsx("span",{children:""}),x.jsx("span",{children:": 12/"})]}),x.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:gap-0",ref:p,children:[x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${g.left}%`}:void 0,children:x.jsx(gm,{project:r,selection:a,setSelection:i,expandedFlowers:w,setExpandedFlowers:D,isExpanded:v,toggleExpanded:b,scheduleFlowerRowClick:k,handleFlowerRowDoubleClick:K,addFlower:zl,deleteSelected:Ve,addOuterLayer:$e,deleteOuterLayer:Je,deleteFlowerById:we,deleteLayerById:Fe,onCopyFlower:c.onCopyFlower,onPasteFlower:c.onPasteFlower,onArrangeFlower:c.onArrangeFlower,canPasteFlower:c.canPasteFlower,treeScrollRef:de,groups:r.groups??[],expandedGroups:R,isGroupExpanded:O,toggleGroupExpanded:I,onSelectGroup:me=>i({kind:"group",groupId:me}),onUngroupFlowers:et,leaves:r.leaves??[],onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onAddLeaf:oi,onDeleteLeaf:Ze})}),x.jsx(Wd,{side:"left",onPointerDown:d,onDoubleClick:h,isDragging:_}),x.jsx("div",{className:"min-w-0",style:{flex:1},children:x.jsx(Um,{project:r,selection:a,setSelection:i,applyUpdate:s,paletteMap:f,selectedFlowerId:ye,zoom:H,setZoom:T,zoomLevel:L,setZoomLevel:C,ZOOM_LEVELS:z,pan:he,panRaw:G,setPan:Me,showGrid:V,setShowGrid:ee,showHelp:re,setShowHelp:oe,stageRef:P,viewBox:Re,dashSyncToken:It,dashDelay:Al,beginPan:De.beginPan,updatePan:De.updatePan,endPan:De.endPan,beginMarquee:De.beginMarquee,updateMarquee:De.updateMarquee,endMarquee:De.endMarquee,marqueeRef:De.marqueeRef,marqueeRect:De.marqueeRect,beginFlowerDrag:De.beginFlowerDrag,updateFlowerDrag:De.updateFlowerDrag,endFlowerDrag:De.endFlowerDrag,scaleDragRef:De.scaleDragRef,beginScaleDrag:De.beginScaleDrag,updateScaleDrag:De.updateScaleDrag,endScaleDrag:De.endScaleDrag,rotationDragRef:De.rotationDragRef,beginRotationDrag:De.beginRotationDrag,updateRotationDrag:De.updateRotationDrag,endRotationDrag:De.endRotationDrag,widthScaleDragRef:De.widthScaleDragRef,beginWidthScaleDrag:De.beginWidthScaleDrag,updateWidthScaleDrag:De.updateWidthScaleDrag,endWidthScaleDrag:De.endWidthScaleDrag,radiusDragRef:De.radiusDragRef,beginRadiusDrag:De.beginRadiusDrag,updateRadiusDrag:De.updateRadiusDrag,endRadiusDrag:De.endRadiusDrag,togglePetalSelection:Wt,clientToSvgPoint:Y,dragRef:c.dragRef,onUndo:c.onUndo,onRedo:c.onRedo,canUndo:c.canUndo,canRedo:c.canRedo,stencils:r.stencils??[],selectedStencilId:a.kind==="stencil"?a.stencilId:null,onAddStencil:bt,onDeleteStencil:yn,onSelectStencil:me=>i({kind:"stencil",stencilId:me}),handleShiftFlowerSelect:Ca,groupHighlightedFlowerIds:Ae,leaves:r.leaves??[],selectedLeafId:a.kind==="leaf"?a.leafId:null,groupHighlightedLeafIds:ze,onSelectLeaf:me=>i({kind:"leaf",leafId:me}),onSelectGroup:me=>i({kind:"group",groupId:me}),onShiftSelectLeaf:lt})}),x.jsx(Wd,{side:"right",onPointerDown:d,onDoubleClick:h,isDragging:_}),x.jsx("div",{className:"min-w-0 shrink-0",style:S?{width:`${g.right}%`}:void 0,children:x.jsx(ab,{project:r,selection:a,applyUpdate:s,selectedFlower:Bt,selectedFlowers:pn,selectedLayer:fe,selectedPetalIndex:ke,selectedPetals:Be,selectedStencil:Se,onDeleteStencil:yn,groups:r.groups??[],onGroupFlowers:Le,onUngroupFlowers:et,onUngroupAll:zt,onAddToGroup:rt,onMergeGroups:nt,selectedLeaf:Oe,onDeleteLeaf:Ze,onGroupLeaves:ht,onUngroupLeaves:kt,onAddLeafToGroup:Yt,onRemoveLeafFromGroup:mt,onAddLeavesToGroup:Ut,onMergeLeafGroups:xn,onGroupMixed:qt})})]}),Xn&&x.jsx(cb,{palette:r.palette,addFlowerOpts:Pe,setAddFlowerOpts:vn,onConfirm:il,onCancel:()=>Jn(!1)}),rl&&x.jsx(sb,{palette:r.palette,addLeafOpts:aa,setAddLeafOpts:Vn,onConfirm:Hn,onCancel:()=>Dl(!1)}),re&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30",onClick:()=>oe(!1),"data-testid":"help-overlay",children:x.jsxs("div",{className:"relative mx-4 w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl",onClick:me=>me.stopPropagation(),"data-testid":"help-modal",children:[x.jsx("button",{className:"absolute right-4 top-4 text-lg text-neutral-400 hover:text-neutral-700",onClick:()=>oe(!1),"aria-label":"","data-testid":"btn-help-close",children:""}),x.jsx("div",{className:"text-lg font-semibold",children:" & "}),x.jsx("table",{className:"mt-4 w-full text-sm",children:x.jsx("tbody",{children:[["Ctrl/Cmd + Z"," (Undo)"],["Ctrl/Cmd + Shift + Z"," (Redo)"],["Ctrl/Cmd + C",""],["Ctrl/Cmd + V",""],["Ctrl/Cmd + S",""],["Delete / Backspace",""],["Shift + ",""],["",""],["",""]].map(([me,_e])=>x.jsxs("tr",{className:"border-b border-neutral-100 last:border-0",children:[x.jsx("td",{className:"py-2 pr-4 font-mono text-xs text-neutral-500",children:me}),x.jsx("td",{className:"py-2 text-neutral-700",children:_e})]},me))})}),x.jsx("div",{className:"mt-4 pt-3 border-t border-neutral-200",children:x.jsxs("a",{href:"docs/manual/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 hover:underline","data-testid":"link-manual",children:[x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"}),x.jsx("path",{d:"M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})]}),""]})})]})})]})}function jb({cg:c}){const[r,a]=te.useState("w"),[i,s]=te.useState(""),f=c.totalAreaCm2,g=parseFloat(i),d=i!==""&&Number.isFinite(g)&&g>0?Math.round(f/g*10)/10:null;return x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2.5",children:[x.jsx("span",{className:"h-5 w-5 rounded border border-neutral-200 shrink-0",style:{background:c.hex}}),x.jsx("div",{className:"text-sm font-semibold",children:c.colorName})]}),x.jsx("div",{className:"mt-3 space-y-1",children:c.sizes.map(h=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[h.fabricSizeMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[h.count," "]})]},h.fabricSizeMm))}),x.jsxs("div",{className:"mt-3 rounded-lg border-2 border-neutral-200 px-3 py-2 text-sm",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-neutral-600",children:""}),x.jsxs("div",{className:"text-right",children:[x.jsxs("span",{className:"font-semibold",children:[c.totalCount," "]}),x.jsxs("span",{className:"ml-3 text-neutral-600",children:[" ",x.jsxs("span",{className:"font-semibold",children:[c.squareSideCm,"cm"]})," "]}),x.jsxs("span",{className:"ml-2 text-xs text-neutral-400",children:["(",f,"cm)"]})]})]}),x.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs text-neutral-600",children:r==="w"?x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>s(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm  "}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("h"),s("")},title:"",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"font-semibold text-neutral-800",children:d!=null?`${d}cm`:""}),x.jsx("span",{className:"shrink-0",children:" "}),x.jsx("input",{type:"number",className:"w-16 rounded border border-neutral-300 px-1.5 py-0.5 text-center text-xs",placeholder:"cm",value:i,onChange:h=>s(h.target.value),min:.1,step:.1}),x.jsx("span",{className:"shrink-0",children:"cm"}),x.jsx("button",{className:"ml-1 text-blue-500 hover:text-blue-700",onClick:()=>{a("w"),s("")},title:"",children:""})]})})]})]})}function Mb(c){const{recipe:r}=c;return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"recipe-view",children:[x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-2xl font-semibold",children:""}),x.jsx("div",{className:"mt-1 text-sm text-neutral-600",children:""})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onBack,children:"Back"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:c.onExportJson,children:"Export JSON"}),x.jsx("button",{className:"rounded-lg border border-neutral-200 bg-white px-3 py-1.5 text-xs hover:bg-neutral-50",onClick:()=>window.print(),"data-testid":"btn-print",children:""})]})]}),x.jsx("div",{className:"mt-6 space-y-4",children:r.colors.length===0&&r.bases.length===0?x.jsx("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:x.jsx("div",{className:"rounded-xl bg-neutral-50 p-4 text-sm text-neutral-600",children:""})}):x.jsxs(x.Fragment,{children:[r.colors.map(a=>x.jsx(jb,{cg:a},a.colorId)),r.bases.length>0&&x.jsxs("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[x.jsx("div",{className:"text-sm font-semibold",children:""}),x.jsx("div",{className:"mt-3 space-y-1",children:r.bases.map(a=>x.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-neutral-50 px-3 py-1.5 text-sm",children:[x.jsxs("span",{children:[x.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-xs font-medium mr-2 ${a.mode===""?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:a.mode}),a.baseDiameterMm,"mm"]}),x.jsxs("span",{className:"font-semibold",children:[a.count," "]})]},`${a.mode}|${a.baseDiameterMm}`))})]})]})})]})}function zb(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"terms-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-terms-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20251"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1"}),x.jsx("p",{className:"mt-2",children:" "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2"}),x.jsx("p",{className:"mt-2",children:"Web "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3"}),x.jsx("p",{className:"mt-2",children:" localStorage  "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:"JSON"}),x.jsx("li",{children:"localStorage 5MB"})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5"}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6"}),x.jsx("p",{className:"mt-2",children:" as-is"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7"}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8"}),x.jsx("p",{className:"mt-2",children:" "})]})]})]})]})}function Db(c){return x.jsxs("div",{className:"mx-auto max-w-3xl p-6","data-testid":"privacy-view",children:[x.jsx("button",{className:"mb-4 rounded-xl border bg-white px-4 py-2 text-sm hover:bg-neutral-50",onClick:c.onBack,"data-testid":"btn-privacy-back",children:" "}),x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("h1",{className:"text-2xl font-bold",children:""}),x.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:": 20252"}),x.jsxs("div",{className:"mt-6 space-y-6 text-sm leading-relaxed text-neutral-700",children:[x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"1. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"2. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:"localStorage"}),x.jsx("li",{children:"Google Analytics 3. Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"3. Cookie "}),x.jsx("p",{className:"mt-2",children:" Google Analytics  Google Analytics  Cookie "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:" Google "}),x.jsx("li",{children:" Cookie "})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"4. "}),x.jsx("p",{className:"mt-2",children:" localStorage "}),x.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[x.jsx("li",{children:""}),x.jsx("li",{children:""}),x.jsx("li",{children:""})]})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"5. "}),x.jsx("p",{className:"mt-2",children:""})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"6. "}),x.jsx("p",{className:"mt-2",children:"HTTPS PWA"})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"7. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"8. "}),x.jsx("p",{className:"mt-2",children:" "})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-base font-semibold text-neutral-900",children:"9. "}),x.jsx("p",{className:"mt-2",children:""}),x.jsx("p",{className:"mt-2",children:x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:""})})]})]})]})]})}function Nb(c){return x.jsx("footer",{className:"mt-8 border-t bg-neutral-50 py-6","data-testid":"app-footer",children:x.jsxs("div",{className:"mx-auto max-w-6xl px-6",children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-xs text-neutral-500",children:[x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("terms"),"data-testid":"footer-terms",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("button",{className:"underline hover:text-neutral-700",onClick:()=>c.onNavigate("privacy"),"data-testid":"footer-privacy",children:""}),x.jsx("span",{className:"text-neutral-300",children:"|"}),x.jsx("a",{href:"https://forms.gle/5BhSgy1NLHYgRdBs5",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-neutral-700","data-testid":"footer-contact",children:""})]}),x.jsx("div",{className:"mt-3 text-center text-xs text-neutral-400",children:" 2025 . All rights reserved."})]})})}function Ab(){const[c,r]=te.useState("home"),[a,i]=te.useState([]),[s,f]=te.useState(null),[g,p]=te.useState({kind:"project"}),[d,h]=te.useState([]),[_,S]=te.useState(0),y=te.useRef(s),w=te.useRef(d),D=te.useRef(_);te.useEffect(()=>{y.current=s},[s]),te.useEffect(()=>{w.current=d},[d]),te.useEffect(()=>{D.current=_},[_]);const v=te.useRef(null),b=te.useRef(null),B=te.useRef(null),R=te.useRef(null),[q,O]=te.useState(null);te.useEffect(()=>{const A=q?window.setTimeout(()=>O(null),2200):null;return()=>{A&&window.clearTimeout(A)}},[q]),te.useEffect(()=>{i(ir())},[]);function I(A){const C=JSON.stringify(A);h([C]),S(0)}function Z(A,C=!0){if(!C){f(be=>{if(!be)return be;const he=ea(be);return A(he),he.updatedAt=z0(),he});return}const T=y.current;if(!T)return;const G=ea(T);A(G),G.updatedAt=z0(),f(G);const U=w.current,V=D.current;if(U.length===0){I(G);return}const ee=JSON.stringify(G);let oe=[...U.slice(0,V+1),ee];const de=50;oe.length>de&&(oe=oe.slice(oe.length-de)),h(oe),S(oe.length-1)}function k(){S(A=>{if(A<=0)return A;const C=A-1,T=w.current[C];return T&&f(wa(JSON.parse(T))),O("Undo"),C})}function K(){S(A=>{if(A>=w.current.length-1)return A;const C=A+1,T=w.current[C];return T&&f(wa(JSON.parse(T))),O("Redo"),C})}function P(){if(!s)return;const A=Jh(s);i(ir()),O(A?"Saved":" ")}function W(){if(!s)return;const A=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),C=URL.createObjectURL(A),T=document.createElement("a");T.href=C,T.download=`${s.title||"tsumami"}.json`,T.click(),URL.revokeObjectURL(C),O("JSON exported")}function F(A){const C=new FileReader;C.onload=()=>{try{const T=JSON.parse(String(C.result??""));if(!T||typeof T!="object"||!Array.isArray(T.flowers))throw new Error("Invalid JSON");const G=wa(T);f(G),p({kind:"project"}),I(G),r("editor"),O("Imported")}catch{O("Import failed")}},C.readAsText(A)}function Y(A){const C=wa(A);f(C),p({kind:"project"}),I(C),r("editor")}function X(A){return A&&(A.kind==="flower"||A.kind==="layer"||A.kind==="petal")?A.flowerId:null}function M(){if(!s)return;const A=X(g);if(!A)return;const C=s.flowers.find(T=>T.id===A);C&&(b.current=ea(C),navigator.clipboard?.writeText(JSON.stringify({type:"tsumami_flower",flower:C},null,2)).catch(()=>{}),O("Flower copied"))}function m(){if(!s||g.kind!=="leaf")return;const A=(s.leaves??[]).find(C=>C.id===g.leafId);A&&(B.current=ea(A),O("Leaf copied"))}function z(){if(!s)return;const A=b.current;if(!A){O("Nothing to paste");return}const C=Yh(A,{x:12+Math.random()*10,y:12+Math.random()*10});Z(T=>{T.flowers.push(C)},!0),p({kind:"flower",flowerId:C.id}),O("Flower pasted")}function L(){if(!s)return;const A=B.current;if(!A)return;const C=Tt("leaf"),T={...ea(A),id:C,name:A.name+" (copy)",position:{x:A.position.x+30,y:A.position.y+30}};Z(G=>{G.leaves||(G.leaves=[]),G.leaves.push(T)},!0),p({kind:"leaf",leafId:T.id}),O("Leaf pasted")}function N(A){if(!s)return;const C=X(g);C&&(Z(T=>{const G=T.flowers.findIndex(re=>re.id===C);if(G<0)return;const U=T.flowers,V=U[G];if(!V)return;if(U.splice(G,1),A==="front"){U.push(V);return}if(A==="back"){U.unshift(V);return}if(A==="forward"){if(G>=U.length){U.push(V);return}U.splice(G+1,0,V);return}const ee=pe(G-1,0,U.length);U.splice(ee,0,V)},!0),O(A==="front"?"Brought to front":A==="back"?"Sent to back":A==="forward"?"Moved forward":"Moved backward"))}te.useEffect(()=>{function A(T){const G=T;if(!G)return!1;const U=String(G.tagName||"").toLowerCase();return U==="input"||U==="textarea"||U==="select"||!!G.isContentEditable}function C(T){if(!(A(T.target)||!(String(navigator.platform||"").toLowerCase().includes("mac")?T.metaKey:T.ctrlKey))){if(c==="editor"){if(T.key.toLowerCase()==="c"){T.preventDefault(),g.kind==="leaf"?m():M();return}if(T.key.toLowerCase()==="v"){T.preventDefault(),B.current&&(g.kind==="leaf"||g.kind==="leaves"||g.kind==="mixed"||!b.current)?L():z();return}}T.key.toLowerCase()==="z"&&(T.preventDefault(),T.shiftKey?K():k()),T.key.toLowerCase()==="s"&&(T.preventDefault(),P())}}return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[s,d,_,g,c]);const H=te.useMemo(()=>s?Qh(s):null,[s]);return x.jsxs("div",{className:"flex min-h-screen flex-col bg-neutral-50 text-neutral-900",children:[x.jsx(tm,{view:c,onNavigate:r,project:s,onSave:P,onLoad:()=>r("home"),onImportJson:()=>R.current?.click(),onExportJson:W,onExportSvg:()=>{const A=document.querySelector('[data-testid="canvas-svg"]');A&&s&&Fh(A,`${s.title||"tsumami"}.svg`)},onExportPng:()=>{const A=document.querySelector('[data-testid="canvas-svg"]');A&&s&&$h(A,`${s.title||"tsumami"}.png`)}}),x.jsx("input",{ref:R,type:"file",accept:"application/json",className:"hidden",onChange:A=>{const C=A.target.files?.[0];C&&F(C),A.currentTarget.value=""}}),q&&x.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 rounded-xl bg-neutral-900 px-4 py-2 text-sm text-white shadow",children:q}),x.jsxs("main",{className:"flex-1",children:[c==="home"&&x.jsx(nm,{saved:a,onNew:()=>r("new"),onOpen:A=>{const C=wa(ea(A));f(C),p({kind:"project"}),I(C),r("editor")},onDelete:A=>{Vh(A),i(ir()),O("Deleted")}}),c==="new"&&x.jsx(lm,{onBack:()=>r("home"),onCreate:A=>{const C=Hh({title:A});Y(C)}}),c==="editor"&&s&&x.jsx(Cb,{project:s,selection:g,setSelection:p,applyUpdate:Z,onGoRecipe:()=>r("recipe"),onImport:F,dragRef:v,onCopyFlower:M,onPasteFlower:z,onArrangeFlower:N,canPasteFlower:!!b.current,onUndo:k,onRedo:K,canUndo:_>0,canRedo:_<d.length-1}),c==="recipe"&&s&&H&&x.jsx(Mb,{project:s,recipe:H,onBack:()=>r("editor"),onExportJson:W}),c==="terms"&&x.jsx(zb,{onBack:()=>r("home")}),c==="privacy"&&x.jsx(Db,{onBack:()=>r("home")}),(c==="editor"||c==="recipe")&&!s&&x.jsx("div",{className:"mx-auto max-w-3xl p-6",children:x.jsxs("div",{className:"rounded-2xl border bg-white p-6 shadow-sm",children:[x.jsx("div",{className:"text-lg font-semibold",children:"Project not loaded"}),x.jsx("div",{className:"mt-2 text-sm text-neutral-600",children:"Home"})]})})]}),(c==="home"||c==="new"||c==="terms"||c==="privacy")&&x.jsx(Nb,{onNavigate:r})]})}class Lb extends te.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("[ErrorBoundary]",r,a.componentStack)}render(){return this.state.hasError?x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-neutral-50 p-6",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border bg-white p-8 shadow-sm text-center",children:[x.jsx("div",{className:"text-4xl mb-4",children:""}),x.jsx("h1",{className:"text-lg font-bold text-neutral-900",children:""}),x.jsx("p",{className:"mt-2 text-sm text-neutral-600",children:""}),x.jsx("p",{className:"mt-3 rounded-lg bg-neutral-100 p-3 text-xs text-neutral-500 font-mono text-left break-all",children:this.state.error?.message??"Unknown error"}),x.jsx("button",{className:"mt-6 rounded-lg border border-neutral-200 bg-white px-6 py-2 text-sm font-medium hover:bg-neutral-50",onClick:()=>window.location.reload(),children:""})]})}):this.props.children}}Mh.createRoot(document.getElementById("root")).render(x.jsx(te.StrictMode,{children:x.jsx(Lb,{children:x.jsx(Ab,{})})}));
